var hse=Object.defineProperty;var pse=(n,e,t)=>e in n?hse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var mse=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var un=(n,e,t)=>(pse(n,typeof e!="symbol"?e+"":e,t),t);var _dt=mse((Bo,Fo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function KD(n,e){const t=Object.create(null),r=n.split(",");for(let i=0;i<r.length;i++)t[r[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}const ki={},Cv=[],Sr=()=>{},vse=()=>!1,gse=/^on[^a-z]/,qM=n=>gse.test(n),YD=n=>n.startsWith("onUpdate:"),oa=Object.assign,XD=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},yse=Object.prototype.hasOwnProperty,sr=(n,e)=>yse.call(n,e),Tt=Array.isArray,Mv=n=>z_(n)==="[object Map]",KM=n=>z_(n)==="[object Set]",Hf=n=>z_(n)==="[object Date]",Zt=n=>typeof n=="function",qt=n=>typeof n=="string",xb=n=>typeof n=="symbol",Pn=n=>n!==null&&typeof n=="object",Sb=n=>Pn(n)&&Zt(n.then)&&Zt(n.catch),ZW=Object.prototype.toString,z_=n=>ZW.call(n),bse=n=>z_(n).slice(8,-1),Cb=n=>z_(n)==="[object Object]",jD=n=>qt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,l2=KD(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),YM=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},_se=/-(\w)/g,Wo=YM(n=>n.replace(_se,(e,t)=>t?t.toUpperCase():"")),wse=/\B([A-Z])/g,dh=YM(n=>n.replace(wse,"-$1").toLowerCase()),U_=YM(n=>n.charAt(0).toUpperCase()+n.slice(1)),k1=YM(n=>n?`on${U_(n)}`:""),Mb=(n,e)=>!Object.is(n,e),c2=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},lC=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},qI=n=>{const e=parseFloat(n);return isNaN(e)?n:e},xse=n=>{const e=qt(n)?Number(n):NaN;return isNaN(e)?n:e};let GO;const KI=()=>GO||(GO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bt(n){if(Tt(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],i=qt(r)?Tse(r):Bt(r);if(i)for(const a in i)e[a]=i[a]}return e}else{if(qt(n))return n;if(Pn(n))return n}}const Sse=/;(?![^(]*\))/g,Cse=/:([^]+)/,Mse=/\/\*[^]*?\*\//g;function Tse(n){const e={};return n.replace(Mse,"").split(Sse).forEach(t=>{if(t){const r=t.split(Cse);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function j(n){let e="";if(qt(n))e=n;else if(Tt(n))for(let t=0;t<n.length;t++){const r=j(n[t]);r&&(e+=r+" ")}else if(Pn(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function ic(n){if(!n)return null;let{class:e,style:t}=n;return e&&!qt(e)&&(n.class=j(e)),t&&(n.style=Bt(t)),n}const Ase="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ese=KD(Ase);function QW(n){return!!n||n===""}function Ise(n,e){if(n.length!==e.length)return!1;let t=!0;for(let r=0;t&&r<n.length;r++)t=Kv(n[r],e[r]);return t}function Kv(n,e){if(n===e)return!0;let t=Hf(n),r=Hf(e);if(t||r)return t&&r?n.getTime()===e.getTime():!1;if(t=xb(n),r=xb(e),t||r)return n===e;if(t=Tt(n),r=Tt(e),t||r)return t&&r?Ise(n,e):!1;if(t=Pn(n),r=Pn(e),t||r){if(!t||!r)return!1;const i=Object.keys(n).length,a=Object.keys(e).length;if(i!==a)return!1;for(const s in n){const o=n.hasOwnProperty(s),l=e.hasOwnProperty(s);if(o&&!l||!o&&l||!Kv(n[s],e[s]))return!1}}return String(n)===String(e)}function JW(n,e){return n.findIndex(t=>Kv(t,e))}const Ct=n=>qt(n)?n:n==null?"":Tt(n)||Pn(n)&&(n.toString===ZW||!Zt(n.toString))?JSON.stringify(n,eq,2):String(n),eq=(n,e)=>e&&e.__v_isRef?eq(n,e.value):Mv(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,i])=>(t[`${r} =>`]=i,t),{})}:KM(e)?{[`Set(${e.size})`]:[...e.values()]}:Pn(e)&&!Tt(e)&&!Cb(e)?String(e):e;let Do;class tq{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Do,!e&&Do&&(this.index=(Do.scopes||(Do.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Do;try{return Do=this,e()}finally{Do=t}}}on(){Do=this}off(){Do=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Rse(n){return new tq(n)}function Pse(n,e=Do){e&&e.active&&e.effects.push(n)}function nq(){return Do}function rq(n){Do&&Do.cleanups.push(n)}const ZD=n=>{const e=new Set(n);return e.w=0,e.n=0,e},iq=n=>(n.w&Vf)>0,aq=n=>(n.n&Vf)>0,Dse=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=Vf},kse=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const i=e[r];iq(i)&&!aq(i)?i.delete(n):e[t++]=i,i.w&=~Vf,i.n&=~Vf}e.length=t}},cC=new WeakMap;let v1=0,Vf=1;const YI=30;let nc;const zp=Symbol(""),XI=Symbol("");class QD{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Pse(this,r)}run(){if(!this.active)return this.fn();let e=nc,t=Tf;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=nc,nc=this,Tf=!0,Vf=1<<++v1,v1<=YI?Dse(this):WO(this),this.fn()}finally{v1<=YI&&kse(this),Vf=1<<--v1,nc=this.parent,Tf=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){nc===this?this.deferStop=!0:this.active&&(WO(this),this.onStop&&this.onStop(),this.active=!1)}}function WO(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let Tf=!0;const sq=[];function Og(){sq.push(Tf),Tf=!1}function Bg(){const n=sq.pop();Tf=n===void 0?!0:n}function vo(n,e,t){if(Tf&&nc){let r=cC.get(n);r||cC.set(n,r=new Map);let i=r.get(t);i||r.set(t,i=ZD()),oq(i)}}function oq(n,e){let t=!1;v1<=YI?aq(n)||(n.n|=Vf,t=!iq(n)):t=!n.has(nc),t&&(n.add(nc),nc.deps.push(n))}function id(n,e,t,r,i,a){const s=cC.get(n);if(!s)return;let o=[];if(e==="clear")o=[...s.values()];else if(t==="length"&&Tt(n)){const l=Number(r);s.forEach((c,u)=>{(u==="length"||u>=l)&&o.push(c)})}else switch(t!==void 0&&o.push(s.get(t)),e){case"add":Tt(n)?jD(t)&&o.push(s.get("length")):(o.push(s.get(zp)),Mv(n)&&o.push(s.get(XI)));break;case"delete":Tt(n)||(o.push(s.get(zp)),Mv(n)&&o.push(s.get(XI)));break;case"set":Mv(n)&&o.push(s.get(zp));break}if(o.length===1)o[0]&&jI(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);jI(ZD(l))}}function jI(n,e){const t=Tt(n)?n:[...n];for(const r of t)r.computed&&qO(r);for(const r of t)r.computed||qO(r)}function qO(n,e){(n!==nc||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function Lse(n,e){var t;return(t=cC.get(n))==null?void 0:t.get(e)}const Nse=KD("__proto__,__v_isRef,__isVue"),lq=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(xb)),Ose=JD(),Bse=JD(!1,!0),Fse=JD(!0),KO=zse();function zse(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=Lr(this);for(let a=0,s=this.length;a<s;a++)vo(r,"get",a+"");const i=r[e](...t);return i===-1||i===!1?r[e](...t.map(Lr)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){Og();const r=Lr(this)[e].apply(this,t);return Bg(),r}}),n}function Use(n){const e=Lr(this);return vo(e,"has",n),e.hasOwnProperty(n)}function JD(n=!1,e=!1){return function(r,i,a){if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&a===(n?e?noe:hq:e?fq:dq).get(r))return r;const s=Tt(r);if(!n){if(s&&sr(KO,i))return Reflect.get(KO,i,a);if(i==="hasOwnProperty")return Use}const o=Reflect.get(r,i,a);return(xb(i)?lq.has(i):Nse(i))||(n||vo(r,"get",i),e)?o:Kr(o)?s&&jD(i)?o:o.value:Pn(o)?n?Fg(o):mr(o):o}}const Hse=cq(),Vse=cq(!0);function cq(n=!1){return function(t,r,i,a){let s=t[r];if(Yv(s)&&Kr(s)&&!Kr(i))return!1;if(!n&&(!uC(i)&&!Yv(i)&&(s=Lr(s),i=Lr(i)),!Tt(t)&&Kr(s)&&!Kr(i)))return s.value=i,!0;const o=Tt(t)&&jD(r)?Number(r)<t.length:sr(t,r),l=Reflect.set(t,r,i,a);return t===Lr(a)&&(o?Mb(i,s)&&id(t,"set",r,i):id(t,"add",r,i)),l}}function $se(n,e){const t=sr(n,e);n[e];const r=Reflect.deleteProperty(n,e);return r&&t&&id(n,"delete",e,void 0),r}function Gse(n,e){const t=Reflect.has(n,e);return(!xb(e)||!lq.has(e))&&vo(n,"has",e),t}function Wse(n){return vo(n,"iterate",Tt(n)?"length":zp),Reflect.ownKeys(n)}const uq={get:Ose,set:Hse,deleteProperty:$se,has:Gse,ownKeys:Wse},qse={get:Fse,set(n,e){return!0},deleteProperty(n,e){return!0}},Kse=oa({},uq,{get:Bse,set:Vse}),ek=n=>n,XM=n=>Reflect.getPrototypeOf(n);function Rw(n,e,t=!1,r=!1){n=n.__v_raw;const i=Lr(n),a=Lr(e);t||(e!==a&&vo(i,"get",e),vo(i,"get",a));const{has:s}=XM(i),o=r?ek:t?rk:Tb;if(s.call(i,e))return o(n.get(e));if(s.call(i,a))return o(n.get(a));n!==i&&n.get(e)}function Pw(n,e=!1){const t=this.__v_raw,r=Lr(t),i=Lr(n);return e||(n!==i&&vo(r,"has",n),vo(r,"has",i)),n===i?t.has(n):t.has(n)||t.has(i)}function Dw(n,e=!1){return n=n.__v_raw,!e&&vo(Lr(n),"iterate",zp),Reflect.get(n,"size",n)}function YO(n){n=Lr(n);const e=Lr(this);return XM(e).has.call(e,n)||(e.add(n),id(e,"add",n,n)),this}function XO(n,e){e=Lr(e);const t=Lr(this),{has:r,get:i}=XM(t);let a=r.call(t,n);a||(n=Lr(n),a=r.call(t,n));const s=i.call(t,n);return t.set(n,e),a?Mb(e,s)&&id(t,"set",n,e):id(t,"add",n,e),this}function jO(n){const e=Lr(this),{has:t,get:r}=XM(e);let i=t.call(e,n);i||(n=Lr(n),i=t.call(e,n)),r&&r.call(e,n);const a=e.delete(n);return i&&id(e,"delete",n,void 0),a}function ZO(){const n=Lr(this),e=n.size!==0,t=n.clear();return e&&id(n,"clear",void 0,void 0),t}function kw(n,e){return function(r,i){const a=this,s=a.__v_raw,o=Lr(s),l=e?ek:n?rk:Tb;return!n&&vo(o,"iterate",zp),s.forEach((c,u)=>r.call(i,l(c),l(u),a))}}function Lw(n,e,t){return function(...r){const i=this.__v_raw,a=Lr(i),s=Mv(a),o=n==="entries"||n===Symbol.iterator&&s,l=n==="keys"&&s,c=i[n](...r),u=t?ek:e?rk:Tb;return!e&&vo(a,"iterate",l?XI:zp),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:o?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function kd(n){return function(...e){return n==="delete"?!1:this}}function Yse(){const n={get(a){return Rw(this,a)},get size(){return Dw(this)},has:Pw,add:YO,set:XO,delete:jO,clear:ZO,forEach:kw(!1,!1)},e={get(a){return Rw(this,a,!1,!0)},get size(){return Dw(this)},has:Pw,add:YO,set:XO,delete:jO,clear:ZO,forEach:kw(!1,!0)},t={get(a){return Rw(this,a,!0)},get size(){return Dw(this,!0)},has(a){return Pw.call(this,a,!0)},add:kd("add"),set:kd("set"),delete:kd("delete"),clear:kd("clear"),forEach:kw(!0,!1)},r={get(a){return Rw(this,a,!0,!0)},get size(){return Dw(this,!0)},has(a){return Pw.call(this,a,!0)},add:kd("add"),set:kd("set"),delete:kd("delete"),clear:kd("clear"),forEach:kw(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=Lw(a,!1,!1),t[a]=Lw(a,!0,!1),e[a]=Lw(a,!1,!0),r[a]=Lw(a,!0,!0)}),[n,t,e,r]}const[Xse,jse,Zse,Qse]=Yse();function tk(n,e){const t=e?n?Qse:Zse:n?jse:Xse;return(r,i,a)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(sr(t,i)&&i in r?t:r,i,a)}const Jse={get:tk(!1,!1)},eoe={get:tk(!1,!0)},toe={get:tk(!0,!1)},dq=new WeakMap,fq=new WeakMap,hq=new WeakMap,noe=new WeakMap;function roe(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ioe(n){return n.__v_skip||!Object.isExtensible(n)?0:roe(bse(n))}function mr(n){return Yv(n)?n:nk(n,!1,uq,Jse,dq)}function pq(n){return nk(n,!1,Kse,eoe,fq)}function Fg(n){return nk(n,!0,qse,toe,hq)}function nk(n,e,t,r,i){if(!Pn(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const a=i.get(n);if(a)return a;const s=ioe(n);if(s===0)return n;const o=new Proxy(n,s===2?r:t);return i.set(n,o),o}function Tv(n){return Yv(n)?Tv(n.__v_raw):!!(n&&n.__v_isReactive)}function Yv(n){return!!(n&&n.__v_isReadonly)}function uC(n){return!!(n&&n.__v_isShallow)}function mq(n){return Tv(n)||Yv(n)}function Lr(n){const e=n&&n.__v_raw;return e?Lr(e):n}function Ju(n){return lC(n,"__v_skip",!0),n}const Tb=n=>Pn(n)?mr(n):n,rk=n=>Pn(n)?Fg(n):n;function ik(n){Tf&&nc&&(n=Lr(n),oq(n.dep||(n.dep=ZD())))}function ak(n,e){n=Lr(n);const t=n.dep;t&&jI(t)}function Kr(n){return!!(n&&n.__v_isRef===!0)}function ee(n){return vq(n,!1)}function Ir(n){return vq(n,!0)}function vq(n,e){return Kr(n)?n:new aoe(n,e)}class aoe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Lr(e),this._value=t?e:Tb(e)}get value(){return ik(this),this._value}set value(e){const t=this.__v_isShallow||uC(e)||Yv(e);e=t?e:Lr(e),Mb(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Tb(e),ak(this))}}function w(n){return Kr(n)?n.value:n}const soe={get:(n,e,t)=>w(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const i=n[e];return Kr(i)&&!Kr(t)?(i.value=t,!0):Reflect.set(n,e,t,r)}};function gq(n){return Tv(n)?n:new Proxy(n,soe)}class ooe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:r}=e(()=>ik(this),()=>ak(this));this._get=t,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function loe(n){return new ooe(n)}function la(n){const e=Tt(n)?new Array(n.length):{};for(const t in n)e[t]=yq(n,t);return e}class coe{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Lse(Lr(this._object),this._key)}}class uoe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _r(n,e,t){return Kr(n)?n:Zt(n)?new uoe(n):Pn(n)&&arguments.length>1?yq(n,e,t):ee(n)}function yq(n,e,t){const r=n[e];return Kr(r)?r:new coe(n,e,t)}class doe{constructor(e,t,r,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new QD(e,()=>{this._dirty||(this._dirty=!0,ak(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Lr(this);return ik(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function foe(n,e,t=!1){let r,i;const a=Zt(n);return a?(r=n,i=Sr):(r=n.get,i=n.set),new doe(r,i,a||!i,t)}function hoe(n,...e){}function Af(n,e,t,r){let i;try{i=r?n(...r):n()}catch(a){jM(a,e,t)}return i}function wl(n,e,t,r){if(Zt(n)){const a=Af(n,e,t,r);return a&&Sb(a)&&a.catch(s=>{jM(s,e,t)}),a}const i=[];for(let a=0;a<n.length;a++)i.push(wl(n[a],e,t,r));return i}function jM(n,e,t,r=!0){const i=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,o=t;for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,s,o)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){Af(l,null,10,[n,s,o]);return}}poe(n,t,i,r)}function poe(n,e,t,r=!0){console.error(n)}let Ab=!1,ZI=!1;const ys=[];let Hc=0;const Av=[];let zu=null,up=0;const bq=Promise.resolve();let sk=null;function Yt(n){const e=sk||bq;return n?e.then(this?n.bind(this):n):e}function moe(n){let e=Hc+1,t=ys.length;for(;e<t;){const r=e+t>>>1;Eb(ys[r])<n?e=r+1:t=r}return e}function ok(n){(!ys.length||!ys.includes(n,Ab&&n.allowRecurse?Hc+1:Hc))&&(n.id==null?ys.push(n):ys.splice(moe(n.id),0,n),_q())}function _q(){!Ab&&!ZI&&(ZI=!0,sk=bq.then(xq))}function voe(n){const e=ys.indexOf(n);e>Hc&&ys.splice(e,1)}function goe(n){Tt(n)?Av.push(...n):(!zu||!zu.includes(n,n.allowRecurse?up+1:up))&&Av.push(n),_q()}function QO(n,e=Ab?Hc+1:0){for(;e<ys.length;e++){const t=ys[e];t&&t.pre&&(ys.splice(e,1),e--,t())}}function wq(n){if(Av.length){const e=[...new Set(Av)];if(Av.length=0,zu){zu.push(...e);return}for(zu=e,zu.sort((t,r)=>Eb(t)-Eb(r)),up=0;up<zu.length;up++)zu[up]();zu=null,up=0}}const Eb=n=>n.id==null?1/0:n.id,yoe=(n,e)=>{const t=Eb(n)-Eb(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function xq(n){ZI=!1,Ab=!0,ys.sort(yoe);const e=Sr;try{for(Hc=0;Hc<ys.length;Hc++){const t=ys[Hc];t&&t.active!==!1&&Af(t,null,14)}}finally{Hc=0,ys.length=0,wq(),Ab=!1,sk=null,(ys.length||Av.length)&&xq()}}function boe(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||ki;let i=t;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=r[u]||ki;f&&(i=t.map(h=>qt(h)?h.trim():h)),d&&(i=t.map(qI))}let o,l=r[o=k1(e)]||r[o=k1(Wo(e))];!l&&a&&(l=r[o=k1(dh(e))]),l&&wl(l,n,6,i);const c=r[o+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[o])return;n.emitted[o]=!0,wl(c,n,6,i)}}function Sq(n,e,t=!1){const r=e.emitsCache,i=r.get(n);if(i!==void 0)return i;const a=n.emits;let s={},o=!1;if(!Zt(n)){const l=c=>{const u=Sq(c,e,!0);u&&(o=!0,oa(s,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!a&&!o?(Pn(n)&&r.set(n,null),null):(Tt(a)?a.forEach(l=>s[l]=null):oa(s,a),Pn(n)&&r.set(n,s),s)}function ZM(n,e){return!n||!qM(e)?!1:(e=e.slice(2).replace(/Once$/,""),sr(n,e[0].toLowerCase()+e.slice(1))||sr(n,dh(e))||sr(n,e))}let ja=null,QM=null;function dC(n){const e=ja;return ja=n,QM=n&&n.type.__scopeId||null,e}function yc(n){QM=n}function bc(){QM=null}function be(n,e=ja,t){if(!e||n._n)return n;const r=(...i)=>{r._d&&dB(-1);const a=dC(e);let s;try{s=n(...i)}finally{dC(a),r._d&&dB(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function a3(n){const{type:e,vnode:t,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=n;let v,g;const y=dC(n);try{if(t.shapeFlag&4){const _=i||r;v=Fc(u.call(_,_,d,a,h,f,p)),g=l}else{const _=e;v=Fc(_.length>1?_(a,{attrs:l,slots:o,emit:c}):_(a,null)),g=e.props?l:_oe(l)}}catch(_){B1.length=0,jM(_,n,1),v=se(Ss)}let b=v;if(g&&m!==!1){const _=Object.keys(g),{shapeFlag:x}=b;_.length&&x&7&&(s&&_.some(YD)&&(g=woe(g,s)),b=ad(b,g))}return t.dirs&&(b=ad(b),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&(b.transition=t.transition),v=b,dC(y),v}const _oe=n=>{let e;for(const t in n)(t==="class"||t==="style"||qM(t))&&((e||(e={}))[t]=n[t]);return e},woe=(n,e)=>{const t={};for(const r in n)(!YD(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function xoe(n,e,t){const{props:r,children:i,component:a}=n,{props:s,children:o,patchFlag:l}=e,c=a.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?JO(r,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==r[f]&&!ZM(c,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===s?!1:r?s?JO(r,s,c):!0:!!s;return!1}function JO(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(e[a]!==n[a]&&!ZM(t,a))return!0}return!1}function Soe({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const Coe=n=>n.__isSuspense;function Moe(n,e){e&&e.pendingBranch?Tt(n)?e.effects.push(...n):e.effects.push(n):goe(n)}function Ta(n,e){return lk(n,null,e)}const Nw={};function dt(n,e,t){return lk(n,e,t)}function lk(n,e,{immediate:t,deep:r,flush:i,onTrack:a,onTrigger:s}=ki){var o;const l=nq()===((o=Na)==null?void 0:o.scope)?Na:null;let c,u=!1,d=!1;if(Kr(n)?(c=()=>n.value,u=uC(n)):Tv(n)?(c=()=>n,r=!0):Tt(n)?(d=!0,u=n.some(_=>Tv(_)||uC(_)),c=()=>n.map(_=>{if(Kr(_))return _.value;if(Tv(_))return xp(_);if(Zt(_))return Af(_,l,2)})):Zt(n)?e?c=()=>Af(n,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),wl(n,l,3,[h])}:c=Sr,e&&r){const _=c;c=()=>xp(_())}let f,h=_=>{f=y.onStop=()=>{Af(_,l,4)}},p;if(Db)if(h=Sr,e?t&&wl(e,l,3,[c(),d?[]:void 0,h]):c(),i==="sync"){const _=hle();p=_.__watcherHandles||(_.__watcherHandles=[])}else return Sr;let m=d?new Array(n.length).fill(Nw):Nw;const v=()=>{if(y.active)if(e){const _=y.run();(r||u||(d?_.some((x,S)=>Mb(x,m[S])):Mb(_,m)))&&(f&&f(),wl(e,l,3,[_,m===Nw?void 0:d&&m[0]===Nw?[]:m,h]),m=_)}else y.run()};v.allowRecurse=!!e;let g;i==="sync"?g=v:i==="post"?g=()=>ro(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),g=()=>ok(v));const y=new QD(c,g);e?t?v():m=y.run():i==="post"?ro(y.run.bind(y),l&&l.suspense):y.run();const b=()=>{y.stop(),l&&l.scope&&XD(l.scope.effects,y)};return p&&p.push(b),b}function Toe(n,e,t){const r=this.proxy,i=qt(n)?n.includes(".")?Cq(r,n):()=>r[n]:n.bind(r,r);let a;Zt(e)?a=e:(a=e.handler,t=e);const s=Na;Xv(this);const o=lk(i,a.bind(r),t);return s?Xv(s):Up(),o}function Cq(n,e){const t=e.split(".");return()=>{let r=n;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}function xp(n,e){if(!Pn(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Kr(n))xp(n.value,e);else if(Tt(n))for(let t=0;t<n.length;t++)xp(n[t],e);else if(KM(n)||Mv(n))n.forEach(t=>{xp(t,e)});else if(Cb(n))for(const t in n)xp(n[t],e);return n}function Sn(n,e){const t=ja;if(t===null)return n;const r=iT(t)||t.proxy,i=n.dirs||(n.dirs=[]);for(let a=0;a<e.length;a++){let[s,o,l,c=ki]=e[a];s&&(Zt(s)&&(s={mounted:s,updated:s}),s.deep&&xp(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function xh(n,e,t,r){const i=n.dirs,a=e&&e.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[r];l&&(Og(),wl(l,t,8,[n.el,o,n,e]),Bg())}}function Mq(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pn(()=>{n.isMounted=!0}),yr(()=>{n.isUnmounting=!0}),n}const jo=[Function,Array],Tq={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jo,onEnter:jo,onAfterEnter:jo,onEnterCancelled:jo,onBeforeLeave:jo,onLeave:jo,onAfterLeave:jo,onLeaveCancelled:jo,onBeforeAppear:jo,onAppear:jo,onAfterAppear:jo,onAppearCancelled:jo},Aoe={name:"BaseTransition",props:Tq,setup(n,{slots:e}){const t=Dn(),r=Mq();let i;return()=>{const a=e.default&&ck(e.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const m of a)if(m.type!==Ss){s=m;break}}const o=Lr(n),{mode:l}=o;if(r.isLeaving)return s3(s);const c=eB(s);if(!c)return s3(s);const u=Ib(c,o,r,t);Rb(c,u);const d=t.subTree,f=d&&eB(d);let h=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,h=!0)}if(f&&f.type!==Ss&&(!dp(c,f)||h)){const m=Ib(f,o,r,t);if(Rb(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,t.update.active!==!1&&t.update()},s3(s);l==="in-out"&&c.type!==Ss&&(m.delayLeave=(v,g,y)=>{const b=Aq(r,f);b[String(f.key)]=f,v._leaveCb=()=>{g(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}},Eoe=Aoe;function Aq(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function Ib(n,e,t,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:v,onAfterAppear:g,onAppearCancelled:y}=e,b=String(n.key),_=Aq(t,n),x=(C,M)=>{C&&wl(C,r,9,M)},S=(C,M)=>{const A=M[1];x(C,M),Tt(C)?C.every(I=>I.length<=1)&&A():C.length<=1&&A()},T={mode:a,persisted:s,beforeEnter(C){let M=o;if(!t.isMounted)if(i)M=m||o;else return;C._leaveCb&&C._leaveCb(!0);const A=_[b];A&&dp(n,A)&&A.el._leaveCb&&A.el._leaveCb(),x(M,[C])},enter(C){let M=l,A=c,I=u;if(!t.isMounted)if(i)M=v||l,A=g||c,I=y||u;else return;let D=!1;const L=C._enterCb=F=>{D||(D=!0,F?x(I,[C]):x(A,[C]),T.delayedLeave&&T.delayedLeave(),C._enterCb=void 0)};M?S(M,[C,L]):L()},leave(C,M){const A=String(n.key);if(C._enterCb&&C._enterCb(!0),t.isUnmounting)return M();x(d,[C]);let I=!1;const D=C._leaveCb=L=>{I||(I=!0,M(),L?x(p,[C]):x(h,[C]),C._leaveCb=void 0,_[A]===n&&delete _[A])};_[A]=n,f?S(f,[C,D]):D()},clone(C){return Ib(C,e,t,r)}};return T}function s3(n){if(JM(n))return n=ad(n),n.children=null,n}function eB(n){return JM(n)?n.children?n.children[0]:void 0:n}function Rb(n,e){n.shapeFlag&6&&n.component?Rb(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function ck(n,e=!1,t){let r=[],i=0;for(let a=0;a<n.length;a++){let s=n[a];const o=t==null?s.key:String(t)+String(s.key!=null?s.key:a);s.type===zt?(s.patchFlag&128&&i++,r=r.concat(ck(s.children,e,o))):(e||s.type!==Ss)&&r.push(o!=null?ad(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Ie(n,e){return Zt(n)?(()=>oa({name:n.name},e,{setup:n}))():n}const L1=n=>!!n.type.__asyncLoader,JM=n=>n.type.__isKeepAlive;function uk(n,e){Iq(n,"a",e)}function Eq(n,e){Iq(n,"da",e)}function Iq(n,e,t=Na){const r=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(eT(e,r,t),t){let i=t.parent;for(;i&&i.parent;)JM(i.parent.vnode)&&Ioe(r,e,t,i),i=i.parent}}function Ioe(n,e,t,r){const i=eT(e,n,r,!0);fh(()=>{XD(r[e],i)},t)}function eT(n,e,t=Na,r=!1){if(t){const i=t[n]||(t[n]=[]),a=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;Og(),Xv(t);const o=wl(e,t,n,s);return Up(),Bg(),o});return r?i.unshift(a):i.push(a),a}}const yd=n=>(e,t=Na)=>(!Db||n==="sp")&&eT(n,(...r)=>e(...r),t),tT=yd("bm"),pn=yd("m"),dk=yd("bu"),Nl=yd("u"),yr=yd("bum"),fh=yd("um"),Roe=yd("sp"),Poe=yd("rtg"),Doe=yd("rtc");function koe(n,e=Na){eT("ec",n,e)}const fk="components",Loe="directives";function Et(n,e){return hk(fk,n,!0,e)||n}const Rq=Symbol.for("v-ndc");function Nn(n){return qt(n)?hk(fk,n,!1)||n:n||Rq}function nT(n){return hk(Loe,n)}function hk(n,e,t=!0,r=!1){const i=ja||Na;if(i){const a=i.type;if(n===fk){const o=ule(a,!1);if(o&&(o===e||o===Wo(e)||o===U_(Wo(e))))return a}const s=tB(i[n]||a[n],e)||tB(i.appContext[n],e);return!s&&r?a:s}}function tB(n,e){return n&&(n[e]||n[Wo(e)]||n[U_(Wo(e))])}function In(n,e,t,r){let i;const a=t&&t[r];if(Tt(n)||qt(n)){i=new Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=e(n[s],s,void 0,a&&a[s])}else if(typeof n=="number"){i=new Array(n);for(let s=0;s<n;s++)i[s]=e(s+1,s,void 0,a&&a[s])}else if(Pn(n))if(n[Symbol.iterator])i=Array.from(n,(s,o)=>e(s,o,void 0,a&&a[o]));else{const s=Object.keys(n);i=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const c=s[o];i[o]=e(n[c],c,o,a&&a[o])}}else i=[];return t&&(t[r]=i),i}function El(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(Tt(r))for(let i=0;i<r.length;i++)n[r[i].name]=r[i].fn;else r&&(n[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return n}function Ze(n,e,t={},r,i){if(ja.isCE||ja.parent&&L1(ja.parent)&&ja.parent.isCE)return e!=="default"&&(t.name=e),se("slot",t,r&&r());let a=n[e];a&&a._c&&(a._d=!1),V();const s=a&&Pq(a(t)),o=rt(zt,{key:t.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&n._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function Pq(n){return n.some(e=>vi(e)?!(e.type===Ss||e.type===zt&&!Pq(e.children)):!0)?n:null}function Noe(n,e){const t={};for(const r in n)t[e&&/[A-Z]/.test(r)?`on:${r}`:k1(r)]=n[r];return t}const QI=n=>n?$q(n)?iT(n)||n.proxy:QI(n.parent):null,N1=oa(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>QI(n.parent),$root:n=>QI(n.root),$emit:n=>n.emit,$options:n=>pk(n),$forceUpdate:n=>n.f||(n.f=()=>ok(n.update)),$nextTick:n=>n.n||(n.n=Yt.bind(n.proxy)),$watch:n=>Toe.bind(n)}),o3=(n,e)=>n!==ki&&!n.__isScriptSetup&&sr(n,e),Ooe={get({_:n},e){const{ctx:t,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:l}=n;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return t[e];case 3:return a[e]}else{if(o3(r,e))return s[e]=1,r[e];if(i!==ki&&sr(i,e))return s[e]=2,i[e];if((c=n.propsOptions[0])&&sr(c,e))return s[e]=3,a[e];if(t!==ki&&sr(t,e))return s[e]=4,t[e];JI&&(s[e]=0)}}const u=N1[e];let d,f;if(u)return e==="$attrs"&&vo(n,"get",e),u(n);if((d=o.__cssModules)&&(d=d[e]))return d;if(t!==ki&&sr(t,e))return s[e]=4,t[e];if(f=l.config.globalProperties,sr(f,e))return f[e]},set({_:n},e,t){const{data:r,setupState:i,ctx:a}=n;return o3(i,e)?(i[e]=t,!0):r!==ki&&sr(r,e)?(r[e]=t,!0):sr(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(a[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!t[s]||n!==ki&&sr(n,s)||o3(e,s)||(o=a[0])&&sr(o,s)||sr(r,s)||sr(N1,s)||sr(i.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:sr(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function ea(){return Dq().slots}function hh(){return Dq().attrs}function Dq(){const n=Dn();return n.setupContext||(n.setupContext=Wq(n))}function nB(n){return Tt(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let JI=!0;function Boe(n){const e=pk(n),t=n.proxy,r=n.ctx;JI=!1,e.beforeCreate&&rB(e.beforeCreate,n,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:v,beforeDestroy:g,beforeUnmount:y,destroyed:b,unmounted:_,render:x,renderTracked:S,renderTriggered:T,errorCaptured:C,serverPrefetch:M,expose:A,inheritAttrs:I,components:D,directives:L,filters:F}=e;if(c&&Foe(c,r,null),s)for(const H in s){const z=s[H];Zt(z)&&(r[H]=z.bind(t))}if(i){const H=i.call(t,t);Pn(H)&&(n.data=mr(H))}if(JI=!0,a)for(const H in a){const z=a[H],O=Zt(z)?z.bind(t,t):Zt(z.get)?z.get.bind(t,t):Sr,G=!Zt(z)&&Zt(z.set)?z.set.bind(t):Sr,X=U({get:O,set:G});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>X.value,set:J=>X.value=J})}if(o)for(const H in o)kq(o[H],r,t,H);if(l){const H=Zt(l)?l.call(t):l;Reflect.ownKeys(H).forEach(z=>{$n(z,H[z])})}u&&rB(u,n,"c");function k(H,z){Tt(z)?z.forEach(O=>H(O.bind(t))):z&&H(z.bind(t))}if(k(tT,d),k(pn,f),k(dk,h),k(Nl,p),k(uk,m),k(Eq,v),k(koe,C),k(Doe,S),k(Poe,T),k(yr,y),k(fh,_),k(Roe,M),Tt(A))if(A.length){const H=n.exposed||(n.exposed={});A.forEach(z=>{Object.defineProperty(H,z,{get:()=>t[z],set:O=>t[z]=O})})}else n.exposed||(n.exposed={});x&&n.render===Sr&&(n.render=x),I!=null&&(n.inheritAttrs=I),D&&(n.components=D),L&&(n.directives=L)}function Foe(n,e,t=Sr){Tt(n)&&(n=e5(n));for(const r in n){const i=n[r];let a;Pn(i)?"default"in i?a=Ot(i.from||r,i.default,!0):a=Ot(i.from||r):a=Ot(i),Kr(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[r]=a}}function rB(n,e,t){wl(Tt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function kq(n,e,t,r){const i=r.includes(".")?Cq(t,r):()=>t[r];if(qt(n)){const a=e[n];Zt(a)&&dt(i,a)}else if(Zt(n))dt(i,n.bind(t));else if(Pn(n))if(Tt(n))n.forEach(a=>kq(a,e,t,r));else{const a=Zt(n.handler)?n.handler.bind(t):e[n.handler];Zt(a)&&dt(i,a,n)}}function pk(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=n.appContext,o=a.get(e);let l;return o?l=o:!i.length&&!t&&!r?l=e:(l={},i.length&&i.forEach(c=>fC(l,c,s,!0)),fC(l,e,s)),Pn(e)&&a.set(e,l),l}function fC(n,e,t,r=!1){const{mixins:i,extends:a}=e;a&&fC(n,a,t,!0),i&&i.forEach(s=>fC(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const o=zoe[s]||t&&t[s];n[s]=o?o(n[s],e[s]):e[s]}return n}const zoe={data:iB,props:aB,emits:aB,methods:g1,computed:g1,beforeCreate:Rs,created:Rs,beforeMount:Rs,mounted:Rs,beforeUpdate:Rs,updated:Rs,beforeDestroy:Rs,beforeUnmount:Rs,destroyed:Rs,unmounted:Rs,activated:Rs,deactivated:Rs,errorCaptured:Rs,serverPrefetch:Rs,components:g1,directives:g1,watch:Hoe,provide:iB,inject:Uoe};function iB(n,e){return e?n?function(){return oa(Zt(n)?n.call(this,this):n,Zt(e)?e.call(this,this):e)}:e:n}function Uoe(n,e){return g1(e5(n),e5(e))}function e5(n){if(Tt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Rs(n,e){return n?[...new Set([].concat(n,e))]:e}function g1(n,e){return n?oa(Object.create(null),n,e):e}function aB(n,e){return n?Tt(n)&&Tt(e)?[...new Set([...n,...e])]:oa(Object.create(null),nB(n),nB(e??{})):e}function Hoe(n,e){if(!n)return e;if(!e)return n;const t=oa(Object.create(null),n);for(const r in e)t[r]=Rs(n[r],e[r]);return t}function Lq(){return{app:null,config:{isNativeTag:vse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Voe=0;function $oe(n,e){return function(r,i=null){Zt(r)||(r=oa({},r)),i!=null&&!Pn(i)&&(i=null);const a=Lq(),s=new Set;let o=!1;const l=a.app={_uid:Voe++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:ple,get config(){return a.config},set config(c){},use(c,...u){return s.has(c)||(c&&Zt(c.install)?(s.add(c),c.install(l,...u)):Zt(c)&&(s.add(c),c(l,...u))),l},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),l},component(c,u){return u?(a.components[c]=u,l):a.components[c]},directive(c,u){return u?(a.directives[c]=u,l):a.directives[c]},mount(c,u,d){if(!o){const f=se(r,i);return f.appContext=a,u&&e?e(f,c):n(f,c,d),o=!0,l._container=c,c.__vue_app__=l,iT(f.component)||f.component.proxy}},unmount(){o&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return a.provides[c]=u,l},runWithContext(c){hC=l;try{return c()}finally{hC=null}}};return l}}let hC=null;function $n(n,e){if(Na){let t=Na.provides;const r=Na.parent&&Na.parent.provides;r===t&&(t=Na.provides=Object.create(r)),t[n]=e}}function Ot(n,e,t=!1){const r=Na||ja;if(r||hC){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:hC._context.provides;if(i&&n in i)return i[n];if(arguments.length>1)return t&&Zt(e)?e.call(r&&r.proxy):e}}function Goe(n,e,t,r=!1){const i={},a={};lC(a,rT,1),n.propsDefaults=Object.create(null),Nq(n,e,i,a);for(const s in n.propsOptions[0])s in i||(i[s]=void 0);t?n.props=r?i:pq(i):n.type.props?n.props=i:n.props=a,n.attrs=a}function Woe(n,e,t,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=n,o=Lr(i),[l]=n.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(ZM(n.emitsOptions,f))continue;const h=e[f];if(l)if(sr(a,f))h!==a[f]&&(a[f]=h,c=!0);else{const p=Wo(f);i[p]=t5(l,o,p,h,n,!1)}else h!==a[f]&&(a[f]=h,c=!0)}}}else{Nq(n,e,i,a)&&(c=!0);let u;for(const d in o)(!e||!sr(e,d)&&((u=dh(d))===d||!sr(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(i[d]=t5(l,o,d,void 0,n,!0)):delete i[d]);if(a!==o)for(const d in a)(!e||!sr(e,d))&&(delete a[d],c=!0)}c&&id(n,"set","$attrs")}function Nq(n,e,t,r){const[i,a]=n.propsOptions;let s=!1,o;if(e)for(let l in e){if(l2(l))continue;const c=e[l];let u;i&&sr(i,u=Wo(l))?!a||!a.includes(u)?t[u]=c:(o||(o={}))[u]=c:ZM(n.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(a){const l=Lr(t),c=o||ki;for(let u=0;u<a.length;u++){const d=a[u];t[d]=t5(i,l,d,c[d],n,!sr(c,d))}}return s}function t5(n,e,t,r,i,a){const s=n[t];if(s!=null){const o=sr(s,"default");if(o&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Zt(l)){const{propsDefaults:c}=i;t in c?r=c[t]:(Xv(i),r=c[t]=l.call(null,e),Up())}else r=l}s[0]&&(a&&!o?r=!1:s[1]&&(r===""||r===dh(t))&&(r=!0))}return r}function Oq(n,e,t=!1){const r=e.propsCache,i=r.get(n);if(i)return i;const a=n.props,s={},o=[];let l=!1;if(!Zt(n)){const u=d=>{l=!0;const[f,h]=Oq(d,e,!0);oa(s,f),h&&o.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!a&&!l)return Pn(n)&&r.set(n,Cv),Cv;if(Tt(a))for(let u=0;u<a.length;u++){const d=Wo(a[u]);sB(d)&&(s[d]=ki)}else if(a)for(const u in a){const d=Wo(u);if(sB(d)){const f=a[u],h=s[d]=Tt(f)||Zt(f)?{type:f}:oa({},f);if(h){const p=cB(Boolean,h.type),m=cB(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||sr(h,"default"))&&o.push(d)}}}const c=[s,o];return Pn(n)&&r.set(n,c),c}function sB(n){return n[0]!=="$"}function oB(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function lB(n,e){return oB(n)===oB(e)}function cB(n,e){return Tt(e)?e.findIndex(t=>lB(t,n)):Zt(e)&&lB(e,n)?0:-1}const Bq=n=>n[0]==="_"||n==="$stable",mk=n=>Tt(n)?n.map(Fc):[Fc(n)],qoe=(n,e,t)=>{if(e._n)return e;const r=be((...i)=>mk(e(...i)),t);return r._c=!1,r},Fq=(n,e,t)=>{const r=n._ctx;for(const i in n){if(Bq(i))continue;const a=n[i];if(Zt(a))e[i]=qoe(i,a,r);else if(a!=null){const s=mk(a);e[i]=()=>s}}},zq=(n,e)=>{const t=mk(e);n.slots.default=()=>t},Koe=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=Lr(e),lC(e,"_",t)):Fq(e,n.slots={})}else n.slots={},e&&zq(n,e);lC(n.slots,rT,1)},Yoe=(n,e,t)=>{const{vnode:r,slots:i}=n;let a=!0,s=ki;if(r.shapeFlag&32){const o=e._;o?t&&o===1?a=!1:(oa(i,e),!t&&o===1&&delete i._):(a=!e.$stable,Fq(e,i)),s=e}else e&&(zq(n,e),s={default:1});if(a)for(const o in i)!Bq(o)&&!(o in s)&&delete i[o]};function n5(n,e,t,r,i=!1){if(Tt(n)){n.forEach((f,h)=>n5(f,e&&(Tt(e)?e[h]:e),t,r,i));return}if(L1(r)&&!i)return;const a=r.shapeFlag&4?iT(r.component)||r.component.proxy:r.el,s=i?null:a,{i:o,r:l}=n,c=e&&e.r,u=o.refs===ki?o.refs={}:o.refs,d=o.setupState;if(c!=null&&c!==l&&(qt(c)?(u[c]=null,sr(d,c)&&(d[c]=null)):Kr(c)&&(c.value=null)),Zt(l))Af(l,o,12,[s,u]);else{const f=qt(l),h=Kr(l);if(f||h){const p=()=>{if(n.f){const m=f?sr(d,l)?d[l]:u[l]:l.value;i?Tt(m)&&XD(m,a):Tt(m)?m.includes(a)||m.push(a):f?(u[l]=[a],sr(d,l)&&(d[l]=u[l])):(l.value=[a],n.k&&(u[n.k]=l.value))}else f?(u[l]=s,sr(d,l)&&(d[l]=s)):h&&(l.value=s,n.k&&(u[n.k]=s))};s?(p.id=-1,ro(p,t)):p()}}}const ro=Moe;function Xoe(n){return joe(n)}function joe(n,e){const t=KI();t.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Sr,insertStaticContent:p}=n,m=(K,ce,ie,Ue=null,De=null,Ye=null,ze=!1,Ve=null,Je=!!ce.dynamicChildren)=>{if(K===ce)return;K&&!dp(K,ce)&&(Ue=fe(K),J(K,De,Ye,!0),K=null),ce.patchFlag===-2&&(Je=!1,ce.dynamicChildren=null);const{type:pe,ref:W,shapeFlag:Z}=ce;switch(pe){case zg:v(K,ce,ie,Ue);break;case Ss:g(K,ce,ie,Ue);break;case l3:K==null&&y(ce,ie,Ue,ze);break;case zt:D(K,ce,ie,Ue,De,Ye,ze,Ve,Je);break;default:Z&1?x(K,ce,ie,Ue,De,Ye,ze,Ve,Je):Z&6?L(K,ce,ie,Ue,De,Ye,ze,Ve,Je):(Z&64||Z&128)&&pe.process(K,ce,ie,Ue,De,Ye,ze,Ve,Je,Re)}W!=null&&De&&n5(W,K&&K.ref,Ye,ce||K,!ce)},v=(K,ce,ie,Ue)=>{if(K==null)r(ce.el=o(ce.children),ie,Ue);else{const De=ce.el=K.el;ce.children!==K.children&&c(De,ce.children)}},g=(K,ce,ie,Ue)=>{K==null?r(ce.el=l(ce.children||""),ie,Ue):ce.el=K.el},y=(K,ce,ie,Ue)=>{[K.el,K.anchor]=p(K.children,ce,ie,Ue,K.el,K.anchor)},b=({el:K,anchor:ce},ie,Ue)=>{let De;for(;K&&K!==ce;)De=f(K),r(K,ie,Ue),K=De;r(ce,ie,Ue)},_=({el:K,anchor:ce})=>{let ie;for(;K&&K!==ce;)ie=f(K),i(K),K=ie;i(ce)},x=(K,ce,ie,Ue,De,Ye,ze,Ve,Je)=>{ze=ze||ce.type==="svg",K==null?S(ce,ie,Ue,De,Ye,ze,Ve,Je):M(K,ce,De,Ye,ze,Ve,Je)},S=(K,ce,ie,Ue,De,Ye,ze,Ve)=>{let Je,pe;const{type:W,props:Z,shapeFlag:ve,transition:Ne,dirs:Ke}=K;if(Je=K.el=s(K.type,Ye,Z&&Z.is,Z),ve&8?u(Je,K.children):ve&16&&C(K.children,Je,null,Ue,De,Ye&&W!=="foreignObject",ze,Ve),Ke&&xh(K,null,Ue,"created"),T(Je,K,K.scopeId,ze,Ue),Z){for(const vt in Z)vt!=="value"&&!l2(vt)&&a(Je,vt,null,Z[vt],Ye,K.children,Ue,De,le);"value"in Z&&a(Je,"value",null,Z.value),(pe=Z.onVnodeBeforeMount)&&Pc(pe,Ue,K)}Ke&&xh(K,null,Ue,"beforeMount");const mt=(!De||De&&!De.pendingBranch)&&Ne&&!Ne.persisted;mt&&Ne.beforeEnter(Je),r(Je,ce,ie),((pe=Z&&Z.onVnodeMounted)||mt||Ke)&&ro(()=>{pe&&Pc(pe,Ue,K),mt&&Ne.enter(Je),Ke&&xh(K,null,Ue,"mounted")},De)},T=(K,ce,ie,Ue,De)=>{if(ie&&h(K,ie),Ue)for(let Ye=0;Ye<Ue.length;Ye++)h(K,Ue[Ye]);if(De){let Ye=De.subTree;if(ce===Ye){const ze=De.vnode;T(K,ze,ze.scopeId,ze.slotScopeIds,De.parent)}}},C=(K,ce,ie,Ue,De,Ye,ze,Ve,Je=0)=>{for(let pe=Je;pe<K.length;pe++){const W=K[pe]=Ve?hf(K[pe]):Fc(K[pe]);m(null,W,ce,ie,Ue,De,Ye,ze,Ve)}},M=(K,ce,ie,Ue,De,Ye,ze)=>{const Ve=ce.el=K.el;let{patchFlag:Je,dynamicChildren:pe,dirs:W}=ce;Je|=K.patchFlag&16;const Z=K.props||ki,ve=ce.props||ki;let Ne;ie&&Sh(ie,!1),(Ne=ve.onVnodeBeforeUpdate)&&Pc(Ne,ie,ce,K),W&&xh(ce,K,ie,"beforeUpdate"),ie&&Sh(ie,!0);const Ke=De&&ce.type!=="foreignObject";if(pe?A(K.dynamicChildren,pe,Ve,ie,Ue,Ke,Ye):ze||z(K,ce,Ve,null,ie,Ue,Ke,Ye,!1),Je>0){if(Je&16)I(Ve,ce,Z,ve,ie,Ue,De);else if(Je&2&&Z.class!==ve.class&&a(Ve,"class",null,ve.class,De),Je&4&&a(Ve,"style",Z.style,ve.style,De),Je&8){const mt=ce.dynamicProps;for(let vt=0;vt<mt.length;vt++){const Me=mt[vt],ht=Z[Me],st=ve[Me];(st!==ht||Me==="value")&&a(Ve,Me,ht,st,De,K.children,ie,Ue,le)}}Je&1&&K.children!==ce.children&&u(Ve,ce.children)}else!ze&&pe==null&&I(Ve,ce,Z,ve,ie,Ue,De);((Ne=ve.onVnodeUpdated)||W)&&ro(()=>{Ne&&Pc(Ne,ie,ce,K),W&&xh(ce,K,ie,"updated")},Ue)},A=(K,ce,ie,Ue,De,Ye,ze)=>{for(let Ve=0;Ve<ce.length;Ve++){const Je=K[Ve],pe=ce[Ve],W=Je.el&&(Je.type===zt||!dp(Je,pe)||Je.shapeFlag&70)?d(Je.el):ie;m(Je,pe,W,null,Ue,De,Ye,ze,!0)}},I=(K,ce,ie,Ue,De,Ye,ze)=>{if(ie!==Ue){if(ie!==ki)for(const Ve in ie)!l2(Ve)&&!(Ve in Ue)&&a(K,Ve,ie[Ve],null,ze,ce.children,De,Ye,le);for(const Ve in Ue){if(l2(Ve))continue;const Je=Ue[Ve],pe=ie[Ve];Je!==pe&&Ve!=="value"&&a(K,Ve,pe,Je,ze,ce.children,De,Ye,le)}"value"in Ue&&a(K,"value",ie.value,Ue.value)}},D=(K,ce,ie,Ue,De,Ye,ze,Ve,Je)=>{const pe=ce.el=K?K.el:o(""),W=ce.anchor=K?K.anchor:o("");let{patchFlag:Z,dynamicChildren:ve,slotScopeIds:Ne}=ce;Ne&&(Ve=Ve?Ve.concat(Ne):Ne),K==null?(r(pe,ie,Ue),r(W,ie,Ue),C(ce.children,ie,W,De,Ye,ze,Ve,Je)):Z>0&&Z&64&&ve&&K.dynamicChildren?(A(K.dynamicChildren,ve,ie,De,Ye,ze,Ve),(ce.key!=null||De&&ce===De.subTree)&&vk(K,ce,!0)):z(K,ce,ie,W,De,Ye,ze,Ve,Je)},L=(K,ce,ie,Ue,De,Ye,ze,Ve,Je)=>{ce.slotScopeIds=Ve,K==null?ce.shapeFlag&512?De.ctx.activate(ce,ie,Ue,ze,Je):F(ce,ie,Ue,De,Ye,ze,Je):B(K,ce,Je)},F=(K,ce,ie,Ue,De,Ye,ze)=>{const Ve=K.component=sle(K,Ue,De);if(JM(K)&&(Ve.ctx.renderer=Re),ole(Ve),Ve.asyncDep){if(De&&De.registerDep(Ve,k),!K.el){const Je=Ve.subTree=se(Ss);g(null,Je,ce,ie)}return}k(Ve,K,ce,ie,De,Ye,ze)},B=(K,ce,ie)=>{const Ue=ce.component=K.component;if(xoe(K,ce,ie))if(Ue.asyncDep&&!Ue.asyncResolved){H(Ue,ce,ie);return}else Ue.next=ce,voe(Ue.update),Ue.update();else ce.el=K.el,Ue.vnode=ce},k=(K,ce,ie,Ue,De,Ye,ze)=>{const Ve=()=>{if(K.isMounted){let{next:W,bu:Z,u:ve,parent:Ne,vnode:Ke}=K,mt=W,vt;Sh(K,!1),W?(W.el=Ke.el,H(K,W,ze)):W=Ke,Z&&c2(Z),(vt=W.props&&W.props.onVnodeBeforeUpdate)&&Pc(vt,Ne,W,Ke),Sh(K,!0);const Me=a3(K),ht=K.subTree;K.subTree=Me,m(ht,Me,d(ht.el),fe(ht),K,De,Ye),W.el=Me.el,mt===null&&Soe(K,Me.el),ve&&ro(ve,De),(vt=W.props&&W.props.onVnodeUpdated)&&ro(()=>Pc(vt,Ne,W,Ke),De)}else{let W;const{el:Z,props:ve}=ce,{bm:Ne,m:Ke,parent:mt}=K,vt=L1(ce);if(Sh(K,!1),Ne&&c2(Ne),!vt&&(W=ve&&ve.onVnodeBeforeMount)&&Pc(W,mt,ce),Sh(K,!0),Z&&$e){const Me=()=>{K.subTree=a3(K),$e(Z,K.subTree,K,De,null)};vt?ce.type.__asyncLoader().then(()=>!K.isUnmounted&&Me()):Me()}else{const Me=K.subTree=a3(K);m(null,Me,ie,Ue,K,De,Ye),ce.el=Me.el}if(Ke&&ro(Ke,De),!vt&&(W=ve&&ve.onVnodeMounted)){const Me=ce;ro(()=>Pc(W,mt,Me),De)}(ce.shapeFlag&256||mt&&L1(mt.vnode)&&mt.vnode.shapeFlag&256)&&K.a&&ro(K.a,De),K.isMounted=!0,ce=ie=Ue=null}},Je=K.effect=new QD(Ve,()=>ok(pe),K.scope),pe=K.update=()=>Je.run();pe.id=K.uid,Sh(K,!0),pe()},H=(K,ce,ie)=>{ce.component=K;const Ue=K.vnode.props;K.vnode=ce,K.next=null,Woe(K,ce.props,Ue,ie),Yoe(K,ce.children,ie),Og(),QO(),Bg()},z=(K,ce,ie,Ue,De,Ye,ze,Ve,Je=!1)=>{const pe=K&&K.children,W=K?K.shapeFlag:0,Z=ce.children,{patchFlag:ve,shapeFlag:Ne}=ce;if(ve>0){if(ve&128){G(pe,Z,ie,Ue,De,Ye,ze,Ve,Je);return}else if(ve&256){O(pe,Z,ie,Ue,De,Ye,ze,Ve,Je);return}}Ne&8?(W&16&&le(pe,De,Ye),Z!==pe&&u(ie,Z)):W&16?Ne&16?G(pe,Z,ie,Ue,De,Ye,ze,Ve,Je):le(pe,De,Ye,!0):(W&8&&u(ie,""),Ne&16&&C(Z,ie,Ue,De,Ye,ze,Ve,Je))},O=(K,ce,ie,Ue,De,Ye,ze,Ve,Je)=>{K=K||Cv,ce=ce||Cv;const pe=K.length,W=ce.length,Z=Math.min(pe,W);let ve;for(ve=0;ve<Z;ve++){const Ne=ce[ve]=Je?hf(ce[ve]):Fc(ce[ve]);m(K[ve],Ne,ie,null,De,Ye,ze,Ve,Je)}pe>W?le(K,De,Ye,!0,!1,Z):C(ce,ie,Ue,De,Ye,ze,Ve,Je,Z)},G=(K,ce,ie,Ue,De,Ye,ze,Ve,Je)=>{let pe=0;const W=ce.length;let Z=K.length-1,ve=W-1;for(;pe<=Z&&pe<=ve;){const Ne=K[pe],Ke=ce[pe]=Je?hf(ce[pe]):Fc(ce[pe]);if(dp(Ne,Ke))m(Ne,Ke,ie,null,De,Ye,ze,Ve,Je);else break;pe++}for(;pe<=Z&&pe<=ve;){const Ne=K[Z],Ke=ce[ve]=Je?hf(ce[ve]):Fc(ce[ve]);if(dp(Ne,Ke))m(Ne,Ke,ie,null,De,Ye,ze,Ve,Je);else break;Z--,ve--}if(pe>Z){if(pe<=ve){const Ne=ve+1,Ke=Ne<W?ce[Ne].el:Ue;for(;pe<=ve;)m(null,ce[pe]=Je?hf(ce[pe]):Fc(ce[pe]),ie,Ke,De,Ye,ze,Ve,Je),pe++}}else if(pe>ve)for(;pe<=Z;)J(K[pe],De,Ye,!0),pe++;else{const Ne=pe,Ke=pe,mt=new Map;for(pe=Ke;pe<=ve;pe++){const Ae=ce[pe]=Je?hf(ce[pe]):Fc(ce[pe]);Ae.key!=null&&mt.set(Ae.key,pe)}let vt,Me=0;const ht=ve-Ke+1;let st=!1,$=0;const ge=new Array(ht);for(pe=0;pe<ht;pe++)ge[pe]=0;for(pe=Ne;pe<=Z;pe++){const Ae=K[pe];if(Me>=ht){J(Ae,De,Ye,!0);continue}let ye;if(Ae.key!=null)ye=mt.get(Ae.key);else for(vt=Ke;vt<=ve;vt++)if(ge[vt-Ke]===0&&dp(Ae,ce[vt])){ye=vt;break}ye===void 0?J(Ae,De,Ye,!0):(ge[ye-Ke]=pe+1,ye>=$?$=ye:st=!0,m(Ae,ce[ye],ie,null,De,Ye,ze,Ve,Je),Me++)}const he=st?Zoe(ge):Cv;for(vt=he.length-1,pe=ht-1;pe>=0;pe--){const Ae=Ke+pe,ye=ce[Ae],Se=Ae+1<W?ce[Ae+1].el:Ue;ge[pe]===0?m(null,ye,ie,Se,De,Ye,ze,Ve,Je):st&&(vt<0||pe!==he[vt]?X(ye,ie,Se,2):vt--)}}},X=(K,ce,ie,Ue,De=null)=>{const{el:Ye,type:ze,transition:Ve,children:Je,shapeFlag:pe}=K;if(pe&6){X(K.component.subTree,ce,ie,Ue);return}if(pe&128){K.suspense.move(ce,ie,Ue);return}if(pe&64){ze.move(K,ce,ie,Re);return}if(ze===zt){r(Ye,ce,ie);for(let Z=0;Z<Je.length;Z++)X(Je[Z],ce,ie,Ue);r(K.anchor,ce,ie);return}if(ze===l3){b(K,ce,ie);return}if(Ue!==2&&pe&1&&Ve)if(Ue===0)Ve.beforeEnter(Ye),r(Ye,ce,ie),ro(()=>Ve.enter(Ye),De);else{const{leave:Z,delayLeave:ve,afterLeave:Ne}=Ve,Ke=()=>r(Ye,ce,ie),mt=()=>{Z(Ye,()=>{Ke(),Ne&&Ne()})};ve?ve(Ye,Ke,mt):mt()}else r(Ye,ce,ie)},J=(K,ce,ie,Ue=!1,De=!1)=>{const{type:Ye,props:ze,ref:Ve,children:Je,dynamicChildren:pe,shapeFlag:W,patchFlag:Z,dirs:ve}=K;if(Ve!=null&&n5(Ve,null,ie,K,!0),W&256){ce.ctx.deactivate(K);return}const Ne=W&1&&ve,Ke=!L1(K);let mt;if(Ke&&(mt=ze&&ze.onVnodeBeforeUnmount)&&Pc(mt,ce,K),W&6)de(K.component,ie,Ue);else{if(W&128){K.suspense.unmount(ie,Ue);return}Ne&&xh(K,null,ce,"beforeUnmount"),W&64?K.type.remove(K,ce,ie,De,Re,Ue):pe&&(Ye!==zt||Z>0&&Z&64)?le(pe,ce,ie,!1,!0):(Ye===zt&&Z&384||!De&&W&16)&&le(Je,ce,ie),Ue&&Q(K)}(Ke&&(mt=ze&&ze.onVnodeUnmounted)||Ne)&&ro(()=>{mt&&Pc(mt,ce,K),Ne&&xh(K,null,ce,"unmounted")},ie)},Q=K=>{const{type:ce,el:ie,anchor:Ue,transition:De}=K;if(ce===zt){re(ie,Ue);return}if(ce===l3){_(K);return}const Ye=()=>{i(ie),De&&!De.persisted&&De.afterLeave&&De.afterLeave()};if(K.shapeFlag&1&&De&&!De.persisted){const{leave:ze,delayLeave:Ve}=De,Je=()=>ze(ie,Ye);Ve?Ve(K.el,Ye,Je):Je()}else Ye()},re=(K,ce)=>{let ie;for(;K!==ce;)ie=f(K),i(K),K=ie;i(ce)},de=(K,ce,ie)=>{const{bum:Ue,scope:De,update:Ye,subTree:ze,um:Ve}=K;Ue&&c2(Ue),De.stop(),Ye&&(Ye.active=!1,J(ze,K,ce,ie)),Ve&&ro(Ve,ce),ro(()=>{K.isUnmounted=!0},ce),ce&&ce.pendingBranch&&!ce.isUnmounted&&K.asyncDep&&!K.asyncResolved&&K.suspenseId===ce.pendingId&&(ce.deps--,ce.deps===0&&ce.resolve())},le=(K,ce,ie,Ue=!1,De=!1,Ye=0)=>{for(let ze=Ye;ze<K.length;ze++)J(K[ze],ce,ie,Ue,De)},fe=K=>K.shapeFlag&6?fe(K.component.subTree):K.shapeFlag&128?K.suspense.next():f(K.anchor||K.el),Ee=(K,ce,ie)=>{K==null?ce._vnode&&J(ce._vnode,null,null,!0):m(ce._vnode||null,K,ce,null,null,null,ie),QO(),wq(),ce._vnode=K},Re={p:m,um:J,m:X,r:Q,mt:F,mc:C,pc:z,pbc:A,n:fe,o:n};let He,$e;return e&&([He,$e]=e(Re)),{render:Ee,hydrate:He,createApp:$oe(Ee,He)}}function Sh({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function vk(n,e,t=!1){const r=n.children,i=e.children;if(Tt(r)&&Tt(i))for(let a=0;a<r.length;a++){const s=r[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=hf(i[a]),o.el=s.el),t||vk(s,o)),o.type===zg&&(o.el=s.el)}}function Zoe(n){const e=n.slice(),t=[0];let r,i,a,s,o;const l=n.length;for(r=0;r<l;r++){const c=n[r];if(c!==0){if(i=t[t.length-1],n[i]<c){e[r]=i,t.push(r);continue}for(a=0,s=t.length-1;a<s;)o=a+s>>1,n[t[o]]<c?a=o+1:s=o;c<n[t[a]]&&(a>0&&(e[r]=t[a-1]),t[a]=r)}}for(a=t.length,s=t[a-1];a-- >0;)t[a]=s,s=e[s];return t}const Qoe=n=>n.__isTeleport,O1=n=>n&&(n.disabled||n.disabled===""),uB=n=>typeof SVGElement<"u"&&n instanceof SVGElement,r5=(n,e)=>{const t=n&&n.to;return qt(t)?e?e(t):null:t},Joe={__isTeleport:!0,process(n,e,t,r,i,a,s,o,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:v}}=c,g=O1(e.props);let{shapeFlag:y,children:b,dynamicChildren:_}=e;if(n==null){const x=e.el=m(""),S=e.anchor=m("");h(x,t,r),h(S,t,r);const T=e.target=r5(e.props,p),C=e.targetAnchor=m("");T&&(h(C,T),s=s||uB(T));const M=(A,I)=>{y&16&&u(b,A,I,i,a,s,o,l)};g?M(t,S):T&&M(T,C)}else{e.el=n.el;const x=e.anchor=n.anchor,S=e.target=n.target,T=e.targetAnchor=n.targetAnchor,C=O1(n.props),M=C?t:S,A=C?x:T;if(s=s||uB(S),_?(f(n.dynamicChildren,_,M,i,a,s,o),vk(n,e,!0)):l||d(n,e,M,A,i,a,s,o,!1),g)C||Ow(e,t,x,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const I=e.target=r5(e.props,p);I&&Ow(e,I,null,c,0)}else C&&Ow(e,S,T,c,1)}Uq(e)},remove(n,e,t,r,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:c,targetAnchor:u,target:d,props:f}=n;if(d&&a(u),(s||!O1(f))&&(a(c),o&16))for(let h=0;h<l.length;h++){const p=l[h];i(p,e,t,!0,!!p.dynamicChildren)}},move:Ow,hydrate:ele};function Ow(n,e,t,{o:{insert:r},m:i},a=2){a===0&&r(n.targetAnchor,e,t);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=n,d=a===2;if(d&&r(s,e,t),(!d||O1(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,t,2);d&&r(o,e,t)}function ele(n,e,t,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},c){const u=e.target=r5(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(O1(e.props))e.anchor=c(s(n),e,o(n),t,r,i,a),e.targetAnchor=d;else{e.anchor=s(n);let f=d;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(d,e,u,t,r,i,a)}Uq(e)}return e.anchor&&s(e.anchor)}const tle=Joe;function Uq(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const zt=Symbol.for("v-fgt"),zg=Symbol.for("v-txt"),Ss=Symbol.for("v-cmt"),l3=Symbol.for("v-stc"),B1=[];let ac=null;function V(n=!1){B1.push(ac=n?null:[])}function nle(){B1.pop(),ac=B1[B1.length-1]||null}let Pb=1;function dB(n){Pb+=n}function Hq(n){return n.dynamicChildren=Pb>0?ac||Cv:null,nle(),Pb>0&&ac&&ac.push(n),n}function ue(n,e,t,r,i,a){return Hq(me(n,e,t,r,i,a,!0))}function rt(n,e,t,r,i){return Hq(se(n,e,t,r,i,!0))}function vi(n){return n?n.__v_isVNode===!0:!1}function dp(n,e){return n.type===e.type&&n.key===e.key}const rT="__vInternal",Vq=({key:n})=>n??null,u2=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?qt(n)||Kr(n)||Zt(n)?{i:ja,r:n,k:e,f:!!t}:n:null);function me(n,e=null,t=null,r=0,i=null,a=n===zt?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&Vq(e),ref:e&&u2(e),scopeId:QM,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ja};return o?(gk(l,t),a&128&&n.normalize(l)):t&&(l.shapeFlag|=qt(t)?8:16),Pb>0&&!s&&ac&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ac.push(l),l}const se=rle;function rle(n,e=null,t=null,r=0,i=null,a=!1){if((!n||n===Rq)&&(n=Ss),vi(n)){const o=ad(n,e,!0);return t&&gk(o,t),Pb>0&&!a&&ac&&(o.shapeFlag&6?ac[ac.indexOf(n)]=o:ac.push(o)),o.patchFlag|=-2,o}if(dle(n)&&(n=n.__vccOpts),e){e=$f(e);let{class:o,style:l}=e;o&&!qt(o)&&(e.class=j(o)),Pn(l)&&(mq(l)&&!Tt(l)&&(l=oa({},l)),e.style=Bt(l))}const s=qt(n)?1:Coe(n)?128:Qoe(n)?64:Pn(n)?4:Zt(n)?2:0;return me(n,e,t,r,i,s,a,!0)}function $f(n){return n?mq(n)||rT in n?oa({},n):n:null}function ad(n,e,t=!1){const{props:r,ref:i,patchFlag:a,children:s}=n,o=e?Hn(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:o,key:o&&Vq(o),ref:e&&e.ref?t&&i?Tt(i)?i.concat(u2(e)):[i,u2(e)]:u2(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==zt?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&ad(n.ssContent),ssFallback:n.ssFallback&&ad(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function dn(n=" ",e=0){return se(zg,null,n,e)}function Qe(n="",e=!1){return e?(V(),rt(Ss,null,n)):se(Ss,null,n)}function Fc(n){return n==null||typeof n=="boolean"?se(Ss):Tt(n)?se(zt,null,n.slice()):typeof n=="object"?hf(n):se(zg,null,String(n))}function hf(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:ad(n)}function gk(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(Tt(e))t=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),gk(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!(rT in e)?e._ctx=ja:i===3&&ja&&(ja.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Zt(e)?(e={default:e,_ctx:ja},t=32):(e=String(e),r&64?(t=16,e=[dn(e)]):t=8);n.children=e,n.shapeFlag|=t}function Hn(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=j([e.class,r.class]));else if(i==="style")e.style=Bt([e.style,r.style]);else if(qM(i)){const a=e[i],s=r[i];s&&a!==s&&!(Tt(a)&&a.includes(s))&&(e[i]=a?[].concat(a,s):s)}else i!==""&&(e[i]=r[i])}return e}function Pc(n,e,t,r=null){wl(n,e,7,[t,r])}const ile=Lq();let ale=0;function sle(n,e,t){const r=n.type,i=(e?e.appContext:n.appContext)||ile,a={uid:ale++,vnode:n,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new tq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Oq(r,i),emitsOptions:Sq(r,i),emit:null,emitted:null,propsDefaults:ki,inheritAttrs:r.inheritAttrs,ctx:ki,data:ki,props:ki,attrs:ki,slots:ki,refs:ki,setupState:ki,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=boe.bind(null,a),n.ce&&n.ce(a),a}let Na=null;const Dn=()=>Na||ja;let yk,Vm,fB="__VUE_INSTANCE_SETTERS__";(Vm=KI()[fB])||(Vm=KI()[fB]=[]),Vm.push(n=>Na=n),yk=n=>{Vm.length>1?Vm.forEach(e=>e(n)):Vm[0](n)};const Xv=n=>{yk(n),n.scope.on()},Up=()=>{Na&&Na.scope.off(),yk(null)};function $q(n){return n.vnode.shapeFlag&4}let Db=!1;function ole(n,e=!1){Db=e;const{props:t,children:r}=n.vnode,i=$q(n);Goe(n,t,i,e),Koe(n,r);const a=i?lle(n,e):void 0;return Db=!1,a}function lle(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=Ju(new Proxy(n.ctx,Ooe));const{setup:r}=t;if(r){const i=n.setupContext=r.length>1?Wq(n):null;Xv(n),Og();const a=Af(r,n,0,[n.props,i]);if(Bg(),Up(),Sb(a)){if(a.then(Up,Up),e)return a.then(s=>{hB(n,s,e)}).catch(s=>{jM(s,n,0)});n.asyncDep=a}else hB(n,a,e)}else Gq(n,e)}function hB(n,e,t){Zt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Pn(e)&&(n.setupState=gq(e)),Gq(n,t)}let pB;function Gq(n,e,t){const r=n.type;if(!n.render){if(!e&&pB&&!r.render){const i=r.template||pk(n).template;if(i){const{isCustomElement:a,compilerOptions:s}=n.appContext.config,{delimiters:o,compilerOptions:l}=r,c=oa(oa({isCustomElement:a,delimiters:o},s),l);r.render=pB(i,c)}}n.render=r.render||Sr}Xv(n),Og(),Boe(n),Bg(),Up()}function cle(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return vo(n,"get","$attrs"),e[t]}}))}function Wq(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return cle(n)},slots:n.slots,emit:n.emit,expose:e}}function iT(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(gq(Ju(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in N1)return N1[t](n)},has(e,t){return t in e||t in N1}}))}function ule(n,e=!0){return Zt(n)?n.displayName||n.name:n.name||e&&n.__name}function dle(n){return Zt(n)&&"__vccOpts"in n}const U=(n,e)=>foe(n,e,Db);function Gt(n,e,t){const r=arguments.length;return r===2?Pn(e)&&!Tt(e)?vi(e)?se(n,null,[e]):se(n,e):se(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&vi(t)&&(t=[t]),se(n,e,t))}const fle=Symbol.for("v-scx"),hle=()=>Ot(fle),ple="3.3.4",mle="http://www.w3.org/2000/svg",fp=typeof document<"u"?document:null,mB=fp&&fp.createElement("template"),vle={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const i=e?fp.createElementNS(mle,n):fp.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>fp.createTextNode(n),createComment:n=>fp.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>fp.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,i,a){const s=t?t.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===a||!(i=i.nextSibling)););else{mB.innerHTML=r?`<svg>${n}</svg>`:n;const o=mB.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function gle(n,e,t){const r=n._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function yle(n,e,t){const r=n.style,i=qt(t);if(t&&!i){if(e&&!qt(e))for(const a in e)t[a]==null&&i5(r,a,"");for(const a in t)i5(r,a,t[a])}else{const a=r.display;i?e!==t&&(r.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(r.display=a)}}const vB=/\s*!important$/;function i5(n,e,t){if(Tt(t))t.forEach(r=>i5(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=ble(n,e);vB.test(t)?n.setProperty(dh(r),t.replace(vB,""),"important"):n[r]=t}}const gB=["Webkit","Moz","ms"],c3={};function ble(n,e){const t=c3[e];if(t)return t;let r=Wo(e);if(r!=="filter"&&r in n)return c3[e]=r;r=U_(r);for(let i=0;i<gB.length;i++){const a=gB[i]+r;if(a in n)return c3[e]=a}return e}const yB="http://www.w3.org/1999/xlink";function _le(n,e,t,r,i){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(yB,e.slice(6,e.length)):n.setAttributeNS(yB,e,t);else{const a=Ese(e);t==null||a&&!QW(t)?n.removeAttribute(e):n.setAttribute(e,a?"":t)}}function wle(n,e,t,r,i,a,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,a),n[e]=t??"";return}const o=n.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){n._value=t;const c=o==="OPTION"?n.getAttribute("value"):n.value,u=t??"";c!==u&&(n.value=u),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=QW(t):t==null&&c==="string"?(t="",l=!0):c==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function vf(n,e,t,r){n.addEventListener(e,t,r)}function xle(n,e,t,r){n.removeEventListener(e,t,r)}function Sle(n,e,t,r,i=null){const a=n._vei||(n._vei={}),s=a[e];if(r&&s)s.value=r;else{const[o,l]=Cle(e);if(r){const c=a[e]=Ale(r,i);vf(n,o,c,l)}else s&&(xle(n,o,s,l),a[e]=void 0)}}const bB=/(?:Once|Passive|Capture)$/;function Cle(n){let e;if(bB.test(n)){e={};let r;for(;r=n.match(bB);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):dh(n.slice(2)),e]}let u3=0;const Mle=Promise.resolve(),Tle=()=>u3||(Mle.then(()=>u3=0),u3=Date.now());function Ale(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;wl(Ele(r,t.value),e,5,[r])};return t.value=n,t.attached=Tle(),t}function Ele(n,e){if(Tt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const _B=/^on[a-z]/,Ile=(n,e,t,r,i=!1,a,s,o,l)=>{e==="class"?gle(n,r,i):e==="style"?yle(n,t,r):qM(e)?YD(e)||Sle(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Rle(n,e,r,i))?wle(n,e,r,a,s,o,l):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),_le(n,e,r,i))};function Rle(n,e,t,r){return r?!!(e==="innerHTML"||e==="textContent"||e in n&&_B.test(e)&&Zt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||_B.test(e)&&qt(t)?!1:e in n}const Ld="transition",My="animation",ca=(n,{slots:e})=>Gt(Eoe,Kq(n),e);ca.displayName="Transition";const qq={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ple=ca.props=oa({},Tq,qq),Ch=(n,e=[])=>{Tt(n)?n.forEach(t=>t(...e)):n&&n(...e)},wB=n=>n?Tt(n)?n.some(e=>e.length>1):n.length>1:!1;function Kq(n){const e={};for(const D in n)D in qq||(e[D]=n[D]);if(n.css===!1)return e;const{name:t="v",type:r,duration:i,enterFromClass:a=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:o=`${t}-enter-to`,appearFromClass:l=a,appearActiveClass:c=s,appearToClass:u=o,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,p=Dle(i),m=p&&p[0],v=p&&p[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:x,onBeforeAppear:S=g,onAppear:T=y,onAppearCancelled:C=b}=e,M=(D,L,F)=>{of(D,L?u:o),of(D,L?c:s),F&&F()},A=(D,L)=>{D._isLeaving=!1,of(D,d),of(D,h),of(D,f),L&&L()},I=D=>(L,F)=>{const B=D?T:y,k=()=>M(L,D,F);Ch(B,[L,k]),xB(()=>{of(L,D?l:a),Ou(L,D?u:o),wB(B)||SB(L,r,m,k)})};return oa(e,{onBeforeEnter(D){Ch(g,[D]),Ou(D,a),Ou(D,s)},onBeforeAppear(D){Ch(S,[D]),Ou(D,l),Ou(D,c)},onEnter:I(!1),onAppear:I(!0),onLeave(D,L){D._isLeaving=!0;const F=()=>A(D,L);Ou(D,d),Xq(),Ou(D,f),xB(()=>{D._isLeaving&&(of(D,d),Ou(D,h),wB(_)||SB(D,r,v,F))}),Ch(_,[D,F])},onEnterCancelled(D){M(D,!1),Ch(b,[D])},onAppearCancelled(D){M(D,!0),Ch(C,[D])},onLeaveCancelled(D){A(D),Ch(x,[D])}})}function Dle(n){if(n==null)return null;if(Pn(n))return[d3(n.enter),d3(n.leave)];{const e=d3(n);return[e,e]}}function d3(n){return xse(n)}function Ou(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function of(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function xB(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let kle=0;function SB(n,e,t,r){const i=n._endId=++kle,a=()=>{i===n._endId&&r()};if(t)return setTimeout(a,t);const{type:s,timeout:o,propCount:l}=Yq(n,e);if(!s)return r();const c=s+"end";let u=0;const d=()=>{n.removeEventListener(c,f),a()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),n.addEventListener(c,f)}function Yq(n,e){const t=window.getComputedStyle(n),r=p=>(t[p]||"").split(", "),i=r(`${Ld}Delay`),a=r(`${Ld}Duration`),s=CB(i,a),o=r(`${My}Delay`),l=r(`${My}Duration`),c=CB(o,l);let u=null,d=0,f=0;e===Ld?s>0&&(u=Ld,d=s,f=a.length):e===My?c>0&&(u=My,d=c,f=l.length):(d=Math.max(s,c),u=d>0?s>c?Ld:My:null,f=u?u===Ld?a.length:l.length:0);const h=u===Ld&&/\b(transform|all)(,|$)/.test(r(`${Ld}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function CB(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>MB(t)+MB(n[r])))}function MB(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function Xq(){return document.body.offsetHeight}const jq=new WeakMap,Zq=new WeakMap,Qq={name:"TransitionGroup",props:oa({},Ple,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=Dn(),r=Mq();let i,a;return Nl(()=>{if(!i.length)return;const s=n.moveClass||`${n.name||"v"}-move`;if(!Fle(i[0].el,t.vnode.el,s))return;i.forEach(Nle),i.forEach(Ole);const o=i.filter(Ble);Xq(),o.forEach(l=>{const c=l.el,u=c.style;Ou(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,of(c,s))};c.addEventListener("transitionend",d)})}),()=>{const s=Lr(n),o=Kq(s);let l=s.tag||zt;i=a,a=e.default?ck(e.default()):[];for(let c=0;c<a.length;c++){const u=a[c];u.key!=null&&Rb(u,Ib(u,o,r,t))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Rb(u,Ib(u,o,r,t)),jq.set(u,u.el.getBoundingClientRect())}return se(l,null,a)}}},Lle=n=>delete n.mode;Qq.props;const Jq=Qq;function Nle(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function Ole(n){Zq.set(n,n.el.getBoundingClientRect())}function Ble(n){const e=jq.get(n),t=Zq.get(n),r=e.left-t.left,i=e.top-t.top;if(r||i){const a=n.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",n}}function Fle(n,e,t){const r=n.cloneNode();n._vtc&&n._vtc.forEach(s=>{s.split(/\s+/).forEach(o=>o&&r.classList.remove(o))}),t.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:a}=Yq(r);return i.removeChild(r),a}const jv=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Tt(e)?t=>c2(e,t):e};function zle(n){n.target.composing=!0}function TB(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const aT={created(n,{modifiers:{lazy:e,trim:t,number:r}},i){n._assign=jv(i);const a=r||i.props&&i.props.type==="number";vf(n,e?"change":"input",s=>{if(s.target.composing)return;let o=n.value;t&&(o=o.trim()),a&&(o=qI(o)),n._assign(o)}),t&&vf(n,"change",()=>{n.value=n.value.trim()}),e||(vf(n,"compositionstart",zle),vf(n,"compositionend",TB),vf(n,"change",TB))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:r,number:i}},a){if(n._assign=jv(a),n.composing||document.activeElement===n&&n.type!=="range"&&(t||r&&n.value.trim()===e||(i||n.type==="number")&&qI(n.value)===e))return;const s=e??"";n.value!==s&&(n.value=s)}},pC={deep:!0,created(n,e,t){n._assign=jv(t),vf(n,"change",()=>{const r=n._modelValue,i=tK(n),a=n.checked,s=n._assign;if(Tt(r)){const o=JW(r,i),l=o!==-1;if(a&&!l)s(r.concat(i));else if(!a&&l){const c=[...r];c.splice(o,1),s(c)}}else if(KM(r)){const o=new Set(r);a?o.add(i):o.delete(i),s(o)}else s(nK(n,a))})},mounted:AB,beforeUpdate(n,e,t){n._assign=jv(t),AB(n,e,t)}};function AB(n,{value:e,oldValue:t},r){n._modelValue=e,Tt(e)?n.checked=JW(e,r.props.value)>-1:KM(e)?n.checked=e.has(r.props.value):e!==t&&(n.checked=Kv(e,nK(n,!0)))}const eK={created(n,{value:e},t){n.checked=Kv(e,t.props.value),n._assign=jv(t),vf(n,"change",()=>{n._assign(tK(n))})},beforeUpdate(n,{value:e,oldValue:t},r){n._assign=jv(r),e!==t&&(n.checked=Kv(e,r.props.value))}};function tK(n){return"_value"in n?n._value:n.value}function nK(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const Ule=["ctrl","shift","alt","meta"],Hle={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>Ule.some(t=>n[`${t}Key`]&&!e.includes(t))},sn=(n,e)=>(t,...r)=>{for(let i=0;i<e.length;i++){const a=Hle[e[i]];if(a&&a(t,e))return}return n(t,...r)},Vle={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ur=(n,e)=>t=>{if(!("key"in t))return;const r=dh(t.key);if(e.some(i=>i===r||Vle[i]===r))return n(t)},fr={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):Ty(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),Ty(n,!0),r.enter(n)):r.leave(n,()=>{Ty(n,!1)}):Ty(n,e))},beforeUnmount(n,{value:e}){Ty(n,e)}};function Ty(n,e){n.style.display=e?n._vod:"none"}const $le=oa({patchProp:Ile},vle);let EB;function rK(){return EB||(EB=Xoe($le))}const Gf=(...n)=>{rK().render(...n)},iK=(...n)=>{const e=rK().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=Gle(r);if(!i)return;const a=e._component;!Zt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function Gle(n){return qt(n)?document.querySelector(n):n}const Wle="2.9.1",IB=Symbol("INSTALLED_KEY"),aK=Symbol(),F1="el",qle="is-",Mh=(n,e,t,r,i)=>{let a=`${n}-${e}`;return t&&(a+=`-${t}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},sK=Symbol("namespaceContextKey"),bk=n=>{const e=n||(Dn()?Ot(sK,ee(F1)):ee(F1));return U(()=>w(e)||F1)},bt=(n,e)=>{const t=bk(e);return{namespace:t,b:(m="")=>Mh(t.value,n,m,"",""),e:m=>m?Mh(t.value,n,"",m,""):"",m:m=>m?Mh(t.value,n,"","",m):"",be:(m,v)=>m&&v?Mh(t.value,n,m,v,""):"",em:(m,v)=>m&&v?Mh(t.value,n,"",m,v):"",bm:(m,v)=>m&&v?Mh(t.value,n,m,"",v):"",bem:(m,v,g)=>m&&v&&g?Mh(t.value,n,m,v,g):"",is:(m,...v)=>{const g=v.length>=1?v[0]:!0;return m&&g?`${qle}${m}`:""},cssVar:m=>{const v={};for(const g in m)m[g]&&(v[`--${t.value}-${g}`]=m[g]);return v},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const v={};for(const g in m)m[g]&&(v[`--${t.value}-${n}-${g}`]=m[g]);return v},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}};var Kle=typeof global=="object"&&global&&global.Object===Object&&global;const oK=Kle;var Yle=typeof self=="object"&&self&&self.Object===Object&&self,Xle=oK||Yle||Function("return this")();const _c=Xle;var jle=_c.Symbol;const Il=jle;var lK=Object.prototype,Zle=lK.hasOwnProperty,Qle=lK.toString,Ay=Il?Il.toStringTag:void 0;function Jle(n){var e=Zle.call(n,Ay),t=n[Ay];try{n[Ay]=void 0;var r=!0}catch{}var i=Qle.call(n);return r&&(e?n[Ay]=t:delete n[Ay]),i}var ece=Object.prototype,tce=ece.toString;function nce(n){return tce.call(n)}var rce="[object Null]",ice="[object Undefined]",RB=Il?Il.toStringTag:void 0;function xm(n){return n==null?n===void 0?ice:rce:RB&&RB in Object(n)?Jle(n):nce(n)}function eu(n){return n!=null&&typeof n=="object"}var ace="[object Symbol]";function sT(n){return typeof n=="symbol"||eu(n)&&xm(n)==ace}function _k(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var sce=Array.isArray;const qs=sce;var oce=1/0,PB=Il?Il.prototype:void 0,DB=PB?PB.toString:void 0;function cK(n){if(typeof n=="string")return n;if(qs(n))return _k(n,cK)+"";if(sT(n))return DB?DB.call(n):"";var e=n+"";return e=="0"&&1/n==-oce?"-0":e}var lce=/\s/;function cce(n){for(var e=n.length;e--&&lce.test(n.charAt(e)););return e}var uce=/^\s+/;function dce(n){return n&&n.slice(0,cce(n)+1).replace(uce,"")}function Ks(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var kB=0/0,fce=/^[-+]0x[0-9a-f]+$/i,hce=/^0b[01]+$/i,pce=/^0o[0-7]+$/i,mce=parseInt;function a5(n){if(typeof n=="number")return n;if(sT(n))return kB;if(Ks(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Ks(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=dce(n);var t=hce.test(n);return t||pce.test(n)?mce(n.slice(2),t?2:8):fce.test(n)?kB:+n}var LB=1/0,vce=17976931348623157e292;function gce(n){if(!n)return n===0?n:0;if(n=a5(n),n===LB||n===-LB){var e=n<0?-1:1;return e*vce}return n===n?n:0}function yce(n){var e=gce(n),t=e%1;return e===e?t?e-t:e:0}function wk(n){return n}var bce="[object AsyncFunction]",_ce="[object Function]",wce="[object GeneratorFunction]",xce="[object Proxy]";function xk(n){if(!Ks(n))return!1;var e=xm(n);return e==_ce||e==wce||e==bce||e==xce}var Sce=_c["__core-js_shared__"];const f3=Sce;var NB=function(){var n=/[^.]+$/.exec(f3&&f3.keys&&f3.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Cce(n){return!!NB&&NB in n}var Mce=Function.prototype,Tce=Mce.toString;function Sm(n){if(n!=null){try{return Tce.call(n)}catch{}try{return n+""}catch{}}return""}var Ace=/[\\^$.*+?()[\]{}|]/g,Ece=/^\[object .+?Constructor\]$/,Ice=Function.prototype,Rce=Object.prototype,Pce=Ice.toString,Dce=Rce.hasOwnProperty,kce=RegExp("^"+Pce.call(Dce).replace(Ace,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lce(n){if(!Ks(n)||Cce(n))return!1;var e=xk(n)?kce:Ece;return e.test(Sm(n))}function Nce(n,e){return n==null?void 0:n[e]}function Cm(n,e){var t=Nce(n,e);return Lce(t)?t:void 0}var Oce=Cm(_c,"WeakMap");const s5=Oce;var OB=Object.create,Bce=function(){function n(){}return function(e){if(!Ks(e))return{};if(OB)return OB(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const Fce=Bce;function zce(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Uce(){}function uK(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Hce=800,Vce=16,$ce=Date.now;function Gce(n){var e=0,t=0;return function(){var r=$ce(),i=Vce-(r-t);if(t=r,i>0){if(++e>=Hce)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Wce(n){return function(){return n}}var qce=function(){try{var n=Cm(Object,"defineProperty");return n({},"",{}),n}catch{}}();const mC=qce;var Kce=mC?function(n,e){return mC(n,"toString",{configurable:!0,enumerable:!1,value:Wce(e),writable:!0})}:wk;const Yce=Kce;var Xce=Gce(Yce);const dK=Xce;function jce(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function fK(n,e,t,r){for(var i=n.length,a=t+(r?1:-1);r?a--:++a<i;)if(e(n[a],a,n))return a;return-1}function Zce(n){return n!==n}function Qce(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}function Jce(n,e,t){return e===e?Qce(n,e,t):fK(n,Zce,t)}function eue(n,e){var t=n==null?0:n.length;return!!t&&Jce(n,e,0)>-1}var tue=9007199254740991,nue=/^(?:0|[1-9]\d*)$/;function oT(n,e){var t=typeof n;return e=e??tue,!!e&&(t=="number"||t!="symbol"&&nue.test(n))&&n>-1&&n%1==0&&n<e}function Sk(n,e,t){e=="__proto__"&&mC?mC(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function H_(n,e){return n===e||n!==n&&e!==e}var rue=Object.prototype,iue=rue.hasOwnProperty;function Ck(n,e,t){var r=n[e];(!(iue.call(n,e)&&H_(r,t))||t===void 0&&!(e in n))&&Sk(n,e,t)}function Ug(n,e,t,r){var i=!t;t||(t={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=r?r(t[o],n[o],o,t,n):void 0;l===void 0&&(l=n[o]),i?Sk(t,o,l):Ck(t,o,l)}return t}var BB=Math.max;function hK(n,e,t){return e=BB(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,a=BB(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=t(s),zce(n,this,o)}}function pK(n,e){return dK(hK(n,e,wk),n+"")}var aue=9007199254740991;function Mk(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=aue}function Hg(n){return n!=null&&Mk(n.length)&&!xk(n)}function sue(n,e,t){if(!Ks(t))return!1;var r=typeof e;return(r=="number"?Hg(t)&&oT(e,t.length):r=="string"&&e in t)?H_(t[e],n):!1}function oue(n){return pK(function(e,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=n.length>3&&typeof a=="function"?(i--,a):void 0,s&&sue(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var o=t[r];o&&n(e,o,r,a)}return e})}var lue=Object.prototype;function Tk(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||lue;return n===t}function cue(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var uue="[object Arguments]";function FB(n){return eu(n)&&xm(n)==uue}var mK=Object.prototype,due=mK.hasOwnProperty,fue=mK.propertyIsEnumerable,hue=FB(function(){return arguments}())?FB:function(n){return eu(n)&&due.call(n,"callee")&&!fue.call(n,"callee")};const kb=hue;function pue(){return!1}var vK=typeof Bo=="object"&&Bo&&!Bo.nodeType&&Bo,zB=vK&&typeof Fo=="object"&&Fo&&!Fo.nodeType&&Fo,mue=zB&&zB.exports===vK,UB=mue?_c.Buffer:void 0,vue=UB?UB.isBuffer:void 0,gue=vue||pue;const Lb=gue;var yue="[object Arguments]",bue="[object Array]",_ue="[object Boolean]",wue="[object Date]",xue="[object Error]",Sue="[object Function]",Cue="[object Map]",Mue="[object Number]",Tue="[object Object]",Aue="[object RegExp]",Eue="[object Set]",Iue="[object String]",Rue="[object WeakMap]",Pue="[object ArrayBuffer]",Due="[object DataView]",kue="[object Float32Array]",Lue="[object Float64Array]",Nue="[object Int8Array]",Oue="[object Int16Array]",Bue="[object Int32Array]",Fue="[object Uint8Array]",zue="[object Uint8ClampedArray]",Uue="[object Uint16Array]",Hue="[object Uint32Array]",Di={};Di[kue]=Di[Lue]=Di[Nue]=Di[Oue]=Di[Bue]=Di[Fue]=Di[zue]=Di[Uue]=Di[Hue]=!0;Di[yue]=Di[bue]=Di[Pue]=Di[_ue]=Di[Due]=Di[wue]=Di[xue]=Di[Sue]=Di[Cue]=Di[Mue]=Di[Tue]=Di[Aue]=Di[Eue]=Di[Iue]=Di[Rue]=!1;function Vue(n){return eu(n)&&Mk(n.length)&&!!Di[xm(n)]}function Ak(n){return function(e){return n(e)}}var gK=typeof Bo=="object"&&Bo&&!Bo.nodeType&&Bo,z1=gK&&typeof Fo=="object"&&Fo&&!Fo.nodeType&&Fo,$ue=z1&&z1.exports===gK,h3=$ue&&oK.process,Gue=function(){try{var n=z1&&z1.require&&z1.require("util").types;return n||h3&&h3.binding&&h3.binding("util")}catch{}}();const Zv=Gue;var HB=Zv&&Zv.isTypedArray,Wue=HB?Ak(HB):Vue;const Ek=Wue;var que=Object.prototype,Kue=que.hasOwnProperty;function yK(n,e){var t=qs(n),r=!t&&kb(n),i=!t&&!r&&Lb(n),a=!t&&!r&&!i&&Ek(n),s=t||r||i||a,o=s?cue(n.length,String):[],l=o.length;for(var c in n)(e||Kue.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oT(c,l)))&&o.push(c);return o}function bK(n,e){return function(t){return n(e(t))}}var Yue=bK(Object.keys,Object);const Xue=Yue;var jue=Object.prototype,Zue=jue.hasOwnProperty;function Que(n){if(!Tk(n))return Xue(n);var e=[];for(var t in Object(n))Zue.call(n,t)&&t!="constructor"&&e.push(t);return e}function V_(n){return Hg(n)?yK(n):Que(n)}function Jue(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var ede=Object.prototype,tde=ede.hasOwnProperty;function nde(n){if(!Ks(n))return Jue(n);var e=Tk(n),t=[];for(var r in n)r=="constructor"&&(e||!tde.call(n,r))||t.push(r);return t}function $_(n){return Hg(n)?yK(n,!0):nde(n)}var rde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ide=/^\w*$/;function Ik(n,e){if(qs(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||sT(n)?!0:ide.test(n)||!rde.test(n)||e!=null&&n in Object(e)}var ade=Cm(Object,"create");const Nb=ade;function sde(){this.__data__=Nb?Nb(null):{},this.size=0}function ode(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var lde="__lodash_hash_undefined__",cde=Object.prototype,ude=cde.hasOwnProperty;function dde(n){var e=this.__data__;if(Nb){var t=e[n];return t===lde?void 0:t}return ude.call(e,n)?e[n]:void 0}var fde=Object.prototype,hde=fde.hasOwnProperty;function pde(n){var e=this.__data__;return Nb?e[n]!==void 0:hde.call(e,n)}var mde="__lodash_hash_undefined__";function vde(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Nb&&e===void 0?mde:e,this}function Jp(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Jp.prototype.clear=sde;Jp.prototype.delete=ode;Jp.prototype.get=dde;Jp.prototype.has=pde;Jp.prototype.set=vde;function gde(){this.__data__=[],this.size=0}function lT(n,e){for(var t=n.length;t--;)if(H_(n[t][0],e))return t;return-1}var yde=Array.prototype,bde=yde.splice;function _de(n){var e=this.__data__,t=lT(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():bde.call(e,t,1),--this.size,!0}function wde(n){var e=this.__data__,t=lT(e,n);return t<0?void 0:e[t][1]}function xde(n){return lT(this.__data__,n)>-1}function Sde(n,e){var t=this.__data__,r=lT(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function bd(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}bd.prototype.clear=gde;bd.prototype.delete=_de;bd.prototype.get=wde;bd.prototype.has=xde;bd.prototype.set=Sde;var Cde=Cm(_c,"Map");const Ob=Cde;function Mde(){this.size=0,this.__data__={hash:new Jp,map:new(Ob||bd),string:new Jp}}function Tde(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function cT(n,e){var t=n.__data__;return Tde(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Ade(n){var e=cT(this,n).delete(n);return this.size-=e?1:0,e}function Ede(n){return cT(this,n).get(n)}function Ide(n){return cT(this,n).has(n)}function Rde(n,e){var t=cT(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function _d(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_d.prototype.clear=Mde;_d.prototype.delete=Ade;_d.prototype.get=Ede;_d.prototype.has=Ide;_d.prototype.set=Rde;var Pde="Expected a function";function uT(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(Pde);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var s=n.apply(this,r);return t.cache=a.set(i,s)||a,s};return t.cache=new(uT.Cache||_d),t}uT.Cache=_d;var Dde=500;function kde(n){var e=uT(n,function(r){return t.size===Dde&&t.clear(),r}),t=e.cache;return e}var Lde=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nde=/\\(\\)?/g,Ode=kde(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(Lde,function(t,r,i,a){e.push(i?a.replace(Nde,"$1"):r||t)}),e});const Bde=Ode;function Fde(n){return n==null?"":cK(n)}function Vg(n,e){return qs(n)?n:Ik(n,e)?[n]:Bde(Fde(n))}var zde=1/0;function $g(n){if(typeof n=="string"||sT(n))return n;var e=n+"";return e=="0"&&1/n==-zde?"-0":e}function dT(n,e){e=Vg(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[$g(e[t++])];return t&&t==r?n:void 0}function Vi(n,e,t){var r=n==null?void 0:dT(n,e);return r===void 0?t:r}function Rk(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var VB=Il?Il.isConcatSpreadable:void 0;function Ude(n){return qs(n)||kb(n)||!!(VB&&n&&n[VB])}function G_(n,e,t,r,i){var a=-1,s=n.length;for(t||(t=Ude),i||(i=[]);++a<s;){var o=n[a];e>0&&t(o)?e>1?G_(o,e-1,t,r,i):Rk(i,o):r||(i[i.length]=o)}return i}function _K(n){var e=n==null?0:n.length;return e?G_(n,1):[]}function wK(n){return dK(hK(n,void 0,_K),n+"")}var Hde=bK(Object.getPrototypeOf,Object);const Pk=Hde;var Vde="[object Object]",$de=Function.prototype,Gde=Object.prototype,xK=$de.toString,Wde=Gde.hasOwnProperty,qde=xK.call(Object);function SK(n){if(!eu(n)||xm(n)!=Vde)return!1;var e=Pk(n);if(e===null)return!0;var t=Wde.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&xK.call(t)==qde}function Kde(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=n[r+e];return a}function bs(){if(!arguments.length)return[];var n=arguments[0];return qs(n)?n:[n]}function Yde(){this.__data__=new bd,this.size=0}function Xde(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function jde(n){return this.__data__.get(n)}function Zde(n){return this.__data__.has(n)}var Qde=200;function Jde(n,e){var t=this.__data__;if(t instanceof bd){var r=t.__data__;if(!Ob||r.length<Qde-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new _d(r)}return t.set(n,e),this.size=t.size,this}function fc(n){var e=this.__data__=new bd(n);this.size=e.size}fc.prototype.clear=Yde;fc.prototype.delete=Xde;fc.prototype.get=jde;fc.prototype.has=Zde;fc.prototype.set=Jde;function efe(n,e){return n&&Ug(e,V_(e),n)}function tfe(n,e){return n&&Ug(e,$_(e),n)}var CK=typeof Bo=="object"&&Bo&&!Bo.nodeType&&Bo,$B=CK&&typeof Fo=="object"&&Fo&&!Fo.nodeType&&Fo,nfe=$B&&$B.exports===CK,GB=nfe?_c.Buffer:void 0,WB=GB?GB.allocUnsafe:void 0;function MK(n,e){if(e)return n.slice();var t=n.length,r=WB?WB(t):new n.constructor(t);return n.copy(r),r}function rfe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,a=[];++t<r;){var s=n[t];e(s,t,n)&&(a[i++]=s)}return a}function TK(){return[]}var ife=Object.prototype,afe=ife.propertyIsEnumerable,qB=Object.getOwnPropertySymbols,sfe=qB?function(n){return n==null?[]:(n=Object(n),rfe(qB(n),function(e){return afe.call(n,e)}))}:TK;const Dk=sfe;function ofe(n,e){return Ug(n,Dk(n),e)}var lfe=Object.getOwnPropertySymbols,cfe=lfe?function(n){for(var e=[];n;)Rk(e,Dk(n)),n=Pk(n);return e}:TK;const AK=cfe;function ufe(n,e){return Ug(n,AK(n),e)}function EK(n,e,t){var r=e(n);return qs(n)?r:Rk(r,t(n))}function o5(n){return EK(n,V_,Dk)}function IK(n){return EK(n,$_,AK)}var dfe=Cm(_c,"DataView");const l5=dfe;var ffe=Cm(_c,"Promise");const c5=ffe;var hfe=Cm(_c,"Set");const Ev=hfe;var KB="[object Map]",pfe="[object Object]",YB="[object Promise]",XB="[object Set]",jB="[object WeakMap]",ZB="[object DataView]",mfe=Sm(l5),vfe=Sm(Ob),gfe=Sm(c5),yfe=Sm(Ev),bfe=Sm(s5),ip=xm;(l5&&ip(new l5(new ArrayBuffer(1)))!=ZB||Ob&&ip(new Ob)!=KB||c5&&ip(c5.resolve())!=YB||Ev&&ip(new Ev)!=XB||s5&&ip(new s5)!=jB)&&(ip=function(n){var e=xm(n),t=e==pfe?n.constructor:void 0,r=t?Sm(t):"";if(r)switch(r){case mfe:return ZB;case vfe:return KB;case gfe:return YB;case yfe:return XB;case bfe:return jB}return e});const Bb=ip;var _fe=Object.prototype,wfe=_fe.hasOwnProperty;function xfe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&wfe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Sfe=_c.Uint8Array;const vC=Sfe;function kk(n){var e=new n.constructor(n.byteLength);return new vC(e).set(new vC(n)),e}function Cfe(n,e){var t=e?kk(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Mfe=/\w*$/;function Tfe(n){var e=new n.constructor(n.source,Mfe.exec(n));return e.lastIndex=n.lastIndex,e}var QB=Il?Il.prototype:void 0,JB=QB?QB.valueOf:void 0;function Afe(n){return JB?Object(JB.call(n)):{}}function RK(n,e){var t=e?kk(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var Efe="[object Boolean]",Ife="[object Date]",Rfe="[object Map]",Pfe="[object Number]",Dfe="[object RegExp]",kfe="[object Set]",Lfe="[object String]",Nfe="[object Symbol]",Ofe="[object ArrayBuffer]",Bfe="[object DataView]",Ffe="[object Float32Array]",zfe="[object Float64Array]",Ufe="[object Int8Array]",Hfe="[object Int16Array]",Vfe="[object Int32Array]",$fe="[object Uint8Array]",Gfe="[object Uint8ClampedArray]",Wfe="[object Uint16Array]",qfe="[object Uint32Array]";function Kfe(n,e,t){var r=n.constructor;switch(e){case Ofe:return kk(n);case Efe:case Ife:return new r(+n);case Bfe:return Cfe(n,t);case Ffe:case zfe:case Ufe:case Hfe:case Vfe:case $fe:case Gfe:case Wfe:case qfe:return RK(n,t);case Rfe:return new r;case Pfe:case Lfe:return new r(n);case Dfe:return Tfe(n);case kfe:return new r;case Nfe:return Afe(n)}}function PK(n){return typeof n.constructor=="function"&&!Tk(n)?Fce(Pk(n)):{}}var Yfe="[object Map]";function Xfe(n){return eu(n)&&Bb(n)==Yfe}var e7=Zv&&Zv.isMap,jfe=e7?Ak(e7):Xfe;const Zfe=jfe;var Qfe="[object Set]";function Jfe(n){return eu(n)&&Bb(n)==Qfe}var t7=Zv&&Zv.isSet,ehe=t7?Ak(t7):Jfe;const the=ehe;var nhe=1,rhe=2,ihe=4,DK="[object Arguments]",ahe="[object Array]",she="[object Boolean]",ohe="[object Date]",lhe="[object Error]",kK="[object Function]",che="[object GeneratorFunction]",uhe="[object Map]",dhe="[object Number]",LK="[object Object]",fhe="[object RegExp]",hhe="[object Set]",phe="[object String]",mhe="[object Symbol]",vhe="[object WeakMap]",ghe="[object ArrayBuffer]",yhe="[object DataView]",bhe="[object Float32Array]",_he="[object Float64Array]",whe="[object Int8Array]",xhe="[object Int16Array]",She="[object Int32Array]",Che="[object Uint8Array]",Mhe="[object Uint8ClampedArray]",The="[object Uint16Array]",Ahe="[object Uint32Array]",Ii={};Ii[DK]=Ii[ahe]=Ii[ghe]=Ii[yhe]=Ii[she]=Ii[ohe]=Ii[bhe]=Ii[_he]=Ii[whe]=Ii[xhe]=Ii[She]=Ii[uhe]=Ii[dhe]=Ii[LK]=Ii[fhe]=Ii[hhe]=Ii[phe]=Ii[mhe]=Ii[Che]=Ii[Mhe]=Ii[The]=Ii[Ahe]=!0;Ii[lhe]=Ii[kK]=Ii[vhe]=!1;function Iv(n,e,t,r,i,a){var s,o=e&nhe,l=e&rhe,c=e&ihe;if(t&&(s=i?t(n,r,i,a):t(n)),s!==void 0)return s;if(!Ks(n))return n;var u=qs(n);if(u){if(s=xfe(n),!o)return uK(n,s)}else{var d=Bb(n),f=d==kK||d==che;if(Lb(n))return MK(n,o);if(d==LK||d==DK||f&&!i){if(s=l||f?{}:PK(n),!o)return l?ufe(n,tfe(s,n)):ofe(n,efe(s,n))}else{if(!Ii[d])return i?n:{};s=Kfe(n,d,o)}}a||(a=new fc);var h=a.get(n);if(h)return h;a.set(n,s),the(n)?n.forEach(function(v){s.add(Iv(v,e,t,v,n,a))}):Zfe(n)&&n.forEach(function(v,g){s.set(g,Iv(v,e,t,g,n,a))});var p=c?l?IK:o5:l?$_:V_,m=u?void 0:p(n);return jce(m||n,function(v,g){m&&(g=v,v=n[g]),Ck(s,g,Iv(v,e,t,g,n,a))}),s}var Ehe=4;function n7(n){return Iv(n,Ehe)}var Ihe=1,Rhe=4;function gC(n){return Iv(n,Ihe|Rhe)}var Phe="__lodash_hash_undefined__";function Dhe(n){return this.__data__.set(n,Phe),this}function khe(n){return this.__data__.has(n)}function Fb(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new _d;++e<t;)this.add(n[e])}Fb.prototype.add=Fb.prototype.push=Dhe;Fb.prototype.has=khe;function Lhe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function NK(n,e){return n.has(e)}var Nhe=1,Ohe=2;function OK(n,e,t,r,i,a){var s=t&Nhe,o=n.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(n),u=a.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&Ohe?new Fb:void 0;for(a.set(n,e),a.set(e,n);++d<o;){var p=n[d],m=e[d];if(r)var v=s?r(m,p,d,e,n,a):r(p,m,d,n,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!Lhe(e,function(g,y){if(!NK(h,y)&&(p===g||i(p,g,t,r,a)))return h.push(y)})){f=!1;break}}else if(!(p===m||i(p,m,t,r,a))){f=!1;break}}return a.delete(n),a.delete(e),f}function Bhe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function Lk(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Fhe=1,zhe=2,Uhe="[object Boolean]",Hhe="[object Date]",Vhe="[object Error]",$he="[object Map]",Ghe="[object Number]",Whe="[object RegExp]",qhe="[object Set]",Khe="[object String]",Yhe="[object Symbol]",Xhe="[object ArrayBuffer]",jhe="[object DataView]",r7=Il?Il.prototype:void 0,p3=r7?r7.valueOf:void 0;function Zhe(n,e,t,r,i,a,s){switch(t){case jhe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Xhe:return!(n.byteLength!=e.byteLength||!a(new vC(n),new vC(e)));case Uhe:case Hhe:case Ghe:return H_(+n,+e);case Vhe:return n.name==e.name&&n.message==e.message;case Whe:case Khe:return n==e+"";case $he:var o=Bhe;case qhe:var l=r&Fhe;if(o||(o=Lk),n.size!=e.size&&!l)return!1;var c=s.get(n);if(c)return c==e;r|=zhe,s.set(n,e);var u=OK(o(n),o(e),r,i,a,s);return s.delete(n),u;case Yhe:if(p3)return p3.call(n)==p3.call(e)}return!1}var Qhe=1,Jhe=Object.prototype,epe=Jhe.hasOwnProperty;function tpe(n,e,t,r,i,a){var s=t&Qhe,o=o5(n),l=o.length,c=o5(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=o[d];if(!(s?f in e:epe.call(e,f)))return!1}var h=a.get(n),p=a.get(e);if(h&&p)return h==e&&p==n;var m=!0;a.set(n,e),a.set(e,n);for(var v=s;++d<l;){f=o[d];var g=n[f],y=e[f];if(r)var b=s?r(y,g,f,e,n,a):r(g,y,f,n,e,a);if(!(b===void 0?g===y||i(g,y,t,r,a):b)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var _=n.constructor,x=e.constructor;_!=x&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof x=="function"&&x instanceof x)&&(m=!1)}return a.delete(n),a.delete(e),m}var npe=1,i7="[object Arguments]",a7="[object Array]",Bw="[object Object]",rpe=Object.prototype,s7=rpe.hasOwnProperty;function ipe(n,e,t,r,i,a){var s=qs(n),o=qs(e),l=s?a7:Bb(n),c=o?a7:Bb(e);l=l==i7?Bw:l,c=c==i7?Bw:c;var u=l==Bw,d=c==Bw,f=l==c;if(f&&Lb(n)){if(!Lb(e))return!1;s=!0,u=!1}if(f&&!u)return a||(a=new fc),s||Ek(n)?OK(n,e,t,r,i,a):Zhe(n,e,l,t,r,i,a);if(!(t&npe)){var h=u&&s7.call(n,"__wrapped__"),p=d&&s7.call(e,"__wrapped__");if(h||p){var m=h?n.value():n,v=p?e.value():e;return a||(a=new fc),i(m,v,t,r,a)}}return f?(a||(a=new fc),tpe(n,e,t,r,i,a)):!1}function fT(n,e,t,r,i){return n===e?!0:n==null||e==null||!eu(n)&&!eu(e)?n!==n&&e!==e:ipe(n,e,t,r,fT,i)}var ape=1,spe=2;function ope(n,e,t,r){var i=t.length,a=i,s=!r;if(n==null)return!a;for(n=Object(n);i--;){var o=t[i];if(s&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++i<a;){o=t[i];var l=o[0],c=n[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in n))return!1}else{var d=new fc;if(r)var f=r(c,u,l,n,e,d);if(!(f===void 0?fT(u,c,ape|spe,r,d):f))return!1}}return!0}function BK(n){return n===n&&!Ks(n)}function lpe(n){for(var e=V_(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,BK(i)]}return e}function FK(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function cpe(n){var e=lpe(n);return e.length==1&&e[0][2]?FK(e[0][0],e[0][1]):function(t){return t===n||ope(t,n,e)}}function upe(n,e){return n!=null&&e in Object(n)}function dpe(n,e,t){e=Vg(e,n);for(var r=-1,i=e.length,a=!1;++r<i;){var s=$g(e[r]);if(!(a=n!=null&&t(n,s)))break;n=n[s]}return a||++r!=i?a:(i=n==null?0:n.length,!!i&&Mk(i)&&oT(s,i)&&(qs(n)||kb(n)))}function zK(n,e){return n!=null&&dpe(n,e,upe)}var fpe=1,hpe=2;function ppe(n,e){return Ik(n)&&BK(e)?FK($g(n),e):function(t){var r=Vi(t,n);return r===void 0&&r===e?zK(t,n):fT(e,r,fpe|hpe)}}function mpe(n){return function(e){return e==null?void 0:e[n]}}function vpe(n){return function(e){return dT(e,n)}}function gpe(n){return Ik(n)?mpe($g(n)):vpe(n)}function UK(n){return typeof n=="function"?n:n==null?wk:typeof n=="object"?qs(n)?ppe(n[0],n[1]):cpe(n):gpe(n)}function ype(n){return function(e,t,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[n?o:++i];if(t(a[l],l,a)===!1)break}return e}}var bpe=ype();const HK=bpe;function _pe(n,e){return n&&HK(n,e,V_)}function wpe(n,e){return function(t,r){if(t==null)return t;if(!Hg(t))return n(t,r);for(var i=t.length,a=e?i:-1,s=Object(t);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return t}}var xpe=wpe(_pe);const Spe=xpe;var Cpe=function(){return _c.Date.now()};const m3=Cpe;var Mpe="Expected a function",Tpe=Math.max,Ape=Math.min;function go(n,e,t){var r,i,a,s,o,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(Mpe);e=a5(e)||0,Ks(t)&&(u=!!t.leading,d="maxWait"in t,a=d?Tpe(a5(t.maxWait)||0,e):a,f="trailing"in t?!!t.trailing:f);function h(S){var T=r,C=i;return r=i=void 0,c=S,s=n.apply(C,T),s}function p(S){return c=S,o=setTimeout(g,e),u?h(S):s}function m(S){var T=S-l,C=S-c,M=e-T;return d?Ape(M,a-C):M}function v(S){var T=S-l,C=S-c;return l===void 0||T>=e||T<0||d&&C>=a}function g(){var S=m3();if(v(S))return y(S);o=setTimeout(g,m(S))}function y(S){return o=void 0,f&&r?h(S):(r=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?s:y(m3())}function x(){var S=m3(),T=v(S);if(r=arguments,i=this,l=S,T){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(g,e),h(l)}return o===void 0&&(o=setTimeout(g,e)),s}return x.cancel=b,x.flush=_,x}function u5(n,e,t){(t!==void 0&&!H_(n[e],t)||t===void 0&&!(e in n))&&Sk(n,e,t)}function VK(n){return eu(n)&&Hg(n)}function d5(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function Epe(n){return Ug(n,$_(n))}function Ipe(n,e,t,r,i,a,s){var o=d5(n,t),l=d5(e,t),c=s.get(l);if(c){u5(n,t,c);return}var u=a?a(o,l,t+"",n,e,s):void 0,d=u===void 0;if(d){var f=qs(l),h=!f&&Lb(l),p=!f&&!h&&Ek(l);u=l,f||h||p?qs(o)?u=o:VK(o)?u=uK(o):h?(d=!1,u=MK(l,!0)):p?(d=!1,u=RK(l,!0)):u=[]:SK(l)||kb(l)?(u=o,kb(o)?u=Epe(o):(!Ks(o)||xk(o))&&(u=PK(l))):d=!1}d&&(s.set(l,u),i(u,l,r,a,s),s.delete(l)),u5(n,t,u)}function $K(n,e,t,r,i){n!==e&&HK(e,function(a,s){if(i||(i=new fc),Ks(a))Ipe(n,e,s,t,$K,r,i);else{var o=r?r(d5(n,s),a,s+"",n,e,i):void 0;o===void 0&&(o=a),u5(n,s,o)}},$_)}function Rpe(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}function Ppe(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var Dpe=Math.max,kpe=Math.min;function GK(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=yce(t),i=t<0?Dpe(r+i,0):kpe(i,r-1)),fK(n,UK(e),i,!0)}function Lpe(n,e){var t=-1,r=Hg(n)?Array(n.length):[];return Spe(n,function(i,a,s){r[++t]=e(i,a,s)}),r}function Npe(n,e){var t=qs(n)?_k:Lpe;return t(n,UK(e))}function Ope(n,e){return G_(Npe(n,e),1)}var Bpe=1/0;function Fpe(n){var e=n==null?0:n.length;return e?G_(n,Bpe):[]}function zb(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function zpe(n,e){return e.length<2?n:dT(n,Kde(e,0,-1))}function Fa(n,e){return fT(n,e)}function ma(n){return n==null}function WK(n){return n===void 0}var Upe=oue(function(n,e,t){$K(n,e,t)});const qK=Upe;function Hpe(n,e){return e=Vg(e,n),n=zpe(n,e),n==null||delete n[$g(Ppe(e))]}function Vpe(n){return SK(n)?void 0:n}var $pe=1,Gpe=2,Wpe=4,qpe=wK(function(n,e){var t={};if(n==null)return t;var r=!1;e=_k(e,function(a){return a=Vg(a,n),r||(r=a.length>1),a}),Ug(n,IK(n),t),r&&(t=Iv(t,$pe|Gpe|Wpe,Vpe));for(var i=e.length;i--;)Hpe(t,e[i]);return t});const Kpe=qpe;function KK(n,e,t,r){if(!Ks(n))return n;e=Vg(e,n);for(var i=-1,a=e.length,s=a-1,o=n;o!=null&&++i<a;){var l=$g(e[i]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(i!=s){var u=o[l];c=r?r(u,l,o):void 0,c===void 0&&(c=Ks(u)?u:oT(e[i+1])?[]:{})}Ck(o,l,c),o=o[l]}return n}function Ype(n,e,t){for(var r=-1,i=e.length,a={};++r<i;){var s=e[r],o=dT(n,s);t(o,s)&&KK(a,Vg(s,n),o)}return a}function Xpe(n,e){return Ype(n,e,function(t,r){return zK(n,r)})}var jpe=wK(function(n,e){return n==null?{}:Xpe(n,e)});const sc=jpe;function Zpe(n,e,t){return n==null?n:KK(n,e,t)}var Qpe="Expected a function";function Hp(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Qpe);return Ks(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),go(n,e,{leading:r,maxWait:e,trailing:i})}var Jpe=1/0,eme=Ev&&1/Lk(new Ev([,-0]))[1]==Jpe?function(n){return new Ev(n)}:Uce;const tme=eme;var nme=200;function rme(n,e,t){var r=-1,i=eue,a=n.length,s=!0,o=[],l=o;if(t)s=!1,i=Rpe;else if(a>=nme){var c=e?null:tme(n);if(c)return Lk(c);s=!1,i=NK,l=new Fb}else l=e?[]:o;e:for(;++r<a;){var u=n[r],d=e?e(u):u;if(u=t||u!==0?u:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,t)||(l!==o&&l.push(d),o.push(u))}return o}var ime=pK(function(n){return rme(G_(n,1,VK,!0))});const v3=ime,Mr=n=>n===void 0,Vr=n=>typeof n=="boolean",en=n=>typeof n=="number",Lo=n=>!n&&n!==0||Tt(n)&&n.length===0||Pn(n)&&!Object.keys(n).length,zo=n=>typeof Element>"u"?!1:n instanceof Element,em=n=>ma(n),ame=n=>qt(n)?!Number.isNaN(Number(n)):!1,hT=n=>n===window;var sme=Object.defineProperty,ome=Object.defineProperties,lme=Object.getOwnPropertyDescriptors,o7=Object.getOwnPropertySymbols,cme=Object.prototype.hasOwnProperty,ume=Object.prototype.propertyIsEnumerable,l7=(n,e,t)=>e in n?sme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,dme=(n,e)=>{for(var t in e||(e={}))cme.call(e,t)&&l7(n,t,e[t]);if(o7)for(var t of o7(e))ume.call(e,t)&&l7(n,t,e[t]);return n},fme=(n,e)=>ome(n,lme(e));function f5(n,e){var t;const r=Ir();return Ta(()=>{r.value=n()},fme(dme({},e),{flush:(t=e==null?void 0:e.flush)!=null?t:"sync"})),Fg(r)}var c7;const nr=typeof window<"u",hme=n=>typeof n<"u",h5=n=>typeof n=="function",pme=n=>typeof n=="string",Qv=()=>{},p5=nr&&((c7=window==null?void 0:window.navigator)==null?void 0:c7.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Wf(n){return typeof n=="function"?n():w(n)}function YK(n,e){function t(...r){return new Promise((i,a)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(a)})}return t}function mme(n,e={}){let t,r,i=Qv;const a=o=>{clearTimeout(o),i(),i=Qv};return o=>{const l=Wf(n),c=Wf(e.maxWait);return t&&a(t),l<=0||c!==void 0&&c<=0?(r&&(a(r),r=null),Promise.resolve(o())):new Promise((u,d)=>{i=e.rejectOnCancel?d:u,c&&!r&&(r=setTimeout(()=>{t&&a(t),r=null,u(o())},c)),t=setTimeout(()=>{r&&a(r),r=null,u(o())},l)})}}function vme(n,e=!0,t=!0,r=!1){let i=0,a,s=!0,o=Qv,l;const c=()=>{a&&(clearTimeout(a),a=void 0,o(),o=Qv)};return d=>{const f=Wf(n),h=Date.now()-i,p=()=>l=d();return c(),f<=0?(i=Date.now(),p()):(h>f&&(t||!s)?(i=Date.now(),p()):e&&(l=new Promise((m,v)=>{o=r?v:m,a=setTimeout(()=>{i=Date.now(),s=!0,m(p()),c()},Math.max(0,f-h))})),!t&&!a&&(a=setTimeout(()=>s=!0,f)),s=!1,l)}}function gme(n){return n}function yme(n,e){let t,r,i;const a=ee(!0),s=()=>{a.value=!0,i()};dt(n,s,{flush:"sync"});const o=h5(e)?e:e.get,l=h5(e)?void 0:e.set,c=loe((u,d)=>(r=u,i=d,{get(){return a.value&&(t=o(),a.value=!1),r(),t},set(f){l==null||l(f)}}));return Object.isExtensible(c)&&(c.trigger=s),c}function W_(n){return nq()?(rq(n),!0):!1}function bme(n,e=200,t={}){return YK(mme(e,t),n)}function _me(n,e=200,t={}){const r=ee(n.value),i=bme(()=>{r.value=n.value},e,t);return dt(n,()=>i()),r}function XK(n,e=200,t=!1,r=!0,i=!1){return YK(vme(e,t,r,i),n)}function Nk(n,e=!0){Dn()?pn(n):e?n():Yt(n)}function tm(n,e,t={}){const{immediate:r=!0}=t,i=ee(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){i.value=!1,s()}function l(...c){s(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,n(...c)},Wf(e))}return r&&(i.value=!0,nr&&l()),W_(o),{isPending:Fg(i),start:l,stop:o}}function zs(n){var e;const t=Wf(n);return(e=t==null?void 0:t.$el)!=null?e:t}const ph=nr?window:void 0,wme=nr?window.document:void 0;function Tr(...n){let e,t,r,i;if(pme(n[0])||Array.isArray(n[0])?([t,r,i]=n,e=ph):[e,t,r,i]=n,!e)return Qv;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const a=[],s=()=>{a.forEach(u=>u()),a.length=0},o=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=dt(()=>[zs(e),Wf(i)],([u,d])=>{s(),u&&a.push(...t.flatMap(f=>r.map(h=>o(u,f,h,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return W_(c),c}let u7=!1;function Ok(n,e,t={}){const{window:r=ph,ignore:i=[],capture:a=!0,detectIframe:s=!1}=t;if(!r)return;p5&&!u7&&(u7=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",Qv)));let o=!0;const l=f=>i.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));{const p=zs(h);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Tr(r,"click",f=>{const h=zs(n);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(o=!l(f)),!o){o=!0;return}e(f)}},{passive:!0,capture:a}),Tr(r,"pointerdown",f=>{const h=zs(n);h&&(o=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),s&&Tr(r,"blur",f=>{var h;const p=zs(n);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function xme(n={}){var e;const{window:t=ph}=n,r=(e=n.document)!=null?e:t==null?void 0:t.document,i=yme(()=>null,()=>r==null?void 0:r.activeElement);return t&&(Tr(t,"blur",a=>{a.relatedTarget===null&&i.trigger()},!0),Tr(t,"focus",i.trigger,!0)),i}function jK(n,e=!1){const t=ee(),r=()=>t.value=!!n();return r(),Nk(r,e),t}function Sme(n){return JSON.parse(JSON.stringify(n))}const d7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},f7="__vueuse_ssr_handlers__";d7[f7]=d7[f7]||{};function Cme(n,e,{window:t=ph,initialValue:r=""}={}){const i=ee(r),a=U(()=>{var s;return zs(e)||((s=t==null?void 0:t.document)==null?void 0:s.documentElement)});return dt([a,()=>Wf(n)],([s,o])=>{var l;if(s&&t){const c=(l=t.getComputedStyle(s).getPropertyValue(o))==null?void 0:l.trim();i.value=c||r}},{immediate:!0}),dt(i,s=>{var o;(o=a.value)!=null&&o.style&&a.value.style.setProperty(Wf(n),s)}),i}function Mme({document:n=wme}={}){if(!n)return ee("visible");const e=ee(n.visibilityState);return Tr(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var h7=Object.getOwnPropertySymbols,Tme=Object.prototype.hasOwnProperty,Ame=Object.prototype.propertyIsEnumerable,Eme=(n,e)=>{var t={};for(var r in n)Tme.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&h7)for(var r of h7(n))e.indexOf(r)<0&&Ame.call(n,r)&&(t[r]=n[r]);return t};function ui(n,e,t={}){const r=t,{window:i=ph}=r,a=Eme(r,["window"]);let s;const o=jK(()=>i&&"ResizeObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},c=dt(()=>zs(n),d=>{l(),o.value&&i&&d&&(s=new ResizeObserver(e),s.observe(d,a))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return W_(u),{isSupported:o,stop:u}}function p7(n,e={}){const{reset:t=!0,windowResize:r=!0,windowScroll:i=!0,immediate:a=!0}=e,s=ee(0),o=ee(0),l=ee(0),c=ee(0),u=ee(0),d=ee(0),f=ee(0),h=ee(0);function p(){const m=zs(n);if(!m){t&&(s.value=0,o.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,h.value=0);return}const v=m.getBoundingClientRect();s.value=v.height,o.value=v.bottom,l.value=v.left,c.value=v.right,u.value=v.top,d.value=v.width,f.value=v.x,h.value=v.y}return ui(n,p),dt(()=>zs(n),m=>!m&&p()),i&&Tr("scroll",p,{capture:!0,passive:!0}),r&&Tr("resize",p,{passive:!0}),Nk(()=>{a&&p()}),{height:s,bottom:o,left:l,right:c,top:u,width:d,x:f,y:h,update:p}}var m7=Object.getOwnPropertySymbols,Ime=Object.prototype.hasOwnProperty,Rme=Object.prototype.propertyIsEnumerable,Pme=(n,e)=>{var t={};for(var r in n)Ime.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&m7)for(var r of m7(n))e.indexOf(r)<0&&Rme.call(n,r)&&(t[r]=n[r]);return t};function ZK(n,e,t={}){const r=t,{window:i=ph}=r,a=Pme(r,["window"]);let s;const o=jK(()=>i&&"MutationObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},c=dt(()=>zs(n),d=>{l(),o.value&&i&&d&&(s=new MutationObserver(e),s.observe(d,a))},{immediate:!0}),u=()=>{l(),c()};return W_(u),{isSupported:o,stop:u}}var v7;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(v7||(v7={}));var Dme=Object.defineProperty,g7=Object.getOwnPropertySymbols,kme=Object.prototype.hasOwnProperty,Lme=Object.prototype.propertyIsEnumerable,y7=(n,e,t)=>e in n?Dme(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Nme=(n,e)=>{for(var t in e||(e={}))kme.call(e,t)&&y7(n,t,e[t]);if(g7)for(var t of g7(e))Lme.call(e,t)&&y7(n,t,e[t]);return n};const Ome={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Nme({linear:gme},Ome);function QK(n,e,t,r={}){var i,a,s;const{clone:o=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=r,f=Dn(),h=t||(f==null?void 0:f.emit)||((i=f==null?void 0:f.$emit)==null?void 0:i.bind(f))||((s=(a=f==null?void 0:f.proxy)==null?void 0:a.$emit)==null?void 0:s.bind(f==null?void 0:f.proxy));let p=c;e||(e="modelValue"),p=c||p||`update:${e.toString()}`;const m=g=>o?h5(o)?o(g):Sme(g):g,v=()=>hme(n[e])?m(n[e]):d;if(l){const g=v(),y=ee(g);return dt(()=>n[e],b=>y.value=m(b)),dt(y,b=>{(b!==n[e]||u)&&h(p,b)},{deep:u}),y}else return U({get(){return v()},set(g){h(p,g)}})}function Bme({window:n=ph}={}){if(!n)return ee(!1);const e=ee(n.document.hasFocus());return Tr(n,"blur",()=>{e.value=!1}),Tr(n,"focus",()=>{e.value=!0}),e}function Fme(n={}){const{window:e=ph,initialWidth:t=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:a=!0}=n,s=ee(t),o=ee(r),l=()=>{e&&(a?(s.value=e.innerWidth,o.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};return l(),Nk(l),Tr("resize",l,{passive:!0}),i&&Tr("orientationchange",l,{passive:!0}),{width:s,height:o}}class zme extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function ua(n,e){throw new zme(`[${n}] ${e}`)}const b7={current:0},_7=ee(0),JK=2e3,w7=Symbol("elZIndexContextKey"),eY=Symbol("zIndexContextKey"),Gg=n=>{const e=Dn()?Ot(w7,b7):b7,t=n||(Dn()?Ot(eY,void 0):void 0),r=U(()=>{const s=w(t);return en(s)?s:JK}),i=U(()=>r.value+_7.value),a=()=>(e.current++,_7.value=e.current,i.value);return!nr&&Ot(w7),{initialZIndex:r,currentZIndex:i,nextZIndex:a}};var Ume={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Hme=n=>(e,t)=>Vme(e,t,w(n)),Vme=(n,e,t)=>Vi(t,n,n).replace(/\{(\w+)\}/g,(r,i)=>{var a;return`${(a=e==null?void 0:e[i])!=null?a:`{${i}}`}`}),$me=n=>{const e=U(()=>w(n).name),t=Kr(n)?n:ee(n);return{lang:e,locale:t,t:Hme(n)}},tY=Symbol("localeContextKey"),rr=n=>{const e=n||Ot(tY,ee());return $me(U(()=>e.value||Ume))},nY="__epPropKey",We=n=>n,Gme=n=>Pn(n)&&!!n[nY],wc=(n,e)=>{if(!Pn(n)||Gme(n))return n;const{values:t,required:r,default:i,type:a,validator:s}=n,l={type:a,required:!!r,validator:t||s?c=>{let u=!1,d=[];if(t&&(d=Array.from(t),sr(n,"default")&&d.push(i),u||(u=d.includes(c))),s&&(u||(u=s(c))),!u&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");hoe(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[nY]:!0};return sr(n,"default")&&(l.default=i),l},Rt=n=>zb(Object.entries(n).map(([e,t])=>[e,wc(t,e)])),uu=["","default","small","large"],Ji=wc({type:String,values:uu,required:!1}),rY=Symbol("size"),iY=()=>{const n=Ot(rY,{});return U(()=>w(n.size)||"")},aY=Symbol("emptyValuesContextKey"),Wme=["",void 0,null],qme=void 0,Wg=Rt({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:n=>Zt(n)?!n():!n}}),pT=(n,e)=>{const t=Dn()?Ot(aY,ee({})):ee({}),r=U(()=>n.emptyValues||t.value.emptyValues||Wme),i=U(()=>Zt(n.valueOnClear)?n.valueOnClear():n.valueOnClear!==void 0?n.valueOnClear:Zt(t.value.valueOnClear)?t.value.valueOnClear():t.value.valueOnClear!==void 0?t.value.valueOnClear:e!==void 0?e:qme),a=s=>r.value.includes(s);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:a}},Jv=n=>Object.keys(n),sY=n=>Object.entries(n),d2=(n,e,t)=>({get value(){return Vi(n,e,t)},set value(r){Zpe(n,e,r)}}),yC=ee();function mT(n,e=void 0){const t=Dn()?Ot(aK,yC):yC;return n?U(()=>{var r,i;return(i=(r=t.value)==null?void 0:r[n])!=null?i:e}):t}function vT(n,e){const t=mT(),r=bt(n,U(()=>{var o;return((o=t.value)==null?void 0:o.namespace)||F1})),i=rr(U(()=>{var o;return(o=t.value)==null?void 0:o.locale})),a=Gg(U(()=>{var o;return((o=t.value)==null?void 0:o.zIndex)||JK})),s=U(()=>{var o;return w(e)||((o=t.value)==null?void 0:o.size)||""});return Bk(U(()=>w(t)||{})),{ns:r,locale:i,zIndex:a,size:s}}const Bk=(n,e,t=!1)=>{var r;const i=!!Dn(),a=i?mT():void 0,s=(r=e==null?void 0:e.provide)!=null?r:i?$n:void 0;if(!s)return;const o=U(()=>{const l=w(n);return a!=null&&a.value?Kme(a.value,l):l});return s(aK,o),s(tY,U(()=>o.value.locale)),s(sK,U(()=>o.value.namespace)),s(eY,U(()=>o.value.zIndex)),s(rY,{size:U(()=>o.value.size||"")}),s(aY,U(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(t||!yC.value)&&(yC.value=o.value),o},Kme=(n,e)=>{const t=[...new Set([...Jv(n),...Jv(e)])],r={};for(const i of t)r[i]=e[i]!==void 0?e[i]:n[i];return r},Yme=(n=[])=>({version:Wle,install:(t,r)=>{t[IB]||(t[IB]=!0,n.forEach(i=>t.use(i)),r&&Bk(r,t,!0))}}),Mn="update:modelValue",Rr="change",es="input",Xme=Rt({zIndex:{type:We([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),jme={scroll:({scrollTop:n,fixed:e})=>en(n)&&Vr(e),[Rr]:n=>Vr(n)};var Pt=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t};function Zme(n,e,t,r){const i=t-e;return n/=r/2,n<1?i/2*n*n*n+e:i/2*((n-=2)*n*n+2)+e}const qf=n=>nr?window.requestAnimationFrame(n):setTimeout(n,16),nm=n=>nr?window.cancelAnimationFrame(n):clearTimeout(n),oY=(n="")=>n.split(" ").filter(e=>!!e.trim()),lo=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},vl=(n,e)=>{!n||!e.trim()||n.classList.add(...oY(e))},Cs=(n,e)=>{!n||!e.trim()||n.classList.remove(...oY(e))},qu=(n,e)=>{var t;if(!nr||!n||!e)return"";let r=Wo(e);r==="float"&&(r="cssFloat");try{const i=n.style[r];if(i)return i;const a=(t=document.defaultView)==null?void 0:t.getComputedStyle(n,"");return a?a[r]:""}catch{return n.style[r]}},lY=(n,e,t)=>{if(!(!n||!e))if(Pn(e))sY(e).forEach(([r,i])=>lY(n,r,i));else{const r=Wo(e);n.style[r]=t}};function Pi(n,e="px"){if(!n)return"";if(en(n)||ame(n))return`${n}${e}`;if(qt(n))return n}const Qme=(n,e)=>{if(!nr)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=qu(n,t);return["scroll","auto","overlay"].some(i=>r.includes(i))},Fk=(n,e)=>{if(!nr)return;let t=n;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(Qme(t,e))return t;t=t.parentNode}return t};let Fw;const cY=n=>{var e;if(!nr)return 0;if(Fw!==void 0)return Fw;const t=document.createElement("div");t.className=`${n}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const r=t.offsetWidth;t.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",t.appendChild(i);const a=i.offsetWidth;return(e=t.parentNode)==null||e.removeChild(t),Fw=r-a,Fw};function zk(n,e){if(!nr)return;if(!e){n.scrollTop=0;return}const t=[];let r=e.offsetParent;for(;r!==null&&n!==r&&n.contains(r);)t.push(r),r=r.offsetParent;const i=e.offsetTop+t.reduce((l,c)=>l+c.offsetTop,0),a=i+e.offsetHeight,s=n.scrollTop,o=s+n.clientHeight;i<s?n.scrollTop=i:a>o&&(n.scrollTop=a-n.clientHeight)}function Jme(n,e,t,r,i){const a=Date.now();let s;const o=()=>{const c=Date.now()-a,u=Zme(c>r?r:c,e,t,r);hT(n)?n.scrollTo(window.pageXOffset,u):n.scrollTop=u,c<r?s=qf(o):Zt(i)&&i()};return o(),()=>{s&&nm(s)}}const x7=(n,e)=>hT(e)?n.ownerDocument.documentElement:e,S7=n=>hT(n)?window.scrollY:n.scrollTop,uY="ElAffix",e0e=Ie({name:uY}),t0e=Ie({...e0e,props:Xme,emits:jme,setup(n,{expose:e,emit:t}){const r=n,i=bt("affix"),a=Ir(),s=Ir(),o=Ir(),{height:l}=Fme(),{height:c,width:u,top:d,bottom:f,update:h}=p7(s,{windowScroll:!1}),p=p7(a),m=ee(!1),v=ee(0),g=ee(0),y=U(()=>({height:m.value?`${c.value}px`:"",width:m.value?`${u.value}px`:""})),b=U(()=>{if(!m.value)return{};const S=r.offset?Pi(r.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:r.position==="top"?S:"",bottom:r.position==="bottom"?S:"",transform:g.value?`translateY(${g.value}px)`:"",zIndex:r.zIndex}}),_=()=>{if(!o.value)return;v.value=o.value instanceof Window?document.documentElement.scrollTop:o.value.scrollTop||0;const{position:S,target:T,offset:C}=r,M=C+c.value;if(S==="top")if(T){const A=p.bottom.value-M;m.value=C>d.value&&p.bottom.value>0,g.value=A<0?A:0}else m.value=C>d.value;else if(T){const A=l.value-p.top.value-M;m.value=l.value-C<f.value&&l.value>p.top.value,g.value=A<0?-A:0}else m.value=l.value-C<f.value},x=()=>{h(),t("scroll",{scrollTop:v.value,fixed:m.value})};return dt(m,S=>t("change",S)),pn(()=>{var S;r.target?(a.value=(S=document.querySelector(r.target))!=null?S:void 0,a.value||ua(uY,`Target does not exist: ${r.target}`)):a.value=document.documentElement,o.value=Fk(s.value,!0),h()}),Tr(o,"scroll",x),Ta(_),e({update:_,updateRoot:h}),(S,T)=>(V(),ue("div",{ref_key:"root",ref:s,class:j(w(i).b()),style:Bt(w(y))},[me("div",{class:j({[w(i).m("fixed")]:m.value}),style:Bt(w(b))},[Ze(S.$slots,"default")],6)],6))}});var n0e=Pt(t0e,[["__file","affix.vue"]]);const gn=(n,e)=>{if(n.install=t=>{for(const r of[n,...Object.values(e??{})])t.component(r.name,r)},e)for(const[t,r]of Object.entries(e))n[t]=r;return n},dY=(n,e)=>(n.install=t=>{n._context=t._context,t.config.globalProperties[e]=n},n),r0e=(n,e)=>(n.install=t=>{t.directive(e,n)},n),Si=n=>(n.install=Sr,n),i0e=gn(n0e),a0e=Rt({size:{type:We([Number,String])},color:{type:String}}),s0e=Ie({name:"ElIcon",inheritAttrs:!1}),o0e=Ie({...s0e,props:a0e,setup(n){const e=n,t=bt("icon"),r=U(()=>{const{size:i,color:a}=e;return!i&&!a?{}:{fontSize:Mr(i)?void 0:Pi(i),"--color":a}});return(i,a)=>(V(),ue("i",Hn({class:w(t).b(),style:w(r)},i.$attrs),[Ze(i.$slots,"default")],16))}});var l0e=Pt(o0e,[["__file","icon.vue"]]);const Vt=gn(l0e);/*! Element Plus Icons Vue v2.3.1 */var c0e=Ie({name:"ArrowDown",__name:"arrow-down",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),wd=c0e,u0e=Ie({name:"ArrowLeft",__name:"arrow-left",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),Kf=u0e,d0e=Ie({name:"ArrowRight",__name:"arrow-right",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Hs=d0e,f0e=Ie({name:"ArrowUp",__name:"arrow-up",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Uk=f0e,h0e=Ie({name:"Back",__name:"back",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),me("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),p0e=h0e,m0e=Ie({name:"Calendar",__name:"calendar",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),v0e=m0e,g0e=Ie({name:"CaretRight",__name:"caret-right",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),fY=g0e,y0e=Ie({name:"CaretTop",__name:"caret-top",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),b0e=y0e,_0e=Ie({name:"Check",__name:"check",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),q_=_0e,w0e=Ie({name:"CircleCheckFilled",__name:"circle-check-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),x0e=w0e,S0e=Ie({name:"CircleCheck",__name:"circle-check",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),me("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Hk=S0e,C0e=Ie({name:"CircleCloseFilled",__name:"circle-close-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),Vk=C0e,M0e=Ie({name:"CircleClose",__name:"circle-close",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),me("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),xd=M0e,T0e=Ie({name:"Clock",__name:"clock",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),me("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),me("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),hY=T0e,A0e=Ie({name:"Close",__name:"close",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),gc=A0e,E0e=Ie({name:"DArrowLeft",__name:"d-arrow-left",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Yf=E0e,I0e=Ie({name:"DArrowRight",__name:"d-arrow-right",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),Xf=I0e,R0e=Ie({name:"Delete",__name:"delete",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),P0e=R0e,D0e=Ie({name:"Document",__name:"document",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),pY=D0e,k0e=Ie({name:"Files",__name:"files",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),L0e=k0e,N0e=Ie({name:"FullScreen",__name:"full-screen",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),O0e=N0e,B0e=Ie({name:"Hide",__name:"hide",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),me("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),F0e=B0e,z0e=Ie({name:"InfoFilled",__name:"info-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),$k=z0e,U0e=Ie({name:"Loading",__name:"loading",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),tu=U0e,H0e=Ie({name:"MagicStick",__name:"magic-stick",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}}),V0e=H0e,$0e=Ie({name:"Minus",__name:"minus",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),G0e=$0e,W0e=Ie({name:"MoreFilled",__name:"more-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),C7=W0e,q0e=Ie({name:"More",__name:"more",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),K0e=q0e,Y0e=Ie({name:"PictureFilled",__name:"picture-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),X0e=Y0e,j0e=Ie({name:"Plus",__name:"plus",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),mY=j0e,Z0e=Ie({name:"QuestionFilled",__name:"question-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),Q0e=Z0e,J0e=Ie({name:"RefreshLeft",__name:"refresh-left",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),eve=J0e,tve=Ie({name:"RefreshRight",__name:"refresh-right",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),nve=tve,rve=Ie({name:"ScaleToOriginal",__name:"scale-to-original",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),ive=rve,ave=Ie({name:"Search",__name:"search",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),sve=ave,ove=Ie({name:"SortDown",__name:"sort-down",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),lve=ove,cve=Ie({name:"SortUp",__name:"sort-up",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),uve=cve,dve=Ie({name:"StarFilled",__name:"star-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),zw=dve,fve=Ie({name:"Star",__name:"star",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),hve=fve,pve=Ie({name:"SuccessFilled",__name:"success-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Gk=pve,mve=Ie({name:"View",__name:"view",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),vve=mve,gve=Ie({name:"WarningFilled",__name:"warning-filled",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),gT=gve,yve=Ie({name:"ZoomIn",__name:"zoom-in",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),vY=yve,bve=Ie({name:"ZoomOut",__name:"zoom-out",setup(n){return(e,t)=>(V(),ue("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[me("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),_ve=bve;const kr=We([String,Object,Function]),Wk={Close:gc},qk={Close:gc,SuccessFilled:Gk,InfoFilled:$k,WarningFilled:gT,CircleCloseFilled:Vk},jf={success:Gk,warning:gT,error:Vk,info:$k},yT={validating:tu,success:Hk,error:xd},wve=["light","dark"],xve=Rt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Jv(jf),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:wve,default:"light"}}),Sve={close:n=>n instanceof MouseEvent},Cve=Ie({name:"ElAlert"}),Mve=Ie({...Cve,props:xve,emits:Sve,setup(n,{emit:e}){const t=n,{Close:r}=qk,i=ea(),a=bt("alert"),s=ee(!0),o=U(()=>jf[t.type]),l=U(()=>!!(t.description||i.default)),c=u=>{s.value=!1,e("close",u)};return(u,d)=>(V(),rt(ca,{name:w(a).b("fade"),persisted:""},{default:be(()=>[Sn(me("div",{class:j([w(a).b(),w(a).m(u.type),w(a).is("center",u.center),w(a).is(u.effect)]),role:"alert"},[u.showIcon&&w(o)?(V(),rt(w(Vt),{key:0,class:j([w(a).e("icon"),{[w(a).is("big")]:w(l)}])},{default:be(()=>[(V(),rt(Nn(w(o))))]),_:1},8,["class"])):Qe("v-if",!0),me("div",{class:j(w(a).e("content"))},[u.title||u.$slots.title?(V(),ue("span",{key:0,class:j([w(a).e("title"),{"with-description":w(l)}])},[Ze(u.$slots,"title",{},()=>[dn(Ct(u.title),1)])],2)):Qe("v-if",!0),w(l)?(V(),ue("p",{key:1,class:j(w(a).e("description"))},[Ze(u.$slots,"default",{},()=>[dn(Ct(u.description),1)])],2)):Qe("v-if",!0),u.closable?(V(),ue(zt,{key:2},[u.closeText?(V(),ue("div",{key:0,class:j([w(a).e("close-btn"),w(a).is("customed")]),onClick:c},Ct(u.closeText),3)):(V(),rt(w(Vt),{key:1,class:j(w(a).e("close-btn")),onClick:c},{default:be(()=>[se(w(r))]),_:1},8,["class"]))],64)):Qe("v-if",!0)],2)],2),[[fr,s.value]])]),_:3},8,["name"]))}});var Tve=Pt(Mve,[["__file","alert.vue"]]);const Ave=gn(Tve),bT=()=>nr&&/firefox/i.test(window.navigator.userAgent);let Hl;const Eve=`
  height:0 !important;
  visibility:hidden !important;
  ${bT()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ive=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Rve(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Ive.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:t}}function M7(n,e=1,t){var r;Hl||(Hl=document.createElement("textarea"),document.body.appendChild(Hl));const{paddingSize:i,borderSize:a,boxSizing:s,contextStyle:o}=Rve(n);Hl.setAttribute("style",`${o};${Eve}`),Hl.value=n.value||n.placeholder||"";let l=Hl.scrollHeight;const c={};s==="border-box"?l=l+a:s==="content-box"&&(l=l-i),Hl.value="";const u=Hl.scrollHeight-i;if(en(e)){let d=u*e;s==="border-box"&&(d=d+i+a),l=Math.max(d,l),c.minHeight=`${d}px`}if(en(t)){let d=u*t;s==="border-box"&&(d=d+i+a),l=Math.min(d,l)}return c.height=`${l}px`,(r=Hl.parentNode)==null||r.removeChild(Hl),Hl=void 0,c}const _i=n=>n,Pve=Rt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),Ua=n=>sc(Pve,n),Kk=Rt({id:{type:String,default:void 0},size:Ji,disabled:Boolean,modelValue:{type:We([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:We([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:kr},prefixIcon:{type:kr},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:We([Object,Array,String]),default:()=>_i({})},autofocus:Boolean,rows:{type:Number,default:2},...Ua(["ariaLabel"])}),Dve={[Mn]:n=>qt(n),input:n=>qt(n),change:n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},kve=["class","style"],Lve=/^on[A-Z]/,K_=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,r=U(()=>((t==null?void 0:t.value)||[]).concat(kve)),i=Dn();return U(i?()=>{var a;return zb(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([s])=>!r.value.includes(s)&&!(e&&Lve.test(s))))}:()=>({}))},Mm=Symbol("formContextKey"),nu=Symbol("formItemContextKey"),T7={prefix:Math.floor(Math.random()*1e4),current:0},Nve=Symbol("elIdInjection"),Yk=()=>Dn()?Ot(Nve,T7):T7,za=n=>{const e=Yk(),t=bk();return f5(()=>w(n)||`${t.value}-id-${e.prefix}-${e.current++}`)},is=()=>{const n=Ot(Mm,void 0),e=Ot(nu,void 0);return{form:n,formItem:e}},Ol=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:r})=>{t||(t=ee(!1)),r||(r=ee(!1));const i=ee();let a;const s=U(()=>{var o;return!!(!(n.label||n.ariaLabel)&&e&&e.inputIds&&((o=e.inputIds)==null?void 0:o.length)<=1)});return pn(()=>{a=dt([_r(n,"id"),t],([o,l])=>{const c=o??(l?void 0:za().value);c!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(r!=null&&r.value)&&!l&&c&&e.addInputId(c)),i.value=c)},{immediate:!0})}),fh(()=>{a&&a(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:s,inputId:i}},gY=n=>{const e=Dn();return U(()=>{var t,r;return(r=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:r[n]})},Xi=(n,e={})=>{const t=ee(void 0),r=e.prop?t:gY("size"),i=e.global?t:iY(),a=e.form?{size:void 0}:Ot(Mm,void 0),s=e.formItem?{size:void 0}:Ot(nu,void 0);return U(()=>r.value||w(n)||(s==null?void 0:s.size)||(a==null?void 0:a.size)||i.value||"")},as=n=>{const e=gY("disabled"),t=Ot(Mm,void 0);return U(()=>e.value||w(n)||(t==null?void 0:t.disabled)||!1)};function mh(n,{beforeFocus:e,afterFocus:t,beforeBlur:r,afterBlur:i}={}){const a=Dn(),{emit:s}=a,o=Ir(),l=ee(!1),c=f=>{Zt(e)&&e(f)||l.value||(l.value=!0,s("focus",f),t==null||t())},u=f=>{var h;Zt(r)&&r(f)||f.relatedTarget&&((h=o.value)!=null&&h.contains(f.relatedTarget))||(l.value=!1,s("blur",f),i==null||i())},d=()=>{var f,h;(f=o.value)!=null&&f.contains(document.activeElement)&&o.value!==document.activeElement||(h=n.value)==null||h.focus()};return dt(o,f=>{f&&f.setAttribute("tabindex","-1")}),Tr(o,"focus",c,!0),Tr(o,"blur",u,!0),Tr(o,"click",d,!0),{isFocused:l,wrapperRef:o,handleFocus:c,handleBlur:u}}const Ove=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function Y_({afterComposition:n,emit:e}){const t=ee(!1),r=o=>{e==null||e("compositionstart",o),t.value=!0},i=o=>{var l;e==null||e("compositionupdate",o);const c=(l=o.target)==null?void 0:l.value,u=c[c.length-1]||"";t.value=!Ove(u)},a=o=>{e==null||e("compositionend",o),t.value&&(t.value=!1,Yt(()=>n(o)))};return{isComposing:t,handleComposition:o=>{o.type==="compositionend"?a(o):i(o)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function Bve(n){let e;function t(){if(n.value==null)return;const{selectionStart:i,selectionEnd:a,value:s}=n.value;if(i==null||a==null)return;const o=s.slice(0,Math.max(0,i)),l=s.slice(Math.max(0,a));e={selectionStart:i,selectionEnd:a,value:s,beforeTxt:o,afterTxt:l}}function r(){if(n.value==null||e==null)return;const{value:i}=n.value,{beforeTxt:a,afterTxt:s,selectionStart:o}=e;if(a==null||s==null||o==null)return;let l=i.length;if(i.endsWith(s))l=i.length-s.length;else if(i.startsWith(a))l=a.length;else{const c=a[o-1],u=i.indexOf(c,o-1);u!==-1&&(l=u+1)}n.value.setSelectionRange(l,l)}return[t,r]}const Fve=Ie({name:"ElInput",inheritAttrs:!1}),zve=Ie({...Fve,props:Kk,emits:Dve,setup(n,{expose:e,emit:t}){const r=n,i=hh(),a=K_(),s=ea(),o=U(()=>[r.type==="textarea"?m.b():p.b(),p.m(f.value),p.is("disabled",h.value),p.is("exceed",J.value),{[p.b("group")]:s.prepend||s.append,[p.m("prefix")]:s.prefix||r.prefixIcon,[p.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:z.value&&O.value,[p.b("hidden")]:r.type==="hidden"},i.class]),l=U(()=>[p.e("wrapper"),p.is("focus",C.value)]),{form:c,formItem:u}=is(),{inputId:d}=Ol(r,{formItemContext:u}),f=Xi(),h=as(),p=bt("input"),m=bt("textarea"),v=Ir(),g=Ir(),y=ee(!1),b=ee(!1),_=ee(),x=Ir(r.inputStyle),S=U(()=>v.value||g.value),{wrapperRef:T,isFocused:C,handleFocus:M,handleBlur:A}=mh(S,{beforeFocus(){return h.value},afterBlur(){var ve;r.validateEvent&&((ve=u==null?void 0:u.validate)==null||ve.call(u,"blur").catch(Ne=>void 0))}}),I=U(()=>{var ve;return(ve=c==null?void 0:c.statusIcon)!=null?ve:!1}),D=U(()=>(u==null?void 0:u.validateState)||""),L=U(()=>D.value&&yT[D.value]),F=U(()=>b.value?vve:F0e),B=U(()=>[i.style]),k=U(()=>[r.inputStyle,x.value,{resize:r.resize}]),H=U(()=>ma(r.modelValue)?"":String(r.modelValue)),z=U(()=>r.clearable&&!h.value&&!r.readonly&&!!H.value&&(C.value||y.value)),O=U(()=>r.showPassword&&!h.value&&!!H.value&&(!!H.value||C.value)),G=U(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),X=U(()=>H.value.length),J=U(()=>!!G.value&&X.value>Number(r.maxlength)),Q=U(()=>!!s.suffix||!!r.suffixIcon||z.value||r.showPassword||G.value||!!D.value&&I.value),[re,de]=Bve(v);ui(g,ve=>{if(Ee(),!G.value||r.resize!=="both")return;const Ne=ve[0],{width:Ke}=Ne.contentRect;_.value={right:`calc(100% - ${Ke+15+6}px)`}});const le=()=>{const{type:ve,autosize:Ne}=r;if(!(!nr||ve!=="textarea"||!g.value))if(Ne){const Ke=Pn(Ne)?Ne.minRows:void 0,mt=Pn(Ne)?Ne.maxRows:void 0,vt=M7(g.value,Ke,mt);x.value={overflowY:"hidden",...vt},Yt(()=>{g.value.offsetHeight,x.value=vt})}else x.value={minHeight:M7(g.value).minHeight}},Ee=(ve=>{let Ne=!1;return()=>{var Ke;if(Ne||!r.autosize)return;((Ke=g.value)==null?void 0:Ke.offsetParent)===null||(ve(),Ne=!0)}})(le),Re=()=>{const ve=S.value,Ne=r.formatter?r.formatter(H.value):H.value;!ve||ve.value===Ne||(ve.value=Ne)},He=async ve=>{re();let{value:Ne}=ve.target;if(r.formatter&&(Ne=r.parser?r.parser(Ne):Ne),!K.value){if(Ne===H.value){Re();return}t(Mn,Ne),t("input",Ne),await Yt(),Re(),de()}},$e=ve=>{t("change",ve.target.value)},{isComposing:K,handleCompositionStart:ce,handleCompositionUpdate:ie,handleCompositionEnd:Ue}=Y_({emit:t,afterComposition:He}),De=()=>{re(),b.value=!b.value,setTimeout(de)},Ye=()=>{var ve;return(ve=S.value)==null?void 0:ve.focus()},ze=()=>{var ve;return(ve=S.value)==null?void 0:ve.blur()},Ve=ve=>{y.value=!1,t("mouseleave",ve)},Je=ve=>{y.value=!0,t("mouseenter",ve)},pe=ve=>{t("keydown",ve)},W=()=>{var ve;(ve=S.value)==null||ve.select()},Z=()=>{t(Mn,""),t("change",""),t("clear"),t("input","")};return dt(()=>r.modelValue,()=>{var ve;Yt(()=>le()),r.validateEvent&&((ve=u==null?void 0:u.validate)==null||ve.call(u,"change").catch(Ne=>void 0))}),dt(H,()=>Re()),dt(()=>r.type,async()=>{await Yt(),Re(),le()}),pn(()=>{!r.formatter&&r.parser,Re(),Yt(le)}),e({input:v,textarea:g,ref:S,textareaStyle:k,autosize:_r(r,"autosize"),isComposing:K,focus:Ye,blur:ze,select:W,clear:Z,resizeTextarea:le}),(ve,Ne)=>(V(),ue("div",{class:j([w(o),{[w(p).bm("group","append")]:ve.$slots.append,[w(p).bm("group","prepend")]:ve.$slots.prepend}]),style:Bt(w(B)),onMouseenter:Je,onMouseleave:Ve},[Qe(" input "),ve.type!=="textarea"?(V(),ue(zt,{key:0},[Qe(" prepend slot "),ve.$slots.prepend?(V(),ue("div",{key:0,class:j(w(p).be("group","prepend"))},[Ze(ve.$slots,"prepend")],2)):Qe("v-if",!0),me("div",{ref_key:"wrapperRef",ref:T,class:j(w(l))},[Qe(" prefix slot "),ve.$slots.prefix||ve.prefixIcon?(V(),ue("span",{key:0,class:j(w(p).e("prefix"))},[me("span",{class:j(w(p).e("prefix-inner"))},[Ze(ve.$slots,"prefix"),ve.prefixIcon?(V(),rt(w(Vt),{key:0,class:j(w(p).e("icon"))},{default:be(()=>[(V(),rt(Nn(ve.prefixIcon)))]),_:1},8,["class"])):Qe("v-if",!0)],2)],2)):Qe("v-if",!0),me("input",Hn({id:w(d),ref_key:"input",ref:v,class:w(p).e("inner")},w(a),{minlength:ve.minlength,maxlength:ve.maxlength,type:ve.showPassword?b.value?"text":"password":ve.type,disabled:w(h),readonly:ve.readonly,autocomplete:ve.autocomplete,tabindex:ve.tabindex,"aria-label":ve.ariaLabel,placeholder:ve.placeholder,style:ve.inputStyle,form:ve.form,autofocus:ve.autofocus,role:ve.containerRole,onCompositionstart:w(ce),onCompositionupdate:w(ie),onCompositionend:w(Ue),onInput:He,onChange:$e,onKeydown:pe}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Qe(" suffix slot "),w(Q)?(V(),ue("span",{key:1,class:j(w(p).e("suffix"))},[me("span",{class:j(w(p).e("suffix-inner"))},[!w(z)||!w(O)||!w(G)?(V(),ue(zt,{key:0},[Ze(ve.$slots,"suffix"),ve.suffixIcon?(V(),rt(w(Vt),{key:0,class:j(w(p).e("icon"))},{default:be(()=>[(V(),rt(Nn(ve.suffixIcon)))]),_:1},8,["class"])):Qe("v-if",!0)],64)):Qe("v-if",!0),w(z)?(V(),rt(w(Vt),{key:1,class:j([w(p).e("icon"),w(p).e("clear")]),onMousedown:sn(w(Sr),["prevent"]),onClick:Z},{default:be(()=>[se(w(xd))]),_:1},8,["class","onMousedown"])):Qe("v-if",!0),w(O)?(V(),rt(w(Vt),{key:2,class:j([w(p).e("icon"),w(p).e("password")]),onClick:De},{default:be(()=>[(V(),rt(Nn(w(F))))]),_:1},8,["class"])):Qe("v-if",!0),w(G)?(V(),ue("span",{key:3,class:j(w(p).e("count"))},[me("span",{class:j(w(p).e("count-inner"))},Ct(w(X))+" / "+Ct(ve.maxlength),3)],2)):Qe("v-if",!0),w(D)&&w(L)&&w(I)?(V(),rt(w(Vt),{key:4,class:j([w(p).e("icon"),w(p).e("validateIcon"),w(p).is("loading",w(D)==="validating")])},{default:be(()=>[(V(),rt(Nn(w(L))))]),_:1},8,["class"])):Qe("v-if",!0)],2)],2)):Qe("v-if",!0)],2),Qe(" append slot "),ve.$slots.append?(V(),ue("div",{key:1,class:j(w(p).be("group","append"))},[Ze(ve.$slots,"append")],2)):Qe("v-if",!0)],64)):(V(),ue(zt,{key:1},[Qe(" textarea "),me("textarea",Hn({id:w(d),ref_key:"textarea",ref:g,class:[w(m).e("inner"),w(p).is("focus",w(C))]},w(a),{minlength:ve.minlength,maxlength:ve.maxlength,tabindex:ve.tabindex,disabled:w(h),readonly:ve.readonly,autocomplete:ve.autocomplete,style:w(k),"aria-label":ve.ariaLabel,placeholder:ve.placeholder,form:ve.form,autofocus:ve.autofocus,rows:ve.rows,role:ve.containerRole,onCompositionstart:w(ce),onCompositionupdate:w(ie),onCompositionend:w(Ue),onInput:He,onFocus:w(M),onBlur:w(A),onChange:$e,onKeydown:pe}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),w(G)?(V(),ue("span",{key:0,style:Bt(_.value),class:j(w(p).e("count"))},Ct(w(X))+" / "+Ct(ve.maxlength),7)):Qe("v-if",!0)],64))],38))}});var Uve=Pt(zve,[["__file","input.vue"]]);const xs=gn(Uve),$m=4,yY={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Hve=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),Xk=Symbol("scrollbarContextKey"),Vve=Rt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),$ve="Thumb",Gve=Ie({__name:"thumb",props:Vve,setup(n){const e=n,t=Ot(Xk),r=bt("scrollbar");t||ua($ve,"can not inject scrollbar context");const i=ee(),a=ee(),s=ee({}),o=ee(!1);let l=!1,c=!1,u=nr?document.onselectstart:null;const d=U(()=>yY[e.vertical?"vertical":"horizontal"]),f=U(()=>Hve({size:e.size,move:e.move,bar:d.value})),h=U(()=>i.value[d.value.offset]**2/t.wrapElement[d.value.scrollSize]/e.ratio/a.value[d.value.offset]),p=S=>{var T;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(T=window.getSelection())==null||T.removeAllRanges(),v(S);const C=S.currentTarget;C&&(s.value[d.value.axis]=C[d.value.offset]-(S[d.value.client]-C.getBoundingClientRect()[d.value.direction]))},m=S=>{if(!a.value||!i.value||!t.wrapElement)return;const T=Math.abs(S.target.getBoundingClientRect()[d.value.direction]-S[d.value.client]),C=a.value[d.value.offset]/2,M=(T-C)*100*h.value/i.value[d.value.offset];t.wrapElement[d.value.scroll]=M*t.wrapElement[d.value.scrollSize]/100},v=S=>{S.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),u=document.onselectstart,document.onselectstart=()=>!1},g=S=>{if(!i.value||!a.value||l===!1)return;const T=s.value[d.value.axis];if(!T)return;const C=(i.value.getBoundingClientRect()[d.value.direction]-S[d.value.client])*-1,M=a.value[d.value.offset]-T,A=(C-M)*100*h.value/i.value[d.value.offset];t.wrapElement[d.value.scroll]=A*t.wrapElement[d.value.scrollSize]/100},y=()=>{l=!1,s.value[d.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),x(),c&&(o.value=!1)},b=()=>{c=!1,o.value=!!e.size},_=()=>{c=!0,o.value=l};yr(()=>{x(),document.removeEventListener("mouseup",y)});const x=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return Tr(_r(t,"scrollbarElement"),"mousemove",b),Tr(_r(t,"scrollbarElement"),"mouseleave",_),(S,T)=>(V(),rt(ca,{name:w(r).b("fade"),persisted:""},{default:be(()=>[Sn(me("div",{ref_key:"instance",ref:i,class:j([w(r).e("bar"),w(r).is(w(d).key)]),onMousedown:m},[me("div",{ref_key:"thumb",ref:a,class:j(w(r).e("thumb")),style:Bt(w(f)),onMousedown:p},null,38)],34),[[fr,S.always||o.value]])]),_:1},8,["name"]))}});var A7=Pt(Gve,[["__file","thumb.vue"]]);const Wve=Rt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),qve=Ie({__name:"bar",props:Wve,setup(n,{expose:e}){const t=n,r=Ot(Xk),i=ee(0),a=ee(0),s=ee(""),o=ee(""),l=ee(1),c=ee(1);return e({handleScroll:f=>{if(f){const h=f.offsetHeight-$m,p=f.offsetWidth-$m;a.value=f.scrollTop*100/h*l.value,i.value=f.scrollLeft*100/p*c.value}},update:()=>{const f=r==null?void 0:r.wrapElement;if(!f)return;const h=f.offsetHeight-$m,p=f.offsetWidth-$m,m=h**2/f.scrollHeight,v=p**2/f.scrollWidth,g=Math.max(m,t.minSize),y=Math.max(v,t.minSize);l.value=m/(h-m)/(g/(h-g)),c.value=v/(p-v)/(y/(p-y)),o.value=g+$m<h?`${g}px`:"",s.value=y+$m<p?`${y}px`:""}}),(f,h)=>(V(),ue(zt,null,[se(A7,{move:i.value,ratio:c.value,size:s.value,always:f.always},null,8,["move","ratio","size","always"]),se(A7,{move:a.value,ratio:l.value,size:o.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var Kve=Pt(qve,[["__file","bar.vue"]]);const Yve=Rt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:We([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...Ua(["ariaLabel","ariaOrientation"])}),Xve={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(en)},jve="ElScrollbar",Zve=Ie({name:jve}),Qve=Ie({...Zve,props:Yve,emits:Xve,setup(n,{expose:e,emit:t}){const r=n,i=bt("scrollbar");let a,s,o=0,l=0;const c=ee(),u=ee(),d=ee(),f=ee(),h=U(()=>{const x={};return r.height&&(x.height=Pi(r.height)),r.maxHeight&&(x.maxHeight=Pi(r.maxHeight)),[r.wrapStyle,x]}),p=U(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),m=U(()=>[i.e("view"),r.viewClass]),v=()=>{var x;u.value&&((x=f.value)==null||x.handleScroll(u.value),o=u.value.scrollTop,l=u.value.scrollLeft,t("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function g(x,S){Pn(x)?u.value.scrollTo(x):en(x)&&en(S)&&u.value.scrollTo(x,S)}const y=x=>{en(x)&&(u.value.scrollTop=x)},b=x=>{en(x)&&(u.value.scrollLeft=x)},_=()=>{var x;(x=f.value)==null||x.update()};return dt(()=>r.noresize,x=>{x?(a==null||a(),s==null||s()):({stop:a}=ui(d,_),s=Tr("resize",_))},{immediate:!0}),dt(()=>[r.maxHeight,r.height],()=>{r.native||Yt(()=>{var x;_(),u.value&&((x=f.value)==null||x.handleScroll(u.value))})}),$n(Xk,mr({scrollbarElement:c,wrapElement:u})),uk(()=>{u.value&&(u.value.scrollTop=o,u.value.scrollLeft=l)}),pn(()=>{r.native||Yt(()=>{_()})}),Nl(()=>_()),e({wrapRef:u,update:_,scrollTo:g,setScrollTop:y,setScrollLeft:b,handleScroll:v}),(x,S)=>(V(),ue("div",{ref_key:"scrollbarRef",ref:c,class:j(w(i).b())},[me("div",{ref_key:"wrapRef",ref:u,class:j(w(p)),style:Bt(w(h)),tabindex:x.tabindex,onScroll:v},[(V(),rt(Nn(x.tag),{id:x.id,ref_key:"resizeRef",ref:d,class:j(w(m)),style:Bt(x.viewStyle),role:x.role,"aria-label":x.ariaLabel,"aria-orientation":x.ariaOrientation},{default:be(()=>[Ze(x.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),x.native?Qe("v-if",!0):(V(),rt(Kve,{key:0,ref_key:"barRef",ref:f,always:x.always,"min-size":x.minSize},null,8,["always","min-size"]))],2))}});var Jve=Pt(Qve,[["__file","scrollbar.vue"]]);const du=gn(Jve),jk=Symbol("popper"),bY=Symbol("popperContent"),ege=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],_Y=Rt({role:{type:String,values:ege,default:"tooltip"}}),tge=Ie({name:"ElPopper",inheritAttrs:!1}),nge=Ie({...tge,props:_Y,setup(n,{expose:e}){const t=n,r=ee(),i=ee(),a=ee(),s=ee(),o=U(()=>t.role),l={triggerRef:r,popperInstanceRef:i,contentRef:a,referenceRef:s,role:o};return e(l),$n(jk,l),(c,u)=>Ze(c.$slots,"default")}});var rge=Pt(nge,[["__file","popper.vue"]]);const wY=Rt({arrowOffset:{type:Number,default:5}}),ige=Ie({name:"ElPopperArrow",inheritAttrs:!1}),age=Ie({...ige,props:wY,setup(n,{expose:e}){const t=n,r=bt("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:s}=Ot(bY,void 0);return dt(()=>t.arrowOffset,o=>{i.value=o}),yr(()=>{a.value=void 0}),e({arrowRef:a}),(o,l)=>(V(),ue("span",{ref_key:"arrowRef",ref:a,class:j(w(r).e("arrow")),style:Bt(w(s)),"data-popper-arrow":""},null,6))}});var sge=Pt(age,[["__file","arrow.vue"]]);const xY=Rt({virtualRef:{type:We(Object)},virtualTriggering:Boolean,onMouseenter:{type:We(Function)},onMouseleave:{type:We(Function)},onClick:{type:We(Function)},onKeydown:{type:We(Function)},onFocus:{type:We(Function)},onBlur:{type:We(Function)},onContextmenu:{type:We(Function)},id:String,open:Boolean}),SY=Symbol("elForwardRef"),oge=n=>{$n(SY,{setForwardRef:t=>{n.value=t}})},lge=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),cge='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',uge=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,E7=n=>Array.from(n.querySelectorAll(cge)).filter(e=>m5(e)&&uge(e)),m5=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.tabIndex<0||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true")return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},f2=function(n,e,...t){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...t),n.dispatchEvent(i),n},CY=n=>!n.getAttribute("aria-owns"),MY=(n,e,t)=>{const{parentNode:r}=n;if(!r)return null;const i=r.querySelectorAll(t),a=Array.prototype.indexOf.call(i,n);return i[a+e]||null},h2=n=>{n&&(n.focus(),!CY(n)&&n.click())},dge="ElOnlyChild",TY=Ie({name:dge,setup(n,{slots:e,attrs:t}){var r;const i=Ot(SY),a=lge((r=i==null?void 0:i.setForwardRef)!=null?r:Sr);return()=>{var s;const o=(s=e.default)==null?void 0:s.call(e,t);if(!o||o.length>1)return null;const l=AY(o);return l?Sn(ad(l,t),[[a]]):null}}});function AY(n){if(!n)return null;const e=n;for(const t of e){if(Pn(t))switch(t.type){case Ss:continue;case zg:case"svg":return I7(t);case zt:return AY(t.children);default:return t}return I7(t)}return null}function I7(n){const e=bt("only-child");return se("span",{class:e.e("content")},[n])}const fge=Ie({name:"ElPopperTrigger",inheritAttrs:!1}),hge=Ie({...fge,props:xY,setup(n,{expose:e}){const t=n,{role:r,triggerRef:i}=Ot(jk,void 0);oge(i);const a=U(()=>o.value?t.id:void 0),s=U(()=>{if(r&&r.value==="tooltip")return t.open&&t.id?t.id:void 0}),o=U(()=>{if(r&&r.value!=="tooltip")return r.value}),l=U(()=>o.value?`${t.open}`:void 0);let c;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return pn(()=>{dt(()=>t.virtualRef,d=>{d&&(i.value=zs(d))},{immediate:!0}),dt(i,(d,f)=>{c==null||c(),c=void 0,zo(d)&&(u.forEach(h=>{var p;const m=t[h];m&&(d.addEventListener(h.slice(2).toLowerCase(),m),(p=f==null?void 0:f.removeEventListener)==null||p.call(f,h.slice(2).toLowerCase(),m))}),m5(d)&&(c=dt([a,s,o,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,m)=>{ma(h[m])?d.removeAttribute(p):d.setAttribute(p,h[m])})},{immediate:!0}))),zo(f)&&m5(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>f.removeAttribute(h))},{immediate:!0})}),yr(()=>{if(c==null||c(),c=void 0,i.value&&zo(i.value)){const d=i.value;u.forEach(f=>{const h=t[f];h&&d.removeEventListener(f.slice(2).toLowerCase(),h)}),i.value=void 0}}),e({triggerRef:i}),(d,f)=>d.virtualTriggering?Qe("v-if",!0):(V(),rt(w(TY),Hn({key:0},d.$attrs,{"aria-controls":w(a),"aria-describedby":w(s),"aria-expanded":w(l),"aria-haspopup":w(o)}),{default:be(()=>[Ze(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var pge=Pt(hge,[["__file","trigger.vue"]]);const g3="focus-trap.focus-after-trapped",y3="focus-trap.focus-after-released",mge="focus-trap.focusout-prevented",R7={cancelable:!0,bubbles:!1},vge={cancelable:!0,bubbles:!1},P7="focusAfterTrapped",D7="focusAfterReleased",Zk=Symbol("elFocusTrap"),Qk=ee(),_T=ee(0),Jk=ee(0);let Uw=0;const EY=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},k7=(n,e)=>{for(const t of n)if(!gge(t,e))return t},gge=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},yge=n=>{const e=EY(n),t=k7(e,n),r=k7(e.reverse(),n);return[t,r]},bge=n=>n instanceof HTMLInputElement&&"select"in n,lf=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),Jk.value=window.performance.now(),n!==t&&bge(n)&&e&&n.select()}};function L7(n,e){const t=[...n],r=n.indexOf(e);return r!==-1&&t.splice(r,1),t}const _ge=()=>{let n=[];return{push:r=>{const i=n[0];i&&r!==i&&i.pause(),n=L7(n,r),n.unshift(r)},remove:r=>{var i,a;n=L7(n,r),(a=(i=n[0])==null?void 0:i.resume)==null||a.call(i)}}},wge=(n,e=!1)=>{const t=document.activeElement;for(const r of n)if(lf(r,e),document.activeElement!==t)return},N7=_ge(),xge=()=>_T.value>Jk.value,Hw=()=>{Qk.value="pointer",_T.value=window.performance.now()},O7=()=>{Qk.value="keyboard",_T.value=window.performance.now()},Sge=()=>(pn(()=>{Uw===0&&(document.addEventListener("mousedown",Hw),document.addEventListener("touchstart",Hw),document.addEventListener("keydown",O7)),Uw++}),yr(()=>{Uw--,Uw<=0&&(document.removeEventListener("mousedown",Hw),document.removeEventListener("touchstart",Hw),document.removeEventListener("keydown",O7))}),{focusReason:Qk,lastUserFocusTimestamp:_T,lastAutomatedFocusTimestamp:Jk}),Vw=n=>new CustomEvent(mge,{...vge,detail:n}),Nt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let j0=[];const B7=n=>{n.code===Nt.esc&&j0.forEach(e=>e(n))},Cge=n=>{pn(()=>{j0.length===0&&document.addEventListener("keydown",B7),nr&&j0.push(n)}),yr(()=>{j0=j0.filter(e=>e!==n),j0.length===0&&nr&&document.removeEventListener("keydown",B7)})},Mge=Ie({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[P7,D7,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=ee();let r,i;const{focusReason:a}=Sge();Cge(p=>{n.trapped&&!s.paused&&e("release-requested",p)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=p=>{if(!n.loop&&!n.trapped||s.paused)return;const{code:m,altKey:v,ctrlKey:g,metaKey:y,currentTarget:b,shiftKey:_}=p,{loop:x}=n,S=m===Nt.tab&&!v&&!g&&!y,T=document.activeElement;if(S&&T){const C=b,[M,A]=yge(C);if(M&&A){if(!_&&T===A){const D=Vw({focusReason:a.value});e("focusout-prevented",D),D.defaultPrevented||(p.preventDefault(),x&&lf(M,!0))}else if(_&&[M,C].includes(T)){const D=Vw({focusReason:a.value});e("focusout-prevented",D),D.defaultPrevented||(p.preventDefault(),x&&lf(A,!0))}}else if(T===C){const D=Vw({focusReason:a.value});e("focusout-prevented",D),D.defaultPrevented||p.preventDefault()}}};$n(Zk,{focusTrapRef:t,onKeydown:o}),dt(()=>n.focusTrapEl,p=>{p&&(t.value=p)},{immediate:!0}),dt([t],([p],[m])=>{p&&(p.addEventListener("keydown",o),p.addEventListener("focusin",u),p.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",o),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=p=>{e(P7,p)},c=p=>e(D7,p),u=p=>{const m=w(t);if(!m)return;const v=p.target,g=p.relatedTarget,y=v&&m.contains(v);n.trapped||g&&m.contains(g)||(r=g),y&&e("focusin",p),!s.paused&&n.trapped&&(y?i=v:lf(i,!0))},d=p=>{const m=w(t);if(!(s.paused||!m))if(n.trapped){const v=p.relatedTarget;!ma(v)&&!m.contains(v)&&setTimeout(()=>{if(!s.paused&&n.trapped){const g=Vw({focusReason:a.value});e("focusout-prevented",g),g.defaultPrevented||lf(i,!0)}},0)}else{const v=p.target;v&&m.contains(v)||e("focusout",p)}};async function f(){await Yt();const p=w(t);if(p){N7.push(s);const m=p.contains(document.activeElement)?r:document.activeElement;if(r=m,!p.contains(m)){const g=new Event(g3,R7);p.addEventListener(g3,l),p.dispatchEvent(g),g.defaultPrevented||Yt(()=>{let y=n.focusStartEl;qt(y)||(lf(y),document.activeElement!==y&&(y="first")),y==="first"&&wge(EY(p),!0),(document.activeElement===m||y==="container")&&lf(p)})}}}function h(){const p=w(t);if(p){p.removeEventListener(g3,l);const m=new CustomEvent(y3,{...R7,detail:{focusReason:a.value}});p.addEventListener(y3,c),p.dispatchEvent(m),!m.defaultPrevented&&(a.value=="keyboard"||!xge()||p.contains(document.activeElement))&&lf(r??document.body),p.removeEventListener(y3,c),N7.remove(s)}}return pn(()=>{n.trapped&&f(),dt(()=>n.trapped,p=>{p?f():h()})}),yr(()=>{n.trapped&&h(),t.value&&(t.value.removeEventListener("keydown",o),t.value.removeEventListener("focusin",u),t.value.removeEventListener("focusout",d),t.value=void 0)}),{onKeydown:o}}});function Tge(n,e,t,r,i,a){return Ze(n.$slots,"default",{handleKeydown:n.onKeydown})}var qg=Pt(Mge,[["render",Tge],["__file","focus-trap.vue"]]),fo="top",Rl="bottom",Pl="right",ho="left",eL="auto",X_=[fo,Rl,Pl,ho],eg="start",Ub="end",Age="clippingParents",IY="viewport",Ey="popper",Ege="reference",F7=X_.reduce(function(n,e){return n.concat([e+"-"+eg,e+"-"+Ub])},[]),Sd=[].concat(X_,[eL]).reduce(function(n,e){return n.concat([e,e+"-"+eg,e+"-"+Ub])},[]),Ige="beforeRead",Rge="read",Pge="afterRead",Dge="beforeMain",kge="main",Lge="afterMain",Nge="beforeWrite",Oge="write",Bge="afterWrite",Fge=[Ige,Rge,Pge,Dge,kge,Lge,Nge,Oge,Bge];function ru(n){return n?(n.nodeName||"").toLowerCase():null}function xc(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function tg(n){var e=xc(n).Element;return n instanceof e||n instanceof Element}function xl(n){var e=xc(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function tL(n){if(typeof ShadowRoot>"u")return!1;var e=xc(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function zge(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!xl(a)||!ru(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function Uge(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),o=s.reduce(function(l,c){return l[c]="",l},{});!xl(i)||!ru(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var RY={name:"applyStyles",enabled:!0,phase:"write",fn:zge,effect:Uge,requires:["computeStyles"]};function Qc(n){return n.split("-")[0]}var Vp=Math.max,bC=Math.min,ng=Math.round;function rg(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),r=1,i=1;if(xl(n)&&e){var a=n.offsetHeight,s=n.offsetWidth;s>0&&(r=ng(t.width)/s||1),a>0&&(i=ng(t.height)/a||1)}return{width:t.width/r,height:t.height/i,top:t.top/i,right:t.right/r,bottom:t.bottom/i,left:t.left/r,x:t.left/r,y:t.top/i}}function nL(n){var e=rg(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function PY(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&tL(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function sd(n){return xc(n).getComputedStyle(n)}function Hge(n){return["table","td","th"].indexOf(ru(n))>=0}function vh(n){return((tg(n)?n.ownerDocument:n.document)||window.document).documentElement}function wT(n){return ru(n)==="html"?n:n.assignedSlot||n.parentNode||(tL(n)?n.host:null)||vh(n)}function z7(n){return!xl(n)||sd(n).position==="fixed"?null:n.offsetParent}function Vge(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&xl(n)){var r=sd(n);if(r.position==="fixed")return null}var i=wT(n);for(tL(i)&&(i=i.host);xl(i)&&["html","body"].indexOf(ru(i))<0;){var a=sd(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function j_(n){for(var e=xc(n),t=z7(n);t&&Hge(t)&&sd(t).position==="static";)t=z7(t);return t&&(ru(t)==="html"||ru(t)==="body"&&sd(t).position==="static")?e:t||Vge(n)||e}function rL(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function U1(n,e,t){return Vp(n,bC(e,t))}function $ge(n,e,t){var r=U1(n,e,t);return r>t?t:r}function DY(){return{top:0,right:0,bottom:0,left:0}}function kY(n){return Object.assign({},DY(),n)}function LY(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Gge=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,kY(typeof n!="number"?n:LY(n,X_))};function Wge(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,o=Qc(t.placement),l=rL(o),c=[ho,Pl].indexOf(o)>=0,u=c?"height":"width";if(!(!a||!s)){var d=Gge(i.padding,t),f=nL(a),h=l==="y"?fo:ho,p=l==="y"?Rl:Pl,m=t.rects.reference[u]+t.rects.reference[l]-s[l]-t.rects.popper[u],v=s[l]-t.rects.reference[l],g=j_(a),y=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,b=m/2-v/2,_=d[h],x=y-f[u]-d[p],S=y/2-f[u]/2+b,T=U1(_,S,x),C=l;t.modifiersData[r]=(e={},e[C]=T,e.centerOffset=T-S,e)}}function qge(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!PY(e.elements.popper,i)||(e.elements.arrow=i))}var Kge={name:"arrow",enabled:!0,phase:"main",fn:Wge,effect:qge,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ig(n){return n.split("-")[1]}var Yge={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xge(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:ng(e*i)/i||0,y:ng(t*i)/i||0}}function U7(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,s=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=s.x,h=f===void 0?0:f,p=s.y,m=p===void 0?0:p,v=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=v.x,m=v.y;var g=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=ho,_=fo,x=window;if(c){var S=j_(t),T="clientHeight",C="clientWidth";if(S===xc(t)&&(S=vh(t),sd(S).position!=="static"&&o==="absolute"&&(T="scrollHeight",C="scrollWidth")),S=S,i===fo||(i===ho||i===Pl)&&a===Ub){_=Rl;var M=d&&S===x&&x.visualViewport?x.visualViewport.height:S[T];m-=M-r.height,m*=l?1:-1}if(i===ho||(i===fo||i===Rl)&&a===Ub){b=Pl;var A=d&&S===x&&x.visualViewport?x.visualViewport.width:S[C];h-=A-r.width,h*=l?1:-1}}var I=Object.assign({position:o},c&&Yge),D=u===!0?Xge({x:h,y:m}):{x:h,y:m};if(h=D.x,m=D.y,l){var L;return Object.assign({},I,(L={},L[_]=y?"0":"",L[b]=g?"0":"",L.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",L))}return Object.assign({},I,(e={},e[_]=y?m+"px":"",e[b]=g?h+"px":"",e.transform="",e))}function jge(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,s=a===void 0?!0:a,o=t.roundOffsets,l=o===void 0?!0:o,c={placement:Qc(e.placement),variation:ig(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,U7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,U7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var NY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jge,data:{}},$w={passive:!0};function Zge(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=xc(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",t.update,$w)}),o&&l.addEventListener("resize",t.update,$w),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",t.update,$w)}),o&&l.removeEventListener("resize",t.update,$w)}}var OY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Zge,data:{}},Qge={left:"right",right:"left",bottom:"top",top:"bottom"};function p2(n){return n.replace(/left|right|bottom|top/g,function(e){return Qge[e]})}var Jge={start:"end",end:"start"};function H7(n){return n.replace(/start|end/g,function(e){return Jge[e]})}function iL(n){var e=xc(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function aL(n){return rg(vh(n)).left+iL(n).scrollLeft}function eye(n){var e=xc(n),t=vh(n),r=e.visualViewport,i=t.clientWidth,a=t.clientHeight,s=0,o=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,o=r.offsetTop)),{width:i,height:a,x:s+aL(n),y:o}}function tye(n){var e,t=vh(n),r=iL(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=Vp(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Vp(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+aL(n),l=-r.scrollTop;return sd(i||t).direction==="rtl"&&(o+=Vp(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function sL(n){var e=sd(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function BY(n){return["html","body","#document"].indexOf(ru(n))>=0?n.ownerDocument.body:xl(n)&&sL(n)?n:BY(wT(n))}function H1(n,e){var t;e===void 0&&(e=[]);var r=BY(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=xc(r),s=i?[a].concat(a.visualViewport||[],sL(r)?r:[]):r,o=e.concat(s);return i?o:o.concat(H1(wT(s)))}function v5(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function nye(n){var e=rg(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function V7(n,e){return e===IY?v5(eye(n)):tg(e)?nye(e):v5(tye(vh(n)))}function rye(n){var e=H1(wT(n)),t=["absolute","fixed"].indexOf(sd(n).position)>=0,r=t&&xl(n)?j_(n):n;return tg(r)?e.filter(function(i){return tg(i)&&PY(i,r)&&ru(i)!=="body"}):[]}function iye(n,e,t){var r=e==="clippingParents"?rye(n):[].concat(e),i=[].concat(r,[t]),a=i[0],s=i.reduce(function(o,l){var c=V7(n,l);return o.top=Vp(c.top,o.top),o.right=bC(c.right,o.right),o.bottom=bC(c.bottom,o.bottom),o.left=Vp(c.left,o.left),o},V7(n,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function FY(n){var e=n.reference,t=n.element,r=n.placement,i=r?Qc(r):null,a=r?ig(r):null,s=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(i){case fo:l={x:s,y:e.y-t.height};break;case Rl:l={x:s,y:e.y+e.height};break;case Pl:l={x:e.x+e.width,y:o};break;case ho:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var c=i?rL(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case eg:l[c]=l[c]-(e[u]/2-t[u]/2);break;case Ub:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function Hb(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.boundary,s=a===void 0?Age:a,o=t.rootBoundary,l=o===void 0?IY:o,c=t.elementContext,u=c===void 0?Ey:c,d=t.altBoundary,f=d===void 0?!1:d,h=t.padding,p=h===void 0?0:h,m=kY(typeof p!="number"?p:LY(p,X_)),v=u===Ey?Ege:Ey,g=n.rects.popper,y=n.elements[f?v:u],b=iye(tg(y)?y:y.contextElement||vh(n.elements.popper),s,l),_=rg(n.elements.reference),x=FY({reference:_,element:g,strategy:"absolute",placement:i}),S=v5(Object.assign({},g,x)),T=u===Ey?S:_,C={top:b.top-T.top+m.top,bottom:T.bottom-b.bottom+m.bottom,left:b.left-T.left+m.left,right:T.right-b.right+m.right},M=n.modifiersData.offset;if(u===Ey&&M){var A=M[i];Object.keys(C).forEach(function(I){var D=[Pl,Rl].indexOf(I)>=0?1:-1,L=[fo,Rl].indexOf(I)>=0?"y":"x";C[I]+=A[L]*D})}return C}function aye(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,s=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Sd:l,u=ig(r),d=u?o?F7:F7.filter(function(p){return ig(p)===u}):X_,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=Hb(n,{placement:m,boundary:i,rootBoundary:a,padding:s})[Qc(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function sye(n){if(Qc(n)===eL)return[];var e=p2(n);return[H7(n),e,H7(e)]}function oye(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,p=h===void 0?!0:h,m=t.allowedAutoPlacements,v=e.options.placement,g=Qc(v),y=g===v,b=l||(y||!p?[p2(v)]:sye(v)),_=[v].concat(b).reduce(function(re,de){return re.concat(Qc(de)===eL?aye(e,{placement:de,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):de)},[]),x=e.rects.reference,S=e.rects.popper,T=new Map,C=!0,M=_[0],A=0;A<_.length;A++){var I=_[A],D=Qc(I),L=ig(I)===eg,F=[fo,Rl].indexOf(D)>=0,B=F?"width":"height",k=Hb(e,{placement:I,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),H=F?L?Pl:ho:L?Rl:fo;x[B]>S[B]&&(H=p2(H));var z=p2(H),O=[];if(a&&O.push(k[D]<=0),o&&O.push(k[H]<=0,k[z]<=0),O.every(function(re){return re})){M=I,C=!1;break}T.set(I,O)}if(C)for(var G=p?3:1,X=function(re){var de=_.find(function(le){var fe=T.get(le);if(fe)return fe.slice(0,re).every(function(Ee){return Ee})});if(de)return M=de,"break"},J=G;J>0;J--){var Q=X(J);if(Q==="break")break}e.placement!==M&&(e.modifiersData[r]._skip=!0,e.placement=M,e.reset=!0)}}var lye={name:"flip",enabled:!0,phase:"main",fn:oye,requiresIfExists:["offset"],data:{_skip:!1}};function $7(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function G7(n){return[fo,Pl,Rl,ho].some(function(e){return n[e]>=0})}function cye(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=Hb(e,{elementContext:"reference"}),o=Hb(e,{altBoundary:!0}),l=$7(s,r),c=$7(o,i,a),u=G7(l),d=G7(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var uye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:cye};function dye(n,e,t){var r=Qc(n),i=[ho,fo].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[ho,Pl].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function fye(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,s=Sd.reduce(function(u,d){return u[d]=dye(d,e.rects,a),u},{}),o=s[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var hye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fye};function pye(n){var e=n.state,t=n.name;e.modifiersData[t]=FY({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var zY={name:"popperOffsets",enabled:!0,phase:"read",fn:pye,data:{}};function mye(n){return n==="x"?"y":"x"}function vye(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,f=t.tether,h=f===void 0?!0:f,p=t.tetherOffset,m=p===void 0?0:p,v=Hb(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=Qc(e.placement),y=ig(e.placement),b=!y,_=rL(g),x=mye(_),S=e.modifiersData.popperOffsets,T=e.rects.reference,C=e.rects.popper,M=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,A=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(S){if(a){var L,F=_==="y"?fo:ho,B=_==="y"?Rl:Pl,k=_==="y"?"height":"width",H=S[_],z=H+v[F],O=H-v[B],G=h?-C[k]/2:0,X=y===eg?T[k]:C[k],J=y===eg?-C[k]:-T[k],Q=e.elements.arrow,re=h&&Q?nL(Q):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:DY(),le=de[F],fe=de[B],Ee=U1(0,T[k],re[k]),Re=b?T[k]/2-G-Ee-le-A.mainAxis:X-Ee-le-A.mainAxis,He=b?-T[k]/2+G+Ee+fe+A.mainAxis:J+Ee+fe+A.mainAxis,$e=e.elements.arrow&&j_(e.elements.arrow),K=$e?_==="y"?$e.clientTop||0:$e.clientLeft||0:0,ce=(L=I==null?void 0:I[_])!=null?L:0,ie=H+Re-ce-K,Ue=H+He-ce,De=U1(h?bC(z,ie):z,H,h?Vp(O,Ue):O);S[_]=De,D[_]=De-H}if(o){var Ye,ze=_==="x"?fo:ho,Ve=_==="x"?Rl:Pl,Je=S[x],pe=x==="y"?"height":"width",W=Je+v[ze],Z=Je-v[Ve],ve=[fo,ho].indexOf(g)!==-1,Ne=(Ye=I==null?void 0:I[x])!=null?Ye:0,Ke=ve?W:Je-T[pe]-C[pe]-Ne+A.altAxis,mt=ve?Je+T[pe]+C[pe]-Ne-A.altAxis:Z,vt=h&&ve?$ge(Ke,Je,mt):U1(h?Ke:W,Je,h?mt:Z);S[x]=vt,D[x]=vt-Je}e.modifiersData[r]=D}}var gye={name:"preventOverflow",enabled:!0,phase:"main",fn:vye,requiresIfExists:["offset"]};function yye(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function bye(n){return n===xc(n)||!xl(n)?iL(n):yye(n)}function _ye(n){var e=n.getBoundingClientRect(),t=ng(e.width)/n.offsetWidth||1,r=ng(e.height)/n.offsetHeight||1;return t!==1||r!==1}function wye(n,e,t){t===void 0&&(t=!1);var r=xl(e),i=xl(e)&&_ye(e),a=vh(e),s=rg(n,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((ru(e)!=="body"||sL(a))&&(o=bye(e)),xl(e)?(l=rg(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=aL(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function xye(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&i(l)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function Sye(n){var e=xye(n);return Fge.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function Cye(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Mye(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var W7={placement:"bottom",modifiers:[],strategy:"absolute"};function q7(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function oL(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?W7:i;return function(s,o,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},W7,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},u=[],d=!1,f={state:c,setOptions:function(m){var v=typeof m=="function"?m(c.options):m;p(),c.options=Object.assign({},a,c.options,v),c.scrollParents={reference:tg(s)?H1(s):s.contextElement?H1(s.contextElement):[],popper:H1(o)};var g=Sye(Mye([].concat(r,c.options.modifiers)));return c.orderedModifiers=g.filter(function(y){return y.enabled}),h(),f.update()},forceUpdate:function(){if(!d){var m=c.elements,v=m.reference,g=m.popper;if(q7(v,g)){c.rects={reference:wye(v,j_(g),c.options.strategy==="fixed"),popper:nL(g)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var b=c.orderedModifiers[y],_=b.fn,x=b.options,S=x===void 0?{}:x,T=b.name;typeof _=="function"&&(c=_({state:c,options:S,name:T,instance:f})||c)}}}},update:Cye(function(){return new Promise(function(m){f.forceUpdate(),m(c)})}),destroy:function(){p(),d=!0}};if(!q7(s,o))return f;f.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function h(){c.orderedModifiers.forEach(function(m){var v=m.name,g=m.options,y=g===void 0?{}:g,b=m.effect;if(typeof b=="function"){var _=b({state:c,name:v,instance:f,options:y}),x=function(){};u.push(_||x)}})}function p(){u.forEach(function(m){return m()}),u=[]}return f}}oL();var Tye=[OY,zY,NY,RY];oL({defaultModifiers:Tye});var Aye=[OY,zY,NY,RY,hye,lye,gye,Kge,uye],Eye=oL({defaultModifiers:Aye});const Iye=["fixed","absolute"],Rye=Rt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:We(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Sd,default:"bottom"},popperOptions:{type:We(Object),default:()=>({})},strategy:{type:String,values:Iye,default:"absolute"}}),UY=Rt({...Rye,id:String,style:{type:We([String,Array,Object])},className:{type:We([String,Array,Object])},effect:{type:We(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:We([String,Array,Object])},popperStyle:{type:We([String,Array,Object])},referenceEl:{type:We(Object)},triggerTargetEl:{type:We(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...Ua(["ariaLabel"])}),Pye={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},Dye=(n,e)=>{const t=ee(!1),r=ee();return{focusStartRef:r,trapped:t,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{n.visible&&!t.value&&(c.target&&(r.value=c.target),t.value=!0)},onFocusoutPrevented:c=>{n.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),t.value=!1)},onReleaseRequested:()=>{t.value=!1,e("close")}}},kye=(n,e=[])=>{const{placement:t,strategy:r,popperOptions:i}=n,a={placement:t,strategy:r,...i,modifiers:[...Nye(n),...e]};return Oye(a,i==null?void 0:i.modifiers),a},Lye=n=>{if(nr)return zs(n)};function Nye(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:r}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:t}}]}function Oye(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const Bye=(n,e,t={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=Fye(l);Object.assign(s.value,c)},requires:["computeStyles"]},i=U(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=w(t);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],r,{name:"applyStyles",enabled:!1}]}}),a=Ir(),s=ee({styles:{popper:{position:w(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return dt(i,l=>{const c=w(a);c&&c.setOptions(l)},{deep:!0}),dt([n,e],([l,c])=>{o(),!(!l||!c)&&(a.value=Eye(l,c,w(i)))}),yr(()=>{o()}),{state:U(()=>{var l;return{...((l=w(a))==null?void 0:l.state)||{}}}),styles:U(()=>w(s).styles),attributes:U(()=>w(s).attributes),update:()=>{var l;return(l=w(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=w(a))==null?void 0:l.forceUpdate()},instanceRef:U(()=>w(a))}};function Fye(n){const e=Object.keys(n.elements),t=zb(e.map(i=>[i,n.styles[i]||{}])),r=zb(e.map(i=>[i,n.attributes[i]]));return{styles:t,attributes:r}}const zye=0,Uye=n=>{const{popperInstanceRef:e,contentRef:t,triggerRef:r,role:i}=Ot(jk,void 0),a=ee(),s=ee(),o=U(()=>({name:"eventListeners",enabled:!!n.visible})),l=U(()=>{var g;const y=w(a),b=(g=w(s))!=null?g:zye;return{name:"arrow",enabled:!WK(y),options:{element:y,padding:b}}}),c=U(()=>({onFirstUpdate:()=>{p()},...kye(n,[w(l),w(o)])})),u=U(()=>Lye(n.referenceEl)||w(r)),{attributes:d,state:f,styles:h,update:p,forceUpdate:m,instanceRef:v}=Bye(u,t,c);return dt(v,g=>e.value=g),pn(()=>{dt(()=>{var g;return(g=w(u))==null?void 0:g.getBoundingClientRect()},()=>{p()})}),{attributes:d,arrowRef:a,contentRef:t,instanceRef:v,state:f,styles:h,role:i,forceUpdate:m,update:p}},Hye=(n,{attributes:e,styles:t,role:r})=>{const{nextZIndex:i}=Gg(),a=bt("popper"),s=U(()=>w(e).popper),o=ee(en(n.zIndex)?n.zIndex:i()),l=U(()=>[a.b(),a.is("pure",n.pure),a.is(n.effect),n.popperClass]),c=U(()=>[{zIndex:w(o)},w(t).popper,n.popperStyle||{}]),u=U(()=>r.value==="dialog"?"false":void 0),d=U(()=>w(t).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:s,contentClass:l,contentStyle:c,contentZIndex:o,updateZIndex:()=>{o.value=en(n.zIndex)?n.zIndex:i()}}},Vye=Ie({name:"ElPopperContent"}),$ye=Ie({...Vye,props:UY,emits:Pye,setup(n,{expose:e,emit:t}){const r=n,{focusStartRef:i,trapped:a,onFocusAfterReleased:s,onFocusAfterTrapped:o,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=Dye(r,t),{attributes:d,arrowRef:f,contentRef:h,styles:p,instanceRef:m,role:v,update:g}=Uye(r),{ariaModal:y,arrowStyle:b,contentAttrs:_,contentClass:x,contentStyle:S,updateZIndex:T}=Hye(r,{styles:p,attributes:d,role:v}),C=Ot(nu,void 0),M=ee();$n(bY,{arrowStyle:b,arrowRef:f,arrowOffset:M}),C&&$n(nu,{...C,addInputId:Sr,removeInputId:Sr});let A;const I=(L=!0)=>{g(),L&&T()},D=()=>{I(!1),r.visible&&r.focusOnShow?a.value=!0:r.visible===!1&&(a.value=!1)};return pn(()=>{dt(()=>r.triggerTargetEl,(L,F)=>{A==null||A(),A=void 0;const B=w(L||h.value),k=w(F||h.value);zo(B)&&(A=dt([v,()=>r.ariaLabel,y,()=>r.id],H=>{["role","aria-label","aria-modal","id"].forEach((z,O)=>{ma(H[O])?B.removeAttribute(z):B.setAttribute(z,H[O])})},{immediate:!0})),k!==B&&zo(k)&&["role","aria-label","aria-modal","id"].forEach(H=>{k.removeAttribute(H)})},{immediate:!0}),dt(()=>r.visible,D,{immediate:!0})}),yr(()=>{A==null||A(),A=void 0}),e({popperContentRef:h,popperInstanceRef:m,updatePopper:I,contentStyle:S}),(L,F)=>(V(),ue("div",Hn({ref_key:"contentRef",ref:h},w(_),{style:w(S),class:w(x),tabindex:"-1",onMouseenter:B=>L.$emit("mouseenter",B),onMouseleave:B=>L.$emit("mouseleave",B)}),[se(w(qg),{trapped:w(a),"trap-on-focus-in":!0,"focus-trap-el":w(h),"focus-start-el":w(i),onFocusAfterTrapped:w(o),onFocusAfterReleased:w(s),onFocusin:w(l),onFocusoutPrevented:w(c),onReleaseRequested:w(u)},{default:be(()=>[Ze(L.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var Gye=Pt($ye,[["__file","content.vue"]]);const HY=gn(rge),xT=Symbol("elTooltip");function K7(){let n;const e=(r,i)=>{t(),n=window.setTimeout(r,i)},t=()=>window.clearTimeout(n);return W_(()=>t()),{registerTimeout:e,cancelTimeout:t}}const Wye=Rt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),qye=({showAfter:n,hideAfter:e,autoClose:t,open:r,close:i})=>{const{registerTimeout:a}=K7(),{registerTimeout:s,cancelTimeout:o}=K7();return{onOpen:u=>{a(()=>{r(u);const d=w(t);en(d)&&d>0&&s(()=>{i(u)},d)},w(n))},onClose:u=>{o(),a(()=>{i(u)},w(e))}}},ba=Rt({...Wye,...UY,appendTo:{type:We([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:We(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...Ua(["ariaLabel"])}),Vb=Rt({...xY,disabled:Boolean,trigger:{type:We([String,Array]),default:"hover"},triggerKeys:{type:We(Array),default:()=>[Nt.enter,Nt.numpadEnter,Nt.space]}}),Kye=wc({type:We(Boolean),default:null}),Yye=wc({type:We(Function)}),VY=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,r=[e],i={[n]:Kye,[t]:Yye};return{useModelToggle:({indicator:s,toggleReason:o,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=Dn(),{emit:h}=f,p=f.props,m=U(()=>Zt(p[t])),v=U(()=>p[n]===null),g=T=>{s.value!==!0&&(s.value=!0,o&&(o.value=T),Zt(u)&&u(T))},y=T=>{s.value!==!1&&(s.value=!1,o&&(o.value=T),Zt(d)&&d(T))},b=T=>{if(p.disabled===!0||Zt(c)&&!c())return;const C=m.value&&nr;C&&h(e,!0),(v.value||!C)&&g(T)},_=T=>{if(p.disabled===!0||!nr)return;const C=m.value&&nr;C&&h(e,!1),(v.value||!C)&&y(T)},x=T=>{Vr(T)&&(p.disabled&&T?m.value&&h(e,!1):s.value!==T&&(T?g():y()))},S=()=>{s.value?_():b()};return dt(()=>p[n],x),l&&f.appContext.config.globalProperties.$route!==void 0&&dt(()=>({...f.proxy.$route}),()=>{l.value&&s.value&&_()}),pn(()=>{x(p[n])}),{hide:_,show:b,toggle:S,hasUpdateHandler:m}},useModelToggleProps:i,useModelToggleEmits:r}};VY("modelValue");const{useModelToggleProps:Xye,useModelToggleEmits:jye,useModelToggle:Zye}=VY("visible"),Qye=Rt({..._Y,...Xye,...ba,...Vb,...wY,showArrow:{type:Boolean,default:!0}}),Jye=[...jye,"before-show","before-hide","show","hide","open","close"],e1e=(n,e)=>Tt(n)?n.includes(e):n===e,Gm=(n,e,t)=>r=>{e1e(w(n),e)&&t(r)},Ri=(n,e,{checkForDefaultPrevented:t=!0}={})=>i=>{const a=n==null?void 0:n(i);if(t===!1||!a)return e==null?void 0:e(i)},Y7=n=>e=>e.pointerType==="mouse"?n(e):void 0,t1e=Ie({name:"ElTooltipTrigger"}),n1e=Ie({...t1e,props:Vb,setup(n,{expose:e}){const t=n,r=bt("tooltip"),{controlled:i,id:a,open:s,onOpen:o,onClose:l,onToggle:c}=Ot(xT,void 0),u=ee(null),d=()=>{if(w(i)||t.disabled)return!0},f=_r(t,"trigger"),h=Ri(d,Gm(f,"hover",o)),p=Ri(d,Gm(f,"hover",l)),m=Ri(d,Gm(f,"click",_=>{_.button===0&&c(_)})),v=Ri(d,Gm(f,"focus",o)),g=Ri(d,Gm(f,"focus",l)),y=Ri(d,Gm(f,"contextmenu",_=>{_.preventDefault(),c(_)})),b=Ri(d,_=>{const{code:x}=_;t.triggerKeys.includes(x)&&(_.preventDefault(),c(_))});return e({triggerRef:u}),(_,x)=>(V(),rt(w(pge),{id:w(a),"virtual-ref":_.virtualRef,open:w(s),"virtual-triggering":_.virtualTriggering,class:j(w(r).e("trigger")),onBlur:w(g),onClick:w(m),onContextmenu:w(y),onFocus:w(v),onMouseenter:w(h),onMouseleave:w(p),onKeydown:w(b)},{default:be(()=>[Ze(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var r1e=Pt(n1e,[["__file","trigger.vue"]]);const i1e=Rt({to:{type:We([String,Object]),required:!0},disabled:Boolean}),a1e=Ie({__name:"teleport",props:i1e,setup(n){return(e,t)=>e.disabled?Ze(e.$slots,"default",{key:0}):(V(),rt(tle,{key:1,to:e.to},[Ze(e.$slots,"default")],8,["to"]))}});var s1e=Pt(a1e,[["__file","teleport.vue"]]);const Kg=gn(s1e),$Y=()=>{const n=bk(),e=Yk(),t=U(()=>`${n.value}-popper-container-${e.prefix}`),r=U(()=>`#${t.value}`);return{id:t,selector:r}},o1e=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},l1e=()=>{const{id:n,selector:e}=$Y();return tT(()=>{nr&&(document.body.querySelector(e.value)||o1e(n.value))}),{id:n,selector:e}},c1e=Ie({name:"ElTooltipContent",inheritAttrs:!1}),u1e=Ie({...c1e,props:ba,setup(n,{expose:e}){const t=n,{selector:r}=$Y(),i=bt("tooltip"),a=ee();let s;const{controlled:o,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:h,onHide:p,onBeforeShow:m,onBeforeHide:v}=Ot(xT,void 0),g=U(()=>t.transition||`${i.namespace.value}-fade-in-linear`),y=U(()=>t.persistent);yr(()=>{s==null||s()});const b=U(()=>w(y)?!0:w(c)),_=U(()=>t.disabled?!1:w(c)),x=U(()=>t.appendTo||r.value),S=U(()=>{var k;return(k=t.style)!=null?k:{}}),T=ee(!0),C=()=>{p(),T.value=!0},M=()=>{if(w(o))return!0},A=Ri(M,()=>{t.enterable&&w(u)==="hover"&&f()}),I=Ri(M,()=>{w(u)==="hover"&&d()}),D=()=>{var k,H;(H=(k=a.value)==null?void 0:k.updatePopper)==null||H.call(k),m==null||m()},L=()=>{v==null||v()},F=()=>{h(),s=Ok(U(()=>{var k;return(k=a.value)==null?void 0:k.popperContentRef}),()=>{if(w(o))return;w(u)!=="hover"&&d()})},B=()=>{t.virtualTriggering||d()};return dt(()=>w(c),k=>{k?T.value=!1:s==null||s()},{flush:"post"}),dt(()=>t.content,()=>{var k,H;(H=(k=a.value)==null?void 0:k.updatePopper)==null||H.call(k)}),e({contentRef:a}),(k,H)=>(V(),rt(w(Kg),{disabled:!k.teleported,to:w(x)},{default:be(()=>[se(ca,{name:w(g),onAfterLeave:C,onBeforeEnter:D,onAfterEnter:F,onBeforeLeave:L},{default:be(()=>[w(b)?Sn((V(),rt(w(Gye),Hn({key:0,id:w(l),ref_key:"contentRef",ref:a},k.$attrs,{"aria-label":k.ariaLabel,"aria-hidden":T.value,"boundaries-padding":k.boundariesPadding,"fallback-placements":k.fallbackPlacements,"gpu-acceleration":k.gpuAcceleration,offset:k.offset,placement:k.placement,"popper-options":k.popperOptions,strategy:k.strategy,effect:k.effect,enterable:k.enterable,pure:k.pure,"popper-class":k.popperClass,"popper-style":[k.popperStyle,w(S)],"reference-el":k.referenceEl,"trigger-target-el":k.triggerTargetEl,visible:w(_),"z-index":k.zIndex,onMouseenter:w(A),onMouseleave:w(I),onBlur:B,onClose:w(d)}),{default:be(()=>[Ze(k.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[fr,w(_)]]):Qe("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var d1e=Pt(u1e,[["__file","content.vue"]]);const f1e=Ie({name:"ElTooltip"}),h1e=Ie({...f1e,props:Qye,emits:Jye,setup(n,{expose:e,emit:t}){const r=n;l1e();const i=za(),a=ee(),s=ee(),o=()=>{var g;const y=w(a);y&&((g=y.popperInstanceRef)==null||g.update())},l=ee(!1),c=ee(),{show:u,hide:d,hasUpdateHandler:f}=Zye({indicator:l,toggleReason:c}),{onOpen:h,onClose:p}=qye({showAfter:_r(r,"showAfter"),hideAfter:_r(r,"hideAfter"),autoClose:_r(r,"autoClose"),open:u,close:d}),m=U(()=>Vr(r.visible)&&!f.value);$n(xT,{controlled:m,id:i,open:Fg(l),trigger:_r(r,"trigger"),onOpen:g=>{h(g)},onClose:g=>{p(g)},onToggle:g=>{w(l)?p(g):h(g)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:o}),dt(()=>r.disabled,g=>{g&&l.value&&(l.value=!1)});const v=g=>{var y,b;const _=(b=(y=s.value)==null?void 0:y.contentRef)==null?void 0:b.popperContentRef,x=(g==null?void 0:g.relatedTarget)||document.activeElement;return _&&_.contains(x)};return Eq(()=>l.value&&d()),e({popperRef:a,contentRef:s,isFocusInsideContent:v,updatePopper:o,onOpen:h,onClose:p,hide:d}),(g,y)=>(V(),rt(w(HY),{ref_key:"popperRef",ref:a,role:g.role},{default:be(()=>[se(r1e,{disabled:g.disabled,trigger:g.trigger,"trigger-keys":g.triggerKeys,"virtual-ref":g.virtualRef,"virtual-triggering":g.virtualTriggering},{default:be(()=>[g.$slots.default?Ze(g.$slots,"default",{key:0}):Qe("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),se(d1e,{ref_key:"contentRef",ref:s,"aria-label":g.ariaLabel,"boundaries-padding":g.boundariesPadding,content:g.content,disabled:g.disabled,effect:g.effect,enterable:g.enterable,"fallback-placements":g.fallbackPlacements,"hide-after":g.hideAfter,"gpu-acceleration":g.gpuAcceleration,offset:g.offset,persistent:g.persistent,"popper-class":g.popperClass,"popper-style":g.popperStyle,placement:g.placement,"popper-options":g.popperOptions,pure:g.pure,"raw-content":g.rawContent,"reference-el":g.referenceEl,"trigger-target-el":g.triggerTargetEl,"show-after":g.showAfter,strategy:g.strategy,teleported:g.teleported,transition:g.transition,"virtual-triggering":g.virtualTriggering,"z-index":g.zIndex,"append-to":g.appendTo},{default:be(()=>[Ze(g.$slots,"content",{},()=>[g.rawContent?(V(),ue("span",{key:0,innerHTML:g.content},null,8,["innerHTML"])):(V(),ue("span",{key:1},Ct(g.content),1))]),g.showArrow?(V(),rt(w(sge),{key:0,"arrow-offset":g.arrowOffset},null,8,["arrow-offset"])):Qe("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var p1e=Pt(h1e,[["__file","tooltip.vue"]]);const ns=gn(p1e),m1e=Rt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:We(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:We([Function,Array]),default:Sr},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:ba.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...Ua(["ariaLabel"])}),v1e={[Mn]:n=>qt(n),[es]:n=>qt(n),[Rr]:n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,select:n=>Pn(n)},GY="ElAutocomplete",g1e=Ie({name:GY,inheritAttrs:!1}),y1e=Ie({...g1e,props:m1e,emits:v1e,setup(n,{expose:e,emit:t}){const r=n,i=K_(),a=hh(),s=as(),o=bt("autocomplete"),l=ee(),c=ee(),u=ee(),d=ee();let f=!1,h=!1;const p=ee([]),m=ee(-1),v=ee(""),g=ee(!1),y=ee(!1),b=ee(!1),_=za(),x=U(()=>a.style),S=U(()=>(p.value.length>0||b.value)&&g.value),T=U(()=>!r.hideLoading&&b.value),C=U(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),M=()=>{S.value&&(v.value=`${l.value.$el.offsetWidth}px`)},A=()=>{m.value=-1},I=async fe=>{if(y.value)return;const Ee=Re=>{b.value=!1,!y.value&&(Tt(Re)?(p.value=Re,m.value=r.highlightFirstItem?0:-1):ua(GY,"autocomplete suggestions must be an array"))};if(b.value=!0,Tt(r.fetchSuggestions))Ee(r.fetchSuggestions);else{const Re=await r.fetchSuggestions(fe,Ee);Tt(Re)&&Ee(Re)}},D=go(I,r.debounce),L=fe=>{const Ee=!!fe;if(t(es,fe),t(Mn,fe),y.value=!1,g.value||(g.value=Ee),!r.triggerOnFocus&&!fe){y.value=!0,p.value=[];return}D(fe)},F=fe=>{var Ee;s.value||(((Ee=fe.target)==null?void 0:Ee.tagName)!=="INPUT"||C.value.includes(document.activeElement))&&(g.value=!0)},B=fe=>{t(Rr,fe)},k=fe=>{h?h=!1:(g.value=!0,t("focus",fe),r.triggerOnFocus&&!f&&D(String(r.modelValue)))},H=fe=>{setTimeout(()=>{var Ee;if((Ee=u.value)!=null&&Ee.isFocusInsideContent()){h=!0;return}g.value&&X(),t("blur",fe)})},z=()=>{g.value=!1,t(Mn,""),t("clear")},O=async()=>{S.value&&m.value>=0&&m.value<p.value.length?re(p.value[m.value]):r.selectWhenUnmatched&&(t("select",{value:r.modelValue}),p.value=[],m.value=-1)},G=fe=>{S.value&&(fe.preventDefault(),fe.stopPropagation(),X())},X=()=>{g.value=!1},J=()=>{var fe;(fe=l.value)==null||fe.focus()},Q=()=>{var fe;(fe=l.value)==null||fe.blur()},re=async fe=>{t(es,fe[r.valueKey]),t(Mn,fe[r.valueKey]),t("select",fe),p.value=[],m.value=-1},de=fe=>{if(!S.value||b.value)return;if(fe<0){m.value=-1;return}fe>=p.value.length&&(fe=p.value.length-1);const Ee=c.value.querySelector(`.${o.be("suggestion","wrap")}`),He=Ee.querySelectorAll(`.${o.be("suggestion","list")} li`)[fe],$e=Ee.scrollTop,{offsetTop:K,scrollHeight:ce}=He;K+ce>$e+Ee.clientHeight&&(Ee.scrollTop+=ce),K<$e&&(Ee.scrollTop-=ce),m.value=fe,l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`)},le=Ok(d,()=>{S.value&&X()});return yr(()=>{le==null||le()}),pn(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:g,loading:b,inputRef:l,popperRef:u,suggestions:p,handleSelect:re,handleKeyEnter:O,focus:J,blur:Q,close:X,highlight:de,getData:I}),(fe,Ee)=>(V(),rt(w(ns),{ref_key:"popperRef",ref:u,visible:w(S),placement:fe.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[w(o).e("popper"),fe.popperClass],teleported:fe.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${w(o).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:M,onHide:A},{content:be(()=>[me("div",{ref_key:"regionRef",ref:c,class:j([w(o).b("suggestion"),w(o).is("loading",w(T))]),style:Bt({[fe.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[se(w(du),{id:w(_),tag:"ul","wrap-class":w(o).be("suggestion","wrap"),"view-class":w(o).be("suggestion","list"),role:"listbox"},{default:be(()=>[w(T)?(V(),ue("li",{key:0},[Ze(fe.$slots,"loading",{},()=>[se(w(Vt),{class:j(w(o).is("loading"))},{default:be(()=>[se(w(tu))]),_:1},8,["class"])])])):(V(!0),ue(zt,{key:1},In(p.value,(Re,He)=>(V(),ue("li",{id:`${w(_)}-item-${He}`,key:He,class:j({highlighted:m.value===He}),role:"option","aria-selected":m.value===He,onClick:$e=>re(Re)},[Ze(fe.$slots,"default",{item:Re},()=>[dn(Ct(Re[fe.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:be(()=>[me("div",{ref_key:"listboxRef",ref:d,class:j([w(o).b(),fe.$attrs.class]),style:Bt(w(x)),role:"combobox","aria-haspopup":"listbox","aria-expanded":w(S),"aria-owns":w(_)},[se(w(xs),Hn({ref_key:"inputRef",ref:l},w(i),{clearable:fe.clearable,disabled:w(s),name:fe.name,"model-value":fe.modelValue,"aria-label":fe.ariaLabel,onInput:L,onChange:B,onFocus:k,onBlur:H,onClear:z,onKeydown:[Ur(sn(Re=>de(m.value-1),["prevent"]),["up"]),Ur(sn(Re=>de(m.value+1),["prevent"]),["down"]),Ur(O,["enter"]),Ur(X,["tab"]),Ur(G,["esc"])],onMousedown:F}),El({_:2},[fe.$slots.prepend?{name:"prepend",fn:be(()=>[Ze(fe.$slots,"prepend")])}:void 0,fe.$slots.append?{name:"append",fn:be(()=>[Ze(fe.$slots,"append")])}:void 0,fe.$slots.prefix?{name:"prefix",fn:be(()=>[Ze(fe.$slots,"prefix")])}:void 0,fe.$slots.suffix?{name:"suffix",fn:be(()=>[Ze(fe.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var b1e=Pt(y1e,[["__file","autocomplete.vue"]]);const _1e=gn(b1e),w1e=Rt({size:{type:[Number,String],values:uu,default:"",validator:n=>en(n)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:kr},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:We(String),default:"cover"}}),x1e={error:n=>n instanceof Event},S1e=Ie({name:"ElAvatar"}),C1e=Ie({...S1e,props:w1e,emits:x1e,setup(n,{emit:e}){const t=n,r=bt("avatar"),i=ee(!1),a=U(()=>{const{size:c,icon:u,shape:d}=t,f=[r.b()];return qt(c)&&f.push(r.m(c)),u&&f.push(r.m("icon")),d&&f.push(r.m(d)),f}),s=U(()=>{const{size:c}=t;return en(c)?r.cssVarBlock({size:Pi(c)||""}):void 0}),o=U(()=>({objectFit:t.fit}));dt(()=>t.src,()=>i.value=!1);function l(c){i.value=!0,e("error",c)}return(c,u)=>(V(),ue("span",{class:j(w(a)),style:Bt(w(s))},[(c.src||c.srcSet)&&!i.value?(V(),ue("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:Bt(w(o)),onError:l},null,44,["src","alt","srcset"])):c.icon?(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(c.icon)))]),_:1})):Ze(c.$slots,"default",{key:2})],6))}});var M1e=Pt(C1e,[["__file","avatar.vue"]]);const T1e=gn(M1e),A1e={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},E1e={click:n=>n instanceof MouseEvent},I1e=(n,e,t)=>{const r=Ir(),i=Ir(),a=ee(!1),s=()=>{r.value&&(a.value=r.value.scrollTop>=n.visibilityHeight)},o=c=>{var u;(u=r.value)==null||u.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=XK(s,300,!0);return Tr(i,"scroll",l),pn(()=>{var c;i.value=document,r.value=document.documentElement,n.target&&(r.value=(c=document.querySelector(n.target))!=null?c:void 0,r.value||ua(t,`target does not exist: ${n.target}`),i.value=r.value),s()}),{visible:a,handleClick:o}},WY="ElBacktop",R1e=Ie({name:WY}),P1e=Ie({...R1e,props:A1e,emits:E1e,setup(n,{emit:e}){const t=n,r=bt("backtop"),{handleClick:i,visible:a}=I1e(t,e,WY),s=U(()=>({right:`${t.right}px`,bottom:`${t.bottom}px`}));return(o,l)=>(V(),rt(ca,{name:`${w(r).namespace.value}-fade-in`},{default:be(()=>[w(a)?(V(),ue("div",{key:0,style:Bt(w(s)),class:j(w(r).b()),onClick:sn(w(i),["stop"])},[Ze(o.$slots,"default",{},()=>[se(w(Vt),{class:j(w(r).e("icon"))},{default:be(()=>[se(w(b0e))]),_:1},8,["class"])])],14,["onClick"])):Qe("v-if",!0)]),_:3},8,["name"]))}});var D1e=Pt(P1e,[["__file","backtop.vue"]]);const k1e=gn(D1e),L1e=Rt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:We([String,Object,Array])},offset:{type:We(Array),default:[0,0]},badgeClass:{type:String}}),N1e=Ie({name:"ElBadge"}),O1e=Ie({...N1e,props:L1e,setup(n,{expose:e}){const t=n,r=bt("badge"),i=U(()=>t.isDot?"":en(t.value)&&en(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`),a=U(()=>{var s,o,l,c,u;return[{backgroundColor:t.color,marginRight:Pi(-((o=(s=t.offset)==null?void 0:s[0])!=null?o:0)),marginTop:Pi((c=(l=t.offset)==null?void 0:l[1])!=null?c:0)},(u=t.badgeStyle)!=null?u:{}]});return e({content:i}),(s,o)=>(V(),ue("div",{class:j(w(r).b())},[Ze(s.$slots,"default"),se(ca,{name:`${w(r).namespace.value}-zoom-in-center`,persisted:""},{default:be(()=>[Sn(me("sup",{class:j([w(r).e("content"),w(r).em("content",s.type),w(r).is("fixed",!!s.$slots.default),w(r).is("dot",s.isDot),w(r).is("hide-zero",!s.showZero&&t.value===0),s.badgeClass]),style:Bt(w(a))},[Ze(s.$slots,"content",{value:w(i)},()=>[dn(Ct(w(i)),1)])],6),[[fr,!s.hidden&&(w(i)||s.isDot||s.$slots.content)]])]),_:3},8,["name"])],2))}});var B1e=Pt(O1e,[["__file","badge.vue"]]);const qY=gn(B1e),KY=Symbol("breadcrumbKey"),F1e=Rt({separator:{type:String,default:"/"},separatorIcon:{type:kr}}),z1e=Ie({name:"ElBreadcrumb"}),U1e=Ie({...z1e,props:F1e,setup(n){const e=n,{t}=rr(),r=bt("breadcrumb"),i=ee();return $n(KY,e),pn(()=>{const a=i.value.querySelectorAll(`.${r.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,s)=>(V(),ue("div",{ref_key:"breadcrumb",ref:i,class:j(w(r).b()),"aria-label":w(t)("el.breadcrumb.label"),role:"navigation"},[Ze(a.$slots,"default")],10,["aria-label"]))}});var H1e=Pt(U1e,[["__file","breadcrumb.vue"]]);const V1e=Rt({to:{type:We([String,Object]),default:""},replace:Boolean}),$1e=Ie({name:"ElBreadcrumbItem"}),G1e=Ie({...$1e,props:V1e,setup(n){const e=n,t=Dn(),r=Ot(KY,void 0),i=bt("breadcrumb"),a=t.appContext.config.globalProperties.$router,s=ee(),o=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(l,c)=>{var u,d;return V(),ue("span",{class:j(w(i).e("item"))},[me("span",{ref_key:"link",ref:s,class:j([w(i).e("inner"),w(i).is("link",!!l.to)]),role:"link",onClick:o},[Ze(l.$slots,"default")],2),(u=w(r))!=null&&u.separatorIcon?(V(),rt(w(Vt),{key:0,class:j(w(i).e("separator"))},{default:be(()=>[(V(),rt(Nn(w(r).separatorIcon)))]),_:1},8,["class"])):(V(),ue("span",{key:1,class:j(w(i).e("separator")),role:"presentation"},Ct((d=w(r))==null?void 0:d.separator),3))],2)}}});var YY=Pt(G1e,[["__file","breadcrumb-item.vue"]]);const W1e=gn(H1e,{BreadcrumbItem:YY}),q1e=Si(YY),XY=Symbol("buttonGroupContextKey"),Ef=({from:n,replacement:e,scope:t,version:r,ref:i,type:a="API"},s)=>{dt(()=>w(s),o=>{},{immediate:!0})},K1e=(n,e)=>{Ef({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},U(()=>n.type==="text"));const t=Ot(XY,void 0),r=mT("button"),{form:i}=is(),a=Xi(U(()=>t==null?void 0:t.size)),s=as(),o=ee(),l=ea(),c=U(()=>n.type||(t==null?void 0:t.type)||""),u=U(()=>{var p,m,v;return(v=(m=n.autoInsertSpace)!=null?m:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?v:!1}),d=U(()=>n.tag==="button"?{ariaDisabled:s.value||n.loading,disabled:s.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=U(()=>{var p;const m=(p=l.default)==null?void 0:p.call(l);if(u.value&&(m==null?void 0:m.length)===1){const v=m[0];if((v==null?void 0:v.type)===zg){const g=v.children;return/^\p{Unified_Ideograph}{2}$/u.test(g.trim())}}return!1});return{_disabled:s,_size:a,_type:c,_ref:o,_props:d,shouldAddSpace:f,handleClick:p=>{if(s.value||n.loading){p.stopPropagation();return}n.nativeType==="reset"&&(i==null||i.resetFields()),e("click",p)}}},g5=["default","primary","success","warning","info","danger","text",""],Y1e=["button","submit","reset"],y5=Rt({size:Ji,disabled:Boolean,type:{type:String,values:g5,default:""},icon:{type:kr},nativeType:{type:String,values:Y1e,default:"button"},loading:Boolean,loadingIcon:{type:kr,default:()=>tu},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:We([String,Object]),default:"button"}}),X1e={click:n=>n instanceof MouseEvent};function ts(n,e){j1e(n)&&(n="100%");var t=Z1e(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Gw(n){return Math.min(1,Math.max(0,n))}function j1e(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Z1e(n){return typeof n=="string"&&n.indexOf("%")!==-1}function jY(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Ww(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Sp(n){return n.length===1?"0"+n:String(n)}function Q1e(n,e,t){return{r:ts(n,255)*255,g:ts(e,255)*255,b:ts(t,255)*255}}function X7(n,e,t){n=ts(n,255),e=ts(e,255),t=ts(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,s=0,o=(r+i)/2;if(r===i)s=0,a=0;else{var l=r-i;switch(s=o>.5?l/(2-r-i):l/(r+i),r){case n:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-n)/l+2;break;case t:a=(n-e)/l+4;break}a/=6}return{h:a,s,l:o}}function b3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function J1e(n,e,t){var r,i,a;if(n=ts(n,360),e=ts(e,100),t=ts(t,100),e===0)i=t,a=t,r=t;else{var s=t<.5?t*(1+e):t+e-t*e,o=2*t-s;r=b3(o,s,n+1/3),i=b3(o,s,n),a=b3(o,s,n-1/3)}return{r:r*255,g:i*255,b:a*255}}function j7(n,e,t){n=ts(n,255),e=ts(e,255),t=ts(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,s=r,o=r-i,l=r===0?0:o/r;if(r===i)a=0;else{switch(r){case n:a=(e-t)/o+(e<t?6:0);break;case e:a=(t-n)/o+2;break;case t:a=(n-e)/o+4;break}a/=6}return{h:a,s:l,v:s}}function ebe(n,e,t){n=ts(n,360)*6,e=ts(e,100),t=ts(t,100);var r=Math.floor(n),i=n-r,a=t*(1-e),s=t*(1-i*e),o=t*(1-(1-i)*e),l=r%6,c=[t,s,a,a,o,t][l],u=[o,t,t,s,a,a][l],d=[a,a,o,t,t,s][l];return{r:c*255,g:u*255,b:d*255}}function Z7(n,e,t,r){var i=[Sp(Math.round(n).toString(16)),Sp(Math.round(e).toString(16)),Sp(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function tbe(n,e,t,r,i){var a=[Sp(Math.round(n).toString(16)),Sp(Math.round(e).toString(16)),Sp(Math.round(t).toString(16)),Sp(nbe(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function nbe(n){return Math.round(parseFloat(n)*255).toString(16)}function Q7(n){return Ro(n)/255}function Ro(n){return parseInt(n,16)}function rbe(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var b5={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ibe(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,a=null,s=!1,o=!1;return typeof n=="string"&&(n=obe(n)),typeof n=="object"&&(wu(n.r)&&wu(n.g)&&wu(n.b)?(e=Q1e(n.r,n.g,n.b),s=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):wu(n.h)&&wu(n.s)&&wu(n.v)?(r=Ww(n.s),i=Ww(n.v),e=ebe(n.h,r,i),s=!0,o="hsv"):wu(n.h)&&wu(n.s)&&wu(n.l)&&(r=Ww(n.s),a=Ww(n.l),e=J1e(n.h,r,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=jY(t),{ok:s,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var abe="[-\\+]?\\d+%?",sbe="[-\\+]?\\d*\\.\\d+%?",yf="(?:".concat(sbe,")|(?:").concat(abe,")"),_3="[\\s|\\(]+(".concat(yf,")[,|\\s]+(").concat(yf,")[,|\\s]+(").concat(yf,")\\s*\\)?"),w3="[\\s|\\(]+(".concat(yf,")[,|\\s]+(").concat(yf,")[,|\\s]+(").concat(yf,")[,|\\s]+(").concat(yf,")\\s*\\)?"),Zl={CSS_UNIT:new RegExp(yf),rgb:new RegExp("rgb"+_3),rgba:new RegExp("rgba"+w3),hsl:new RegExp("hsl"+_3),hsla:new RegExp("hsla"+w3),hsv:new RegExp("hsv"+_3),hsva:new RegExp("hsva"+w3),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function obe(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(b5[n])n=b5[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=Zl.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Zl.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Zl.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=Zl.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Zl.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=Zl.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Zl.hex8.exec(n),t?{r:Ro(t[1]),g:Ro(t[2]),b:Ro(t[3]),a:Q7(t[4]),format:e?"name":"hex8"}:(t=Zl.hex6.exec(n),t?{r:Ro(t[1]),g:Ro(t[2]),b:Ro(t[3]),format:e?"name":"hex"}:(t=Zl.hex4.exec(n),t?{r:Ro(t[1]+t[1]),g:Ro(t[2]+t[2]),b:Ro(t[3]+t[3]),a:Q7(t[4]+t[4]),format:e?"name":"hex8"}:(t=Zl.hex3.exec(n),t?{r:Ro(t[1]+t[1]),g:Ro(t[2]+t[2]),b:Ro(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function wu(n){return!!Zl.CSS_UNIT.exec(String(n))}var ZY=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=rbe(e)),this.originalInput=e;var i=ibe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,a=e.r/255,s=e.g/255,o=e.b/255;return a<=.03928?t=a/12.92:t=Math.pow((a+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=jY(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=j7(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=j7(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=X7(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=X7(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),Z7(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),tbe(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(ts(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(ts(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+Z7(this.r,this.g,this.b,!1),t=0,r=Object.entries(b5);t<r.length;t++){var i=r[t],a=i[0],s=i[1];if(e===s)return a}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,a=!t&&i&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Gw(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Gw(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Gw(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Gw(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),a=t/100,s={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return new n(s)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,a=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(new n(r));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,a=t.v,s=[],o=1/e;e--;)s.push(new n({h:r,s:i,v:a})),a=(a+o)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],a=360/e,s=1;s<e;s++)i.push(new n({h:(r+s*a)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function Nd(n,e=20){return n.mix("#141414",e).toString()}function lbe(n){const e=as(),t=bt("button");return U(()=>{let r={},i=n.color;if(i){const a=i.match(/var\((.*?)\)/);a&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const s=new ZY(i),o=n.dark?s.tint(20).toString():Nd(s,20);if(n.plain)r=t.cssVarBlock({"bg-color":n.dark?Nd(s,90):s.tint(90).toString(),"text-color":i,"border-color":n.dark?Nd(s,50):s.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(r[t.cssVarBlockName("disabled-bg-color")]=n.dark?Nd(s,90):s.tint(90).toString(),r[t.cssVarBlockName("disabled-text-color")]=n.dark?Nd(s,50):s.tint(50).toString(),r[t.cssVarBlockName("disabled-border-color")]=n.dark?Nd(s,80):s.tint(80).toString());else{const l=n.dark?Nd(s,30):s.tint(30).toString(),c=s.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(r=t.cssVarBlock({"bg-color":i,"text-color":c,"border-color":i,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),e.value){const u=n.dark?Nd(s,50):s.tint(50).toString();r[t.cssVarBlockName("disabled-bg-color")]=u,r[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,r[t.cssVarBlockName("disabled-border-color")]=u}}}return r})}const cbe=Ie({name:"ElButton"}),ube=Ie({...cbe,props:y5,emits:X1e,setup(n,{expose:e,emit:t}){const r=n,i=lbe(r),a=bt("button"),{_ref:s,_size:o,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=K1e(r,t),h=U(()=>[a.b(),a.m(l.value),a.m(o.value),a.is("disabled",c.value),a.is("loading",r.loading),a.is("plain",r.plain),a.is("round",r.round),a.is("circle",r.circle),a.is("text",r.text),a.is("link",r.link),a.is("has-bg",r.bg)]);return e({ref:s,size:o,type:l,disabled:c,shouldAddSpace:d}),(p,m)=>(V(),rt(Nn(p.tag),Hn({ref_key:"_ref",ref:s},w(u),{class:w(h),style:w(i),onClick:w(f)}),{default:be(()=>[p.loading?(V(),ue(zt,{key:0},[p.$slots.loading?Ze(p.$slots,"loading",{key:0}):(V(),rt(w(Vt),{key:1,class:j(w(a).is("loading"))},{default:be(()=>[(V(),rt(Nn(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(V(),rt(w(Vt),{key:1},{default:be(()=>[p.icon?(V(),rt(Nn(p.icon),{key:0})):Ze(p.$slots,"icon",{key:1})]),_:3})):Qe("v-if",!0),p.$slots.default?(V(),ue("span",{key:2,class:j({[w(a).em("text","expand")]:w(d)})},[Ze(p.$slots,"default")],2)):Qe("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var dbe=Pt(ube,[["__file","button.vue"]]);const fbe={size:y5.size,type:y5.type},hbe=Ie({name:"ElButtonGroup"}),pbe=Ie({...hbe,props:fbe,setup(n){const e=n;$n(XY,mr({size:_r(e,"size"),type:_r(e,"type")}));const t=bt("button");return(r,i)=>(V(),ue("div",{class:j(w(t).b("group"))},[Ze(r.$slots,"default")],2))}});var QY=Pt(pbe,[["__file","button-group.vue"]]);const Aa=gn(dbe,{ButtonGroup:QY}),JY=Si(QY);var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var eX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){var t=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var B=["th","st","nd","rd"],k=F%100;return"["+F+(B[(k-20)%10]||B[k]||B[0])+"]"}},b=function(F,B,k){var H=String(F);return!H||H.length>=B?F:""+Array(B+1-H.length).join(k)+F},_={s:b,z:function(F){var B=-F.utcOffset(),k=Math.abs(B),H=Math.floor(k/60),z=k%60;return(B<=0?"+":"-")+b(H,2,"0")+":"+b(z,2,"0")},m:function F(B,k){if(B.date()<k.date())return-F(k,B);var H=12*(k.year()-B.year())+(k.month()-B.month()),z=B.clone().add(H,d),O=k-z<0,G=B.clone().add(H+(O?-1:1),d);return+(-(H+(k-z)/(O?z-G:G-z))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:h,w:u,d:c,D:p,h:l,m:o,s,ms:a,Q:f}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},x="en",S={};S[x]=y;var T="$isDayjsObject",C=function(F){return F instanceof D||!(!F||!F[T])},M=function F(B,k,H){var z;if(!B)return x;if(typeof B=="string"){var O=B.toLowerCase();S[O]&&(z=O),k&&(S[O]=k,z=O);var G=B.split("-");if(!z&&G.length>1)return F(G[0])}else{var X=B.name;S[X]=B,z=X}return!H&&z&&(x=z),z||!H&&x},A=function(F,B){if(C(F))return F.clone();var k=typeof B=="object"?B:{};return k.date=F,k.args=arguments,new D(k)},I=_;I.l=M,I.i=C,I.w=function(F,B){return A(F,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var D=function(){function F(k){this.$L=M(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[T]=!0}var B=F.prototype;return B.parse=function(k){this.$d=function(H){var z=H.date,O=H.utc;if(z===null)return new Date(NaN);if(I.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var G=z.match(v);if(G){var X=G[2]-1||0,J=(G[7]||"0").substring(0,3);return O?new Date(Date.UTC(G[1],X,G[3]||1,G[4]||0,G[5]||0,G[6]||0,J)):new Date(G[1],X,G[3]||1,G[4]||0,G[5]||0,G[6]||0,J)}}return new Date(z)}(k),this.init()},B.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},B.$utils=function(){return I},B.isValid=function(){return this.$d.toString()!==m},B.isSame=function(k,H){var z=A(k);return this.startOf(H)<=z&&z<=this.endOf(H)},B.isAfter=function(k,H){return A(k)<this.startOf(H)},B.isBefore=function(k,H){return this.endOf(H)<A(k)},B.$g=function(k,H,z){return I.u(k)?this[H]:this.set(z,k)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(k,H){var z=this,O=!!I.u(H)||H,G=I.p(k),X=function(Re,He){var $e=I.w(z.$u?Date.UTC(z.$y,He,Re):new Date(z.$y,He,Re),z);return O?$e:$e.endOf(c)},J=function(Re,He){return I.w(z.toDate()[Re].apply(z.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(He)),z)},Q=this.$W,re=this.$M,de=this.$D,le="set"+(this.$u?"UTC":"");switch(G){case h:return O?X(1,0):X(31,11);case d:return O?X(1,re):X(0,re+1);case u:var fe=this.$locale().weekStart||0,Ee=(Q<fe?Q+7:Q)-fe;return X(O?de-Ee:de+(6-Ee),re);case c:case p:return J(le+"Hours",0);case l:return J(le+"Minutes",1);case o:return J(le+"Seconds",2);case s:return J(le+"Milliseconds",3);default:return this.clone()}},B.endOf=function(k){return this.startOf(k,!1)},B.$set=function(k,H){var z,O=I.p(k),G="set"+(this.$u?"UTC":""),X=(z={},z[c]=G+"Date",z[p]=G+"Date",z[d]=G+"Month",z[h]=G+"FullYear",z[l]=G+"Hours",z[o]=G+"Minutes",z[s]=G+"Seconds",z[a]=G+"Milliseconds",z)[O],J=O===c?this.$D+(H-this.$W):H;if(O===d||O===h){var Q=this.clone().set(p,1);Q.$d[X](J),Q.init(),this.$d=Q.set(p,Math.min(this.$D,Q.daysInMonth())).$d}else X&&this.$d[X](J);return this.init(),this},B.set=function(k,H){return this.clone().$set(k,H)},B.get=function(k){return this[I.p(k)]()},B.add=function(k,H){var z,O=this;k=Number(k);var G=I.p(H),X=function(re){var de=A(O);return I.w(de.date(de.date()+Math.round(re*k)),O)};if(G===d)return this.set(d,this.$M+k);if(G===h)return this.set(h,this.$y+k);if(G===c)return X(1);if(G===u)return X(7);var J=(z={},z[o]=r,z[l]=i,z[s]=t,z)[G]||1,Q=this.$d.getTime()+k*J;return I.w(Q,this)},B.subtract=function(k,H){return this.add(-1*k,H)},B.format=function(k){var H=this,z=this.$locale();if(!this.isValid())return z.invalidDate||m;var O=k||"YYYY-MM-DDTHH:mm:ssZ",G=I.z(this),X=this.$H,J=this.$m,Q=this.$M,re=z.weekdays,de=z.months,le=z.meridiem,fe=function(He,$e,K,ce){return He&&(He[$e]||He(H,O))||K[$e].slice(0,ce)},Ee=function(He){return I.s(X%12||12,He,"0")},Re=le||function(He,$e,K){var ce=He<12?"AM":"PM";return K?ce.toLowerCase():ce};return O.replace(g,function(He,$e){return $e||function(K){switch(K){case"YY":return String(H.$y).slice(-2);case"YYYY":return I.s(H.$y,4,"0");case"M":return Q+1;case"MM":return I.s(Q+1,2,"0");case"MMM":return fe(z.monthsShort,Q,de,3);case"MMMM":return fe(de,Q);case"D":return H.$D;case"DD":return I.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return fe(z.weekdaysMin,H.$W,re,2);case"ddd":return fe(z.weekdaysShort,H.$W,re,3);case"dddd":return re[H.$W];case"H":return String(X);case"HH":return I.s(X,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return Re(X,J,!0);case"A":return Re(X,J,!1);case"m":return String(J);case"mm":return I.s(J,2,"0");case"s":return String(H.$s);case"ss":return I.s(H.$s,2,"0");case"SSS":return I.s(H.$ms,3,"0");case"Z":return G}return null}(He)||G.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(k,H,z){var O,G=this,X=I.p(H),J=A(k),Q=(J.utcOffset()-this.utcOffset())*r,re=this-J,de=function(){return I.m(G,J)};switch(X){case h:O=de()/12;break;case d:O=de();break;case f:O=de()/3;break;case u:O=(re-Q)/6048e5;break;case c:O=(re-Q)/864e5;break;case l:O=re/i;break;case o:O=re/r;break;case s:O=re/t;break;default:O=re}return z?O:I.a(O)},B.daysInMonth=function(){return this.endOf(d).$D},B.$locale=function(){return S[this.$L]},B.locale=function(k,H){if(!k)return this.$L;var z=this.clone(),O=M(k,H,!0);return O&&(z.$L=O),z},B.clone=function(){return I.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},F}(),L=D.prototype;return A.prototype=L,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(F){L[F[1]]=function(B){return this.$g(B,F[0],F[1])}}),A.extend=function(F,B){return F.$i||(F(B,D,A),F.$i=!0),A},A.locale=M,A.isDayjs=C,A.unix=function(F){return A(1e3*F)},A.en=S[x],A.Ls=S,A.p={},A})})(eX);var mbe=eX.exports;const hn=hu(mbe),x3=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],If=n=>Array.from(Array.from({length:n}).keys()),tX=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),nX=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),J7=function(n,e){const t=Hf(n),r=Hf(e);return t&&r?n.getTime()===e.getTime():!t&&!r?n===e:!1},eF=function(n,e){const t=Tt(n),r=Tt(e);return t&&r?n.length!==e.length?!1:n.every((i,a)=>J7(i,e[a])):!t&&!r?J7(n,e):!1},tF=function(n,e,t){const r=Lo(e)||e==="x"?hn(n).locale(t):hn(n,e).locale(t);return r.isValid()?r:void 0},nF=function(n,e,t){return Lo(e)?n:e==="x"?+n:hn(n).locale(t).format(e)},S3=(n,e)=>{var t;const r=[],i=e==null?void 0:e();for(let a=0;a<n;a++)r.push((t=i==null?void 0:i.includes(a))!=null?t:!1);return r},qw=n=>Tt(n)?n.map(e=>e.toDate()):n.toDate(),vbe=(n,e)=>{const t=n.subtract(1,"month").endOf("month").date();return If(e).map((r,i)=>t-(e-i-1))},gbe=n=>{const e=n.daysInMonth();return If(e).map((t,r)=>r+1)},ybe=n=>If(n.length/7).map(e=>{const t=e*7;return n.slice(t,t+7)}),bbe=Rt({selectedDay:{type:We(Object)},range:{type:We(Array)},date:{type:We(Object),required:!0},hideHeader:{type:Boolean}}),_be={pick:n=>Pn(n)};var rX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){return function(t,r,i){var a=r.prototype,s=function(d){return d&&(d.indexOf?d:d.s)},o=function(d,f,h,p,m){var v=d.name?d:d.$locale(),g=s(v[f]),y=s(v[h]),b=g||y.map(function(x){return x.slice(0,p)});if(!m)return b;var _=v.weekStart;return b.map(function(x,S){return b[(S+(_||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,v){return m||v.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):o(d,"months")},monthsShort:function(f){return f?f.format("MMM"):o(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):o(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):o(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):o(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return u.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return o(l(),"months")},i.monthsShort=function(){return o(l(),"monthsShort","months",3)},i.weekdays=function(d){return o(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return o(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return o(l(),"weekdaysMin","weekdays",2,d)}}})})(rX);var wbe=rX.exports;const iX=hu(wbe),xbe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],C3=["sun","mon","tue","wed","thu","fri","sat"],Sbe=(n,e)=>{hn.extend(iX);const t=hn.localeData().firstDayOfWeek(),{t:r,lang:i}=rr(),a=hn().locale(i.value),s=U(()=>!!n.range&&!!n.range.length),o=U(()=>{let f=[];if(s.value){const[h,p]=n.range,m=If(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let v=m.length%7;v=v===0?0:7-v;const g=If(v).map((y,b)=>({text:b+1,type:"next"}));f=m.concat(g)}else{const h=n.date.startOf("month").day(),p=vbe(n.date,(h-t+7)%7).map(y=>({text:y,type:"prev"})),m=gbe(n.date).map(y=>({text:y,type:"current"}));f=[...p,...m];const v=7-(f.length%7||7),g=If(v).map((y,b)=>({text:b+1,type:"next"}));f=f.concat(g)}return ybe(f)}),l=U(()=>{const f=t;return f===0?C3.map(h=>r(`el.datepicker.weeks.${h}`)):C3.slice(f).concat(C3.slice(0,f)).map(h=>r(`el.datepicker.weeks.${h}`))}),c=(f,h)=>{switch(h){case"prev":return n.date.startOf("month").subtract(1,"month").date(f);case"next":return n.date.startOf("month").add(1,"month").date(f);case"current":return n.date.date(f)}};return{now:a,isInRange:s,rows:o,weekDays:l,getFormattedDate:c,handlePickDay:({text:f,type:h})=>{const p=c(f,h);e("pick",p)},getSlotData:({text:f,type:h})=>{const p=c(f,h);return{isSelected:p.isSame(n.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},Cbe=Ie({name:"DateTable"}),Mbe=Ie({...Cbe,props:bbe,emits:_be,setup(n,{expose:e,emit:t}){const r=n,{isInRange:i,now:a,rows:s,weekDays:o,getFormattedDate:l,handlePickDay:c,getSlotData:u}=Sbe(r,t),d=bt("calendar-table"),f=bt("calendar-day"),h=({text:p,type:m})=>{const v=[m];if(m==="current"){const g=l(p,m);g.isSame(r.selectedDay,"day")&&v.push(f.is("selected")),g.isSame(a,"day")&&v.push(f.is("today"))}return v};return e({getFormattedDate:l}),(p,m)=>(V(),ue("table",{class:j([w(d).b(),w(d).is("range",w(i))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?Qe("v-if",!0):(V(),ue("thead",{key:0},[me("tr",null,[(V(!0),ue(zt,null,In(w(o),v=>(V(),ue("th",{key:v,scope:"col"},Ct(v),1))),128))])])),me("tbody",null,[(V(!0),ue(zt,null,In(w(s),(v,g)=>(V(),ue("tr",{key:g,class:j({[w(d).e("row")]:!0,[w(d).em("row","hide-border")]:g===0&&p.hideHeader})},[(V(!0),ue(zt,null,In(v,(y,b)=>(V(),ue("td",{key:b,class:j(h(y)),onClick:_=>w(c)(y)},[me("div",{class:j(w(f).b())},[Ze(p.$slots,"date-cell",{data:w(u)(y)},()=>[me("span",null,Ct(y.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var rF=Pt(Mbe,[["__file","date-table.vue"]]);const Tbe=(n,e)=>{const t=n.endOf("month"),r=e.startOf("month"),a=t.isSame(r,"week")?r.add(1,"week"):r;return[[n,t],[a.startOf("week"),e]]},Abe=(n,e)=>{const t=n.endOf("month"),r=n.add(1,"month").startOf("month"),i=t.isSame(r,"week")?r.add(1,"week"):r,a=i.endOf("month"),s=e.startOf("month"),o=a.isSame(s,"week")?s.add(1,"week"):s;return[[n,t],[i.startOf("week"),a],[o.startOf("week"),e]]},Ebe=(n,e,t)=>{const{lang:r}=rr(),i=ee(),a=hn().locale(r.value),s=U({get(){return n.modelValue?l.value:i.value},set(v){if(!v)return;i.value=v;const g=v.toDate();e(es,g),e(Mn,g)}}),o=U(()=>{if(!n.range||!Tt(n.range)||n.range.length!==2||n.range.some(b=>!Hf(b)))return[];const v=n.range.map(b=>hn(b).locale(r.value)),[g,y]=v;return g.isAfter(y)?[]:g.isSame(y,"month")?h(g,y):g.add(1,"month").month()!==y.month()?[]:h(g,y)}),l=U(()=>n.modelValue?hn(n.modelValue).locale(r.value):s.value||(o.value.length?o.value[0][0]:a)),c=U(()=>l.value.subtract(1,"month").date(1)),u=U(()=>l.value.add(1,"month").date(1)),d=U(()=>l.value.subtract(1,"year").date(1)),f=U(()=>l.value.add(1,"year").date(1)),h=(v,g)=>{const y=v.startOf("week"),b=g.endOf("week"),_=y.get("month"),x=b.get("month");return _===x?[[y,b]]:(_+1)%12===x?Tbe(y,b):_+2===x||(_+1)%11===x?Abe(y,b):[]},p=v=>{s.value=v};return{calculateValidatedDateRange:h,date:l,realSelectedDay:s,pickDay:p,selectDate:v=>{const y={"prev-month":c.value,"next-month":u.value,"prev-year":d.value,"next-year":f.value,today:a}[v];y.isSame(l.value,"day")||p(y)},validatedRange:o}},Ibe=n=>Tt(n)&&n.length===2&&n.every(e=>Hf(e)),Rbe=Rt({modelValue:{type:Date},range:{type:We(Array),validator:Ibe}}),Pbe={[Mn]:n=>Hf(n),[es]:n=>Hf(n)},Dbe="ElCalendar",kbe=Ie({name:Dbe}),Lbe=Ie({...kbe,props:Rbe,emits:Pbe,setup(n,{expose:e,emit:t}){const r=n,i=bt("calendar"),{calculateValidatedDateRange:a,date:s,pickDay:o,realSelectedDay:l,selectDate:c,validatedRange:u}=Ebe(r,t),{t:d}=rr(),f=U(()=>{const h=`el.datepicker.month${s.value.format("M")}`;return`${s.value.year()} ${d("el.datepicker.year")} ${d(h)}`});return e({selectedDay:l,pickDay:o,selectDate:c,calculateValidatedDateRange:a}),(h,p)=>(V(),ue("div",{class:j(w(i).b())},[me("div",{class:j(w(i).e("header"))},[Ze(h.$slots,"header",{date:w(f)},()=>[me("div",{class:j(w(i).e("title"))},Ct(w(f)),3),w(u).length===0?(V(),ue("div",{key:0,class:j(w(i).e("button-group"))},[se(w(JY),null,{default:be(()=>[se(w(Aa),{size:"small",onClick:m=>w(c)("prev-month")},{default:be(()=>[dn(Ct(w(d)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),se(w(Aa),{size:"small",onClick:m=>w(c)("today")},{default:be(()=>[dn(Ct(w(d)("el.datepicker.today")),1)]),_:1},8,["onClick"]),se(w(Aa),{size:"small",onClick:m=>w(c)("next-month")},{default:be(()=>[dn(Ct(w(d)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Qe("v-if",!0)])],2),w(u).length===0?(V(),ue("div",{key:0,class:j(w(i).e("body"))},[se(rF,{date:w(s),"selected-day":w(l),onPick:w(o)},El({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:be(m=>[Ze(h.$slots,"date-cell",ic($f(m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(V(),ue("div",{key:1,class:j(w(i).e("body"))},[(V(!0),ue(zt,null,In(w(u),(m,v)=>(V(),rt(rF,{key:v,date:m[0],"selected-day":w(l),range:m,"hide-header":v!==0,onPick:w(o)},El({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:be(g=>[Ze(h.$slots,"date-cell",ic($f(g)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Nbe=Pt(Lbe,[["__file","calendar.vue"]]);const Obe=gn(Nbe),Bbe=Rt({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:We([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Fbe=Ie({name:"ElCard"}),zbe=Ie({...Fbe,props:Bbe,setup(n){const e=bt("card");return(t,r)=>(V(),ue("div",{class:j([w(e).b(),w(e).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?(V(),ue("div",{key:0,class:j(w(e).e("header"))},[Ze(t.$slots,"header",{},()=>[dn(Ct(t.header),1)])],2)):Qe("v-if",!0),me("div",{class:j([w(e).e("body"),t.bodyClass]),style:Bt(t.bodyStyle)},[Ze(t.$slots,"default")],6),t.$slots.footer||t.footer?(V(),ue("div",{key:1,class:j(w(e).e("footer"))},[Ze(t.$slots,"footer",{},()=>[dn(Ct(t.footer),1)])],2)):Qe("v-if",!0)],2))}});var Ube=Pt(zbe,[["__file","card.vue"]]);const Hbe=gn(Ube),Vbe=Rt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),$be={change:(n,e)=>[n,e].every(en)},aX=Symbol("carouselContextKey"),_5="ElCarouselItem";var ol=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(ol||{});function w5(n){return vi(n)&&n.type===zt}function Gbe(n){return vi(n)&&n.type===Ss}function Wbe(n){return vi(n)&&!w5(n)&&!Gbe(n)}const qbe=n=>{if(!vi(n))return{};const e=n.props||{},t=(vi(n.type)?n.type.props:void 0)||{},r={};return Object.keys(t).forEach(i=>{sr(t[i],"default")&&(r[i]=t[i].default)}),Object.keys(e).forEach(i=>{r[Wo(i)]=e[i]}),r},Kbe=n=>{if(!Tt(n)||n.length>1)throw new Error("expect to receive a single Vue element child");return n[0]},Rf=n=>{const e=Tt(n)?n:[n],t=[];return e.forEach(r=>{var i;Tt(r)?t.push(...Rf(r)):vi(r)&&((i=r.component)!=null&&i.subTree)?t.push(r,...Rf(r.component.subTree)):vi(r)&&Tt(r.children)?t.push(...Rf(r.children)):t.push(r)}),t},Ybe=(n,e,t)=>Rf(n.subTree).filter(a=>{var s;return vi(a)&&((s=a.type)==null?void 0:s.name)===e&&!!a.component}).map(a=>a.component.uid).map(a=>t[a]).filter(a=>!!a),lL=(n,e)=>{const t={},r=Ir([]);return{children:r,addChild:s=>{t[s.uid]=s,r.value=Ybe(n,e,t)},removeChild:s=>{delete t[s],r.value=r.value.filter(o=>o.uid!==s)}}},iF=300,Xbe=(n,e,t)=>{const{children:r,addChild:i,removeChild:a}=lL(Dn(),_5),s=ea(),o=ee(-1),l=ee(null),c=ee(!1),u=ee(),d=ee(0),f=ee(!0),h=ee(!0),p=ee(!1),m=U(()=>n.arrow!=="never"&&!w(y)),v=U(()=>r.value.some(le=>le.props.label.toString().length>0)),g=U(()=>n.type==="card"),y=U(()=>n.direction==="vertical"),b=U(()=>n.height!=="auto"?{height:n.height}:{height:`${d.value}px`,overflow:"hidden"}),_=Hp(le=>{A(le)},iF,{trailing:!0}),x=Hp(le=>{O(le)},iF),S=le=>f.value?o.value<=1?le<=1:le>1:!0;function T(){l.value&&(clearInterval(l.value),l.value=null)}function C(){n.interval<=0||!n.autoplay||l.value||(l.value=setInterval(()=>M(),n.interval))}const M=()=>{h.value||(p.value=!0),h.value=!1,o.value<r.value.length-1?o.value=o.value+1:n.loop?o.value=0:p.value=!1};function A(le){if(h.value||(p.value=!0),h.value=!1,qt(le)){const Re=r.value.filter(He=>He.props.name===le);Re.length>0&&(le=r.value.indexOf(Re[0]))}if(le=Number(le),Number.isNaN(le)||le!==Math.floor(le))return;const fe=r.value.length,Ee=o.value;le<0?o.value=n.loop?fe-1:0:le>=fe?o.value=n.loop?0:fe-1:o.value=le,Ee===o.value&&I(Ee),J()}function I(le){r.value.forEach((fe,Ee)=>{fe.translateItem(Ee,o.value,le)})}function D(le,fe){var Ee,Re,He,$e;const K=w(r),ce=K.length;if(ce===0||!le.states.inStage)return!1;const ie=fe+1,Ue=fe-1,De=ce-1,Ye=K[De].states.active,ze=K[0].states.active,Ve=(Re=(Ee=K[ie])==null?void 0:Ee.states)==null?void 0:Re.active,Je=($e=(He=K[Ue])==null?void 0:He.states)==null?void 0:$e.active;return fe===De&&ze||Ve?"left":fe===0&&Ye||Je?"right":!1}function L(){c.value=!0,n.pauseOnHover&&T()}function F(){c.value=!1,C()}function B(){p.value=!1}function k(le){w(y)||r.value.forEach((fe,Ee)=>{le===D(fe,Ee)&&(fe.states.hover=!0)})}function H(){w(y)||r.value.forEach(le=>{le.states.hover=!1})}function z(le){le!==o.value&&(h.value||(p.value=!0)),o.value=le}function O(le){n.trigger==="hover"&&le!==o.value&&(o.value=le,h.value||(p.value=!0))}function G(){A(o.value-1)}function X(){A(o.value+1)}function J(){T(),n.pauseOnHover||C()}function Q(le){n.height==="auto"&&(d.value=le)}function re(){var le;const fe=(le=s.default)==null?void 0:le.call(s);if(!fe)return null;const Re=Rf(fe).filter(He=>vi(He)&&He.type.name===_5);return(Re==null?void 0:Re.length)===2&&n.loop&&!g.value?(f.value=!0,Re):(f.value=!1,null)}dt(()=>o.value,(le,fe)=>{I(fe),f.value&&(le=le%2,fe=fe%2),fe>-1&&e("change",le,fe)}),dt(()=>n.autoplay,le=>{le?C():T()}),dt(()=>n.loop,()=>{A(o.value)}),dt(()=>n.interval,()=>{J()});const de=Ir();return pn(()=>{dt(()=>r.value,()=>{r.value.length>0&&A(n.initialIndex)},{immediate:!0}),de.value=ui(u.value,()=>{I()}),C()}),yr(()=>{T(),u.value&&de.value&&de.value.stop()}),$n(aX,{root:u,isCardType:g,isVertical:y,items:r,loop:n.loop,cardScale:n.cardScale,addItem:i,removeItem:a,setActiveItem:A,setContainerHeight:Q}),{root:u,activeIndex:o,arrowDisplay:m,hasLabel:v,hover:c,isCardType:g,isTransitioning:p,items:r,isVertical:y,containerStyle:b,isItemsTwoLength:f,handleButtonEnter:k,handleTransitionEnd:B,handleButtonLeave:H,handleIndicatorClick:z,handleMouseEnter:L,handleMouseLeave:F,setActiveItem:A,prev:G,next:X,PlaceholderItem:re,isTwoLengthShow:S,throttledArrowClick:_,throttledIndicatorHover:x}},jbe="ElCarousel",Zbe=Ie({name:jbe}),Qbe=Ie({...Zbe,props:Vbe,emits:$be,setup(n,{expose:e,emit:t}){const r=n,{root:i,activeIndex:a,arrowDisplay:s,hasLabel:o,hover:l,isCardType:c,items:u,isVertical:d,containerStyle:f,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:m,handleIndicatorClick:v,handleMouseEnter:g,handleMouseLeave:y,handleTransitionEnd:b,setActiveItem:_,prev:x,next:S,PlaceholderItem:T,isTwoLengthShow:C,throttledArrowClick:M,throttledIndicatorHover:A}=Xbe(r,t),I=bt("carousel"),{t:D}=rr(),L=U(()=>{const k=[I.b(),I.m(r.direction)];return w(c)&&k.push(I.m("card")),k}),F=U(()=>{const k=[I.e("container")];return r.motionBlur&&w(m)&&u.value.length>1&&k.push(w(d)?`${I.namespace.value}-transitioning-vertical`:`${I.namespace.value}-transitioning`),k}),B=U(()=>{const k=[I.e("indicators"),I.em("indicators",r.direction)];return w(o)&&k.push(I.em("indicators","labels")),r.indicatorPosition==="outside"&&k.push(I.em("indicators","outside")),w(d)&&k.push(I.em("indicators","right")),k});return e({activeIndex:a,setActiveItem:_,prev:x,next:S}),(k,H)=>(V(),ue("div",{ref_key:"root",ref:i,class:j(w(L)),onMouseenter:sn(w(g),["stop"]),onMouseleave:sn(w(y),["stop"])},[w(s)?(V(),rt(ca,{key:0,name:"carousel-arrow-left",persisted:""},{default:be(()=>[Sn(me("button",{type:"button",class:j([w(I).e("arrow"),w(I).em("arrow","left")]),"aria-label":w(D)("el.carousel.leftArrow"),onMouseenter:z=>w(h)("left"),onMouseleave:w(p),onClick:sn(z=>w(M)(w(a)-1),["stop"])},[se(w(Vt),null,{default:be(()=>[se(w(Kf))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[fr,(k.arrow==="always"||w(l))&&(r.loop||w(a)>0)]])]),_:1})):Qe("v-if",!0),w(s)?(V(),rt(ca,{key:1,name:"carousel-arrow-right",persisted:""},{default:be(()=>[Sn(me("button",{type:"button",class:j([w(I).e("arrow"),w(I).em("arrow","right")]),"aria-label":w(D)("el.carousel.rightArrow"),onMouseenter:z=>w(h)("right"),onMouseleave:w(p),onClick:sn(z=>w(M)(w(a)+1),["stop"])},[se(w(Vt),null,{default:be(()=>[se(w(Hs))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[fr,(k.arrow==="always"||w(l))&&(r.loop||w(a)<w(u).length-1)]])]),_:1})):Qe("v-if",!0),me("div",{class:j(w(F)),style:Bt(w(f)),onTransitionend:w(b)},[se(w(T)),Ze(k.$slots,"default")],46,["onTransitionend"]),k.indicatorPosition!=="none"?(V(),ue("ul",{key:2,class:j(w(B))},[(V(!0),ue(zt,null,In(w(u),(z,O)=>Sn((V(),ue("li",{key:O,class:j([w(I).e("indicator"),w(I).em("indicator",k.direction),w(I).is("active",O===w(a))]),onMouseenter:G=>w(A)(O),onClick:sn(G=>w(v)(O),["stop"])},[me("button",{class:j(w(I).e("button")),"aria-label":w(D)("el.carousel.indicator",{index:O+1})},[w(o)?(V(),ue("span",{key:0},Ct(z.props.label),1)):Qe("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[fr,w(C)(O)]])),128))],2)):Qe("v-if",!0),r.motionBlur?(V(),ue("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[me("defs",null,[me("filter",{id:"elCarouselHorizontal"},[me("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),me("filter",{id:"elCarouselVertical"},[me("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Qe("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Jbe=Pt(Qbe,[["__file","carousel.vue"]]);const e_e=Rt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),t_e=n=>{const e=Ot(aX),t=Dn(),r=ee(),i=ee(!1),a=ee(0),s=ee(1),o=ee(!1),l=ee(!1),c=ee(!1),u=ee(!1),{isCardType:d,isVertical:f,cardScale:h}=e;function p(b,_,x){const S=x-1,T=_-1,C=_+1,M=x/2;return _===0&&b===S?-1:_===S&&b===0?x:b<T&&_-b>=M?x+1:b>C&&b-_>=M?-2:b}function m(b,_){var x,S;const T=w(f)?((x=e.root.value)==null?void 0:x.offsetHeight)||0:((S=e.root.value)==null?void 0:S.offsetWidth)||0;return c.value?T*((2-h)*(b-_)+1)/4:b<_?-(1+h)*T/4:(3+h)*T/4}function v(b,_,x){const S=e.root.value;return S?((x?S.offsetHeight:S.offsetWidth)||0)*(b-_):0}const g=(b,_,x)=>{var S;const T=w(d),C=(S=e.items.value.length)!=null?S:Number.NaN,M=b===_;!T&&!Mr(x)&&(u.value=M||b===x),!M&&C>2&&e.loop&&(b=p(b,_,C));const A=w(f);o.value=M,T?(c.value=Math.round(Math.abs(b-_))<=1,a.value=m(b,_),s.value=w(o)?1:h):a.value=v(b,_,A),l.value=!0,M&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function y(){if(e&&w(d)){const b=e.items.value.findIndex(({uid:_})=>_===t.uid);e.setActiveItem(b)}}return pn(()=>{e.addItem({props:n,states:mr({hover:i,translate:a,scale:s,active:o,ready:l,inStage:c,animating:u}),uid:t.uid,translateItem:g})}),fh(()=>{e.removeItem(t.uid)}),{carouselItemRef:r,active:o,animating:u,hover:i,inStage:c,isVertical:f,translate:a,isCardType:d,scale:s,ready:l,handleItemClick:y}},n_e=Ie({name:_5}),r_e=Ie({...n_e,props:e_e,setup(n){const e=n,t=bt("carousel"),{carouselItemRef:r,active:i,animating:a,hover:s,inStage:o,isVertical:l,translate:c,isCardType:u,scale:d,ready:f,handleItemClick:h}=t_e(e),p=U(()=>[t.e("item"),t.is("active",i.value),t.is("in-stage",o.value),t.is("hover",s.value),t.is("animating",a.value),{[t.em("item","card")]:u.value,[t.em("item","card-vertical")]:u.value&&l.value}]),m=U(()=>{const g=`${`translate${w(l)?"Y":"X"}`}(${w(c)}px)`,y=`scale(${w(d)})`;return{transform:[g,y].join(" ")}});return(v,g)=>Sn((V(),ue("div",{ref_key:"carouselItemRef",ref:r,class:j(w(p)),style:Bt(w(m)),onClick:w(h)},[w(u)?Sn((V(),ue("div",{key:0,class:j(w(t).e("mask"))},null,2)),[[fr,!w(i)]]):Qe("v-if",!0),Ze(v.$slots,"default")],14,["onClick"])),[[fr,w(f)]])}});var sX=Pt(r_e,[["__file","carousel-item.vue"]]);const i_e=gn(Jbe,{CarouselItem:sX}),a_e=Si(sX),oX={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:Ji,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...Ua(["ariaControls"])},lX={[Mn]:n=>qt(n)||en(n)||Vr(n),change:n=>qt(n)||en(n)||Vr(n)},Yg=Symbol("checkboxGroupContextKey"),s_e=({model:n,isChecked:e})=>{const t=Ot(Yg,void 0),r=U(()=>{var a,s;const o=(a=t==null?void 0:t.max)==null?void 0:a.value,l=(s=t==null?void 0:t.min)==null?void 0:s.value;return!Mr(o)&&n.value.length>=o&&!e.value||!Mr(l)&&n.value.length<=l&&e.value});return{isDisabled:as(U(()=>(t==null?void 0:t.disabled.value)||r.value)),isLimitDisabled:r}},o_e=(n,{model:e,isLimitExceeded:t,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:a})=>{const s=Ot(Yg,void 0),{formItem:o}=is(),{emit:l}=Dn();function c(p){var m,v,g,y;return[!0,n.trueValue,n.trueLabel].includes(p)?(v=(m=n.trueValue)!=null?m:n.trueLabel)!=null?v:!0:(y=(g=n.falseValue)!=null?g:n.falseLabel)!=null?y:!1}function u(p,m){l("change",c(p),m)}function d(p){if(t.value)return;const m=p.target;l("change",c(m.checked),p)}async function f(p){t.value||!r.value&&!i.value&&a.value&&(p.composedPath().some(g=>g.tagName==="LABEL")||(e.value=c([!1,n.falseValue,n.falseLabel].includes(e.value)),await Yt(),u(e.value,p)))}const h=U(()=>(s==null?void 0:s.validateEvent)||n.validateEvent);return dt(()=>n.modelValue,()=>{h.value&&(o==null||o.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:f}},l_e=n=>{const e=ee(!1),{emit:t}=Dn(),r=Ot(Yg,void 0),i=U(()=>Mr(r)===!1),a=ee(!1),s=U({get(){var o,l;return i.value?(o=r==null?void 0:r.modelValue)==null?void 0:o.value:(l=n.modelValue)!=null?l:e.value},set(o){var l,c;i.value&&Tt(o)?(a.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&o.length>(r==null?void 0:r.max.value)&&o.length>s.value.length,a.value===!1&&((c=r==null?void 0:r.changeEvent)==null||c.call(r,o))):(t(Mn,o),e.value=o)}});return{model:s,isGroup:i,isLimitExceeded:a}},c_e=(n,e,{model:t})=>{const r=Ot(Yg,void 0),i=ee(!1),a=U(()=>em(n.value)?n.label:n.value),s=U(()=>{const u=t.value;return Vr(u)?u:Tt(u)?Pn(a.value)?u.map(Lr).some(d=>Fa(d,a.value)):u.map(Lr).includes(a.value):u!=null?u===n.trueValue||u===n.trueLabel:!!u}),o=Xi(U(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value}),{prop:!0}),l=Xi(U(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value})),c=U(()=>!!e.default||!em(a.value));return{checkboxButtonSize:o,isChecked:s,isFocused:i,checkboxSize:l,hasOwnLabel:c,actualValue:a}},cX=(n,e)=>{const{formItem:t}=is(),{model:r,isGroup:i,isLimitExceeded:a}=l_e(n),{isFocused:s,isChecked:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:d}=c_e(n,e,{model:r}),{isDisabled:f}=s_e({model:r,isChecked:o}),{inputId:h,isLabeledByFormItem:p}=Ol(n,{formItemContext:t,disableIdGeneration:u,disableIdManagement:i}),{handleChange:m,onClickRoot:v}=o_e(n,{model:r,isLimitExceeded:a,hasOwnLabel:u,isDisabled:f,isLabeledByFormItem:p});return(()=>{function y(){var b,_;Tt(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=(_=(b=n.trueValue)!=null?b:n.trueLabel)!=null?_:!0}n.checked&&y()})(),Ef({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>i.value&&em(n.value))),Ef({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!n.trueLabel)),Ef({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!n.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:o,isDisabled:f,isFocused:s,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:r,actualValue:d,handleChange:m,onClickRoot:v}},u_e=Ie({name:"ElCheckbox"}),d_e=Ie({...u_e,props:oX,emits:lX,setup(n){const e=n,t=ea(),{inputId:r,isLabeledByFormItem:i,isChecked:a,isDisabled:s,isFocused:o,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:d,handleChange:f,onClickRoot:h}=cX(e,t),p=bt("checkbox"),m=U(()=>[p.b(),p.m(l.value),p.is("disabled",s.value),p.is("bordered",e.border),p.is("checked",a.value)]),v=U(()=>[p.e("input"),p.is("disabled",s.value),p.is("checked",a.value),p.is("indeterminate",e.indeterminate),p.is("focus",o.value)]);return(g,y)=>(V(),rt(Nn(!w(c)&&w(i)?"span":"label"),{class:j(w(m)),"aria-controls":g.indeterminate?g.ariaControls:null,onClick:w(h)},{default:be(()=>{var b,_,x,S;return[me("span",{class:j(w(v))},[g.trueValue||g.falseValue||g.trueLabel||g.falseLabel?Sn((V(),ue("input",{key:0,id:w(r),"onUpdate:modelValue":T=>Kr(u)?u.value=T:null,class:j(w(p).e("original")),type:"checkbox",indeterminate:g.indeterminate,name:g.name,tabindex:g.tabindex,disabled:w(s),"true-value":(_=(b=g.trueValue)!=null?b:g.trueLabel)!=null?_:!0,"false-value":(S=(x=g.falseValue)!=null?x:g.falseLabel)!=null?S:!1,onChange:w(f),onFocus:T=>o.value=!0,onBlur:T=>o.value=!1,onClick:sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[pC,w(u)]]):Sn((V(),ue("input",{key:1,id:w(r),"onUpdate:modelValue":T=>Kr(u)?u.value=T:null,class:j(w(p).e("original")),type:"checkbox",indeterminate:g.indeterminate,disabled:w(s),value:w(d),name:g.name,tabindex:g.tabindex,onChange:w(f),onFocus:T=>o.value=!0,onBlur:T=>o.value=!1,onClick:sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[pC,w(u)]]),me("span",{class:j(w(p).e("inner"))},null,2)],2),w(c)?(V(),ue("span",{key:0,class:j(w(p).e("label"))},[Ze(g.$slots,"default"),g.$slots.default?Qe("v-if",!0):(V(),ue(zt,{key:0},[dn(Ct(g.label),1)],64))],2)):Qe("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var f_e=Pt(d_e,[["__file","checkbox.vue"]]);const h_e=Ie({name:"ElCheckboxButton"}),p_e=Ie({...h_e,props:oX,emits:lX,setup(n){const e=n,t=ea(),{isFocused:r,isChecked:i,isDisabled:a,checkboxButtonSize:s,model:o,actualValue:l,handleChange:c}=cX(e,t),u=Ot(Yg,void 0),d=bt("checkbox"),f=U(()=>{var p,m,v,g;const y=(m=(p=u==null?void 0:u.fill)==null?void 0:p.value)!=null?m:"";return{backgroundColor:y,borderColor:y,color:(g=(v=u==null?void 0:u.textColor)==null?void 0:v.value)!=null?g:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),h=U(()=>[d.b("button"),d.bm("button",s.value),d.is("disabled",a.value),d.is("checked",i.value),d.is("focus",r.value)]);return(p,m)=>{var v,g,y,b;return V(),ue("label",{class:j(w(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?Sn((V(),ue("input",{key:0,"onUpdate:modelValue":_=>Kr(o)?o.value=_:null,class:j(w(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(a),"true-value":(g=(v=p.trueValue)!=null?v:p.trueLabel)!=null?g:!0,"false-value":(b=(y=p.falseValue)!=null?y:p.falseLabel)!=null?b:!1,onChange:w(c),onFocus:_=>r.value=!0,onBlur:_=>r.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[pC,w(o)]]):Sn((V(),ue("input",{key:1,"onUpdate:modelValue":_=>Kr(o)?o.value=_:null,class:j(w(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(a),value:w(l),onChange:w(c),onFocus:_=>r.value=!0,onBlur:_=>r.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[pC,w(o)]]),p.$slots.default||p.label?(V(),ue("span",{key:2,class:j(w(d).be("button","inner")),style:Bt(w(i)?w(f):void 0)},[Ze(p.$slots,"default",{},()=>[dn(Ct(p.label),1)])],6)):Qe("v-if",!0)],2)}}});var uX=Pt(p_e,[["__file","checkbox-button.vue"]]);const m_e=Rt({modelValue:{type:We(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:Ji,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...Ua(["ariaLabel"])}),v_e={[Mn]:n=>Tt(n),change:n=>Tt(n)},g_e=Ie({name:"ElCheckboxGroup"}),y_e=Ie({...g_e,props:m_e,emits:v_e,setup(n,{emit:e}){const t=n,r=bt("checkbox"),{formItem:i}=is(),{inputId:a,isLabeledByFormItem:s}=Ol(t,{formItemContext:i}),o=async c=>{e(Mn,c),await Yt(),e("change",c)},l=U({get(){return t.modelValue},set(c){o(c)}});return $n(Yg,{...sc(la(t),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:o}),dt(()=>t.modelValue,()=>{t.validateEvent&&(i==null||i.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return V(),rt(Nn(c.tag),{id:w(a),class:j(w(r).b("group")),role:"group","aria-label":w(s)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":w(s)?(d=w(i))==null?void 0:d.labelId:void 0},{default:be(()=>[Ze(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var dX=Pt(y_e,[["__file","checkbox-group.vue"]]);const Dl=gn(f_e,{CheckboxButton:uX,CheckboxGroup:dX}),b_e=Si(uX),fX=Si(dX),hX=Rt({modelValue:{type:[String,Number,Boolean],default:void 0},size:Ji,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),__e=Rt({...hX,border:Boolean}),pX={[Mn]:n=>qt(n)||en(n)||Vr(n),[Rr]:n=>qt(n)||en(n)||Vr(n)},mX=Symbol("radioGroupKey"),vX=(n,e)=>{const t=ee(),r=Ot(mX,void 0),i=U(()=>!!r),a=U(()=>em(n.value)?n.label:n.value),s=U({get(){return i.value?r.modelValue:n.modelValue},set(d){i.value?r.changeEvent(d):e&&e(Mn,d),t.value.checked=n.modelValue===a.value}}),o=Xi(U(()=>r==null?void 0:r.size)),l=as(U(()=>r==null?void 0:r.disabled)),c=ee(!1),u=U(()=>l.value||i.value&&s.value!==a.value?-1:0);return Ef({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},U(()=>i.value&&em(n.value))),{radioRef:t,isGroup:i,radioGroup:r,focus:c,size:o,disabled:l,tabIndex:u,modelValue:s,actualValue:a}},w_e=Ie({name:"ElRadio"}),x_e=Ie({...w_e,props:__e,emits:pX,setup(n,{emit:e}){const t=n,r=bt("radio"),{radioRef:i,radioGroup:a,focus:s,size:o,disabled:l,modelValue:c,actualValue:u}=vX(t,e);function d(){Yt(()=>e("change",c.value))}return(f,h)=>{var p;return V(),ue("label",{class:j([w(r).b(),w(r).is("disabled",w(l)),w(r).is("focus",w(s)),w(r).is("bordered",f.border),w(r).is("checked",w(c)===w(u)),w(r).m(w(o))])},[me("span",{class:j([w(r).e("input"),w(r).is("disabled",w(l)),w(r).is("checked",w(c)===w(u))])},[Sn(me("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":m=>Kr(c)?c.value=m:null,class:j(w(r).e("original")),value:w(u),name:f.name||((p=w(a))==null?void 0:p.name),disabled:w(l),checked:w(c)===w(u),type:"radio",onFocus:m=>s.value=!0,onBlur:m=>s.value=!1,onChange:d,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[eK,w(c)]]),me("span",{class:j(w(r).e("inner"))},null,2)],2),me("span",{class:j(w(r).e("label")),onKeydown:sn(()=>{},["stop"])},[Ze(f.$slots,"default",{},()=>[dn(Ct(f.label),1)])],42,["onKeydown"])],2)}}});var S_e=Pt(x_e,[["__file","radio.vue"]]);const C_e=Rt({...hX}),M_e=Ie({name:"ElRadioButton"}),T_e=Ie({...M_e,props:C_e,setup(n){const e=n,t=bt("radio"),{radioRef:r,focus:i,size:a,disabled:s,modelValue:o,radioGroup:l,actualValue:c}=vX(e),u=U(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,f)=>{var h;return V(),ue("label",{class:j([w(t).b("button"),w(t).is("active",w(o)===w(c)),w(t).is("disabled",w(s)),w(t).is("focus",w(i)),w(t).bm("button",w(a))])},[Sn(me("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>Kr(o)?o.value=p:null,class:j(w(t).be("button","original-radio")),value:w(c),type:"radio",name:d.name||((h=w(l))==null?void 0:h.name),disabled:w(s),onFocus:p=>i.value=!0,onBlur:p=>i.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[eK,w(o)]]),me("span",{class:j(w(t).be("button","inner")),style:Bt(w(o)===w(c)?w(u):{}),onKeydown:sn(()=>{},["stop"])},[Ze(d.$slots,"default",{},()=>[dn(Ct(d.label),1)])],46,["onKeydown"])],2)}}});var gX=Pt(T_e,[["__file","radio-button.vue"]]);const A_e=Rt({id:{type:String,default:void 0},size:Ji,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...Ua(["ariaLabel"])}),E_e=pX,I_e=Ie({name:"ElRadioGroup"}),R_e=Ie({...I_e,props:A_e,emits:E_e,setup(n,{emit:e}){const t=n,r=bt("radio"),i=za(),a=ee(),{formItem:s}=is(),{inputId:o,isLabeledByFormItem:l}=Ol(t,{formItemContext:s}),c=d=>{e(Mn,d),Yt(()=>e("change",d))};pn(()=>{const d=a.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(h=>h.checked)&&f&&(f.tabIndex=0)});const u=U(()=>t.name||i.value);return $n(mX,mr({...la(t),changeEvent:c,name:u})),dt(()=>t.modelValue,()=>{t.validateEvent&&(s==null||s.validate("change").catch(d=>void 0))}),(d,f)=>(V(),ue("div",{id:w(o),ref_key:"radioGroupRef",ref:a,class:j(w(r).b("group")),role:"radiogroup","aria-label":w(l)?void 0:d.ariaLabel||"radio-group","aria-labelledby":w(l)?w(s).labelId:void 0},[Ze(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var yX=Pt(R_e,[["__file","radio-group.vue"]]);const bX=gn(S_e,{RadioButton:gX,RadioGroup:yX}),P_e=Si(yX),D_e=Si(gX);var k_e=Ie({name:"NodeContent",setup(){return{ns:bt("cascader-node")}},render(){const{ns:n}=this,{node:e,panel:t}=this.$parent,{data:r,label:i}=e,{renderLabelFn:a}=t;return Gt("span",{class:n.e("label")},a?a({node:e,data:r}):i)}});const cL=Symbol(),L_e=Ie({name:"ElCascaderNode",components:{ElCheckbox:Dl,ElRadio:bX,NodeContent:k_e,ElIcon:Vt,Check:q_,Loading:tu,ArrowRight:Hs},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:e}){const t=Ot(cL),r=bt("cascader-node"),i=U(()=>t.isHoverMenu),a=U(()=>t.config.multiple),s=U(()=>t.config.checkStrictly),o=U(()=>{var S;return(S=t.checkedNodes[0])==null?void 0:S.uid}),l=U(()=>n.node.isDisabled),c=U(()=>n.node.isLeaf),u=U(()=>s.value&&!c.value||!l.value),d=U(()=>h(t.expandingNode)),f=U(()=>s.value&&t.checkedNodes.some(h)),h=S=>{var T;const{level:C,uid:M}=n.node;return((T=S==null?void 0:S.pathNodes[C-1])==null?void 0:T.uid)===M},p=()=>{d.value||t.expandNode(n.node)},m=S=>{const{node:T}=n;S!==T.checked&&t.handleCheckChange(T,S)},v=()=>{t.lazyLoad(n.node,()=>{c.value||p()})},g=S=>{i.value&&(y(),!c.value&&e("expand",S))},y=()=>{const{node:S}=n;!u.value||S.loading||(S.loaded?p():v())},b=()=>{i.value&&!c.value||(c.value&&!l.value&&!s.value&&!a.value?x(!0):y())},_=S=>{s.value?(m(S),n.node.loaded&&p()):x(S)},x=S=>{n.node.loaded?(m(S),!s.value&&p()):v()};return{panel:t,isHoverMenu:i,multiple:a,checkStrictly:s,checkedNodeId:o,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:f,ns:r,handleHoverExpand:g,handleExpand:y,handleClick:b,handleCheck:x,handleSelectCheck:_}}});function N_e(n,e,t,r,i,a){const s=Et("el-checkbox"),o=Et("el-radio"),l=Et("check"),c=Et("el-icon"),u=Et("node-content"),d=Et("loading"),f=Et("arrow-right");return V(),ue("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:j([n.ns.b(),n.ns.is("selectable",n.checkStrictly),n.ns.is("active",n.node.checked),n.ns.is("disabled",!n.expandable),n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path"]),onMouseenter:n.handleHoverExpand,onFocus:n.handleHoverExpand,onClick:n.handleClick},[Qe(" prefix "),n.multiple?(V(),rt(s,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:sn(()=>{},["stop"]),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):n.checkStrictly?(V(),rt(o,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:sn(()=>{},["stop"])},{default:be(()=>[Qe(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),me("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):n.isLeaf&&n.node.checked?(V(),rt(c,{key:2,class:j(n.ns.e("prefix"))},{default:be(()=>[se(l)]),_:1},8,["class"])):Qe("v-if",!0),Qe(" content "),se(u),Qe(" postfix "),n.isLeaf?Qe("v-if",!0):(V(),ue(zt,{key:3},[n.node.loading?(V(),rt(c,{key:0,class:j([n.ns.is("loading"),n.ns.e("postfix")])},{default:be(()=>[se(d)]),_:1},8,["class"])):(V(),rt(c,{key:1,class:j(["arrow-right",n.ns.e("postfix")])},{default:be(()=>[se(f)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var O_e=Pt(L_e,[["render",N_e],["__file","node.vue"]]);const B_e=Ie({name:"ElCascaderMenu",components:{Loading:tu,ElIcon:Vt,ElScrollbar:du,ElCascaderNode:O_e},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const e=Dn(),t=bt("cascader-menu"),{t:r}=rr(),i=za();let a=null,s=null;const o=Ot(cL),l=ee(null),c=U(()=>!n.nodes.length),u=U(()=>!o.initialLoaded),d=U(()=>`${i.value}-${n.index}`),f=v=>{a=v.target},h=v=>{if(!(!o.isHoverMenu||!a||!l.value))if(a.contains(v.target)){p();const g=e.vnode.el,{left:y}=g.getBoundingClientRect(),{offsetWidth:b,offsetHeight:_}=g,x=v.clientX-y,S=a.offsetTop,T=S+a.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${S} L${b} 0 V${S} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${T} L${b} ${_} V${T} Z" />
        `}else s||(s=window.setTimeout(m,o.config.hoverThreshold))},p=()=>{s&&(clearTimeout(s),s=null)},m=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:t,panel:o,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:r,handleExpand:f,handleMouseMove:h,clearHoverZone:m}}});function F_e(n,e,t,r,i,a){const s=Et("el-cascader-node"),o=Et("loading"),l=Et("el-icon"),c=Et("el-scrollbar");return V(),rt(c,{key:n.menuId,tag:"ul",role:"menu",class:j(n.ns.b()),"wrap-class":n.ns.e("wrap"),"view-class":[n.ns.e("list"),n.ns.is("empty",n.isEmpty)],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:be(()=>{var u;return[(V(!0),ue(zt,null,In(n.nodes,d=>(V(),rt(s,{key:d.uid,node:d,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?(V(),ue("div",{key:0,class:j(n.ns.e("empty-text"))},[se(l,{size:"14",class:j(n.ns.is("loading"))},{default:be(()=>[se(o)]),_:1},8,["class"]),dn(" "+Ct(n.t("el.cascader.loading")),1)],2)):n.isEmpty?(V(),ue("div",{key:1,class:j(n.ns.e("empty-text"))},[Ze(n.$slots,"empty",{},()=>[dn(Ct(n.t("el.cascader.noData")),1)])],2)):(u=n.panel)!=null&&u.isHoverMenu?(V(),ue("svg",{key:2,ref:"hoverZone",class:j(n.ns.e("hover-zone"))},null,2)):Qe("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var z_e=Pt(B_e,[["render",F_e],["__file","menu.vue"]]);const uL=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Vc=n=>U_(n);let U_e=0;const H_e=n=>{const e=[n];let{parent:t}=n;for(;t;)e.unshift(t),t=t.parent;return e};let x5=class S5{constructor(e,t,r,i=!1){this.data=e,this.config=t,this.parent=r,this.root=i,this.uid=U_e++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:s,children:o}=t,l=e[o],c=H_e(this);this.level=i?0:r?r.level+1:1,this.value=e[a],this.label=e[s],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new S5(u,t,this)),this.loaded=!t.lazy||this.isLeaf||!Lo(l)}get isDisabled(){const{data:e,parent:t,config:r}=this,{disabled:i,checkStrictly:a}=r;return(Zt(i)?i(e,this):!!e[i])||!a&&(t==null?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:r,loaded:i}=this,{lazy:a,leaf:s}=t,o=Zt(s)?s(e,this):e[s];return Mr(o)?a&&!i?!1:!(Tt(r)&&r.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:r}=this,i=new S5(e,this.config,this);return Tt(t)?t.push(e):this.childrenData=[e],r.push(i),i}calcText(e,t){const r=e?this.pathLabels.join(t):this.label;return this.text=r,r}broadcast(e,...t){const r=`onParent${Vc(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...t),i[r]&&i[r](...t))})}emit(e,...t){const{parent:r}=this,i=`onChild${Vc(e)}`;r&&(r[i]&&r[i](...t),r.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter(i=>!i.isDisabled),r=t.length?t.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const t=this.children.length,r=this.children.reduce((i,a)=>{const s=a.checked?1:a.indeterminate?.5:0;return i+s},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==t&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:r}=this.config;t||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const C5=(n,e)=>n.reduce((t,r)=>(r.isLeaf?t.push(r):(!e&&t.push(r),t=t.concat(C5(r.children,e))),t),[]);class aF{constructor(e,t){this.config=t;const r=(e||[]).map(i=>new x5(i,this.config));this.nodes=r,this.allNodes=C5(r,!1),this.leafNodes=C5(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const r=t?t.appendChild(e):new x5(e,this.config);t||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,t){e.forEach(r=>this.appendNode(r,t))}getNodeByValue(e,t=!1){return!e&&e!==0?null:this.getFlattedNodes(t).find(i=>Fa(i.value,e)||Fa(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>Fa(e.value,r)&&e.level===i)||null}}const _X=Rt({modelValue:{type:We([Number,String,Array])},options:{type:We(Array),default:()=>[]},props:{type:We(Object),default:()=>({})}}),V_e={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Sr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},$_e=n=>U(()=>({...V_e,...n.props})),sF=n=>{if(!n)return 0;const e=n.id.split("-");return Number(e[e.length-2])},G_e=n=>{if(!n)return;const e=n.querySelector("input");e?e.click():CY(n)&&n.click()},W_e=(n,e)=>{const t=e.slice(0),r=t.map(a=>a.uid),i=n.reduce((a,s)=>{const o=r.indexOf(s.uid);return o>-1&&(a.push(s),t.splice(o,1),r.splice(o,1)),a},[]);return i.push(...t),i},oF=n=>[...new Set(n)],Bs=n=>!n&&n!==0?[]:Tt(n)?n:[n],q_e=Ie({name:"ElCascaderPanel",components:{ElCascaderMenu:z_e},props:{..._X,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Mn,Rr,"close","expand-change"],setup(n,{emit:e,slots:t}){let r=!1;const i=bt("cascader"),a=$_e(n);let s=null;const o=ee(!0),l=ee([]),c=ee(null),u=ee([]),d=ee(null),f=ee([]),h=U(()=>a.value.expandTrigger==="hover"),p=U(()=>n.renderLabel||t.default),m=()=>{const{options:D}=n,L=a.value;r=!1,s=new aF(D,L),u.value=[s.getNodes()],L.lazy&&Lo(n.options)?(o.value=!1,v(void 0,F=>{F&&(s=new aF(F,L),u.value=[s.getNodes()]),o.value=!0,C(!1,!0)})):C(!1,!0)},v=(D,L)=>{const F=a.value;D=D||new x5({},F,void 0,!0),D.loading=!0;const B=k=>{const H=D,z=H.root?null:H;k&&(s==null||s.appendNodes(k,z)),H.loading=!1,H.loaded=!0,H.childrenData=H.childrenData||[],L&&L(k)};F.lazyLoad(D,B)},g=(D,L)=>{var F;const{level:B}=D,k=u.value.slice(0,B);let H;D.isLeaf?H=D.pathNodes[B-2]:(H=D,k.push(D.children)),((F=d.value)==null?void 0:F.uid)!==(H==null?void 0:H.uid)&&(d.value=D,u.value=k,!L&&e("expand-change",(D==null?void 0:D.pathValues)||[]))},y=(D,L,F=!0)=>{const{checkStrictly:B,multiple:k}=a.value,H=f.value[0];r=!0,!k&&(H==null||H.doCheck(!1)),D.doCheck(L),T(),F&&!k&&!B&&e("close"),!F&&!k&&!B&&b(D)},b=D=>{D&&(D=D.parent,b(D),D&&g(D))},_=D=>s==null?void 0:s.getFlattedNodes(D),x=D=>{var L;return(L=_(D))==null?void 0:L.filter(F=>F.checked!==!1)},S=()=>{f.value.forEach(D=>D.doCheck(!1)),T(),u.value=u.value.slice(0,1),d.value=null,e("expand-change",[])},T=()=>{var D;const{checkStrictly:L,multiple:F}=a.value,B=f.value,k=x(!L),H=W_e(B,k),z=H.map(O=>O.valueByOption);f.value=H,c.value=F?z:(D=z[0])!=null?D:null},C=(D=!1,L=!1)=>{const{modelValue:F}=n,{lazy:B,multiple:k,checkStrictly:H}=a.value,z=!H;if(!(!o.value||r||!L&&Fa(F,c.value)))if(B&&!D){const G=oF(Fpe(Bs(F))).map(X=>s==null?void 0:s.getNodeByValue(X)).filter(X=>!!X&&!X.loaded&&!X.loading);G.length?G.forEach(X=>{v(X,()=>C(!1,L))}):C(!0,L)}else{const O=k?Bs(F):[F],G=oF(O.map(X=>s==null?void 0:s.getNodeByValue(X,z)));M(G,L),c.value=gC(F)}},M=(D,L=!0)=>{const{checkStrictly:F}=a.value,B=f.value,k=D.filter(O=>!!O&&(F||O.isLeaf)),H=s==null?void 0:s.getSameNode(d.value),z=L&&H||k[0];z?z.pathNodes.forEach(O=>g(O,!0)):d.value=null,B.forEach(O=>O.doCheck(!1)),mr(k).forEach(O=>O.doCheck(!0)),f.value=k,Yt(A)},A=()=>{nr&&l.value.forEach(D=>{const L=D==null?void 0:D.$el;if(L){const F=L.querySelector(`.${i.namespace.value}-scrollbar__wrap`),B=L.querySelector(`.${i.b("node")}.${i.is("active")}`)||L.querySelector(`.${i.b("node")}.in-active-path`);zk(F,B)}})},I=D=>{const L=D.target,{code:F}=D;switch(F){case Nt.up:case Nt.down:{D.preventDefault();const B=F===Nt.up?-1:1;h2(MY(L,B,`.${i.b("node")}[tabindex="-1"]`));break}case Nt.left:{D.preventDefault();const B=l.value[sF(L)-1],k=B==null?void 0:B.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);h2(k);break}case Nt.right:{D.preventDefault();const B=l.value[sF(L)+1],k=B==null?void 0:B.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);h2(k);break}case Nt.enter:case Nt.numpadEnter:G_e(L);break}};return $n(cL,mr({config:a,expandingNode:d,checkedNodes:f,isHoverMenu:h,initialLoaded:o,renderLabelFn:p,lazyLoad:v,expandNode:g,handleCheckChange:y})),dt([a,()=>n.options],m,{deep:!0,immediate:!0}),dt(()=>n.modelValue,()=>{r=!1,C()},{deep:!0}),dt(()=>c.value,D=>{Fa(D,n.modelValue)||(e(Mn,D),e(Rr,D))}),dk(()=>l.value=[]),pn(()=>!Lo(n.modelValue)&&C()),{ns:i,menuList:l,menus:u,checkedNodes:f,handleKeyDown:I,handleCheckChange:y,getFlattedNodes:_,getCheckedNodes:x,clearCheckedNodes:S,calculateCheckedValue:T,scrollToExpandingNode:A}}});function K_e(n,e,t,r,i,a){const s=Et("el-cascader-menu");return V(),ue("div",{class:j([n.ns.b("panel"),n.ns.is("bordered",n.border)]),onKeydown:n.handleKeyDown},[(V(!0),ue(zt,null,In(n.menus,(o,l)=>(V(),rt(s,{key:l,ref_for:!0,ref:c=>n.menuList[l]=c,index:l,nodes:[...o]},{empty:be(()=>[Ze(n.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var Y_e=Pt(q_e,[["render",K_e],["__file","index.vue"]]);const wX=gn(Y_e),od=Rt({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:uu},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),X_e={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},j_e=Ie({name:"ElTag"}),Z_e=Ie({...j_e,props:od,emits:X_e,setup(n,{emit:e}){const t=n,r=Xi(),i=bt("tag"),a=U(()=>{const{type:c,hit:u,effect:d,closable:f,round:h}=t;return[i.b(),i.is("closable",f),i.m(c||"primary"),i.m(r.value),i.m(d),i.is("hit",u),i.is("round",h)]}),s=c=>{e("close",c)},o=c=>{e("click",c)},l=c=>{var u,d,f;(f=(d=(u=c==null?void 0:c.component)==null?void 0:u.subTree)==null?void 0:d.component)!=null&&f.bum&&(c.component.subTree.component.bum=null)};return(c,u)=>c.disableTransitions?(V(),ue("span",{key:0,class:j(w(a)),style:Bt({backgroundColor:c.color}),onClick:o},[me("span",{class:j(w(i).e("content"))},[Ze(c.$slots,"default")],2),c.closable?(V(),rt(w(Vt),{key:0,class:j(w(i).e("close")),onClick:sn(s,["stop"])},{default:be(()=>[se(w(gc))]),_:1},8,["class","onClick"])):Qe("v-if",!0)],6)):(V(),rt(ca,{key:1,name:`${w(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:be(()=>[me("span",{class:j(w(a)),style:Bt({backgroundColor:c.color}),onClick:o},[me("span",{class:j(w(i).e("content"))},[Ze(c.$slots,"default")],2),c.closable?(V(),rt(w(Vt),{key:0,class:j(w(i).e("close")),onClick:sn(s,["stop"])},{default:be(()=>[se(w(gc))]),_:1},8,["class","onClick"])):Qe("v-if",!0)],6)]),_:3},8,["name"]))}});var Q_e=Pt(Z_e,[["__file","tag.vue"]]);const ag=gn(Q_e),J_e=Rt({..._X,size:Ji,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:We(Function),default:(n,e)=>n.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:We(Function),default:()=>!0},placement:{type:We(String),values:Sd,default:"bottom-start"},fallbackPlacements:{type:We(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:ba.teleported,tagType:{...od.type,default:"info"},tagEffect:{...od.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Wg}),ewe={[Mn]:n=>!0,[Rr]:n=>!0,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,visibleChange:n=>Vr(n),expandChange:n=>!!n,removeTag:n=>!!n},cf=new Map;if(nr){let n;document.addEventListener("mousedown",e=>n=e),document.addEventListener("mouseup",e=>{if(n){for(const t of cf.values())for(const{documentHandler:r}of t)r(e,n);n=void 0}})}function lF(n,e){let t=[];return Tt(e.arg)?t=e.arg:zo(e.arg)&&t.push(e.arg),function(r,i){const a=e.instance.popperRef,s=r.target,o=i==null?void 0:i.target,l=!e||!e.instance,c=!s||!o,u=n.contains(s)||n.contains(o),d=n===s,f=t.length&&t.some(p=>p==null?void 0:p.contains(s))||t.length&&t.includes(o),h=a&&(a.contains(s)||a.contains(o));l||c||u||d||f||h||e.value(r,i)}}const ld={beforeMount(n,e){cf.has(n)||cf.set(n,[]),cf.get(n).push({documentHandler:lF(n,e),bindingFn:e.value})},updated(n,e){cf.has(n)||cf.set(n,[]);const t=cf.get(n),r=t.findIndex(a=>a.bindingFn===e.oldValue),i={documentHandler:lF(n,e),bindingFn:e.value};r>=0?t.splice(r,1,i):t.push(i)},unmounted(n){cf.delete(n)}},twe="ElCascader",nwe=Ie({name:twe}),rwe=Ie({...nwe,props:J_e,emits:ewe,setup(n,{expose:e,emit:t}){const r=n,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:he})=>{const{modifiersData:Ae,placement:ye}=he;["right","left","bottom","top"].includes(ye)||(Ae.arrow.x=35)},requires:["arrow"]}]},a=hh();let s=0,o=0;const l=bt("cascader"),c=bt("input"),{t:u}=rr(),{form:d,formItem:f}=is(),{valueOnClear:h}=pT(r),{isComposing:p,handleComposition:m}=Y_({afterComposition(he){var Ae;const ye=(Ae=he.target)==null?void 0:Ae.value;$(ye)}}),v=ee(null),g=ee(null),y=ee(null),b=ee(null),_=ee(null),x=ee(!1),S=ee(!1),T=ee(!1),C=ee(!1),M=ee(""),A=ee(""),I=ee([]),D=ee([]),L=ee([]),F=U(()=>a.style),B=U(()=>r.disabled||(d==null?void 0:d.disabled)),k=U(()=>r.placeholder||u("el.cascader.placeholder")),H=U(()=>A.value||I.value.length>0||p.value?"":k.value),z=Xi(),O=U(()=>z.value==="small"?"small":"default"),G=U(()=>!!r.props.multiple),X=U(()=>!r.filterable||G.value),J=U(()=>G.value?A.value:M.value),Q=U(()=>{var he;return((he=b.value)==null?void 0:he.checkedNodes)||[]}),re=U(()=>!r.clearable||B.value||T.value||!S.value?!1:!!Q.value.length),de=U(()=>{const{showAllLevels:he,separator:Ae}=r,ye=Q.value;return ye.length?G.value?"":ye[0].calcText(he,Ae):""}),le=U(()=>(f==null?void 0:f.validateState)||""),fe=U({get(){return gC(r.modelValue)},set(he){const Ae=he??h.value;t(Mn,Ae),t(Rr,Ae),r.validateEvent&&(f==null||f.validate("change").catch(ye=>void 0))}}),Ee=U(()=>[l.b(),l.m(z.value),l.is("disabled",B.value),a.class]),Re=U(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",x.value)]),He=U(()=>l.is("focus",x.value||C.value)),$e=U(()=>{var he,Ae;return(Ae=(he=v.value)==null?void 0:he.popperRef)==null?void 0:Ae.contentRef}),K=he=>{var Ae,ye,Se;B.value||(he=he??!x.value,he!==x.value&&(x.value=he,(ye=(Ae=g.value)==null?void 0:Ae.input)==null||ye.setAttribute("aria-expanded",`${he}`),he?(ce(),Yt((Se=b.value)==null?void 0:Se.scrollToExpandingNode)):r.filterable&&Ne(),t("visibleChange",he)))},ce=()=>{Yt(()=>{var he;(he=v.value)==null||he.updatePopper()})},ie=()=>{T.value=!1},Ue=he=>{const{showAllLevels:Ae,separator:ye}=r;return{node:he,key:he.uid,text:he.calcText(Ae,ye),hitState:!1,closable:!B.value&&!he.isDisabled,isCollapseTag:!1}},De=he=>{var Ae;const ye=he.node;ye.doCheck(!1),(Ae=b.value)==null||Ae.calculateCheckedValue(),t("removeTag",ye.valueByOption)},Ye=()=>{if(!G.value)return;const he=Q.value,Ae=[],ye=[];if(he.forEach(Se=>ye.push(Ue(Se))),D.value=ye,he.length){he.slice(0,r.maxCollapseTags).forEach(Te=>Ae.push(Ue(Te)));const Se=he.slice(r.maxCollapseTags),ft=Se.length;ft&&(r.collapseTags?Ae.push({key:-1,text:`+ ${ft}`,closable:!1,isCollapseTag:!0}):Se.forEach(Te=>Ae.push(Ue(Te))))}I.value=Ae},ze=()=>{var he,Ae;const{filterMethod:ye,showAllLevels:Se,separator:ft}=r,Te=(Ae=(he=b.value)==null?void 0:he.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Ae.filter(_t=>_t.isDisabled?!1:(_t.calcText(Se,ft),ye(_t,J.value)));G.value&&(I.value.forEach(_t=>{_t.hitState=!1}),D.value.forEach(_t=>{_t.hitState=!1})),T.value=!0,L.value=Te,ce()},Ve=()=>{var he;let Ae;T.value&&_.value?Ae=_.value.$el.querySelector(`.${l.e("suggestion-item")}`):Ae=(he=b.value)==null?void 0:he.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Ae&&(Ae.focus(),!T.value&&Ae.click())},Je=()=>{var he,Ae;const ye=(he=g.value)==null?void 0:he.input,Se=y.value,ft=(Ae=_.value)==null?void 0:Ae.$el;if(!(!nr||!ye)){if(ft){const Te=ft.querySelector(`.${l.e("suggestion-list")}`);Te.style.minWidth=`${ye.offsetWidth}px`}if(Se){const{offsetHeight:Te}=Se,_t=I.value.length>0?`${Math.max(Te,s)-2}px`:`${s}px`;ye.style.height=_t,ce()}}},pe=he=>{var Ae;return(Ae=b.value)==null?void 0:Ae.getCheckedNodes(he)},W=he=>{ce(),t("expandChange",he)},Z=he=>{if(!p.value)switch(he.code){case Nt.enter:case Nt.numpadEnter:K();break;case Nt.down:K(!0),Yt(Ve),he.preventDefault();break;case Nt.esc:x.value===!0&&(he.preventDefault(),he.stopPropagation(),K(!1));break;case Nt.tab:K(!1);break}},ve=()=>{var he;(he=b.value)==null||he.clearCheckedNodes(),!x.value&&r.filterable&&Ne(),K(!1),t("clear")},Ne=()=>{const{value:he}=de;M.value=he,A.value=he},Ke=he=>{var Ae,ye;const{checked:Se}=he;G.value?(Ae=b.value)==null||Ae.handleCheckChange(he,!Se,!1):(!Se&&((ye=b.value)==null||ye.handleCheckChange(he,!0,!1)),K(!1))},mt=he=>{const Ae=he.target,{code:ye}=he;switch(ye){case Nt.up:case Nt.down:{const Se=ye===Nt.up?-1:1;h2(MY(Ae,Se,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Nt.enter:case Nt.numpadEnter:Ae.click();break}},vt=()=>{const he=I.value,Ae=he[he.length-1];o=A.value?0:o+1,!(!Ae||!o||r.collapseTags&&he.length>1)&&(Ae.hitState?De(Ae):Ae.hitState=!0)},Me=he=>{const Ae=he.target,ye=l.e("search-input");Ae.className===ye&&(C.value=!0),t("focus",he)},ht=he=>{C.value=!1,t("blur",he)},st=go(()=>{const{value:he}=J;if(!he)return;const Ae=r.beforeFilter(he);Sb(Ae)?Ae.then(ze).catch(()=>{}):Ae!==!1?ze():ie()},r.debounce),$=(he,Ae)=>{!x.value&&K(!0),!(Ae!=null&&Ae.isComposing)&&(he?st():ie())},ge=he=>Number.parseFloat(Cme(c.cssVarName("input-height"),he).value)-2;return dt(T,ce),dt([Q,B,()=>r.collapseTags],Ye),dt(I,()=>{Yt(()=>Je())}),dt(z,async()=>{await Yt();const he=g.value.input;s=ge(he)||s,Je()}),dt(de,Ne,{immediate:!0}),pn(()=>{const he=g.value.input,Ae=ge(he);s=he.offsetHeight||Ae,ui(he,Je)}),e({getCheckedNodes:pe,cascaderPanelRef:b,togglePopperVisible:K,contentRef:$e,presentText:de}),(he,Ae)=>(V(),rt(w(ns),{ref_key:"tooltipRef",ref:v,visible:x.value,teleported:he.teleported,"popper-class":[w(l).e("dropdown"),he.popperClass],"popper-options":i,"fallback-placements":he.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:he.placement,transition:`${w(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:he.persistent,onHide:ie},{default:be(()=>[Sn((V(),ue("div",{class:j(w(Ee)),style:Bt(w(F)),onClick:()=>K(w(X)?void 0:!0),onKeydown:Z,onMouseenter:ye=>S.value=!0,onMouseleave:ye=>S.value=!1},[se(w(xs),{ref_key:"input",ref:g,modelValue:M.value,"onUpdate:modelValue":ye=>M.value=ye,placeholder:w(H),readonly:w(X),disabled:w(B),"validate-event":!1,size:w(z),class:j(w(He)),tabindex:w(G)&&he.filterable&&!w(B)?-1:void 0,onCompositionstart:w(m),onCompositionupdate:w(m),onCompositionend:w(m),onFocus:Me,onBlur:ht,onInput:$},{suffix:be(()=>[w(re)?(V(),rt(w(Vt),{key:"clear",class:j([w(c).e("icon"),"icon-circle-close"]),onClick:sn(ve,["stop"])},{default:be(()=>[se(w(xd))]),_:1},8,["class","onClick"])):(V(),rt(w(Vt),{key:"arrow-down",class:j(w(Re)),onClick:sn(ye=>K(),["stop"])},{default:be(()=>[se(w(wd))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),w(G)?(V(),ue("div",{key:0,ref_key:"tagWrapper",ref:y,class:j([w(l).e("tags"),w(l).is("validate",!!w(le))])},[(V(!0),ue(zt,null,In(I.value,ye=>(V(),rt(w(ag),{key:ye.key,type:he.tagType,size:w(O),effect:he.tagEffect,hit:ye.hitState,closable:ye.closable,"disable-transitions":"",onClose:Se=>De(ye)},{default:be(()=>[ye.isCollapseTag===!1?(V(),ue("span",{key:0},Ct(ye.text),1)):(V(),rt(w(ns),{key:1,disabled:x.value||!he.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:be(()=>[me("span",null,Ct(ye.text),1)]),content:be(()=>[me("div",{class:j(w(l).e("collapse-tags"))},[(V(!0),ue(zt,null,In(D.value.slice(he.maxCollapseTags),(Se,ft)=>(V(),ue("div",{key:ft,class:j(w(l).e("collapse-tag"))},[(V(),rt(w(ag),{key:Se.key,class:"in-tooltip",type:he.tagType,size:w(O),effect:he.tagEffect,hit:Se.hitState,closable:Se.closable,"disable-transitions":"",onClose:Te=>De(Se)},{default:be(()=>[me("span",null,Ct(Se.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),he.filterable&&!w(B)?Sn((V(),ue("input",{key:0,"onUpdate:modelValue":ye=>A.value=ye,type:"text",class:j(w(l).e("search-input")),placeholder:w(de)?"":w(k),onInput:ye=>$(A.value,ye),onClick:sn(ye=>K(!0),["stop"]),onKeydown:Ur(vt,["delete"]),onCompositionstart:w(m),onCompositionupdate:w(m),onCompositionend:w(m),onFocus:Me,onBlur:ht},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[aT,A.value]]):Qe("v-if",!0)],2)):Qe("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[w(ld),()=>K(!1),w($e)]])]),content:be(()=>[Sn(se(w(wX),{ref_key:"cascaderPanelRef",ref:b,modelValue:w(fe),"onUpdate:modelValue":ye=>Kr(fe)?fe.value=ye:null,options:he.options,props:r.props,border:!1,"render-label":he.$slots.default,onExpandChange:W,onClose:ye=>he.$nextTick(()=>K(!1))},{empty:be(()=>[Ze(he.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[fr,!T.value]]),he.filterable?Sn((V(),rt(w(du),{key:0,ref_key:"suggestionPanel",ref:_,tag:"ul",class:j(w(l).e("suggestion-panel")),"view-class":w(l).e("suggestion-list"),onKeydown:mt},{default:be(()=>[L.value.length?(V(!0),ue(zt,{key:0},In(L.value,ye=>(V(),ue("li",{key:ye.uid,class:j([w(l).e("suggestion-item"),w(l).is("checked",ye.checked)]),tabindex:-1,onClick:Se=>Ke(ye)},[me("span",null,Ct(ye.text),1),ye.checked?(V(),rt(w(Vt),{key:0},{default:be(()=>[se(w(q_))]),_:1})):Qe("v-if",!0)],10,["onClick"]))),128)):Ze(he.$slots,"empty",{key:1},()=>[me("li",{class:j(w(l).e("empty-text"))},Ct(w(u)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[fr,T.value]]):Qe("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var iwe=Pt(rwe,[["__file","cascader.vue"]]);const awe=gn(iwe),swe=Rt({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),owe={"update:checked":n=>Vr(n),[Rr]:n=>Vr(n)},lwe=Ie({name:"ElCheckTag"}),cwe=Ie({...lwe,props:swe,emits:owe,setup(n,{emit:e}){const t=n,r=bt("check-tag"),i=U(()=>t.disabled),a=U(()=>[r.b(),r.is("checked",t.checked),r.is("disabled",i.value),r.m(t.type||"primary")]),s=()=>{if(i.value)return;const o=!t.checked;e(Rr,o),e("update:checked",o)};return(o,l)=>(V(),ue("span",{class:j(w(a)),onClick:s},[Ze(o.$slots,"default")],2))}});var uwe=Pt(cwe,[["__file","check-tag.vue"]]);const dwe=gn(uwe),fwe=Rt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:We([Number,Object]),default:()=>_i({})},sm:{type:We([Number,Object]),default:()=>_i({})},md:{type:We([Number,Object]),default:()=>_i({})},lg:{type:We([Number,Object]),default:()=>_i({})},xl:{type:We([Number,Object]),default:()=>_i({})}}),xX=Symbol("rowContextKey"),hwe=Ie({name:"ElCol"}),pwe=Ie({...hwe,props:fwe,setup(n){const e=n,{gutter:t}=Ot(xX,{gutter:U(()=>0)}),r=bt("col"),i=U(()=>{const s={};return t.value&&(s.paddingLeft=s.paddingRight=`${t.value/2}px`),s}),a=U(()=>{const s=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];en(u)&&(c==="span"?s.push(r.b(`${e[c]}`)):u>0&&s.push(r.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{en(e[c])?s.push(r.b(`${c}-${e[c]}`)):Pn(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{s.push(u!=="span"?r.b(`${c}-${u}-${d}`):r.b(`${c}-${d}`))})}),t.value&&s.push(r.is("guttered")),[r.b(),s]});return(s,o)=>(V(),rt(Nn(s.tag),{class:j(w(a)),style:Bt(w(i))},{default:be(()=>[Ze(s.$slots,"default")]),_:3},8,["class","style"]))}});var mwe=Pt(pwe,[["__file","col.vue"]]);const vwe=gn(mwe),cF=n=>en(n)||qt(n)||Tt(n),gwe=Rt({accordion:Boolean,modelValue:{type:We([Array,String,Number]),default:()=>_i([])}}),ywe={[Mn]:cF,[Rr]:cF},SX=Symbol("collapseContextKey"),bwe=(n,e)=>{const t=ee(bs(n.modelValue)),r=a=>{t.value=a;const s=n.accordion?t.value[0]:t.value;e(Mn,s),e(Rr,s)},i=a=>{if(n.accordion)r([t.value[0]===a?"":a]);else{const s=[...t.value],o=s.indexOf(a);o>-1?s.splice(o,1):s.push(a),r(s)}};return dt(()=>n.modelValue,()=>t.value=bs(n.modelValue),{deep:!0}),$n(SX,{activeNames:t,handleItemClick:i}),{activeNames:t,setActiveNames:r}},_we=()=>{const n=bt("collapse");return{rootKls:U(()=>n.b())}},wwe=Ie({name:"ElCollapse"}),xwe=Ie({...wwe,props:gwe,emits:ywe,setup(n,{expose:e,emit:t}){const r=n,{activeNames:i,setActiveNames:a}=bwe(r,t),{rootKls:s}=_we();return e({activeNames:i,setActiveNames:a}),(o,l)=>(V(),ue("div",{class:j(w(s))},[Ze(o.$slots,"default")],2))}});var Swe=Pt(xwe,[["__file","collapse.vue"]]);const Cwe=Ie({name:"ElCollapseTransition"}),Mwe=Ie({...Cwe,setup(n){const e=bt("collapse-transition"),t=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){t(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){t(i)},leaveCancelled(i){t(i)}};return(i,a)=>(V(),rt(ca,Hn({name:w(e).b()},Noe(r)),{default:be(()=>[Ze(i.$slots,"default")]),_:3},16,["name"]))}});var Twe=Pt(Mwe,[["__file","collapse-transition.vue"]]);const ST=gn(Twe),Awe=Rt({title:{type:String,default:""},name:{type:We([String,Number]),default:void 0},icon:{type:kr,default:Hs},disabled:Boolean}),Ewe=n=>{const e=Ot(SX),{namespace:t}=bt("collapse"),r=ee(!1),i=ee(!1),a=Yk(),s=U(()=>a.current++),o=U(()=>{var f;return(f=n.name)!=null?f:`${t.value}-id-${a.prefix}-${w(s)}`}),l=U(()=>e==null?void 0:e.activeNames.value.includes(w(o)));return{focusing:r,id:s,isActive:l,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e==null||e.handleItemClick(w(o)),r.value=!1,i.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(w(o))}}},Iwe=(n,{focusing:e,isActive:t,id:r})=>{const i=bt("collapse"),a=U(()=>[i.b("item"),i.is("active",w(t)),i.is("disabled",n.disabled)]),s=U(()=>[i.be("item","header"),i.is("active",w(t)),{focusing:w(e)&&!n.disabled}]),o=U(()=>[i.be("item","arrow"),i.is("active",w(t))]),l=U(()=>i.be("item","wrap")),c=U(()=>i.be("item","content")),u=U(()=>i.b(`content-${w(r)}`)),d=U(()=>i.b(`head-${w(r)}`));return{arrowKls:o,headKls:s,rootKls:a,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},Rwe=Ie({name:"ElCollapseItem"}),Pwe=Ie({...Rwe,props:Awe,setup(n,{expose:e}){const t=n,{focusing:r,id:i,isActive:a,handleFocus:s,handleHeaderClick:o,handleEnterClick:l}=Ewe(t),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:f,itemContentKls:h,scopedContentId:p,scopedHeadId:m}=Iwe(t,{focusing:r,isActive:a,id:i});return e({isActive:a}),(v,g)=>(V(),ue("div",{class:j(w(d))},[me("button",{id:w(m),class:j(w(u)),"aria-expanded":w(a),"aria-controls":w(p),"aria-describedby":w(p),tabindex:v.disabled?-1:0,type:"button",onClick:w(o),onKeydown:Ur(sn(w(l),["stop","prevent"]),["space","enter"]),onFocus:w(s),onBlur:y=>r.value=!1},[Ze(v.$slots,"title",{},()=>[dn(Ct(v.title),1)]),Ze(v.$slots,"icon",{isActive:w(a)},()=>[se(w(Vt),{class:j(w(c))},{default:be(()=>[(V(),rt(Nn(v.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),se(w(ST),null,{default:be(()=>[Sn(me("div",{id:w(p),role:"region",class:j(w(f)),"aria-hidden":!w(a),"aria-labelledby":w(m)},[me("div",{class:j(w(h))},[Ze(v.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[fr,w(a)]])]),_:3})],2))}});var CX=Pt(Pwe,[["__file","collapse-item.vue"]]);const Dwe=gn(Swe,{CollapseItem:CX}),kwe=Si(CX),Lwe=Rt({color:{type:We(Object),required:!0},vertical:{type:Boolean,default:!1}});let M3=!1;function $b(n,e){if(!nr)return;const t=function(a){var s;(s=e.drag)==null||s.call(e,a)},r=function(a){var s;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,M3=!1,(s=e.end)==null||s.call(e,a)},i=function(a){var s;M3||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",t),document.addEventListener("mouseup",r),document.addEventListener("touchmove",t),document.addEventListener("touchend",r),M3=!0,(s=e.start)==null||s.call(e,a))};n.addEventListener("mousedown",i),n.addEventListener("touchstart",i,{passive:!1})}const Nwe=(n,e)=>{if(!nr||!n||!e)return!1;const t=n.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<r.bottom&&t.bottom>r.top&&t.right>r.left&&t.left<r.right},uF=n=>{let e=0,t=n;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e},M5=(n,e)=>Math.abs(uF(n)-uF(e)),dL=n=>{let e,t;return n.type==="touchend"?(t=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(t=n.touches[0].clientY,e=n.touches[0].clientX):(t=n.clientY,e=n.clientX),{clientX:e,clientY:t}},Owe=n=>{const e=Dn(),{t}=rr(),r=Ir(),i=Ir(),a=U(()=>n.color.get("alpha")),s=U(()=>t("el.colorpicker.alphaLabel"));function o(d){var f;d.target!==r.value&&l(d),(f=r.value)==null||f.focus()}function l(d){if(!i.value||!r.value)return;const h=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:m}=dL(d);if(n.vertical){let v=m-h.top;v=Math.max(r.value.offsetHeight/2,v),v=Math.min(v,h.height-r.value.offsetHeight/2),n.color.set("alpha",Math.round((v-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let v=p-h.left;v=Math.max(r.value.offsetWidth/2,v),v=Math.min(v,h.width-r.value.offsetWidth/2),n.color.set("alpha",Math.round((v-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function c(d){const{code:f,shiftKey:h}=d,p=h?10:1;switch(f){case Nt.left:case Nt.down:d.preventDefault(),d.stopPropagation(),u(-p);break;case Nt.right:case Nt.up:d.preventDefault(),d.stopPropagation(),u(p);break}}function u(d){let f=a.value+d;f=f<0?0:f>100?100:f,n.color.set("alpha",f)}return{thumb:r,bar:i,alpha:a,alphaLabel:s,handleDrag:l,handleClick:o,handleKeydown:c}},Bwe=(n,{bar:e,thumb:t,handleDrag:r})=>{const i=Dn(),a=bt("color-alpha-slider"),s=ee(0),o=ee(0),l=ee();function c(){if(!t.value||n.vertical)return 0;const y=i.vnode.el,b=n.color.get("alpha");return y?Math.round(b*(y.offsetWidth-t.value.offsetWidth/2)/100):0}function u(){if(!t.value)return 0;const y=i.vnode.el;if(!n.vertical)return 0;const b=n.color.get("alpha");return y?Math.round(b*(y.offsetHeight-t.value.offsetHeight/2)/100):0}function d(){if(n.color&&n.color.value){const{r:y,g:b,b:_}=n.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${b}, ${_}, 0) 0%, rgba(${y}, ${b}, ${_}, 1) 100%)`}return""}function f(){s.value=c(),o.value=u(),l.value=d()}pn(()=>{if(!e.value||!t.value)return;const y={drag:b=>{r(b)},end:b=>{r(b)}};$b(e.value,y),$b(t.value,y),f()}),dt(()=>n.color.get("alpha"),()=>f()),dt(()=>n.color.value,()=>f());const h=U(()=>[a.b(),a.is("vertical",n.vertical)]),p=U(()=>a.e("bar")),m=U(()=>a.e("thumb")),v=U(()=>({background:l.value})),g=U(()=>({left:Pi(s.value),top:Pi(o.value)}));return{rootKls:h,barKls:p,barStyle:v,thumbKls:m,thumbStyle:g,update:f}},Fwe="ElColorAlphaSlider",zwe=Ie({name:Fwe}),Uwe=Ie({...zwe,props:Lwe,setup(n,{expose:e}){const t=n,{alpha:r,alphaLabel:i,bar:a,thumb:s,handleDrag:o,handleClick:l,handleKeydown:c}=Owe(t),{rootKls:u,barKls:d,barStyle:f,thumbKls:h,thumbStyle:p,update:m}=Bwe(t,{bar:a,thumb:s,handleDrag:o});return e({update:m,bar:a,thumb:s}),(v,g)=>(V(),ue("div",{class:j(w(u))},[me("div",{ref_key:"bar",ref:a,class:j(w(d)),style:Bt(w(f)),onClick:w(l)},null,14,["onClick"]),me("div",{ref_key:"thumb",ref:s,class:j(w(h)),style:Bt(w(p)),"aria-label":w(i),"aria-valuenow":w(r),"aria-orientation":v.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:w(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var Hwe=Pt(Uwe,[["__file","alpha-slider.vue"]]);const Vwe=Ie({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=bt("color-hue-slider"),t=Dn(),r=ee(),i=ee(),a=ee(0),s=ee(0),o=U(()=>n.color.get("hue"));dt(()=>o.value,()=>{f()});function l(h){h.target!==r.value&&c(h)}function c(h){if(!i.value||!r.value)return;const m=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:g}=dL(h);let y;if(n.vertical){let b=g-m.top;b=Math.min(b,m.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),y=Math.round((b-r.value.offsetHeight/2)/(m.height-r.value.offsetHeight)*360)}else{let b=v-m.left;b=Math.min(b,m.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),y=Math.round((b-r.value.offsetWidth/2)/(m.width-r.value.offsetWidth)*360)}n.color.set("hue",y)}function u(){if(!r.value)return 0;const h=t.vnode.el;if(n.vertical)return 0;const p=n.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function d(){if(!r.value)return 0;const h=t.vnode.el;if(!n.vertical)return 0;const p=n.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function f(){a.value=u(),s.value=d()}return pn(()=>{if(!i.value||!r.value)return;const h={drag:p=>{c(p)},end:p=>{c(p)}};$b(i.value,h),$b(r.value,h),f()}),{bar:i,thumb:r,thumbLeft:a,thumbTop:s,hueValue:o,handleClick:l,update:f,ns:e}}});function $we(n,e,t,r,i,a){return V(),ue("div",{class:j([n.ns.b(),n.ns.is("vertical",n.vertical)])},[me("div",{ref:"bar",class:j(n.ns.e("bar")),onClick:n.handleClick},null,10,["onClick"]),me("div",{ref:"thumb",class:j(n.ns.e("thumb")),style:Bt({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,6)],2)}var Gwe=Pt(Vwe,[["render",$we],["__file","hue-slider.vue"]]);const Wwe=Rt({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:Ji,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:ba.teleported,predefine:{type:We(Array)},validateEvent:{type:Boolean,default:!0},...Ua(["ariaLabel"])}),qwe={[Mn]:n=>qt(n)||ma(n),[Rr]:n=>qt(n)||ma(n),activeChange:n=>qt(n)||ma(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},MX=Symbol("colorPickerContextKey"),dF=function(n,e,t){return[n,e*t/((n=(2-e)*t)<1?n:2-n)||0,n/2]},Kwe=function(n){return qt(n)&&n.includes(".")&&Number.parseFloat(n)===1},Ywe=function(n){return qt(n)&&n.includes("%")},Rv=function(n,e){Kwe(n)&&(n="100%");const t=Ywe(n);return n=Math.min(e,Math.max(0,Number.parseFloat(`${n}`))),t&&(n=Number.parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/Number.parseFloat(e)},fF={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},m2=n=>{n=Math.min(Math.round(n),255);const e=Math.floor(n/16),t=n%16;return`${fF[e]||e}${fF[t]||t}`},hF=function({r:n,g:e,b:t}){return Number.isNaN(+n)||Number.isNaN(+e)||Number.isNaN(+t)?"":`#${m2(n)}${m2(e)}${m2(t)}`},T3={A:10,B:11,C:12,D:13,E:14,F:15},Th=function(n){return n.length===2?(T3[n[0].toUpperCase()]||+n[0])*16+(T3[n[1].toUpperCase()]||+n[1]):T3[n[1].toUpperCase()]||+n[1]},Xwe=function(n,e,t){e=e/100,t=t/100;let r=e;const i=Math.max(t,.01);t*=2,e*=t<=1?t:2-t,r*=i<=1?i:2-i;const a=(t+e)/2,s=t===0?2*r/(i+r):2*e/(t+e);return{h:n,s:s*100,v:a*100}},pF=(n,e,t)=>{n=Rv(n,255),e=Rv(e,255),t=Rv(t,255);const r=Math.max(n,e,t),i=Math.min(n,e,t);let a;const s=r,o=r-i,l=r===0?0:o/r;if(r===i)a=0;else{switch(r){case n:{a=(e-t)/o+(e<t?6:0);break}case e:{a=(t-n)/o+2;break}case t:{a=(n-e)/o+4;break}}a/=6}return{h:a*360,s:l*100,v:s*100}},Iy=function(n,e,t){n=Rv(n,360)*6,e=Rv(e,100),t=Rv(t,100);const r=Math.floor(n),i=n-r,a=t*(1-e),s=t*(1-i*e),o=t*(1-(1-i)*e),l=r%6,c=[t,s,a,a,o,t][l],u=[o,t,t,s,a,a][l],d=[a,a,o,t,t,s][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(d*255)}};let V1=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const t in e)sr(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(arguments.length===1&&typeof e=="object"){for(const r in e)sr(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=t,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Iy(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const t=(r,i,a)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:s}=Xwe(r[0],r[1],r[2]);t(i,a,s)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&t(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:s}=pF(r[0],r[1],r[2]);t(i,a,s)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,a,s;r.length===3?(i=Th(r[0]+r[0]),a=Th(r[1]+r[1]),s=Th(r[2]+r[2])):(r.length===6||r.length===8)&&(i=Th(r.slice(0,2)),a=Th(r.slice(2,4)),s=Th(r.slice(4,6))),r.length===8?this._alpha=Th(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:o,s:l,v:c}=pF(i,a,s);t(o,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:r,_alpha:i,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const s=dF(e,t/100,r/100);this.value=`hsla(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${hF(Iy(e,t,r))}${m2(i*255/100)}`;break}default:{const{r:s,g:o,b:l}=Iy(e,t,r);this.value=`rgba(${s}, ${o}, ${l}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const s=dF(e,t/100,r/100);this.value=`hsl(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:s,g:o,b:l}=Iy(e,t,r);this.value=`rgb(${s}, ${o}, ${l})`;break}default:this.value=hF(Iy(e,t,r))}}};const jwe=Ie({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(n){const e=bt("color-predefine"),{currentColor:t}=Ot(MX),r=ee(a(n.colors,n.color));dt(()=>t.value,s=>{const o=new V1;o.fromString(s),r.value.forEach(l=>{l.selected=o.compare(l)})}),Ta(()=>{r.value=a(n.colors,n.color)});function i(s){n.color.fromString(n.colors[s])}function a(s,o){return s.map(l=>{const c=new V1;return c.enableAlpha=n.enableAlpha,c.format="rgba",c.fromString(l),c.selected=c.value===o.value,c})}return{rgbaColors:r,handleSelect:i,ns:e}}});function Zwe(n,e,t,r,i,a){return V(),ue("div",{class:j(n.ns.b())},[me("div",{class:j(n.ns.e("colors"))},[(V(!0),ue(zt,null,In(n.rgbaColors,(s,o)=>(V(),ue("div",{key:n.colors[o],class:j([n.ns.e("color-selector"),n.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:l=>n.handleSelect(o)},[me("div",{style:Bt({backgroundColor:s.value})},null,4)],10,["onClick"]))),128))],2)],2)}var Qwe=Pt(jwe,[["render",Zwe],["__file","predefine.vue"]]);const Jwe=Ie({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=bt("color-svpanel"),t=Dn(),r=ee(0),i=ee(0),a=ee("hsl(0, 100%, 50%)"),s=U(()=>{const c=n.color.get("hue"),u=n.color.get("value");return{hue:c,value:u}});function o(){const c=n.color.get("saturation"),u=n.color.get("value"),d=t.vnode.el,{clientWidth:f,clientHeight:h}=d;i.value=c*f/100,r.value=(100-u)*h/100,a.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function l(c){const d=t.vnode.el.getBoundingClientRect(),{clientX:f,clientY:h}=dL(c);let p=f-d.left,m=h-d.top;p=Math.max(0,p),p=Math.min(p,d.width),m=Math.max(0,m),m=Math.min(m,d.height),i.value=p,r.value=m,n.color.set({saturation:p/d.width*100,value:100-m/d.height*100})}return dt(()=>s.value,()=>{o()}),pn(()=>{$b(t.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),o()}),{cursorTop:r,cursorLeft:i,background:a,colorValue:s,handleDrag:l,update:o,ns:e}}});function exe(n,e,t,r,i,a){return V(),ue("div",{class:j(n.ns.b()),style:Bt({backgroundColor:n.background})},[me("div",{class:j(n.ns.e("white"))},null,2),me("div",{class:j(n.ns.e("black"))},null,2),me("div",{class:j(n.ns.e("cursor")),style:Bt({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},[me("div")],6)],6)}var txe=Pt(Jwe,[["render",exe],["__file","sv-panel.vue"]]);const nxe=Ie({name:"ElColorPicker"}),rxe=Ie({...nxe,props:Wwe,emits:qwe,setup(n,{expose:e,emit:t}){const r=n,{t:i}=rr(),a=bt("color"),{formItem:s}=is(),o=Xi(),l=as(),{inputId:c,isLabeledByFormItem:u}=Ol(r,{formItemContext:s}),d=ee(),f=ee(),h=ee(),p=ee(),m=ee(),v=ee(),{isFocused:g,handleFocus:y,handleBlur:b}=mh(m,{beforeFocus(){return l.value},beforeBlur(Re){var He;return(He=p.value)==null?void 0:He.isFocusInsideContent(Re)},afterBlur(){B(!1),O()}});let _=!0;const x=mr(new V1({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),S=ee(!1),T=ee(!1),C=ee(""),M=U(()=>!r.modelValue&&!T.value?"transparent":F(x,r.showAlpha)),A=U(()=>!r.modelValue&&!T.value?"":x.value),I=U(()=>u.value?void 0:r.ariaLabel||i("el.colorpicker.defaultLabel")),D=U(()=>u.value?s==null?void 0:s.labelId:void 0),L=U(()=>[a.b("picker"),a.is("disabled",l.value),a.bm("picker",o.value),a.is("focused",g.value)]);function F(Re,He){if(!(Re instanceof V1))throw new TypeError("color should be instance of _color Class");const{r:$e,g:K,b:ce}=Re.toRgb();return He?`rgba(${$e}, ${K}, ${ce}, ${Re.get("alpha")/100})`:`rgb(${$e}, ${K}, ${ce})`}function B(Re){S.value=Re}const k=go(B,100,{leading:!0});function H(){l.value||B(!0)}function z(){k(!1),O()}function O(){Yt(()=>{r.modelValue?x.fromString(r.modelValue):(x.value="",Yt(()=>{T.value=!1}))})}function G(){l.value||k(!S.value)}function X(){x.fromString(C.value)}function J(){const Re=x.value;t(Mn,Re),t("change",Re),r.validateEvent&&(s==null||s.validate("change").catch(He=>void 0)),k(!1),Yt(()=>{const He=new V1({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});x.compare(He)||O()})}function Q(){k(!1),t(Mn,null),t("change",null),r.modelValue!==null&&r.validateEvent&&(s==null||s.validate("change").catch(Re=>void 0)),O()}function re(){S.value&&(z(),g.value&&fe())}function de(Re){Re.preventDefault(),Re.stopPropagation(),B(!1),O()}function le(Re){switch(Re.code){case Nt.enter:case Nt.numpadEnter:case Nt.space:Re.preventDefault(),Re.stopPropagation(),H(),v.value.focus();break;case Nt.esc:de(Re);break}}function fe(){m.value.focus()}function Ee(){m.value.blur()}return pn(()=>{r.modelValue&&(C.value=A.value)}),dt(()=>r.modelValue,Re=>{Re?Re&&Re!==x.value&&(_=!1,x.fromString(Re)):T.value=!1}),dt(()=>[r.colorFormat,r.showAlpha],()=>{x.enableAlpha=r.showAlpha,x.format=r.colorFormat||x.format,x.doOnChange(),t(Mn,x.value)}),dt(()=>A.value,Re=>{C.value=Re,_&&t("activeChange",Re),_=!0}),dt(()=>x.value,()=>{!r.modelValue&&!T.value&&(T.value=!0)}),dt(()=>S.value,()=>{Yt(()=>{var Re,He,$e;(Re=d.value)==null||Re.update(),(He=f.value)==null||He.update(),($e=h.value)==null||$e.update()})}),$n(MX,{currentColor:A}),e({color:x,show:H,hide:z,focus:fe,blur:Ee}),(Re,He)=>(V(),rt(w(ns),{ref_key:"popper",ref:p,visible:S.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[w(a).be("picker","panel"),w(a).b("dropdown"),Re.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Re.teleported,transition:`${w(a).namespace.value}-zoom-in-top`,persistent:"",onHide:$e=>B(!1)},{content:be(()=>[Sn((V(),ue("div",{onKeydown:Ur(de,["esc"])},[me("div",{class:j(w(a).be("dropdown","main-wrapper"))},[se(Gwe,{ref_key:"hue",ref:d,class:"hue-slider",color:w(x),vertical:""},null,8,["color"]),se(txe,{ref_key:"sv",ref:f,color:w(x)},null,8,["color"])],2),Re.showAlpha?(V(),rt(Hwe,{key:0,ref_key:"alpha",ref:h,color:w(x)},null,8,["color"])):Qe("v-if",!0),Re.predefine?(V(),rt(Qwe,{key:1,ref:"predefine","enable-alpha":Re.showAlpha,color:w(x),colors:Re.predefine},null,8,["enable-alpha","color","colors"])):Qe("v-if",!0),me("div",{class:j(w(a).be("dropdown","btns"))},[me("span",{class:j(w(a).be("dropdown","value"))},[se(w(xs),{ref_key:"inputRef",ref:v,modelValue:C.value,"onUpdate:modelValue":$e=>C.value=$e,"validate-event":!1,size:"small",onKeyup:Ur(X,["enter"]),onBlur:X},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),se(w(Aa),{class:j(w(a).be("dropdown","link-btn")),text:"",size:"small",onClick:Q},{default:be(()=>[dn(Ct(w(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),se(w(Aa),{plain:"",size:"small",class:j(w(a).be("dropdown","btn")),onClick:J},{default:be(()=>[dn(Ct(w(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[w(ld),re]])]),default:be(()=>[me("div",Hn({id:w(c),ref_key:"triggerRef",ref:m},Re.$attrs,{class:w(L),role:"button","aria-label":w(I),"aria-labelledby":w(D),"aria-description":w(i)("el.colorpicker.description",{color:Re.modelValue||""}),"aria-disabled":w(l),tabindex:w(l)?-1:Re.tabindex,onKeydown:le,onFocus:w(y),onBlur:w(b)}),[w(l)?(V(),ue("div",{key:0,class:j(w(a).be("picker","mask"))},null,2)):Qe("v-if",!0),me("div",{class:j(w(a).be("picker","trigger")),onClick:G},[me("span",{class:j([w(a).be("picker","color"),w(a).is("alpha",Re.showAlpha)])},[me("span",{class:j(w(a).be("picker","color-inner")),style:Bt({backgroundColor:w(M)})},[Sn(se(w(Vt),{class:j([w(a).be("picker","icon"),w(a).is("icon-arrow-down")])},{default:be(()=>[se(w(wd))]),_:1},8,["class"]),[[fr,Re.modelValue||T.value]]),Sn(se(w(Vt),{class:j([w(a).be("picker","empty"),w(a).is("icon-close")])},{default:be(()=>[se(w(gc))]),_:1},8,["class"]),[[fr,!Re.modelValue&&!T.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var ixe=Pt(rxe,[["__file","color-picker.vue"]]);const axe=gn(ixe),sxe=Rt({a11y:{type:Boolean,default:!0},locale:{type:We(Object)},size:Ji,button:{type:We(Object)},experimentalFeatures:{type:We(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:We(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Wg}),tc={},oxe=Ie({name:"ElConfigProvider",props:sxe,setup(n,{slots:e}){dt(()=>n.message,r=>{Object.assign(tc,r??{})},{immediate:!0,deep:!0});const t=Bk(n);return()=>Ze(e,"default",{config:t==null?void 0:t.value})}}),lxe=gn(oxe),cxe=Ie({name:"ElContainer"}),uxe=Ie({...cxe,props:{direction:{type:String}},setup(n){const e=n,t=ea(),r=bt("container"),i=U(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:t&&t.default?t.default().some(s=>{const o=s.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(a,s)=>(V(),ue("section",{class:j([w(r).b(),w(r).is("vertical",w(i))])},[Ze(a.$slots,"default")],2))}});var dxe=Pt(uxe,[["__file","container.vue"]]);const fxe=Ie({name:"ElAside"}),hxe=Ie({...fxe,props:{width:{type:String,default:null}},setup(n){const e=n,t=bt("aside"),r=U(()=>e.width?t.cssVarBlock({width:e.width}):{});return(i,a)=>(V(),ue("aside",{class:j(w(t).b()),style:Bt(w(r))},[Ze(i.$slots,"default")],6))}});var TX=Pt(hxe,[["__file","aside.vue"]]);const pxe=Ie({name:"ElFooter"}),mxe=Ie({...pxe,props:{height:{type:String,default:null}},setup(n){const e=n,t=bt("footer"),r=U(()=>e.height?t.cssVarBlock({height:e.height}):{});return(i,a)=>(V(),ue("footer",{class:j(w(t).b()),style:Bt(w(r))},[Ze(i.$slots,"default")],6))}});var AX=Pt(mxe,[["__file","footer.vue"]]);const vxe=Ie({name:"ElHeader"}),gxe=Ie({...vxe,props:{height:{type:String,default:null}},setup(n){const e=n,t=bt("header"),r=U(()=>e.height?t.cssVarBlock({height:e.height}):{});return(i,a)=>(V(),ue("header",{class:j(w(t).b()),style:Bt(w(r))},[Ze(i.$slots,"default")],6))}});var EX=Pt(gxe,[["__file","header.vue"]]);const yxe=Ie({name:"ElMain"}),bxe=Ie({...yxe,setup(n){const e=bt("main");return(t,r)=>(V(),ue("main",{class:j(w(e).b())},[Ze(t.$slots,"default")],2))}});var IX=Pt(bxe,[["__file","main.vue"]]);const _xe=gn(dxe,{Aside:TX,Footer:AX,Header:EX,Main:IX}),wxe=Si(TX),xxe=Si(AX),Sxe=Si(EX),Cxe=Si(IX);var RX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},c=function(v){return(v=+v)+(v>68?1900:2e3)},u=function(v){return function(g){this[v]=+g}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var y=g.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(v)}],f=function(v){var g=l[v];return g&&(g.indexOf?g:g.s.concat(g.f))},h=function(v,g){var y,b=l.meridiem;if(b){for(var _=1;_<=24;_+=1)if(v.indexOf(b(_,0,g))>-1){y=_>12;break}}else y=v===(g?"pm":"PM");return y},p={A:[o,function(v){this.afternoon=h(v,!1)}],a:[o,function(v){this.afternoon=h(v,!0)}],Q:[i,function(v){this.month=3*(v-1)+1}],S:[i,function(v){this.milliseconds=100*+v}],SS:[a,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[a,u("day")],Do:[o,function(v){var g=l.ordinal,y=v.match(/\d+/);if(this.day=y[0],g)for(var b=1;b<=31;b+=1)g(b).replace(/\[|\]/g,"")===v&&(this.day=b)}],w:[s,u("week")],ww:[a,u("week")],M:[s,u("month")],MM:[a,u("month")],MMM:[o,function(v){var g=f("months"),y=(f("monthsShort")||g.map(function(b){return b.slice(0,3)})).indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[o,function(v){var g=f("months").indexOf(v)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,u("year")],YY:[a,function(v){this.year=c(v)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(v){var g,y;g=v,y=l&&l.formats;for(var b=(v=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,I,D){var L=D&&D.toUpperCase();return I||y[D]||t[D]||y[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,B,k){return B||k.slice(1)})})).match(r),_=b.length,x=0;x<_;x+=1){var S=b[x],T=p[S],C=T&&T[0],M=T&&T[1];b[x]=M?{regex:C,parser:M}:S.replace(/^\[|\]$/g,"")}return function(A){for(var I={},D=0,L=0;D<_;D+=1){var F=b[D];if(typeof F=="string")L+=F.length;else{var B=F.regex,k=F.parser,H=A.slice(L),z=B.exec(H)[0];k.call(I,z),A=A.replace(z,"")}}return function(O){var G=O.afternoon;if(G!==void 0){var X=O.hours;G?X<12&&(O.hours+=12):X===12&&(O.hours=0),delete O.afternoon}}(I),I}}return function(v,g,y){y.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(c=v.parseTwoDigitYear);var b=g.prototype,_=b.parse;b.parse=function(x){var S=x.date,T=x.utc,C=x.args;this.$u=T;var M=C[1];if(typeof M=="string"){var A=C[2]===!0,I=C[3]===!0,D=A||I,L=C[2];I&&(L=C[2]),l=this.$locale(),!A&&L&&(l=y.Ls[L]),this.$d=function(H,z,O,G){try{if(["x","X"].indexOf(z)>-1)return new Date((z==="X"?1e3:1)*H);var X=m(z)(H),J=X.year,Q=X.month,re=X.day,de=X.hours,le=X.minutes,fe=X.seconds,Ee=X.milliseconds,Re=X.zone,He=X.week,$e=new Date,K=re||(J||Q?1:$e.getDate()),ce=J||$e.getFullYear(),ie=0;J&&!Q||(ie=Q>0?Q-1:$e.getMonth());var Ue,De=de||0,Ye=le||0,ze=fe||0,Ve=Ee||0;return Re?new Date(Date.UTC(ce,ie,K,De,Ye,ze,Ve+60*Re.offset*1e3)):O?new Date(Date.UTC(ce,ie,K,De,Ye,ze,Ve)):(Ue=new Date(ce,ie,K,De,Ye,ze,Ve),He&&(Ue=G(Ue).week(He).toDate()),Ue)}catch{return new Date("")}}(S,M,T,y),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),D&&S!=this.format(M)&&(this.$d=new Date("")),l={}}else if(M instanceof Array)for(var F=M.length,B=1;B<=F;B+=1){C[1]=M[B-1];var k=y.apply(this,C);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}B===F&&(this.$d=new Date(""))}else _.call(this,x)}}})})(RX);var Mxe=RX.exports;const fL=hu(Mxe);var PX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){return function(t,r){var i=r.prototype,a=i.format;i.format=function(s){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(s);var c=this.$utils(),u=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return c.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return a.bind(this)(u)}}})})(PX);var Txe=PX.exports;const Axe=hu(Txe);var DX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){var t="week",r="year";return function(i,a,s){var o=a.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=s(this).startOf(r).add(1,r).date(c),d=s(this).endOf(t);if(u.isBefore(d))return 1}var f=s(this).startOf(r).date(c).startOf(t).subtract(1,"millisecond"),h=this.diff(f,t,!0);return h<0?s(this).startOf("week").week():Math.ceil(h)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(DX);var Exe=DX.exports;const Ixe=hu(Exe);var kX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){return function(t,r){r.prototype.weekYear=function(){var i=this.month(),a=this.week(),s=this.year();return a===1&&i===11?s+1:i===0&&a>=52?s-1:s}}})})(kX);var Rxe=kX.exports;const Pxe=hu(Rxe);var LX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){return function(t,r,i){r.prototype.dayOfYear=function(a){var s=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return a==null?s:this.add(a-s,"day")}}})})(LX);var Dxe=LX.exports;const kxe=hu(Dxe);var NX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){return function(t,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(NX);var Lxe=NX.exports;const Nxe=hu(Lxe);var OX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(fu,function(){return function(t,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(OX);var Oxe=OX.exports;const Bxe=hu(Oxe),mF=["hours","minutes","seconds"],T5="HH:mm:ss",Z0="YYYY-MM-DD",Fxe={date:Z0,dates:Z0,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${Z0} ${T5}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Z0,datetimerange:`${Z0} ${T5}`},BX=Rt({disabledHours:{type:We(Function)},disabledMinutes:{type:We(Function)},disabledSeconds:{type:We(Function)}}),FX=Rt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),hL=Rt({id:{type:We([Array,String])},name:{type:We([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:We([String,Object]),default:xd},editable:{type:Boolean,default:!0},prefixIcon:{type:We([String,Object]),default:""},size:Ji,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:We(Object),default:()=>({})},modelValue:{type:We([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:We([Date,Array])},defaultTime:{type:We([Date,Array])},isRange:Boolean,...BX,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:We([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:We(String),values:Sd,default:"bottom"},fallbackPlacements:{type:We(Array),default:["bottom","top","right","left"]},...Wg,...Ua(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),zxe=Rt({id:{type:We(Array)},name:{type:We(Array)},modelValue:{type:We([Array,String])},startPlaceholder:String,endPlaceholder:String}),Uxe=Ie({name:"PickerRangeTrigger",inheritAttrs:!1}),Hxe=Ie({...Uxe,props:zxe,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(n,{expose:e,emit:t}){const r=K_(),i=bt("date"),a=bt("range"),s=ee(),o=ee(),{wrapperRef:l,isFocused:c}=mh(s),u=_=>{t("click",_)},d=_=>{t("mouseenter",_)},f=_=>{t("mouseleave",_)},h=_=>{t("mouseenter",_)},p=_=>{t("startInput",_)},m=_=>{t("endInput",_)},v=_=>{t("startChange",_)},g=_=>{t("endChange",_)};return e({focus:()=>{var _;(_=s.value)==null||_.focus()},blur:()=>{var _,x;(_=s.value)==null||_.blur(),(x=o.value)==null||x.blur()}}),(_,x)=>(V(),ue("div",{ref_key:"wrapperRef",ref:l,class:j([w(i).is("active",w(c)),_.$attrs.class]),style:Bt(_.$attrs.style),onClick:u,onMouseenter:d,onMouseleave:f,onTouchstartPassive:h},[Ze(_.$slots,"prefix"),me("input",Hn(w(r),{id:_.id&&_.id[0],ref_key:"inputRef",ref:s,name:_.name&&_.name[0],placeholder:_.startPlaceholder,value:_.modelValue&&_.modelValue[0],class:w(a).b("input"),onInput:p,onChange:v}),null,16,["id","name","placeholder","value"]),Ze(_.$slots,"range-separator"),me("input",Hn(w(r),{id:_.id&&_.id[1],ref_key:"endInputRef",ref:o,name:_.name&&_.name[1],placeholder:_.endPlaceholder,value:_.modelValue&&_.modelValue[1],class:w(a).b("input"),onInput:m,onChange:g}),null,16,["id","name","placeholder","value"]),Ze(_.$slots,"suffix")],38))}});var Vxe=Pt(Hxe,[["__file","picker-range-trigger.vue"]]);const $xe=Ie({name:"Picker"}),Gxe=Ie({...$xe,props:hL,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:t}){const r=n,i=hh(),{lang:a}=rr(),s=bt("date"),o=bt("input"),l=bt("range"),{form:c,formItem:u}=is(),d=Ot("ElPopperOptions",{}),{valueOnClear:f}=pT(r,null),h=ee(),p=ee(),m=ee(!1),v=ee(!1),g=ee(null);let y=!1;const{isFocused:b,handleFocus:_,handleBlur:x}=mh(p,{beforeFocus(){return r.readonly||O.value},afterFocus(){m.value=!0},beforeBlur(ye){var Se;return!y&&((Se=h.value)==null?void 0:Se.isFocusInsideContent(ye))},afterBlur(){Je(),m.value=!1,y=!1,r.validateEvent&&(u==null||u.validate("blur").catch(ye=>void 0))}}),S=U(()=>[s.b("editor"),s.bm("editor",r.type),o.e("wrapper"),s.is("disabled",O.value),s.is("active",m.value),l.b("editor"),De?l.bm("editor",De.value):"",i.class]),T=U(()=>[o.e("icon"),l.e("close-icon"),Ee.value?"":l.e("close-icon--hidden")]);dt(m,ye=>{ye?Yt(()=>{ye&&(g.value=r.modelValue)}):(Ve.value=null,Yt(()=>{C(r.modelValue)}))});const C=(ye,Se)=>{(Se||!eF(ye,g.value))&&(t("change",ye),r.validateEvent&&(u==null||u.validate("change").catch(ft=>void 0)))},M=ye=>{if(!eF(r.modelValue,ye)){let Se;Tt(ye)?Se=ye.map(ft=>nF(ft,r.valueFormat,a.value)):ye&&(Se=nF(ye,r.valueFormat,a.value)),t("update:modelValue",ye&&Se,a.value)}},A=ye=>{t("keydown",ye)},I=U(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),D=(ye,Se,ft)=>{const Te=I.value;Te.length&&(!ft||ft==="min"?(Te[0].setSelectionRange(ye,Se),Te[0].focus()):ft==="max"&&(Te[1].setSelectionRange(ye,Se),Te[1].focus()))},L=(ye="",Se=!1)=>{m.value=Se;let ft;Tt(ye)?ft=ye.map(Te=>Te.toDate()):ft=ye&&ye.toDate(),Ve.value=null,M(ft)},F=()=>{v.value=!0},B=()=>{t("visible-change",!0)},k=()=>{v.value=!1,m.value=!1,t("visible-change",!1)},H=()=>{m.value=!0},z=()=>{m.value=!1},O=U(()=>r.disabled||(c==null?void 0:c.disabled)),G=U(()=>{let ye;if(He.value?ht.value.getDefaultValue&&(ye=ht.value.getDefaultValue()):Tt(r.modelValue)?ye=r.modelValue.map(Se=>tF(Se,r.valueFormat,a.value)):ye=tF(r.modelValue,r.valueFormat,a.value),ht.value.getRangeAvailableTime){const Se=ht.value.getRangeAvailableTime(ye);Fa(Se,ye)||(ye=Se,He.value||M(qw(ye)))}return Tt(ye)&&ye.some(Se=>!Se)&&(ye=[]),ye}),X=U(()=>{if(!ht.value.panelReady)return"";const ye=W(G.value);return Tt(Ve.value)?[Ve.value[0]||ye&&ye[0]||"",Ve.value[1]||ye&&ye[1]||""]:Ve.value!==null?Ve.value:!Q.value&&He.value||!m.value&&He.value?"":ye?re.value||de.value||le.value?ye.join(", "):ye:""}),J=U(()=>r.type.includes("time")),Q=U(()=>r.type.startsWith("time")),re=U(()=>r.type==="dates"),de=U(()=>r.type==="months"),le=U(()=>r.type==="years"),fe=U(()=>r.prefixIcon||(J.value?hY:v0e)),Ee=ee(!1),Re=ye=>{r.readonly||O.value||(Ee.value&&(ye.stopPropagation(),ht.value.handleClear?ht.value.handleClear():M(f.value),C(f.value,!0),Ee.value=!1,k()),t("clear"))},He=U(()=>{const{modelValue:ye}=r;return!ye||Tt(ye)&&!ye.filter(Boolean).length}),$e=async ye=>{var Se;r.readonly||O.value||(((Se=ye.target)==null?void 0:Se.tagName)!=="INPUT"||b.value)&&(m.value=!0)},K=()=>{r.readonly||O.value||!He.value&&r.clearable&&(Ee.value=!0)},ce=()=>{Ee.value=!1},ie=ye=>{var Se;r.readonly||O.value||(((Se=ye.touches[0].target)==null?void 0:Se.tagName)!=="INPUT"||b.value)&&(m.value=!0)},Ue=U(()=>r.type.includes("range")),De=Xi(),Ye=U(()=>{var ye,Se;return(Se=(ye=w(h))==null?void 0:ye.popperRef)==null?void 0:Se.contentRef}),ze=Ok(p,ye=>{const Se=w(Ye),ft=zs(p);Se&&(ye.target===Se||ye.composedPath().includes(Se))||ye.target===ft||ft&&ye.composedPath().includes(ft)||(m.value=!1)});yr(()=>{ze==null||ze()});const Ve=ee(null),Je=()=>{if(Ve.value){const ye=pe(X.value);ye&&Z(ye)&&(M(qw(ye)),Ve.value=null)}Ve.value===""&&(M(f.value),C(f.value),Ve.value=null)},pe=ye=>ye?ht.value.parseUserInput(ye):null,W=ye=>ye?ht.value.formatToString(ye):null,Z=ye=>ht.value.isValidValue(ye),ve=async ye=>{if(r.readonly||O.value)return;const{code:Se}=ye;if(A(ye),Se===Nt.esc){m.value===!0&&(m.value=!1,ye.preventDefault(),ye.stopPropagation());return}if(Se===Nt.down&&(ht.value.handleFocusPicker&&(ye.preventDefault(),ye.stopPropagation()),m.value===!1&&(m.value=!0,await Yt()),ht.value.handleFocusPicker)){ht.value.handleFocusPicker();return}if(Se===Nt.tab){y=!0;return}if(Se===Nt.enter||Se===Nt.numpadEnter){(Ve.value===null||Ve.value===""||Z(pe(X.value)))&&(Je(),m.value=!1),ye.stopPropagation();return}if(Ve.value){ye.stopPropagation();return}ht.value.handleKeydownInput&&ht.value.handleKeydownInput(ye)},Ne=ye=>{Ve.value=ye,m.value||(m.value=!0)},Ke=ye=>{const Se=ye.target;Ve.value?Ve.value=[Se.value,Ve.value[1]]:Ve.value=[Se.value,null]},mt=ye=>{const Se=ye.target;Ve.value?Ve.value=[Ve.value[0],Se.value]:Ve.value=[null,Se.value]},vt=()=>{var ye;const Se=Ve.value,ft=pe(Se&&Se[0]),Te=w(G);if(ft&&ft.isValid()){Ve.value=[W(ft),((ye=X.value)==null?void 0:ye[1])||null];const _t=[ft,Te&&(Te[1]||null)];Z(_t)&&(M(qw(_t)),Ve.value=null)}},Me=()=>{var ye;const Se=w(Ve),ft=pe(Se&&Se[1]),Te=w(G);if(ft&&ft.isValid()){Ve.value=[((ye=w(X))==null?void 0:ye[0])||null,W(ft)];const _t=[Te&&Te[0],ft];Z(_t)&&(M(qw(_t)),Ve.value=null)}},ht=ee({}),st=ye=>{ht.value[ye[0]]=ye[1],ht.value.panelReady=!0},$=ye=>{t("calendar-change",ye)},ge=(ye,Se,ft)=>{t("panel-change",ye,Se,ft)},he=()=>{var ye;(ye=p.value)==null||ye.focus()},Ae=()=>{var ye;(ye=p.value)==null||ye.blur()};return $n("EP_PICKER_BASE",{props:r}),e({focus:he,blur:Ae,handleOpen:H,handleClose:z,onPick:L}),(ye,Se)=>(V(),rt(w(ns),Hn({ref_key:"refPopper",ref:h,visible:m.value,effect:"light",pure:"",trigger:"click"},ye.$attrs,{role:"dialog",teleported:"",transition:`${w(s).namespace.value}-zoom-in-top`,"popper-class":[`${w(s).namespace.value}-picker__popper`,ye.popperClass],"popper-options":w(d),"fallback-placements":ye.fallbackPlacements,"gpu-acceleration":!1,placement:ye.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:F,onShow:B,onHide:k}),{default:be(()=>[w(Ue)?(V(),rt(Vxe,{key:1,id:ye.id,ref_key:"inputRef",ref:p,"model-value":w(X),name:ye.name,disabled:w(O),readonly:!ye.editable||ye.readonly,"start-placeholder":ye.startPlaceholder,"end-placeholder":ye.endPlaceholder,class:j(w(S)),style:Bt(ye.$attrs.style),"aria-label":ye.ariaLabel,tabindex:ye.tabindex,autocomplete:"off",role:"combobox",onClick:$e,onFocus:w(_),onBlur:w(x),onStartInput:Ke,onStartChange:vt,onEndInput:mt,onEndChange:Me,onMousedown:$e,onMouseenter:K,onMouseleave:ce,onTouchstartPassive:ie,onKeydown:ve},{prefix:be(()=>[w(fe)?(V(),rt(w(Vt),{key:0,class:j([w(o).e("icon"),w(l).e("icon")])},{default:be(()=>[(V(),rt(Nn(w(fe))))]),_:1},8,["class"])):Qe("v-if",!0)]),"range-separator":be(()=>[Ze(ye.$slots,"range-separator",{},()=>[me("span",{class:j(w(l).b("separator"))},Ct(ye.rangeSeparator),3)])]),suffix:be(()=>[ye.clearIcon?(V(),rt(w(Vt),{key:0,class:j(w(T)),onMousedown:sn(w(Sr),["prevent"]),onClick:Re},{default:be(()=>[(V(),rt(Nn(ye.clearIcon)))]),_:1},8,["class","onMousedown"])):Qe("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(V(),rt(w(xs),{key:0,id:ye.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":w(X),name:ye.name,size:w(De),disabled:w(O),placeholder:ye.placeholder,class:j([w(s).b("editor"),w(s).bm("editor",ye.type),ye.$attrs.class]),style:Bt(ye.$attrs.style),readonly:!ye.editable||ye.readonly||w(re)||w(de)||w(le)||ye.type==="week","aria-label":ye.ariaLabel,tabindex:ye.tabindex,"validate-event":!1,onInput:Ne,onFocus:w(_),onBlur:w(x),onKeydown:ve,onChange:Je,onMousedown:$e,onMouseenter:K,onMouseleave:ce,onTouchstartPassive:ie,onClick:sn(()=>{},["stop"])},{prefix:be(()=>[w(fe)?(V(),rt(w(Vt),{key:0,class:j(w(o).e("icon")),onMousedown:sn($e,["prevent"]),onTouchstartPassive:ie},{default:be(()=>[(V(),rt(Nn(w(fe))))]),_:1},8,["class","onMousedown"])):Qe("v-if",!0)]),suffix:be(()=>[Ee.value&&ye.clearIcon?(V(),rt(w(Vt),{key:0,class:j(`${w(o).e("icon")} clear-icon`),onMousedown:sn(w(Sr),["prevent"]),onClick:Re},{default:be(()=>[(V(),rt(Nn(ye.clearIcon)))]),_:1},8,["class","onMousedown"])):Qe("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:be(()=>[Ze(ye.$slots,"default",{visible:m.value,actualVisible:v.value,parsedValue:w(G),format:ye.format,dateFormat:ye.dateFormat,timeFormat:ye.timeFormat,unlinkPanels:ye.unlinkPanels,type:ye.type,defaultValue:ye.defaultValue,showNow:ye.showNow,onPick:L,onSelectRange:D,onSetPickerOption:st,onCalendarChange:$,onPanelChange:ge,onMousedown:sn(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var zX=Pt(Gxe,[["__file","picker.vue"]]);const Wxe=Rt({...FX,datetimeRole:String,parsedValue:{type:We(Object)}}),UX=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:t})=>{const r=(s,o,l,c)=>{const u={hour:n,minute:e,second:t};let d=s;return["hour","minute","second"].forEach(f=>{if(u[f]){let h;const p=u[f];switch(f){case"minute":{h=p(d.hour(),o,c);break}case"second":{h=p(d.hour(),d.minute(),o,c);break}default:{h=p(o,c);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const m=l?0:h.length-1;d=d[f](h[m])}}}),d},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([s,o])=>{i[s]=o}}},A3=n=>{const e=(r,i)=>r||i,t=r=>r!==!0;return n.map(e).filter(t)},HX=(n,e,t)=>({getHoursList:(s,o)=>S3(24,n&&(()=>n==null?void 0:n(s,o))),getMinutesList:(s,o,l)=>S3(60,e&&(()=>e==null?void 0:e(s,o,l))),getSecondsList:(s,o,l,c)=>S3(60,t&&(()=>t==null?void 0:t(s,o,l,c)))}),VX=(n,e,t)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:a}=HX(n,e,t);return{getAvailableHours:(c,u)=>A3(r(c,u)),getAvailableMinutes:(c,u,d)=>A3(i(c,u,d)),getAvailableSeconds:(c,u,d,f)=>A3(a(c,u,d,f))}},$X=n=>{const e=ee(n.parsedValue);return dt(()=>n.visible,t=>{t||(e.value=n.parsedValue)}),e},qxe=Rt({role:{type:String,required:!0},spinnerDate:{type:We(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:We(String),default:""},...BX}),Kxe=100,Yxe=600,_C={beforeMount(n,e){const t=e.value,{interval:r=Kxe,delay:i=Yxe}=Zt(t)?{}:t;let a,s;const o=()=>Zt(t)?t():t.handler(),l=()=>{s&&(clearTimeout(s),s=void 0),a&&(clearInterval(a),a=void 0)};n.addEventListener("mousedown",c=>{c.button===0&&(l(),o(),document.addEventListener("mouseup",()=>l(),{once:!0}),s=setTimeout(()=>{a=setInterval(()=>{o()},r)},i))})}},Xxe=Ie({__name:"basic-time-spinner",props:qxe,emits:["change","select-range","set-option"],setup(n,{emit:e}){const t=n,r=Ot("EP_PICKER_BASE"),{isRange:i}=r.props,a=bt("time"),{getHoursList:s,getMinutesList:o,getSecondsList:l}=HX(t.disabledHours,t.disabledMinutes,t.disabledSeconds);let c=!1;const u=ee(),d=ee(),f=ee(),h=ee(),p={hours:d,minutes:f,seconds:h},m=U(()=>t.showSeconds?mF:mF.slice(0,2)),v=U(()=>{const{spinnerDate:X}=t,J=X.hour(),Q=X.minute(),re=X.second();return{hours:J,minutes:Q,seconds:re}}),g=U(()=>{const{hours:X,minutes:J}=w(v),{role:Q,spinnerDate:re}=t,de=i?void 0:re;return{hours:s(Q,de),minutes:o(X,Q,de),seconds:l(X,J,Q,de)}}),y=U(()=>{const{hours:X,minutes:J,seconds:Q}=w(v);return{hours:x3(X,23),minutes:x3(J,59),seconds:x3(Q,59)}}),b=go(X=>{c=!1,S(X)},200),_=X=>{if(!!!t.amPmMode)return"";const Q=t.amPmMode==="A";let re=X<12?" am":" pm";return Q&&(re=re.toUpperCase()),re},x=X=>{let J;switch(X){case"hours":J=[0,2];break;case"minutes":J=[3,5];break;case"seconds":J=[6,8];break}const[Q,re]=J;e("select-range",Q,re),u.value=X},S=X=>{M(X,w(v)[X])},T=()=>{S("hours"),S("minutes"),S("seconds")},C=X=>X.querySelector(`.${a.namespace.value}-scrollbar__wrap`),M=(X,J)=>{if(t.arrowControl)return;const Q=w(p[X]);Q&&Q.$el&&(C(Q.$el).scrollTop=Math.max(0,J*A(X)))},A=X=>{const J=w(p[X]),Q=J==null?void 0:J.$el.querySelector("li");return Q&&Number.parseFloat(qu(Q,"height"))||0},I=()=>{L(1)},D=()=>{L(-1)},L=X=>{u.value||x("hours");const J=u.value,Q=w(v)[J],re=u.value==="hours"?24:60,de=F(J,Q,X,re);B(J,de),M(J,de),Yt(()=>x(J))},F=(X,J,Q,re)=>{let de=(J+Q+re)%re;const le=w(g)[X];for(;le[de]&&de!==J;)de=(de+Q+re)%re;return de},B=(X,J)=>{if(w(g)[X][J])return;const{hours:de,minutes:le,seconds:fe}=w(v);let Ee;switch(X){case"hours":Ee=t.spinnerDate.hour(J).minute(le).second(fe);break;case"minutes":Ee=t.spinnerDate.hour(de).minute(J).second(fe);break;case"seconds":Ee=t.spinnerDate.hour(de).minute(le).second(J);break}e("change",Ee)},k=(X,{value:J,disabled:Q})=>{Q||(B(X,J),x(X),M(X,J))},H=X=>{const J=w(p[X]);if(!J)return;c=!0,b(X);const Q=Math.min(Math.round((C(J.$el).scrollTop-(z(X)*.5-10)/A(X)+3)/A(X)),X==="hours"?23:59);B(X,Q)},z=X=>w(p[X]).$el.offsetHeight,O=()=>{const X=J=>{const Q=w(p[J]);Q&&Q.$el&&(C(Q.$el).onscroll=()=>{H(J)})};X("hours"),X("minutes"),X("seconds")};pn(()=>{Yt(()=>{!t.arrowControl&&O(),T(),t.role==="start"&&x("hours")})});const G=(X,J)=>{p[J].value=X??void 0};return e("set-option",[`${t.role}_scrollDown`,L]),e("set-option",[`${t.role}_emitSelectRange`,x]),dt(()=>t.spinnerDate,()=>{c||T()}),(X,J)=>(V(),ue("div",{class:j([w(a).b("spinner"),{"has-seconds":X.showSeconds}])},[X.arrowControl?Qe("v-if",!0):(V(!0),ue(zt,{key:0},In(w(m),Q=>(V(),rt(w(du),{key:Q,ref_for:!0,ref:re=>G(re,Q),class:j(w(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":w(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:re=>x(Q),onMousemove:re=>S(Q)},{default:be(()=>[(V(!0),ue(zt,null,In(w(g)[Q],(re,de)=>(V(),ue("li",{key:de,class:j([w(a).be("spinner","item"),w(a).is("active",de===w(v)[Q]),w(a).is("disabled",re)]),onClick:le=>k(Q,{value:de,disabled:re})},[Q==="hours"?(V(),ue(zt,{key:0},[dn(Ct(("0"+(X.amPmMode?de%12||12:de)).slice(-2))+Ct(_(de)),1)],64)):(V(),ue(zt,{key:1},[dn(Ct(("0"+de).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),X.arrowControl?(V(!0),ue(zt,{key:1},In(w(m),Q=>(V(),ue("div",{key:Q,class:j([w(a).be("spinner","wrapper"),w(a).is("arrow")]),onMouseenter:re=>x(Q)},[Sn((V(),rt(w(Vt),{class:j(["arrow-up",w(a).be("spinner","arrow")])},{default:be(()=>[se(w(Uk))]),_:1},8,["class"])),[[w(_C),D]]),Sn((V(),rt(w(Vt),{class:j(["arrow-down",w(a).be("spinner","arrow")])},{default:be(()=>[se(w(wd))]),_:1},8,["class"])),[[w(_C),I]]),me("ul",{class:j(w(a).be("spinner","list"))},[(V(!0),ue(zt,null,In(w(y)[Q],(re,de)=>(V(),ue("li",{key:de,class:j([w(a).be("spinner","item"),w(a).is("active",re===w(v)[Q]),w(a).is("disabled",w(g)[Q][re])])},[w(en)(re)?(V(),ue(zt,{key:0},[Q==="hours"?(V(),ue(zt,{key:0},[dn(Ct(("0"+(X.amPmMode?re%12||12:re)).slice(-2))+Ct(_(re)),1)],64)):(V(),ue(zt,{key:1},[dn(Ct(("0"+re).slice(-2)),1)],64))],64)):Qe("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Qe("v-if",!0)],2))}});var A5=Pt(Xxe,[["__file","basic-time-spinner.vue"]]);const jxe=Ie({__name:"panel-time-pick",props:Wxe,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,r=Ot("EP_PICKER_BASE"),{arrowControl:i,disabledHours:a,disabledMinutes:s,disabledSeconds:o,defaultValue:l}=r.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=VX(a,s,o),f=bt("time"),{t:h,lang:p}=rr(),m=ee([0,2]),v=$X(t),g=U(()=>Mr(t.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),y=U(()=>t.format.includes("ss")),b=U(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),_=z=>{const O=hn(z).locale(p.value),G=F(O);return O.isSame(G)},x=()=>{e("pick",v.value,!1)},S=(z=!1,O=!1)=>{O||e("pick",t.parsedValue,z)},T=z=>{if(!t.visible)return;const O=F(z).millisecond(0);e("pick",O,!0)},C=(z,O)=>{e("select-range",z,O),m.value=[z,O]},M=z=>{const O=[0,3].concat(y.value?[6]:[]),G=["hours","minutes"].concat(y.value?["seconds"]:[]),J=(O.indexOf(m.value[0])+z+O.length)%O.length;I.start_emitSelectRange(G[J])},A=z=>{const O=z.code,{left:G,right:X,up:J,down:Q}=Nt;if([G,X].includes(O)){M(O===G?-1:1),z.preventDefault();return}if([J,Q].includes(O)){const re=O===J?-1:1;I.start_scrollDown(re),z.preventDefault();return}},{timePickerOptions:I,onSetOption:D,getAvailableTime:L}=UX({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),F=z=>L(z,t.datetimeRole||"",!0),B=z=>z?hn(z,t.format).locale(p.value):null,k=z=>z?z.format(t.format):null,H=()=>hn(l).locale(p.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",k]),e("set-picker-option",["parseUserInput",B]),e("set-picker-option",["handleKeydownInput",A]),e("set-picker-option",["getRangeAvailableTime",F]),e("set-picker-option",["getDefaultValue",H]),(z,O)=>(V(),rt(ca,{name:w(g)},{default:be(()=>[z.actualVisible||z.visible?(V(),ue("div",{key:0,class:j(w(f).b("panel"))},[me("div",{class:j([w(f).be("panel","content"),{"has-seconds":w(y)}])},[se(A5,{ref:"spinner",role:z.datetimeRole||"start","arrow-control":w(i),"show-seconds":w(y),"am-pm-mode":w(b),"spinner-date":z.parsedValue,"disabled-hours":w(a),"disabled-minutes":w(s),"disabled-seconds":w(o),onChange:T,onSetOption:w(D),onSelectRange:C},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),me("div",{class:j(w(f).be("panel","footer"))},[me("button",{type:"button",class:j([w(f).be("panel","btn"),"cancel"]),onClick:x},Ct(w(h)("el.datepicker.cancel")),3),me("button",{type:"button",class:j([w(f).be("panel","btn"),"confirm"]),onClick:G=>S()},Ct(w(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Qe("v-if",!0)]),_:1},8,["name"]))}});var wC=Pt(jxe,[["__file","panel-time-pick.vue"]]);const Zxe=Rt({...FX,parsedValue:{type:We(Array)}}),Qxe=Ie({__name:"panel-time-range",props:Zxe,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,r=($e,K)=>{const ce=[];for(let ie=$e;ie<=K;ie++)ce.push(ie);return ce},{t:i,lang:a}=rr(),s=bt("time"),o=bt("picker"),l=Ot("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:d,disabledSeconds:f,defaultValue:h}=l.props,p=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),_.value?"has-seconds":""]),m=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),_.value?"has-seconds":""]),v=U(()=>t.parsedValue[0]),g=U(()=>t.parsedValue[1]),y=$X(t),b=()=>{e("pick",y.value,!1)},_=U(()=>t.format.includes("ss")),x=U(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),S=($e=!1)=>{e("pick",[v.value,g.value],$e)},T=$e=>{A($e.millisecond(0),g.value)},C=$e=>{A(v.value,$e.millisecond(0))},M=$e=>{const K=$e.map(ie=>hn(ie).locale(a.value)),ce=X(K);return K[0].isSame(ce[0])&&K[1].isSame(ce[1])},A=($e,K)=>{t.visible&&e("pick",[$e,K],!0)},I=U(()=>v.value>g.value),D=ee([0,2]),L=($e,K)=>{e("select-range",$e,K,"min"),D.value=[$e,K]},F=U(()=>_.value?11:8),B=($e,K)=>{e("select-range",$e,K,"max");const ce=w(F);D.value=[$e+ce,K+ce]},k=$e=>{const K=_.value?[0,3,6,11,14,17]:[0,3,8,11],ce=["hours","minutes"].concat(_.value?["seconds"]:[]),Ue=(K.indexOf(D.value[0])+$e+K.length)%K.length,De=K.length/2;Ue<De?de.start_emitSelectRange(ce[Ue]):de.end_emitSelectRange(ce[Ue-De])},H=$e=>{const K=$e.code,{left:ce,right:ie,up:Ue,down:De}=Nt;if([ce,ie].includes(K)){k(K===ce?-1:1),$e.preventDefault();return}if([Ue,De].includes(K)){const Ye=K===Ue?-1:1,ze=D.value[0]<F.value?"start":"end";de[`${ze}_scrollDown`](Ye),$e.preventDefault();return}},z=($e,K)=>{const ce=u?u($e):[],ie=$e==="start",De=(K||(ie?g.value:v.value)).hour(),Ye=ie?r(De+1,23):r(0,De-1);return v3(ce,Ye)},O=($e,K,ce)=>{const ie=d?d($e,K):[],Ue=K==="start",De=ce||(Ue?g.value:v.value),Ye=De.hour();if($e!==Ye)return ie;const ze=De.minute(),Ve=Ue?r(ze+1,59):r(0,ze-1);return v3(ie,Ve)},G=($e,K,ce,ie)=>{const Ue=f?f($e,K,ce):[],De=ce==="start",Ye=ie||(De?g.value:v.value),ze=Ye.hour(),Ve=Ye.minute();if($e!==ze||K!==Ve)return Ue;const Je=Ye.second(),pe=De?r(Je+1,59):r(0,Je-1);return v3(Ue,pe)},X=([$e,K])=>[le($e,"start",!0,K),le(K,"end",!1,$e)],{getAvailableHours:J,getAvailableMinutes:Q,getAvailableSeconds:re}=VX(z,O,G),{timePickerOptions:de,getAvailableTime:le,onSetOption:fe}=UX({getAvailableHours:J,getAvailableMinutes:Q,getAvailableSeconds:re}),Ee=$e=>$e?Tt($e)?$e.map(K=>hn(K,t.format).locale(a.value)):hn($e,t.format).locale(a.value):null,Re=$e=>$e?Tt($e)?$e.map(K=>K.format(t.format)):$e.format(t.format):null,He=()=>{if(Tt(h))return h.map(K=>hn(K).locale(a.value));const $e=hn(h).locale(a.value);return[$e,$e.add(60,"m")]};return e("set-picker-option",["formatToString",Re]),e("set-picker-option",["parseUserInput",Ee]),e("set-picker-option",["isValidValue",M]),e("set-picker-option",["handleKeydownInput",H]),e("set-picker-option",["getDefaultValue",He]),e("set-picker-option",["getRangeAvailableTime",X]),($e,K)=>$e.actualVisible?(V(),ue("div",{key:0,class:j([w(s).b("range-picker"),w(o).b("panel")])},[me("div",{class:j(w(s).be("range-picker","content"))},[me("div",{class:j(w(s).be("range-picker","cell"))},[me("div",{class:j(w(s).be("range-picker","header"))},Ct(w(i)("el.datepicker.startTime")),3),me("div",{class:j(w(p))},[se(A5,{ref:"minSpinner",role:"start","show-seconds":w(_),"am-pm-mode":w(x),"arrow-control":w(c),"spinner-date":w(v),"disabled-hours":z,"disabled-minutes":O,"disabled-seconds":G,onChange:T,onSetOption:w(fe),onSelectRange:L},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),me("div",{class:j(w(s).be("range-picker","cell"))},[me("div",{class:j(w(s).be("range-picker","header"))},Ct(w(i)("el.datepicker.endTime")),3),me("div",{class:j(w(m))},[se(A5,{ref:"maxSpinner",role:"end","show-seconds":w(_),"am-pm-mode":w(x),"arrow-control":w(c),"spinner-date":w(g),"disabled-hours":z,"disabled-minutes":O,"disabled-seconds":G,onChange:C,onSetOption:w(fe),onSelectRange:B},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),me("div",{class:j(w(s).be("panel","footer"))},[me("button",{type:"button",class:j([w(s).be("panel","btn"),"cancel"]),onClick:ce=>b()},Ct(w(i)("el.datepicker.cancel")),11,["onClick"]),me("button",{type:"button",class:j([w(s).be("panel","btn"),"confirm"]),disabled:w(I),onClick:ce=>S()},Ct(w(i)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Qe("v-if",!0)}});var Jxe=Pt(Qxe,[["__file","panel-time-range.vue"]]);hn.extend(fL);var eSe=Ie({name:"ElTimePicker",install:null,props:{...hL,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,e){const t=ee(),[r,i]=n.isRange?["timerange",Jxe]:["time",wC],a=s=>e.emit("update:modelValue",s);return $n("ElPopperOptions",n.popperOptions),e.expose({focus:()=>{var s;(s=t.value)==null||s.focus()},blur:()=>{var s;(s=t.value)==null||s.blur()},handleOpen:()=>{var s;(s=t.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=t.value)==null||s.handleClose()}}),()=>{var s;const o=(s=n.format)!=null?s:T5;return se(zX,Hn(n,{ref:t,type:r,format:o,"onUpdate:modelValue":a}),{default:l=>se(i,l,null)})}}});const tSe=gn(eSe),CT=Symbol(),nSe=Rt({...hL,type:{type:We(String),default:"date"}}),rSe=["date","dates","year","years","month","months","week","range"],pL=Rt({disabledDate:{type:We(Function)},date:{type:We(Object),required:!0},minDate:{type:We(Object)},maxDate:{type:We(Object)},parsedValue:{type:We([Object,Array])},rangeState:{type:We(Object),default:()=>({endDate:null,selecting:!1})}}),GX=Rt({type:{type:We(String),required:!0,values:xbe},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),mL=Rt({unlinkPanels:Boolean,parsedValue:{type:We(Array)}}),vL=n=>({type:String,values:rSe,default:n}),iSe=Rt({...GX,parsedValue:{type:We([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),sg=n=>{if(!Tt(n))return!1;const[e,t]=n;return hn.isDayjs(e)&&hn.isDayjs(t)&&e.isSameOrBefore(t)},gL=(n,{lang:e,unit:t,unlinkPanels:r})=>{let i;if(Tt(n)){let[a,s]=n.map(o=>hn(o).locale(e));return r||(s=a.add(1,t)),[a,s]}else n?i=hn(n):i=hn();return i=i.locale(e),[i,i.add(1,t)]},aSe=(n,e,{columnIndexOffset:t,startDate:r,nextEndDate:i,now:a,unit:s,relativeDateGetter:o,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<n.row;u++){const d=e[u];for(let f=0;f<n.column;f++){let h=d[f+t];h||(h={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=u*n.column+f,m=o(p);h.dayjs=m,h.date=m.toDate(),h.timestamp=m.valueOf(),h.type="normal",h.inRange=!!(r&&m.isSameOrAfter(r,s)&&i&&m.isSameOrBefore(i,s))||!!(r&&m.isSameOrBefore(r,s)&&i&&m.isSameOrAfter(i,s)),r!=null&&r.isSameOrAfter(i)?(h.start=!!i&&m.isSame(i,s),h.end=r&&m.isSame(r,s)):(h.start=!!r&&m.isSame(r,s),h.end=!!i&&m.isSame(i,s)),m.isSame(a,s)&&(h.type="today"),l==null||l(h,{rowIndex:u,columnIndex:f}),d[f+t]=h}c==null||c(d)}},xC=(n,e,t)=>{const r=hn().locale(t).startOf("month").month(e).year(n),i=r.daysInMonth();return If(i).map(a=>r.add(a,"day").toDate())},Gb=(n,e,t,r)=>{const i=hn().year(n).month(e).startOf("month"),a=xC(n,e,t).find(s=>!(r!=null&&r(s)));return a?hn(a).locale(t):i.locale(t)},E5=(n,e,t)=>{const r=n.year();if(!(t!=null&&t(n.toDate())))return n.locale(e);const i=n.month();if(!xC(r,i,e).every(t))return Gb(r,i,e,t);for(let a=0;a<12;a++)if(!xC(r,a,e).every(t))return Gb(r,a,e,t);return n},sSe=Rt({...pL,cellClassName:{type:We(Function)},showWeekNumber:Boolean,selectionMode:vL("date")}),oSe=["changerange","pick","select"],I5=(n="")=>["normal","today"].includes(n),lSe=(n,e)=>{const{lang:t}=rr(),r=ee(),i=ee(),a=ee(),s=ee(),o=ee([[],[],[],[],[],[]]);let l=!1;const c=n.date.$locale().weekStart||7,u=n.date.locale("en").localeData().weekdaysShort().map(O=>O.toLowerCase()),d=U(()=>c>3?7-c:-c),f=U(()=>{const O=n.date.startOf("month");return O.subtract(O.day()||7,"day")}),h=U(()=>u.concat(u).slice(c,c+7)),p=U(()=>_K(w(_)).some(O=>O.isCurrent)),m=U(()=>{const O=n.date.startOf("month"),G=O.day()||7,X=O.daysInMonth(),J=O.subtract(1,"month").daysInMonth();return{startOfMonthDay:G,dateCountOfMonth:X,dateCountOfLastMonth:J}}),v=U(()=>n.selectionMode==="dates"?Bs(n.parsedValue):[]),g=(O,{count:G,rowIndex:X,columnIndex:J})=>{const{startOfMonthDay:Q,dateCountOfMonth:re,dateCountOfLastMonth:de}=w(m),le=w(d);if(X>=0&&X<=1){const fe=Q+le<0?7+Q+le:Q+le;if(J+X*7>=fe)return O.text=G,!0;O.text=de-(fe-J%7)+1+X*7,O.type="prev-month"}else return G<=re?O.text=G:(O.text=G-re,O.type="next-month"),!0;return!1},y=(O,{columnIndex:G,rowIndex:X},J)=>{const{disabledDate:Q,cellClassName:re}=n,de=w(v),le=g(O,{count:J,rowIndex:X,columnIndex:G}),fe=O.dayjs.toDate();return O.selected=de.find(Ee=>Ee.isSame(O.dayjs,"day")),O.isSelected=!!O.selected,O.isCurrent=S(O),O.disabled=Q==null?void 0:Q(fe),O.customClass=re==null?void 0:re(fe),le},b=O=>{if(n.selectionMode==="week"){const[G,X]=n.showWeekNumber?[1,7]:[0,6],J=z(O[G+1]);O[G].inRange=J,O[G].start=J,O[X].inRange=J,O[X].end=J}},_=U(()=>{const{minDate:O,maxDate:G,rangeState:X,showWeekNumber:J}=n,Q=w(d),re=w(o),de="day";let le=1;if(J)for(let fe=0;fe<6;fe++)re[fe][0]||(re[fe][0]={type:"week",text:w(f).add(fe*7+1,de).week()});return aSe({row:6,column:7},re,{startDate:O,columnIndexOffset:J?1:0,nextEndDate:X.endDate||G||X.selecting&&O||null,now:hn().locale(w(t)).startOf(de),unit:de,relativeDateGetter:fe=>w(f).add(fe-Q,de),setCellMetadata:(...fe)=>{y(...fe,le)&&(le+=1)},setRowMetadata:b}),re});dt(()=>n.date,async()=>{var O;(O=w(r))!=null&&O.contains(document.activeElement)&&(await Yt(),await x())});const x=async()=>{var O;return(O=w(i))==null?void 0:O.focus()},S=O=>n.selectionMode==="date"&&I5(O.type)&&T(O,n.parsedValue),T=(O,G)=>G?hn(G).locale(w(t)).isSame(n.date.date(Number(O.text)),"day"):!1,C=(O,G)=>{const X=O*7+(G-(n.showWeekNumber?1:0))-w(d);return w(f).add(X,"day")},M=O=>{var G;if(!n.rangeState.selecting)return;let X=O.target;if(X.tagName==="SPAN"&&(X=(G=X.parentNode)==null?void 0:G.parentNode),X.tagName==="DIV"&&(X=X.parentNode),X.tagName!=="TD")return;const J=X.parentNode.rowIndex-1,Q=X.cellIndex;w(_)[J][Q].disabled||(J!==w(a)||Q!==w(s))&&(a.value=J,s.value=Q,e("changerange",{selecting:!0,endDate:C(J,Q)}))},A=O=>!w(p)&&(O==null?void 0:O.text)===1&&O.type==="normal"||O.isCurrent,I=O=>{l||w(p)||n.selectionMode!=="date"||H(O,!0)},D=O=>{O.target.closest("td")&&(l=!0)},L=O=>{O.target.closest("td")&&(l=!1)},F=O=>{!n.rangeState.selecting||!n.minDate?(e("pick",{minDate:O,maxDate:null}),e("select",!0)):(O>=n.minDate?e("pick",{minDate:n.minDate,maxDate:O}):e("pick",{minDate:O,maxDate:n.minDate}),e("select",!1))},B=O=>{const G=O.week(),X=`${O.year()}w${G}`;e("pick",{year:O.year(),week:G,value:X,date:O.startOf("week")})},k=(O,G)=>{const X=G?Bs(n.parsedValue).filter(J=>(J==null?void 0:J.valueOf())!==O.valueOf()):Bs(n.parsedValue).concat([O]);e("pick",X)},H=(O,G=!1)=>{const X=O.target.closest("td");if(!X)return;const J=X.parentNode.rowIndex-1,Q=X.cellIndex,re=w(_)[J][Q];if(re.disabled||re.type==="week")return;const de=C(J,Q);switch(n.selectionMode){case"range":{F(de);break}case"date":{e("pick",de,G);break}case"week":{B(de);break}case"dates":{k(de,!!re.selected);break}}},z=O=>{if(n.selectionMode!=="week")return!1;let G=n.date.startOf("day");if(O.type==="prev-month"&&(G=G.subtract(1,"month")),O.type==="next-month"&&(G=G.add(1,"month")),G=G.date(Number.parseInt(O.text,10)),n.parsedValue&&!Tt(n.parsedValue)){const X=(n.parsedValue.day()-c+7)%7-1;return n.parsedValue.subtract(X,"day").isSame(G,"day")}return!1};return{WEEKS:h,rows:_,tbodyRef:r,currentCellRef:i,focus:x,isCurrent:S,isWeekActive:z,isSelectedCell:A,handlePickDate:H,handleMouseUp:L,handleMouseDown:D,handleMouseMove:M,handleFocus:I}},cSe=(n,{isCurrent:e,isWeekActive:t})=>{const r=bt("date-table"),{t:i}=rr(),a=U(()=>[r.b(),{"is-week-mode":n.selectionMode==="week"}]),s=U(()=>i("el.datepicker.dateTablePrompt")),o=U(()=>i("el.datepicker.week"));return{tableKls:a,tableLabel:s,weekLabel:o,getCellClasses:u=>{const d=[];return I5(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),e(u)&&d.push("current"),u.inRange&&(I5(u.type)||n.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),u.disabled&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},getRowKls:u=>[r.e("row"),{current:t(u)}],t:i}},uSe=Rt({cell:{type:We(Object)}});var yL=Ie({name:"ElDatePickerCell",props:uSe,setup(n){const e=bt("date-table-cell"),{slots:t}=Ot(CT);return()=>{const{cell:r}=n;return Ze(t,"default",{...r},()=>{var i;return[se("div",{class:e.b()},[se("span",{class:e.e("text")},[(i=r==null?void 0:r.renderText)!=null?i:r==null?void 0:r.text])])]})}}});const dSe=Ie({__name:"basic-date-table",props:sSe,emits:oSe,setup(n,{expose:e,emit:t}){const r=n,{WEEKS:i,rows:a,tbodyRef:s,currentCellRef:o,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:f,handleMouseUp:h,handleMouseDown:p,handleMouseMove:m,handleFocus:v}=lSe(r,t),{tableLabel:g,tableKls:y,weekLabel:b,getCellClasses:_,getRowKls:x,t:S}=cSe(r,{isCurrent:c,isWeekActive:u});return e({focus:l}),(T,C)=>(V(),ue("table",{"aria-label":w(g),class:j(w(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:w(f),onMousemove:w(m),onMousedown:sn(w(p),["prevent"]),onMouseup:w(h)},[me("tbody",{ref_key:"tbodyRef",ref:s},[me("tr",null,[T.showWeekNumber?(V(),ue("th",{key:0,scope:"col"},Ct(w(b)),1)):Qe("v-if",!0),(V(!0),ue(zt,null,In(w(i),(M,A)=>(V(),ue("th",{key:A,"aria-label":w(S)("el.datepicker.weeksFull."+M),scope:"col"},Ct(w(S)("el.datepicker.weeks."+M)),9,["aria-label"]))),128))]),(V(!0),ue(zt,null,In(w(a),(M,A)=>(V(),ue("tr",{key:A,class:j(w(x)(M[1]))},[(V(!0),ue(zt,null,In(M,(I,D)=>(V(),ue("td",{key:`${A}.${D}`,ref_for:!0,ref:L=>w(d)(I)&&(o.value=L),class:j(w(_)(I)),"aria-current":I.isCurrent?"date":void 0,"aria-selected":I.isCurrent,tabindex:w(d)(I)?0:-1,onFocus:w(v)},[se(w(yL),{cell:I},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var R5=Pt(dSe,[["__file","basic-date-table.vue"]]);const fSe=Rt({...pL,selectionMode:vL("month")}),hSe=Ie({__name:"basic-month-table",props:fSe,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const r=n,i=bt("month-table"),{t:a,lang:s}=rr(),o=ee(),l=ee(),c=ee(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),u=ee([[],[],[]]),d=ee(),f=ee(),h=U(()=>{var b,_;const x=u.value,S=hn().locale(s.value).startOf("month");for(let T=0;T<3;T++){const C=x[T];for(let M=0;M<4;M++){const A=C[M]||(C[M]={row:T,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});A.type="normal";const I=T*4+M,D=r.date.startOf("year").month(I),L=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"month")&&L&&D.isSameOrBefore(L,"month"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"month")&&L&&D.isSameOrAfter(L,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(L)?(A.start=!!(L&&D.isSame(L,"month")),A.end=r.minDate&&D.isSame(r.minDate,"month")):(A.start=!!(r.minDate&&D.isSame(r.minDate,"month")),A.end=!!(L&&D.isSame(L,"month"))),S.isSame(D)&&(A.type="today"),A.text=I,A.disabled=((_=r.disabledDate)==null?void 0:_.call(r,D.toDate()))||!1}}return x}),p=()=>{var b;(b=l.value)==null||b.focus()},m=b=>{const _={},x=r.date.year(),S=new Date,T=b.text;return _.disabled=r.disabledDate?xC(x,T,s.value).every(r.disabledDate):!1,_.current=Bs(r.parsedValue).findIndex(C=>hn.isDayjs(C)&&C.year()===x&&C.month()===T)>=0,_.today=S.getFullYear()===x&&S.getMonth()===T,b.inRange&&(_["in-range"]=!0,b.start&&(_["start-date"]=!0),b.end&&(_["end-date"]=!0)),_},v=b=>{const _=r.date.year(),x=b.text;return Bs(r.date).findIndex(S=>S.year()===_&&S.month()===x)>=0},g=b=>{var _;if(!r.rangeState.selecting)return;let x=b.target;if(x.tagName==="SPAN"&&(x=(_=x.parentNode)==null?void 0:_.parentNode),x.tagName==="DIV"&&(x=x.parentNode),x.tagName!=="TD")return;const S=x.parentNode.rowIndex,T=x.cellIndex;h.value[S][T].disabled||(S!==d.value||T!==f.value)&&(d.value=S,f.value=T,t("changerange",{selecting:!0,endDate:r.date.startOf("year").month(S*4+T)}))},y=b=>{var _;const x=(_=b.target)==null?void 0:_.closest("td");if((x==null?void 0:x.tagName)!=="TD"||lo(x,"disabled"))return;const S=x.cellIndex,C=x.parentNode.rowIndex*4+S,M=r.date.startOf("year").month(C);if(r.selectionMode==="months"){if(b.type==="keydown"){t("pick",Bs(r.parsedValue),!1);return}const A=Gb(r.date.year(),C,s.value,r.disabledDate),I=lo(x,"current")?Bs(r.parsedValue).filter(D=>(D==null?void 0:D.month())!==A.month()):Bs(r.parsedValue).concat([hn(A)]);t("pick",I)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&M>=r.minDate?t("pick",{minDate:r.minDate,maxDate:M}):t("pick",{minDate:M,maxDate:r.minDate}),t("select",!1)):(t("pick",{minDate:M,maxDate:null}),t("select",!0)):t("pick",C)};return dt(()=>r.date,async()=>{var b,_;(b=o.value)!=null&&b.contains(document.activeElement)&&(await Yt(),(_=l.value)==null||_.focus())}),e({focus:p}),(b,_)=>(V(),ue("table",{role:"grid","aria-label":w(a)("el.datepicker.monthTablePrompt"),class:j(w(i).b()),onClick:y,onMousemove:g},[me("tbody",{ref_key:"tbodyRef",ref:o},[(V(!0),ue(zt,null,In(w(h),(x,S)=>(V(),ue("tr",{key:S},[(V(!0),ue(zt,null,In(x,(T,C)=>(V(),ue("td",{key:C,ref_for:!0,ref:M=>v(T)&&(l.value=M),class:j(m(T)),"aria-selected":`${v(T)}`,"aria-label":w(a)(`el.datepicker.month${+T.text+1}`),tabindex:v(T)?0:-1,onKeydown:[Ur(sn(y,["prevent","stop"]),["space"]),Ur(sn(y,["prevent","stop"]),["enter"])]},[se(w(yL),{cell:{...T,renderText:w(a)("el.datepicker.months."+c.value[T.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var P5=Pt(hSe,[["__file","basic-month-table.vue"]]);const pSe=Rt({...pL,selectionMode:vL("year")}),mSe=Ie({__name:"basic-year-table",props:pSe,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const r=n,i=(_,x)=>{const S=hn(String(_)).locale(x).startOf("year"),C=S.endOf("year").dayOfYear();return If(C).map(M=>S.add(M,"day").toDate())},a=bt("year-table"),{t:s,lang:o}=rr(),l=ee(),c=ee(),u=U(()=>Math.floor(r.date.year()/10)*10),d=ee([[],[],[]]),f=ee(),h=ee(),p=U(()=>{var _;const x=d.value,S=hn().locale(o.value).startOf("year");for(let T=0;T<3;T++){const C=x[T];for(let M=0;M<4&&!(T*4+M>=10);M++){let A=C[M];A||(A={row:T,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),A.type="normal";const I=T*4+M+u.value,D=hn().year(I),L=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"year")&&L&&D.isSameOrBefore(L,"year"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"year")&&L&&D.isSameOrAfter(L,"year")),(_=r.minDate)!=null&&_.isSameOrAfter(L)?(A.start=!!(L&&D.isSame(L,"year")),A.end=!!(r.minDate&&D.isSame(r.minDate,"year"))):(A.start=!!(r.minDate&&D.isSame(r.minDate,"year")),A.end=!!(L&&D.isSame(L,"year"))),S.isSame(D)&&(A.type="today"),A.text=I;const B=D.toDate();A.disabled=r.disabledDate&&r.disabledDate(B)||!1,C[M]=A}}return x}),m=()=>{var _;(_=c.value)==null||_.focus()},v=_=>{const x={},S=hn().locale(o.value),T=_.text;return x.disabled=r.disabledDate?i(T,o.value).every(r.disabledDate):!1,x.today=S.year()===T,x.current=Bs(r.parsedValue).findIndex(C=>C.year()===T)>=0,_.inRange&&(x["in-range"]=!0,_.start&&(x["start-date"]=!0),_.end&&(x["end-date"]=!0)),x},g=_=>{const x=_.text;return Bs(r.date).findIndex(S=>S.year()===x)>=0},y=_=>{var x;const S=(x=_.target)==null?void 0:x.closest("td");if(!S||!S.textContent||lo(S,"disabled"))return;const T=S.cellIndex,M=S.parentNode.rowIndex*4+T+u.value,A=hn().year(M);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&A>=r.minDate?t("pick",{minDate:r.minDate,maxDate:A}):t("pick",{minDate:A,maxDate:r.minDate}),t("select",!1)):(t("pick",{minDate:A,maxDate:null}),t("select",!0));else if(r.selectionMode==="years"){if(_.type==="keydown"){t("pick",Bs(r.parsedValue),!1);return}const I=E5(A.startOf("year"),o.value,r.disabledDate),D=lo(S,"current")?Bs(r.parsedValue).filter(L=>(L==null?void 0:L.year())!==M):Bs(r.parsedValue).concat([I]);t("pick",D)}else t("pick",M)},b=_=>{var x;if(!r.rangeState.selecting)return;const S=(x=_.target)==null?void 0:x.closest("td");if(!S)return;const T=S.parentNode.rowIndex,C=S.cellIndex;p.value[T][C].disabled||(T!==f.value||C!==h.value)&&(f.value=T,h.value=C,t("changerange",{selecting:!0,endDate:hn().year(u.value).add(T*4+C,"year")}))};return dt(()=>r.date,async()=>{var _,x;(_=l.value)!=null&&_.contains(document.activeElement)&&(await Yt(),(x=c.value)==null||x.focus())}),e({focus:m}),(_,x)=>(V(),ue("table",{role:"grid","aria-label":w(s)("el.datepicker.yearTablePrompt"),class:j(w(a).b()),onClick:y,onMousemove:b},[me("tbody",{ref_key:"tbodyRef",ref:l},[(V(!0),ue(zt,null,In(w(p),(S,T)=>(V(),ue("tr",{key:T},[(V(!0),ue(zt,null,In(S,(C,M)=>(V(),ue("td",{key:`${T}_${M}`,ref_for:!0,ref:A=>g(C)&&(c.value=A),class:j(["available",v(C)]),"aria-selected":g(C),"aria-label":String(C.text),tabindex:g(C)?0:-1,onKeydown:[Ur(sn(y,["prevent","stop"]),["space"]),Ur(sn(y,["prevent","stop"]),["enter"])]},[se(w(yL),{cell:C},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var D5=Pt(mSe,[["__file","basic-year-table.vue"]]);const vSe=Ie({__name:"panel-date-pick",props:iSe,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const t=n,r=($,ge,he)=>!0,i=bt("picker-panel"),a=bt("date-picker"),s=hh(),o=ea(),{t:l,lang:c}=rr(),u=Ot("EP_PICKER_BASE"),d=Ot(xT),{shortcuts:f,disabledDate:h,cellClassName:p,defaultTime:m}=u.props,v=_r(u.props,"defaultValue"),g=ee(),y=ee(hn().locale(c.value)),b=ee(!1);let _=!1;const x=U(()=>hn(m).locale(c.value)),S=U(()=>y.value.month()),T=U(()=>y.value.year()),C=ee([]),M=ee(null),A=ee(null),I=$=>C.value.length>0?r($,C.value,t.format||"HH:mm:ss"):!0,D=$=>m&&!Ue.value&&!b.value&&!_?x.value.year($.year()).month($.month()).date($.date()):fe.value?$.millisecond(0):$.startOf("day"),L=($,...ge)=>{if(!$)e("pick",$,...ge);else if(Tt($)){const he=$.map(D);e("pick",he,...ge)}else e("pick",D($),...ge);M.value=null,A.value=null,b.value=!1,_=!1},F=async($,ge)=>{if(G.value==="date"){$=$;let he=t.parsedValue?t.parsedValue.year($.year()).month($.month()).date($.date()):$;I(he)||(he=C.value[0][0].year($.year()).month($.month()).date($.date())),y.value=he,L(he,fe.value||ge),t.type==="datetime"&&(await Yt(),vt())}else G.value==="week"?L($.date):G.value==="dates"&&L($,!0)},B=$=>{const ge=$?"add":"subtract";y.value=y.value[ge](1,"month"),st("month")},k=$=>{const ge=y.value,he=$?"add":"subtract";y.value=H.value==="year"?ge[he](10,"year"):ge[he](1,"year"),st("year")},H=ee("date"),z=U(()=>{const $=l("el.datepicker.year");if(H.value==="year"){const ge=Math.floor(T.value/10)*10;return $?`${ge} ${$} - ${ge+9} ${$}`:`${ge} - ${ge+9}`}return`${T.value} ${$}`}),O=$=>{const ge=Zt($.value)?$.value():$.value;if(ge){_=!0,L(hn(ge).locale(c.value));return}$.onClick&&$.onClick({attrs:s,slots:o,emit:e})},G=U(()=>{const{type:$}=t;return["week","month","months","year","years","dates"].includes($)?$:"date"}),X=U(()=>G.value==="dates"||G.value==="months"||G.value==="years"),J=U(()=>G.value==="date"?H.value:G.value),Q=U(()=>!!f.length),re=async($,ge)=>{G.value==="month"?(y.value=Gb(y.value.year(),$,c.value,h),L(y.value,!1)):G.value==="months"?L($,ge??!0):(y.value=Gb(y.value.year(),$,c.value,h),H.value="date",["month","year","date","week"].includes(G.value)&&(L(y.value,!0),await Yt(),vt())),st("month")},de=async($,ge)=>{if(G.value==="year"){const he=y.value.startOf("year").year($);y.value=E5(he,c.value,h),L(y.value,!1)}else if(G.value==="years")L($,ge??!0);else{const he=y.value.year($);y.value=E5(he,c.value,h),H.value="month",["month","year","date","week"].includes(G.value)&&(L(y.value,!0),await Yt(),vt())}st("year")},le=async $=>{H.value=$,await Yt(),vt()},fe=U(()=>t.type==="datetime"||t.type==="datetimerange"),Ee=U(()=>{const $=fe.value||G.value==="dates",ge=G.value==="years",he=G.value==="months",Ae=H.value==="date",ye=H.value==="year",Se=H.value==="month";return $&&Ae||ge&&ye||he&&Se}),Re=U(()=>h?t.parsedValue?Tt(t.parsedValue)?h(t.parsedValue[0].toDate()):h(t.parsedValue.toDate()):!0:!1),He=()=>{if(X.value)L(t.parsedValue);else{let $=t.parsedValue;if(!$){const ge=hn(m).locale(c.value),he=mt();$=ge.year(he.year()).month(he.month()).date(he.date())}y.value=$,L($)}},$e=U(()=>h?h(hn().locale(c.value).toDate()):!1),K=()=>{const ge=hn().locale(c.value).toDate();b.value=!0,(!h||!h(ge))&&I(ge)&&(y.value=hn().locale(c.value),L(y.value))},ce=U(()=>t.timeFormat||nX(t.format)),ie=U(()=>t.dateFormat||tX(t.format)),Ue=U(()=>{if(A.value)return A.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||y.value).format(ce.value)}),De=U(()=>{if(M.value)return M.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||y.value).format(ie.value)}),Ye=ee(!1),ze=()=>{Ye.value=!0},Ve=()=>{Ye.value=!1},Je=$=>({hour:$.hour(),minute:$.minute(),second:$.second(),year:$.year(),month:$.month(),date:$.date()}),pe=($,ge,he)=>{const{hour:Ae,minute:ye,second:Se}=Je($),ft=t.parsedValue?t.parsedValue.hour(Ae).minute(ye).second(Se):$;y.value=ft,L(y.value,!0),he||(Ye.value=ge)},W=$=>{const ge=hn($,ce.value).locale(c.value);if(ge.isValid()&&I(ge)){const{year:he,month:Ae,date:ye}=Je(y.value);y.value=ge.year(he).month(Ae).date(ye),A.value=null,Ye.value=!1,L(y.value,!0)}},Z=$=>{const ge=hn($,ie.value).locale(c.value);if(ge.isValid()){if(h&&h(ge.toDate()))return;const{hour:he,minute:Ae,second:ye}=Je(y.value);y.value=ge.hour(he).minute(Ae).second(ye),M.value=null,L(y.value,!0)}},ve=$=>hn.isDayjs($)&&$.isValid()&&(h?!h($.toDate()):!0),Ne=$=>Tt($)?$.map(ge=>ge.format(t.format)):$.format(t.format),Ke=$=>hn($,t.format).locale(c.value),mt=()=>{const $=hn(v.value).locale(c.value);if(!v.value){const ge=x.value;return hn().hour(ge.hour()).minute(ge.minute()).second(ge.second()).locale(c.value)}return $},vt=async()=>{var $;["week","month","year","date"].includes(G.value)&&(($=g.value)==null||$.focus(),G.value==="week"&&ht(Nt.down))},Me=$=>{const{code:ge}=$;[Nt.up,Nt.down,Nt.left,Nt.right,Nt.home,Nt.end,Nt.pageUp,Nt.pageDown].includes(ge)&&(ht(ge),$.stopPropagation(),$.preventDefault()),[Nt.enter,Nt.space,Nt.numpadEnter].includes(ge)&&M.value===null&&A.value===null&&($.preventDefault(),L(y.value,!1))},ht=$=>{var ge;const{up:he,down:Ae,left:ye,right:Se,home:ft,end:Te,pageUp:_t,pageDown:nt}=Nt,gt={year:{[he]:-4,[Ae]:4,[ye]:-1,[Se]:1,offset:(At,an)=>At.setFullYear(At.getFullYear()+an)},month:{[he]:-4,[Ae]:4,[ye]:-1,[Se]:1,offset:(At,an)=>At.setMonth(At.getMonth()+an)},week:{[he]:-1,[Ae]:1,[ye]:-1,[Se]:1,offset:(At,an)=>At.setDate(At.getDate()+an*7)},date:{[he]:-7,[Ae]:7,[ye]:-1,[Se]:1,[ft]:At=>-At.getDay(),[Te]:At=>-At.getDay()+6,[_t]:At=>-new Date(At.getFullYear(),At.getMonth(),0).getDate(),[nt]:At=>new Date(At.getFullYear(),At.getMonth()+1,0).getDate(),offset:(At,an)=>At.setDate(At.getDate()+an)}},Lt=y.value.toDate();for(;Math.abs(y.value.diff(Lt,"year",!0))<1;){const At=gt[J.value];if(!At)return;if(At.offset(Lt,Zt(At[$])?At[$](Lt):(ge=At[$])!=null?ge:0),h&&h(Lt))break;const an=hn(Lt).locale(c.value);y.value=an,e("pick",an,!0);break}},st=$=>{e("panel-change",y.value.toDate(),$,H.value)};return dt(()=>G.value,$=>{if(["month","year"].includes($)){H.value=$;return}else if($==="years"){H.value="year";return}else if($==="months"){H.value="month";return}H.value="date"},{immediate:!0}),dt(()=>H.value,()=>{d==null||d.updatePopper()}),dt(()=>v.value,$=>{$&&(y.value=mt())},{immediate:!0}),dt(()=>t.parsedValue,$=>{if($){if(X.value||Tt($))return;y.value=$}else y.value=mt()},{immediate:!0}),e("set-picker-option",["isValidValue",ve]),e("set-picker-option",["formatToString",Ne]),e("set-picker-option",["parseUserInput",Ke]),e("set-picker-option",["handleFocusPicker",vt]),($,ge)=>(V(),ue("div",{class:j([w(i).b(),w(a).b(),{"has-sidebar":$.$slots.sidebar||w(Q),"has-time":w(fe)}])},[me("div",{class:j(w(i).e("body-wrapper"))},[Ze($.$slots,"sidebar",{class:j(w(i).e("sidebar"))}),w(Q)?(V(),ue("div",{key:0,class:j(w(i).e("sidebar"))},[(V(!0),ue(zt,null,In(w(f),(he,Ae)=>(V(),ue("button",{key:Ae,type:"button",class:j(w(i).e("shortcut")),onClick:ye=>O(he)},Ct(he.text),11,["onClick"]))),128))],2)):Qe("v-if",!0),me("div",{class:j(w(i).e("body"))},[w(fe)?(V(),ue("div",{key:0,class:j(w(a).e("time-header"))},[me("span",{class:j(w(a).e("editor-wrap"))},[se(w(xs),{placeholder:w(l)("el.datepicker.selectDate"),"model-value":w(De),size:"small","validate-event":!1,onInput:he=>M.value=he,onChange:Z},null,8,["placeholder","model-value","onInput"])],2),Sn((V(),ue("span",{class:j(w(a).e("editor-wrap"))},[se(w(xs),{placeholder:w(l)("el.datepicker.selectTime"),"model-value":w(Ue),size:"small","validate-event":!1,onFocus:ze,onInput:he=>A.value=he,onChange:W},null,8,["placeholder","model-value","onInput"]),se(w(wC),{visible:Ye.value,format:w(ce),"parsed-value":y.value,onPick:pe},null,8,["visible","format","parsed-value"])],2)),[[w(ld),Ve]])],2)):Qe("v-if",!0),Sn(me("div",{class:j([w(a).e("header"),(H.value==="year"||H.value==="month")&&w(a).e("header--bordered")])},[me("span",{class:j(w(a).e("prev-btn"))},[me("button",{type:"button","aria-label":w(l)("el.datepicker.prevYear"),class:j(["d-arrow-left",w(i).e("icon-btn")]),onClick:he=>k(!1)},[Ze($.$slots,"prev-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Yf))]),_:1})])],10,["aria-label","onClick"]),Sn(me("button",{type:"button","aria-label":w(l)("el.datepicker.prevMonth"),class:j([w(i).e("icon-btn"),"arrow-left"]),onClick:he=>B(!1)},[Ze($.$slots,"prev-month",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Kf))]),_:1})])],10,["aria-label","onClick"]),[[fr,H.value==="date"]])],2),me("span",{role:"button",class:j(w(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Ur(he=>le("year"),["enter"]),onClick:he=>le("year")},Ct(w(z)),43,["onKeydown","onClick"]),Sn(me("span",{role:"button","aria-live":"polite",tabindex:"0",class:j([w(a).e("header-label"),{active:H.value==="month"}]),onKeydown:Ur(he=>le("month"),["enter"]),onClick:he=>le("month")},Ct(w(l)(`el.datepicker.month${w(S)+1}`)),43,["onKeydown","onClick"]),[[fr,H.value==="date"]]),me("span",{class:j(w(a).e("next-btn"))},[Sn(me("button",{type:"button","aria-label":w(l)("el.datepicker.nextMonth"),class:j([w(i).e("icon-btn"),"arrow-right"]),onClick:he=>B(!0)},[Ze($.$slots,"next-month",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Hs))]),_:1})])],10,["aria-label","onClick"]),[[fr,H.value==="date"]]),me("button",{type:"button","aria-label":w(l)("el.datepicker.nextYear"),class:j([w(i).e("icon-btn"),"d-arrow-right"]),onClick:he=>k(!0)},[Ze($.$slots,"next-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Xf))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[fr,H.value!=="time"]]),me("div",{class:j(w(i).e("content")),onKeydown:Me},[H.value==="date"?(V(),rt(R5,{key:0,ref_key:"currentViewRef",ref:g,"selection-mode":w(G),date:y.value,"parsed-value":$.parsedValue,"disabled-date":w(h),"cell-class-name":w(p),onPick:F},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Qe("v-if",!0),H.value==="year"?(V(),rt(D5,{key:1,ref_key:"currentViewRef",ref:g,"selection-mode":w(G),date:y.value,"disabled-date":w(h),"parsed-value":$.parsedValue,onPick:de},null,8,["selection-mode","date","disabled-date","parsed-value"])):Qe("v-if",!0),H.value==="month"?(V(),rt(P5,{key:2,ref_key:"currentViewRef",ref:g,"selection-mode":w(G),date:y.value,"parsed-value":$.parsedValue,"disabled-date":w(h),onPick:re},null,8,["selection-mode","date","parsed-value","disabled-date"])):Qe("v-if",!0)],34)],2)],2),Sn(me("div",{class:j(w(i).e("footer"))},[Sn(se(w(Aa),{text:"",size:"small",class:j(w(i).e("link-btn")),disabled:w($e),onClick:K},{default:be(()=>[dn(Ct(w(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[fr,!w(X)&&$.showNow]]),se(w(Aa),{plain:"",size:"small",class:j(w(i).e("link-btn")),disabled:w(Re),onClick:He},{default:be(()=>[dn(Ct(w(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[fr,w(Ee)]])],2))}});var gSe=Pt(vSe,[["__file","panel-date-pick.vue"]]);const ySe=Rt({...GX,...mL,visible:Boolean}),WX=n=>{const{emit:e}=Dn(),t=hh(),r=ea();return a=>{const s=Zt(a.value)?a.value():a.value;if(s){e("pick",[hn(s[0]).locale(n.value),hn(s[1]).locale(n.value)]);return}a.onClick&&a.onClick({attrs:t,slots:r,emit:e})}},qX=(n,{defaultValue:e,leftDate:t,rightDate:r,unit:i,onParsedValueChanged:a})=>{const{emit:s}=Dn(),{pickerNs:o}=Ot(CT),l=bt("date-range-picker"),{t:c,lang:u}=rr(),d=WX(u),f=ee(),h=ee(),p=ee({endDate:null,selecting:!1}),m=_=>{p.value=_},v=(_=!1)=>{const x=w(f),S=w(h);sg([x,S])&&s("pick",[x,S],_)},g=_=>{p.value.selecting=_,_||(p.value.endDate=null)},y=_=>{if(Tt(_)&&_.length===2){const[x,S]=_;f.value=x,t.value=x,h.value=S,a(w(f),w(h))}else b()},b=()=>{const[_,x]=gL(w(e),{lang:w(u),unit:i,unlinkPanels:n.unlinkPanels});f.value=void 0,h.value=void 0,t.value=_,r.value=x};return dt(e,_=>{_&&b()},{immediate:!0}),dt(()=>n.parsedValue,y,{immediate:!0}),{minDate:f,maxDate:h,rangeState:p,lang:u,ppNs:o,drpNs:l,handleChangeRange:m,handleRangeConfirm:v,handleShortcutClick:d,onSelect:g,onReset:y,t:c}},Kw="month",bSe=Ie({__name:"panel-date-range",props:ySe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const t=n,r=Ot("EP_PICKER_BASE"),{disabledDate:i,cellClassName:a,defaultTime:s,clearable:o}=r.props,l=_r(r.props,"format"),c=_r(r.props,"shortcuts"),u=_r(r.props,"defaultValue"),{lang:d}=rr(),f=ee(hn().locale(d.value)),h=ee(hn().locale(d.value).add(1,Kw)),{minDate:p,maxDate:m,rangeState:v,ppNs:g,drpNs:y,handleChangeRange:b,handleRangeConfirm:_,handleShortcutClick:x,onSelect:S,onReset:T,t:C}=qX(t,{defaultValue:u,leftDate:f,rightDate:h,unit:Kw,onParsedValueChanged:ge});dt(()=>t.visible,he=>{!he&&v.value.selecting&&(T(t.parsedValue),S(!1))});const M=ee({min:null,max:null}),A=ee({min:null,max:null}),I=U(()=>`${f.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${f.value.month()+1}`)}`),D=U(()=>`${h.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${h.value.month()+1}`)}`),L=U(()=>f.value.year()),F=U(()=>f.value.month()),B=U(()=>h.value.year()),k=U(()=>h.value.month()),H=U(()=>!!c.value.length),z=U(()=>M.value.min!==null?M.value.min:p.value?p.value.format(Q.value):""),O=U(()=>M.value.max!==null?M.value.max:m.value||p.value?(m.value||p.value).format(Q.value):""),G=U(()=>A.value.min!==null?A.value.min:p.value?p.value.format(J.value):""),X=U(()=>A.value.max!==null?A.value.max:m.value||p.value?(m.value||p.value).format(J.value):""),J=U(()=>t.timeFormat||nX(l.value)),Q=U(()=>t.dateFormat||tX(l.value)),re=he=>sg(he)&&(i?!i(he[0].toDate())&&!i(he[1].toDate()):!0),de=()=>{f.value=f.value.subtract(1,"year"),t.unlinkPanels||(h.value=f.value.add(1,"month")),ce("year")},le=()=>{f.value=f.value.subtract(1,"month"),t.unlinkPanels||(h.value=f.value.add(1,"month")),ce("month")},fe=()=>{t.unlinkPanels?h.value=h.value.add(1,"year"):(f.value=f.value.add(1,"year"),h.value=f.value.add(1,"month")),ce("year")},Ee=()=>{t.unlinkPanels?h.value=h.value.add(1,"month"):(f.value=f.value.add(1,"month"),h.value=f.value.add(1,"month")),ce("month")},Re=()=>{f.value=f.value.add(1,"year"),ce("year")},He=()=>{f.value=f.value.add(1,"month"),ce("month")},$e=()=>{h.value=h.value.subtract(1,"year"),ce("year")},K=()=>{h.value=h.value.subtract(1,"month"),ce("month")},ce=he=>{e("panel-change",[f.value.toDate(),h.value.toDate()],he)},ie=U(()=>{const he=(F.value+1)%12,Ae=F.value+1>=12?1:0;return t.unlinkPanels&&new Date(L.value+Ae,he)<new Date(B.value,k.value)}),Ue=U(()=>t.unlinkPanels&&B.value*12+k.value-(L.value*12+F.value+1)>=12),De=U(()=>!(p.value&&m.value&&!v.value.selecting&&sg([p.value,m.value]))),Ye=U(()=>t.type==="datetime"||t.type==="datetimerange"),ze=(he,Ae)=>{if(he)return s?hn(s[Ae]||s).locale(d.value).year(he.year()).month(he.month()).date(he.date()):he},Ve=(he,Ae=!0)=>{const ye=he.minDate,Se=he.maxDate,ft=ze(ye,0),Te=ze(Se,1);m.value===Te&&p.value===ft||(e("calendar-change",[ye.toDate(),Se&&Se.toDate()]),m.value=Te,p.value=ft,!(!Ae||Ye.value)&&_())},Je=ee(!1),pe=ee(!1),W=()=>{Je.value=!1},Z=()=>{pe.value=!1},ve=(he,Ae)=>{M.value[Ae]=he;const ye=hn(he,Q.value).locale(d.value);if(ye.isValid()){if(i&&i(ye.toDate()))return;Ae==="min"?(f.value=ye,p.value=(p.value||f.value).year(ye.year()).month(ye.month()).date(ye.date()),!t.unlinkPanels&&(!m.value||m.value.isBefore(p.value))&&(h.value=ye.add(1,"month"),m.value=p.value.add(1,"month"))):(h.value=ye,m.value=(m.value||h.value).year(ye.year()).month(ye.month()).date(ye.date()),!t.unlinkPanels&&(!p.value||p.value.isAfter(m.value))&&(f.value=ye.subtract(1,"month"),p.value=m.value.subtract(1,"month")))}},Ne=(he,Ae)=>{M.value[Ae]=null},Ke=(he,Ae)=>{A.value[Ae]=he;const ye=hn(he,J.value).locale(d.value);ye.isValid()&&(Ae==="min"?(Je.value=!0,p.value=(p.value||f.value).hour(ye.hour()).minute(ye.minute()).second(ye.second())):(pe.value=!0,m.value=(m.value||h.value).hour(ye.hour()).minute(ye.minute()).second(ye.second()),h.value=m.value))},mt=(he,Ae)=>{A.value[Ae]=null,Ae==="min"?(f.value=p.value,Je.value=!1,(!m.value||m.value.isBefore(p.value))&&(m.value=p.value)):(h.value=m.value,pe.value=!1,m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},vt=(he,Ae,ye)=>{A.value.min||(he&&(f.value=he,p.value=(p.value||f.value).hour(he.hour()).minute(he.minute()).second(he.second())),ye||(Je.value=Ae),(!m.value||m.value.isBefore(p.value))&&(m.value=p.value,h.value=he))},Me=(he,Ae,ye)=>{A.value.max||(he&&(h.value=he,m.value=(m.value||h.value).hour(he.hour()).minute(he.minute()).second(he.second())),ye||(pe.value=Ae),m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},ht=()=>{f.value=gL(w(u),{lang:w(d),unit:"month",unlinkPanels:t.unlinkPanels})[0],h.value=f.value.add(1,"month"),m.value=void 0,p.value=void 0,e("pick",null)},st=he=>Tt(he)?he.map(Ae=>Ae.format(l.value)):he.format(l.value),$=he=>Tt(he)?he.map(Ae=>hn(Ae,l.value).locale(d.value)):hn(he,l.value).locale(d.value);function ge(he,Ae){if(t.unlinkPanels&&Ae){const ye=(he==null?void 0:he.year())||0,Se=(he==null?void 0:he.month())||0,ft=Ae.year(),Te=Ae.month();h.value=ye===ft&&Se===Te?Ae.add(1,Kw):Ae}else h.value=f.value.add(1,Kw),Ae&&(h.value=h.value.hour(Ae.hour()).minute(Ae.minute()).second(Ae.second()))}return e("set-picker-option",["isValidValue",re]),e("set-picker-option",["parseUserInput",$]),e("set-picker-option",["formatToString",st]),e("set-picker-option",["handleClear",ht]),(he,Ae)=>(V(),ue("div",{class:j([w(g).b(),w(y).b(),{"has-sidebar":he.$slots.sidebar||w(H),"has-time":w(Ye)}])},[me("div",{class:j(w(g).e("body-wrapper"))},[Ze(he.$slots,"sidebar",{class:j(w(g).e("sidebar"))}),w(H)?(V(),ue("div",{key:0,class:j(w(g).e("sidebar"))},[(V(!0),ue(zt,null,In(w(c),(ye,Se)=>(V(),ue("button",{key:Se,type:"button",class:j(w(g).e("shortcut")),onClick:ft=>w(x)(ye)},Ct(ye.text),11,["onClick"]))),128))],2)):Qe("v-if",!0),me("div",{class:j(w(g).e("body"))},[w(Ye)?(V(),ue("div",{key:0,class:j(w(y).e("time-header"))},[me("span",{class:j(w(y).e("editors-wrap"))},[me("span",{class:j(w(y).e("time-picker-wrap"))},[se(w(xs),{size:"small",disabled:w(v).selecting,placeholder:w(C)("el.datepicker.startDate"),class:j(w(y).e("editor")),"model-value":w(z),"validate-event":!1,onInput:ye=>ve(ye,"min"),onChange:ye=>Ne(ye,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Sn((V(),ue("span",{class:j(w(y).e("time-picker-wrap"))},[se(w(xs),{size:"small",class:j(w(y).e("editor")),disabled:w(v).selecting,placeholder:w(C)("el.datepicker.startTime"),"model-value":w(G),"validate-event":!1,onFocus:ye=>Je.value=!0,onInput:ye=>Ke(ye,"min"),onChange:ye=>mt(ye,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),se(w(wC),{visible:Je.value,format:w(J),"datetime-role":"start","parsed-value":f.value,onPick:vt},null,8,["visible","format","parsed-value"])],2)),[[w(ld),W]])],2),me("span",null,[se(w(Vt),null,{default:be(()=>[se(w(Hs))]),_:1})]),me("span",{class:j([w(y).e("editors-wrap"),"is-right"])},[me("span",{class:j(w(y).e("time-picker-wrap"))},[se(w(xs),{size:"small",class:j(w(y).e("editor")),disabled:w(v).selecting,placeholder:w(C)("el.datepicker.endDate"),"model-value":w(O),readonly:!w(p),"validate-event":!1,onInput:ye=>ve(ye,"max"),onChange:ye=>Ne(ye,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Sn((V(),ue("span",{class:j(w(y).e("time-picker-wrap"))},[se(w(xs),{size:"small",class:j(w(y).e("editor")),disabled:w(v).selecting,placeholder:w(C)("el.datepicker.endTime"),"model-value":w(X),readonly:!w(p),"validate-event":!1,onFocus:ye=>w(p)&&(pe.value=!0),onInput:ye=>Ke(ye,"max"),onChange:ye=>mt(ye,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),se(w(wC),{"datetime-role":"end",visible:pe.value,format:w(J),"parsed-value":h.value,onPick:Me},null,8,["visible","format","parsed-value"])],2)),[[w(ld),Z]])],2)],2)):Qe("v-if",!0),me("div",{class:j([[w(g).e("content"),w(y).e("content")],"is-left"])},[me("div",{class:j(w(y).e("header"))},[me("button",{type:"button",class:j([w(g).e("icon-btn"),"d-arrow-left"]),"aria-label":w(C)("el.datepicker.prevYear"),onClick:de},[Ze(he.$slots,"prev-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Yf))]),_:1})])],10,["aria-label"]),me("button",{type:"button",class:j([w(g).e("icon-btn"),"arrow-left"]),"aria-label":w(C)("el.datepicker.prevMonth"),onClick:le},[Ze(he.$slots,"prev-month",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Kf))]),_:1})])],10,["aria-label"]),he.unlinkPanels?(V(),ue("button",{key:0,type:"button",disabled:!w(Ue),class:j([[w(g).e("icon-btn"),{"is-disabled":!w(Ue)}],"d-arrow-right"]),"aria-label":w(C)("el.datepicker.nextYear"),onClick:Re},[Ze(he.$slots,"next-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Xf))]),_:1})])],10,["disabled","aria-label"])):Qe("v-if",!0),he.unlinkPanels?(V(),ue("button",{key:1,type:"button",disabled:!w(ie),class:j([[w(g).e("icon-btn"),{"is-disabled":!w(ie)}],"arrow-right"]),"aria-label":w(C)("el.datepicker.nextMonth"),onClick:He},[Ze(he.$slots,"next-month",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Hs))]),_:1})])],10,["disabled","aria-label"])):Qe("v-if",!0),me("div",null,Ct(w(I)),1)],2),se(R5,{"selection-mode":"range",date:f.value,"min-date":w(p),"max-date":w(m),"range-state":w(v),"disabled-date":w(i),"cell-class-name":w(a),onChangerange:w(b),onPick:Ve,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),me("div",{class:j([[w(g).e("content"),w(y).e("content")],"is-right"])},[me("div",{class:j(w(y).e("header"))},[he.unlinkPanels?(V(),ue("button",{key:0,type:"button",disabled:!w(Ue),class:j([[w(g).e("icon-btn"),{"is-disabled":!w(Ue)}],"d-arrow-left"]),"aria-label":w(C)("el.datepicker.prevYear"),onClick:$e},[Ze(he.$slots,"prev-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Yf))]),_:1})])],10,["disabled","aria-label"])):Qe("v-if",!0),he.unlinkPanels?(V(),ue("button",{key:1,type:"button",disabled:!w(ie),class:j([[w(g).e("icon-btn"),{"is-disabled":!w(ie)}],"arrow-left"]),"aria-label":w(C)("el.datepicker.prevMonth"),onClick:K},[Ze(he.$slots,"prev-month",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Kf))]),_:1})])],10,["disabled","aria-label"])):Qe("v-if",!0),me("button",{type:"button","aria-label":w(C)("el.datepicker.nextYear"),class:j([w(g).e("icon-btn"),"d-arrow-right"]),onClick:fe},[Ze(he.$slots,"next-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Xf))]),_:1})])],10,["aria-label"]),me("button",{type:"button",class:j([w(g).e("icon-btn"),"arrow-right"]),"aria-label":w(C)("el.datepicker.nextMonth"),onClick:Ee},[Ze(he.$slots,"next-month",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Hs))]),_:1})])],10,["aria-label"]),me("div",null,Ct(w(D)),1)],2),se(R5,{"selection-mode":"range",date:h.value,"min-date":w(p),"max-date":w(m),"range-state":w(v),"disabled-date":w(i),"cell-class-name":w(a),onChangerange:w(b),onPick:Ve,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),w(Ye)?(V(),ue("div",{key:0,class:j(w(g).e("footer"))},[w(o)?(V(),rt(w(Aa),{key:0,text:"",size:"small",class:j(w(g).e("link-btn")),onClick:ht},{default:be(()=>[dn(Ct(w(C)("el.datepicker.clear")),1)]),_:1},8,["class"])):Qe("v-if",!0),se(w(Aa),{plain:"",size:"small",class:j(w(g).e("link-btn")),disabled:w(De),onClick:ye=>w(_)(!1)},{default:be(()=>[dn(Ct(w(C)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Qe("v-if",!0)],2))}});var _Se=Pt(bSe,[["__file","panel-date-range.vue"]]);const wSe=Rt({...mL}),xSe=["pick","set-picker-option","calendar-change"],SSe=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const{t:r}=rr(),i=()=>{e.value=e.value.subtract(1,"year"),n.value||(t.value=t.value.subtract(1,"year"))},a=()=>{n.value||(e.value=e.value.add(1,"year")),t.value=t.value.add(1,"year")},s=()=>{e.value=e.value.add(1,"year")},o=()=>{t.value=t.value.subtract(1,"year")},l=U(()=>`${e.value.year()} ${r("el.datepicker.year")}`),c=U(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=U(()=>e.value.year()),d=U(()=>t.value.year()===e.value.year()?e.value.year()+1:t.value.year());return{leftPrevYear:i,rightNextYear:a,leftNextYear:s,rightPrevYear:o,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},Yw="year",CSe=Ie({name:"DatePickerMonthRange"}),MSe=Ie({...CSe,props:wSe,emits:xSe,setup(n,{emit:e}){const t=n,{lang:r}=rr(),i=Ot("EP_PICKER_BASE"),{shortcuts:a,disabledDate:s}=i.props,o=_r(i.props,"format"),l=_r(i.props,"defaultValue"),c=ee(hn().locale(r.value)),u=ee(hn().locale(r.value).add(1,Yw)),{minDate:d,maxDate:f,rangeState:h,ppNs:p,drpNs:m,handleChangeRange:v,handleRangeConfirm:g,handleShortcutClick:y,onSelect:b}=qX(t,{defaultValue:l,leftDate:c,rightDate:u,unit:Yw,onParsedValueChanged:z}),_=U(()=>!!a.length),{leftPrevYear:x,rightNextYear:S,leftNextYear:T,rightPrevYear:C,leftLabel:M,rightLabel:A,leftYear:I,rightYear:D}=SSe({unlinkPanels:_r(t,"unlinkPanels"),leftDate:c,rightDate:u}),L=U(()=>t.unlinkPanels&&D.value>I.value+1),F=(O,G=!0)=>{const X=O.minDate,J=O.maxDate;f.value===J&&d.value===X||(e("calendar-change",[X.toDate(),J&&J.toDate()]),f.value=J,d.value=X,G&&g())},B=()=>{c.value=gL(w(l),{lang:w(r),unit:"year",unlinkPanels:t.unlinkPanels})[0],u.value=c.value.add(1,"year"),e("pick",null)},k=O=>Tt(O)?O.map(G=>G.format(o.value)):O.format(o.value),H=O=>Tt(O)?O.map(G=>hn(G,o.value).locale(r.value)):hn(O,o.value).locale(r.value);function z(O,G){if(t.unlinkPanels&&G){const X=(O==null?void 0:O.year())||0,J=G.year();u.value=X===J?G.add(1,Yw):G}else u.value=c.value.add(1,Yw)}return e("set-picker-option",["isValidValue",sg]),e("set-picker-option",["formatToString",k]),e("set-picker-option",["parseUserInput",H]),e("set-picker-option",["handleClear",B]),(O,G)=>(V(),ue("div",{class:j([w(p).b(),w(m).b(),{"has-sidebar":!!O.$slots.sidebar||w(_)}])},[me("div",{class:j(w(p).e("body-wrapper"))},[Ze(O.$slots,"sidebar",{class:j(w(p).e("sidebar"))}),w(_)?(V(),ue("div",{key:0,class:j(w(p).e("sidebar"))},[(V(!0),ue(zt,null,In(w(a),(X,J)=>(V(),ue("button",{key:J,type:"button",class:j(w(p).e("shortcut")),onClick:Q=>w(y)(X)},Ct(X.text),11,["onClick"]))),128))],2)):Qe("v-if",!0),me("div",{class:j(w(p).e("body"))},[me("div",{class:j([[w(p).e("content"),w(m).e("content")],"is-left"])},[me("div",{class:j(w(m).e("header"))},[me("button",{type:"button",class:j([w(p).e("icon-btn"),"d-arrow-left"]),onClick:w(x)},[Ze(O.$slots,"prev-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Yf))]),_:1})])],10,["onClick"]),O.unlinkPanels?(V(),ue("button",{key:0,type:"button",disabled:!w(L),class:j([[w(p).e("icon-btn"),{[w(p).is("disabled")]:!w(L)}],"d-arrow-right"]),onClick:w(T)},[Ze(O.$slots,"next-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Xf))]),_:1})])],10,["disabled","onClick"])):Qe("v-if",!0),me("div",null,Ct(w(M)),1)],2),se(P5,{"selection-mode":"range",date:c.value,"min-date":w(d),"max-date":w(f),"range-state":w(h),"disabled-date":w(s),onChangerange:w(v),onPick:F,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),me("div",{class:j([[w(p).e("content"),w(m).e("content")],"is-right"])},[me("div",{class:j(w(m).e("header"))},[O.unlinkPanels?(V(),ue("button",{key:0,type:"button",disabled:!w(L),class:j([[w(p).e("icon-btn"),{"is-disabled":!w(L)}],"d-arrow-left"]),onClick:w(C)},[Ze(O.$slots,"prev-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Yf))]),_:1})])],10,["disabled","onClick"])):Qe("v-if",!0),me("button",{type:"button",class:j([w(p).e("icon-btn"),"d-arrow-right"]),onClick:w(S)},[Ze(O.$slots,"next-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Xf))]),_:1})])],10,["onClick"]),me("div",null,Ct(w(A)),1)],2),se(P5,{"selection-mode":"range",date:u.value,"min-date":w(d),"max-date":w(f),"range-state":w(h),"disabled-date":w(s),onChangerange:w(v),onPick:F,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var TSe=Pt(MSe,[["__file","panel-month-range.vue"]]);const ASe=Rt({...mL}),ESe=["pick","set-picker-option","calendar-change"],ISe=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const r=()=>{e.value=e.value.subtract(10,"year"),n.value||(t.value=t.value.subtract(10,"year"))},i=()=>{n.value||(e.value=e.value.add(10,"year")),t.value=t.value.add(10,"year")},a=()=>{e.value=e.value.add(10,"year")},s=()=>{t.value=t.value.subtract(10,"year")},o=U(()=>{const d=Math.floor(e.value.year()/10)*10;return`${d}-${d+9}`}),l=U(()=>{const d=Math.floor(t.value.year()/10)*10;return`${d}-${d+9}`}),c=U(()=>Math.floor(e.value.year()/10)*10+9),u=U(()=>Math.floor(t.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:a,rightPrevYear:s,leftLabel:o,rightLabel:l,leftYear:c,rightYear:u}},vF="year",RSe=Ie({name:"DatePickerYearRange"}),PSe=Ie({...RSe,props:ASe,emits:ESe,setup(n,{emit:e}){const t=n,{lang:r}=rr(),i=ee(hn().locale(r.value)),a=ee(i.value.add(10,"year")),{pickerNs:s}=Ot(CT),o=bt("date-range-picker"),l=U(()=>!!F.length),c=U(()=>[s.b(),o.b(),{"has-sidebar":!!ea().sidebar||l.value}]),u=U(()=>({content:[s.e("content"),o.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!x.value},"d-arrow-right"]})),d=U(()=>({content:[s.e("content"),o.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!x.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]})),f=WX(r),{leftPrevYear:h,rightNextYear:p,leftNextYear:m,rightPrevYear:v,leftLabel:g,rightLabel:y,leftYear:b,rightYear:_}=ISe({unlinkPanels:_r(t,"unlinkPanels"),leftDate:i,rightDate:a}),x=U(()=>t.unlinkPanels&&_.value>b.value+1),S=ee(),T=ee(),C=ee({endDate:null,selecting:!1}),M=Q=>{C.value=Q},A=(Q,re=!0)=>{const de=Q.minDate,le=Q.maxDate;T.value===le&&S.value===de||(e("calendar-change",[de.toDate(),le&&le.toDate()]),T.value=le,S.value=de,re&&I())},I=(Q=!1)=>{sg([S.value,T.value])&&e("pick",[S.value,T.value],Q)},D=Q=>{C.value.selecting=Q,Q||(C.value.endDate=null)},L=Ot("EP_PICKER_BASE"),{shortcuts:F,disabledDate:B}=L.props,k=_r(L.props,"format"),H=_r(L.props,"defaultValue"),z=()=>{let Q;if(Tt(H.value)){const re=hn(H.value[0]);let de=hn(H.value[1]);return t.unlinkPanels||(de=re.add(10,vF)),[re,de]}else H.value?Q=hn(H.value):Q=hn();return Q=Q.locale(r.value),[Q,Q.add(10,vF)]};dt(()=>H.value,Q=>{if(Q){const re=z();i.value=re[0],a.value=re[1]}},{immediate:!0}),dt(()=>t.parsedValue,Q=>{if(Q&&Q.length===2)if(S.value=Q[0],T.value=Q[1],i.value=S.value,t.unlinkPanels&&T.value){const re=S.value.year(),de=T.value.year();a.value=re===de?T.value.add(10,"year"):T.value}else a.value=i.value.add(10,"year");else{const re=z();S.value=void 0,T.value=void 0,i.value=re[0],a.value=re[1]}},{immediate:!0});const O=Q=>Tt(Q)?Q.map(re=>hn(re,k.value).locale(r.value)):hn(Q,k.value).locale(r.value),G=Q=>Tt(Q)?Q.map(re=>re.format(k.value)):Q.format(k.value),X=Q=>sg(Q)&&(B?!B(Q[0].toDate())&&!B(Q[1].toDate()):!0),J=()=>{const Q=z();i.value=Q[0],a.value=Q[1],T.value=void 0,S.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",X]),e("set-picker-option",["parseUserInput",O]),e("set-picker-option",["formatToString",G]),e("set-picker-option",["handleClear",J]),(Q,re)=>(V(),ue("div",{class:j(w(c))},[me("div",{class:j(w(s).e("body-wrapper"))},[Ze(Q.$slots,"sidebar",{class:j(w(s).e("sidebar"))}),w(l)?(V(),ue("div",{key:0,class:j(w(s).e("sidebar"))},[(V(!0),ue(zt,null,In(w(F),(de,le)=>(V(),ue("button",{key:le,type:"button",class:j(w(s).e("shortcut")),onClick:fe=>w(f)(de)},Ct(de.text),11,["onClick"]))),128))],2)):Qe("v-if",!0),me("div",{class:j(w(s).e("body"))},[me("div",{class:j(w(u).content)},[me("div",{class:j(w(o).e("header"))},[me("button",{type:"button",class:j(w(u).arrowLeftBtn),onClick:w(h)},[Ze(Q.$slots,"prev-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Yf))]),_:1})])],10,["onClick"]),Q.unlinkPanels?(V(),ue("button",{key:0,type:"button",disabled:!w(x),class:j(w(u).arrowRightBtn),onClick:w(m)},[Ze(Q.$slots,"next-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Xf))]),_:1})])],10,["disabled","onClick"])):Qe("v-if",!0),me("div",null,Ct(w(g)),1)],2),se(D5,{"selection-mode":"range",date:i.value,"min-date":S.value,"max-date":T.value,"range-state":C.value,"disabled-date":w(B),onChangerange:M,onPick:A,onSelect:D},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),me("div",{class:j(w(d).content)},[me("div",{class:j(w(o).e("header"))},[Q.unlinkPanels?(V(),ue("button",{key:0,type:"button",disabled:!w(x),class:j(w(d).arrowLeftBtn),onClick:w(v)},[Ze(Q.$slots,"prev-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Yf))]),_:1})])],10,["disabled","onClick"])):Qe("v-if",!0),me("button",{type:"button",class:j(w(d).arrowRightBtn),onClick:w(p)},[Ze(Q.$slots,"next-year",{},()=>[se(w(Vt),null,{default:be(()=>[se(w(Xf))]),_:1})])],10,["onClick"]),me("div",null,Ct(w(y)),1)],2),se(D5,{"selection-mode":"range",date:a.value,"min-date":S.value,"max-date":T.value,"range-state":C.value,"disabled-date":w(B),onChangerange:M,onPick:A,onSelect:D},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var DSe=Pt(PSe,[["__file","panel-year-range.vue"]]);const kSe=function(n){switch(n){case"daterange":case"datetimerange":return _Se;case"monthrange":return TSe;case"yearrange":return DSe;default:return gSe}};hn.extend(iX);hn.extend(Axe);hn.extend(fL);hn.extend(Ixe);hn.extend(Pxe);hn.extend(kxe);hn.extend(Nxe);hn.extend(Bxe);var LSe=Ie({name:"ElDatePicker",install:null,props:nSe,emits:["update:modelValue"],setup(n,{expose:e,emit:t,slots:r}){const i=bt("picker-panel");$n("ElPopperOptions",mr(_r(n,"popperOptions"))),$n(CT,{slots:r,pickerNs:i});const a=ee();e({focus:()=>{var l;(l=a.value)==null||l.focus()},blur:()=>{var l;(l=a.value)==null||l.blur()},handleOpen:()=>{var l;(l=a.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=a.value)==null||l.handleClose()}});const o=l=>{t("update:modelValue",l)};return()=>{var l;const c=(l=n.format)!=null?l:Fxe[n.type]||Z0,u=kSe(n.type);return se(zX,Hn(n,{format:c,type:n.type,ref:a,"onUpdate:modelValue":o}),{default:d=>se(u,d,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const NSe=gn(LSe),bL=Symbol("elDescriptions");var Ry=Ie({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Ot(bL,{})}},render(){var n;const e=qbe(this.cell),t=(((n=this.cell)==null?void 0:n.dirs)||[]).map(g=>{const{dir:y,arg:b,modifiers:_,value:x}=g;return[y,x,b,_]}),{border:r,direction:i}=this.descriptions,a=i==="vertical",s=()=>{var g,y,b;return((b=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.label)==null?void 0:b.call(y))||e.label},o=()=>{var g,y,b;return(b=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.default)==null?void 0:b.call(y)},l=e.span,c=e.rowspan,u=e.align?`is-${e.align}`:"",d=e.labelAlign?`is-${e.labelAlign}`:u,f=e.className,h=e.labelClassName,p=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,m={width:Pi(p),minWidth:Pi(e.minWidth)},v=bt("descriptions");switch(this.type){case"label":return Sn(Gt(this.tag,{style:m,class:[v.e("cell"),v.e("label"),v.is("bordered-label",r),v.is("vertical-label",a),d,h],colSpan:a?l:1,rowspan:a?1:c},s()),t);case"content":return Sn(Gt(this.tag,{style:m,class:[v.e("cell"),v.e("content"),v.is("bordered-content",r),v.is("vertical-content",a),u,f],colSpan:a?l:l*2-1,rowspan:a?c*2-1:c},o()),t);default:{const g=s();return Sn(Gt("td",{style:m,class:[v.e("cell"),u],colSpan:l,rowspan:c},[ma(g)?void 0:Gt("span",{class:[v.e("label"),h]},g),Gt("span",{class:[v.e("content"),f]},o())]),t)}}}});const OSe=Rt({row:{type:We(Array),default:()=>[]}}),BSe=Ie({name:"ElDescriptionsRow"}),FSe=Ie({...BSe,props:OSe,setup(n){const e=Ot(bL,{});return(t,r)=>w(e).direction==="vertical"?(V(),ue(zt,{key:0},[me("tr",null,[(V(!0),ue(zt,null,In(t.row,(i,a)=>(V(),rt(w(Ry),{key:`tr1-${a}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),me("tr",null,[(V(!0),ue(zt,null,In(t.row,(i,a)=>(V(),rt(w(Ry),{key:`tr2-${a}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(V(),ue("tr",{key:1},[(V(!0),ue(zt,null,In(t.row,(i,a)=>(V(),ue(zt,{key:`tr3-${a}`},[w(e).border?(V(),ue(zt,{key:0},[se(w(Ry),{cell:i,tag:"td",type:"label"},null,8,["cell"]),se(w(Ry),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(V(),rt(w(Ry),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var zSe=Pt(FSe,[["__file","descriptions-row.vue"]]);const USe=Rt({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Ji,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),HSe=Ie({name:"ElDescriptions"}),VSe=Ie({...HSe,props:USe,setup(n){const e=n,t=bt("descriptions"),r=Xi(),i=ea();$n(bL,e);const a=U(()=>[t.b(),t.m(r.value)]),s=(l,c,u,d=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),d&&(l.props.span=c),l),o=()=>{if(!i.default)return[];const l=Rf(i.default()).filter(p=>{var m;return((m=p==null?void 0:p.type)==null?void 0:m.name)==="ElDescriptionsItem"}),c=[];let u=[],d=e.column,f=0;const h=[];return l.forEach((p,m)=>{var v,g,y;const b=((v=p.props)==null?void 0:v.span)||1,_=((g=p.props)==null?void 0:g.rowspan)||1,x=c.length;if(h[x]||(h[x]=0),_>1)for(let S=1;S<_;S++)h[y=x+S]||(h[y]=0),h[x+S]++,f++;if(h[x]>0&&(d-=h[x],h[x]=0),m<l.length-1&&(f+=b>d?d:b),m===l.length-1){const S=e.column-f%e.column;u.push(s(p,S,d,!0)),c.push(u);return}b<d?(d-=b,u.push(p)):(u.push(s(p,b,d)),c.push(u),d=e.column,u=[])}),c};return(l,c)=>(V(),ue("div",{class:j(w(a))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(V(),ue("div",{key:0,class:j(w(t).e("header"))},[me("div",{class:j(w(t).e("title"))},[Ze(l.$slots,"title",{},()=>[dn(Ct(l.title),1)])],2),me("div",{class:j(w(t).e("extra"))},[Ze(l.$slots,"extra",{},()=>[dn(Ct(l.extra),1)])],2)],2)):Qe("v-if",!0),me("div",{class:j(w(t).e("body"))},[me("table",{class:j([w(t).e("table"),w(t).is("bordered",l.border)])},[me("tbody",null,[(V(!0),ue(zt,null,In(o(),(u,d)=>(V(),rt(zSe,{key:d,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var $Se=Pt(VSe,[["__file","description.vue"]]);const GSe=Rt({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),KX=Ie({name:"ElDescriptionsItem",props:GSe}),WSe=gn($Se,{DescriptionsItem:KX}),qSe=Si(KX),_L=n=>{if(!n)return{onClick:Sr,onMousedown:Sr,onMouseup:Sr};let e=!1,t=!1;return{onClick:s=>{e&&t&&n(s),e=t=!1},onMousedown:s=>{e=s.target===s.currentTarget},onMouseup:s=>{t=s.target===s.currentTarget}}},KSe=Rt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:We([String,Array,Object])},zIndex:{type:We([String,Number])}}),YSe={click:n=>n instanceof MouseEvent},XSe="overlay";var jSe=Ie({name:"ElOverlay",props:KSe,emits:YSe,setup(n,{slots:e,emit:t}){const r=bt(XSe),i=l=>{t("click",l)},{onClick:a,onMousedown:s,onMouseup:o}=_L(n.customMaskEvent?void 0:i);return()=>n.mask?se("div",{class:[r.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:a,onMousedown:s,onMouseup:o},[Ze(e,"default")],ol.STYLE|ol.CLASS|ol.PROPS,["onClick","onMouseup","onMousedown"]):Gt("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Ze(e,"default")])}});const wL=jSe,YX=Symbol("dialogInjectionKey"),XX=Rt({center:Boolean,alignCenter:Boolean,closeIcon:{type:kr},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),ZSe={close:()=>!0},jX=(n,e,t,r)=>{let i={offsetX:0,offsetY:0};const a=c=>{const u=c.clientX,d=c.clientY,{offsetX:f,offsetY:h}=i,p=n.value.getBoundingClientRect(),m=p.left,v=p.top,g=p.width,y=p.height,b=document.documentElement.clientWidth,_=document.documentElement.clientHeight,x=-m+f,S=-v+h,T=b-m-g+f,C=_-v-y+h,M=I=>{let D=f+I.clientX-u,L=h+I.clientY-d;r!=null&&r.value||(D=Math.min(Math.max(D,x),T),L=Math.min(Math.max(L,S),C)),i={offsetX:D,offsetY:L},n.value&&(n.value.style.transform=`translate(${Pi(D)}, ${Pi(L)})`)},A=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",A)},s=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",a)},o=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",a)},l=()=>{i={offsetX:0,offsetY:0},n.value&&(n.value.style.transform="none")};return pn(()=>{Ta(()=>{t.value?s():o()})}),yr(()=>{o()}),{resetPosition:l}},MT=(...n)=>e=>{n.forEach(t=>{Zt(t)?t(e):t.value=e})},QSe=Ie({name:"ElDialogContent"}),JSe=Ie({...QSe,props:XX,emits:ZSe,setup(n,{expose:e}){const t=n,{t:r}=rr(),{Close:i}=Wk,{dialogRef:a,headerRef:s,bodyId:o,ns:l,style:c}=Ot(YX),{focusTrapRef:u}=Ot(Zk),d=U(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center}]),f=MT(u,a),h=U(()=>t.draggable),p=U(()=>t.overflow),{resetPosition:m}=jX(a,s,h,p);return e({resetPosition:m}),(v,g)=>(V(),ue("div",{ref:w(f),class:j(w(d)),style:Bt(w(c)),tabindex:"-1"},[me("header",{ref_key:"headerRef",ref:s,class:j([w(l).e("header"),{"show-close":v.showClose}])},[Ze(v.$slots,"header",{},()=>[me("span",{role:"heading","aria-level":v.ariaLevel,class:j(w(l).e("title"))},Ct(v.title),11,["aria-level"])]),v.showClose?(V(),ue("button",{key:0,"aria-label":w(r)("el.dialog.close"),class:j(w(l).e("headerbtn")),type:"button",onClick:y=>v.$emit("close")},[se(w(Vt),{class:j(w(l).e("close"))},{default:be(()=>[(V(),rt(Nn(v.closeIcon||w(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Qe("v-if",!0)],2),me("div",{id:w(o),class:j(w(l).e("body"))},[Ze(v.$slots,"default")],10,["id"]),v.$slots.footer?(V(),ue("footer",{key:0,class:j(w(l).e("footer"))},[Ze(v.$slots,"footer")],2)):Qe("v-if",!0)],6))}});var e2e=Pt(JSe,[["__file","dialog-content.vue"]]);const ZX=Rt({...XX,appendToBody:Boolean,appendTo:{type:We([String,Object]),default:"body"},beforeClose:{type:We(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),QX={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Mn]:n=>Vr(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},xL=(n,e={})=>{Kr(n)||ua("[useLockscreen]","You need to pass a ref param to this function");const t=e.ns||bt("popup"),r=U(()=>t.bm("parent","hidden"));if(!nr||lo(document.body,r.value))return;let i=0,a=!1,s="0";const o=()=>{setTimeout(()=>{typeof document>"u"||(Cs(document==null?void 0:document.body,r.value),a&&document&&(document.body.style.width=s))},200)};dt(n,l=>{if(!l){o();return}a=!lo(document.body,r.value),a&&(s=document.body.style.width),i=cY(t.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=qu(document.body,"overflowY");i>0&&(c||u==="scroll")&&a&&(document.body.style.width=`calc(100% - ${i}px)`),vl(document.body,r.value)}),rq(()=>o())},JX=(n,e)=>{var t;const i=Dn().emit,{nextZIndex:a}=Gg();let s="";const o=za(),l=za(),c=ee(!1),u=ee(!1),d=ee(!1),f=ee((t=n.zIndex)!=null?t:a());let h,p;const m=mT("namespace",F1),v=U(()=>{const B={},k=`--${m.value}-dialog`;return n.fullscreen||(n.top&&(B[`${k}-margin-top`]=n.top),n.width&&(B[`${k}-width`]=Pi(n.width))),B}),g=U(()=>n.alignCenter?{display:"flex"}:{});function y(){i("opened")}function b(){i("closed"),i(Mn,!1),n.destroyOnClose&&(d.value=!1)}function _(){i("close")}function x(){p==null||p(),h==null||h(),n.openDelay&&n.openDelay>0?{stop:h}=tm(()=>M(),n.openDelay):M()}function S(){h==null||h(),p==null||p(),n.closeDelay&&n.closeDelay>0?{stop:p}=tm(()=>A(),n.closeDelay):A()}function T(){function B(k){k||(u.value=!0,c.value=!1)}n.beforeClose?n.beforeClose(B):S()}function C(){n.closeOnClickModal&&T()}function M(){nr&&(c.value=!0)}function A(){c.value=!1}function I(){i("openAutoFocus")}function D(){i("closeAutoFocus")}function L(B){var k;((k=B.detail)==null?void 0:k.focusReason)==="pointer"&&B.preventDefault()}n.lockScroll&&xL(c);function F(){n.closeOnPressEscape&&T()}return dt(()=>n.modelValue,B=>{B?(u.value=!1,x(),d.value=!0,f.value=WK(n.zIndex)?a():f.value++,Yt(()=>{i("open"),e.value&&(e.value.scrollTop=0)})):c.value&&S()}),dt(()=>n.fullscreen,B=>{e.value&&(B?(s=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=s)}),pn(()=>{n.modelValue&&(c.value=!0,d.value=!0,x())}),{afterEnter:y,afterLeave:b,beforeLeave:_,handleClose:T,onModalClick:C,close:S,doClose:A,onOpenAutoFocus:I,onCloseAutoFocus:D,onCloseRequested:F,onFocusoutPrevented:L,titleId:o,bodyId:l,closed:u,style:v,overlayDialogStyle:g,rendered:d,visible:c,zIndex:f}},t2e=Ie({name:"ElDialog",inheritAttrs:!1}),n2e=Ie({...t2e,props:ZX,emits:QX,setup(n,{expose:e}){const t=n,r=ea();Ef({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},U(()=>!!r.title));const i=bt("dialog"),a=ee(),s=ee(),o=ee(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:f,rendered:h,zIndex:p,afterEnter:m,afterLeave:v,beforeLeave:g,handleClose:y,onModalClick:b,onOpenAutoFocus:_,onCloseAutoFocus:x,onCloseRequested:S,onFocusoutPrevented:T}=JX(t,a);$n(YX,{dialogRef:a,headerRef:s,bodyId:u,ns:i,rendered:h,style:d});const C=_L(b),M=U(()=>t.draggable&&!t.fullscreen);return e({visible:l,dialogContentRef:o,resetPosition:()=>{var I;(I=o.value)==null||I.resetPosition()}}),(I,D)=>(V(),rt(w(Kg),{to:I.appendTo,disabled:I.appendTo!=="body"?!1:!I.appendToBody},{default:be(()=>[se(ca,{name:"dialog-fade",onAfterEnter:w(m),onAfterLeave:w(v),onBeforeLeave:w(g),persisted:""},{default:be(()=>[Sn(se(w(wL),{"custom-mask-event":"",mask:I.modal,"overlay-class":I.modalClass,"z-index":w(p)},{default:be(()=>[me("div",{role:"dialog","aria-modal":"true","aria-label":I.title||void 0,"aria-labelledby":I.title?void 0:w(c),"aria-describedby":w(u),class:j(`${w(i).namespace.value}-overlay-dialog`),style:Bt(w(f)),onClick:w(C).onClick,onMousedown:w(C).onMousedown,onMouseup:w(C).onMouseup},[se(w(qg),{loop:"",trapped:w(l),"focus-start-el":"container",onFocusAfterTrapped:w(_),onFocusAfterReleased:w(x),onFocusoutPrevented:w(T),onReleaseRequested:w(S)},{default:be(()=>[w(h)?(V(),rt(e2e,Hn({key:0,ref_key:"dialogContentRef",ref:o},I.$attrs,{center:I.center,"align-center":I.alignCenter,"close-icon":I.closeIcon,draggable:w(M),overflow:I.overflow,fullscreen:I.fullscreen,"show-close":I.showClose,title:I.title,"aria-level":I.headerAriaLevel,onClose:w(y)}),El({header:be(()=>[I.$slots.title?Ze(I.$slots,"title",{key:1}):Ze(I.$slots,"header",{key:0,close:w(y),titleId:w(c),titleClass:w(i).e("title")})]),default:be(()=>[Ze(I.$slots,"default")]),_:2},[I.$slots.footer?{name:"footer",fn:be(()=>[Ze(I.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Qe("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[fr,w(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var r2e=Pt(n2e,[["__file","dialog.vue"]]);const i2e=gn(r2e),a2e=Rt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:We(String),default:"solid"}}),s2e=Ie({name:"ElDivider"}),o2e=Ie({...s2e,props:a2e,setup(n){const e=n,t=bt("divider"),r=U(()=>t.cssVar({"border-style":e.borderStyle}));return(i,a)=>(V(),ue("div",{class:j([w(t).b(),w(t).m(i.direction)]),style:Bt(w(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(V(),ue("div",{key:0,class:j([w(t).e("text"),w(t).is(i.contentPosition)])},[Ze(i.$slots,"default")],2)):Qe("v-if",!0)],6))}});var l2e=Pt(o2e,[["__file","divider.vue"]]);const ej=gn(l2e),c2e=Rt({...ZX,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),u2e=QX,d2e=Ie({name:"ElDrawer",inheritAttrs:!1}),f2e=Ie({...d2e,props:c2e,emits:u2e,setup(n,{expose:e}){const t=n,r=ea();Ef({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},U(()=>!!r.title));const i=ee(),a=ee(),s=bt("drawer"),{t:o}=rr(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:f,titleId:h,bodyId:p,zIndex:m,onModalClick:v,onOpenAutoFocus:g,onCloseAutoFocus:y,onFocusoutPrevented:b,onCloseRequested:_,handleClose:x}=JX(t,i),S=U(()=>t.direction==="rtl"||t.direction==="ltr"),T=U(()=>Pi(t.size));return e({handleClose:x,afterEnter:l,afterLeave:c}),(C,M)=>(V(),rt(w(Kg),{to:C.appendTo,disabled:C.appendTo!=="body"?!1:!C.appendToBody},{default:be(()=>[se(ca,{name:w(s).b("fade"),onAfterEnter:w(l),onAfterLeave:w(c),onBeforeLeave:w(u),persisted:""},{default:be(()=>[Sn(se(w(wL),{mask:C.modal,"overlay-class":C.modalClass,"z-index":w(m),onClick:w(v)},{default:be(()=>[se(w(qg),{loop:"",trapped:w(d),"focus-trap-el":i.value,"focus-start-el":a.value,onFocusAfterTrapped:w(g),onFocusAfterReleased:w(y),onFocusoutPrevented:w(b),onReleaseRequested:w(_)},{default:be(()=>[me("div",Hn({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":C.title||void 0,"aria-labelledby":C.title?void 0:w(h),"aria-describedby":w(p)},C.$attrs,{class:[w(s).b(),C.direction,w(d)&&"open"],style:w(S)?"width: "+w(T):"height: "+w(T),role:"dialog",onClick:sn(()=>{},["stop"])}),[me("span",{ref_key:"focusStartRef",ref:a,class:j(w(s).e("sr-focus")),tabindex:"-1"},null,2),C.withHeader?(V(),ue("header",{key:0,class:j(w(s).e("header"))},[C.$slots.title?Ze(C.$slots,"title",{key:1},()=>[Qe(" DEPRECATED SLOT ")]):Ze(C.$slots,"header",{key:0,close:w(x),titleId:w(h),titleClass:w(s).e("title")},()=>[C.$slots.title?Qe("v-if",!0):(V(),ue("span",{key:0,id:w(h),role:"heading","aria-level":C.headerAriaLevel,class:j(w(s).e("title"))},Ct(C.title),11,["id","aria-level"]))]),C.showClose?(V(),ue("button",{key:2,"aria-label":w(o)("el.drawer.close"),class:j(w(s).e("close-btn")),type:"button",onClick:w(x)},[se(w(Vt),{class:j(w(s).e("close"))},{default:be(()=>[se(w(gc))]),_:1},8,["class"])],10,["aria-label","onClick"])):Qe("v-if",!0)],2)):Qe("v-if",!0),w(f)?(V(),ue("div",{key:1,id:w(p),class:j(w(s).e("body"))},[Ze(C.$slots,"default")],10,["id"])):Qe("v-if",!0),C.$slots.footer?(V(),ue("div",{key:2,class:j(w(s).e("footer"))},[Ze(C.$slots,"footer")],2)):Qe("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[fr,w(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var h2e=Pt(f2e,[["__file","drawer.vue"]]);const p2e=gn(h2e),m2e=Ie({inheritAttrs:!1});function v2e(n,e,t,r,i,a){return Ze(n.$slots,"default")}var g2e=Pt(m2e,[["render",v2e],["__file","collection.vue"]]);const y2e=Ie({name:"ElCollectionItem",inheritAttrs:!1});function b2e(n,e,t,r,i,a){return Ze(n.$slots,"default")}var _2e=Pt(y2e,[["render",b2e],["__file","collection-item.vue"]]);const tj="data-el-collection-item",nj=n=>{const e=`El${n}Collection`,t=`${e}Item`,r=Symbol(e),i=Symbol(t),a={...g2e,name:e,setup(){const o=ee(null),l=new Map;$n(r,{itemMap:l,getItems:()=>{const u=w(o);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${tj}]`));return[...l.values()].sort((h,p)=>d.indexOf(h.ref)-d.indexOf(p.ref))},collectionRef:o})}},s={..._2e,name:t,setup(o,{attrs:l}){const c=ee(null),u=Ot(r,void 0);$n(i,{collectionItemRef:c}),pn(()=>{const d=w(c);d&&u.itemMap.set(d,{ref:d,...l})}),yr(()=>{const d=w(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:a,ElCollectionItem:s}},w2e=Rt({style:{type:We([String,Array,Object])},currentTabId:{type:We(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:We(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:x2e,ElCollectionItem:S2e,COLLECTION_INJECTION_KEY:SL,COLLECTION_ITEM_INJECTION_KEY:C2e}=nj("RovingFocusGroup"),CL=Symbol("elRovingFocusGroup"),rj=Symbol("elRovingFocusGroupItem"),M2e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},T2e=(n,e)=>{if(e!=="rtl")return n;switch(n){case Nt.right:return Nt.left;case Nt.left:return Nt.right;default:return n}},A2e=(n,e,t)=>{const r=T2e(n.code,t);if(!(e==="vertical"&&[Nt.left,Nt.right].includes(r))&&!(e==="horizontal"&&[Nt.up,Nt.down].includes(r)))return M2e[r]},E2e=(n,e)=>n.map((t,r)=>n[(r+e)%n.length]),ML=n=>{const{activeElement:e}=document;for(const t of n)if(t===e||(t.focus(),e!==document.activeElement))return},gF="currentTabIdChange",yF="rovingFocusGroup.entryFocus",I2e={bubbles:!1,cancelable:!0},R2e=Ie({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:w2e,emits:[gF,"entryFocus"],setup(n,{emit:e}){var t;const r=ee((t=n.currentTabId||n.defaultCurrentTabId)!=null?t:null),i=ee(!1),a=ee(!1),s=ee(null),{getItems:o}=Ot(SL,void 0),l=U(()=>[{outline:"none"},n.style]),c=m=>{e(gF,m)},u=()=>{i.value=!0},d=Ri(m=>{var v;(v=n.onMousedown)==null||v.call(n,m)},()=>{a.value=!0}),f=Ri(m=>{var v;(v=n.onFocus)==null||v.call(n,m)},m=>{const v=!w(a),{target:g,currentTarget:y}=m;if(g===y&&v&&!w(i)){const b=new Event(yF,I2e);if(y==null||y.dispatchEvent(b),!b.defaultPrevented){const _=o().filter(M=>M.focusable),x=_.find(M=>M.active),S=_.find(M=>M.id===w(r)),C=[x,S,..._].filter(Boolean).map(M=>M.ref);ML(C)}}a.value=!1}),h=Ri(m=>{var v;(v=n.onBlur)==null||v.call(n,m)},()=>{i.value=!1}),p=(...m)=>{e("entryFocus",...m)};$n(CL,{currentTabbedId:Fg(r),loop:_r(n,"loop"),tabIndex:U(()=>w(i)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:l,orientation:_r(n,"orientation"),dir:_r(n,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:h,onFocus:f,onMousedown:d}),dt(()=>n.currentTabId,m=>{r.value=m??null}),Tr(s,yF,p)}});function P2e(n,e,t,r,i,a){return Ze(n.$slots,"default")}var D2e=Pt(R2e,[["render",P2e],["__file","roving-focus-group-impl.vue"]]);const k2e=Ie({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:x2e,ElRovingFocusGroupImpl:D2e}});function L2e(n,e,t,r,i,a){const s=Et("el-roving-focus-group-impl"),o=Et("el-focus-group-collection");return V(),rt(o,null,{default:be(()=>[se(s,ic($f(n.$attrs)),{default:be(()=>[Ze(n.$slots,"default")]),_:3},16)]),_:3})}var N2e=Pt(k2e,[["render",L2e],["__file","roving-focus-group.vue"]]);const v2=Rt({trigger:Vb.trigger,triggerKeys:{type:We(Array),default:()=>[Nt.enter,Nt.numpadEnter,Nt.space,Nt.down]},effect:{...ba.effect,default:"light"},type:{type:We(String)},placement:{type:We(String),default:"bottom"},popperOptions:{type:We(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:We([Number,String]),default:0},maxHeight:{type:We([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:We(Object)},teleported:ba.teleported}),ij=Rt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:kr}}),O2e=Rt({onKeydown:{type:We(Function)}}),B2e=[Nt.down,Nt.pageDown,Nt.home],aj=[Nt.up,Nt.pageUp,Nt.end],F2e=[...B2e,...aj],{ElCollection:z2e,ElCollectionItem:U2e,COLLECTION_INJECTION_KEY:H2e,COLLECTION_ITEM_INJECTION_KEY:V2e}=nj("Dropdown"),TT=Symbol("elDropdown"),{ButtonGroup:$2e}=Aa,G2e=Ie({name:"ElDropdown",components:{ElButton:Aa,ElButtonGroup:$2e,ElScrollbar:du,ElDropdownCollection:z2e,ElTooltip:ns,ElRovingFocusGroup:N2e,ElOnlyChild:TY,ElIcon:Vt,ArrowDown:wd},props:v2,emits:["visible-change","click","command"],setup(n,{emit:e}){const t=Dn(),r=bt("dropdown"),{t:i}=rr(),a=ee(),s=ee(),o=ee(null),l=ee(null),c=ee(null),u=ee(null),d=ee(!1),f=U(()=>({maxHeight:Pi(n.maxHeight)})),h=U(()=>[r.m(_.value)]),p=U(()=>bs(n.trigger)),m=za().value,v=U(()=>n.id||m);dt([a,p],([k,H],[z])=>{var O,G,X;(O=z==null?void 0:z.$el)!=null&&O.removeEventListener&&z.$el.removeEventListener("pointerenter",S),(G=k==null?void 0:k.$el)!=null&&G.removeEventListener&&k.$el.removeEventListener("pointerenter",S),(X=k==null?void 0:k.$el)!=null&&X.addEventListener&&H.includes("hover")&&k.$el.addEventListener("pointerenter",S)},{immediate:!0}),yr(()=>{var k,H;(H=(k=a.value)==null?void 0:k.$el)!=null&&H.removeEventListener&&a.value.$el.removeEventListener("pointerenter",S)});function g(){y()}function y(){var k;(k=o.value)==null||k.onClose()}function b(){var k;(k=o.value)==null||k.onOpen()}const _=Xi();function x(...k){e("command",...k)}function S(){var k,H;(H=(k=a.value)==null?void 0:k.$el)==null||H.focus()}function T(){}function C(){const k=w(l);p.value.includes("hover")&&(k==null||k.focus()),u.value=null}function M(k){u.value=k}function A(k){d.value||(k.preventDefault(),k.stopImmediatePropagation())}function I(){e("visible-change",!0)}function D(k){(k==null?void 0:k.type)==="keydown"&&l.value.focus()}function L(){e("visible-change",!1)}return $n(TT,{contentRef:l,role:U(()=>n.role),triggerId:v,isUsingKeyboard:d,onItemEnter:T,onItemLeave:C}),$n("elDropdown",{instance:t,dropdownSize:_,handleClick:g,commandHandler:x,trigger:_r(n,"trigger"),hideOnClick:_r(n,"hideOnClick")}),{t:i,ns:r,scrollbar:c,wrapStyle:f,dropdownTriggerKls:h,dropdownSize:_,triggerId:v,currentTabId:u,handleCurrentTabIdChange:M,handlerMainButtonClick:k=>{e("click",k)},handleEntryFocus:A,handleClose:y,handleOpen:b,handleBeforeShowTooltip:I,handleShowTooltip:D,handleBeforeHideTooltip:L,onFocusAfterTrapped:k=>{var H,z;k.preventDefault(),(z=(H=l.value)==null?void 0:H.focus)==null||z.call(H,{preventScroll:!0})},popperRef:o,contentRef:l,triggeringElementRef:a,referenceElementRef:s}}});function W2e(n,e,t,r,i,a){var s;const o=Et("el-dropdown-collection"),l=Et("el-roving-focus-group"),c=Et("el-scrollbar"),u=Et("el-only-child"),d=Et("el-tooltip"),f=Et("el-button"),h=Et("arrow-down"),p=Et("el-icon"),m=Et("el-button-group");return V(),ue("div",{class:j([n.ns.b(),n.ns.is("disabled",n.disabled)])},[se(d,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(s=n.referenceElementRef)==null?void 0:s.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},El({content:be(()=>[se(c,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:be(()=>[se(l,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:be(()=>[se(o,null,{default:be(()=>[Ze(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:be(()=>[se(u,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:be(()=>[Ze(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?(V(),rt(m,{key:0},{default:be(()=>[se(f,Hn({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:be(()=>[Ze(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),se(f,Hn({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:be(()=>[se(p,{class:j(n.ns.e("icon"))},{default:be(()=>[se(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Qe("v-if",!0)],2)}var q2e=Pt(G2e,[["render",W2e],["__file","dropdown.vue"]]);const K2e=Ie({components:{ElRovingFocusCollectionItem:S2e},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:t,loop:r,onItemFocus:i,onItemShiftTab:a}=Ot(CL,void 0),{getItems:s}=Ot(SL,void 0),o=za(),l=ee(null),c=Ri(h=>{e("mousedown",h)},h=>{n.focusable?i(w(o)):h.preventDefault()}),u=Ri(h=>{e("focus",h)},()=>{i(w(o))}),d=Ri(h=>{e("keydown",h)},h=>{const{code:p,shiftKey:m,target:v,currentTarget:g}=h;if(p===Nt.tab&&m){a();return}if(v!==g)return;const y=A2e(h);if(y){h.preventDefault();let _=s().filter(x=>x.focusable).map(x=>x.ref);switch(y){case"last":{_.reverse();break}case"prev":case"next":{y==="prev"&&_.reverse();const x=_.indexOf(g);_=r.value?E2e(_,x+1):_.slice(x+1);break}}Yt(()=>{ML(_)})}}),f=U(()=>t.value===w(o));return $n(rj,{rovingFocusGroupItemRef:l,tabIndex:U(()=>w(f)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:o,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function Y2e(n,e,t,r,i,a){const s=Et("el-roving-focus-collection-item");return V(),rt(s,{id:n.id,focusable:n.focusable,active:n.active},{default:be(()=>[Ze(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var X2e=Pt(K2e,[["render",Y2e],["__file","roving-focus-item.vue"]]);const j2e=Ie({name:"DropdownItemImpl",components:{ElIcon:Vt},props:ij,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const t=bt("dropdown"),{role:r}=Ot(TT,void 0),{collectionItemRef:i}=Ot(V2e,void 0),{collectionItemRef:a}=Ot(C2e,void 0),{rovingFocusGroupItemRef:s,tabIndex:o,handleFocus:l,handleKeydown:c,handleMousedown:u}=Ot(rj,void 0),d=MT(i,a,s),f=U(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=Ri(p=>{if([Nt.enter,Nt.numpadEnter,Nt.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},c);return{ns:t,itemRef:d,dataset:{[tj]:""},role:f,tabIndex:o,handleFocus:l,handleKeydown:h,handleMousedown:u}}});function Z2e(n,e,t,r,i,a){const s=Et("el-icon");return V(),ue(zt,null,[n.divided?(V(),ue("li",{key:0,role:"separator",class:j(n.ns.bem("menu","item","divided"))},null,2)):Qe("v-if",!0),me("li",Hn({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:o=>n.$emit("clickimpl",o),onFocus:n.handleFocus,onKeydown:sn(n.handleKeydown,["self"]),onMousedown:n.handleMousedown,onPointermove:o=>n.$emit("pointermove",o),onPointerleave:o=>n.$emit("pointerleave",o)}),[n.icon?(V(),rt(s,{key:0},{default:be(()=>[(V(),rt(Nn(n.icon)))]),_:1})):Qe("v-if",!0),Ze(n.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var Q2e=Pt(j2e,[["render",Z2e],["__file","dropdown-item-impl.vue"]]);const sj=()=>{const n=Ot("elDropdown",{}),e=U(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},J2e=Ie({name:"ElDropdownItem",components:{ElDropdownCollectionItem:U2e,ElRovingFocusItem:X2e,ElDropdownItemImpl:Q2e},inheritAttrs:!1,props:ij,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:t}){const{elDropdown:r}=sj(),i=Dn(),a=ee(null),s=U(()=>{var h,p;return(p=(h=w(a))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:o,onItemLeave:l}=Ot(TT,void 0),c=Ri(h=>(e("pointermove",h),h.defaultPrevented),Y7(h=>{if(n.disabled){l(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(o(h),h.defaultPrevented||p==null||p.focus())})),u=Ri(h=>(e("pointerleave",h),h.defaultPrevented),Y7(l)),d=Ri(h=>{if(!n.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,m,v;if(n.disabled){h.stopImmediatePropagation();return}(p=r==null?void 0:r.hideOnClick)!=null&&p.value&&((m=r.handleClick)==null||m.call(r)),(v=r.commandHandler)==null||v.call(r,n.command,i,h)}),f=U(()=>({...n,...t}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:s,propsAndAttrs:f}}});function eCe(n,e,t,r,i,a){var s;const o=Et("el-dropdown-item-impl"),l=Et("el-roving-focus-item"),c=Et("el-dropdown-collection-item");return V(),rt(c,{disabled:n.disabled,"text-value":(s=n.textValue)!=null?s:n.textContent},{default:be(()=>[se(l,{focusable:!n.disabled},{default:be(()=>[se(o,Hn(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:be(()=>[Ze(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var oj=Pt(J2e,[["render",eCe],["__file","dropdown-item.vue"]]);const tCe=Ie({name:"ElDropdownMenu",props:O2e,setup(n){const e=bt("dropdown"),{_elDropdownSize:t}=sj(),r=t.value,{focusTrapRef:i,onKeydown:a}=Ot(Zk,void 0),{contentRef:s,role:o,triggerId:l}=Ot(TT,void 0),{collectionRef:c,getItems:u}=Ot(H2e,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:h,onBlur:p,onFocus:m,onMousedown:v}=Ot(CL,void 0),{collectionRef:g}=Ot(SL,void 0),y=U(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),b=MT(s,c,i,d,g),_=Ri(S=>{var T;(T=n.onKeydown)==null||T.call(n,S)},S=>{const{currentTarget:T,code:C,target:M}=S;if(T.contains(M),Nt.tab===C&&S.stopImmediatePropagation(),S.preventDefault(),M!==w(s)||!F2e.includes(C))return;const I=u().filter(D=>!D.disabled).map(D=>D.ref);aj.includes(C)&&I.reverse(),ML(I)});return{size:r,rovingFocusGroupRootStyle:f,tabIndex:h,dropdownKls:y,role:o,triggerId:l,dropdownListWrapperRef:b,handleKeydown:S=>{_(S),a(S)},onBlur:p,onFocus:m,onMousedown:v}}});function nCe(n,e,t,r,i,a){return V(),ue("ul",{ref:n.dropdownListWrapperRef,class:j(n.dropdownKls),style:Bt(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:n.onBlur,onFocus:n.onFocus,onKeydown:sn(n.handleKeydown,["self"]),onMousedown:sn(n.onMousedown,["self"])},[Ze(n.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var lj=Pt(tCe,[["render",nCe],["__file","dropdown-menu.vue"]]);const rCe=gn(q2e,{DropdownItem:oj,DropdownMenu:lj}),iCe=Si(oj),aCe=Si(lj),sCe=Ie({name:"ImgEmpty"}),oCe=Ie({...sCe,setup(n){const e=bt("empty"),t=za();return(r,i)=>(V(),ue("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[me("defs",null,[me("linearGradient",{id:`linearGradient-1-${w(t)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[me("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),me("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),me("linearGradient",{id:`linearGradient-2-${w(t)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[me("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),me("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),me("rect",{id:`path-3-${w(t)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),me("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[me("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[me("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[me("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${w(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),me("polygon",{id:"Rectangle-Copy-14",fill:`var(${w(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),me("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[me("polygon",{id:"Rectangle-Copy-10",fill:`var(${w(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),me("polygon",{id:"Rectangle-Copy-11",fill:`var(${w(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),me("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${w(t)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),me("polygon",{id:"Rectangle-Copy-13",fill:`var(${w(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),me("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${w(t)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),me("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[me("use",{id:"Mask",fill:`var(${w(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${w(t)}`},null,8,["fill","xlink:href"]),me("polygon",{id:"Rectangle-Copy",fill:`var(${w(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${w(t)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),me("polygon",{id:"Rectangle-Copy-18",fill:`var(${w(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var lCe=Pt(oCe,[["__file","img-empty.vue"]]);const cCe=Rt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),uCe=Ie({name:"ElEmpty"}),dCe=Ie({...uCe,props:cCe,setup(n){const e=n,{t}=rr(),r=bt("empty"),i=U(()=>e.description||t("el.table.emptyText")),a=U(()=>({width:Pi(e.imageSize)}));return(s,o)=>(V(),ue("div",{class:j(w(r).b())},[me("div",{class:j(w(r).e("image")),style:Bt(w(a))},[s.image?(V(),ue("img",{key:0,src:s.image,ondragstart:"return false"},null,8,["src"])):Ze(s.$slots,"image",{key:1},()=>[se(lCe)])],6),me("div",{class:j(w(r).e("description"))},[s.$slots.description?Ze(s.$slots,"description",{key:0}):(V(),ue("p",{key:1},Ct(w(i)),1))],2),s.$slots.default?(V(),ue("div",{key:0,class:j(w(r).e("bottom"))},[Ze(s.$slots,"default")],2)):Qe("v-if",!0)],2))}});var fCe=Pt(dCe,[["__file","empty.vue"]]);const cj=gn(fCe),hCe=Rt({size:{type:String,values:uu},disabled:Boolean}),pCe=Rt({...hCe,model:Object,rules:{type:We(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),mCe={validate:(n,e,t)=>(Tt(n)||qt(n))&&Vr(e)&&qt(t)};function vCe(){const n=ee([]),e=U(()=>{if(!n.value.length)return"0";const a=Math.max(...n.value);return a?`${a}px`:""});function t(a){const s=n.value.indexOf(a);return s===-1&&e.value,s}function r(a,s){if(a&&s){const o=t(s);n.value.splice(o,1,a)}else a&&n.value.push(a)}function i(a){const s=t(a);s>-1&&n.value.splice(s,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const Xw=(n,e)=>{const t=bs(e);return t.length>0?n.filter(r=>r.prop&&t.includes(r.prop)):n},gCe="ElForm",yCe=Ie({name:gCe}),bCe=Ie({...yCe,props:pCe,emits:mCe,setup(n,{expose:e,emit:t}){const r=n,i=[],a=Xi(),s=bt("form"),o=U(()=>{const{labelPosition:b,inline:_}=r;return[s.b(),s.m(a.value||"default"),{[s.m(`label-${b}`)]:b,[s.m("inline")]:_}]}),l=b=>i.find(_=>_.prop===b),c=b=>{i.push(b)},u=b=>{b.prop&&i.splice(i.indexOf(b),1)},d=(b=[])=>{r.model&&Xw(i,b).forEach(_=>_.resetField())},f=(b=[])=>{Xw(i,b).forEach(_=>_.clearValidate())},h=U(()=>!!r.model),p=b=>{if(i.length===0)return[];const _=Xw(i,b);return _.length?_:[]},m=async b=>g(void 0,b),v=async(b=[])=>{if(!h.value)return!1;const _=p(b);if(_.length===0)return!0;let x={};for(const S of _)try{await S.validate("")}catch(T){x={...x,...T}}return Object.keys(x).length===0?!0:Promise.reject(x)},g=async(b=[],_)=>{const x=!Zt(_);try{const S=await v(b);return S===!0&&await(_==null?void 0:_(S)),S}catch(S){if(S instanceof Error)throw S;const T=S;return r.scrollToError&&y(Object.keys(T)[0]),await(_==null?void 0:_(!1,T)),x&&Promise.reject(T)}},y=b=>{var _;const x=Xw(i,b)[0];x&&((_=x.$el)==null||_.scrollIntoView(r.scrollIntoViewOptions))};return dt(()=>r.rules,()=>{r.validateOnRuleChange&&m().catch(b=>void 0)},{deep:!0}),$n(Mm,mr({...la(r),emit:t,resetFields:d,clearValidate:f,validateField:g,getField:l,addField:c,removeField:u,...vCe()})),e({validate:m,validateField:g,resetFields:d,clearValidate:f,scrollToField:y,fields:i}),(b,_)=>(V(),ue("form",{class:j(w(o))},[Ze(b.$slots,"default")],2))}});var _Ce=Pt(bCe,[["__file","form.vue"]]);function Cp(){return Cp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cp.apply(this,arguments)}function wCe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Wb(n,e)}function k5(n){return k5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},k5(n)}function Wb(n,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(n,e)}function xCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function g2(n,e,t){return xCe()?g2=Reflect.construct.bind():g2=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),c=new l;return s&&Wb(c,s.prototype),c},g2.apply(null,arguments)}function SCe(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function L5(n){var e=typeof Map=="function"?new Map:void 0;return L5=function(r){if(r===null||!SCe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return g2(r,arguments,k5(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Wb(i,r)},L5(n)}var CCe=/%[sdj%]/g,MCe=function(){};typeof process<"u"&&process.env;function N5(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function Oo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=0,a=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var s=n.replace(CCe,function(o){if(o==="%%")return"%";if(i>=a)return o;switch(o){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return o}});return s}return n}function TCe(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Ia(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||TCe(e)&&typeof n=="string"&&!n)}function ACe(n,e,t){var r=[],i=0,a=n.length;function s(o){r.push.apply(r,o||[]),i++,i===a&&t(r)}n.forEach(function(o){e(o,s)})}function bF(n,e,t){var r=0,i=n.length;function a(s){if(s&&s.length){t(s);return}var o=r;r=r+1,o<i?e(n[o],a):t([])}a([])}function ECe(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var _F=function(n){wCe(e,n);function e(t,r){var i;return i=n.call(this,"Async Validation Error")||this,i.errors=t,i.fields=r,i}return e}(L5(Error));function ICe(n,e,t,r,i){if(e.first){var a=new Promise(function(f,h){var p=function(g){return r(g),g.length?h(new _F(g,N5(g))):f(i)},m=ECe(n);bF(m,t,p)});return a.catch(function(f){return f}),a}var s=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),l=o.length,c=0,u=[],d=new Promise(function(f,h){var p=function(v){if(u.push.apply(u,v),c++,c===l)return r(u),u.length?h(new _F(u,N5(u))):f(i)};o.length||(r(u),f(i)),o.forEach(function(m){var v=n[m];s.indexOf(m)!==-1?bF(v,t,p):ACe(v,t,p)})});return d.catch(function(f){return f}),d}function RCe(n){return!!(n&&n.message!==void 0)}function PCe(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function wF(n,e){return function(t){var r;return n.fullFields?r=PCe(e,n.fullFields):r=e[t.field||n.fullField],RCe(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function xF(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=Cp({},n[t],r):n[t]=r}}return n}var uj=function(e,t,r,i,a,s){e.required&&(!r.hasOwnProperty(e.field)||Ia(t,s||e.type))&&i.push(Oo(a.messages.required,e.fullField))},DCe=function(e,t,r,i,a){(/^\s+$/.test(t)||t==="")&&i.push(Oo(a.messages.whitespace,e.fullField))},jw,kCe=function(){if(jw)return jw;var n="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+t+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+t+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+t+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+t+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+t+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+t+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+t+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+t+"$)|(?:^"+i+"$)"),s=new RegExp("^"+t+"$"),o=new RegExp("^"+i+"$"),l=function(_){return _&&_.exact?a:new RegExp("(?:"+e(_)+t+e(_)+")|(?:"+e(_)+i+e(_)+")","g")};l.v4=function(b){return b&&b.exact?s:new RegExp(""+e(b)+t+e(b),"g")},l.v6=function(b){return b&&b.exact?o:new RegExp(""+e(b)+i+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',y="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+h+p+m+")"+v+g;return jw=new RegExp("(?:^"+y+"$)","i"),jw},SF={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},y1={integer:function(e){return y1.number(e)&&parseInt(e,10)===e},float:function(e){return y1.number(e)&&!y1.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!y1.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(SF.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(kCe())},hex:function(e){return typeof e=="string"&&!!e.match(SF.hex)}},LCe=function(e,t,r,i,a){if(e.required&&t===void 0){uj(e,t,r,i,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;s.indexOf(o)>-1?y1[o](t)||i.push(Oo(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&i.push(Oo(a.messages.types[o],e.fullField,e.type))},NCe=function(e,t,r,i,a){var s=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,d=null,f=typeof t=="number",h=typeof t=="string",p=Array.isArray(t);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(u=t.length),h&&(u=t.replace(c,"_").length),s?u!==e.len&&i.push(Oo(a.messages[d].len,e.fullField,e.len)):o&&!l&&u<e.min?i.push(Oo(a.messages[d].min,e.fullField,e.min)):l&&!o&&u>e.max?i.push(Oo(a.messages[d].max,e.fullField,e.max)):o&&l&&(u<e.min||u>e.max)&&i.push(Oo(a.messages[d].range,e.fullField,e.min,e.max))},Wm="enum",OCe=function(e,t,r,i,a){e[Wm]=Array.isArray(e[Wm])?e[Wm]:[],e[Wm].indexOf(t)===-1&&i.push(Oo(a.messages[Wm],e.fullField,e[Wm].join(", ")))},BCe=function(e,t,r,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(Oo(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(t)||i.push(Oo(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},$r={required:uj,whitespace:DCe,type:LCe,range:NCe,enum:OCe,pattern:BCe},FCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t,"string")&&!e.required)return r();$r.required(e,t,i,s,a,"string"),Ia(t,"string")||($r.type(e,t,i,s,a),$r.range(e,t,i,s,a),$r.pattern(e,t,i,s,a),e.whitespace===!0&&$r.whitespace(e,t,i,s,a))}r(s)},zCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},UCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(t===""&&(t=void 0),Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},HCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},VCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),Ia(t)||$r.type(e,t,i,s,a)}r(s)},$Ce=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},GCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},WCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(t==null&&!e.required)return r();$r.required(e,t,i,s,a,"array"),t!=null&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},qCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},KCe="enum",YCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r[KCe](e,t,i,s,a)}r(s)},XCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t,"string")&&!e.required)return r();$r.required(e,t,i,s,a),Ia(t,"string")||$r.pattern(e,t,i,s,a)}r(s)},jCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t,"date")&&!e.required)return r();if($r.required(e,t,i,s,a),!Ia(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),$r.type(e,l,i,s,a),l&&$r.range(e,l.getTime(),i,s,a)}}r(s)},ZCe=function(e,t,r,i,a){var s=[],o=Array.isArray(t)?"array":typeof t;$r.required(e,t,i,s,a,o),r(s)},E3=function(e,t,r,i,a){var s=e.type,o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Ia(t,s)&&!e.required)return r();$r.required(e,t,i,o,a,s),Ia(t,s)||$r.type(e,t,i,o,a)}r(o)},QCe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Ia(t)&&!e.required)return r();$r.required(e,t,i,s,a)}r(s)},$1={string:FCe,method:zCe,number:UCe,boolean:HCe,regexp:VCe,integer:$Ce,float:GCe,array:WCe,object:qCe,enum:YCe,pattern:XCe,date:jCe,url:E3,hex:E3,email:E3,required:ZCe,any:QCe};function O5(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var B5=O5(),Z_=function(){function n(t){this.rules=null,this._messages=B5,this.define(t)}var e=n.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var s=r[a];i.rules[a]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=xF(O5(),r)),this._messages},e.validate=function(r,i,a){var s=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var o=r,l=i,c=a;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,o),Promise.resolve(o);function u(m){var v=[],g={};function y(_){if(Array.isArray(_)){var x;v=(x=v).concat.apply(x,_)}else v.push(_)}for(var b=0;b<m.length;b++)y(m[b]);v.length?(g=N5(v),c(v,g)):c(null,o)}if(l.messages){var d=this.messages();d===B5&&(d=O5()),xF(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(m){var v=s.rules[m],g=o[m];v.forEach(function(y){var b=y;typeof b.transform=="function"&&(o===r&&(o=Cp({},o)),g=o[m]=b.transform(g)),typeof b=="function"?b={validator:b}:b=Cp({},b),b.validator=s.getValidationMethod(b),b.validator&&(b.field=m,b.fullField=b.fullField||m,b.type=s.getType(b),f[m]=f[m]||[],f[m].push({rule:b,value:g,source:o,field:m}))})});var p={};return ICe(f,l,function(m,v){var g=m.rule,y=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");y=y&&(g.required||!g.required&&m.value),g.field=m.field;function b(S,T){return Cp({},T,{fullField:g.fullField+"."+S,fullFields:g.fullFields?[].concat(g.fullFields,[S]):[S]})}function _(S){S===void 0&&(S=[]);var T=Array.isArray(S)?S:[S];!l.suppressWarning&&T.length&&n.warning("async-validator:",T),T.length&&g.message!==void 0&&(T=[].concat(g.message));var C=T.map(wF(g,o));if(l.first&&C.length)return p[g.field]=1,v(C);if(!y)v(C);else{if(g.required&&!m.value)return g.message!==void 0?C=[].concat(g.message).map(wF(g,o)):l.error&&(C=[l.error(g,Oo(l.messages.required,g.field))]),v(C);var M={};g.defaultField&&Object.keys(m.value).map(function(D){M[D]=g.defaultField}),M=Cp({},M,m.rule.fields);var A={};Object.keys(M).forEach(function(D){var L=M[D],F=Array.isArray(L)?L:[L];A[D]=F.map(b.bind(null,D))});var I=new n(A);I.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),I.validate(m.value,m.rule.options||l,function(D){var L=[];C&&C.length&&L.push.apply(L,C),D&&D.length&&L.push.apply(L,D),v(L.length?L:null)})}}var x;if(g.asyncValidator)x=g.asyncValidator(g,m.value,_,m.source,l);else if(g.validator){try{x=g.validator(g,m.value,_,m.source,l)}catch(S){console.error==null||console.error(S),l.suppressValidatorError||setTimeout(function(){throw S},0),_(S.message)}x===!0?_():x===!1?_(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):x instanceof Array?_(x):x instanceof Error&&_(x.message)}x&&x.then&&x.then(function(){return _()},function(S){return _(S)})},function(m){u(m)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!$1.hasOwnProperty(r.type))throw new Error(Oo("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?$1.required:$1[this.getType(r)]||void 0},n}();Z_.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");$1[e]=t};Z_.warning=MCe;Z_.messages=B5;Z_.validators=$1;const JCe=["","error","validating","success"],eMe=Rt({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:We([String,Array])},required:{type:Boolean,default:void 0},rules:{type:We([Object,Array])},error:String,validateStatus:{type:String,values:JCe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:uu}}),CF="ElLabelWrap";var tMe=Ie({name:CF,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Ot(Mm,void 0),r=Ot(nu);r||ua(CF,"usage: <el-form-item><label-wrap /></el-form-item>");const i=bt("form"),a=ee(),s=ee(0),o=()=>{var u;if((u=a.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{Yt(()=>{e.default&&n.isAutoWidth&&(u==="update"?s.value=o():u==="remove"&&(t==null||t.deregisterLabelWidth(s.value)))})},c=()=>l("update");return pn(()=>{c()}),yr(()=>{l("remove")}),Nl(()=>c()),dt(s,(u,d)=>{n.updateAll&&(t==null||t.registerLabelWidth(u,d))}),ui(U(()=>{var u,d;return(d=(u=a.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:f}=n;if(f){const h=t==null?void 0:t.autoLabelWidth,p=r==null?void 0:r.hasLabel,m={};if(p&&h&&h!=="auto"){const v=Math.max(0,Number.parseInt(h,10)-s.value),y=(r.labelPosition||t.labelPosition)==="left"?"marginRight":"marginLeft";v&&(m[y]=`${v}px`)}return se("div",{ref:a,class:[i.be("item","label-wrap")],style:m},[(u=e.default)==null?void 0:u.call(e)])}else return se(zt,{ref:a},[(d=e.default)==null?void 0:d.call(e)])}}});const nMe=Ie({name:"ElFormItem"}),rMe=Ie({...nMe,props:eMe,setup(n,{expose:e}){const t=n,r=ea(),i=Ot(Mm,void 0),a=Ot(nu,void 0),s=Xi(void 0,{formItem:!1}),o=bt("form-item"),l=za().value,c=ee([]),u=ee(""),d=_me(u,100),f=ee(""),h=ee();let p,m=!1;const v=U(()=>t.labelPosition||(i==null?void 0:i.labelPosition)),g=U(()=>{if(v.value==="top")return{};const Ee=Pi(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return Ee?{width:Ee}:{}}),y=U(()=>{if(v.value==="top"||i!=null&&i.inline)return{};if(!t.label&&!t.labelWidth&&A)return{};const Ee=Pi(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return!t.label&&!r.label?{marginLeft:Ee}:{}}),b=U(()=>[o.b(),o.m(s.value),o.is("error",u.value==="error"),o.is("validating",u.value==="validating"),o.is("success",u.value==="success"),o.is("required",B.value||t.required),o.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:i==null?void 0:i.statusIcon,[o.m(`label-${v.value}`)]:v.value}]),_=U(()=>Vr(t.inlineMessage)?t.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),x=U(()=>[o.e("error"),{[o.em("error","inline")]:_.value}]),S=U(()=>t.prop?qt(t.prop)?t.prop:t.prop.join("."):""),T=U(()=>!!(t.label||r.label)),C=U(()=>t.for||(c.value.length===1?c.value[0]:void 0)),M=U(()=>!C.value&&T.value),A=!!a,I=U(()=>{const Ee=i==null?void 0:i.model;if(!(!Ee||!t.prop))return d2(Ee,t.prop).value}),D=U(()=>{const{required:Ee}=t,Re=[];t.rules&&Re.push(...bs(t.rules));const He=i==null?void 0:i.rules;if(He&&t.prop){const $e=d2(He,t.prop).value;$e&&Re.push(...bs($e))}if(Ee!==void 0){const $e=Re.map((K,ce)=>[K,ce]).filter(([K])=>Object.keys(K).includes("required"));if($e.length>0)for(const[K,ce]of $e)K.required!==Ee&&(Re[ce]={...K,required:Ee});else Re.push({required:Ee})}return Re}),L=U(()=>D.value.length>0),F=Ee=>D.value.filter(He=>!He.trigger||!Ee?!0:Tt(He.trigger)?He.trigger.includes(Ee):He.trigger===Ee).map(({trigger:He,...$e})=>$e),B=U(()=>D.value.some(Ee=>Ee.required)),k=U(()=>{var Ee;return d.value==="error"&&t.showMessage&&((Ee=i==null?void 0:i.showMessage)!=null?Ee:!0)}),H=U(()=>`${t.label||""}${(i==null?void 0:i.labelSuffix)||""}`),z=Ee=>{u.value=Ee},O=Ee=>{var Re,He;const{errors:$e,fields:K}=Ee;(!$e||!K)&&console.error(Ee),z("error"),f.value=$e?(He=(Re=$e==null?void 0:$e[0])==null?void 0:Re.message)!=null?He:`${t.prop} is required`:"",i==null||i.emit("validate",t.prop,!1,f.value)},G=()=>{z("success"),i==null||i.emit("validate",t.prop,!0,"")},X=async Ee=>{const Re=S.value;return new Z_({[Re]:Ee}).validate({[Re]:I.value},{firstFields:!0}).then(()=>(G(),!0)).catch($e=>(O($e),Promise.reject($e)))},J=async(Ee,Re)=>{if(m||!t.prop)return!1;const He=Zt(Re);if(!L.value)return Re==null||Re(!1),!1;const $e=F(Ee);return $e.length===0?(Re==null||Re(!0),!0):(z("validating"),X($e).then(()=>(Re==null||Re(!0),!0)).catch(K=>{const{fields:ce}=K;return Re==null||Re(!1,ce),He?!1:Promise.reject(ce)}))},Q=()=>{z(""),f.value="",m=!1},re=async()=>{const Ee=i==null?void 0:i.model;if(!Ee||!t.prop)return;const Re=d2(Ee,t.prop);m=!0,Re.value=n7(p),await Yt(),Q(),m=!1},de=Ee=>{c.value.includes(Ee)||c.value.push(Ee)},le=Ee=>{c.value=c.value.filter(Re=>Re!==Ee)};dt(()=>t.error,Ee=>{f.value=Ee||"",z(Ee?"error":"")},{immediate:!0}),dt(()=>t.validateStatus,Ee=>z(Ee||""));const fe=mr({...la(t),$el:h,size:s,validateState:u,labelId:l,inputIds:c,isGroup:M,hasLabel:T,fieldValue:I,addInputId:de,removeInputId:le,resetField:re,clearValidate:Q,validate:J});return $n(nu,fe),pn(()=>{t.prop&&(i==null||i.addField(fe),p=n7(I.value))}),yr(()=>{i==null||i.removeField(fe)}),e({size:s,validateMessage:f,validateState:u,validate:J,clearValidate:Q,resetField:re}),(Ee,Re)=>{var He;return V(),ue("div",{ref_key:"formItemRef",ref:h,class:j(w(b)),role:w(M)?"group":void 0,"aria-labelledby":w(M)?w(l):void 0},[se(w(tMe),{"is-auto-width":w(g).width==="auto","update-all":((He=w(i))==null?void 0:He.labelWidth)==="auto"},{default:be(()=>[w(T)?(V(),rt(Nn(w(C)?"label":"div"),{key:0,id:w(l),for:w(C),class:j(w(o).e("label")),style:Bt(w(g))},{default:be(()=>[Ze(Ee.$slots,"label",{label:w(H)},()=>[dn(Ct(w(H)),1)])]),_:3},8,["id","for","class","style"])):Qe("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),me("div",{class:j(w(o).e("content")),style:Bt(w(y))},[Ze(Ee.$slots,"default"),se(Jq,{name:`${w(o).namespace.value}-zoom-in-top`},{default:be(()=>[w(k)?Ze(Ee.$slots,"error",{key:0,error:f.value},()=>[me("div",{class:j(w(x))},Ct(f.value),3)]):Qe("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var dj=Pt(rMe,[["__file","form-item.vue"]]);const iMe=gn(_Ce,{FormItem:dj}),aMe=Si(dj),sMe=Rt({urlList:{type:We(Array),default:()=>_i([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:We(String)}}),oMe={close:()=>!0,switch:n=>en(n),rotate:n=>en(n)},lMe=Ie({name:"ElImageViewer"}),cMe=Ie({...lMe,props:sMe,emits:oMe,setup(n,{expose:e,emit:t}){var r;const i=n,a={CONTAIN:{name:"contain",icon:Ju(O0e)},ORIGINAL:{name:"original",icon:Ju(ive)}},{t:s}=rr(),o=bt("image-viewer"),{nextZIndex:l}=Gg(),c=ee(),u=ee([]),d=Rse(),f=ee(!0),h=ee(i.initialIndex),p=Ir(a.CONTAIN),m=ee({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),v=ee((r=i.zIndex)!=null?r:l()),g=U(()=>{const{urlList:J}=i;return J.length<=1}),y=U(()=>h.value===0),b=U(()=>h.value===i.urlList.length-1),_=U(()=>i.urlList[h.value]),x=U(()=>[o.e("btn"),o.e("prev"),o.is("disabled",!i.infinite&&y.value)]),S=U(()=>[o.e("btn"),o.e("next"),o.is("disabled",!i.infinite&&b.value)]),T=U(()=>{const{scale:J,deg:Q,offsetX:re,offsetY:de,enableTransition:le}=m.value;let fe=re/J,Ee=de/J;const Re=Q*Math.PI/180,He=Math.cos(Re),$e=Math.sin(Re);fe=fe*He+Ee*$e,Ee=Ee*He-re/J*$e;const K={transform:`scale(${J}) rotate(${Q}deg) translate(${fe}px, ${Ee}px)`,transition:le?"transform .3s":""};return p.value.name===a.CONTAIN.name&&(K.maxWidth=K.maxHeight="100%"),K});function C(){A(),t("close")}function M(){const J=Hp(re=>{switch(re.code){case Nt.esc:i.closeOnPressEscape&&C();break;case Nt.space:B();break;case Nt.left:H();break;case Nt.up:O("zoomIn");break;case Nt.right:z();break;case Nt.down:O("zoomOut");break}}),Q=Hp(re=>{const de=re.deltaY||re.deltaX;O(de<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});d.run(()=>{Tr(document,"keydown",J),Tr(document,"wheel",Q)})}function A(){d.stop()}function I(){f.value=!1}function D(J){f.value=!1,J.target.alt=s("el.image.error")}function L(J){if(f.value||J.button!==0||!c.value)return;m.value.enableTransition=!1;const{offsetX:Q,offsetY:re}=m.value,de=J.pageX,le=J.pageY,fe=Hp(Re=>{m.value={...m.value,offsetX:Q+Re.pageX-de,offsetY:re+Re.pageY-le}}),Ee=Tr(document,"mousemove",fe);Tr(document,"mouseup",()=>{Ee()}),J.preventDefault()}function F(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function B(){if(f.value)return;const J=Jv(a),Q=Object.values(a),re=p.value.name,le=(Q.findIndex(fe=>fe.name===re)+1)%J.length;p.value=a[J[le]],F()}function k(J){const Q=i.urlList.length;h.value=(J+Q)%Q}function H(){y.value&&!i.infinite||k(h.value-1)}function z(){b.value&&!i.infinite||k(h.value+1)}function O(J,Q={}){if(f.value)return;const{minScale:re,maxScale:de}=i,{zoomRate:le,rotateDeg:fe,enableTransition:Ee}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...Q};switch(J){case"zoomOut":m.value.scale>re&&(m.value.scale=Number.parseFloat((m.value.scale/le).toFixed(3)));break;case"zoomIn":m.value.scale<de&&(m.value.scale=Number.parseFloat((m.value.scale*le).toFixed(3)));break;case"clockwise":m.value.deg+=fe,t("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=fe,t("rotate",m.value.deg);break}m.value.enableTransition=Ee}function G(J){var Q;((Q=J.detail)==null?void 0:Q.focusReason)==="pointer"&&J.preventDefault()}function X(){i.closeOnPressEscape&&C()}return dt(_,()=>{Yt(()=>{const J=u.value[0];J!=null&&J.complete||(f.value=!0)})}),dt(h,J=>{F(),t("switch",J)}),pn(()=>{M()}),e({setActiveItem:k}),(J,Q)=>(V(),rt(w(Kg),{to:"body",disabled:!J.teleported},{default:be(()=>[se(ca,{name:"viewer-fade",appear:""},{default:be(()=>[me("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:j(w(o).e("wrapper")),style:Bt({zIndex:v.value})},[se(w(qg),{loop:"",trapped:"","focus-trap-el":c.value,"focus-start-el":"container",onFocusoutPrevented:G,onReleaseRequested:X},{default:be(()=>[me("div",{class:j(w(o).e("mask")),onClick:sn(re=>J.hideOnClickModal&&C(),["self"])},null,10,["onClick"]),Qe(" CLOSE "),me("span",{class:j([w(o).e("btn"),w(o).e("close")]),onClick:C},[se(w(Vt),null,{default:be(()=>[se(w(gc))]),_:1})],2),Qe(" ARROW "),w(g)?Qe("v-if",!0):(V(),ue(zt,{key:0},[me("span",{class:j(w(x)),onClick:H},[se(w(Vt),null,{default:be(()=>[se(w(Kf))]),_:1})],2),me("span",{class:j(w(S)),onClick:z},[se(w(Vt),null,{default:be(()=>[se(w(Hs))]),_:1})],2)],64)),Qe(" ACTIONS "),me("div",{class:j([w(o).e("btn"),w(o).e("actions")])},[me("div",{class:j(w(o).e("actions__inner"))},[se(w(Vt),{onClick:re=>O("zoomOut")},{default:be(()=>[se(w(_ve))]),_:1},8,["onClick"]),se(w(Vt),{onClick:re=>O("zoomIn")},{default:be(()=>[se(w(vY))]),_:1},8,["onClick"]),me("i",{class:j(w(o).e("actions__divider"))},null,2),se(w(Vt),{onClick:B},{default:be(()=>[(V(),rt(Nn(w(p).icon)))]),_:1}),me("i",{class:j(w(o).e("actions__divider"))},null,2),se(w(Vt),{onClick:re=>O("anticlockwise")},{default:be(()=>[se(w(eve))]),_:1},8,["onClick"]),se(w(Vt),{onClick:re=>O("clockwise")},{default:be(()=>[se(w(nve))]),_:1},8,["onClick"])],2)],2),Qe(" CANVAS "),me("div",{class:j(w(o).e("canvas"))},[(V(!0),ue(zt,null,In(J.urlList,(re,de)=>Sn((V(),ue("img",{ref_for:!0,ref:le=>u.value[de]=le,key:re,src:re,style:Bt(w(T)),class:j(w(o).e("img")),crossorigin:J.crossorigin,onLoad:I,onError:D,onMousedown:L},null,46,["src","crossorigin"])),[[fr,de===h.value]])),128))],2),Ze(J.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var uMe=Pt(cMe,[["__file","image-viewer.vue"]]);const fj=gn(uMe),dMe=Rt({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:We([String,Object])},previewSrcList:{type:We(Array),default:()=>_i([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:We(String)}}),fMe={load:n=>n instanceof Event,error:n=>n instanceof Event,switch:n=>en(n),close:()=>!0,show:()=>!0},hMe=Ie({name:"ElImage",inheritAttrs:!1}),pMe=Ie({...hMe,props:dMe,emits:fMe,setup(n,{emit:e}){const t=n;let r="";const{t:i}=rr(),a=bt("image"),s=hh(),o=U(()=>zb(Object.entries(s).filter(([z])=>/^(data-|on[A-Z])/i.test(z)||["id","style"].includes(z)))),l=K_({excludeListeners:!0,excludeKeys:U(()=>Object.keys(o.value))}),c=ee(),u=ee(!1),d=ee(!0),f=ee(!1),h=ee(),p=ee(),m=nr&&"loading"in HTMLImageElement.prototype;let v,g;const y=U(()=>[a.e("inner"),_.value&&a.e("preview"),d.value&&a.is("loading")]),b=U(()=>{const{fit:z}=t;return nr&&z?{objectFit:z}:{}}),_=U(()=>{const{previewSrcList:z}=t;return Tt(z)&&z.length>0}),x=U(()=>{const{previewSrcList:z,initialIndex:O}=t;let G=O;return O>z.length-1&&(G=0),G}),S=U(()=>t.loading==="eager"?!1:!m&&t.loading==="lazy"||t.lazy),T=()=>{nr&&(d.value=!0,u.value=!1,c.value=t.src)};function C(z){d.value=!1,u.value=!1,e("load",z)}function M(z){d.value=!1,u.value=!0,e("error",z)}function A(){Nwe(h.value,p.value)&&(T(),L())}const I=XK(A,200,!0);async function D(){var z;if(!nr)return;await Yt();const{scrollContainer:O}=t;zo(O)?p.value=O:qt(O)&&O!==""?p.value=(z=document.querySelector(O))!=null?z:void 0:h.value&&(p.value=Fk(h.value)),p.value&&(v=Tr(p,"scroll",I),setTimeout(()=>A(),100))}function L(){!nr||!p.value||!I||(v==null||v(),p.value=void 0)}function F(z){if(z.ctrlKey){if(z.deltaY<0)return z.preventDefault(),!1;if(z.deltaY>0)return z.preventDefault(),!1}}function B(){_.value&&(g=Tr("wheel",F,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",f.value=!0,e("show"))}function k(){g==null||g(),document.body.style.overflow=r,f.value=!1,e("close")}function H(z){e("switch",z)}return dt(()=>t.src,()=>{S.value?(d.value=!0,u.value=!1,L(),D()):T()}),pn(()=>{S.value?D():T()}),(z,O)=>(V(),ue("div",Hn({ref_key:"container",ref:h},w(o),{class:[w(a).b(),z.$attrs.class]}),[u.value?Ze(z.$slots,"error",{key:0},()=>[me("div",{class:j(w(a).e("error"))},Ct(w(i)("el.image.error")),3)]):(V(),ue(zt,{key:1},[c.value!==void 0?(V(),ue("img",Hn({key:0},w(l),{src:c.value,loading:z.loading,style:w(b),class:w(y),crossorigin:z.crossorigin,onClick:B,onLoad:C,onError:M}),null,16,["src","loading","crossorigin"])):Qe("v-if",!0),d.value?(V(),ue("div",{key:1,class:j(w(a).e("wrapper"))},[Ze(z.$slots,"placeholder",{},()=>[me("div",{class:j(w(a).e("placeholder"))},null,2)])],2)):Qe("v-if",!0)],64)),w(_)?(V(),ue(zt,{key:2},[f.value?(V(),rt(w(fj),{key:0,"z-index":z.zIndex,"initial-index":w(x),infinite:z.infinite,"zoom-rate":z.zoomRate,"min-scale":z.minScale,"max-scale":z.maxScale,"url-list":z.previewSrcList,crossorigin:z.crossorigin,"hide-on-click-modal":z.hideOnClickModal,teleported:z.previewTeleported,"close-on-press-escape":z.closeOnPressEscape,onClose:k,onSwitch:H},{default:be(()=>[z.$slots.viewer?(V(),ue("div",{key:0},[Ze(z.$slots,"viewer")])):Qe("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Qe("v-if",!0)],64)):Qe("v-if",!0)],16))}});var mMe=Pt(pMe,[["__file","image.vue"]]);const vMe=gn(mMe),gMe=Rt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:Ji,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||en(n)||["min","max"].includes(n),default:null},name:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...Ua(["ariaLabel"])}),yMe={[Rr]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[es]:n=>en(n)||ma(n),[Mn]:n=>en(n)||ma(n)},bMe=Ie({name:"ElInputNumber"}),_Me=Ie({...bMe,props:gMe,emits:yMe,setup(n,{expose:e,emit:t}){const r=n,{t:i}=rr(),a=bt("input-number"),s=ee(),o=mr({currentValue:r.modelValue,userInput:null}),{formItem:l}=is(),c=U(()=>en(r.modelValue)&&r.modelValue<=r.min),u=U(()=>en(r.modelValue)&&r.modelValue>=r.max),d=U(()=>{const B=g(r.step);return Mr(r.precision)?Math.max(g(r.modelValue),B):(B>r.precision,r.precision)}),f=U(()=>r.controls&&r.controlsPosition==="right"),h=Xi(),p=as(),m=U(()=>{if(o.userInput!==null)return o.userInput;let B=o.currentValue;if(ma(B))return"";if(en(B)){if(Number.isNaN(B))return"";Mr(r.precision)||(B=B.toFixed(r.precision))}return B}),v=(B,k)=>{if(Mr(k)&&(k=d.value),k===0)return Math.round(B);let H=String(B);const z=H.indexOf(".");if(z===-1||!H.replace(".","").split("")[z+k])return B;const X=H.length;return H.charAt(X-1)==="5"&&(H=`${H.slice(0,Math.max(0,X-1))}6`),Number.parseFloat(Number(H).toFixed(k))},g=B=>{if(ma(B))return 0;const k=B.toString(),H=k.indexOf(".");let z=0;return H!==-1&&(z=k.length-H-1),z},y=(B,k=1)=>en(B)?v(B+r.step*k):o.currentValue,b=()=>{if(r.readonly||p.value||u.value)return;const B=Number(m.value)||0,k=y(B);S(k),t(es,o.currentValue),L()},_=()=>{if(r.readonly||p.value||c.value)return;const B=Number(m.value)||0,k=y(B,-1);S(k),t(es,o.currentValue),L()},x=(B,k)=>{const{max:H,min:z,step:O,precision:G,stepStrictly:X,valueOnClear:J}=r;H<z&&ua("InputNumber","min should not be greater than max.");let Q=Number(B);if(ma(B)||Number.isNaN(Q))return null;if(B===""){if(J===null)return null;Q=qt(J)?{min:z,max:H}[J]:J}return X&&(Q=v(Math.round(Q/O)*O,G),Q!==B&&k&&t(Mn,Q)),Mr(G)||(Q=v(Q,G)),(Q>H||Q<z)&&(Q=Q>H?H:z,k&&t(Mn,Q)),Q},S=(B,k=!0)=>{var H;const z=o.currentValue,O=x(B);if(!k){t(Mn,O);return}z===O&&B||(o.userInput=null,t(Mn,O),z!==O&&t(Rr,O,z),r.validateEvent&&((H=l==null?void 0:l.validate)==null||H.call(l,"change").catch(G=>void 0)),o.currentValue=O)},T=B=>{o.userInput=B;const k=B===""?null:Number(B);t(es,k),S(k,!1)},C=B=>{const k=B!==""?Number(B):"";(en(k)&&!Number.isNaN(k)||B==="")&&S(k),L(),o.userInput=null},M=()=>{var B,k;(k=(B=s.value)==null?void 0:B.focus)==null||k.call(B)},A=()=>{var B,k;(k=(B=s.value)==null?void 0:B.blur)==null||k.call(B)},I=B=>{t("focus",B)},D=B=>{var k,H;o.userInput=null,bT()&&o.currentValue===null&&((k=s.value)!=null&&k.input)&&(s.value.input.value=""),t("blur",B),r.validateEvent&&((H=l==null?void 0:l.validate)==null||H.call(l,"blur").catch(z=>void 0))},L=()=>{o.currentValue!==r.modelValue&&(o.currentValue=r.modelValue)},F=B=>{document.activeElement===B.target&&B.preventDefault()};return dt(()=>r.modelValue,(B,k)=>{const H=x(B,!0);o.userInput===null&&H!==k&&(o.currentValue=H)},{immediate:!0}),pn(()=>{var B;const{min:k,max:H,modelValue:z}=r,O=(B=s.value)==null?void 0:B.input;if(O.setAttribute("role","spinbutton"),Number.isFinite(H)?O.setAttribute("aria-valuemax",String(H)):O.removeAttribute("aria-valuemax"),Number.isFinite(k)?O.setAttribute("aria-valuemin",String(k)):O.removeAttribute("aria-valuemin"),O.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),O.setAttribute("aria-disabled",String(p.value)),!en(z)&&z!=null){let G=Number(z);Number.isNaN(G)&&(G=null),t(Mn,G)}O.addEventListener("wheel",F,{passive:!1})}),Nl(()=>{var B,k;const H=(B=s.value)==null?void 0:B.input;H==null||H.setAttribute("aria-valuenow",`${(k=o.currentValue)!=null?k:""}`)}),e({focus:M,blur:A}),(B,k)=>(V(),ue("div",{class:j([w(a).b(),w(a).m(w(h)),w(a).is("disabled",w(p)),w(a).is("without-controls",!B.controls),w(a).is("controls-right",w(f))]),onDragstart:sn(()=>{},["prevent"])},[B.controls?Sn((V(),ue("span",{key:0,role:"button","aria-label":w(i)("el.inputNumber.decrease"),class:j([w(a).e("decrease"),w(a).is("disabled",w(c))]),onKeydown:Ur(_,["enter"])},[Ze(B.$slots,"decrease-icon",{},()=>[se(w(Vt),null,{default:be(()=>[w(f)?(V(),rt(w(wd),{key:0})):(V(),rt(w(G0e),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(_C),_]]):Qe("v-if",!0),B.controls?Sn((V(),ue("span",{key:1,role:"button","aria-label":w(i)("el.inputNumber.increase"),class:j([w(a).e("increase"),w(a).is("disabled",w(u))]),onKeydown:Ur(b,["enter"])},[Ze(B.$slots,"increase-icon",{},()=>[se(w(Vt),null,{default:be(()=>[w(f)?(V(),rt(w(Uk),{key:0})):(V(),rt(w(mY),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(_C),b]]):Qe("v-if",!0),se(w(xs),{id:B.id,ref_key:"input",ref:s,type:"number",step:B.step,"model-value":w(m),placeholder:B.placeholder,readonly:B.readonly,disabled:w(p),size:w(h),max:B.max,min:B.min,name:B.name,"aria-label":B.ariaLabel,"validate-event":!1,onKeydown:[Ur(sn(b,["prevent"]),["up"]),Ur(sn(_,["prevent"]),["down"])],onBlur:D,onFocus:I,onInput:T,onChange:C},El({_:2},[B.$slots.prefix?{name:"prefix",fn:be(()=>[Ze(B.$slots,"prefix")])}:void 0,B.$slots.suffix?{name:"suffix",fn:be(()=>[Ze(B.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var wMe=Pt(_Me,[["__file","input-number.vue"]]);const hj=gn(wMe),xMe=Rt({modelValue:{type:We(Array)},max:Number,tagType:{...od.type,default:"info"},tagEffect:od.effect,trigger:{type:We(String),default:Nt.enter},draggable:{type:Boolean,default:!1},size:Ji,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),SMe={[Mn]:n=>Tt(n)||Mr(n),[Rr]:n=>Tt(n)||Mr(n),[es]:n=>qt(n),"add-tag":n=>qt(n),"remove-tag":n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0};function CMe({props:n,emit:e,formItem:t}){const r=as(),i=Xi(),a=Ir(),s=ee(),o=U(()=>["small"].includes(i.value)?"small":"default"),l=U(()=>{var M;return(M=n.modelValue)!=null&&M.length?void 0:n.placeholder}),c=U(()=>!(n.readonly||r.value)),u=U(()=>{var M,A;return Mr(n.max)?!1:((A=(M=n.modelValue)==null?void 0:M.length)!=null?A:0)>=n.max}),d=M=>{if(u.value){s.value=void 0;return}x.value||e(es,M.target.value)},f=M=>{var A;if(!x.value)switch(M.code){case n.trigger:M.preventDefault(),M.stopPropagation(),h();break;case Nt.numpadEnter:n.trigger===Nt.enter&&(M.preventDefault(),M.stopPropagation(),h());break;case Nt.backspace:!s.value&&((A=n.modelValue)!=null&&A.length)&&(M.preventDefault(),M.stopPropagation(),p(n.modelValue.length-1));break}},h=()=>{var M,A;const I=(M=s.value)==null?void 0:M.trim();if(!I||u.value)return;const D=[...(A=n.modelValue)!=null?A:[],I];e(Mn,D),e(Rr,D),e("add-tag",I),s.value=void 0},p=M=>{var A;const I=((A=n.modelValue)!=null?A:[]).slice(),[D]=I.splice(M,1);e(Mn,I),e(Rr,I),e("remove-tag",D)},m=()=>{s.value=void 0,e(Mn,void 0),e(Rr,void 0),e("clear")},v=(M,A,I)=>{var D;const L=((D=n.modelValue)!=null?D:[]).slice(),[F]=L.splice(M,1),B=A>M&&I==="before"?-1:A<M&&I==="after"?1:0;L.splice(A+B,0,F),e(Mn,L),e(Rr,L)},g=()=>{var M;(M=a.value)==null||M.focus()},y=()=>{var M;(M=a.value)==null||M.blur()},{wrapperRef:b,isFocused:_}=mh(a,{beforeFocus(){return r.value},afterBlur(){var M;h(),n.validateEvent&&((M=t==null?void 0:t.validate)==null||M.call(t,"blur").catch(A=>void 0))}}),{isComposing:x,handleCompositionStart:S,handleCompositionUpdate:T,handleCompositionEnd:C}=Y_({afterComposition:d});return dt(()=>n.modelValue,()=>{var M;n.validateEvent&&((M=t==null?void 0:t.validate)==null||M.call(t,Rr).catch(A=>void 0))}),{inputRef:a,wrapperRef:b,isFocused:_,isComposing:x,inputValue:s,size:i,tagSize:o,placeholder:l,closable:c,disabled:r,inputLimit:u,handleDragged:v,handleInput:d,handleKeydown:f,handleAddTag:h,handleRemoveTag:p,handleClear:m,handleCompositionStart:S,handleCompositionUpdate:T,handleCompositionEnd:C,focus:g,blur:y}}function MMe(){const n=ee(!1);return{hovering:n,handleMouseEnter:()=>{n.value=!0},handleMouseLeave:()=>{n.value=!1}}}function TMe(){const n=Ir(),e=ee(0),t=11,r=U(()=>({minWidth:`${Math.max(e.value,t)}px`}));return ui(n,()=>{var a,s;e.value=(s=(a=n.value)==null?void 0:a.getBoundingClientRect().width)!=null?s:0}),{calculatorRef:n,calculatorWidth:e,inputStyle:r}}function AMe({wrapperRef:n,handleDragged:e,afterDragged:t}){const r=bt("input-tag"),i=Ir(),a=ee(!1);let s,o,l,c;function u(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function d(p,m){s=m,o=n.value.querySelector(u(m)),o&&(o.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function f(p,m){if(l=m,p.preventDefault(),p.dataTransfer.dropEffect="move",Mr(s)||s===m){a.value=!1;return}const v=n.value.querySelector(u(m)).getBoundingClientRect(),g=s+1!==m,y=s-1!==m,b=p.clientX-v.left,_=g?y?.5:1:-1,x=y?g?.5:0:1;b<=v.width*_?c="before":b>v.width*x?c="after":c=void 0;const S=n.value.querySelector(`.${r.e("inner")}`),T=S.getBoundingClientRect(),C=Number.parseFloat(qu(S,"gap"))/2,M=v.top-T.top;let A=-9999;if(c==="before")A=Math.max(v.left-T.left-C,Math.floor(-C/2));else if(c==="after"){const I=v.right-T.left;A=I+(T.width===I?Math.floor(C/2):C)}lY(i.value,{top:`${M}px`,left:`${A}px`}),a.value=!!c}function h(p){p.preventDefault(),o&&(o.style.opacity=""),c&&!Mr(s)&&!Mr(l)&&s!==l&&e(s,l,c),a.value=!1,s=void 0,o=null,l=void 0,c=void 0,t==null||t()}return{dropIndicatorRef:i,showDropIndicator:a,handleDragStart:d,handleDragOver:f,handleDragEnd:h}}function EMe({props:n,isFocused:e,hovering:t,disabled:r,inputValue:i,size:a,validateState:s,validateIcon:o,needStatusIcon:l}){const c=hh(),u=ea(),d=bt("input-tag"),f=bt("input"),h=U(()=>[d.b(),d.is("focused",e.value),d.is("hovering",t.value),d.is("disabled",r.value),d.m(a.value),d.e("wrapper"),c.class]),p=U(()=>[c.style]),m=U(()=>{var y,b;return[d.e("inner"),d.is("draggable",n.draggable),d.is("left-space",!((y=n.modelValue)!=null&&y.length)&&!u.prefix),d.is("right-space",!((b=n.modelValue)!=null&&b.length)&&!g.value)]}),v=U(()=>{var y;return n.clearable&&!r.value&&!n.readonly&&(((y=n.modelValue)==null?void 0:y.length)||i.value)&&(e.value||t.value)}),g=U(()=>u.suffix||v.value||s.value&&o.value&&l.value);return{ns:d,nsInput:f,containerKls:h,containerStyle:p,innerKls:m,showClear:v,showSuffix:g}}const IMe=Ie({name:"ElInputTag",inheritAttrs:!1}),RMe=Ie({...IMe,props:xMe,emits:SMe,setup(n,{expose:e,emit:t}){const r=n,i=K_(),a=ea(),{form:s,formItem:o}=is(),{inputId:l}=Ol(r,{formItemContext:o}),c=U(()=>{var K;return(K=s==null?void 0:s.statusIcon)!=null?K:!1}),u=U(()=>(o==null?void 0:o.validateState)||""),d=U(()=>u.value&&yT[u.value]),{inputRef:f,wrapperRef:h,isFocused:p,inputValue:m,size:v,tagSize:g,placeholder:y,closable:b,disabled:_,handleDragged:x,handleInput:S,handleKeydown:T,handleRemoveTag:C,handleClear:M,handleCompositionStart:A,handleCompositionUpdate:I,handleCompositionEnd:D,focus:L,blur:F}=CMe({props:r,emit:t,formItem:o}),{hovering:B,handleMouseEnter:k,handleMouseLeave:H}=MMe(),{calculatorRef:z,inputStyle:O}=TMe(),{dropIndicatorRef:G,showDropIndicator:X,handleDragStart:J,handleDragOver:Q,handleDragEnd:re}=AMe({wrapperRef:h,handleDragged:x,afterDragged:L}),{ns:de,nsInput:le,containerKls:fe,containerStyle:Ee,innerKls:Re,showClear:He,showSuffix:$e}=EMe({props:r,hovering:B,isFocused:p,inputValue:m,disabled:_,size:v,validateState:u,validateIcon:d,needStatusIcon:c});return e({focus:L,blur:F}),(K,ce)=>(V(),ue("div",{ref_key:"wrapperRef",ref:h,class:j(w(fe)),style:Bt(w(Ee)),onMouseenter:w(k),onMouseleave:w(H)},[w(a).prefix?(V(),ue("div",{key:0,class:j(w(de).e("prefix"))},[Ze(K.$slots,"prefix")],2)):Qe("v-if",!0),me("div",{class:j(w(Re))},[(V(!0),ue(zt,null,In(K.modelValue,(ie,Ue)=>(V(),rt(w(ag),{key:Ue,size:w(g),closable:w(b),type:K.tagType,effect:K.tagEffect,draggable:w(b)&&K.draggable,"disable-transitions":"",onClose:De=>w(C)(Ue),onDragstart:De=>w(J)(De,Ue),onDragover:De=>w(Q)(De,Ue),onDragend:w(re),onDrop:sn(()=>{},["stop"])},{default:be(()=>[Ze(K.$slots,"tag",{value:ie,index:Ue},()=>[dn(Ct(ie),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),me("div",{class:j(w(de).e("input-wrapper"))},[Sn(me("input",Hn({id:w(l),ref_key:"inputRef",ref:f,"onUpdate:modelValue":ie=>Kr(m)?m.value=ie:null},w(i),{type:"text",minlength:K.minlength,maxlength:K.maxlength,disabled:w(_),readonly:K.readonly,autocomplete:K.autocomplete,tabindex:K.tabindex,placeholder:w(y),autofocus:K.autofocus,ariaLabel:K.ariaLabel,class:w(de).e("input"),style:w(O),onCompositionstart:w(A),onCompositionupdate:w(I),onCompositionend:w(D),onInput:w(S),onKeydown:w(T)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[aT,w(m)]]),me("span",{ref_key:"calculatorRef",ref:z,"aria-hidden":"true",class:j(w(de).e("input-calculator")),textContent:Ct(w(m))},null,10,["textContent"])],2),Sn(me("div",{ref_key:"dropIndicatorRef",ref:G,class:j(w(de).e("drop-indicator"))},null,2),[[fr,w(X)]])],2),w($e)?(V(),ue("div",{key:1,class:j(w(de).e("suffix"))},[Ze(K.$slots,"suffix"),w(He)?(V(),rt(w(Vt),{key:0,class:j([w(de).e("icon"),w(de).e("clear")]),onMousedown:sn(w(Sr),["prevent"]),onClick:w(M)},{default:be(()=>[se(w(xd))]),_:1},8,["class","onMousedown","onClick"])):Qe("v-if",!0),w(u)&&w(d)&&w(c)?(V(),rt(w(Vt),{key:1,class:j([w(le).e("icon"),w(le).e("validateIcon"),w(le).is("loading",w(u)==="validating")])},{default:be(()=>[(V(),rt(Nn(w(d))))]),_:1},8,["class"])):Qe("v-if",!0)],2)):Qe("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var PMe=Pt(RMe,[["__file","input-tag.vue"]]);const DMe=gn(PMe),kMe=Rt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:kr}}),LMe={click:n=>n instanceof MouseEvent},NMe=Ie({name:"ElLink"}),OMe=Ie({...NMe,props:kMe,emits:LMe,setup(n,{emit:e}){const t=n,r=bt("link"),i=U(()=>[r.b(),r.m(t.type),r.is("disabled",t.disabled),r.is("underline",t.underline&&!t.disabled)]);function a(s){t.disabled||e("click",s)}return(s,o)=>(V(),ue("a",{class:j(w(i)),href:s.disabled||!s.href?void 0:s.href,target:s.disabled||!s.href?void 0:s.target,onClick:a},[s.icon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(s.icon)))]),_:1})):Qe("v-if",!0),s.$slots.default?(V(),ue("span",{key:1,class:j(w(r).e("inner"))},[Ze(s.$slots,"default")],2)):Qe("v-if",!0),s.$slots.icon?Ze(s.$slots,"icon",{key:2}):Qe("v-if",!0)],10,["href","target"]))}});var BMe=Pt(OMe,[["__file","link.vue"]]);const FMe=gn(BMe);let zMe=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Nt.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Nt.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Nt.tab:{f2(e,"mouseleave");break}case Nt.enter:case Nt.numpadEnter:case Nt.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},UMe=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new zMe(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case Nt.down:{f2(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case Nt.up:{f2(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case Nt.tab:{f2(e.currentTarget,"mouseleave");break}case Nt.enter:case Nt.numpadEnter:case Nt.space:{t=!0,e.currentTarget.click();break}}t&&e.preventDefault()})}},HMe=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(r=>{r.nodeType===1&&new UMe(r,e)})}};const VMe=Ie({name:"ElMenuCollapseTransition",setup(){const n=bt("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,r){vl(t,`${n.namespace.value}-opacity-transition`),t.style.opacity="1",r()},onAfterEnter(t){Cs(t,`${n.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),lo(t,n.m("collapse"))?(Cs(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),vl(t,n.m("collapse"))):(vl(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Cs(t,n.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){vl(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function $Me(n,e,t,r,i,a){return V(),rt(ca,Hn({mode:"out-in"},n.listeners),{default:be(()=>[Ze(n.$slots,"default")]),_:3},16)}var GMe=Pt(VMe,[["render",$Me],["__file","menu-collapse-transition.vue"]]);function pj(n,e){const t=U(()=>{let i=n.parent;const a=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&a.unshift(i.props.index),i=i.parent;return a});return{parentMenu:U(()=>{let i=n.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:t}}function WMe(n){return U(()=>{const t=n.backgroundColor;return t?new ZY(t).shade(20).toString():""})}const mj=(n,e)=>{const t=bt("menu");return U(()=>t.cssVarBlock({"text-color":n.textColor||"","hover-text-color":n.textColor||"","bg-color":n.backgroundColor||"","hover-bg-color":WMe(n).value||"","active-color":n.activeTextColor||"",level:`${e}`}))},qMe=Rt({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:kr},expandOpenIcon:{type:kr},collapseCloseIcon:{type:kr},collapseOpenIcon:{type:kr}}),I3="ElSubMenu";var TL=Ie({name:I3,props:qMe,setup(n,{slots:e,expose:t}){const r=Dn(),{indexPath:i,parentMenu:a}=pj(r,U(()=>n.index)),s=bt("menu"),o=bt("sub-menu"),l=Ot("rootMenu");l||ua(I3,"can not inject root menu");const c=Ot(`subMenu:${a.value.uid}`);c||ua(I3,"can not inject sub menu");const u=ee({}),d=ee({});let f;const h=ee(!1),p=ee(),m=ee(null),v=U(()=>C.value==="horizontal"&&y.value?"bottom-start":"right-start"),g=U(()=>C.value==="horizontal"&&y.value||C.value==="vertical"&&!l.props.collapse?n.expandCloseIcon&&n.expandOpenIcon?S.value?n.expandOpenIcon:n.expandCloseIcon:wd:n.collapseCloseIcon&&n.collapseOpenIcon?S.value?n.collapseOpenIcon:n.collapseCloseIcon:Hs),y=U(()=>c.level===0),b=U(()=>{const G=n.teleported;return G===void 0?y.value:G}),_=U(()=>l.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),x=U(()=>C.value==="horizontal"&&y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=U(()=>l.openedMenus.includes(n.index)),T=U(()=>{let G=!1;return Object.values(u.value).forEach(X=>{X.active&&(G=!0)}),Object.values(d.value).forEach(X=>{X.active&&(G=!0)}),G}),C=U(()=>l.props.mode),M=mr({index:n.index,indexPath:i,active:T}),A=mj(l.props,c.level+1),I=U(()=>{var G;return(G=n.popperOffset)!=null?G:l.props.popperOffset}),D=U(()=>{var G;return(G=n.popperClass)!=null?G:l.props.popperClass}),L=U(()=>{var G;return(G=n.showTimeout)!=null?G:l.props.showTimeout}),F=U(()=>{var G;return(G=n.hideTimeout)!=null?G:l.props.hideTimeout}),B=()=>{var G,X,J;return(J=(X=(G=m.value)==null?void 0:G.popperRef)==null?void 0:X.popperInstanceRef)==null?void 0:J.destroy()},k=G=>{G||B()},H=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||n.disabled||l.handleSubMenuClick({index:n.index,indexPath:i.value,active:T.value})},z=(G,X=L.value)=>{var J;if(G.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||n.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,f==null||f(),{stop:f}=tm(()=>{l.openMenu(n.index,i.value)},X),b.value&&((J=a.value.vnode.el)==null||J.dispatchEvent(new MouseEvent("mouseenter")))}},O=(G=!1)=>{var X;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}f==null||f(),c.mouseInChild.value=!1,{stop:f}=tm(()=>!h.value&&l.closeMenu(n.index,i.value),F.value),b.value&&G&&((X=c.handleMouseleave)==null||X.call(c,!0))};dt(()=>l.props.collapse,G=>k(!!G));{const G=J=>{d.value[J.index]=J},X=J=>{delete d.value[J.index]};$n(`subMenu:${r.uid}`,{addSubMenu:G,removeSubMenu:X,handleMouseleave:O,mouseInChild:h,level:c.level+1})}return t({opened:S}),pn(()=>{l.addSubMenu(M),c.addSubMenu(M)}),yr(()=>{c.removeSubMenu(M),l.removeSubMenu(M)}),()=>{var G;const X=[(G=e.title)==null?void 0:G.call(e),Gt(Vt,{class:o.e("icon-arrow"),style:{transform:S.value?n.expandCloseIcon&&n.expandOpenIcon||n.collapseCloseIcon&&n.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>qt(g.value)?Gt(r.appContext.components[g.value]):Gt(g.value)})],J=l.isMenuPopup?Gt(ns,{ref:m,visible:S.value,effect:"light",pure:!0,offset:I.value,showArrow:!1,persistent:!0,popperClass:D.value,placement:v.value,teleported:b.value,fallbackPlacements:x.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var Q;return Gt("div",{class:[s.m(C.value),s.m("popup-container"),D.value],onMouseenter:re=>z(re,100),onMouseleave:()=>O(!0),onFocus:re=>z(re,100)},[Gt("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${v.value}`)],style:A.value},[(Q=e.default)==null?void 0:Q.call(e)])])},default:()=>Gt("div",{class:o.e("title"),onClick:H},X)}):Gt(zt,{},[Gt("div",{class:o.e("title"),ref:p,onClick:H},X),Gt(ST,{},{default:()=>{var Q;return Sn(Gt("ul",{role:"menu",class:[s.b(),s.m("inline")],style:A.value},[(Q=e.default)==null?void 0:Q.call(e)]),[[fr,S.value]])}})]);return Gt("li",{class:[o.b(),o.is("active",T.value),o.is("opened",S.value),o.is("disabled",n.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:z,onMouseleave:()=>O(),onFocus:z},[J])}}});const KMe=Rt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:We(Array),default:()=>_i([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:kr,default:()=>K0e},popperEffect:{type:We(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),R3=n=>Tt(n)&&n.every(e=>qt(e)),YMe={close:(n,e)=>qt(n)&&R3(e),open:(n,e)=>qt(n)&&R3(e),select:(n,e,t,r)=>qt(n)&&R3(e)&&Pn(t)&&(r===void 0||r instanceof Promise)};var XMe=Ie({name:"ElMenu",props:KMe,emits:YMe,setup(n,{emit:e,slots:t,expose:r}){const i=Dn(),a=i.appContext.config.globalProperties.$router,s=ee(),o=bt("menu"),l=bt("sub-menu"),c=ee(-1),u=ee(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),d=ee(n.defaultActive),f=ee({}),h=ee({}),p=U(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),m=()=>{const B=d.value&&f.value[d.value];if(!B||n.mode==="horizontal"||n.collapse)return;B.indexPath.forEach(H=>{const z=h.value[H];z&&v(H,z.indexPath)})},v=(B,k)=>{u.value.includes(B)||(n.uniqueOpened&&(u.value=u.value.filter(H=>k.includes(H))),u.value.push(B),e("open",B,k))},g=B=>{const k=u.value.indexOf(B);k!==-1&&u.value.splice(k,1)},y=(B,k)=>{g(B),e("close",B,k)},b=({index:B,indexPath:k})=>{u.value.includes(B)?y(B,k):v(B,k)},_=B=>{(n.mode==="horizontal"||n.collapse)&&(u.value=[]);const{index:k,indexPath:H}=B;if(!(ma(k)||ma(H)))if(n.router&&a){const z=B.route||k,O=a.push(z).then(G=>(G||(d.value=k),G));e("select",k,H,{index:k,indexPath:H,route:z},O)}else d.value=k,e("select",k,H,{index:k,indexPath:H})},x=B=>{const k=f.value,H=k[B]||d.value&&k[d.value]||k[n.defaultActive];H?d.value=H.index:d.value=B},S=B=>{const k=getComputedStyle(B),H=Number.parseInt(k.marginLeft,10),z=Number.parseInt(k.marginRight,10);return B.offsetWidth+H+z||0},T=()=>{var B,k;if(!s.value)return-1;const H=Array.from((k=(B=s.value)==null?void 0:B.childNodes)!=null?k:[]).filter(de=>de.nodeName!=="#comment"&&(de.nodeName!=="#text"||de.nodeValue)),z=64,O=getComputedStyle(s.value),G=Number.parseInt(O.paddingLeft,10),X=Number.parseInt(O.paddingRight,10),J=s.value.clientWidth-G-X;let Q=0,re=0;return H.forEach((de,le)=>{Q+=S(de),Q<=J-z&&(re=le+1)}),re===H.length?-1:re},C=B=>h.value[B].indexPath,M=(B,k=33.34)=>{let H;return()=>{H&&clearTimeout(H),H=setTimeout(()=>{B()},k)}};let A=!0;const I=()=>{if(c.value===T())return;const B=()=>{c.value=-1,Yt(()=>{c.value=T()})};A?B():M(B)(),A=!1};dt(()=>n.defaultActive,B=>{f.value[B]||(d.value=""),x(B)}),dt(()=>n.collapse,B=>{B&&(u.value=[])}),dt(f.value,m);let D;Ta(()=>{n.mode==="horizontal"&&n.ellipsis?D=ui(s,I).stop:D==null||D()});const L=ee(!1);{const B=O=>{h.value[O.index]=O},k=O=>{delete h.value[O.index]};$n("rootMenu",mr({props:n,openedMenus:u,items:f,subMenus:h,activeIndex:d,isMenuPopup:p,addMenuItem:O=>{f.value[O.index]=O},removeMenuItem:O=>{delete f.value[O.index]},addSubMenu:B,removeSubMenu:k,openMenu:v,closeMenu:y,handleMenuItemClick:_,handleSubMenuClick:b})),$n(`subMenu:${i.uid}`,{addSubMenu:B,removeSubMenu:k,mouseInChild:L,level:0})}pn(()=>{n.mode==="horizontal"&&new HMe(i.vnode.el,o.namespace.value)}),r({open:k=>{const{indexPath:H}=h.value[k];H.forEach(z=>v(z,H))},close:g,handleResize:I});const F=mj(n,0);return()=>{var B,k;let H=(k=(B=t.default)==null?void 0:B.call(t))!=null?k:[];const z=[];if(n.mode==="horizontal"&&s.value){const X=Rf(H),J=c.value===-1?X:X.slice(0,c.value),Q=c.value===-1?[]:X.slice(c.value);Q!=null&&Q.length&&n.ellipsis&&(H=J,z.push(Gt(TL,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:n.popperOffset},{title:()=>Gt(Vt,{class:l.e("icon-more")},{default:()=>Gt(n.ellipsisIcon)}),default:()=>Q})))}const O=n.closeOnClickOutside?[[ld,()=>{u.value.length&&(L.value||(u.value.forEach(X=>e("close",X,C(X))),u.value=[]))}]]:[],G=Sn(Gt("ul",{key:String(n.collapse),role:"menubar",ref:s,style:F.value,class:{[o.b()]:!0,[o.m(n.mode)]:!0,[o.m("collapse")]:n.collapse}},[...H,...z]),O);return n.collapseTransition&&n.mode==="vertical"?Gt(GMe,()=>G):G}}});const jMe=Rt({index:{type:We([String,null]),default:null},route:{type:We([String,Object])},disabled:Boolean}),ZMe={click:n=>qt(n.index)&&Tt(n.indexPath)},P3="ElMenuItem",QMe=Ie({name:P3,components:{ElTooltip:ns},props:jMe,emits:ZMe,setup(n,{emit:e}){const t=Dn(),r=Ot("rootMenu"),i=bt("menu"),a=bt("menu-item");r||ua(P3,"can not inject root menu");const{parentMenu:s,indexPath:o}=pj(t,_r(n,"index")),l=Ot(`subMenu:${s.value.uid}`);l||ua(P3,"can not inject sub menu");const c=U(()=>n.index===r.activeIndex),u=mr({index:n.index,indexPath:o,active:c}),d=()=>{n.disabled||(r.handleMenuItemClick({index:n.index,indexPath:o.value,route:n.route}),e("click",u))};return pn(()=>{l.addSubMenu(u),r.addMenuItem(u)}),yr(()=>{l.removeSubMenu(u),r.removeMenuItem(u)}),{parentMenu:s,rootMenu:r,active:c,nsMenu:i,nsMenuItem:a,handleClick:d}}});function JMe(n,e,t,r,i,a){const s=Et("el-tooltip");return V(),ue("li",{class:j([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:n.handleClick},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(V(),rt(s,{key:0,effect:n.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:be(()=>[Ze(n.$slots,"title")]),default:be(()=>[me("div",{class:j(n.nsMenu.be("tooltip","trigger"))},[Ze(n.$slots,"default")],2)]),_:3},8,["effect"])):(V(),ue(zt,{key:1},[Ze(n.$slots,"default"),Ze(n.$slots,"title")],64))],10,["onClick"])}var vj=Pt(QMe,[["render",JMe],["__file","menu-item.vue"]]);const eTe={title:String},tTe="ElMenuItemGroup",nTe=Ie({name:tTe,props:eTe,setup(){return{ns:bt("menu-item-group")}}});function rTe(n,e,t,r,i,a){return V(),ue("li",{class:j(n.ns.b())},[me("div",{class:j(n.ns.e("title"))},[n.$slots.title?Ze(n.$slots,"title",{key:1}):(V(),ue(zt,{key:0},[dn(Ct(n.title),1)],64))],2),me("ul",null,[Ze(n.$slots,"default")])],2)}var gj=Pt(nTe,[["render",rTe],["__file","menu-item-group.vue"]]);const iTe=gn(XMe,{MenuItem:vj,MenuItemGroup:gj,SubMenu:TL}),aTe=Si(vj),sTe=Si(gj),oTe=Si(TL),lTe=Rt({icon:{type:kr,default:()=>p0e},title:String,content:{type:String,default:""}}),cTe={back:()=>!0},uTe=Ie({name:"ElPageHeader"}),dTe=Ie({...uTe,props:lTe,emits:cTe,setup(n,{emit:e}){const t=ea(),{t:r}=rr(),i=bt("page-header"),a=U(()=>[i.b(),{[i.m("has-breadcrumb")]:!!t.breadcrumb,[i.m("has-extra")]:!!t.extra,[i.is("contentful")]:!!t.default}]);function s(){e("back")}return(o,l)=>(V(),ue("div",{class:j(w(a))},[o.$slots.breadcrumb?(V(),ue("div",{key:0,class:j(w(i).e("breadcrumb"))},[Ze(o.$slots,"breadcrumb")],2)):Qe("v-if",!0),me("div",{class:j(w(i).e("header"))},[me("div",{class:j(w(i).e("left"))},[me("div",{class:j(w(i).e("back")),role:"button",tabindex:"0",onClick:s},[o.icon||o.$slots.icon?(V(),ue("div",{key:0,"aria-label":o.title||w(r)("el.pageHeader.title"),class:j(w(i).e("icon"))},[Ze(o.$slots,"icon",{},()=>[o.icon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(o.icon)))]),_:1})):Qe("v-if",!0)])],10,["aria-label"])):Qe("v-if",!0),me("div",{class:j(w(i).e("title"))},[Ze(o.$slots,"title",{},()=>[dn(Ct(o.title||w(r)("el.pageHeader.title")),1)])],2)],2),se(w(ej),{direction:"vertical"}),me("div",{class:j(w(i).e("content"))},[Ze(o.$slots,"content",{},()=>[dn(Ct(o.content),1)])],2)],2),o.$slots.extra?(V(),ue("div",{key:0,class:j(w(i).e("extra"))},[Ze(o.$slots,"extra")],2)):Qe("v-if",!0)],2),o.$slots.default?(V(),ue("div",{key:1,class:j(w(i).e("main"))},[Ze(o.$slots,"default")],2)):Qe("v-if",!0)],2))}});var fTe=Pt(dTe,[["__file","page-header.vue"]]);const hTe=gn(fTe),yj=Symbol("elPaginationKey"),pTe=Rt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:kr}}),mTe={click:n=>n instanceof MouseEvent},vTe=Ie({name:"ElPaginationPrev"}),gTe=Ie({...vTe,props:pTe,emits:mTe,setup(n){const e=n,{t}=rr(),r=U(()=>e.disabled||e.currentPage<=1);return(i,a)=>(V(),ue("button",{type:"button",class:"btn-prev",disabled:w(r),"aria-label":i.prevText||w(t)("el.pagination.prev"),"aria-disabled":w(r),onClick:s=>i.$emit("click",s)},[i.prevText?(V(),ue("span",{key:0},Ct(i.prevText),1)):(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var yTe=Pt(gTe,[["__file","prev.vue"]]);const bTe=Rt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:kr}}),_Te=Ie({name:"ElPaginationNext"}),wTe=Ie({..._Te,props:bTe,emits:["click"],setup(n){const e=n,{t}=rr(),r=U(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,a)=>(V(),ue("button",{type:"button",class:"btn-next",disabled:w(r),"aria-label":i.nextText||w(t)("el.pagination.next"),"aria-disabled":w(r),onClick:s=>i.$emit("click",s)},[i.nextText?(V(),ue("span",{key:0},Ct(i.nextText),1)):(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var xTe=Pt(wTe,[["__file","next.vue"]]);const bj=Symbol("ElSelectGroup"),Xg=Symbol("ElSelect");function STe(n,e){const t=Ot(Xg),r=Ot(bj,{disabled:!1}),i=U(()=>u(bs(t.props.modelValue),n.value)),a=U(()=>{var h;if(t.props.multiple){const p=bs((h=t.props.modelValue)!=null?h:[]);return!i.value&&p.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),s=U(()=>n.label||(Pn(n.value)?"":n.value)),o=U(()=>n.value||n.label||""),l=U(()=>n.disabled||e.groupDisabled||a.value),c=Dn(),u=(h=[],p)=>{if(Pn(n.value)){const m=t.props.valueKey;return h&&h.some(v=>Lr(Vi(v,m))===Vi(p,m))}else return h&&h.includes(p)},d=()=>{!n.disabled&&!r.disabled&&(t.states.hoveringIndex=t.optionsArray.indexOf(c.proxy))},f=h=>{const p=new RegExp(uL(h),"i");e.visible=p.test(s.value)||n.created};return dt(()=>s.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),dt(()=>n.value,(h,p)=>{const{remote:m,valueKey:v}=t.props;if(h!==p&&(t.onOptionDestroy(p,c.proxy),t.onOptionCreate(c.proxy)),!n.created&&!m){if(v&&Pn(h)&&Pn(p)&&h[v]===p[v])return;t.setSelected()}}),dt(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:t,currentLabel:s,currentValue:o,itemSelected:i,isDisabled:l,hoverItem:d,updateOption:f}}const CTe=Ie({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(n){const e=bt("select"),t=za(),r=U(()=>[e.be("dropdown","item"),e.is("disabled",w(o)),e.is("selected",w(s)),e.is("hovering",w(f))]),i=mr({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:s,isDisabled:o,select:l,hoverItem:c,updateOption:u}=STe(n,i),{visible:d,hover:f}=la(i),h=Dn().proxy;l.onOptionCreate(h),yr(()=>{const m=h.value,{selected:v}=l.states,g=v.some(y=>y.value===h.value);Yt(()=>{l.states.cachedOptions.get(m)===h&&!g&&l.states.cachedOptions.delete(m)}),l.onOptionDestroy(m,h)});function p(){o.value||l.handleOptionSelect(h)}return{ns:e,id:t,containerKls:r,currentLabel:a,itemSelected:s,isDisabled:o,select:l,hoverItem:c,updateOption:u,visible:d,hover:f,selectOptionClick:p,states:i}}});function MTe(n,e,t,r,i,a){return Sn((V(),ue("li",{id:n.id,class:j(n.containerKls),role:"option","aria-disabled":n.isDisabled||void 0,"aria-selected":n.itemSelected,onMousemove:n.hoverItem,onClick:sn(n.selectOptionClick,["stop"])},[Ze(n.$slots,"default",{},()=>[me("span",null,Ct(n.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[fr,n.visible]])}var AL=Pt(CTe,[["render",MTe],["__file","option.vue"]]);const TTe=Ie({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=Ot(Xg),e=bt("select"),t=U(()=>n.props.popperClass),r=U(()=>n.props.multiple),i=U(()=>n.props.fitInputWidth),a=ee("");function s(){var o;a.value=`${(o=n.selectRef)==null?void 0:o.offsetWidth}px`}return pn(()=>{s(),ui(n.selectRef,s)}),{ns:e,minWidth:a,popperClass:t,isMultiple:r,isFitInputWidth:i}}});function ATe(n,e,t,r,i,a){return V(),ue("div",{class:j([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:Bt({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[n.$slots.header?(V(),ue("div",{key:0,class:j(n.ns.be("dropdown","header"))},[Ze(n.$slots,"header")],2)):Qe("v-if",!0),Ze(n.$slots,"default"),n.$slots.footer?(V(),ue("div",{key:1,class:j(n.ns.be("dropdown","footer"))},[Ze(n.$slots,"footer")],2)):Qe("v-if",!0)],6)}var ETe=Pt(TTe,[["render",ATe],["__file","select-dropdown.vue"]]);const ITe=11,RTe=(n,e)=>{const{t}=rr(),r=za(),i=bt("select"),a=bt("input"),s=mr({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),o=ee(null),l=ee(null),c=ee(null),u=ee(null),d=ee(null),f=ee(null),h=ee(null),p=ee(null),m=ee(null),v=ee(null),g=ee(null),y=ee(null),{isComposing:b,handleCompositionStart:_,handleCompositionUpdate:x,handleCompositionEnd:S}=Y_({afterComposition:et=>Me(et)}),{wrapperRef:T,isFocused:C,handleBlur:M}=mh(d,{beforeFocus(){return H.value},afterFocus(){n.automaticDropdown&&!A.value&&(A.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(et){var xt,Kt;return((xt=c.value)==null?void 0:xt.isFocusInsideContent(et))||((Kt=u.value)==null?void 0:Kt.isFocusInsideContent(et))},afterBlur(){A.value=!1,s.menuVisibleOnFocus=!1}}),A=ee(!1),I=ee(),{form:D,formItem:L}=is(),{inputId:F}=Ol(n,{formItemContext:L}),{valueOnClear:B,isEmptyValue:k}=pT(n),H=U(()=>n.disabled||(D==null?void 0:D.disabled)),z=U(()=>Tt(n.modelValue)?n.modelValue.length>0:!k(n.modelValue)),O=U(()=>{var et;return(et=D==null?void 0:D.statusIcon)!=null?et:!1}),G=U(()=>n.clearable&&!H.value&&s.inputHovering&&z.value),X=U(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),J=U(()=>i.is("reverse",X.value&&A.value)),Q=U(()=>(L==null?void 0:L.validateState)||""),re=U(()=>yT[Q.value]),de=U(()=>n.remote?300:0),le=U(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!s.inputValue&&s.options.size===0?!1:n.filterable&&s.inputValue&&s.options.size>0&&fe.value===0?n.noMatchText||t("el.select.noMatch"):s.options.size===0?n.noDataText||t("el.select.noData"):null),fe=U(()=>Ee.value.filter(et=>et.visible).length),Ee=U(()=>{const et=Array.from(s.options.values()),xt=[];return s.optionValues.forEach(Kt=>{const yn=et.findIndex(On=>On.value===Kt);yn>-1&&xt.push(et[yn])}),xt.length>=et.length?xt:et}),Re=U(()=>Array.from(s.cachedOptions.values())),He=U(()=>{const et=Ee.value.filter(xt=>!xt.created).some(xt=>xt.currentLabel===s.inputValue);return n.filterable&&n.allowCreate&&s.inputValue!==""&&!et}),$e=()=>{n.filterable&&Zt(n.filterMethod)||n.filterable&&n.remote&&Zt(n.remoteMethod)||Ee.value.forEach(et=>{var xt;(xt=et.updateOption)==null||xt.call(et,s.inputValue)})},K=Xi(),ce=U(()=>["small"].includes(K.value)?"small":"default"),ie=U({get(){return A.value&&le.value!==!1},set(et){A.value=et}}),Ue=U(()=>{if(n.multiple&&!Mr(n.modelValue))return bs(n.modelValue).length===0&&!s.inputValue;const et=Tt(n.modelValue)?n.modelValue[0]:n.modelValue;return n.filterable||Mr(et)?!s.inputValue:!0}),De=U(()=>{var et;const xt=(et=n.placeholder)!=null?et:t("el.select.placeholder");return n.multiple||!z.value?xt:s.selectedLabel}),Ye=U(()=>p5?null:"mouseenter");dt(()=>n.modelValue,(et,xt)=>{n.multiple&&n.filterable&&!n.reserveKeyword&&(s.inputValue="",ze("")),Je(),!Fa(et,xt)&&n.validateEvent&&(L==null||L.validate("change").catch(Kt=>void 0))},{flush:"post",deep:!0}),dt(()=>A.value,et=>{et?ze(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),e("visible-change",et)}),dt(()=>s.options.entries(),()=>{nr&&(Je(),n.defaultFirstOption&&(n.filterable||n.remote)&&fe.value&&Ve())},{flush:"post"}),dt(()=>s.hoveringIndex,et=>{en(et)&&et>-1?I.value=Ee.value[et]||{}:I.value={},Ee.value.forEach(xt=>{xt.hover=I.value===xt})}),Ta(()=>{s.isBeforeHide||$e()});const ze=et=>{s.previousQuery===et||b.value||(s.previousQuery=et,n.filterable&&Zt(n.filterMethod)?n.filterMethod(et):n.filterable&&n.remote&&Zt(n.remoteMethod)&&n.remoteMethod(et),n.defaultFirstOption&&(n.filterable||n.remote)&&fe.value?Yt(Ve):Yt(W))},Ve=()=>{const et=Ee.value.filter(On=>On.visible&&!On.disabled&&!On.states.groupDisabled),xt=et.find(On=>On.created),Kt=et[0],yn=Ee.value.map(On=>On.value);s.hoveringIndex=Se(yn,xt||Kt)},Je=()=>{if(n.multiple)s.selectedLabel="";else{const xt=Tt(n.modelValue)?n.modelValue[0]:n.modelValue,Kt=pe(xt);s.selectedLabel=Kt.currentLabel,s.selected=[Kt];return}const et=[];Mr(n.modelValue)||bs(n.modelValue).forEach(xt=>{et.push(pe(xt))}),s.selected=et},pe=et=>{let xt;const Kt=Cb(et);for(let je=s.cachedOptions.size-1;je>=0;je--){const Xn=Re.value[je];if(Kt?Vi(Xn.value,n.valueKey)===Vi(et,n.valueKey):Xn.value===et){xt={value:et,currentLabel:Xn.currentLabel,get isDisabled(){return Xn.isDisabled}};break}}if(xt)return xt;const yn=Kt?et.label:et??"";return{value:et,currentLabel:yn}},W=()=>{s.hoveringIndex=Ee.value.findIndex(et=>s.selected.some(xt=>Zn(xt)===Zn(et)))},Z=()=>{s.selectionWidth=l.value.getBoundingClientRect().width},ve=()=>{s.calculatorWidth=f.value.getBoundingClientRect().width},Ne=()=>{s.collapseItemWidth=g.value.getBoundingClientRect().width},Ke=()=>{var et,xt;(xt=(et=c.value)==null?void 0:et.updatePopper)==null||xt.call(et)},mt=()=>{var et,xt;(xt=(et=u.value)==null?void 0:et.updatePopper)==null||xt.call(et)},vt=()=>{s.inputValue.length>0&&!A.value&&(A.value=!0),ze(s.inputValue)},Me=et=>{if(s.inputValue=et.target.value,n.remote)ht();else return vt()},ht=go(()=>{vt()},de.value),st=et=>{Fa(n.modelValue,et)||e(Rr,et)},$=et=>GK(et,xt=>{const Kt=s.cachedOptions.get(xt);return Kt&&!Kt.disabled&&!Kt.states.groupDisabled}),ge=et=>{if(n.multiple&&et.code!==Nt.delete&&et.target.value.length<=0){const xt=bs(n.modelValue).slice(),Kt=$(xt);if(Kt<0)return;const yn=xt[Kt];xt.splice(Kt,1),e(Mn,xt),st(xt),e("remove-tag",yn)}},he=(et,xt)=>{const Kt=s.selected.indexOf(xt);if(Kt>-1&&!H.value){const yn=bs(n.modelValue).slice();yn.splice(Kt,1),e(Mn,yn),st(yn),e("remove-tag",xt.value)}et.stopPropagation(),Lt()},Ae=et=>{et.stopPropagation();const xt=n.multiple?[]:B.value;if(n.multiple)for(const Kt of s.selected)Kt.isDisabled&&xt.push(Kt.value);e(Mn,xt),st(xt),s.hoveringIndex=-1,A.value=!1,e("clear"),Lt()},ye=et=>{var xt;if(n.multiple){const Kt=bs((xt=n.modelValue)!=null?xt:[]).slice(),yn=Se(Kt,et);yn>-1?Kt.splice(yn,1):(n.multipleLimit<=0||Kt.length<n.multipleLimit)&&Kt.push(et.value),e(Mn,Kt),st(Kt),et.created&&ze(""),n.filterable&&!n.reserveKeyword&&(s.inputValue="")}else e(Mn,et.value),st(et.value),A.value=!1;Lt(),!A.value&&Yt(()=>{ft(et)})},Se=(et=[],xt)=>Mr(xt)?-1:Pn(xt.value)?et.findIndex(Kt=>Fa(Vi(Kt,n.valueKey),Zn(xt))):et.indexOf(xt.value),ft=et=>{var xt,Kt,yn,On,je;const Xn=Tt(et)?et[0]:et;let at=null;if(Xn!=null&&Xn.value){const Pe=Ee.value.filter(yt=>yt.value===Xn.value);Pe.length>0&&(at=Pe[0].$el)}if(c.value&&at){const Pe=(On=(yn=(Kt=(xt=c.value)==null?void 0:xt.popperRef)==null?void 0:Kt.contentRef)==null?void 0:yn.querySelector)==null?void 0:On.call(yn,`.${i.be("dropdown","wrap")}`);Pe&&zk(Pe,at)}(je=y.value)==null||je.handleScroll()},Te=et=>{s.options.set(et.value,et),s.cachedOptions.set(et.value,et)},_t=(et,xt)=>{s.options.get(et)===xt&&s.options.delete(et)},nt=U(()=>{var et,xt;return(xt=(et=c.value)==null?void 0:et.popperRef)==null?void 0:xt.contentRef}),gt=()=>{s.isBeforeHide=!1,Yt(()=>ft(s.selected))},Lt=()=>{var et;(et=d.value)==null||et.focus()},At=()=>{var et;if(A.value){A.value=!1,Yt(()=>{var xt;return(xt=d.value)==null?void 0:xt.blur()});return}(et=d.value)==null||et.blur()},an=et=>{Ae(et)},_n=et=>{if(A.value=!1,C.value){const xt=new FocusEvent("focus",et);Yt(()=>M(xt))}},lr=()=>{s.inputValue.length>0?s.inputValue="":A.value=!1},kn=()=>{H.value||(p5&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:A.value=!A.value)},Yr=()=>{if(!A.value)kn();else{const et=Ee.value[s.hoveringIndex];et&&!et.isDisabled&&ye(et)}},Zn=et=>Pn(et.value)?Vi(et.value,n.valueKey):et.value,Y=U(()=>Ee.value.filter(et=>et.visible).every(et=>et.isDisabled)),ae=U(()=>n.multiple?n.collapseTags?s.selected.slice(0,n.maxCollapseTags):s.selected:[]),Ut=U(()=>n.multiple?n.collapseTags?s.selected.slice(n.maxCollapseTags):[]:[]),Ce=et=>{if(!A.value){A.value=!0;return}if(!(s.options.size===0||fe.value===0||b.value)&&!Y.value){et==="next"?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):et==="prev"&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const xt=Ee.value[s.hoveringIndex];(xt.isDisabled||!xt.visible)&&Ce(et),Yt(()=>ft(I.value))}},oe=()=>{if(!l.value)return 0;const et=window.getComputedStyle(l.value);return Number.parseFloat(et.gap||"6px")},St=U(()=>{const et=oe();return{maxWidth:`${g.value&&n.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-et:s.selectionWidth}px`}}),pt=U(()=>({maxWidth:`${s.selectionWidth}px`})),It=U(()=>({width:`${Math.max(s.calculatorWidth,ITe)}px`}));return ui(l,Z),ui(f,ve),ui(m,Ke),ui(T,Ke),ui(v,mt),ui(g,Ne),pn(()=>{Je()}),{inputId:F,contentId:r,nsSelect:i,nsInput:a,states:s,isFocused:C,expanded:A,optionsArray:Ee,hoverOption:I,selectSize:K,filteredOptionsCount:fe,resetCalculatorWidth:ve,updateTooltip:Ke,updateTagTooltip:mt,debouncedOnInputChange:ht,onInput:Me,deletePrevTag:ge,deleteTag:he,deleteSelected:Ae,handleOptionSelect:ye,scrollToOption:ft,hasModelValue:z,shouldShowPlaceholder:Ue,currentPlaceholder:De,mouseEnterEventName:Ye,needStatusIcon:O,showClose:G,iconComponent:X,iconReverse:J,validateState:Q,validateIcon:re,showNewOption:He,updateOptions:$e,collapseTagSize:ce,setSelected:Je,selectDisabled:H,emptyText:le,handleCompositionStart:_,handleCompositionUpdate:x,handleCompositionEnd:S,onOptionCreate:Te,onOptionDestroy:_t,handleMenuEnter:gt,focus:Lt,blur:At,handleClearClick:an,handleClickOutside:_n,handleEsc:lr,toggleMenu:kn,selectOption:Yr,getValueKey:Zn,navigateOptions:Ce,dropdownMenuVisible:ie,showTagList:ae,collapseTagList:Ut,tagStyle:St,collapseTagStyle:pt,inputStyle:It,popperRef:nt,inputRef:d,tooltipRef:c,tagTooltipRef:u,calculatorRef:f,prefixRef:h,suffixRef:p,selectRef:o,wrapperRef:T,selectionRef:l,scrollbarRef:y,menuRef:m,tagMenuRef:v,collapseItemRef:g}};var PTe=Ie({name:"ElOptions",setup(n,{slots:e}){const t=Ot(Xg);let r=[];return()=>{var i,a;const s=(i=e.default)==null?void 0:i.call(e),o=[];function l(c){Tt(c)&&c.forEach(u=>{var d,f,h,p;const m=(d=(u==null?void 0:u.type)||{})==null?void 0:d.name;m==="ElOptionGroup"?l(!qt(u.children)&&!Tt(u.children)&&Zt((f=u.children)==null?void 0:f.default)?(h=u.children)==null?void 0:h.default():u.children):m==="ElOption"?o.push((p=u.props)==null?void 0:p.value):Tt(u.children)&&l(u.children)})}return s.length&&l((a=s[0])==null?void 0:a.children),Fa(o,r)||(r=o,t&&(t.states.optionValues=o)),s}}});const DTe=Rt({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:Ji,effect:{type:We(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:We(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:ba.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:kr,default:xd},fitInputWidth:Boolean,suffixIcon:{type:kr,default:wd},tagType:{...od.type,default:"info"},tagEffect:{...od.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:We(String),values:Sd,default:"bottom-start"},fallbackPlacements:{type:We(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Wg,...Ua(["ariaLabel"])}),MF="ElSelect",kTe=Ie({name:MF,componentName:MF,components:{ElSelectMenu:ETe,ElOption:AL,ElOptions:PTe,ElTag:ag,ElScrollbar:du,ElTooltip:ns,ElIcon:Vt},directives:{ClickOutside:ld},props:DTe,emits:[Mn,Rr,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const t=U(()=>{const{modelValue:s,multiple:o}=n,l=o?[]:void 0;return Tt(s)?o?s:l:o?l:s}),r=mr({...la(n),modelValue:t}),i=RTe(r,e);$n(Xg,mr({props:r,states:i.states,optionsArray:i.optionsArray,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy,selectRef:i.selectRef,setSelected:i.setSelected}));const a=U(()=>n.multiple?i.states.selected.map(s=>s.currentLabel):i.states.selectedLabel);return{...i,modelValue:t,selectedLabel:a}}});function LTe(n,e,t,r,i,a){const s=Et("el-tag"),o=Et("el-tooltip"),l=Et("el-icon"),c=Et("el-option"),u=Et("el-options"),d=Et("el-scrollbar"),f=Et("el-select-menu"),h=nT("click-outside");return Sn((V(),ue("div",{ref:"selectRef",class:j([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),[k1(n.mouseEnterEventName)]:p=>n.states.inputHovering=!0,onMouseleave:p=>n.states.inputHovering=!1},[se(o,{ref:"tooltipRef",visible:n.dropdownMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,"append-to":n.appendTo,"show-arrow":n.showArrow,offset:n.offset,onBeforeShow:n.handleMenuEnter,onHide:p=>n.states.isBeforeHide=!1},{default:be(()=>{var p;return[me("div",{ref:"wrapperRef",class:j([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)]),onClick:sn(n.toggleMenu,["prevent"])},[n.$slots.prefix?(V(),ue("div",{key:0,ref:"prefixRef",class:j(n.nsSelect.e("prefix"))},[Ze(n.$slots,"prefix")],2)):Qe("v-if",!0),me("div",{ref:"selectionRef",class:j([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.states.selected.length)])},[n.multiple?Ze(n.$slots,"tag",{key:0},()=>[(V(!0),ue(zt,null,In(n.showTagList,m=>(V(),ue("div",{key:n.getValueKey(m),class:j(n.nsSelect.e("selected-item"))},[se(s,{closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Bt(n.tagStyle),onClose:v=>n.deleteTag(v,m)},{default:be(()=>[me("span",{class:j(n.nsSelect.e("tags-text"))},[Ze(n.$slots,"label",{label:m.currentLabel,value:m.value},()=>[dn(Ct(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),n.collapseTags&&n.states.selected.length>n.maxCollapseTags?(V(),rt(o,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:be(()=>[me("div",{ref:"collapseItemRef",class:j(n.nsSelect.e("selected-item"))},[se(s,{closable:!1,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Bt(n.collapseTagStyle)},{default:be(()=>[me("span",{class:j(n.nsSelect.e("tags-text"))}," + "+Ct(n.states.selected.length-n.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:be(()=>[me("div",{ref:"tagMenuRef",class:j(n.nsSelect.e("selection"))},[(V(!0),ue(zt,null,In(n.collapseTagList,m=>(V(),ue("div",{key:n.getValueKey(m),class:j(n.nsSelect.e("selected-item"))},[se(s,{class:"in-tooltip",closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",onClose:v=>n.deleteTag(v,m)},{default:be(()=>[me("span",{class:j(n.nsSelect.e("tags-text"))},[Ze(n.$slots,"label",{label:m.currentLabel,value:m.value},()=>[dn(Ct(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Qe("v-if",!0)]):Qe("v-if",!0),me("div",{class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[Sn(me("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":m=>n.states.inputValue=m,type:"text",name:n.name,class:j([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:Bt(n.inputStyle),tabindex:n.tabindex,role:"combobox",readonly:!n.filterable,spellcheck:"false","aria-activedescendant":((p=n.hoverOption)==null?void 0:p.id)||"","aria-controls":n.contentId,"aria-expanded":n.dropdownMenuVisible,"aria-label":n.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Ur(sn(m=>n.navigateOptions("next"),["stop","prevent"]),["down"]),Ur(sn(m=>n.navigateOptions("prev"),["stop","prevent"]),["up"]),Ur(sn(n.handleEsc,["stop","prevent"]),["esc"]),Ur(sn(n.selectOption,["stop","prevent"]),["enter"]),Ur(sn(n.deletePrevTag,["stop"]),["delete"])],onCompositionstart:n.handleCompositionStart,onCompositionupdate:n.handleCompositionUpdate,onCompositionend:n.handleCompositionEnd,onInput:n.onInput,onClick:sn(n.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[aT,n.states.inputValue]]),n.filterable?(V(),ue("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:j(n.nsSelect.e("input-calculator")),textContent:Ct(n.states.inputValue)},null,10,["textContent"])):Qe("v-if",!0)],2),n.shouldShowPlaceholder?(V(),ue("div",{key:1,class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[n.hasModelValue?Ze(n.$slots,"label",{key:0,label:n.currentPlaceholder,value:n.modelValue},()=>[me("span",null,Ct(n.currentPlaceholder),1)]):(V(),ue("span",{key:1},Ct(n.currentPlaceholder),1))],2)):Qe("v-if",!0)],2),me("div",{ref:"suffixRef",class:j(n.nsSelect.e("suffix"))},[n.iconComponent&&!n.showClose?(V(),rt(l,{key:0,class:j([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])):Qe("v-if",!0),n.showClose&&n.clearIcon?(V(),rt(l,{key:1,class:j([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.nsSelect.e("clear")]),onClick:n.handleClearClick},{default:be(()=>[(V(),rt(Nn(n.clearIcon)))]),_:1},8,["class","onClick"])):Qe("v-if",!0),n.validateState&&n.validateIcon&&n.needStatusIcon?(V(),rt(l,{key:2,class:j([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:be(()=>[(V(),rt(Nn(n.validateIcon)))]),_:1},8,["class"])):Qe("v-if",!0)],2)],10,["onClick"])]}),content:be(()=>[se(f,{ref:"menuRef"},{default:be(()=>[n.$slots.header?(V(),ue("div",{key:0,class:j(n.nsSelect.be("dropdown","header")),onClick:sn(()=>{},["stop"])},[Ze(n.$slots,"header")],10,["onClick"])):Qe("v-if",!0),Sn(se(d,{id:n.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:j([n.nsSelect.is("empty",n.filteredOptionsCount===0)]),role:"listbox","aria-label":n.ariaLabel,"aria-orientation":"vertical"},{default:be(()=>[n.showNewOption?(V(),rt(c,{key:0,value:n.states.inputValue,created:!0},null,8,["value"])):Qe("v-if",!0),se(u,null,{default:be(()=>[Ze(n.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[fr,n.states.options.size>0&&!n.loading]]),n.$slots.loading&&n.loading?(V(),ue("div",{key:1,class:j(n.nsSelect.be("dropdown","loading"))},[Ze(n.$slots,"loading")],2)):n.loading||n.filteredOptionsCount===0?(V(),ue("div",{key:2,class:j(n.nsSelect.be("dropdown","empty"))},[Ze(n.$slots,"empty",{},()=>[me("span",null,Ct(n.emptyText),1)])],2)):Qe("v-if",!0),n.$slots.footer?(V(),ue("div",{key:3,class:j(n.nsSelect.be("dropdown","footer")),onClick:sn(()=>{},["stop"])},[Ze(n.$slots,"footer")],10,["onClick"])):Qe("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,n.handleClickOutside,n.popperRef]])}var NTe=Pt(kTe,[["render",LTe],["__file","select.vue"]]);const OTe=Ie({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const e=bt("select"),t=ee(null),r=Dn(),i=ee([]);$n(bj,mr({...la(n)}));const a=U(()=>i.value.some(c=>c.visible===!0)),s=c=>{var u,d;return((u=c.type)==null?void 0:u.name)==="ElOption"&&!!((d=c.component)!=null&&d.proxy)},o=c=>{const u=bs(c),d=[];return u.forEach(f=>{var h,p;s(f)?d.push(f.component.proxy):(h=f.children)!=null&&h.length?d.push(...o(f.children)):(p=f.component)!=null&&p.subTree&&d.push(...o(f.component.subTree))}),d},l=()=>{i.value=o(r.subTree)};return pn(()=>{l()}),ZK(t,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:t,visible:a,ns:e}}});function BTe(n,e,t,r,i,a){return Sn((V(),ue("ul",{ref:"groupRef",class:j(n.ns.be("group","wrap"))},[me("li",{class:j(n.ns.be("group","title"))},Ct(n.label),3),me("li",null,[me("ul",{class:j(n.ns.b("group"))},[Ze(n.$slots,"default")],2)])],2)),[[fr,n.visible]])}var _j=Pt(OTe,[["render",BTe],["__file","option-group.vue"]]);const rm=gn(NTe,{Option:AL,OptionGroup:_j}),SC=Si(AL),FTe=Si(_j),EL=()=>Ot(yj,{}),zTe=Rt({pageSize:{type:Number,required:!0},pageSizes:{type:We(Array),default:()=>_i([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:uu},appendSizeTo:String}),UTe=Ie({name:"ElPaginationSizes"}),HTe=Ie({...UTe,props:zTe,emits:["page-size-change"],setup(n,{emit:e}){const t=n,{t:r}=rr(),i=bt("pagination"),a=EL(),s=ee(t.pageSize);dt(()=>t.pageSizes,(c,u)=>{if(!Fa(c,u)&&Tt(c)){const d=c.includes(t.pageSize)?t.pageSize:t.pageSizes[0];e("page-size-change",d)}}),dt(()=>t.pageSize,c=>{s.value=c});const o=U(()=>t.pageSizes);function l(c){var u;c!==s.value&&(s.value=c,(u=a.handleSizeChange)==null||u.call(a,Number(c)))}return(c,u)=>(V(),ue("span",{class:j(w(i).e("sizes"))},[se(w(rm),{"model-value":s.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:l},{default:be(()=>[(V(!0),ue(zt,null,In(w(o),d=>(V(),rt(w(SC),{key:d,value:d,label:d+w(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var VTe=Pt(HTe,[["__file","sizes.vue"]]);const $Te=Rt({size:{type:String,values:uu}}),GTe=Ie({name:"ElPaginationJumper"}),WTe=Ie({...GTe,props:$Te,setup(n){const{t:e}=rr(),t=bt("pagination"),{pageCount:r,disabled:i,currentPage:a,changeEvent:s}=EL(),o=ee(),l=U(()=>{var d;return(d=o.value)!=null?d:a==null?void 0:a.value});function c(d){o.value=d?+d:""}function u(d){d=Math.trunc(+d),s==null||s(d),o.value=void 0}return(d,f)=>(V(),ue("span",{class:j(w(t).e("jump")),disabled:w(i)},[me("span",{class:j([w(t).e("goto")])},Ct(w(e)("el.pagination.goto")),3),se(w(xs),{size:d.size,class:j([w(t).e("editor"),w(t).is("in-pagination")]),min:1,max:w(r),disabled:w(i),"model-value":w(l),"validate-event":!1,"aria-label":w(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","aria-label"]),me("span",{class:j([w(t).e("classifier")])},Ct(w(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var qTe=Pt(WTe,[["__file","jumper.vue"]]);const KTe=Rt({total:{type:Number,default:1e3}}),YTe=Ie({name:"ElPaginationTotal"}),XTe=Ie({...YTe,props:KTe,setup(n){const{t:e}=rr(),t=bt("pagination"),{disabled:r}=EL();return(i,a)=>(V(),ue("span",{class:j(w(t).e("total")),disabled:w(r)},Ct(w(e)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var jTe=Pt(XTe,[["__file","total.vue"]]);const ZTe=Rt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),QTe=Ie({name:"ElPaginationPager"}),JTe=Ie({...QTe,props:ZTe,emits:["change"],setup(n,{emit:e}){const t=n,r=bt("pager"),i=bt("icon"),{t:a}=rr(),s=ee(!1),o=ee(!1),l=ee(!1),c=ee(!1),u=ee(!1),d=ee(!1),f=U(()=>{const _=t.pagerCount,x=(_-1)/2,S=Number(t.currentPage),T=Number(t.pageCount);let C=!1,M=!1;T>_&&(S>_-x&&(C=!0),S<T-x&&(M=!0));const A=[];if(C&&!M){const I=T-(_-2);for(let D=I;D<T;D++)A.push(D)}else if(!C&&M)for(let I=2;I<_;I++)A.push(I);else if(C&&M){const I=Math.floor(_/2)-1;for(let D=S-I;D<=S+I;D++)A.push(D)}else for(let I=2;I<T;I++)A.push(I);return A}),h=U(()=>["more","btn-quickprev",i.b(),r.is("disabled",t.disabled)]),p=U(()=>["more","btn-quicknext",i.b(),r.is("disabled",t.disabled)]),m=U(()=>t.disabled?-1:0);Ta(()=>{const _=(t.pagerCount-1)/2;s.value=!1,o.value=!1,t.pageCount>t.pagerCount&&(t.currentPage>t.pagerCount-_&&(s.value=!0),t.currentPage<t.pageCount-_&&(o.value=!0))});function v(_=!1){t.disabled||(_?l.value=!0:c.value=!0)}function g(_=!1){_?u.value=!0:d.value=!0}function y(_){const x=_.target;if(x.tagName.toLowerCase()==="li"&&Array.from(x.classList).includes("number")){const S=Number(x.textContent);S!==t.currentPage&&e("change",S)}else x.tagName.toLowerCase()==="li"&&Array.from(x.classList).includes("more")&&b(_)}function b(_){const x=_.target;if(x.tagName.toLowerCase()==="ul"||t.disabled)return;let S=Number(x.textContent);const T=t.pageCount,C=t.currentPage,M=t.pagerCount-2;x.className.includes("more")&&(x.className.includes("quickprev")?S=C-M:x.className.includes("quicknext")&&(S=C+M)),Number.isNaN(+S)||(S<1&&(S=1),S>T&&(S=T)),S!==C&&e("change",S)}return(_,x)=>(V(),ue("ul",{class:j(w(r).b()),onClick:b,onKeyup:Ur(y,["enter"])},[_.pageCount>0?(V(),ue("li",{key:0,class:j([[w(r).is("active",_.currentPage===1),w(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===1,"aria-label":w(a)("el.pagination.currentPage",{pager:1}),tabindex:w(m)}," 1 ",10,["aria-current","aria-label","tabindex"])):Qe("v-if",!0),s.value?(V(),ue("li",{key:1,class:j(w(h)),tabindex:w(m),"aria-label":w(a)("el.pagination.prevPages",{pager:_.pagerCount-2}),onMouseenter:S=>v(!0),onMouseleave:S=>l.value=!1,onFocus:S=>g(!0),onBlur:S=>u.value=!1},[(l.value||u.value)&&!_.disabled?(V(),rt(w(Yf),{key:0})):(V(),rt(w(C7),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Qe("v-if",!0),(V(!0),ue(zt,null,In(w(f),S=>(V(),ue("li",{key:S,class:j([[w(r).is("active",_.currentPage===S),w(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===S,"aria-label":w(a)("el.pagination.currentPage",{pager:S}),tabindex:w(m)},Ct(S),11,["aria-current","aria-label","tabindex"]))),128)),o.value?(V(),ue("li",{key:2,class:j(w(p)),tabindex:w(m),"aria-label":w(a)("el.pagination.nextPages",{pager:_.pagerCount-2}),onMouseenter:S=>v(),onMouseleave:S=>c.value=!1,onFocus:S=>g(),onBlur:S=>d.value=!1},[(c.value||d.value)&&!_.disabled?(V(),rt(w(Xf),{key:0})):(V(),rt(w(C7),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Qe("v-if",!0),_.pageCount>1?(V(),ue("li",{key:3,class:j([[w(r).is("active",_.currentPage===_.pageCount),w(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===_.pageCount,"aria-label":w(a)("el.pagination.currentPage",{pager:_.pageCount}),tabindex:w(m)},Ct(_.pageCount),11,["aria-current","aria-label","tabindex"])):Qe("v-if",!0)],42,["onKeyup"]))}});var eAe=Pt(JTe,[["__file","pager.vue"]]);const Es=n=>typeof n!="number",tAe=Rt({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>en(n)&&Math.trunc(n)===n&&n>4&&n<22&&n%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:We(Array),default:()=>_i([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:kr,default:()=>Kf},nextText:{type:String,default:""},nextIcon:{type:kr,default:()=>Hs},teleported:{type:Boolean,default:!0},small:Boolean,size:Ji,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),nAe={"update:current-page":n=>en(n),"update:page-size":n=>en(n),"size-change":n=>en(n),change:(n,e)=>en(n)&&en(e),"current-change":n=>en(n),"prev-click":n=>en(n),"next-click":n=>en(n)},TF="ElPagination";var rAe=Ie({name:TF,props:tAe,emits:nAe,setup(n,{emit:e,slots:t}){const{t:r}=rr(),i=bt("pagination"),a=Dn().vnode.props||{},s=iY(),o=U(()=>{var x;return n.small?"small":(x=n.size)!=null?x:s.value});Ef({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},U(()=>!!n.small));const l="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,c="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,u=U(()=>{if(Es(n.total)&&Es(n.pageCount)||!Es(n.currentPage)&&!l)return!1;if(n.layout.includes("sizes")){if(Es(n.pageCount)){if(!Es(n.total)&&!Es(n.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),d=ee(Es(n.defaultPageSize)?10:n.defaultPageSize),f=ee(Es(n.defaultCurrentPage)?1:n.defaultCurrentPage),h=U({get(){return Es(n.pageSize)?d.value:n.pageSize},set(x){Es(n.pageSize)&&(d.value=x),c&&(e("update:page-size",x),e("size-change",x))}}),p=U(()=>{let x=0;return Es(n.pageCount)?Es(n.total)||(x=Math.max(1,Math.ceil(n.total/h.value))):x=n.pageCount,x}),m=U({get(){return Es(n.currentPage)?f.value:n.currentPage},set(x){let S=x;x<1?S=1:x>p.value&&(S=p.value),Es(n.currentPage)&&(f.value=S),l&&(e("update:current-page",S),e("current-change",S))}});dt(p,x=>{m.value>x&&(m.value=x)}),dt([m,h],x=>{e("change",...x)},{flush:"post"});function v(x){m.value=x}function g(x){h.value=x;const S=p.value;m.value>S&&(m.value=S)}function y(){n.disabled||(m.value-=1,e("prev-click",m.value))}function b(){n.disabled||(m.value+=1,e("next-click",m.value))}function _(x,S){x&&(x.props||(x.props={}),x.props.class=[x.props.class,S].join(" "))}return $n(yj,{pageCount:p,disabled:U(()=>n.disabled),currentPage:m,changeEvent:v,handleSizeChange:g}),()=>{var x,S;if(!u.value)return r("el.pagination.deprecationWarning"),null;if(!n.layout||n.hideOnSinglePage&&p.value<=1)return null;const T=[],C=[],M=Gt("div",{class:i.e("rightwrapper")},C),A={prev:Gt(yTe,{disabled:n.disabled,currentPage:m.value,prevText:n.prevText,prevIcon:n.prevIcon,onClick:y}),jumper:Gt(qTe,{size:o.value}),pager:Gt(eAe,{currentPage:m.value,pageCount:p.value,pagerCount:n.pagerCount,onChange:v,disabled:n.disabled}),next:Gt(xTe,{disabled:n.disabled,currentPage:m.value,pageCount:p.value,nextText:n.nextText,nextIcon:n.nextIcon,onClick:b}),sizes:Gt(VTe,{pageSize:h.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,teleported:n.teleported,size:o.value,appendSizeTo:n.appendSizeTo}),slot:(S=(x=t==null?void 0:t.default)==null?void 0:x.call(t))!=null?S:null,total:Gt(jTe,{total:Es(n.total)?0:n.total})},I=n.layout.split(",").map(L=>L.trim());let D=!1;return I.forEach(L=>{if(L==="->"){D=!0;return}D?C.push(A[L]):T.push(A[L])}),_(T[0],i.is("first")),_(T[T.length-1],i.is("last")),D&&C.length>0&&(_(C[0],i.is("first")),_(C[C.length-1],i.is("last")),T.push(M)),Gt("div",{class:[i.b(),i.is("background",n.background),i.m(o.value)]},T)}}});const iAe=gn(rAe),aAe=Rt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:g5,default:"primary"},cancelButtonType:{type:String,values:g5,default:"text"},icon:{type:kr,default:()=>Q0e},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:ba.teleported,persistent:ba.persistent,width:{type:[String,Number],default:150}}),sAe={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},oAe=Ie({name:"ElPopconfirm"}),lAe=Ie({...oAe,props:aAe,emits:sAe,setup(n,{emit:e}){const t=n,{t:r}=rr(),i=bt("popconfirm"),a=ee(),s=()=>{var f,h;(h=(f=a.value)==null?void 0:f.onClose)==null||h.call(f)},o=U(()=>({width:Pi(t.width)})),l=f=>{e("confirm",f),s()},c=f=>{e("cancel",f),s()},u=U(()=>t.confirmButtonText||r("el.popconfirm.confirmButtonText")),d=U(()=>t.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(f,h)=>(V(),rt(w(ns),Hn({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},f.$attrs,{"popper-class":`${w(i).namespace.value}-popover`,"popper-style":w(o),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:be(()=>[me("div",{class:j(w(i).b())},[me("div",{class:j(w(i).e("main"))},[!f.hideIcon&&f.icon?(V(),rt(w(Vt),{key:0,class:j(w(i).e("icon")),style:Bt({color:f.iconColor})},{default:be(()=>[(V(),rt(Nn(f.icon)))]),_:1},8,["class","style"])):Qe("v-if",!0),dn(" "+Ct(f.title),1)],2),me("div",{class:j(w(i).e("action"))},[Ze(f.$slots,"actions",{confirm:l,cancel:c},()=>[se(w(Aa),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:c},{default:be(()=>[dn(Ct(w(d)),1)]),_:1},8,["type","text"]),se(w(Aa),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:l},{default:be(()=>[dn(Ct(w(u)),1)]),_:1},8,["type","text"])])],2)],2)]),default:be(()=>[f.$slots.reference?Ze(f.$slots,"reference",{key:0}):Qe("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var cAe=Pt(lAe,[["__file","popconfirm.vue"]]);const uAe=gn(cAe),dAe=Rt({trigger:Vb.trigger,placement:v2.placement,disabled:Vb.disabled,visible:ba.visible,transition:ba.transition,popperOptions:v2.popperOptions,tabindex:v2.tabindex,content:ba.content,popperStyle:ba.popperStyle,popperClass:ba.popperClass,enterable:{...ba.enterable,default:!0},effect:{...ba.effect,default:"light"},teleported:ba.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),fAe={"update:visible":n=>Vr(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},hAe="onUpdate:visible",pAe=Ie({name:"ElPopover"}),mAe=Ie({...pAe,props:dAe,emits:fAe,setup(n,{expose:e,emit:t}){const r=n,i=U(()=>r[hAe]),a=bt("popover"),s=ee(),o=U(()=>{var v;return(v=w(s))==null?void 0:v.popperRef}),l=U(()=>[{width:Pi(r.width)},r.popperStyle]),c=U(()=>[a.b(),r.popperClass,{[a.m("plain")]:!!r.content}]),u=U(()=>r.transition===`${a.namespace.value}-fade-in-linear`),d=()=>{var v;(v=s.value)==null||v.hide()},f=()=>{t("before-enter")},h=()=>{t("before-leave")},p=()=>{t("after-enter")},m=()=>{t("update:visible",!1),t("after-leave")};return e({popperRef:o,hide:d}),(v,g)=>(V(),rt(w(ns),Hn({ref_key:"tooltipRef",ref:s},v.$attrs,{trigger:v.trigger,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":w(c),"popper-style":w(l),teleported:v.teleported,persistent:v.persistent,"gpu-acceleration":w(u),"onUpdate:visible":w(i),onBeforeShow:f,onBeforeHide:h,onShow:p,onHide:m}),{content:be(()=>[v.title?(V(),ue("div",{key:0,class:j(w(a).e("title")),role:"title"},Ct(v.title),3)):Qe("v-if",!0),Ze(v.$slots,"default",{},()=>[dn(Ct(v.content),1)])]),default:be(()=>[v.$slots.reference?Ze(v.$slots,"reference",{key:0}):Qe("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var vAe=Pt(mAe,[["__file","popover.vue"]]);const AF=(n,e)=>{const t=e.arg||e.value,r=t==null?void 0:t.popperRef;r&&(r.triggerRef=n)};var gAe={mounted(n,e){AF(n,e)},updated(n,e){AF(n,e)}};const yAe="popover",wj=r0e(gAe,yAe),bAe=gn(vAe,{directive:wj}),_Ae=Rt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:We(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:We([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:We(Function),default:n=>`${n}%`}}),wAe=Ie({name:"ElProgress"}),xAe=Ie({...wAe,props:_Ae,setup(n){const e=n,t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=bt("progress"),i=U(()=>{const b={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},_=y(e.percentage);return _.includes("gradient")?b.background=_:b.backgroundColor=_,b}),a=U(()=>(e.strokeWidth/e.width*100).toFixed(1)),s=U(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),o=U(()=>{const b=s.value,_=e.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${_?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${_?"":"-"}${b*2}
          `}),l=U(()=>2*Math.PI*s.value),c=U(()=>e.type==="dashboard"?.75:1),u=U(()=>`${-1*l.value*(1-c.value)/2}px`),d=U(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),f=U(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=U(()=>{let b;return e.color?b=y(e.percentage):b=t[e.status]||t.default,b}),p=U(()=>e.status==="warning"?gT:e.type==="line"?e.status==="success"?Hk:xd:e.status==="success"?q_:gc),m=U(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),v=U(()=>e.format(e.percentage));function g(b){const _=100/b.length;return b.map((S,T)=>qt(S)?{color:S,percentage:(T+1)*_}:S).sort((S,T)=>S.percentage-T.percentage)}const y=b=>{var _;const{color:x}=e;if(Zt(x))return x(b);if(qt(x))return x;{const S=g(x);for(const T of S)if(T.percentage>b)return T.color;return(_=S[S.length-1])==null?void 0:_.color}};return(b,_)=>(V(),ue("div",{class:j([w(r).b(),w(r).m(b.type),w(r).is(b.status),{[w(r).m("without-text")]:!b.showText,[w(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(V(),ue("div",{key:0,class:j(w(r).b("bar"))},[me("div",{class:j(w(r).be("bar","outer")),style:Bt({height:`${b.strokeWidth}px`})},[me("div",{class:j([w(r).be("bar","inner"),{[w(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[w(r).bem("bar","inner","striped")]:b.striped},{[w(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:Bt(w(i))},[(b.showText||b.$slots.default)&&b.textInside?(V(),ue("div",{key:0,class:j(w(r).be("bar","innerText"))},[Ze(b.$slots,"default",{percentage:b.percentage},()=>[me("span",null,Ct(w(v)),1)])],2)):Qe("v-if",!0)],6)],6)],2)):(V(),ue("div",{key:1,class:j(w(r).b("circle")),style:Bt({height:`${b.width}px`,width:`${b.width}px`})},[(V(),ue("svg",{viewBox:"0 0 100 100"},[me("path",{class:j(w(r).be("circle","track")),d:w(o),stroke:`var(${w(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":w(a),fill:"none",style:Bt(w(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),me("path",{class:j(w(r).be("circle","path")),d:w(o),stroke:w(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":w(a),style:Bt(w(f))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(V(),ue("div",{key:2,class:j(w(r).e("text")),style:Bt({fontSize:`${w(m)}px`})},[Ze(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(w(p))))]),_:1})):(V(),ue("span",{key:0},Ct(w(v)),1))])],6)):Qe("v-if",!0)],10,["aria-valuenow"]))}});var SAe=Pt(xAe,[["__file","progress.vue"]]);const xj=gn(SAe),CAe=Rt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:We([Array,Object]),default:()=>_i(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:We([Array,Object]),default:()=>[zw,zw,zw]},voidIcon:{type:kr,default:()=>hve},disabledVoidIcon:{type:kr,default:()=>zw},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:We(Array),default:()=>_i(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:Ji,clearable:Boolean,...Ua(["ariaLabel"])}),MAe={[Rr]:n=>en(n),[Mn]:n=>en(n)},TAe=Ie({name:"ElRate"}),AAe=Ie({...TAe,props:CAe,emits:MAe,setup(n,{expose:e,emit:t}){const r=n;function i(k,H){const z=X=>Pn(X),O=Object.keys(H).map(X=>+X).filter(X=>{const J=H[X];return(z(J)?J.excluded:!1)?k<X:k<=X}).sort((X,J)=>X-J),G=H[O[0]];return z(G)&&G.value||G}const a=Ot(Mm,void 0),s=Ot(nu,void 0),o=Xi(),l=bt("rate"),{inputId:c,isLabeledByFormItem:u}=Ol(r,{formItemContext:s}),d=ee(r.modelValue),f=ee(-1),h=ee(!0),p=U(()=>[l.b(),l.m(o.value)]),m=U(()=>r.disabled||(a==null?void 0:a.disabled)),v=U(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":_.value})),g=U(()=>{let k="";return r.showScore?k=r.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${r.modelValue}`:`${d.value}`):r.showText&&(k=r.texts[Math.ceil(d.value)-1]),k}),y=U(()=>r.modelValue*100-Math.floor(r.modelValue)*100),b=U(()=>Tt(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),_=U(()=>{const k=i(d.value,b.value);return Pn(k)?"":k}),x=U(()=>{let k="";return m.value?k=`${y.value}%`:r.allowHalf&&(k="50%"),{color:_.value,width:k}}),S=U(()=>{let k=Tt(r.icons)?[...r.icons]:{...r.icons};return k=Ju(k),Tt(k)?{[r.lowThreshold]:k[0],[r.highThreshold]:{value:k[1],excluded:!0},[r.max]:k[2]}:k}),T=U(()=>i(r.modelValue,S.value)),C=U(()=>m.value?qt(r.disabledVoidIcon)?r.disabledVoidIcon:Ju(r.disabledVoidIcon):qt(r.voidIcon)?r.voidIcon:Ju(r.voidIcon)),M=U(()=>i(d.value,S.value));function A(k){const H=m.value&&y.value>0&&k-1<r.modelValue&&k>r.modelValue,z=r.allowHalf&&h.value&&k-.5<=d.value&&k>d.value;return H||z}function I(k){r.clearable&&k===r.modelValue&&(k=0),t(Mn,k),r.modelValue!==k&&t("change",k)}function D(k){m.value||(r.allowHalf&&h.value?I(d.value):I(k))}function L(k){if(m.value)return;let H=d.value;const z=k.code;return z===Nt.up||z===Nt.right?(r.allowHalf?H+=.5:H+=1,k.stopPropagation(),k.preventDefault()):(z===Nt.left||z===Nt.down)&&(r.allowHalf?H-=.5:H-=1,k.stopPropagation(),k.preventDefault()),H=H<0?0:H,H=H>r.max?r.max:H,t(Mn,H),t("change",H),H}function F(k,H){if(!m.value){if(r.allowHalf&&H){let z=H.target;lo(z,l.e("item"))&&(z=z.querySelector(`.${l.e("icon")}`)),(z.clientWidth===0||lo(z,l.e("decimal")))&&(z=z.parentNode),h.value=H.offsetX*2<=z.clientWidth,d.value=h.value?k-.5:k}else d.value=k;f.value=k}}function B(){m.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),d.value=r.modelValue,f.value=-1)}return dt(()=>r.modelValue,k=>{d.value=k,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||t(Mn,0),e({setCurrentValue:F,resetCurrentValue:B}),(k,H)=>{var z;return V(),ue("div",{id:w(c),class:j([w(p),w(l).is("disabled",w(m))]),role:"slider","aria-label":w(u)?void 0:k.ariaLabel||"rating","aria-labelledby":w(u)?(z=w(s))==null?void 0:z.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":w(g)||void 0,"aria-valuemin":"0","aria-valuemax":k.max,tabindex:"0",style:Bt(w(v)),onKeydown:L},[(V(!0),ue(zt,null,In(k.max,(O,G)=>(V(),ue("span",{key:G,class:j(w(l).e("item")),onMousemove:X=>F(O,X),onMouseleave:B,onClick:X=>D(O)},[se(w(Vt),{class:j([w(l).e("icon"),{hover:f.value===O},w(l).is("active",O<=d.value)])},{default:be(()=>[A(O)?Qe("v-if",!0):(V(),ue(zt,{key:0},[Sn((V(),rt(Nn(w(M)),null,null,512)),[[fr,O<=d.value]]),Sn((V(),rt(Nn(w(C)),null,null,512)),[[fr,!(O<=d.value)]])],64)),A(O)?(V(),ue(zt,{key:1},[(V(),rt(Nn(w(C)),{class:j([w(l).em("decimal","box")])},null,8,["class"])),se(w(Vt),{style:Bt(w(x)),class:j([w(l).e("icon"),w(l).e("decimal")])},{default:be(()=>[(V(),rt(Nn(w(T))))]),_:1},8,["style","class"])],64)):Qe("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),k.showText||k.showScore?(V(),ue("span",{key:0,class:j(w(l).e("text")),style:Bt({color:k.textColor})},Ct(w(g)),7)):Qe("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var EAe=Pt(AAe,[["__file","rate.vue"]]);const IAe=gn(EAe),cv={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},EF={[cv.success]:x0e,[cv.warning]:gT,[cv.error]:Vk,[cv.info]:$k},RAe=Rt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),PAe=Ie({name:"ElResult"}),DAe=Ie({...PAe,props:RAe,setup(n){const e=n,t=bt("result"),r=U(()=>{const i=e.icon,a=i&&cv[i]?cv[i]:"icon-info",s=EF[a]||EF["icon-info"];return{class:a,component:s}});return(i,a)=>(V(),ue("div",{class:j(w(t).b())},[me("div",{class:j(w(t).e("icon"))},[Ze(i.$slots,"icon",{},()=>[w(r).component?(V(),rt(Nn(w(r).component),{key:0,class:j(w(r).class)},null,8,["class"])):Qe("v-if",!0)])],2),i.title||i.$slots.title?(V(),ue("div",{key:0,class:j(w(t).e("title"))},[Ze(i.$slots,"title",{},()=>[me("p",null,Ct(i.title),1)])],2)):Qe("v-if",!0),i.subTitle||i.$slots["sub-title"]?(V(),ue("div",{key:1,class:j(w(t).e("subtitle"))},[Ze(i.$slots,"sub-title",{},()=>[me("p",null,Ct(i.subTitle),1)])],2)):Qe("v-if",!0),i.$slots.extra?(V(),ue("div",{key:2,class:j(w(t).e("extra"))},[Ze(i.$slots,"extra")],2)):Qe("v-if",!0)],2))}});var kAe=Pt(DAe,[["__file","result.vue"]]);const LAe=gn(kAe),NAe=["start","center","end","space-around","space-between","space-evenly"],OAe=["top","middle","bottom"],BAe=Rt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:NAe,default:"start"},align:{type:String,values:OAe}}),FAe=Ie({name:"ElRow"}),zAe=Ie({...FAe,props:BAe,setup(n){const e=n,t=bt("row"),r=U(()=>e.gutter);$n(xX,{gutter:r});const i=U(()=>{const s={};return e.gutter&&(s.marginRight=s.marginLeft=`-${e.gutter/2}px`),s}),a=U(()=>[t.b(),t.is(`justify-${e.justify}`,e.justify!=="start"),t.is(`align-${e.align}`,!!e.align)]);return(s,o)=>(V(),rt(Nn(s.tag),{class:j(w(a)),style:Bt(w(i))},{default:be(()=>[Ze(s.$slots,"default")]),_:3},8,["class","style"]))}});var UAe=Pt(zAe,[["__file","row.vue"]]);const HAe=gn(UAe),VAe=Ie({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:bt("select")}}});function $Ae(n,e,t,r,i,a){return V(),ue("div",{class:j(n.ns.be("group","title")),style:Bt({...n.style,lineHeight:`${n.height}px`})},Ct(n.item.label),7)}var GAe=Pt(VAe,[["render",$Ae],["__file","group-item.vue"]]);function WAe(n,{emit:e}){return{hoverItem:()=>{n.disabled||e("hover",n.index)},selectOptionClick:()=>{n.disabled||e("select",n.item,n.index)}}}const Sj={label:"label",value:"value",disabled:"disabled",options:"options"};function AT(n){const e=U(()=>({...Sj,...n.props}));return{aliasProps:e,getLabel:s=>Vi(s,e.value.label),getValue:s=>Vi(s,e.value.value),getDisabled:s=>Vi(s,e.value.disabled),getOptions:s=>Vi(s,e.value.options)}}const qAe=Rt({allowCreate:Boolean,autocomplete:{type:We(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:kr,default:xd},effect:{type:We(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:We([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:We(Array),required:!0},placeholder:{type:String},teleported:ba.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:We(Object),default:()=>({})},remote:Boolean,size:Ji,props:{type:We(Object),default:()=>Sj},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:We(String),values:Sd,default:"bottom-start"},fallbackPlacements:{type:We(Array),default:["bottom-start","top-start","right","left"]},tagType:{...od.type,default:"info"},tagEffect:{...od.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...Wg,...Ua(["ariaLabel"])}),KAe=Rt({data:Array,disabled:Boolean,hovering:Boolean,item:{type:We(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),YAe={[Mn]:n=>!0,[Rr]:n=>!0,"remove-tag":n=>!0,"visible-change":n=>!0,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0},XAe={hover:n=>en(n),select:(n,e)=>!0},IL=Symbol("ElSelectV2Injection"),jAe=Ie({props:KAe,emits:XAe,setup(n,{emit:e}){const t=Ot(IL),r=bt("select"),{hoverItem:i,selectOptionClick:a}=WAe(n,{emit:e}),{getLabel:s}=AT(t.props);return{ns:r,hoverItem:i,selectOptionClick:a,getLabel:s}}});function ZAe(n,e,t,r,i,a){return V(),ue("li",{"aria-selected":n.selected,style:Bt(n.style),class:j([n.ns.be("dropdown","item"),n.ns.is("selected",n.selected),n.ns.is("disabled",n.disabled),n.ns.is("created",n.created),n.ns.is("hovering",n.hovering)]),onMousemove:n.hoverItem,onClick:sn(n.selectOptionClick,["stop"])},[Ze(n.$slots,"default",{item:n.item,index:n.index,disabled:n.disabled},()=>[me("span",null,Ct(n.getLabel(n.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var QAe=Pt(jAe,[["render",ZAe],["__file","option-item.vue"]]),IF=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function JAe(n,e){return!!(n===e||IF(n)&&IF(e))}function e3e(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!JAe(n[t],e[t]))return!1;return!0}function t3e(n,e){e===void 0&&(e=e3e);var t=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var s=n.apply(this,i);return t={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){t=null},r}const Cj=()=>{const e=Dn().proxy.$props;return U(()=>{const t=(r,i,a)=>({});return e.perfMode?uT(t):t3e(t)})},F5=50,CC="itemRendered",MC="scroll",uv="forward",TC="backward",gl="auto",ET="smart",qb="start",Wc="center",Kb="end",og="horizontal",RL="vertical",n3e="ltr",Pv="rtl",Yb="negative",PL="positive-ascending",DL="positive-descending",r3e={[og]:"left",[RL]:"top"},i3e=20,a3e={[og]:"deltaX",[RL]:"deltaY"},s3e=({atEndEdge:n,atStartEdge:e,layout:t},r)=>{let i,a=0;const s=l=>l<0&&e.value||l>0&&n.value;return{hasReachedEdge:s,onWheel:l=>{nm(i);const c=l[a3e[t.value]];s(a)&&s(a+c)||(a+=c,bT()||l.preventDefault(),i=qf(()=>{r(a),a=0}))}}},z5=wc({type:We([Number,Function]),required:!0}),U5=wc({type:Number}),H5=wc({type:Number,default:2}),o3e=wc({type:String,values:["ltr","rtl"],default:"ltr"}),V5=wc({type:Number,default:0}),AC=wc({type:Number,required:!0}),Mj=wc({type:String,values:["horizontal","vertical"],default:RL}),Tj=Rt({className:{type:String,default:""},containerElement:{type:We([String,Object]),default:"div"},data:{type:We(Array),default:()=>_i([])},direction:o3e,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:We([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Aj=Rt({cache:H5,estimatedItemSize:U5,layout:Mj,initScrollOffset:V5,total:AC,itemSize:z5,...Tj}),$5={type:Number,default:6},Ej={type:Number,default:0},Ij={type:Number,default:2},$p=Rt({columnCache:H5,columnWidth:z5,estimatedColumnWidth:U5,estimatedRowHeight:U5,initScrollLeft:V5,initScrollTop:V5,itemKey:{type:We(Function),default:({columnIndex:n,rowIndex:e})=>`${e}:${n}`},rowCache:H5,rowHeight:z5,totalColumn:AC,totalRow:AC,hScrollbarSize:$5,vScrollbarSize:$5,scrollbarStartGap:Ej,scrollbarEndGap:Ij,role:String,...Tj}),Rj=Rt({alwaysOn:Boolean,class:String,layout:Mj,total:AC,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:$5,startGap:Ej,endGap:Ij,visible:Boolean}),Mp=(n,e)=>n<e?uv:TC,Xb=n=>n===n3e||n===Pv||n===og,RF=n=>n===Pv;let qm=null;function EC(n=!1){if(qm===null||n){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?qm=DL:(e.scrollLeft=1,e.scrollLeft===0?qm=Yb:qm=PL),document.body.removeChild(e),qm}return qm}function l3e({move:n,size:e,bar:t},r){const i={},a=`translate${t.axis}(${n}px)`;return i[t.size]=e,i.transform=a,i.msTransform=a,i.webkitTransform=a,r==="horizontal"?i.height="100%":i.width="100%",i}const G5=Ie({name:"ElVirtualScrollBar",props:Rj,emits:["scroll","start-move","stop-move"],setup(n,{emit:e}){const t=U(()=>n.startGap+n.endGap),r=bt("virtual-scrollbar"),i=bt("scrollbar"),a=ee(),s=ee();let o=null,l=null;const c=mr({isDragging:!1,traveled:0}),u=U(()=>yY[n.layout]),d=U(()=>n.clientSize-w(t)),f=U(()=>({position:"absolute",width:`${og===n.layout?d.value:n.scrollbarSize}px`,height:`${og===n.layout?n.scrollbarSize:d.value}px`,[r3e[n.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=U(()=>{const S=n.ratio,T=n.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*T/100;const C=T/3;return Math.floor(Math.min(Math.max(S*T,i3e),C))}),p=U(()=>{if(!Number.isFinite(h.value))return{display:"none"};const S=`${h.value}px`;return l3e({bar:u.value,size:S,move:c.traveled},n.layout)}),m=U(()=>Math.floor(n.clientSize-h.value-w(t))),v=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",b);const S=w(s);S&&(l=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",_,{passive:!0}),S.addEventListener("touchend",b))},g=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const S=w(s);S&&(S.removeEventListener("touchmove",_),S.removeEventListener("touchend",b))},y=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(c.isDragging=!0,c[u.value.axis]=S.currentTarget[u.value.offset]-(S[u.value.client]-S.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),v())},b=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),g()},_=S=>{const{isDragging:T}=c;if(!T||!s.value||!a.value)return;const C=c[u.value.axis];if(!C)return;nm(o);const M=(a.value.getBoundingClientRect()[u.value.direction]-S[u.value.client])*-1,A=s.value[u.value.offset]-C,I=M-A;o=qf(()=>{c.traveled=Math.max(n.startGap,Math.min(I,m.value)),e("scroll",I,m.value)})},x=S=>{const T=Math.abs(S.target.getBoundingClientRect()[u.value.direction]-S[u.value.client]),C=s.value[u.value.offset]/2,M=T-C;c.traveled=Math.max(0,Math.min(M,m.value)),e("scroll",M,m.value)};return dt(()=>n.scrollFrom,S=>{c.isDragging||(c.traveled=Math.ceil(S*m.value))}),yr(()=>{g()}),()=>Gt("div",{role:"presentation",ref:a,class:[r.b(),n.class,(n.alwaysOn||c.isDragging)&&"always-on"],style:f.value,onMousedown:sn(x,["stop","prevent"]),onTouchstartPrevent:y},Gt("div",{ref:s,class:i.e("thumb"),style:p.value,onMousedown:y},[]))}}),Pj=({name:n,getOffset:e,getItemSize:t,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:a,getStopIndexForStartIndex:s,initCache:o,clearCache:l,validateProps:c})=>Ie({name:n??"ElVirtualList",props:Aj,emits:[CC,MC],setup(u,{emit:d,expose:f}){c(u);const h=Dn(),p=bt("vl"),m=ee(o(u,h)),v=Cj(),g=ee(),y=ee(),b=ee(),_=ee({isScrolling:!1,scrollDir:"forward",scrollOffset:en(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),x=U(()=>{const{total:Q,cache:re}=u,{isScrolling:de,scrollDir:le,scrollOffset:fe}=w(_);if(Q===0)return[0,0,0,0];const Ee=a(u,fe,w(m)),Re=s(u,Ee,fe,w(m)),He=!de||le===TC?Math.max(1,re):1,$e=!de||le===uv?Math.max(1,re):1;return[Math.max(0,Ee-He),Math.max(0,Math.min(Q-1,Re+$e)),Ee,Re]}),S=U(()=>i(u,w(m))),T=U(()=>Xb(u.layout)),C=U(()=>[{position:"relative",[`overflow-${T.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:en(u.height)?`${u.height}px`:u.height,width:en(u.width)?`${u.width}px`:u.width},u.style]),M=U(()=>{const Q=w(S),re=w(T);return{height:re?"100%":`${Q}px`,pointerEvents:w(_).isScrolling?"none":void 0,width:re?`${Q}px`:"100%"}}),A=U(()=>T.value?u.width:u.height),{onWheel:I}=s3e({atStartEdge:U(()=>_.value.scrollOffset<=0),atEndEdge:U(()=>_.value.scrollOffset>=S.value),layout:U(()=>u.layout)},Q=>{var re,de;(de=(re=b.value).onMouseUp)==null||de.call(re),H(Math.min(_.value.scrollOffset+Q,S.value-A.value))});Tr(g,"wheel",I,{passive:!1});const D=()=>{const{total:Q}=u;if(Q>0){const[fe,Ee,Re,He]=w(x);d(CC,fe,Ee,Re,He)}const{scrollDir:re,scrollOffset:de,updateRequested:le}=w(_);d(MC,re,de,le)},L=Q=>{const{clientHeight:re,scrollHeight:de,scrollTop:le}=Q.currentTarget,fe=w(_);if(fe.scrollOffset===le)return;const Ee=Math.max(0,Math.min(le,de-re));_.value={...fe,isScrolling:!0,scrollDir:Mp(fe.scrollOffset,Ee),scrollOffset:Ee,updateRequested:!1},Yt(G)},F=Q=>{const{clientWidth:re,scrollLeft:de,scrollWidth:le}=Q.currentTarget,fe=w(_);if(fe.scrollOffset===de)return;const{direction:Ee}=u;let Re=de;if(Ee===Pv)switch(EC()){case Yb:{Re=-de;break}case DL:{Re=le-re-de;break}}Re=Math.max(0,Math.min(Re,le-re)),_.value={...fe,isScrolling:!0,scrollDir:Mp(fe.scrollOffset,Re),scrollOffset:Re,updateRequested:!1},Yt(G)},B=Q=>{w(T)?F(Q):L(Q),D()},k=(Q,re)=>{const de=(S.value-A.value)/re*Q;H(Math.min(S.value-A.value,de))},H=Q=>{Q=Math.max(Q,0),Q!==w(_).scrollOffset&&(_.value={...w(_),scrollOffset:Q,scrollDir:Mp(w(_).scrollOffset,Q),updateRequested:!0},Yt(G))},z=(Q,re=gl)=>{const{scrollOffset:de}=w(_);Q=Math.max(0,Math.min(Q,u.total-1)),H(e(u,Q,re,de,w(m)))},O=Q=>{const{direction:re,itemSize:de,layout:le}=u,fe=v.value(l&&de,l&&le,l&&re);let Ee;if(sr(fe,String(Q)))Ee=fe[Q];else{const Re=r(u,Q,w(m)),He=t(u,Q,w(m)),$e=w(T),K=re===Pv,ce=$e?Re:0;fe[Q]=Ee={position:"absolute",left:K?void 0:`${ce}px`,right:K?`${ce}px`:void 0,top:$e?0:`${Re}px`,height:$e?"100%":`${He}px`,width:$e?`${He}px`:"100%"}}return Ee},G=()=>{_.value.isScrolling=!1,Yt(()=>{v.value(-1,null,null)})},X=()=>{const Q=g.value;Q&&(Q.scrollTop=0)};pn(()=>{if(!nr)return;const{initScrollOffset:Q}=u,re=w(g);en(Q)&&re&&(w(T)?re.scrollLeft=Q:re.scrollTop=Q),D()}),Nl(()=>{const{direction:Q,layout:re}=u,{scrollOffset:de,updateRequested:le}=w(_),fe=w(g);if(le&&fe)if(re===og)if(Q===Pv)switch(EC()){case Yb:{fe.scrollLeft=-de;break}case PL:{fe.scrollLeft=de;break}default:{const{clientWidth:Ee,scrollWidth:Re}=fe;fe.scrollLeft=Re-Ee-de;break}}else fe.scrollLeft=de;else fe.scrollTop=de}),uk(()=>{w(g).scrollTop=w(_).scrollOffset});const J={ns:p,clientSize:A,estimatedTotalSize:S,windowStyle:C,windowRef:g,innerRef:y,innerStyle:M,itemsToRender:x,scrollbarRef:b,states:_,getItemStyle:O,onScroll:B,onScrollbarScroll:k,onWheel:I,scrollTo:H,scrollToItem:z,resetScrollTop:X};return f({windowRef:g,innerRef:y,getItemStyleCache:v,scrollTo:H,scrollToItem:z,resetScrollTop:X,states:_}),J},render(u){var d;const{$slots:f,className:h,clientSize:p,containerElement:m,data:v,getItemStyle:g,innerElement:y,itemsToRender:b,innerStyle:_,layout:x,total:S,onScroll:T,onScrollbarScroll:C,states:M,useIsScrolling:A,windowStyle:I,ns:D}=u,[L,F]=b,B=Nn(m),k=Nn(y),H=[];if(S>0)for(let X=L;X<=F;X++)H.push(Gt(zt,{key:X},(d=f.default)==null?void 0:d.call(f,{data:v,index:X,isScrolling:A?M.isScrolling:void 0,style:g(X)})));const z=[Gt(k,{style:_,ref:"innerRef"},qt(k)?H:{default:()=>H})],O=Gt(G5,{ref:"scrollbarRef",clientSize:p,layout:x,onScroll:C,ratio:p*100/this.estimatedTotalSize,scrollFrom:M.scrollOffset/(this.estimatedTotalSize-p),total:S}),G=Gt(B,{class:[D.e("window"),h],style:I,onScroll:T,ref:"windowRef",key:0},qt(B)?[z]:{default:()=>[z]});return Gt("div",{key:0,class:[D.e("wrapper"),M.scrollbarAlwaysOn?"always-on":""]},[G,O])}}),Dj=Pj({name:"ElFixedSizeList",getItemOffset:({itemSize:n},e)=>e*n,getItemSize:({itemSize:n})=>n,getEstimatedTotalSize:({total:n,itemSize:e})=>e*n,getOffset:({height:n,total:e,itemSize:t,layout:r,width:i},a,s,o)=>{const l=Xb(r)?i:n,c=Math.max(0,e*t-l),u=Math.min(c,a*t),d=Math.max(0,(a+1)*t-l);switch(s===ET&&(o>=d-l&&o<=u+l?s=gl:s=Wc),s){case qb:return u;case Kb:return d;case Wc:{const f=Math.round(d+(u-d)/2);return f<Math.ceil(l/2)?0:f>c+Math.floor(l/2)?c:f}case gl:default:return o>=d&&o<=u?o:o<d?d:u}},getStartIndexForOffset:({total:n,itemSize:e},t)=>Math.max(0,Math.min(n-1,Math.floor(t/e))),getStopIndexForStartIndex:({height:n,total:e,itemSize:t,layout:r,width:i},a,s)=>{const o=a*t,l=Xb(r)?i:n,c=Math.ceil((l+s-o)/t);return Math.max(0,Math.min(e-1,a+c-1))},initCache(){},clearCache:!0,validateProps(){}}),dv=(n,e,t)=>{const{itemSize:r}=n,{items:i,lastVisitedIndex:a}=t;if(e>a){let s=0;if(a>=0){const o=i[a];s=o.offset+o.size}for(let o=a+1;o<=e;o++){const l=r(o);i[o]={offset:s,size:l},s+=l}t.lastVisitedIndex=e}return i[e]},c3e=(n,e,t)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=t?kj(n,e,0,i,t):u3e(n,e,Math.max(0,i),t)},kj=(n,e,t,r,i)=>{for(;t<=r;){const a=t+Math.floor((r-t)/2),s=dv(n,a,e).offset;if(s===i)return a;s<i?t=a+1:s>i&&(r=a-1)}return Math.max(0,t-1)},u3e=(n,e,t,r)=>{const{total:i}=n;let a=1;for(;t<i&&dv(n,t,e).offset<r;)t+=a,a*=2;return kj(n,e,Math.floor(t/2),Math.min(t,i-1),r)},PF=({total:n},{items:e,estimatedItemSize:t,lastVisitedIndex:r})=>{let i=0;if(r>=n&&(r=n-1),r>=0){const o=e[r];i=o.offset+o.size}const s=(n-r-1)*t;return i+s},d3e=Pj({name:"ElDynamicSizeList",getItemOffset:(n,e,t)=>dv(n,e,t).offset,getItemSize:(n,e,{items:t})=>t[e].size,getEstimatedTotalSize:PF,getOffset:(n,e,t,r,i)=>{const{height:a,layout:s,width:o}=n,l=Xb(s)?o:a,c=dv(n,e,i),u=PF(n,i),d=Math.max(0,Math.min(u-l,c.offset)),f=Math.max(0,c.offset-l+c.size);switch(t===ET&&(r>=f-l&&r<=d+l?t=gl:t=Wc),t){case qb:return d;case Kb:return f;case Wc:return Math.round(f+(d-f)/2);case gl:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(n,e,t)=>c3e(n,t,e),getStopIndexForStartIndex:(n,e,t,r)=>{const{height:i,total:a,layout:s,width:o}=n,l=Xb(s)?o:i,c=dv(n,e,r),u=t+l;let d=c.offset+c.size,f=e;for(;f<a-1&&d<u;)f++,d+=dv(n,f,r).size;return f},initCache({estimatedItemSize:n=F5},e){const t={items:{},estimatedItemSize:n,lastVisitedIndex:-1};return t.clearCacheAfterIndex=(r,i=!0)=>{var a,s;t.lastVisitedIndex=Math.min(t.lastVisitedIndex,r-1),(a=e.exposed)==null||a.getItemStyleCache(-1),i&&((s=e.proxy)==null||s.$forceUpdate())},t},clearCache:!1,validateProps:({itemSize:n})=>{}}),f3e={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var h3e=Ie({name:"ElSelectDropdown",props:f3e,setup(n,{slots:e,expose:t}){const r=Ot(IL),i=bt("select"),{getLabel:a,getValue:s,getDisabled:o}=AT(r.props),l=ee([]),c=ee(),u=U(()=>n.data.length);dt(()=>u.value,()=>{var I,D;(D=(I=r.tooltipRef.value).updatePopper)==null||D.call(I)});const d=U(()=>Mr(r.props.estimatedOptionHeight)),f=U(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:I=>l.value[I]}),h=(I=[],D)=>{const{props:{valueKey:L}}=r;return Pn(D)?I&&I.some(F=>Lr(Vi(F,L))===Vi(D,L)):I.includes(D)},p=(I,D)=>{if(Pn(D)){const{valueKey:L}=r.props;return Vi(I,L)===Vi(D,L)}else return I===D},m=(I,D)=>r.props.multiple?h(I,s(D)):p(I,s(D)),v=(I,D)=>{const{disabled:L,multiple:F,multipleLimit:B}=r.props;return L||!D&&(F?B>0&&I.length>=B:!1)},g=I=>n.hoveringIndex===I;t({listRef:c,isSized:d,isItemDisabled:v,isItemHovering:g,isItemSelected:m,scrollToItem:I=>{const D=c.value;D&&D.scrollToItem(I)},resetScrollTop:()=>{const I=c.value;I&&I.resetScrollTop()}});const x=I=>{const{index:D,data:L,style:F}=I,B=w(d),{itemSize:k,estimatedSize:H}=w(f),{modelValue:z}=r.props,{onSelect:O,onHover:G}=r,X=L[D];if(X.type==="Group")return se(GAe,{item:X,style:F,height:B?k:H},null);const J=m(z,X),Q=v(z,J),re=g(D);return se(QAe,Hn(I,{selected:J,disabled:o(X)||Q,created:!!X.created,hovering:re,item:X,onSelect:O,onHover:G}),{default:de=>{var le;return((le=e.default)==null?void 0:le.call(e,de))||se("span",null,[a(X)])}})},{onKeyboardNavigate:S,onKeyboardSelect:T}=r,C=()=>{S("forward")},M=()=>{S("backward")},A=I=>{const{code:D}=I,{tab:L,esc:F,down:B,up:k,enter:H,numpadEnter:z}=Nt;switch(D!==L&&(I.preventDefault(),I.stopPropagation()),D){case L:case F:break;case B:C();break;case k:M();break;case H:case z:T();break}};return()=>{var I,D,L,F;const{data:B,width:k}=n,{height:H,multiple:z,scrollbarAlwaysOn:O}=r.props,G=w(d)?Dj:d3e;return se("div",{class:[i.b("dropdown"),i.is("multiple",z)],style:{width:`${k}px`}},[(I=e.header)==null?void 0:I.call(e),((D=e.loading)==null?void 0:D.call(e))||((L=e.empty)==null?void 0:L.call(e))||se(G,Hn({ref:c},w(f),{className:i.be("dropdown","list"),scrollbarAlwaysOn:O,data:B,height:H,width:k,total:B.length,onKeydown:A}),{default:X=>se(x,X,null)}),(F=e.footer)==null?void 0:F.call(e)])}}});function p3e(n,e){const{aliasProps:t,getLabel:r,getValue:i}=AT(n),a=ee(0),s=ee(),o=U(()=>n.allowCreate&&n.filterable);function l(h){const p=m=>r(m)===h;return n.options&&n.options.some(p)||e.createdOptions.some(p)}function c(h){o.value&&(n.multiple&&h.created?a.value++:s.value=h)}function u(h){if(o.value)if(h&&h.length>0){if(l(h))return;const p={[t.value.value]:h,[t.value.label]:h,created:!0,[t.value.disabled]:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=p:e.createdOptions.push(p)}else if(n.multiple)e.createdOptions.length=a.value;else{const p=s.value;e.createdOptions.length=0,p&&p.created&&e.createdOptions.push(p)}}function d(h){if(!o.value||!h||!h.created||h.created&&n.reserveKeyword&&e.inputValue===r(h))return;const p=e.createdOptions.findIndex(m=>i(m)===i(h));~p&&(e.createdOptions.splice(p,1),a.value--)}function f(){o.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:c,clearAllNewOption:f}}const m3e=11,v3e=(n,e)=>{const{t}=rr(),r=bt("select"),i=bt("input"),{form:a,formItem:s}=is(),{inputId:o}=Ol(n,{formItemContext:s}),{aliasProps:l,getLabel:c,getValue:u,getDisabled:d,getOptions:f}=AT(n),{valueOnClear:h,isEmptyValue:p}=pT(n),m=mr({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),v=ee(-1),g=ee(),y=ee(),b=ee(),_=ee(),x=ee(),S=ee(),T=ee(),C=ee(),M=ee(),A=ee(),I=ee(),{isComposing:D,handleCompositionStart:L,handleCompositionEnd:F,handleCompositionUpdate:B}=Y_({afterComposition:Ge=>On(Ge)}),{wrapperRef:k,isFocused:H,handleBlur:z}=mh(x,{beforeFocus(){return J.value},afterFocus(){n.automaticDropdown&&!X.value&&(X.value=!0,m.menuVisibleOnFocus=!0)},beforeBlur(Ge){var lt,it;return((lt=b.value)==null?void 0:lt.isFocusInsideContent(Ge))||((it=_.value)==null?void 0:it.isFocusInsideContent(Ge))},afterBlur(){X.value=!1,m.menuVisibleOnFocus=!1}}),O=ee([]),G=ee([]),X=ee(!1),J=U(()=>n.disabled||(a==null?void 0:a.disabled)),Q=U(()=>{var Ge;return(Ge=a==null?void 0:a.statusIcon)!=null?Ge:!1}),re=U(()=>{const Ge=G.value.length*n.itemHeight;return Ge>n.height?n.height:Ge}),de=U(()=>n.multiple?Tt(n.modelValue)&&n.modelValue.length>0:!p(n.modelValue)),le=U(()=>n.clearable&&!J.value&&m.inputHovering&&de.value),fe=U(()=>n.remote&&n.filterable?"":wd),Ee=U(()=>fe.value&&r.is("reverse",X.value)),Re=U(()=>(s==null?void 0:s.validateState)||""),He=U(()=>{if(Re.value)return yT[Re.value]}),$e=U(()=>n.remote?300:0),K=U(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!m.inputValue&&O.value.length===0?!1:n.filterable&&m.inputValue&&O.value.length>0&&G.value.length===0?n.noMatchText||t("el.select.noMatch"):O.value.length===0?n.noDataText||t("el.select.noData"):null),ce=Ge=>{const lt=it=>{if(n.filterable&&Zt(n.filterMethod)||n.filterable&&n.remote&&Zt(n.remoteMethod))return!0;const Mt=new RegExp(uL(Ge),"i");return Ge?Mt.test(c(it)||""):!0};return n.loading?[]:[...m.createdOptions,...n.options].reduce((it,Mt)=>{const tn=f(Mt);if(Tt(tn)){const Qt=tn.filter(lt);Qt.length>0&&it.push({label:c(Mt),type:"Group"},...Qt)}else(n.remote||lt(Mt))&&it.push(Mt);return it},[])},ie=()=>{O.value=ce(""),G.value=ce(m.inputValue)},Ue=U(()=>{const Ge=new Map;return O.value.forEach((lt,it)=>{Ge.set(At(u(lt)),{option:lt,index:it})}),Ge}),De=U(()=>{const Ge=new Map;return G.value.forEach((lt,it)=>{Ge.set(At(u(lt)),{option:lt,index:it})}),Ge}),Ye=U(()=>G.value.every(Ge=>d(Ge))),ze=Xi(),Ve=U(()=>ze.value==="small"?"small":"default"),Je=()=>{var Ge;v.value=((Ge=g.value)==null?void 0:Ge.offsetWidth)||200},pe=()=>{if(!y.value)return 0;const Ge=window.getComputedStyle(y.value);return Number.parseFloat(Ge.gap||"6px")},W=U(()=>{const Ge=pe();return{maxWidth:`${I.value&&n.maxCollapseTags===1?m.selectionWidth-m.collapseItemWidth-Ge:m.selectionWidth}px`}}),Z=U(()=>({maxWidth:`${m.selectionWidth}px`})),ve=U(()=>({width:`${Math.max(m.calculatorWidth,m3e)}px`})),Ne=U(()=>Tt(n.modelValue)?n.modelValue.length===0&&!m.inputValue:n.filterable?!m.inputValue:!0),Ke=U(()=>{var Ge;const lt=(Ge=n.placeholder)!=null?Ge:t("el.select.placeholder");return n.multiple||!de.value?lt:m.selectedLabel}),mt=U(()=>{var Ge,lt;return(lt=(Ge=b.value)==null?void 0:Ge.popperRef)==null?void 0:lt.contentRef}),vt=U(()=>{if(n.multiple){const Ge=n.modelValue.length;if(n.modelValue.length>0&&De.value.has(n.modelValue[Ge-1])){const{index:lt}=De.value.get(n.modelValue[Ge-1]);return lt}}else if(!p(n.modelValue)&&De.value.has(n.modelValue)){const{index:Ge}=De.value.get(n.modelValue);return Ge}return-1}),Me=U({get(){return X.value&&K.value!==!1},set(Ge){X.value=Ge}}),ht=U(()=>n.multiple?n.collapseTags?m.cachedOptions.slice(0,n.maxCollapseTags):m.cachedOptions:[]),st=U(()=>n.multiple?n.collapseTags?m.cachedOptions.slice(n.maxCollapseTags):[]:[]),{createNewOption:$,removeNewOption:ge,selectNewOption:he,clearAllNewOption:Ae}=p3e(n,m),ye=()=>{J.value||(m.menuVisibleOnFocus?m.menuVisibleOnFocus=!1:X.value=!X.value)},Se=()=>{m.inputValue.length>0&&!X.value&&(X.value=!0),$(m.inputValue),Te(m.inputValue)},ft=go(Se,$e.value),Te=Ge=>{m.previousQuery===Ge||D.value||(m.previousQuery=Ge,n.filterable&&Zt(n.filterMethod)?n.filterMethod(Ge):n.filterable&&n.remote&&Zt(n.remoteMethod)&&n.remoteMethod(Ge),n.defaultFirstOption&&(n.filterable||n.remote)&&G.value.length?Yt(_t):Yt(yn))},_t=()=>{const Ge=G.value.filter(Mt=>!Mt.disabled&&Mt.type!=="Group"),lt=Ge.find(Mt=>Mt.created),it=Ge[0];m.hoveringIndex=Lt(G.value,lt||it)},nt=Ge=>{Fa(n.modelValue,Ge)||e(Rr,Ge)},gt=Ge=>{e(Mn,Ge),nt(Ge),m.previousValue=n.multiple?String(Ge):Ge},Lt=(Ge=[],lt)=>{if(!Pn(lt))return Ge.indexOf(lt);const it=n.valueKey;let Mt=-1;return Ge.some((tn,Qt)=>Vi(tn,it)===Vi(lt,it)?(Mt=Qt,!0):!1),Mt},At=Ge=>Pn(Ge)?Vi(Ge,n.valueKey):Ge,an=()=>{Je()},_n=()=>{m.selectionWidth=y.value.getBoundingClientRect().width},lr=()=>{m.calculatorWidth=S.value.getBoundingClientRect().width},kn=()=>{m.collapseItemWidth=I.value.getBoundingClientRect().width},Yr=()=>{var Ge,lt;(lt=(Ge=b.value)==null?void 0:Ge.updatePopper)==null||lt.call(Ge)},Zn=()=>{var Ge,lt;(lt=(Ge=_.value)==null?void 0:Ge.updatePopper)==null||lt.call(Ge)},Y=Ge=>{if(n.multiple){let lt=n.modelValue.slice();const it=Lt(lt,u(Ge));it>-1?(lt=[...lt.slice(0,it),...lt.slice(it+1)],m.cachedOptions.splice(it,1),ge(Ge)):(n.multipleLimit<=0||lt.length<n.multipleLimit)&&(lt=[...lt,u(Ge)],m.cachedOptions.push(Ge),he(Ge)),gt(lt),Ge.created&&Te(""),n.filterable&&!n.reserveKeyword&&(m.inputValue="")}else m.selectedLabel=c(Ge),gt(u(Ge)),X.value=!1,he(Ge),Ge.created||Ae();Ut()},ae=(Ge,lt)=>{let it=n.modelValue.slice();const Mt=Lt(it,u(lt));Mt>-1&&!J.value&&(it=[...n.modelValue.slice(0,Mt),...n.modelValue.slice(Mt+1)],m.cachedOptions.splice(Mt,1),gt(it),e("remove-tag",u(lt)),ge(lt)),Ge.stopPropagation(),Ut()},Ut=()=>{var Ge;(Ge=x.value)==null||Ge.focus()},Ce=()=>{var Ge;if(X.value){X.value=!1,Yt(()=>{var lt;return(lt=x.value)==null?void 0:lt.blur()});return}(Ge=x.value)==null||Ge.blur()},oe=()=>{m.inputValue.length>0?m.inputValue="":X.value=!1},St=Ge=>GK(Ge,lt=>!m.cachedOptions.some(it=>u(it)===lt&&d(it))),pt=Ge=>{if(n.multiple&&Ge.code!==Nt.delete&&m.inputValue.length===0){Ge.preventDefault();const lt=n.modelValue.slice(),it=St(lt);if(it<0)return;const Mt=lt[it];lt.splice(it,1);const tn=m.cachedOptions[it];m.cachedOptions.splice(it,1),ge(tn),gt(lt),e("remove-tag",Mt)}},It=()=>{let Ge;Tt(n.modelValue)?Ge=[]:Ge=h.value,n.multiple?m.cachedOptions=[]:m.selectedLabel="",X.value=!1,gt(Ge),e("clear"),Ae(),Ut()},et=(Ge,lt=void 0)=>{const it=G.value;if(!["forward","backward"].includes(Ge)||J.value||it.length<=0||Ye.value||D.value)return;if(!X.value)return ye();lt===void 0&&(lt=m.hoveringIndex);let Mt=-1;Ge==="forward"?(Mt=lt+1,Mt>=it.length&&(Mt=0)):Ge==="backward"&&(Mt=lt-1,(Mt<0||Mt>=it.length)&&(Mt=it.length-1));const tn=it[Mt];if(d(tn)||tn.type==="Group")return et(Ge,Mt);m.hoveringIndex=Mt,at(Mt)},xt=()=>{if(X.value)~m.hoveringIndex&&G.value[m.hoveringIndex]&&Y(G.value[m.hoveringIndex]);else return ye()},Kt=Ge=>{m.hoveringIndex=Ge??-1},yn=()=>{n.multiple?m.hoveringIndex=G.value.findIndex(Ge=>n.modelValue.some(lt=>At(lt)===At(Ge))):m.hoveringIndex=G.value.findIndex(Ge=>At(Ge)===At(n.modelValue))},On=Ge=>{if(m.inputValue=Ge.target.value,n.remote)ft();else return Se()},je=Ge=>{if(X.value=!1,H.value){const lt=new FocusEvent("focus",Ge);z(lt)}},Xn=()=>(m.isBeforeHide=!1,Yt(()=>{~vt.value&&at(m.hoveringIndex)})),at=Ge=>{M.value.scrollToItem(Ge)},Pe=(Ge,lt)=>{const it=At(Ge);if(Ue.value.has(it)){const{option:Mt}=Ue.value.get(it);return Mt}if(lt&&lt.length){const Mt=lt.find(tn=>At(u(tn))===it);if(Mt)return Mt}return{[l.value.value]:Ge,[l.value.label]:Ge}},yt=(Ge=!1)=>{if(n.multiple)if(n.modelValue.length>0){const lt=m.cachedOptions.slice();m.cachedOptions.length=0,m.previousValue=n.modelValue.toString();for(const it of n.modelValue){const Mt=Pe(it,lt);m.cachedOptions.push(Mt)}}else m.cachedOptions=[],m.previousValue=void 0;else if(de.value){m.previousValue=n.modelValue;const lt=G.value,it=lt.findIndex(Mt=>At(u(Mt))===At(n.modelValue));~it?m.selectedLabel=c(lt[it]):(!m.selectedLabel||Ge)&&(m.selectedLabel=At(n.modelValue))}else m.selectedLabel="",m.previousValue=void 0;Ae(),Je()};return dt(X,Ge=>{Ge?Te(""):(m.inputValue="",m.previousQuery=null,m.isBeforeHide=!0,$("")),e("visible-change",Ge)}),dt(()=>n.modelValue,(Ge,lt)=>{var it;(!Ge||Tt(Ge)&&Ge.length===0||n.multiple&&!Fa(Ge.toString(),m.previousValue)||!n.multiple&&At(Ge)!==At(m.previousValue))&&yt(!0),!Fa(Ge,lt)&&n.validateEvent&&((it=s==null?void 0:s.validate)==null||it.call(s,"change").catch(tn=>void 0))},{deep:!0}),dt(()=>n.options,()=>{const Ge=x.value;(!Ge||Ge&&document.activeElement!==Ge)&&yt()},{deep:!0,flush:"post"}),dt(()=>G.value,()=>M.value&&Yt(M.value.resetScrollTop)),Ta(()=>{m.isBeforeHide||ie()}),Ta(()=>{const{valueKey:Ge,options:lt}=n,it=new Map;for(const Mt of lt){const tn=u(Mt);let Qt=tn;if(Pn(Qt)&&(Qt=Vi(tn,Ge)),it.get(Qt))break;it.set(Qt,!0)}}),pn(()=>{yt()}),ui(g,an),ui(y,_n),ui(S,lr),ui(M,Yr),ui(k,Yr),ui(A,Zn),ui(I,kn),{inputId:o,collapseTagSize:Ve,currentPlaceholder:Ke,expanded:X,emptyText:K,popupHeight:re,debounce:$e,allOptions:O,filteredOptions:G,iconComponent:fe,iconReverse:Ee,tagStyle:W,collapseTagStyle:Z,inputStyle:ve,popperSize:v,dropdownMenuVisible:Me,hasModelValue:de,shouldShowPlaceholder:Ne,selectDisabled:J,selectSize:ze,needStatusIcon:Q,showClearBtn:le,states:m,isFocused:H,nsSelect:r,nsInput:i,calculatorRef:S,inputRef:x,menuRef:M,tagMenuRef:A,tooltipRef:b,tagTooltipRef:_,selectRef:g,wrapperRef:k,selectionRef:y,prefixRef:T,suffixRef:C,collapseItemRef:I,popperRef:mt,validateState:Re,validateIcon:He,showTagList:ht,collapseTagList:st,debouncedOnInputChange:ft,deleteTag:ae,getLabel:c,getValue:u,getDisabled:d,getValueKey:At,handleClear:It,handleClickOutside:je,handleDel:pt,handleEsc:oe,focus:Ut,blur:Ce,handleMenuEnter:Xn,handleResize:an,resetSelectionWidth:_n,resetCalculatorWidth:lr,updateTooltip:Yr,updateTagTooltip:Zn,updateOptions:ie,toggleMenu:ye,scrollTo:at,onInput:On,onKeyboardNavigate:et,onKeyboardSelect:xt,onSelect:Y,onHover:Kt,handleCompositionStart:L,handleCompositionEnd:F,handleCompositionUpdate:B}},g3e=Ie({name:"ElSelectV2",components:{ElSelectMenu:h3e,ElTag:ag,ElTooltip:ns,ElIcon:Vt},directives:{ClickOutside:ld},props:qAe,emits:YAe,setup(n,{emit:e}){const t=U(()=>{const{modelValue:a,multiple:s}=n,o=s?[]:void 0;return Tt(a)?s?a:o:s?o:a}),r=v3e(mr({...la(n),modelValue:t}),e);$n(IL,{props:mr({...la(n),height:r.popupHeight,modelValue:t}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const i=U(()=>n.multiple?r.states.cachedOptions.map(a=>a.label):r.states.selectedLabel);return{...r,modelValue:t,selectedLabel:i}}});function y3e(n,e,t,r,i,a){const s=Et("el-tag"),o=Et("el-tooltip"),l=Et("el-icon"),c=Et("el-select-menu"),u=nT("click-outside");return Sn((V(),ue("div",{ref:"selectRef",class:j([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),onMouseenter:d=>n.states.inputHovering=!0,onMouseleave:d=>n.states.inputHovering=!1},[se(o,{ref:"tooltipRef",visible:n.dropdownMenuVisible,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,placement:n.placement,pure:"",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:n.persistent,"append-to":n.appendTo,"show-arrow":n.showArrow,offset:n.offset,onBeforeShow:n.handleMenuEnter,onHide:d=>n.states.isBeforeHide=!1},{default:be(()=>[me("div",{ref:"wrapperRef",class:j([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)]),onClick:sn(n.toggleMenu,["prevent"])},[n.$slots.prefix?(V(),ue("div",{key:0,ref:"prefixRef",class:j(n.nsSelect.e("prefix"))},[Ze(n.$slots,"prefix")],2)):Qe("v-if",!0),me("div",{ref:"selectionRef",class:j([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.modelValue.length)])},[n.multiple?Ze(n.$slots,"tag",{key:0},()=>[(V(!0),ue(zt,null,In(n.showTagList,d=>(V(),ue("div",{key:n.getValueKey(n.getValue(d)),class:j(n.nsSelect.e("selected-item"))},[se(s,{closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Bt(n.tagStyle),onClose:f=>n.deleteTag(f,d)},{default:be(()=>[me("span",{class:j(n.nsSelect.e("tags-text"))},[Ze(n.$slots,"label",{label:n.getLabel(d),value:n.getValue(d)},()=>[dn(Ct(n.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),n.collapseTags&&n.modelValue.length>n.maxCollapseTags?(V(),rt(o,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:be(()=>[me("div",{ref:"collapseItemRef",class:j(n.nsSelect.e("selected-item"))},[se(s,{closable:!1,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,style:Bt(n.collapseTagStyle),"disable-transitions":""},{default:be(()=>[me("span",{class:j(n.nsSelect.e("tags-text"))}," + "+Ct(n.modelValue.length-n.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:be(()=>[me("div",{ref:"tagMenuRef",class:j(n.nsSelect.e("selection"))},[(V(!0),ue(zt,null,In(n.collapseTagList,d=>(V(),ue("div",{key:n.getValueKey(n.getValue(d)),class:j(n.nsSelect.e("selected-item"))},[se(s,{class:"in-tooltip",closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",onClose:f=>n.deleteTag(f,d)},{default:be(()=>[me("span",{class:j(n.nsSelect.e("tags-text"))},[Ze(n.$slots,"label",{label:n.getLabel(d),value:n.getValue(d)},()=>[dn(Ct(n.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Qe("v-if",!0)]):Qe("v-if",!0),me("div",{class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[Sn(me("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":d=>n.states.inputValue=d,style:Bt(n.inputStyle),autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":n.expanded,"aria-label":n.ariaLabel,class:j([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",name:n.name,onInput:n.onInput,onCompositionstart:n.handleCompositionStart,onCompositionupdate:n.handleCompositionUpdate,onCompositionend:n.handleCompositionEnd,onKeydown:[Ur(sn(d=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Ur(sn(d=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Ur(sn(n.onKeyboardSelect,["stop","prevent"]),["enter"]),Ur(sn(n.handleEsc,["stop","prevent"]),["esc"]),Ur(sn(n.handleDel,["stop"]),["delete"])],onClick:sn(n.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[aT,n.states.inputValue]]),n.filterable?(V(),ue("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:j(n.nsSelect.e("input-calculator")),textContent:Ct(n.states.inputValue)},null,10,["textContent"])):Qe("v-if",!0)],2),n.shouldShowPlaceholder?(V(),ue("div",{key:1,class:j([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[n.hasModelValue?Ze(n.$slots,"label",{key:0,label:n.currentPlaceholder,value:n.modelValue},()=>[me("span",null,Ct(n.currentPlaceholder),1)]):(V(),ue("span",{key:1},Ct(n.currentPlaceholder),1))],2)):Qe("v-if",!0)],2),me("div",{ref:"suffixRef",class:j(n.nsSelect.e("suffix"))},[n.iconComponent?Sn((V(),rt(l,{key:0,class:j([n.nsSelect.e("caret"),n.nsInput.e("icon"),n.iconReverse])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])),[[fr,!n.showClearBtn]]):Qe("v-if",!0),n.showClearBtn&&n.clearIcon?(V(),rt(l,{key:1,class:j([n.nsSelect.e("caret"),n.nsInput.e("icon"),n.nsSelect.e("clear")]),onClick:sn(n.handleClear,["prevent","stop"])},{default:be(()=>[(V(),rt(Nn(n.clearIcon)))]),_:1},8,["class","onClick"])):Qe("v-if",!0),n.validateState&&n.validateIcon&&n.needStatusIcon?(V(),rt(l,{key:2,class:j([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:be(()=>[(V(),rt(Nn(n.validateIcon)))]),_:1},8,["class"])):Qe("v-if",!0)],2)],10,["onClick"])]),content:be(()=>[se(c,{ref:"menuRef",data:n.filteredOptions,width:n.popperSize,"hovering-index":n.states.hoveringIndex,"scrollbar-always-on":n.scrollbarAlwaysOn},El({default:be(d=>[Ze(n.$slots,"default",ic($f(d)))]),_:2},[n.$slots.header?{name:"header",fn:be(()=>[me("div",{class:j(n.nsSelect.be("dropdown","header"))},[Ze(n.$slots,"header")],2)])}:void 0,n.$slots.loading&&n.loading?{name:"loading",fn:be(()=>[me("div",{class:j(n.nsSelect.be("dropdown","loading"))},[Ze(n.$slots,"loading")],2)])}:n.loading||n.filteredOptions.length===0?{name:"empty",fn:be(()=>[me("div",{class:j(n.nsSelect.be("dropdown","empty"))},[Ze(n.$slots,"empty",{},()=>[me("span",null,Ct(n.emptyText),1)])],2)])}:void 0,n.$slots.footer?{name:"footer",fn:be(()=>[me("div",{class:j(n.nsSelect.be("dropdown","footer"))},[Ze(n.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[u,n.handleClickOutside,n.popperRef]])}var b3e=Pt(g3e,[["render",y3e],["__file","select.vue"]]);const _3e=gn(b3e),w3e=Rt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:We([Number,Object])}}),x3e=Rt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),S3e=Ie({name:"ElSkeletonItem"}),C3e=Ie({...S3e,props:x3e,setup(n){const e=bt("skeleton");return(t,r)=>(V(),ue("div",{class:j([w(e).e("item"),w(e).e(t.variant)])},[t.variant==="image"?(V(),rt(w(X0e),{key:0})):Qe("v-if",!0)],2))}});var IC=Pt(C3e,[["__file","skeleton-item.vue"]]);const M3e=(n,e=0)=>{if(e===0)return n;const t=Pn(e)&&!!e.initVal,r=ee(t);let i=null;const a=o=>{if(Mr(o)){r.value=n.value;return}i&&clearTimeout(i),i=setTimeout(()=>{r.value=n.value},o)},s=o=>{o==="leading"?en(e)?a(e):a(e.leading):Pn(e)?a(e.trailing):r.value=!1};return pn(()=>s("leading")),dt(()=>n.value,o=>{s(o?"leading":"trailing")}),r},T3e=Ie({name:"ElSkeleton"}),A3e=Ie({...T3e,props:w3e,setup(n,{expose:e}){const t=n,r=bt("skeleton"),i=M3e(_r(t,"loading"),t.throttle);return e({uiLoading:i}),(a,s)=>w(i)?(V(),ue("div",Hn({key:0,class:[w(r).b(),w(r).is("animated",a.animated)]},a.$attrs),[(V(!0),ue(zt,null,In(a.count,o=>(V(),ue(zt,{key:o},[w(i)?Ze(a.$slots,"template",{key:o},()=>[se(IC,{class:j(w(r).is("first")),variant:"p"},null,8,["class"]),(V(!0),ue(zt,null,In(a.rows,l=>(V(),rt(IC,{key:l,class:j([w(r).e("paragraph"),w(r).is("last",l===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Qe("v-if",!0)],64))),128))],16)):Ze(a.$slots,"default",ic(Hn({key:1},a.$attrs)))}});var E3e=Pt(A3e,[["__file","skeleton.vue"]]);const I3e=gn(E3e,{SkeletonItem:IC}),R3e=Si(IC),Lj=Symbol("sliderContextKey"),P3e=Rt({modelValue:{type:We([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:Ji,inputSize:Ji,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:We(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:We(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Sd,default:"top"},marks:{type:We(Object)},validateEvent:{type:Boolean,default:!0},...Ua(["ariaLabel"])}),D3=n=>en(n)||Tt(n)&&n.every(en),D3e={[Mn]:D3,[es]:D3,[Rr]:D3},k3e=Rt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Sd,default:"top"}}),L3e={[Mn]:n=>en(n)},N3e=(n,e,t)=>{const r=ee(),i=ee(!1),a=U(()=>e.value instanceof Function),s=U(()=>a.value&&e.value(n.modelValue)||n.modelValue),o=go(()=>{t.value&&(i.value=!0)},50),l=go(()=>{t.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:o,hideTooltip:l}},O3e=(n,e,t)=>{const{disabled:r,min:i,max:a,step:s,showTooltip:o,precision:l,sliderSize:c,formatTooltip:u,emitChange:d,resetSize:f,updateDragging:h}=Ot(Lj),{tooltip:p,tooltipVisible:m,formatValue:v,displayTooltip:g,hideTooltip:y}=N3e(n,u,o),b=ee(),_=U(()=>`${(n.modelValue-i.value)/(a.value-i.value)*100}%`),x=U(()=>n.vertical?{bottom:_.value}:{left:_.value}),S=()=>{e.hovering=!0,g()},T=()=>{e.hovering=!1,e.dragging||y()},C=J=>{r.value||(J.preventDefault(),z(J),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",G),window.addEventListener("touchend",G),window.addEventListener("contextmenu",G),b.value.focus())},M=J=>{r.value||(e.newPosition=Number.parseFloat(_.value)+J/(a.value-i.value)*100,X(e.newPosition),d())},A=()=>{M(-s.value)},I=()=>{M(s.value)},D=()=>{M(-s.value*4)},L=()=>{M(s.value*4)},F=()=>{r.value||(X(0),d())},B=()=>{r.value||(X(100),d())},k=J=>{let Q=!0;switch(J.code){case Nt.left:case Nt.down:A();break;case Nt.right:case Nt.up:I();break;case Nt.home:F();break;case Nt.end:B();break;case Nt.pageDown:D();break;case Nt.pageUp:L();break;default:Q=!1;break}Q&&J.preventDefault()},H=J=>{let Q,re;return J.type.startsWith("touch")?(re=J.touches[0].clientY,Q=J.touches[0].clientX):(re=J.clientY,Q=J.clientX),{clientX:Q,clientY:re}},z=J=>{e.dragging=!0,e.isClick=!0;const{clientX:Q,clientY:re}=H(J);n.vertical?e.startY=re:e.startX=Q,e.startPosition=Number.parseFloat(_.value),e.newPosition=e.startPosition},O=J=>{if(e.dragging){e.isClick=!1,g(),f();let Q;const{clientX:re,clientY:de}=H(J);n.vertical?(e.currentY=de,Q=(e.startY-e.currentY)/c.value*100):(e.currentX=re,Q=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+Q,X(e.newPosition)}},G=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||y(),e.isClick||X(e.newPosition),d()},0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",G),window.removeEventListener("touchend",G),window.removeEventListener("contextmenu",G))},X=async J=>{if(J===null||Number.isNaN(+J))return;J<0?J=0:J>100&&(J=100);const Q=100/((a.value-i.value)/s.value);let de=Math.round(J/Q)*Q*(a.value-i.value)*.01+i.value;de=Number.parseFloat(de.toFixed(l.value)),de!==n.modelValue&&t(Mn,de),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await Yt(),e.dragging&&g(),p.value.updatePopper()};return dt(()=>e.dragging,J=>{h(J)}),Tr(b,"touchstart",C,{passive:!1}),{disabled:r,button:b,tooltip:p,tooltipVisible:m,showTooltip:o,wrapperStyle:x,formatValue:v,handleMouseEnter:S,handleMouseLeave:T,onButtonDown:C,onKeyDown:k,setPosition:X}},B3e=Ie({name:"ElSliderButton"}),F3e=Ie({...B3e,props:k3e,emits:L3e,setup(n,{expose:e,emit:t}){const r=n,i=bt("slider"),a=mr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:o,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:d,formatValue:f,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:m,onKeyDown:v,setPosition:g}=O3e(r,a,t),{hovering:y,dragging:b}=la(a);return e({onButtonDown:m,onKeyDown:v,setPosition:g,hovering:y,dragging:b}),(_,x)=>(V(),ue("div",{ref_key:"button",ref:o,class:j([w(i).e("button-wrapper"),{hover:w(y),dragging:w(b)}]),style:Bt(w(d)),tabindex:w(s)?-1:0,onMouseenter:w(h),onMouseleave:w(p),onMousedown:w(m),onFocus:w(h),onBlur:w(p),onKeydown:w(v)},[se(w(ns),{ref_key:"tooltip",ref:l,visible:w(u),placement:_.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_.tooltipClass,disabled:!w(c),persistent:w(c)},{content:be(()=>[me("span",null,Ct(w(f)),1)]),default:be(()=>[me("div",{class:j([w(i).e("button"),{hover:w(y),dragging:w(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var DF=Pt(F3e,[["__file","button.vue"]]);const z3e=Rt({mark:{type:We([String,Object]),default:void 0}});var U3e=Ie({name:"ElSliderMarker",props:z3e,setup(n){const e=bt("slider"),t=U(()=>qt(n.mark)?n.mark:n.mark.label),r=U(()=>qt(n.mark)?void 0:n.mark.style);return()=>Gt("div",{class:e.e("marks-text"),style:r.value},t.value)}});const H3e=(n,e,t)=>{const{form:r,formItem:i}=is(),a=Ir(),s=ee(),o=ee(),l={firstButton:s,secondButton:o},c=U(()=>n.disabled||(r==null?void 0:r.disabled)||!1),u=U(()=>Math.min(e.firstValue,e.secondValue)),d=U(()=>Math.max(e.firstValue,e.secondValue)),f=U(()=>n.range?`${100*(d.value-u.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),h=U(()=>n.range?`${100*(u.value-n.min)/(n.max-n.min)}%`:"0%"),p=U(()=>n.vertical?{height:n.height}:{}),m=U(()=>n.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),v=()=>{a.value&&(e.sliderSize=a.value[`client${n.vertical?"Height":"Width"}`])},g=D=>{const L=n.min+D*(n.max-n.min)/100;if(!n.range)return s;let F;return Math.abs(u.value-L)<Math.abs(d.value-L)?F=e.firstValue<e.secondValue?"firstButton":"secondButton":F=e.firstValue>e.secondValue?"firstButton":"secondButton",l[F]},y=D=>{const L=g(D);return L.value.setPosition(D),L},b=D=>{e.firstValue=D??n.min,x(n.range?[u.value,d.value]:D??n.min)},_=D=>{e.secondValue=D,n.range&&x([u.value,d.value])},x=D=>{t(Mn,D),t(es,D)},S=async()=>{await Yt(),t(Rr,n.range?[u.value,d.value]:n.modelValue)},T=D=>{var L,F,B,k,H,z;if(c.value||e.dragging)return;v();let O=0;if(n.vertical){const G=(B=(F=(L=D.touches)==null?void 0:L.item(0))==null?void 0:F.clientY)!=null?B:D.clientY;O=(a.value.getBoundingClientRect().bottom-G)/e.sliderSize*100}else{const G=(z=(H=(k=D.touches)==null?void 0:k.item(0))==null?void 0:H.clientX)!=null?z:D.clientX,X=a.value.getBoundingClientRect().left;O=(G-X)/e.sliderSize*100}if(!(O<0||O>100))return y(O)};return{elFormItem:i,slider:a,firstButton:s,secondButton:o,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:p,barStyle:m,resetSize:v,setPosition:y,emitChange:S,onSliderWrapperPrevent:D=>{var L,F;((L=l.firstButton.value)!=null&&L.dragging||(F=l.secondButton.value)!=null&&F.dragging)&&D.preventDefault()},onSliderClick:D=>{T(D)&&S()},onSliderDown:async D=>{const L=T(D);L&&(await Yt(),L.value.onButtonDown(D))},onSliderMarkerDown:D=>{c.value||e.dragging||y(D)},setFirstValue:b,setSecondValue:_}},V3e=(n,e,t,r)=>({stops:U(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const s=(n.max-n.min)/n.step,o=100*n.step/(n.max-n.min),l=Array.from({length:s-1}).map((c,u)=>(u+1)*o);return n.range?l.filter(c=>c<100*(t.value-n.min)/(n.max-n.min)||c>100*(r.value-n.min)/(n.max-n.min)):l.filter(c=>c>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:s=>n.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),$3e=n=>U(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((t,r)=>t-r).filter(t=>t<=n.max&&t>=n.min).map(t=>({point:t,position:(t-n.min)*100/(n.max-n.min),mark:n.marks[t]})):[]),G3e=(n,e,t,r,i,a)=>{const s=c=>{i(Mn,c),i(es,c)},o=()=>n.range?![t.value,r.value].every((c,u)=>c===e.oldValue[u]):n.modelValue!==e.oldValue,l=()=>{var c,u;n.min>n.max&&ua("Slider","min should not be greater than max.");const d=n.modelValue;n.range&&Tt(d)?d[1]<n.min?s([n.min,n.min]):d[0]>n.max?s([n.max,n.max]):d[0]<n.min?s([n.min,d[1]]):d[1]>n.max?s([d[0],n.max]):(e.firstValue=d[0],e.secondValue=d[1],o()&&(n.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(f=>void 0)),e.oldValue=d.slice())):!n.range&&en(d)&&!Number.isNaN(d)&&(d<n.min?s(n.min):d>n.max?s(n.max):(e.firstValue=d,o()&&(n.validateEvent&&((u=a==null?void 0:a.validate)==null||u.call(a,"change").catch(f=>void 0)),e.oldValue=d)))};l(),dt(()=>e.dragging,c=>{c||l()}),dt(()=>n.modelValue,(c,u)=>{e.dragging||Tt(c)&&Tt(u)&&c.every((d,f)=>d===u[f])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),dt(()=>[n.min,n.max],()=>{l()})},W3e=(n,e,t)=>{const r=ee();return pn(async()=>{n.range?(Tt(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(!en(n.modelValue)||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),Tr(window,"resize",t),await Yt(),t()}),{sliderWrapper:r}},q3e=Ie({name:"ElSlider"}),K3e=Ie({...q3e,props:P3e,emits:D3e,setup(n,{expose:e,emit:t}){const r=n,i=bt("slider"),{t:a}=rr(),s=mr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:l,firstButton:c,secondButton:u,sliderDisabled:d,minValue:f,maxValue:h,runwayStyle:p,barStyle:m,resetSize:v,emitChange:g,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:_,onSliderMarkerDown:x,setFirstValue:S,setSecondValue:T}=H3e(r,s,t),{stops:C,getStopStyle:M}=V3e(r,s,f,h),{inputId:A,isLabeledByFormItem:I}=Ol(r,{formItemContext:o}),D=Xi(),L=U(()=>r.inputSize||D.value),F=U(()=>r.ariaLabel||a("el.slider.defaultLabel",{min:r.min,max:r.max})),B=U(()=>r.range?r.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):F.value),k=U(()=>r.formatValueText?r.formatValueText(Q.value):`${Q.value}`),H=U(()=>r.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),z=U(()=>r.formatValueText?r.formatValueText(re.value):`${re.value}`),O=U(()=>[i.b(),i.m(D.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),G=$3e(r);G3e(r,s,f,h,t,o);const X=U(()=>{const fe=[r.min,r.max,r.step].map(Ee=>{const Re=`${Ee}`.split(".")[1];return Re?Re.length:0});return Math.max.apply(null,fe)}),{sliderWrapper:J}=W3e(r,s,v),{firstValue:Q,secondValue:re,sliderSize:de}=la(s),le=fe=>{s.dragging=fe};return Tr(J,"touchstart",y,{passive:!1}),Tr(J,"touchmove",y,{passive:!1}),$n(Lj,{...la(r),sliderSize:de,disabled:d,precision:X,emitChange:g,resetSize:v,updateDragging:le}),e({onSliderClick:b}),(fe,Ee)=>{var Re,He;return V(),ue("div",{id:fe.range?w(A):void 0,ref_key:"sliderWrapper",ref:J,class:j(w(O)),role:fe.range?"group":void 0,"aria-label":fe.range&&!w(I)?w(F):void 0,"aria-labelledby":fe.range&&w(I)?(Re=w(o))==null?void 0:Re.labelId:void 0},[me("div",{ref_key:"slider",ref:l,class:j([w(i).e("runway"),{"show-input":fe.showInput&&!fe.range},w(i).is("disabled",w(d))]),style:Bt(w(p)),onMousedown:w(_),onTouchstartPassive:w(_)},[me("div",{class:j(w(i).e("bar")),style:Bt(w(m))},null,6),se(DF,{id:fe.range?void 0:w(A),ref_key:"firstButton",ref:c,"model-value":w(Q),vertical:fe.vertical,"tooltip-class":fe.tooltipClass,placement:fe.placement,role:"slider","aria-label":fe.range||!w(I)?w(B):void 0,"aria-labelledby":!fe.range&&w(I)?(He=w(o))==null?void 0:He.labelId:void 0,"aria-valuemin":fe.min,"aria-valuemax":fe.range?w(re):fe.max,"aria-valuenow":w(Q),"aria-valuetext":w(k),"aria-orientation":fe.vertical?"vertical":"horizontal","aria-disabled":w(d),"onUpdate:modelValue":w(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),fe.range?(V(),rt(DF,{key:0,ref_key:"secondButton",ref:u,"model-value":w(re),vertical:fe.vertical,"tooltip-class":fe.tooltipClass,placement:fe.placement,role:"slider","aria-label":w(H),"aria-valuemin":w(Q),"aria-valuemax":fe.max,"aria-valuenow":w(re),"aria-valuetext":w(z),"aria-orientation":fe.vertical?"vertical":"horizontal","aria-disabled":w(d),"onUpdate:modelValue":w(T)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Qe("v-if",!0),fe.showStops?(V(),ue("div",{key:1},[(V(!0),ue(zt,null,In(w(C),($e,K)=>(V(),ue("div",{key:K,class:j(w(i).e("stop")),style:Bt(w(M)($e))},null,6))),128))])):Qe("v-if",!0),w(G).length>0?(V(),ue(zt,{key:2},[me("div",null,[(V(!0),ue(zt,null,In(w(G),($e,K)=>(V(),ue("div",{key:K,style:Bt(w(M)($e.position)),class:j([w(i).e("stop"),w(i).e("marks-stop")])},null,6))),128))]),me("div",{class:j(w(i).e("marks"))},[(V(!0),ue(zt,null,In(w(G),($e,K)=>(V(),rt(w(U3e),{key:K,mark:$e.mark,style:Bt(w(M)($e.position)),onMousedown:sn(ce=>w(x)($e.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Qe("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),fe.showInput&&!fe.range?(V(),rt(w(hj),{key:0,ref:"input","model-value":w(Q),class:j(w(i).e("input")),step:fe.step,disabled:w(d),controls:fe.showInputControls,min:fe.min,max:fe.max,precision:w(X),debounce:fe.debounce,size:w(L),"onUpdate:modelValue":w(S),onChange:w(g)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Qe("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var Y3e=Pt(K3e,[["__file","slider.vue"]]);const X3e=gn(Y3e),j3e=Rt({prefixCls:{type:String}}),kF=Ie({name:"ElSpaceItem",props:j3e,setup(n,{slots:e}){const t=bt("space"),r=U(()=>`${n.prefixCls||t.b()}__item`);return()=>Gt("div",{class:r.value},Ze(e,"default"))}}),LF={small:8,default:12,large:16};function Z3e(n){const e=bt("space"),t=U(()=>[e.b(),e.m(n.direction),n.class]),r=ee(0),i=ee(0),a=U(()=>{const o=n.wrap||n.fill?{flexWrap:"wrap"}:{},l={alignItems:n.alignment},c={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[o,l,c,n.style]}),s=U(()=>n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{});return Ta(()=>{const{size:o="small",wrap:l,direction:c,fill:u}=n;if(Tt(o)){const[d=0,f=0]=o;r.value=d,i.value=f}else{let d;en(o)?d=o:d=LF[o||"small"]||LF.small,(l||u)&&c==="horizontal"?r.value=i.value=d:c==="horizontal"?(r.value=d,i.value=0):(i.value=d,r.value=0)}}),{classes:t,containerStyle:a,itemStyle:s}}const Q3e=Rt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:We([String,Object,Array]),default:""},style:{type:We([String,Array,Object]),default:""},alignment:{type:We(String),default:"center"},prefixCls:{type:String},spacer:{type:We([Object,String,Number,Array]),default:null,validator:n=>vi(n)||en(n)||qt(n)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:uu,validator:n=>en(n)||Tt(n)&&n.length===2&&n.every(en)}}),J3e=Ie({name:"ElSpace",props:Q3e,setup(n,{slots:e}){const{classes:t,containerStyle:r,itemStyle:i}=Z3e(n);function a(s,o="",l=[]){const{prefixCls:c}=n;return s.forEach((u,d)=>{w5(u)?Tt(u.children)&&u.children.forEach((f,h)=>{w5(f)&&Tt(f.children)?a(f.children,`${o+h}-`,l):l.push(se(kF,{style:i.value,prefixCls:c,key:`nested-${o+h}`},{default:()=>[f]},ol.PROPS|ol.STYLE,["style","prefixCls"]))}):Wbe(u)&&l.push(se(kF,{style:i.value,prefixCls:c,key:`LoopKey${o+d}`},{default:()=>[u]},ol.PROPS|ol.STYLE,["style","prefixCls"]))}),l}return()=>{var s;const{spacer:o,direction:l}=n,c=Ze(e,"default",{key:0},()=>[]);if(((s=c.children)!=null?s:[]).length===0)return null;if(Tt(c.children)){let u=a(c.children);if(o){const d=u.length-1;u=u.reduce((f,h,p)=>{const m=[...f,h];return p!==d&&m.push(se("span",{style:[i.value,l==="vertical"?"width: 100%":null],key:p},[vi(o)?o:dn(o,ol.TEXT)],ol.STYLE)),m},[])}return se("div",{class:t.value,style:r.value},u,ol.STYLE|ol.CLASS)}return c.children}}}),eEe=gn(J3e),tEe=Rt({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:We([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:We([String,Object,Array])}}),nEe=Ie({name:"ElStatistic"}),rEe=Ie({...nEe,props:tEe,setup(n,{expose:e}){const t=n,r=bt("statistic"),i=U(()=>{const{value:a,formatter:s,precision:o,decimalSeparator:l,groupSeparator:c}=t;if(Zt(s))return s(a);if(!en(a)||Number.isNaN(a))return a;let[u,d=""]=String(a).split(".");return d=d.padEnd(o,"0").slice(0,o>0?o:0),u=u.replace(/\B(?=(\d{3})+(?!\d))/g,c),[u,d].join(d?l:"")});return e({displayValue:i}),(a,s)=>(V(),ue("div",{class:j(w(r).b())},[a.$slots.title||a.title?(V(),ue("div",{key:0,class:j(w(r).e("head"))},[Ze(a.$slots,"title",{},()=>[dn(Ct(a.title),1)])],2)):Qe("v-if",!0),me("div",{class:j(w(r).e("content"))},[a.$slots.prefix||a.prefix?(V(),ue("div",{key:0,class:j(w(r).e("prefix"))},[Ze(a.$slots,"prefix",{},()=>[me("span",null,Ct(a.prefix),1)])],2)):Qe("v-if",!0),me("span",{class:j(w(r).e("number")),style:Bt(a.valueStyle)},Ct(w(i)),7),a.$slots.suffix||a.suffix?(V(),ue("div",{key:1,class:j(w(r).e("suffix"))},[Ze(a.$slots,"suffix",{},()=>[me("span",null,Ct(a.suffix),1)])],2)):Qe("v-if",!0)],2)],2))}});var iEe=Pt(rEe,[["__file","statistic.vue"]]);const Nj=gn(iEe),aEe=Rt({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:We([Number,Object]),default:0},valueStyle:{type:We([String,Object,Array])}}),sEe={finish:()=>!0,[Rr]:n=>en(n)},oEe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],NF=n=>en(n)?new Date(n).getTime():n.valueOf(),OF=(n,e)=>{let t=n;const r=/\[([^\]]*)]/g;return oEe.reduce((a,[s,o])=>{const l=new RegExp(`${s}+(?![^\\[\\]]*\\])`,"g");if(l.test(a)){const c=Math.floor(t/o);return t-=c*o,a.replace(l,u=>String(c).padStart(u.length,"0"))}return a},e).replace(r,"$1")},lEe=Ie({name:"ElCountdown"}),cEe=Ie({...lEe,props:aEe,emits:sEe,setup(n,{expose:e,emit:t}){const r=n;let i;const a=ee(0),s=U(()=>OF(a.value,r.format)),o=u=>OF(u,r.format),l=()=>{i&&(nm(i),i=void 0)},c=()=>{const u=NF(r.value),d=()=>{let f=u-Date.now();t("change",f),f<=0?(f=0,l(),t("finish")):i=qf(d),a.value=f};i=qf(d)};return pn(()=>{a.value=NF(r.value)-Date.now(),dt(()=>[r.value,r.format],()=>{l(),c()},{immediate:!0})}),yr(()=>{l()}),e({displayValue:s}),(u,d)=>(V(),rt(w(Nj),{value:a.value,title:u.title,prefix:u.prefix,suffix:u.suffix,"value-style":u.valueStyle,formatter:o},El({_:2},[In(u.$slots,(f,h)=>({name:h,fn:be(()=>[Ze(u.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var uEe=Pt(cEe,[["__file","countdown.vue"]]);const dEe=gn(uEe),fEe=Rt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),hEe={[Rr]:(n,e)=>[n,e].every(en)},pEe=Ie({name:"ElSteps"}),mEe=Ie({...pEe,props:fEe,emits:hEe,setup(n,{emit:e}){const t=n,r=bt("steps"),{children:i,addChild:a,removeChild:s}=lL(Dn(),"ElStep");return dt(i,()=>{i.value.forEach((o,l)=>{o.setIndex(l)})}),$n("ElSteps",{props:t,steps:i,addStep:a,removeStep:s}),dt(()=>t.active,(o,l)=>{e(Rr,o,l)}),(o,l)=>(V(),ue("div",{class:j([w(r).b(),w(r).m(o.simple?"simple":o.direction)])},[Ze(o.$slots,"default")],2))}});var vEe=Pt(mEe,[["__file","steps.vue"]]);const gEe=Rt({title:{type:String,default:""},icon:{type:kr},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),yEe=Ie({name:"ElStep"}),bEe=Ie({...yEe,props:gEe,setup(n){const e=n,t=bt("step"),r=ee(-1),i=ee({}),a=ee(""),s=Ot("ElSteps"),o=Dn();pn(()=>{dt([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([S])=>{_(S)},{immediate:!0})}),yr(()=>{s.removeStep(x.uid)});const l=U(()=>e.status||a.value),c=U(()=>{const S=s.steps.value[r.value-1];return S?S.currentStatus:"wait"}),u=U(()=>s.props.alignCenter),d=U(()=>s.props.direction==="vertical"),f=U(()=>s.props.simple),h=U(()=>s.steps.value.length),p=U(()=>{var S;return((S=s.steps.value[h.value-1])==null?void 0:S.uid)===(o==null?void 0:o.uid)}),m=U(()=>f.value?"":s.props.space),v=U(()=>[t.b(),t.is(f.value?"simple":s.props.direction),t.is("flex",p.value&&!m.value&&!u.value),t.is("center",u.value&&!d.value&&!f.value)]),g=U(()=>{const S={flexBasis:en(m.value)?`${m.value}px`:m.value?m.value:`${100/(h.value-(u.value?0:1))}%`};return d.value||p.value&&(S.maxWidth=`${100/h.value}%`),S}),y=S=>{r.value=S},b=S=>{const T=S==="wait",C={transitionDelay:`${T?"-":""}${150*r.value}ms`},M=S===s.props.processStatus||T?0:100;C.borderWidth=M&&!f.value?"1px":0,C[s.props.direction==="vertical"?"height":"width"]=`${M}%`,i.value=C},_=S=>{S>r.value?a.value=s.props.finishStatus:S===r.value&&c.value!=="error"?a.value=s.props.processStatus:a.value="wait";const T=s.steps.value[r.value-1];T&&T.calcProgress(a.value)},x=mr({uid:o.uid,currentStatus:l,setIndex:y,calcProgress:b});return s.addStep(x),(S,T)=>(V(),ue("div",{style:Bt(w(g)),class:j(w(v))},[Qe(" icon & line "),me("div",{class:j([w(t).e("head"),w(t).is(w(l))])},[w(f)?Qe("v-if",!0):(V(),ue("div",{key:0,class:j(w(t).e("line"))},[me("i",{class:j(w(t).e("line-inner")),style:Bt(i.value)},null,6)],2)),me("div",{class:j([w(t).e("icon"),w(t).is(S.icon||S.$slots.icon?"icon":"text")])},[Ze(S.$slots,"icon",{},()=>[S.icon?(V(),rt(w(Vt),{key:0,class:j(w(t).e("icon-inner"))},{default:be(()=>[(V(),rt(Nn(S.icon)))]),_:1},8,["class"])):w(l)==="success"?(V(),rt(w(Vt),{key:1,class:j([w(t).e("icon-inner"),w(t).is("status")])},{default:be(()=>[se(w(q_))]),_:1},8,["class"])):w(l)==="error"?(V(),rt(w(Vt),{key:2,class:j([w(t).e("icon-inner"),w(t).is("status")])},{default:be(()=>[se(w(gc))]),_:1},8,["class"])):w(f)?Qe("v-if",!0):(V(),ue("div",{key:3,class:j(w(t).e("icon-inner"))},Ct(r.value+1),3))])],2)],2),Qe(" title & description "),me("div",{class:j(w(t).e("main"))},[me("div",{class:j([w(t).e("title"),w(t).is(w(l))])},[Ze(S.$slots,"title",{},()=>[dn(Ct(S.title),1)])],2),w(f)?(V(),ue("div",{key:0,class:j(w(t).e("arrow"))},null,2)):(V(),ue("div",{key:1,class:j([w(t).e("description"),w(t).is(w(l))])},[Ze(S.$slots,"description",{},()=>[dn(Ct(S.description),1)])],2))],2)],6))}});var Oj=Pt(bEe,[["__file","item.vue"]]);const _Ee=gn(vEe,{Step:Oj}),wEe=Si(Oj),Bj=n=>["",...uu].includes(n),xEe=Rt({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:Bj},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:kr},activeActionIcon:{type:kr},activeIcon:{type:kr},inactiveIcon:{type:kr},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:We(Function)},id:String,tabindex:{type:[String,Number]},...Ua(["ariaLabel"])}),SEe={[Mn]:n=>Vr(n)||qt(n)||en(n),[Rr]:n=>Vr(n)||qt(n)||en(n),[es]:n=>Vr(n)||qt(n)||en(n)},Fj="ElSwitch",CEe=Ie({name:Fj}),MEe=Ie({...CEe,props:xEe,emits:SEe,setup(n,{expose:e,emit:t}){const r=n,{formItem:i}=is(),a=Xi(),s=bt("switch"),{inputId:o}=Ol(r,{formItemContext:i}),l=as(U(()=>r.loading)),c=ee(r.modelValue!==!1),u=ee(),d=ee(),f=U(()=>[s.b(),s.m(a.value),s.is("disabled",l.value),s.is("checked",g.value)]),h=U(()=>[s.e("label"),s.em("label","left"),s.is("active",!g.value)]),p=U(()=>[s.e("label"),s.em("label","right"),s.is("active",g.value)]),m=U(()=>({width:Pi(r.width)}));dt(()=>r.modelValue,()=>{c.value=!0});const v=U(()=>c.value?r.modelValue:!1),g=U(()=>v.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(v.value)||(t(Mn,r.inactiveValue),t(Rr,r.inactiveValue),t(es,r.inactiveValue)),dt(g,x=>{var S;u.value.checked=x,r.validateEvent&&((S=i==null?void 0:i.validate)==null||S.call(i,"change").catch(T=>void 0))});const y=()=>{const x=g.value?r.inactiveValue:r.activeValue;t(Mn,x),t(Rr,x),t(es,x),Yt(()=>{u.value.checked=g.value})},b=()=>{if(l.value)return;const{beforeChange:x}=r;if(!x){y();return}const S=x();[Sb(S),Vr(S)].includes(!0)||ua(Fj,"beforeChange must return type `Promise<boolean>` or `boolean`"),Sb(S)?S.then(C=>{C&&y()}).catch(C=>{}):S&&y()},_=()=>{var x,S;(S=(x=u.value)==null?void 0:x.focus)==null||S.call(x)};return pn(()=>{u.value.checked=g.value}),e({focus:_,checked:g}),(x,S)=>(V(),ue("div",{class:j(w(f)),onClick:sn(b,["prevent"])},[me("input",{id:w(o),ref_key:"input",ref:u,class:j(w(s).e("input")),type:"checkbox",role:"switch","aria-checked":w(g),"aria-disabled":w(l),"aria-label":x.ariaLabel,name:x.name,"true-value":x.activeValue,"false-value":x.inactiveValue,disabled:w(l),tabindex:x.tabindex,onChange:y,onKeydown:Ur(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!x.inlinePrompt&&(x.inactiveIcon||x.inactiveText)?(V(),ue("span",{key:0,class:j(w(h))},[x.inactiveIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.inactiveIcon)))]),_:1})):Qe("v-if",!0),!x.inactiveIcon&&x.inactiveText?(V(),ue("span",{key:1,"aria-hidden":w(g)},Ct(x.inactiveText),9,["aria-hidden"])):Qe("v-if",!0)],2)):Qe("v-if",!0),me("span",{ref_key:"core",ref:d,class:j(w(s).e("core")),style:Bt(w(m))},[x.inlinePrompt?(V(),ue("div",{key:0,class:j(w(s).e("inner"))},[x.activeIcon||x.inactiveIcon?(V(),rt(w(Vt),{key:0,class:j(w(s).is("icon"))},{default:be(()=>[(V(),rt(Nn(w(g)?x.activeIcon:x.inactiveIcon)))]),_:1},8,["class"])):x.activeText||x.inactiveText?(V(),ue("span",{key:1,class:j(w(s).is("text")),"aria-hidden":!w(g)},Ct(w(g)?x.activeText:x.inactiveText),11,["aria-hidden"])):Qe("v-if",!0)],2)):Qe("v-if",!0),me("div",{class:j(w(s).e("action"))},[x.loading?(V(),rt(w(Vt),{key:0,class:j(w(s).is("loading"))},{default:be(()=>[se(w(tu))]),_:1},8,["class"])):w(g)?Ze(x.$slots,"active-action",{key:1},()=>[x.activeActionIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.activeActionIcon)))]),_:1})):Qe("v-if",!0)]):w(g)?Qe("v-if",!0):Ze(x.$slots,"inactive-action",{key:2},()=>[x.inactiveActionIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.inactiveActionIcon)))]),_:1})):Qe("v-if",!0)])],2)],6),!x.inlinePrompt&&(x.activeIcon||x.activeText)?(V(),ue("span",{key:1,class:j(w(p))},[x.activeIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.activeIcon)))]),_:1})):Qe("v-if",!0),!x.activeIcon&&x.activeText?(V(),ue("span",{key:1,"aria-hidden":!w(g)},Ct(x.activeText),9,["aria-hidden"])):Qe("v-if",!0)],2)):Qe("v-if",!0)],10,["onClick"]))}});var TEe=Pt(MEe,[["__file","switch.vue"]]);const AEe=gn(TEe),k3=function(n){var e;return(e=n.target)==null?void 0:e.closest("td")},EEe=function(n,e,t,r,i){if(!e&&!r&&(!i||Tt(i)&&!i.length))return n;qt(t)?t=t==="descending"?-1:1:t=t&&t<0?-1:1;const a=r?null:function(o,l){return i?(Tt(i)||(i=[i]),i.map(c=>qt(c)?Vi(o,c):c(o,l,n))):(e!=="$key"&&Pn(o)&&"$value"in o&&(o=o.$value),[Pn(o)?Vi(o,e):o])},s=function(o,l){if(r)return r(o.value,l.value);for(let c=0,u=o.key.length;c<u;c++){if(o.key[c]<l.key[c])return-1;if(o.key[c]>l.key[c])return 1}return 0};return n.map((o,l)=>({value:o,index:l,key:a?a(o,l):null})).sort((o,l)=>{let c=s(o,l);return c||(c=o.index-l.index),c*+t}).map(o=>o.value)},zj=function(n,e){let t=null;return n.columns.forEach(r=>{r.id===e&&(t=r)}),t},IEe=function(n,e){let t=null;for(let r=0;r<n.columns.length;r++){const i=n.columns[r];if(i.columnKey===e){t=i;break}}return t||ua("ElTable",`No column matching with column-key: ${e}`),t},BF=function(n,e,t){const r=(e.className||"").match(new RegExp(`${t}-table_[^\\s]+`,"gm"));return r?zj(n,r[0]):null},_s=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(qt(e)){if(!e.includes("."))return`${n[e]}`;const t=e.split(".");let r=n;for(const i of t)r=r[i];return`${r}`}else if(Zt(e))return e.call(null,n)},Tp=function(n,e){const t={};return(n||[]).forEach((r,i)=>{t[_s(r,e)]={row:r,index:i}}),t};function REe(n,e){const t={};let r;for(r in n)t[r]=n[r];for(r in e)if(sr(e,r)){const i=e[r];typeof i<"u"&&(t[r]=i)}return t}function kL(n){return n===""||n!==void 0&&(n=Number.parseInt(n,10),Number.isNaN(n)&&(n="")),n}function Uj(n){return n===""||n!==void 0&&(n=kL(n),Number.isNaN(n)&&(n=80)),n}function PEe(n){return en(n)?n:qt(n)?/^\d+(?:px)?$/.test(n)?Number.parseInt(n,10):n:null}function DEe(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function RC(n,e,t,r,i,a){let s=a??0,o=!1;const l=n.indexOf(e),c=l!==-1,u=i==null?void 0:i.call(null,e,a),d=h=>{h==="add"?n.push(e):n.splice(l,1),o=!0},f=h=>{let p=0;const m=(r==null?void 0:r.children)&&h[r.children];return m&&Tt(m)&&(p+=m.length,m.forEach(v=>{p+=f(v)})),p};return(!i||u)&&(Vr(t)?t&&!c?d("add"):!t&&c&&d("remove"):d(c?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Tt(e[r.children])&&e[r.children].forEach(h=>{RC(n,h,t??!c,r,i,s+1),s+=f(h)+1}),o}function kEe(n,e,t="children",r="hasChildren"){const i=s=>!(Tt(s)&&s.length);function a(s,o,l){e(s,o,l),o.forEach(c=>{if(c[r]){e(c,null,l+1);return}const u=c[t];i(u)||a(c,u,l+1)})}n.forEach(s=>{if(s[r]){e(s,null,0);return}const o=s[t];i(o)||a(s,o,0)})}const FF=(n,e)=>({content:e,...n,popperOptions:{strategy:"fixed",...n.popperOptions}});let nl=null;function LEe(n,e,t,r){if((nl==null?void 0:nl.trigger)===t){qK(nl.vm.component.props,FF(n,e));return}nl==null||nl();const i=r==null?void 0:r.refs.tableWrapper,a=i==null?void 0:i.dataset.prefix,s=se(ns,{virtualTriggering:!0,virtualRef:t,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...FF(n,e)});s.appContext={...r.appContext,...r};const o=document.createElement("div");Gf(s,o),s.component.exposed.onOpen();const l=i==null?void 0:i.querySelector(`.${a}-scrollbar__wrap`);nl=()=>{Gf(null,o),l==null||l.removeEventListener("scroll",nl),nl=null},nl.trigger=t,nl.vm=s,l==null||l.addEventListener("scroll",nl)}function Hj(n){return n.children?Ope(n.children,Hj):[n]}function zF(n,e){return n+e.colSpan}const Vj=(n,e,t,r)=>{let i=0,a=n;const s=t.states.columns.value;if(r){const l=Hj(r[n]);i=s.slice(0,s.indexOf(l[0])).reduce(zF,0),a=i+l.reduce(zF,0)-1}else i=n;let o;switch(e){case"left":a<t.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":i>=s.length-t.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:a<t.states.fixedLeafColumnsLength.value?o="left":i>=s.length-t.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:i,after:a}:{}},LL=(n,e,t,r,i,a=0)=>{const s=[],{direction:o,start:l,after:c}=Vj(e,t,r,i);if(o){const u=o==="left";s.push(`${n}-fixed-column--${o}`),u&&c+a===r.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!u&&l-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function UF(n,e){return n+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const NL=(n,e,t,r)=>{const{direction:i,start:a=0,after:s=0}=Vj(n,e,t,r);if(!i)return;const o={},l=i==="left",c=t.states.columns.value;return l?o.left=c.slice(0,a).reduce(UF,0):o.right=c.slice(s+1).reverse().reduce(UF,0),o},lg=(n,e)=>{n&&(Number.isNaN(n[e])||(n[e]=`${n[e]}px`))};function NEe(n){const e=Dn(),t=ee(!1),r=ee([]);return{updateExpandRows:()=>{const l=n.data.value||[],c=n.rowKey.value;if(t.value)r.value=l.slice();else if(c){const u=Tp(r.value,c);r.value=l.reduce((d,f)=>{const h=_s(f,c);return u[h]&&d.push(f),d},[])}else r.value=[]},toggleRowExpansion:(l,c)=>{RC(r.value,l,c)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=n.data.value||[],u=n.rowKey.value,d=Tp(c,u);r.value=l.reduce((f,h)=>{const p=d[h];return p&&f.push(p.row),f},[])},isRowExpanded:l=>{const c=n.rowKey.value;return c?!!Tp(r.value,c)[_s(l,c)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:t}}}function OEe(n){const e=Dn(),t=ee(null),r=ee(null),i=c=>{e.store.assertRowKey(),t.value=c,s(c)},a=()=>{t.value=null},s=c=>{const{data:u,rowKey:d}=n;let f=null;d.value&&(f=(w(u)||[]).find(h=>_s(h,d.value)===c)),r.value=f,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:a,setCurrentRowByKey:s,updateCurrentRow:c=>{const u=r.value;if(c&&c!==u){r.value=c,e.emit("current-change",r.value,u);return}!c&&u&&(r.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=n.rowKey.value,u=n.data.value||[],d=r.value;if(!u.includes(d)&&d){if(c){const f=_s(d,c);s(f)}else r.value=null;r.value===null&&e.emit("current-change",null,d)}else t.value&&(s(t.value),a())},states:{_currentRowKey:t,currentRow:r}}}function BEe(n){const e=ee([]),t=ee({}),r=ee(16),i=ee(!1),a=ee({}),s=ee("hasChildren"),o=ee("children"),l=ee(!1),c=Dn(),u=U(()=>{if(!n.rowKey.value)return{};const b=n.data.value||[];return f(b)}),d=U(()=>{const b=n.rowKey.value,_=Object.keys(a.value),x={};return _.length&&_.forEach(S=>{if(a.value[S].length){const T={children:[]};a.value[S].forEach(C=>{const M=_s(C,b);T.children.push(M),C[s.value]&&!x[M]&&(x[M]={children:[]})}),x[S]=T}}),x}),f=b=>{const _=n.rowKey.value,x={};return kEe(b,(S,T,C)=>{const M=_s(S,_);Tt(T)?x[M]={children:T.map(A=>_s(A,_)),level:C}:i.value&&(x[M]={children:[],lazy:!0,level:C})},o.value,s.value),x},h=(b=!1,_=(x=>(x=c.store)==null?void 0:x.states.defaultExpandAll.value)())=>{var x;const S=u.value,T=d.value,C=Object.keys(S),M={};if(C.length){const A=w(t),I=[],D=(F,B)=>{if(b)return e.value?_||e.value.includes(B):!!(_||F!=null&&F.expanded);{const k=_||e.value&&e.value.includes(B);return!!(F!=null&&F.expanded||k)}};C.forEach(F=>{const B=A[F],k={...S[F]};if(k.expanded=D(B,F),k.lazy){const{loaded:H=!1,loading:z=!1}=B||{};k.loaded=!!H,k.loading=!!z,I.push(F)}M[F]=k});const L=Object.keys(T);i.value&&L.length&&I.length&&L.forEach(F=>{const B=A[F],k=T[F].children;if(I.includes(F)){if(M[F].children.length!==0)throw new Error("[ElTable]children must be an empty array.");M[F].children=k}else{const{loaded:H=!1,loading:z=!1}=B||{};M[F]={lazy:!0,loaded:!!H,loading:!!z,expanded:D(B,F),children:k,level:""}}})}t.value=M,(x=c.store)==null||x.updateTableScrollY()};dt(()=>e.value,()=>{h(!0)}),dt(()=>u.value,()=>{h()}),dt(()=>d.value,()=>{h()});const p=b=>{e.value=b,h()},m=(b,_)=>{c.store.assertRowKey();const x=n.rowKey.value,S=_s(b,x),T=S&&t.value[S];if(S&&T&&"expanded"in T){const C=T.expanded;_=Mr(_)?!T.expanded:_,t.value[S].expanded=_,C!==_&&c.emit("expand-change",b,_),c.store.updateTableScrollY()}},v=b=>{c.store.assertRowKey();const _=n.rowKey.value,x=_s(b,_),S=t.value[x];i.value&&S&&"loaded"in S&&!S.loaded?g(b,x,S):m(b,void 0)},g=(b,_,x)=>{const{load:S}=c.props;S&&!t.value[_].loaded&&(t.value[_].loading=!0,S(b,x,T=>{if(!Tt(T))throw new TypeError("[ElTable] data must be an array");t.value[_].loading=!1,t.value[_].loaded=!0,t.value[_].expanded=!0,T.length&&(a.value[_]=T),c.emit("expand-change",b,!0)}))};return{loadData:g,loadOrToggle:v,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(b,_)=>{const{lazy:x,rowKey:S}=c.props;if(x){if(!S)throw new Error("[Table] rowKey is required in updateKeyChild");a.value[b]&&(a.value[b]=_)}},normalize:f,states:{expandRowKeys:e,treeData:t,indent:r,lazy:i,lazyTreeNodeMap:a,lazyColumnIdentifier:s,childrenColumnName:o,checkStrictly:l}}}const FEe=(n,e)=>{const t=e.sortingColumn;return!t||qt(t.sortable)?n:EEe(n,e.sortProp,e.sortOrder,t.sortMethod,t.sortBy)},y2=n=>{const e=[];return n.forEach(t=>{t.children&&t.children.length>0?e.push.apply(e,y2(t.children)):e.push(t)}),e};function zEe(){var n;const e=Dn(),{size:t}=la((n=e.proxy)==null?void 0:n.$props),r=ee(null),i=ee([]),a=ee([]),s=ee(!1),o=ee([]),l=ee([]),c=ee([]),u=ee([]),d=ee([]),f=ee([]),h=ee([]),p=ee([]),m=[],v=ee(0),g=ee(0),y=ee(0),b=ee(!1),_=ee([]),x=ee(!1),S=ee(!1),T=ee(null),C=ee({}),M=ee(null),A=ee(null),I=ee(null),D=ee(null),L=ee(null);dt(i,()=>{var $;e.state&&(z(!1),e.props.tableLayout==="auto"&&(($=e.refs.tableHeaderRef)==null||$.updateFixedColumnStyle()))},{deep:!0});const F=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},B=$=>{var ge;(ge=$.children)==null||ge.forEach(he=>{he.fixed=$.fixed,B(he)})};let k;const H=()=>{o.value.forEach(ye=>{B(ye)}),u.value=o.value.filter(ye=>ye.fixed===!0||ye.fixed==="left"),d.value=o.value.filter(ye=>ye.fixed==="right"),Mr(k)&&o.value[0]&&o.value[0].type==="selection"&&(k=!!o.value[0].fixed),u.value.length>0&&o.value[0]&&o.value[0].type==="selection"&&(o.value[0].fixed?u.value.some(Se=>Se.type!=="selection")?k=void 0:(o.value[0].fixed=k,k||u.value.shift()):(o.value[0].fixed=!0,u.value.unshift(o.value[0])));const $=o.value.filter(ye=>!ye.fixed);l.value=[].concat(u.value).concat($).concat(d.value);const ge=y2($),he=y2(u.value),Ae=y2(d.value);v.value=ge.length,g.value=he.length,y.value=Ae.length,c.value=[].concat(he).concat(ge).concat(Ae),s.value=u.value.length>0||d.value.length>0},z=($,ge=!1)=>{$&&H(),ge?e.state.doLayout():e.state.debouncedUpdateLayout()},O=$=>_.value.some(ge=>Fa(ge,$)),G=()=>{b.value=!1;const $=_.value;_.value=[],$.length&&e.emit("selection-change",[])},X=()=>{let $;if(r.value){$=[];const ge=Tp(_.value,r.value),he=Tp(i.value,r.value);for(const Ae in ge)sr(ge,Ae)&&!he[Ae]&&$.push(ge[Ae].row)}else $=_.value.filter(ge=>!i.value.includes(ge));if($.length){const ge=_.value.filter(he=>!$.includes(he));_.value=ge,e.emit("selection-change",ge.slice())}},J=()=>(_.value||[]).slice(),Q=($,ge,he=!0,Ae=!1)=>{var ye,Se,ft,Te;const _t={children:(Se=(ye=e==null?void 0:e.store)==null?void 0:ye.states)==null?void 0:Se.childrenColumnName.value,checkStrictly:(Te=(ft=e==null?void 0:e.store)==null?void 0:ft.states)==null?void 0:Te.checkStrictly.value};if(RC(_.value,$,ge,_t,Ae?void 0:T.value)){const gt=(_.value||[]).slice();he&&e.emit("select",gt,$),e.emit("selection-change",gt)}},re=()=>{var $,ge;const he=S.value?!b.value:!(b.value||_.value.length);b.value=he;let Ae=!1,ye=0;const Se=(ge=($=e==null?void 0:e.store)==null?void 0:$.states)==null?void 0:ge.rowKey.value,{childrenColumnName:ft}=e.store.states,Te={children:ft.value,checkStrictly:!1};i.value.forEach((_t,nt)=>{const gt=nt+ye;RC(_.value,_t,he,Te,T.value,gt)&&(Ae=!0),ye+=fe(_s(_t,Se))}),Ae&&e.emit("selection-change",_.value?_.value.slice():[]),e.emit("select-all",(_.value||[]).slice())},de=()=>{const $=Tp(_.value,r.value);i.value.forEach(ge=>{const he=_s(ge,r.value),Ae=$[he];Ae&&(_.value[Ae.index]=ge)})},le=()=>{var $;if((($=i.value)==null?void 0:$.length)===0){b.value=!1;return}const{childrenColumnName:ge}=e.store.states,he=r.value?Tp(_.value,r.value):void 0;let Ae=0,ye=0;const Se=_t=>he?!!he[_s(_t,r.value)]:_.value.includes(_t),ft=_t=>{var nt;for(const gt of _t){const Lt=T.value&&T.value.call(null,gt,Ae);if(Se(gt))ye++;else if(!T.value||Lt)return!1;if(Ae++,(nt=gt[ge.value])!=null&&nt.length&&!ft(gt[ge.value]))return!1}return!0},Te=ft(i.value||[]);b.value=ye===0?!1:Te},fe=$=>{var ge;if(!e||!e.store)return 0;const{treeData:he}=e.store.states;let Ae=0;const ye=(ge=he.value[$])==null?void 0:ge.children;return ye&&(Ae+=ye.length,ye.forEach(Se=>{Ae+=fe(Se)})),Ae},Ee=($,ge)=>{Tt($)||($=[$]);const he={};return $.forEach(Ae=>{C.value[Ae.id]=ge,he[Ae.columnKey||Ae.id]=ge}),he},Re=($,ge,he)=>{A.value&&A.value!==$&&(A.value.order=null),A.value=$,I.value=ge,D.value=he},He=()=>{let $=w(a);Object.keys(C.value).forEach(ge=>{const he=C.value[ge];if(!he||he.length===0)return;const Ae=zj({columns:c.value},ge);Ae&&Ae.filterMethod&&($=$.filter(ye=>he.some(Se=>Ae.filterMethod.call(null,Se,ye,Ae))))}),M.value=$},$e=()=>{i.value=FEe(M.value,{sortingColumn:A.value,sortProp:I.value,sortOrder:D.value})},K=($=void 0)=>{$&&$.filter||He(),$e()},ce=$=>{const{tableHeaderRef:ge}=e.refs;if(!ge)return;const he=Object.assign({},ge.filterPanels),Ae=Object.keys(he);if(Ae.length)if(qt($)&&($=[$]),Tt($)){const ye=$.map(Se=>IEe({columns:c.value},Se));Ae.forEach(Se=>{const ft=ye.find(Te=>Te.id===Se);ft&&(ft.filteredValue=[])}),e.store.commit("filterChange",{column:ye,values:[],silent:!0,multi:!0})}else Ae.forEach(ye=>{const Se=c.value.find(ft=>ft.id===ye);Se&&(Se.filteredValue=[])}),C.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},ie=()=>{A.value&&(Re(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ue,toggleRowExpansion:De,updateExpandRows:Ye,states:ze,isRowExpanded:Ve}=NEe({data:i,rowKey:r}),{updateTreeExpandKeys:Je,toggleTreeExpansion:pe,updateTreeData:W,updateKeyChildren:Z,loadOrToggle:ve,states:Ne}=BEe({data:i,rowKey:r}),{updateCurrentRowData:Ke,updateCurrentRow:mt,setCurrentRowKey:vt,states:Me}=OEe({data:i,rowKey:r});return{assertRowKey:F,updateColumns:H,scheduleLayout:z,isSelected:O,clearSelection:G,cleanSelection:X,getSelectionRows:J,toggleRowSelection:Q,_toggleAllSelection:re,toggleAllSelection:null,updateSelectionByRowKey:de,updateAllSelected:le,updateFilters:Ee,updateCurrentRow:mt,updateSort:Re,execFilter:He,execSort:$e,execQuery:K,clearFilter:ce,clearSort:ie,toggleRowExpansion:De,setExpandRowKeysAdapter:$=>{Ue($),Je($)},setCurrentRowKey:vt,toggleRowExpansionAdapter:($,ge)=>{c.value.some(({type:Ae})=>Ae==="expand")?De($,ge):pe($,ge)},isRowExpanded:Ve,updateExpandRows:Ye,updateCurrentRowData:Ke,loadOrToggle:ve,updateTreeData:W,updateKeyChildren:Z,states:{tableSize:t,rowKey:r,data:i,_data:a,isComplex:s,_columns:o,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:m,leafColumnsLength:v,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:y,isAllSelected:b,selection:_,reserveSelection:x,selectOnIndeterminate:S,selectable:T,filters:C,filteredData:M,sortingColumn:A,sortProp:I,sortOrder:D,hoverRow:L,...ze,...Ne,...Me}}}function W5(n,e){return n.map(t=>{var r;return t.id===e.id?e:((r=t.children)!=null&&r.length&&(t.children=W5(t.children,e)),t)})}function q5(n){n.forEach(e=>{var t,r;e.no=(t=e.getColumnIndex)==null?void 0:t.call(e),(r=e.children)!=null&&r.length&&q5(e.children)}),n.sort((e,t)=>e.no-t.no)}function UEe(){const n=Dn(),e=zEe();return{ns:bt("table"),...e,mutations:{setData(s,o){const l=w(s._data)!==o;s.data.value=o,s._data.value=o,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),w(s.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):l?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn(s,o,l,c){const u=w(s._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(o),d=W5(u,l)):(u.push(o),d=u),q5(d),s._columns.value=d,s.updateOrderFns.push(c),o.type==="selection"&&(s.selectable.value=o.selectable,s.reserveSelection.value=o.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},updateColumnOrder(s,o){var l;((l=o.getColumnIndex)==null?void 0:l.call(o))!==o.no&&(q5(s._columns.value),n.$ready&&n.store.updateColumns())},removeColumn(s,o,l,c){const u=w(s._columns)||[];if(l)l.children.splice(l.children.findIndex(f=>f.id===o.id),1),Yt(()=>{var f;((f=l.children)==null?void 0:f.length)===0&&delete l.children}),s._columns.value=W5(u,l);else{const f=u.indexOf(o);f>-1&&(u.splice(f,1),s._columns.value=u)}const d=s.updateOrderFns.indexOf(c);d>-1&&s.updateOrderFns.splice(d,1),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort(s,o){const{prop:l,order:c,init:u}=o;if(l){const d=w(s.columns).find(f=>f.property===l);d&&(d.order=c,n.store.updateSort(d,l,c),n.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(s,o){const{sortingColumn:l,sortProp:c,sortOrder:u}=s,d=w(l),f=w(c),h=w(u);h===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const p={filter:!0};n.store.execQuery(p),(!o||!(o.silent||o.init))&&n.emit("sort-change",{column:d,prop:f,order:h}),n.store.updateTableScrollY()},filterChange(s,o){const{column:l,values:c,silent:u}=o,d=n.store.updateFilters(l,c);n.store.execQuery(),u||n.emit("filter-change",d),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged(s,o){n.store.toggleRowSelection(o),n.store.updateAllSelected()},setHoverRow(s,o){s.hoverRow.value=o},setCurrentRow(s,o){n.store.updateCurrentRow(o)}},commit:function(s,...o){const l=n.store.mutations;if(l[s])l[s].apply(n,[n.store.states].concat(o));else throw new Error(`Action not found: ${s}`)},updateTableScrollY:function(){Yt(()=>n.layout.updateScrollY.apply(n.layout))}}}const G1={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function HEe(n,e){if(!n)throw new Error("Table is required.");const t=UEe();return t.toggleAllSelection=go(t._toggleAllSelection,10),Object.keys(G1).forEach(r=>{$j(Gj(e,r),r,t)}),VEe(t,e),t}function VEe(n,e){Object.keys(G1).forEach(t=>{dt(()=>Gj(e,t),r=>{$j(r,t,n)})})}function $j(n,e,t){let r=n,i=G1[e];typeof G1[e]=="object"&&(i=i.key,r=r||G1[e].default),t.states[i].value=r}function Gj(n,e){if(e.includes(".")){const t=e.split(".");let r=n;return t.forEach(i=>{r=r[i]}),r}else return n[e]}class $Ee{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ee(null),this.scrollX=ee(!1),this.scrollY=ee(!1),this.bodyWidth=ee(null),this.fixedWidth=ee(null),this.rightFixedWidth=ee(null),this.gutterWidth=0;for(const t in e)sr(e,t)&&(Kr(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(t!=null&&t.wrapRef)){let r=!0;const i=this.scrollY.value;return r=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,t="height"){if(!nr)return;const r=this.table.vnode.el;if(e=PEe(e),this.height.value=Number(e),!r&&(e||e===0))return Yt(()=>this.setHeight(e,t));en(e)?(r.style[t]=`${e}px`,this.updateElsHeight()):qt(e)&&(r.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!=="DIV";){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!nr)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),a=i.filter(l=>!en(l.width));if(i.forEach(l=>{en(l.width)&&l.realWidth&&(l.realWidth=null)}),a.length>0&&e){if(i.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=t){this.scrollX.value=!1;const l=t-r;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+l;else{const c=a.reduce((f,h)=>f+Number(h.minWidth||80),0),u=l/c;let d=0;a.forEach((f,h)=>{if(h===0)return;const p=Math.floor(Number(f.minWidth||80)*u);d+=p,f.realWidth=Number(f.minWidth||80)+p}),a[0].realWidth=Number(a[0].minWidth||80)+l-d}}else this.scrollX.value=!0,a.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>t,this.bodyWidth.value=r;const s=this.store.states.fixedColumns.value;if(s.length>0){let l=0;s.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const o=this.store.states.rightFixedColumns.value;if(o.length>0){let l=0;o.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(r=>{var i,a;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(a=r.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:GEe}=Dl,WEe=Ie({name:"ElTableFilterPanel",components:{ElCheckbox:Dl,ElCheckboxGroup:GEe,ElScrollbar:du,ElTooltip:ns,ElIcon:Vt,ArrowDown:wd,ArrowUp:Uk},directives:{ClickOutside:ld},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(n){const e=Dn(),{t}=rr(),r=bt("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[n.column.id]||(i.filterPanels.value[n.column.id]=e);const a=ee(!1),s=ee(null),o=U(()=>n.column&&n.column.filters),l=U(()=>n.column.filterClassName?`${r.b()} ${n.column.filterClassName}`:r.b()),c=U({get:()=>{var x;return(((x=n.column)==null?void 0:x.filteredValue)||[])[0]},set:x=>{u.value&&(typeof x<"u"&&x!==null?u.value.splice(0,1,x):u.value.splice(0,1))}}),u=U({get(){return n.column?n.column.filteredValue||[]:[]},set(x){n.column&&n.upDataColumn("filteredValue",x)}}),d=U(()=>n.column?n.column.filterMultiple:!0),f=x=>x.value===c.value,h=()=>{a.value=!1},p=x=>{x.stopPropagation(),a.value=!a.value},m=()=>{a.value=!1},v=()=>{b(u.value),h()},g=()=>{u.value=[],b(u.value),h()},y=x=>{c.value=x,b(typeof x<"u"&&x!==null?u.value:[]),h()},b=x=>{n.store.commit("filterChange",{column:n.column,values:x}),n.store.updateAllSelected()};dt(a,x=>{n.column&&n.upDataColumn("filterOpened",x)},{immediate:!0});const _=U(()=>{var x,S;return(S=(x=s.value)==null?void 0:x.popperRef)==null?void 0:S.contentRef});return{tooltipVisible:a,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:o,handleConfirm:v,handleReset:g,handleSelect:y,isActive:f,t,ns:r,showFilterPanel:p,hideFilterPanel:m,popperPaneRef:_,tooltip:s}}});function qEe(n,e,t,r,i,a){const s=Et("el-checkbox"),o=Et("el-checkbox-group"),l=Et("el-scrollbar"),c=Et("arrow-up"),u=Et("arrow-down"),d=Et("el-icon"),f=Et("el-tooltip"),h=nT("click-outside");return V(),rt(f,{ref:"tooltip",visible:n.tooltipVisible,offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":n.filterClassName,persistent:"","append-to":n.appendTo},{content:be(()=>[n.multiple?(V(),ue("div",{key:0},[me("div",{class:j(n.ns.e("content"))},[se(l,{"wrap-class":n.ns.e("wrap")},{default:be(()=>[se(o,{modelValue:n.filteredValue,"onUpdate:modelValue":p=>n.filteredValue=p,class:j(n.ns.e("checkbox-group"))},{default:be(()=>[(V(!0),ue(zt,null,In(n.filters,p=>(V(),rt(s,{key:p.value,value:p.value},{default:be(()=>[dn(Ct(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),me("div",{class:j(n.ns.e("bottom"))},[me("button",{class:j({[n.ns.is("disabled")]:n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:n.handleConfirm},Ct(n.t("el.table.confirmFilter")),11,["disabled","onClick"]),me("button",{type:"button",onClick:n.handleReset},Ct(n.t("el.table.resetFilter")),9,["onClick"])],2)])):(V(),ue("ul",{key:1,class:j(n.ns.e("list"))},[me("li",{class:j([n.ns.e("list-item"),{[n.ns.is("active")]:n.filterValue===void 0||n.filterValue===null}]),onClick:p=>n.handleSelect(null)},Ct(n.t("el.table.clearFilter")),11,["onClick"]),(V(!0),ue(zt,null,In(n.filters,p=>(V(),ue("li",{key:p.value,class:j([n.ns.e("list-item"),n.ns.is("active",n.isActive(p))]),label:p.value,onClick:m=>n.handleSelect(p.value)},Ct(p.text),11,["label","onClick"]))),128))],2))]),default:be(()=>[Sn((V(),ue("span",{class:j([`${n.ns.namespace.value}-table__column-filter-trigger`,`${n.ns.namespace.value}-none-outline`]),onClick:n.showFilterPanel},[se(d,null,{default:be(()=>[Ze(n.$slots,"filter-icon",{},()=>[n.column.filterOpened?(V(),rt(c,{key:0})):(V(),rt(u,{key:1}))])]),_:3})],10,["onClick"])),[[h,n.hideFilterPanel,n.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var KEe=Pt(WEe,[["render",qEe],["__file","filter-panel.vue"]]);function Wj(n){const e=Dn();tT(()=>{t.value.addObserver(e)}),pn(()=>{r(t.value),i(t.value)}),Nl(()=>{r(t.value),i(t.value)}),fh(()=>{t.value.removeObserver(e)});const t=U(()=>{const a=n.layout;if(!a)throw new Error("Can not find table layout.");return a}),r=a=>{var s;const o=((s=n.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const l=a.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=o.length;u<d;u++){const f=o[u],h=f.getAttribute("name"),p=c[h];p&&f.setAttribute("width",p.realWidth||p.width)}},i=a=>{var s,o;const l=((s=n.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const c=((o=n.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",f.style.display=a.scrollY.value?"":"none"}};return{tableLayout:t.value,onColumnsChange:r,onScrollableChange:i}}const pu=Symbol("ElTable");function YEe(n,e){const t=Dn(),r=Ot(pu),i=m=>{m.stopPropagation()},a=(m,v)=>{!v.filters&&v.sortable?p(m,v,!1):v.filterable&&!v.sortable&&i(m),r==null||r.emit("header-click",v,m)},s=(m,v)=>{r==null||r.emit("header-contextmenu",v,m)},o=ee(null),l=ee(!1),c=ee({}),u=(m,v)=>{if(nr&&!(v.children&&v.children.length>0)&&o.value&&n.border){l.value=!0;const g=r;e("set-drag-visible",!0);const b=(g==null?void 0:g.vnode.el).getBoundingClientRect().left,_=t.vnode.el.querySelector(`th.${v.id}`),x=_.getBoundingClientRect(),S=x.left-b+30;vl(_,"noclick"),c.value={startMouseLeft:m.clientX,startLeft:x.right-b,startColumnLeft:x.left-b,tableLeft:b};const T=g==null?void 0:g.refs.resizeProxy;T.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const C=A=>{const I=A.clientX-c.value.startMouseLeft,D=c.value.startLeft+I;T.style.left=`${Math.max(S,D)}px`},M=()=>{if(l.value){const{startColumnLeft:A,startLeft:I}=c.value,L=Number.parseInt(T.style.left,10)-A;v.width=v.realWidth=L,g==null||g.emit("header-dragend",v.width,I-A,v,m),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,o.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",M),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Cs(_,"noclick")},0)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",M)}},d=(m,v)=>{var g;if(v.children&&v.children.length>0)return;const y=m.target;if(!zo(y))return;const b=y==null?void 0:y.closest("th");if(!(!v||!v.resizable||!b)&&!l.value&&n.border){const _=b.getBoundingClientRect(),x=document.body.style,S=((g=b.parentNode)==null?void 0:g.lastElementChild)===b;_.width>12&&_.right-m.pageX<8&&!S?(x.cursor="col-resize",lo(b,"is-sortable")&&(b.style.cursor="col-resize"),o.value=v):l.value||(x.cursor="",lo(b,"is-sortable")&&(b.style.cursor="pointer"),o.value=null)}},f=()=>{nr&&(document.body.style.cursor="")},h=({order:m,sortOrders:v})=>{if(m==="")return v[0];const g=v.indexOf(m||null);return v[g>v.length-2?0:g+1]},p=(m,v,g)=>{var y;m.stopPropagation();const b=v.order===g?null:g||h(v),_=(y=m.target)==null?void 0:y.closest("th");if(_&&lo(_,"noclick")){Cs(_,"noclick");return}if(!v.sortable)return;const x=m.currentTarget;if(["ascending","descending"].some(A=>lo(x,A)&&!v.sortOrders.includes(A)))return;const S=n.store.states;let T=S.sortProp.value,C;const M=S.sortingColumn.value;(M!==v||M===v&&M.order===null)&&(M&&(M.order=null),S.sortingColumn.value=v,T=v.property),b?C=v.order=b:C=v.order=null,S.sortProp.value=T,S.sortOrder.value=C,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:s,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:i}}function XEe(n){const e=Ot(pu),t=bt("table");return{getHeaderRowStyle:o=>{const l=e==null?void 0:e.props.headerRowStyle;return Zt(l)?l.call(null,{rowIndex:o}):l},getHeaderRowClass:o=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return qt(c)?l.push(c):Zt(c)&&l.push(c.call(null,{rowIndex:o})),l.join(" ")},getHeaderCellStyle:(o,l,c,u)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};Zt(f)&&(f=f.call(null,{rowIndex:o,columnIndex:l,row:c,column:u}));const h=NL(l,u.fixed,n.store,c);return lg(h,"left"),lg(h,"right"),Object.assign({},f,h)},getHeaderCellClass:(o,l,c,u)=>{const d=LL(t.b(),l,u.fixed,n.store,c),f=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||f.push("is-leaf"),u.sortable&&f.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return qt(h)?f.push(h):Zt(h)&&f.push(h.call(null,{rowIndex:o,columnIndex:l,row:c,column:u})),f.push(t.e("cell")),f.filter(p=>!!p).join(" ")}}}const qj=n=>{const e=[];return n.forEach(t=>{t.children?(e.push(t),e.push.apply(e,qj(t.children))):e.push(t)}),e},Kj=n=>{let e=1;const t=(a,s)=>{if(s&&(a.level=s.level+1,e<a.level&&(e=a.level)),a.children){let o=0;a.children.forEach(l=>{t(l,a),o+=l.colSpan}),a.colSpan=o}else a.colSpan=1};n.forEach(a=>{a.level=1,t(a,void 0)});const r=[];for(let a=0;a<e;a++)r.push([]);return qj(n).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(s=>s.isSubColumn=!0)):a.rowSpan=e-a.level+1,r[a.level-1].push(a)}),r};function jEe(n){const e=Ot(pu),t=U(()=>Kj(n.store.states.originColumns.value));return{isGroup:U(()=>{const a=t.value.length>1;return a&&e&&(e.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:t}}var ZEe=Ie({name:"ElTableHeader",components:{ElCheckbox:Dl},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(n,{emit:e}){const t=Dn(),r=Ot(pu),i=bt("table"),a=ee({}),{onColumnsChange:s,onScrollableChange:o}=Wj(r),l=(r==null?void 0:r.props.tableLayout)==="auto",c=mr(new Map),u=ee(),d=()=>{setTimeout(()=>{c.size>0&&(c.forEach((A,I)=>{const D=u.value.querySelector(`.${I.replace(/\s/g,".")}`);if(D){const L=D.getBoundingClientRect().width;A.width=L}}),c.clear())})};dt(c,d),pn(async()=>{await Yt(),await Yt();const{prop:A,order:I}=n.defaultSort;r==null||r.store.commit("sort",{prop:A,order:I,init:!0}),d()});const{handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:m,handleMouseOut:v,handleSortClick:g,handleFilterClick:y}=YEe(n,e),{getHeaderRowStyle:b,getHeaderRowClass:_,getHeaderCellStyle:x,getHeaderCellClass:S}=XEe(n),{isGroup:T,toggleAllSelection:C,columnRows:M}=jEe(n);return t.state={onColumnsChange:s,onScrollableChange:o},t.filterPanels=a,{ns:i,filterPanels:a,onColumnsChange:s,onScrollableChange:o,columnRows:M,getHeaderRowClass:_,getHeaderRowStyle:b,getHeaderCellClass:S,getHeaderCellStyle:x,handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:m,handleMouseOut:v,handleSortClick:g,handleFilterClick:y,isGroup:T,toggleAllSelection:C,saveIndexSelection:c,isTableLayoutAuto:l,theadRef:u,updateFixedColumnStyle:d}},render(){const{ns:n,isGroup:e,columnRows:t,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:a,getHeaderRowStyle:s,handleHeaderClick:o,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:f,store:h,$parent:p,saveIndexSelection:m,isTableLayoutAuto:v}=this;let g=1;return Gt("thead",{ref:"theadRef",class:{[n.is("group")]:e}},t.map((y,b)=>Gt("tr",{class:a(b),key:b,style:s(b)},y.map((_,x)=>{_.rowSpan>g&&(g=_.rowSpan);const S=i(b,x,y,_);return v&&_.fixed&&m.set(S,_),Gt("th",{class:S,colspan:_.colSpan,key:`${_.id}-thead`,rowspan:_.rowSpan,style:r(b,x,y,_),onClick:T=>{T.currentTarget.classList.contains("noclick")||o(T,_)},onContextmenu:T=>l(T,_),onMousedown:T=>c(T,_),onMousemove:T=>u(T,_),onMouseout:f},[Gt("div",{class:["cell",_.filteredValue&&_.filteredValue.length>0?"highlight":""]},[_.renderHeader?_.renderHeader({column:_,$index:x,store:h,_self:p}):_.label,_.sortable&&Gt("span",{onClick:T=>d(T,_),class:"caret-wrapper"},[Gt("i",{onClick:T=>d(T,_,"ascending"),class:"sort-caret ascending"}),Gt("i",{onClick:T=>d(T,_,"descending"),class:"sort-caret descending"})]),_.filterable&&Gt(KEe,{store:h,placement:_.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:_,upDataColumn:(T,C)=>{_[T]=C}},{"filter-icon":()=>_.renderFilterIcon?_.renderFilterIcon({filterOpened:_.filterOpened}):null})])])}))))}});function L3(n,e,t=.03){return n-e>t}function QEe(n){const e=Ot(pu),t=ee(""),r=ee(Gt("div")),i=(p,m,v)=>{var g;const y=e,b=k3(p);let _;const x=(g=y==null?void 0:y.vnode.el)==null?void 0:g.dataset.prefix;b&&(_=BF({columns:n.store.states.columns.value},b,x),_&&(y==null||y.emit(`cell-${v}`,m,_,b,p))),y==null||y.emit(`row-${v}`,m,_,p)},a=(p,m)=>{i(p,m,"dblclick")},s=(p,m)=>{n.store.commit("setCurrentRow",m),i(p,m,"click")},o=(p,m)=>{i(p,m,"contextmenu")},l=go(p=>{n.store.commit("setHoverRow",p)},30),c=go(()=>{n.store.commit("setHoverRow",null)},30),u=p=>{const m=window.getComputedStyle(p,null),v=Number.parseInt(m.paddingLeft,10)||0,g=Number.parseInt(m.paddingRight,10)||0,y=Number.parseInt(m.paddingTop,10)||0,b=Number.parseInt(m.paddingBottom,10)||0;return{left:v,right:g,top:y,bottom:b}},d=(p,m,v)=>{let g=m.target.parentNode;for(;p>1&&(g=g==null?void 0:g.nextSibling,!(!g||g.nodeName!=="TR"));)v(g,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:a,handleClick:s,handleContextMenu:o,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(p,m,v)=>{var g;const y=e,b=k3(p),_=(g=y==null?void 0:y.vnode.el)==null?void 0:g.dataset.prefix;if(b){const H=BF({columns:n.store.states.columns.value},b,_);b.rowSpan>1&&d(b.rowSpan,p,vl);const z=y.hoverState={cell:b,column:H,row:m};y==null||y.emit("cell-mouse-enter",z.row,z.column,z.cell,p)}if(!v)return;const x=p.target.querySelector(".cell");if(!(lo(x,`${_}-tooltip`)&&x.childNodes.length))return;const S=document.createRange();S.setStart(x,0),S.setEnd(x,x.childNodes.length);const{width:T,height:C}=S.getBoundingClientRect(),{width:M,height:A}=x.getBoundingClientRect(),{top:I,left:D,right:L,bottom:F}=u(x),B=D+L,k=I+F;(L3(T+B,M)||L3(C+k,A)||L3(x.scrollWidth,M))&&LEe(v,b.innerText||b.textContent,b,y)},handleCellMouseLeave:p=>{const m=k3(p);if(!m)return;m.rowSpan>1&&d(m.rowSpan,p,Cs);const v=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",v==null?void 0:v.row,v==null?void 0:v.column,v==null?void 0:v.cell,p)},tooltipContent:t,tooltipTrigger:r}}function JEe(n){const e=Ot(pu),t=bt("table");return{getRowStyle:(c,u)=>{const d=e==null?void 0:e.props.rowStyle;return Zt(d)?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[t.e("row")];e!=null&&e.props.highlightCurrentRow&&c===n.store.states.currentRow.value&&d.push("current-row"),n.stripe&&u%2===1&&d.push(t.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return qt(f)?d.push(f):Zt(f)&&d.push(f.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,f)=>{const h=e==null?void 0:e.props.cellStyle;let p=h??{};Zt(h)&&(p=h.call(null,{rowIndex:c,columnIndex:u,row:d,column:f}));const m=NL(u,n==null?void 0:n.fixed,n.store);return lg(m,"left"),lg(m,"right"),Object.assign({},p,m)},getCellClass:(c,u,d,f,h)=>{const p=LL(t.b(),u,n==null?void 0:n.fixed,n.store,void 0,h),m=[f.id,f.align,f.className,...p],v=e==null?void 0:e.props.cellClassName;return qt(v)?m.push(v):Zt(v)&&m.push(v.call(null,{rowIndex:c,columnIndex:u,row:d,column:f})),m.push(t.e("cell")),m.filter(g=>!!g).join(" ")},getSpan:(c,u,d,f)=>{let h=1,p=1;const m=e==null?void 0:e.props.spanMethod;if(Zt(m)){const v=m({row:c,column:u,rowIndex:d,columnIndex:f});Tt(v)?(h=v[0],p=v[1]):typeof v=="object"&&(h=v.rowspan,p=v.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const f=c.map(({realWidth:h,width:p})=>h||p).slice(d,d+u);return Number(f.reduce((h,p)=>Number(h)+Number(p),-1))}}}const e4e=Ie({name:"TableTdWrapper"}),t4e=Ie({...e4e,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(n){return(e,t)=>(V(),ue("td",{colspan:n.colspan,rowspan:n.rowspan},[Ze(e.$slots,"default")],8,["colspan","rowspan"]))}});var n4e=Pt(t4e,[["__file","td-wrapper.vue"]]);function r4e(n){const e=Ot(pu),t=bt("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:a,handleMouseEnter:s,handleMouseLeave:o,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=QEe(n),{getRowStyle:f,getRowClass:h,getCellStyle:p,getCellClass:m,getSpan:v,getColspanRealWidth:g}=JEe(n),y=U(()=>n.store.states.columns.value.findIndex(({type:T})=>T==="default")),b=(T,C)=>{const M=e.props.rowKey;return M?_s(T,M):C},_=(T,C,M,A=!1)=>{const{tooltipEffect:I,tooltipOptions:D,store:L}=n,{indent:F,columns:B}=L.states,k=h(T,C);let H=!0;return M&&(k.push(t.em("row",`level-${M.level}`)),H=M.display),Gt("tr",{style:[H?null:{display:"none"},f(T,C)],class:k,key:b(T,C),onDblclick:O=>r(O,T),onClick:O=>i(O,T),onContextmenu:O=>a(O,T),onMouseenter:()=>s(C),onMouseleave:o},B.value.map((O,G)=>{const{rowspan:X,colspan:J}=v(T,O,C,G);if(!X||!J)return null;const Q=Object.assign({},O);Q.realWidth=g(B.value,J,G);const re={store:n.store,_self:n.context||e,column:Q,row:T,$index:C,cellIndex:G,expanded:A};G===y.value&&M&&(re.treeNode={indent:M.level*F.value,level:M.level},Vr(M.expanded)&&(re.treeNode.expanded=M.expanded,"loading"in M&&(re.treeNode.loading=M.loading),"noLazyChildren"in M&&(re.treeNode.noLazyChildren=M.noLazyChildren)));const de=`${b(T,C)},${G}`,le=Q.columnKey||Q.rawColumnKey||"",fe=O.showOverflowTooltip&&qK({effect:I},D,O.showOverflowTooltip);return Gt(n4e,{style:p(C,G,T,O),class:m(C,G,T,O,J-1),key:`${le}${de}`,rowspan:X,colspan:J,onMouseenter:Ee=>l(Ee,T,fe),onMouseleave:c},{default:()=>x(G,O,re)})}))},x=(T,C,M)=>C.renderCell(M);return{wrappedRowRender:(T,C)=>{const M=n.store,{isRowExpanded:A,assertRowKey:I}=M,{treeData:D,lazyTreeNodeMap:L,childrenColumnName:F,rowKey:B}=M.states,k=M.states.columns.value;if(k.some(({type:z})=>z==="expand")){const z=A(T),O=_(T,C,void 0,z),G=e.renderExpanded;return z?G?[[O,Gt("tr",{key:`expanded-row__${O.key}`},[Gt("td",{colspan:k.length,class:`${t.e("cell")} ${t.e("expanded-cell")}`},[G({row:T,$index:C,store:M,expanded:z})])])]]:(console.error("[Element Error]renderExpanded is required."),O):[[O]]}else if(Object.keys(D.value).length){I();const z=_s(T,B.value);let O=D.value[z],G=null;O&&(G={expanded:O.expanded,level:O.level,display:!0},Vr(O.lazy)&&(Vr(O.loaded)&&O.loaded&&(G.noLazyChildren=!(O.children&&O.children.length)),G.loading=O.loading));const X=[_(T,C,G)];if(O){let J=0;const Q=(de,le)=>{de&&de.length&&le&&de.forEach(fe=>{const Ee={display:le.display&&le.expanded,level:le.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Re=_s(fe,B.value);if(Re==null)throw new Error("For nested data item, row-key is required.");if(O={...D.value[Re]},O&&(Ee.expanded=O.expanded,O.level=O.level||Ee.level,O.display=!!(O.expanded&&Ee.display),Vr(O.lazy)&&(Vr(O.loaded)&&O.loaded&&(Ee.noLazyChildren=!(O.children&&O.children.length)),Ee.loading=O.loading)),J++,X.push(_(fe,C+J,Ee)),O){const He=L.value[Re]||fe[F.value];Q(He,O)}})};O.display=!0;const re=L.value[z]||T[F.value];Q(re,O)}return X}else return _(T,C,void 0)},tooltipContent:u,tooltipTrigger:d}}const i4e={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var a4e=Ie({name:"ElTableBody",props:i4e,setup(n){const e=Dn(),t=Ot(pu),r=bt("table"),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}=r4e(n),{onColumnsChange:o,onScrollableChange:l}=Wj(t),c=[];return dt(n.store.states.hoverRow,(u,d)=>{var f;const h=e==null?void 0:e.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(g=>g==null?void 0:g.classList.contains(`${r.e("row")}`));let m=u;const v=(f=p[m])==null?void 0:f.childNodes;if(v!=null&&v.length){let g=0;Array.from(v).reduce((b,_,x)=>{var S,T;return((S=v[x])==null?void 0:S.colSpan)>1&&(g=(T=v[x])==null?void 0:T.colSpan),_.nodeName!=="TD"&&g===0&&b.push(x),g>0&&g--,b},[]).forEach(b=>{var _;for(m=u;m>0;){const x=(_=p[m-1])==null?void 0:_.childNodes;if(x[b]&&x[b].nodeName==="TD"&&x[b].rowSpan>1){vl(x[b],"hover-cell"),c.push(x[b]);break}m--}})}else c.forEach(g=>Cs(g,"hover-cell")),c.length=0;!n.store.states.isComplex.value||!nr||qf(()=>{const g=p[d],y=p[u];g&&!g.classList.contains("hover-fixed-row")&&Cs(g,"hover-row"),y&&vl(y,"hover-row")})}),fh(()=>{var u;(u=nl)==null||u()}),{ns:r,onColumnsChange:o,onScrollableChange:l,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}},render(){const{wrappedRowRender:n,store:e}=this,t=e.states.data.value||[];return Gt("tbody",{tabIndex:-1},[t.reduce((r,i)=>r.concat(n(i,r.length)),[])])}});function s4e(){const n=Ot(pu),e=n==null?void 0:n.store,t=U(()=>e.states.fixedLeafColumnsLength.value),r=U(()=>e.states.rightFixedColumns.value.length),i=U(()=>e.states.columns.value.length),a=U(()=>e.states.fixedColumns.value.length),s=U(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:t,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:a,rightFixedCount:s,columns:e.states.columns}}function o4e(n){const{columns:e}=s4e(),t=bt("table");return{getCellClasses:(a,s)=>{const o=a[s],l=[t.e("cell"),o.id,o.align,o.labelClassName,...LL(t.b(),s,o.fixed,n.store)];return o.className&&l.push(o.className),o.children||l.push(t.is("leaf")),l},getCellStyles:(a,s)=>{const o=NL(s,a.fixed,n.store);return lg(o,"left"),lg(o,"right"),o},columns:e}}var l4e=Ie({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{getCellClasses:e,getCellStyles:t,columns:r}=o4e(n);return{ns:bt("table"),getCellClasses:e,getCellStyles:t,columns:r}},render(){const{columns:n,getCellStyles:e,getCellClasses:t,summaryMethod:r,sumText:i}=this,a=this.store.states.data.value;let s=[];return r?s=r({columns:n,data:a}):n.forEach((o,l)=>{if(l===0){s[l]=i;return}const c=a.map(h=>Number(h[o.property])),u=[];let d=!0;c.forEach(h=>{if(!Number.isNaN(+h)){d=!1;const p=`${h}`.split(".")[1];u.push(p?p.length:0)}});const f=Math.max.apply(null,u);d?s[l]="":s[l]=c.reduce((h,p)=>{const m=Number(p);return Number.isNaN(+m)?h:Number.parseFloat((h+p).toFixed(Math.min(f,20)))},0)}),Gt(Gt("tfoot",[Gt("tr",{},[...n.map((o,l)=>Gt("td",{key:l,colspan:o.colSpan,rowspan:o.rowSpan,class:t(n,l),style:e(o,l)},[Gt("div",{class:["cell",o.labelClassName]},[s[l]])]))])]))}});function c4e(n){return{setCurrentRow:d=>{n.commit("setCurrentRow",d)},getSelectionRows:()=>n.getSelectionRows(),toggleRowSelection:(d,f,h=!0)=>{n.toggleRowSelection(d,f,!1,h),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:d=>{n.clearFilter(d)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(d,f)=>{n.toggleRowExpansionAdapter(d,f)},clearSort:()=>{n.clearSort()},sort:(d,f)=>{n.commit("sort",{prop:d,order:f})},updateKeyChildren:(d,f)=>{n.updateKeyChildren(d,f)}}}function u4e(n,e,t,r){const i=ee(!1),a=ee(null),s=ee(!1),o=z=>{s.value=z},l=ee({width:null,height:null,headerHeight:null}),c=ee(!1),u={display:"inline-block",verticalAlign:"middle"},d=ee(),f=ee(0),h=ee(0),p=ee(0),m=ee(0),v=ee(0);Ta(()=>{e.setHeight(n.height)}),Ta(()=>{e.setMaxHeight(n.maxHeight)}),dt(()=>[n.currentRowKey,t.states.rowKey],([z,O])=>{!w(O)||!w(z)||t.setCurrentRowKey(`${z}`)},{immediate:!0}),dt(()=>n.data,z=>{r.store.commit("setData",z)},{immediate:!0,deep:!0}),Ta(()=>{n.expandRowKeys&&t.setExpandRowKeysAdapter(n.expandRowKeys)});const g=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(z,O)=>{const{pixelX:G,pixelY:X}=O;Math.abs(G)>=Math.abs(X)&&(r.refs.bodyWrapper.scrollLeft+=O.pixelX/5)},b=U(()=>n.height||n.maxHeight||t.states.fixedColumns.value.length>0||t.states.rightFixedColumns.value.length>0),_=U(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),x=()=>{b.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(M)};pn(async()=>{await Yt(),t.updateColumns(),A(),requestAnimationFrame(x);const z=r.vnode.el,O=r.refs.headerWrapper;n.flexible&&z&&z.parentElement&&(z.parentElement.style.minWidth="0"),l.value={width:d.value=z.offsetWidth,height:z.offsetHeight,headerHeight:n.showHeader&&O?O.offsetHeight:null},t.states.columns.value.forEach(G=>{G.filteredValue&&G.filteredValue.length&&r.store.commit("filterChange",{column:G,values:G.filteredValue,silent:!0})}),r.$ready=!0});const S=(z,O)=>{if(!z)return;const G=Array.from(z.classList).filter(X=>!X.startsWith("is-scrolling-"));G.push(e.scrollX.value?O:"is-scrolling-none"),z.className=G.join(" ")},T=z=>{const{tableWrapper:O}=r.refs;S(O,z)},C=z=>{const{tableWrapper:O}=r.refs;return!!(O&&O.classList.contains(z))},M=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const de="is-scrolling-none";C(de)||T(de);return}const z=r.refs.scrollBarRef.wrapRef;if(!z)return;const{scrollLeft:O,offsetWidth:G,scrollWidth:X}=z,{headerWrapper:J,footerWrapper:Q}=r.refs;J&&(J.scrollLeft=O),Q&&(Q.scrollLeft=O);const re=X-G-1;O>=re?T("is-scrolling-right"):T(O===0?"is-scrolling-left":"is-scrolling-middle")},A=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Tr(r.refs.scrollBarRef.wrapRef,"scroll",M,{passive:!0}),n.fit?ui(r.vnode.el,I):Tr(window,"resize",I),ui(r.refs.bodyWrapper,()=>{var z,O;I(),(O=(z=r.refs)==null?void 0:z.scrollBarRef)==null||O.update()}))},I=()=>{var z,O,G,X;const J=r.vnode.el;if(!r.$ready||!J)return;let Q=!1;const{width:re,height:de,headerHeight:le}=l.value,fe=d.value=J.offsetWidth;re!==fe&&(Q=!0);const Ee=J.offsetHeight;(n.height||b.value)&&de!==Ee&&(Q=!0);const Re=n.tableLayout==="fixed"?r.refs.headerWrapper:(z=r.refs.tableHeaderRef)==null?void 0:z.$el;n.showHeader&&(Re==null?void 0:Re.offsetHeight)!==le&&(Q=!0),f.value=((O=r.refs.tableWrapper)==null?void 0:O.scrollHeight)||0,p.value=(Re==null?void 0:Re.scrollHeight)||0,m.value=((G=r.refs.footerWrapper)==null?void 0:G.offsetHeight)||0,v.value=((X=r.refs.appendWrapper)==null?void 0:X.offsetHeight)||0,h.value=f.value-p.value-m.value-v.value,Q&&(l.value={width:fe,height:Ee,headerHeight:n.showHeader&&(Re==null?void 0:Re.offsetHeight)||0},x())},D=Xi(),L=U(()=>{const{bodyWidth:z,scrollY:O,gutterWidth:G}=e;return z.value?`${z.value-(O.value?G:0)}px`:""}),F=U(()=>n.maxHeight?"fixed":n.tableLayout),B=U(()=>{if(n.data&&n.data.length)return null;let z="100%";n.height&&h.value&&(z=`${h.value}px`);const O=d.value;return{width:O?`${O}px`:"",height:z}}),k=U(()=>n.height?{height:"100%"}:n.maxHeight?Number.isNaN(Number(n.maxHeight))?{maxHeight:`calc(${n.maxHeight} - ${p.value+m.value}px)`}:{maxHeight:`${n.maxHeight-p.value-m.value}px`}:{});return{isHidden:i,renderExpanded:a,setDragVisible:o,isGroup:c,handleMouseLeave:g,handleHeaderFooterMousewheel:y,tableSize:D,emptyBlockStyle:B,handleFixedMousewheel:(z,O)=>{const G=r.refs.bodyWrapper;if(Math.abs(O.spinY)>0){const X=G.scrollTop;O.pixelY<0&&X!==0&&z.preventDefault(),O.pixelY>0&&G.scrollHeight-G.clientHeight>X&&z.preventDefault(),G.scrollTop+=Math.ceil(O.pixelY/5)}else G.scrollLeft+=Math.ceil(O.pixelX/5)},resizeProxyVisible:s,bodyWidth:L,resizeState:l,doLayout:x,tableBodyStyles:_,tableLayout:F,scrollbarViewStyle:u,scrollbarStyle:k}}function d4e(n){const e=ee(),t=()=>{const i=n.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},s=n.store.states.updateOrderFns;e.value=new MutationObserver(()=>{s.forEach(o=>o())}),e.value.observe(i,a)};pn(()=>{t()}),fh(()=>{var r;(r=e.value)==null||r.disconnect()})}var f4e={data:{type:Array,default:()=>[]},size:Ji,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function Yj(n){const e=n.tableLayout==="auto";let t=n.columns||[];e&&t.every(i=>i.width===void 0)&&(t=[]);const r=i=>{const a={key:`${n.tableLayout}_${i.id}`,style:{},name:void 0};return e?a.style={width:`${i.width}px`}:a.name=i.id,a};return Gt("colgroup",{},t.map(i=>Gt("col",r(i))))}Yj.props=["columns","tableLayout"];const h4e=()=>{const n=ee(),e=(a,s)=>{const o=n.value;o&&o.scrollTo(a,s)},t=(a,s)=>{const o=n.value;o&&en(s)&&["Top","Left"].includes(a)&&o[`setScroll${a}`](s)};return{scrollBarRef:n,scrollTo:e,setScrollTop:a=>t("Top",a),setScrollLeft:a=>t("Left",a)}};var HF=!1,hp,K5,Y5,b2,_2,Xj,w2,X5,j5,Z5,jj,Q5,J5,Zj,Qj;function Js(){if(!HF){HF=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(Q5=/\b(iPhone|iP[ao]d)/.exec(n),J5=/\b(iP[ao]d)/.exec(n),Z5=/Android/i.exec(n),Zj=/FBAN\/\w+;/i.exec(n),Qj=/Mobile/i.exec(n),jj=!!/Win64/.exec(n),e){hp=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,hp&&document&&document.documentMode&&(hp=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(n);Xj=r?parseFloat(r[1])+4:hp,K5=e[2]?parseFloat(e[2]):NaN,Y5=e[3]?parseFloat(e[3]):NaN,b2=e[4]?parseFloat(e[4]):NaN,b2?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),_2=e&&e[1]?parseFloat(e[1]):NaN):_2=NaN}else hp=K5=Y5=_2=b2=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);w2=i?parseFloat(i[1].replace("_",".")):!0}else w2=!1;X5=!!t[2],j5=!!t[3]}else w2=X5=j5=!1}}var eR={ie:function(){return Js()||hp},ieCompatibilityMode:function(){return Js()||Xj>hp},ie64:function(){return eR.ie()&&jj},firefox:function(){return Js()||K5},opera:function(){return Js()||Y5},webkit:function(){return Js()||b2},safari:function(){return eR.webkit()},chrome:function(){return Js()||_2},windows:function(){return Js()||X5},osx:function(){return Js()||w2},linux:function(){return Js()||j5},iphone:function(){return Js()||Q5},mobile:function(){return Js()||Q5||J5||Z5||Qj},nativeApp:function(){return Js()||Zj},android:function(){return Js()||Z5},ipad:function(){return Js()||J5}},p4e=eR,Zw=!!(typeof window<"u"&&window.document&&window.document.createElement),m4e={canUseDOM:Zw,canUseWorkers:typeof Worker<"u",canUseEventListeners:Zw&&!!(window.addEventListener||window.attachEvent),canUseViewport:Zw&&!!window.screen,isInWorker:!Zw},Jj=m4e,eZ;Jj.canUseDOM&&(eZ=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function v4e(n,e){if(!Jj.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&eZ&&n==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var g4e=v4e,VF=10,$F=40,GF=800;function tZ(n){var e=0,t=0,r=0,i=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),r=e*VF,i=t*VF,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(r=n.deltaX),(r||i)&&n.deltaMode&&(n.deltaMode==1?(r*=$F,i*=$F):(r*=GF,i*=GF)),r&&!e&&(e=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:e,spinY:t,pixelX:r,pixelY:i}}tZ.getEventType=function(){return p4e.firefox()?"DOMMouseScroll":g4e("wheel")?"wheel":"mousewheel"};var y4e=tZ;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const b4e=function(n,e){if(n&&n.addEventListener){const t=function(r){const i=y4e(r);e&&Reflect.apply(e,this,[r,i])};n.addEventListener("wheel",t,{passive:!0})}},_4e={beforeMount(n,e){b4e(n,e.value)}};let w4e=1;const x4e=Ie({name:"ElTable",directives:{Mousewheel:_4e},components:{TableHeader:ZEe,TableBody:a4e,TableFooter:l4e,ElScrollbar:du,hColgroup:Yj},props:f4e,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(n){const{t:e}=rr(),t=bt("table"),r=Dn();$n(pu,r);const i=HEe(r,n);r.store=i;const a=new $Ee({store:r.store,table:r,fit:n.fit,showHeader:n.showHeader});r.layout=a;const s=U(()=>(i.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,sort:m,updateKeyChildren:v}=c4e(i),{isHidden:g,renderExpanded:y,setDragVisible:b,isGroup:_,handleMouseLeave:x,handleHeaderFooterMousewheel:S,tableSize:T,emptyBlockStyle:C,handleFixedMousewheel:M,resizeProxyVisible:A,bodyWidth:I,resizeState:D,doLayout:L,tableBodyStyles:F,tableLayout:B,scrollbarViewStyle:k,scrollbarStyle:H}=u4e(n,a,i,r),{scrollBarRef:z,scrollTo:O,setScrollLeft:G,setScrollTop:X}=h4e(),J=go(L,50),Q=`${t.namespace.value}-table_${w4e++}`;r.tableId=Q,r.state={isGroup:_,resizeState:D,doLayout:L,debouncedUpdateLayout:J};const re=U(()=>{var fe;return(fe=n.sumText)!=null?fe:e("el.table.sumText")}),de=U(()=>{var fe;return(fe=n.emptyText)!=null?fe:e("el.table.emptyText")}),le=U(()=>Kj(i.states.originColumns.value)[0]);return d4e(r),yr(()=>{J.cancel()}),{ns:t,layout:a,store:i,columns:le,handleHeaderFooterMousewheel:S,handleMouseLeave:x,tableId:Q,tableSize:T,isHidden:g,isEmpty:s,renderExpanded:y,resizeProxyVisible:A,resizeState:D,isGroup:_,bodyWidth:I,tableBodyStyles:F,emptyBlockStyle:C,debouncedUpdateLayout:J,handleFixedMousewheel:M,setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,doLayout:L,sort:m,updateKeyChildren:v,t:e,setDragVisible:b,context:r,computedSumText:re,computedEmptyText:de,tableLayout:B,scrollbarViewStyle:k,scrollbarStyle:H,scrollBarRef:z,scrollTo:O,setScrollLeft:G,setScrollTop:X}}});function S4e(n,e,t,r,i,a){const s=Et("hColgroup"),o=Et("table-header"),l=Et("table-body"),c=Et("table-footer"),u=Et("el-scrollbar"),d=nT("mousewheel");return V(),ue("div",{ref:"tableWrapper",class:j([{[n.ns.m("fit")]:n.fit,[n.ns.m("striped")]:n.stripe,[n.ns.m("border")]:n.border||n.isGroup,[n.ns.m("hidden")]:n.isHidden,[n.ns.m("group")]:n.isGroup,[n.ns.m("fluid-height")]:n.maxHeight,[n.ns.m("scrollable-x")]:n.layout.scrollX.value,[n.ns.m("scrollable-y")]:n.layout.scrollY.value,[n.ns.m("enable-row-hover")]:!n.store.states.isComplex.value,[n.ns.m("enable-row-transition")]:(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100,"has-footer":n.showSummary},n.ns.m(n.tableSize),n.className,n.ns.b(),n.ns.m(`layout-${n.tableLayout}`)]),style:Bt(n.style),"data-prefix":n.ns.namespace.value,onMouseleave:n.handleMouseLeave},[me("div",{class:j(n.ns.e("inner-wrapper"))},[me("div",{ref:"hiddenColumns",class:"hidden-columns"},[Ze(n.$slots,"default")],512),n.showHeader&&n.tableLayout==="fixed"?Sn((V(),ue("div",{key:0,ref:"headerWrapper",class:j(n.ns.e("header-wrapper"))},[me("table",{ref:"tableHeader",class:j(n.ns.e("header")),style:Bt(n.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[se(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),se(o,{ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,"append-filter-panel-to":n.appendFilterPanelTo,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[d,n.handleHeaderFooterMousewheel]]):Qe("v-if",!0),me("div",{ref:"bodyWrapper",class:j(n.ns.e("body-wrapper"))},[se(u,{ref:"scrollBarRef","view-style":n.scrollbarViewStyle,"wrap-style":n.scrollbarStyle,always:n.scrollbarAlwaysOn,tabindex:n.scrollbarTabindex,onScroll:f=>n.$emit("scroll",f)},{default:be(()=>[me("table",{ref:"tableBody",class:j(n.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Bt({width:n.bodyWidth,tableLayout:n.tableLayout})},[se(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),n.showHeader&&n.tableLayout==="auto"?(V(),rt(o,{key:0,ref:"tableHeaderRef",class:j(n.ns.e("body-header")),border:n.border,"default-sort":n.defaultSort,store:n.store,"append-filter-panel-to":n.appendFilterPanelTo,onSetDragVisible:n.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Qe("v-if",!0),se(l,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"tooltip-options":n.tooltipOptions,"row-style":n.rowStyle,store:n.store,stripe:n.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),n.showSummary&&n.tableLayout==="auto"?(V(),rt(c,{key:1,class:j(n.ns.e("body-footer")),border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Qe("v-if",!0)],6),n.isEmpty?(V(),ue("div",{key:0,ref:"emptyBlock",style:Bt(n.emptyBlockStyle),class:j(n.ns.e("empty-block"))},[me("span",{class:j(n.ns.e("empty-text"))},[Ze(n.$slots,"empty",{},()=>[dn(Ct(n.computedEmptyText),1)])],2)],6)):Qe("v-if",!0),n.$slots.append?(V(),ue("div",{key:1,ref:"appendWrapper",class:j(n.ns.e("append-wrapper"))},[Ze(n.$slots,"append")],2)):Qe("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),n.showSummary&&n.tableLayout==="fixed"?Sn((V(),ue("div",{key:1,ref:"footerWrapper",class:j(n.ns.e("footer-wrapper"))},[me("table",{class:j(n.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Bt(n.tableBodyStyles)},[se(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),se(c,{border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[fr,!n.isEmpty],[d,n.handleHeaderFooterMousewheel]]):Qe("v-if",!0),n.border||n.isGroup?(V(),ue("div",{key:2,class:j(n.ns.e("border-left-patch"))},null,2)):Qe("v-if",!0)],2),Sn(me("div",{ref:"resizeProxy",class:j(n.ns.e("column-resize-proxy"))},null,2),[[fr,n.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var C4e=Pt(x4e,[["render",S4e],["__file","table.vue"]]);const M4e={selection:"table-column--selection",expand:"table__expand-column"},T4e={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},A4e=n=>M4e[n]||"",E4e={selection:{renderHeader({store:n,column:e}){function t(){return n.states.data.value&&n.states.data.value.length===0}return Gt(Dl,{disabled:t(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:n,column:e,store:t,$index:r}){return Gt(Dl,{disabled:e.selectable?!e.selectable.call(null,n,r):!1,size:t.states.tableSize.value,onChange:()=>{t.commit("rowSelectedChanged",n)},onClick:i=>i.stopPropagation(),modelValue:t.isSelected(n),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:e}){let t=e+1;const r=n.index;return en(r)?t=e+r:Zt(r)&&(t=r(e)),Gt("div",{},[t])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:e,expanded:t}){const{ns:r}=e,i=[r.e("expand-icon")];return t&&i.push(r.em("expand-icon","expanded")),Gt("div",{class:i,onClick:function(s){s.stopPropagation(),e.toggleRowExpansion(n)}},{default:()=>[Gt(Vt,null,{default:()=>[Gt(Hs)]})]})},sortable:!1,resizable:!1}};function I4e({row:n,column:e,$index:t}){var r;const i=e.property,a=i&&d2(n,i).value;return e&&e.formatter?e.formatter(n,e,a,t):((r=a==null?void 0:a.toString)==null?void 0:r.call(a))||""}function R4e({row:n,treeNode:e,store:t},r=!1){const{ns:i}=t;if(!e)return r?[Gt("span",{class:i.e("placeholder")})]:null;const a=[],s=function(o){o.stopPropagation(),!e.loading&&t.loadOrToggle(n)};if(e.indent&&a.push(Gt("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),Vr(e.expanded)&&!e.noLazyChildren){const o=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=Hs;e.loading&&(l=tu),a.push(Gt("div",{class:o,onClick:s},{default:()=>[Gt(Vt,{class:{[i.is("loading")]:e.loading}},{default:()=>[Gt(l)]})]}))}else a.push(Gt("span",{class:i.e("placeholder")}));return a}function WF(n,e){return n.reduce((t,r)=>(t[r]=r,t),e)}function P4e(n,e){const t=Dn();return{registerComplexWatchers:()=>{const a=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},o=WF(a,s);Object.keys(o).forEach(l=>{const c=s[l];sr(e,c)&&dt(()=>e[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=kL(u)),c==="minWidth"&&l==="realMinWidth"&&(d=Uj(u)),t.columnConfig.value[c]=d,t.columnConfig.value[l]=d;const f=c==="fixed";n.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},o=WF(a,s);Object.keys(o).forEach(l=>{const c=s[l];sr(e,c)&&dt(()=>e[c],u=>{t.columnConfig.value[l]=u})})}}}function D4e(n,e,t){const r=Dn(),i=ee(""),a=ee(!1),s=ee(),o=ee(),l=bt("table");Ta(()=>{s.value=n.align?`is-${n.align}`:null,s.value}),Ta(()=>{o.value=n.headerAlign?`is-${n.headerAlign}`:s.value,o.value});const c=U(()=>{let _=r.vnode.vParent||r.parent;for(;_&&!_.tableId&&!_.columnId;)_=_.vnode.vParent||_.parent;return _}),u=U(()=>{const{store:_}=r.parent;if(!_)return!1;const{treeData:x}=_.states,S=x.value;return S&&Object.keys(S).length>0}),d=ee(kL(n.width)),f=ee(Uj(n.minWidth)),h=_=>(d.value&&(_.width=d.value),f.value&&(_.minWidth=f.value),!d.value&&f.value&&(_.width=void 0),_.minWidth||(_.minWidth=80),_.realWidth=Number(_.width===void 0?_.minWidth:_.width),_),p=_=>{const x=_.type,S=E4e[x]||{};Object.keys(S).forEach(C=>{const M=S[C];C!=="className"&&M!==void 0&&(_[C]=M)});const T=A4e(x);if(T){const C=`${w(l.namespace)}-${T}`;_.className=_.className?`${_.className} ${C}`:C}return _},m=_=>{Tt(_)?_.forEach(S=>x(S)):x(_);function x(S){var T;((T=S==null?void 0:S.type)==null?void 0:T.name)==="ElTableColumn"&&(S.vParent=r)}};return{columnId:i,realAlign:s,isSubColumn:a,realHeaderAlign:o,columnOrTableParent:c,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:_=>{n.renderHeader||_.type!=="selection"&&(_.renderHeader=S=>(r.columnConfig.value.label,Ze(e,"header",S,()=>[_.label]))),e["filter-icon"]&&(_.renderFilterIcon=S=>Ze(e,"filter-icon",S));let x=_.renderCell;return _.type==="expand"?(_.renderCell=S=>Gt("div",{class:"cell"},[x(S)]),t.value.renderExpanded=S=>e.default?e.default(S):e.default):(x=x||I4e,_.renderCell=S=>{let T=null;if(e.default){const L=e.default(S);T=L.some(F=>F.type!==Ss)?L:x(S)}else T=x(S);const{columns:C}=t.value.store.states,M=C.value.findIndex(L=>L.type==="default"),A=u.value&&S.cellIndex===M,I=R4e(S,A),D={class:"cell",style:{}};return _.showOverflowTooltip&&(D.class=`${D.class} ${w(l.namespace)}-tooltip`,D.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),m(T),Gt("div",D,[I,T])}),_},getPropsData:(..._)=>_.reduce((x,S)=>(Tt(S)&&S.forEach(T=>{x[T]=n[T]}),x),{}),getColumnElIndex:(_,x)=>Array.prototype.indexOf.call(_,x),updateColumnOrder:()=>{t.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var k4e={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(e=>["ascending","descending",null].includes(e))}};let L4e=1;var nZ=Ie({name:"ElTableColumn",components:{ElCheckbox:Dl},props:k4e,setup(n,{slots:e}){const t=Dn(),r=ee({}),i=U(()=>{let b=t.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:a,registerComplexWatchers:s}=P4e(i,n),{columnId:o,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:p,getColumnElIndex:m,realAlign:v,updateColumnOrder:g}=D4e(n,e,i),y=u.value;o.value=`${y.tableId||y.columnId}_column_${L4e++}`,tT(()=>{l.value=i.value!==y;const b=n.type||"default",_=n.sortable===""?!0:n.sortable,x=Mr(n.showOverflowTooltip)?y.props.showOverflowTooltip:n.showOverflowTooltip,S={...T4e[b],id:o.value,type:b,property:n.prop||n.property,align:v,headerAlign:c,showOverflowTooltip:x,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:_,index:n.index,rawColumnKey:t.vnode.key};let I=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);I=REe(S,I),I=DEe(h,d,f)(I),r.value=I,a(),s()}),pn(()=>{var b;const _=u.value,x=l.value?_.vnode.el.children:(b=_.refs.hiddenColumns)==null?void 0:b.children,S=()=>m(x||[],t.vnode.el);r.value.getColumnIndex=S,S()>-1&&i.value.store.commit("insertColumn",r.value,l.value?_.columnConfig.value:null,g)}),yr(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&i.value.store.commit("removeColumn",r.value,l.value?y.columnConfig.value:null,g)}),t.columnId=o.value,t.columnConfig=r},render(){var n,e,t;try{const r=(e=(n=this.$slots).default)==null?void 0:e.call(n,{row:{},column:{},$index:-1}),i=[];if(Tt(r))for(const s of r)((t=s.type)==null?void 0:t.name)==="ElTableColumn"||s.shapeFlag&2?i.push(s):s.type===zt&&Tt(s.children)&&s.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!qt(o==null?void 0:o.children)&&i.push(o)});return Gt("div",i)}catch{return Gt("div",[])}}});const N4e=gn(C4e,{TableColumn:nZ}),O4e=Si(nZ);var jb=(n=>(n.ASC="asc",n.DESC="desc",n))(jb||{}),Zb=(n=>(n.CENTER="center",n.RIGHT="right",n))(Zb||{}),rZ=(n=>(n.LEFT="left",n.RIGHT="right",n))(rZ||{});const tR={asc:"desc",desc:"asc"},Qb=Symbol("placeholder"),B4e=(n,e,t)=>{var r;const i={flexGrow:0,flexShrink:0,...t?{}:{flexGrow:n.flexGrow||0,flexShrink:n.flexShrink||1}};t||(i.flexShrink=1);const a={...(r=n.style)!=null?r:{},...i,flexBasis:"auto",width:n.width};return e||(n.maxWidth&&(a.maxWidth=n.maxWidth),n.minWidth&&(a.minWidth=n.minWidth)),a};function F4e(n,e,t){const r=U(()=>w(e).map((v,g)=>{var y,b;return{...v,key:(b=(y=v.key)!=null?y:v.dataKey)!=null?b:g}})),i=U(()=>w(r).filter(v=>!v.hidden)),a=U(()=>w(i).filter(v=>v.fixed==="left"||v.fixed===!0)),s=U(()=>w(i).filter(v=>v.fixed==="right")),o=U(()=>w(i).filter(v=>!v.fixed)),l=U(()=>{const v=[];return w(a).forEach(g=>{v.push({...g,placeholderSign:Qb})}),w(o).forEach(g=>{v.push(g)}),w(s).forEach(g=>{v.push({...g,placeholderSign:Qb})}),v}),c=U(()=>w(a).length||w(s).length),u=U(()=>w(r).reduce((v,g)=>(v[g.key]=B4e(g,w(t),n.fixed),v),{})),d=U(()=>w(i).reduce((v,g)=>v+g.width,0)),f=v=>w(r).find(g=>g.key===v),h=v=>w(u)[v],p=(v,g)=>{v.width=g};function m(v){var g;const{key:y}=v.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:_}=n;let x=jb.ASC;Pn(b)?x=tR[b[y]]:x=tR[_.order],(g=n.onColumnSort)==null||g.call(n,{column:f(y),key:y,order:x})}return{columns:r,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,hasFixedColumns:c,mainColumns:l,normalColumns:o,visibleColumns:i,getColumn:f,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:m}}const z4e=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,onMaybeEndReached:i})=>{const a=ee({scrollLeft:0,scrollTop:0});function s(h){var p,m,v;const{scrollTop:g}=h;(p=e.value)==null||p.scrollTo(h),(m=t.value)==null||m.scrollToTop(g),(v=r.value)==null||v.scrollToTop(g)}function o(h){a.value=h,s(h)}function l(h){a.value.scrollTop=h,s(w(a))}function c(h){var p,m;a.value.scrollLeft=h,(m=(p=e.value)==null?void 0:p.scrollTo)==null||m.call(p,w(a))}function u(h){var p;o(h),(p=n.onScroll)==null||p.call(n,h)}function d({scrollTop:h}){const{scrollTop:p}=w(a);h!==p&&l(h)}function f(h,p="auto"){var m;(m=e.value)==null||m.scrollToRow(h,p)}return dt(()=>w(a).scrollTop,(h,p)=>{h>p&&i()}),{scrollPos:a,scrollTo:o,scrollToLeft:c,scrollToTop:l,scrollToRow:f,onScroll:u,onVerticalScroll:d}},U4e=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,tableInstance:i,ns:a,isScrolling:s})=>{const o=Dn(),{emit:l}=o,c=Ir(!1),u=ee(n.defaultExpandedRowKeys||[]),d=ee(-1),f=Ir(null),h=ee({}),p=ee({}),m=Ir({}),v=Ir({}),g=Ir({}),y=U(()=>en(n.estimatedRowHeight));function b(A){var I;(I=n.onRowsRendered)==null||I.call(n,A),A.rowCacheEnd>w(d)&&(d.value=A.rowCacheEnd)}function _({hovered:A,rowKey:I}){if(s.value)return;i.vnode.el.querySelectorAll(`[rowkey="${String(I)}"]`).forEach(F=>{A?F.classList.add(a.is("hovered")):F.classList.remove(a.is("hovered"))})}function x({expanded:A,rowData:I,rowIndex:D,rowKey:L}){var F,B;const k=[...w(u)],H=k.indexOf(L);A?H===-1&&k.push(L):H>-1&&k.splice(H,1),u.value=k,l("update:expandedRowKeys",k),(F=n.onRowExpand)==null||F.call(n,{expanded:A,rowData:I,rowIndex:D,rowKey:L}),(B=n.onExpandedRowsChange)==null||B.call(n,k)}const S=go(()=>{var A,I,D,L;c.value=!0,h.value={...w(h),...w(p)},T(w(f),!1),p.value={},f.value=null,(A=e.value)==null||A.forceUpdate(),(I=t.value)==null||I.forceUpdate(),(D=r.value)==null||D.forceUpdate(),(L=o.proxy)==null||L.$forceUpdate(),c.value=!1},0);function T(A,I=!1){w(y)&&[e,t,r].forEach(D=>{const L=w(D);L&&L.resetAfterRowIndex(A,I)})}function C(A,I,D){const L=w(f);(L===null||L>D)&&(f.value=D),p.value[A]=I}function M({rowKey:A,height:I,rowIndex:D},L){L?L===rZ.RIGHT?g.value[A]=I:m.value[A]=I:v.value[A]=I;const F=Math.max(...[m,g,v].map(B=>B.value[A]||0));w(h)[A]!==F&&(C(A,F,D),S())}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:y,isResetting:c,rowHeights:h,resetAfterIndex:T,onRowExpanded:x,onRowHovered:_,onRowsRendered:b,onRowHeightChange:M}},H4e=(n,{expandedRowKeys:e,lastRenderedRowIndex:t,resetAfterIndex:r})=>{const i=ee({}),a=U(()=>{const o={},{data:l,rowKey:c}=n,u=w(e);if(!u||!u.length)return l;const d=[],f=new Set;u.forEach(p=>f.add(p));let h=l.slice();for(h.forEach(p=>o[p[c]]=0);h.length>0;){const p=h.shift();d.push(p),f.has(p[c])&&Tt(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(m=>o[m[c]]=o[p[c]]+1))}return i.value=o,d}),s=U(()=>{const{data:o,expandColumnKey:l}=n;return l?w(a):o});return dt(s,(o,l)=>{o!==l&&(t.value=-1,r(0,!0))}),{data:s,depthMap:i}},V4e=(n,e)=>n+e,x2=n=>Tt(n)?n.reduce(V4e,0):n,im=(n,e,t={})=>Zt(n)?n(e):n??t,bf=n=>(["width","maxWidth","minWidth","height"].forEach(e=>{n[e]=Pi(n[e])}),n),iZ=n=>vi(n)?e=>Gt(n,e):n,$4e=(n,{columnsTotalWidth:e,rowsHeight:t,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const a=U(()=>{const{fixed:y,width:b,vScrollbarSize:_}=n,x=b-_;return y?Math.max(Math.round(w(e)),x):x}),s=U(()=>w(a)+n.vScrollbarSize),o=U(()=>{const{height:y=0,maxHeight:b=0,footerHeight:_,hScrollbarSize:x}=n;if(b>0){const S=w(h),T=w(t),M=w(f)+S+T+x;return Math.min(M,b-_)}return y-_}),l=U(()=>{const{maxHeight:y}=n,b=w(o);if(en(y)&&y>0)return b;const _=w(t)+w(f)+w(h);return Math.min(b,_)}),c=y=>y.width,u=U(()=>x2(w(r).map(c))),d=U(()=>x2(w(i).map(c))),f=U(()=>x2(n.headerHeight)),h=U(()=>{var y;return(((y=n.fixedData)==null?void 0:y.length)||0)*n.rowHeight}),p=U(()=>w(o)-w(f)-w(h)),m=U(()=>{const{style:y={},height:b,width:_}=n;return bf({...y,height:b,width:_})}),v=U(()=>bf({height:n.footerHeight})),g=U(()=>({top:Pi(w(f)),bottom:Pi(n.footerHeight),width:Pi(n.width)}));return{bodyWidth:a,fixedTableHeight:l,mainTableHeight:o,leftTableWidth:u,rightTableWidth:d,headerWidth:s,windowHeight:p,footerHeight:v,emptyStyle:g,rootStyle:m,headerHeight:f}};function G4e(n){const e=ee(),t=ee(),r=ee(),{columns:i,columnsStyles:a,columnsTotalWidth:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:d}=F4e(n,_r(n,"columns"),_r(n,"fixed")),{scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:v,onVerticalScroll:g,scrollPos:y}=z4e(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,onMaybeEndReached:ce}),b=bt("table-v2"),_=Dn(),x=Ir(!1),{expandedRowKeys:S,lastRenderedRowIndex:T,isDynamic:C,isResetting:M,rowHeights:A,resetAfterIndex:I,onRowExpanded:D,onRowHeightChange:L,onRowHovered:F,onRowsRendered:B}=U4e(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,tableInstance:_,ns:b,isScrolling:x}),{data:k,depthMap:H}=H4e(n,{expandedRowKeys:S,lastRenderedRowIndex:T,resetAfterIndex:I}),z=U(()=>{const{estimatedRowHeight:ie,rowHeight:Ue}=n,De=w(k);return en(ie)?Object.values(w(A)).reduce((Ye,ze)=>Ye+ze,0):De.length*Ue}),{bodyWidth:O,fixedTableHeight:G,mainTableHeight:X,leftTableWidth:J,rightTableWidth:Q,headerWidth:re,windowHeight:de,footerHeight:le,emptyStyle:fe,rootStyle:Ee,headerHeight:Re}=$4e(n,{columnsTotalWidth:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,rowsHeight:z}),He=ee(),$e=U(()=>{const ie=w(k).length===0;return Tt(n.fixedData)?n.fixedData.length===0&&ie:ie});function K(ie){const{estimatedRowHeight:Ue,rowHeight:De,rowKey:Ye}=n;return Ue?w(A)[w(k)[ie][Ye]]||Ue:De}function ce(){const{onEndReached:ie}=n;if(!ie)return;const{scrollTop:Ue}=w(y),De=w(z),Ye=w(de),ze=De-(Ue+Ye)+n.hScrollbarSize;w(T)>=0&&De===Ue+w(X)-w(Re)&&ie(ze)}return dt(()=>n.expandedRowKeys,ie=>S.value=ie,{deep:!0}),{columns:i,containerRef:He,mainTableRef:e,leftTableRef:t,rightTableRef:r,isDynamic:C,isResetting:M,isScrolling:x,hasFixedColumns:c,columnsStyles:a,columnsTotalWidth:s,data:k,expandedRowKeys:S,depthMap:H,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:O,emptyStyle:fe,rootStyle:Ee,headerWidth:re,footerHeight:le,mainTableHeight:X,fixedTableHeight:G,leftTableWidth:J,rightTableWidth:Q,showEmpty:$e,getRowHeight:K,onColumnSorted:d,onRowHovered:F,onRowExpanded:D,onRowsRendered:B,onRowHeightChange:L,scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:v,onVerticalScroll:g}}const OL=Symbol("tableV2"),aZ=String,Q_={type:We(Array),required:!0},BL={type:We(Array)},sZ={...BL,required:!0},W4e=String,qF={type:We(Array),default:()=>_i([])},pp={type:Number,required:!0},oZ={type:We([String,Number,Symbol]),default:"id"},KF={type:We(Object)},Ap=Rt({class:String,columns:Q_,columnsStyles:{type:We(Object),required:!0},depth:Number,expandColumnKey:W4e,estimatedRowHeight:{...$p.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:We(Function)},onRowHover:{type:We(Function)},onRowHeightChange:{type:We(Function)},rowData:{type:We(Object),required:!0},rowEventHandlers:{type:We(Object)},rowIndex:{type:Number,required:!0},rowKey:oZ,style:{type:We(Object)}}),N3={type:Number,required:!0},FL=Rt({class:String,columns:Q_,fixedHeaderData:{type:We(Array)},headerData:{type:We(Array),required:!0},headerHeight:{type:We([Number,Array]),default:50},rowWidth:N3,rowHeight:{type:Number,default:50},height:N3,width:N3}),S2=Rt({columns:Q_,data:sZ,fixedData:BL,estimatedRowHeight:Ap.estimatedRowHeight,width:pp,height:pp,headerWidth:pp,headerHeight:FL.headerHeight,bodyWidth:pp,rowHeight:pp,cache:Aj.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:$p.scrollbarAlwaysOn,scrollbarStartGap:$p.scrollbarStartGap,scrollbarEndGap:$p.scrollbarEndGap,class:aZ,style:KF,containerStyle:KF,getRowHeight:{type:We(Function),required:!0},rowKey:Ap.rowKey,onRowsRendered:{type:We(Function)},onScroll:{type:We(Function)}}),q4e=Rt({cache:S2.cache,estimatedRowHeight:Ap.estimatedRowHeight,rowKey:oZ,headerClass:{type:We([String,Function])},headerProps:{type:We([Object,Function])},headerCellProps:{type:We([Object,Function])},headerHeight:FL.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:We([String,Function])},rowProps:{type:We([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:We([Object,Function])},columns:Q_,data:sZ,dataGetter:{type:We(Function)},fixedData:BL,expandColumnKey:Ap.expandColumnKey,expandedRowKeys:qF,defaultExpandedRowKeys:qF,class:aZ,fixed:Boolean,style:{type:We(Object)},width:pp,height:pp,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:$p.hScrollbarSize,vScrollbarSize:$p.vScrollbarSize,scrollbarAlwaysOn:Rj.alwaysOn,sortBy:{type:We(Object),default:()=>({})},sortState:{type:We(Object),default:void 0},onColumnSort:{type:We(Function)},onExpandedRowsChange:{type:We(Function)},onEndReached:{type:We(Function)},onRowExpand:Ap.onRowExpand,onScroll:S2.onScroll,onRowsRendered:S2.onRowsRendered,rowEventHandlers:Ap.rowEventHandlers}),K4e="ElTableV2Header",Y4e=Ie({name:K4e,props:FL,setup(n,{slots:e,expose:t}){const r=bt("table-v2"),i=Ot("tableV2GridScrollLeft"),a=ee(),s=U(()=>bf({width:n.width,height:n.height})),o=U(()=>bf({width:n.rowWidth,height:n.height})),l=U(()=>bs(w(n.headerHeight))),c=f=>{const h=w(a);Yt(()=>{h!=null&&h.scroll&&h.scroll({left:f})})},u=()=>{const f=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:m}=n;return p==null?void 0:p.map((v,g)=>{var y;const b=bf({height:m,width:"100%"});return(y=e.fixed)==null?void 0:y.call(e,{class:f,columns:h,rowData:v,rowIndex:-(g+1),style:b})})},d=()=>{const f=r.e("dynamic-header-row"),{columns:h}=n;return w(l).map((p,m)=>{var v;const g=bf({width:"100%",height:p});return(v=e.dynamic)==null?void 0:v.call(e,{class:f,columns:h,headerIndex:m,style:g})})};return Nl(()=>{i!=null&&i.value&&c(i.value)}),t({scrollToLeft:c}),()=>{if(!(n.height<=0))return se("div",{ref:a,class:n.class,style:w(s),role:"rowgroup"},[se("div",{style:w(o),class:r.e("header")},[d(),u()])])}}});var X4e=Y4e;const j4e=({atXEndEdge:n,atXStartEdge:e,atYEndEdge:t,atYStartEdge:r},i)=>{let a=null,s=0,o=0;const l=(u,d)=>{const f=u<=0&&e.value||u>=0&&n.value,h=d<=0&&r.value||d>=0&&t.value;return f&&h};return{hasReachedEdge:l,onWheel:u=>{nm(a);let d=u.deltaX,f=u.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,u.shiftKey&&f!==0&&(d=f,f=0),!(l(s,o)&&l(s+d,o+f))&&(s+=d,o+=f,u.preventDefault(),a=qf(()=>{i(s,o),s=0,o=0}))}}},lZ=({name:n,clearCache:e,getColumnPosition:t,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:s,getColumnOffset:o,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:h,validateProps:p})=>Ie({name:n??"ElVirtualList",props:$p,emits:[CC,MC],setup(m,{emit:v,expose:g,slots:y}){const b=bt("vl");p(m);const _=Dn(),x=ee(f(m,_));h==null||h(_,x);const S=ee(),T=ee(),C=ee(),M=ee(null),A=ee({isScrolling:!1,scrollLeft:en(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:en(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:uv,yAxisScrollDir:uv}),I=Cj(),D=U(()=>Number.parseInt(`${m.height}`,10)),L=U(()=>Number.parseInt(`${m.width}`,10)),F=U(()=>{const{totalColumn:Ye,totalRow:ze,columnCache:Ve}=m,{isScrolling:Je,xAxisScrollDir:pe,scrollLeft:W}=w(A);if(Ye===0||ze===0)return[0,0,0,0];const Z=r(m,W,w(x)),ve=i(m,Z,W,w(x)),Ne=!Je||pe===TC?Math.max(1,Ve):1,Ke=!Je||pe===uv?Math.max(1,Ve):1;return[Math.max(0,Z-Ne),Math.max(0,Math.min(Ye-1,ve+Ke)),Z,ve]}),B=U(()=>{const{totalColumn:Ye,totalRow:ze,rowCache:Ve}=m,{isScrolling:Je,yAxisScrollDir:pe,scrollTop:W}=w(A);if(Ye===0||ze===0)return[0,0,0,0];const Z=u(m,W,w(x)),ve=d(m,Z,W,w(x)),Ne=!Je||pe===TC?Math.max(1,Ve):1,Ke=!Je||pe===uv?Math.max(1,Ve):1;return[Math.max(0,Z-Ne),Math.max(0,Math.min(ze-1,ve+Ke)),Z,ve]}),k=U(()=>a(m,w(x))),H=U(()=>s(m,w(x))),z=U(()=>{var Ye;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:en(m.height)?`${m.height}px`:m.height,width:en(m.width)?`${m.width}px`:m.width},(Ye=m.style)!=null?Ye:{}]}),O=U(()=>{const Ye=`${w(H)}px`;return{height:`${w(k)}px`,pointerEvents:w(A).isScrolling?"none":void 0,width:Ye}}),G=()=>{const{totalColumn:Ye,totalRow:ze}=m;if(Ye>0&&ze>0){const[ve,Ne,Ke,mt]=w(F),[vt,Me,ht,st]=w(B);v(CC,{columnCacheStart:ve,columnCacheEnd:Ne,rowCacheStart:vt,rowCacheEnd:Me,columnVisibleStart:Ke,columnVisibleEnd:mt,rowVisibleStart:ht,rowVisibleEnd:st})}const{scrollLeft:Ve,scrollTop:Je,updateRequested:pe,xAxisScrollDir:W,yAxisScrollDir:Z}=w(A);v(MC,{xAxisScrollDir:W,scrollLeft:Ve,yAxisScrollDir:Z,scrollTop:Je,updateRequested:pe})},X=Ye=>{const{clientHeight:ze,clientWidth:Ve,scrollHeight:Je,scrollLeft:pe,scrollTop:W,scrollWidth:Z}=Ye.currentTarget,ve=w(A);if(ve.scrollTop===W&&ve.scrollLeft===pe)return;let Ne=pe;if(RF(m.direction))switch(EC()){case Yb:Ne=-pe;break;case DL:Ne=Z-Ve-pe;break}A.value={...ve,isScrolling:!0,scrollLeft:Ne,scrollTop:Math.max(0,Math.min(W,Je-ze)),updateRequested:!0,xAxisScrollDir:Mp(ve.scrollLeft,Ne),yAxisScrollDir:Mp(ve.scrollTop,W)},Yt(()=>Ee()),Re(),G()},J=(Ye,ze)=>{const Ve=w(D),Je=(k.value-Ve)/ze*Ye;de({scrollTop:Math.min(k.value-Ve,Je)})},Q=(Ye,ze)=>{const Ve=w(L),Je=(H.value-Ve)/ze*Ye;de({scrollLeft:Math.min(H.value-Ve,Je)})},{onWheel:re}=j4e({atXStartEdge:U(()=>A.value.scrollLeft<=0),atXEndEdge:U(()=>A.value.scrollLeft>=H.value-w(L)),atYStartEdge:U(()=>A.value.scrollTop<=0),atYEndEdge:U(()=>A.value.scrollTop>=k.value-w(D))},(Ye,ze)=>{var Ve,Je,pe,W;(Je=(Ve=T.value)==null?void 0:Ve.onMouseUp)==null||Je.call(Ve),(W=(pe=C.value)==null?void 0:pe.onMouseUp)==null||W.call(pe);const Z=w(L),ve=w(D);de({scrollLeft:Math.min(A.value.scrollLeft+Ye,H.value-Z),scrollTop:Math.min(A.value.scrollTop+ze,k.value-ve)})});Tr(S,"wheel",re,{passive:!1});const de=({scrollLeft:Ye=A.value.scrollLeft,scrollTop:ze=A.value.scrollTop})=>{Ye=Math.max(Ye,0),ze=Math.max(ze,0);const Ve=w(A);ze===Ve.scrollTop&&Ye===Ve.scrollLeft||(A.value={...Ve,xAxisScrollDir:Mp(Ve.scrollLeft,Ye),yAxisScrollDir:Mp(Ve.scrollTop,ze),scrollLeft:Ye,scrollTop:ze,updateRequested:!0},Yt(()=>Ee()),Re(),G())},le=(Ye=0,ze=0,Ve=gl)=>{const Je=w(A);ze=Math.max(0,Math.min(ze,m.totalColumn-1)),Ye=Math.max(0,Math.min(Ye,m.totalRow-1));const pe=cY(b.namespace.value),W=w(x),Z=a(m,W),ve=s(m,W);de({scrollLeft:o(m,ze,Ve,Je.scrollLeft,W,ve>m.width?pe:0),scrollTop:l(m,Ye,Ve,Je.scrollTop,W,Z>m.height?pe:0)})},fe=(Ye,ze)=>{const{columnWidth:Ve,direction:Je,rowHeight:pe}=m,W=I.value(e&&Ve,e&&pe,e&&Je),Z=`${Ye},${ze}`;if(sr(W,Z))return W[Z];{const[,ve]=t(m,ze,w(x)),Ne=w(x),Ke=RF(Je),[mt,vt]=c(m,Ye,Ne),[Me]=t(m,ze,Ne);return W[Z]={position:"absolute",left:Ke?void 0:`${ve}px`,right:Ke?`${ve}px`:void 0,top:`${vt}px`,height:`${mt}px`,width:`${Me}px`},W[Z]}},Ee=()=>{A.value.isScrolling=!1,Yt(()=>{I.value(-1,null,null)})};pn(()=>{if(!nr)return;const{initScrollLeft:Ye,initScrollTop:ze}=m,Ve=w(S);Ve&&(en(Ye)&&(Ve.scrollLeft=Ye),en(ze)&&(Ve.scrollTop=ze)),G()});const Re=()=>{const{direction:Ye}=m,{scrollLeft:ze,scrollTop:Ve,updateRequested:Je}=w(A),pe=w(S);if(Je&&pe){if(Ye===Pv)switch(EC()){case Yb:{pe.scrollLeft=-ze;break}case PL:{pe.scrollLeft=ze;break}default:{const{clientWidth:W,scrollWidth:Z}=pe;pe.scrollLeft=Z-W-ze;break}}else pe.scrollLeft=Math.max(0,ze);pe.scrollTop=Math.max(0,Ve)}},{resetAfterColumnIndex:He,resetAfterRowIndex:$e,resetAfter:K}=_.proxy;g({windowRef:S,innerRef:M,getItemStyleCache:I,scrollTo:de,scrollToItem:le,states:A,resetAfterColumnIndex:He,resetAfterRowIndex:$e,resetAfter:K});const ce=()=>{const{scrollbarAlwaysOn:Ye,scrollbarStartGap:ze,scrollbarEndGap:Ve,totalColumn:Je,totalRow:pe}=m,W=w(L),Z=w(D),ve=w(H),Ne=w(k),{scrollLeft:Ke,scrollTop:mt}=w(A),vt=Gt(G5,{ref:T,alwaysOn:Ye,startGap:ze,endGap:Ve,class:b.e("horizontal"),clientSize:W,layout:"horizontal",onScroll:Q,ratio:W*100/ve,scrollFrom:Ke/(ve-W),total:pe,visible:!0}),Me=Gt(G5,{ref:C,alwaysOn:Ye,startGap:ze,endGap:Ve,class:b.e("vertical"),clientSize:Z,layout:"vertical",onScroll:J,ratio:Z*100/Ne,scrollFrom:mt/(Ne-Z),total:Je,visible:!0});return{horizontalScrollbar:vt,verticalScrollbar:Me}},ie=()=>{var Ye;const[ze,Ve]=w(F),[Je,pe]=w(B),{data:W,totalColumn:Z,totalRow:ve,useIsScrolling:Ne,itemKey:Ke}=m,mt=[];if(ve>0&&Z>0)for(let vt=Je;vt<=pe;vt++)for(let Me=ze;Me<=Ve;Me++){const ht=Ke({columnIndex:Me,data:W,rowIndex:vt});mt.push(Gt(zt,{key:ht},(Ye=y.default)==null?void 0:Ye.call(y,{columnIndex:Me,data:W,isScrolling:Ne?w(A).isScrolling:void 0,style:fe(vt,Me),rowIndex:vt})))}return mt},Ue=()=>{const Ye=Nn(m.innerElement),ze=ie();return[Gt(Ye,{style:w(O),ref:M},qt(Ye)?ze:{default:()=>ze})]};return()=>{const Ye=Nn(m.containerElement),{horizontalScrollbar:ze,verticalScrollbar:Ve}=ce(),Je=Ue();return Gt("div",{key:0,class:b.e("wrapper"),role:m.role},[Gt(Ye,{class:m.className,style:w(z),onScroll:X,ref:S},qt(Ye)?Je:{default:()=>Je}),ze,Ve])}}}),{max:PC,min:cZ,floor:uZ}=Math,Z4e={column:"columnWidth",row:"rowHeight"},nR={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},$u=(n,e,t,r)=>{const[i,a,s]=[t[r],n[Z4e[r]],t[nR[r]]];if(e>s){let o=0;if(s>=0){const l=i[s];o=l.offset+l.size}for(let l=s+1;l<=e;l++){const c=a(l);i[l]={offset:o,size:c},o+=c}t[nR[r]]=e}return i[e]},dZ=(n,e,t,r,i,a)=>{for(;t<=r;){const s=t+uZ((r-t)/2),o=$u(n,s,e,a).offset;if(o===i)return s;o<i?t=s+1:r=s-1}return PC(0,t-1)},Q4e=(n,e,t,r,i)=>{const a=i==="column"?n.totalColumn:n.totalRow;let s=1;for(;t<a&&$u(n,t,e,i).offset<r;)t+=s,s*=2;return dZ(n,e,uZ(t/2),cZ(t,a-1),r,i)},YF=(n,e,t,r)=>{const[i,a]=[e[r],e[nR[r]]];return(a>0?i[a].offset:0)>=t?dZ(n,e,0,a,t,r):Q4e(n,e,PC(0,a),t,r)},fZ=({totalRow:n},{estimatedRowHeight:e,lastVisitedRowIndex:t,row:r})=>{let i=0;if(t>=n&&(t=n-1),t>=0){const o=r[t];i=o.offset+o.size}const s=(n-t-1)*e;return i+s},hZ=({totalColumn:n},{column:e,estimatedColumnWidth:t,lastVisitedColumnIndex:r})=>{let i=0;if(r>n&&(r=n-1),r>=0){const o=e[r];i=o.offset+o.size}const s=(n-r-1)*t;return i+s},J4e={column:hZ,row:fZ},XF=(n,e,t,r,i,a,s)=>{const[o,l]=[a==="row"?n.height:n.width,J4e[a]],c=$u(n,e,i,a),u=l(n,i),d=PC(0,cZ(u-o,c.offset)),f=PC(0,c.offset-o+s+c.size);switch(t===ET&&(r>=f-o&&r<=d+o?t=gl:t=Wc),t){case qb:return d;case Kb:return f;case Wc:return Math.round(f+(d-f)/2);case gl:default:return r>=f&&r<=d?r:f>d||r<f?f:d}},eIe=lZ({name:"ElDynamicSizeGrid",getColumnPosition:(n,e,t)=>{const r=$u(n,e,t,"column");return[r.size,r.offset]},getRowPosition:(n,e,t)=>{const r=$u(n,e,t,"row");return[r.size,r.offset]},getColumnOffset:(n,e,t,r,i,a)=>XF(n,e,t,r,i,"column",a),getRowOffset:(n,e,t,r,i,a)=>XF(n,e,t,r,i,"row",a),getColumnStartIndexForOffset:(n,e,t)=>YF(n,t,e,"column"),getColumnStopIndexForStartIndex:(n,e,t,r)=>{const i=$u(n,e,r,"column"),a=t+n.width;let s=i.offset+i.size,o=e;for(;o<n.totalColumn-1&&s<a;)o++,s+=$u(n,e,r,"column").size;return o},getEstimatedTotalHeight:fZ,getEstimatedTotalWidth:hZ,getRowStartIndexForOffset:(n,e,t)=>YF(n,t,e,"row"),getRowStopIndexForStartIndex:(n,e,t,r)=>{const{totalRow:i,height:a}=n,s=$u(n,e,r,"row"),o=t+a;let l=s.size+s.offset,c=e;for(;c<i-1&&l<o;)c++,l+=$u(n,c,r,"row").size;return c},injectToInstance:(n,e)=>{const t=({columnIndex:a,rowIndex:s},o)=>{var l,c;o=Mr(o)?!0:o,en(a)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,a-1)),en(s)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,s-1)),(l=n.exposed)==null||l.getItemStyleCache.value(-1,null,null),o&&((c=n.proxy)==null||c.$forceUpdate())},r=(a,s)=>{t({columnIndex:a},s)},i=(a,s)=>{t({rowIndex:a},s)};Object.assign(n.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:t})},initCache:({estimatedColumnWidth:n=F5,estimatedRowHeight:e=F5})=>({column:{},estimatedColumnWidth:n,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:n,rowHeight:e})=>{}}),tIe=lZ({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:n},e)=>[n,e*n],getRowPosition:({rowHeight:n},e)=>[n,e*n],getEstimatedTotalHeight:({totalRow:n,rowHeight:e})=>e*n,getEstimatedTotalWidth:({totalColumn:n,columnWidth:e})=>e*n,getColumnOffset:({totalColumn:n,columnWidth:e,width:t},r,i,a,s,o)=>{t=Number(t);const l=Math.max(0,n*e-t),c=Math.min(l,r*e),u=Math.max(0,r*e-t+o+e);switch(i==="smart"&&(a>=u-t&&a<=c+t?i=gl:i=Wc),i){case qb:return c;case Kb:return u;case Wc:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(t/2)?0:d>l+Math.floor(t/2)?l:d}case gl:default:return a>=u&&a<=c?a:u>c||a<u?u:c}},getRowOffset:({rowHeight:n,height:e,totalRow:t},r,i,a,s,o)=>{e=Number(e);const l=Math.max(0,t*n-e),c=Math.min(l,r*n),u=Math.max(0,r*n-e+o+n);switch(i===ET&&(a>=u-e&&a<=c+e?i=gl:i=Wc),i){case qb:return c;case Kb:return u;case Wc:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case gl:default:return a>=u&&a<=c?a:u>c||a<u?u:c}},getColumnStartIndexForOffset:({columnWidth:n,totalColumn:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getColumnStopIndexForStartIndex:({columnWidth:n,totalColumn:e,width:t},r,i)=>{const a=r*n,s=Math.ceil((t+i-a)/n);return Math.max(0,Math.min(e-1,r+s-1))},getRowStartIndexForOffset:({rowHeight:n,totalRow:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getRowStopIndexForStartIndex:({rowHeight:n,totalRow:e,height:t},r,i)=>{const a=r*n,s=Math.ceil((t+i-a)/n);return Math.max(0,Math.min(e-1,r+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}}),nIe="ElTableV2Grid",rIe=n=>{const e=ee(),t=ee(),r=ee(0),i=U(()=>{const{data:v,rowHeight:g,estimatedRowHeight:y}=n;if(!y)return v.length*g}),a=U(()=>{const{fixedData:v,rowHeight:g}=n;return((v==null?void 0:v.length)||0)*g}),s=U(()=>x2(n.headerHeight)),o=U(()=>{const{height:v}=n;return Math.max(0,v-w(s)-w(a))}),l=U(()=>w(s)+w(a)>0),c=({data:v,rowIndex:g})=>v[g][n.rowKey];function u({rowCacheStart:v,rowCacheEnd:g,rowVisibleStart:y,rowVisibleEnd:b}){var _;(_=n.onRowsRendered)==null||_.call(n,{rowCacheStart:v,rowCacheEnd:g,rowVisibleStart:y,rowVisibleEnd:b})}function d(v,g){var y;(y=t.value)==null||y.resetAfterRowIndex(v,g)}function f(v,g){const y=w(e),b=w(t);Pn(v)?(y==null||y.scrollToLeft(v.scrollLeft),r.value=v.scrollLeft,b==null||b.scrollTo(v)):(y==null||y.scrollToLeft(v),r.value=v,b==null||b.scrollTo({scrollLeft:v,scrollTop:g}))}function h(v){var g;(g=w(t))==null||g.scrollTo({scrollTop:v})}function p(v,g){var y;(y=w(t))==null||y.scrollToItem(v,1,g)}function m(){var v,g;(v=w(t))==null||v.$forceUpdate(),(g=w(e))==null||g.$forceUpdate()}return{bodyRef:t,forceUpdate:m,fixedRowHeight:a,gridHeight:o,hasHeader:l,headerHeight:s,headerRef:e,totalHeight:i,itemKey:c,onItemRendered:u,resetAfterRowIndex:d,scrollTo:f,scrollToTop:h,scrollToRow:p,scrollLeft:r}},iIe=Ie({name:nIe,props:S2,setup(n,{slots:e,expose:t}){const{ns:r}=Ot(OL),{bodyRef:i,fixedRowHeight:a,gridHeight:s,hasHeader:o,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:h,resetAfterRowIndex:p,scrollTo:m,scrollToTop:v,scrollToRow:g,scrollLeft:y}=rIe(n);$n("tableV2GridScrollLeft",y),t({forceUpdate:d,totalHeight:u,scrollTo:m,scrollToTop:v,scrollToRow:g,resetAfterRowIndex:p});const b=()=>n.bodyWidth;return()=>{const{cache:_,columns:x,data:S,fixedData:T,useIsScrolling:C,scrollbarAlwaysOn:M,scrollbarEndGap:A,scrollbarStartGap:I,style:D,rowHeight:L,bodyWidth:F,estimatedRowHeight:B,headerWidth:k,height:H,width:z,getRowHeight:O,onScroll:G}=n,X=en(B),J=X?eIe:tIe,Q=w(c);return se("div",{role:"table",class:[r.e("table"),n.class],style:D},[se(J,{ref:i,data:S,useIsScrolling:C,itemKey:f,columnCache:0,columnWidth:X?b:F,totalColumn:1,totalRow:S.length,rowCache:_,rowHeight:X?O:L,width:z,height:w(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:I,scrollbarEndGap:A,scrollbarAlwaysOn:M,onScroll:G,onItemRendered:h,perfMode:!1},{default:re=>{var de;const le=S[re.rowIndex];return(de=e.row)==null?void 0:de.call(e,{...re,columns:x,rowData:le})}}),w(o)&&se(X4e,{ref:l,class:r.e("header-wrapper"),columns:x,headerData:S,headerHeight:n.headerHeight,fixedHeaderData:T,rowWidth:k,rowHeight:L,width:z,height:Math.min(Q+w(a),H)},{dynamic:e.header,fixed:e.row})])}}});var zL=iIe;function aIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!vi(n)}const sIe=(n,{slots:e})=>{const{mainTableRef:t,...r}=n;return se(zL,Hn({ref:t},r),aIe(e)?e:{default:()=>[e]})};var oIe=sIe;function lIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!vi(n)}const cIe=(n,{slots:e})=>{if(!n.columns.length)return;const{leftTableRef:t,...r}=n;return se(zL,Hn({ref:t},r),lIe(e)?e:{default:()=>[e]})};var uIe=cIe;function dIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!vi(n)}const fIe=(n,{slots:e})=>{if(!n.columns.length)return;const{rightTableRef:t,...r}=n;return se(zL,Hn({ref:t},r),dIe(e)?e:{default:()=>[e]})};var hIe=fIe;const pIe=n=>{const{isScrolling:e}=Ot(OL),t=ee(!1),r=ee(),i=U(()=>en(n.estimatedRowHeight)&&n.rowIndex>=0),a=(l=!1)=>{const c=w(r);if(!c)return;const{columns:u,onRowHeightChange:d,rowKey:f,rowIndex:h,style:p}=n,{height:m}=c.getBoundingClientRect();t.value=!0,Yt(()=>{if(l||m!==Number.parseInt(p.height)){const v=u[0],g=(v==null?void 0:v.placeholderSign)===Qb;d==null||d({rowKey:f,height:m,rowIndex:h},v&&!g&&v.fixed)}})},s=U(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:d}=n,f=n.rowEventHandlers||{},h={};return Object.entries(f).forEach(([p,m])=>{Zt(m)&&(h[p]=v=>{m({event:v,rowData:l,rowIndex:c,rowKey:u})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:m})=>{const v=h[p];h[p]=g=>{d({event:g,hovered:m,rowData:l,rowIndex:c,rowKey:u}),v==null||v(g)}}),h}),o=l=>{const{onRowExpand:c,rowData:u,rowIndex:d,rowKey:f}=n;c==null||c({expanded:l,rowData:u,rowIndex:d,rowKey:f})};return pn(()=>{w(i)&&a(!0)}),{isScrolling:e,measurable:i,measured:t,rowRef:r,eventHandlers:s,onExpand:o}},mIe="ElTableV2TableRow",vIe=Ie({name:mIe,props:Ap,setup(n,{expose:e,slots:t,attrs:r}){const{eventHandlers:i,isScrolling:a,measurable:s,measured:o,rowRef:l,onExpand:c}=pIe(n);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:d,expandColumnKey:f,depth:h,rowData:p,rowIndex:m,style:v}=n;let g=u.map((y,b)=>{const _=Tt(p.children)&&p.children.length>0&&y.key===f;return t.cell({column:y,columns:u,columnIndex:b,depth:h,style:d[y.key],rowData:p,rowIndex:m,isScrolling:w(a),expandIconProps:_?{rowData:p,rowIndex:m,onExpand:c}:void 0})});if(t.row&&(g=t.row({cells:g.map(y=>Tt(y)&&y.length===1?y[0]:y),style:v,columns:u,depth:h,rowData:p,rowIndex:m,isScrolling:w(a)})),w(s)){const{height:y,...b}=v||{},_=w(o);return se("div",Hn({ref:l,class:n.class,style:_?v:b,role:"row"},r,w(i)),[g])}return se("div",Hn(r,{ref:l,class:n.class,style:v,role:"row"},w(i)),[g])}}});var gIe=vIe;function yIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!vi(n)}const bIe=(n,{slots:e})=>{const{columns:t,columnsStyles:r,depthMap:i,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:o,hasFixedColumns:l,rowData:c,rowIndex:u,style:d,isScrolling:f,rowProps:h,rowClass:p,rowKey:m,rowEventHandlers:v,ns:g,onRowHovered:y,onRowExpanded:b}=n,_=im(p,{columns:t,rowData:c,rowIndex:u},""),x=im(h,{columns:t,rowData:c,rowIndex:u}),S=c[m],T=i[S]||0,C=!!a,M=u<0,A=[g.e("row"),_,{[g.e(`row-depth-${T}`)]:C&&u>=0,[g.is("expanded")]:C&&s.includes(S),[g.is("fixed")]:!T&&M,[g.is("customized")]:!!e.row}],I=l?y:void 0,D={...x,columns:t,columnsStyles:r,class:A,depth:T,expandColumnKey:a,estimatedRowHeight:M?void 0:o,isScrolling:f,rowIndex:u,rowData:c,rowKey:S,rowEventHandlers:v,style:d};return se(gIe,Hn(D,{onRowExpand:b,onMouseenter:B=>{I==null||I({hovered:!0,rowKey:S,event:B,rowData:c,rowIndex:u})},onMouseleave:B=>{I==null||I({hovered:!1,rowKey:S,event:B,rowData:c,rowIndex:u})},rowkey:S}),yIe(e)?e:{default:()=>[e]})};var _Ie=bIe;const UL=(n,{slots:e})=>{var t;const{cellData:r,style:i}=n,a=((t=r==null?void 0:r.toString)==null?void 0:t.call(r))||"",s=Ze(e,"default",n,()=>[a]);return se("div",{class:n.class,title:a,style:i},[s])};UL.displayName="ElTableV2Cell";UL.inheritAttrs=!1;var wIe=UL;const xIe=n=>{const{expanded:e,expandable:t,onExpand:r,style:i,size:a}=n,s={onClick:t?()=>r(!e):void 0,class:n.class};return se(Vt,Hn(s,{size:a,style:i}),{default:()=>[se(Hs,null,null)]})};var SIe=xIe;const pZ=({columns:n,column:e,columnIndex:t,depth:r,expandIconProps:i,isScrolling:a,rowData:s,rowIndex:o,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:f,indentSize:h,iconSize:p,rowKey:m},{slots:v})=>{const g=bf(l);if(e.placeholderSign===Qb)return se("div",{class:u.em("row-cell","placeholder"),style:g},null);const{cellRenderer:y,dataKey:b,dataGetter:_}=e,x=Zt(_)?_({columns:n,column:e,columnIndex:t,rowData:s,rowIndex:o}):Vi(s,b??""),S=im(d,{cellData:x,columns:n,column:e,columnIndex:t,rowIndex:o,rowData:s}),T={class:u.e("cell-text"),columns:n,column:e,columnIndex:t,cellData:x,isScrolling:a,rowData:s,rowIndex:o},C=iZ(y),M=C?C(T):Ze(v,"default",T,()=>[se(wIe,T,null)]),A=[u.e("row-cell"),e.class,e.align===Zb.CENTER&&u.is("align-center"),e.align===Zb.RIGHT&&u.is("align-right")],I=o>=0&&f&&e.key===f,D=o>=0&&c.includes(s[m]);let L;const F=`margin-inline-start: ${r*h}px;`;return I&&(Pn(i)?L=se(SIe,Hn(i,{class:[u.e("expand-icon"),u.is("expanded",D)],size:p,expanded:D,style:F,expandable:!0}),null):L=se("div",{style:[F,`width: ${p}px; height: ${p}px;`].join(" ")},null)),se("div",Hn({class:A,style:g},S,{role:"cell"}),[L,M])};pZ.inheritAttrs=!1;var jF=pZ;const CIe=Rt({class:String,columns:Q_,columnsStyles:{type:We(Object),required:!0},headerIndex:Number,style:{type:We(Object)}}),MIe=Ie({name:"ElTableV2HeaderRow",props:CIe,setup(n,{slots:e}){return()=>{const{columns:t,columnsStyles:r,headerIndex:i,style:a}=n;let s=t.map((o,l)=>e.cell({columns:t,column:o,columnIndex:l,headerIndex:i,style:r[o.key]}));return e.header&&(s=e.header({cells:s.map(o=>Tt(o)&&o.length===1?o[0]:o),columns:t,headerIndex:i})),se("div",{class:n.class,style:a,role:"row"},[s])}}});var TIe=MIe;function AIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!vi(n)}const EIe=({columns:n,columnsStyles:e,headerIndex:t,style:r,headerClass:i,headerProps:a,ns:s},{slots:o})=>{const l={columns:n,headerIndex:t},c=[s.e("header-row"),im(i,l,""),{[s.is("customized")]:!!o.header}],u={...im(a,l),columnsStyles:e,class:c,columns:n,headerIndex:t,style:r};return se(TIe,u,AIe(o)?o:{default:()=>[o]})};var IIe=EIe;const HL=(n,{slots:e})=>Ze(e,"default",n,()=>{var t,r;return[se("div",{class:n.class,title:(t=n.column)==null?void 0:t.title},[(r=n.column)==null?void 0:r.title])]});HL.displayName="ElTableV2HeaderCell";HL.inheritAttrs=!1;var RIe=HL;const PIe=n=>{const{sortOrder:e}=n;return se(Vt,{size:14,class:n.class},{default:()=>[e===jb.ASC?se(uve,null,null):se(lve,null,null)]})};var DIe=PIe;const kIe=(n,{slots:e})=>{const{column:t,ns:r,style:i,onColumnSorted:a}=n,s=bf(i);if(t.placeholderSign===Qb)return se("div",{class:r.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:o,headerClass:l,sortable:c}=t,u={...n,class:r.e("header-cell-text")},d=iZ(o),f=d?d(u):Ze(e,"default",u,()=>[se(RIe,u,null)]),{sortBy:h,sortState:p,headerCellProps:m}=n;let v,g;if(p){const _=p[t.key];v=!!tR[_],g=v?_:jb.ASC}else v=t.key===h.key,g=v?h.order:jb.ASC;const y=[r.e("header-cell"),im(l,n,""),t.align===Zb.CENTER&&r.is("align-center"),t.align===Zb.RIGHT&&r.is("align-right"),c&&r.is("sortable")],b={...im(m,n),onClick:t.sortable?a:void 0,class:y,style:s,"data-key":t.key};return se("div",Hn(b,{role:"columnheader"}),[f,c&&se(DIe,{class:[r.e("sort-icon"),v&&r.is("sorting")],sortOrder:g},null)])};var ZF=kIe;const mZ=(n,{slots:e})=>{var t;return se("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};mZ.displayName="ElTableV2Footer";var LIe=mZ;const vZ=(n,{slots:e})=>{const t=Ze(e,"default",{},()=>[se(cj,null,null)]);return se("div",{class:n.class,style:n.style},[t])};vZ.displayName="ElTableV2Empty";var NIe=vZ;const gZ=(n,{slots:e})=>{var t;return se("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};gZ.displayName="ElTableV2Overlay";var OIe=gZ;function Py(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!vi(n)}const BIe="ElTableV2",FIe=Ie({name:BIe,props:q4e,setup(n,{slots:e,expose:t}){const r=bt("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:o,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:h,expandedRowKeys:p,hasFixedColumns:m,mainTableRef:v,leftTableRef:g,rightTableRef:y,isDynamic:b,isResetting:_,isScrolling:x,bodyWidth:S,emptyStyle:T,rootStyle:C,headerWidth:M,footerHeight:A,showEmpty:I,scrollTo:D,scrollToLeft:L,scrollToTop:F,scrollToRow:B,getRowHeight:k,onColumnSorted:H,onRowHeightChange:z,onRowHovered:O,onRowExpanded:G,onRowsRendered:X,onScroll:J,onVerticalScroll:Q}=G4e(n);return t({scrollTo:D,scrollToLeft:L,scrollToTop:F,scrollToRow:B}),$n(OL,{ns:r,isResetting:_,isScrolling:x}),()=>{const{cache:re,cellProps:de,estimatedRowHeight:le,expandColumnKey:fe,fixedData:Ee,headerHeight:Re,headerClass:He,headerProps:$e,headerCellProps:K,sortBy:ce,sortState:ie,rowHeight:Ue,rowClass:De,rowEventHandlers:Ye,rowKey:ze,rowProps:Ve,scrollbarAlwaysOn:Je,indentSize:pe,iconSize:W,useIsScrolling:Z,vScrollbarSize:ve,width:Ne}=n,Ke=w(f),mt={cache:re,class:r.e("main"),columns:w(o),data:Ke,fixedData:Ee,estimatedRowHeight:le,bodyWidth:w(S)+ve,headerHeight:Re,headerWidth:w(M),height:w(l),mainTableRef:v,rowKey:ze,rowHeight:Ue,scrollbarAlwaysOn:Je,scrollbarStartGap:2,scrollbarEndGap:ve,useIsScrolling:Z,width:Ne,getRowHeight:k,onRowsRendered:X,onScroll:J},vt=w(u),Me=w(c),ht={cache:re,class:r.e("left"),columns:w(a),data:Ke,estimatedRowHeight:le,leftTableRef:g,rowHeight:Ue,bodyWidth:vt,headerWidth:vt,headerHeight:Re,height:Me,rowKey:ze,scrollbarAlwaysOn:Je,scrollbarStartGap:2,scrollbarEndGap:ve,useIsScrolling:Z,width:vt,getRowHeight:k,onScroll:Q},$=w(d)+ve,ge={cache:re,class:r.e("right"),columns:w(s),data:Ke,estimatedRowHeight:le,rightTableRef:y,rowHeight:Ue,bodyWidth:$,headerWidth:$,headerHeight:Re,height:Me,rowKey:ze,scrollbarAlwaysOn:Je,scrollbarStartGap:2,scrollbarEndGap:ve,width:$,style:`--${w(r.namespace)}-table-scrollbar-size: ${ve}px`,useIsScrolling:Z,getRowHeight:k,onScroll:Q},he=w(i),Ae={ns:r,depthMap:w(h),columnsStyles:he,expandColumnKey:fe,expandedRowKeys:w(p),estimatedRowHeight:le,hasFixedColumns:w(m),rowProps:Ve,rowClass:De,rowKey:ze,rowEventHandlers:Ye,onRowHovered:O,onRowExpanded:G,onRowHeightChange:z},ye={cellProps:de,expandColumnKey:fe,indentSize:pe,iconSize:W,rowKey:ze,expandedRowKeys:w(p),ns:r},Se={ns:r,headerClass:He,headerProps:$e,columnsStyles:he},ft={ns:r,sortBy:ce,sortState:ie,headerCellProps:K,onColumnSorted:H},Te={row:gt=>se(_Ie,Hn(gt,Ae),{row:e.row,cell:Lt=>{let At;return e.cell?se(jF,Hn(Lt,ye,{style:he[Lt.column.key]}),Py(At=e.cell(Lt))?At:{default:()=>[At]}):se(jF,Hn(Lt,ye,{style:he[Lt.column.key]}),null)}}),header:gt=>se(IIe,Hn(gt,Se),{header:e.header,cell:Lt=>{let At;return e["header-cell"]?se(ZF,Hn(Lt,ft,{style:he[Lt.column.key]}),Py(At=e["header-cell"](Lt))?At:{default:()=>[At]}):se(ZF,Hn(Lt,ft,{style:he[Lt.column.key]}),null)}})},_t=[n.class,r.b(),r.e("root"),{[r.is("dynamic")]:w(b)}],nt={class:r.e("footer"),style:w(A)};return se("div",{class:_t,style:w(C)},[se(oIe,mt,Py(Te)?Te:{default:()=>[Te]}),se(uIe,ht,Py(Te)?Te:{default:()=>[Te]}),se(hIe,ge,Py(Te)?Te:{default:()=>[Te]}),e.footer&&se(LIe,nt,{default:e.footer}),w(I)&&se(NIe,{class:r.e("empty"),style:w(T)},{default:e.empty}),e.overlay&&se(OIe,{class:r.e("overlay")},{default:e.overlay})])}}});var zIe=FIe;const UIe=Rt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:We(Function)}}),HIe=n=>{const e=ee(),t=ee(0),r=ee(0);let i;return pn(()=>{i=ui(e,([a])=>{const{width:s,height:o}=a.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:d}=getComputedStyle(a.target),f=Number.parseInt(l)||0,h=Number.parseInt(c)||0,p=Number.parseInt(u)||0,m=Number.parseInt(d)||0;t.value=s-f-h,r.value=o-p-m}).stop}),yr(()=>{i==null||i()}),dt([t,r],([a,s])=>{var o;(o=n.onResize)==null||o.call(n,{width:a,height:s})}),{sizer:e,width:t,height:r}},VIe=Ie({name:"ElAutoResizer",props:UIe,setup(n,{slots:e}){const t=bt("auto-resizer"),{height:r,width:i,sizer:a}=HIe(n),s={width:"100%",height:"100%"};return()=>{var o;return se("div",{ref:a,class:t.b(),style:s},[(o=e.default)==null?void 0:o.call(e,{height:r.value,width:i.value})])}}});var $Ie=VIe;const GIe=gn(zIe),WIe=gn($Ie),IT=Symbol("tabsRootContextKey"),qIe=Rt({tabs:{type:We(Array),default:()=>_i([])}}),yZ="ElTabBar",KIe=Ie({name:yZ}),YIe=Ie({...KIe,props:qIe,setup(n,{expose:e}){const t=n,r=Dn(),i=Ot(IT);i||ua(yZ,"<el-tabs><el-tab-bar /></el-tabs>");const a=bt("tabs"),s=ee(),o=ee(),l=()=>{let h=0,p=0;const m=["top","bottom"].includes(i.props.tabPosition)?"width":"height",v=m==="width"?"x":"y",g=v==="x"?"left":"top";return t.tabs.every(y=>{var b,_;const x=(_=(b=r.parent)==null?void 0:b.refs)==null?void 0:_[`tab-${y.uid}`];if(!x)return!1;if(!y.active)return!0;h=x[`offset${Vc(g)}`],p=x[`client${Vc(m)}`];const S=window.getComputedStyle(x);return m==="width"&&(p-=Number.parseFloat(S.paddingLeft)+Number.parseFloat(S.paddingRight),h+=Number.parseFloat(S.paddingLeft)),!1}),{[m]:`${p}px`,transform:`translate${Vc(v)}(${h}px)`}},c=()=>o.value=l(),u=[],d=()=>{var h;u.forEach(m=>m.stop()),u.length=0;const p=(h=r.parent)==null?void 0:h.refs;if(p){for(const m in p)if(m.startsWith("tab-")){const v=p[m];v&&u.push(ui(v,c))}}};dt(()=>t.tabs,async()=>{await Yt(),c(),d()},{immediate:!0});const f=ui(s,()=>c());return yr(()=>{u.forEach(h=>h.stop()),u.length=0,f.stop()}),e({ref:s,update:c}),(h,p)=>(V(),ue("div",{ref_key:"barRef",ref:s,class:j([w(a).e("active-bar"),w(a).is(w(i).props.tabPosition)]),style:Bt(o.value)},null,6))}});var XIe=Pt(YIe,[["__file","tab-bar.vue"]]);const jIe=Rt({panes:{type:We(Array),default:()=>_i([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ZIe={tabClick:(n,e,t)=>t instanceof Event,tabRemove:(n,e)=>e instanceof Event},QF="ElTabNav",QIe=Ie({name:QF,props:jIe,emits:ZIe,setup(n,{expose:e,emit:t}){const r=Ot(IT);r||ua(QF,"<el-tabs><tab-nav /></el-tabs>");const i=bt("tabs"),a=Mme(),s=Bme(),o=ee(),l=ee(),c=ee(),u=ee(),d=ee(!1),f=ee(0),h=ee(!1),p=ee(!0),m=U(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),v=U(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${f.value}px)`})),g=()=>{if(!o.value)return;const C=o.value[`offset${Vc(m.value)}`],M=f.value;if(!M)return;const A=M>C?M-C:0;f.value=A},y=()=>{if(!o.value||!l.value)return;const C=l.value[`offset${Vc(m.value)}`],M=o.value[`offset${Vc(m.value)}`],A=f.value;if(C-A<=M)return;const I=C-A>M*2?A+M:C-M;f.value=I},b=async()=>{const C=l.value;if(!d.value||!c.value||!o.value||!C)return;await Yt();const M=c.value.querySelector(".is-active");if(!M)return;const A=o.value,I=["top","bottom"].includes(r.props.tabPosition),D=M.getBoundingClientRect(),L=A.getBoundingClientRect(),F=I?C.offsetWidth-L.width:C.offsetHeight-L.height,B=f.value;let k=B;I?(D.left<L.left&&(k=B-(L.left-D.left)),D.right>L.right&&(k=B+D.right-L.right)):(D.top<L.top&&(k=B-(L.top-D.top)),D.bottom>L.bottom&&(k=B+(D.bottom-L.bottom))),k=Math.max(k,0),f.value=Math.min(k,F)},_=()=>{var C;if(!l.value||!o.value)return;n.stretch&&((C=u.value)==null||C.update());const M=l.value[`offset${Vc(m.value)}`],A=o.value[`offset${Vc(m.value)}`],I=f.value;A<M?(d.value=d.value||{},d.value.prev=I,d.value.next=I+A<M,M-I<A&&(f.value=M-A)):(d.value=!1,I>0&&(f.value=0))},x=C=>{let M=0;switch(C.code){case Nt.left:case Nt.up:M=-1;break;case Nt.right:case Nt.down:M=1;break;default:return}const A=Array.from(C.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let D=A.indexOf(C.target)+M;D<0?D=A.length-1:D>=A.length&&(D=0),A[D].focus({preventScroll:!0}),A[D].click(),S()},S=()=>{p.value&&(h.value=!0)},T=()=>h.value=!1;return dt(a,C=>{C==="hidden"?p.value=!1:C==="visible"&&setTimeout(()=>p.value=!0,50)}),dt(s,C=>{C?setTimeout(()=>p.value=!0,50):p.value=!1}),ui(c,_),pn(()=>setTimeout(()=>b(),0)),Nl(()=>_()),e({scrollToActiveTab:b,removeFocus:T}),()=>{const C=d.value?[se("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:g},[se(Vt,null,{default:()=>[se(Kf,null,null)]})]),se("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:y},[se(Vt,null,{default:()=>[se(Hs,null,null)]})])]:null,M=n.panes.map((A,I)=>{var D,L,F,B;const k=A.uid,H=A.props.disabled,z=(L=(D=A.props.name)!=null?D:A.index)!=null?L:`${I}`,O=!H&&(A.isClosable||n.editable);A.index=`${I}`;const G=O?se(Vt,{class:"is-icon-close",onClick:Q=>t("tabRemove",A,Q)},{default:()=>[se(gc,null,null)]}):null,X=((B=(F=A.slots).label)==null?void 0:B.call(F))||A.props.label,J=!H&&A.active?0:-1;return se("div",{ref:`tab-${k}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",A.active),i.is("disabled",H),i.is("closable",O),i.is("focus",h.value)],id:`tab-${z}`,key:`tab-${k}`,"aria-controls":`pane-${z}`,role:"tab","aria-selected":A.active,tabindex:J,onFocus:()=>S(),onBlur:()=>T(),onClick:Q=>{T(),t("tabClick",A,z,Q)},onKeydown:Q=>{O&&(Q.code===Nt.delete||Q.code===Nt.backspace)&&t("tabRemove",A,Q)}},[X,G])});return se("div",{ref:c,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(r.props.tabPosition)]},[C,se("div",{class:i.e("nav-scroll"),ref:o},[se("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",n.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:v.value,role:"tablist",onKeydown:x},[n.type?null:se(XIe,{ref:u,tabs:[...n.panes]},null),M])])])}}}),JIe=Rt({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:We(Function),default:()=>!0},stretch:Boolean}),O3=n=>qt(n)||en(n),e5e={[Mn]:n=>O3(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>O3(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>O3(n),tabAdd:()=>!0},t5e=Ie({name:"ElTabs",props:JIe,emits:e5e,setup(n,{emit:e,slots:t,expose:r}){var i;const a=bt("tabs"),s=U(()=>["left","right"].includes(n.tabPosition)),{children:o,addChild:l,removeChild:c}=lL(Dn(),"ElTabPane"),u=ee(),d=ee((i=n.modelValue)!=null?i:"0"),f=async(g,y=!1)=>{var b,_,x;if(!(d.value===g||Mr(g)))try{await((b=n.beforeLeave)==null?void 0:b.call(n,g,d.value))!==!1&&(d.value=g,y&&(e(Mn,g),e("tabChange",g)),(x=(_=u.value)==null?void 0:_.removeFocus)==null||x.call(_))}catch{}},h=(g,y,b)=>{g.props.disabled||(f(y,!0),e("tabClick",g,b))},p=(g,y)=>{g.props.disabled||Mr(g.props.name)||(y.stopPropagation(),e("edit",g.props.name,"remove"),e("tabRemove",g.props.name))},m=()=>{e("edit",void 0,"add"),e("tabAdd")};dt(()=>n.modelValue,g=>f(g)),dt(d,async()=>{var g;await Yt(),(g=u.value)==null||g.scrollToActiveTab()}),$n(IT,{props:n,currentName:d,registerPane:g=>{o.value.push(g)},sortPane:l,unregisterPane:c}),r({currentName:d});const v=({render:g})=>g();return()=>{const g=t["add-icon"],y=n.editable||n.addable?se("div",{class:[a.e("new-tab"),s.value&&a.e("new-tab-vertical")],tabindex:"0",onClick:m,onKeydown:x=>{[Nt.enter,Nt.numpadEnter].includes(x.code)&&m()}},[g?Ze(t,"add-icon"):se(Vt,{class:a.is("icon-plus")},{default:()=>[se(mY,null,null)]})]):null,b=se("div",{class:[a.e("header"),s.value&&a.e("header-vertical"),a.is(n.tabPosition)]},[se(v,{render:()=>{const x=o.value.some(S=>S.slots.label);return se(QIe,{ref:u,currentName:d.value,editable:n.editable,type:n.type,panes:o.value,stretch:n.stretch,onTabClick:h,onTabRemove:p},{$stable:!x})}},null),y]),_=se("div",{class:a.e("content")},[Ze(t,"default")]);return se("div",{class:[a.b(),a.m(n.tabPosition),{[a.m("card")]:n.type==="card",[a.m("border-card")]:n.type==="border-card"}]},[_,b])}}});var n5e=t5e;const r5e=Rt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),bZ="ElTabPane",i5e=Ie({name:bZ}),a5e=Ie({...i5e,props:r5e,setup(n){const e=n,t=Dn(),r=ea(),i=Ot(IT);i||ua(bZ,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=bt("tab-pane"),s=ee(),o=U(()=>e.closable||i.props.closable),l=f5(()=>{var h;return i.currentName.value===((h=e.name)!=null?h:s.value)}),c=ee(l.value),u=U(()=>{var h;return(h=e.name)!=null?h:s.value}),d=f5(()=>!e.lazy||c.value||l.value);dt(l,h=>{h&&(c.value=!0)});const f=mr({uid:t.uid,slots:r,props:e,paneName:u,active:l,index:s,isClosable:o});return i.registerPane(f),pn(()=>{i.sortPane(f)}),fh(()=>{i.unregisterPane(f.uid)}),(h,p)=>w(d)?Sn((V(),ue("div",{key:0,id:`pane-${w(u)}`,class:j(w(a).b()),role:"tabpanel","aria-hidden":!w(l),"aria-labelledby":`tab-${w(u)}`},[Ze(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[fr,w(l)]]):Qe("v-if",!0)}});var _Z=Pt(a5e,[["__file","tab-pane.vue"]]);const s5e=gn(n5e,{TabPane:_Z}),o5e=Si(_Z),l5e=Rt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:uu,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),c5e=Ie({name:"ElText"}),u5e=Ie({...c5e,props:l5e,setup(n){const e=n,t=Xi(),r=bt("text"),i=U(()=>[r.b(),r.m(e.type),r.m(t.value),r.is("truncated",e.truncated),r.is("line-clamp",!Mr(e.lineClamp))]);return(a,s)=>(V(),rt(Nn(a.tag),{class:j(w(i)),style:Bt({"-webkit-line-clamp":a.lineClamp})},{default:be(()=>[Ze(a.$slots,"default")]),_:3},8,["class","style"]))}});var d5e=Pt(u5e,[["__file","text.vue"]]);const f5e=gn(d5e),h5e=Rt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:We(String),default:"light"},clearable:{type:Boolean,default:!0},size:Ji,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:We([String,Object]),default:()=>hY},clearIcon:{type:We([String,Object]),default:()=>xd},...Wg}),Ku=n=>{const e=(n||"").split(":");if(e.length>=2){let t=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=n.toUpperCase();return i.includes("AM")&&t===12?t=0:i.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:r}}return null},B3=(n,e)=>{const t=Ku(n);if(!t)return-1;const r=Ku(e);if(!r)return-1;const i=t.minutes+t.hours*60,a=r.minutes+r.hours*60;return i===a?0:i>a?1:-1},JF=n=>`${n}`.padStart(2,"0"),Q0=n=>`${JF(n.hours)}:${JF(n.minutes)}`,p5e=(n,e)=>{const t=Ku(n);if(!t)return"";const r=Ku(e);if(!r)return"";const i={hours:t.hours,minutes:t.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,Q0(i)},m5e=Ie({name:"ElTimeSelect"}),v5e=Ie({...m5e,props:h5e,emits:["change","blur","focus","clear","update:modelValue"],setup(n,{expose:e}){const t=n;hn.extend(fL);const{Option:r}=rm,i=bt("input"),a=ee(),s=as(),{lang:o}=rr(),l=U(()=>t.modelValue),c=U(()=>{const g=Ku(t.start);return g?Q0(g):null}),u=U(()=>{const g=Ku(t.end);return g?Q0(g):null}),d=U(()=>{const g=Ku(t.step);return g?Q0(g):null}),f=U(()=>{const g=Ku(t.minTime||"");return g?Q0(g):null}),h=U(()=>{const g=Ku(t.maxTime||"");return g?Q0(g):null}),p=U(()=>{const g=[];if(t.start&&t.end&&t.step){let y=c.value,b;for(;y&&u.value&&B3(y,u.value)<=0;)b=hn(y,"HH:mm").locale(o.value).format(t.format),g.push({value:b,disabled:B3(y,f.value||"-1:-1")<=0||B3(y,h.value||"100:100")>=0}),y=p5e(y,d.value)}return g});return e({blur:()=>{var g,y;(y=(g=a.value)==null?void 0:g.blur)==null||y.call(g)},focus:()=>{var g,y;(y=(g=a.value)==null?void 0:g.focus)==null||y.call(g)}}),(g,y)=>(V(),rt(w(rm),{ref_key:"select",ref:a,"model-value":w(l),disabled:w(s),clearable:g.clearable,"clear-icon":g.clearIcon,size:g.size,effect:g.effect,placeholder:g.placeholder,"default-first-option":"",filterable:g.editable,"empty-values":g.emptyValues,"value-on-clear":g.valueOnClear,"onUpdate:modelValue":b=>g.$emit("update:modelValue",b),onChange:b=>g.$emit("change",b),onBlur:b=>g.$emit("blur",b),onFocus:b=>g.$emit("focus",b),onClear:()=>g.$emit("clear")},{prefix:be(()=>[g.prefixIcon?(V(),rt(w(Vt),{key:0,class:j(w(i).e("prefix-icon"))},{default:be(()=>[(V(),rt(Nn(g.prefixIcon)))]),_:1},8,["class"])):Qe("v-if",!0)]),default:be(()=>[(V(!0),ue(zt,null,In(w(p),b=>(V(),rt(w(r),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var g5e=Pt(v5e,[["__file","time-select.vue"]]);const y5e=gn(g5e),b5e=Ie({name:"ElTimeline",setup(n,{slots:e}){const t=bt("timeline");return $n("timeline",e),()=>Gt("ul",{class:[t.b()]},[Ze(e,"default")])}}),_5e=Rt({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:kr},hollow:Boolean}),w5e=Ie({name:"ElTimelineItem"}),x5e=Ie({...w5e,props:_5e,setup(n){const e=n,t=bt("timeline-item"),r=U(()=>[t.e("node"),t.em("node",e.size||""),t.em("node",e.type||""),t.is("hollow",e.hollow)]);return(i,a)=>(V(),ue("li",{class:j([w(t).b(),{[w(t).e("center")]:i.center}])},[me("div",{class:j(w(t).e("tail"))},null,2),i.$slots.dot?Qe("v-if",!0):(V(),ue("div",{key:0,class:j(w(r)),style:Bt({backgroundColor:i.color})},[i.icon?(V(),rt(w(Vt),{key:0,class:j(w(t).e("icon"))},{default:be(()=>[(V(),rt(Nn(i.icon)))]),_:1},8,["class"])):Qe("v-if",!0)],6)),i.$slots.dot?(V(),ue("div",{key:1,class:j(w(t).e("dot"))},[Ze(i.$slots,"dot")],2)):Qe("v-if",!0),me("div",{class:j(w(t).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(V(),ue("div",{key:0,class:j([w(t).e("timestamp"),w(t).is("top")])},Ct(i.timestamp),3)):Qe("v-if",!0),me("div",{class:j(w(t).e("content"))},[Ze(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(V(),ue("div",{key:1,class:j([w(t).e("timestamp"),w(t).is("bottom")])},Ct(i.timestamp),3)):Qe("v-if",!0)],2)],2))}});var wZ=Pt(x5e,[["__file","timeline-item.vue"]]);const S5e=gn(b5e,{TimelineItem:wZ}),C5e=Si(wZ),xZ=Rt({nowrap:Boolean});var SZ=(n=>(n.top="top",n.bottom="bottom",n.left="left",n.right="right",n))(SZ||{});const M5e=Object.values(SZ),VL=Rt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:We(Object),default:null}}),T5e=Rt({side:{type:We(String),values:M5e,required:!0}}),A5e=["absolute","fixed"],E5e=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],$L=Rt({arrowPadding:{type:We(Number),default:5},effect:{type:We(String),default:"light"},contentClass:String,placement:{type:We(String),values:E5e,default:"bottom"},reference:{type:We(Object),default:null},offset:{type:Number,default:8},strategy:{type:We(String),values:A5e,default:"absolute"},showArrow:Boolean,...Ua(["ariaLabel"])}),GL=Rt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:We(Function)},"onUpdate:open":{type:We(Function)}}),Km={type:We(Function)},WL=Rt({onBlur:Km,onClick:Km,onFocus:Km,onMouseDown:Km,onMouseEnter:Km,onMouseLeave:Km}),I5e=Rt({...GL,...VL,...WL,...$L,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:We(Object),default:null},teleported:Boolean,to:{type:We(String),default:"body"}}),RT=Symbol("tooltipV2"),CZ=Symbol("tooltipV2Content"),F3="tooltip_v2.open",R5e=Ie({name:"ElTooltipV2Root"}),P5e=Ie({...R5e,props:GL,setup(n,{expose:e}){const t=n,r=ee(t.defaultOpen),i=ee(null),a=U({get:()=>em(t.open)?r.value:t.open,set:v=>{var g;r.value=v,(g=t["onUpdate:open"])==null||g.call(t,v)}}),s=U(()=>en(t.delayDuration)&&t.delayDuration>0),{start:o,stop:l}=tm(()=>{a.value=!0},U(()=>t.delayDuration),{immediate:!1}),c=bt("tooltip-v2"),u=za(),d=()=>{l(),a.value=!0},f=()=>{w(s)?o():d()},h=d,p=()=>{l(),a.value=!1};return dt(a,v=>{var g;v&&(document.dispatchEvent(new CustomEvent(F3)),h()),(g=t.onOpenChange)==null||g.call(t,v)}),pn(()=>{document.addEventListener(F3,p)}),yr(()=>{l(),document.removeEventListener(F3,p)}),$n(RT,{contentId:u,triggerRef:i,ns:c,onClose:p,onDelayOpen:f,onOpen:h}),e({onOpen:h,onClose:p}),(v,g)=>Ze(v.$slots,"default",{open:w(a)})}});var D5e=Pt(P5e,[["__file","root.vue"]]);const k5e=Ie({name:"ElTooltipV2Arrow"}),L5e=Ie({...k5e,props:{...VL,...T5e},setup(n){const e=n,{ns:t}=Ot(RT),{arrowRef:r}=Ot(CZ),i=U(()=>{const{style:a,width:s,height:o}=e,l=t.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${s}px`,[`--${l}-tooltip-v2-arrow-height`]:`${o}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${s/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:s/2-1,...a||{}}});return(a,s)=>(V(),ue("span",{ref_key:"arrowRef",ref:r,style:Bt(w(i)),class:j(w(t).e("arrow"))},null,6))}});var e9=Pt(L5e,[["__file","arrow.vue"]]);const cg=Math.min,Gp=Math.max,DC=Math.round,Qw=Math.floor,Zf=n=>({x:n,y:n}),N5e={left:"right",right:"left",bottom:"top",top:"bottom"},O5e={start:"end",end:"start"};function rR(n,e,t){return Gp(n,cg(e,t))}function J_(n,e){return typeof n=="function"?n(e):n}function am(n){return n.split("-")[0]}function ew(n){return n.split("-")[1]}function MZ(n){return n==="x"?"y":"x"}function qL(n){return n==="y"?"height":"width"}function PT(n){return["top","bottom"].includes(am(n))?"y":"x"}function KL(n){return MZ(PT(n))}function B5e(n,e,t){t===void 0&&(t=!1);const r=ew(n),i=KL(n),a=qL(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=kC(s)),[s,kC(s)]}function F5e(n){const e=kC(n);return[iR(n),e,iR(e)]}function iR(n){return n.replace(/start|end/g,e=>O5e[e])}function z5e(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function U5e(n,e,t,r){const i=ew(n);let a=z5e(am(n),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(iR)))),a}function kC(n){return n.replace(/left|right|bottom|top/g,e=>N5e[e])}function H5e(n){return{top:0,right:0,bottom:0,left:0,...n}}function TZ(n){return typeof n!="number"?H5e(n):{top:n,right:n,bottom:n,left:n}}function LC(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function t9(n,e,t){let{reference:r,floating:i}=n;const a=PT(e),s=KL(e),o=qL(s),l=am(e),c=a==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(ew(e)){case"start":h[s]-=f*(t&&c?-1:1);break;case"end":h[s]+=f*(t&&c?-1:1);break}return h}const V5e=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=t9(c,r,l),f=r,h={},p=0;for(let m=0;m<o.length;m++){const{name:v,fn:g}=o[m],{x:y,y:b,data:_,reset:x}=await g({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:n,floating:e}});if(u=y??u,d=b??d,h={...h,[v]:{...h[v],..._}},x&&p<=50){p++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(c=x.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):x.rects),{x:u,y:d}=t9(c,f,l)),m=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function YL(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=J_(e,n),p=TZ(h),v=o[f?d==="floating"?"reference":"floating":d],g=LC(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(v)))==null||t?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{...s.floating,x:r,y:i}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},x=LC(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-x.top+p.top)/_.y,bottom:(x.bottom-g.bottom+p.bottom)/_.y,left:(g.left-x.left+p.left)/_.x,right:(x.right-g.right+p.right)/_.x}}const AZ=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:s,elements:o}=e,{element:l,padding:c=0}=J_(n,e)||{};if(l==null)return{};const u=TZ(c),d={x:t,y:r},f=KL(i),h=qL(f),p=await s.getDimensions(l),m=f==="y",v=m?"top":"left",g=m?"bottom":"right",y=m?"clientHeight":"clientWidth",b=a.reference[h]+a.reference[f]-d[f]-a.floating[h],_=d[f]-a.reference[f],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let S=x?x[y]:0;(!S||!await(s.isElement==null?void 0:s.isElement(x)))&&(S=o.floating[y]||a.floating[h]);const T=b/2-_/2,C=S/2-p[h]/2-1,M=cg(u[v],C),A=cg(u[g],C),I=M,D=S-p[h]-A,L=S/2-p[h]/2+T,F=rR(I,L,D),k=ew(i)!=null&&L!=F&&a.reference[h]/2-(L<I?M:A)-p[h]/2<0?L<I?I-L:D-L:0;return{[f]:d[f]-k,data:{[f]:F,centerOffset:L-F+k}}}}),$5e=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:r,middlewareData:i,rects:a,initialPlacement:s,platform:o,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...m}=J_(n,e),v=am(r),g=am(s)===s,y=await(o.isRTL==null?void 0:o.isRTL(l.floating)),b=d||(g||!p?[kC(s)]:F5e(s));!d&&h!=="none"&&b.push(...U5e(s,p,h,y));const _=[s,...b],x=await YL(e,m),S=[];let T=((t=i.flip)==null?void 0:t.overflows)||[];if(c&&S.push(x[v]),u){const I=B5e(r,a,y);S.push(x[I[0]],x[I[1]])}if(T=[...T,{placement:r,overflows:S}],!S.every(I=>I<=0)){var C,M;const I=(((C=i.flip)==null?void 0:C.index)||0)+1,D=_[I];if(D)return{data:{index:I,overflows:T},reset:{placement:D}};let L=(M=T.filter(F=>F.overflows[0]<=0).sort((F,B)=>F.overflows[1]-B.overflows[1])[0])==null?void 0:M.placement;if(!L)switch(f){case"bestFit":{var A;const F=(A=T.map(B=>[B.placement,B.overflows.filter(k=>k>0).reduce((k,H)=>k+H,0)]).sort((B,k)=>B[1]-k[1])[0])==null?void 0:A[0];F&&(L=F);break}case"initialPlacement":L=s;break}if(r!==L)return{reset:{placement:L}}}return{}}}};async function G5e(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=am(t),o=ew(t),l=PT(t)==="y",c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=J_(e,n);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&typeof p=="number"&&(h=o==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const EZ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:r}=e,i=await G5e(e,n);return{x:t+i.x,y:r+i.y,data:i}}}},W5e=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...l}=J_(n,e),c={x:t,y:r},u=await YL(e,l),d=PT(am(i)),f=MZ(d);let h=c[f],p=c[d];if(a){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=h+u[v],b=h-u[g];h=rR(y,h,b)}if(s){const v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=p+u[v],b=p-u[g];p=rR(y,p,b)}const m=o.fn({...e,[f]:h,[d]:p});return{...m,data:{x:m.x-t,y:m.y-r}}}}};function Qf(n){return IZ(n)?(n.nodeName||"").toLowerCase():"#document"}function Uo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Cd(n){var e;return(e=(IZ(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function IZ(n){return n instanceof Node||n instanceof Uo(n).Node}function cd(n){return n instanceof Element||n instanceof Uo(n).Element}function iu(n){return n instanceof HTMLElement||n instanceof Uo(n).HTMLElement}function n9(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Uo(n).ShadowRoot}function tw(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=kl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function q5e(n){return["table","td","th"].includes(Qf(n))}function XL(n){const e=jL(),t=kl(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function jL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function DT(n){return["html","body","#document"].includes(Qf(n))}function kl(n){return Uo(n).getComputedStyle(n)}function kT(n){return cd(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function ug(n){if(Qf(n)==="html")return n;const e=n.assignedSlot||n.parentNode||n9(n)&&n.host||Cd(n);return n9(e)?e.host:e}function RZ(n){const e=ug(n);return DT(e)?n.ownerDocument?n.ownerDocument.body:n.body:iu(e)&&tw(e)?e:RZ(e)}function NC(n,e){var t;e===void 0&&(e=[]);const r=RZ(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Uo(r);return i?e.concat(a,a.visualViewport||[],tw(r)?r:[]):e.concat(r,NC(r))}function PZ(n){const e=kl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=iu(n),a=i?n.offsetWidth:t,s=i?n.offsetHeight:r,o=DC(t)!==a||DC(r)!==s;return o&&(t=a,r=s),{width:t,height:r,$:o}}function ZL(n){return cd(n)?n:n.contextElement}function Dv(n){const e=ZL(n);if(!iu(e))return Zf(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=PZ(e);let s=(a?DC(t.width):t.width)/r,o=(a?DC(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const K5e=Zf(0);function DZ(n){const e=Uo(n);return!jL()||!e.visualViewport?K5e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Y5e(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Uo(n)?!1:e}function sm(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=ZL(n);let s=Zf(1);e&&(r?cd(r)&&(s=Dv(r)):s=Dv(n));const o=Y5e(a,t,r)?DZ(a):Zf(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(a){const f=Uo(a),h=r&&cd(r)?Uo(r):r;let p=f.frameElement;for(;p&&r&&h!==f;){const m=Dv(p),v=p.getBoundingClientRect(),g=kl(p),y=v.left+(p.clientLeft+parseFloat(g.paddingLeft))*m.x,b=v.top+(p.clientTop+parseFloat(g.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=y,c+=b,p=Uo(p).frameElement}}return LC({width:u,height:d,x:l,y:c})}function X5e(n){let{rect:e,offsetParent:t,strategy:r}=n;const i=iu(t),a=Cd(t);if(t===a)return e;let s={scrollLeft:0,scrollTop:0},o=Zf(1);const l=Zf(0);if((i||!i&&r!=="fixed")&&((Qf(t)!=="body"||tw(a))&&(s=kT(t)),iu(t))){const c=sm(t);o=Dv(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-s.scrollLeft*o.x+l.x,y:e.y*o.y-s.scrollTop*o.y+l.y}}function j5e(n){return Array.from(n.getClientRects())}function kZ(n){return sm(Cd(n)).left+kT(n).scrollLeft}function Z5e(n){const e=Cd(n),t=kT(n),r=n.ownerDocument.body,i=Gp(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=Gp(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+kZ(n);const o=-t.scrollTop;return kl(r).direction==="rtl"&&(s+=Gp(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Q5e(n,e){const t=Uo(n),r=Cd(n),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=jL();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function J5e(n,e){const t=sm(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=iu(n)?Dv(n):Zf(1),s=n.clientWidth*a.x,o=n.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function r9(n,e,t){let r;if(e==="viewport")r=Q5e(n,t);else if(e==="document")r=Z5e(Cd(n));else if(cd(e))r=J5e(e,t);else{const i=DZ(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return LC(r)}function LZ(n,e){const t=ug(n);return t===e||!cd(t)||DT(t)?!1:kl(t).position==="fixed"||LZ(t,e)}function eRe(n,e){const t=e.get(n);if(t)return t;let r=NC(n).filter(o=>cd(o)&&Qf(o)!=="body"),i=null;const a=kl(n).position==="fixed";let s=a?ug(n):n;for(;cd(s)&&!DT(s);){const o=kl(s),l=XL(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||tw(s)&&!l&&LZ(n,s))?r=r.filter(u=>u!==s):i=o,s=ug(s)}return e.set(n,r),r}function tRe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?eRe(e,this._c):[].concat(t),r],o=s[0],l=s.reduce((c,u)=>{const d=r9(e,u,i);return c.top=Gp(d.top,c.top),c.right=cg(d.right,c.right),c.bottom=cg(d.bottom,c.bottom),c.left=Gp(d.left,c.left),c},r9(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nRe(n){return PZ(n)}function rRe(n,e,t){const r=iu(e),i=Cd(e),a=t==="fixed",s=sm(n,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=Zf(0);if(r||!r&&!a)if((Qf(e)!=="body"||tw(i))&&(o=kT(e)),r){const c=sm(e,!0,a,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=kZ(i));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function i9(n,e){return!iu(n)||kl(n).position==="fixed"?null:e?e(n):n.offsetParent}function iRe(n){let e=ug(n);for(;iu(e)&&!DT(e);){if(XL(e))return e;e=ug(e)}return null}function NZ(n,e){const t=Uo(n);if(!iu(n))return t;let r=i9(n,e);for(;r&&q5e(r)&&kl(r).position==="static";)r=i9(r,e);return r&&(Qf(r)==="html"||Qf(r)==="body"&&kl(r).position==="static"&&!XL(r))?t:r||iRe(n)||t}const aRe=async function(n){let{reference:e,floating:t,strategy:r}=n;const i=this.getOffsetParent||NZ,a=this.getDimensions;return{reference:rRe(e,await i(t),r),floating:{x:0,y:0,...await a(t)}}};function sRe(n){return kl(n).direction==="rtl"}const oRe={convertOffsetParentRelativeRectToViewportRelativeRect:X5e,getDocumentElement:Cd,getClippingRect:tRe,getOffsetParent:NZ,getElementRects:aRe,getClientRects:j5e,getDimensions:nRe,getScale:Dv,isElement:cd,isRTL:sRe};function lRe(n,e){let t=null,r;const i=Cd(n);function a(){clearTimeout(r),t&&t.disconnect(),t=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:d,height:f}=n.getBoundingClientRect();if(o||e(),!d||!f)return;const h=Qw(u),p=Qw(i.clientWidth-(c+d)),m=Qw(i.clientHeight-(u+f)),v=Qw(c),y={rootMargin:-h+"px "+-p+"px "+-m+"px "+-v+"px",threshold:Gp(0,cg(1,l))||1};let b=!0;function _(x){const S=x[0].intersectionRatio;if(S!==l){if(!b)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}b=!1}try{t=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{t=new IntersectionObserver(_,y)}t.observe(n)}return s(!0),a}function cRe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ZL(n),u=i||a?[...c?NC(c):[],...NC(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",t,{passive:!0}),a&&g.addEventListener("resize",t)});const d=c&&o?lRe(c,t):null;let f=-1,h=null;s&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(e)})),t()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?sm(n):null;l&&v();function v(){const g=sm(n);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&t(),m=g,p=requestAnimationFrame(v)}return t(),()=>{u.forEach(g=>{i&&g.removeEventListener("scroll",t),a&&g.removeEventListener("resize",t)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const OZ=(n,e,t)=>{const r=new Map,i={platform:oRe,...t},a={...i.platform,_c:r};return V5e(n,e,{...i,platform:a})},uRe=Rt({style:{type:We([String,Object,Array]),default:()=>({})}}),dRe=Ie({name:"ElVisuallyHidden"}),fRe=Ie({...dRe,props:uRe,setup(n){const e=n,t=U(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(V(),ue("span",Hn(r.$attrs,{style:w(t)}),[Ze(r.$slots,"default")],16))}});var hRe=Pt(fRe,[["__file","visual-hidden.vue"]]);Rt({});const pRe=n=>{if(!nr)return;if(!n)return n;const e=zs(n);return e||(Kr(n)?e:n)},mRe=({middleware:n,placement:e,strategy:t})=>{const r=ee(),i=ee(),a=ee(),s=ee(),o=ee({}),l={x:a,y:s,placement:e,strategy:t,middlewareData:o},c=async()=>{if(!nr)return;const u=pRe(r),d=zs(i);if(!u||!d)return;const f=await OZ(u,d,{placement:w(e),strategy:w(t),middleware:w(n)});Jv(l).forEach(h=>{l[h].value=f[h]})};return pn(()=>{Ta(()=>{c()})}),{...l,update:c,referenceRef:r,contentRef:i}},vRe=({arrowRef:n,padding:e})=>({name:"arrow",options:{element:n,padding:e},fn(t){const r=w(n);return r?AZ({element:r,padding:e}).fn(t):{}}}),gRe=Ie({name:"ElTooltipV2Content"}),yRe=Ie({...gRe,props:{...$L,...xZ},setup(n){const e=n,{triggerRef:t,contentId:r}=Ot(RT),i=ee(e.placement),a=ee(e.strategy),s=ee(null),{referenceRef:o,contentRef:l,middlewareData:c,x:u,y:d,update:f}=mRe({placement:i,strategy:a,middleware:U(()=>{const b=[EZ(e.offset)];return e.showArrow&&b.push(vRe({arrowRef:s})),b})}),h=Gg().nextZIndex(),p=bt("tooltip-v2"),m=U(()=>i.value.split("-")[0]),v=U(()=>({position:w(a),top:`${w(d)||0}px`,left:`${w(u)||0}px`,zIndex:h})),g=U(()=>{if(!e.showArrow)return{};const{arrow:b}=w(c);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),y=U(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(w(a)),e.contentClass]);return dt(s,()=>f()),dt(()=>e.placement,b=>i.value=b),pn(()=>{dt(()=>e.reference||t.value,b=>{o.value=b||void 0},{immediate:!0})}),$n(CZ,{arrowRef:s}),(b,_)=>(V(),ue("div",{ref_key:"contentRef",ref:l,style:Bt(w(v)),"data-tooltip-v2-root":""},[b.nowrap?Qe("v-if",!0):(V(),ue("div",{key:0,"data-side":w(m),class:j(w(y))},[Ze(b.$slots,"default",{contentStyle:w(v),contentClass:w(y)}),se(w(hRe),{id:w(r),role:"tooltip"},{default:be(()=>[b.ariaLabel?(V(),ue(zt,{key:0},[dn(Ct(b.ariaLabel),1)],64)):Ze(b.$slots,"default",{key:1})]),_:3},8,["id"]),Ze(b.$slots,"arrow",{style:Bt(w(g)),side:w(m)})],10,["data-side"]))],4))}});var a9=Pt(yRe,[["__file","content.vue"]]);const bRe=Rt({setRef:{type:We(Function),required:!0},onlyChild:Boolean});var _Re=Ie({props:bRe,setup(n,{slots:e}){const t=ee(),r=MT(t,i=>{i?n.setRef(i.nextElementSibling):n.setRef(null)});return()=>{var i;const[a]=((i=e.default)==null?void 0:i.call(e))||[],s=n.onlyChild?Kbe(a.children):a.children;return se(zt,{ref:r},[s])}}});const wRe=Ie({name:"ElTooltipV2Trigger"}),xRe=Ie({...wRe,props:{...xZ,...WL},setup(n){const e=n,{onClose:t,onOpen:r,onDelayOpen:i,triggerRef:a,contentId:s}=Ot(RT);let o=!1;const l=y=>{a.value=y},c=()=>{o=!1},u=Ri(e.onMouseEnter,i),d=Ri(e.onMouseLeave,t),f=Ri(e.onMouseDown,()=>{t(),o=!0,document.addEventListener("mouseup",c,{once:!0})}),h=Ri(e.onFocus,()=>{o||r()}),p=Ri(e.onBlur,t),m=Ri(e.onClick,y=>{y.detail===0&&t()}),v={blur:p,click:m,focus:h,mousedown:f,mouseenter:u,mouseleave:d},g=(y,b,_)=>{y&&Object.entries(b).forEach(([x,S])=>{y[_](x,S)})};return dt(a,(y,b)=>{g(y,v,"addEventListener"),g(b,v,"removeEventListener"),y&&y.setAttribute("aria-describedby",s.value)}),yr(()=>{g(a.value,v,"removeEventListener"),document.removeEventListener("mouseup",c)}),(y,b)=>y.nowrap?(V(),rt(w(_Re),{key:0,"set-ref":l,"only-child":""},{default:be(()=>[Ze(y.$slots,"default")]),_:3})):(V(),ue("button",Hn({key:1,ref_key:"triggerRef",ref:a},y.$attrs),[Ze(y.$slots,"default")],16))}});var SRe=Pt(xRe,[["__file","trigger.vue"]]);const CRe=Ie({name:"ElTooltipV2"}),MRe=Ie({...CRe,props:I5e,setup(n){const t=la(n),r=mr(sc(t,Object.keys(VL))),i=mr(sc(t,Object.keys($L))),a=mr(sc(t,Object.keys(GL))),s=mr(sc(t,Object.keys(WL)));return(o,l)=>(V(),rt(D5e,ic($f(a)),{default:be(({open:c})=>[se(SRe,Hn(s,{nowrap:""}),{default:be(()=>[Ze(o.$slots,"trigger")]),_:3},16),se(w(Kg),{to:o.to,disabled:!o.teleported},{default:be(()=>[o.fullTransition?(V(),rt(ca,ic(Hn({key:0},o.transitionProps)),{default:be(()=>[o.alwaysOn||c?(V(),rt(a9,ic(Hn({key:0},i)),{arrow:be(({style:u,side:d})=>[o.showArrow?(V(),rt(e9,Hn({key:0},r,{style:u,side:d}),null,16,["style","side"])):Qe("v-if",!0)]),default:be(()=>[Ze(o.$slots,"default")]),_:3},16)):Qe("v-if",!0)]),_:2},1040)):(V(),ue(zt,{key:1},[o.alwaysOn||c?(V(),rt(a9,ic(Hn({key:0},i)),{arrow:be(({style:u,side:d})=>[o.showArrow?(V(),rt(e9,Hn({key:0},r,{style:u,side:d}),null,16,["style","side"])):Qe("v-if",!0)]),default:be(()=>[Ze(o.$slots,"default")]),_:3},16)):Qe("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var TRe=Pt(MRe,[["__file","tooltip.vue"]]);const ARe=gn(TRe),BZ="left-check-change",FZ="right-check-change",J0=Rt({data:{type:We(Array),default:()=>[]},titles:{type:We(Array),default:()=>[]},buttonTexts:{type:We(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:We(Function)},leftDefaultChecked:{type:We(Array),default:()=>[]},rightDefaultChecked:{type:We(Array),default:()=>[]},renderContent:{type:We(Function)},modelValue:{type:We(Array),default:()=>[]},format:{type:We(Object),default:()=>({})},filterable:Boolean,props:{type:We(Object),default:()=>_i({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),aR=(n,e)=>[n,e].every(Tt)||Tt(n)&&ma(e),ERe={[Rr]:(n,e,t)=>[n,t].every(Tt)&&["left","right"].includes(e),[Mn]:n=>Tt(n),[BZ]:aR,[FZ]:aR},sR="checked-change",IRe=Rt({data:J0.data,optionRender:{type:We(Function)},placeholder:String,title:String,filterable:Boolean,format:J0.format,filterMethod:J0.filterMethod,defaultChecked:J0.leftDefaultChecked,props:J0.props}),RRe={[sR]:aR},nw=n=>{const e={label:"label",key:"key",disabled:"disabled"};return U(()=>({...e,...n.props}))},PRe=(n,e,t)=>{const r=nw(n),i=U(()=>n.data.filter(u=>Zt(n.filterMethod)?n.filterMethod(e.query,u):String(u[r.value.label]||u[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),a=U(()=>i.value.filter(u=>!u[r.value.disabled])),s=U(()=>{const u=e.checked.length,d=n.data.length,{noChecked:f,hasChecked:h}=n.format;return f&&h?u>0?h.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${u}/${d}`}),o=U(()=>{const u=e.checked.length;return u>0&&u<a.value.length}),l=()=>{const u=a.value.map(d=>d[r.value.key]);e.allChecked=u.length>0&&u.every(d=>e.checked.includes(d))},c=u=>{e.checked=u?a.value.map(d=>d[r.value.key]):[]};return dt(()=>e.checked,(u,d)=>{if(l(),e.checkChangeByUser){const f=u.concat(d).filter(h=>!u.includes(h)||!d.includes(h));t(sR,u,f)}else t(sR,u),e.checkChangeByUser=!0}),dt(a,()=>{l()}),dt(()=>n.data,()=>{const u=[],d=i.value.map(f=>f[r.value.key]);e.checked.forEach(f=>{d.includes(f)&&u.push(f)}),e.checkChangeByUser=!1,e.checked=u}),dt(()=>n.defaultChecked,(u,d)=>{if(d&&u.length===d.length&&u.every(p=>d.includes(p)))return;const f=[],h=a.value.map(p=>p[r.value.key]);u.forEach(p=>{h.includes(p)&&f.push(p)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:i,checkableData:a,checkedSummary:s,isIndeterminate:o,updateAllChecked:l,handleAllCheckedChange:c}},DRe=Ie({name:"ElTransferPanel"}),kRe=Ie({...DRe,props:IRe,emits:RRe,setup(n,{expose:e,emit:t}){const r=n,i=ea(),a=({option:b})=>b,{t:s}=rr(),o=bt("transfer"),l=mr({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=nw(r),{filteredData:u,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:h}=PRe(r,l,t),p=U(()=>!Lo(l.query)&&Lo(u.value)),m=U(()=>!Lo(i.default()[0].children)),{checked:v,allChecked:g,query:y}=la(l);return e({query:y}),(b,_)=>(V(),ue("div",{class:j(w(o).b("panel"))},[me("p",{class:j(w(o).be("panel","header"))},[se(w(Dl),{modelValue:w(g),"onUpdate:modelValue":x=>Kr(g)?g.value=x:null,indeterminate:w(f),"validate-event":!1,onChange:w(h)},{default:be(()=>[dn(Ct(b.title)+" ",1),me("span",null,Ct(w(d)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),me("div",{class:j([w(o).be("panel","body"),w(o).is("with-footer",w(m))])},[b.filterable?(V(),rt(w(xs),{key:0,modelValue:w(y),"onUpdate:modelValue":x=>Kr(y)?y.value=x:null,class:j(w(o).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":w(sve),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Qe("v-if",!0),Sn(se(w(fX),{modelValue:w(v),"onUpdate:modelValue":x=>Kr(v)?v.value=x:null,"validate-event":!1,class:j([w(o).is("filterable",b.filterable),w(o).be("panel","list")])},{default:be(()=>[(V(!0),ue(zt,null,In(w(u),x=>(V(),rt(w(Dl),{key:x[w(c).key],class:j(w(o).be("panel","item")),value:x[w(c).key],disabled:x[w(c).disabled],"validate-event":!1},{default:be(()=>{var S;return[se(a,{option:(S=b.optionRender)==null?void 0:S.call(b,x)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[fr,!w(p)&&!w(Lo)(b.data)]]),Sn(me("div",{class:j(w(o).be("panel","empty"))},[Ze(b.$slots,"empty",{},()=>[dn(Ct(w(p)?w(s)("el.transfer.noMatch"):w(s)("el.transfer.noData")),1)])],2),[[fr,w(p)||w(Lo)(b.data)]])],2),w(m)?(V(),ue("p",{key:0,class:j(w(o).be("panel","footer"))},[Ze(b.$slots,"default")],2)):Qe("v-if",!0)],2))}});var s9=Pt(kRe,[["__file","transfer-panel.vue"]]);const LRe=n=>{const e=nw(n),t=U(()=>n.data.reduce((a,s)=>(a[s[e.value.key]]=s)&&a,{})),r=U(()=>n.data.filter(a=>!n.modelValue.includes(a[e.value.key]))),i=U(()=>n.targetOrder==="original"?n.data.filter(a=>n.modelValue.includes(a[e.value.key])):n.modelValue.reduce((a,s)=>{const o=t.value[s];return o&&a.push(o),a},[]));return{sourceData:r,targetData:i}},NRe=(n,e,t)=>{const r=nw(n),i=(o,l,c)=>{t(Mn,o),t(Rr,o,l,c)};return{addToLeft:()=>{const o=n.modelValue.slice();e.rightChecked.forEach(l=>{const c=o.indexOf(l);c>-1&&o.splice(c,1)}),i(o,"left",e.rightChecked)},addToRight:()=>{let o=n.modelValue.slice();const l=n.data.filter(c=>{const u=c[r.value.key];return e.leftChecked.includes(u)&&!n.modelValue.includes(u)}).map(c=>c[r.value.key]);o=n.targetOrder==="unshift"?l.concat(o):o.concat(l),n.targetOrder==="original"&&(o=n.data.filter(c=>o.includes(c[r.value.key])).map(c=>c[r.value.key])),i(o,"right",e.leftChecked)}}},ORe=(n,e)=>({onSourceCheckedChange:(i,a)=>{n.leftChecked=i,a&&e(BZ,i,a)},onTargetCheckedChange:(i,a)=>{n.rightChecked=i,a&&e(FZ,i,a)}}),BRe=Ie({name:"ElTransfer"}),FRe=Ie({...BRe,props:J0,emits:ERe,setup(n,{expose:e,emit:t}){const r=n,i=ea(),{t:a}=rr(),s=bt("transfer"),{formItem:o}=is(),l=mr({leftChecked:[],rightChecked:[]}),c=nw(r),{sourceData:u,targetData:d}=LRe(r),{onSourceCheckedChange:f,onTargetCheckedChange:h}=ORe(l,t),{addToLeft:p,addToRight:m}=NRe(r,l,t),v=ee(),g=ee(),y=C=>{switch(C){case"left":v.value.query="";break;case"right":g.value.query="";break}},b=U(()=>r.buttonTexts.length===2),_=U(()=>r.titles[0]||a("el.transfer.titles.0")),x=U(()=>r.titles[1]||a("el.transfer.titles.1")),S=U(()=>r.filterPlaceholder||a("el.transfer.filterPlaceholder"));dt(()=>r.modelValue,()=>{var C;r.validateEvent&&((C=o==null?void 0:o.validate)==null||C.call(o,"change").catch(M=>void 0))});const T=U(()=>C=>{var M;if(r.renderContent)return r.renderContent(Gt,C);const A=(((M=i.default)==null?void 0:M.call(i,{option:C}))||[]).filter(I=>I.type!==Ss);return A.length?A:Gt("span",C[c.value.label]||C[c.value.key])});return e({clearQuery:y,leftPanel:v,rightPanel:g}),(C,M)=>(V(),ue("div",{class:j(w(s).b())},[se(s9,{ref_key:"leftPanel",ref:v,data:w(u),"option-render":w(T),placeholder:w(S),title:w(_),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,"default-checked":C.leftDefaultChecked,props:r.props,onCheckedChange:w(f)},{empty:be(()=>[Ze(C.$slots,"left-empty")]),default:be(()=>[Ze(C.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),me("div",{class:j(w(s).e("buttons"))},[se(w(Aa),{type:"primary",class:j([w(s).e("button"),w(s).is("with-texts",w(b))]),disabled:w(Lo)(l.rightChecked),onClick:w(p)},{default:be(()=>[se(w(Vt),null,{default:be(()=>[se(w(Kf))]),_:1}),w(Mr)(C.buttonTexts[0])?Qe("v-if",!0):(V(),ue("span",{key:0},Ct(C.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),se(w(Aa),{type:"primary",class:j([w(s).e("button"),w(s).is("with-texts",w(b))]),disabled:w(Lo)(l.leftChecked),onClick:w(m)},{default:be(()=>[w(Mr)(C.buttonTexts[1])?Qe("v-if",!0):(V(),ue("span",{key:0},Ct(C.buttonTexts[1]),1)),se(w(Vt),null,{default:be(()=>[se(w(Hs))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),se(s9,{ref_key:"rightPanel",ref:g,data:w(d),"option-render":w(T),placeholder:w(S),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,title:w(x),"default-checked":C.rightDefaultChecked,props:r.props,onCheckedChange:w(h)},{empty:be(()=>[Ze(C.$slots,"right-empty")]),default:be(()=>[Ze(C.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var zRe=Pt(FRe,[["__file","transfer.vue"]]);const URe=gn(zRe),kv="$treeNodeId",o9=function(n,e){!e||e[kv]||Object.defineProperty(e,kv,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},QL=function(n,e){return n?e[n]:e[kv]},oR=(n,e,t)=>{const r=n.value.currentNode;t();const i=n.value.currentNode;r!==i&&e("current-change",i?i.data:null,i)},lR=n=>{let e=!0,t=!0,r=!0;for(let i=0,a=n.length;i<a;i++){const s=n[i];(s.checked!==!0||s.indeterminate)&&(e=!1,s.disabled||(r=!1)),(s.checked!==!1||s.indeterminate)&&(t=!1)}return{all:e,none:t,allWithoutDisable:r,half:!e&&!t}},b1=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:t,half:r}=lR(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):r?(n.checked=!1,n.indeterminate=!0):t&&(n.checked=!1,n.indeterminate=!1);const i=n.parent;!i||i.level===0||n.store.checkStrictly||b1(i)},Jw=function(n,e){const t=n.store.props,r=n.data||{},i=t[e];if(Zt(i))return i(r,n);if(qt(i))return r[i];if(Mr(i)){const a=r[e];return a===void 0?"":a}};let HRe=0,cR=class C2{constructor(e){this.id=HRe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)sr(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&typeof t.isLeaf<"u"){const a=Jw(this,"isLeaf");Vr(a)&&(this.isLeafByUser=a)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Tt(this.data)||o9(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,i=e.key;i&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),i&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Tt(e)||o9(this,e),this.data=e,this.childNodes=[];let t;this.level===0&&Tt(this.data)?t=this.data:t=Jw(this,"children")||[];for(let r=0,i=t.length;r<i;r++)this.insertChild({data:t[r]})}get label(){return Jw(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return Jw(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(r=>r===e||t&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof C2)){if(!r){const i=this.getChildren(!0);i.includes(e.data)||(Mr(t)||t<0?i.push(e.data):i.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=mr(new C2(e)),e instanceof C2&&e.initialize()}e.level=this.level+1,Mr(t)||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let r;t&&(r=this.childNodes.indexOf(t)),this.insertChild(e,r)}insertAfter(e,t){let r;t&&(r=this.childNodes.indexOf(t),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const t=this.getChildren()||[],r=t.indexOf(e.data);r>-1&&t.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){t=this.childNodes[r];break}t&&this.removeChild(t)}expand(e,t){const r=()=>{if(t){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{Tt(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||b1(this),r())}):r()}doCreateChildren(e,t={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},t),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,t,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:o}=lR(this.childNodes);!this.isLeaf&&!s&&o&&(this.checked=!1,e=!1);const l=()=>{if(t){const c=this.childNodes;for(let f=0,h=c.length;f<h;f++){const p=c[f];i=i||e!==!1;const m=p.disabled?p.checked:i;p.setChecked(m,t,!0,i)}const{half:u,all:d}=lR(c);d||(this.checked=d,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),b1(this)},{checked:e!==!1});return}else l()}const a=this.parent;!a||a.level===0||r||b1(a)}getChildren(e=!1){if(this.level===0)return this.data;const t=this.data;if(!t)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),t[i]===void 0&&(t[i]=null),e&&!t[i]&&(t[i]=[]),t[i]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(a=>a.data),r={},i=[];e.forEach((a,s)=>{const o=a[kv];!!o&&t.findIndex(c=>c[kv]===o)>=0?r[o]={index:s,data:a}:i.push({index:s,data:a})}),this.store.lazy||t.forEach(a=>{r[a[kv]]||this.removeChildByData(a)}),i.forEach(({index:a,data:s})=>{this.insertChild({data:s},a)}),this.updateLeafState()}loadData(e,t={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(t).length)){this.loading=!0;const r=a=>{this.childNodes=[],this.doCreateChildren(a,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else e&&e.call(this)}eachNode(e){const t=[this];for(;t.length;){const r=t.shift();t.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||b1(this)}};class VRe{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)sr(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new cR({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,t=>{this.root.doCreateChildren(t),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,r=this.lazy,i=function(a){const s=a.root?a.root.childNodes:a.childNodes;if(s.forEach(o=>{o.visible=t.call(o,e,o.data,o),i(o)}),!a.visible&&s.length){let o=!0;o=!s.some(l=>l.visible),a.root?a.root.visible=o===!1:a.visible=o===!1}e&&a.visible&&!a.isLeaf&&(!r||a.loaded)&&a.expand()};i(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof cR)return e;const t=Pn(e)?QL(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){const r=this.getNode(t);r.parent.insertBefore({data:e},r)}insertAfter(e,t){const r=this.getNode(t);r.parent.insertAfter({data:e},r)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const r=em(t)?this.root:this.getNode(t);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(r=>{const i=t[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;!e||!e.data||(t?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const r=[],i=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(o=>{(o.checked||t&&o.indeterminate)&&(!e||e&&o.isLeaf)&&r.push(o.data),i(o)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(t=>(t||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),t(a)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const r in t)sr(t,r)&&e.push(t[r]);return e}updateChildren(e,t){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let a=i.length-1;a>=0;a--){const s=i[a];this.remove(s.data)}for(let a=0,s=t.length;a<s;a++){const o=t[a];this.append(o,r.data)}}_setCheckedKeys(e,t=!1,r){const i=this._getAllNodes().sort((l,c)=>l.level-c.level),a=Object.create(null),s=Object.keys(r);i.forEach(l=>l.setChecked(!1,!1));const o=l=>{l.childNodes.forEach(c=>{var u;a[c.data[e]]=!0,(u=c.childNodes)!=null&&u.length&&o(c)})};for(let l=0,c=i.length;l<c;l++){const u=i[l],d=u.data[e].toString();if(!s.includes(d)){u.checked&&!a[d]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&o(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),t){u.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(v=>{v.isLeaf||v.setChecked(!1,!1),h(v)})};h(u)}}}setCheckedNodes(e,t=!1){const r=this.key,i={};e.forEach(a=>{i[(a||{})[r]]=!0}),this._setCheckedKeys(r,t,i)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(a=>{i[a]=!0}),this._setCheckedKeys(r,t,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(t=>{const r=this.getNode(t);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,t,r){const i=this.getNode(e);i&&i.setChecked(!!t,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(this.currentNodeKey=e,e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const $Re=Ie({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=bt("tree"),t=Ot("NodeInstance"),r=Ot("RootTree");return()=>{const i=n.node,{data:a,store:s}=i;return n.renderContent?n.renderContent(Gt,{_self:t,node:i,data:a,store:s}):Ze(r.ctx.slots,"default",{node:i,data:a},()=>[Gt("span",{class:e.be("node","label")},[i.label])])}}});var GRe=Pt($Re,[["__file","tree-node-content.vue"]]);function zZ(n){const e=Ot("TreeNodeMap",null),t={treeNodeExpand:r=>{n.node!==r&&n.node.collapse()},children:[]};return e&&e.children.push(t),$n("TreeNodeMap",t),{broadcastExpanded:r=>{if(n.accordion)for(const i of t.children)i.treeNodeExpand(r)}}}const UZ=Symbol("dragEvents");function WRe({props:n,ctx:e,el$:t,dropIndicator$:r,store:i}){const a=bt("tree"),s=ee({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return $n(UZ,{treeNodeDragStart:({event:u,treeNode:d})=>{if(Zt(n.allowDrag)&&!n.allowDrag(d.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=d,e.emit("node-drag-start",d.node,u)},treeNodeDragOver:({event:u,treeNode:d})=>{const f=d,h=s.value.dropNode;h&&h.node.id!==f.node.id&&Cs(h.$el,a.is("drop-inner"));const p=s.value.draggingNode;if(!p||!f)return;let m=!0,v=!0,g=!0,y=!0;Zt(n.allowDrop)&&(m=n.allowDrop(p.node,f.node,"prev"),y=v=n.allowDrop(p.node,f.node,"inner"),g=n.allowDrop(p.node,f.node,"next")),u.dataTransfer.dropEffect=v||m||g?"move":"none",(m||v||g)&&(h==null?void 0:h.node.id)!==f.node.id&&(h&&e.emit("node-drag-leave",p.node,h.node,u),e.emit("node-drag-enter",p.node,f.node,u)),m||v||g?s.value.dropNode=f:s.value.dropNode=null,f.node.nextSibling===p.node&&(g=!1),f.node.previousSibling===p.node&&(m=!1),f.node.contains(p.node,!1)&&(v=!1),(p.node===f.node||p.node.contains(f.node))&&(m=!1,v=!1,g=!1);const b=f.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),_=t.value.getBoundingClientRect();let x;const S=m?v?.25:g?.45:1:-1,T=g?v?.75:m?.55:0:1;let C=-9999;const M=u.clientY-b.top;M<b.height*S?x="before":M>b.height*T?x="after":v?x="inner":x="none";const A=f.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),I=r.value;x==="before"?C=A.top-_.top:x==="after"&&(C=A.bottom-_.top),I.style.top=`${C}px`,I.style.left=`${A.right-_.left}px`,x==="inner"?vl(f.$el,a.is("drop-inner")):Cs(f.$el,a.is("drop-inner")),s.value.showDropIndicator=x==="before"||x==="after",s.value.allowDrop=s.value.showDropIndicator||y,s.value.dropType=x,e.emit("node-drag-over",p.node,f.node,u)},treeNodeDragEnd:u=>{const{draggingNode:d,dropType:f,dropNode:h}=s.value;if(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="move"),d&&h){const p={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?h.node.parent.insertBefore(p,h.node):f==="after"?h.node.parent.insertAfter(p,h.node):f==="inner"&&h.node.insertChild(p),f!=="none"&&(i.value.registerNode(p),i.value.key&&d.node.eachNode(m=>{var v;(v=i.value.nodesMap[m.data[i.value.key]])==null||v.setChecked(m.checked,!i.value.checkStrictly)})),Cs(h.$el,a.is("drop-inner")),e.emit("node-drag-end",d.node,h.node,f,u),f!=="none"&&e.emit("node-drop",d.node,h.node,f,u)}d&&!h&&e.emit("node-drag-end",d.node,null,f,u),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const qRe=Ie({name:"ElTreeNode",components:{ElCollapseTransition:ST,ElCheckbox:Dl,NodeContent:GRe,ElIcon:Vt,Loading:tu},props:{node:{type:cR,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const t=bt("tree"),{broadcastExpanded:r}=zZ(n),i=Ot("RootTree"),a=ee(!1),s=ee(!1),o=ee(null),l=ee(null),c=ee(null),u=Ot(UZ),d=Dn();$n("NodeInstance",d),n.node.expanded&&(a.value=!0,s.value=!0);const f=i.props.props.children||"children";dt(()=>{const M=n.node.data[f];return M&&[...M]},()=>{n.node.updateChildren()}),dt(()=>n.node.indeterminate,M=>{m(n.node.checked,M)}),dt(()=>n.node.checked,M=>{m(M,n.node.indeterminate)}),dt(()=>n.node.childNodes.length,()=>n.node.reInitChecked()),dt(()=>n.node.expanded,M=>{Yt(()=>a.value=M),M&&(s.value=!0)});const h=M=>QL(i.props.nodeKey,M.data),p=M=>{const A=n.props.class;if(!A)return{};let I;if(Zt(A)){const{data:D}=M;I=A(D,M)}else I=A;return qt(I)?{[I]:!0}:I},m=(M,A)=>{(o.value!==M||l.value!==A)&&i.ctx.emit("check-change",n.node.data,M,A),o.value=M,l.value=A},v=M=>{oR(i.store,i.ctx.emit,()=>{var A;if((A=i==null?void 0:i.props)==null?void 0:A.nodeKey){const D=h(n.node);i.store.value.setCurrentNodeKey(D)}else i.store.value.setCurrentNode(n.node)}),i.currentNode.value=n.node,i.props.expandOnClickNode&&y(),i.props.checkOnClickNode&&!n.node.disabled&&b(null,{target:{checked:!n.node.checked}}),i.ctx.emit("node-click",n.node.data,n.node,d,M)},g=M=>{i.instance.vnode.props.onNodeContextmenu&&(M.stopPropagation(),M.preventDefault()),i.ctx.emit("node-contextmenu",M,n.node.data,n.node,d)},y=()=>{n.node.isLeaf||(a.value?(i.ctx.emit("node-collapse",n.node.data,n.node,d),n.node.collapse()):n.node.expand(()=>{e.emit("node-expand",n.node.data,n.node,d)}))},b=(M,A)=>{n.node.setChecked(A.target.checked,!i.props.checkStrictly),Yt(()=>{const I=i.store.value;i.ctx.emit("check",n.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:t,node$:c,tree:i,expanded:a,childNodeRendered:s,oldChecked:o,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:m,handleClick:v,handleContextMenu:g,handleExpandIconClick:y,handleCheckChange:b,handleChildNodeExpand:(M,A,I)=>{r(A),i.ctx.emit("node-expand",M,A,I)},handleDragStart:M=>{i.props.draggable&&u.treeNodeDragStart({event:M,treeNode:n})},handleDragOver:M=>{M.preventDefault(),i.props.draggable&&u.treeNodeDragOver({event:M,treeNode:{$el:c.value,node:n.node}})},handleDrop:M=>{M.preventDefault()},handleDragEnd:M=>{i.props.draggable&&u.treeNodeDragEnd(M)},CaretRight:fY}}});function KRe(n,e,t,r,i,a){const s=Et("el-icon"),o=Et("el-checkbox"),l=Et("loading"),c=Et("node-content"),u=Et("el-tree-node"),d=Et("el-collapse-transition");return Sn((V(),ue("div",{ref:"node$",class:j([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:sn(n.handleClick,["stop"]),onContextmenu:n.handleContextMenu,onDragstart:sn(n.handleDragStart,["stop"]),onDragover:sn(n.handleDragOver,["stop"]),onDragend:sn(n.handleDragEnd,["stop"]),onDrop:sn(n.handleDrop,["stop"])},[me("div",{class:j(n.ns.be("node","content")),style:Bt({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(V(),rt(s,{key:0,class:j([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:sn(n.handleExpandIconClick,["stop"])},{default:be(()=>[(V(),rt(Nn(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):Qe("v-if",!0),n.showCheckbox?(V(),rt(o,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:sn(()=>{},["stop"]),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Qe("v-if",!0),n.node.loading?(V(),rt(s,{key:2,class:j([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:be(()=>[se(l)]),_:1},8,["class"])):Qe("v-if",!0),se(c,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),se(d,null,{default:be(()=>[!n.renderAfterExpand||n.childNodeRendered?Sn((V(),ue("div",{key:0,class:j(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(V(!0),ue(zt,null,In(n.node.childNodes,f=>(V(),rt(u,{key:n.getNodeKey(f),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:f,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[fr,n.expanded]]):Qe("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[fr,n.node.visible]])}var YRe=Pt(qRe,[["render",KRe],["__file","tree-node.vue"]]);function XRe({el$:n},e){const t=bt("tree"),r=Ir([]),i=Ir([]);pn(()=>{s()}),Nl(()=>{r.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),dt(i,o=>{o.forEach(l=>{l.setAttribute("tabindex","-1")})}),Tr(n,"keydown",o=>{const l=o.target;if(!l.className.includes(t.b("node")))return;const c=o.code;r.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`));const u=r.value.indexOf(l);let d;if([Nt.up,Nt.down].includes(c)){if(o.preventDefault(),c===Nt.up){d=u===-1?0:u!==0?u-1:r.value.length-1;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d--,d===h){d=-1;break}d<0&&(d=r.value.length-1)}}else{d=u===-1?0:u<r.value.length-1?u+1:0;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d++,d===h){d=-1;break}d>=r.value.length&&(d=0)}}d!==-1&&r.value[d].focus()}[Nt.left,Nt.right].includes(c)&&(o.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[Nt.enter,Nt.numpadEnter,Nt.space].includes(c)&&f&&(o.preventDefault(),f.click())});const s=()=>{var o;r.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`)),i.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const l=n.value.querySelectorAll(`.${t.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(o=r.value[0])==null||o.setAttribute("tabindex","0")}}const jRe=Ie({name:"ElTree",components:{ElTreeNode:YRe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:kr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t}=rr(),r=bt("tree"),i=Ot(Xg,null),a=ee(new VRe({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));a.value.initialize();const s=ee(a.value.root),o=ee(null),l=ee(null),c=ee(null),{broadcastExpanded:u}=zZ(n),{dragState:d}=WRe({props:n,ctx:e,el$:l,dropIndicator$:c,store:a});XRe({el$:l},a);const f=U(()=>{const{childNodes:z}=s.value,O=i?i.hasFilteredOptions!==0:!1;return(!z||z.length===0||z.every(({visible:G})=>!G))&&!O});dt(()=>n.currentNodeKey,z=>{a.value.setCurrentNodeKey(z)}),dt(()=>n.defaultCheckedKeys,z=>{a.value.setDefaultCheckedKey(z)}),dt(()=>n.defaultExpandedKeys,z=>{a.value.setDefaultExpandedKeys(z)}),dt(()=>n.data,z=>{a.value.setData(z)},{deep:!0}),dt(()=>n.checkStrictly,z=>{a.value.checkStrictly=z});const h=z=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(z)},p=z=>QL(n.nodeKey,z.data),m=z=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const O=a.value.getNode(z);if(!O)return[];const G=[O.data];let X=O.parent;for(;X&&X!==s.value;)G.push(X.data),X=X.parent;return G.reverse()},v=(z,O)=>a.value.getCheckedNodes(z,O),g=z=>a.value.getCheckedKeys(z),y=()=>{const z=a.value.getCurrentNode();return z?z.data:null},b=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const z=y();return z?z[n.nodeKey]:null},_=(z,O)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(z,O)},x=(z,O)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(z,O)},S=(z,O,G)=>{a.value.setChecked(z,O,G)},T=()=>a.value.getHalfCheckedNodes(),C=()=>a.value.getHalfCheckedKeys(),M=(z,O=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");oR(a,e.emit,()=>{u(z),a.value.setUserCurrentNode(z,O)})},A=(z,O=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");oR(a,e.emit,()=>{u(),a.value.setCurrentNodeKey(z,O)})},I=z=>a.value.getNode(z),D=z=>{a.value.remove(z)},L=(z,O)=>{a.value.append(z,O)},F=(z,O)=>{a.value.insertBefore(z,O)},B=(z,O)=>{a.value.insertAfter(z,O)},k=(z,O,G)=>{u(O),e.emit("node-expand",z,O,G)},H=(z,O)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(z,O)};return $n("RootTree",{ctx:e,props:n,store:a,root:s,currentNode:o,instance:Dn()}),$n(nu,void 0),{ns:r,store:a,root:s,currentNode:o,dragState:d,el$:l,dropIndicator$:c,isEmpty:f,filter:h,getNodeKey:p,getNodePath:m,getCheckedNodes:v,getCheckedKeys:g,getCurrentNode:y,getCurrentKey:b,setCheckedNodes:_,setCheckedKeys:x,setChecked:S,getHalfCheckedNodes:T,getHalfCheckedKeys:C,setCurrentNode:M,setCurrentKey:A,t,getNode:I,remove:D,append:L,insertBefore:F,insertAfter:B,handleNodeExpand:k,updateKeyChildren:H}}});function ZRe(n,e,t,r,i,a){const s=Et("el-tree-node");return V(),ue("div",{ref:"el$",class:j([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(V(!0),ue(zt,null,In(n.root.childNodes,o=>(V(),rt(s,{key:n.getNodeKey(o),node:o,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(V(),ue("div",{key:0,class:j(n.ns.e("empty-block"))},[Ze(n.$slots,"empty",{},()=>{var o;return[me("span",{class:j(n.ns.e("empty-text"))},Ct((o=n.emptyText)!=null?o:n.t("el.tree.emptyText")),3)]})],2)):Qe("v-if",!0),Sn(me("div",{ref:"dropIndicator$",class:j(n.ns.e("drop-indicator"))},null,2),[[fr,n.dragState.showDropIndicator]])],2)}var QRe=Pt(jRe,[["render",ZRe],["__file","tree.vue"]]);const OC=gn(QRe),JRe=(n,{attrs:e,emit:t},{select:r,tree:i,key:a})=>{const s=bt("tree-select");return dt(()=>n.data,()=>{n.filterable&&Yt(()=>{var l,c;(c=i.value)==null||c.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...sc(la(n),Object.keys(rm.props)),...e,"onUpdate:modelValue":l=>t(Mn,l),valueKey:a,popperClass:U(()=>{const l=[s.e("popper")];return n.popperClass&&l.push(n.popperClass),l.join(" ")}),filterMethod:(l="")=>{var c;n.filterMethod?n.filterMethod(l):n.remoteMethod?n.remoteMethod(l):(c=i.value)==null||c.filter(l)}}},ePe=Ie({extends:SC,setup(n,e){const t=SC.setup(n,e);delete t.selectOptionClick;const r=Dn().proxy;return Yt(()=>{t.select.states.cachedOptions.get(r.value)||t.select.onOptionCreate(r)}),dt(()=>e.attrs.visible,i=>{t.states.visible=i},{immediate:!0}),t},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function uR(n){return n||n===0}function JL(n){return Tt(n)&&n.length}function Ym(n){return Tt(n)?n:uR(n)?[n]:[]}function M2(n,e,t,r,i){for(let a=0;a<n.length;a++){const s=n[a];if(e(s,a,n,i))return r?r(s,a,n,i):s;{const o=t(s);if(JL(o)){const l=M2(o,e,t,r,s);if(l)return l}}}}function T2(n,e,t,r){for(let i=0;i<n.length;i++){const a=n[i];e(a,i,n,r);const s=t(a);JL(s)&&T2(s,e,t,a)}}const tPe=(n,{attrs:e,slots:t,emit:r},{select:i,tree:a,key:s})=>{dt(()=>n.modelValue,()=>{n.showCheckbox&&Yt(()=>{const f=a.value;f&&!Fa(f.getCheckedKeys(),Ym(n.modelValue))&&f.setCheckedKeys(Ym(n.modelValue))})},{immediate:!0,deep:!0});const o=U(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...n.props})),l=(f,h)=>{var p;const m=o.value[f];return Zt(m)?m(h,(p=a.value)==null?void 0:p.getNode(l("value",h))):h[m]},c=Ym(n.modelValue).map(f=>M2(n.data||[],h=>l("value",h)===f,h=>l("children",h),(h,p,m,v)=>v&&l("value",v))).filter(f=>uR(f)),u=U(()=>{if(!n.renderAfterExpand&&!n.lazy)return[];const f=[];return T2(n.data.concat(n.cacheData),h=>{const p=l("value",h);f.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),f}),d=()=>{var f;return(f=a.value)==null?void 0:f.getCheckedKeys().filter(h=>{var p;const m=(p=a.value)==null?void 0:p.getNode(h);return!ma(m)&&Lo(m.childNodes)})};return{...sc(la(n),Object.keys(OC.props)),...e,nodeKey:s,expandOnClickNode:U(()=>!n.checkStrictly&&n.expandOnClickNode),defaultExpandedKeys:U(()=>n.defaultExpandedKeys?n.defaultExpandedKeys.concat(c):c),renderContent:(f,{node:h,data:p,store:m})=>f(ePe,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},n.renderContent?()=>n.renderContent(f,{node:h,data:p,store:m}):t.default?()=>t.default({node:h,data:p,store:m}):void 0),filterNodeMethod:(f,h,p)=>n.filterNodeMethod?n.filterNodeMethod(f,h,p):f?new RegExp(uL(f),"i").test(l("label",h)||""):!0,onNodeClick:(f,h,p)=>{var m,v,g,y;if((m=e.onNodeClick)==null||m.call(e,f,h,p),!(n.showCheckbox&&n.checkOnClickNode)){if(!n.showCheckbox&&(n.checkStrictly||h.isLeaf)){if(!l("disabled",f)){const b=(v=i.value)==null?void 0:v.states.options.get(l("value",f));(g=i.value)==null||g.handleOptionSelect(b)}}else n.expandOnClickNode&&p.proxy.handleExpandIconClick();(y=i.value)==null||y.focus()}},onCheck:(f,h)=>{var p;if(!n.showCheckbox)return;const m=l("value",f),v={};T2([a.value.store.root],_=>v[_.key]=_,_=>_.childNodes);const g=h.checkedKeys,y=n.multiple?Ym(n.modelValue).filter(_=>!(_ in v)&&!g.includes(_)):[],b=y.concat(g);if(n.checkStrictly)r(Mn,n.multiple?b:b.includes(m)?m:void 0);else if(n.multiple){const _=d();r(Mn,y.concat(_))}else{const _=M2([f],T=>!JL(l("children",T))&&!l("disabled",T),T=>l("children",T)),x=_?l("value",_):void 0,S=uR(n.modelValue)&&!!M2([f],T=>l("value",T)===n.modelValue,T=>l("children",T));r(Mn,x===n.modelValue||S?void 0:x)}Yt(()=>{var _;const x=Ym(n.modelValue);a.value.setCheckedKeys(x),(_=e.onCheck)==null||_.call(e,f,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(p=i.value)==null||p.focus()},onNodeExpand:(f,h,p)=>{var m;(m=e.onNodeExpand)==null||m.call(e,f,h,p),Yt(()=>{if(!n.checkStrictly&&n.lazy&&n.multiple&&h.checked){const v={},g=a.value.getCheckedKeys();T2([a.value.store.root],_=>v[_.key]=_,_=>_.childNodes);const y=Ym(n.modelValue).filter(_=>!(_ in v)&&!g.includes(_)),b=d();r(Mn,y.concat(b))}})},cacheOptions:u}};var nPe=Ie({props:{data:{type:Array,default:()=>[]}},setup(n){const e=Ot(Xg);return dt(()=>n.data,()=>{var t;n.data.forEach(i=>{e.states.cachedOptions.has(i.value)||e.states.cachedOptions.set(i.value,i)});const r=((t=e.selectRef)==null?void 0:t.querySelectorAll("input"))||[];nr&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const rPe=Ie({name:"ElTreeSelect",inheritAttrs:!1,props:{...rm.props,...OC.props,cacheData:{type:Array,default:()=>[]}},setup(n,e){const{slots:t,expose:r}=e,i=ee(),a=ee(),s=U(()=>n.nodeKey||n.valueKey||"value"),o=JRe(n,e,{select:i,tree:a,key:s}),{cacheOptions:l,...c}=tPe(n,e,{select:i,tree:a,key:s}),u=mr({});return r(u),pn(()=>{Object.assign(u,{...sc(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...sc(i.value,["focus","blur","selectedLabel"])})}),()=>Gt(rm,mr({...o,ref:d=>i.value=d}),{...t,default:()=>[Gt(nPe,{data:l.value}),Gt(OC,mr({...c,ref:d=>a.value=d}))]})}});var iPe=Pt(rPe,[["__file","tree-select.vue"]]);const aPe=gn(iPe),e6=Symbol(),sPe={key:-1,level:-1,data:{}};var _1=(n=>(n.KEY="id",n.LABEL="label",n.CHILDREN="children",n.DISABLED="disabled",n.CLASS="",n))(_1||{}),dR=(n=>(n.ADD="add",n.DELETE="delete",n))(dR||{});const HZ={type:Number,default:26},oPe=Rt({data:{type:We(Array),default:()=>_i([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:We(Object),default:()=>_i({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:We(Array),default:()=>_i([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:We(Array),default:()=>_i([])},indent:{type:Number,default:16},itemSize:HZ,icon:{type:kr},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:We([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:We(Function)},perfMode:{type:Boolean,default:!0}}),lPe=Rt({node:{type:We(Object),default:()=>_i(sPe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:HZ}),cPe=Rt({node:{type:We(Object),required:!0}}),VZ="node-click",$Z="node-drop",GZ="node-expand",WZ="node-collapse",qZ="current-change",KZ="check",YZ="check-change",XZ="node-contextmenu",uPe={[VZ]:(n,e,t)=>n&&e&&t,[$Z]:(n,e,t)=>n&&e&&t,[GZ]:(n,e)=>n&&e,[WZ]:(n,e)=>n&&e,[qZ]:(n,e)=>n&&e,[KZ]:(n,e)=>n&&e,[YZ]:(n,e)=>n&&Vr(e),[XZ]:(n,e,t)=>n&&e&&t},dPe={click:(n,e)=>!!(n&&e),drop:(n,e)=>!!(n&&e),toggle:n=>!!n,check:(n,e)=>n&&Vr(e)};function fPe(n,e){const t=ee(new Set),r=ee(new Set),{emit:i}=Dn();dt([()=>e.value,()=>n.defaultCheckedKeys],()=>Yt(()=>{y(n.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!e.value||!n.showCheckbox||n.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:_}=e.value,x=t.value,S=new Set;for(let T=_-1;T>=1;--T){const C=b.get(T);C&&C.forEach(M=>{const A=M.children;if(A){let I=!0,D=!1;for(const L of A){const F=L.key;if(x.has(F))D=!0;else if(S.has(F)){I=!1,D=!0;break}else I=!1}I?x.add(M.key):D?(S.add(M.key),x.delete(M.key)):(x.delete(M.key),S.delete(M.key))}})}r.value=S},s=b=>t.value.has(b.key),o=b=>r.value.has(b.key),l=(b,_,x=!0,S=!0)=>{const T=t.value,C=(M,A)=>{T[A?dR.ADD:dR.DELETE](M.key);const I=M.children;!n.checkStrictly&&I&&I.forEach(D=>{D.disabled||C(D,A)})};C(b,_),S&&a(),x&&c(b,_)},c=(b,_)=>{const{checkedNodes:x,checkedKeys:S}=p(),{halfCheckedNodes:T,halfCheckedKeys:C}=m();i(KZ,b.data,{checkedKeys:S,checkedNodes:x,halfCheckedKeys:C,halfCheckedNodes:T}),i(YZ,b.data,_)};function u(b=!1){return p(b).checkedKeys}function d(b=!1){return p(b).checkedNodes}function f(){return m().halfCheckedKeys}function h(){return m().halfCheckedNodes}function p(b=!1){const _=[],x=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:S}=e.value;t.value.forEach(T=>{const C=S.get(T);C&&(!b||b&&C.isLeaf)&&(x.push(T),_.push(C.data))})}return{checkedKeys:x,checkedNodes:_}}function m(){const b=[],_=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:x}=e.value;r.value.forEach(S=>{const T=x.get(S);T&&(_.push(S),b.push(T.data))})}return{halfCheckedNodes:b,halfCheckedKeys:_}}function v(b){t.value.clear(),r.value.clear(),Yt(()=>{y(b)})}function g(b,_){if(e!=null&&e.value&&n.showCheckbox){const x=e.value.treeNodeMap.get(b);x&&l(x,_,!1)}}function y(b){if(e!=null&&e.value){const{treeNodeMap:_}=e.value;if(n.showCheckbox&&_&&(b==null?void 0:b.length)>0){for(const x of b){const S=_.get(x);S&&!s(S)&&l(S,!0,!1,!1)}a()}}}return{updateCheckedKeys:a,toggleCheckbox:l,isChecked:s,isIndeterminate:o,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:g,setCheckedKeys:v}}function hPe(n,e){const t=ee(new Set([])),r=ee(new Set([])),i=U(()=>Zt(n.filterMethod));function a(o){var l;if(!i.value)return;const c=new Set,u=r.value,d=t.value,f=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],p=n.filterMethod;d.clear();function m(v){v.forEach(g=>{f.push(g),p!=null&&p(o,g.data,g)?f.forEach(b=>{c.add(b.key)}):g.isLeaf&&d.add(g.key);const y=g.children;if(y&&m(y),!g.isLeaf){if(!c.has(g.key))d.add(g.key);else if(y){let b=!0;for(const _ of y)if(!d.has(_.key)){b=!1;break}b?u.add(g.key):u.delete(g.key)}}f.pop()})}return m(h),c}function s(o){return r.value.has(o.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:t,doFilter:a,isForceHiddenExpandIcon:s}}function pPe(n,e){const t=ee(new Set(n.defaultExpandedKeys)),r=ee(),i=Ir(),a=ee();dt(()=>n.currentNodeKey,K=>{r.value=K},{immediate:!0}),dt(()=>n.data,K=>{Ee(K)},{immediate:!0});const{isIndeterminate:s,isChecked:o,toggleCheckbox:l,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p}=fPe(n,i),{doFilter:m,hiddenNodeKeySet:v,isForceHiddenExpandIcon:g}=hPe(n,i),y=U(()=>{var K;return((K=n.props)==null?void 0:K.value)||_1.KEY}),b=U(()=>{var K;return((K=n.props)==null?void 0:K.children)||_1.CHILDREN}),_=U(()=>{var K;return((K=n.props)==null?void 0:K.disabled)||_1.DISABLED}),x=U(()=>{var K;return((K=n.props)==null?void 0:K.label)||_1.LABEL}),S=U(()=>{var K;const ce=t.value,ie=v.value,Ue=[],De=((K=i.value)==null?void 0:K.treeNodes)||[],Ye=[];for(let ze=De.length-1;ze>=0;--ze)Ye.push(De[ze]);for(;Ye.length;){const ze=Ye.pop();if(!ie.has(ze.key)&&(Ue.push(ze),ze.children&&ce.has(ze.key)))for(let Ve=ze.children.length-1;Ve>=0;--Ve)Ye.push(ze.children[Ve])}return Ue}),T=U(()=>S.value.length>0);function C(K){const ce=new Map,ie=new Map;let Ue=1;function De(ze,Ve=1,Je=void 0){var pe;const W=[];for(const Z of ze){const ve=I(Z),Ne={level:Ve,key:ve,data:Z};Ne.label=L(Z),Ne.parent=Je;const Ke=A(Z);Ne.disabled=D(Z),Ne.isLeaf=!Ke||Ke.length===0,Ke&&Ke.length&&(Ne.children=De(Ke,Ve+1,Ne)),W.push(Ne),ce.set(ve,Ne),ie.has(Ve)||ie.set(Ve,[]),(pe=ie.get(Ve))==null||pe.push(Ne)}return Ve>Ue&&(Ue=Ve),W}const Ye=De(K);return{treeNodeMap:ce,levelTreeNodeMap:ie,maxLevel:Ue,treeNodes:Ye}}function M(K){const ce=m(K);ce&&(t.value=ce)}function A(K){return K[b.value]}function I(K){return K?K[y.value]:""}function D(K){return K[_.value]}function L(K){return K[x.value]}function F(K){t.value.has(K.key)?X(K):G(K)}function B(K){const ce=new Set,ie=i.value.treeNodeMap;K.forEach(Ue=>{let De=ie.get(Ue);for(;De&&!ce.has(De.key);)ce.add(De.key),De=De.parent}),t.value=ce}function k(K,ce){e(VZ,K.data,K,ce),z(K),n.expandOnClickNode&&F(K),n.showCheckbox&&n.checkOnClickNode&&!K.disabled&&l(K,!o(K),!0)}function H(K,ce){e($Z,K.data,K,ce)}function z(K){re(K)||(r.value=K.key,e(qZ,K.data,K))}function O(K,ce){l(K,ce)}function G(K){const ce=t.value;if(i.value&&n.accordion){const{treeNodeMap:ie}=i.value;ce.forEach(Ue=>{const De=ie.get(Ue);K&&K.level===(De==null?void 0:De.level)&&ce.delete(Ue)})}ce.add(K.key),e(GZ,K.data,K)}function X(K){t.value.delete(K.key),e(WZ,K.data,K)}function J(K){return t.value.has(K.key)}function Q(K){return!!K.disabled}function re(K){const ce=r.value;return ce!==void 0&&ce===K.key}function de(){var K,ce;if(r.value)return(ce=(K=i.value)==null?void 0:K.treeNodeMap.get(r.value))==null?void 0:ce.data}function le(){return r.value}function fe(K){r.value=K}function Ee(K){Yt(()=>i.value=C(K))}function Re(K){var ce;const ie=Pn(K)?I(K):K;return(ce=i.value)==null?void 0:ce.treeNodeMap.get(ie)}function He(K,ce="auto"){const ie=Re(K);ie&&a.value&&a.value.scrollToItem(S.value.indexOf(ie),ce)}function $e(K){var ce;(ce=a.value)==null||ce.scrollTo(K)}return{tree:i,flattenTree:S,isNotEmpty:T,listRef:a,getKey:I,getChildren:A,toggleExpand:F,toggleCheckbox:l,isExpanded:J,isChecked:o,isIndeterminate:s,isDisabled:Q,isCurrent:re,isForceHiddenExpandIcon:g,handleNodeClick:k,handleNodeDrop:H,handleNodeCheck:O,getCurrentNode:de,getCurrentKey:le,setCurrentKey:fe,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p,filter:M,setData:Ee,getNode:Re,expandNode:G,collapseNode:X,setExpandedKeys:B,scrollToNode:He,scrollTo:$e}}var mPe=Ie({name:"ElTreeNodeContent",props:cPe,setup(n){const e=Ot(e6),t=bt("tree");return()=>{const r=n.node,{data:i}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):Gt("span",{class:t.be("node","label")},[r==null?void 0:r.label])}}});const vPe=Ie({name:"ElTreeNode"}),gPe=Ie({...vPe,props:lPe,emits:dPe,setup(n,{emit:e}){const t=n,r=Ot(e6),i=bt("tree"),a=U(()=>{var h;return(h=r==null?void 0:r.props.indent)!=null?h:16}),s=U(()=>{var h;return(h=r==null?void 0:r.props.icon)!=null?h:fY}),o=h=>{const p=r==null?void 0:r.props.props.class;if(!p)return{};let m;if(Zt(p)){const{data:v}=h;m=p(v,h)}else m=p;return qt(m)?{[m]:!0}:m},l=h=>{e("click",t.node,h)},c=h=>{e("drop",t.node,h)},u=()=>{e("toggle",t.node)},d=h=>{e("check",t.node,h)},f=h=>{var p,m,v,g;(v=(m=(p=r==null?void 0:r.instance)==null?void 0:p.vnode)==null?void 0:m.props)!=null&&v.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r==null||r.ctx.emit(XZ,h,(g=t.node)==null?void 0:g.data,t.node)};return(h,p)=>{var m,v,g;return V(),ue("div",{ref:"node$",class:j([w(i).b("node"),w(i).is("expanded",h.expanded),w(i).is("current",h.current),w(i).is("focusable",!h.disabled),w(i).is("checked",!h.disabled&&h.checked),o(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(m=h.node)==null?void 0:m.key,onClick:sn(l,["stop"]),onContextmenu:f,onDragover:sn(()=>{},["prevent"]),onDragenter:sn(()=>{},["prevent"]),onDrop:sn(c,["stop"])},[me("div",{class:j(w(i).be("node","content")),style:Bt({paddingLeft:`${(h.node.level-1)*w(a)}px`,height:h.itemSize+"px"})},[w(s)?(V(),rt(w(Vt),{key:0,class:j([w(i).is("leaf",!!((v=h.node)!=null&&v.isLeaf)),w(i).is("hidden",h.hiddenExpandIcon),{expanded:!((g=h.node)!=null&&g.isLeaf)&&h.expanded},w(i).be("node","expand-icon")]),onClick:sn(u,["stop"])},{default:be(()=>[(V(),rt(Nn(w(s))))]),_:1},8,["class","onClick"])):Qe("v-if",!0),h.showCheckbox?(V(),rt(w(Dl),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:d,onClick:sn(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Qe("v-if",!0),se(w(mPe),{node:h.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var yPe=Pt(gPe,[["__file","tree-node.vue"]]);const bPe=Ie({name:"ElTreeV2"}),_Pe=Ie({...bPe,props:oPe,emits:uPe,setup(n,{expose:e,emit:t}){const r=n,i=ea(),a=U(()=>r.itemSize);$n(e6,{ctx:{emit:t,slots:i},props:r,instance:Dn()}),$n(nu,void 0);const{t:s}=rr(),o=bt("tree"),{flattenTree:l,isNotEmpty:c,listRef:u,toggleExpand:d,isExpanded:f,isIndeterminate:h,isChecked:p,isDisabled:m,isCurrent:v,isForceHiddenExpandIcon:g,handleNodeClick:y,handleNodeDrop:b,handleNodeCheck:_,toggleCheckbox:x,getCurrentNode:S,getCurrentKey:T,setCurrentKey:C,getCheckedKeys:M,getCheckedNodes:A,getHalfCheckedKeys:I,getHalfCheckedNodes:D,setChecked:L,setCheckedKeys:F,filter:B,setData:k,getNode:H,expandNode:z,collapseNode:O,setExpandedKeys:G,scrollToNode:X,scrollTo:J}=pPe(r,t);return e({toggleCheckbox:x,getCurrentNode:S,getCurrentKey:T,setCurrentKey:C,getCheckedKeys:M,getCheckedNodes:A,getHalfCheckedKeys:I,getHalfCheckedNodes:D,setChecked:L,setCheckedKeys:F,filter:B,setData:k,getNode:H,expandNode:z,collapseNode:O,setExpandedKeys:G,scrollToNode:X,scrollTo:J}),(Q,re)=>(V(),ue("div",{class:j([w(o).b(),{[w(o).m("highlight-current")]:Q.highlightCurrent}]),role:"tree"},[w(c)?(V(),rt(w(Dj),{key:0,ref_key:"listRef",ref:u,"class-name":w(o).b("virtual-list"),data:w(l),total:w(l).length,height:Q.height,"item-size":w(a),"perf-mode":Q.perfMode},{default:be(({data:de,index:le,style:fe})=>[(V(),rt(yPe,{key:de[le].key,style:Bt(fe),node:de[le],expanded:w(f)(de[le]),"show-checkbox":Q.showCheckbox,checked:w(p)(de[le]),indeterminate:w(h)(de[le]),"item-size":w(a),disabled:w(m)(de[le]),current:w(v)(de[le]),"hidden-expand-icon":w(g)(de[le]),onClick:w(y),onToggle:w(d),onCheck:w(_),onDrop:w(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(V(),ue("div",{key:1,class:j(w(o).e("empty-block"))},[Ze(Q.$slots,"empty",{},()=>{var de;return[me("span",{class:j(w(o).e("empty-text"))},Ct((de=Q.emptyText)!=null?de:w(s)("el.tree.emptyText")),3)]})],2))],2))}});var wPe=Pt(_Pe,[["__file","tree.vue"]]);const xPe=gn(wPe),jZ=Symbol("uploadContextKey"),SPe="ElUpload";class CPe extends Error{constructor(e,t,r,i){super(e),this.name="UploadAjaxError",this.status=t,this.method=r,this.url=i}}function l9(n,e,t){let r;return t.response?r=`${t.response.error||t.response}`:t.responseText?r=`${t.responseText}`:r=`fail to ${e.method} ${n} ${t.status}`,new CPe(r,t.status,e.method,n)}function MPe(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const TPe=n=>{typeof XMLHttpRequest>"u"&&ua(SPe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,t=n.action;e.upload&&e.upload.addEventListener("progress",a=>{const s=a;s.percent=a.total>0?a.loaded/a.total*100:0,n.onProgress(s)});const r=new FormData;if(n.data)for(const[a,s]of Object.entries(n.data))Tt(s)&&s.length?r.append(a,...s):r.append(a,s);r.append(n.filename,n.file,n.file.name),e.addEventListener("error",()=>{n.onError(l9(t,n,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return n.onError(l9(t,n,e));n.onSuccess(MPe(e))}),e.open(n.method,t,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=n.headers||{};if(i instanceof Headers)i.forEach((a,s)=>e.setRequestHeader(s,a));else for(const[a,s]of Object.entries(i))ma(s)||e.setRequestHeader(a,String(s));return e.send(r),e},ZZ=["text","picture","picture-card"];let APe=1;const fR=()=>Date.now()+APe++,QZ=Rt({action:{type:String,default:"#"},headers:{type:We(Object)},method:{type:String,default:"post"},data:{type:We([Object,Function,Promise]),default:()=>_i({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:We(Array),default:()=>_i([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:ZZ,default:"text"},httpRequest:{type:We(Function),default:TPe},disabled:Boolean,limit:Number}),EPe=Rt({...QZ,beforeUpload:{type:We(Function),default:Sr},beforeRemove:{type:We(Function)},onRemove:{type:We(Function),default:Sr},onChange:{type:We(Function),default:Sr},onPreview:{type:We(Function),default:Sr},onSuccess:{type:We(Function),default:Sr},onProgress:{type:We(Function),default:Sr},onError:{type:We(Function),default:Sr},onExceed:{type:We(Function),default:Sr},crossorigin:{type:We(String)}}),IPe=Rt({files:{type:We(Array),default:()=>_i([])},disabled:{type:Boolean,default:!1},handlePreview:{type:We(Function),default:Sr},listType:{type:String,values:ZZ,default:"text"},crossorigin:{type:We(String)}}),RPe={remove:n=>!!n},PPe=Ie({name:"ElUploadList"}),DPe=Ie({...PPe,props:IPe,emits:RPe,setup(n,{emit:e}){const t=n,{t:r}=rr(),i=bt("upload"),a=bt("icon"),s=bt("list"),o=as(),l=ee(!1),c=U(()=>[i.b("list"),i.bm("list",t.listType),i.is("disabled",t.disabled)]),u=d=>{e("remove",d)};return(d,f)=>(V(),rt(Jq,{tag:"ul",class:j(w(c)),name:w(s).b()},{default:be(()=>[(V(!0),ue(zt,null,In(d.files,(h,p)=>(V(),ue("li",{key:h.uid||h.name,class:j([w(i).be("list","item"),w(i).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:Ur(m=>!w(o)&&u(h),["delete"]),onFocus:m=>l.value=!0,onBlur:m=>l.value=!1,onClick:m=>l.value=!1},[Ze(d.$slots,"default",{file:h,index:p},()=>[d.listType==="picture"||h.status!=="uploading"&&d.listType==="picture-card"?(V(),ue("img",{key:0,class:j(w(i).be("list","item-thumbnail")),src:h.url,crossorigin:d.crossorigin,alt:""},null,10,["src","crossorigin"])):Qe("v-if",!0),h.status==="uploading"||d.listType!=="picture-card"?(V(),ue("div",{key:1,class:j(w(i).be("list","item-info"))},[me("a",{class:j(w(i).be("list","item-name")),onClick:sn(m=>d.handlePreview(h),["prevent"])},[se(w(Vt),{class:j(w(a).m("document"))},{default:be(()=>[se(w(pY))]),_:1},8,["class"]),me("span",{class:j(w(i).be("list","item-file-name")),title:h.name},Ct(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?(V(),rt(w(xj),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:Bt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Qe("v-if",!0)],2)):Qe("v-if",!0),me("label",{class:j(w(i).be("list","item-status-label"))},[d.listType==="text"?(V(),rt(w(Vt),{key:0,class:j([w(a).m("upload-success"),w(a).m("circle-check")])},{default:be(()=>[se(w(Hk))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(V(),rt(w(Vt),{key:1,class:j([w(a).m("upload-success"),w(a).m("check")])},{default:be(()=>[se(w(q_))]),_:1},8,["class"])):Qe("v-if",!0)],2),w(o)?Qe("v-if",!0):(V(),rt(w(Vt),{key:2,class:j(w(a).m("close")),onClick:m=>u(h)},{default:be(()=>[se(w(gc))]),_:2},1032,["class","onClick"])),Qe(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Qe(" This is a bug which needs to be fixed "),Qe(" TODO: Fix the incorrect navigation interaction "),w(o)?Qe("v-if",!0):(V(),ue("i",{key:3,class:j(w(a).m("close-tip"))},Ct(w(r)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(V(),ue("span",{key:4,class:j(w(i).be("list","item-actions"))},[me("span",{class:j(w(i).be("list","item-preview")),onClick:m=>d.handlePreview(h)},[se(w(Vt),{class:j(w(a).m("zoom-in"))},{default:be(()=>[se(w(vY))]),_:1},8,["class"])],10,["onClick"]),w(o)?Qe("v-if",!0):(V(),ue("span",{key:0,class:j(w(i).be("list","item-delete")),onClick:m=>u(h)},[se(w(Vt),{class:j(w(a).m("delete"))},{default:be(()=>[se(w(P0e))]),_:1},8,["class"])],10,["onClick"]))],2)):Qe("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Ze(d.$slots,"append")]),_:3},8,["class","name"]))}});var c9=Pt(DPe,[["__file","upload-list.vue"]]);const kPe=Rt({disabled:{type:Boolean,default:!1}}),LPe={file:n=>Tt(n)},JZ="ElUploadDrag",NPe=Ie({name:JZ}),OPe=Ie({...NPe,props:kPe,emits:LPe,setup(n,{emit:e}){Ot(jZ)||ua(JZ,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=bt("upload"),i=ee(!1),a=as(),s=l=>{if(a.value)return;i.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files);e("file",c)},o=()=>{a.value||(i.value=!0)};return(l,c)=>(V(),ue("div",{class:j([w(r).b("dragger"),w(r).is("dragover",i.value)]),onDrop:sn(s,["prevent"]),onDragover:sn(o,["prevent"]),onDragleave:sn(u=>i.value=!1,["prevent"])},[Ze(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var BPe=Pt(OPe,[["__file","upload-dragger.vue"]]);const FPe=Rt({...QZ,beforeUpload:{type:We(Function),default:Sr},onRemove:{type:We(Function),default:Sr},onStart:{type:We(Function),default:Sr},onSuccess:{type:We(Function),default:Sr},onProgress:{type:We(Function),default:Sr},onError:{type:We(Function),default:Sr},onExceed:{type:We(Function),default:Sr}}),zPe=Ie({name:"ElUploadContent",inheritAttrs:!1}),UPe=Ie({...zPe,props:FPe,setup(n,{expose:e}){const t=n,r=bt("upload"),i=as(),a=Ir({}),s=Ir(),o=m=>{if(m.length===0)return;const{autoUpload:v,limit:g,fileList:y,multiple:b,onStart:_,onExceed:x}=t;if(g&&y.length+m.length>g){x(m,y);return}b||(m=m.slice(0,1));for(const S of m){const T=S;T.uid=fR(),_(T),v&&l(T)}},l=async m=>{if(s.value.value="",!t.beforeUpload)return u(m);let v,g={};try{const b=t.data,_=t.beforeUpload(m);g=Cb(t.data)?gC(t.data):t.data,v=await _,Cb(t.data)&&Fa(b,g)&&(g=gC(t.data))}catch{v=!1}if(v===!1){t.onRemove(m);return}let y=m;v instanceof Blob&&(v instanceof File?y=v:y=new File([v],m.name,{type:m.type})),u(Object.assign(y,{uid:m.uid}),g)},c=async(m,v)=>Zt(m)?m(v):m,u=async(m,v)=>{const{headers:g,data:y,method:b,withCredentials:_,name:x,action:S,onProgress:T,onSuccess:C,onError:M,httpRequest:A}=t;try{v=await c(v??y,m)}catch{t.onRemove(m);return}const{uid:I}=m,D={headers:g||{},withCredentials:_,file:m,data:v,method:b,filename:x,action:S,onProgress:F=>{T(F,m)},onSuccess:F=>{C(F,m),delete a.value[I]},onError:F=>{M(F,m),delete a.value[I]}},L=A(D);a.value[I]=L,L instanceof Promise&&L.then(D.onSuccess,D.onError)},d=m=>{const v=m.target.files;v&&o(Array.from(v))},f=()=>{i.value||(s.value.value="",s.value.click())},h=()=>{f()};return e({abort:m=>{sY(a.value).filter(m?([g])=>String(m.uid)===g:()=>!0).forEach(([g,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete a.value[g]})},upload:l}),(m,v)=>(V(),ue("div",{class:j([w(r).b(),w(r).m(m.listType),w(r).is("drag",m.drag),w(r).is("disabled",w(i))]),tabindex:w(i)?"-1":"0",onClick:f,onKeydown:Ur(sn(h,["self"]),["enter","space"])},[m.drag?(V(),rt(BPe,{key:0,disabled:w(i),onFile:o},{default:be(()=>[Ze(m.$slots,"default")]),_:3},8,["disabled"])):Ze(m.$slots,"default",{key:1}),me("input",{ref_key:"inputRef",ref:s,class:j(w(r).e("input")),name:m.name,disabled:w(i),multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:sn(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var u9=Pt(UPe,[["__file","upload-content.vue"]]);const d9="ElUpload",f9=n=>{var e;(e=n.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(n.url)},HPe=(n,e)=>{const t=QK(n,"fileList",void 0,{passive:!0}),r=h=>t.value.find(p=>p.uid===h.uid);function i(h){var p;(p=e.value)==null||p.abort(h)}function a(h=["ready","uploading","success","fail"]){t.value=t.value.filter(p=>!h.includes(p.status))}function s(h){t.value=t.value.filter(p=>p!==h)}const o=(h,p)=>{const m=r(p);m&&(console.error(h),m.status="fail",s(m),n.onError(h,m,t.value),n.onChange(m,t.value))},l=(h,p)=>{const m=r(p);m&&(n.onProgress(h,m,t.value),m.status="uploading",m.percentage=Math.round(h.percent))},c=(h,p)=>{const m=r(p);m&&(m.status="success",m.response=h,n.onSuccess(h,m,t.value),n.onChange(m,t.value))},u=h=>{ma(h.uid)&&(h.uid=fR());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(n.listType==="picture-card"||n.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(m){m.message,n.onError(m,p,t.value)}t.value=[...t.value,p],n.onChange(p,t.value)},d=async h=>{const p=h instanceof File?r(h):h;p||ua(d9,"file to be removed not found");const m=v=>{i(v),s(v),n.onRemove(v,t.value),f9(v)};n.beforeRemove?await n.beforeRemove(p,t.value)!==!1&&m(p):m(p)};function f(){t.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=e.value)==null?void 0:p.upload(h))})}return dt(()=>n.listType,h=>{h!=="picture-card"&&h!=="picture"||(t.value=t.value.map(p=>{const{raw:m,url:v}=p;if(!v&&m)try{p.url=URL.createObjectURL(m)}catch(g){n.onError(g,p,t.value)}return p}))}),dt(t,h=>{for(const p of h)p.uid||(p.uid=fR()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:t,abort:i,clearFiles:a,handleError:o,handleProgress:l,handleStart:u,handleSuccess:c,handleRemove:d,submit:f,revokeFileObjectURL:f9}},VPe=Ie({name:"ElUpload"}),$Pe=Ie({...VPe,props:EPe,setup(n,{expose:e}){const t=n,r=as(),i=Ir(),{abort:a,submit:s,clearFiles:o,uploadFiles:l,handleStart:c,handleError:u,handleRemove:d,handleSuccess:f,handleProgress:h,revokeFileObjectURL:p}=HPe(t,i),m=U(()=>t.listType==="picture-card"),v=U(()=>({...t,fileList:l.value,onStart:c,onProgress:h,onSuccess:f,onError:u,onRemove:d}));return yr(()=>{l.value.forEach(p)}),$n(jZ,{accept:_r(t,"accept")}),e({abort:a,submit:s,clearFiles:o,handleStart:c,handleRemove:d}),(g,y)=>(V(),ue("div",null,[w(m)&&g.showFileList?(V(),rt(c9,{key:0,disabled:w(r),"list-type":g.listType,files:w(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:w(d)},El({append:be(()=>[se(u9,Hn({ref_key:"uploadRef",ref:i},w(v)),{default:be(()=>[g.$slots.trigger?Ze(g.$slots,"trigger",{key:0}):Qe("v-if",!0),!g.$slots.trigger&&g.$slots.default?Ze(g.$slots,"default",{key:1}):Qe("v-if",!0)]),_:3},16)]),_:2},[g.$slots.file?{name:"default",fn:be(({file:b,index:_})=>[Ze(g.$slots,"file",{file:b,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Qe("v-if",!0),!w(m)||w(m)&&!g.showFileList?(V(),rt(u9,Hn({key:1,ref_key:"uploadRef",ref:i},w(v)),{default:be(()=>[g.$slots.trigger?Ze(g.$slots,"trigger",{key:0}):Qe("v-if",!0),!g.$slots.trigger&&g.$slots.default?Ze(g.$slots,"default",{key:1}):Qe("v-if",!0)]),_:3},16)):Qe("v-if",!0),g.$slots.trigger?Ze(g.$slots,"default",{key:2}):Qe("v-if",!0),Ze(g.$slots,"tip"),!w(m)&&g.showFileList?(V(),rt(c9,{key:3,disabled:w(r),"list-type":g.listType,files:w(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:w(d)},El({_:2},[g.$slots.file?{name:"default",fn:be(({file:b,index:_})=>[Ze(g.$slots,"file",{file:b,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Qe("v-if",!0)]))}});var GPe=Pt($Pe,[["__file","upload.vue"]]);const WPe=gn(GPe),qPe=Rt({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:We([String,Array]),default:"Element Plus"},font:{type:We(Object)},gap:{type:We(Array),default:()=>[100,100]},offset:{type:We(Array)}});function KPe(n){return n.replace(/([A-Z])/g,"-$1").toLowerCase()}function YPe(n){return Object.keys(n).map(e=>`${KPe(e)}: ${n[e]};`).join(" ")}function XPe(){return window.devicePixelRatio||1}const jPe=(n,e)=>{let t=!1;return n.removedNodes.length&&e&&(t=Array.from(n.removedNodes).includes(e)),n.type==="attributes"&&n.target===e&&(t=!0),t},eQ=3;function z3(n,e,t=1){const r=document.createElement("canvas"),i=r.getContext("2d"),a=n*t,s=e*t;return r.setAttribute("width",`${a}px`),r.setAttribute("height",`${s}px`),i.save(),[i,r,a,s]}function ZPe(){function n(e,t,r,i,a,s,o,l){const[c,u,d,f]=z3(i,a,r);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,d,f);else{const{color:X,fontSize:J,fontStyle:Q,fontWeight:re,fontFamily:de,textAlign:le,textBaseline:fe}=s,Ee=Number(J)*r;c.font=`${Q} normal ${re} ${Ee}px/${a}px ${de}`,c.fillStyle=X,c.textAlign=le,c.textBaseline=fe;const Re=Tt(e)?e:[e];Re==null||Re.forEach((He,$e)=>{c.fillText(He??"",d/2,$e*(Ee+eQ*r))})}const h=Math.PI/180*Number(t),p=Math.max(i,a),[m,v,g]=z3(p,p,r);m.translate(g/2,g/2),m.rotate(h),d>0&&f>0&&m.drawImage(u,-d/2,-f/2);function y(X,J){const Q=X*Math.cos(h)-J*Math.sin(h),re=X*Math.sin(h)+J*Math.cos(h);return[Q,re]}let b=0,_=0,x=0,S=0;const T=d/2,C=f/2;[[0-T,0-C],[0+T,0-C],[0+T,0+C],[0-T,0+C]].forEach(([X,J])=>{const[Q,re]=y(X,J);b=Math.min(b,Q),_=Math.max(_,Q),x=Math.min(x,re),S=Math.max(S,re)});const A=b+g/2,I=x+g/2,D=_-b,L=S-x,F=o*r,B=l*r,k=(D+F)*2,H=L+B,[z,O]=z3(k,H);function G(X=0,J=0){z.drawImage(v,A,I,D,L,X,J,D,L)}return G(),G(D+F,-L/2-B/2),G(D+F,+L/2+B/2),[O.toDataURL(),k/r,H/r]}return n}const QPe=Ie({name:"ElWatermark"}),JPe=Ie({...QPe,props:qPe,setup(n){const e=n,t={position:"relative"},r=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.color)!=null?I:"rgba(0,0,0,.15)"}),i=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontSize)!=null?I:16}),a=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontWeight)!=null?I:"normal"}),s=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontStyle)!=null?I:"normal"}),o=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontFamily)!=null?I:"sans-serif"}),l=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.textAlign)!=null?I:"center"}),c=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.textBaseline)!=null?I:"hanging"}),u=U(()=>e.gap[0]),d=U(()=>e.gap[1]),f=U(()=>u.value/2),h=U(()=>d.value/2),p=U(()=>{var A,I;return(I=(A=e.offset)==null?void 0:A[0])!=null?I:f.value}),m=U(()=>{var A,I;return(I=(A=e.offset)==null?void 0:A[1])!=null?I:h.value}),v=()=>{const A={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let I=p.value-f.value,D=m.value-h.value;return I>0&&(A.left=`${I}px`,A.width=`calc(100% - ${I}px)`,I=0),D>0&&(A.top=`${D}px`,A.height=`calc(100% - ${D}px)`,D=0),A.backgroundPosition=`${I}px ${D}px`,A},g=Ir(null),y=Ir(),b=ee(!1),_=()=>{y.value&&(y.value.remove(),y.value=void 0)},x=(A,I)=>{var D;g.value&&y.value&&(b.value=!0,y.value.setAttribute("style",YPe({...v(),backgroundImage:`url('${A}')`,backgroundSize:`${Math.floor(I)}px`})),(D=g.value)==null||D.append(y.value),setTimeout(()=>{b.value=!1}))},S=A=>{let I=120,D=64;const L=e.image,F=e.content,B=e.width,k=e.height;if(!L&&A.measureText){A.font=`${Number(i.value)}px ${o.value}`;const H=Tt(F)?F:[F],z=H.map(O=>{const G=A.measureText(O);return[G.width,G.fontBoundingBoxAscent!==void 0?G.fontBoundingBoxAscent+G.fontBoundingBoxDescent:G.actualBoundingBoxAscent+G.actualBoundingBoxDescent]});I=Math.ceil(Math.max(...z.map(O=>O[0]))),D=Math.ceil(Math.max(...z.map(O=>O[1])))*H.length+(H.length-1)*eQ}return[B??I,k??D]},T=ZPe(),C=()=>{const I=document.createElement("canvas").getContext("2d"),D=e.image,L=e.content,F=e.rotate;if(I){y.value||(y.value=document.createElement("div"));const B=XPe(),[k,H]=S(I),z=O=>{const[G,X]=T(O||"",F,B,k,H,{color:r.value,fontSize:i.value,fontStyle:s.value,fontWeight:a.value,fontFamily:o.value,textAlign:l.value,textBaseline:c.value},u.value,d.value);x(G,X)};if(D){const O=new Image;O.onload=()=>{z(O)},O.onerror=()=>{z(L)},O.crossOrigin="anonymous",O.referrerPolicy="no-referrer",O.src=D}else z(L)}};return pn(()=>{C()}),dt(()=>e,()=>{C()},{deep:!0,flush:"post"}),yr(()=>{_()}),ZK(g,A=>{b.value||A.forEach(I=>{jPe(I,y.value)&&(_(),C())})},{attributes:!0,subtree:!0,childList:!0}),(A,I)=>(V(),ue("div",{ref_key:"containerRef",ref:g,style:Bt([t])},[Ze(A.$slots,"default")],4))}});var eDe=Pt(JPe,[["__file","watermark.vue"]]);const tDe=gn(eDe),nDe=Rt({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:We(Object)},targetAreaClickable:{type:Boolean,default:!0}}),rDe=(n,e,t,r,i)=>{const a=ee(null),s=()=>{let d;return qt(n.value)?d=document.querySelector(n.value):Zt(n.value)?d=n.value():d=n.value,d},o=()=>{const d=s();if(!d||!e.value){a.value=null;return}iDe(d)||d.scrollIntoView(i.value);const{left:f,top:h,width:p,height:m}=d.getBoundingClientRect();a.value={left:f,top:h,width:p,height:m,radius:0}};pn(()=>{dt([e,n],()=>{o()},{immediate:!0}),window.addEventListener("resize",o)}),yr(()=>{window.removeEventListener("resize",o)});const l=d=>{var f;return(f=Tt(t.value.offset)?t.value.offset[d]:t.value.offset)!=null?f:6},c=U(()=>{var d;if(!a.value)return a.value;const f=l(0),h=l(1),p=((d=t.value)==null?void 0:d.radius)||2;return{left:a.value.left-f,top:a.value.top-h,width:a.value.width+f*2,height:a.value.height+h*2,radius:p}}),u=U(()=>{const d=s();return!r.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var f,h,p,m;return window.DOMRect.fromRect({width:((f=c.value)==null?void 0:f.width)||0,height:((h=c.value)==null?void 0:h.height)||0,x:((p=c.value)==null?void 0:p.left)||0,y:((m=c.value)==null?void 0:m.top)||0})}}});return{mergedPosInfo:c,triggerTarget:u}},LT=Symbol("ElTour");function iDe(n){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:a,left:s}=n.getBoundingClientRect();return r>=0&&s>=0&&i<=e&&a<=t}const aDe=(n,e,t,r,i,a,s,o)=>{const l=ee(),c=ee(),u=ee({}),d={x:l,y:c,placement:r,strategy:i,middlewareData:u},f=U(()=>{const g=[EZ(w(a)),$5e(),W5e(),sDe()];return w(o)&&w(t)&&g.push(AZ({element:w(t)})),g}),h=async()=>{if(!nr)return;const g=w(n),y=w(e);if(!g||!y)return;const b=await OZ(g,y,{placement:w(r),strategy:w(i),middleware:w(f)});Jv(d).forEach(_=>{d[_].value=b[_]})},p=U(()=>{if(!w(n))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:w(s)};const{overflow:g}=w(u);return{position:w(i),zIndex:w(s),top:w(c)!=null?`${w(c)}px`:"",left:w(l)!=null?`${w(l)}px`:"",maxWidth:g!=null&&g.maxWidth?`${g==null?void 0:g.maxWidth}px`:""}}),m=U(()=>{if(!w(o))return{};const{arrow:g}=w(u);return{left:(g==null?void 0:g.x)!=null?`${g==null?void 0:g.x}px`:"",top:(g==null?void 0:g.y)!=null?`${g==null?void 0:g.y}px`:""}});let v;return pn(()=>{const g=w(n),y=w(e);g&&y&&(v=cRe(g,y,h)),Ta(()=>{h()})}),yr(()=>{v&&v()}),{update:h,contentStyle:p,arrowStyle:m}},sDe=()=>({name:"overflow",async fn(n){const e=await YL(n);let t=0;return e.left>0&&(t=e.left),e.right>0&&(t=e.right),{data:{maxWidth:n.rects.floating.width-t}}}}),oDe=Ie({name:"ElTourMask",inheritAttrs:!1}),lDe=Ie({...oDe,props:nDe,setup(n){const e=n,{ns:t}=Ot(LT),r=U(()=>{var o,l;return(l=(o=e.pos)==null?void 0:o.radius)!=null?l:2}),i=U(()=>{const o=r.value,l=`a${o},${o} 0 0 1`;return{topRight:`${l} ${o},${o}`,bottomRight:`${l} ${-o},${o}`,bottomLeft:`${l} ${-o},${-o}`,topLeft:`${l} ${o},${-o}`}}),a=U(()=>{const o=window.innerWidth,l=window.innerHeight,c=i.value,u=`M${o},0 L0,0 L0,${l} L${o},${l} L${o},0 Z`,d=r.value;return e.pos?`${u} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${c.topRight} v${e.pos.height-d*2} ${c.bottomRight} h${-e.pos.width+d*2} ${c.bottomLeft} v${-e.pos.height+d*2} ${c.topLeft} z`:u}),s=U(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return xL(_r(e,"visible"),{ns:t}),(o,l)=>o.visible?(V(),ue("div",Hn({key:0,class:w(t).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:o.zIndex,pointerEvents:o.pos&&o.targetAreaClickable?"none":"auto"}},o.$attrs),[(V(),ue("svg",{style:{width:"100%",height:"100%"}},[me("path",{class:j(w(t).e("hollow")),style:Bt(w(s)),d:w(a)},null,14,["d"])]))],16)):Qe("v-if",!0)}});var cDe=Pt(lDe,[["__file","mask.vue"]]);const uDe=["absolute","fixed"],dDe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],t6=Rt({placement:{type:We(String),values:dDe,default:"bottom"},reference:{type:We(Object),default:null},strategy:{type:We(String),values:uDe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),fDe={close:()=>!0},hDe=Ie({name:"ElTourContent"}),pDe=Ie({...hDe,props:t6,emits:fDe,setup(n,{emit:e}){const t=n,r=ee(t.placement),i=ee(t.strategy),a=ee(null),s=ee(null);dt(()=>t.placement,()=>{r.value=t.placement});const{contentStyle:o,arrowStyle:l}=aDe(_r(t,"reference"),a,s,r,i,_r(t,"offset"),_r(t,"zIndex"),_r(t,"showArrow")),c=U(()=>r.value.split("-")[0]),{ns:u}=Ot(LT),d=()=>{e("close")},f=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(V(),ue("div",{ref_key:"contentRef",ref:a,style:Bt(w(o)),class:j(w(u).e("content")),"data-side":w(c),tabindex:"-1"},[se(w(qg),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:d,onFocusoutPrevented:f},{default:be(()=>[Ze(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(V(),ue("span",{key:0,ref_key:"arrowRef",ref:s,style:Bt(w(l)),class:j(w(u).e("arrow"))},null,6)):Qe("v-if",!0)],14,["data-side"]))}});var mDe=Pt(pDe,[["__file","content.vue"]]),vDe=Ie({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(n,{slots:e,emit:t}){let r=0;return()=>{var i,a;const s=(i=e.default)==null?void 0:i.call(e),o=[];let l=0;function c(u){Tt(u)&&u.forEach(d=>{var f;((f=(d==null?void 0:d.type)||{})==null?void 0:f.name)==="ElTourStep"&&(o.push(d),l+=1)})}return s.length&&c(Rf((a=s[0])==null?void 0:a.children)),r!==l&&(r=l,t("update-total",l)),o.length?o[n.current]:null}}});const gDe=Rt({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:kr},placement:t6.placement,contentStyle:{type:We([Object])},mask:{type:We([Boolean,Object]),default:!0},gap:{type:We(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:We([Boolean,Object]),default:()=>({block:"center"})},type:{type:We(String)},appendTo:{type:We([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),yDe={[Mn]:n=>Vr(n),"update:current":n=>en(n),close:n=>en(n),finish:()=>!0,change:n=>en(n)},bDe=Ie({name:"ElTour"}),_De=Ie({...bDe,props:gDe,emits:yDe,setup(n,{emit:e}){const t=n,r=bt("tour"),i=ee(0),a=ee(),s=QK(t,"current",e,{passive:!0}),o=U(()=>{var M;return(M=a.value)==null?void 0:M.target}),l=U(()=>[r.b(),v.value==="primary"?r.m("primary"):""]),c=U(()=>{var M;return((M=a.value)==null?void 0:M.placement)||t.placement}),u=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.contentStyle)!=null?A:t.contentStyle}),d=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.mask)!=null?A:t.mask}),f=U(()=>!!d.value&&t.modelValue),h=U(()=>Vr(d.value)?void 0:d.value),p=U(()=>{var M,A;return!!o.value&&((A=(M=a.value)==null?void 0:M.showArrow)!=null?A:t.showArrow)}),m=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.scrollIntoViewOptions)!=null?A:t.scrollIntoViewOptions}),v=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.type)!=null?A:t.type}),{nextZIndex:g}=Gg(),y=g(),b=U(()=>{var M;return(M=t.zIndex)!=null?M:y}),{mergedPosInfo:_,triggerTarget:x}=rDe(o,_r(t,"modelValue"),_r(t,"gap"),d,m);dt(()=>t.modelValue,M=>{M||(s.value=0)});const S=()=>{t.closeOnPressEscape&&(e("update:modelValue",!1),e("close",s.value))},T=M=>{i.value=M},C=ea();return $n(LT,{currentStep:a,current:s,total:i,showClose:_r(t,"showClose"),closeIcon:_r(t,"closeIcon"),mergedType:v,ns:r,slots:C,updateModelValue(M){e("update:modelValue",M)},onClose(){e("close",s.value)},onFinish(){e("finish")},onChange(){e("change",s.value)}}),(M,A)=>(V(),ue(zt,null,[se(w(Kg),{to:M.appendTo},{default:be(()=>{var I,D;return[me("div",Hn({class:w(l)},M.$attrs),[se(cDe,{visible:w(f),fill:(I=w(h))==null?void 0:I.color,style:Bt((D=w(h))==null?void 0:D.style),pos:w(_),"z-index":w(b),"target-area-clickable":M.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),M.modelValue?(V(),rt(mDe,{key:w(s),reference:w(x),placement:w(c),"show-arrow":w(p),"z-index":w(b),style:Bt(w(u)),onClose:S},{default:be(()=>[se(w(vDe),{current:w(s),onUpdateTotal:T},{default:be(()=>[Ze(M.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Qe("v-if",!0)],16)]}),_:3},8,["to"]),Qe(" just for IDE "),Qe("v-if",!0)],64))}});var wDe=Pt(_De,[["__file","tour.vue"]]);const xDe=Rt({target:{type:We([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:kr},showArrow:{type:Boolean,default:void 0},placement:t6.placement,mask:{type:We([Boolean,Object]),default:void 0},contentStyle:{type:We([Object])},prevButtonProps:{type:We(Object)},nextButtonProps:{type:We(Object)},scrollIntoViewOptions:{type:We([Boolean,Object]),default:void 0},type:{type:We(String)}}),SDe={close:()=>!0},CDe=Ie({name:"ElTourStep"}),MDe=Ie({...CDe,props:xDe,emits:SDe,setup(n,{emit:e}){const t=n,{Close:r}=Wk,{t:i}=rr(),{currentStep:a,current:s,total:o,showClose:l,closeIcon:c,mergedType:u,ns:d,slots:f,updateModelValue:h,onClose:p,onFinish:m,onChange:v}=Ot(LT);dt(t,C=>{a.value=C},{immediate:!0});const g=U(()=>{var C;return(C=t.showClose)!=null?C:l.value}),y=U(()=>{var C,M;return(M=(C=t.closeIcon)!=null?C:c.value)!=null?M:r}),b=C=>{if(C)return Kpe(C,["children","onClick"])},_=()=>{var C,M;s.value-=1,(C=t.prevButtonProps)!=null&&C.onClick&&((M=t.prevButtonProps)==null||M.onClick()),v()},x=()=>{var C;s.value>=o.value-1?S():s.value+=1,(C=t.nextButtonProps)!=null&&C.onClick&&t.nextButtonProps.onClick(),v()},S=()=>{T(),m()},T=()=>{h(!1),p(),e("close")};return(C,M)=>(V(),ue(zt,null,[w(g)?(V(),ue("button",{key:0,"aria-label":"Close",class:j(w(d).e("closebtn")),type:"button",onClick:T},[se(w(Vt),{class:j(w(d).e("close"))},{default:be(()=>[(V(),rt(Nn(w(y))))]),_:1},8,["class"])],2)):Qe("v-if",!0),me("header",{class:j([w(d).e("header"),{"show-close":w(l)}])},[Ze(C.$slots,"header",{},()=>[me("span",{role:"heading",class:j(w(d).e("title"))},Ct(C.title),3)])],2),me("div",{class:j(w(d).e("body"))},[Ze(C.$slots,"default",{},()=>[me("span",null,Ct(C.description),1)])],2),me("footer",{class:j(w(d).e("footer"))},[me("div",{class:j(w(d).b("indicators"))},[w(f).indicators?(V(),rt(Nn(w(f).indicators),{key:0,current:w(s),total:w(o)},null,8,["current","total"])):(V(!0),ue(zt,{key:1},In(w(o),(A,I)=>(V(),ue("span",{key:A,class:j([w(d).b("indicator"),I===w(s)?"is-active":""])},null,2))),128))],2),me("div",{class:j(w(d).b("buttons"))},[w(s)>0?(V(),rt(w(Aa),Hn({key:0,size:"small",type:w(u)},b(C.prevButtonProps),{onClick:_}),{default:be(()=>{var A,I;return[dn(Ct((I=(A=C.prevButtonProps)==null?void 0:A.children)!=null?I:w(i)("el.tour.previous")),1)]}),_:1},16,["type"])):Qe("v-if",!0),w(s)<=w(o)-1?(V(),rt(w(Aa),Hn({key:1,size:"small",type:w(u)==="primary"?"default":"primary"},b(C.nextButtonProps),{onClick:x}),{default:be(()=>{var A,I;return[dn(Ct((I=(A=C.nextButtonProps)==null?void 0:A.children)!=null?I:w(s)===w(o)-1?w(i)("el.tour.finish"):w(i)("el.tour.next")),1)]}),_:1},16,["type"])):Qe("v-if",!0)],2)],2)],64))}});var tQ=Pt(MDe,[["__file","step.vue"]]);const TDe=gn(wDe,{TourStep:tQ}),ADe=Si(tQ),EDe=Rt({container:{type:We([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:We(String),default:"default"},direction:{type:We(String),default:"vertical"}}),IDe={change:n=>qt(n),click:(n,e)=>n instanceof MouseEvent&&(qt(e)||Mr(e))},nQ=Symbol("anchor"),ex=n=>{if(!nr||n==="")return null;if(qt(n))try{return document.querySelector(n)}catch{return null}return n};function RDe(n){let e=0;const t=(...r)=>{e&&nm(e),e=qf(()=>{n(...r),e=0})};return t.cancel=()=>{nm(e),e=0},t}const PDe=Ie({name:"ElAnchor"}),DDe=Ie({...PDe,props:EDe,emits:IDe,setup(n,{expose:e,emit:t}){const r=n,i=ee(""),a=ee(null),s=ee(null),o=ee(),l={};let c=!1,u=0;const d=bt("anchor"),f=U(()=>[d.b(),r.type==="underline"?d.m("underline"):"",d.m(r.direction)]),h=C=>{l[C.href]=C.el},p=C=>{delete l[C]},m=C=>{i.value!==C&&(i.value=C,t("change",C))};let v=null;const g=C=>{if(!o.value)return;const M=ex(C);if(!M)return;v&&v(),c=!0;const A=x7(M,o.value),I=M5(M,A),D=A.scrollHeight-A.clientHeight,L=Math.min(I-r.offset,D);v=Jme(o.value,u,L,r.duration,()=>{setTimeout(()=>{c=!1},20)})},y=C=>{C&&(m(C),g(C))},b=(C,M)=>{t("click",C,M),y(M)},_=RDe(()=>{o.value&&(u=S7(o.value));const C=x();c||Mr(C)||m(C)}),x=()=>{if(!o.value)return;const C=S7(o.value),M=[];for(const A of Object.keys(l)){const I=ex(A);if(!I)continue;const D=x7(I,o.value),L=M5(I,D);M.push({top:L-r.offset-r.bound,href:A})}M.sort((A,I)=>A.top-I.top);for(let A=0;A<M.length;A++){const I=M[A],D=M[A+1];if(A===0&&C===0)return"";if(I.top<=C&&(!D||D.top>C))return I.href}},S=()=>{const C=ex(r.container);!C||hT(C)?o.value=window:o.value=C};Tr(o,"scroll",_);const T=U(()=>{if(!a.value||!s.value||!i.value)return{};const C=l[i.value];if(!C)return{};const M=a.value.getBoundingClientRect(),A=s.value.getBoundingClientRect(),I=C.getBoundingClientRect();return r.direction==="horizontal"?{left:`${I.left-M.left}px`,width:`${I.width}px`,opacity:1}:{top:`${I.top-M.top+(I.height-A.height)/2}px`,opacity:1}});return pn(()=>{S();const C=decodeURIComponent(window.location.hash);ex(C)?y(C):_()}),dt(()=>r.container,()=>{S()}),$n(nQ,{ns:d,direction:r.direction,currentAnchor:i,addLink:h,removeLink:p,handleClick:b}),e({scrollTo:y}),(C,M)=>(V(),ue("div",{ref_key:"anchorRef",ref:a,class:j(w(f))},[C.marker?(V(),ue("div",{key:0,ref_key:"markerRef",ref:s,class:j(w(d).e("marker")),style:Bt(w(T))},null,6)):Qe("v-if",!0),me("div",{class:j(w(d).e("list"))},[Ze(C.$slots,"default")],2)],2))}});var kDe=Pt(DDe,[["__file","anchor.vue"]]);const LDe=Rt({title:String,href:String}),NDe=Ie({name:"ElAnchorLink"}),ODe=Ie({...NDe,props:LDe,setup(n){const e=n,t=ee(null),{ns:r,direction:i,currentAnchor:a,addLink:s,removeLink:o,handleClick:l}=Ot(nQ),c=U(()=>[r.e("link"),r.is("active",a.value===e.href)]),u=d=>{l(d,e.href)};return dt(()=>e.href,(d,f)=>{Yt(()=>{f&&o(f),d&&s({href:d,el:t.value})})}),pn(()=>{const{href:d}=e;d&&s({href:d,el:t.value})}),yr(()=>{const{href:d}=e;d&&o(d)}),(d,f)=>(V(),ue("div",{class:j(w(r).e("item"))},[me("a",{ref_key:"linkRef",ref:t,class:j(w(c)),href:d.href,onClick:u},[Ze(d.$slots,"default",{},()=>[dn(Ct(d.title),1)])],10,["href"]),d.$slots["sub-link"]&&w(i)==="vertical"?(V(),ue("div",{key:0,class:j(w(r).e("list"))},[Ze(d.$slots,"sub-link")],2)):Qe("v-if",!0)],2))}});var rQ=Pt(ODe,[["__file","anchor-link.vue"]]);const BDe=gn(kDe,{AnchorLink:rQ}),FDe=Si(rQ),zDe=Rt({direction:{type:We(String),default:"horizontal"},options:{type:We(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:Ji,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...Ua(["ariaLabel"])}),UDe={[Mn]:n=>qt(n)||en(n)||Vr(n),[Rr]:n=>qt(n)||en(n)||Vr(n)},HDe=Ie({name:"ElSegmented"}),VDe=Ie({...HDe,props:zDe,emits:UDe,setup(n,{emit:e}){const t=n,r=bt("segmented"),i=za(),a=Xi(),s=as(),{formItem:o}=is(),{inputId:l,isLabeledByFormItem:c}=Ol(t,{formItemContext:o}),u=ee(null),d=xme(),f=mr({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=M=>{const A=p(M);e(Mn,A),e(Rr,A)},p=M=>Pn(M)?M.value:M,m=M=>Pn(M)?M.label:M,v=M=>!!(s.value||Pn(M)&&M.disabled),g=M=>t.modelValue===p(M),y=M=>t.options.find(A=>p(A)===M),b=M=>[r.e("item"),r.is("selected",g(M)),r.is("disabled",v(M))],_=()=>{if(!u.value)return;const M=u.value.querySelector(".is-selected"),A=u.value.querySelector(".is-selected input");if(!M||!A){f.width=0,f.height=0,f.translateX=0,f.translateY=0,f.focusVisible=!1;return}const I=M.getBoundingClientRect();f.isInit=!0,t.direction==="vertical"?(f.height=I.height,f.translateY=M.offsetTop):(f.width=I.width,f.translateX=M.offsetLeft);try{f.focusVisible=A.matches(":focus-visible")}catch{}},x=U(()=>[r.b(),r.m(a.value),r.is("block",t.block)]),S=U(()=>({width:t.direction==="vertical"?"100%":`${f.width}px`,height:t.direction==="vertical"?`${f.height}px`:"100%",transform:t.direction==="vertical"?`translateY(${f.translateY}px)`:`translateX(${f.translateX}px)`,display:f.isInit?"block":"none"})),T=U(()=>[r.e("item-selected"),r.is("disabled",v(y(t.modelValue))),r.is("focus-visible",f.focusVisible)]),C=U(()=>t.name||i.value);return ui(u,_),dt(d,_),dt(()=>t.modelValue,()=>{var M;_(),t.validateEvent&&((M=o==null?void 0:o.validate)==null||M.call(o,"change").catch(A=>void 0))},{flush:"post"}),(M,A)=>M.options.length?(V(),ue("div",{key:0,id:w(l),ref_key:"segmentedRef",ref:u,class:j(w(x)),role:"radiogroup","aria-label":w(c)?void 0:M.ariaLabel||"segmented","aria-labelledby":w(c)?w(o).labelId:void 0},[me("div",{class:j([w(r).e("group"),w(r).m(t.direction)])},[me("div",{style:Bt(w(S)),class:j(w(T))},null,6),(V(!0),ue(zt,null,In(M.options,(I,D)=>(V(),ue("label",{key:D,class:j(b(I))},[me("input",{class:j(w(r).e("item-input")),type:"radio",name:w(C),disabled:v(I),checked:g(I),onChange:L=>h(I)},null,42,["name","disabled","checked","onChange"]),me("div",{class:j(w(r).e("item-label"))},[Ze(M.$slots,"default",{item:I},()=>[dn(Ct(m(I)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Qe("v-if",!0)}});var $De=Pt(VDe,[["__file","segmented.vue"]]);const GDe=gn($De),WDe=(n,e)=>{const t=n.toLowerCase();return(e.label||e.value).toLowerCase().includes(t)},qDe=(n,e,t)=>{const{selectionEnd:r}=n;if(r===null)return;const i=n.value,a=bs(e);let s=-1,o;for(let l=r-1;l>=0;--l){const c=i[l];if(c===t||c===`
`||c==="\r"){s=l;continue}if(a.includes(c)){const u=s===-1?r:s;o={pattern:i.slice(l+1,u),start:l+1,end:u,prefix:c,prefixIndex:l,splitIndex:s,selectionEnd:r};break}}return o},KDe=(n,e={debug:!1,useSelectionEnd:!1})=>{const t=n.selectionStart!==null?n.selectionStart:0,r=n.selectionEnd!==null?n.selectionEnd:0,i=e.useSelectionEnd?r:t,a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const f=document.querySelector("#input-textarea-caret-position-mirror-div");f!=null&&f.parentNode&&f.parentNode.removeChild(f)}const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);const o=s.style,l=window.getComputedStyle(n),c=n.nodeName==="INPUT";o.whiteSpace=c?"nowrap":"pre-wrap",c||(o.wordWrap="break-word"),o.position="absolute",e.debug||(o.visibility="hidden"),a.forEach(f=>{if(c&&f==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),m=p+Number.parseInt(l.lineHeight);h>m?o.lineHeight=`${h-p}px`:h===m?o.lineHeight=l.lineHeight:o.lineHeight="0"}else o.lineHeight=l.height;else o[f]=l[f]}),bT()?n.scrollHeight>Number.parseInt(l.height)&&(o.overflowY="scroll"):o.overflow="hidden",s.textContent=n.value.slice(0,Math.max(0,i)),c&&s.textContent&&(s.textContent=s.textContent.replace(/\s/g," "));const u=document.createElement("span");u.textContent=n.value.slice(Math.max(0,i))||".",u.style.position="relative",u.style.left=`${-n.scrollLeft}px`,u.style.top=`${-n.scrollTop}px`,s.appendChild(u);const d={top:u.offsetTop+Number.parseInt(l.borderTopWidth),left:u.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?u.style.backgroundColor="#aaa":document.body.removeChild(s),d.left>=n.clientWidth&&(d.left=n.clientWidth),d},YDe=Rt({...Kk,options:{type:We(Array),default:()=>[]},prefix:{type:We([String,Array]),default:"@",validator:n=>qt(n)?n.length===1:n.every(e=>qt(e)&&e.length===1)},split:{type:String,default:" ",validator:n=>n.length===1},filterOption:{type:We([Boolean,Function]),default:()=>WDe,validator:n=>n===!1?!0:Zt(n)},placement:{type:We(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:We(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:We(Object),default:()=>({})}}),XDe={[Mn]:n=>qt(n),search:(n,e)=>qt(n)&&qt(e),select:(n,e)=>qt(n.value)&&qt(e),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},jDe=Rt({options:{type:We(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),ZDe={select:n=>qt(n.value)},QDe=Ie({name:"ElMentionDropdown"}),JDe=Ie({...QDe,props:jDe,emits:ZDe,setup(n,{expose:e,emit:t}){const r=n,i=bt("mention"),{t:a}=rr(),s=ee(-1),o=ee(),l=ee(),c=ee(),u=(b,_)=>[i.be("dropdown","item"),i.is("hovering",s.value===_),i.is("disabled",b.disabled||r.disabled)],d=b=>{b.disabled||r.disabled||t("select",b)},f=b=>{s.value=b},h=U(()=>r.disabled||r.options.every(b=>b.disabled)),p=U(()=>r.options[s.value]),m=()=>{p.value&&t("select",p.value)},v=b=>{const{options:_}=r;if(_.length===0||h.value)return;b==="next"?(s.value++,s.value===_.length&&(s.value=0)):b==="prev"&&(s.value--,s.value<0&&(s.value=_.length-1));const x=_[s.value];if(x.disabled){v(b);return}Yt(()=>g(x))},g=b=>{var _,x,S,T;const{options:C}=r,M=C.findIndex(I=>I.value===b.value),A=(_=l.value)==null?void 0:_[M];if(A){const I=(S=(x=c.value)==null?void 0:x.querySelector)==null?void 0:S.call(x,`.${i.be("dropdown","wrap")}`);I&&zk(I,A)}(T=o.value)==null||T.handleScroll()};return dt(()=>r.options,()=>{h.value||r.options.length===0?s.value=-1:s.value=0},{immediate:!0}),e({hoveringIndex:s,navigateOptions:v,selectHoverOption:m,hoverOption:p}),(b,_)=>(V(),ue("div",{ref_key:"dropdownRef",ref:c,class:j(w(i).b("dropdown"))},[b.$slots.header?(V(),ue("div",{key:0,class:j(w(i).be("dropdown","header"))},[Ze(b.$slots,"header")],2)):Qe("v-if",!0),Sn(se(w(du),{id:b.contentId,ref_key:"scrollbarRef",ref:o,tag:"ul","wrap-class":w(i).be("dropdown","wrap"),"view-class":w(i).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:be(()=>[(V(!0),ue(zt,null,In(b.options,(x,S)=>(V(),ue("li",{id:`${b.contentId}-${S}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:S,class:j(u(x,S)),role:"option","aria-disabled":x.disabled||b.disabled||void 0,"aria-selected":s.value===S,onMousemove:T=>f(S),onClick:sn(T=>d(x),["stop"])},[Ze(b.$slots,"label",{item:x,index:S},()=>{var T;return[me("span",null,Ct((T=x.label)!=null?T:x.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[fr,b.options.length>0&&!b.loading]]),b.loading?(V(),ue("div",{key:1,class:j(w(i).be("dropdown","loading"))},[Ze(b.$slots,"loading",{},()=>[dn(Ct(w(a)("el.mention.loading")),1)])],2)):Qe("v-if",!0),b.$slots.footer?(V(),ue("div",{key:2,class:j(w(i).be("dropdown","footer"))},[Ze(b.$slots,"footer")],2)):Qe("v-if",!0)],2))}});var eke=Pt(JDe,[["__file","mention-dropdown.vue"]]);const tke=Ie({name:"ElMention",inheritAttrs:!1}),nke=Ie({...tke,props:YDe,emits:XDe,setup(n,{expose:e,emit:t}){const r=n,i=U(()=>sc(r,Object.keys(Kk))),a=bt("mention"),s=as(),o=za(),l=ee(),c=ee(),u=ee(),d=ee(!1),f=ee(),h=ee(),p=U(()=>r.showArrow?r.placement:`${r.placement}-start`),m=U(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),v=U(()=>{const{filterOption:D,options:L}=r;return!h.value||!D?L:L.filter(F=>D(h.value.pattern,F))}),g=U(()=>d.value&&(!!v.value.length||r.loading)),y=U(()=>{var D;return`${o.value}-${(D=u.value)==null?void 0:D.hoveringIndex}`}),b=D=>{t("update:modelValue",D),M()},_=D=>{var L,F,B,k;if(!(!("code"in D)||(L=l.value)!=null&&L.isComposing))switch(D.code){case Nt.left:case Nt.right:M();break;case Nt.up:case Nt.down:if(!d.value)return;D.preventDefault(),(F=u.value)==null||F.navigateOptions(D.code===Nt.up?"prev":"next");break;case Nt.enter:case Nt.numpadEnter:if(!d.value)return;D.preventDefault(),(B=u.value)!=null&&B.hoverOption?(k=u.value)==null||k.selectHoverOption():d.value=!1;break;case Nt.esc:if(!d.value)return;D.preventDefault(),d.value=!1;break;case Nt.backspace:if(r.whole&&h.value){const{splitIndex:H,selectionEnd:z,pattern:O,prefixIndex:G,prefix:X}=h.value,J=C();if(!J)return;const Q=J.value,re=r.options.find(le=>le.value===O);if((Zt(r.checkIsWhole)?r.checkIsWhole(O,X):re)&&H!==-1&&H+1===z){D.preventDefault();const le=Q.slice(0,G)+Q.slice(H+1);t(Mn,le);const fe=G;Yt(()=>{J.selectionStart=fe,J.selectionEnd=fe,I()})}}}},{wrapperRef:x}=mh(l,{beforeFocus(){return s.value},afterFocus(){M()},beforeBlur(D){var L;return(L=c.value)==null?void 0:L.isFocusInsideContent(D)},afterBlur(){d.value=!1}}),S=()=>{M()},T=D=>{if(!h.value)return;const L=C();if(!L)return;const F=L.value,{split:B}=r,k=F.slice(h.value.end),H=k.startsWith(B),z=`${D.value}${H?"":B}`,O=F.slice(0,h.value.start)+z+k;t(Mn,O),t("select",D,h.value.prefix);const G=h.value.start+z.length+(H?1:0);Yt(()=>{L.selectionStart=G,L.selectionEnd=G,L.focus(),I()})},C=()=>{var D,L;return r.type==="textarea"?(D=l.value)==null?void 0:D.textarea:(L=l.value)==null?void 0:L.input},M=()=>{setTimeout(()=>{A(),I(),Yt(()=>{var D;return(D=c.value)==null?void 0:D.updatePopper()})},0)},A=()=>{const D=C();if(!D)return;const L=KDe(D),F=D.getBoundingClientRect(),B=l.value.$el.getBoundingClientRect();f.value={position:"absolute",width:0,height:`${L.height}px`,left:`${L.left+F.left-B.left}px`,top:`${L.top+F.top-B.top}px`}},I=()=>{const D=C();if(document.activeElement!==D){d.value=!1;return}const{prefix:L,split:F}=r;if(h.value=qDe(D,L,F),h.value&&h.value.splitIndex===-1){d.value=!0,t("search",h.value.pattern,h.value.prefix);return}d.value=!1};return e({input:l,tooltip:c,dropdownVisible:g}),(D,L)=>(V(),ue("div",{ref_key:"wrapperRef",ref:x,class:j(w(a).b())},[se(w(xs),Hn(Hn(w(i),D.$attrs),{ref_key:"elInputRef",ref:l,"model-value":D.modelValue,disabled:w(s),role:w(g)?"combobox":void 0,"aria-activedescendant":w(g)?w(y)||"":void 0,"aria-controls":w(g)?w(o):void 0,"aria-expanded":w(g)||void 0,"aria-label":D.ariaLabel,"aria-autocomplete":w(g)?"none":void 0,"aria-haspopup":w(g)?"listbox":void 0,onInput:b,onKeydown:_,onMousedown:S}),El({_:2},[In(D.$slots,(F,B)=>({name:B,fn:be(k=>[Ze(D.$slots,B,ic($f(k)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),se(w(ns),{ref_key:"tooltipRef",ref:c,visible:w(g),"popper-class":[w(a).e("popper"),D.popperClass],"popper-options":D.popperOptions,placement:w(p),"fallback-placements":w(m),effect:"light",pure:"",offset:D.offset,"show-arrow":D.showArrow},{default:be(()=>[me("div",{style:Bt(f.value)},null,4)]),content:be(()=>{var F;return[se(eke,{ref_key:"dropdownRef",ref:u,options:w(v),disabled:w(s),loading:D.loading,"content-id":w(o),"aria-label":D.ariaLabel,onSelect:T,onClick:sn((F=l.value)==null?void 0:F.focus,["stop"])},El({_:2},[In(D.$slots,(B,k)=>({name:k,fn:be(H=>[Ze(D.$slots,k,ic($f(H)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var rke=Pt(nke,[["__file","mention.vue"]]);const ike=gn(rke);var ake=[i0e,Ave,_1e,WIe,T1e,k1e,qY,W1e,q1e,Aa,JY,Obe,Hbe,i_e,a_e,awe,wX,dwe,Dl,b_e,fX,vwe,Dwe,kwe,ST,axe,lxe,_xe,wxe,xxe,Sxe,Cxe,NSe,WSe,qSe,i2e,ej,p2e,rCe,iCe,aCe,cj,iMe,aMe,Vt,vMe,fj,xs,hj,DMe,FMe,iTe,aTe,sTe,oTe,hTe,iAe,uAe,bAe,HY,xj,bX,D_e,P_e,IAe,LAe,HAe,du,rm,SC,FTe,_3e,I3e,R3e,X3e,eEe,Nj,dEe,_Ee,wEe,AEe,N4e,O4e,GIe,s5e,o5e,ag,f5e,tSe,y5e,S5e,C5e,ns,ARe,URe,OC,aPe,xPe,WPe,tDe,TDe,ADe,BDe,FDe,GDe,ike];const cl="ElInfiniteScroll",ske=50,oke=200,lke=0,cke={delay:{type:Number,default:oke},distance:{type:Number,default:lke},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},n6=(n,e)=>Object.entries(cke).reduce((t,[r,i])=>{var a,s;const{type:o,default:l}=i,c=n.getAttribute(`infinite-scroll-${r}`);let u=(s=(a=e[c])!=null?a:c)!=null?s:l;return u=u==="false"?!1:u,u=o(u),t[r]=Number.isNaN(u)?l:u,t},{}),iQ=n=>{const{observer:e}=n[cl];e&&(e.disconnect(),delete n[cl].observer)},uke=(n,e)=>{const{container:t,containerEl:r,instance:i,observer:a,lastScrollTop:s}=n[cl],{disabled:o,distance:l}=n6(n,i),{clientHeight:c,scrollHeight:u,scrollTop:d}=r,f=d-s;if(n[cl].lastScrollTop=d,a||o||f<0)return;let h=!1;if(t===n)h=u-(c+d)<=l;else{const{clientTop:p,scrollHeight:m}=n,v=M5(n,r);h=d+c>=v+p+m-l}h&&e.call(i)};function U3(n,e){const{containerEl:t,instance:r}=n[cl],{disabled:i}=n6(n,r);i||t.clientHeight===0||(t.scrollHeight<=t.clientHeight?e.call(r):iQ(n))}const dke={async mounted(n,e){const{instance:t,value:r}=e;Zt(r)||ua(cl,"'v-infinite-scroll' binding value must be a function"),await Yt();const{delay:i,immediate:a}=n6(n,t),s=Fk(n,!0),o=s===window?document.documentElement:s,l=Hp(uke.bind(null,n,r),i);if(s){if(n[cl]={instance:t,container:s,containerEl:o,delay:i,cb:r,onScroll:l,lastScrollTop:o.scrollTop},a){const c=new MutationObserver(Hp(U3.bind(null,n,r),ske));n[cl].observer=c,c.observe(n,{childList:!0,subtree:!0}),U3(n,r)}s.addEventListener("scroll",l)}},unmounted(n){if(!n[cl])return;const{container:e,onScroll:t}=n[cl];e==null||e.removeEventListener("scroll",t),iQ(n)},async updated(n){if(!n[cl])await Yt();else{const{containerEl:e,cb:t,observer:r}=n[cl];e.clientHeight&&r&&U3(n,t)}}},hR=dke;hR.install=n=>{n.directive("InfiniteScroll",hR)};const fke=hR;function hke(n){let e;const t=ee(!1),r=mr({...n,originalPosition:"",originalOverflow:"",visible:!1});function i(f){r.text=f}function a(){const f=r.parent,h=d.ns;if(!f.vLoadingAddClassList){let p=f.getAttribute("loading-number");p=Number.parseInt(p)-1,p?f.setAttribute("loading-number",p.toString()):(Cs(f,h.bm("parent","relative")),f.removeAttribute("loading-number")),Cs(f,h.bm("parent","hidden"))}s(),u.unmount()}function s(){var f,h;(h=(f=d.$el)==null?void 0:f.parentNode)==null||h.removeChild(d.$el)}function o(){var f;n.beforeClose&&!n.beforeClose()||(t.value=!0,clearTimeout(e),e=setTimeout(l,400),r.visible=!1,(f=n.closed)==null||f.call(n))}function l(){if(!t.value)return;const f=r.parent;t.value=!1,f.vLoadingAddClassList=void 0,a()}const c=Ie({name:"ElLoading",setup(f,{expose:h}){const{ns:p,zIndex:m}=vT("loading");return h({ns:p,zIndex:m}),()=>{const v=r.spinner||r.svg,g=Gt("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[Gt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),y=r.text?Gt("p",{class:p.b("text")},[r.text]):void 0;return Gt(ca,{name:p.b("fade"),onAfterLeave:l},{default:be(()=>[Sn(se("div",{style:{backgroundColor:r.background||""},class:[p.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[Gt("div",{class:p.b("spinner")},[g,y])]),[[fr,r.visible]])])})}}}),u=iK(c),d=u.mount(document.createElement("div"));return{...la(r),setText:i,removeElLoadingChild:s,close:o,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let tx;const pR=function(n={}){if(!nr)return;const e=pke(n);if(e.fullscreen&&tx)return tx;const t=hke({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(tx=void 0)}});mke(e,e.parent,t),h9(e,e.parent,t),e.parent.vLoadingAddClassList=()=>h9(e,e.parent,t);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(t.$el),Yt(()=>t.visible.value=e.visible),e.fullscreen&&(tx=t),t},pke=n=>{var e,t,r,i;let a;return qt(n.target)?a=(e=document.querySelector(n.target))!=null?e:document.body:a=n.target||document.body,{parent:a===document.body||n.body?document.body:a,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:a===document.body&&((t=n.fullscreen)!=null?t:!0),lock:(r=n.lock)!=null?r:!1,customClass:n.customClass||"",visible:(i=n.visible)!=null?i:!0,beforeClose:n.beforeClose,closed:n.closed,target:a}},mke=async(n,e,t)=>{const{nextZIndex:r}=t.vm.zIndex||t.vm._.exposed.zIndex,i={};if(n.fullscreen)t.originalPosition.value=qu(document.body,"position"),t.originalOverflow.value=qu(document.body,"overflow"),i.zIndex=r();else if(n.parent===document.body){t.originalPosition.value=qu(document.body,"position"),await Yt();for(const a of["top","left"]){const s=a==="top"?"scrollTop":"scrollLeft";i[a]=`${n.target.getBoundingClientRect()[a]+document.body[s]+document.documentElement[s]-Number.parseInt(qu(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${n.target.getBoundingClientRect()[a]}px`}else t.originalPosition.value=qu(e,"position");for(const[a,s]of Object.entries(i))t.$el.style[a]=s},h9=(n,e,t)=>{const r=t.vm.ns||t.vm._.exposed.ns;["absolute","fixed","sticky"].includes(t.originalPosition.value)?Cs(e,r.bm("parent","relative")):vl(e,r.bm("parent","relative")),n.fullscreen&&n.lock?vl(e,r.bm("parent","hidden")):Cs(e,r.bm("parent","hidden"))},A2=Symbol("ElLoading"),p9=(n,e)=>{var t,r,i,a;const s=e.instance,o=f=>Pn(e.value)?e.value[f]:void 0,l=f=>{const h=qt(f)&&(s==null?void 0:s[f])||f;return h&&ee(h)},c=f=>l(o(f)||n.getAttribute(`element-loading-${dh(f)}`)),u=(t=o("fullscreen"))!=null?t:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(r=o("target"))!=null?r:u?void 0:n,body:(i=o("body"))!=null?i:e.modifiers.body,lock:(a=o("lock"))!=null?a:e.modifiers.lock};n[A2]={options:d,instance:pR(d)}},vke=(n,e)=>{for(const t of Object.keys(e))Kr(e[t])&&(e[t].value=n[t])},m9={mounted(n,e){e.value&&p9(n,e)},updated(n,e){const t=n[A2];e.oldValue!==e.value&&(e.value&&!e.oldValue?p9(n,e):e.value&&e.oldValue?Pn(e.value)&&vke(e.value,t.options):t==null||t.instance.close())},unmounted(n){var e;(e=n[A2])==null||e.instance.close(),n[A2]=null}},gke={install(n){n.directive("loading",m9),n.config.globalProperties.$loading=pR},directive:m9,service:pR},aQ=["success","info","warning","error"],hs=_i({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:nr?document.body:void 0}),yke=Rt({customClass:{type:String,default:hs.customClass},center:{type:Boolean,default:hs.center},dangerouslyUseHTMLString:{type:Boolean,default:hs.dangerouslyUseHTMLString},duration:{type:Number,default:hs.duration},icon:{type:kr,default:hs.icon},id:{type:String,default:hs.id},message:{type:We([String,Object,Function]),default:hs.message},onClose:{type:We(Function),default:hs.onClose},showClose:{type:Boolean,default:hs.showClose},type:{type:String,values:aQ,default:hs.type},plain:{type:Boolean,default:hs.plain},offset:{type:Number,default:hs.offset},zIndex:{type:Number,default:hs.zIndex},grouping:{type:Boolean,default:hs.grouping},repeatNum:{type:Number,default:hs.repeatNum}}),bke={destroy:()=>!0},oc=pq([]),_ke=n=>{const e=oc.findIndex(i=>i.id===n),t=oc[e];let r;return e>0&&(r=oc[e-1]),{current:t,prev:r}},wke=n=>{const{prev:e}=_ke(n);return e?e.vm.exposed.bottom.value:0},xke=(n,e)=>oc.findIndex(r=>r.id===n)>0?16:e,Ske=Ie({name:"ElMessage"}),Cke=Ie({...Ske,props:yke,emits:bke,setup(n,{expose:e}){const t=n,{Close:r}=qk,{ns:i,zIndex:a}=vT("message"),{currentZIndex:s,nextZIndex:o}=a,l=ee(),c=ee(!1),u=ee(0);let d;const f=U(()=>t.type?t.type==="error"?"danger":t.type:"info"),h=U(()=>{const T=t.type;return{[i.bm("icon",T)]:T&&jf[T]}}),p=U(()=>t.icon||jf[t.type]||""),m=U(()=>wke(t.id)),v=U(()=>xke(t.id,t.offset)+m.value),g=U(()=>u.value+v.value),y=U(()=>({top:`${v.value}px`,zIndex:s.value}));function b(){t.duration!==0&&({stop:d}=tm(()=>{x()},t.duration))}function _(){d==null||d()}function x(){c.value=!1}function S({code:T}){T===Nt.esc&&x()}return pn(()=>{b(),o(),c.value=!0}),dt(()=>t.repeatNum,()=>{_(),b()}),Tr(document,"keydown",S),ui(l,()=>{u.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:g,close:x}),(T,C)=>(V(),rt(ca,{name:w(i).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:M=>T.$emit("destroy"),persisted:""},{default:be(()=>[Sn(me("div",{id:T.id,ref_key:"messageRef",ref:l,class:j([w(i).b(),{[w(i).m(T.type)]:T.type},w(i).is("center",T.center),w(i).is("closable",T.showClose),w(i).is("plain",T.plain),T.customClass]),style:Bt(w(y)),role:"alert",onMouseenter:_,onMouseleave:b},[T.repeatNum>1?(V(),rt(w(qY),{key:0,value:T.repeatNum,type:w(f),class:j(w(i).e("badge"))},null,8,["value","type","class"])):Qe("v-if",!0),w(p)?(V(),rt(w(Vt),{key:1,class:j([w(i).e("icon"),w(h)])},{default:be(()=>[(V(),rt(Nn(w(p))))]),_:1},8,["class"])):Qe("v-if",!0),Ze(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(V(),ue(zt,{key:1},[Qe(" Caution here, message could've been compromised, never use user's input as message "),me("p",{class:j(w(i).e("content")),innerHTML:T.message},null,10,["innerHTML"])],2112)):(V(),ue("p",{key:0,class:j(w(i).e("content"))},Ct(T.message),3))]),T.showClose?(V(),rt(w(Vt),{key:2,class:j(w(i).e("closeBtn")),onClick:sn(x,["stop"])},{default:be(()=>[se(w(r))]),_:1},8,["class","onClick"])):Qe("v-if",!0)],46,["id"]),[[fr,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Mke=Pt(Cke,[["__file","message.vue"]]);let Tke=1;const sQ=n=>{const e=!n||qt(n)||vi(n)||Zt(n)?{message:n}:n,t={...hs,...e};if(!t.appendTo)t.appendTo=document.body;else if(qt(t.appendTo)){let r=document.querySelector(t.appendTo);zo(r)||(r=document.body),t.appendTo=r}return Vr(tc.grouping)&&!t.grouping&&(t.grouping=tc.grouping),en(tc.duration)&&t.duration===3e3&&(t.duration=tc.duration),en(tc.offset)&&t.offset===16&&(t.offset=tc.offset),Vr(tc.showClose)&&!t.showClose&&(t.showClose=tc.showClose),t},Ake=n=>{const e=oc.indexOf(n);if(e===-1)return;oc.splice(e,1);const{handler:t}=n;t.close()},Eke=({appendTo:n,...e},t)=>{const r=`message_${Tke++}`,i=e.onClose,a=document.createElement("div"),s={...e,id:r,onClose:()=>{i==null||i(),Ake(u)},onDestroy:()=>{Gf(null,a)}},o=se(Mke,s,Zt(s.message)||vi(s.message)?{default:Zt(s.message)?s.message:()=>s.message}:null);o.appContext=t||dg._context,Gf(o,a),n.appendChild(a.firstElementChild);const l=o.component,u={id:r,vnode:o,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:o.component.props};return u},dg=(n={},e)=>{if(!nr)return{close:()=>{}};const t=sQ(n);if(t.grouping&&oc.length){const i=oc.find(({vnode:a})=>{var s;return((s=a.props)==null?void 0:s.message)===t.message});if(i)return i.props.repeatNum+=1,i.props.type=t.type,i.handler}if(en(tc.max)&&oc.length>=tc.max)return{close:()=>{}};const r=Eke(t,e);return oc.push(r),r.handler};aQ.forEach(n=>{dg[n]=(e={},t)=>{const r=sQ(e);return dg({...r,type:n},t)}});function Ike(n){for(const e of oc)(!n||n===e.props.type)&&e.handler.close()}dg.closeAll=Ike;dg._context=null;const Rke=dY(dg,"$message"),mR="_trap-focus-children",Ep=[],v9=n=>{if(Ep.length===0)return;const e=Ep[Ep.length-1][mR];if(e.length>0&&n.code===Nt.tab){if(e.length===1){n.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const t=n.shiftKey,r=n.target===e[0],i=n.target===e[e.length-1];r&&t&&(n.preventDefault(),e[e.length-1].focus()),i&&!t&&(n.preventDefault(),e[0].focus())}},Pke={beforeMount(n){n[mR]=E7(n),Ep.push(n),Ep.length<=1&&document.addEventListener("keydown",v9)},updated(n){Yt(()=>{n[mR]=E7(n)})},unmounted(){Ep.shift(),Ep.length===0&&document.removeEventListener("keydown",v9)}},Dke=Ie({name:"ElMessageBox",directives:{TrapFocus:Pke},components:{ElButton:Aa,ElFocusTrap:qg,ElInput:xs,ElOverlay:wL,ElIcon:Vt,...qk},inheritAttrs:!1,props:{buttonSize:{type:String,validator:Bj},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:e}){const{locale:t,zIndex:r,ns:i,size:a}=vT("message-box",U(()=>n.buttonSize)),{t:s}=t,{nextZIndex:o}=r,l=ee(!1),c=mr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:Ju(tu),cancelButtonLoadingIcon:Ju(tu),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),u=U(()=>{const k=c.type;return{[i.bm("icon",k)]:k&&jf[k]}}),d=za(),f=za(),h=U(()=>c.icon||jf[c.type]||""),p=U(()=>!!c.message),m=ee(),v=ee(),g=ee(),y=ee(),b=ee(),_=U(()=>c.confirmButtonClass);dt(()=>c.inputValue,async k=>{await Yt(),n.boxType==="prompt"&&k!==null&&D()},{immediate:!0}),dt(()=>l.value,k=>{var H,z;k&&(n.boxType!=="prompt"&&(c.autofocus?g.value=(z=(H=b.value)==null?void 0:H.$el)!=null?z:m.value:g.value=m.value),c.zIndex=o()),n.boxType==="prompt"&&(k?Yt().then(()=>{var O;y.value&&y.value.$el&&(c.autofocus?g.value=(O=L())!=null?O:m.value:g.value=m.value)}):(c.editorErrorMessage="",c.validateError=!1))});const x=U(()=>n.draggable),S=U(()=>n.overflow);jX(m,v,x,S),pn(async()=>{await Yt(),n.closeOnHashChange&&window.addEventListener("hashchange",T)}),yr(()=>{n.closeOnHashChange&&window.removeEventListener("hashchange",T)});function T(){l.value&&(l.value=!1,Yt(()=>{c.action&&e("action",c.action)}))}const C=()=>{n.closeOnClickModal&&I(c.distinguishCancelAndClose?"close":"cancel")},M=_L(C),A=k=>{if(c.inputType!=="textarea")return k.preventDefault(),I("confirm")},I=k=>{var H;n.boxType==="prompt"&&k==="confirm"&&!D()||(c.action=k,c.beforeClose?(H=c.beforeClose)==null||H.call(c,k,c,T):T())},D=()=>{if(n.boxType==="prompt"){const k=c.inputPattern;if(k&&!k.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;const H=c.inputValidator;if(Zt(H)){const z=H(c.inputValue);if(z===!1)return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;if(qt(z))return c.editorErrorMessage=z,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},L=()=>{const k=y.value.$refs;return k.input||k.textarea},F=()=>{I("close")},B=()=>{n.closeOnPressEscape&&F()};return n.lockScroll&&xL(l),{...la(c),ns:i,overlayEvent:M,visible:l,hasMessage:p,typeClass:u,contentId:d,inputId:f,btnSize:a,iconComponent:h,confirmButtonClasses:_,rootRef:m,focusStartRef:g,headerRef:v,inputRef:y,confirmRef:b,doClose:T,handleClose:F,onCloseRequested:B,handleWrapperClick:C,handleInputEnter:A,handleAction:I,t:s}}});function kke(n,e,t,r,i,a){const s=Et("el-icon"),o=Et("close"),l=Et("el-input"),c=Et("el-button"),u=Et("el-focus-trap"),d=Et("el-overlay");return V(),rt(ca,{name:"fade-in-linear",onAfterLeave:f=>n.$emit("vanish"),persisted:""},{default:be(()=>[Sn(se(d,{"z-index":n.zIndex,"overlay-class":[n.ns.is("message-box"),n.modalClass],mask:n.modal},{default:be(()=>[me("div",{role:"dialog","aria-label":n.title,"aria-modal":"true","aria-describedby":n.showInput?void 0:n.contentId,class:j(`${n.ns.namespace.value}-overlay-message-box`),onClick:n.overlayEvent.onClick,onMousedown:n.overlayEvent.onMousedown,onMouseup:n.overlayEvent.onMouseup},[se(u,{loop:"",trapped:n.visible,"focus-trap-el":n.rootRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:be(()=>[me("div",{ref:"rootRef",class:j([n.ns.b(),n.customClass,n.ns.is("draggable",n.draggable),{[n.ns.m("center")]:n.center}]),style:Bt(n.customStyle),tabindex:"-1",onClick:sn(()=>{},["stop"])},[n.title!==null&&n.title!==void 0?(V(),ue("div",{key:0,ref:"headerRef",class:j([n.ns.e("header"),{"show-close":n.showClose}])},[me("div",{class:j(n.ns.e("title"))},[n.iconComponent&&n.center?(V(),rt(s,{key:0,class:j([n.ns.e("status"),n.typeClass])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])):Qe("v-if",!0),me("span",null,Ct(n.title),1)],2),n.showClose?(V(),ue("button",{key:0,type:"button",class:j(n.ns.e("headerbtn")),"aria-label":n.t("el.messagebox.close"),onClick:f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),onKeydown:Ur(sn(f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[se(s,{class:j(n.ns.e("close"))},{default:be(()=>[se(o)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Qe("v-if",!0)],2)):Qe("v-if",!0),me("div",{id:n.contentId,class:j(n.ns.e("content"))},[me("div",{class:j(n.ns.e("container"))},[n.iconComponent&&!n.center&&n.hasMessage?(V(),rt(s,{key:0,class:j([n.ns.e("status"),n.typeClass])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])):Qe("v-if",!0),n.hasMessage?(V(),ue("div",{key:1,class:j(n.ns.e("message"))},[Ze(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(V(),rt(Nn(n.showInput?"label":"p"),{key:1,for:n.showInput?n.inputId:void 0,innerHTML:n.message},null,8,["for","innerHTML"])):(V(),rt(Nn(n.showInput?"label":"p"),{key:0,for:n.showInput?n.inputId:void 0},{default:be(()=>[dn(Ct(n.dangerouslyUseHTMLString?"":n.message),1)]),_:1},8,["for"]))])],2)):Qe("v-if",!0)],2),Sn(me("div",{class:j(n.ns.e("input"))},[se(l,{id:n.inputId,ref:"inputRef",modelValue:n.inputValue,"onUpdate:modelValue":f=>n.inputValue=f,type:n.inputType,placeholder:n.inputPlaceholder,"aria-invalid":n.validateError,class:j({invalid:n.validateError}),onKeydown:Ur(n.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),me("div",{class:j(n.ns.e("errormsg")),style:Bt({visibility:n.editorErrorMessage?"visible":"hidden"})},Ct(n.editorErrorMessage),7)],2),[[fr,n.showInput]])],10,["id"]),me("div",{class:j(n.ns.e("btns"))},[n.showCancelButton?(V(),rt(c,{key:0,loading:n.cancelButtonLoading,"loading-icon":n.cancelButtonLoadingIcon,class:j([n.cancelButtonClass]),round:n.roundButton,size:n.btnSize,onClick:f=>n.handleAction("cancel"),onKeydown:Ur(sn(f=>n.handleAction("cancel"),["prevent"]),["enter"])},{default:be(()=>[dn(Ct(n.cancelButtonText||n.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Qe("v-if",!0),Sn(se(c,{ref:"confirmRef",type:"primary",loading:n.confirmButtonLoading,"loading-icon":n.confirmButtonLoadingIcon,class:j([n.confirmButtonClasses]),round:n.roundButton,disabled:n.confirmButtonDisabled,size:n.btnSize,onClick:f=>n.handleAction("confirm"),onKeydown:Ur(sn(f=>n.handleAction("confirm"),["prevent"]),["enter"])},{default:be(()=>[dn(Ct(n.confirmButtonText||n.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[fr,n.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[fr,n.visible]])]),_:3},8,["onAfterLeave"])}var Lke=Pt(Dke,[["render",kke],["__file","index.vue"]]);const Jb=new Map,Nke=n=>{let e=document.body;return n.appendTo&&(qt(n.appendTo)&&(e=document.querySelector(n.appendTo)),zo(n.appendTo)&&(e=n.appendTo),zo(e)||(e=document.body)),e},Oke=(n,e,t=null)=>{const r=se(Lke,n,Zt(n.message)||vi(n.message)?{default:Zt(n.message)?n.message:()=>n.message}:null);return r.appContext=t,Gf(r,e),Nke(n).appendChild(e.firstElementChild),r.component},Bke=()=>document.createElement("div"),Fke=(n,e)=>{const t=Bke();n.onVanish=()=>{Gf(null,t),Jb.delete(i)},n.onAction=a=>{const s=Jb.get(i);let o;n.showInput?o={value:i.inputValue,action:a}:o=a,n.callback?n.callback(o,r.proxy):a==="cancel"||a==="close"?n.distinguishCancelAndClose&&a!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(o)};const r=Oke(n,t,e),i=r.proxy;for(const a in n)sr(n,a)&&!sr(i.$props,a)&&(i[a]=n[a]);return i.visible=!0,i};function jg(n,e=null){if(!nr)return Promise.reject();let t;return qt(n)||vi(n)?n={message:n}:t=n.callback,new Promise((r,i)=>{const a=Fke(n,e??jg._context);Jb.set(a,{options:n,callback:t,resolve:r,reject:i})})}const zke=["alert","confirm","prompt"],Uke={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};zke.forEach(n=>{jg[n]=Hke(n)});function Hke(n){return(e,t,r,i)=>{let a="";return Pn(t)?(r=t,a=""):Mr(t)?a="":a=t,jg(Object.assign({title:a,message:e,type:"",...Uke[n]},r,{boxType:n}),i)}}jg.close=()=>{Jb.forEach((n,e)=>{e.doClose()}),Jb.clear()};jg._context=null;const uf=jg;uf.install=n=>{uf._context=n._context,n.config.globalProperties.$msgbox=uf,n.config.globalProperties.$messageBox=uf,n.config.globalProperties.$alert=uf.alert,n.config.globalProperties.$confirm=uf.confirm,n.config.globalProperties.$prompt=uf.prompt};const Vke=uf,oQ=["success","info","warning","error"],$ke=Rt({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:kr},id:{type:String,default:""},message:{type:We([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:We(Function),default:()=>{}},onClose:{type:We(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...oQ,""],default:""},zIndex:Number}),Gke={destroy:()=>!0},Wke=Ie({name:"ElNotification"}),qke=Ie({...Wke,props:$ke,emits:Gke,setup(n,{expose:e}){const t=n,{ns:r,zIndex:i}=vT("notification"),{nextZIndex:a,currentZIndex:s}=i,{Close:o}=Wk,l=ee(!1);let c;const u=U(()=>{const b=t.type;return b&&jf[t.type]?r.m(b):""}),d=U(()=>t.type&&jf[t.type]||t.icon),f=U(()=>t.position.endsWith("right")?"right":"left"),h=U(()=>t.position.startsWith("top")?"top":"bottom"),p=U(()=>{var b;return{[h.value]:`${t.offset}px`,zIndex:(b=t.zIndex)!=null?b:s.value}});function m(){t.duration>0&&({stop:c}=tm(()=>{l.value&&g()},t.duration))}function v(){c==null||c()}function g(){l.value=!1}function y({code:b}){b===Nt.delete||b===Nt.backspace?v():b===Nt.esc?l.value&&g():m()}return pn(()=>{m(),a(),l.value=!0}),Tr(document,"keydown",y),e({visible:l,close:g}),(b,_)=>(V(),rt(ca,{name:w(r).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:x=>b.$emit("destroy"),persisted:""},{default:be(()=>[Sn(me("div",{id:b.id,class:j([w(r).b(),b.customClass,w(f)]),style:Bt(w(p)),role:"alert",onMouseenter:v,onMouseleave:m,onClick:b.onClick},[w(d)?(V(),rt(w(Vt),{key:0,class:j([w(r).e("icon"),w(u)])},{default:be(()=>[(V(),rt(Nn(w(d))))]),_:1},8,["class"])):Qe("v-if",!0),me("div",{class:j(w(r).e("group"))},[me("h2",{class:j(w(r).e("title")),textContent:Ct(b.title)},null,10,["textContent"]),Sn(me("div",{class:j(w(r).e("content")),style:Bt(b.title?void 0:{margin:0})},[Ze(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?(V(),ue(zt,{key:1},[Qe(" Caution here, message could've been compromised, never use user's input as message "),me("p",{innerHTML:b.message},null,8,["innerHTML"])],2112)):(V(),ue("p",{key:0},Ct(b.message),1))])],6),[[fr,b.message]]),b.showClose?(V(),rt(w(Vt),{key:0,class:j(w(r).e("closeBtn")),onClick:sn(g,["stop"])},{default:be(()=>[se(w(o))]),_:1},8,["class","onClick"])):Qe("v-if",!0)],2)],46,["id","onClick"]),[[fr,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var Kke=Pt(qke,[["__file","notification.vue"]]);const BC={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},vR=16;let Yke=1;const fg=function(n={},e){if(!nr)return{close:()=>{}};(qt(n)||vi(n))&&(n={message:n});const t=n.position||"top-right";let r=n.offset||0;BC[t].forEach(({vm:u})=>{var d;r+=(((d=u.el)==null?void 0:d.offsetHeight)||0)+vR}),r+=vR;const i=`notification_${Yke++}`,a=n.onClose,s={...n,offset:r,id:i,onClose:()=>{Xke(i,t,a)}};let o=document.body;zo(n.appendTo)?o=n.appendTo:qt(n.appendTo)&&(o=document.querySelector(n.appendTo)),zo(o)||(o=document.body);const l=document.createElement("div"),c=se(Kke,s,Zt(s.message)?s.message:vi(s.message)?()=>s.message:null);return c.appContext=Mr(e)?fg._context:e,c.props.onDestroy=()=>{Gf(null,l)},Gf(c,l),BC[t].push({vm:c}),o.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};oQ.forEach(n=>{fg[n]=(e={},t)=>((qt(e)||vi(e))&&(e={message:e}),fg({...e,type:n},t))});function Xke(n,e,t){const r=BC[e],i=r.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===n});if(i===-1)return;const{vm:a}=r[i];if(!a)return;t==null||t(a);const s=a.el.offsetHeight,o=e.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let c=i;c<l;c++){const{el:u,component:d}=r[c].vm,f=Number.parseInt(u.style[o],10)-s-vR;d.props.offset=f}}function jke(){for(const n of Object.values(BC))n.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}fg.closeAll=jke;fg._context=null;const Zke=dY(fg,"$notify");var Qke=[fke,gke,Rke,Vke,Zke,wj],Jke=Yme([...ake,...Qke]);const eLe=["href"],tLe=Ie({__name:"Header",setup(n){const e={name:"Dataset",link:"#"};return(t,r)=>{const i=Et("el-menu-item"),a=Et("el-menu"),s=Et("el-affix");return V(),rt(s,{offset:0,style:{width:"100%"}},{default:be(()=>[se(a,{"default-active":"0",class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:be(()=>[se(i,{index:"0"},{default:be(()=>[se(w(Vt),{size:20},{default:be(()=>[se(w(Gk))]),_:1}),me("a",{href:e.link},Ct(e.name),9,eLe)]),_:1})]),_:1})]),_:1})}}}),Ha=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},nLe=Ha(tLe,[["__scopeId","data-v-d129e007"]]),rLe={class:"paper-title"},iLe=["href"],aLe={class:"author"},sLe={key:0,class:"name_sup"},oLe=["href"],lLe={class:"address"},cLe={key:0,class:"address_sup"},uLe=["href"],dLe={class:"btn-text"},fLe="./news-m3f-logo.png",g9=": A Multi-modal, Multi-label Dataset for Fine-grained Visual Categorization",hLe="#000000",y9="News-M3F",pLe="#42B883",mLe="#444444",vLe="#: Equal Contribution. *: Corresponding Author.",gLe=Ie({__name:"Title",setup(n){const e=[{name:"Yutao Hu",icon:"./icon/default.jpg",homepage:"https://huyutao0914.github.io/",address_flag:"1,*"},{name:"Qixiong Wang",icon:"./icon/default.jpg",homepage:"",address_flag:"2,*"},{name:"Zhenliang Li",icon:"./icon/default.jpg",homepage:"",address_flag:"1"},{name:"Hangfeng Liang",icon:"./icon/default.jpg",homepage:"",address_flag:"1"},{name:"Xiaolong Jiang",icon:"./icon/default.jpg",homepage:"",address_flag:"2"},{name:"Yao Hu",icon:"./icon/default.jpg",homepage:"",address_flag:"2"},{name:"Jungong Han",icon:"./icon/default.jpg",homepage:"",address_flag:"3"}],t=[{address_flag:"1",name:"Southeast University",icon:"./icon/seu.png",homepage:"https://www.seu.edu.cn/"},{address_flag:"2",name:"Xiaohongshu Inc.",icon:"./icon/xhs.png",homepage:"https://www.xiaohongshu.com/"},{address_flag:"3",name:"University of Sheffield",icon:"./icon/sf.png",homepage:"https://www.sheffield.ac.uk/"}],r=["🥰 Our News-M3F dataset has been completely open source, Welcome to follow."],i=[{disabled:!1,name:"Huggingface",link:"https://huggingface.co/datasets/lhfgghc/News-M3F",component:L0e},{disabled:!1,name:"Code",link:"https://github.com/Asyou-GD/NewsM3F",component:V0e},{disabled:!0,name:"Paper",component:pY}];return(a,s)=>{const o=Et("el-image"),l=Et("el-row"),c=Et("el-col"),u=Et("el-avatar"),d=Et("el-button");return V(),ue("div",null,[(V(),rt(l,{key:0,justify:"center"},{default:be(()=>[se(o,{src:fLe,class:"logo",fit:"cover"})]),_:1})),se(l,{justify:"center"},{default:be(()=>[se(c,{span:20},{default:be(()=>[me("h1",rLe,[y9?(V(),ue("span",{key:0,style:Bt({color:pLe})},Ct(y9),4)):Qe("",!0),g9?(V(),ue("span",{key:1,style:Bt({color:hLe})},Ct(g9),4)):Qe("",!0)])]),_:1})]),_:1}),se(l,{justify:"center"},{default:be(()=>[(V(),ue(zt,null,In(e,f=>me("a",{href:f.homepage},[se(d,{class:"title-button",type:"primary",text:""},{default:be(()=>[f.icon?(V(),rt(u,{key:0,size:40,src:f.icon},null,8,["src"])):Qe("",!0),me("span",aLe,[dn(Ct(f.name),1),f.address_flag?(V(),ue("sup",sLe,Ct(f.address_flag),1)):Qe("",!0)])]),_:2},1024)],8,iLe)),64))]),_:1}),se(l,{justify:"center"},{default:be(()=>[(V(),ue(zt,null,In(t,f=>me("a",{href:f.homepage},[se(d,{class:"title-button",type:"primary",text:""},{default:be(()=>[f.icon?(V(),rt(u,{key:0,size:40,src:f.icon},null,8,["src"])):Qe("",!0),me("span",lLe,[f.address_flag?(V(),ue("sup",cLe,Ct(f.address_flag),1)):Qe("",!0),dn(Ct(f.name),1)])]),_:2},1024)],8,oLe)),64))]),_:1}),se(l,{justify:"center",class:"con-cor"},{default:be(()=>[dn(Ct(vLe))]),_:1}),(V(),ue(zt,null,In(r,f=>se(l,{justify:"center",class:"emphasis"},{default:be(()=>[dn(Ct(f),1)]),_:2},1024)),64)),se(l,{justify:"center",style:{"margin-bottom":"20px"}},{default:be(()=>[se(c,{span:20},{default:be(()=>[se(l,{justify:"center"},{default:be(()=>[(V(),ue(zt,null,In(i,f=>me("a",{href:f.link},[se(d,{class:"guidance-button",size:"default",color:mLe,disabled:f.disabled,round:""},{default:be(()=>[se(w(Vt),{size:18},{default:be(()=>[(V(),rt(Nn(f.component)))]),_:2},1024),me("span",dLe,Ct(f.name),1)]),_:2},1032,["disabled"])],8,uLe)),64))]),_:1})]),_:1})]),_:1})])}}}),yLe=Ha(gLe,[["__scopeId","data-v-0e7d5732"]]);function wt(n,e,t){const{children:r}=e;return delete e.children,arguments.length>2&&(e.key=t),Gt(n,e,r)}function b9(n){const e={h1:"h1",p:"p",strong:"strong",...n.components};return wt(zt,{children:[wt(e.h1,{children:"Introduction"}),`
`,wt(e.p,{children:["The News-M3F dataset contains ",wt(e.strong,{children:"196067 instances"})," and a total of ",wt(e.strong,{children:"417,947 images"}),".  Each instance is accompanied by a textual description with an average length of 479 words, capturing rich semantic information."]}),`
`,wt(e.p,{children:["Generally speaking, our News-M3F is characterized by three features.  First, in terms of scale, News-M3F is the largest among comparable datasets in this field, containing a total of 417,974 images.  Second, each instance in News-M3F includes multiple images with diverse semantics.  In contrast, existing multi-modal classification datasets typically provide only a single image within each instance, limiting their ability to reflect real-world visual diversity.  Third, from the perspective of annotation, News-M3F is a multi-label dataset with the two-level hierarchical label taxonomy, encompassing the largest number of categories compared to existing datasets.  In summary, compared to prior datasets, our proposed News-M3F offers a more comprehensive and challenging benchmark for advancing ",wt(e.strong,{children:"multi-modal, multi-label FGVC"}),"."]})]})}function bLe(n={}){const{wrapper:e}=n.components||{};return e?wt(e,{...n,children:wt(b9,{...n})}):b9(n)}const _Le={__name:"Introduction",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-col"),a=Et("el-row");return V(),ue("div",null,[se(r),se(a,{justify:"center"},{default:be(()=>[se(i,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(w(bLe))]),_:1})]),_:1})])}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gR=function(n,e){return gR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},gR(n,e)};function Tn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");gR(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var wLe=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),xLe=function(){function n(){this.browser=new wLe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),ap=new xLe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(ap.wxa=!0,ap.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?ap.worker=!0:typeof navigator>"u"?(ap.node=!0,ap.svgSupported=!0):SLe(navigator.userAgent,ap);function SLe(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in o||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}const Pr=ap;var r6=12,CLe="sans-serif",om=r6+"px "+CLe,MLe=20,TLe=100,ALe="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function ELe(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-MLe)/TLe;e[r]=i}return e}var ILe=ELe(ALe),Zg={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,r){if(!n){var i=Zg.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||om),n.measureText(t);t=t||"",r=r||om;var a=/(\d+)px/.exec(r),s=a&&+a[1]||r6,o=0;if(r.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var c=ILe[t[l]];o+=c==null?s:c*s}return{width:o}}}(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}},lQ=Jf(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),cQ=Jf(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),rw=Object.prototype.toString,NT=Array.prototype,RLe=NT.forEach,PLe=NT.filter,i6=NT.slice,DLe=NT.map,_9=(function(){}).constructor,nx=_9?_9.prototype:null,a6="__proto__",kLe=2311;function uQ(){return kLe++}function s6(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function jr(n){if(n==null||typeof n!="object")return n;var e=n,t=rw.call(n);if(t==="[object Array]"){if(!q1(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=jr(n[r])}}else if(cQ[t]){if(!q1(n)){var a=n.constructor;if(a.from)e=a.from(n);else{e=new a(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!lQ[t]&&!q1(n)&&!FC(n)){e={};for(var s in n)n.hasOwnProperty(s)&&s!==a6&&(e[s]=jr(n[s]))}return e}function di(n,e,t){if(!or(e)||!or(n))return t?jr(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==a6){var i=n[r],a=e[r];or(a)&&or(i)&&!Ln(a)&&!Ln(i)&&!FC(a)&&!FC(i)&&!w9(a)&&!w9(i)&&!q1(a)&&!q1(i)?di(i,a,t):(t||!(r in n))&&(n[r]=jr(e[r]))}return n}function cn(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==a6&&(n[t]=e[t]);return n}function fi(n,e,t){for(var r=Ni(e),i=0;i<r.length;i++){var a=r[i];(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}return n}function wi(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function LLe(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function mu(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}else fi(n,e,t)}function yo(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function ut(n,e,t){if(n&&e)if(n.forEach&&n.forEach===RLe)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function dr(n,e,t){if(!n)return[];if(!e)return o6(n);if(n.map&&n.map===DLe)return n.map(e,t);for(var r=[],i=0,a=n.length;i<a;i++)r.push(e.call(t,n[i],i,n));return r}function Jf(n,e,t,r){if(n&&e){for(var i=0,a=n.length;i<a;i++)t=e.call(r,t,n[i],i,n);return t}}function Os(n,e,t){if(!n)return[];if(!e)return o6(n);if(n.filter&&n.filter===PLe)return n.filter(e,t);for(var r=[],i=0,a=n.length;i<a;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function Ni(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function NLe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(i6.call(arguments)))}}var ii=nx&&Ar(nx.bind)?nx.call.bind(nx.bind):NLe;function Ui(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(i6.call(arguments)))}}function Ln(n){return Array.isArray?Array.isArray(n):rw.call(n)==="[object Array]"}function Ar(n){return typeof n=="function"}function Jn(n){return typeof n=="string"}function yR(n){return rw.call(n)==="[object String]"}function $i(n){return typeof n=="number"}function or(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function w9(n){return!!lQ[rw.call(n)]}function qo(n){return!!cQ[rw.call(n)]}function FC(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function OT(n){return n.colorStops!=null}function OLe(n){return n.image!=null}function zC(n){return n!==n}function e_(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function Zr(n,e){return n??e}function W1(n,e,t){return n??e??t}function o6(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return i6.apply(n,e)}function dQ(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function au(n,e){if(!n)throw new Error(e)}function qc(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var fQ="__ec_primitive__";function bR(n){n[fQ]=!0}function q1(n){return n[fQ]}var BLe=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return Ni(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n}(),hQ=typeof Map=="function";function FLe(){return hQ?new Map:new BLe}var zLe=function(){function n(e){var t=Ln(e);this.data=FLe();var r=this;e instanceof n?e.each(i):e&&ut(e,i);function i(a,s){t?r.set(a,s):r.set(s,a)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return hQ?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function Dr(n){return new zLe(n)}function pQ(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function BT(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&cn(t,e),t}function mQ(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function hg(n,e){return n.hasOwnProperty(e)}function Vs(){}var ULe=180/Math.PI;function Qg(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function HLe(n,e){return n[0]=e[0],n[1]=e[1],n}function VLe(n){return[n[0],n[1]]}function x9(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function $Le(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function GLe(n){return Math.sqrt(WLe(n))}function WLe(n){return n[0]*n[0]+n[1]*n[1]}function H3(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function qLe(n,e){var t=GLe(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function _R(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var wR=_R;function KLe(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var Lv=KLe;function V3(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function $s(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function fv(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function hv(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var Xm=function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n}(),YLe=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new Xm(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,a=r-this._x,s=i-this._y;this._x=r,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new Xm(t,e),"drag",e.event);var o=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new Xm(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new Xm(o,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new Xm(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new Xm(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const XLe=YLe;var jLe=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},c=a[e].length-1,u=a[e][c];return u&&u.callAtLast?a[e].splice(c,0,l):a[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],a=0,s=r[e].length;a<s;a++)r[e][a].h!==t&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(o);break;case 1:u.h.call(o,t[0]);break;case 2:u.h.call(o,t[0],t[1]);break;default:u.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n}();const Sc=jLe;var ZLe=Math.log(2);function xR(n,e,t,r,i,a){var s=r+"-"+i,o=n.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/ZLe);return n[t][l]}for(var c=r|1<<t,u=t+1;r&1<<u;)u++;for(var d=0,f=0,h=0;f<o;f++){var p=1<<f;p&i||(d+=(h%2?-1:1)*n[t][f]*xR(n,e-1,u,c,i|p,a),h++)}return a[s]=d,d}function S9(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=xR(t,8,0,0,0,r);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*xR(t,7,s===0?1:0,1<<s,1<<o,r)/i*e[s];return function(l,c,u){var d=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/d,l[1]=(c*a[3]+u*a[4]+a[5])/d}}}var C9="___zrEVENTSAVED",$3=[];function QLe(n,e,t,r,i){return SR($3,e,r,i,!0)&&SR(n,t,$3[0],$3[1])}function SR(n,e,t,r,i){if(e.getBoundingClientRect&&Pr.domSupported&&!vQ(e)){var a=e[C9]||(e[C9]={}),s=JLe(e,a),o=e6e(s,a,i);if(o)return o(n,t,r),!0}return!1}function JLe(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,c=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[c]+":0",r[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),n.appendChild(s),t.push(s)}return t}function e6e(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],a=e.srcCoords,s=[],o=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,f=u.left,h=u.top;s.push(f,h),l=l&&a&&f===a[d]&&h===a[d+1],o.push(n[c].offsetLeft,n[c].offsetTop)}return l&&i?i:(e.srcCoords=s,e[r]=t?S9(o,s):S9(s,o))}function vQ(n){return n.nodeName.toUpperCase()==="CANVAS"}var t6e=/([&<>"'])/g,n6e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function dl(n){return n==null?"":(n+"").replace(t6e,function(e,t){return n6e[t]})}var r6e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,G3=[],i6e=Pr.browser.firefox&&+Pr.browser.version.split(".")[0]<39;function CR(n,e,t,r){return t=t||{},r?M9(n,e,t):i6e&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):M9(n,e,t),t}function M9(n,e,t){if(Pr.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(vQ(n)){var a=n.getBoundingClientRect();t.zrX=r-a.left,t.zrY=i-a.top;return}else if(SR(G3,n,r,i)){t.zrX=G3[0],t.zrY=G3[1];return}}t.zrX=t.zrY=0}function l6(n){return n||window.event}function al(n,e,t){if(e=l6(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&CR(n,s,e,t)}else{CR(n,e,e,t);var a=a6e(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&r6e.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function a6e(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),a=r>0?-1:r<0?1:t>0?-1:1;return 3*i*a}function s6e(n,e,t,r){n.addEventListener(e,t,r)}function o6e(n,e,t,r){n.removeEventListener(e,t,r)}var FT=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function T9(n){return n.which===2||n.which===3}var l6e=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],c=CR(r,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in W3)if(W3.hasOwnProperty(t)){var r=W3[t](this._track,e);if(r)return r}},n}();function A9(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function c6e(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var W3={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=A9(r)/A9(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=c6e(r);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:n[0].target,event:e}}}}};function pg(){return[1,0,0,1,0,0]}function c6(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function gQ(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Nv(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=a,n[3]=s,n[4]=o,n[5]=l,n}function MR(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function u6(n,e,t){var r=e[0],i=e[2],a=e[4],s=e[1],o=e[3],l=e[5],c=Math.sin(t),u=Math.cos(t);return n[0]=r*u+s*c,n[1]=-r*c+s*u,n[2]=i*u+o*c,n[3]=-i*c+u*o,n[4]=u*a+c*l,n[5]=u*l-c*a,n}function u6e(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function zT(n,e){var t=e[0],r=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*r;return l?(l=1/l,n[0]=s*l,n[1]=-a*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*o-s*i)*l,n[5]=(a*i-t*o)*l,n):null}var d6e=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var a=1-i;e.x=a*t.x+i*r.x,e.y=a*t.y+i*r.y},n}();const pr=d6e;var rx=Math.min,ix=Math.max,Ah=new pr,Eh=new pr,Ih=new pr,Rh=new pr,Dy=new pr,ky=new pr,f6e=function(){function n(e,t,r,i){r<0&&(e=e+r,r=-r),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=r,this.height=i}return n.prototype.union=function(e){var t=rx(e.x,this.x),r=rx(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=ix(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=ix(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,a=pg();return MR(a,a,[-t.x,-t.y]),u6e(a,a,[r,i]),MR(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,i=r.x,a=r.x+r.width,s=r.y,o=r.y+r.height,l=e.x,c=e.x+e.width,u=e.y,d=e.y+e.height,f=!(a<l||c<i||o<u||d<s);if(t){var h=1/0,p=0,m=Math.abs(a-l),v=Math.abs(c-i),g=Math.abs(o-u),y=Math.abs(d-s),b=Math.min(m,v),_=Math.min(g,y);a<l||c<i?b>p&&(p=b,m<v?pr.set(ky,-m,0):pr.set(ky,v,0)):b<h&&(h=b,m<v?pr.set(Dy,m,0):pr.set(Dy,-v,0)),o<u||d<s?_>p&&(p=_,g<y?pr.set(ky,0,-g):pr.set(ky,0,y)):b<h&&(h=b,g<y?pr.set(Dy,0,g):pr.set(Dy,0,-y))}return t&&pr.copy(t,f?Dy:ky),f},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[4],o=r[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}Ah.x=Ih.x=t.x,Ah.y=Rh.y=t.y,Eh.x=Rh.x=t.x+t.width,Eh.y=Ih.y=t.y+t.height,Ah.transform(r),Rh.transform(r),Eh.transform(r),Ih.transform(r),e.x=rx(Ah.x,Eh.x,Ih.x,Rh.x),e.y=rx(Ah.y,Eh.y,Ih.y,Rh.y);var l=ix(Ah.x,Eh.x,Ih.x,Rh.x),c=ix(Ah.y,Eh.y,Ih.y,Rh.y);e.width=l-e.x,e.height=c-e.y},n}();const ei=f6e;var yQ="silent";function h6e(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:p6e}}function p6e(){FT(this.event)}var m6e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Sc),Ly=function(){function n(e,t){this.x=e,this.y=t}return n}(),v6e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],q3=new ei(0,0,0,0),bQ=function(n){Tn(e,n);function e(t,r,i,a,s){var o=n.call(this)||this;return o._hovered=new Ly(0,0),o.storage=t,o.painter=r,o.painterRoot=a,o._pointerSize=s,i=i||new m6e,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new XLe(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(ut(v6e,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,a=_Q(this,r,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new Ly(r,i):this.findHover(r,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Ly(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+r,o=h6e(r,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(r,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(r,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(r,o)}))}},e.prototype.findHover=function(t,r,i){var a=this.storage.getDisplayList(),s=new Ly(t,r);if(E9(a,s,t,r,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,c=l/2,u=new ei(t-c,r-c,l,l),d=a.length-1;d>=0;d--){var f=a[d];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(q3.copy(f.getBoundingRect()),f.transform&&q3.applyTransform(f.transform),q3.intersect(u)&&o.push(f))}if(o.length)for(var h=4,p=Math.PI/12,m=Math.PI*2,v=0;v<c;v+=h)for(var g=0;g<m;g+=p){var y=t+v*Math.cos(g),b=r+v*Math.sin(g);if(E9(o,s,y,b,i),s.target)return s}}return s},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new l6e);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new Ly;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(Sc);ut(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){bQ.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=_Q(this,t,r),a,s;if((n!=="mouseup"||!i)&&(a=this.findHover(t,r),s=a.target),n==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(n==="mouseup")this._upEl=s;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||wR(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});function g6e(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var s=r.getClipPath();if(s&&!s.contain(e,t))return!1;r.silent&&(i=!0)}var o=r.__hostTarget;r=o||r.parent}return i?yQ:!0}return!1}function E9(n,e,t,r,i){for(var a=n.length-1;a>=0;a--){var s=n[a],o=void 0;if(s!==i&&!s.ignore&&(o=g6e(s,t,r))&&(!e.topTarget&&(e.topTarget=s),o!==yQ)){e.target=s;break}}}function _Q(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}const y6e=bQ;var wQ=32,Ny=7;function b6e(n){for(var e=0;n>=wQ;)e|=n&1,n>>=1;return n+e}function I9(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;_6e(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function _6e(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function R9(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var a=n[r],s=e,o=r,l;s<o;)l=s+o>>>1,i(a,n[l])<0?o=l:s=l+1;var c=r-s;switch(c){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;c>0;)n[s+c]=n[s+c-1],c--}n[s]=a}}function K3(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])>0){for(o=r-i;l<o&&a(n,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(n,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}for(s++;s<l;){var u=s+(l-s>>>1);a(n,e[t+u])>0?s=u+1:l=u}return l}function Y3(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])<0){for(o=i+1;l<o&&a(n,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}else{for(o=r-i;l<o&&a(n,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var u=s+(l-s>>>1);a(n,e[t+u])<0?l=u:s=u+1}return l}function w6e(n,e){var t=Ny,r,i,a=0;n.length;var s=[];r=[],i=[];function o(h,p){r[a]=h,i[a]=p,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;u(h)}}function c(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,u(h)}}function u(h){var p=r[h],m=i[h],v=r[h+1],g=i[h+1];i[h]=m+g,h===a-3&&(r[h+1]=r[h+2],i[h+1]=i[h+2]),a--;var y=Y3(n[v],n,p,m,0,e);p+=y,m-=y,m!==0&&(g=K3(n[p+m-1],n,v,g,g-1,e),g!==0&&(m<=g?d(p,m,v,g):f(p,m,v,g)))}function d(h,p,m,v){var g=0;for(g=0;g<p;g++)s[g]=n[h+g];var y=0,b=m,_=h;if(n[_++]=n[b++],--v===0){for(g=0;g<p;g++)n[_+g]=s[y+g];return}if(p===1){for(g=0;g<v;g++)n[_+g]=n[b+g];n[_+v]=s[y];return}for(var x=t,S,T,C;;){S=0,T=0,C=!1;do if(e(n[b],s[y])<0){if(n[_++]=n[b++],T++,S=0,--v===0){C=!0;break}}else if(n[_++]=s[y++],S++,T=0,--p===1){C=!0;break}while((S|T)<x);if(C)break;do{if(S=Y3(n[b],s,y,p,0,e),S!==0){for(g=0;g<S;g++)n[_+g]=s[y+g];if(_+=S,y+=S,p-=S,p<=1){C=!0;break}}if(n[_++]=n[b++],--v===0){C=!0;break}if(T=K3(s[y],n,b,v,0,e),T!==0){for(g=0;g<T;g++)n[_+g]=n[b+g];if(_+=T,b+=T,v-=T,v===0){C=!0;break}}if(n[_++]=s[y++],--p===1){C=!0;break}x--}while(S>=Ny||T>=Ny);if(C)break;x<0&&(x=0),x+=2}if(t=x,t<1&&(t=1),p===1){for(g=0;g<v;g++)n[_+g]=n[b+g];n[_+v]=s[y]}else{if(p===0)throw new Error;for(g=0;g<p;g++)n[_+g]=s[y+g]}}function f(h,p,m,v){var g=0;for(g=0;g<v;g++)s[g]=n[m+g];var y=h+p-1,b=v-1,_=m+v-1,x=0,S=0;if(n[_--]=n[y--],--p===0){for(x=_-(v-1),g=0;g<v;g++)n[x+g]=s[g];return}if(v===1){for(_-=p,y-=p,S=_+1,x=y+1,g=p-1;g>=0;g--)n[S+g]=n[x+g];n[_]=s[b];return}for(var T=t;;){var C=0,M=0,A=!1;do if(e(s[b],n[y])<0){if(n[_--]=n[y--],C++,M=0,--p===0){A=!0;break}}else if(n[_--]=s[b--],M++,C=0,--v===1){A=!0;break}while((C|M)<T);if(A)break;do{if(C=p-Y3(s[b],n,h,p,p-1,e),C!==0){for(_-=C,y-=C,p-=C,S=_+1,x=y+1,g=C-1;g>=0;g--)n[S+g]=n[x+g];if(p===0){A=!0;break}}if(n[_--]=s[b--],--v===1){A=!0;break}if(M=v-K3(n[y],s,0,v,v-1,e),M!==0){for(_-=M,b-=M,v-=M,S=_+1,x=b+1,g=0;g<M;g++)n[S+g]=s[x+g];if(v<=1){A=!0;break}}if(n[_--]=n[y--],--p===0){A=!0;break}T--}while(C>=Ny||M>=Ny);if(A)break;T<0&&(T=0),T+=2}if(t=T,t<1&&(t=1),v===1){for(_-=p,y-=p,S=_+1,x=y+1,g=p-1;g>=0;g--)n[S+g]=n[x+g];n[_]=s[b]}else{if(v===0)throw new Error;for(x=_-(v-1),g=0;g<v;g++)n[x+g]=s[g]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function E2(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var a=0;if(i<wQ){a=I9(n,t,r,e),R9(n,t,r,t+a,e);return}var s=w6e(n,e),o=b6e(i);do{if(a=I9(n,t,r,e),a<o){var l=i;l>o&&(l=o),R9(n,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var No=1,w1=2,ev=4,P9=!1;function X3(){P9||(P9=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function D9(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var x6e=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=D9}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,E2(r,D9)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var a=i,s=e;a;)a.parent=s,a.updateTransform(),t.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var c=o[l];e.__dirty&&(c.__dirty|=No),this._updateAndAddDisplayable(c,t,r)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(X3(),u.z=0),isNaN(u.z2)&&(X3(),u.z2=0),isNaN(u.zlevel)&&(X3(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,r);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,r);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=wi(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const S6e=x6e;var xQ;xQ=Pr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const TR=xQ;var I2={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-I2.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?I2.bounceIn(n*2)*.5:I2.bounceOut(n*2-1)*.5+.5}};const SQ=I2;var ax=Math.pow,Pf=Math.sqrt,UC=1e-8,CQ=1e-4,k9=Pf(3),sx=1/3,$c=Qg(),fl=Qg(),Ov=Qg();function _f(n){return n>-UC&&n<UC}function MQ(n){return n>UC||n<-UC}function Ya(n,e,t,r,i){var a=1-i;return a*a*(a*n+3*i*e)+i*i*(i*r+3*a*t)}function L9(n,e,t,r,i){var a=1-i;return 3*(((e-n)*a+2*(t-e)*i)*a+(r-t)*i*i)}function TQ(n,e,t,r,i,a){var s=r+3*(e-t)-n,o=3*(t-e*2+n),l=3*(e-n),c=n-i,u=o*o-3*s*l,d=o*l-9*s*c,f=l*l-3*o*c,h=0;if(_f(u)&&_f(d))if(_f(o))a[0]=0;else{var p=-l/o;p>=0&&p<=1&&(a[h++]=p)}else{var m=d*d-4*u*f;if(_f(m)){var v=d/u,p=-o/s+v,g=-v/2;p>=0&&p<=1&&(a[h++]=p),g>=0&&g<=1&&(a[h++]=g)}else if(m>0){var y=Pf(m),b=u*o+1.5*s*(-d+y),_=u*o+1.5*s*(-d-y);b<0?b=-ax(-b,sx):b=ax(b,sx),_<0?_=-ax(-_,sx):_=ax(_,sx);var p=(-o-(b+_))/(3*s);p>=0&&p<=1&&(a[h++]=p)}else{var x=(2*u*o-3*s*d)/(2*Pf(u*u*u)),S=Math.acos(x)/3,T=Pf(u),C=Math.cos(S),p=(-o-2*T*C)/(3*s),g=(-o+T*(C+k9*Math.sin(S)))/(3*s),M=(-o+T*(C-k9*Math.sin(S)))/(3*s);p>=0&&p<=1&&(a[h++]=p),g>=0&&g<=1&&(a[h++]=g),M>=0&&M<=1&&(a[h++]=M)}}return h}function AQ(n,e,t,r,i){var a=6*t-12*e+6*n,s=9*e+3*r-3*n-9*t,o=3*e-3*n,l=0;if(_f(s)){if(MQ(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*s*o;if(_f(u))i[0]=-a/(2*s);else if(u>0){var d=Pf(u),c=(-a+d)/(2*s),f=(-a-d)/(2*s);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function HC(n,e,t,r,i,a){var s=(e-n)*i+n,o=(t-e)*i+e,l=(r-t)*i+t,c=(o-s)*i+s,u=(l-o)*i+o,d=(u-c)*i+c;a[0]=n,a[1]=s,a[2]=c,a[3]=d,a[4]=d,a[5]=u,a[6]=l,a[7]=r}function C6e(n,e,t,r,i,a,s,o,l,c,u){var d,f=.005,h=1/0,p,m,v,g;$c[0]=l,$c[1]=c;for(var y=0;y<1;y+=.05)fl[0]=Ya(n,t,i,s,y),fl[1]=Ya(e,r,a,o,y),v=Lv($c,fl),v<h&&(d=y,h=v);h=1/0;for(var b=0;b<32&&!(f<CQ);b++)p=d-f,m=d+f,fl[0]=Ya(n,t,i,s,p),fl[1]=Ya(e,r,a,o,p),v=Lv(fl,$c),p>=0&&v<h?(d=p,h=v):(Ov[0]=Ya(n,t,i,s,m),Ov[1]=Ya(e,r,a,o,m),g=Lv(Ov,$c),m<=1&&g<h?(d=m,h=g):f*=.5);return u&&(u[0]=Ya(n,t,i,s,d),u[1]=Ya(e,r,a,o,d)),Pf(h)}function M6e(n,e,t,r,i,a,s,o,l){for(var c=n,u=e,d=0,f=1/l,h=1;h<=l;h++){var p=h*f,m=Ya(n,t,i,s,p),v=Ya(e,r,a,o,p),g=m-c,y=v-u;d+=Math.sqrt(g*g+y*y),c=m,u=v}return d}function vs(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function N9(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function T6e(n,e,t,r,i){var a=n-2*e+t,s=2*(e-n),o=n-r,l=0;if(_f(a)){if(MQ(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var u=s*s-4*a*o;if(_f(u)){var c=-s/(2*a);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var d=Pf(u),c=(-s+d)/(2*a),f=(-s-d)/(2*a);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function EQ(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function VC(n,e,t,r,i){var a=(e-n)*r+n,s=(t-e)*r+e,o=(s-a)*r+a;i[0]=n,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function A6e(n,e,t,r,i,a,s,o,l){var c,u=.005,d=1/0;$c[0]=s,$c[1]=o;for(var f=0;f<1;f+=.05){fl[0]=vs(n,t,i,f),fl[1]=vs(e,r,a,f);var h=Lv($c,fl);h<d&&(c=f,d=h)}d=1/0;for(var p=0;p<32&&!(u<CQ);p++){var m=c-u,v=c+u;fl[0]=vs(n,t,i,m),fl[1]=vs(e,r,a,m);var h=Lv(fl,$c);if(m>=0&&h<d)c=m,d=h;else{Ov[0]=vs(n,t,i,v),Ov[1]=vs(e,r,a,v);var g=Lv(Ov,$c);v<=1&&g<d?(c=v,d=g):u*=.5}}return l&&(l[0]=vs(n,t,i,c),l[1]=vs(e,r,a,c)),Pf(d)}function E6e(n,e,t,r,i,a,s){for(var o=n,l=e,c=0,u=1/s,d=1;d<=s;d++){var f=d*u,h=vs(n,t,i,f),p=vs(e,r,a,f),m=h-o,v=p-l;c+=Math.sqrt(m*m+v*v),o=h,l=p}return c}var I6e=/cubic-bezier\(([0-9,\.e ]+)\)/;function IQ(n){var e=n&&I6e.exec(n);if(e){var t=e[1].split(","),r=+qc(t[0]),i=+qc(t[1]),a=+qc(t[2]),s=+qc(t[3]);if(isNaN(r+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:TQ(0,r,a,1,l,o)&&Ya(0,i,s,1,o[0])}}}var R6e=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Vs,this.ondestroy=e.ondestroy||Vs,this.onrestart=e.onrestart||Vs,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=Ar(e)?e:SQ[e]||IQ(e)},n}();const P6e=R6e;var RQ=function(){function n(e){this.value=e}return n}(),D6e=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new RQ(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),k6e=function(){function n(e){this._list=new D6e,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,a=null;if(i[e]==null){var s=r.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new RQ(t),o.key=e,r.insertEntry(o),i[e]=o}return a},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const iw=k6e;var O9={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function K1(n){return n=Math.round(n),n<0?0:n>255?255:n}function B9(n){return n<0?0:n>1?1:n}function j3(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?K1(parseFloat(e)/100*255):K1(parseInt(e,10))}function Y1(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?B9(parseFloat(e)/100):B9(parseFloat(e))}function Z3(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function rl(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function AR(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var PQ=new iw(20),ox=null;function jm(n,e){ox&&AR(ox,e),ox=PQ.put(n,ox||e.slice())}function Wp(n,e){if(n){e=e||[];var t=PQ.get(n);if(t)return AR(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in O9)return AR(e,O9[r]),jm(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){rl(e,0,0,0,1);return}return rl(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),jm(n,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){rl(e,0,0,0,1);return}return rl(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),jm(n,e),e}return}var s=r.indexOf("("),o=r.indexOf(")");if(s!==-1&&o+1===i){var l=r.substr(0,s),c=r.substr(s+1,o-(s+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?rl(e,+c[0],+c[1],+c[2],1):rl(e,0,0,0,1);u=Y1(c.pop());case"rgb":if(c.length>=3)return rl(e,j3(c[0]),j3(c[1]),j3(c[2]),c.length===3?u:Y1(c[3])),jm(n,e),e;rl(e,0,0,0,1);return;case"hsla":if(c.length!==4){rl(e,0,0,0,1);return}return c[3]=Y1(c[3]),F9(c,e),jm(n,e),e;case"hsl":if(c.length!==3){rl(e,0,0,0,1);return}return F9(c,e),jm(n,e),e;default:return}}rl(e,0,0,0,1)}}function F9(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=Y1(n[1]),i=Y1(n[2]),a=i<=.5?i*(r+1):i+r-i*r,s=i*2-a;return e=e||[],rl(e,K1(Z3(s,a,t+1/3)*255),K1(Z3(s,a,t)*255),K1(Z3(s,a,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function z9(n,e){var t=Wp(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return d6(t,t.length===4?"rgba":"rgb")}}function d6(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function $C(n,e){var t=Wp(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function L6e(n){return n.type==="linear"}function N6e(n){return n.type==="radial"}(function(){return Pr.hasGlobalWindow&&Ar(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})();var ER=Array.prototype.slice;function Uu(n,e,t){return(e-n)*t+n}function Q3(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=Uu(e[a],t[a],r);return n}function O6e(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=Uu(e[s][o],t[s][o],r)}return n}function lx(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=e[a]+t[a]*r;return n}function U9(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=e[s][o]+t[s][o]*r}return n}function B6e(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,a=Math.min(t,r),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,r);o++)i.push({offset:s.offset,color:s.color.slice()})}function F6e(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var a=r.length,s=i.length;if(a!==s){var o=a>s;if(o)r.length=s;else for(var l=a;l<s;l++)r.push(t===1?i[l]:ER.call(i[l]))}for(var c=r[0]&&r[0].length,l=0;l<r.length;l++)if(t===1)isNaN(r[l])&&(r[l]=i[l]);else for(var u=0;u<c;u++)isNaN(r[l][u])&&(r[l][u]=i[l][u])}}function R2(n){if(yo(n)){var e=n.length;if(yo(n[0])){for(var t=[],r=0;r<e;r++)t.push(ER.call(n[r]));return t}return ER.call(n)}return n}function P2(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function z6e(n){return yo(n&&n[0])?2:1}var cx=0,D2=1,DQ=2,x1=3,IR=4,RR=5,H9=6;function V9(n){return n===IR||n===RR}function ux(n){return n===D2||n===DQ}var Oy=[0,0,0,0],U6e=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=H9,l=t;if(yo(t)){var c=z6e(t);o=c,(c===1&&!$i(t[0])||c===2&&!$i(t[0][0]))&&(s=!0)}else if($i(t)&&!zC(t))o=cx;else if(Jn(t))if(!isNaN(+t))o=cx;else{var u=Wp(t);u&&(l=u,o=x1)}else if(OT(t)){var d=cn({},l);d.colorStops=dr(t.colorStops,function(h){return{offset:h.offset,color:Wp(h.color)}}),L6e(t)?o=IR:N6e(t)&&(o=RR),l=d}a===0?this.valType=o:(o!==this.valType||o===H9)&&(s=!0),this.discrete=this.discrete||s;var f={time:e,value:l,rawValue:t,percent:0};return r&&(f.easing=r,f.easingFunc=Ar(r)?r:SQ[r]||IQ(r)),i.push(f),f},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(m,v){return m.time-v.time});for(var i=this.valType,a=r.length,s=r[a-1],o=this.discrete,l=ux(i),c=V9(i),u=0;u<a;u++){var d=r[u],f=d.value,h=s.value;d.percent=d.time/e,o||(l&&u!==a-1?F6e(f,h,i):c&&B6e(f.colorStops,h.colorStops))}if(!o&&i!==RR&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var p=r[0].value,u=0;u<a;u++)i===cx?r[u].additiveValue=r[u].value-p:i===x1?r[u].additiveValue=lx([],r[u].value,p,-1):ux(i)&&(r[u].additiveValue=i===D2?lx([],r[u].value,p,-1):U9([],r[u].value,p,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,c=a===x1,u,d=this._lastFr,f=Math.min,h,p;if(o===1)h=p=s[0];else{if(t<0)u=0;else if(t<this._lastFrP){var m=f(d+1,o-1);for(u=m;u>=0&&!(s[u].percent<=t);u--);u=f(u,o-2)}else{for(u=d;u<o&&!(s[u].percent>t);u++);u=f(u-1,o-2)}p=s[u+1],h=s[u]}if(h&&p){this._lastFr=u,this._lastFrP=t;var v=p.percent-h.percent,g=v===0?1:f((t-h.percent)/v,1);p.easingFunc&&(g=p.easingFunc(g));var y=r?this._additiveValue:c?Oy:e[l];if((ux(a)||c)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=g<1?h.rawValue:p.rawValue;else if(ux(a))a===D2?Q3(y,h[i],p[i],g):O6e(y,h[i],p[i],g);else if(V9(a)){var b=h[i],_=p[i],x=a===IR;e[l]={type:x?"linear":"radial",x:Uu(b.x,_.x,g),y:Uu(b.y,_.y,g),colorStops:dr(b.colorStops,function(T,C){var M=_.colorStops[C];return{offset:Uu(T.offset,M.offset,g),color:P2(Q3([],T.color,M.color,g))}}),global:_.global},x?(e[l].x2=Uu(b.x2,_.x2,g),e[l].y2=Uu(b.y2,_.y2,g)):e[l].r=Uu(b.r,_.r,g)}else if(c)Q3(y,h[i],p[i],g),r||(e[l]=P2(y));else{var S=Uu(h[i],p[i],g);r?this._additiveValue=S:e[l]=S}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===cx?e[r]=e[r]+i:t===x1?(Wp(e[r],Oy),lx(Oy,Oy,i,1),e[r]=P2(Oy)):t===D2?lx(e[r],e[r],i,1):t===DQ&&U9(e[r],e[r],i,1)},n}(),H6e=function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){s6("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,Ni(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var a=this._tracks,s=0;s<r.length;s++){var o=r[s],l=a[o];if(!l){l=a[o]=new U6e(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var d=u.keyframes,f=d[d.length-1];c=f&&f.value,u.valType===x1&&c&&(c=P2(c))}else c=this._target[o];if(c==null)continue;e>0&&l.addKeyframe(0,R2(c),i),this._trackKeys.push(o)}l.addKeyframe(e,R2(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),c=o.keyframes,u=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var d=c[u-1];d&&(t._target[o.propName]=d.rawValue),o.setFinished()}else r.push(o)}if(r.length||this._force){var f=new P6e({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){t._started=2;var p=t._additiveAnimators;if(p){for(var m=!1,v=0;v<p.length;v++)if(p[v]._clip){m=!0;break}m||(t._additiveAnimators=null)}for(var v=0;v<r.length;v++)r[v].step(t._target,h);var g=t._onframeCbs;if(g)for(var v=0;v<g.length;v++)g[v](t._target,h)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return dr(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=r[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[r?0:o.length-1];l&&(e[a]=R2(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||Ni(e);for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();const f6=H6e;function pv(){return new Date().getTime()}var V6e=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=pv()-this._pausedTime,i=r-this._time,a=this._head;a;){var s=a.next,o=a.step(r,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&(TR(r),!t._paused&&t.update())}TR(r)},e.prototype.start=function(){this._running||(this._time=pv(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=pv(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=pv()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new f6(t,r.loop);return this.addAnimator(i),i},e}(Sc);const $6e=V6e;var G6e=300,J3=Pr.domSupported,eE=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=dr(n,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:n,touch:e,pointer:r}}(),$9={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},G9=!1;function PR(n){var e=n.pointerType;return e==="pen"||e==="touch"}function W6e(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function tE(n){n&&(n.zrByTouch=!0)}function q6e(n,e){return al(n.dom,new K6e(n,e),!0)}function kQ(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var K6e=function(){function n(e,t){this.stopPropagation=Vs,this.stopImmediatePropagation=Vs,this.preventDefault=Vs,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n}(),Jl={mousedown:function(n){n=al(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=al(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=al(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=al(this.dom,n);var e=n.toElement||n.relatedTarget;kQ(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){G9=!0,n=al(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){G9||(n=al(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=al(this.dom,n),tE(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Jl.mousemove.call(this,n),Jl.mousedown.call(this,n)},touchmove:function(n){n=al(this.dom,n),tE(n),this.handler.processGesture(n,"change"),Jl.mousemove.call(this,n)},touchend:function(n){n=al(this.dom,n),tE(n),this.handler.processGesture(n,"end"),Jl.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<G6e&&Jl.click.call(this,n)},pointerdown:function(n){Jl.mousedown.call(this,n)},pointermove:function(n){PR(n)||Jl.mousemove.call(this,n)},pointerup:function(n){Jl.mouseup.call(this,n)},pointerout:function(n){PR(n)||Jl.mouseout.call(this,n)}};ut(["click","dblclick","contextmenu"],function(n){Jl[n]=function(e){e=al(this.dom,e),this.trigger(n,e)}});var DR={pointermove:function(n){PR(n)||DR.mousemove.call(this,n)},pointerup:function(n){DR.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Y6e(n,e){var t=e.domHandlers;Pr.pointerEventsSupported?ut(eE.pointer,function(r){k2(e,r,function(i){t[r].call(n,i)})}):(Pr.touchEventsSupported&&ut(eE.touch,function(r){k2(e,r,function(i){t[r].call(n,i),W6e(e)})}),ut(eE.mouse,function(r){k2(e,r,function(i){i=l6(i),e.touching||t[r].call(n,i)})}))}function X6e(n,e){Pr.pointerEventsSupported?ut($9.pointer,t):Pr.touchEventsSupported||ut($9.mouse,t);function t(r){function i(a){a=l6(a),kQ(n,a.target)||(a=q6e(n,a),e.domHandlers[r].call(n,a))}k2(e,r,i,{capture:!0})}}function k2(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,s6e(n.domTarget,e,t,r)}function nE(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&o6e(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var W9=function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n}(),j6e=function(n){Tn(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new W9(t,Jl),J3&&(i._globalHandlerScope=new W9(document,DR)),Y6e(i,i._localHandlerScope),i}return e.prototype.dispose=function(){nE(this._localHandlerScope),J3&&nE(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,J3&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?X6e(this,r):nE(r)}},e}(Sc);const Z6e=j6e;var LQ=1;Pr.hasGlobalWindow&&(LQ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var GC=LQ,kR=.4,LR="#333",NR="#ccc",Q6e="#eee",q9=c6,K9=5e-5;function Ph(n){return n>K9||n<-K9}var Dh=[],Zm=[],rE=pg(),iE=Math.abs,J6e=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Ph(this.rotation)||Ph(this.x)||Ph(this.y)||Ph(this.scaleX-1)||Ph(this.scaleY-1)||Ph(this.skewX)||Ph(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(q9(r),this.invTransform=null);return}r=r||pg(),t?this.getLocalTransform(r):q9(r),e&&(t?Nv(r,e,r):gQ(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Dh);var r=Dh[0]<0?-1:1,i=Dh[1]<0?-1:1,a=((Dh[0]-r)*t+r)/Dh[0]||0,s=((Dh[1]-i)*t+i)/Dh[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||pg(),zT(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Nv(Zm,e.invTransform,t),t=Zm);var r=this.originX,i=this.originY;(r||i)&&(rE[4]=r,rE[5]=i,Nv(Zm,t,rE),Zm[4]-=r,Zm[5]-=i,t=Zm),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&$s(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&$s(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&iE(e[0]-1)>1e-10&&iE(e[3]-1)>1e-10?Math.sqrt(iE(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){e8e(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,d=e.y,f=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(r||i||o||l){var p=r+o,m=i+l;t[4]=-p*a-f*m*s,t[5]=-m*s-h*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=h*a,t[2]=f*s,c&&u6(t,t,c),t[4]+=r+u,t[5]+=i+d,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),t_=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function e8e(n,e){for(var t=0;t<t_.length;t++){var r=t_[t];n[r]=e[r]}}const Ip=J6e;var Y9={};function Ho(n,e){e=e||om;var t=Y9[e];t||(t=Y9[e]=new iw(500));var r=t.get(n);return r==null&&(r=Zg.measureText(n,e).width,t.put(n,r)),r}function X9(n,e,t,r){var i=Ho(n,e),a=p6(e),s=S1(0,i,t),o=tv(0,a,r),l=new ei(s,o,i,a);return l}function h6(n,e,t,r){var i=((n||"")+"").split(`
`),a=i.length;if(a===1)return X9(i[0],e,t,r);for(var s=new ei(0,0,0,0),o=0;o<i.length;o++){var l=X9(i[o],e,t,r);o===0?s.copy(l):s.union(l)}return s}function S1(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function tv(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function p6(n){return Ho("国",n)}function eh(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function WC(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,c=t.y,u="left",d="top";if(r instanceof Array)l+=eh(r[0],t.width),c+=eh(r[1],t.height),u=null,d=null;else switch(r){case"left":l-=i,c+=o,u="right",d="middle";break;case"right":l+=i+s,c+=o,d="middle";break;case"top":l+=s/2,c-=i,u="center",d="bottom";break;case"bottom":l+=s/2,c+=a+i,u="center";break;case"inside":l+=s/2,c+=o,u="center",d="middle";break;case"insideLeft":l+=i,c+=o,d="middle";break;case"insideRight":l+=s-i,c+=o,u="right",d="middle";break;case"insideTop":l+=s/2,c+=i,u="center";break;case"insideBottom":l+=s/2,c+=a-i,u="center",d="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=s-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=a-i,d="bottom";break;case"insideBottomRight":l+=s-i,c+=a-i,u="right",d="bottom";break}return n=n||{},n.x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var aE="__zr_normal__",sE=t_.concat(["ignore"]),t8e=Jf(t_,function(n,e){return n[e]=!0,n},{ignore:!1}),Qm={},n8e=new ei(0,0,0,0),m6=function(){function n(e){this.id=uQ(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var c=!1;if(a.copyTransform(t),r.position!=null){var u=n8e;r.layoutRect?u.copy(r.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Qm,r,u):WC(Qm,r,u),a.x=Qm.x,a.y=Qm.y,s=Qm.align,o=Qm.verticalAlign;var d=r.origin;if(d&&r.rotation!=null){var f=void 0,h=void 0;d==="center"?(f=u.width*.5,h=u.height*.5):(f=eh(d[0],u.width),h=eh(d[1],u.height)),c=!0,a.originX=-a.x+f+(i?0:u.x),a.originY=-a.y+h+(i?0:u.y)}}r.rotation!=null&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],c||(a.originX=-p[0],a.originY=-p[1]));var m=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,y=void 0,b=void 0;m&&this.canBeInsideText()?(g=r.insideFill,y=r.insideStroke,(g==null||g==="auto")&&(g=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(g),b=!0)):(g=r.outsideFill,y=r.outsideStroke,(g==null||g==="auto")&&(g=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(g),b=!0)),g=g||"#000",(g!==v.fill||y!==v.stroke||b!==v.autoStroke||s!==v.align||o!==v.verticalAlign)&&(l=!0,v.fill=g,v.stroke=y,v.autoStroke=b,v.align=s,v.verticalAlign=o,t.setDefaultTextStyle(v)),t.__dirty|=No,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?NR:LR},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&Wp(t);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(a?0:255)*(1-i);return r[3]=1,d6(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},cn(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(or(e))for(var r=e,i=Ni(r),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==aE)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,sE)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(aE,!1,e)},n.prototype.useState=function(e,t,r,i){var a=e===aE,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(wi(o,e)>=0&&(t||o.length===1))){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!a){s6("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,f=this._textGuide;return d&&d.useState(e,t,r,u),f&&f.useState(e,t,r,u),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~No),c}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var d=i[s-1],f=!!(d&&d.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var m=this._textContent,v=this._textGuide;m&&m.useStates(e,t,f),v&&v.useStates(e,t,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~No)}},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=wi(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),a=wi(i,e),s=wi(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:r&&!s&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var a=e[i];cn(t,a),a.textConfig&&(r=r||{},cn(r,a.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=cn({},i?this.textConfig:r.textConfig),cn(this.textConfig,t.textConfig)):o&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},c=!1,u=0;u<sE.length;u++){var d=sE[u],f=a&&t8e[d];t&&t[d]!=null?f?(c=!0,l[d]=t[d]):this[d]=t[d]:o&&r[d]!=null&&(f?(c=!0,l[d]=r[d]):this[d]=r[d])}if(!a)for(var u=0;u<this.animators.length;u++){var h=this.animators[u],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(t||r)[p]:t||r)}c&&this._transitionState(e,l,s)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Ip,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),cn(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=No;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,a=new f6(i,t,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=wi(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,a=[],s=0;s<i;s++){var o=r[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},n.prototype.animateTo=function(e,t,r){oE(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){oE(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var a=oE(this,t,r,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=No;function t(r,i,a,s){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[a]},set:function(u){l[a]=u}}),Object.defineProperty(c,1,{get:function(){return l[s]},set:function(u){l[s]=u}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();mu(m6,Sc);mu(m6,Ip);function oE(n,e,t,r,i){t=t||{};var a=[];NQ(n,"",n,e,t,r,a,i);var s=a.length,o=!1,l=t.done,c=t.aborted,u=function(){o=!0,s--,s<=0&&(o?l&&l():c&&c())},d=function(){s--,s<=0&&(o?l&&l():c&&c())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(p,m){t.during(m)});for(var f=0;f<a.length;f++){var h=a[f];u&&h.done(u),d&&h.aborted(d),t.force&&h.duration(t.duration),h.start(t.easing)}return a}function lE(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function r8e(n){return yo(n[0])}function i8e(n,e,t){if(yo(e[t]))if(yo(n[t])||(n[t]=[]),qo(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),lE(n[t],e[t],r))}else{var i=e[t],a=n[t],s=i.length;if(r8e(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?lE(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else lE(a,i,s);a.length=i.length}else n[t]=e[t]}function a8e(n,e){return n===e||yo(n)&&yo(e)&&s8e(n,e)}function s8e(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function NQ(n,e,t,r,i,a,s,o){for(var l=Ni(r),c=i.duration,u=i.delay,d=i.additive,f=i.setToFinal,h=!or(a),p=n.animators,m=[],v=0;v<l.length;v++){var g=l[v],y=r[g];if(y!=null&&t[g]!=null&&(h||a[g]))if(or(y)&&!yo(y)&&!OT(y)){if(e){o||(t[g]=y,n.updateDuringAnimation(e));continue}NQ(n,g,t[g],y,i,a&&a[g],s,o)}else m.push(g);else o||(t[g]=y,n.updateDuringAnimation(e),m.push(g))}var b=m.length;if(!d&&b)for(var _=0;_<p.length;_++){var x=p[_];if(x.targetName===e){var S=x.stopTracks(m);if(S){var T=wi(p,x);p.splice(T,1)}}}if(i.force||(m=Os(m,function(I){return!a8e(r[I],t[I])}),b=m.length),b>0||i.force&&!s.length){var C=void 0,M=void 0,A=void 0;if(o){M={},f&&(C={});for(var _=0;_<b;_++){var g=m[_];M[g]=t[g],f?C[g]=r[g]:t[g]=r[g]}}else if(f){A={};for(var _=0;_<b;_++){var g=m[_];A[g]=R2(t[g]),i8e(t,r,g)}}var x=new f6(t,!1,!1,d?Os(p,function(D){return D.targetName===e}):null);x.targetName=e,i.scope&&(x.scope=i.scope),f&&C&&x.whenWithKeys(0,C,m),A&&x.whenWithKeys(0,A,m),x.whenWithKeys(c??500,o?M:r,m).delay(u||0),n.addAnimator(x,e),s.push(x)}}const OQ=m6;var BQ=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=wi(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,a=i[r];if(t&&t!==this&&t.parent!==this&&t!==a){i[r]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,a=wi(i,t);return a<0?this:(i.splice(a,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var a=t[i];r&&a.removeSelfFromZr(r),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(r,s,a)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(r,a);a.isGroup&&!s&&a.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new ei(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?(ei.applyTransform(r,c,u),s=s||r.clone(),s.union(r)):(s=s||c.clone(),s.union(c))}}return s||r},e}(OQ);BQ.prototype.type="group";const bo=BQ;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var L2={},FQ={};function o8e(n){delete FQ[n]}function l8e(n){if(!n)return!1;if(typeof n=="string")return $C(n,1)<kR;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=$C(e[i].color,1);return t/=r,t<kR}return!1}var c8e=function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var a=new S6e,s=r.renderer||"canvas";L2[s]||(s=Ni(L2)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var o=new L2[s](t,a,r,e),l=r.ssr||o.ssrOnly;this.storage=a,this.painter=o;var c=!Pr.node&&!Pr.worker&&!l?new Z6e(o.getViewportRoot(),o.root):null,u=r.useCoarsePointer,d=u==null||u==="auto"?Pr.touchEventsSupported:!!u,f=44,h;d&&(h=Zr(r.pointerSize,f)),this.handler=new y6e(a,o,c,o.root,h),this.animation=new $6e({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=l8e(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,r=pv();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=pv();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof bo&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,o8e(this.id)},n}();function j9(n,e){var t=new c8e(uQ(),n,e);return FQ[t.id]=t,t}function u8e(n,e){L2[n]=e}var Z9=1e-4,zQ=20;function d8e(n){return n.replace(/^\s+|\s+$/g,"")}function OR(n,e,t,r){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,c=o-s;if(l===0)return c===0?s:(s+o)/2;if(r)if(l>0){if(n<=i)return s;if(n>=a)return o}else{if(n>=i)return s;if(n<=a)return o}else{if(n===i)return s;if(n===a)return o}return(n-i)/l*c+s}function Ti(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return Jn(n)?d8e(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function Oa(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),zQ),n=(+n).toFixed(e),t?n:+n}function n_(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return f8e(n)}function f8e(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-r)}function h8e(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),a=Math.round(t(Math.abs(e[1]-e[0]))/r),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function p8e(n,e){var t=Jf(n,function(h,p){return h+(isNaN(p)?0:p)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=dr(n,function(h){return(isNaN(h)?0:h)/t*r*100}),a=r*100,s=dr(i,function(h){return Math.floor(h)}),o=Jf(s,function(h,p){return h+p},0),l=dr(i,function(h,p){return h-s[p]});o<a;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,f=l.length;d<f;++d)l[d]>c&&(c=l[d],u=d);++s[u],l[u]=0,++o}return dr(s,function(h){return h/r})}function m8e(n,e){var t=Math.max(n_(n),n_(e)),r=n+e;return t>zQ?r:Oa(r,t)}function UQ(n){var e=Math.PI*2;return(n%e+e)%e}function qC(n){return n>-Z9&&n<Z9}var v8e=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ud(n){if(n instanceof Date)return n;if(Jn(n)){var e=v8e.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function g8e(n){return Math.pow(10,v6(n))}function v6(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function HQ(n,e){var t=v6(n),r=Math.pow(10,t),i=n/r,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,n=a*r,t>=-20?+n.toFixed(t<0?-t:0):n}function KC(n){var e=parseFloat(n);return e==n&&(e!==0||!Jn(n)||n.indexOf("x")<=0)?e:NaN}function y8e(n){return!isNaN(KC(n))}function VQ(){return Math.round(Math.random()*9)}function $Q(n,e){return e===0?n:$Q(e,n%e)}function Q9(n,e){return n==null?e:e==null?n:n*e/$Q(n,e)}function io(n){throw new Error(n)}var GQ="series\0",b8e="\0_ec_\0";function Gs(n){return n instanceof Array?n:n==null?[]:[n]}function BR(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var J9=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function aw(n){return or(n)&&!Ln(n)&&!(n instanceof Date)?n.value:n}function _8e(n){return or(n)&&!(n instanceof Array)}function w8e(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";n=n||[],e=(e||[]).slice();var s=Dr();ut(e,function(l,c){if(!or(l)){e[c]=null;return}});var o=x8e(n,s,t);return(r||i)&&S8e(o,n,s,e),r&&C8e(o,e),r||i?M8e(o,e,i):a&&T8e(o,e),A8e(o),o}function x8e(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var a=n[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:t==="replaceMerge"||r_(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function S8e(n,e,t,r){ut(r,function(i,a){if(!(!i||i.id==null)){var s=X1(i.id),o=t.get(s);if(o!=null){var l=n[o];au(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],r[a]=null}}})}function C8e(n,e){ut(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(a.id==null||t.id==null)&&!r_(t)&&!r_(a)&&WQ("name",a,t)){n[i].newOption=t,e[r]=null;return}}})}function M8e(n,e,t){ut(e,function(r){if(r){for(var i,a=0;(i=n[a])&&(i.newOption||r_(i.existing)||i.existing&&r.id!=null&&!WQ("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),a++}})}function T8e(n,e){ut(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function A8e(n){var e=Dr();ut(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),ut(n,function(t){var r=t.newOption;au(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),ut(n,function(t,r){var i=t.existing,a=t.newOption,s=t.keyInfo;if(or(a)){if(s.name=a.name!=null?X1(a.name):i?i.name:GQ+r,i)s.id=X1(i.id);else if(a.id!=null)s.id=X1(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function WQ(n,e,t){var r=hc(e[n],null),i=hc(t[n],null);return r!=null&&i!=null&&r===i}function X1(n){return hc(n,"")}function hc(n,e){return n==null?e:Jn(n)?n:$i(n)||yR(n)?n+"":e}function g6(n){var e=n.name;return!!(e&&e.indexOf(GQ))}function r_(n){return n&&n.id!=null&&X1(n.id).indexOf(b8e)===0}function E8e(n,e,t){ut(n,function(r){var i=r.newOption;or(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=I8e(e,i,r.existing,t))})}function I8e(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function sw(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Ln(e.dataIndex)?dr(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Ln(e.name)?dr(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function da(){var n="__ec_inner_"+R8e++;return function(e){return e[n]||(e[n]={})}}var R8e=VQ();function cE(n,e,t){var r=y6(e,t),i=r.mainTypeSpecified,a=r.queryOptionMap,s=r.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(c,u){var d=ow(n,u,c,{useDefault:l===u,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[u+"Models"]=d.models,o[u+"Model"]=d.models[0]}),o}function y6(n,e){var t;if(Jn(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=Dr(),a={},s=!1;return ut(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();if(!(!u||!d||e&&e.includeMainTypes&&wi(e.includeMainTypes,u)<0)){s=s||!!u;var f=i.get(u)||i.set(u,{});f[d]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var lc={useDefault:!0,enableAll:!1,enableNone:!1};function ow(n,e,t,r){r=r||lc;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],o}return i==="none"||i===!1?(au(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(au(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=n.queryComponents({mainType:e,index:i,id:a,name:s}),o)}function qQ(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function P8e(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function D8e(n){return n==="auto"?Pr.domSupported?"html":"richText":n||"html"}var k8e=".",kh="___EC__COMPONENT__CONTAINER___",KQ="___EC__EXTENDED_CLASS___";function Kc(n){var e={main:"",sub:""};if(n){var t=n.split(k8e);e.main=t[0]||"",e.sub=t[1]||""}return e}function L8e(n){au(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function N8e(n){return!!(n&&n[KQ])}function b6(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return O8e(r)?i=function(a){Tn(s,a);function s(){return a.apply(this,arguments)||this}return s}(r):(i=function(){(t.$constructor||r).apply(this,arguments)},LLe(i,this)),cn(i.prototype,t),i[KQ]=!0,i.extend=this.extend,i.superCall=z8e,i.superApply=U8e,i.superClass=r,i}}function O8e(n){return Ar(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function YQ(n,e){n.extend=e.extend}var B8e=Math.round(Math.random()*10);function F8e(n){var e=["__\0is_clz",B8e++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function z8e(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function U8e(n,e,t){return this.superClass.prototype[e].apply(n,t)}function UT(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){L8e(i),r.prototype.type=i;var a=Kc(i);if(!a.sub)e[a.main]=r;else if(a.sub!==kh){var s=t(a);s[a.sub]=r}}return r},n.getClass=function(r,i,a){var s=e[r];if(s&&s[kh]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},n.getClassesByMainType=function(r){var i=Kc(r),a=[],s=e[i.main];return s&&s[kh]?ut(s,function(o,l){l!==kh&&a.push(o)}):a.push(s),a},n.hasClass=function(r){var i=Kc(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return ut(e,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=Kc(r),a=e[i.main];return a&&a[kh]};function t(r){var i=e[r.main];return(!i||!i[kh])&&(i=e[r.main]={},i[kh]=!0),i}}function i_(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,a){for(var s={},o=0;o<n.length;o++){var l=n[o][1];if(!(i&&wi(i,l)>=0||a&&wi(a,l)<0)){var c=r.getShallow(l,e);c!=null&&(s[n[o][0]]=c)}}return s}}var H8e=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],V8e=i_(H8e),$8e=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return V8e(this,e,t)},n}(),FR=new iw(50);function G8e(n){if(typeof n=="string"){var e=FR.get(n);return e&&e.image}else return n}function XQ(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var a=FR.get(n),s={hostEl:t,cb:r,cbPayload:i};return a?(e=a.image,!HT(e)&&a.pending.push(s)):(e=Zg.loadImage(n,ez,ez),e.__zrImageSrc=n,FR.put(n,e.__cachedImgObj={image:e,pending:[s]})),e}else return n;else return e}function ez(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function HT(n){return n&&n.width&&n.height}var uE=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function W8e(n,e,t,r,i){if(!e)return"";var a=(n+"").split(`
`);i=jQ(e,t,r,i);for(var s=0,o=a.length;s<o;s++)a[s]=ZQ(a[s],i);return a.join(`
`)}function jQ(n,e,t,r){r=r||{};var i=cn({},r);i.font=e,t=Zr(t,"..."),i.maxIterations=Zr(r.maxIterations,2);var a=i.minChar=Zr(r.minChar,0);i.cnCharWidth=Ho("国",e);var s=i.ascCharWidth=Ho("a",e);i.placeholder=Zr(r.placeholder,"");for(var o=n=Math.max(0,n-1),l=0;l<a&&o>=s;l++)o-=s;var c=Ho(t,e);return c>o&&(t="",c=0),o=n-c,i.ellipsis=t,i.ellipsisWidth=c,i.contentWidth=o,i.containerWidth=n,i}function ZQ(n,e){var t=e.containerWidth,r=e.font,i=e.contentWidth;if(!t)return"";var a=Ho(n,r);if(a<=t)return n;for(var s=0;;s++){if(a<=i||s>=e.maxIterations){n+=e.ellipsis;break}var o=s===0?q8e(n,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(n.length*i/a):0;n=n.substr(0,o),a=Ho(n,r)}return n===""&&(n=e.placeholder),n}function q8e(n,e,t,r){for(var i=0,a=0,s=n.length;a<s&&i<e;a++){var o=n.charCodeAt(a);i+=0<=o&&o<=127?t:r}return a}function K8e(n,e){n!=null&&(n+="");var t=e.overflow,r=e.padding,i=e.font,a=t==="truncate",s=p6(i),o=Zr(e.lineHeight,s),l=!!e.backgroundColor,c=e.lineOverflow==="truncate",u=e.width,d;u!=null&&(t==="break"||t==="breakAll")?d=n?QQ(n,e.font,u,t==="breakAll",0).lines:[]:d=n?n.split(`
`):[];var f=d.length*o,h=Zr(e.height,f);if(f>h&&c){var p=Math.floor(h/o);d=d.slice(0,p)}if(n&&a&&u!=null)for(var m=jQ(u,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<d.length;v++)d[v]=ZQ(d[v],m);for(var g=h,y=0,v=0;v<d.length;v++)y=Math.max(Ho(d[v],i),y);u==null&&(u=y);var b=y;return r&&(g+=r[0]+r[2],b+=r[1]+r[3],u+=r[1]+r[3]),l&&(b=u),{lines:d,height:h,outerWidth:b,outerHeight:g,lineHeight:o,calculatedLineHeight:s,contentWidth:y,contentHeight:f,width:u}}var Y8e=function(){function n(){}return n}(),tz=function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n}(),X8e=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function j8e(n,e){var t=new X8e;if(n!=null&&(n+=""),!n)return t;for(var r=e.width,i=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,o=uE.lastIndex=0,l;(l=uE.exec(n))!=null;){var c=l.index;c>o&&dE(t,n.substring(o,c),e,s),dE(t,l[2],e,s,l[1]),o=uE.lastIndex}o<n.length&&dE(t,n.substring(o,n.length),e,s);var u=[],d=0,f=0,h=e.padding,p=a==="truncate",m=e.lineOverflow==="truncate";function v(z,O,G){z.width=O,z.lineHeight=G,d+=G,f=Math.max(f,O)}e:for(var g=0;g<t.lines.length;g++){for(var y=t.lines[g],b=0,_=0,x=0;x<y.tokens.length;x++){var S=y.tokens[x],T=S.styleName&&e.rich[S.styleName]||{},C=S.textPadding=T.padding,M=C?C[1]+C[3]:0,A=S.font=T.font||e.font;S.contentHeight=p6(A);var I=Zr(T.height,S.contentHeight);if(S.innerHeight=I,C&&(I+=C[0]+C[2]),S.height=I,S.lineHeight=W1(T.lineHeight,e.lineHeight,I),S.align=T&&T.align||e.align,S.verticalAlign=T&&T.verticalAlign||"middle",m&&i!=null&&d+S.lineHeight>i){x>0?(y.tokens=y.tokens.slice(0,x),v(y,_,b),t.lines=t.lines.slice(0,g+1)):t.lines=t.lines.slice(0,g);break e}var D=T.width,L=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")S.percentWidth=D,u.push(S),S.contentWidth=Ho(S.text,A);else{if(L){var F=T.backgroundColor,B=F&&F.image;B&&(B=G8e(B),HT(B)&&(S.width=Math.max(S.width,B.width*I/B.height)))}var k=p&&r!=null?r-_:null;k!=null&&k<S.width?!L||k<M?(S.text="",S.width=S.contentWidth=0):(S.text=W8e(S.text,k-M,A,e.ellipsis,{minChar:e.truncateMinChar}),S.width=S.contentWidth=Ho(S.text,A)):S.contentWidth=Ho(S.text,A)}S.width+=M,_+=S.width,T&&(b=Math.max(b,S.lineHeight))}v(y,_,b)}t.outerWidth=t.width=Zr(r,f),t.outerHeight=t.height=Zr(i,d),t.contentHeight=d,t.contentWidth=f,h&&(t.outerWidth+=h[1]+h[3],t.outerHeight+=h[0]+h[2]);for(var g=0;g<u.length;g++){var S=u[g],H=S.percentWidth;S.width=parseInt(H,10)/100*t.width}return t}function dE(n,e,t,r,i){var a=e==="",s=i&&t.rich[i]||{},o=n.lines,l=s.font||t.font,c=!1,u,d;if(r){var f=s.padding,h=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var p=eh(s.width,r.width)+h;o.length>0&&p+r.accumWidth>r.width&&(u=e.split(`
`),c=!0),r.accumWidth=p}else{var m=QQ(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=m.accumWidth+h,d=m.linesWidths,u=m.lines}}else u=e.split(`
`);for(var v=0;v<u.length;v++){var g=u[v],y=new Y8e;if(y.styleName=i,y.text=g,y.isLineHolder=!g&&!a,typeof s.width=="number"?y.width=s.width:y.width=d?d[v]:Ho(g,l),!v&&!c){var b=(o[o.length-1]||(o[0]=new tz)).tokens,_=b.length;_===1&&b[0].isLineHolder?b[0]=y:(g||!_||a)&&b.push(y)}else o.push(new tz([y]))}}function Z8e(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var Q8e=Jf(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function J8e(n){return Z8e(n)?!!Q8e[n]:!0}function QQ(n,e,t,r,i){for(var a=[],s=[],o="",l="",c=0,u=0,d=0;d<n.length;d++){var f=n.charAt(d);if(f===`
`){l&&(o+=l,u+=c),a.push(o),s.push(u),o="",l="",c=0,u=0;continue}var h=Ho(f,e),p=r?!1:!J8e(f);if(a.length?u+h>t:i+u+h>t){u?(o||l)&&(p?(o||(o=l,l="",c=0,u=c),a.push(o),s.push(u-c),l+=f,c+=h,o="",u=c):(l&&(o+=l,l="",c=0),a.push(o),s.push(u),o=f,u=h)):p?(a.push(l),s.push(c),l=f,c=h):(a.push(f),s.push(h));continue}u+=h,p?(l+=f,c+=h):(l&&(o+=l,l="",c=0),o+=f)}return!a.length&&!o&&(o=n,l="",c=0),l&&(o+=l),o&&(a.push(o),s.push(u)),a.length===1&&(u+=i),{accumWidth:u,lines:a,linesWidths:s}}var zR="__zr_style_"+Math.round(Math.random()*10),qp={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},VT={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};qp[zR]=!0;var nz=["z","z2","invisible"],eNe=["invisible"],tNe=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=Ni(t),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&nNe(this,t,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new ei(0,0,0,0)),r?ei.applyTransform(t,i,r):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+c*2),t.height=Math.ceil(t.height+1+c*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new ei(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:cn(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=w1,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&w1)},e.prototype.styleUpdated=function(){this.__dirty&=~w1},e.prototype.createStyle=function(t){return BT(qp,t)},e.prototype.useStyle=function(t){t[zR]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[zR]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,nz)},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),c;if(r&&r.style?s?a?c=r.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,r.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(c,r.style)):l&&(c=i.style),c)if(s){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=Ni(u),f=0;f<d.length;f++){var h=d[f];h in c&&(c[h]=c[h],this.style[h]=u[h])}for(var p=Ni(c),f=0;f<p.length;f++){var h=p[f];this.style[h]=this.style[h]}this._transitionState(t,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var m=this.__inHover?eNe:nz,f=0;f<m.length;f++){var h=m[f];r&&r[h]!=null?this[h]=r[h]:l&&i[h]!=null&&(this[h]=i[h])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return cn(t,r),t},e.prototype.getAnimationStyleProps=function(){return VT},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=No|w1}(),e}(OQ),fE=new ei(0,0,0,0),hE=new ei(0,0,0,0);function nNe(n,e,t){return fE.copy(n.getBoundingRect()),n.transform&&fE.applyTransform(n.transform),hE.width=e,hE.height=t,!fE.intersect(hE)}const lw=tNe;var ao=Math.min,so=Math.max,pE=Math.sin,mE=Math.cos,Lh=Math.PI*2,dx=Qg(),fx=Qg(),hx=Qg();function rNe(n,e,t){if(n.length!==0){for(var r=n[0],i=r[0],a=r[0],s=r[1],o=r[1],l=1;l<n.length;l++)r=n[l],i=ao(i,r[0]),a=so(a,r[0]),s=ao(s,r[1]),o=so(o,r[1]);e[0]=i,e[1]=s,t[0]=a,t[1]=o}}function rz(n,e,t,r,i,a){i[0]=ao(n,t),i[1]=ao(e,r),a[0]=so(n,t),a[1]=so(e,r)}var iz=[],az=[];function iNe(n,e,t,r,i,a,s,o,l,c){var u=AQ,d=Ya,f=u(n,t,i,s,iz);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var h=0;h<f;h++){var p=d(n,t,i,s,iz[h]);l[0]=ao(p,l[0]),c[0]=so(p,c[0])}f=u(e,r,a,o,az);for(var h=0;h<f;h++){var m=d(e,r,a,o,az[h]);l[1]=ao(m,l[1]),c[1]=so(m,c[1])}l[0]=ao(n,l[0]),c[0]=so(n,c[0]),l[0]=ao(s,l[0]),c[0]=so(s,c[0]),l[1]=ao(e,l[1]),c[1]=so(e,c[1]),l[1]=ao(o,l[1]),c[1]=so(o,c[1])}function aNe(n,e,t,r,i,a,s,o){var l=EQ,c=vs,u=so(ao(l(n,t,i),1),0),d=so(ao(l(e,r,a),1),0),f=c(n,t,i,u),h=c(e,r,a,d);s[0]=ao(n,i,f),s[1]=ao(e,a,h),o[0]=so(n,i,f),o[1]=so(e,a,h)}function sNe(n,e,t,r,i,a,s,o,l){var c=fv,u=hv,d=Math.abs(i-a);if(d%Lh<1e-4&&d>1e-4){o[0]=n-t,o[1]=e-r,l[0]=n+t,l[1]=e+r;return}if(dx[0]=mE(i)*t+n,dx[1]=pE(i)*r+e,fx[0]=mE(a)*t+n,fx[1]=pE(a)*r+e,c(o,dx,fx),u(l,dx,fx),i=i%Lh,i<0&&(i=i+Lh),a=a%Lh,a<0&&(a=a+Lh),i>a&&!s?a+=Lh:i<a&&s&&(i+=Lh),s){var f=a;a=i,i=f}for(var h=0;h<a;h+=Math.PI/2)h>i&&(hx[0]=mE(h)*t+n,hx[1]=pE(h)*r+e,c(o,hx,o),u(l,hx,l))}var oi={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Nh=[],Oh=[],Dc=[],Od=[],kc=[],Lc=[],vE=Math.min,gE=Math.max,Bh=Math.cos,Fh=Math.sin,xu=Math.abs,UR=Math.PI,df=UR*2,yE=typeof Float32Array<"u",By=[];function bE(n){var e=Math.round(n/UR*1e8)/1e8;return e%2*UR}function oNe(n,e){var t=bE(n[0]);t<0&&(t+=df);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=df?i=t+df:e&&t-i>=df?i=t-df:!e&&t>i?i=t+(df-bE(t-i)):e&&t<i&&(i=t-(df-bE(i-t))),n[0]=t,n[1]=i}var lNe=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=xu(r/GC/e)||0,this._uy=xu(r/GC/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(oi.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=xu(e-this._xi),i=xu(t-this._yi),a=r>this._ux||i>this._uy;if(this.addData(oi.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,a,s){return this._drawPendingPt(),this.addData(oi.C,e,t,r,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,a,s),this._xi=a,this._yi=s,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(oi.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,a,s){this._drawPendingPt(),By[0]=i,By[1]=a,oNe(By,s),i=By[0],a=By[1];var o=a-i;return this.addData(oi.A,e,t,r,r,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,r,i,a,s),this._xi=Bh(a)*r+e,this._yi=Fh(a)*r+t,this},n.prototype.arcTo=function(e,t,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,a),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(oi.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(oi.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&yE&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,a=0;a<t;a++)r+=e[a].len();yE&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<t;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},n.prototype.addData=function(e,t,r,i,a,s,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,yE&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Dc[0]=Dc[1]=kc[0]=kc[1]=Number.MAX_VALUE,Od[0]=Od[1]=Lc[0]=Lc[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],r=e[s+1],i=t,a=r),o){case oi.M:t=i=e[s++],r=a=e[s++],kc[0]=i,kc[1]=a,Lc[0]=i,Lc[1]=a;break;case oi.L:rz(t,r,e[s],e[s+1],kc,Lc),t=e[s++],r=e[s++];break;case oi.C:iNe(t,r,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],kc,Lc),t=e[s++],r=e[s++];break;case oi.Q:aNe(t,r,e[s++],e[s++],e[s],e[s+1],kc,Lc),t=e[s++],r=e[s++];break;case oi.A:var c=e[s++],u=e[s++],d=e[s++],f=e[s++],h=e[s++],p=e[s++]+h;s+=1;var m=!e[s++];l&&(i=Bh(h)*d+c,a=Fh(h)*f+u),sNe(c,u,d,f,h,p,m,kc,Lc),t=Bh(p)*d+c,r=Fh(p)*f+u;break;case oi.R:i=t=e[s++],a=r=e[s++];var v=e[s++],g=e[s++];rz(i,a,i+v,a+g,kc,Lc);break;case oi.Z:t=i,r=a;break}fv(Dc,Dc,kc),hv(Od,Od,Lc)}return s===0&&(Dc[0]=Dc[1]=Od[0]=Od[1]=0),new ei(Dc[0],Dc[1],Od[0]-Dc[0],Od[1]-Dc[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,f=0;f<t;){var h=e[f++],p=f===1;p&&(a=e[f],s=e[f+1],o=a,l=s);var m=-1;switch(h){case oi.M:a=o=e[f++],s=l=e[f++];break;case oi.L:{var v=e[f++],g=e[f++],y=v-a,b=g-s;(xu(y)>r||xu(b)>i||f===t-1)&&(m=Math.sqrt(y*y+b*b),a=v,s=g);break}case oi.C:{var _=e[f++],x=e[f++],v=e[f++],g=e[f++],S=e[f++],T=e[f++];m=M6e(a,s,_,x,v,g,S,T,10),a=S,s=T;break}case oi.Q:{var _=e[f++],x=e[f++],v=e[f++],g=e[f++];m=E6e(a,s,_,x,v,g,10),a=v,s=g;break}case oi.A:var C=e[f++],M=e[f++],A=e[f++],I=e[f++],D=e[f++],L=e[f++],F=L+D;f+=1,e[f++],p&&(o=Bh(D)*A+C,l=Fh(D)*I+M),m=gE(A,I)*vE(df,Math.abs(L)),a=Bh(F)*A+C,s=Fh(F)*I+M;break;case oi.R:{o=a=e[f++],l=s=e[f++];var B=e[f++],k=e[f++];m=B*2+k*2;break}case oi.Z:{var y=o-a,b=l-s;m=Math.sqrt(y*y+b*b),a=o,s=l;break}}m>=0&&(c[d++]=m,u+=m)}return this._pathLen=u,u},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,a=this._uy,s=this._len,o,l,c,u,d,f,h=t<1,p,m,v=0,g=0,y,b=0,_,x;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,m=this._pathLen,y=t*m,!y)))e:for(var S=0;S<s;){var T=r[S++],C=S===1;switch(C&&(c=r[S],u=r[S+1],o=c,l=u),T!==oi.L&&b>0&&(e.lineTo(_,x),b=0),T){case oi.M:o=c=r[S++],l=u=r[S++],e.moveTo(c,u);break;case oi.L:{d=r[S++],f=r[S++];var M=xu(d-c),A=xu(f-u);if(M>i||A>a){if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;e.lineTo(c*(1-D)+d*D,u*(1-D)+f*D);break e}v+=I}e.lineTo(d,f),c=d,u=f,b=0}else{var L=M*M+A*A;L>b&&(_=d,x=f,b=L)}break}case oi.C:{var F=r[S++],B=r[S++],k=r[S++],H=r[S++],z=r[S++],O=r[S++];if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;HC(c,F,k,z,D,Nh),HC(u,B,H,O,D,Oh),e.bezierCurveTo(Nh[1],Oh[1],Nh[2],Oh[2],Nh[3],Oh[3]);break e}v+=I}e.bezierCurveTo(F,B,k,H,z,O),c=z,u=O;break}case oi.Q:{var F=r[S++],B=r[S++],k=r[S++],H=r[S++];if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;VC(c,F,k,D,Nh),VC(u,B,H,D,Oh),e.quadraticCurveTo(Nh[1],Oh[1],Nh[2],Oh[2]);break e}v+=I}e.quadraticCurveTo(F,B,k,H),c=k,u=H;break}case oi.A:var G=r[S++],X=r[S++],J=r[S++],Q=r[S++],re=r[S++],de=r[S++],le=r[S++],fe=!r[S++],Ee=J>Q?J:Q,Re=xu(J-Q)>.001,He=re+de,$e=!1;if(h){var I=p[g++];v+I>y&&(He=re+de*(y-v)/I,$e=!0),v+=I}if(Re&&e.ellipse?e.ellipse(G,X,J,Q,le,re,He,fe):e.arc(G,X,Ee,re,He,fe),$e)break e;C&&(o=Bh(re)*J+G,l=Fh(re)*Q+X),c=Bh(He)*J+G,u=Fh(He)*Q+X;break;case oi.R:o=c=r[S],l=u=r[S+1],d=r[S++],f=r[S++];var K=r[S++],ce=r[S++];if(h){var I=p[g++];if(v+I>y){var ie=y-v;e.moveTo(d,f),e.lineTo(d+vE(ie,K),f),ie-=K,ie>0&&e.lineTo(d+K,f+vE(ie,ce)),ie-=ce,ie>0&&e.lineTo(d+gE(K-ie,0),f+ce),ie-=K,ie>0&&e.lineTo(d,f+gE(ce-ie,0));break e}v+=I}e.rect(d,f,K,ce);break;case oi.Z:if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;e.lineTo(c*(1-D)+o*D,u*(1-D)+l*D);break e}v+=I}e.closePath(),c=o,u=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=oi,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const lm=lNe;function Jm(n,e,t,r,i,a,s){if(i===0)return!1;var o=i,l=0,c=n;if(s>e+o&&s>r+o||s<e-o&&s<r-o||a>n+o&&a>t+o||a<n-o&&a<t-o)return!1;if(n!==t)l=(e-r)/(n-t),c=(n*r-t*e)/(n-t);else return Math.abs(a-n)<=o/2;var u=l*a-s+c,d=u*u/(l*l+1);return d<=o/2*o/2}function cNe(n,e,t,r,i,a,s,o,l,c,u){if(l===0)return!1;var d=l;if(u>e+d&&u>r+d&&u>a+d&&u>o+d||u<e-d&&u<r-d&&u<a-d&&u<o-d||c>n+d&&c>t+d&&c>i+d&&c>s+d||c<n-d&&c<t-d&&c<i-d&&c<s-d)return!1;var f=C6e(n,e,t,r,i,a,s,o,c,u,null);return f<=d/2}function uNe(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var c=s;if(l>e+c&&l>r+c&&l>a+c||l<e-c&&l<r-c&&l<a-c||o>n+c&&o>t+c&&o>i+c||o<n-c&&o<t-c&&o<i-c)return!1;var u=A6e(n,e,t,r,i,a,o,l,null);return u<=c/2}var sz=Math.PI*2;function px(n){return n%=sz,n<0&&(n+=sz),n}var Fy=Math.PI*2;function dNe(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var c=s;o-=n,l-=e;var u=Math.sqrt(o*o+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(r-i)%Fy<1e-4)return!0;if(a){var d=r;r=px(i),i=px(d)}else r=px(r),i=px(i);r>i&&(i+=Fy);var f=Math.atan2(l,o);return f<0&&(f+=Fy),f>=r&&f<=i||f+Fy>=r&&f+Fy<=i}function zh(n,e,t,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var s=(a-e)/(r-e),o=r<e?1:-1;(s===1||s===0)&&(o=r<e?.5:-.5);var l=s*(t-n)+n;return l===i?1/0:l>i?o:0}var Bd=lm.CMD,Uh=Math.PI*2,fNe=1e-4;function hNe(n,e){return Math.abs(n-e)<fNe}var Ls=[-1,-1,-1],ll=[-1,-1];function pNe(){var n=ll[0];ll[0]=ll[1],ll[1]=n}function mNe(n,e,t,r,i,a,s,o,l,c){if(c>e&&c>r&&c>a&&c>o||c<e&&c<r&&c<a&&c<o)return 0;var u=TQ(e,r,a,o,c,Ls);if(u===0)return 0;for(var d=0,f=-1,h=void 0,p=void 0,m=0;m<u;m++){var v=Ls[m],g=v===0||v===1?.5:1,y=Ya(n,t,i,s,v);y<l||(f<0&&(f=AQ(e,r,a,o,ll),ll[1]<ll[0]&&f>1&&pNe(),h=Ya(e,r,a,o,ll[0]),f>1&&(p=Ya(e,r,a,o,ll[1]))),f===2?v<ll[0]?d+=h<e?g:-g:v<ll[1]?d+=p<h?g:-g:d+=o<p?g:-g:v<ll[0]?d+=h<e?g:-g:d+=o<h?g:-g)}return d}function vNe(n,e,t,r,i,a,s,o){if(o>e&&o>r&&o>a||o<e&&o<r&&o<a)return 0;var l=T6e(e,r,a,o,Ls);if(l===0)return 0;var c=EQ(e,r,a);if(c>=0&&c<=1){for(var u=0,d=vs(e,r,a,c),f=0;f<l;f++){var h=Ls[f]===0||Ls[f]===1?.5:1,p=vs(n,t,i,Ls[f]);p<s||(Ls[f]<c?u+=d<e?h:-h:u+=a<d?h:-h)}return u}else{var h=Ls[0]===0||Ls[0]===1?.5:1,p=vs(n,t,i,Ls[0]);return p<s?0:a<e?h:-h}}function gNe(n,e,t,r,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);Ls[0]=-l,Ls[1]=l;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=Uh-1e-4){r=0,i=Uh;var u=a?1:-1;return s>=Ls[0]+n&&s<=Ls[1]+n?u:0}if(r>i){var d=r;r=i,i=d}r<0&&(r+=Uh,i+=Uh);for(var f=0,h=0;h<2;h++){var p=Ls[h];if(p+n>s){var m=Math.atan2(o,p),u=a?1:-1;m<0&&(m=Uh+m),(m>=r&&m<=i||m+Uh>=r&&m+Uh<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(u=-u),f+=u)}}return f}function JQ(n,e,t,r,i){for(var a=n.data,s=n.len(),o=0,l=0,c=0,u=0,d=0,f,h,p=0;p<s;){var m=a[p++],v=p===1;switch(m===Bd.M&&p>1&&(t||(o+=zh(l,c,u,d,r,i))),v&&(l=a[p],c=a[p+1],u=l,d=c),m){case Bd.M:u=a[p++],d=a[p++],l=u,c=d;break;case Bd.L:if(t){if(Jm(l,c,a[p],a[p+1],e,r,i))return!0}else o+=zh(l,c,a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case Bd.C:if(t){if(cNe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=mNe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case Bd.Q:if(t){if(uNe(l,c,a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=vNe(l,c,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case Bd.A:var g=a[p++],y=a[p++],b=a[p++],_=a[p++],x=a[p++],S=a[p++];p+=1;var T=!!(1-a[p++]);f=Math.cos(x)*b+g,h=Math.sin(x)*_+y,v?(u=f,d=h):o+=zh(l,c,f,h,r,i);var C=(r-g)*_/b+g;if(t){if(dNe(g,y,_,x,x+S,T,e,C,i))return!0}else o+=gNe(g,y,_,x,x+S,T,C,i);l=Math.cos(x+S)*b+g,c=Math.sin(x+S)*_+y;break;case Bd.R:u=l=a[p++],d=c=a[p++];var M=a[p++],A=a[p++];if(f=u+M,h=d+A,t){if(Jm(u,d,f,d,e,r,i)||Jm(f,d,f,h,e,r,i)||Jm(f,h,u,h,e,r,i)||Jm(u,h,u,d,e,r,i))return!0}else o+=zh(f,d,f,h,r,i),o+=zh(u,h,u,d,r,i);break;case Bd.Z:if(t){if(Jm(l,c,u,d,e,r,i))return!0}else o+=zh(l,c,u,d,r,i);l=u,c=d;break}}return!t&&!hNe(c,d)&&(o+=zh(l,c,u,d,r,i)||0),o!==0}function yNe(n,e,t){return JQ(n,0,!1,e,t)}function bNe(n,e,t,r){return JQ(n,e,!0,t,r)}var eJ=fi({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},qp),_Ne={style:fi({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},VT.style)},_E=t_.concat(["invisible","culling","z","z2","zlevel","parent"]),wNe=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var o=0;o<_E.length;++o)i[_E[o]]=this[_E[o]];i.__dirty|=No}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=Ni(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var s=r[a],o=t[s];s==="style"?this.style?cn(this.style,o):this.useStyle(o):s==="shape"?cn(this.shape,o):n.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Jn(t)){var r=$C(t,0);return r>.5?LR:r>.2?Q6e:NR}else if(t)return NR}return LR},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(Jn(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=$C(t,0)<kR;if(a===s)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~ev},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new lm(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&ev)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=r.strokeNoScale?this.getLineScale():1,c=r.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect(),s=this.style;if(t=i[0],r=i[1],a.contain(t,r)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),bNe(o,l/c,t,r)))return!0}if(this.hasFill())return yNe(o,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=ev,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:cn(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&ev)},e.prototype.createStyle=function(t){return BT(eJ,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=cn({},this.shape))},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),c;if(r&&r.shape?s?a?c=r.shape:(c=cn({},i.shape),cn(c,r.shape)):(c=cn({},a?this.shape:i.shape),cn(c,r.shape)):l&&(c=i.shape),c)if(s){this.shape=cn({},this.shape);for(var u={},d=Ni(c),f=0;f<d.length;f++){var h=d[f];typeof c[h]=="object"?this.shape[h]=c[h]:u[h]=c[h]}this._transitionState(t,{shape:u},o)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return _Ne},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(a){Tn(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return jr(t.style)},s.prototype.getDefaultShape=function(){return jr(t.shape)},s}(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=No|w1|ev}(),e}(lw);const xi=wNe;var xNe=fi({strokeFirst:!0,font:om,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},eJ),tJ=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return r!=null&&r!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return BT(xNe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;r!=null?r+="":r="";var i=h6(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(lw);tJ.prototype.type="tspan";const HR=tJ;var SNe=fi({x:0,y:0},qp),CNe={style:fi({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},VT.style)};function MNe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var nJ=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return BT(SNe,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var a=MNe(r.image)?r.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=r[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return CNe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new ei(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(lw);nJ.prototype.type="image";const Tm=nJ;function TNe(n,e){var t=e.x,r=e.y,i=e.width,a=e.height,s=e.r,o,l,c,u;i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),typeof s=="number"?o=l=c=u=s:s instanceof Array?s.length===1?o=l=c=u=s[0]:s.length===2?(o=c=s[0],l=u=s[1]):s.length===3?(o=s[0],l=u=s[1],c=s[2]):(o=s[0],l=s[1],c=s[2],u=s[3]):o=l=c=u=0;var d;o+l>i&&(d=o+l,o*=i/d,l*=i/d),c+u>i&&(d=c+u,c*=i/d,u*=i/d),l+c>a&&(d=l+c,l*=a/d,c*=a/d),o+u>a&&(d=o+u,o*=a/d,u*=a/d),n.moveTo(t+o,r),n.lineTo(t+i-l,r),l!==0&&n.arc(t+i-l,r+l,l,-Math.PI/2,0),n.lineTo(t+i,r+a-c),c!==0&&n.arc(t+i-c,r+a-c,c,0,Math.PI/2),n.lineTo(t+u,r+a),u!==0&&n.arc(t+u,r+a-u,u,Math.PI/2,Math.PI),n.lineTo(t,r+o),o!==0&&n.arc(t+o,r+o,o,Math.PI,Math.PI*1.5)}var mv=Math.round;function rJ(n,e,t){if(e){var r=e.x1,i=e.x2,a=e.y1,s=e.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=s;var o=t&&t.lineWidth;return o&&(mv(r*2)===mv(i*2)&&(n.x1=n.x2=Rp(r,o,!0)),mv(a*2)===mv(s*2)&&(n.y1=n.y2=Rp(a,o,!0))),n}}function iJ(n,e,t){if(e){var r=e.x,i=e.y,a=e.width,s=e.height;n.x=r,n.y=i,n.width=a,n.height=s;var o=t&&t.lineWidth;return o&&(n.x=Rp(r,o,!0),n.y=Rp(i,o,!0),n.width=Math.max(Rp(r+a,o,!1)-n.x,a===0?0:1),n.height=Math.max(Rp(i+s,o,!1)-n.y,s===0?0:1)),n}}function Rp(n,e,t){if(!e)return n;var r=mv(n*2);return(r+mv(e))%2===0?r/2:(r+(t?1:-1))/2}var ANe=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),ENe={},aJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new ANe},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=iJ(ENe,r,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,s=r.width,o=r.height;r.r?TNe(t,r):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(xi);aJ.prototype.type="rect";const Ea=aJ;var oz={fill:"#000"},lz=2,INe={style:fi({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},VT.style)},sJ=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=oz,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,LNe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new ei(0,0,0,0),r=this._children,i=[],a=null,s=0;s<r.length;s++){var o=r[s],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(t.copy(l),t.applyTransform(c),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||oz},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,a=t.rich||i&&{};return cn(t,r),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,r){for(var i=Ni(r),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},cn(t[s],r[s])}},e.prototype.getAnimationStyleProps=function(){return INe},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||om,i=t.padding,a=mz(t),s=K8e(a,t),o=wE(t),l=!!t.backgroundColor,c=s.outerHeight,u=s.outerWidth,d=s.contentWidth,f=s.lines,h=s.lineHeight,p=this._defaultStyle,m=t.x||0,v=t.y||0,g=t.align||p.align||"left",y=t.verticalAlign||p.verticalAlign||"top",b=m,_=tv(v,s.contentHeight,y);if(o||i){var x=S1(m,u,g),S=tv(v,c,y);o&&this._renderBackground(t,t,x,S,u,c)}_+=h/2,i&&(b=pz(m,g,i),y==="top"?_+=i[0]:y==="bottom"&&(_-=i[2]));for(var T=0,C=!1,M=hz("fill"in t?t.fill:(C=!0,p.fill)),A=fz("stroke"in t?t.stroke:!l&&(!p.autoStroke||C)?(T=lz,p.stroke):null),I=t.textShadowBlur>0,D=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),L=s.calculatedLineHeight,F=0;F<f.length;F++){var B=this._getOrCreateChild(HR),k=B.createStyle();B.useStyle(k),k.text=f[F],k.x=b,k.y=_,g&&(k.textAlign=g),k.textBaseline="middle",k.opacity=t.opacity,k.strokeFirst=!0,I&&(k.shadowBlur=t.textShadowBlur||0,k.shadowColor=t.textShadowColor||"transparent",k.shadowOffsetX=t.textShadowOffsetX||0,k.shadowOffsetY=t.textShadowOffsetY||0),k.stroke=A,k.fill=M,A&&(k.lineWidth=t.lineWidth||T,k.lineDash=t.lineDash,k.lineDashOffset=t.lineDashOffset||0),k.font=r,uz(k,t),_+=h,D&&B.setBoundingRect(new ei(S1(k.x,t.width,k.textAlign),tv(k.y,L,k.textBaseline),d,L))}},e.prototype._updateRichTexts=function(){var t=this.style,r=mz(t),i=j8e(r,t),a=i.width,s=i.outerWidth,o=i.outerHeight,l=t.padding,c=t.x||0,u=t.y||0,d=this._defaultStyle,f=t.align||d.align,h=t.verticalAlign||d.verticalAlign,p=S1(c,s,f),m=tv(u,o,h),v=p,g=m;l&&(v+=l[3],g+=l[0]);var y=v+a;wE(t)&&this._renderBackground(t,t,p,m,s,o);for(var b=!!t.backgroundColor,_=0;_<i.lines.length;_++){for(var x=i.lines[_],S=x.tokens,T=S.length,C=x.lineHeight,M=x.width,A=0,I=v,D=y,L=T-1,F=void 0;A<T&&(F=S[A],!F.align||F.align==="left");)this._placeToken(F,t,C,g,I,"left",b),M-=F.width,I+=F.width,A++;for(;L>=0&&(F=S[L],F.align==="right");)this._placeToken(F,t,C,g,D,"right",b),M-=F.width,D-=F.width,L--;for(I+=(a-(I-v)-(y-D)-M)/2;A<=L;)F=S[A],this._placeToken(F,t,C,g,I+F.width/2,"center",b),I+=F.width,A++;g+=C}},e.prototype._placeToken=function(t,r,i,a,s,o,l){var c=r.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,d=a+i/2;u==="top"?d=a+t.height/2:u==="bottom"&&(d=a+i-t.height/2);var f=!t.isLineHolder&&wE(c);f&&this._renderBackground(c,r,o==="right"?s-t.width:o==="center"?s-t.width/2:s,d-t.height/2,t.width,t.height);var h=!!c.backgroundColor,p=t.textPadding;p&&(s=pz(s,o,p),d-=t.height/2-p[0]-t.innerHeight/2);var m=this._getOrCreateChild(HR),v=m.createStyle();m.useStyle(v);var g=this._defaultStyle,y=!1,b=0,_=hz("fill"in c?c.fill:"fill"in r?r.fill:(y=!0,g.fill)),x=fz("stroke"in c?c.stroke:"stroke"in r?r.stroke:!h&&!l&&(!g.autoStroke||y)?(b=lz,g.stroke):null),S=c.textShadowBlur>0||r.textShadowBlur>0;v.text=t.text,v.x=s,v.y=d,S&&(v.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,v.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",v.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,v.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),v.textAlign=o,v.textBaseline="middle",v.font=t.font||om,v.opacity=W1(c.opacity,r.opacity,1),uz(v,c),x&&(v.lineWidth=W1(c.lineWidth,r.lineWidth,b),v.lineDash=Zr(c.lineDash,r.lineDash),v.lineDashOffset=r.lineDashOffset||0,v.stroke=x),_&&(v.fill=_);var T=t.contentWidth,C=t.contentHeight;m.setBoundingRect(new ei(S1(v.x,T,v.textAlign),tv(v.y,C,v.textBaseline),T,C))},e.prototype._renderBackground=function(t,r,i,a,s,o){var l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,d=l&&l.image,f=l&&!d,h=t.borderRadius,p=this,m,v;if(f||t.lineHeight||c&&u){m=this._getOrCreateChild(Ea),m.useStyle(m.createStyle()),m.style.fill=null;var g=m.shape;g.x=i,g.y=a,g.width=s,g.height=o,g.r=h,m.dirtyShape()}if(f){var y=m.style;y.fill=l||null,y.fillOpacity=Zr(t.fillOpacity,1)}else if(d){v=this._getOrCreateChild(Tm),v.onload=function(){p.dirtyStyle()};var b=v.style;b.image=l.image,b.x=i,b.y=a,b.width=s,b.height=o}if(c&&u){var y=m.style;y.lineWidth=c,y.stroke=u,y.strokeOpacity=Zr(t.strokeOpacity,1),y.lineDash=t.borderDash,y.lineDashOffset=t.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var _=(m||v).style;_.shadowBlur=t.shadowBlur||0,_.shadowColor=t.shadowColor||"transparent",_.shadowOffsetX=t.shadowOffsetX||0,_.shadowOffsetY=t.shadowOffsetY||0,_.opacity=W1(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return kNe(t)&&(r=[t.fontStyle,t.fontWeight,DNe(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&qc(r)||t.textFont||t.font},e}(lw),RNe={left:!0,right:1,center:1},PNe={top:1,bottom:1,middle:1},cz=["fontStyle","fontWeight","fontSize","fontFamily"];function DNe(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?r6+"px":n+"px"}function uz(n,e){for(var t=0;t<cz.length;t++){var r=cz[t],i=e[r];i!=null&&(n[r]=i)}}function kNe(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function LNe(n){return dz(n),ut(n.rich,dz),n}function dz(n){if(n){n.font=sJ.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||RNe[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||PNe[t]?t:"top";var r=n.padding;r&&(n.padding=dQ(n.padding))}}function fz(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function hz(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function pz(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function mz(n){var e=n.text;return e!=null&&(e+=""),e}function wE(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const Ys=sJ;var Ai=da(),NNe=function(n,e,t,r){if(r){var i=Ai(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,r.type==="group"&&r.traverse(function(a){var s=Ai(a);s.seriesIndex=n,s.dataIndex=t,s.dataType=e})}},vz=1,gz={},oJ=da(),_6=da(),w6=0,cw=1,$T=2,su=["emphasis","blur","select"],YC=["normal","emphasis","blur","select"],ONe=10,BNe=9,Kp="highlight",N2="downplay",j1="select",O2="unselect",Z1="toggleSelect";function e0(n){return n!=null&&n!=="none"}var yz=new iw(100);function bz(n){if(Jn(n)){var e=yz.get(n);return e||(e=z9(n,-.1),yz.put(n,e)),e}else if(OT(n)){var t=cn({},n);return t.colorStops=dr(n.colorStops,function(r){return{offset:r.offset,color:z9(r.color,-.1)}}),t}return n}function GT(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function lJ(n){GT(n,"emphasis",$T)}function cJ(n){n.hoverState===$T&&GT(n,"normal",w6)}function x6(n){GT(n,"blur",cw)}function uJ(n){n.hoverState===cw&&GT(n,"normal",w6)}function FNe(n){n.selected=!0}function zNe(n){n.selected=!1}function _z(n,e,t){e(n,t)}function Md(n,e,t){_z(n,e,t),n.isGroup&&n.traverse(function(r){_z(r,e,t)})}function UNe(n,e){switch(e){case"emphasis":n.hoverState=$T;break;case"normal":n.hoverState=w6;break;case"blur":n.hoverState=cw;break;case"select":n.selected=!0}}function HNe(n,e,t,r){for(var i=n.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(r&&r[o])}for(var s=0;s<n.animators.length;s++){var c=n.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&c.targetName==="style"&&c.saveTo(a,e)}return a}function VNe(n,e,t,r){var i=t&&wi(t,"select")>=0,a=!1;if(n instanceof xi){var s=oJ(n),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(e0(o)||e0(l)){r=r||{};var c=r.style||{};c.fill==="inherit"?(a=!0,r=cn({},r),c=cn({},c),c.fill=o):!e0(c.fill)&&e0(o)?(a=!0,r=cn({},r),c=cn({},c),c.fill=bz(o)):!e0(c.stroke)&&e0(l)&&(a||(r=cn({},r),c=cn({},c)),c.stroke=bz(l)),r.style=c}}if(r&&r.z2==null){a||(r=cn({},r));var u=n.z2EmphasisLift;r.z2=n.z2+(u??ONe)}return r}function $Ne(n,e,t){if(t&&t.z2==null){t=cn({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??BNe)}return t}function GNe(n,e,t){var r=wi(n.currentStates,e)>=0,i=n.style.opacity,a=r?null:HNe(n,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=cn({},t),s=cn({opacity:r?i:a.opacity*.1},s),t.style=s),t}function xE(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return VNe(this,n,e,t);if(n==="blur")return GNe(this,n,t);if(n==="select")return $Ne(this,n,t)}return t}function dJ(n){n.stateProxy=xE;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=xE),t&&(t.stateProxy=xE)}function wz(n,e){!mJ(n,e)&&!n.__highByOuter&&Md(n,lJ)}function xz(n,e){!mJ(n,e)&&!n.__highByOuter&&Md(n,cJ)}function XC(n,e){n.__highByOuter|=1<<(e||0),Md(n,lJ)}function jC(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Md(n,cJ)}function WNe(n){Md(n,x6)}function fJ(n){Md(n,uJ)}function hJ(n){Md(n,FNe)}function pJ(n){Md(n,zNe)}function mJ(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function vJ(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,a){var s=_6(a),o=i==="series",l=o?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!o&&r.push(l),s.isBlured&&(l.group.traverse(function(c){uJ(c)}),o&&t.push(a)),s.isBlured=!1}),ut(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function VR(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function a(c,u){for(var d=0;d<u.length;d++){var f=c.getItemGraphicEl(u[d]);f&&fJ(f)}}if(n!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(n),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(c){var u=s===c,d=c.coordinateSystem;d&&d.master&&(d=d.master);var f=d&&o?d===o:u;if(!(t==="series"&&!u||t==="coordinateSystem"&&!f||e==="series"&&u)){var h=r.getViewOfSeriesModel(c);if(h.group.traverse(function(v){v.__highByOuter&&u&&e==="self"||x6(v)}),yo(e))a(c.getData(),e);else if(or(e))for(var p=Ni(e),m=0;m<p.length;m++)a(c.getData(p[m]),e[p[m]]);l.push(c),_6(c).isBlured=!0}}),i.eachComponent(function(c,u){if(c!=="series"){var d=r.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,i)}})}}function $R(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){_6(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){x6(a)})}}}function qNe(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var a=sw(i,e);a=(Ln(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var c=Ai(s);VR(r,c.focus,c.blurScope,t)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);u!=null&&VR(r,u,d,t)}}}function S6(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var a=r.getModel().getComponent(n,e);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,c=0;c<o.length;c++)if(Ai(o[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function KNe(n,e,t){var r=Ai(n),i=S6(r.componentMainType,r.componentIndex,r.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&$R(r.componentMainType,r.componentIndex,t),ut(a,function(o){return wz(o,e)})):(VR(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&$R(r.componentMainType,r.componentIndex,t),wz(n,e))}function YNe(n,e,t){vJ(t);var r=Ai(n),i=S6(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?ut(i,function(a){return xz(a,e)}):xz(n,e)}function XNe(n,e,t){if(qR(e)){var r=e.dataType,i=n.getData(r),a=sw(i,e);Ln(a)||(a=[a]),n[e.type===Z1?"toggleSelect":e.type===j1?"select":"unselect"](a,r)}}function Sz(n){var e=n.getAllData();ut(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(a,s){n.isSelected(s,i)?hJ(a):pJ(a)})})}function jNe(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();ut(r,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function GR(n,e,t){gJ(n,!0),Md(n,dJ),QNe(n,e,t)}function ZNe(n){gJ(n,!1)}function C6(n,e,t,r){r?ZNe(n):GR(n,e,t)}function QNe(n,e,t){var r=Ai(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var Cz=["emphasis","blur","select"],JNe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function M6(n,e,t,r){t=t||"itemStyle";for(var i=0;i<Cz.length;i++){var a=Cz[i],s=e.getModel([a,t]),o=n.ensureState(a);o.style=r?r(s):s[JNe[t]]()}}function gJ(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function WR(n){return!!(n&&n.__highDownDispatcher)}function eOe(n){var e=gz[n];return e==null&&vz<=32&&(e=gz[n]=vz++),e}function qR(n){var e=n.type;return e===j1||e===O2||e===Z1}function Mz(n){var e=n.type;return e===Kp||e===N2}function tOe(n){var e=oJ(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var t0=lm.CMD,nOe=[[],[],[]],Tz=Math.sqrt,rOe=Math.atan2;function iOe(n,e){if(e){var t=n.data,r=n.len(),i,a,s,o,l,c,u=t0.M,d=t0.C,f=t0.L,h=t0.R,p=t0.A,m=t0.Q;for(s=0,o=0;s<r;){switch(i=t[s++],o=s,a=0,i){case u:a=1;break;case f:a=1;break;case d:a=3;break;case m:a=2;break;case p:var v=e[4],g=e[5],y=Tz(e[0]*e[0]+e[1]*e[1]),b=Tz(e[2]*e[2]+e[3]*e[3]),_=rOe(-e[1]/b,e[0]/y);t[s]*=y,t[s++]+=v,t[s]*=b,t[s++]+=g,t[s++]*=y,t[s++]*=b,t[s++]+=_,t[s++]+=_,s+=2,o=s;break;case h:c[0]=t[s++],c[1]=t[s++],$s(c,c,e),t[o++]=c[0],t[o++]=c[1],c[0]+=t[s++],c[1]+=t[s++],$s(c,c,e),t[o++]=c[0],t[o++]=c[1]}for(l=0;l<a;l++){var x=nOe[l];x[0]=t[s++],x[1]=t[s++],$s(x,x,e),t[o++]=x[0],t[o++]=x[1]}}n.increaseVersion()}}var SE=Math.sqrt,mx=Math.sin,vx=Math.cos,zy=Math.PI;function Az(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function KR(n,e){return(n[0]*e[0]+n[1]*e[1])/(Az(n)*Az(e))}function Ez(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(KR(n,e))}function Iz(n,e,t,r,i,a,s,o,l,c,u){var d=l*(zy/180),f=vx(d)*(n-t)/2+mx(d)*(e-r)/2,h=-1*mx(d)*(n-t)/2+vx(d)*(e-r)/2,p=f*f/(s*s)+h*h/(o*o);p>1&&(s*=SE(p),o*=SE(p));var m=(i===a?-1:1)*SE((s*s*(o*o)-s*s*(h*h)-o*o*(f*f))/(s*s*(h*h)+o*o*(f*f)))||0,v=m*s*h/o,g=m*-o*f/s,y=(n+t)/2+vx(d)*v-mx(d)*g,b=(e+r)/2+mx(d)*v+vx(d)*g,_=Ez([1,0],[(f-v)/s,(h-g)/o]),x=[(f-v)/s,(h-g)/o],S=[(-1*f-v)/s,(-1*h-g)/o],T=Ez(x,S);if(KR(x,S)<=-1&&(T=zy),KR(x,S)>=1&&(T=0),T<0){var C=Math.round(T/zy*1e6)/1e6;T=zy*2+C%2*zy}u.addData(c,y,b,s,o,_,T,d,a)}var aOe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,sOe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function oOe(n){var e=new lm;if(!n)return e;var t=0,r=0,i=t,a=r,s,o=lm.CMD,l=n.match(aOe);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),f=void 0,h=u.match(sOe)||[],p=h.length,m=0;m<p;m++)h[m]=parseFloat(h[m]);for(var v=0;v<p;){var g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,S=void 0,T=void 0,C=t,M=r,A=void 0,I=void 0;switch(d){case"l":t+=h[v++],r+=h[v++],f=o.L,e.addData(f,t,r);break;case"L":t=h[v++],r=h[v++],f=o.L,e.addData(f,t,r);break;case"m":t+=h[v++],r+=h[v++],f=o.M,e.addData(f,t,r),i=t,a=r,d="l";break;case"M":t=h[v++],r=h[v++],f=o.M,e.addData(f,t,r),i=t,a=r,d="L";break;case"h":t+=h[v++],f=o.L,e.addData(f,t,r);break;case"H":t=h[v++],f=o.L,e.addData(f,t,r);break;case"v":r+=h[v++],f=o.L,e.addData(f,t,r);break;case"V":r=h[v++],f=o.L,e.addData(f,t,r);break;case"C":f=o.C,e.addData(f,h[v++],h[v++],h[v++],h[v++],h[v++],h[v++]),t=h[v-2],r=h[v-1];break;case"c":f=o.C,e.addData(f,h[v++]+t,h[v++]+r,h[v++]+t,h[v++]+r,h[v++]+t,h[v++]+r),t+=h[v-2],r+=h[v-1];break;case"S":g=t,y=r,A=e.len(),I=e.data,s===o.C&&(g+=t-I[A-4],y+=r-I[A-3]),f=o.C,C=h[v++],M=h[v++],t=h[v++],r=h[v++],e.addData(f,g,y,C,M,t,r);break;case"s":g=t,y=r,A=e.len(),I=e.data,s===o.C&&(g+=t-I[A-4],y+=r-I[A-3]),f=o.C,C=t+h[v++],M=r+h[v++],t+=h[v++],r+=h[v++],e.addData(f,g,y,C,M,t,r);break;case"Q":C=h[v++],M=h[v++],t=h[v++],r=h[v++],f=o.Q,e.addData(f,C,M,t,r);break;case"q":C=h[v++]+t,M=h[v++]+r,t+=h[v++],r+=h[v++],f=o.Q,e.addData(f,C,M,t,r);break;case"T":g=t,y=r,A=e.len(),I=e.data,s===o.Q&&(g+=t-I[A-4],y+=r-I[A-3]),t=h[v++],r=h[v++],f=o.Q,e.addData(f,g,y,t,r);break;case"t":g=t,y=r,A=e.len(),I=e.data,s===o.Q&&(g+=t-I[A-4],y+=r-I[A-3]),t+=h[v++],r+=h[v++],f=o.Q,e.addData(f,g,y,t,r);break;case"A":b=h[v++],_=h[v++],x=h[v++],S=h[v++],T=h[v++],C=t,M=r,t=h[v++],r=h[v++],f=o.A,Iz(C,M,t,r,S,T,b,_,x,f,e);break;case"a":b=h[v++],_=h[v++],x=h[v++],S=h[v++],T=h[v++],C=t,M=r,t+=h[v++],r+=h[v++],f=o.A,Iz(C,M,t,r,S,T,b,_,x,f,e);break}}(d==="z"||d==="Z")&&(f=o.Z,e.addData(f),t=i,r=a),s=f}return e.toStatic(),e}var yJ=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(xi);function bJ(n){return n.setData!=null}function _J(n,e){var t=oOe(n),r=cn({},e);return r.buildPath=function(i){if(bJ(i)){i.setData(t.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;t.rebuildPath(a,1)}},r.applyTransform=function(i){iOe(t,i),this.dirtyShape()},r}function lOe(n,e){return new yJ(_J(n,e))}function cOe(n,e){var t=_J(n,e),r=function(i){Tn(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a}(yJ);return r}function uOe(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var a=n[i];t.push(a.getUpdatedPathProxy(!0))}var s=new xi(e);return s.createPathProxy(),s.buildPath=function(o){if(bJ(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}var dOe=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),wJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new dOe},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(xi);wJ.prototype.type="circle";const T6=wJ;var fOe=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),xJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new fOe},e.prototype.buildPath=function(t,r){var i=.5522848,a=r.cx,s=r.cy,o=r.rx,l=r.ry,c=o*i,u=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-u,a-c,s-l,a,s-l),t.bezierCurveTo(a+c,s-l,a+o,s-u,a+o,s),t.bezierCurveTo(a+o,s+u,a+c,s+l,a,s+l),t.bezierCurveTo(a-c,s+l,a-o,s+u,a-o,s),t.closePath()},e}(xi);xJ.prototype.type="ellipse";const SJ=xJ;var CJ=Math.PI,CE=CJ*2,Hh=Math.sin,n0=Math.cos,hOe=Math.acos,os=Math.atan2,Rz=Math.abs,Q1=Math.sqrt,C1=Math.max,Nc=Math.min,Ql=1e-4;function pOe(n,e,t,r,i,a,s,o){var l=t-n,c=r-e,u=s-i,d=o-a,f=d*l-u*c;if(!(f*f<Ql))return f=(u*(e-a)-d*(n-i))/f,[n+f*l,e+f*c]}function gx(n,e,t,r,i,a,s){var o=n-t,l=e-r,c=(s?a:-a)/Q1(o*o+l*l),u=c*l,d=-c*o,f=n+u,h=e+d,p=t+u,m=r+d,v=(f+p)/2,g=(h+m)/2,y=p-f,b=m-h,_=y*y+b*b,x=i-a,S=f*m-p*h,T=(b<0?-1:1)*Q1(C1(0,x*x*_-S*S)),C=(S*b-y*T)/_,M=(-S*y-b*T)/_,A=(S*b+y*T)/_,I=(-S*y+b*T)/_,D=C-v,L=M-g,F=A-v,B=I-g;return D*D+L*L>F*F+B*B&&(C=A,M=I),{cx:C,cy:M,x0:-u,y0:-d,x1:C*(i/x-1),y1:M*(i/x-1)}}function mOe(n){var e;if(Ln(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function vOe(n,e){var t,r=C1(e.r,0),i=C1(e.r0||0,0),a=r>0,s=i>0;if(!(!a&&!s)){if(a||(r=i,i=0),i>r){var o=r;r=i,i=o}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,d=e.cy,f=!!e.clockwise,h=Rz(c-l),p=h>CE&&h%CE;if(p>Ql&&(h=p),!(r>Ql))n.moveTo(u,d);else if(h>CE-Ql)n.moveTo(u+r*n0(l),d+r*Hh(l)),n.arc(u,d,r,l,c,!f),i>Ql&&(n.moveTo(u+i*n0(c),d+i*Hh(c)),n.arc(u,d,i,c,l,f));else{var m=void 0,v=void 0,g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,S=void 0,T=void 0,C=void 0,M=void 0,A=void 0,I=void 0,D=void 0,L=void 0,F=void 0,B=r*n0(l),k=r*Hh(l),H=i*n0(c),z=i*Hh(c),O=h>Ql;if(O){var G=e.cornerRadius;G&&(t=mOe(G),m=t[0],v=t[1],g=t[2],y=t[3]);var X=Rz(r-i)/2;if(b=Nc(X,g),_=Nc(X,y),x=Nc(X,m),S=Nc(X,v),M=T=C1(b,_),A=C=C1(x,S),(T>Ql||C>Ql)&&(I=r*n0(c),D=r*Hh(c),L=i*n0(l),F=i*Hh(l),h<CJ)){var J=pOe(B,k,L,F,I,D,H,z);if(J){var Q=B-J[0],re=k-J[1],de=I-J[0],le=D-J[1],fe=1/Hh(hOe((Q*de+re*le)/(Q1(Q*Q+re*re)*Q1(de*de+le*le)))/2),Ee=Q1(J[0]*J[0]+J[1]*J[1]);M=Nc(T,(r-Ee)/(fe+1)),A=Nc(C,(i-Ee)/(fe-1))}}}if(!O)n.moveTo(u+B,d+k);else if(M>Ql){var Re=Nc(g,M),He=Nc(y,M),$e=gx(L,F,B,k,r,Re,f),K=gx(I,D,H,z,r,He,f);n.moveTo(u+$e.cx+$e.x0,d+$e.cy+$e.y0),M<T&&Re===He?n.arc(u+$e.cx,d+$e.cy,M,os($e.y0,$e.x0),os(K.y0,K.x0),!f):(Re>0&&n.arc(u+$e.cx,d+$e.cy,Re,os($e.y0,$e.x0),os($e.y1,$e.x1),!f),n.arc(u,d,r,os($e.cy+$e.y1,$e.cx+$e.x1),os(K.cy+K.y1,K.cx+K.x1),!f),He>0&&n.arc(u+K.cx,d+K.cy,He,os(K.y1,K.x1),os(K.y0,K.x0),!f))}else n.moveTo(u+B,d+k),n.arc(u,d,r,l,c,!f);if(!(i>Ql)||!O)n.lineTo(u+H,d+z);else if(A>Ql){var Re=Nc(m,A),He=Nc(v,A),$e=gx(H,z,I,D,i,-He,f),K=gx(B,k,L,F,i,-Re,f);n.lineTo(u+$e.cx+$e.x0,d+$e.cy+$e.y0),A<C&&Re===He?n.arc(u+$e.cx,d+$e.cy,A,os($e.y0,$e.x0),os(K.y0,K.x0),!f):(He>0&&n.arc(u+$e.cx,d+$e.cy,He,os($e.y0,$e.x0),os($e.y1,$e.x1),!f),n.arc(u,d,i,os($e.cy+$e.y1,$e.cx+$e.x1),os(K.cy+K.y1,K.cx+K.x1),f),Re>0&&n.arc(u+K.cx,d+K.cy,Re,os(K.y1,K.x1),os(K.y0,K.x0),!f))}else n.lineTo(u+H,d+z),n.arc(u,d,i,c,l,f)}n.closePath()}}}var gOe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),MJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new gOe},e.prototype.buildPath=function(t,r){vOe(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(xi);MJ.prototype.type="sector";const Am=MJ;var yOe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),TJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new yOe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.PI*2;t.moveTo(i+r.r,a),t.arc(i,a,r.r,0,s,!1),t.moveTo(i+r.r0,a),t.arc(i,a,r.r0,0,s,!0)},e}(xi);TJ.prototype.type="ring";const AJ=TJ;function bOe(n,e,t,r){var i=[],a=[],s=[],o=[],l,c,u,d;if(r){u=[1/0,1/0],d=[-1/0,-1/0];for(var f=0,h=n.length;f<h;f++)fv(u,u,n[f]),hv(d,d,n[f]);fv(u,u,r[0]),hv(d,d,r[1])}for(var f=0,h=n.length;f<h;f++){var p=n[f];if(t)l=n[f?f-1:h-1],c=n[(f+1)%h];else if(f===0||f===h-1){i.push(VLe(n[f]));continue}else l=n[f-1],c=n[f+1];$Le(a,c,l),H3(a,a,e);var m=_R(p,l),v=_R(p,c),g=m+v;g!==0&&(m/=g,v/=g),H3(s,a,-m),H3(o,a,v);var y=x9([],p,s),b=x9([],p,o);r&&(hv(y,y,u),fv(y,y,d),hv(b,b,u),fv(b,b,d)),i.push(y),i.push(b)}return t&&i.push(i.shift()),i}function EJ(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=bOe(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],c=a[o*2+1],u=i[(o+1)%s];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var o=1,d=i.length;o<d;o++)n.lineTo(i[o][0],i[o][1])}t&&n.closePath()}}var _Oe=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),IJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new _Oe},e.prototype.buildPath=function(t,r){EJ(t,r,!0)},e}(xi);IJ.prototype.type="polygon";const RJ=IJ;var wOe=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),PJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new wOe},e.prototype.buildPath=function(t,r){EJ(t,r,!1)},e}(xi);PJ.prototype.type="polyline";const WT=PJ;var xOe={},SOe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),DJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new SOe},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=rJ(xOe,r,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=r.x1,a=r.y1,s=r.x2,o=r.y2;var c=r.percent;c!==0&&(t.moveTo(i,a),c<1&&(s=i*(1-c)+s*c,o=a*(1-c)+o*c),t.lineTo(s,o))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e}(xi);DJ.prototype.type="line";const cm=DJ;var eo=[],COe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function Pz(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?L9:Ya)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?L9:Ya)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?N9:vs)(n.x1,n.cpx1,n.x2,e),(t?N9:vs)(n.y1,n.cpy1,n.y2,e)]}var kJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new COe},e.prototype.buildPath=function(t,r){var i=r.x1,a=r.y1,s=r.x2,o=r.y2,l=r.cpx1,c=r.cpy1,u=r.cpx2,d=r.cpy2,f=r.percent;f!==0&&(t.moveTo(i,a),u==null||d==null?(f<1&&(VC(i,l,s,f,eo),l=eo[1],s=eo[2],VC(a,c,o,f,eo),c=eo[1],o=eo[2]),t.quadraticCurveTo(l,c,s,o)):(f<1&&(HC(i,l,u,s,f,eo),l=eo[1],u=eo[2],s=eo[3],HC(a,c,d,o,f,eo),c=eo[1],d=eo[2],o=eo[3]),t.bezierCurveTo(l,c,u,d,s,o)))},e.prototype.pointAt=function(t){return Pz(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=Pz(this.shape,t,!0);return qLe(r,r)},e}(xi);kJ.prototype.type="bezier-curve";const A6=kJ;var MOe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),LJ=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new MOe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.max(r.r,0),o=r.startAngle,l=r.endAngle,c=r.clockwise,u=Math.cos(o),d=Math.sin(o);t.moveTo(u*s+i,d*s+a),t.arc(i,a,s,o,l,!c)},e}(xi);LJ.prototype.type="arc";const E6=LJ;var TOe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),xi.prototype.getBoundingRect.call(this)},e}(xi);const AOe=TOe;var EOe=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const NJ=EOe;var IOe=function(n){Tn(e,n);function e(t,r,i,a,s,o){var l=n.call(this,s)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e}(NJ);const ROe=IOe;var POe=function(n){Tn(e,n);function e(t,r,i,a,s){var o=n.call(this,a)||this;return o.x=t??.5,o.y=r??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e}(NJ);const DOe=POe;var Vh=[0,0],$h=[0,0],yx=new pr,bx=new pr,kOe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new pr;for(var r=0;r<2;r++)this._axes[r]=new pr;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(r[0].set(a,s),r[1].set(o,s),r[2].set(o,l),r[3].set(a,l),t)for(var c=0;c<4;c++)r[c].transform(t);pr.sub(i[0],r[1],r[0]),pr.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,i=!t;return yx.set(1/0,1/0),bx.set(0,0),!this._intersectCheckOneSide(this,e,yx,bx,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,yx,bx,i,-1)&&(r=!1,i)||i||pr.copy(t,r?yx:bx),r},n.prototype._intersectCheckOneSide=function(e,t,r,i,a,s){for(var o=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,Vh),this._getProjMinMaxOnAxis(l,t._corners,$h),Vh[1]<$h[0]||Vh[0]>$h[1]){if(o=!1,a)return o;var u=Math.abs($h[0]-Vh[1]),d=Math.abs(Vh[0]-$h[1]);Math.min(u,d)>i.len()&&(u<d?pr.scale(i,c,-u*s):pr.scale(i,c,d*s))}else if(r){var u=Math.abs($h[0]-Vh[1]),d=Math.abs(Vh[0]-$h[1]);Math.min(u,d)<r.len()&&(u<d?pr.scale(r,c,u*s):pr.scale(r,c,-d*s))}}return o},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,c=1;c<t.length;c++){var u=t[c].dot(i)+a[e];o=Math.min(u,o),l=Math.max(u,l)}r[0]=o,r[1]=l},n}();const ZC=kOe;var LOe=[],NOe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new ei(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(LOe)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,r))return!0}return!1},e}(lw);const OOe=NOe;var BOe=da();function FOe(n,e,t,r,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=n==="update";if(o){var c=void 0,u=void 0,d=void 0;r?(c=Zr(r.duration,200),u=Zr(r.easing,"cubicOut"),d=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(c=a.duration),a.easing!=null&&(u=a.easing),a.delay!=null&&(d=a.delay)),Ar(d)&&(d=d(t,i)),Ar(c)&&(c=c(t));var f={duration:c||0,delay:d,easing:u};return f}else return null}function I6(n,e,t,r,i,a,s){var o=!1,l;Ar(i)?(s=a,a=i,i=null):or(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=n==="leave";c||e.stopAnimation("leave");var u=FOe(n,r,i,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(u&&u.duration>0){var d=u.duration,f=u.delay,h=u.easing,p={duration:d,delay:f||0,easing:h,done:a,force:!!a||!!s,setToFinal:!c,scope:n,during:s};o?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function Xs(n,e,t,r,i,a){I6("update",n,e,t,r,i,a)}function pc(n,e,t,r,i,a){I6("enter",n,e,t,r,i,a)}function J1(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function um(n,e,t,r,i,a){J1(n)||I6("leave",n,e,t,r,i,a)}function Dz(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),um(n,{style:{opacity:0}},e,t,r)}function QC(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||Dz(i,e,t,r)}):Dz(n,e,t,r)}function R6(n){BOe(n).oldStyle=n.style}var JC=Math.max,eM=Math.min,YR={};function zOe(n){return xi.extend(n)}var UOe=cOe;function HOe(n,e){return UOe(n,e)}function Cc(n,e){YR[n]=e}function VOe(n){if(YR.hasOwnProperty(n))return YR[n]}function P6(n,e,t,r){var i=lOe(n,e);return t&&(r==="center"&&(t=BJ(t,i.getBoundingRect())),FJ(i,t)),i}function OJ(n,e,t){var r=new Tm({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};r.setStyle(BJ(e,a))}}});return r}function BJ(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var a=n.x+n.width/2,s=n.y+n.height/2;return{x:a-r/2,y:s-i/2,width:r,height:i}}var $Oe=uOe;function FJ(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function a_(n,e){return rJ(n,n,{lineWidth:e}),n}function GOe(n){return iJ(n.shape,n.shape,n.style),n}var WOe=Rp;function qOe(n,e){for(var t=c6([]);n&&n!==e;)Nv(t,n.getLocalTransform(),t),n=n.parent;return t}function D6(n,e,t){return e&&!yo(e)&&(e=Ip.getLocalTransform(e)),t&&(e=zT([],e)),$s([],n,e)}function KOe(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return a=D6(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function kz(n){return!n.isGroup}function YOe(n){return n.shape!=null}function zJ(n,e,t){if(!n||!e)return;function r(s){var o={};return s.traverse(function(l){kz(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return YOe(s)&&(o.shape=cn({},s.shape)),o}var a=r(n);e.traverse(function(s){if(kz(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),Xs(s,l,t,Ai(s).dataIndex)}}})}function XOe(n,e){return dr(n,function(t){var r=t[0];r=JC(r,e.x),r=eM(r,e.x+e.width);var i=t[1];return i=JC(i,e.y),i=eM(i,e.y+e.height),[r,i]})}function jOe(n,e){var t=JC(n.x,e.x),r=eM(n.x+n.width,e.x+e.width),i=JC(n.y,e.y),a=eM(n.y+n.height,e.y+e.height);if(r>=t&&a>=i)return{x:t,y:i,width:r-t,height:a-i}}function k6(n,e,t){var r=cn({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),fi(i,t),new Tm(r)):P6(n.replace("path://",""),r,t,"center")}function ZOe(n,e,t,r,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(UJ(n,e,t,r,o[0],o[1],s[0],s[1]))return!0;s=o}}function UJ(n,e,t,r,i,a,s,o){var l=t-n,c=r-e,u=s-i,d=o-a,f=ME(u,d,l,c);if(QOe(f))return!1;var h=n-i,p=e-a,m=ME(h,p,l,c)/f;if(m<0||m>1)return!1;var v=ME(h,p,u,d)/f;return!(v<0||v>1)}function ME(n,e,t,r){return n*r-t*e}function QOe(n){return n<=1e-6&&n>=-1e-6}function L6(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=Jn(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:r,$vars:["name"]};o[a+"Index"]=s;var l=n.formatterParamsExtra;l&&ut(Ni(l),function(u){hg(o,u)||(o[u]=l[u],o.$vars.push(u))});var c=Ai(n.el);c.componentMainType=a,c.componentIndex=s,c.tooltipConfig={name:r,option:fi({content:r,formatterParams:o},i)}}function Lz(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function N6(n,e){if(n)if(Ln(n))for(var t=0;t<n.length;t++)Lz(n[t],e);else Lz(n,e)}Cc("circle",T6);Cc("ellipse",SJ);Cc("sector",Am);Cc("ring",AJ);Cc("polygon",RJ);Cc("polyline",WT);Cc("rect",Ea);Cc("line",cm);Cc("bezierCurve",A6);Cc("arc",E6);const JOe=Object.freeze(Object.defineProperty({__proto__:null,Arc:E6,BezierCurve:A6,BoundingRect:ei,Circle:T6,CompoundPath:AOe,Ellipse:SJ,Group:bo,Image:Tm,IncrementalDisplayable:OOe,Line:cm,LinearGradient:ROe,OrientedBoundingRect:ZC,Path:xi,Point:pr,Polygon:RJ,Polyline:WT,RadialGradient:DOe,Rect:Ea,Ring:AJ,Sector:Am,Text:Ys,applyTransform:D6,clipPointsByRect:XOe,clipRectByRect:jOe,createIcon:k6,extendPath:HOe,extendShape:zOe,getShapeClass:VOe,getTransform:qOe,groupTransition:zJ,initProps:pc,isElementRemoved:J1,lineLineIntersect:UJ,linePolygonIntersect:ZOe,makeImage:OJ,makePath:P6,mergePath:$Oe,registerShape:Cc,removeElement:um,removeElementWithFadeOut:QC,resizePath:FJ,setTooltipConfig:L6,subPixelOptimize:WOe,subPixelOptimizeLine:a_,subPixelOptimizeRect:GOe,transformDirection:KOe,traverseElements:N6,updateProps:Xs},Symbol.toStringTag,{value:"Module"}));var qT={};function eBe(n,e){for(var t=0;t<su.length;t++){var r=su[t],i=e[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(s,!0)}function Nz(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,s=e.normal,o;r&&(o=r.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=Ar(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var l={normal:o},c=0;c<su.length;c++){var u=su[c],d=e[u];l[u]=Zr(r?r.getFormattedLabel(i,u,null,a,d&&d.get("formatter")):null,o)}return l}function KT(n,e,t,r){t=t||qT;for(var i=n instanceof Ys,a=!1,s=0;s<YC.length;s++){var o=e[YC[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?n:n.getTextContent();if(a){i||(l||(l=new Ys,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=Nz(t,e),u=e.normal,d=!!u.getShallow("show"),f=th(u,r&&r.normal,t,!1,!i);f.text=c.normal,i||n.setTextConfig(Oz(u,t,!1));for(var s=0;s<su.length;s++){var h=su[s],o=e[h];if(o){var p=l.ensureState(h),m=!!Zr(o.getShallow("show"),d);if(m!==d&&(p.ignore=!m),p.style=th(o,r&&r[h],t,!0,!i),p.style.text=c[h],!i){var v=n.ensureState(h);v.textConfig=Oz(o,t,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!d,l.useStyle(f),l.dirty(),t.enableTextSetter&&(B6(l).setLabelText=function(g){var y=Nz(t,e,g);eBe(l,y)})}else l&&(l.ignore=!0);n.dirty()}function O6(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<su.length;r++){var i=su[r];t[i]=n.getModel([i,e])}return t}function th(n,e,t,r,i){var a={};return tBe(a,n,t,r,i),e&&cn(a,e),a}function Oz(n,e,t){e=e||{};var r={},i,a=n.getShallow("rotate"),s=Zr(n.getShallow("distance"),t?null:5),o=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),o!=null&&(r.offset=o),a!=null&&(a*=Math.PI/180,r.rotation=a),s!=null&&(r.distance=s),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}function tBe(n,e,t,r,i){t=t||qT;var a=e.ecModel,s=a&&a.option.textStyle,o=nBe(e),l;if(o){l={};for(var c in o)if(o.hasOwnProperty(c)){var u=e.getModel(["rich",c]);Uz(l[c]={},u,s,t,r,i,!1,!0)}}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var f=e.get("minMargin");f!=null&&(n.margin=f),Uz(n,e,s,t,r,i,!0,!1)}function nBe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||qT).rich;if(t){e=e||{};for(var r=Ni(t),i=0;i<r.length;i++){var a=r[i];e[a]=1}}n=n.parentModel}return e}var Bz=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Fz=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],zz=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Uz(n,e,t,r,i,a,s,o){t=!i&&t||qT;var l=r&&r.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),d=Zr(e.getShallow("opacity"),t.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),a||(c=c||t.color,u=u||t.textBorderColor),c!=null&&(n.fill=c),u!=null&&(n.stroke=u);var f=Zr(e.getShallow("textBorderWidth"),t.textBorderWidth);f!=null&&(n.lineWidth=f);var h=Zr(e.getShallow("textBorderType"),t.textBorderType);h!=null&&(n.lineDash=h);var p=Zr(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);p!=null&&(n.lineDashOffset=p),!i&&d==null&&!o&&(d=r&&r.defaultOpacity),d!=null&&(n.opacity=d),!i&&!a&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var m=0;m<Bz.length;m++){var v=Bz[m],g=Zr(e.getShallow(v),t[v]);g!=null&&(n[v]=g)}for(var m=0;m<Fz.length;m++){var v=Fz[m],g=e.getShallow(v);g!=null&&(n[v]=g)}if(n.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(n.verticalAlign=y)}if(!s||!r.disableBox){for(var m=0;m<zz.length;m++){var v=zz[m],g=e.getShallow(v);g!=null&&(n[v]=g)}var b=e.getShallow("borderType");b!=null&&(n.borderDash=b),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function rBe(n,e){var t=e&&e.getModel("textStyle");return qc([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var B6=da();function iBe(n,e,t,r){if(n){var i=B6(n);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}var aBe=["textStyle","color"],TE=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],AE=new Ys,sBe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(aBe):null)},n.prototype.getFont=function(){return rBe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<TE.length;r++)t[TE[r]]=this.getShallow(TE[r]);return AE.useStyle(t),AE.update(),AE.getBoundingRect()},n}();const oBe=sBe;var HJ=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],lBe=i_(HJ),cBe=function(){function n(){}return n.prototype.getLineStyle=function(e){return lBe(this,e)},n}(),VJ=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],uBe=i_(VJ),dBe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return uBe(this,e,t)},n}(),Em=function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){di(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(a,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(jr(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Pr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n}();b6(Em);F8e(Em);mu(Em,cBe);mu(Em,dBe);mu(Em,$8e);mu(Em,oBe);const Za=Em;var fBe=Math.round(Math.random()*10);function YT(n){return[n||"",fBe++].join("_")}function hBe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=Kc(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var a=Kc(t).main;n.hasSubTypes(t)&&e[a]&&(i=e[a](r))}return i}}function pBe(n,e){n.topologicalTravel=function(a,s,o,l){if(!a.length)return;var c=t(s),u=c.graph,d=c.noEntryList,f={};for(ut(a,function(y){f[y]=!0});d.length;){var h=d.pop(),p=u[h],m=!!f[h];m&&(o.call(l,h,p.originalDeps.slice()),delete f[h]),ut(p.successor,m?g:v)}ut(f,function(){var y="";throw new Error(y)});function v(y){u[y].entryCount--,u[y].entryCount===0&&d.push(y)}function g(y){f[y]=!0,v(y)}};function t(a){var s={},o=[];return ut(a,function(l){var c=r(s,l),u=c.originalDeps=e(l),d=i(u,a);c.entryCount=d.length,c.entryCount===0&&o.push(l),ut(d,function(f){wi(c.predecessor,f)<0&&c.predecessor.push(f);var h=r(s,f);wi(h.successor,f)<0&&h.successor.push(l)})}),{graph:s,noEntryList:o}}function r(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return ut(a,function(l){wi(s,l)>=0&&o.push(l)}),o}}function $J(n,e){return di(di({},n,!0),e,!0)}const mBe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},vBe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var tM="ZH",F6="EN",s_=F6,B2={},z6={},GJ=Pr.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(tM)>-1?tM:s_}():s_;function WJ(n,e){n=n.toUpperCase(),z6[n]=new Za(e),B2[n]=e}function gBe(n){if(Jn(n)){var e=B2[n.toUpperCase()]||{};return n===tM||n===F6?jr(e):di(jr(e),jr(B2[s_]),!1)}else return di(jr(n),jr(B2[s_]),!1)}function yBe(n){return z6[n]}function bBe(){return z6[s_]}WJ(F6,mBe);WJ(tM,vBe);var U6=1e3,H6=U6*60,eb=H6*60,pl=eb*24,Hz=pl*365,M1={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},_x="{yyyy}-{MM}-{dd}",Vz={year:"{yyyy}",month:"{yyyy}-{MM}",day:_x,hour:_x+" "+M1.hour,minute:_x+" "+M1.minute,second:_x+" "+M1.second,millisecond:M1.none},EE=["year","month","day","hour","minute","second","millisecond"],qJ=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Fd(n,e){return n+="","0000".substr(0,e-n.length)+n}function Bv(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function _Be(n){return n===Bv(n)}function wBe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function XT(n,e,t,r){var i=ud(n),a=i[V6(t)](),s=i[Fv(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[jT(t)](),c=i["get"+(t?"UTC":"")+"Day"](),u=i[o_(t)](),d=(u-1)%12+1,f=i[ZT(t)](),h=i[QT(t)](),p=i[JT(t)](),m=r instanceof Za?r:yBe(r||GJ)||bBe(),v=m.getModel("time"),g=v.get("month"),y=v.get("monthAbbr"),b=v.get("dayOfWeek"),_=v.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Fd(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,g[s-1]).replace(/{MMM}/g,y[s-1]).replace(/{MM}/g,Fd(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Fd(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,b[c]).replace(/{ee}/g,_[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Fd(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Fd(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Fd(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Fd(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Fd(p,3)).replace(/{S}/g,p+"")}function xBe(n,e,t,r,i){var a=null;if(Jn(t))a=t;else if(Ar(t))a=t(n.value,e,{level:n.level});else{var s=cn({},M1);if(n.level>0)for(var o=0;o<EE.length;++o)s[EE[o]]="{primary|"+s[EE[o]]+"}";var l=t?t.inherit===!1?t:fi(t,s):s,c=KJ(n.value,i);if(l[c])a=l[c];else if(l.inherit){for(var u=qJ.indexOf(c),o=u-1;o>=0;--o)if(l[c]){a=l[c];break}a=a||s.none}if(Ln(a)){var d=n.level==null?0:n.level>=0?n.level:a.length+n.level;d=Math.min(d,a.length-1),a=a[d]}}return XT(new Date(n.value),a,i,r)}function KJ(n,e){var t=ud(n),r=t[Fv(e)]()+1,i=t[jT(e)](),a=t[o_(e)](),s=t[ZT(e)](),o=t[QT(e)](),l=t[JT(e)](),c=l===0,u=c&&o===0,d=u&&s===0,f=d&&a===0,h=f&&i===1,p=h&&r===1;return p?"year":h?"month":f?"day":d?"hour":u?"minute":c?"second":"millisecond"}function $z(n,e,t){var r=$i(n)?ud(n):n;switch(e=e||KJ(n,t),e){case"year":return r[V6(t)]();case"half-year":return r[Fv(t)]()>=6?1:0;case"quarter":return Math.floor((r[Fv(t)]()+1)/4);case"month":return r[Fv(t)]();case"day":return r[jT(t)]();case"half-day":return r[o_(t)]()/24;case"hour":return r[o_(t)]();case"minute":return r[ZT(t)]();case"second":return r[QT(t)]();case"millisecond":return r[JT(t)]()}}function V6(n){return n?"getUTCFullYear":"getFullYear"}function Fv(n){return n?"getUTCMonth":"getMonth"}function jT(n){return n?"getUTCDate":"getDate"}function o_(n){return n?"getUTCHours":"getHours"}function ZT(n){return n?"getUTCMinutes":"getMinutes"}function QT(n){return n?"getUTCSeconds":"getSeconds"}function JT(n){return n?"getUTCMilliseconds":"getMilliseconds"}function SBe(n){return n?"setUTCFullYear":"setFullYear"}function YJ(n){return n?"setUTCMonth":"setMonth"}function XJ(n){return n?"setUTCDate":"setDate"}function jJ(n){return n?"setUTCHours":"setHours"}function ZJ(n){return n?"setUTCMinutes":"setMinutes"}function QJ(n){return n?"setUTCSeconds":"setSeconds"}function JJ(n){return n?"setUTCMilliseconds":"setMilliseconds"}function eee(n){if(!y8e(n))return Jn(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function tee(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var eA=dQ;function XR(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(u){return u&&qc(u)?u:"-"}function a(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var s=e==="time",o=n instanceof Date;if(s||o){var l=s?ud(n):n;if(isNaN(+l)){if(o)return"-"}else return XT(l,r,t)}if(e==="ordinal")return yR(n)?i(n):$i(n)&&a(n)?n+"":"-";var c=KC(n);return a(c)?eee(c):yR(n)?i(n):typeof n=="boolean"?n+"":"-"}var Gz=["a","b","c","d","e","f","g"],IE=function(n,e){return"{"+n+(e??"")+"}"};function nee(n,e,t){Ln(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=Gz[a];n=n.replace(IE(s),IE(s,0))}for(var o=0;o<r;o++)for(var l=0;l<i.length;l++){var c=e[o][i[l]];n=n.replace(IE(Gz[l],o),t?dl(c):c)}return n}function CBe(n,e){var t=Jn(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+dl(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+dl(r)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function l_(n,e){return e=e||"transparent",Jn(n)?n:or(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function Wz(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var F2=ut,MBe=["left","right","top","bottom","width","height"],xx=[["width","left","right"],["height","top","bottom"]];function $6(n,e,t,r,i){var a=0,s=0;r==null&&(r=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),d=e.childAt(c+1),f=d&&d.getBoundingRect(),h,p;if(n==="horizontal"){var m=u.width+(f?-f.x+u.x:0);h=a+m,h>r||l.newline?(a=0,h=m,s+=o+t,o=u.height):o=Math.max(o,u.height)}else{var v=u.height+(f?-f.y+u.y:0);p=s+v,p>i||l.newline?(a+=o+t,s=0,p=v,o=u.width):o=Math.max(o,u.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),n==="horizontal"?a=h+t:s=p+t)})}var tb=$6;Ui($6,"vertical");Ui($6,"horizontal");function dm(n,e,t){t=eA(t||0);var r=e.width,i=e.height,a=Ti(n.left,r),s=Ti(n.top,i),o=Ti(n.right,r),l=Ti(n.bottom,i),c=Ti(n.width,r),u=Ti(n.height,i),d=t[2]+t[0],f=t[1]+t[3],h=n.aspect;switch(isNaN(c)&&(c=r-o-f-a),isNaN(u)&&(u=i-l-d-s),h!=null&&(isNaN(c)&&isNaN(u)&&(h>r/i?c=r*.8:u=i*.8),isNaN(c)&&(c=h*u),isNaN(u)&&(u=c/h)),isNaN(a)&&(a=r-o-c-f),isNaN(s)&&(s=i-l-u-d),n.left||n.right){case"center":a=r/2-c/2-t[3];break;case"right":a=r-c-f;break}switch(n.top||n.bottom){case"middle":case"center":s=i/2-u/2-t[0];break;case"bottom":s=i-u-d;break}a=a||0,s=s||0,isNaN(c)&&(c=r-f-a-(o||0)),isNaN(u)&&(u=i-d-s-(l||0));var p=new ei(a+t[3],s+t[0],c,u);return p.margin=t,p}function c_(n){var e=n.layoutMode||n.constructor.layoutMode;return or(e)?e:e?{type:e}:null}function mg(n,e,t){var r=t&&t.ignoreSize;!Ln(r)&&(r=[r,r]);var i=s(xx[0],0),a=s(xx[1],1);c(xx[0],n,i),c(xx[1],n,a);function s(u,d){var f={},h=0,p={},m=0,v=2;if(F2(u,function(b){p[b]=n[b]}),F2(u,function(b){o(e,b)&&(f[b]=p[b]=e[b]),l(f,b)&&h++,l(p,b)&&m++}),r[d])return l(e,u[1])?p[u[2]]=null:l(e,u[2])&&(p[u[1]]=null),p;if(m===v||!h)return p;if(h>=v)return f;for(var g=0;g<u.length;g++){var y=u[g];if(!o(f,y)&&o(n,y)){f[y]=n[y];break}}return f}function o(u,d){return u.hasOwnProperty(d)}function l(u,d){return u[d]!=null&&u[d]!=="auto"}function c(u,d,f){F2(u,function(h){d[h]=f[h]})}}function tA(n){return TBe({},n)}function TBe(n,e){return e&&n&&F2(MBe,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var ABe=da(),Jg=function(n){Tn(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.uid=YT("ec_cpt_model"),a}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=c_(this),a=i?tA(t):{},s=r.getTheme();di(t,s.get(this.mainType)),di(t,this.getDefaultOption()),i&&mg(t,a,i)},e.prototype.mergeOption=function(t,r){di(this.option,t,!0);var i=c_(this);i&&mg(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!N8e(t))return t.defaultOption;var r=ABe(this);if(!r.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=di(o,i[l],!0);r.defaultOption=o}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",a=t+"Id";return ow(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Za);YQ(Jg,Za);UT(Jg);hBe(Jg);pBe(Jg,EBe);function EBe(n){var e=[];return ut(Jg.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=dr(e,function(t){return Kc(t).main}),n!=="dataset"&&wi(e,"dataset")<=0&&e.unshift("dataset"),e}const zi=Jg;var ree="";typeof navigator<"u"&&(ree=navigator.platform||"");var r0="rgba(0, 0, 0, 0.2)";const IBe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:r0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:r0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:r0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:r0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:r0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:r0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:ree.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var iee=Dr(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),Bl="original",_o="arrayRows",Mc="objectRows",vu="keyedColumns",Df="typedArray",aee="unknown",ed="column",ey="row",qa={Must:1,Might:2,Not:3},see=da();function RBe(n){see(n).datasetMap=Dr()}function PBe(n,e,t){var r={},i=G6(e);if(!i||!n)return r;var a=[],s=[],o=e.ecModel,l=see(o).datasetMap,c=i.uid+"_"+t.seriesLayoutBy,u,d;n=n.slice(),ut(n,function(m,v){var g=or(m)?m:n[v]={name:m};g.type==="ordinal"&&u==null&&(u=v,d=p(g)),r[g.name]=[]});var f=l.get(c)||l.set(c,{categoryWayDim:d,valueWayDim:0});ut(n,function(m,v){var g=m.name,y=p(m);if(u==null){var b=f.valueWayDim;h(r[g],b,y),h(s,b,y),f.valueWayDim+=y}else if(u===v)h(r[g],0,y),h(a,0,y);else{var b=f.categoryWayDim;h(r[g],b,y),h(s,b,y),f.categoryWayDim+=y}});function h(m,v,g){for(var y=0;y<g;y++)m.push(v+y)}function p(m){var v=m.dimsDef;return v?v.length:1}return a.length&&(r.itemName=a),s.length&&(r.seriesName=s),r}function DBe(n,e,t){var r={},i=G6(n);if(!i)return r;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Mc||a===vu)&&ut(s,function(u,d){(or(u)?u.name:u)==="name"&&(o=d)});var l=function(){for(var u={},d={},f=[],h=0,p=Math.min(5,t);h<p;h++){var m=lee(e.data,a,e.seriesLayoutBy,s,e.startIndex,h);f.push(m);var v=m===qa.Not;if(v&&u.v==null&&h!==o&&(u.v=h),(u.n==null||u.n===u.v||!v&&f[u.n]===qa.Not)&&(u.n=h),g(u)&&f[u.n]!==qa.Not)return u;v||(m===qa.Might&&d.v==null&&h!==o&&(d.v=h),(d.n==null||d.n===d.v)&&(d.n=h))}function g(y){return y.v!=null&&y.n!=null}return g(u)?u:g(d)?d:null}();if(l){r.value=[l.v];var c=o??l.n;r.itemName=[c],r.seriesName=[c]}return r}function G6(n){var e=n.get("data",!0);if(!e)return ow(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},lc).models[0]}function kBe(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:ow(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},lc).models}function oee(n,e){return lee(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function lee(n,e,t,r,i,a){var s,o=5;if(qo(n))return qa.Not;var l,c;if(r){var u=r[a];or(u)?(l=u.name,c=u.type):Jn(u)&&(l=u)}if(c!=null)return c==="ordinal"?qa.Must:qa.Not;if(e===_o){var d=n;if(t===ey){for(var f=d[a],h=0;h<(f||[]).length&&h<o;h++)if((s=_(f[i+h]))!=null)return s}else for(var h=0;h<d.length&&h<o;h++){var p=d[i+h];if(p&&(s=_(p[a]))!=null)return s}}else if(e===Mc){var m=n;if(!l)return qa.Not;for(var h=0;h<m.length&&h<o;h++){var v=m[h];if(v&&(s=_(v[l]))!=null)return s}}else if(e===vu){var g=n;if(!l)return qa.Not;var f=g[l];if(!f||qo(f))return qa.Not;for(var h=0;h<f.length&&h<o;h++)if((s=_(f[h]))!=null)return s}else if(e===Bl)for(var y=n,h=0;h<y.length&&h<o;h++){var v=y[h],b=aw(v);if(!Ln(b))return qa.Not;if((s=_(b[a]))!=null)return s}function _(x){var S=Jn(x);if(x!=null&&isFinite(x)&&x!=="")return S?qa.Might:qa.Not;if(S&&x!=="-")return qa.Must}return qa.Not}var LBe=Dr();function NBe(n,e,t){var r=LBe.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var qz=da();da();var W6=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=Gs(this.get("color",!0)),a=this.get("colorLayer",!0);return BBe(this,qz,i,a,e,t,r)},n.prototype.clearColorPalette=function(){FBe(this,qz)},n}();function OBe(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function BBe(n,e,t,r,i,a,s){a=a||n;var o=e(a),l=o.paletteIdx||0,c=o.paletteNameMap=o.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=s==null||!r?t:OBe(r,s);if(u=u||t,!(!u||!u.length)){var d=u[l];return i&&(c[i]=d),o.paletteIdx=(l+1)%u.length,d}}function FBe(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var Sx,Uy,Kz,Yz="\0_ec_inner",zBe=1,cee=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,a,s,o){a=a||{},this.option=null,this._theme=new Za(a),this._locale=new Za(s),this._optionManager=o},e.prototype.setOption=function(t,r,i){var a=Zz(r);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,r){return this._resetOption(t,Zz(r))},e.prototype._resetOption=function(t,r){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?Kz(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,r))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&ut(l,function(c){i=!0,this._mergeOption(c,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=Dr(),c=r&&r.replaceMergeMainTypeMap;RBe(this),ut(t,function(d,f){d!=null&&(zi.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?jr(d):di(i[f],d,!0))}),c&&c.each(function(d,f){zi.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),zi.topologicalTravel(o,zi.getAllClassMainTypes(),u,this);function u(d){var f=NBe(this,d,Gs(t[d])),h=a.get(d),p=h?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll",m=w8e(h,f,p);E8e(m,d,zi),i[d]=null,a.set(d,null),s.set(d,0);var v=[],g=[],y=0,b;ut(m,function(_,x){var S=_.existing,T=_.newOption;if(!T)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var C=d==="series",M=zi.getClass(d,_.keyInfo.subType,!C);if(!M)return;if(d==="tooltip"){if(b)return;b=!0}if(S&&S.constructor===M)S.name=_.keyInfo.name,S.mergeOption(T,this),S.optionUpdated(T,!1);else{var A=cn({componentIndex:x},_.keyInfo);S=new M(T,this,this,A),cn(S,A),_.brandNew&&(S.__requireNewView=!0),S.init(T,this,this),S.optionUpdated(null,!0)}}S?(v.push(S.option),g.push(S),y++):(v.push(void 0),g.push(void 0))},this),i[d]=v,a.set(d,g),s.set(d,y),d==="series"&&Sx(this)}this._seriesIndices||Sx(this)},e.prototype.getOption=function(){var t=jr(this.option);return ut(t,function(r,i){if(zi.hasClass(i)){for(var a=Gs(r),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!r_(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[Yz],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(r);if(!o||!o.length)return[];var l;return i!=null?(l=[],ut(Gs(i),function(c){o[c]&&l.push(o[c])})):a!=null?l=Xz("id",a,o):s!=null?l=Xz("name",s,o):l=Os(o,function(c){return!!c}),jz(l,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,a=o(r),s=a?this.queryComponents(a):Os(this._componentsMap.get(i),function(c){return!!c});return l(jz(s,t));function o(c){var u=i+"Index",d=i+"Id",f=i+"Name";return c&&(c[u]!=null||c[d]!=null||c[f]!=null)?{mainType:i,index:c[u],id:c[d],name:c[f]}:null}function l(c){return t.filter?Os(c,t.filter):c}},e.prototype.eachComponent=function(t,r,i){var a=this._componentsMap;if(Ar(t)){var s=r,o=t;a.each(function(d,f){for(var h=0;d&&h<d.length;h++){var p=d[h];p&&o.call(s,f,p,p.componentIndex)}})}else for(var l=Jn(t)?a.get(t):or(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&r.call(i,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=hc(t,null);return Os(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Os(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return Os(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){Uy(this),ut(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)},this)},e.prototype.eachRawSeries=function(t,r){ut(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){Uy(this),ut(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&r.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return ut(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return Uy(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){Uy(this);var i=[];ut(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(r,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Dr(i)},e.prototype.restoreData=function(t){Sx(this);var r=this._componentsMap,i=[];r.each(function(a,s){zi.hasClass(s)&&i.push(s)}),zi.topologicalTravel(i,zi.getAllClassMainTypes(),function(a){ut(r.get(a),function(s){s&&(a!=="series"||!UBe(s,t))&&s.restoreData()})})},e.internalField=function(){Sx=function(t){var r=t._seriesIndices=[];ut(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=Dr(r)},Uy=function(t){},Kz=function(t,r){t.option={},t.option[Yz]=zBe,t._componentsMap=Dr({series:[]}),t._componentsCount=Dr();var i=r.aria;or(i)&&i.enabled==null&&(i.enabled=!0),HBe(r,t._theme.option),di(r,IBe,!1),t._mergeOption(r,null)}}(),e}(Za);function UBe(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function HBe(n,e){var t=n.color&&!n.colorLayer;ut(e,function(r,i){i==="colorLayer"&&t||zi.hasClass(i)||(typeof r=="object"?n[i]=n[i]?di(n[i],r,!1):jr(r):n[i]==null&&(n[i]=r))})}function Xz(n,e,t){if(Ln(e)){var r=Dr();return ut(e,function(a){if(a!=null){var s=hc(a,null);s!=null&&r.set(a,!0)}}),Os(t,function(a){return a&&r.get(a[n])})}else{var i=hc(e,null);return Os(t,function(a){return a&&i!=null&&a[n]===i})}}function jz(n,e){return e.hasOwnProperty("subType")?Os(n,function(t){return t&&t.subType===e.subType}):n}function Zz(n){var e=Dr();return n&&ut(Gs(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}mu(cee,W6);const uee=cee;var VBe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],$Be=function(){function n(e){ut(VBe,function(t){this[t]=ii(e[t],e)},this)}return n}();const dee=$Be;var RE={},GBe=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];ut(RE,function(i,a){var s=i.create(e,t);r=r.concat(s||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){ut(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){RE[e]=t},n.get=function(e){return RE[e]},n}();const q6=GBe;var WBe=/^(min|max)?(.+)$/,qBe=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(ut(Gs(e.series),function(s){s&&s.data&&qo(s.data)&&bR(s.data)}),ut(Gs(e.dataset),function(s){s&&s.source&&qo(s.source)&&bR(s.source)})),e=jr(e);var i=this._optionBackup,a=KBe(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],jr(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=jr(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,c=i.length;l<c;l++)YBe(i[l].query,t,r)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!jBe(s,this._currentMediaIndices)&&(o=dr(s,function(u){return jr(u===-1?a.option:i[u].option)})),this._currentMediaIndices=s,o},n}();function KBe(n,e,t){var r=[],i,a,s=n.baseOption,o=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((d||u)&&(n.options=n.media=null),a=n),u&&Ln(c)&&ut(c,function(h){h&&h.option&&(h.query?r.push(h):i||(i=h))}),f(a),ut(l,function(h){return f(h)}),ut(r,function(h){return f(h.option)});function f(h){ut(e,function(p){p(h,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function YBe(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return ut(n,function(a,s){var o=s.match(WBe);if(!(!o||!o[1]||!o[2])){var l=o[1],c=o[2].toLowerCase();XBe(r[c],a,l)||(i=!1)}}),i}function XBe(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function jBe(n,e){return n.join(",")===e.join(",")}const ZBe=qBe;var Vl=ut,u_=or,Qz=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function PE(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=Qz.length;t<r;t++){var i=Qz[t],a=e.normal,s=e.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?di(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),s&&s[i]&&(n[i]=n[i]||{},n[i].emphasis?di(n[i].emphasis,s[i]):n[i].emphasis=s[i],s[i]=null)}}function gs(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,fi(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function T1(n){gs(n,"itemStyle"),gs(n,"lineStyle"),gs(n,"areaStyle"),gs(n,"label"),gs(n,"labelLine"),gs(n,"upperLabel"),gs(n,"edgeLabel")}function ia(n,e){var t=u_(n)&&n[e],r=u_(t)&&t.textStyle;if(r)for(var i=0,a=J9.length;i<a;i++){var s=J9[i];r.hasOwnProperty(s)&&(t[s]=r[s])}}function sl(n){n&&(T1(n),ia(n,"label"),n.emphasis&&ia(n.emphasis,"label"))}function QBe(n){if(u_(n)){PE(n),T1(n),ia(n,"label"),ia(n,"upperLabel"),ia(n,"edgeLabel"),n.emphasis&&(ia(n.emphasis,"label"),ia(n.emphasis,"upperLabel"),ia(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(PE(e),sl(e));var t=n.markLine;t&&(PE(t),sl(t));var r=n.markArea;r&&sl(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var a=n.links||n.edges;if(a&&!qo(a))for(var s=0;s<a.length;s++)sl(a[s]);ut(n.categories,function(c){T1(c)})}if(i&&!qo(i))for(var s=0;s<i.length;s++)sl(i[s]);if(e=n.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)sl(o[s]);if(t=n.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)Ln(l[s])?(sl(l[s][0]),sl(l[s][1])):sl(l[s]);n.type==="gauge"?(ia(n,"axisLabel"),ia(n,"title"),ia(n,"detail")):n.type==="treemap"?(gs(n.breadcrumb,"itemStyle"),ut(n.levels,function(c){T1(c)})):n.type==="tree"&&T1(n.leaves)}}function Su(n){return Ln(n)?n:n?[n]:[]}function Jz(n){return(Ln(n)?n[0]:n)||{}}function JBe(n,e){Vl(Su(n.series),function(r){u_(r)&&QBe(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),Vl(t,function(r){Vl(Su(n[r]),function(i){i&&(ia(i,"axisLabel"),ia(i.axisPointer,"label"))})}),Vl(Su(n.parallel),function(r){var i=r&&r.parallelAxisDefault;ia(i,"axisLabel"),ia(i&&i.axisPointer,"label")}),Vl(Su(n.calendar),function(r){gs(r,"itemStyle"),ia(r,"dayLabel"),ia(r,"monthLabel"),ia(r,"yearLabel")}),Vl(Su(n.radar),function(r){ia(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Vl(Su(n.geo),function(r){u_(r)&&(sl(r),Vl(Su(r.regions),function(i){sl(i)}))}),Vl(Su(n.timeline),function(r){sl(r),gs(r,"label"),gs(r,"itemStyle"),gs(r,"controlStyle",!0);var i=r.data;Ln(i)&&ut(i,function(a){or(a)&&(gs(a,"label"),gs(a,"itemStyle"))})}),Vl(Su(n.toolbox),function(r){gs(r,"iconStyle"),Vl(r.feature,function(i){gs(i,"iconStyle")})}),ia(Jz(n.axisPointer),"label"),ia(Jz(n.tooltip).axisPointer,"label")}function e7e(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function t7e(n,e,t,r){for(var i=e.split(","),a=n,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];(r||a[i[o]]==null)&&(a[i[o]]=t)}function eU(n){n&&ut(n7e,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var n7e=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],r7e=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],DE=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Hy(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<DE.length;t++){var r=DE[t][1],i=DE[t][0];e[r]!=null&&(e[i]=e[r])}}function tU(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function nU(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function i7e(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function fee(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&fee(n[t].children,e)}function hee(n,e){JBe(n,e),n.series=Gs(n.series),ut(n.series,function(t){if(or(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),tU(t.label);var i=t.data;if(i&&!qo(i))for(var a=0;a<i.length;a++)tU(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var s=e7e(t,"pointer.color");s!=null&&t7e(t,"itemStyle.color",s)}else if(r==="bar"){Hy(t),Hy(t.backgroundStyle),Hy(t.emphasis);var i=t.data;if(i&&!qo(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Hy(i[a]),Hy(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),nU(t),fee(t.data,nU)}else r==="graph"||r==="sankey"?i7e(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&fi(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),eU(t)}}),n.dataRange&&(n.visualMap=n.dataRange),ut(r7e,function(t){var r=n[t];r&&(Ln(r)||(r=[r]),ut(r,function(i){eU(i)}))})}function a7e(n){var e=Dr();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),e.each(s7e)}function s7e(n){ut(n,function(e,t){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(c,u,d){var f=s.get(e.stackedDimension,d);if(isNaN(f))return i;var h,p;o?p=s.getRawIndex(d):h=s.get(e.stackedByDimension,d);for(var m=NaN,v=t-1;v>=0;v--){var g=n[v];if(o||(p=g.data.rawIndexOf(g.stackedByDimension,h)),p>=0){var y=g.data.getByRawIndex(g.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&f>=0&&y>0||l==="samesign"&&f<=0&&y<0){f=m8e(f,y),m=y;break}}}return r[0]=f,r[1]=m,r})})}var nA=function(){function n(e){this.data=e.data||(e.sourceFormat===vu?{}:[]),this.sourceFormat=e.sourceFormat||aee,this.seriesLayoutBy=e.seriesLayoutBy||ed,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&oee(this,r)===qa.Must&&(i.type="ordinal")}}return n}();function K6(n){return n instanceof nA}function jR(n,e,t){t=t||pee(n);var r=e.seriesLayoutBy,i=l7e(n,t,r,e.sourceHeader,e.dimensions),a=new nA({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:jr(e)});return a}function Y6(n){return new nA({data:n,sourceFormat:qo(n)?Df:Bl})}function o7e(n){return new nA({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:jr(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function pee(n){var e=aee;if(qo(n))e=Df;else if(Ln(n)){n.length===0&&(e=_o);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(Ln(i)){e=_o;break}else if(or(i)){e=Mc;break}}}}else if(or(n)){for(var a in n)if(hg(n,a)&&yo(n[a])){e=vu;break}}return e}function l7e(n,e,t,r,i){var a,s;if(!n)return{dimensionsDefine:rU(i),startIndex:s,dimensionsDetectedCount:a};if(e===_o){var o=n;r==="auto"||r==null?iU(function(c){c!=null&&c!=="-"&&(Jn(c)?s==null&&(s=1):s=0)},t,o,10):s=$i(r)?r:r?1:0,!i&&s===1&&(i=[],iU(function(c,u){i[u]=c!=null?c+"":""},t,o,1/0)),a=i?i.length:t===ey?o.length:o[0]?o[0].length:null}else if(e===Mc)i||(i=c7e(n));else if(e===vu)i||(i=[],ut(n,function(c,u){i.push(u)}));else if(e===Bl){var l=aw(n[0]);a=Ln(l)&&l.length||1}return{startIndex:s,dimensionsDefine:rU(i),dimensionsDetectedCount:a}}function c7e(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return Ni(t)}function rU(n){if(n){var e=Dr();return dr(n,function(t,r){t=or(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function iU(n,e,t,r){if(e===ey)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<r;i++)n(a[i],i)}function mee(n){var e=n.sourceFormat;return e===Mc||e===vu}var Gh,Wh,qh,aU,sU,vee=function(){function n(e,t){var r=K6(e)?e:Y6(e);this._source=r;var i=this._data=r.data;r.sourceFormat===Df&&(this._offset=0,this._dimSize=t,this._data=i),sU(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;sU=function(s,o,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,f=l.dimensionsDefine,h=aU[X6(c,u)];if(cn(s,h),c===Df)s.getItem=t,s.count=i,s.fillStorage=r;else{var p=gee(c,u);s.getItem=ii(p,null,o,d,f);var m=yee(c,u);s.count=ii(m,null,o,d,f)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,c=this._dimSize,u=c*s,d=0;d<c;d++)o[d]=l[u+d];return o},r=function(s,o,l,c){for(var u=this._data,d=this._dimSize,f=0;f<d;f++){for(var h=c[f],p=h[0]==null?1/0:h[0],m=h[1]==null?-1/0:h[1],v=o-s,g=l[f],y=0;y<v;y++){var b=u[y*d+f];g[s+y]=b,b<p&&(p=b),b>m&&(m=b)}h[0]=p,h[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};aU=(e={},e[_o+"_"+ed]={pure:!0,appendData:a},e[_o+"_"+ey]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Mc]={pure:!0,appendData:a},e[vu]={pure:!0,appendData:function(s){var o=this._data;ut(s,function(l,c){for(var u=o[c]||(o[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},e[Bl]={appendData:a},e[Df]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),n}(),oU=function(n,e,t,r){return n[r]},u7e=(Gh={},Gh[_o+"_"+ed]=function(n,e,t,r){return n[r+e]},Gh[_o+"_"+ey]=function(n,e,t,r,i){r+=e;for(var a=i||[],s=n,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[r]:null}return a},Gh[Mc]=oU,Gh[vu]=function(n,e,t,r,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=n[o];a[s]=l?l[r]:null}return a},Gh[Bl]=oU,Gh);function gee(n,e){var t=u7e[X6(n,e)];return t}var lU=function(n,e,t){return n.length},d7e=(Wh={},Wh[_o+"_"+ed]=function(n,e,t){return Math.max(0,n.length-e)},Wh[_o+"_"+ey]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},Wh[Mc]=lU,Wh[vu]=function(n,e,t){var r=t[0].name,i=n[r];return i?i.length:0},Wh[Bl]=lU,Wh);function yee(n,e){var t=d7e[X6(n,e)];return t}var kE=function(n,e,t){return n[e]},f7e=(qh={},qh[_o]=kE,qh[Mc]=function(n,e,t){return n[t]},qh[vu]=kE,qh[Bl]=function(n,e,t){var r=aw(n);return r instanceof Array?r[e]:r},qh[Df]=kE,qh);function bee(n){var e=f7e[n];return e}function X6(n,e){return n===_o?n+"_"+e:n}function vg(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=n.getDimensionIndex(t),o=i.getDimensionProperty(s);return bee(a)(r,s,o)}else{var l=r;return a===Bl&&(l=aw(r)),l}}}}var h7e=/\{@(.+?)\}/g,p7e=function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),a=r.getRawIndex(e),s=r.getName(e),o=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),c=l&&l[r.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,f=d==="series",h=r.userOutput&&r.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:c,borderColor:u,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,a,s){t=t||"normal";var o=this.getData(r),l=this.getDataParams(e,r);if(s&&(l.value=s.interpolatedValue),i!=null&&Ln(l.value)&&(l.value=l.value[i]),!a){var c=o.getItemModel(e);a=c.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(Ar(a))return l.status=t,l.dimensionIndex=i,a(l);if(Jn(a)){var u=nee(a,l);return u.replace(h7e,function(d,f){var h=f.length,p=f;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var m=vg(o,e,p);if(s&&Ln(s.interpolatedValue)){var v=o.getDimensionIndex(p);v>=0&&(m=s.interpolatedValue[v])}return m!=null?m+"":""})}},n.prototype.getRawValue=function(e,t){return vg(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n}();function cU(n){var e,t;return or(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function nb(n){return new m7e(n)}var m7e=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var s=u(this._modBy),o=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(s!==l||o!==c)&&(a="reset");function u(y){return!(y>=1)&&(y=1),y}var d;(this._dirty||a==="reset")&&(this._dirty=!1,d=this._doReset(r)),this._modBy=l,this._modDataCount=c;var f=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(d||h<p)){var m=this._progress;if(Ln(m))for(var v=0;v<m.length;v++)this._doProgress(m[v],h,p,l,c);else this._doProgress(m,h,p,l,c)}this._dueIndex=p;var g=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,a){uU.reset(t,r,i,a),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:uU.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),Ln(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),uU=function(){var n,e,t,r,i,a={reset:function(l,c,u,d){e=l,n=c,t=u,r=d,i=Math.ceil(r/t),a.next=t>1&&r>0?o:s}};return a;function s(){return e<n?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),c=e>=n?null:l<r?l:e;return e++,c}}();function z2(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!$i(n)&&n!=null&&n!=="-"&&(n=+ud(n)),n==null||n===""?NaN:+n)}Dr({number:function(n){return parseFloat(n)},time:function(n){return+ud(n)},trim:function(n){return Jn(n)?qc(n):n}});var v7e=function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=$i(e)?e:KC(e),i=$i(t)?t:KC(t),a=isNaN(r),s=isNaN(i);if(a&&(r=this._incomparable),s&&(i=this._incomparable),a&&s){var o=Jn(e),l=Jn(t);o&&(r=l?e:0),l&&(i=o?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),g7e=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return z2(e,t)},n}();function y7e(n,e){var t=new g7e,r=n.data,i=t.sourceFormat=n.sourceFormat,a=n.startIndex,s="";n.seriesLayoutBy!==ed&&io(s);var o=[],l={},c=n.dimensionsDefine;if(c)ut(c,function(m,v){var g=m.name,y={index:v,name:g,displayName:m.displayName};if(o.push(y),g!=null){var b="";hg(l,g)&&io(b),l[g]=y}});else for(var u=0;u<n.dimensionsDetectedCount;u++)o.push({index:u});var d=gee(i,ed);e.__isBuiltIn&&(t.getRawDataItem=function(m){return d(r,a,o,m)},t.getRawData=ii(b7e,null,n)),t.cloneRawData=ii(_7e,null,n);var f=yee(i,ed);t.count=ii(f,null,r,a,o);var h=bee(i);t.retrieveValue=function(m,v){var g=d(r,a,o,m);return p(g,v)};var p=t.retrieveValueFromItem=function(m,v){if(m!=null){var g=o[v];if(g)return h(m,v,g.name)}};return t.getDimensionInfo=ii(w7e,null,o,l),t.cloneAllDimensionInfo=ii(x7e,null,o),t}function b7e(n){var e=n.sourceFormat;if(!j6(e)){var t="";io(t)}return n.data}function _7e(n){var e=n.sourceFormat,t=n.data;if(!j6(e)){var r="";io(r)}if(e===_o){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===Mc){for(var i=[],a=0,s=t.length;a<s;a++)i.push(cn({},t[a]));return i}}function w7e(n,e,t){if(t!=null){if($i(t)||!isNaN(t)&&!hg(e,t))return n[t];if(hg(e,t))return e[t]}}function x7e(n){return jr(n)}var _ee=Dr();function S7e(n){n=jr(n);var e=n.type,t="";e||io(t);var r=e.split(":");r.length!==2&&io(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,_ee.set(e,n)}function C7e(n,e,t){var r=Gs(n),i=r.length,a="";i||io(a);for(var s=0,o=i;s<o;s++){var l=r[s];e=M7e(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function M7e(n,e,t,r){var i="";e.length||io(i),or(n)||io(i);var a=n.type,s=_ee.get(a);s||io(i);var o=dr(e,function(c){return y7e(c,s)}),l=Gs(s.transform({upstream:o[0],upstreamList:o,config:jr(n.config)}));return dr(l,function(c,u){var d="";or(c)||io(d),c.data||io(d);var f=pee(c.data);j6(f)||io(d);var h,p=e[0];if(p&&u===0&&!c.dimensions){var m=p.startIndex;m&&(c.data=p.data.slice(0,m).concat(c.data)),h={seriesLayoutBy:ed,sourceHeader:m,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:ed,sourceHeader:0,dimensions:c.dimensions};return jR(c.data,h,null)})}function j6(n){return n===_o||n===Mc}var rA="undefined",T7e=typeof Uint32Array===rA?Array:Uint32Array,A7e=typeof Uint16Array===rA?Array:Uint16Array,wee=typeof Int32Array===rA?Array:Int32Array,dU=typeof Float64Array===rA?Array:Float64Array,xee={float:dU,int:wee,ordinal:Array,number:Array,time:dU},LE;function Vy(n){return n>65535?T7e:A7e}function i0(){return[1/0,-1/0]}function E7e(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function fU(n,e,t,r,i){var a=xee[t||"float"];if(i){var s=n[e],o=s&&s.length;if(o!==r){for(var l=new a(r),c=0;c<o;c++)l[c]=s[c];n[e]=l}}else n[e]=new a(r)}var ZR=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Dr()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=LE[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],mee(i),this._dimensions=dr(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},r.set(e,a),this._chunks[a]=new xee[t||"float"](this._rawCount),this._rawExtent[a]=i0(),a},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=r.length;s===0&&(a[e]=i0());for(var l=a[e],c=s;c<o;c++){var u=r[c]=t.parseAndCollect(r[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),c=0;c<a;c++){var u=i[c];fU(r,c,u.type,l,!0)}for(var d=[],f=o;f<l;f++)for(var h=f-o,p=0;p<a;p++){var u=i[p],m=LE.arrayRows.call(this,e[h]||d,u.property,h,p);r[p][f]=m;var v=s[p];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,c=dr(s,function(y){return y.property}),u=0;u<o;u++){var d=s[u];l[u]||(l[u]=i0()),fU(a,u,d.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var f=[],h=e;h<t;h++){f=i.getItem(h,f);for(var p=0;p<o;p++){var m=a[p],v=this._dimValueGetter(f,c[p],h,p);m[h]=v;var g=l[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)r.push(this.get(i[a],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(r+=s)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var r=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},n.prototype.indicesOfNearest=function(e,t,r){var i=this._chunks,a=i[e],s=[];if(!a)return s;r==null&&(r=1/0);for(var o=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var f=this.getRawIndex(u),h=t-a[f],p=Math.abs(h);p<=r&&((p<o||p===o&&h>=0&&l<0)&&(o=p,l=h,c=0),h===l&&(s[c++]=u))}return s.length=c,s},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new r(t.buffer,0,i)}else{var r=Vy(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=Vy(r._rawCount),s=new a(i),o=[],l=e.length,c=0,u=e[0],d=r._chunks,f=0;f<i;f++){var h=void 0,p=r.getRawIndex(f);if(l===0)h=t(f);else if(l===1){var m=d[u][p];h=t(m,f)}else{for(var v=0;v<l;v++)o[v]=d[e[v]][p];o[v]=f,h=t.apply(null,o)}h&&(s[c++]=p)}return c<i&&(r._indices=s),r._count=c,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=Ni(e),a=i.length;if(!a)return this;var s=t.count(),o=Vy(t._rawCount),l=new o(s),c=0,u=i[0],d=e[u][0],f=e[u][1],h=t._chunks,p=!1;if(!t._indices){var m=0;if(a===1){for(var v=h[i[0]],g=0;g<r;g++){var y=v[g];(y>=d&&y<=f||isNaN(y))&&(l[c++]=m),m++}p=!0}else if(a===2){for(var v=h[i[0]],b=h[i[1]],_=e[i[1]][0],x=e[i[1]][1],g=0;g<r;g++){var y=v[g],S=b[g];(y>=d&&y<=f||isNaN(y))&&(S>=_&&S<=x||isNaN(S))&&(l[c++]=m),m++}p=!0}}if(!p)if(a===1)for(var g=0;g<s;g++){var T=t.getRawIndex(g),y=h[i[0]][T];(y>=d&&y<=f||isNaN(y))&&(l[c++]=T)}else for(var g=0;g<s;g++){for(var C=!0,T=t.getRawIndex(g),M=0;M<a;M++){var A=i[M],y=h[A][T];(y<e[A][0]||y>e[A][1])&&(C=!1)}C&&(l[c++]=t.getRawIndex(g))}return c<s&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=i0();for(var d=0;d<o;d++){for(var f=e.getRawIndex(d),h=0;h<s;h++)l[h]=i[t[h]][f];l[s]=d;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var u=0;u<p.length;u++){var m=t[u],v=p[u],g=c[m],y=i[m];y&&(y[f]=v),v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),c=this.getRawIndex(0),u,d,f,h=new(Vy(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));h[o++]=c;for(var p=1;p<s-1;p+=l){for(var m=Math.min(p+l,s-1),v=Math.min(p+l*2,s),g=(v+m)/2,y=0,b=m;b<v;b++){var _=this.getRawIndex(b),x=a[_];isNaN(x)||(y+=x)}y/=v-m;var S=p,T=Math.min(p+l,s),C=p-1,M=a[c];u=-1,f=S;for(var A=-1,I=0,b=S;b<T;b++){var _=this.getRawIndex(b),x=a[_];if(isNaN(x)){I++,A<0&&(A=_);continue}d=Math.abs((C-g)*(x-M)-(C-b)*(y-M)),d>u&&(u=d,f=_)}I>0&&I<T-S&&(h[o++]=Math.min(A,f),f=Math.max(A,f)),h[o++]=f,c=f}return h[o++]=this.getRawIndex(s-1),r._count=o,r._indices=h,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(e,t,r,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),c=s[e],u=this.count(),d=a._rawExtent[e]=i0(),f=new(Vy(this._rawCount))(Math.ceil(u/l)),h=0,p=0;p<u;p+=l){l>u-p&&(l=u-p,o.length=l);for(var m=0;m<l;m++){var v=this.getRawIndex(p+m);o[m]=c[v]}var g=r(o),y=this.getRawIndex(Math.min(p+i(o,g)||0,u-1));c[y]=g,g<d[0]&&(d[0]=g),g>d[1]&&(d[1]=g),f[h++]=y}return a._count=h,a._indices=f,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(r){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,c=[];l<r;l++)c[l]=i[e[l]][o];c[l]=a,t.apply(null,c)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=i0();if(!t)return r;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=r;for(var o=s[0],l=s[1],c=0;c<i;c++){var u=this.getRawIndex(c),d=t[u];d<o&&(o=d),d>l&&(l=d)}return s=[o,l],this._extent[e]=s,s},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,a=e&&Jf(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)r._chunks[s]=a[s]?E7e(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=jr(this._extent),e._rawExtent=jr(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,r,i,a){return z2(t[a],this._dimensions[a])}LE={arrayRows:e,objectRows:function(t,r,i,a){return z2(t[r],this._dimensions[a])},keyedColumns:e,original:function(t,r,i,a){var s=t&&(t.value==null?t:t.value);return z2(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,r,i,a){return t[a]}}}(),n}(),I7e=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,a;if(Cx(e)){var s=e,o=void 0,l=void 0,c=void 0;if(r){var u=t[0];u.prepareSource(),c=u.getSource(),o=c.data,l=c.sourceFormat,a=[u._getVersionSign()]}else o=s.get("data",!0),l=qo(o)?Df:Bl,a=[];var d=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},h=Zr(d.seriesLayoutBy,f.seriesLayoutBy)||null,p=Zr(d.sourceHeader,f.sourceHeader),m=Zr(d.dimensions,f.dimensions),v=h!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||m;i=v?[jR(o,{seriesLayoutBy:h,sourceHeader:p,dimensions:m},l)]:[]}else{var g=e;if(r){var y=this._applyTransform(t);i=y.sourceList,a=y.upstreamSignList}else{var b=g.get("source",!0);i=[jR(b,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&hU(a)}var s,o=[],l=[];return ut(e,function(c){c.prepareSource();var u=c.getSource(i||0),d="";i!=null&&!u&&hU(d),o.push(u),l.push(c._getVersionSign())}),r?s=C7e(r,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[o7e(o[0])]),{sourceList:s,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[r];if(!o){var l=this._getUpstreamSourceManagers()[0];Cx(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,r):(o=new ZR,o.initData(new vee(t,e.length),e)),s[r]=o}return o},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Cx(e)){var t=G6(e);return t?[t.getSourceManager()]:[]}else return dr(kBe(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(Cx(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n}();function Cx(n){return n.mainType==="series"}function hU(n){throw new Error(n)}var See="line-height:1";function Cee(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||"#464646",s=n.fontSize||14,o=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+dl(r+"")+"px;color:"+dl(t)+";font-weight:"+dl(i+""),valueStyle:"font-size:"+dl(s+"")+"px;color:"+dl(a)+";font-weight:"+dl(o+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var R7e=[0,10,20,30],P7e=["",`
`,`

`,`


`];function gg(n,e){return e.type=n,e}function QR(n){return n.type==="section"}function Mee(n){return QR(n)?D7e:k7e}function Tee(n){if(QR(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return ut(n.blocks,function(i){var a=Tee(i);a>=e&&(e=a+ +(r&&(!a||QR(i)&&!i.noHeader)))}),e}return 0}function D7e(n,e,t,r){var i=e.noHeader,a=L7e(Tee(e)),s=[],o=e.blocks||[];au(!o||Ln(o)),o=o||[];var l=n.orderMode;if(e.sortBlocks&&l){o=o.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(hg(c,l)){var u=new v7e(c[l],null);o.sort(function(p,m){return u.evaluate(p.sortParam,m.sortParam)})}else l==="seriesDesc"&&o.reverse()}ut(o,function(p,m){var v=e.valueFormatter,g=Mee(p)(v?cn(cn({},n),{valueFormatter:v}):n,p,m>0?a.html:0,r);g!=null&&s.push(g)});var d=n.renderMode==="richText"?s.join(a.richText):JR(s.join(""),i?t:a.html);if(i)return d;var f=XR(e.header,"ordinal",n.useUTC),h=Cee(r,n.renderMode).nameStyle;return n.renderMode==="richText"?Aee(n,f,h)+a.richText+d:JR('<div style="'+h+";"+See+';">'+dl(f)+"</div>"+d,t)}function k7e(n,e,t,r){var i=n.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,c=n.useUTC,u=e.valueFormatter||n.valueFormatter||function(_){return _=Ln(_)?_:[_],dr(_,function(x,S){return XR(x,Ln(h)?h[S]:h,c)})};if(!(a&&s)){var d=o?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),f=a?"":XR(l,"ordinal",c),h=e.valueType,p=s?[]:u(e.value),m=!o||!a,v=!o&&a,g=Cee(r,i),y=g.nameStyle,b=g.valueStyle;return i==="richText"?(o?"":d)+(a?"":Aee(n,f,y))+(s?"":B7e(n,p,m,v,b)):JR((o?"":d)+(a?"":N7e(f,!o,y))+(s?"":O7e(p,m,v,b)),t)}}function pU(n,e,t,r,i,a){if(n){var s=Mee(n),o={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return s(o,n,0,a)}}function L7e(n){return{html:R7e[n],richText:P7e[n]}}function JR(n,e){var t='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+See+';">'+n+t+"</div>"}function N7e(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+dl(n)+"</span>"}function O7e(n,e,t,r){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return n=Ln(n)?n:[n],'<span style="'+a+";"+r+'">'+dr(n,function(s){return dl(s)}).join("&nbsp;&nbsp;")+"</span>"}function Aee(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function B7e(n,e,t,r,i){var a=[i],s=r?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Ln(e)?e.join("  "):e,a)}function F7e(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return l_(r)}function Eee(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var NE=function(){function n(){this.richTextStyles={},this._nextStyleNameId=VQ()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,a=CBe({color:t,type:e,renderMode:r,markerId:i});return Jn(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};Ln(t)?ut(t,function(a){return cn(r,a)}):cn(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n}();function z7e(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=Ln(o),c=F7e(e,t),u,d,f,h;if(s>1||l&&!s){var p=U7e(o,e,t,a,c);u=p.inlineValues,d=p.inlineValueTypes,f=p.blocks,h=p.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);h=u=vg(i,t,a[0]),d=m.type}else h=u=l?o[0]:o;var v=g6(e),g=v&&e.name||"",y=i.getName(t),b=r?g:y;return gg("section",{header:g,noHeader:r||!v,sortParam:h,blocks:[gg("nameValue",{markerType:"item",markerColor:c,name:b,noName:!qc(b),value:u,valueType:d})].concat(f||[])})}function U7e(n,e,t,r,i){var a=e.getData(),s=Jf(n,function(d,f,h){var p=a.getDimensionInfo(h);return d=d||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],l=[],c=[];r.length?ut(r,function(d){u(vg(a,t,d),d)}):ut(n,u);function u(d,f){var h=a.getDimensionInfo(f);!h||h.otherDims.tooltip===!1||(s?c.push(gg("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:d,valueType:h.type})):(o.push(d),l.push(h.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:c}}var zd=da();function Mx(n,e){return n.getName(e)||n.getId(e)}var H7e="__universalTransitionEnabled",iA=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=nb({count:$7e,reset:G7e}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=zd(this).sourceManager=new I7e(this);a.prepareSource();var s=this.getInitialData(t,i);vU(s,this),this.dataTask.context.data=s,zd(this).dataBeforeProcessed=s,mU(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=c_(this),a=i?tA(t):{},s=this.subType;zi.hasClass(s)&&(s+="Series"),di(t,r.getTheme().get(this.subType)),di(t,this.getDefaultOption()),BR(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&mg(t,a,i)},e.prototype.mergeOption=function(t,r){t=di(this.option,t,!0),this.fillDataTextStyle(t.data);var i=c_(this);i&&mg(this.option,t,i);var a=zd(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,r);vU(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,zd(this).dataBeforeProcessed=s,mU(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!qo(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&BR(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=eP(this);if(r){var i=r.context.data;return t==null?i:i.getLinkedData(t)}else return zd(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=eP(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}zd(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Dr(t)},e.prototype.getSourceManager=function(){return zd(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return zd(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,i){return z7e({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Pr.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var a=this.ecModel,s=W6.prototype.getColorFromPalette.call(this,t,r,i);return s||(s=a.getColorFromPalette(t,r,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],c=Mx(s,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=Ni(t),i=[],a=0;a<r.length;a++){var s=t[r[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[Mx(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[H7e])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,a,s=this.option,o=s.selectedMode,l=r.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){or(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,u=0;u<l;u++){var d=r[u],f=Mx(t,d);c[f]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(d)}}else if(o==="single"||o===!0){var h=r[l-1],f=Mx(t,h);s.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=t.getRawIndex(h),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return zi.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(zi);mu(iA,p7e);mu(iA,W6);YQ(iA,zi);function mU(n){var e=n.name;g6(n)||(n.name=V7e(n)||e)}function V7e(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return ut(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function $7e(n){return n.model.getRawData().count()}function G7e(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),W7e}function W7e(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function vU(n,e){ut(pQ(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Ui(q7e,e))})}function q7e(n,e){var t=eP(n);return t&&t.setOutputEnd((e||this).count()),e}function eP(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}const nh=iA;var Z6=function(){function n(){this.group=new bo,this.uid=YT("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();b6(Z6);UT(Z6);const dd=Z6;function Iee(){var n=da();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(r&&r.large),o=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||a!==o)&&"reset"}}var Ree=da(),K7e=Iee(),Q6=function(){function n(){this.group=new bo,this.uid=YT("viewChart"),this.renderTask=nb({plan:Y7e,reset:X7e}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&yU(a,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&yU(a,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){N6(this.group,e)},n.markUpdateMethod=function(e,t){Ree(e).updateMethod=t},n.protoInitialize=function(){var e=n.prototype;e.type="chart"}(),n}();function gU(n,e,t){n&&WR(n)&&(e==="emphasis"?XC:jC)(n,t)}function yU(n,e,t){var r=sw(n,e),i=e&&e.highlightKey!=null?eOe(e.highlightKey):null;r!=null?ut(Gs(r),function(a){gU(n.getItemGraphicEl(a),t,i)}):n.eachItemGraphicEl(function(a){gU(a,t,i)})}b6(Q6);UT(Q6);function Y7e(n){return K7e(n.model)}function X7e(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,a=e.pipelineContext.progressiveRender,s=n.view,o=i&&Ree(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,r,i),j7e[l]}var j7e={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const kf=Q6;var nM="\0__throttleOriginMethod",bU="\0__throttleRate",_U="\0__throttleType";function aA(n,e,t){var r,i=0,a=0,s=null,o,l,c,u;e=e||0;function d(){a=new Date().getTime(),s=null,n.apply(l,c||[])}var f=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,c=h;var m=u||e,v=u||t;u=null,o=r-(v?i:a)-m,clearTimeout(s),v?s=setTimeout(d,m):o>=0?d():s=setTimeout(d,-o),i=r};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(h){u=h},f}function Pee(n,e,t,r){var i=n[e];if(i){var a=i[nM]||i,s=i[_U],o=i[bU];if(o!==t||s!==r){if(t==null||!r)return n[e]=a;i=n[e]=aA(a,t,r==="debounce"),i[nM]=a,i[_U]=r,i[bU]=t}return i}}function tP(n,e){var t=n[e];t&&t[nM]&&(t.clear&&t.clear(),n[e]=t[nM])}var wU=da(),xU={itemStyle:i_(VJ,!0),lineStyle:i_(HJ,!0)},Z7e={lineStyle:"stroke",itemStyle:"fill"};function Dee(n,e){var t=n.visualStyleMapper||xU[e];return t||(console.warn("Unknown style type '"+e+"'."),xU.itemStyle)}function kee(n,e){var t=n.visualDrawType||Z7e[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var Q7e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=Dee(n,r),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=kee(n,r),c=s[l],u=Ar(c)?c:null,d=s.fill==="auto"||s.stroke==="auto";if(!s[l]||u||d){var f=n.getColorFromPalette(n.name,null,e.getSeriesCount());s[l]||(s[l]=f,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||Ar(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||Ar(s.stroke)?f:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var m=n.getDataParams(p),v=cn({},s);v[l]=u(m),h.setItemVisual(p,"style",v)}}}},$y=new Za,J7e={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=Dee(n,r),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[r]){$y.option=l[r];var c=i($y),u=s.ensureUniqueItemVisual(o,"style");cn(u,c),$y.option.decal&&(s.setItemVisual(o,"decal",$y.option.decal),$y.option.decal.dirty=!0),a in c&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},eFe={performRawSeries:!0,overallReset:function(n){var e=Dr();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),wU(t).scope=a}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},a=t.getData(),s=wU(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=kee(t,o);a.each(function(c){var u=a.getRawIndex(c);i[u]=c}),r.each(function(c){var u=i[c],d=a.getItemVisual(u,"colorFromPalette");if(d){var f=a.ensureUniqueItemVisual(u,"style"),h=r.getName(c)||c+"",p=r.count();f[l]=t.getColorFromPalette(h,s,p)}})}})}},Tx=Math.PI;function tFe(n,e){e=e||{},fi(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new bo,r=new Ea({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new Ys({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Ea({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new E6({shape:{startAngle:-Tx/2,endAngle:-Tx/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:Tx*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:Tx*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(n.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),u=n.getHeight()/2;e.showSpinner&&s.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var nFe=function(){function n(e,t,r,i){this._stageTaskMap=Dr(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,s=a?r.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:s,modDataCount:l,large:o}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=Dr();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;ut(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";au(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,r),i.overallReset&&this._createOverallStageTask(i,a,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=r,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var a=!1,s=this;ut(e,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var u=s._stageTaskMap.get(l.uid),d=u.seriesTaskMap,f=u.overallTask;if(f){var h,p=f.agentStubMap;p.each(function(v){o(i,v)&&(v.dirty(),h=!0)}),h&&f.dirty(),s.updatePayload(f,r);var m=s.getPerformArgs(f,i.block);p.each(function(v){v.perform(m)}),f.perform(m)&&(a=!0)}else d&&d.each(function(v,g){o(i,v)&&v.dirty();var y=s.getPerformArgs(v,i.block);y.skip=!l.performRawSeries&&t.isSeriesFiltered(v.context.model),s.updatePayload(v,r),v.perform(y)&&(a=!0)})}});function o(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=Dr(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(u):l?r.eachRawSeriesByType(l,u):c&&c(r,i).each(u);function u(d){var f=d.uid,h=o.set(f,s&&s.get(f)||nb({plan:oFe,reset:lFe,count:uFe}));h.context={model:d,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(d,h)}},n.prototype._createOverallStageTask=function(e,t,r,i){var a=this,s=t.overallTask=t.overallTask||nb({reset:rFe});s.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=Dr(),c=e.seriesType,u=e.getTargetSeries,d=!0,f=!1,h="";au(!e.createOnAllSeries,h),c?r.eachRawSeriesByType(c,p):u?u(r,i).each(p):(d=!1,ut(r.getSeries(),p));function p(m){var v=m.uid,g=l.set(v,o&&o.get(v)||(f=!0,nb({reset:iFe,onDirty:sFe})));g.context={model:m,overallProgress:d},g.agent=s,g.__block=d,a._pipe(m,g)}f&&s.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return Ar(e)&&(e={overallReset:e,seriesType:dFe(e)}),e.uid=YT("stageHandler"),t&&(e.visualType=t),e},n}();function rFe(n){n.overallReset(n.ecModel,n.api,n.payload)}function iFe(n){return n.overallProgress&&aFe}function aFe(){this.agent.dirty(),this.getDownstream().dirty()}function sFe(){this.agent&&this.agent.dirty()}function oFe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function lFe(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Gs(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?dr(e,function(t,r){return Lee(r)}):cFe}var cFe=Lee(0);function Lee(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function uFe(n){return n.data.count()}function dFe(n){rM=null;try{n(d_,Nee)}catch{}return rM}var d_={},Nee={},rM;Oee(d_,uee);Oee(Nee,dee);d_.eachSeriesByType=d_.eachRawSeriesByType=function(n){rM=n};d_.eachComponent=function(n){n.mainType==="series"&&n.subType&&(rM=n.subType)};function Oee(n,e){for(var t in e.prototype)n[t]=Vs}const Bee=nFe;var SU=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const fFe={color:SU,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],SU]};var Ps="#B9B8CE",CU="#100C2A",Ax=function(){return{axisLine:{lineStyle:{color:Ps}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},MU=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Fee={darkMode:!0,color:MU,backgroundColor:CU,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ps}},textStyle:{color:Ps},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ps}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ps},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ps}},timeline:{lineStyle:{color:Ps},label:{color:Ps},controlStyle:{color:Ps,borderColor:Ps}},calendar:{itemStyle:{color:CU},dayLabel:{color:Ps},monthLabel:{color:Ps},yearLabel:{color:Ps}},timeAxis:Ax(),logAxis:Ax(),valueAxis:Ax(),categoryAxis:Ax(),line:{symbol:"circle"},graph:{color:MU},gauge:{title:{color:Ps},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ps},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Fee.categoryAxis.splitLine.show=!1;const hFe=Fee;var pFe=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(Jn(e)){var a=Kc(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};ut(e,function(l,c){for(var u=!1,d=0;d<s.length;d++){var f=s[d],h=c.lastIndexOf(f);if(h>0&&h===c.length-f.length){var p=c.slice(0,h);p!=="data"&&(t.mainType=p,t[f.toLowerCase()]=l,u=!0)}}o.hasOwnProperty(c)&&(r[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,s=r.model,o=r.view;if(!s||!o)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,s,"mainType")&&u(l,s,"subType")&&u(l,s,"index","componentIndex")&&u(l,s,"name")&&u(l,s,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function u(d,f,h,p){return d[h]==null||f[p||h]===d[h]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),nP=["symbol","symbolSize","symbolRotate","symbolOffset"],TU=nP.concat(["symbolKeepAspect"]),mFe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},a=!1,s=0;s<nP.length;s++){var o=nP[s],l=n.get(o);Ar(l)?(a=!0,i[o]=l):r[o]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(cn({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var c=Ni(i);function u(d,f){for(var h=n.getRawValue(f),p=n.getDataParams(f),m=0;m<c.length;m++){var v=c[m];d.setItemVisual(f,v,i[v](h,p))}}return{dataEach:a?u:null}}},vFe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,a){for(var s=i.getItemModel(a),o=0;o<TU.length;o++){var l=TU[o],c=s.getShallow(l,!0);c!=null&&i.setItemVisual(a,l,c)}}return{dataEach:t.hasItemOption?r:null}}};function gFe(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function yFe(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function bFe(n,e){function t(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(s){a.push(s.seriesIndex)}),a}ut([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,a,s){i=cn({},i),s.dispatchAction(cn(i,{type:r[1],seriesIndex:t(a,i)}))})})}function a0(n,e,t,r,i){var a=n+e;t.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===o){var d=s.getData(),f=sw(d,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:Ln(f)?d.getName(f[0]):d.getName(f),selected:Jn(l)?l:cn({},l)})}})}function _Fe(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(a0("map","selectchanged",e,i,r),a0("pie","selectchanged",e,i,r)):r.fromAction==="select"?(a0("map","selected",e,i,r),a0("pie","selected",e,i,r)):r.fromAction==="unselect"&&(a0("map","unselected",e,i,r),a0("pie","unselected",e,i,r))})}function A1(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var wFe=Math.round(Math.random()*9),xFe=typeof Object.defineProperty=="function",SFe=function(){function n(){this._id="__ec_inner_"+wFe++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return xFe?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const CFe=SFe;var MFe=xi.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r+a),n.lineTo(t-i,r+a),n.closePath()}}),TFe=xi.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r),n.lineTo(t,r+a),n.lineTo(t-i,r),n.closePath()}}),AFe=xi.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=r-a+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,d=Math.sin(c),f=Math.cos(c),h=s*.6,p=s*.7;n.moveTo(t-u,l+o),n.arc(t,l,s,Math.PI-c,Math.PI*2+c),n.bezierCurveTo(t+u-d*h,l+o+f*h,t,r-p,t,r),n.bezierCurveTo(t,r-p,t-u+d*h,l+o+f*h,t-u,l+o),n.closePath()}}),EFe=xi.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,a=e.y,s=r/3*2;n.moveTo(i,a),n.lineTo(i+s,a+t),n.lineTo(i,a+t/4*3),n.lineTo(i-s,a+t),n.lineTo(i,a),n.closePath()}}),IFe={line:cm,rect:Ea,roundRect:Ea,square:Ea,circle:T6,diamond:TFe,pin:AFe,arrow:EFe,triangle:MFe},RFe={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var a=Math.min(t,r);i.x=n,i.y=e,i.width=a,i.height=a},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},rP={};ut(IFe,function(n,e){rP[e]=new n});var PFe=xi.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=WC(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=rP[r];i||(r="rect",i=rP[r]),RFe[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function DFe(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function sA(n,e,t,r,i,a,s){var o=n.indexOf("empty")===0;o&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=OJ(n.slice(8),new ei(e,t,r,i),s?"center":"cover"):n.indexOf("path://")===0?l=P6(n.slice(7),{},new ei(e,t,r,i),s?"center":"cover"):l=new PFe({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),l.__isEmptyBrush=o,l.setColor=DFe,a&&l.setColor(a),l}function kFe(n){return Ln(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function zee(n,e){if(n!=null)return Ln(n)||(n=[n,n]),[Ti(n[0],e[0])||0,Ti(Zr(n[1],n[0]),e[1])||0]}function Pp(n){return isFinite(n)}function LFe(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),r=Pp(r)?r:0,i=Pp(i)?i:1,a=Pp(a)?a:0,s=Pp(s)?s:0;var o=n.createLinearGradient(r,a,i,s);return o}function NFe(n,e,t){var r=t.width,i=t.height,a=Math.min(r,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*r+t.x,o=o*i+t.y,l=l*a),s=Pp(s)?s:.5,o=Pp(o)?o:.5,l=l>=0&&Pp(l)?l:.5;var c=n.createRadialGradient(s,o,0,s,o,l);return c}function iP(n,e,t){for(var r=e.type==="radial"?NFe(n,e,t):LFe(n,e,t),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function OFe(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function Ex(n){return parseInt(n,10)}function Ix(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var o=document.defaultView.getComputedStyle(n);return(n[i]||Ex(o[r])||Ex(n.style[r]))-(Ex(o[a])||0)-(Ex(o[s])||0)|0}function BFe(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:$i(n)?[n]:Ln(n)?n:null}function Uee(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&BFe(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=dr(t,function(a){return a/i}),r/=i)}return[t,r]}var FFe=new lm(!0);function iM(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function AU(n){return typeof n=="string"&&n!=="none"}function aM(n){var e=n.fill;return e!=null&&e!=="none"}function EU(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function IU(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function aP(n,e,t){var r=XQ(e.image,e.__image,t);if(HT(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*ULe),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function zFe(n,e,t,r){var i,a=iM(t),s=aM(t),o=t.strokePercent,l=o<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||FFe,d=e.__dirty;if(!r){var f=t.fill,h=t.stroke,p=s&&!!f.colorStops,m=a&&!!h.colorStops,v=s&&!!f.image,g=a&&!!h.image,y=void 0,b=void 0,_=void 0,x=void 0,S=void 0;(p||m)&&(S=e.getBoundingRect()),p&&(y=d?iP(n,f,S):e.__canvasFillGradient,e.__canvasFillGradient=y),m&&(b=d?iP(n,h,S):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),v&&(_=d||!e.__canvasFillPattern?aP(n,f,e):e.__canvasFillPattern,e.__canvasFillPattern=_),g&&(x=d||!e.__canvasStrokePattern?aP(n,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=_),p?n.fillStyle=y:v&&(_?n.fillStyle=_:s=!1),m?n.strokeStyle=b:g&&(x?n.strokeStyle=x:a=!1)}var T=e.getGlobalScale();u.setScale(T[0],T[1],e.segmentIgnoreThreshold);var C,M;n.setLineDash&&t.lineDash&&(i=Uee(e),C=i[0],M=i[1]);var A=!0;(c||d&ev)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),A=!1),u.reset(),e.buildPath(u,e.shape,r),u.toStatic(),e.pathUpdated()),A&&u.rebuildPath(n,l?o:1),C&&(n.setLineDash(C),n.lineDashOffset=M),r||(t.strokeFirst?(a&&IU(n,t),s&&EU(n,t)):(s&&EU(n,t),a&&IU(n,t))),C&&n.setLineDash([])}function UFe(n,e,t){var r=e.__image=XQ(t.image,e.__image,e,e.onload);if(!(!r||!HT(r))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=r.width/r.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=r.width,o=r.height),t.sWidth&&t.sHeight){var c=t.sx||0,u=t.sy||0;n.drawImage(r,c,u,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var c=t.sx,u=t.sy,d=s-c,f=o-u;n.drawImage(r,c,u,d,f,i,a,s,o)}else n.drawImage(r,i,a,s,o)}}function HFe(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||om,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,s=void 0;n.setLineDash&&t.lineDash&&(r=Uee(e),a=r[0],s=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=s),t.strokeFirst?(iM(t)&&n.strokeText(i,t.x,t.y),aM(t)&&n.fillText(i,t.x,t.y)):(aM(t)&&n.fillText(i,t.x,t.y),iM(t)&&n.strokeText(i,t.x,t.y)),a&&n.setLineDash([])}}var RU=["shadowBlur","shadowOffsetX","shadowOffsetY"],PU=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Hee(n,e,t,r,i){var a=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){oo(n,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(s)?qp.opacity:s}(r||e.blend!==t.blend)&&(a||(oo(n,i),a=!0),n.globalCompositeOperation=e.blend||qp.blend);for(var o=0;o<RU.length;o++){var l=RU[o];(r||e[l]!==t[l])&&(a||(oo(n,i),a=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(a||(oo(n,i),a=!0),n.shadowColor=e.shadowColor||qp.shadowColor),a}function DU(n,e,t,r,i){var a=f_(e,i.inHover),s=r?null:t&&f_(t,i.inHover)||{};if(a===s)return!1;var o=Hee(n,a,s,r,i);if((r||a.fill!==s.fill)&&(o||(oo(n,i),o=!0),AU(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==s.stroke)&&(o||(oo(n,i),o=!0),AU(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==s.opacity)&&(o||(oo(n,i),o=!0),n.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,c=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==c&&(o||(oo(n,i),o=!0),n.lineWidth=c)}for(var u=0;u<PU.length;u++){var d=PU[u],f=d[0];(r||a[f]!==s[f])&&(o||(oo(n,i),o=!0),n[f]=a[f]||d[1])}return o}function VFe(n,e,t,r,i){return Hee(n,f_(e,i.inHover),t&&f_(t,i.inHover),r,i)}function Vee(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function $Fe(n,e,t){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),Vee(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=r}function GFe(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var kU=1,LU=2,NU=3,OU=4;function WFe(n){var e=aM(n),t=iM(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function oo(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function f_(n,e){return e&&n.__hoverStyle||n.style}function $ee(n,e){Dp(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Dp(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~No,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||OFe(a,s))&&(s&&s.length&&(oo(n,t),n.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(oo(n,t),n.save(),$Fe(a,n,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=o=!0);var u=e instanceof xi&&e.autoBatch&&WFe(e.style);o||GFe(i,c.transform)?(oo(n,t),Vee(n,e)):u||oo(n,t);var d=f_(e,t.inHover);e instanceof xi?(t.lastDrawType!==kU&&(l=!0,t.lastDrawType=kU),DU(n,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&n.beginPath(),zFe(n,e,d,u),u&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof HR?(t.lastDrawType!==NU&&(l=!0,t.lastDrawType=NU),DU(n,e,c,l,t),HFe(n,e,d)):e instanceof Tm?(t.lastDrawType!==LU&&(l=!0,t.lastDrawType=LU),VFe(n,e,c,l,t),UFe(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==OU&&(l=!0,t.lastDrawType=OU),qFe(n,e,t)),u&&r&&oo(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function qFe(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=r.length;s<o;s++){var l=r[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Dp(n,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var c=0,u=i.length;c<u;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Dp(n,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var OE=new CFe,BU=new iw(100),FU=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function sP(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&OE.delete(n);var a=OE.get(n);if(a)return a;var s=fi(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,OE.set(n,o),n.dirty=!1,o;function l(c){for(var u=[t],d=!0,f=0;f<FU.length;++f){var h=s[FU[f]];if(h!=null&&!Ln(h)&&!Jn(h)&&!$i(h)&&typeof h!="boolean"){d=!1;break}u.push(h)}var p;if(d){p=u.join(",")+(i?"-svg":"");var m=BU.get(p);m&&(i?c.svgElement=m:c.image=m)}var v=Wee(s.dashArrayX),g=KFe(s.dashArrayY),y=Gee(s.symbol),b=YFe(v),_=qee(g),x=!i&&Zg.createCanvas(),S=i&&{tag:"g",attrs:{},key:"dcl",children:[]},T=M(),C;x&&(x.width=T.width*t,x.height=T.height*t,C=x.getContext("2d")),A(),d&&BU.put(p,x||S),c.image=x,c.svgElement=S,c.svgWidth=T.width,c.svgHeight=T.height;function M(){for(var I=1,D=0,L=b.length;D<L;++D)I=Q9(I,b[D]);for(var F=1,D=0,L=y.length;D<L;++D)F=Q9(F,y[D].length);I*=F;var B=_*b.length*y.length;return{width:Math.max(1,Math.min(I,s.maxTileWidth)),height:Math.max(1,Math.min(B,s.maxTileHeight))}}function A(){C&&(C.clearRect(0,0,x.width,x.height),s.backgroundColor&&(C.fillStyle=s.backgroundColor,C.fillRect(0,0,x.width,x.height)));for(var I=0,D=0;D<g.length;++D)I+=g[D];if(I<=0)return;for(var L=-_,F=0,B=0,k=0;L<T.height;){if(F%2===0){for(var H=B/2%y.length,z=0,O=0,G=0;z<T.width*2;){for(var X=0,D=0;D<v[k].length;++D)X+=v[k][D];if(X<=0)break;if(O%2===0){var J=(1-s.symbolSize)*.5,Q=z+v[k][O]*J,re=L+g[F]*J,de=v[k][O]*s.symbolSize,le=g[F]*s.symbolSize,fe=G/2%y[H].length;Ee(Q,re,de,le,y[H][fe])}z+=v[k][O],++G,++O,O===v[k].length&&(O=0)}++k,k===v.length&&(k=0)}L+=g[F],++B,++F,F===g.length&&(F=0)}function Ee(Re,He,$e,K,ce){var ie=i?1:t,Ue=sA(ce,Re*ie,He*ie,$e*ie,K*ie,s.color,s.symbolKeepAspect);if(i){var De=r.painter.renderOneToVNode(Ue);De&&S.children.push(De)}else $ee(C,Ue)}}}}function Gee(n){if(!n||n.length===0)return[["rect"]];if(Jn(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!Jn(n[t])){e=!1;break}if(e)return Gee([n]);for(var r=[],t=0;t<n.length;++t)Jn(n[t])?r.push([n[t]]):r.push(n[t]);return r}function Wee(n){if(!n||n.length===0)return[[0,0]];if($i(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!$i(n[r])){t=!1;break}if(t)return Wee([n]);for(var i=[],r=0;r<n.length;++r)if($i(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=dr(n[r],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function KFe(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if($i(n)){var e=Math.ceil(n);return[e,e]}var t=dr(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function YFe(n){return dr(n,function(e){return qee(e)})}function qee(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function XFe(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(s){var o=r.getItemVisual(s,"decal");if(o){var l=r.ensureUniqueItemVisual(s,"style");l.decal=sP(o,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=sP(i,e)}}})}var jFe=new Sc;const ec=jFe;var Kee={};function ZFe(n,e){Kee[n]=e}function QFe(n){return Kee[n]}var JFe=1,e9e=800,t9e=900,n9e=1e3,r9e=2e3,i9e=5e3,Yee=1e3,a9e=1100,J6=2e3,Xee=3e3,s9e=4e3,oA=4500,o9e=4600,l9e=5e3,c9e=6e3,jee=7e3,u9e={PROCESSOR:{FILTER:n9e,SERIES_FILTER:e9e,STATISTIC:i9e},VISUAL:{LAYOUT:Yee,PROGRESSIVE_LAYOUT:a9e,GLOBAL:J6,CHART:Xee,POST_CHART_LAYOUT:o9e,COMPONENT:s9e,BRUSH:l9e,CHART_ITEM:oA,ARIA:c9e,DECAL:jee}},ls="__flagInMainProcess",to="__pendingUpdate",BE="__needsUpdateStatus",zU=/^[a-zA-Z0-9_]+$/,FE="__connectUpdateStatus",UU=0,d9e=1,f9e=2;function Zee(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return Jee(this,n,e)}}function Qee(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Jee(this,n,e)}}function Jee(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Sc.prototype[e].apply(n,t)}var ete=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Sc),tte=ete.prototype;tte.on=Qee("on");tte.off=Qee("off");var s0,zE,Rx,Ud,UE,HE,VE,Gy,Wy,HU,VU,$E,$U,Px,GU,nte,Zo,WU,rte=function(n){Tn(e,n);function e(t,r,i){var a=n.call(this,new pFe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Jn(r)&&(r=ite[r]),a._dom=t;var s="canvas",o="auto",l=!1,c=a._zr=j9(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Zr(i.useDirtyRect,l),useCoarsePointer:Zr(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=aA(ii(c.flush,c),17),r=jr(r),r&&hee(r,!0),a._theme=r,a._locale=gBe(i.locale||GJ),a._coordSysMgr=new q6;var u=a._api=GU(a);function d(f,h){return f.__prio-h.__prio}return E2(oM,d),E2(oP,d),a._scheduler=new Bee(a,u,oP,oM),a._messageCenter=new ete,a._initEvents(),a.resize=ii(a.resize,a),c.animation.on("frame",a._onframe,a),HU(c,a),VU(c,a),bR(a),a}return e.prototype._onframe=function(){if(!this._disposed){WU(this);var t=this._scheduler;if(this[to]){var r=this[to].silent;this[ls]=!0;try{s0(this),Ud.update.call(this,null,this[to].updateParams)}catch(l){throw this[ls]=!1,this[to]=null,l}this._zr.flush(),this[ls]=!1,this[to]=null,Gy.call(this,r),Wy.call(this,r)}else if(t.unfinished){var i=JFe,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),HE(this,a),t.performVisualTasks(a),Px(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[ls]){if(this._disposed){this.id;return}var a,s,o;if(or(r)&&(i=r.lazyUpdate,a=r.silent,s=r.replaceMerge,o=r.transition,r=r.notMerge),this[ls]=!0,!this._model||r){var l=new ZBe(this._api),c=this._theme,u=this._model=new uee;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:s},lP);var d={seriesTransition:o,optionChanged:!0};if(i)this[to]={silent:a,updateParams:d},this[ls]=!1,this.getZr().wakeUp();else{try{s0(this),Ud.update.call(this,null,d)}catch(f){throw this[to]=null,this[ls]=!1,f}this._ssr||this._zr.flush(),this[to]=null,this[ls]=!1,Gy.call(this,a),Wy.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Pr.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Pr.svgSupported){var t=this._zr,r=t.storage.getDisplayList();return ut(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,a=[],s=this;ut(r,function(l){i.eachComponent({mainType:l},function(c){var u=s._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return ut(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(qU[i]){var l=o,c=o,u=-o,d=-o,f=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();ut(ib,function(b,_){if(b.group===i){var x=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(jr(t)),S=b.getDom().getBoundingClientRect();l=a(S.left,l),c=a(S.top,c),u=s(S.right,u),d=s(S.bottom,d),f.push({dom:x,left:S.left,top:S.top})}}),l*=h,c*=h,u*=h,d*=h;var p=u-l,m=d-c,v=Zg.createCanvas(),g=j9(v,{renderer:r?"svg":"canvas"});if(g.resize({width:p,height:m}),r){var y="";return ut(f,function(b){var _=b.left-l,x=b.top-c;y+='<g transform="translate('+_+","+x+')">'+b.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}else return t.connectedBackgroundColor&&g.add(new Ea({shape:{x:0,y:0,width:p,height:m},style:{fill:t.connectedBackgroundColor}})),ut(f,function(b){var _=new Tm({style:{x:b.left*h-l,y:b.top*h-c,image:b.dom}});g.add(_)}),g.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r){return UE(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return UE(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,a,s=cE(i,t);return ut(s,function(o,l){l.indexOf("Models")>=0&&ut(o,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(r);else if(l==="seriesModels"){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(a=a||d.containPoint(r,c))}},this)},this),!!a},e.prototype.getVisual=function(t,r){var i=this._model,a=cE(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?gFe(o,l,r):yFe(o,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;ut(h9e,function(r){var i=function(a){var s=t.getModel(),o=a.target,l,c=r==="globalout";if(c?l={}:o&&A1(o,function(p){var m=Ai(p);if(m&&m.dataIndex!=null){var v=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return l=v&&v.getDataParams(m.dataIndex,m.dataType,o)||{},!0}else if(m.eventData)return l=cn({},m.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",d=l.seriesIndex);var f=u&&d!=null&&s.getComponent(u,d),h=f&&t[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=r,t._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:h},t.trigger(r,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),ut(rb,function(r,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),ut(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),_Fe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&qQ(this.getDom(),t8,"");var r=this,i=r._api,a=r._model;ut(r._componentsViews,function(s){s.dispose(a,i)}),ut(r._chartsViews,function(s){s.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete ib[r.id]},e.prototype.resize=function(t){if(!this[ls]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=t&&t.silent;this[to]&&(a==null&&(a=this[to].silent),i=!0,this[to]=null),this[ls]=!0;try{i&&s0(this),Ud.update.call(this,{type:"resize",animation:cn({duration:0},t&&t.animation)})}catch(s){throw this[ls]=!1,s}this[ls]=!1,Gy.call(this,a),Wy.call(this,a)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(or(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!cP[t]){var i=cP[t](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=cn({},t);return r.type=rb[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(or(r)||(r={silent:!!r}),!!sM[t.type]&&this._model){if(this[ls]){this._pendingActions.push(t);return}var i=r.silent;VE.call(this,t,i);var a=r.flush;a?this._zr.flush():a!==!1&&Pr.browser.weChat&&this._throttledZrFlush(),Gy.call(this,i),Wy.call(this,i)}},e.prototype.updateLabelLayout=function(){ec.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){s0=function(d){var f=d._scheduler;f.restorePipelines(d._model),f.prepareStageTasks(),zE(d,!0),zE(d,!1),f.plan()},zE=function(d,f){for(var h=d._model,p=d._scheduler,m=f?d._componentsViews:d._chartsViews,v=f?d._componentsMap:d._chartsMap,g=d._zr,y=d._api,b=0;b<m.length;b++)m[b].__alive=!1;f?h.eachComponent(function(S,T){S!=="series"&&_(T)}):h.eachSeries(_);function _(S){var T=S.__requireNewView;S.__requireNewView=!1;var C="_ec_"+S.id+"_"+S.type,M=!T&&v[C];if(!M){var A=Kc(S.type),I=f?dd.getClass(A.main,A.sub):kf.getClass(A.sub);M=new I,M.init(h,y),v[C]=M,m.push(M),g.add(M.group)}S.__viewId=M.__id=C,M.__alive=!0,M.__model=S,M.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!f&&p.prepareView(M,S,h,y)}for(var b=0;b<m.length;){var x=m[b];x.__alive?b++:(!f&&x.renderTask.dispose(),g.remove(x.group),x.dispose(h,y),m.splice(b,1),v[x.__id]===x&&delete v[x.__id],x.__id=x.group.__ecComponentInfo=null)}},Rx=function(d,f,h,p,m){var v=d._model;if(v.setUpdatePayload(h),!p){ut([].concat(d._componentsViews).concat(d._chartsViews),x);return}var g={};g[p+"Id"]=h[p+"Id"],g[p+"Index"]=h[p+"Index"],g[p+"Name"]=h[p+"Name"];var y={mainType:p,query:g};m&&(y.subType=m);var b=h.excludeSeriesId,_;b!=null&&(_=Dr(),ut(Gs(b),function(S){var T=hc(S,null);T!=null&&_.set(T,!0)})),v&&v.eachComponent(y,function(S){var T=_&&_.get(S.id)!=null;if(!T)if(Mz(h))if(S instanceof nh)h.type===Kp&&!h.notBlur&&!S.get(["emphasis","disabled"])&&qNe(S,h,d._api);else{var C=S6(S.mainType,S.componentIndex,h.name,d._api),M=C.focusSelf,A=C.dispatchers;h.type===Kp&&M&&!h.notBlur&&$R(S.mainType,S.componentIndex,d._api),A&&ut(A,function(I){h.type===Kp?XC(I):jC(I)})}else qR(h)&&S instanceof nh&&(XNe(S,h,d._api),Sz(S),Zo(d))},d),v&&v.eachComponent(y,function(S){var T=_&&_.get(S.id)!=null;T||x(d[p==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},d);function x(S){S&&S.__alive&&S[f]&&S[f](S.__model,v,d._api,h)}},Ud={prepareAndUpdate:function(d){s0(this),Ud.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,f){var h=this._model,p=this._api,m=this._zr,v=this._coordSysMgr,g=this._scheduler;if(h){h.setUpdatePayload(d),g.restoreData(h,d),g.performSeriesTasks(h),v.create(h,p),g.performDataProcessorTasks(h,d),HE(this,h),v.update(h,p),t(h),g.performVisualTasks(h,d),$E(this,h,p,d,f);var y=h.get("backgroundColor")||"transparent",b=h.get("darkMode");m.setBackgroundColor(y),b!=null&&b!=="auto"&&m.setDarkMode(b),ec.trigger("afterupdate",h,p)}},updateTransform:function(d){var f=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(d);var m=[];h.eachComponent(function(g,y){if(g!=="series"){var b=f.getViewOfComponentModel(y);if(b&&b.__alive)if(b.updateTransform){var _=b.updateTransform(y,h,p,d);_&&_.update&&m.push(b)}else m.push(b)}});var v=Dr();h.eachSeries(function(g){var y=f._chartsMap[g.__viewId];if(y.updateTransform){var b=y.updateTransform(g,h,p,d);b&&b.update&&v.set(g.uid,1)}else v.set(g.uid,1)}),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0,dirtyMap:v}),Px(this,h,p,d,{},v),ec.trigger("afterupdate",h,p)}},updateView:function(d){var f=this._model;f&&(f.setUpdatePayload(d),kf.markUpdateMethod(d,"updateView"),t(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0}),$E(this,f,this._api,d,{}),ec.trigger("afterupdate",f,this._api))},updateVisual:function(d){var f=this,h=this._model;h&&(h.setUpdatePayload(d),h.eachSeries(function(p){p.getData().clearAllVisual()}),kf.markUpdateMethod(d,"updateVisual"),t(h),this._scheduler.performVisualTasks(h,d,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,m){if(p!=="series"){var v=f.getViewOfComponentModel(m);v&&v.__alive&&v.updateVisual(m,h,f._api,d)}}),h.eachSeries(function(p){var m=f._chartsMap[p.__viewId];m.updateVisual(p,h,f._api,d)}),ec.trigger("afterupdate",h,this._api))},updateLayout:function(d){Ud.update.call(this,d)}},UE=function(d,f,h,p){if(d._disposed){d.id;return}for(var m=d._model,v=d._coordSysMgr.getCoordinateSystems(),g,y=cE(m,h),b=0;b<v.length;b++){var _=v[b];if(_[f]&&(g=_[f](m,y,p))!=null)return g}},HE=function(d,f){var h=d._chartsMap,p=d._scheduler;f.eachSeries(function(m){p.updateStreamModes(m,h[m.__viewId])})},VE=function(d,f){var h=this,p=this.getModel(),m=d.type,v=d.escapeConnect,g=sM[m],y=g.actionInfo,b=(y.update||"update").split(":"),_=b.pop(),x=b[0]!=null&&Kc(b[0]);this[ls]=!0;var S=[d],T=!1;d.batch&&(T=!0,S=dr(d.batch,function(F){return F=fi(cn({},F),d),F.batch=null,F}));var C=[],M,A=qR(d),I=Mz(d);if(I&&vJ(this._api),ut(S,function(F){if(M=g.action(F,h._model,h._api),M=M||cn({},F),M.type=y.event||M.type,C.push(M),I){var B=y6(d),k=B.queryOptionMap,H=B.mainTypeSpecified,z=H?k.keys()[0]:"series";Rx(h,_,F,z),Zo(h)}else A?(Rx(h,_,F,"series"),Zo(h)):x&&Rx(h,_,F,x.main,x.sub)}),_!=="none"&&!I&&!A&&!x)try{this[to]?(s0(this),Ud.update.call(this,d),this[to]=null):Ud[_].call(this,d)}catch(F){throw this[ls]=!1,F}if(T?M={type:y.event||m,escapeConnect:v,batch:C}:M=C[0],this[ls]=!1,!f){var D=this._messageCenter;if(D.trigger(M.type,M),A){var L={type:"selectchanged",escapeConnect:v,selected:jNe(p),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};D.trigger(L.type,L)}}},Gy=function(d){for(var f=this._pendingActions;f.length;){var h=f.shift();VE.call(this,h,d)}},Wy=function(d){!d&&this.trigger("updated")},HU=function(d,f){d.on("rendered",function(h){f.trigger("rendered",h),d.animation.isFinished()&&!f[to]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},VU=function(d,f){d.on("mouseover",function(h){var p=h.target,m=A1(p,WR);m&&(KNe(m,h,f._api),Zo(f))}).on("mouseout",function(h){var p=h.target,m=A1(p,WR);m&&(YNe(m,h,f._api),Zo(f))}).on("click",function(h){var p=h.target,m=A1(p,function(y){return Ai(y).dataIndex!=null},!0);if(m){var v=m.selected?"unselect":"select",g=Ai(m);f._api.dispatchAction({type:v,dataType:g.dataType,dataIndexInside:g.dataIndex,seriesIndex:g.seriesIndex,isFromClick:!0})}})};function t(d){d.clearColorPalette(),d.eachSeries(function(f){f.clearColorPalette()})}function r(d){var f=[],h=[],p=!1;if(d.eachComponent(function(y,b){var _=b.get("zlevel")||0,x=b.get("z")||0,S=b.getZLevelKey();p=p||!!S,(y==="series"?h:f).push({zlevel:_,z:x,idx:b.componentIndex,type:y,key:S})}),p){var m=f.concat(h),v,g;E2(m,function(y,b){return y.zlevel===b.zlevel?y.z-b.z:y.zlevel-b.zlevel}),ut(m,function(y){var b=d.getComponent(y.type,y.idx),_=y.zlevel,x=y.key;v!=null&&(_=Math.max(v,_)),x?(_===v&&x!==g&&_++,g=x):g&&(_===v&&_++,g=""),v=_,b.setZLevel(_)})}}$E=function(d,f,h,p,m){r(f),$U(d,f,h,p,m),ut(d._chartsViews,function(v){v.__alive=!1}),Px(d,f,h,p,m),ut(d._chartsViews,function(v){v.__alive||v.remove(f,h)})},$U=function(d,f,h,p,m,v){ut(v||d._componentsViews,function(g){var y=g.__model;c(y,g),g.render(y,f,h,p),o(y,g),u(y,g)})},Px=function(d,f,h,p,m,v){var g=d._scheduler;m=cn(m||{},{updatedSeries:f.getSeries()}),ec.trigger("series:beforeupdate",f,h,m);var y=!1;f.eachSeries(function(b){var _=d._chartsMap[b.__viewId];_.__alive=!0;var x=_.renderTask;g.updatePayload(x,p),c(b,_),v&&v.get(b.uid)&&x.dirty(),x.perform(g.getPerformArgs(x))&&(y=!0),_.group.silent=!!b.get("silent"),s(b,_),Sz(b)}),g.unfinished=y||g.unfinished,ec.trigger("series:layoutlabels",f,h,m),ec.trigger("series:transition",f,h,m),f.eachSeries(function(b){var _=d._chartsMap[b.__viewId];o(b,_),u(b,_)}),a(d,f),ec.trigger("series:afterupdate",f,h,m)},Zo=function(d){d[BE]=!0,d.getZr().wakeUp()},WU=function(d){d[BE]&&(d.getZr().storage.traverse(function(f){J1(f)||i(f)}),d[BE]=!1)};function i(d){for(var f=[],h=d.currentStates,p=0;p<h.length;p++){var m=h[p];m==="emphasis"||m==="blur"||m==="select"||f.push(m)}d.selected&&d.states.select&&f.push("select"),d.hoverState===$T&&d.states.emphasis?f.push("emphasis"):d.hoverState===cw&&d.states.blur&&f.push("blur"),d.useStates(f)}function a(d,f){var h=d._zr,p=h.storage,m=0;p.traverse(function(v){v.isGroup||m++}),m>f.get("hoverLayerThreshold")&&!Pr.node&&!Pr.worker&&f.eachSeries(function(v){if(!v.preventUsingHoverLayer){var g=d._chartsMap[v.__viewId];g.__alive&&g.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function s(d,f){var h=d.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function o(d,f){if(!d.preventAutoZ){var h=d.get("z")||0,p=d.get("zlevel")||0;f.eachRendered(function(m){return l(m,h,p,-1/0),!0})}}function l(d,f,h,p){var m=d.getTextContent(),v=d.getTextGuideLine(),g=d.isGroup;if(g)for(var y=d.childrenRef(),b=0;b<y.length;b++)p=Math.max(l(y[b],f,h,p),p);else d.z=f,d.zlevel=h,p=Math.max(d.z2,p);if(m&&(m.z=f,m.zlevel=h,isFinite(p)&&(m.z2=p+2)),v){var _=d.textGuideLineConfig;v.z=f,v.zlevel=h,isFinite(p)&&(v.z2=p+(_&&_.showAbove?1:-1))}return p}function c(d,f){f.eachRendered(function(h){if(!J1(h)){var p=h.getTextContent(),m=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function u(d,f){var h=d.getModel("stateAnimation"),p=d.isAnimationEnabled(),m=h.get("duration"),v=m>0?{duration:m,delay:h.get("delay"),easing:h.get("easing")}:null;f.eachRendered(function(g){if(g.states&&g.states.emphasis){if(J1(g))return;if(g instanceof xi&&tOe(g),g.__dirty){var y=g.prevStates;y&&g.useStates(y)}if(p){g.stateTransition=v;var b=g.getTextContent(),_=g.getTextGuideLine();b&&(b.stateTransition=v),_&&(_.stateTransition=v)}g.__dirty&&i(g)}})}GU=function(d){return new(function(f){Tn(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var m=p.__ecComponentInfo;if(m!=null)return d._model.getComponent(m.mainType,m.index);p=p.parent}},h.prototype.enterEmphasis=function(p,m){XC(p,m),Zo(d)},h.prototype.leaveEmphasis=function(p,m){jC(p,m),Zo(d)},h.prototype.enterBlur=function(p){WNe(p),Zo(d)},h.prototype.leaveBlur=function(p){fJ(p),Zo(d)},h.prototype.enterSelect=function(p){hJ(p),Zo(d)},h.prototype.leaveSelect=function(p){pJ(p),Zo(d)},h.prototype.getModel=function(){return d.getModel()},h.prototype.getViewOfComponentModel=function(p){return d.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return d.getViewOfSeriesModel(p)},h}(dee))(d)},nte=function(d){function f(h,p){for(var m=0;m<h.length;m++){var v=h[m];v[FE]=p}}ut(rb,function(h,p){d._messageCenter.on(p,function(m){if(qU[d.group]&&d[FE]!==UU){if(m&&m.escapeConnect)return;var v=d.makeActionFromEvent(m),g=[];ut(ib,function(y){y!==d&&y.group===d.group&&g.push(y)}),f(g,UU),ut(g,function(y){y[FE]!==d9e&&y.dispatchAction(v)}),f(g,f9e)}})})}}(),e}(Sc),e8=rte.prototype;e8.on=Zee("on");e8.off=Zee("off");e8.one=function(n,e,t){var r=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),r.off(n,i)}this.on.call(this,n,i,t)};var h9e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],sM={},rb={},oP=[],lP=[],oM=[],ite={},cP={},ib={},qU={},p9e=+new Date-0,t8="_echarts_instance_";function m9e(n,e,t){var r=!(t&&t.ssr);if(r){var i=v9e(n);if(i)return i}var a=new rte(n,e,t);return a.id="ec_"+p9e++,ib[a.id]=a,r&&qQ(n,t8,a.id),nte(a),ec.trigger("afterinit",a),a}function v9e(n){return ib[P8e(n,t8)]}function ate(n,e){ite[n]=e}function ste(n){wi(lP,n)<0&&lP.push(n)}function ote(n,e){r8(oP,n,e,r9e)}function g9e(n){n8("afterinit",n)}function y9e(n){n8("afterupdate",n)}function n8(n,e){ec.on(n,e)}function Im(n,e,t){Ar(e)&&(t=e,e="");var r=or(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),e=n.event,!rb[e]&&(au(zU.test(r)&&zU.test(e)),sM[r]||(sM[r]={action:t,actionInfo:n}),rb[e]=r)}function b9e(n,e){q6.register(n,e)}function _9e(n,e){r8(oM,n,e,Yee,"layout")}function Rm(n,e){r8(oM,n,e,Xee,"visual")}var KU=[];function r8(n,e,t,r,i){if((Ar(e)||or(e))&&(t=e,e=r),!(wi(KU,t)>=0)){KU.push(t);var a=Bee.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,n.push(a)}}function lte(n,e){cP[n]=e}function w9e(n,e,t){var r=QFe("registerMap");r&&r(n,e,t)}var x9e=S7e;Rm(J6,Q7e);Rm(oA,J7e);Rm(oA,eFe);Rm(J6,mFe);Rm(oA,vFe);Rm(jee,XFe);ste(hee);ote(t9e,a7e);lte("default",tFe);Im({type:Kp,event:Kp,update:Kp},Vs);Im({type:N2,event:N2,update:N2},Vs);Im({type:j1,event:j1,update:j1},Vs);Im({type:O2,event:O2,update:O2},Vs);Im({type:Z1,event:Z1,update:Z1},Vs);ate("light",fFe);ate("dark",hFe);function qy(n){return n==null?0:n.length||1}function YU(n){return n}var S9e=function(){function n(e,t,r,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=r||YU,this._newKeyGetter=i||YU,this.context=a,this._diffModeMultiple=s==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=r[o],c=qy(l);if(c>1){var u=l.shift();l.length===1&&(r[o]=l[0]),this._update&&this._update(u,s)}else c===1?(r[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},a=[],s=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],c=r[l],u=i[l],d=qy(c),f=qy(u);if(d>1&&f===1)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(d===1&&f>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(d===1&&f===1)this._update&&this._update(u,c),i[l]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(d>1)for(var h=0;h<d;h++)this._remove&&this._remove(c[h]);else this._remove&&this._remove(c)}this._performRestAdd(s,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=t[i],s=qy(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(r[s]=o),!!t){var l=t[o],c=qy(l);c===0?(t[o]=s,a&&r.push(o)):c===1?t[o]=[l,s]:l.push(s)}}},n}();const C9e=S9e;var M9e=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function T9e(n,e){var t={},r=t.encode={},i=Dr(),a=[],s=[],o={};ut(n.dimensions,function(f){var h=n.getDimensionInfo(f),p=h.coordDim;if(p){var m=h.coordDimIndex;GE(r,p)[m]=f,h.isExtraCoord||(i.set(p,1),E9e(h.type)&&(a[0]=f),GE(o,p)[m]=n.getDimensionIndex(h.name)),h.defaultTooltip&&s.push(f)}iee.each(function(v,g){var y=GE(r,g),b=h.otherDims[g];b!=null&&b!==!1&&(y[b]=h.name)})});var l=[],c={};i.each(function(f,h){var p=r[h];c[h]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=dr(l,function(f){return n.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=r.label;u&&u.length&&(a=u.slice());var d=r.tooltip;return d&&d.length?s=d.slice():s.length||(s=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=s,t.userOutput=new M9e(o,e),t}function GE(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function A9e(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function E9e(n){return!(n==="ordinal"||n==="time")}var I9e=function(){function n(e){this.otherDims={},e!=null&&cn(this,e)}return n}();const U2=I9e;var R9e=da(),P9e={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},cte=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=fte(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Zr(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=mee(this.source),r=!hte(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[o];if(d&&d.storeDimIndex===s)l=t?d.name:null,c=d.type,u=d.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=t?f.name:null,c=f.type)}a.push({property:l,type:c,ordinalMeta:u}),t&&l!=null&&(!d||!d.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=P9e[c]||"f",u&&(i+=u.uid),i+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:p}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),r++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function ute(n){return n instanceof cte}function dte(n){for(var e=Dr(),t=0;t<(n||[]).length;t++){var r=n[t],i=or(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function fte(n){var e=R9e(n);return e.dimNameMap||(e.dimNameMap=dte(n.dimensionsDefine))}function hte(n){return n>30}var Ky=or,Hd=dr,D9e=typeof Int32Array>"u"?Array:Int32Array,k9e="e\0\0",XU=-1,L9e=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],N9e=["_approximateExtent"],jU,Dx,Yy,Xy,WE,kx,qE,O9e=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;ute(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},s=[],o={},l=!1,c={},u=0;u<r.length;u++){var d=r[u],f=Jn(d)?new U2({name:d}):d instanceof U2?d:new U2(d),h=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=h,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};s.push(h),a[h]=f,c[h]!=null&&(l=!0),f.createInvertedIndices&&(o[h]=[]),p.itemName===0&&(this._nameDimIdx=u),p.itemId===0&&(this._idDimIdx=u),i&&(f.storeDimIndex=u)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=Dr();ut(s,function(v){m.set(a[v].storeDimIndex,v)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if($i(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,a;if(e instanceof ZR&&(a=e),!a){var s=this.dimensions,o=K6(e)||yo(e)?new vee(e,s.length):e;a=new ZR;var l=Hd(s,function(c){return{type:i._dimInfos[c].type,property:c}});a.initData(o,l,r)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=T9e(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),i=r.start,a=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&qE(this,o)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Df&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===Bl;if(l&&!i.pure)for(var c=[],u=e;u<t;u++){var d=i.getItem(u,c);if(!this.hasItemOption&&_8e(d)&&(this.hasItemOption=!0),d){var f=d.name;a[u]==null&&f!=null&&(a[u]=hc(f,null));var h=d.id;s[u]==null&&h!=null&&(s[u]=hc(h,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<t;u++)qE(this,u);jU(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){Ky(e)?cn(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=Yy(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return Dx(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return Ln(e)?i.getValues(Hd(e,function(a){return r._getStoreDimIndex(a)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r[t];return i==null||isNaN(i)?XU:i},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){Ar(e)&&(r=t,t=e,e=[]);var i=r||this,a=Hd(Xy(e),this._getStoreDimIndex,this);this._store.each(a,i?ii(t,i):t)},n.prototype.filterSelf=function(e,t,r){Ar(e)&&(r=t,t=e,e=[]);var i=r||this,a=Hd(Xy(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?ii(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=Ni(e);return ut(i,function(a){var s=t._getStoreDimIndex(a);r[s]=e[a]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){Ar(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var a=r||i||this,s=Hd(Xy(e),this._getStoreDimIndex,this),o=kx(this);return o._store=this._store.map(s,a?ii(t,a):t),o},n.prototype.modify=function(e,t,r,i){var a=r||i||this,s=Hd(Xy(e),this._getStoreDimIndex,this);this._store.modify(s,a?ii(t,a):t)},n.prototype.downSample=function(e,t,r,i){var a=kx(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),a},n.prototype.lttbDownSample=function(e,t){var r=kx(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new Za(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new C9e(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Dx(e,r)},function(r){return Dx(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},Ky(e)?cn(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),Ln(a)?a=a.slice():Ky(a)&&(a=cn({},a)),i[t]=a),a},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,Ky(t)?cn(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){Ky(e)?cn(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?cn(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;NNe(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){ut(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:Hd(this.dimensions,this._getDimInfo,this),this.hostModel)),WE(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];Ar(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(o6(arguments)))})},n.internalField=function(){jU=function(e){var t=e._invertedIndicesMap;ut(t,function(r,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){r=t[i]=new D9e(s.categories.length);for(var l=0;l<r.length;l++)r[l]=XU;for(var l=0;l<o.count();l++)r[o.get(a.storeDimIndex,l)]=l}})},Yy=function(e,t,r){return hc(e._getCategory(t,r),null)},Dx=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=Yy(e,e._idDimIdx,t)),r==null&&(r=k9e+t),r},Xy=function(e){return Ln(e)||(e=e!=null?[e]:[]),e},kx=function(e){var t=new n(e._schema?e._schema:Hd(e.dimensions,e._getDimInfo,e),e.hostModel);return WE(t,e),t},WE=function(e,t){ut(L9e.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,ut(N9e,function(r){e[r]=jr(t[r])}),e._calculationInfo=cn({},t._calculationInfo)},qE=function(e,t){var r=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=r[t],l=i[t];if(o==null&&a!=null&&(r[t]=o=Yy(e,a,t)),l==null&&s!=null&&(i[t]=l=Yy(e,s,t)),l==null&&o!=null){var c=e._nameRepeatCount,u=c[o]=(c[o]||0)+1;l=o,u>1&&(l+="__ec__"+u),i[t]=l}}}(),n}();const i8=O9e;function a8(n,e){K6(n)||(n=Y6(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=Dr(),a=[],s=F9e(n,t,r,e.dimensionsCount),o=e.canOmitUnusedDimensions&&hte(s),l=r===n.dimensionsDefine,c=l?fte(n):dte(r),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(n,s));for(var d=Dr(u),f=new wee(s),h=0;h<f.length;h++)f[h]=-1;function p(M){var A=f[M];if(A<0){var I=r[M],D=or(I)?I:{name:I},L=new U2,F=D.name;F!=null&&c.get(F)!=null&&(L.name=L.displayName=F),D.type!=null&&(L.type=D.type),D.displayName!=null&&(L.displayName=D.displayName);var B=a.length;return f[M]=B,L.storeDimIndex=M,a.push(L),L}return a[A]}if(!o)for(var h=0;h<s;h++)p(h);d.each(function(M,A){var I=Gs(M).slice();if(I.length===1&&!Jn(I[0])&&I[0]<0){d.set(A,!1);return}var D=d.set(A,[]);ut(I,function(L,F){var B=Jn(L)?c.get(L):L;B!=null&&B<s&&(D[F]=B,v(p(B),A,F))})});var m=0;ut(t,function(M){var A,I,D,L;if(Jn(M))A=M,L={};else{L=M,A=L.name;var F=L.ordinalMeta;L.ordinalMeta=null,L=cn({},L),L.ordinalMeta=F,I=L.dimsDef,D=L.otherDims,L.name=L.coordDim=L.coordDimIndex=L.dimsDef=L.otherDims=null}var B=d.get(A);if(B!==!1){if(B=Gs(B),!B.length)for(var k=0;k<(I&&I.length||1);k++){for(;m<s&&p(m).coordDim!=null;)m++;m<s&&B.push(m++)}ut(B,function(H,z){var O=p(H);if(l&&L.type!=null&&(O.type=L.type),v(fi(O,L),A,z),O.name==null&&I){var G=I[z];!or(G)&&(G={name:G}),O.name=O.displayName=G.name,O.defaultTooltip=G.defaultTooltip}D&&fi(O.otherDims,D)})}});function v(M,A,I){iee.get(A)!=null?M.otherDims[A]=I:(M.coordDim=A,M.coordDimIndex=I,i.set(A,!0))}var g=e.generateCoord,y=e.generateCoordCount,b=y!=null;y=g?y||1:0;var _=g||"value";function x(M){M.name==null&&(M.name=M.coordDim)}if(o)ut(a,function(M){x(M)}),a.sort(function(M,A){return M.storeDimIndex-A.storeDimIndex});else for(var S=0;S<s;S++){var T=p(S),C=T.coordDim;C==null&&(T.coordDim=z9e(_,i,b),T.coordDimIndex=0,(!g||y<=0)&&(T.isExtraCoord=!0),y--),x(T),T.type==null&&(oee(n,S)===qa.Must||T.isExtraCoord&&(T.otherDims.itemName!=null||T.otherDims.seriesName!=null))&&(T.type="ordinal")}return B9e(a),new cte({source:n,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function B9e(n){for(var e=Dr(),t=0;t<n.length;t++){var r=n[t],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function F9e(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return ut(e,function(a){var s;or(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function z9e(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var U9e=function(){function n(e){this.coordSysDims=[],this.axisMap=Dr(),this.categoryAxisMap=Dr(),this.coordSysName=e}return n}();function H9e(n){var e=n.get("coordinateSystem"),t=new U9e(e),r=V9e[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var V9e={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",lc).models[0],a=n.getReferringComponents("yAxis",lc).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),o0(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),o0(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",lc).models[0];e.coordSysDims=["single"],t.set("single",i),o0(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",lc).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),o0(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),o0(s)&&(r.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();ut(a.parallelAxisIndex,function(o,l){var c=i.getComponent("parallelAxis",o),u=s[l];t.set(u,c),o0(c)&&(r.set(u,c),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function o0(n){return n.get("type")==="category"}function $9e(n,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,a,s,o;G9e(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(n&&n.get("stack")),c,u,d,f;if(ut(a,function(y,b){Jn(y)&&(a[b]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!c&&y.ordinalMeta&&(c=y),!u&&y.type!=="ordinal"&&y.type!=="time"&&(!i||i===y.coordDim)&&(u=y))}),u&&!r&&!c&&(r=!0),u){d="__\0ecstackresult_"+n.id,f="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var h=u.coordDim,p=u.type,m=0;ut(a,function(y){y.coordDim===h&&m++});var v={name:d,coordDim:h,coordDimIndex:m,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},g={name:f,coordDim:f,coordDimIndex:m+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(v.storeDimIndex=o.ensureCalculationDimension(f,p),g.storeDimIndex=o.ensureCalculationDimension(d,p)),s.appendCalculationDimension(v),s.appendCalculationDimension(g)):(a.push(v),a.push(g))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:r,stackedOverDimension:f,stackResultDimension:d}}function G9e(n){return!ute(n.schema)}function pte(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function W9e(n,e){return pte(n,e)?n.getCalculationInfo("stackResultDimension"):e}function q9e(n,e){var t=n.get("coordinateSystem"),r=q6.get(t),i;return e&&e.coordSysDims&&(i=dr(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=A9e(l)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function K9e(n,e,t){var r,i;return t&&ut(n,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(r==null&&(r=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function mte(n,e,t){t=t||{};var r=e.getSourceManager(),i,a=!1;n?(a=!0,i=Y6(n)):(i=r.getSource(),a=i.sourceFormat===Bl);var s=H9e(e),o=q9e(e,s),l=t.useEncodeDefaulter,c=Ar(l)?l:l?Ui(PBe,o,e):null,u={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},d=a8(i,u),f=K9e(d.dimensions,t.createInvertedIndices,s),h=a?null:r.getSharedDataStore(d),p=$9e(e,{schema:d,store:h}),m=new i8(d,e);m.setCalculationInfo(p);var v=f!=null&&Y9e(i)?function(g,y,b,_){return _===f?b:this.defaultDimValueGetter(g,y,b,_)}:null;return m.hasItemOption=!1,m.initData(a?i:h,null,v),m}function Y9e(n){if(n.sourceFormat===Bl){var e=X9e(n.data||[]);return!Ln(aw(e))}}function X9e(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}var vte=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();UT(vte);const Td=vte;var j9e=0,Z9e=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++j9e}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&dr(r,Q9e);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!Jn(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Dr(this.categories))},n}();function Q9e(n){return or(n)&&n.value!=null?n.value:n+""}const uP=Z9e;function dP(n){return n.type==="interval"||n.type==="log"}function J9e(n,e,t,r){var i={},a=n[1]-n[0],s=i.interval=HQ(a/e,!0);t!=null&&s<t&&(s=i.interval=t),r!=null&&s>r&&(s=i.interval=r);var o=i.intervalPrecision=gte(s),l=i.niceTickExtent=[Oa(Math.ceil(n[0]/s)*s,o),Oa(Math.floor(n[1]/s)*s,o)];return eze(l,n),i}function KE(n){var e=Math.pow(10,v6(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,Oa(t*e)}function gte(n){return n_(n)+2}function ZU(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function eze(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),ZU(n,0,e),ZU(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function lA(n,e){return n>=e[0]&&n<=e[1]}function cA(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function uA(n,e){return n*(e[1]-e[0])+e[0]}var yte=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new uP({})),Ln(i)&&(i=new uP({categories:dr(i,function(a){return or(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:Jn(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),lA(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),cA(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(uA(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,r.length);s<l;++s){var c=r[s];i[s]=c,a[c]=s}for(var u=0;s<o;++s){for(;a[u]!=null;)u++;i.push(u),a[u]=s}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Td);Td.registerClass(yte);const bte=yte;var Kh=Oa,_te=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return lA(t,this._extent)},e.prototype.normalize=function(t){return cA(t,this._extent)},e.prototype.scale=function(t){return uA(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=gte(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!r)return o;var l=1e4;i[0]<a[0]&&(t?o.push({value:Kh(a[0]-r,s)}):o.push({value:i[0]}));for(var c=a[0];c<=a[1]&&(o.push({value:c}),c=Kh(c+r,s),c!==o[o.length-1].value);)if(o.length>l)return[];var u=o.length?o[o.length-1].value:a[1];return i[1]>u&&(t?o.push({value:Kh(u+r,s)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<r.length;s++){for(var o=r[s],l=r[s-1],c=0,u=[],d=o.value-l.value,f=d/t;c<t-1;){var h=Kh(l.value+(c+1)*f);h>a[0]&&h<a[1]&&u.push(h),c++}i.push(u)}return i},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=n_(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Kh(t.value,i,!0);return eee(a)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=J9e(a,t,r,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;t.fixMin||(r[0]=Kh(Math.floor(r[0]/s)*s)),t.fixMax||(r[1]=Kh(Math.ceil(r[1]/s)*s))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(Td);Td.registerClass(_te);const uw=_te;var wte=typeof Float32Array<"u",tze=wte?Float32Array:Array;function YE(n){return Ln(n)?wte?new Float32Array(n):n:new tze(n)}var nze="__ec_stack_";function s8(n){return n.get("stack")||nze+n.seriesIndex}function o8(n){return n.dim+n.index}function xte(n,e){var t=[];return e.eachSeriesByType(n,function(r){Cte(r)&&t.push(r)}),t}function rze(n){var e={};ut(n,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var d=l.getData(),f=u.dim+"_"+u.index,h=d.getDimensionIndex(d.mapDimension(u.dim)),p=d.getStore(),m=0,v=p.count();m<v;++m){var g=p.get(h,m);e[f]?e[f].push(g):e[f]=[g]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,c){return l-c});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[r]=a}}return t}function Ste(n){var e=rze(n),t=[];return ut(n,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,c=e[l],u=Math.abs(s[1]-s[0]),d=a.scale.getExtent(),f=Math.abs(d[1]-d[0]);o=c?u/f*c:u}else{var h=r.getData();o=Math.abs(s[1]-s[0])/h.count()}var p=Ti(r.get("barWidth"),o),m=Ti(r.get("barMaxWidth"),o),v=Ti(r.get("barMinWidth")||(Mte(r)?.5:1),o),g=r.get("barGap"),y=r.get("barCategoryGap");t.push({bandWidth:o,barWidth:p,barMaxWidth:m,barMinWidth:v,barGap:g,barCategoryGap:y,axisKey:o8(a),stackId:s8(r)})}),ize(t)}function ize(n){var e={};ut(n,function(r,i){var a=r.axisKey,s=r.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;e[a]=o;var c=r.stackId;l[c]||o.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=r.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var d=r.barMaxWidth;d&&(l[c].maxWidth=d);var f=r.barMinWidth;f&&(l[c].minWidth=f);var h=r.barGap;h!=null&&(o.gap=h);var p=r.barCategoryGap;p!=null&&(o.categoryGap=p)});var t={};return ut(e,function(r,i){t[i]={};var a=r.stacks,s=r.bandWidth,o=r.categoryGap;if(o==null){var l=Ni(a).length;o=Math.max(35-l*4,15)+"%"}var c=Ti(o,s),u=Ti(r.gap,1),d=r.remainedWidth,f=r.autoWidthCount,h=(d-c)/(f+(f-1)*u);h=Math.max(h,0),ut(a,function(g){var y=g.maxWidth,b=g.minWidth;if(g.width){var _=g.width;y&&(_=Math.min(_,y)),b&&(_=Math.max(_,b)),g.width=_,d-=_+u*_,f--}else{var _=h;y&&y<_&&(_=Math.min(y,d)),b&&b>_&&(_=b),_!==h&&(g.width=_,d-=_+u*_,f--)}}),h=(d-c)/(f+(f-1)*u),h=Math.max(h,0);var p=0,m;ut(a,function(g,y){g.width||(g.width=h),m=g,p+=g.width*(1+u)}),m&&(p-=m.width*u);var v=-p/2;ut(a,function(g,y){t[i][y]=t[i][y]||{bandWidth:s,offset:v,width:g.width},v+=g.width*(1+u)})}),t}function aze(n,e,t){if(n&&e){var r=n[o8(e)];return r!=null&&t!=null?r[s8(t)]:r}}function sze(n,e){var t=xte(n,e),r=Ste(t);ut(t,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=s8(i),c=r[o8(o)][l],u=c.offset,d=c.width;a.setLayout({bandWidth:c.bandWidth,offset:u,size:d})})}function oze(n){return{seriesType:n,plan:Iee(),reset:function(e){if(Cte(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),c=t.mapDimension(a.dim),u=t.getCalculationInfo("stackResultDimension"),d=pte(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),h=lze(i,a),p=Mte(e),m=e.get("barMinHeight")||0,v=u&&t.getDimensionIndex(u),g=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(b,_){for(var x=b.count,S=p&&YE(x*3),T=p&&l&&YE(x*3),C=p&&YE(x),M=r.master.getRect(),A=f?M.width:M.height,I,D=_.getStore(),L=0;(I=b.next())!=null;){var F=D.get(d?v:s,I),B=D.get(o,I),k=h,H=void 0;d&&(H=+F-D.get(s,I));var z=void 0,O=void 0,G=void 0,X=void 0;if(f){var J=r.dataToPoint([F,B]);if(d){var Q=r.dataToPoint([H,B]);k=Q[0]}z=k,O=J[1]+y,G=J[0]-k,X=g,Math.abs(G)<m&&(G=(G<0?-1:1)*m)}else{var J=r.dataToPoint([B,F]);if(d){var Q=r.dataToPoint([B,H]);k=Q[1]}z=J[0]+y,O=k,G=g,X=J[1]-k,Math.abs(X)<m&&(X=(X<=0?-1:1)*m)}p?(S[L]=z,S[L+1]=O,S[L+2]=f?G:X,T&&(T[L]=f?M.x:z,T[L+1]=f?O:M.y,T[L+2]=A),C[I]=I):_.setItemLayout(I,{x:z,y:O,width:G,height:X}),L+=3}p&&_.setLayout({largePoints:S,largeDataIndices:C,largeBackgroundPoints:T,valueAxisHorizontal:f})}}}}}}function Cte(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Mte(n){return n.pipelineContext&&n.pipelineContext.large}function lze(n,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var cze=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},Tte=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return XT(t.value,Vz[wBe(Bv(this._minLevelUnit))]||Vz.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return xBe(t,r,i,s,a)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,i=[];if(!t)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=vze(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(s),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=pl,r[1]+=pl),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-pl}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=Lx.length,l=Math.min(cze(Lx,this._approxInterval,0,o),o-1);this._interval=Lx[l][1],this._minLevelUnit=Lx[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return $i(t)?t:+ud(t)},e.prototype.contain=function(t){return lA(this.parse(t),this._extent)},e.prototype.normalize=function(t){return cA(this.parse(t),this._extent)},e.prototype.scale=function(t){return uA(t,this._extent)},e.type="time",e}(uw),Lx=[["second",U6],["minute",H6],["hour",eb],["quarter-day",eb*6],["half-day",eb*12],["day",pl*1.2],["half-week",pl*3.5],["week",pl*7],["month",pl*31],["quarter",pl*95],["half-year",Hz/2],["year",Hz]];function uze(n,e,t,r){var i=ud(e),a=ud(t),s=function(p){return $z(i,p,r)===$z(a,p,r)},o=function(){return s("year")},l=function(){return o()&&s("month")},c=function(){return l()&&s("day")},u=function(){return c()&&s("hour")},d=function(){return u()&&s("minute")},f=function(){return d()&&s("second")},h=function(){return f()&&s("millisecond")};switch(n){case"year":return o();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return f();case"millisecond":return h()}}function dze(n,e){return n/=pl,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function fze(n){var e=30*pl;return n/=e,n>6?6:n>3?3:n>2?2:1}function hze(n){return n/=eb,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function QU(n,e){return n/=e?H6:U6,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function pze(n){return HQ(n,!0)}function mze(n,e,t){var r=new Date(n);switch(Bv(e)){case"year":case"month":r[YJ(t)](0);case"day":r[XJ(t)](1);case"hour":r[jJ(t)](0);case"minute":r[ZJ(t)](0);case"second":r[QJ(t)](0),r[JJ(t)](0)}return r.getTime()}function vze(n,e,t,r){var i=1e4,a=qJ,s=0;function o(A,I,D,L,F,B,k){for(var H=new Date(I),z=I,O=H[L]();z<D&&z<=r[1];)k.push({value:z}),O+=A,H[F](O),z=H.getTime();k.push({value:z,notAdd:!0})}function l(A,I,D){var L=[],F=!I.length;if(!uze(Bv(A),r[0],r[1],t)){F&&(I=[{value:mze(new Date(r[0]),A,t)},{value:r[1]}]);for(var B=0;B<I.length-1;B++){var k=I[B].value,H=I[B+1].value;if(k!==H){var z=void 0,O=void 0,G=void 0,X=!1;switch(A){case"year":z=Math.max(1,Math.round(e/pl/365)),O=V6(t),G=SBe(t);break;case"half-year":case"quarter":case"month":z=fze(e),O=Fv(t),G=YJ(t);break;case"week":case"half-week":case"day":z=dze(e),O=jT(t),G=XJ(t),X=!0;break;case"half-day":case"quarter-day":case"hour":z=hze(e),O=o_(t),G=jJ(t);break;case"minute":z=QU(e,!0),O=ZT(t),G=ZJ(t);break;case"second":z=QU(e,!1),O=QT(t),G=QJ(t);break;case"millisecond":z=pze(e),O=JT(t),G=JJ(t);break}o(z,k,H,O,G,X,L),A==="year"&&D.length>1&&B===0&&D.unshift({value:D[0].value-z})}}for(var B=0;B<L.length;B++)D.push(L[B]);return L}}for(var c=[],u=[],d=0,f=0,h=0;h<a.length&&s++<i;++h){var p=Bv(a[h]);if(_Be(a[h])){l(a[h],c[c.length-1]||[],u);var m=a[h+1]?Bv(a[h+1]):null;if(p!==m){if(u.length){f=d,u.sort(function(A,I){return A.value-I.value});for(var v=[],g=0;g<u.length;++g){var y=u[g].value;(g===0||u[g-1].value!==y)&&(v.push(u[g]),y>=r[0]&&y<=r[1]&&d++)}var b=(r[1]-r[0])/e;if(d>b*1.5&&f>b/1.5||(c.push(v),d>b||n===a[h]))break}u=[]}}}for(var _=Os(dr(c,function(A){return Os(A,function(I){return I.value>=r[0]&&I.value<=r[1]&&!I.notAdd})}),function(A){return A.length>0}),x=[],S=_.length-1,h=0;h<_.length;++h)for(var T=_[h],C=0;C<T.length;++C)x.push({value:T[C].value,level:S-h});x.sort(function(A,I){return A.value-I.value});for(var M=[],h=0;h<x.length;++h)(h===0||x[h].value!==x[h-1].value)&&M.push(x[h]);return M}Td.registerClass(Tte);const gze=Tte;var JU=Td.prototype,ab=uw.prototype,yze=Oa,bze=Math.floor,_ze=Math.ceil,Nx=Math.pow,$l=Math.log,l8=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new uw,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,a=r.getExtent(),s=ab.getTicks.call(this,t);return dr(s,function(o){var l=o.value,c=Oa(Nx(this.base,l));return c=l===i[0]&&this._fixMin?Ox(c,a[0]):c,c=l===i[1]&&this._fixMax?Ox(c,a[1]):c,{value:c}},this)},e.prototype.setExtent=function(t,r){var i=$l(this.base);t=$l(Math.max(0,t))/i,r=$l(Math.max(0,r))/i,ab.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=JU.getExtent.call(this);r[0]=Nx(t,r[0]),r[1]=Nx(t,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=Ox(r[0],a[0])),this._fixMax&&(r[1]=Ox(r[1],a[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=$l(t[0])/$l(r),t[1]=$l(t[1])/$l(r),JU.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=g8e(i),s=t/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[Oa(_ze(r[0]/a)*a),Oa(bze(r[1]/a)*a)];this._interval=a,this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){ab.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=$l(t)/$l(this.base),lA(t,this._extent)},e.prototype.normalize=function(t){return t=$l(t)/$l(this.base),cA(t,this._extent)},e.prototype.scale=function(t){return t=uA(t,this._extent),Nx(this.base,t)},e.type="log",e}(Td),Ate=l8.prototype;Ate.getMinorTicks=ab.getMinorTicks;Ate.getLabel=ab.getLabel;function Ox(n,e){return yze(n,n_(e))}Td.registerClass(l8);const wze=l8;var xze=function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",!0);Ar(a)?this._modelMinNum=Bx(e,a({min:r[0],max:r[1]})):a!=="dataMin"&&(this._modelMinNum=Bx(e,a));var s=this._modelMaxRaw=t.get("max",!0);if(Ar(s)?this._modelMaxNum=Bx(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=Bx(e,s)),i)this._axisDataLen=t.getCategories().length;else{var o=t.get("boundaryGap"),l=Ln(o)?o:[o||0,o||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[eh(l[0],1),eh(l[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:r-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,c=o!=null,u=l!=null;o==null&&(o=e?i?0:NaN:t-a[0]*s),l==null&&(l=e?i?i-1:NaN:r+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=zC(o)||zC(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!c&&(o=0),o<0&&l<0&&!u&&(l=0));var f=this._determinedMin,h=this._determinedMax;return f!=null&&(o=f,c=!0),h!=null&&(l=h,u=!0),{min:o,max:l,minFixed:c,maxFixed:u,isBlank:d}},n.prototype.modifyDataMinMax=function(e,t){this[Cze[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=Sze[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),Sze={min:"_determinedMin",max:"_determinedMax"},Cze={min:"_dataMin",max:"_dataMax"};function Mze(n,e,t){var r=n.rawExtentInfo;return r||(r=new xze(n,e,t),n.rawExtentInfo=r,r)}function Bx(n,e){return e==null?null:zC(e)?NaN:n.parse(e)}function Ete(n,e){var t=n.type,r=Mze(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,s=e.ecModel;if(s&&t==="time"){var o=xte("bar",s),l=!1;if(ut(o,function(d){l=l||d.getBaseAxis()===e.axis}),l){var c=Ste(o),u=Tze(i,a,e,c);i=u.min,a=u.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function Tze(n,e,t,r){var i=t.axis.getExtent(),a=i[1]-i[0],s=aze(r,t.axis);if(s===void 0)return{min:n,max:e};var o=1/0;ut(s,function(h){o=Math.min(h.offset,o)});var l=-1/0;ut(s,function(h){l=Math.max(h.offset+h.width,l)}),o=Math.abs(o),l=Math.abs(l);var c=o+l,u=e-n,d=1-(o+l)/a,f=u/d-u;return e+=f*(l/c),n-=f*(o/c),{min:n,max:e}}function eH(n,e){var t=e,r=Ete(n,t),i=r.extent,a=t.get("splitNumber");n instanceof wze&&(n.base=t.get("logBase"));var s=n.type,o=t.get("interval"),l=s==="interval"||s==="time";n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&n.setInterval&&n.setInterval(o)}function Aze(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new bte({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new gze({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Td.getClass(e)||uw)}}function Eze(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function dw(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(r){return function(i,a){return n.scale.getFormattedLabel(i,a,r)}}(e):Jn(e)?function(r){return function(i){var a=n.scale.getLabel(i),s=r.replace("{value}",a??"");return s}}(e):Ar(e)?function(r){return function(i,a){return t!=null&&(a=i.value-t),r(c8(n,i),a,i.level!=null?{level:i.level}:null)}}(e):function(r){return n.scale.getLabel(r)}}function c8(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function Ize(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,i,a=t.getExtent();t instanceof bte?i=t.count():(r=t.getTicks(),i=r.length);var s=n.getLabelModel(),o=dw(n),l,c=1;i>40&&(c=Math.ceil(i/40));for(var u=0;u<i;u+=c){var d=r?r[u]:{value:a[0]+u},f=o(d,u),h=s.getTextRect(f),p=Rze(h,s.get("rotate")||0);l?l.union(p):l=p}return l}}function Rze(n,e){var t=e*Math.PI/180,r=n.width,i=n.height,a=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),s=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),o=new ei(n.x,n.y,a,s);return o}function u8(n){var e=n.get("interval");return e??"auto"}function Ite(n){return n.type==="category"&&u8(n.getLabelModel())===0}function Pze(n,e){var t={};return ut(n.mapDimensionsAll(e),function(r){t[W9e(n,r)]=!0}),Ni(t)}var Dze=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n}(),tH=[],kze={registerPreprocessor:ste,registerProcessor:ote,registerPostInit:g9e,registerPostUpdate:y9e,registerUpdateLifecycle:n8,registerAction:Im,registerCoordinateSystem:b9e,registerLayout:_9e,registerVisual:Rm,registerTransform:x9e,registerLoading:lte,registerMap:w9e,registerImpl:ZFe,PRIORITY:u9e,ComponentModel:zi,ComponentView:dd,SeriesModel:nh,ChartView:kf,registerComponentModel:function(n){zi.registerClass(n)},registerComponentView:function(n){dd.registerClass(n)},registerSeriesModel:function(n){nh.registerClass(n)},registerChartView:function(n){kf.registerClass(n)},registerSubTypeDefaulter:function(n,e){zi.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){u8e(n,e)}};function fd(n){if(Ln(n)){ut(n,function(e){fd(e)});return}wi(tH,n)>=0||(tH.push(n),Ar(n)&&(n={install:n}),n.install(kze))}var h_=da();function Lze(n){return n.type==="category"?Oze(n):Fze(n)}function Nze(n,e){return n.type==="category"?Bze(n,e):{ticks:dr(n.scale.getTicks(),function(t){return t.value})}}function Oze(n){var e=n.getLabelModel(),t=Rte(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function Rte(n,e){var t=Pte(n,"labels"),r=u8(e),i=Dte(t,r);if(i)return i;var a,s;return Ar(r)?a=Nte(n,r):(s=r==="auto"?zze(n):r,a=Lte(n,s)),kte(t,r,{labels:a,labelCategoryInterval:s})}function Bze(n,e){var t=Pte(n,"ticks"),r=u8(e),i=Dte(t,r);if(i)return i;var a,s;if((!e.get("show")||n.scale.isBlank())&&(a=[]),Ar(r))a=Nte(n,r,!0);else if(r==="auto"){var o=Rte(n,n.getLabelModel());s=o.labelCategoryInterval,a=dr(o.labels,function(l){return l.tickValue})}else s=r,a=Lte(n,s,!0);return kte(t,r,{ticks:a,tickCategoryInterval:s})}function Fze(n){var e=n.scale.getTicks(),t=dw(n);return{labels:dr(e,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function Pte(n,e){return h_(n)[e]||(h_(n)[e]=[])}function Dte(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function kte(n,e,t){return n.push({key:e,value:t}),t}function zze(n){var e=h_(n).autoInterval;return e??(h_(n).autoInterval=n.calculateCategoryInterval())}function Uze(n){var e=Hze(n),t=dw(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=n.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],c=n.dataToCoord(l+1)-n.dataToCoord(l),u=Math.abs(c*Math.cos(r)),d=Math.abs(c*Math.sin(r)),f=0,h=0;l<=a[1];l+=o){var p=0,m=0,v=h6(t({value:l}),e.font,"center","top");p=v.width*1.3,m=v.height*1.3,f=Math.max(f,p,7),h=Math.max(h,m,7)}var g=f/u,y=h/d;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(g,y))),_=h_(n.model),x=n.getExtent(),S=_.lastAutoInterval,T=_.lastTickCount;return S!=null&&T!=null&&Math.abs(S-b)<=1&&Math.abs(T-s)<=1&&S>b&&_.axisExtent0===x[0]&&_.axisExtent1===x[1]?b=S:(_.lastTickCount=s,_.lastAutoInterval=b,_.axisExtent0=x[0],_.axisExtent1=x[1]),b}function Hze(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function Lte(n,e,t){var r=dw(n),i=n.scale,a=i.getExtent(),s=n.getLabelModel(),o=[],l=Math.max((e||0)+1,1),c=a[0],u=i.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=Ite(n),f=s.get("showMinLabel")||d,h=s.get("showMaxLabel")||d;f&&c!==a[0]&&m(a[0]);for(var p=c;p<=a[1];p+=l)m(p);h&&p-l!==a[1]&&m(a[1]);function m(v){var g={value:v};o.push(t?v:{formattedLabel:r(g),rawLabel:i.getLabel(g),tickValue:v})}return o}function Nte(n,e,t){var r=n.scale,i=dw(n),a=[];return ut(r.getTicks(),function(s){var o=r.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var nH=[0,1],Vze=function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return h8e(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),rH(r,i.count())),OR(e,nH,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),rH(r,i.count()));var a=OR(e,r,nH,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=Nze(this,t),i=r.ticks,a=dr(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return $ze(this,a,s,e.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=dr(r,function(a){return dr(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},n.prototype.getViewLabels=function(){return Lze(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return Uze(this)},n}();function rH(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function $ze(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var a=n.getExtent(),s,o;if(i===1)e[0].coord=a[0],s=e[1]={coord:a[1]};else{var l=e[i-1].tickValue-e[0].tickValue,c=(e[i-1].coord-e[0].coord)/l;ut(e,function(h){h.coord-=c/2});var u=n.scale.getExtent();o=1+u[1]-e[i-1].tickValue,s={coord:e[i-1].coord+c*o},e.push(s)}var d=a[0]>a[1];f(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],s.coord)&&(r?s.coord=a[1]:e.pop()),r&&f(s.coord,a[1])&&e.push({coord:a[1]});function f(h,p){return h=Oa(h),p=Oa(p),d?h>p:h<p}}const Gze=Vze;lm.CMD;function Ote(n,e,t,r,i,a,s,o){var l=i-n,c=a-e,u=t-n,d=r-e,f=Math.sqrt(u*u+d*d);u/=f,d/=f;var h=l*u+c*d,p=h/f;o&&(p=Math.min(Math.max(p,0),1)),p*=f;var m=s[0]=n+p*u,v=s[1]=e+p*d;return Math.sqrt((m-i)*(m-i)+(v-a)*(v-a))}var wf=new pr,ji=new pr,Ka=new pr,xf=new pr,Gc=new pr,lM=[],Ns=new pr;function Wze(n,e){if(e<=180&&e>0){e=e/180*Math.PI,wf.fromArray(n[0]),ji.fromArray(n[1]),Ka.fromArray(n[2]),pr.sub(xf,wf,ji),pr.sub(Gc,Ka,ji);var t=xf.len(),r=Gc.len();if(!(t<.001||r<.001)){xf.scale(1/t),Gc.scale(1/r);var i=xf.dot(Gc),a=Math.cos(e);if(a<i){var s=Ote(ji.x,ji.y,Ka.x,Ka.y,wf.x,wf.y,lM,!1);Ns.fromArray(lM),Ns.scaleAndAdd(Gc,s/Math.tan(Math.PI-e));var o=Ka.x!==ji.x?(Ns.x-ji.x)/(Ka.x-ji.x):(Ns.y-ji.y)/(Ka.y-ji.y);if(isNaN(o))return;o<0?pr.copy(Ns,ji):o>1&&pr.copy(Ns,Ka),Ns.toArray(n[1])}}}}function qze(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,wf.fromArray(n[0]),ji.fromArray(n[1]),Ka.fromArray(n[2]),pr.sub(xf,ji,wf),pr.sub(Gc,Ka,ji);var r=xf.len(),i=Gc.len();if(!(r<.001||i<.001)){xf.scale(1/r),Gc.scale(1/i);var a=xf.dot(e),s=Math.cos(t);if(a<s){var o=Ote(ji.x,ji.y,Ka.x,Ka.y,wf.x,wf.y,lM,!1);Ns.fromArray(lM);var l=Math.PI/2,c=Math.acos(Gc.dot(e)),u=l+c-t;if(u>=l)pr.copy(Ns,Ka);else{Ns.scaleAndAdd(Gc,o/Math.tan(Math.PI/2-u));var d=Ka.x!==ji.x?(Ns.x-ji.x)/(Ka.x-ji.x):(Ns.y-ji.y)/(Ka.y-ji.y);if(isNaN(d))return;d<0?pr.copy(Ns,ji):d>1&&pr.copy(Ns,Ka)}Ns.toArray(n[1])}}}}function iH(n,e,t,r){var i=t==="normal",a=i?n:n.ensureState(t);a.ignore=e;var s=r.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=r.getModel("lineStyle").getLineStyle();i?n.useStyle(o):a.style=o}function Kze(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=wR(r[0],r[1]),a=wR(r[1],r[2]);if(!i||!a){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var s=Math.min(i,a)*t,o=V3([],r[1],r[0],s/i),l=V3([],r[1],r[2],s/a),c=V3([],o,l,.5);n.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var u=1;u<r.length;u++)n.lineTo(r[u][0],r[u][1])}function Yze(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<YC.length;l++){var c=YC[l],u=e[c],d=c==="normal";if(u){var f=u.get("show"),h=d?o:Zr(i.states[c]&&i.states[c].ignore,o);if(h||!Zr(f,s)){var p=d?r:r&&r.states[c];p&&(p.ignore=!0);continue}r||(r=new WT,n.setTextGuideLine(r),!d&&(o||!s)&&iH(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),iH(r,!1,c,u)}}if(r){fi(r.style,t),r.style.fill=null;var m=a.get("showAbove"),v=n.textGuideLineConfig=n.textGuideLineConfig||{};v.showAbove=m||!1,r.buildPath=Kze}}function Xze(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<su.length;r++){var i=su[r];t[i]=n.getModel([i,e])}return t}function jze(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,c=s.clone();c.applyTransform(a),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=o?new ZC(s,a):null;e.push({label:i,labelLine:r.labelLine,rect:c,localRect:s,obb:u,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:o,transform:a})}}return e}function Zze(n,e,t,r,i,a){var s=n.length;if(s<2)return;n.sort(function(C,M){return C.rect[e]-M.rect[e]});for(var o=0,l,c=!1,u=0,d=0;d<s;d++){var f=n[d],h=f.rect;l=h[e]-o,l<0&&(h[e]-=l,f.label[e]-=l,c=!0);var p=Math.max(-l,0);u+=p,o=h[e]+h[t]}u>0&&a&&x(-u/s,0,s);var m=n[0],v=n[s-1],g,y;b(),g<0&&S(-g,.8),y<0&&S(y,.8),b(),_(g,y,1),_(y,g,-1),b(),g<0&&T(-g),y<0&&T(y);function b(){g=m.rect[e]-r,y=i-v.rect[e]-v.rect[t]}function _(C,M,A){if(C<0){var I=Math.min(M,-C);if(I>0){x(I*A,0,s);var D=I+C;D<0&&S(-D*A,1)}else S(-C*A,1)}}function x(C,M,A){C!==0&&(c=!0);for(var I=M;I<A;I++){var D=n[I],L=D.rect;L[e]+=C,D.label[e]+=C}}function S(C,M){for(var A=[],I=0,D=1;D<s;D++){var L=n[D-1].rect,F=Math.max(n[D].rect[e]-L[e]-L[t],0);A.push(F),I+=F}if(I){var B=Math.min(Math.abs(C)/I,M);if(C>0)for(var D=0;D<s-1;D++){var k=A[D]*B;x(k,0,D+1)}else for(var D=s-1;D>0;D--){var k=A[D-1]*B;x(-k,D,s)}}}function T(C){var M=C<0?-1:1;C=Math.abs(C);for(var A=Math.ceil(C/(s-1)),I=0;I<s-1;I++)if(M>0?x(A,0,I+1):x(-A,s-I-1,s),C-=A,C<=0)return}return c}function Qze(n,e,t,r){return Zze(n,"y","height",e,t,r)}function Jze(n){var e=[];n.sort(function(m,v){return v.priority-m.priority});var t=new ei(0,0,0,0);function r(m){if(!m.ignore){var v=m.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}m.ignore=!0}for(var i=0;i<n.length;i++){var a=n[i],s=a.axisAligned,o=a.localRect,l=a.transform,c=a.label,u=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=a.obb,f=!1,h=0;h<e.length;h++){var p=e[h];if(t.intersect(p.rect)){if(s&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new ZC(p.localRect,p.transform)),d||(d=new ZC(o,l)),d.intersect(p.obb)){f=!0;break}}}f?(r(c),u&&r(u)):(c.attr("ignore",a.defaultAttr.ignore),u&&u.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function aH(n,e,t){var r=Zg.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=a*t,r}var eUe=function(n){Tn(e,n);function e(t,r,i){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||GC,typeof t=="string"?s=aH(t,r,i):or(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(mQ(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=aH("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,c=new ei(0,0,0,0);function u(y){if(!(!y.isFinite()||y.isZero()))if(s.length===0){var b=new ei(0,0,0,0);b.copy(y),s.push(b)}else{for(var _=!1,x=1/0,S=0,T=0;T<s.length;++T){var C=s[T];if(C.intersect(y)){var M=new ei(0,0,0,0);M.copy(C),M.union(y),s[T]=M,_=!0;break}else if(l){c.copy(y),c.union(C);var A=y.width*y.height,I=C.width*C.height,D=c.width*c.height,L=D-A-I;L<x&&(x=L,S=T)}}if(l&&(s[S].union(y),_=!0),!_){var b=new ei(0,0,0,0);b.copy(y),s.push(b)}l||(l=s.length>=o)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var f=t[d];if(f){var h=f.shouldBePainted(i,a,!0,!0),p=f.__isRendered&&(f.__dirty&No||!h)?f.getPrevPaintRect():null;p&&u(p);var m=h&&(f.__dirty&No||!f.__isRendered)?f.getPaintRect():null;m&&u(m)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var f=r[d],h=f.shouldBePainted(i,a,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&u(p)}}var v;do{v=!1;for(var d=0;d<s.length;){if(s[d].isZero()){s.splice(d,1);continue}for(var g=d+1;g<s.length;)s[d].intersect(s[g])?(v=!0,s[d].union(s[g]),s.splice(g,1)):g++;d++}}while(v);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=r+"px"),a.width=t*i,a.height=r*i,o&&(o.width=t*i,o.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;r=r||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,d=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/d,l/d));var h=this.domBack;function p(m,v,g,y){if(s.clearRect(m,v,g,y),r&&r!=="transparent"){var b=void 0;if(OT(r)){var _=r.global||r.__width===g&&r.__height===y;b=_&&r.__canvasGradient||iP(s,r,{x:0,y:0,width:g,height:y}),r.__canvasGradient=b,r.__width=g,r.__height=y}else OLe(r)&&(r.scaleX=r.scaleX||d,r.scaleY=r.scaleY||d,b=aP(s,r,{dirty:function(){f.setUnpainted(),f.__painter.refresh()}}));s.save(),s.fillStyle=b||r,s.fillRect(m,v,g,y),s.restore()}c&&(s.save(),s.globalAlpha=u,s.drawImage(h,m,v,g,y),s.restore())}!i||c?p(0,0,o,l):i.length&&ut(i,function(m){p(m.x*d,m.y*d,m.width*d,m.height*d)})},e}(Sc);const XE=eUe;var sH=1e5,Yh=314159,Fx=.01,tUe=.001;function nUe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function rUe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var iUe=function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=cn({},r||{}),this.dpr=r.devicePixelRatio||GC,this._singleCanvas=a,this.root=e;var s=e.style;s&&(mQ(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var u=e,d=u.width,f=u.height;r.width!=null&&(d=r.width),r.height!=null&&(f=r.height),this.dpr=r.devicePixelRatio||1,u.width=d*this.dpr,u.height=f*this.dpr,this._width=d,this._height=f;var h=new XE(u,this,this.dpr);h.__builtin__=!0,h.initContext(),l[Yh]=h,h.zlevel=Yh,o.push(Yh),this._domRoot=e}else{this._width=Ix(e,0,r),this._height=Ix(e,1,r);var c=this._domRoot=rUe(this._width,this._height);e.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(r||(r=this._hoverlayer=this.getLayer(sH)),a||(a=r.ctx,a.save()),Dp(a,o,i,s===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(sH)},n.prototype.paintOne=function(e,t){$ee(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,r),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;TR(function(){l._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(Yh).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&a.push(c)}for(var u=!0,d=!1,f=function(m){var v=a[m],g=v.ctx,y=s&&v.createRepaintRects(e,t,h._width,h._height),b=r?v.__startIndex:v.__drawIndex,_=!r&&v.incremental&&Date.now,x=_&&Date.now(),S=v.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,S,y);else if(b===v.__startIndex){var T=e[b];(!T.incremental||!T.notClear||r)&&v.clear(!1,S,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=v.__startIndex);var C,M=function(L){var F={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(C=b;C<v.__endIndex;C++){var B=e[C];if(B.__inHover&&(d=!0),i._doPaintEl(B,v,s,L,F,C===v.__endIndex-1),_){var k=Date.now()-x;if(k>15)break}}F.prevElClipPaths&&g.restore()};if(y)if(y.length===0)C=v.__endIndex;else for(var A=h.dpr,I=0;I<y.length;++I){var D=y[I];g.save(),g.beginPath(),g.rect(D.x*A,D.y*A,D.width*A,D.height*A),g.clip(),M(D),g.restore()}else g.save(),M(),g.restore();v.__drawIndex=C,v.__drawIndex<v.__endIndex&&(u=!1)},h=this,p=0;p<a.length;p++)f(p);return Pr.wxa&&ut(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,r,i,a,s){var o=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Dp(o,e,a,s),e.setPrevPaintRect(l))}else Dp(o,e,a,s)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Yh);var r=this._layers[e];return r||(r=new XE("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?di(r,this._layerConfig[e],!0):this._layerConfig[e-Fx]&&di(r,this._layerConfig[e-Fx],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!r[e]&&nUe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(o){var c=o.dom;c.nextSibling?s.insertBefore(t.dom,c.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,f){d.__dirty=d.__used=!1});function t(d){a&&(a.__endIndex!==d&&(a.__dirty=!0),a.__endIndex=d)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],c=i.zlevel,u=void 0;o!==c&&(o=c,s=0),i.incremental?(u=this.getLayer(c+tUe,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(c+(s>0?Fx:0),this._needsManuallyCompositing),u.__builtin__||s6("ZLevel "+c+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,t(l),a=u),i.__dirty&No&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,f){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ut(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?di(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+Fx){var s=this._layers[a];di(s,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(wi(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=Ix(a,0,i),t=Ix(a,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(Yh).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Yh].dom;var t=new XE("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(d){d.__builtin__?r.drawImage(d.dom,0,0,i,a):d.renderToCanvas&&(r.save(),d.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,c=o.length;l<c;l++){var u=o[l];Dp(r,u,s,l===c-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const aUe=iUe;function Bte(n){n.registerPainter("canvas",aUe)}function Fte(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=vg(n,e,t[0]);return i!=null?i+"":null}else if(r){for(var a=[],s=0;s<t.length;s++)a.push(vg(n,e,t[s]));return a.join(" ")}}function sUe(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Ln(e))return e+"";for(var r=[],i=0;i<t.length;i++){var a=n.getDimensionIndex(t[i]);a>=0&&r.push(e[a])}return r.join(" ")}var oUe=function(n){Tn(e,n);function e(t,r,i,a){var s=n.call(this)||this;return s.updateData(t,r,i,a),s}return e.prototype._createSymbol=function(t,r,i,a,s){this.removeAll();var o=sA(t,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=lUe,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){XC(this.childAt(0))},e.prototype.downplay=function(){jC(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,a){this.silent=!1;var s=t.getItemVisual(r,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,r),c=s!==this._symbolType,u=a&&a.disableAnimation;if(c){var d=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,t,r,l,d)}else{var f=this.childAt(0);f.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};u?f.attr(h):Xs(f,h,o,r),R6(f)}if(this._updateCommon(t,r,l,i,a),c){var f=this.childAt(0);if(!u){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,pc(f,h,o,r)}}u&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,a,s){var o=this.childAt(0),l=t.hostModel,c,u,d,f,h,p,m,v,g;if(a&&(c=a.emphasisItemStyle,u=a.blurItemStyle,d=a.selectItemStyle,f=a.focus,h=a.blurScope,m=a.labelStatesModels,v=a.hoverScale,g=a.cursorStyle,p=a.emphasisDisabled),!a||t.hasItemOption){var y=a&&a.itemModel?a.itemModel:t.getItemModel(r),b=y.getModel("emphasis");c=b.getModel("itemStyle").getItemStyle(),d=y.getModel(["select","itemStyle"]).getItemStyle(),u=y.getModel(["blur","itemStyle"]).getItemStyle(),f=b.get("focus"),h=b.get("blurScope"),p=b.get("disabled"),m=O6(y),v=b.getShallow("scale"),g=y.getShallow("cursor")}var _=t.getItemVisual(r,"symbolRotate");o.attr("rotation",(_||0)*Math.PI/180||0);var x=zee(t.getItemVisual(r,"symbolOffset"),i);x&&(o.x=x[0],o.y=x[1]),g&&o.attr("cursor",g);var S=t.getItemVisual(r,"style"),T=S.fill;if(o instanceof Tm){var C=o.style;o.useStyle(cn({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},S))}else o.__isEmptyBrush?o.useStyle(cn({},S)):o.useStyle(S),o.style.decal=null,o.setColor(T,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var M=t.getItemVisual(r,"liftZ"),A=this._z2;M!=null?A==null&&(this._z2=o.z2,o.z2+=M):A!=null&&(o.z2=A,this._z2=null);var I=s&&s.useNameLabel;KT(o,m,{labelFetcher:l,labelDataIndex:r,defaultText:D,inheritColor:T,defaultOpacity:S.opacity});function D(B){return I?t.getName(B):Fte(t,B)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var L=o.ensureState("emphasis");L.style=c,o.ensureState("select").style=d,o.ensureState("blur").style=u;var F=v==null||v===!0?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;L.scaleX=this._sizeX*F,L.scaleY=this._sizeY*F,this.setSymbolScale(1),C6(this,f,h,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var a=this.childAt(0),s=Ai(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&um(l,{style:{opacity:0}},r,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();um(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,r){return kFe(t.getItemVisual(r,"symbolSize"))},e}(bo);function lUe(n,e){this.parent.drift(n,e)}const cUe=oUe;function uUe(n,e,t,r,i){var a=n.getArea(),s=a.x,o=a.y,l=a.width,c=a.height,u=t.get(["lineStyle","width"])||2;s-=u/2,o-=u/2,l+=u,c+=u,s=Math.floor(s),l=Math.round(l);var d=new Ea({shape:{x:s,y:o,width:l,height:c}});if(e){var f=n.getBaseAxis(),h=f.isHorizontal(),p=f.inverse;h?(p&&(d.shape.x+=l),d.shape.width=0):(p||(d.shape.y+=c),d.shape.height=0);var m=Ar(i)?function(v){i(v,d)}:null;pc(d,{shape:{width:l,height:c,x:s,y:o}},t,null,r,m)}return d}function dUe(n,e,t){var r=n.getArea(),i=Oa(r.r0,1),a=Oa(r.r,1),s=new Am({shape:{cx:Oa(n.cx,1),cy:Oa(n.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var o=n.getBaseAxis().dim==="angle";o?s.shape.endAngle=r.startAngle:s.shape.r=i,pc(s,{shape:{endAngle:r.endAngle,r:a}},t)}return s}function fUe(n,e,t,r,i){if(n){if(n.type==="polar")return dUe(n,e,t);if(n.type==="cartesian2d")return uUe(n,e,t,r,i)}else return null;return null}function zte(n,e){return n.type===e}var hUe={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},pUe=function(n){return Math.round(n.length/2)};function mUe(n){return{seriesType:n,reset:function(e,t,r){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),c=s.getOtherAxis(l),u=l.getExtent(),d=r.getDevicePixelRatio(),f=Math.abs(u[1]-u[0])*(d||1),h=Math.round(o/f);if(isFinite(h)&&h>1){a==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(c.dim),1/h));var p=void 0;Jn(a)?p=hUe[a]:Ar(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(c.dim),1/h,p,pUe))}}}}}var Ute=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return mte(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(i)ut(a.getAxes(),function(f,h){if(f.type==="category"&&r!=null){var p=f.getTicksCoords(),m=s[h],v=r[h]==="x1"||r[h]==="y1";if(v&&(m+=1),p.length<2)return;if(p.length===2){o[h]=f.toGlobalCoord(f.getExtent()[v?1:0]);return}for(var g=void 0,y=void 0,b=1,_=0;_<p.length;_++){var x=p[_].coord,S=_===p.length-1?p[_-1].tickValue+b:p[_].tickValue;if(S===m){y=x;break}else if(S<m)g=x;else if(g!=null&&S>m){y=(x+g)/2;break}_===1&&(b=S-p[0].tickValue)}y==null&&(g?g&&(y=p[p.length-1].coord):y=p[0].coord),o[h]=f.toGlobalCoord(y)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),d=a.getBaseAxis().isHorizontal()?0:1;o[d]+=c+u/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(nh);nh.registerClass(Ute);const oH=Ute;var vUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return mte(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=$J(oH.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(oH);const gUe=vUe;var yUe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),bUe=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new yUe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.max(r.r0||0,0),o=Math.max(r.r,0),l=(o-s)*.5,c=s+l,u=r.startAngle,d=r.endAngle,f=r.clockwise,h=Math.PI*2,p=f?d-u<h:u-d<h;p||(u=d-(f?h:-h));var m=Math.cos(u),v=Math.sin(u),g=Math.cos(d),y=Math.sin(d);p?(t.moveTo(m*s+i,v*s+a),t.arc(m*c+i,v*c+a,l,-Math.PI+u,u,!f)):t.moveTo(m*o+i,v*o+a),t.arc(i,a,o,u,d,!f),t.arc(g*c+i,y*c+a,l,d-Math.PI*2,d-Math.PI,!f),s!==0&&t.arc(i,a,s,d,u,f)},e}(xi);const lH=bUe;function _Ue(n,e){e=e||{};var t=e.isRoundCap;return function(r,i,a){var s=i.position;if(!s||s instanceof Array)return WC(r,i,a);var o=n(s),l=i.distance!=null?i.distance:5,c=this.shape,u=c.cx,d=c.cy,f=c.r,h=c.r0,p=(f+h)/2,m=c.startAngle,v=c.endAngle,g=(m+v)/2,y=t?Math.abs(f-h)/2:0,b=Math.cos,_=Math.sin,x=u+f*b(m),S=d+f*_(m),T="left",C="top";switch(o){case"startArc":x=u+(h-l)*b(g),S=d+(h-l)*_(g),T="center",C="top";break;case"insideStartArc":x=u+(h+l)*b(g),S=d+(h+l)*_(g),T="center",C="bottom";break;case"startAngle":x=u+p*b(m)+zx(m,l+y,!1),S=d+p*_(m)+Ux(m,l+y,!1),T="right",C="middle";break;case"insideStartAngle":x=u+p*b(m)+zx(m,-l+y,!1),S=d+p*_(m)+Ux(m,-l+y,!1),T="left",C="middle";break;case"middle":x=u+p*b(g),S=d+p*_(g),T="center",C="middle";break;case"endArc":x=u+(f+l)*b(g),S=d+(f+l)*_(g),T="center",C="bottom";break;case"insideEndArc":x=u+(f-l)*b(g),S=d+(f-l)*_(g),T="center",C="top";break;case"endAngle":x=u+p*b(v)+zx(v,l+y,!0),S=d+p*_(v)+Ux(v,l+y,!0),T="left",C="middle";break;case"insideEndAngle":x=u+p*b(v)+zx(v,-l+y,!0),S=d+p*_(v)+Ux(v,-l+y,!0),T="right",C="middle";break;default:return WC(r,i,a)}return r=r||{},r.x=x,r.y=S,r.align=T,r.verticalAlign=C,r}}function wUe(n,e,t,r){if($i(r)){n.setTextConfig({rotation:r});return}else if(Ln(e)){n.setTextConfig({rotation:0});return}var i=n.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,c=t(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:n.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),n.setTextConfig({rotation:u})}function zx(n,e,t){return e*Math.sin(n)*(t?-1:1)}function Ux(n,e,t){return e*Math.cos(n)*(t?1:-1)}function E1(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;Ln(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:dr(r,function(a){return eh(a,i)})}}var jE=Math.max,ZE=Math.min;function xUe(n,e){var t=n.getArea&&n.getArea();if(zte(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var SUe=function(n){Tn(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){N6(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,i,a){var s=this.group,o=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis(),d;c.type==="cartesian2d"?d=u.isHorizontal():c.type==="polar"&&(d=u.dim==="angle");var f=t.isAnimationEnabled()?t:null,h=CUe(t,c);h&&this._enableRealtimeSort(h,o,i);var p=t.get("clip",!0)||h,m=xUe(c,o);s.removeClipPath();var v=t.get("roundCap",!0),g=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),b=y.get("borderRadius")||0,_=[],x=this._backgroundEls,S=a&&a.isInitSort,T=a&&a.type==="changeAxisOrder";function C(I){var D=Hx[c.type](o,I),L=PUe(c,d,D);return L.useStyle(y.getItemStyle()),c.type==="cartesian2d"?L.setShape("r",b):L.setShape("cornerRadius",b),_[I]=L,L}o.diff(l).add(function(I){var D=o.getItemModel(I),L=Hx[c.type](o,I,D);if(g&&C(I),!(!o.hasValue(I)||!hH[c.type](L))){var F=!1;p&&(F=cH[c.type](m,L));var B=uH[c.type](t,o,I,L,d,f,u.model,!1,v);h&&(B.forceLabelAnimation=!0),pH(B,o,I,D,L,t,d,c.type==="polar"),S?B.attr({shape:L}):h?dH(h,f,B,L,I,d,!1,!1):pc(B,{shape:L},t,I),o.setItemGraphicEl(I,B),s.add(B),B.ignore=F}}).update(function(I,D){var L=o.getItemModel(I),F=Hx[c.type](o,I,L);if(g){var B=void 0;x.length===0?B=C(D):(B=x[D],B.useStyle(y.getItemStyle()),c.type==="cartesian2d"?B.setShape("r",b):B.setShape("cornerRadius",b),_[I]=B);var k=Hx[c.type](o,I),H=Vte(d,k,c);Xs(B,{shape:H},f,I)}var z=l.getItemGraphicEl(D);if(!o.hasValue(I)||!hH[c.type](F)){s.remove(z);return}var O=!1;if(p&&(O=cH[c.type](m,F),O&&s.remove(z)),z?R6(z):z=uH[c.type](t,o,I,F,d,f,u.model,!!z,v),h&&(z.forceLabelAnimation=!0),T){var G=z.getTextContent();if(G){var X=B6(G);X.prevValue!=null&&(X.prevValue=X.value)}}else pH(z,o,I,L,F,t,d,c.type==="polar");S?z.attr({shape:F}):h?dH(h,f,z,F,I,d,!0,T):Xs(z,{shape:F},t,I,null),o.setItemGraphicEl(I,z),z.ignore=O,s.add(z)}).remove(function(I){var D=l.getItemGraphicEl(I);D&&QC(D,t,I)}).execute();var M=this._backgroundGroup||(this._backgroundGroup=new bo);M.removeAll();for(var A=0;A<_.length;++A)M.add(_[A]);s.add(M),this._backgroundEls=_,this._data=o},e.prototype._renderLarge=function(t,r,i){this._clear(),vH(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),vH(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&fUe(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,i){var a=this;if(r.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var o=function(l){var c=r.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(s.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,i){var a=[];return t.each(t.mapDimension(r.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:dr(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var a=i.scale,s=t.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,c=a.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),d=u<0?Number.MIN_VALUE:r(t.indexOfRawIndex(u));if(d>o)return!0;o=d}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,r,i,a){if(this._isOrderChangedWithinSameData(t,r,i)){var s=this._dataSort(t,i,r);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,r,i){var a=r.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(r.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){QC(a,t,Ai(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(kf),cH={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=n.x+n.width,a=n.y+n.height,s=jE(e.x,n.x),o=ZE(e.x+e.width,i),l=jE(e.y,n.y),c=ZE(e.y+e.height,a),u=o<s,d=c<l;return e.x=u&&s>i?o:s,e.y=d&&l>a?c:l,e.width=u?0:o-s,e.height=d?0:c-l,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),u||d},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var i=ZE(e.r,n.r),a=jE(e.r0,n.r0);e.r=i,e.r0=a;var s=i-a<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return s}},uH={cartesian2d:function(n,e,t,r,i,a,s,o,l){var c=new Ea({shape:cn({},r),z2:1});if(c.__dataIndex=t,c.name="item",a){var u=c.shape,d=i?"height":"width";u[d]=0}return c},polar:function(n,e,t,r,i,a,s,o,l){var c=!i&&l?lH:Am,u=new c({shape:r,z2:1});u.name="item";var d=Hte(i);if(u.calculateTextPosition=_Ue(d,{isRoundCap:c===lH}),a){var f=u.shape,h=i?"r":"endAngle",p={};f[h]=i?r.r0:r.startAngle,p[h]=r[h],(o?Xs:pc)(u,{shape:p},a)}return u}};function CUe(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function dH(n,e,t,r,i,a,s,o){var l,c;a?(c={x:r.x,width:r.width},l={y:r.y,height:r.height}):(c={y:r.y,height:r.height},l={x:r.x,width:r.width}),o||(s?Xs:pc)(t,{shape:l},e,i,null);var u=e?n.baseAxis.model:null;(s?Xs:pc)(t,{shape:c},u,i)}function fH(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var MUe=["x","y","width","height"],TUe=["cx","cy","r","startAngle","endAngle"],hH={cartesian2d:function(n){return!fH(n,MUe)},polar:function(n){return!fH(n,TUe)}},Hx={cartesian2d:function(n,e,t){var r=n.getItemLayout(e),i=t?EUe(t,r):0,a=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+s*i/2,width:r.width-a*i,height:r.height-s*i}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function AUe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function Hte(n){return function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(n)}function pH(n,e,t,r,i,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var u=n.shape,d=E1(r.getModel("itemStyle"),u,!0);cn(u,d),n.setShape(u)}}else{var c=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",c)}n.useStyle(l);var f=r.getShallow("cursor");f&&n.attr("cursor",f);var h=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=O6(r);KT(n,p,{labelFetcher:a,labelDataIndex:t,defaultText:Fte(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var m=n.getTextContent();if(o&&m){var v=r.get(["label","position"]);n.textConfig.inside=v==="middle"?!0:null,wUe(n,v==="outside"?h:v,Hte(s),r.get(["label","rotate"]))}iBe(m,p,a.getRawValue(t),function(y){return sUe(e,y)});var g=r.getModel(["emphasis"]);C6(n,g.get("focus"),g.get("blurScope"),g.get("disabled")),M6(n,r),AUe(i)&&(n.style.fill="none",n.style.stroke="none",ut(n.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function EUe(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var IUe=function(){function n(){}return n}(),mH=function(n){Tn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new IUe},e.prototype.buildPath=function(t,r){for(var i=r.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],c=this.barWidth,u=0;u<i.length;u+=3)l[a]=c,l[s]=i[u+2],o[a]=i[u+a],o[s]=i[u+s],t.rect(o[0],o[1],l[0],l[1])},e}(xi);function vH(n,e,t,r){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=n.getModel("backgroundStyle"),c=i.getLayout("largeBackgroundPoints");if(c){var u=new mH({shape:{points:c},incremental:!!r,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=s,u.barWidth=o,u.useStyle(l.getItemStyle()),e.add(u),t&&t.push(u)}var d=new mH({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=a,d.largeDataIndices=s,d.barWidth=o,e.add(d),d.useStyle(i.getVisual("style")),Ai(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",gH),d.on("mousemove",gH)),t&&t.push(d)}var gH=aA(function(n){var e=this,t=RUe(e,n.offsetX,n.offsetY);Ai(e).dataIndex=t>=0?t:null},30,!1);function RUe(n,e,t){for(var r=n.baseDimIdx,i=1-r,a=n.shape.points,s=n.largeDataIndices,o=[],l=[],c=n.barWidth,u=0,d=a.length/3;u<d;u++){var f=u*3;if(l[r]=c,l[i]=a[f+2],o[r]=a[f+r],o[i]=a[f+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[u]}return-1}function Vte(n,e,t){if(zte(t,"cartesian2d")){var r=e,i=t.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:n?i.r0:a.r0,r:n?i.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:Math.PI*2}}}function PUe(n,e,t){var r=n.type==="polar"?Am:Ea;return new r({shape:Vte(e,t,n),silent:!0,z2:0})}const DUe=SUe;function kUe(n){n.registerChartView(DUe),n.registerSeriesModel(gUe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Ui(sze,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,oze("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,mUe("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var Vx=Math.PI*2,yH=Math.PI/180;function $te(n,e){return dm(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Gte(n,e){var t=$te(n,e),r=n.get("center"),i=n.get("radius");Ln(i)||(i=[0,i]);var a=Ti(t.width,e.getWidth()),s=Ti(t.height,e.getHeight()),o=Math.min(a,s),l=Ti(i[0],o/2),c=Ti(i[1],o/2),u,d,f=n.coordinateSystem;if(f){var h=f.dataToPoint(r);u=h[0]||0,d=h[1]||0}else Ln(r)||(r=[r,r]),u=Ti(r[0],a)+t.x,d=Ti(r[1],s)+t.y;return{cx:u,cy:d,r0:l,r:c}}function LUe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),s=$te(r,t),o=Gte(r,t),l=o.cx,c=o.cy,u=o.r,d=o.r0,f=-r.get("startAngle")*yH,h=r.get("minAngle")*yH,p=0;i.each(a,function(A){!isNaN(A)&&p++});var m=i.getSum(a),v=Math.PI/(m||p)*2,g=r.get("clockwise"),y=r.get("roseType"),b=r.get("stillShowZeroSum"),_=i.getDataExtent(a);_[0]=0;var x=Vx,S=0,T=f,C=g?1:-1;if(i.setLayout({viewRect:s,r:u}),i.each(a,function(A,I){var D;if(isNaN(A)){i.setItemLayout(I,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:l,cy:c,r0:d,r:y?NaN:u});return}y!=="area"?D=m===0&&b?v:A*v:D=Vx/p,D<h?(D=h,x-=h):S+=A;var L=T+C*D;i.setItemLayout(I,{angle:D,startAngle:T,endAngle:L,clockwise:g,cx:l,cy:c,r0:d,r:y?OR(A,_,[d,u]):u}),T=L}),x<Vx&&p)if(x<=.001){var M=Vx/p;i.each(a,function(A,I){if(!isNaN(A)){var D=i.getItemLayout(I);D.angle=M,D.startAngle=f+C*I*M,D.endAngle=f+C*(I+1)*M}})}else v=x/S,T=f,i.each(a,function(A,I){if(!isNaN(A)){var D=i.getItemLayout(I),L=D.angle===h?h:A*v;D.startAngle=T,D.endAngle=T+C*L,T+=C*L}})})}function NUe(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<r.length;o++)if(!r[o].isSelected(s))return!1;return!0})}}}}var OUe=Math.PI/180;function bH(n,e,t,r,i,a,s,o,l,c){if(n.length<2)return;function u(m){for(var v=m.rB,g=v*v,y=0;y<m.list.length;y++){var b=m.list[y],_=Math.abs(b.label.y-t),x=r+b.len,S=x*x,T=Math.sqrt((1-Math.abs(_*_/g))*S),C=e+(T+b.len2)*i,M=C-b.label.x,A=b.targetTextWidth-M*i;Wte(b,A,!0),b.label.x=C}}function d(m){for(var v={list:[],maxY:0},g={list:[],maxY:0},y=0;y<m.length;y++)if(m[y].labelAlignTo==="none"){var b=m[y],_=b.label.y>t?g:v,x=Math.abs(b.label.y-t);if(x>=_.maxY){var S=b.label.x-e-b.len2*i,T=r+b.len,C=Math.abs(S)<T?Math.sqrt(x*x/(1-S*S/T/T)):T;_.rB=C,_.maxY=x}_.list.push(b)}u(v),u(g)}for(var f=n.length,h=0;h<f;h++)if(n[h].position==="outer"&&n[h].labelAlignTo==="labelLine"){var p=n[h].label.x-c;n[h].linePoints[1][0]+=p,n[h].label.x=c}Qze(n,l,l+s)&&d(n)}function BUe(n,e,t,r,i,a,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=0;f<n.length;f++){var h=n[f].label;QE(n[f])||(h.x<e?(u=Math.min(u,h.x),l.push(n[f])):(d=Math.max(d,h.x),c.push(n[f])))}for(var f=0;f<n.length;f++){var p=n[f];if(!QE(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,m=p.linePoints,v=void 0;p.labelAlignTo==="edge"?h.x<e?v=m[2][0]-p.labelDistance-s-p.edgeDistance:v=s+i-p.edgeDistance-m[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<e?v=u-s-p.bleedMargin:v=s+i-d-p.bleedMargin:h.x<e?v=h.x-s-p.bleedMargin:v=s+i-h.x-p.bleedMargin,p.targetTextWidth=v,Wte(p,v)}}bH(c,e,t,r,1,i,a,s,o,d),bH(l,e,t,r,-1,i,a,s,o,u);for(var f=0;f<n.length;f++){var p=n[f];if(!QE(p)&&p.linePoints){var h=p.label,m=p.linePoints,g=p.labelAlignTo==="edge",y=h.style.padding,b=y?y[1]+y[3]:0,_=h.style.backgroundColor?0:b,x=p.rect.width+_,S=m[1][0]-m[2][0];g?h.x<e?m[2][0]=s+p.edgeDistance+x+p.labelDistance:m[2][0]=s+i-p.edgeDistance-x-p.labelDistance:(h.x<e?m[2][0]=h.x+p.labelDistance:m[2][0]=h.x-p.labelDistance,m[1][0]=m[2][0]+S),m[1][1]=m[2][1]=h.y}}}function Wte(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var r=n.label,i=r.style,a=n.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,c=i.overflow,u=a.width+(s?0:l);if(e<u||t){var d=a.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",s)}else{var h=e-l,p=e<u?h:t?h>n.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var m=r.getBoundingRect();a.width=m.width;var v=(r.style.margin||0)+2.1;a.height=m.height+v,a.y-=(a.height-d)/2}}}function QE(n){return n.position==="center"}function FUe(n){var e=n.getData(),t=[],r,i,a=!1,s=(n.get("minShowLabelAngle")||0)*OUe,o=e.getLayout("viewRect"),l=e.getLayout("r"),c=o.width,u=o.x,d=o.y,f=o.height;function h(S){S.ignore=!0}function p(S){if(!S.ignore)return!0;for(var T in S.states)if(S.states[T].ignore===!1)return!0;return!1}e.each(function(S){var T=e.getItemGraphicEl(S),C=T.shape,M=T.getTextContent(),A=T.getTextGuideLine(),I=e.getItemModel(S),D=I.getModel("label"),L=D.get("position")||I.get(["emphasis","label","position"]),F=D.get("distanceToLabelLine"),B=D.get("alignTo"),k=Ti(D.get("edgeDistance"),c),H=D.get("bleedMargin"),z=I.getModel("labelLine"),O=z.get("length");O=Ti(O,c);var G=z.get("length2");if(G=Ti(G,c),Math.abs(C.endAngle-C.startAngle)<s){ut(M.states,h),M.ignore=!0,A&&(ut(A.states,h),A.ignore=!0);return}if(p(M)){var X=(C.startAngle+C.endAngle)/2,J=Math.cos(X),Q=Math.sin(X),re,de,le,fe;r=C.cx,i=C.cy;var Ee=L==="inside"||L==="inner";if(L==="center")re=C.cx,de=C.cy,fe="center";else{var Re=(Ee?(C.r+C.r0)/2*J:C.r*J)+r,He=(Ee?(C.r+C.r0)/2*Q:C.r*Q)+i;if(re=Re+J*3,de=He+Q*3,!Ee){var $e=Re+J*(O+l-C.r),K=He+Q*(O+l-C.r),ce=$e+(J<0?-1:1)*G,ie=K;B==="edge"?re=J<0?u+k:u+c-k:re=ce+(J<0?-F:F),de=ie,le=[[Re,He],[$e,K],[ce,ie]]}fe=Ee?"center":B==="edge"?J>0?"right":"left":J>0?"left":"right"}var Ue=Math.PI,De=0,Ye=D.get("rotate");if($i(Ye))De=Ye*(Ue/180);else if(L==="center")De=0;else if(Ye==="radial"||Ye===!0){var ze=J<0?-X+Ue:-X;De=ze}else if(Ye==="tangential"&&L!=="outside"&&L!=="outer"){var Ve=Math.atan2(J,Q);Ve<0&&(Ve=Ue*2+Ve);var Je=Q>0;Je&&(Ve=Ue+Ve),De=Ve-Ue}if(a=!!De,M.x=re,M.y=de,M.rotation=De,M.setStyle({verticalAlign:"middle"}),Ee){M.setStyle({align:fe});var Z=M.states.select;Z&&(Z.x+=M.x,Z.y+=M.y)}else{var pe=M.getBoundingRect().clone();pe.applyTransform(M.getComputedTransform());var W=(M.style.margin||0)+2.1;pe.y-=W/2,pe.height+=W,t.push({label:M,labelLine:A,position:L,len:O,len2:G,minTurnAngle:z.get("minTurnAngle"),maxSurfaceAngle:z.get("maxSurfaceAngle"),surfaceNormal:new pr(J,Q),linePoints:le,textAlign:fe,labelDistance:F,labelAlignTo:B,edgeDistance:k,bleedMargin:H,rect:pe,unconstrainedWidth:pe.width,labelStyleWidth:M.style.width})}T.setTextConfig({inside:Ee})}}),!a&&n.get("avoidLabelOverlap")&&BUe(t,r,i,l,c,f,u,d);for(var m=0;m<t.length;m++){var v=t[m],g=v.label,y=v.labelLine,b=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:v.textAlign}),b&&(ut(g.states,h),g.ignore=!0);var _=g.states.select;_&&(_.x+=g.x,_.y+=g.y)}if(y){var x=v.linePoints;b||!x?(ut(y.states,h),y.ignore=!0):(Wze(x,v.minTurnAngle),qze(x,v.surfaceNormal,v.maxSurfaceAngle),y.setShape({points:x}),g.__hostTarget.textGuideLineConfig={anchor:new pr(x[0][0],x[0][1])})}}}var zUe=function(n){Tn(e,n);function e(t,r,i){var a=n.call(this)||this;a.z2=2;var s=new Ys;return a.setTextContent(s),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var s=this,o=t.hostModel,l=t.getItemModel(r),c=l.getModel("emphasis"),u=t.getItemLayout(r),d=cn(E1(l.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle)){s.setShape(d);return}if(a){s.setShape(d);var f=o.getShallow("animationType");o.ecModel.ssr?(pc(s,{scaleX:0,scaleY:0},o,{dataIndex:r,isFrom:!0}),s.originX=d.cx,s.originY=d.cy):f==="scale"?(s.shape.r=u.r0,pc(s,{shape:{r:u.r}},o,r)):i!=null?(s.setShape({startAngle:i,endAngle:i}),pc(s,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,r)):(s.shape.endAngle=u.startAngle,Xs(s,{shape:{endAngle:u.endAngle}},o,r))}else R6(s),Xs(s,{shape:d},o,r);s.useStyle(t.getItemVisual(r,"style")),M6(s,l);var h=(u.startAngle+u.endAngle)/2,p=o.get("selectedOffset"),m=Math.cos(h)*p,v=Math.sin(h)*p,g=l.getShallow("cursor");g&&s.attr("cursor",g),this._updateLabel(o,t,r),s.ensureState("emphasis").shape=cn({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},E1(c.getModel("itemStyle"),u)),cn(s.ensureState("select"),{x:m,y:v,shape:E1(l.getModel(["select","itemStyle"]),u)}),cn(s.ensureState("blur"),{shape:E1(l.getModel(["blur","itemStyle"]),u)});var y=s.getTextGuideLine(),b=s.getTextContent();y&&cn(y.ensureState("select"),{x:m,y:v}),cn(b.ensureState("select"),{x:m,y:v}),C6(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this,s=r.getItemModel(i),o=s.getModel("labelLine"),l=r.getItemVisual(i,"style"),c=l&&l.fill,u=l&&l.opacity;KT(a,O6(s),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var d=a.getTextContent();a.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new WT,this.setTextGuideLine(h)),Yze(this,Xze(s),{stroke:c,opacity:W1(o.get(["lineStyle","opacity"]),u,1)})}},e}(Am),UUe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,a){var s=t.getData(),o=this._data,l=this.group,c;if(!o&&s.count()>0){for(var u=s.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<s.count();++d)u=s.getItemLayout(d);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var f=new Am({shape:Gte(t,i)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}s.diff(o).add(function(h){var p=new zUe(s,h,c);s.setItemGraphicEl(h,p),l.add(p)}).update(function(h,p){var m=o.getItemGraphicEl(p);m.updateData(s,h,c),m.off("click"),l.add(m),s.setItemGraphicEl(h,m)}).remove(function(h){var p=o.getItemGraphicEl(h);QC(p,t,h)}).execute(),FUe(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e}(kf);const HUe=UUe;function VUe(n,e,t){e=Ln(e)&&{coordDimensions:e}||cn({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=a8(r,e).dimensions,a=new i8(i,n);return a.initData(r,t),a}var $Ue=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n}();const GUe=$Ue;var WUe=da(),qUe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new GUe(ii(this.getData,this),ii(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return VUe(this,{coordDimensions:["value"],encodeDefaulter:Ui(DBe,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=WUe(r),a=i.seats;if(!a){var s=[];r.each(r.mapDimension("value"),function(l){s.push(l)}),a=i.seats=p8e(s,r.hostModel.get("percentPrecision"))}var o=n.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){BR(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(nh);const KUe=qUe;function YUe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),s=r.get(a,i);return!($i(s)&&!isNaN(s)&&s<0)})}}}function qte(n){n.registerChartView(HUe),n.registerSeriesModel(KUe),bFe("pie",n.registerAction),n.registerLayout(Ui(LUe,"pie")),n.registerProcessor(NUe("pie")),n.registerProcessor(YUe("pie"))}var XUe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(zi);const jUe=XUe;var fP=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",lc).models[0]},e.type="cartesian2dAxis",e}(zi);mu(fP,Dze);var Kte={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},ZUe=di({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Kte),d8=di({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Kte),QUe=di({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},d8),JUe=fi({logBase:10},d8);const eHe={category:ZUe,value:d8,time:QUe,log:JUe};var tHe={value:1,category:1,time:1,log:1};function _H(n,e,t,r){ut(tHe,function(i,a){var s=di(di({},eHe[a],!0),r,!0),o=function(l){Tn(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=e+"Axis."+a,u}return c.prototype.mergeDefaultAndTheme=function(u,d){var f=c_(this),h=f?tA(u):{},p=d.getTheme();di(u,p.get(a+"Axis")),di(u,this.getDefaultOption()),u.type=wH(u),f&&mg(u,h,f)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=uP.createByAxisModel(this))},c.prototype.getCategories=function(u){var d=this.option;if(d.type==="category")return u?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+a,c.defaultOption=s,c}(t);n.registerComponentModel(o)}),n.registerSubTypeDefaulter(e+"Axis",wH)}function wH(n){return n.type||(n.data?"category":"value")}var nHe=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return dr(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Os(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}();const rHe=nHe;var hP=["x","y"];function xH(n){return n.type==="interval"||n.type==="time"}var iHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=hP,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!xH(t)||!xH(r))){var i=t.getExtent(),a=r.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],c=a[1]-a[0];if(!(!l||!c)){var u=(o[0]-s[0])/l,d=(o[1]-s[1])/c,f=s[0]-i[0]*u,h=s[1]-a[0]*d,p=this._transform=[u,0,0,d,f,h];this._invTransform=zT([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),a=this.dataToPoint(r),s=this.getArea(),o=new ei(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return $s(i,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(s,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(t[0]),c=a.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(o[0],o[1]),c),Math.max(o[0],o[1])),r},e.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return $s(i,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),r),i[1]=s.coordToData(s.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),a=Math.min(r[0],r[1]),s=Math.max(t[0],t[1])-i,o=Math.max(r[0],r[1])-a;return new ei(i,a,s,o)},e}(rHe),aHe=function(n){Tn(e,n);function e(t,r,i,a,s){var o=n.call(this,t,r,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(Gze);const sHe=aHe;function pP(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,c=i.dim,u=r.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,p=c==="x"?[d[2]-h,d[3]+h]:[d[0]-h,d[1]+h];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));p[f.onZero]=Math.max(Math.min(m,p[1]),p[0])}a.position=[c==="y"?p[f[l]]:d[0],c==="x"?p[f[l]]:d[3]],a.rotation=Math.PI/2*(c==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=v[o],a.labelOffset=s?p[f[o]]-p[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),e_(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-g:g,a.z2=1,a}function SH(n){return n.get("coordinateSystem")==="cartesian2d"}function CH(n){var e={xAxisModel:null,yAxisModel:null};return ut(e,function(t,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,lc).models[0];e[r]=a}),e}var JE=Math.log;function oHe(n,e,t){var r=uw.prototype,i=r.getTicks.call(t),a=r.getTicks.call(t,!0),s=i.length-1,o=r.getInterval.call(t),l=Ete(n,e),c=l.extent,u=l.fixMin,d=l.fixMax;if(n.type==="log"){var f=JE(n.base);c=[JE(c[0])/f,JE(c[1])/f]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:s,fixMin:u,fixMax:d});var h=r.getExtent.call(n);u&&(c[0]=h[0]),d&&(c[1]=h[1]);var p=r.getInterval.call(n),m=c[0],v=c[1];if(u&&d)p=(v-m)/s;else if(u)for(v=c[0]+p*s;v<c[1]&&isFinite(v)&&isFinite(c[1]);)p=KE(p),v=c[0]+p*s;else if(d)for(m=c[1]-p*s;m>c[0]&&isFinite(m)&&isFinite(c[0]);)p=KE(p),m=c[1]-p*s;else{var g=n.getTicks().length-1;g>s&&(p=KE(p));var y=p*s;v=Math.ceil(c[1]/p)*p,m=Oa(v-y),m<0&&c[0]>=0?(m=0,v=Oa(y)):v>0&&c[1]<=0&&(v=0,m=-Oa(y))}var b=(i[0].value-a[0].value)/o,_=(i[s].value-a[s].value)/o;r.setExtent.call(n,m+p*b,v+p*_),r.setInterval.call(n,p),(b||_)&&r.setNiceExtent.call(n,m+p,v-p)}var lHe=function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=hP,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=Ni(s),c=l.length;if(c){for(var u=[],d=c-1;d>=0;d--){var f=+l[d],h=s[f],p=h.model,m=h.scale;dP(m)&&p.get("alignTicks")&&p.get("interval")==null?u.push(h):(eH(m,p),dP(m)&&(o=h))}u.length&&(o||(o=u.pop(),eH(o.scale,o.model)),ut(u,function(v){oHe(v.scale,v.model,o.scale)}))}}i(r.x),i(r.y);var a={};ut(r.x,function(s){MH(r,"y",s,a)}),ut(r.y,function(s){MH(r,"x",s,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=e.getBoxLayoutParams(),a=!r&&e.get("containLabel"),s=dm(i,{width:t.getWidth(),height:t.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(ut(o,function(c){if(!c.model.get(["axisLabel","inside"])){var u=Ize(c);if(u){var d=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);s[d]-=u[d]+f,c.position==="top"?s.y+=u.height+f:c.position==="left"&&(s.x+=u.width+f)}}}),l()),ut(this._coordsList,function(c){c.calcAffineTransform()});function l(){ut(o,function(c){var u=c.isHorizontal(),d=u?[0,s.width]:[0,s.height],f=c.inverse?1:0;c.setExtent(d[f],d[1-f]),cHe(c,u?s.x:s.y)})}},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}or(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",lc).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",lc).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,wi(s,o)<0&&(o=null);else if(r&&i)o=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var c=a.coordinateSystem;c===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,ut(o.x,function(u,d){ut(o.y,function(f,h){var p="x"+d+"y"+h,m=new iHe(p);m.master=i,m.model=e,i._coordsMap[p]=m,i._coordsList.push(m),m.addAxis(u),m.addAxis(f)})});function c(u){return function(d,f){if(e4(d,e)){var h=d.get("position");u==="x"?h!=="top"&&h!=="bottom"&&(h=s.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=s.left?"right":"left"),s[h]=!0;var p=new sHe(u,Aze(d),[0,0],d.get("type"),h),m=p.type==="category";p.onBand=m&&d.get("boundaryGap"),p.inverse=d.get("inverse"),d.axis=p,p.model=d,p.grid=a,p.index=f,a._axesList.push(p),o[u][f]=p,l[u]++}}}},n.prototype._updateScale=function(e,t){ut(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if(SH(i)){var a=CH(i),s=a.xAxisModel,o=a.yAxisModel;if(!e4(s,t)||!e4(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),c=i.getData(),u=l.getAxis("x"),d=l.getAxis("y");r(c,u),r(c,d)}},this);function r(i,a){ut(Pze(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return ut(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);wi(t,a)<0&&t.push(a),wi(r,s)<0&&r.push(s)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,a){var s=new n(i,e,t);s.name="grid_"+a,s.resize(i,t,!0),i.coordinateSystem=s,r.push(s)}),e.eachSeries(function(i){if(SH(i)){var a=CH(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),c=l.coordinateSystem;i.coordinateSystem=c.getCartesian(s.componentIndex,o.componentIndex)}}),r},n.dimensions=hP,n}();function e4(n,e){return n.getCoordSysModel()===e}function MH(n,e,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=n[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)TH(i[l])&&(a=i[l]);else for(var c in i)if(i.hasOwnProperty(c)&&TH(i[c])&&!r[u(i[c])]){a=i[c];break}a&&(r[u(a)]=!0);function u(d){return d.dim+"_"+d.index}}function TH(n){return n&&n.type!=="category"&&n.type!=="time"&&Eze(n)}function cHe(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}const uHe=lHe;var Sf=Math.PI,Yp=function(){function n(e,t){this.group=new bo,this.opt=t,this.axisModel=e,fi(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new bo({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!AH[e]},n.prototype.add=function(e){AH[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var i=UQ(t-e),a,s;return qC(i)?(s=r>0?"top":"bottom",a="center"):qC(i-Sf)?(s=r>0?"bottom":"top",a="center"):(s="middle",i>0&&i<Sf?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),AH={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),s=r.transform,o=[a[0],0],l=[a[1],0],c=o[0]>l[0];s&&($s(o,o,s),$s(l,l,s));var u=cn({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new cm({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});a_(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var f=e.get(["axisLine","symbol"]);if(f!=null){var h=e.get(["axisLine","symbolSize"]);Jn(f)&&(f=[f,f]),(Jn(h)||$i(h))&&(h=[h,h]);var p=zee(e.get(["axisLine","symbolOffset"])||0,h),m=h[0],v=h[1];ut([{rotate:n.rotation+Math.PI/2,offset:p[0],r:0},{rotate:n.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(g,y){if(f[y]!=="none"&&f[y]!=null){var b=sA(f[y],-m/2,-v/2,m,v,u.stroke,!0),_=g.r+g.offset,x=c?l:o;b.attr({rotation:g.rotate,x:x[0]+_*Math.cos(n.rotation),y:x[1]-_*Math.sin(n.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(n,e,t,r){var i=hHe(t,r,e,n),a=mHe(t,r,e,n);if(fHe(e,a,i),pHe(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=jze(dr(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));Jze(s)}},axisName:function(n,e,t,r){var i=e_(n.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),s=n.nameDirection,o=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,d=[a==="start"?c[0]-u*l:a==="end"?c[1]+u*l:(c[0]+c[1])/2,IH(a)?n.labelOffset+s*l:0],f,h=e.get("nameRotate");h!=null&&(h=h*Sf/180);var p;IH(a)?f=Yp.innerTextLayout(n.rotation,h??n.rotation,s):(f=dHe(n.rotation,a,h||0,c),p=n.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var m=o.getFont(),v=e.get("nameTruncate",!0)||{},g=v.ellipsis,y=e_(n.nameTruncateMaxWidth,v.maxWidth,p),b=new Ys({x:d[0],y:d[1],rotation:f.rotation,silent:Yp.isLabelSilent(e),style:th(o,{text:i,font:m,overflow:"truncate",width:y,ellipsis:g,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(L6({el:b,componentModel:e,itemName:i}),b.__fullText=i,b.anid="name",e.get("triggerEvent")){var _=Yp.makeAxisEventDataBase(e);_.targetType="axisName",_.name=i,Ai(b).eventData=_}r.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function dHe(n,e,t,r){var i=UQ(t-n),a,s,o=r[0]>r[1],l=e==="start"&&!o||e!=="start"&&o;return qC(i-Sf/2)?(s=l?"bottom":"top",a="center"):qC(i-Sf*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<Sf*1.5&&i>Sf/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function fHe(n,e,t){if(!Ite(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],s=e[1],o=e[e.length-1],l=e[e.length-2],c=t[0],u=t[1],d=t[t.length-1],f=t[t.length-2];r===!1?(Qo(a),Qo(c)):EH(a,s)&&(r?(Qo(s),Qo(u)):(Qo(a),Qo(c))),i===!1?(Qo(o),Qo(d)):EH(l,o)&&(i?(Qo(l),Qo(f)):(Qo(o),Qo(d)))}}function Qo(n){n&&(n.ignore=!0)}function EH(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=c6([]);return u6(i,i,-n.rotation),t.applyTransform(Nv([],i,n.getLocalTransform())),r.applyTransform(Nv([],i,e.getLocalTransform())),t.intersect(r)}}function IH(n){return n==="middle"||n==="center"}function Yte(n,e,t,r,i){for(var a=[],s=[],o=[],l=0;l<n.length;l++){var c=n[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=t,e&&($s(s,s,e),$s(o,o,e));var u=new cm({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:r,z2:2,autoBatch:!0,silent:!0});a_(u.shape,u.style.lineWidth),u.anid=i+"_"+n[l].tickValue,a.push(u)}return a}function hHe(n,e,t,r){var i=t.axis,a=t.getModel("axisTick"),s=a.get("show");if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),c=i.getTicksCoords(),u=Yte(c,e.transform,l,fi(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}function pHe(n,e,t,r){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=r*a.get("length"),c=fi(o.getLineStyle(),fi(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<s.length;u++)for(var d=Yte(s[u],e.transform,l,c,"minorticks_"+u),f=0;f<d.length;f++)n.add(d[f])}}function mHe(n,e,t,r){var i=t.axis,a=e_(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=t.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),c=(e_(r.labelRotate,s.get("rotate"))||0)*Sf/180,u=Yp.innerTextLayout(r.rotation,c,r.labelDirection),d=t.getCategories&&t.getCategories(!0),f=[],h=Yp.isLabelSilent(t),p=t.get("triggerEvent");return ut(l,function(m,v){var g=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,y=m.formattedLabel,b=m.rawLabel,_=s;if(d&&d[g]){var x=d[g];or(x)&&x.textStyle&&(_=new Za(x.textStyle,s,t.ecModel))}var S=_.getTextColor()||t.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(g),C=new Ys({x:T,y:r.labelOffset+r.labelDirection*o,rotation:u.rotation,silent:h,z2:10+(m.level||0),style:th(_,{text:y,align:_.getShallow("align",!0)||u.textAlign,verticalAlign:_.getShallow("verticalAlign",!0)||_.getShallow("baseline",!0)||u.textVerticalAlign,fill:Ar(S)?S(i.type==="category"?b:i.type==="value"?g+"":g,v):S})});if(C.anid="label_"+g,p){var M=Yp.makeAxisEventDataBase(t);M.targetType="axisLabel",M.value=b,M.tickIndex=v,i.type==="category"&&(M.dataIndex=g),Ai(C).eventData=M}e.add(C),C.updateTransform(),f.push(C),n.add(C),C.decomposeTransform()}),f}}const Xte=Yp;function vHe(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return gHe(t,n,e),t.seriesInvolved&&bHe(t,n),t}function gHe(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];ut(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=p_(o.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=o;var u=o.model,d=u.getModel("tooltip",r);if(ut(o.getAxes(),Ui(m,!1,null)),o.getTooltipAxes&&r&&d.get("show")){var f=d.get("trigger")==="axis",h=d.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(d.get(["axisPointer","axis"]));(f||h)&&ut(p.baseAxes,Ui(m,h?"cross":!0,f)),h&&ut(p.otherAxes,Ui(m,"cross",!1))}function m(v,g,y){var b=y.model.getModel("axisPointer",i),_=b.get("show");if(!(!_||_==="auto"&&!v&&!mP(b))){g==null&&(g=b.get("triggerTooltip")),b=v?yHe(y,d,i,e,v,g):b;var x=b.get("snap"),S=b.get("triggerEmphasis"),T=p_(y.model),C=g||x||y.type==="category",M=n.axesInfo[T]={key:T,axis:y,coordSys:o,axisPointerModel:b,triggerTooltip:g,triggerEmphasis:S,involveSeries:C,snap:x,useHandle:mP(b),seriesModels:[],linkGroup:null};c[T]=M,n.seriesInvolved=n.seriesInvolved||C;var A=_He(a,y);if(A!=null){var I=s[A]||(s[A]={axesInfo:{}});I.axesInfo[T]=M,I.mapper=a[A].mapper,M.linkGroup=I}}}})}function yHe(n,e,t,r,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};ut(o,function(f){l[f]=jr(s.get(f))}),l.snap=n.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var u=s.get(["label","show"]);if(c.show=u??!0,!a){var d=l.lineStyle=s.get("crossStyle");d&&fi(c,d.textStyle)}}return n.model.getModel("axisPointer",new Za(l,t,r))}function bHe(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||ut(n.coordSysAxesInfo[p_(r.model)],function(s){var o=s.axis;r.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function _He(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var a=n[i]||{};if(t4(a[r+"AxisId"],t.id)||t4(a[r+"AxisIndex"],t.componentIndex)||t4(a[r+"AxisName"],t.name))return i}}function t4(n,e){return n==="all"||Ln(n)&&wi(n,e)>=0||n===e}function wHe(n){var e=f8(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=r.parse(s));var o=mP(t);a==null&&(i.status=o?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function f8(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[p_(n)]}function xHe(n){var e=f8(n);return e&&e.axisPointerModel}function mP(n){return!!n.get(["handle","show"])}function p_(n){return n.type+"||"+n.id}var RH={},SHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.axisPointerClass&&wHe(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=xHe(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){RH[t]=r},e.getAxisPointerClass=function(t){return t&&RH[t]},e.type="axis",e}(dd);const jte=SHe;var vP=da();function CHe(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=r.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=o.length,d=vP(n).splitAreaColors,f=Dr(),h=0;if(d)for(var p=0;p<c.length;p++){var m=d.get(c[p].tickValue);if(m!=null){h=(m+(u-1)*p)%u;break}}var v=i.toGlobalCoord(c[0].coord),g=s.getAreaStyle();o=Ln(o)?o:[o];for(var p=1;p<c.length;p++){var y=i.toGlobalCoord(c[p].coord),b=void 0,_=void 0,x=void 0,S=void 0;i.isHorizontal()?(b=v,_=l.y,x=y-b,S=l.height,v=b+x):(b=l.x,_=v,x=l.width,S=y-_,v=_+S);var T=c[p-1].tickValue;T!=null&&f.set(T,h),e.add(new Ea({anid:T!=null?"area_"+T:null,shape:{x:b,y:_,width:x,height:S},style:fi({fill:o[h]},g),autoBatch:!0,silent:!0})),h=(h+1)%u}vP(n).splitAreaColors=f}}}function MHe(n){vP(n).splitAreaColors=null}var THe=["axisLine","axisTickLabel","axisName"],AHe=["splitArea","splitLine","minorSplitLine"],Zte=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new bo,this.group.add(this._axisGroup),!!t.get("show")){var o=t.getCoordSysModel(),l=pP(o,t),c=new Xte(t,cn({handleAutoShown:function(d){for(var f=o.coordinateSystem.getCartesians(),h=0;h<f.length;h++)if(dP(f[h].getOtherAxis(t.axis).scale))return!0;return!1}},l));ut(THe,c.add,c),this._axisGroup.add(c.getGroup()),ut(AHe,function(d){t.get([d,"show"])&&EHe[d](this,this._axisGroup,t,o)},this);var u=a&&a.type==="changeAxisOrder"&&a.isInitSort;u||zJ(s,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)}},e.prototype.remove=function(){MHe(this)},e.type="cartesianAxis",e}(jte),EHe={splitLine:function(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=Ln(o)?o:[o];for(var l=r.coordinateSystem.getRect(),c=i.isHorizontal(),u=0,d=i.getTicksCoords({tickModel:a}),f=[],h=[],p=s.getLineStyle(),m=0;m<d.length;m++){var v=i.toGlobalCoord(d[m].coord);c?(f[0]=v,f[1]=l.y,h[0]=v,h[1]=l.y+l.height):(f[0]=l.x,f[1]=v,h[0]=l.x+l.width,h[1]=v);var g=u++%o.length,y=d[m].tickValue,b=new cm({anid:y!=null?"line_"+d[m].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:fi({stroke:o[g]},p),silent:!0});a_(b.shape,p.lineWidth),e.add(b)}}},minorSplitLine:function(n,e,t,r){var i=t.axis,a=t.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var u=[],d=[],f=s.getLineStyle(),h=0;h<c.length;h++)for(var p=0;p<c[h].length;p++){var m=i.toGlobalCoord(c[h][p].coord);l?(u[0]=m,u[1]=o.y,d[0]=m,d[1]=o.y+o.height):(u[0]=o.x,u[1]=m,d[0]=o.x+o.width,d[1]=m);var v=new cm({anid:"minor_line_"+c[h][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:f,silent:!0});a_(v.shape,f.lineWidth),e.add(v)}},splitArea:function(n,e,t,r){CHe(n,e,t,r)}},Qte=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Zte),IHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Qte.type,t}return e.type="yAxis",e}(Zte),RHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new Ea({shape:t.coordinateSystem.getRect(),style:fi({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(dd),PH={offset:0};function PHe(n){n.registerComponentView(RHe),n.registerComponentModel(jUe),n.registerCoordinateSystem("cartesian2d",uHe),_H(n,"x",fP,PH),_H(n,"y",fP,PH),n.registerComponentView(Qte),n.registerComponentView(IHe),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var DH="\0_ec_interaction_mutex";function kH(n,e){return!!DHe(n)[e]}function DHe(n){return n[DH]||(n[DH]={})}Im({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Vs);var kHe=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var i=ii(r._mousedownHandler,r),a=ii(r._mousemoveHandler,r),s=ii(r._mouseupHandler,r),o=ii(r._mousewheelHandler,r),l=ii(r._pinchHandler,r);return r.enable=function(c,u){this.disable(),this._opt=fi(jr(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),c==null&&(c=!0),(c===!0||c==="move"||c==="pan")&&(t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",s)),(c===!0||c==="scale"||c==="zoom")&&(t.on("mousewheel",o),t.on("pinch",l))},r.disable=function(){t.off("mousedown",i),t.off("mousemove",a),t.off("mouseup",s),t.off("mousewheel",o),t.off("pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!T9(t)){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!H2("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||kH(this._zr,"globalPan"))){var r=t.offsetX,i=t.offsetY,a=this._x,s=this._y,o=r-a,l=i-s;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&FT(t.event),Jte(this,"pan","moveOnMouseMove",t,{dx:o,dy:l,oldX:a,oldY:s,newX:r,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){T9(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var r=H2("zoomOnMouseWheel",t,this._opt),i=H2("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!r&&!i)){if(r){var c=s>3?1.4:s>1?1.2:1.1,u=a>0?c:1/c;n4(this,"zoom","zoomOnMouseWheel",t,{scale:u,originX:o,originY:l,isAvailableBehavior:null})}if(i){var d=Math.abs(a),f=(a>0?1:-1)*(d>3?.4:d>1?.15:.05);n4(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!kH(this._zr,"globalPan")){var r=t.pinchScale>1?1.1:1/1.1;n4(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Sc);function n4(n,e,t,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(FT(r.event),Jte(n,e,t,r,i))}function Jte(n,e,t,r,i){i.isAvailableBehavior=ii(H2,null,t,r),n.trigger(e,i)}function H2(n,e,t){var r=t[n];return!n||r&&(!Jn(r)||e.event[r+"Key"])}const LHe=kHe;function NHe(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function OHe(n,e,t,r){var i=n.target,a=n.zoomLimit,s=n.zoom=n.zoom||1;if(s*=e,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var c=s/n.zoom;n.zoom=s,i.x-=(t-i.x)*(c-1),i.y-=(r-i.y)*(c-1),i.scaleX*=c,i.scaleY*=c,i.dirty()}var BHe={axisPointer:1,tooltip:1,brush:1};function FHe(n,e,t){var r=e.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==t&&!BHe.hasOwnProperty(r.mainType)&&i&&i.model!==t}var LH=$s,zHe=function(n){Tn(e,n);function e(t){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Ip,r._rawTransformable=new Ip,r.name=t,r}return e.prototype.setBoundingRect=function(t,r,i,a){return this._rect=new ei(t,r,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,i,a){this._transformTo(t,r,i,a),this._viewRect=new ei(t,r,i,a)},e.prototype._transformTo=function(t,r,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new ei(t,r,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,r){t&&(this._center=[Ti(t[0],r.getWidth()),Ti(t[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var r=this.zoomLimit;r&&(r.max!=null&&(t=Math.min(r.max,t)),r.min!=null&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,i=t.y+t.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=$s([],a,t),i=$s([],i,t),r.originX=a[0],r.originY=a[1],r.x=i[0]-a[0],r.y=i[1]-a[1],r.scaleX=r.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),gQ(this.transform||(this.transform=[]),r.transform||pg()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],zT(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new Ip;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?LH(i,t,a):HLe(i,t)},e.prototype.pointToData=function(t){var r=this.invTransform;return r?LH([],t,r):[t[0],t[1]]},e.prototype.convertToPixel=function(t,r,i){var a=NH(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=NH(r);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Ip);function NH(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const UHe=zHe;function OH(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function HHe(n,e,t,r){var i=n.getZoom(),a=n.getCenter(),s=e.zoom,o=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,n.setCenter(OH(n,o),r)),s!=null){if(t){var l=t.min||0,c=t.max||1/0;s=Math.max(Math.min(i*s,c),l)/i}n.scaleX*=s,n.scaleY*=s;var u=(e.originX-n.x)*(s-1),d=(e.originY-n.y)*(s-1);n.x-=u,n.y-=d,n.updateTransform(),n.setCenter(OH(n,o),r),n.setZoom(s*i)}return{center:n.getCenter(),zoom:n.getZoom()}}function VHe(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],r,i;r=t.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function $He(n,e){var t=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(t.length){qHe(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+e(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+e(n,i));n.parentNode.hierNode.defaultAncestor=KHe(n,i,n.parentNode.hierNode.defaultAncestor||r[0],e)}function GHe(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function BH(n){return arguments.length?n:jHe}function I1(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function WHe(n,e){return dm(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function qHe(n){for(var e=n.children,t=e.length,r=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function KHe(n,e,t,r){if(e){for(var i=n,a=n,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,c=a.hierNode.modifier,u=s.hierNode.modifier,d=o.hierNode.modifier;o=r4(o),a=i4(a),o&&a;){i=r4(i),s=i4(s),i.hierNode.ancestor=n;var f=o.hierNode.prelim+d-a.hierNode.prelim-c+r(o,a);f>0&&(XHe(YHe(o,n,t),n,f),c+=f,l+=f),d+=o.hierNode.modifier,c+=a.hierNode.modifier,l+=i.hierNode.modifier,u+=s.hierNode.modifier}o&&!r4(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=d-l),a&&!i4(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=c-u,t=n)}return t}function r4(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function i4(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function YHe(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function XHe(n,e,t){var r=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=r}function jHe(n,e){return n.parentNode===e.parentNode?1:2}var ZHe=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),QHe=function(n){Tn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new ZHe},e.prototype.buildPath=function(t,r){var i=r.childPoints,a=i.length,s=r.parentPoint,o=i[0],l=i[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var c=r.orient,u=c==="TB"||c==="BT"?0:1,d=1-u,f=Ti(r.forkPosition,1),h=[];h[u]=s[u],h[d]=s[d]+(l[d]-s[d])*f,t.moveTo(s[0],s[1]),t.lineTo(h[0],h[1]),t.moveTo(o[0],o[1]),h[u]=o[u],t.lineTo(h[0],h[1]),h[u]=l[u],t.lineTo(h[0],h[1]),t.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var m=i[p];t.moveTo(m[0],m[1]),h[u]=m[u],t.lineTo(h[0],h[1])}},e}(xi),JHe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new bo,t}return e.prototype.init=function(t,r){this._controller=new LHe(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,i){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,i),this._updateController(t,r,i);var c=this._data;a.diff(c).add(function(u){FH(a,u)&&zH(a,u,null,o,t)}).update(function(u,d){var f=c.getItemGraphicEl(d);if(!FH(a,u)){f&&HH(c,d,f,o,t);return}zH(a,u,f,o,t)}).remove(function(u){var d=c.getItemGraphicEl(u);d&&HH(c,u,d,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(u,d){u.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:d})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,r){var i=t.getData(),a=[];i.each(function(d){var f=i.getItemLayout(d);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var s=[],o=[];rNe(a,s,o);var l=this._min,c=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=c?c[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=c?c[1]:o[1]+1);var u=t.coordinateSystem=new UHe;u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),u.setCenter(t.get("center"),r),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,r,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(c,u,d){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(u,d)&&!FHe(c,i,t)}),s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(c){NHe(o,c.dx,c.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){OHe(o,c.scale,c.originX,c.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(t),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var r=t.getData(),i=this._getNodeGlobalScale(t);r.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var r=t.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,s=r.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(kf);function FH(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function zH(n,e,t,r,i){var a=!t,s=n.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,c=s.isExpand===!1&&s.children.length!==0?l:"#fff",u=n.tree.root,d=s.parentNode===u?s:s.parentNode||s,f=n.getItemGraphicEl(d.dataIndex),h=d.getLayout(),p=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:h,m=s.getLayout();a?(t=new cUe(n,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.x=p.x,t.y=p.y):t.updateData(n,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=m.rawX,t.__radialRawY=m.rawY,r.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Xs(t,{x:m.x,y:m.y},i);var v=t.getSymbolPath();if(i.get("layout")==="radial"){var g=u.children[0],y=g.getLayout(),b=g.children.length,_=void 0,x=void 0;if(m.x===y.x&&s.isExpand===!0&&g.children.length){var S={x:(g.children[0].getLayout().x+g.children[b-1].getLayout().x)/2,y:(g.children[0].getLayout().y+g.children[b-1].getLayout().y)/2};_=Math.atan2(S.y-y.y,S.x-y.x),_<0&&(_=Math.PI*2+_),x=S.x<y.x,x&&(_=_-Math.PI)}else _=Math.atan2(m.y-y.y,m.x-y.x),_<0&&(_=Math.PI*2+_),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(x=m.x<y.x,x&&(_=_-Math.PI)):(x=m.x>y.x,x||(_=_-Math.PI));var T=x?"left":"right",C=o.getModel("label"),M=C.get("rotate"),A=M*(Math.PI/180),I=v.getTextContent();I&&(v.setTextConfig({position:C.get("position")||T,rotation:M==null?-_:A,origin:"center"}),I.setStyle("verticalAlign","middle"))}var D=o.get(["emphasis","focus"]),L=D==="relative"?pQ(s.getAncestorsIndices(),s.getDescendantIndices()):D==="ancestor"?s.getAncestorsIndices():D==="descendant"?s.getDescendantIndices():null;L&&(Ai(t).focus=L),eVe(i,s,u,t,p,h,m,r),t.__edge&&(t.onHoverStateChange=function(F){if(F!=="blur"){var B=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);B&&B.hoverState===cw||UNe(t.__edge,F)}})}function eVe(n,e,t,r,i,a,s,o){var l=e.getModel(),c=n.get("edgeShape"),u=n.get("layout"),d=n.getOrient(),f=n.get(["lineStyle","curveness"]),h=n.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),m=r.__edge;if(c==="curve")e.parentNode&&e.parentNode!==t&&(m||(m=r.__edge=new A6({shape:gP(u,d,f,i,i)})),Xs(m,{shape:gP(u,d,f,a,s)},n));else if(c==="polyline"&&u==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var v=e.children,g=[],y=0;y<v.length;y++){var b=v[y].getLayout();g.push([b.x,b.y])}m||(m=r.__edge=new QHe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:d,forkPosition:h}})),Xs(m,{shape:{parentPoint:[s.x,s.y],childPoints:g}},n)}m&&!(c==="polyline"&&!e.isExpand)&&(m.useStyle(fi({strokeNoScale:!0,fill:null},p)),M6(m,l,"lineStyle"),dJ(m),o.add(m))}function UH(n,e,t,r,i){var a=e.tree.root,s=ene(a,n),o=s.source,l=s.sourceLayout,c=e.getItemGraphicEl(n.dataIndex);if(c){var u=e.getItemGraphicEl(o.dataIndex),d=u.__edge,f=c.__edge||(o.isExpand===!1||o.children.length===1?d:void 0),h=r.get("edgeShape"),p=r.get("layout"),m=r.get("orient"),v=r.get(["lineStyle","curveness"]);f&&(h==="curve"?um(f,{shape:gP(p,m,v,l,l),style:{opacity:0}},r,{cb:function(){t.remove(f)},removeOpt:i}):h==="polyline"&&r.get("layout")==="orthogonal"&&um(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){t.remove(f)},removeOpt:i}))}}function ene(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,r;r=t.getLayout(),r==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:r}}function HH(n,e,t,r,i){var a=n.tree.getNodeByDataIndex(e),s=n.tree.root,o=ene(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};um(t,{x:o.x+1,y:o.y+1},i,{cb:function(){r.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(c){UH(c,n,r,i,l)}),UH(a,n,r,i,l)}function gP(n,e,t,r,i){var a,s,o,l,c,u,d,f;if(n==="radial"){c=r.rawX,d=r.rawY,u=i.rawX,f=i.rawY;var h=I1(c,d),p=I1(c,d+(f-d)*t),m=I1(u,f+(d-f)*t),v=I1(u,f);return{x1:h.x||0,y1:h.y||0,x2:v.x||0,y2:v.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:m.x||0,cpy2:m.y||0}}else c=r.x,d=r.y,u=i.x,f=i.y,(e==="LR"||e==="RL")&&(a=c+(u-c)*t,s=d,o=u+(c-u)*t,l=f),(e==="TB"||e==="BT")&&(a=c,s=d+(f-d)*t,o=u,l=f+(d-f)*t);return{x1:c,y1:d,x2:u,y2:f,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}const tVe=JHe;var Sl=da();function nVe(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,tne(e,t,n),ut(t,function(r){ut(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Ui(rVe,n))})}),e.wrapMethod("cloneShallow",Ui(aVe,n)),ut(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Ui(iVe,n))}),au(t[e.dataType]===e)}function rVe(n,e){if(lVe(this)){var t=cn({},Sl(this).datas);t[this.dataType]=e,tne(e,t,n)}else h8(e,this.dataType,Sl(this).mainData,n);return e}function iVe(n,e){return n.struct&&n.struct.update(),e}function aVe(n,e){return ut(Sl(e).datas,function(t,r){t!==e&&h8(t.cloneShallow(),r,e,n)}),e}function sVe(n){var e=Sl(this).mainData;return n==null||e==null?e:Sl(e).datas[n]}function oVe(){var n=Sl(this).mainData;return n==null?[{data:n}]:dr(Ni(Sl(n).datas),function(e){return{type:e,data:Sl(n).datas[e]}})}function lVe(n){return Sl(n).mainData===n}function tne(n,e,t){Sl(n).datas={},ut(e,function(r,i){h8(r,i,n,t)})}function h8(n,e,t,r){Sl(t).datas[e]=n,Sl(n).mainData=t,n.dataType=e,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=n),n.getLinkedData=sVe,n.getLinkedDataAll=oVe}var cVe=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,r){Ar(e)&&(r=t,t=e,e=null),e=e||{},Jn(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=t.call(r,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,r);i==="postorder"&&t.call(r,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],r=e?this:this.parentNode;r;)t.push(r),r=r.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),uVe=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,r){this.root.eachNode(e,t,r)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,r=0,i=t.length;r<i;r++)t[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)t[e.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,r){var i=new n(t),a=[],s=1;o(e);function o(u,d){var f=u.value;s=Math.max(s,Ln(f)?f.length:1),a.push(u);var h=new cVe(hc(u.name,""),i);d?dVe(h,d):i.root=h,i._nodes.push(h);var p=u.children;if(p)for(var m=0;m<p.length;m++)o(p[m],h)}i.root.updateDepthAndHeight(0);var l=a8(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,c=new i8(l,t);return c.initData(a),r&&r(c),nVe({mainData:c,struct:i,structAttr:"tree"}),i.update(),i},n}();function dVe(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}const fVe=uVe;function hVe(n,e){for(var t=[];n;){var r=n.dataIndex;t.push({name:n.name,dataIndex:r,value:e.getRawValue(r)}),n=n.parentNode}return t.reverse(),t}var pVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var r={name:t.name,children:t.data},i=t.leaves||{},a=new Za(i,this,this.ecModel),s=fVe.createTree(r,this,o);function o(d){d.wrapMethod("getItemModel",function(f,h){var p=s.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(f.parentModel=a),f})}var l=0;s.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var c=t.expandAndCollapse,u=c&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(d){var f=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=f&&f.collapsed!=null?!f.collapsed:d.depth<=u}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),c=o.name;o&&o!==s;)c=o.parentNode.name+"."+c,o=o.parentNode;return gg("nameValue",{name:c,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=hVe(i,this),r.collapsed=!i.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(nh);const mVe=pVe;function vVe(n,e,t){for(var r=[n],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)r.push(s[o])}for(;a=i.pop();)e(a,t)}function jy(n,e){for(var t=[n],r;r=t.pop();)if(e(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function gVe(n,e){n.eachSeriesByType("tree",function(t){yVe(t,e)})}function yVe(n,e){var t=WHe(n,e);n.layoutInfo=t;var r=n.get("layout"),i=0,a=0,s=null;r==="radial"?(i=2*Math.PI,a=Math.min(t.height,t.width)/2,s=BH(function(b,_){return(b.parentNode===_.parentNode?1:2)/b.depth})):(i=t.width,a=t.height,s=BH());var o=n.getData().tree.root,l=o.children[0];if(l){VHe(o),vVe(l,$He,s),o.hierNode.modifier=-l.hierNode.prelim,jy(l,GHe);var c=l,u=l,d=l;jy(l,function(b){var _=b.getLayout().x;_<c.getLayout().x&&(c=b),_>u.getLayout().x&&(u=b),b.depth>d.depth&&(d=b)});var f=c===u?1:s(c,u)/2,h=f-c.getLayout().x,p=0,m=0,v=0,g=0;if(r==="radial")p=i/(u.getLayout().x+f+h),m=a/(d.depth-1||1),jy(l,function(b){v=(b.getLayout().x+h)*p,g=(b.depth-1)*m;var _=I1(v,g);b.setLayout({x:_.x,y:_.y,rawX:v,rawY:g},!0)});else{var y=n.getOrient();y==="RL"||y==="LR"?(m=a/(u.getLayout().x+f+h),p=i/(d.depth-1||1),jy(l,function(b){g=(b.getLayout().x+h)*m,v=y==="LR"?(b.depth-1)*p:i-(b.depth-1)*p,b.setLayout({x:v,y:g},!0)})):(y==="TB"||y==="BT")&&(p=i/(u.getLayout().x+f+h),m=a/(d.depth-1||1),jy(l,function(b){v=(b.getLayout().x+h)*p,g=y==="TB"?(b.depth-1)*m:a-(b.depth-1)*m,b.setLayout({x:v,y:g},!0)}))}}}function bVe(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),r=t.tree;r.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(i.dataIndex,"style");cn(o,s)})})}function _Ve(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var i=e.dataIndex,a=r.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=HHe(a,e,void 0,r);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function wVe(n){n.registerChartView(tVe),n.registerSeriesModel(mVe),n.registerLayout(gVe),n.registerVisual(bVe),_Ve(n)}var mp=da(),VH=jr,a4=ii,xVe=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var c={};this.makeElOption(c,a,e,t,r);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new bo,this.createPointerEl(o,c,e,t),this.createLabelEl(o,c,e,t),r.getZr().add(o);else{var f=Ui($H,t,d);this.updatePointerEl(o,c,f),this.updateLabelEl(o,c,f,t)}WH(o,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=f8(e).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>o}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,a){},n.prototype.createPointerEl=function(e,t,r,i){var a=t.pointer;if(a){var s=mp(e).pointerEl=new JOe[a.type](VH(t.pointer));e.add(s)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var a=mp(e).labelEl=new Ys(VH(t.label));e.add(a),GH(a,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=mp(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var a=mp(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),GH(a,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=k6(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){FT(c.event)},onmousedown:a4(this._onHandleDragMove,this,0,0),drift:a4(this._onHandleDragMove,this),ondragend:a4(this._onHandleDragEnd,this)}),r.add(i)),WH(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Ln(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Pee(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},n.prototype._moveHandleToValue=function(e,t){$H(this._axisPointerModel,!t&&this._moveAnimation,this._handle,s4(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(s4(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(s4(i)),mp(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),tP(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n}();function $H(n,e,t,r){nne(mp(t).lastProp,r)||(mp(t).lastProp=r,e?Xs(t,r,n):(t.stopAnimation(),t.attr(r)))}function nne(n,e){if(or(n)&&or(e)){var t=!0;return ut(e,function(r,i){t=t&&nne(n[i],r)}),!!t}else return n===e}function GH(n,e){n[e.get(["label","show"])?"show":"hide"]()}function s4(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function WH(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=t)})}const SVe=xVe;function CVe(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function MVe(n,e,t,r,i){var a=t.get("value"),s=rne(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=eA(o.get("padding")||0),c=o.getFont(),u=h6(s,c),d=i.position,f=u.width+l[1]+l[3],h=u.height+l[0]+l[2],p=i.align;p==="right"&&(d[0]-=f),p==="center"&&(d[0]-=f/2);var m=i.verticalAlign;m==="bottom"&&(d[1]-=h),m==="middle"&&(d[1]-=h/2),TVe(d,f,h,r);var v=o.get("backgroundColor");(!v||v==="auto")&&(v=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:th(o,{text:s,font:c,fill:o.getTextColor(),padding:l,backgroundColor:v}),z2:10}}function TVe(n,e,t,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function rne(n,e,t,r,i){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:i.precision}),s=i.formatter;if(s){var o={value:c8(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};ut(r,function(l){var c=t.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,d=c&&c.getDataParams(u);d&&o.seriesData.push(d)}),Jn(s)?a=s.replace("{value}",a):Ar(s)&&(a=s(o))}return a}function ine(n,e,t){var r=pg();return u6(r,r,t.rotation),MR(r,r,t.position),D6([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function AVe(n,e,t,r,i,a){var s=Xte.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),MVe(e,r,i,a,{position:ine(r.axis,n,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function EVe(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function IVe(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}var RVe=function(n){Tn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,s){var o=i.axis,l=o.grid,c=a.get("type"),u=qH(l,o).getOtherAxis(o).getGlobalExtent(),d=o.toGlobalCoord(o.dataToCoord(r,!0));if(c&&c!=="none"){var f=CVe(a),h=PVe[c](o,d,u);h.style=f,t.graphicKey=h.type,t.pointer=h}var p=pP(l.model,i);AVe(r,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,r,i){var a=pP(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=ine(r.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),c=qH(o,s).getOtherAxis(s).getGlobalExtent(),u=s.dim==="x"?0:1,d=[t.x,t.y];d[u]+=r[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var f=(c[1]+c[0])/2,h=[f,f];h[u]=d[u];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:h,tooltipOption:p[u]}},e}(SVe);function qH(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var PVe={line:function(n,e,t){var r=EVe([e,t[0]],[e,t[1]],KH(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:IVe([e-r/2,t[0]],[r,i],KH(n))}}};function KH(n){return n.dim==="x"?0:1}const DVe=RVe;var kVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(zi);const LVe=kVe;var Xu=da(),NVe=ut;function ane(n,e,t){if(!Pr.node){var r=e.getZr();Xu(r).records||(Xu(r).records={}),OVe(r,e);var i=Xu(r).records[n]||(Xu(r).records[n]={});i.handler=t}}function OVe(n,e){if(Xu(n).initialized)return;Xu(n).initialized=!0,t("click",Ui(YH,"click")),t("mousemove",Ui(YH,"mousemove")),t("globalout",FVe);function t(r,i){n.on(r,function(a){var s=zVe(e);NVe(Xu(n).records,function(o){o&&i(o,a,s.dispatchAction)}),BVe(s.pendings,e)})}}function BVe(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function FVe(n,e,t){n.handler("leave",null,t)}function YH(n,e,t,r){e.handler(n,t,r)}function zVe(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function yP(n,e){if(!Pr.node){var t=e.getZr(),r=(Xu(t).records||{})[n];r&&(Xu(t).records[n]=null)}}var UVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";ane("axisPointer",i,function(o,l,c){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&c({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){yP("axisPointer",r)},e.prototype.dispose=function(t,r){yP("axisPointer",r)},e.type="axisPointer",e}(dd);const HVe=UVe;function sne(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),s=sw(a,n);if(s==null||s<0||Ln(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),d=u.dim,f=c.dim,h=d==="x"||d==="radius"?1:0,p=a.mapDimension(f),m=[];m[h]=a.get(p,s),m[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(m)||[]}else t=l.dataToPoint(a.getValues(dr(l.dimensions,function(g){return a.mapDimension(g)}),s))||[];else if(o){var v=o.getBoundingRect().clone();v.applyTransform(o.transform),t=[v.x+v.width/2,v.y+v.height/2]}return{point:t,el:o}}var XH=da();function VVe(n,e,t){var r=n.currTrigger,i=[n.x,n.y],a=n,s=n.dispatchAction||ii(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){V2(i)&&(i=sne({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=V2(i),c=a.axesInfo,u=o.axesInfo,d=r==="leave"||V2(i),f={},h={},p={list:[],map:{}},m={showPointer:Ui(GVe,h),showTooltip:Ui(WVe,p)};ut(o.coordSysMap,function(g,y){var b=l||g.containPoint(i);ut(o.coordSysAxesInfo[y],function(_,x){var S=_.axis,T=XVe(c,_);if(!d&&b&&(!c||T)){var C=T&&T.value;C==null&&!l&&(C=S.pointToData(i)),C!=null&&jH(_,C,m,!1,f)}})});var v={};return ut(u,function(g,y){var b=g.linkGroup;b&&!h[y]&&ut(b.axesInfo,function(_,x){var S=h[x];if(_!==g&&S){var T=S.value;b.mapper&&(T=g.axis.scale.parse(b.mapper(T,ZH(_),ZH(g)))),v[g.key]=T}})}),ut(v,function(g,y){jH(u[y],g,m,!0,f)}),qVe(h,u,f),KVe(p,i,n,s),YVe(u,s,t),f}}function jH(n,e,t,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var s=$Ve(e,n),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&cn(i,o[0]),!r&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,o),t.showTooltip(n,s,l)}}function $Ve(n,e){var t=e.axis,r=t.dim,i=n,a=[],s=Number.MAX_VALUE,o=-1;return ut(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(r),d,f;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(u,n,t);f=h.dataIndices,d=h.nestestValue}else{if(f=l.getData().indicesOfNearest(u[0],n,t.type==="category"?.5:null),!f.length)return;d=l.getData().get(u[0],f[0])}if(!(d==null||!isFinite(d))){var p=n-d,m=Math.abs(p);m<=s&&((m<s||p>=0&&o<0)&&(s=m,o=p,i=d,a.length=0),ut(f,function(v){a.push({seriesIndex:l.seriesIndex,dataIndexInside:v,dataIndex:l.getData().getRawIndex(v)})}))}}),{payloadBatch:a,snapToValue:i}}function GVe(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function WVe(n,e,t,r){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,c=p_(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function qVe(n,e,t){var r=t.axesInfo=[];ut(e,function(i,a){var s=i.axisPointerModel.option,o=n[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function KVe(n,e,t,r){if(V2(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function YVe(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",a=XH(r)[i]||{},s=XH(r)[i]={};ut(n,function(c,u){var d=c.axisPointerModel.option;d.status==="show"&&c.triggerEmphasis&&ut(d.seriesDataIndices,function(f){var h=f.seriesIndex+" | "+f.dataIndex;s[h]=f})});var o=[],l=[];ut(a,function(c,u){!s[u]&&l.push(c)}),ut(s,function(c,u){!a[u]&&o.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function XVe(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function ZH(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function V2(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function one(n){jte.registerAxisPointerClass("CartesianAxisPointer",DVe),n.registerComponentModel(LVe),n.registerComponentView(HVe),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Ln(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=vHe(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},VVe)}function jVe(n){fd(PHe),fd(one)}function ZVe(n,e){var t=eA(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new Ea({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var QVe=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(zi);const JVe=QVe;function lne(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function cne(n){if(Pr.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var une=cne(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),e$e=cne(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function dne(n,e){if(!n)return e;e=tee(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function t$e(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}var n$e=dne(e$e,"transition"),p8=dne(une,"transform"),r$e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Pr.transform3dSupported?"will-change:transform;":"");function i$e(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function a$e(n,e,t){if(!Jn(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=l_(e);var a=i$e(t),s=Math.max(Math.round(i)*1.5,6),o="",l=p8+":",c;wi(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(c=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(c=a==="top"?225:45)+"deg)");var u=c*Math.PI/180,d=s+i,f=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),h=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-d)/2)*100)/100;o+=";"+a+":-"+h+"px";var p=e+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+m.join("")+'"></div>'}function s$e(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=Pr.transformSupported?","+p8+r:",left"+r+",top"+r),n$e+":"+i}function QH(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Pr.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Pr.transform3dSupported,s="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+p8+":"+s+";":[["top",0],["left",0],[une,s]]}function o$e(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,o=n.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+s+"px "+o+"px "+a+"px "+i),ut(["decoration","align"],function(l){var c=n.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function l$e(n,e,t){var r=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),s=n.get("shadowBlur"),o=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=Eee(n,"html"),f=l+"px "+c+"px "+s+"px "+o;return r.push("box-shadow:"+f),e&&i&&r.push(s$e(i,t)),a&&r.push("background-color:"+a),ut(["width","color","radius"],function(h){var p="border-"+h,m=tee(p),v=n.get(m);v!=null&&r.push(p+":"+v+(h==="color"?"":"px"))}),r.push(o$e(u)),d!=null&&r.push("padding:"+eA(d).join("px ")+"px"),r.join(";")+";"}function JH(n,e,t,r,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&QLe(n,s,document.body,r,i)}else{n[0]=r,n[1]=i;var o=a&&a.getViewportRootOffset();o&&(n[0]+=o.offsetLeft,n[1]+=o.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var c$e=function(){function n(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Pr.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=t.getZr(),s=this._appendToBody=r&&r.appendToBody;JH(this._styleCoord,a,s,t.getWidth()/2,t.getHeight()/2),s?document.body.appendChild(i):e.appendChild(i),this._container=e;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!o._enterable){var c=a.handler,u=a.painter.getViewportRoot();al(u,l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return n.prototype.update=function(e){var t=this._container,r=t$e(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=r$e+l$e(e,!this._firstShow,this._longHide)+QH(a[0],a[1],!0)+("border-color:"+l_(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(Jn(a)&&r.get("trigger")==="item"&&!lne(r)&&(o=a$e(r,i,a)),Jn(e))s.innerHTML=e+o;else if(e){s.innerHTML="",Ln(e)||(e=[e]);for(var l=0;l<e.length;l++)FC(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=o,s.appendChild(c)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var r=this._styleCoord;if(JH(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,a=QH(r[0],r[1]);ut(a,function(s){i[s[0]]=s[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Pr.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ii(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const u$e=c$e;var d$e=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),tV(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,a){var s=this;or(e)&&io(""),this.el&&this._zr.remove(this.el);var o=r.getModel("textStyle");this.el=new Ys({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Eee(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),ut(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=r.get(c)}),ut(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=o.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=eV(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;tV(i,this._zr,e,t),e=i[0],t=i[1];var a=r.style,s=ff(a.borderWidth||0),o=eV(a);r.x=e+s+o.left,r.y=t+s+o.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ii(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function ff(n){return Math.max(0,n)}function eV(n){var e=ff(n.shadowBlur||0),t=ff(n.shadowOffsetX||0),r=ff(n.shadowOffsetY||0);return{left:ff(e-t),right:ff(e+t),top:ff(e-r),bottom:ff(e+r)}}function tV(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const f$e=d$e;var h$e=new Ea({shape:{x:-1,y:-1,width:2,height:2}}),p$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Pr.node||!r.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=D8e(i.get("renderMode"));this._tooltipContent=a==="richText"?new f$e(r):new u$e(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,r,i){if(!(Pr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?Pee(this,"_updatePosition",50,"fixRate"):tP(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");ane("itemTooltip",this._api,ii(function(i,a,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,r,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,a){if(!(a.from===this.uid||Pr.node||!i.getDom())){var s=nV(a,i);this._ticket="";var o=a.dataByCoordSys,l=y$e(a,r,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var u=h$e;u.x=a.x,u.y=a.y,u.update(),Ai(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,a))return;var d=sne(a,r),f=d.point[0],h=d.point[1];f!=null&&h!=null&&this._tryShow({offsetX:f,offsetY:h,target:d.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,r,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(nV(a,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,a){var s=a.seriesIndex,o=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var c=r.getSeriesByIndex(s);if(c){var u=c.getData(),d=Zy([u.getItemModel(o),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){this._lastDataByCoordSys=null;var o,l;A1(i,function(c){if(Ai(c).dataIndex!=null)return o=c,!0;if(Ai(c).tooltipConfig!=null)return l=c,!0},!0),o?this._showSeriesItemTooltip(t,o,r):l?this._showComponentItemTooltip(t,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=ii(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,s=[r.offsetX,r.offsetY],o=Zy([r.tooltipOption],a),l=this._renderMode,c=[],u=gg("section",{blocks:[],noHeader:!0}),d=[],f=new NE;ut(t,function(y){ut(y.dataByAxis,function(b){var _=i.getComponent(b.axisDim+"Axis",b.axisIndex),x=b.value;if(!(!_||x==null)){var S=rne(x,_.axis,i,b.seriesDataIndices,b.valueLabelOpt),T=gg("section",{header:S,noHeader:!qc(S),sortBlocks:!0,blocks:[]});u.blocks.push(T),ut(b.seriesDataIndices,function(C){var M=i.getSeriesByIndex(C.seriesIndex),A=C.dataIndexInside,I=M.getDataParams(A);if(!(I.dataIndex<0)){I.axisDim=b.axisDim,I.axisIndex=b.axisIndex,I.axisType=b.axisType,I.axisId=b.axisId,I.axisValue=c8(_.axis,{value:x}),I.axisValueLabel=S,I.marker=f.makeTooltipMarker("item",l_(I.color),l);var D=cU(M.formatTooltip(A,!0,null)),L=D.frag;if(L){var F=Zy([M],a).get("valueFormatter");T.blocks.push(F?cn({valueFormatter:F},L):L)}D.text&&d.push(D.text),c.push(I)}})}})}),u.blocks.reverse(),d.reverse();var h=r.position,p=o.get("order"),m=pU(u,f,l,p,i.get("useUTC"),o.get("textStyle"));m&&d.unshift(m);var v=l==="richText"?`

`:"<br/>",g=d.join(v);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(o,h,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(o,g,c,Math.random()+"",s[0],s[1],h,null,f)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,s=Ai(r),o=s.seriesIndex,l=a.getSeriesByIndex(o),c=s.dataModel||l,u=s.dataIndex,d=s.dataType,f=c.getData(d),h=this._renderMode,p=t.positionDefault,m=Zy([f.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),v=m.get("trigger");if(!(v!=null&&v!=="item")){var g=c.getDataParams(u,d),y=new NE;g.marker=y.makeTooltipMarker("item",l_(g.color),h);var b=cU(c.formatTooltip(u,!1,d)),_=m.get("order"),x=m.get("valueFormatter"),S=b.frag,T=S?pU(x?cn({valueFormatter:x},S):S,y,h,_,a.get("useUTC"),m.get("textStyle")):b.text,C="item_"+c.name+"_"+u;this._showOrMove(m,function(){this._showTooltipContent(m,T,g,C,t.offsetX,t.offsetY,t.position,t.target,y)}),i({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var a=Ai(r),s=a.tooltipConfig,o=s.option||{};if(Jn(o)){var l=o;o={content:l,formatter:l}}var c=[o],u=this._ecModel.getComponent(a.componentMainType,a.componentIndex);u&&c.push(u),c.push({formatter:o.content});var d=t.positionDefault,f=Zy(c,this._tooltipModel,d?{position:d}:null),h=f.get("content"),p=Math.random()+"",m=new NE;this._showOrMove(f,function(){var v=jr(f.get("formatterParams")||{});this._showTooltipContent(f,h,v,p,t.offsetX,t.offsetY,t.position,r,m)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,a,s,o,l,c,u){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var h=r,p=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor")),m=p.color;if(f)if(Jn(f)){var v=t.ecModel.get("useUTC"),g=Ln(i)?i[0]:i,y=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=f,y&&(h=XT(g.axisValue,h,v)),h=nee(h,i,!0)}else if(Ar(f)){var b=ii(function(_,x){_===this._ticket&&(d.setContent(x,u,t,m,l),this._updatePosition(t,l,s,o,d,i,c))},this);this._ticket=a,h=f(i,a,b)}else h=f;d.setContent(h,u,t,m,l),d.show(t,m),this._updatePosition(t,l,s,o,d,i,c)}},e.prototype._getNearestPoint=function(t,r,i,a){if(i==="axis"||Ln(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Ln(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,a,s,o,l){var c=this._api.getWidth(),u=this._api.getHeight();r=r||t.get("position");var d=s.getSize(),f=t.get("align"),h=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),Ar(r)&&(r=r([i,a],o,s.el,p,{viewSize:[c,u],contentSize:d.slice()})),Ln(r))i=Ti(r[0],c),a=Ti(r[1],u);else if(or(r)){var m=r;m.width=d[0],m.height=d[1];var v=dm(m,{width:c,height:u});i=v.x,a=v.y,f=null,h=null}else if(Jn(r)&&l){var g=g$e(r,p,d,t.get("borderWidth"));i=g[0],a=g[1]}else{var g=m$e(i,a,s,c,u,f?null:20,h?null:20);i=g[0],a=g[1]}if(f&&(i-=rV(f)?d[0]/2:f==="right"?d[0]:0),h&&(a-=rV(h)?d[1]/2:h==="bottom"?d[1]:0),lne(t)){var g=v$e(i,a,s,c,u);i=g[0],a=g[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&ut(i,function(o,l){var c=o.dataByAxis||[],u=t[l]||{},d=u.dataByAxis||[];s=s&&c.length===d.length,s&&ut(c,function(f,h){var p=d[h]||{},m=f.seriesDataIndices||[],v=p.seriesDataIndices||[];s=s&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&m.length===v.length,s&&ut(m,function(g,y){var b=v[y];s=s&&g.seriesIndex===b.seriesIndex&&g.dataIndex===b.dataIndex}),a&&ut(f.seriesDataIndices,function(g){var y=g.seriesIndex,b=r[y],_=a[y];b&&_&&_.data!==b.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Pr.node||!r.getDom()||(tP(this,"_updatePosition"),this._tooltipContent.dispose(),yP("itemTooltip",r))},e.type="tooltip",e}(dd);function Zy(n,e,t){var r=e.ecModel,i;t?(i=new Za(t,r,r),i=new Za(e.option,i,r)):i=e;for(var a=n.length-1;a>=0;a--){var s=n[a];s&&(s instanceof Za&&(s=s.get("tooltip",!0)),Jn(s)&&(s={formatter:s}),s&&(i=new Za(s,i,r)))}return i}function nV(n,e){return n.dispatchAction||ii(e.dispatchAction,e)}function m$e(n,e,t,r,i,a,s){var o=t.getSize(),l=o[0],c=o[1];return a!=null&&(n+l+a+2>r?n-=l+a:n+=a),s!=null&&(e+c+s>i?e-=c+s:e+=s),[n,e]}function v$e(n,e,t,r,i){var a=t.getSize(),s=a[0],o=a[1];return n=Math.min(n+s,r)-s,e=Math.min(e+o,i)-o,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function g$e(n,e,t,r){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*r)+8,o=0,l=0,c=e.width,u=e.height;switch(n){case"inside":o=e.x+c/2-i/2,l=e.y+u/2-a/2;break;case"top":o=e.x+c/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+c/2-i/2,l=e.y+u+s;break;case"left":o=e.x-i-s,l=e.y+u/2-a/2;break;case"right":o=e.x+c+s,l=e.y+u/2-a/2}return[o,l]}function rV(n){return n==="center"||n==="middle"}function y$e(n,e,t){var r=y6(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=ow(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(c){var u=Ai(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}const b$e=p$e;function fne(n){fd(one),n.registerComponentModel(JVe),n.registerComponentView(b$e),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Vs),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Vs)}var _$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(zi),w$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),c=Zr(t.get("textBaseline"),t.get("textVerticalAlign")),u=new Ys({style:th(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),f=t.get("subtext"),h=new Ys({style:th(o,{text:f,fill:o.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),m=t.get("sublink"),v=t.get("triggerEvent",!0);u.silent=!p&&!v,h.silent=!m&&!v,p&&u.on("click",function(){Wz(p,"_"+t.get("target"))}),m&&h.on("click",function(){Wz(m,"_"+t.get("subtarget"))}),Ai(u).eventData=Ai(h).eventData=v?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(u),f&&a.add(h);var g=a.getBoundingRect(),y=t.getBoxLayoutParams();y.width=g.width,y.height=g.height;var b=dm(y,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),c||(c=t.get("top")||t.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?b.y+=b.height:c==="middle"&&(b.y+=b.height/2),c=c||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var _={align:l,verticalAlign:c};u.setStyle(_),h.setStyle(_),g=a.getBoundingRect();var x=b.margin,S=t.getItemStyle(["color","opacity"]);S.fill=t.get("backgroundColor");var T=new Ea({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});a.add(T)}},e.type="title",e}(dd);function hne(n){n.registerComponentModel(_$e),n.registerComponentView(w$e)}var x$e=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},S$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),Ln(r)&&ut(r,function(a,s){Jn(a)&&(a={type:a}),r[s]=di(a,x$e(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var c=l.name;i.push(c);var u;if(l.legendVisualProvider){var d=l.legendVisualProvider,f=d.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(f)),f.length?r=r.concat(f):u=!0}else u=!0;u&&g6(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,s=Dr(),o=dr(a,function(l){return(Jn(l)||$i(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Za(l,this,this.ecModel))},this);this._data=Os(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;ut(a,function(s){r[s.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;ut(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;ut(t,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&wi(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(zi);const bP=S$e;var l0=Ui,_P=ut,$x=bo,C$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new $x),this.group.add(this._selectorGroup=new $x),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=o==="horizontal"?"end":"start"),this.renderInner(s,t,r,i,l,o,c);var u=t.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),h=dm(u,d,f),p=this.layoutInner(t,s,h,a,l,c),m=dm(fi({width:p.width,height:p.height},u),d,f);this.group.x=m.x-p.x,this.group.y=m.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=ZVe(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,a,s,o,l){var c=this.getContentGroup(),u=Dr(),d=r.get("selectedMode"),f=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&f.push(h.id)}),_P(r.getData(),function(h,p){var m=h.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var v=new $x;v.newline=!0,c.add(v);return}var g=i.getSeriesByName(m)[0];if(!u.get(m))if(g){var y=g.getData(),b=y.getVisual("legendLineStyle")||{},_=y.getVisual("legendIcon"),x=y.getVisual("style"),S=this._createItem(g,m,p,h,r,t,b,x,_,d,a);S.on("click",l0(iV,m,null,a,f)).on("mouseover",l0(wP,g.name,null,a,f)).on("mouseout",l0(xP,g.name,null,a,f)),u.set(m,!0)}else i.eachRawSeries(function(T){if(!u.get(m)&&T.legendVisualProvider){var C=T.legendVisualProvider;if(!C.containName(m))return;var M=C.indexOfName(m),A=C.getItemVisual(M,"style"),I=C.getItemVisual(M,"legendIcon"),D=Wp(A.fill);D&&D[3]===0&&(D[3]=.2,A=cn(cn({},A),{fill:d6(D,"rgba")}));var L=this._createItem(T,m,p,h,r,t,{},A,I,d,a);L.on("click",l0(iV,null,m,a,f)).on("mouseover",l0(wP,null,m,a,f)).on("mouseout",l0(xP,null,m,a,f)),u.set(m,!0)}},this)},this),s&&this._createSelector(s,r,a,o,l)},e.prototype._createSelector=function(t,r,i,a,s){var o=this.getSelectorGroup();_P(t,function(c){var u=c.type,d=new Ys({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect"})}});o.add(d);var f=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);KT(d,{normal:f,emphasis:h},{defaultText:c.title}),GR(d)})},e.prototype._createItem=function(t,r,i,a,s,o,l,c,u,d,f){var h=t.visualDrawType,p=s.get("itemWidth"),m=s.get("itemHeight"),v=s.isSelected(r),g=a.get("symbolRotate"),y=a.get("symbolKeepAspect"),b=a.get("icon");u=b||u||"roundRect";var _=M$e(u,a,l,c,h,v,f),x=new $x,S=a.getModel("textStyle");if(Ar(t.getLegendIcon)&&(!b||b==="inherit"))x.add(t.getLegendIcon({itemWidth:p,itemHeight:m,icon:u,iconRotate:g,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}));else{var T=b==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;x.add(T$e({itemWidth:p,itemHeight:m,icon:u,iconRotate:T,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}))}var C=o==="left"?p+5:-5,M=o,A=s.get("formatter"),I=r;Jn(A)&&A?I=A.replace("{name}",r??""):Ar(A)&&(I=A(r));var D=v?S.getTextColor():a.get("inactiveColor");x.add(new Ys({style:th(S,{text:I,x:C,y:m/2,fill:D,align:M,verticalAlign:"middle"},{inheritColor:D})}));var L=new Ea({shape:x.getBoundingRect(),invisible:!0}),F=a.getModel("tooltip");return F.get("show")&&L6({el:L,componentModel:s,itemName:r,itemTooltipOption:F.option}),x.add(L),x.eachChild(function(B){B.silent=!0}),L.silent=!d,this.getContentGroup().add(x),GR(x),x.__legendDataIndex=i,x},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getContentGroup(),c=this.getSelectorGroup();tb(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),s){tb("horizontal",c,t.get("selectorItemGap",!0));var f=c.getBoundingRect(),h=[-f.x,-f.y],p=t.get("selectorButtonGap",!0),m=t.getOrient().index,v=m===0?"width":"height",g=m===0?"height":"width",y=m===0?"y":"x";o==="end"?h[m]+=u[v]+p:d[m]+=f[v]+p,h[1-m]+=u[g]/2-f[g]/2,c.x=h[0],c.y=h[1],l.x=d[0],l.y=d[1];var b={x:0,y:0};return b[v]=u[v]+p+f[v],b[g]=Math.max(u[g],f[g]),b[y]=Math.min(0,f[y]+h[1-m]),b}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(dd);function M$e(n,e,t,r,i,a,s){function o(v,g){v.lineWidth==="auto"&&(v.lineWidth=g.lineWidth>0?2:0),_P(v,function(y,b){v[b]==="inherit"&&(v[b]=g[b])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=n.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");c.decal=!d||d==="inherit"?r.decal:sP(d,s),c.fill==="inherit"&&(c.fill=r[i]),c.stroke==="inherit"&&(c.stroke=r[u]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?r:t).opacity),o(c,r);var f=e.getModel("lineStyle"),h=f.getLineStyle();if(o(h,t),c.fill==="auto"&&(c.fill=r.fill),c.stroke==="auto"&&(c.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),m=c[u];c.lineWidth=p==="auto"?r.lineWidth>0&&m?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),h.stroke=f.get("inactiveColor"),h.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:h}}function T$e(n){var e=n.icon||"roundRect",t=sA(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function iV(n,e,t,r){xP(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),wP(n,e,t,r)}function pne(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function wP(n,e,t,r){pne(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function xP(n,e,t,r){pne(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}const mne=C$e;function A$e(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function Qy(n,e,t){var r={},i=n==="toggleSelected",a;return t.eachComponent("legend",function(s){i&&a!=null?s[a?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?s[n]():(s[n](e.name),a=s.isSelected(e.name));var o=s.getData();ut(o,function(l){var c=l.get("name");if(!(c===`
`||c==="")){var u=s.isSelected(c);r.hasOwnProperty(c)?r[c]=r[c]&&u:r[c]=u}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function E$e(n){n.registerAction("legendToggleSelect","legendselectchanged",Ui(Qy,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Ui(Qy,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Ui(Qy,"inverseSelect")),n.registerAction("legendSelect","legendselected",Ui(Qy,"select")),n.registerAction("legendUnSelect","legendunselected",Ui(Qy,"unSelect"))}function vne(n){n.registerComponentModel(bP),n.registerComponentView(mne),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,A$e),n.registerSubTypeDefaulter("legend",function(){return"plain"}),E$e(n)}var I$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var a=tA(t);n.prototype.init.call(this,t,r,i),aV(this,t,a)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),aV(this,this.option,t)},e.type="legend.scroll",e.defaultOption=$J(bP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(bP);function aV(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,mg(e,t,{type:"box",ignoreSize:!!i})}const R$e=I$e;var sV=bo,o4=["width","height"],l4=["x","y"],P$e=function(n){Tn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new sV),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new sV)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,a,s,o,l){var c=this;n.prototype.renderInner.call(this,t,r,i,a,s,o,l);var u=this._controllerGroup,d=r.get("pageIconSize",!0),f=Ln(d)?d:[d,d];p("pagePrev",0);var h=r.getModel("pageTextStyle");u.add(new Ys({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(m,v){var g=m+"DataIndex",y=k6(r.get("pageIcons",!0)[r.getOrient().name][v],{onclick:ii(c._pageGo,c,g,r,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});y.name=m,u.add(y)}},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getSelectorGroup(),c=t.getOrient().index,u=o4[c],d=l4[c],f=o4[1-c],h=l4[1-c];s&&tb("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),m=l.getBoundingRect(),v=[-m.x,-m.y],g=jr(i);s&&(g[u]=i[u]-m[u]-p);var y=this._layoutContentAndController(t,a,g,c,u,f,h,d);if(s){if(o==="end")v[c]+=y[u]+p;else{var b=m[u]+p;v[c]-=b,y[d]-=b}y[u]+=m[u]+p,v[1-c]+=y[h]+y[f]/2-m[f]/2,y[f]=Math.max(y[f],m[f]),y[h]=Math.min(y[h],m[h]+v[1-c]),l.x=v[0],l.y=v[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,r,i,a,s,o,l,c){var u=this.getContentGroup(),d=this._containerGroup,f=this._controllerGroup;tb(t.get("orient"),u,t.get("itemGap"),a?i.width:null,a?null:i.height),tb("horizontal",f,t.get("pageButtonItemGap",!0));var h=u.getBoundingRect(),p=f.getBoundingRect(),m=this._showController=h[s]>i[s],v=[-h.x,-h.y];r||(v[a]=u[c]);var g=[0,0],y=[-p.x,-p.y],b=Zr(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(m){var _=t.get("pageButtonPosition",!0);_==="end"?y[a]+=i[s]-p[s]:g[a]+=p[s]+b}y[1-a]+=h[o]/2-p[o]/2,u.setPosition(v),d.setPosition(g),f.setPosition(y);var x={x:0,y:0};if(x[s]=m?i[s]:h[s],x[o]=Math.max(h[o],p[o]),x[l]=Math.min(0,p[l]+y[1-a]),d.__rectSize=i[s],m){var S={x:0,y:0};S[s]=Math.max(i[s]-p[s]-b,0),S[o]=x[o],d.setClipPath(new Ea({shape:S})),d.__rectSize=S[s]}else f.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(t);return T.pageIndex!=null&&Xs(u,{x:T.contentPosition[0],y:T.contentPosition[1]},m?t:null),this._updatePageInfoView(t,T),x},e.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;ut(["pagePrev","pageNext"],function(u){var d=u+"DataIndex",f=r[d]!=null,h=i.childOfName(u);h&&(h.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=r.pageIndex,l=o!=null?o+1:0,c=r.pageCount;a&&s&&a.setStyle("text",Jn(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):s({current:l,total:c}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=o4[s],l=l4[s],c=this._findTargetItemIndex(r),u=i.children(),d=u[c],f=u.length,h=f?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var m=_(d);p.contentPosition[s]=-m.s;for(var v=c+1,g=m,y=m,b=null;v<=f;++v)b=_(u[v]),(!b&&y.e>g.s+a||b&&!x(b,g.s))&&(y.i>g.i?g=y:g=b,g&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=g.i),++p.pageCount)),y=b;for(var v=c-1,g=m,y=m,b=null;v>=-1;--v)b=_(u[v]),(!b||!x(y,b.s))&&g.i<y.i&&(y=g,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=b;return p;function _(S){if(S){var T=S.getBoundingRect(),C=T[l]+S[l];return{s:C,e:C+T[o],i:S.__legendDataIndex}}}function x(S,T){return S.e>=T&&S.s<=T+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(r=o)}),r??a},e.type="legend.scroll",e}(mne);const D$e=P$e;function k$e(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function L$e(n){fd(vne),n.registerComponentModel(R$e),n.registerComponentView(D$e),k$e(n)}function gne(n){fd(vne),fd(L$e)}var c4=null;function N$e(n){return c4||(c4=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),c4(n)}var u4=null;function O$e(n){u4||(u4=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),u4(n)}function B$e(n){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),(document.querySelector("head")||document.body).appendChild(e),e}function Gx(n,e){e===void 0&&(e={});var t=document.createElement(n);return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function yne(n,e,t){var r=window.getComputedStyle(n,t||null)||{display:"none"};return r[e]}function SP(n){if(!document.documentElement.contains(n))return{detached:!0,rendered:!1};for(var e=n;e!==document;){if(yne(e,"display")==="none")return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var F$e='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',CP=0,$2=null;function z$e(n,e){n.__resize_mutation_handler__||(n.__resize_mutation_handler__=V$e.bind(n));var t=n.__resize_listeners__;if(!t){if(n.__resize_listeners__=[],window.ResizeObserver){var r=n.offsetWidth,i=n.offsetHeight,a=new ResizeObserver(function(){!n.__resize_observer_triggered__&&(n.__resize_observer_triggered__=!0,n.offsetWidth===r&&n.offsetHeight===i)||cM(n)}),s=SP(n),o=s.detached,l=s.rendered;n.__resize_observer_triggered__=o===!1&&l===!1,n.__resize_observer__=a,a.observe(n)}else if(n.attachEvent&&n.addEventListener)n.__resize_legacy_resize_handler__=function(){cM(n)},n.attachEvent("onresize",n.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",n.__resize_mutation_handler__);else if(CP||($2=B$e(F$e)),$$e(n),n.__resize_rendered__=SP(n).rendered,window.MutationObserver){var c=new MutationObserver(n.__resize_mutation_handler__);c.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),n.__resize_mutation_observer__=c}}n.__resize_listeners__.push(e),CP++}function U$e(n,e){var t=n.__resize_listeners__;if(t){if(e&&t.splice(t.indexOf(e),1),!t.length||!e){if(n.detachEvent&&n.removeEventListener){n.detachEvent("onresize",n.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",n.__resize_mutation_handler__);return}n.__resize_observer__?(n.__resize_observer__.unobserve(n),n.__resize_observer__.disconnect(),n.__resize_observer__=null):(n.__resize_mutation_observer__&&(n.__resize_mutation_observer__.disconnect(),n.__resize_mutation_observer__=null),n.removeEventListener("scroll",m8),n.removeChild(n.__resize_triggers__.triggers),n.__resize_triggers__=null),n.__resize_listeners__=null}!--CP&&$2&&$2.parentNode.removeChild($2)}}function H$e(n){var e=n.__resize_last__,t=e.width,r=e.height,i=n.offsetWidth,a=n.offsetHeight;return i!==t||a!==r?{width:i,height:a}:null}function V$e(){var n=SP(this),e=n.rendered,t=n.detached;e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(v8(this),this.addEventListener("scroll",m8,!0)),this.__resize_rendered__=e,cM(this))}function m8(){var n=this;v8(this),this.__resize_raf__&&O$e(this.__resize_raf__),this.__resize_raf__=N$e(function(){var e=H$e(n);e&&(n.__resize_last__=e,cM(n))})}function cM(n){!n||!n.__resize_listeners__||n.__resize_listeners__.forEach(function(e){e.call(n,n)})}function $$e(n){var e=yne(n,"position");(!e||e==="static")&&(n.style.position="relative"),n.__resize_old_position__=e,n.__resize_last__={};var t=Gx("div",{className:"resize-triggers"}),r=Gx("div",{className:"resize-expand-trigger"}),i=Gx("div"),a=Gx("div",{className:"resize-contract-trigger"});r.appendChild(i),t.appendChild(r),t.appendChild(a),n.appendChild(t),n.__resize_triggers__={triggers:t,expand:r,expandChild:i,contract:a},v8(n),n.addEventListener("scroll",m8,!0),n.__resize_last__={width:n.offsetWidth,height:n.offsetHeight}}function v8(n){var e=n.__resize_triggers__,t=e.expand,r=e.expandChild,i=e.contract,a=i.scrollWidth,s=i.scrollHeight,o=t.offsetWidth,l=t.offsetHeight,c=t.scrollWidth,u=t.scrollHeight;i.scrollLeft=a,i.scrollTop=s,r.style.width=o+1+"px",r.style.height=l+1+"px",t.scrollLeft=c,t.scrollTop=u}var Hu=function(){return Hu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Hu.apply(this,arguments)},G$e=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function W$e(n){return e=Object.create(null),G$e.forEach(function(t){e[t]=function(r){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(!n.value)throw new Error("ECharts is not initialized yet.");return n.value[r].apply(n.value,i)}}(t)}),e;var e}var q$e={autoresize:[Boolean,Object]},K$e=/^on[^a-z]/,Y$e=function(n){return K$e.test(n)};function Wx(n,e){var t=w(n);return t&&typeof t=="object"&&"value"in t?t.value||e:t||e}var X$e="ecLoadingOptions",j$e={loading:Boolean,loadingOptions:Object},Jy=null,bne="x-vue-echarts",oV=[],e1=[];(function(n,e){if(n&&typeof document<"u"){var t,r=e.prepend===!0?"prepend":"append",i=e.singleTag===!0,a=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var s=oV.indexOf(a);s===-1&&(s=oV.push(a)-1,e1[s]={}),t=e1[s]&&e1[s][r]?e1[s][r]:e1[s][r]=o()}else t=o();n.charCodeAt(0)===65279&&(n=n.substring(1)),t.styleSheet?t.styleSheet.cssText+=n:t.appendChild(document.createTextNode(n))}function o(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var c=Object.keys(e.attributes),u=0;u<c.length;u++)l.setAttribute(c[u],e.attributes[c[u]]);var d=r==="prepend"?"afterbegin":"beforeend";return a.insertAdjacentElement(d,l),l}})(`x-vue-echarts,.echarts-inner{display:block;width:100%;height:100%;min-width:0}
`,{});var Z$e=function(){if(Jy!=null)return Jy;if(typeof HTMLElement>"u"||typeof customElements>"u")return Jy=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(bne)}catch{return Jy=!1}return Jy=!0}(),Q$e="ecTheme",J$e="ecInitOptions",eGe="ecUpdateOptions",_ne=Ie({name:"echarts",props:Hu(Hu({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},q$e),j$e),emits:{},inheritAttrs:!1,setup:function(n,e){var t=e.attrs,r=Ir(),i=Ir(),a=Ir(),s=Ir(),o=Ot(Q$e,null),l=Ot(J$e,null),c=Ot(eGe,null),u=la(n),d=u.autoresize,f=u.manualUpdate,h=u.loading,p=u.loadingOptions,m=U(function(){return s.value||n.option||null}),v=U(function(){return n.theme||Wx(o,{})}),g=U(function(){return n.initOptions||Wx(l,{})}),y=U(function(){return n.updateOptions||Wx(c,{})}),b=U(function(){return function(M){var A={};for(var I in M)Y$e(I)||(A[I]=M[I]);return A}(t)}),_=Dn().proxy.$listeners;function x(M){if(i.value){var A=a.value=m9e(i.value,v.value,g.value);n.group&&(A.group=n.group);var I=_;I||(I={},Object.keys(t).filter(function(L){return L.indexOf("on")===0&&L.length>2}).forEach(function(L){var F=L.charAt(2).toLowerCase()+L.slice(3);F.substring(F.length-4)==="Once"&&(F="~".concat(F.substring(0,F.length-4))),I[F]=t[L]})),Object.keys(I).forEach(function(L){var F=I[L];if(F){var B=L.toLowerCase();B.charAt(0)==="~"&&(B=B.substring(1),F.__once__=!0);var k=A;if(B.indexOf("zr:")===0&&(k=A.getZr(),B=B.substring(3)),F.__once__){delete F.__once__;var H=F;F=function(){for(var z=[],O=0;O<arguments.length;O++)z[O]=arguments[O];H.apply(void 0,z),k.off(B,F)}}k.on(B,F)}}),d.value?Yt(function(){A&&!A.isDisposed()&&A.resize(),D()}):D()}function D(){var L=M||m.value;L&&A.setOption(L,y.value)}}function S(){a.value&&(a.value.dispose(),a.value=void 0)}var T=null;dt(f,function(M){typeof T=="function"&&(T(),T=null),M||(T=dt(function(){return n.option},function(A,I){A&&(a.value?a.value.setOption(A,Hu({notMerge:A!==I},y.value)):x())},{deep:!0}))},{immediate:!0}),dt([v,g],function(){S(),x()},{deep:!0}),Ta(function(){n.group&&a.value&&(a.value.group=n.group)});var C=W$e(a);return function(M,A,I){var D=Ot(X$e,{}),L=U(function(){return Hu(Hu({},Wx(D,{})),I==null?void 0:I.value)});Ta(function(){var F=M.value;F&&(A.value?F.showLoading(L.value):F.hideLoading())})}(a,h,p),function(M,A,I){var D=null;dt([I,M,A],function(L,F,B){var k=L[0],H=L[1],z=L[2];if(k&&H&&z){var O=z===!0?{}:z,G=O.throttle,X=G===void 0?100:G,J=O.onResize,Q=function(){H.resize(),J==null||J()};D=X?aA(Q,X):Q,z$e(k,D)}B(function(){k&&D&&U$e(k,D)})})}(a,d,i),pn(function(){x()}),yr(function(){Z$e&&r.value?r.value.__dispose=S:S()}),Hu({chart:a,root:r,inner:i,setOption:function(M,A){n.manualUpdate&&(s.value=M),a.value?a.value.setOption(M,A||{}):x(M)},nonEventAttrs:b},C)},render:function(){var n=Hu({},this.nonEventAttrs);return n.ref="root",n.class=n.class?["echarts"].concat(n.class):"echarts",Gt(bne,n,[Gt("div",{ref:"inner",class:"echarts-inner"})])}});fd([Bte,qte,kUe,wVe,hne,fne,gne,jVe]);const tGe={components:{VChart:_ne},setup(){$n("THEME_KEY","light")},data(){return{pieOption:{title:{text:"Coarse-Grained Categories Distribution",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"horizontal",bottom:"bottom"},series:[{name:"Categories",type:"pie",radius:"50%",center:["50%","50%"],data:[{value:45861,name:"Sport"},{value:17375,name:"Entertainment"},{value:29063,name:"Safety"},{value:44378,name:"Politics"},{value:16886,name:"Environment"},{value:29829,name:"Daily Life"},{value:18765,name:"Health"},{value:5968,name:"Culture"},{value:7901,name:"Infrastructure"},{value:8812,name:"Technology"},{value:4991,name:"Education"},{value:23138,name:"Economy"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},barOption:{title:{text:"Text Length Distribution",left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["0-200","200-400","400-600","600-800","800-1000","1000+"]},yAxis:{type:"value"},series:[{name:"Count",type:"bar",data:[19222,65493,53636,34811,20134,2801],itemStyle:{color:"#9ec3ff"}}]},barOption1:{title:{text:"Image Number Distribution",left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["1","2","3","4","5","5+"]},yAxis:{type:"value"},series:[{name:"Count",type:"bar",data:[99384,39102,25039,13415,17470,1687],itemStyle:{color:"#2bc194"}}]},treeOption:{title:{text:"Fine-Grained Categories Distribution",left:"center"},tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[{name:"News-M3F",children:[{name:"Politics",children:[{name:"US Election",value:11399},{name:"England Election",value:954},{name:"Wales Election",value:256},{name:"Scotland Election",value:254},{name:"Northern Ireland Election",value:134},{name:"South Africa Election",value:104},{name:"French Election",value:109},{name:"European Election",value:109},{name:"Indian Election",value:84},{name:"Parliament",value:3428},{name:"Assembly",value:5077},{name:"National Defense Ministry",value:1231},{name:"Justice Ministry",value:1767},{name:"Foreign Affairs Ministry",value:504},{name:"Education Ministry",value:408},{name:"Transport Ministry",value:443},{name:"Agriculture Ministry",value:176},{name:"Health Ministry",value:1173},{name:"Customs",value:66},{name:"Finance Ministry",value:843},{name:"Cabinet Office",value:306},{name:"Interior Ministry",value:304},{name:"Prosecutors Office",value:151},{name:"Executive Branch",value:441},{name:"US Congress",value:887},{name:"Courts",value:8464},{name:"Immigration Policy",value:1509},{name:"United Nations",value:965},{name:"European Union",value:866},{name:"IMF",value:120},{name:"WHO",value:311},{name:"NATO",value:46},{name:"WTO",value:17},{name:"LGBT",value:1472}],collapsed:!0},{name:"Environment",children:[{name:"Extreme Weather",value:752},{name:"Flood",value:1215},{name:"Drought",value:321},{name:"Heatwave",value:416},{name:"Storm",value:1358},{name:"Earthquake",value:342},{name:"Hurricane",value:1207},{name:"Climate Change",value:1637},{name:"Land Animals",value:2210},{name:"Birds",value:946},{name:"Plants",value:455},{name:"Marine Life",value:963},{name:"Woodlands",value:76},{name:"Wetlands",value:44},{name:"Trees",value:383},{name:"Ocean",value:211},{name:"River",value:233},{name:"Forest",value:183},{name:"National Park",value:140},{name:"Wind Energy",value:140},{name:"Solar Energy",value:207},{name:"Hydrogen Energy",value:33},{name:"Energy Storage",value:262},{name:"Recycling",value:444},{name:"Waste Management",value:418},{name:"Carbon Management",value:625},{name:"Green Economy",value:131},{name:"Minerals",value:235},{name:"Pollution",value:1299}],collapsed:!1},{name:"Economy",children:[{name:"Brexit Impact",value:756},{name:"Inflation",value:2596},{name:"Recession",value:695},{name:"Global Trade",value:511},{name:"Stocks",value:3355},{name:"Bonds",value:367},{name:"Exchange Rates",value:247},{name:"Cost Of Living",value:1795},{name:"Personal Finance",value:229},{name:"Mortgages",value:1091},{name:"Poverty",value:207},{name:"Unemployment",value:1142},{name:"Employment",value:1811},{name:"Wages",value:1610},{name:"Gender Pay Gap",value:93},{name:"Taxation",value:1850},{name:"Cryptocurrency",value:823},{name:"Startups",value:90},{name:"Supply And Demand",value:429},{name:"Revenue",value:3441}],collapsed:!0},{name:"Safety",children:[{name:"Cyber Attacks",value:885},{name:"Surveillance",value:39},{name:"Espionage",value:511},{name:"Fraud",value:1804},{name:"Theft",value:959},{name:"Smuggling",value:310},{name:"Human Trafficking",value:113},{name:"Domestic Violence",value:245},{name:"Sexual Violence",value:975},{name:"Sexual Harassment",value:352},{name:"Murder",value:6268},{name:"Arson",value:498},{name:"Hate Crime",value:424},{name:"Drug Trafficking",value:728},{name:"Money Laundering",value:292},{name:"Financial Crime",value:300},{name:"Identity Theft",value:49},{name:"Judicial System",value:261},{name:"Parole Board",value:24},{name:"Human Rights",value:1718},{name:"Terrorism",value:1705},{name:"War",value:10603}],collapsed:!0},{name:"Culture",children:[{name:"Classical Music",value:82},{name:"Opera",value:150},{name:"Ballet",value:69},{name:"Contemporary Art",value:270},{name:"Street Art",value:151},{name:"Painting",value:785},{name:"Sculpture",value:840},{name:"Museum",value:796},{name:"Antique Collection",value:375},{name:"Archaeological Excavation",value:611},{name:"Historic Site Restoration",value:453},{name:"Human History",value:1386}],collapsed:!0},{name:"Entertainment",children:[{name:"Pop Music",value:1596},{name:"Hip Hop Music",value:382},{name:"Live Music",value:795},{name:"African Music",value:19},{name:"Music Festival",value:896},{name:"Film",value:4731},{name:"Bollywood",value:26},{name:"Hollywood",value:220},{name:"Oscar Awards",value:408},{name:"TV Series",value:1869},{name:"Reality Show",value:2629},{name:"Performance",value:1222},{name:"Jazz",value:14},{name:"Dance",value:1021},{name:"Comedy",value:623},{name:"Drama",value:213},{name:"Musical Theatre",value:252},{name:"Pantomime",value:21},{name:"Video Game",value:438},{name:"Wildlife Photography",value:0}],collapsed:!0},{name:"Technology",children:[{name:"Artificial Intelligence",value:1323},{name:"Robotics",value:308},{name:"Electric Vehicles",value:1054},{name:"Renewable Energy Tech",value:226},{name:"Hydrogen Vehicles",value:20},{name:"Battery",value:117},{name:"Semiconductor Chips",value:316},{name:"Quantum Computing",value:16},{name:"5G",value:58},{name:"Virtual Reality",value:119},{name:"Augmented Reality",value:39},{name:"Genetic Engineering",value:51},{name:"3D Printing",value:34},{name:"Drone",value:259},{name:"Aerospace Tech",value:1237},{name:"Mars",value:127},{name:"Moon",value:238},{name:"Space Tourism",value:106},{name:"ISS",value:231},{name:"Astronaut",value:337},{name:"Astronomy",value:351},{name:"Universe",value:160},{name:"Planetary Science",value:202},{name:"Comet",value:32},{name:"Biology",value:291},{name:"Physics",value:59},{name:"Chemistry",value:63},{name:"Earth Science",value:81},{name:"Genetics",value:29},{name:"Medical Research",value:865},{name:"Climate Science",value:93},{name:"Marine Science",value:41},{name:"Computer Science",value:305},{name:"Blockchain",value:24}],collapsed:!0},{name:"Education",children:[{name:"Primary School",value:247},{name:"Secondary School",value:161},{name:"Continuing Education",value:31},{name:"Higher Education",value:188},{name:"University",value:1611},{name:"Apprenticeship",value:48},{name:"Student Finance",value:157},{name:"Teacher",value:249},{name:"Exam",value:259},{name:"Education Policy",value:699},{name:"School Meals",value:118},{name:"Special Education",value:237},{name:"Early Childhood Education",value:92},{name:"Homeschooling",value:79},{name:"Parenting",value:116},{name:"Child Health",value:226},{name:"Children's Rights",value:98},{name:"Child Poverty",value:86},{name:"Adolescent Mental Health",value:122},{name:"Social Media Impact",value:167}],collapsed:!0},{name:"Health",children:[{name:"Mental Health",value:728},{name:"Cancer",value:1039},{name:"Dementia",value:300},{name:"Diabetes",value:122},{name:"Heart Disease",value:210},{name:"Stroke",value:89},{name:"Obesity",value:214},{name:"Eating Disorders",value:28},{name:"Depression",value:90},{name:"Anxiety",value:37},{name:"Parkinson's Disease",value:47},{name:"ADHD",value:15},{name:"Autism",value:100},{name:"Down Syndrome",value:37},{name:"Cerebral Palsy",value:47},{name:"COVID 19",value:7973},{name:"Monkeypox",value:171},{name:"Measles",value:65},{name:"Influenza",value:187},{name:"Ebola",value:66},{name:"Respiratory Disease",value:82},{name:"Sepsis",value:30},{name:"HIV AIDS",value:134},{name:"Hepatitis",value:35},{name:"Fertility",value:139},{name:"Pregnancy",value:237},{name:"Childbirth",value:131},{name:"Menopause",value:16},{name:"Vaccination",value:3202},{name:"Blood Donation",value:32},{name:"Organ Donation",value:50},{name:"Transplant",value:110},{name:"Medical Cannabis",value:108},{name:"Prescription Drugs",value:183},{name:"Nutrition",value:105},{name:"Alcoholism",value:131},{name:"Smoking",value:281},{name:"Drug Abuse",value:326},{name:"Misogyny",value:32},{name:"Learning Disabilities",value:16},{name:"Pharmaceutical Industry",value:314},{name:"Nursing",value:866},{name:"Midwifery",value:52},{name:"Dentistry",value:100},{name:"Nursing Home",value:302},{name:"Elderly Care",value:90},{name:"Dermatological Disease",value:14},{name:"Chronic Disease",value:14},{name:"Genetic Disease",value:30},{name:"Cardiovascular Disease",value:14},{name:"Gastrointestinal Disease",value:24}],collapsed:!0},{name:"Daily Life",children:[{name:"Rescue Operations",value:3034},{name:"Safety Incidents",value:7258},{name:"Social Security",value:1708},{name:"Population Aging",value:39},{name:"Gender Equality",value:563},{name:"Consumer Shopping",value:2814},{name:"Cuisine",value:2082},{name:"Family Life",value:2517},{name:"Transportation",value:4265},{name:"Charitable Welfare",value:2112},{name:"Commemorations",value:1678},{name:"Festival Activities",value:1759}],collapsed:!0},{name:"Sport",children:[{name:"Archery",value:23},{name:"Athletics",value:825},{name:"Badminton",value:31},{name:"Basketball",value:3356},{name:"Boxing",value:946},{name:"Canoeing",value:69},{name:"Cycling",value:701},{name:"Diving",value:45},{name:"Equestrian",value:278},{name:"Fencing",value:26},{name:"Field Hockey",value:91},{name:"Football (Soccer)",value:20195},{name:"Golf",value:1784},{name:"Gymnastics",value:211},{name:"Judo",value:27},{name:"Rowing",value:72},{name:"Rugby",value:9241},{name:"Sailing",value:115},{name:"Shooting",value:19},{name:"Skateboarding",value:51},{name:"Sport Climbing",value:83},{name:"Surfing",value:85},{name:"Swimming",value:499},{name:"Table Tennis",value:32},{name:"Taekwondo",value:28},{name:"Tennis",value:2305},{name:"Triathlon",value:84},{name:"Volleyball",value:56},{name:"Weightlifting",value:40},{name:"Wrestling",value:107},{name:"Billiards",value:91},{name:"Motor Racing",value:1368},{name:"Baseball",value:2925},{name:"Esports",value:52}],collapsed:!0},{name:"Infrastructure",children:[{name:"Highway",value:1050},{name:"Railway",value:670},{name:"Port",value:234},{name:"Power System",value:596},{name:"Water Conservancy",value:141},{name:"Commercial Development",value:684},{name:"Airport Development",value:120},{name:"Smart City",value:208},{name:"Medical Facilities",value:513},{name:"Educational Infrastructure",value:408},{name:"Cultural And Sports Facilities",value:860},{name:"Community Service Facilities",value:1603},{name:"Government Agency Infrastructure",value:172},{name:"Environmental Protection Infrastructure",value:238},{name:"Disaster Prevention And Reconstruction",value:404}],collapsed:!0}]}],top:"10%",left:"12%",bottom:"1%",right:"30%",symbolSize:7,label:{position:"left",verticalAlign:"middle",align:"right",fontSize:9},leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},emphasis:{focus:"descendant"},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]}}}},nGe=n=>(yc("data-v-293309ae"),n=n(),bc(),n),rGe=nGe(()=>me("h1",{class:"section-title"},"Dataset Statistic",-1));function iGe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("v-chart"),c=Et("el-col");return V(),ue("div",null,[se(s),se(o,{justify:"center"},{default:be(()=>[rGe]),_:1}),se(o,{justify:"center"},{default:be(()=>[se(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(l,{class:"chart",option:i.pieOption,autoresize:""},null,8,["option"])]),_:1})]),_:1}),se(o,{justify:"center",style:{"margin-top":"40px"}},{default:be(()=>[se(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(l,{class:"chart",option:i.treeOption,autoresize:""},null,8,["option"])]),_:1})]),_:1}),se(o,{justify:"center",style:{"margin-top":"40px"}},{default:be(()=>[se(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(l,{class:"chart",option:i.barOption,autoresize:""},null,8,["option"])]),_:1})]),_:1}),se(o,{justify:"center",style:{"margin-top":"0px"}},{default:be(()=>[se(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(l,{class:"chart",option:i.barOption1,autoresize:""},null,8,["option"])]),_:1})]),_:1})])}const aGe=Ha(tGe,[["render",iGe],["__scopeId","data-v-293309ae"]]),sGe={data(){return{datasetItems:[{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_7.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_6.png"],primaryTags:["Economy","Economy"],secondaryTags:["Revenue","Stocks"],text:"Tesla reported slower third quarter sales that fell short of Wall Street forecasts. The world’s largest electric car maker reported it delivered 435,000 vehicles in the period. That’s down 7% from the 466,000 deliveries in the second quarter. Analysts surveyed by FactSet Research had expected sales to come in at 461,000, just short of second quarter numbers. Tesla said it should still be able to hit its target of full-year sales of 1.8 million vehicles, but to do so it would have to achieve about a 9% increase in sales in the final three months of the year compared to the just completed quarter. “In a nutshell, there was nothing to write home about in these numbers and the Street will be left wanting more,” wrote tech analyst Dan Ives in a note about the Tesla sales report early Monday, though he remains bullish on the stock. The company also had warned that summer shutdowns for various upgrades could affect its factory output, and that was apparently the case, as production fell even more than sales, dropping 10% compared to the second quarter. But for the first time since the first three months of 2022, the company delivered more vehicles than it produced. Wall Street analysts who are bearish on Tesla have been pointing to the sales falling short of production in the previous five quarters, as a sign of weakening demand for Tesla’s cars. Tesla, the most profitable automaker, has been cutting prices to spur greater demand for its cars and continue to hit aggressive growth rates. CEO Elon Musk has said that the price cuts are partly driven by macroeconomic factors, such as rising interest rates. But with increased competition from electric vehicle offerings of established automakers, the company has been willing to report somewhat thinner profit margins in order in order to spur more demand. The company also has relatively new factories in Germany and Texas continuing to ramp up production. So continued strong demand is needed to move the increasing output of those factories. Shares of Tesla were little changed in morning trading on the sales news, after opening down 2%.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-021795_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-021795_1.png"],primaryTags:["Sport"],secondaryTags:["Football (Soccer)"],text:'Football club gives out free school PE kits  .A football club is providing PE kits for 3,500 pupils in a town for the new school year to help families struggling with the cost of living.   ,Stockport County Community Trust said “a recurring theme” in primary schools was “children sitting out of PE lessons because they didn’t have PE kits”.,The club, who became League Two champions in April, are also aiming to raise funds to provide 12,500 PE kits to be distributed by September 2025.,A Stockport County spokesman said “pressures on the family purse” contributed to a lack of participation by primary school children, as a PE kit was seen “as a nice-to-have for families with less disposable income”.,There are believed to be about 8,000 children living in low-income families in the borough. ,Stockport County Community Trust said PE lessons provided the main exercise for about half of primary school children locally.,It said about 30% of primary school leavers were categorised as obese and “the need to help get these children active and engaged in PE has never been greater”.,Alison Warwood, chief executive of the trust, said: “Not having a PE kit shouldn’t be what stops children from taking part in physical activity.,“The school’s ‘lost and found’ bin sadly comes with a playground stigma and, if children are to enjoy PE in school, they need their own kit to take pride in.”,Stockport County owner Mark Stott said the PE kits for this September would be given to schools most in need, including “families who fall outside of traditional indicators such as universal credit and the pupil premium".  ,Ms Warwood said the trust estimated almost half of Stockport’s primary school children could benefit from the new kits.,“We want to raise enough funds so next year, we can provide 12,500 PE kits, helping to get more children active and enjoying sport,” she said. ,Listen to the best of BBC Radio Manchester on Sounds and follow BBC Manchester on Facebook, X and Instagram. You can also send story ideas to northwest.newsonline@bbc.co.uk',currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_9.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_8.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_10.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_11.png"],primaryTags:["Politics","Politics"],secondaryTags:["Courts","US Election"],text:"It is common that many politicians grow more popular once they leave office. That has not been the case for former President Donald Trump. On the eve of his impeachment trial in front of the Senate, new polling reveals that more Americans want him convicted than at any point during his first impeachment trial a year ago. More amazingly, more want Trump barred from holding national office ever again than had even an unfavorable rating of any president after one term in office. A new ABC News/Ipsos poll released Sunday shows that 56% of Americans are in favor of the Senate convicting Trump and barring him from holding federal office in the future. Just 43% are opposed to such an action. This is merely the latest poll to find a clear plurality for such a measure, even after Trump left office. A Monmouth University poll taken at the end of January indicated that 57% wanted him barred from holding federal office and 52% wanted him convicted by the Senate. Every single poll over the last month that I could find that meets CNN standards for reporting has shown that at least 56% of Americans want him to be barred from holding or seeking (depending on the question) federal office again. That is, to put it mildly, a stunning percentage. At no point last year in the polling between Trump and now-President Joe Biden did Biden ever earn anywhere close to 56% in the national average. This means that there are likely millions of Americans who voted for Trump last year who now want him barred from holding federal office. Indeed, while about 80% of Republicans (depending on the polling) don’t want Trump being kept from running for or holding federal office, this still indicates a clear drop in support from last year. Trump won more than 90% of self-identified Republicans in last fall’s election. Overall, this type of opposition to a sitting or former president after one term is historic. No other president after one term in polling history ever had an unfavorable rating or disapproval rating north of 50%. On the much harsher being barred from office question, Trump is above that milestone. When it comes to conviction specifically, there seems to a slightly smaller majority in favor of such an action. An average of 51% of Americans in live interview polls taken since January 20 are in favor. A minority of 43% oppose this. This 8-point difference has basically stayed the same over the last month. When the Senate acquitted Trump after his first impeachment trial in 2020, the gap between supporting and opposing impeachment was 4 points. It never got as high as the 8 points it is right now. For a historical comparison, no other president, except for Richard Nixon, has ever had a majority of Americans say he should be impeached by the House and convicted by the Senate. It was only weeks before Nixon resigned that a clear majority believed he should be impeached and removed from office. Of course, Trump’s not likely to be convicted (or barred from running for federal office) because his support from Republicans, though down, is still north of 80% when it comes to the Senate acquitting him. Republicans have 50 seats in the Senate and 67 votes are needed for conviction. But Trump’s likely acquittal should not be mistaken for support among the larger electorate. The bottom line is Trump remains quite unpopular and a lot of Americans want no part of him.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_27.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_33.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_32.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_26.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_30.png"],primaryTags:["Daily Life","Environment"],secondaryTags:["Safety Incidents","Flood"],text:"The photos are happy occasions. A dad with two kids on holiday. Family pets with tails wagging. Teen daughters posing for selfies. This is a gallery of the missing. DANA Desaparecidos is a social media effort to find those still unaccounted for in the devastating flash floods that swept through eastern Spain. At least 217 people are confirmed dead and the toll may climb higher. In one miraculous rescue, a woman was found alive on Saturday after being trapped in her car for three days. Hopes are fading for those that remain missing, however. Though the government has not released the number still missing, social media accounts such as DANA Desaparecidos have received dozens of reports of distressed families searching for their loved ones. Many communities have been cut off from communication for days. The government hotline to report missing persons from the floods has been completely overwhelmed. Instead, their families and friends have turned to social media to get the word out. On DANA Desparecidos, each photo has a description of one of those currently unaccounted for and details of their last known location. Others post photos of missing pets, their owners desperate to find animal companions. One photo shows a woman linking arms with a friend, with a caption that reads: “Her name is Mila. She left yesterday at 1900 from Picanya to get to her home in Silla. She never arrived.” Alba Lozano Asencio created the account with her boyfriend Luciano Esguerra. So far, about 30 people have been located and a number of pets, according to the DANA Desaparcideo organizers. Posts labeled “Localizado” – or “located” – are published to let users know when someone has been found, often simply cut off from communication. Now they are also getting requests for help with flood clean up. “People feel helpless and the emergency services are overwhelmed,” Asencio told CNN.  “I think an important part of the page is that it gives some kind of hope to people at this time.” The slow and uncoordinated response to the crisis has angered and frustrated many here in Valencia. Spain’s King Felipe and Queen Letizia were berated by angry residents in a visit on Sunday to the hard hit area of Paiporta. Letizia, in particular, seemed shaken by the shouts of “murderers” as mud was flung at the royal couple. Spanish Prime Minister Pedro Sanchez was also there but was quickly whisked away by security. The Spanish government announced Monday it was deploying 2,500 more troops to the eastern region, in response to the fury from residents. By Monday night, the military expects to have some 7,800 troops present in the area, according to Spain’s Military Emergencies Unit chief Francisco Javier Marcos. That’s on top of the 5,223 Civil Guard personnel and 4,256 National Police officers that have already been mobilized. Security forces have been searching for victims in ravines and underground garages, including a large parking lot at the Bonaire shopping center in Aldaia. The military has also deployed a warship to Valencia, bringing helicopters, watercraft, trucks, food and emergency supplies. Meanwhile, thousands of volunteers also continue to make their way into affected areas, many of them hiking long distances through mud to help their neighbors. Pedro de Juan, 18, had seen scenes like this only in the movies but he showed up with a broom and bucket to help. “It’s amazing how the government says it’s not our fault. It’s someone else’s fault. But at this time we have to put our hands together and help each other,” he told CNN.  “The military and police are helping but not as much as we hoped and they are days late.” “Frustrating is the word,” said Francisco Bosque, another volunteer who is hoping to help friends in flooded areas. “You feel completely powerless. All you can do is come here and show up.” The weather system that triggered the floods is still impacting the area and some volunteer buses were turned back as a precaution. Spain’s AEMET service issued a red alert for the Barcelona area due to heavy rain through Monday afternoon, but the alert has since passed. Barcelona City Council also issued a flood warning on its website, urging people to take care and avoid areas where flooding may occur. Airport operator AENA said 70 flights from Barcelona’s El Prat Airport had been canceled or severely delayed, while 18 others had been diverted due to the storm. The weather was also affecting train and metro services accessing the airport, the operator said. Video on social media showed one of the airport buildings partially submerged due to the heavy downpour, with water streaming through parts of the roof and some passengers wading through ankle-deep water. AEMET also issued a new yellow and orange alert for the areas of Castellon, Valencia and Alicante, warning that sudden, heavy rains could cause more flooding in already-devastated areas. CNN’s Lauren Kent, Stephanie Halasz and Lauren Said-Moorhouse contributed reporting.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_18.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_6.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_7.png"],primaryTags:["Politics"],secondaryTags:["Courts"],text:`The attorney general of Washington, D.C. announced Monday he is suing Grubhub, alleging that the company harmed consumers during the pandemic by charging hidden fees and by misleading consumers about them using so-called “dark patterns” — along with a battery of other claims. The food-delivery service, which grew in prominence over the pandemic as in-person dining shifted to takeout and delivery orders, said in response Monday that the company supports DC restaurants and has sought to work with Racine’s office over the past year to address its concerns. “We are disappointed they have moved forward with this lawsuit because our practices have always complied with DC law,” a Grubhub spokesperson told CNN. “Many of the practices at issue have been discontinued. We will aggressively defend our business in court and look forward to continuing to serve DC restaurants and diners.” In his Monday complaint filed in DC Superior Court, Attorney General Karl Racine alleged that Grubhub has violated the District’s consumer protection laws and is not transparent about the fees it charges users, saying the company does not display additional service fees in the way it prominently displays delivery fees. Related article
Uber and Lyft are offering fuel surcharges and cash back offers for workers. Is it enough? “Until recently, Grubhub further obscured these additional fees by grouping them with taxes at checkout,” Racine’s office alleged in a statement. “This practice constitutes a ‘dark pattern’ — a design feature that deceives, coerces, or manipulates consumers into making choices that are either not what they intended, or not in their best interests.” Racine’s suit claims Grubhub’s advertising is misleading by presenting free online orders and delivery as a universal feature, when only a subset of customers are actually eligible, according to the complaint. The DC government also claims that Grubhub harmed restaurant owners with a pandemic-related promotion created for the purported benefit of local restaurants, but which instead allegedly “passed most of the costs of the discounts along to the already-struggling restaurants” while still requiring the restaurants to pay their normal, full commission on orders under the promotion. And Grubhub allegedly took a number of misleading steps at various times to drive traffic to its platform, the complaint alleges, including by listing restaurants on its site without consent, creating non-official phone numbers for restaurants in a bid to generate more Grubhub orders and creating non-official websites for restaurants that routed visitors to Grubhub. Racine’s complaint seeks a jury trial and restitution and civil penalties against the company.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-030054_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-030054_1.png"],primaryTags:["Environment"],secondaryTags:["Waste Management"],text:`Coalition's 'hands tied' over fortnightly bin plan.Plans for fortnightly wheelie bin collections are unlikely to be scrapped under a council's new administration after the Labour group leader said its “hands are tied”.,A Labour-led coalition with Lib Dems and Independent members is set to take control of Southend Council from the Conservatives.,Its contract with current waste collectors Veolia runs out in 2025 and a controversial new plan includes wheelie bins being collected fortnightly, instead of waste sacks.,Daniel Cowan, leader of the Labour group, said contract negotiations were too far advanced to change the plan now, but Conservative council leader Tony Cox said: "Here we go, broken promise number one.",Residents have raised concerns that properties in some built-up areas would not have room for wheelie bins and said collection day could become chaotic.,Mr Cowan said contractors had submitted their bids based on fortnightly collection contract and changing now would leave the council "very exposed".,“Unfortunately our hands are tied "We’re far too far along the contract negotiations to move goal posts now," he said.,"The current administration set out the contract details in October.",Martin Terry, spokesman for the Independent group said details of the contract still had to be ironed out,  according to the Local Democracy Reporting Service.,“The problem we now have is that the tendering process that the Conservatives committed to back in October to a fortnightly collection and we are very late in the process now," he said.,A vote to go forward on the waste contract, including fortnightly collections, was deferred by the Conservatives until after the local elections because they alleged the issue was being used as a "political football".,It will now take place at full council under the new administration.,Tony Cox, current leader of the council, said: “In their election literature they said the contract could be overturned. ,"Here we go, broken promise number one. We did say if they wanted to make changes they could do because we didn’t take the final paper through.,"Coalition of chaos already.”,Follow Essex news on Facebook, Instagram and X. Got a story? Email eastofenglandnews@bbc.co.uk or WhatsApp us on 0800 169 1830`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-077015_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-077015_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-077015_2.png"],primaryTags:["Safety"],secondaryTags:["Sexual Violence"],text:"After a California man spent nearly three decades in prison for kidnapping, sexual assault and robbery convictions, new DNA testing has revealed he was innocent of those crimes, a prosecutor announced. Gerardo Cabanillas was exonerated last week, 28 years after he was accused of robbing a man and woman and kidnapping and sexually assaulting the woman in Los Angeles in 1995, Los Angeles County District Attorney George Gascón said Tuesday. “I stand here with you with a deep sense of responsibility as a district attorney to address a tragic miscarriage of justice and to celebrate the exoneration and release of prison of an innocent man,” Gascón said during a news conference. In January 1995, a man and woman were robbed at gunpoint by two men who also sexually assaulted the woman, the district attorney said. Days after the crime, Cabanillas, then 18, was arrested because he generally matched the description of one of the suspects, Gascón said. Nearly 5 decades after he was wrongfully convicted of rape in New York, new DNA testing exonerates 72-year-old man “Mr. Cabanillas always maintained that on the date of his arrest, he was coerced by the investigating detective into giving a false confession with a promise that he would be released on probation,” Gascón said. Despite no physical evidence connecting Cabanillas to the crime, he was charged with 14 felony counts, according to Gascón. Cabanillas insisted he was innocent throughout a trial but was ultimately handed a sentence that amounted to life in prison. In 2019, Cabanillas’lawyers from the California Innocence Project, a non-profit that works to free wrongfully convicted people from prison, filed a motion to have DNA evidence related to the 1995 sexual assault victim tested, the district attorney said. None of the DNA matched Cabanillas, he said. “After a thorough review of all the evidence, including expert analysis of the purported confession and an interview with the sexual assault victim, we lost confident in the conviction in this case,” Gascón said. Cabanillas was conditionally released from a prison in May, according to the district attorney’s office. He was permanently freed on September 21, when a Los Angeles County Superior Court judge vacated his conviction and found him factually innocent. Alissa Bjerkhoel, the California Innocence Project’s interim director, said the exoneration is “bittersweet.” “The righting of a wrong under these circumstances is deeply profound,” Bjerkhoel said during the Tuesday news conference. “The colossal damage done because of this wrongful conviction cannot be measured. Gerardo has missed out on a lifetime in the free world.” Investigators with the district attorney’s office have used the new DNA testing to identify a new suspect, who is in custody in connection with an unrelated killing, Gascón said. Gascón said the man matched the suspect description and “had gone on to commit multiple serious felonies in the same area, including several rapes and murder.” “To you and your family, I offer our deepest apologies for the horrible injustice that was caused,” Gascón told Cabanillas, who attended the news conference with his family but chose not to speak.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-013651_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-013651_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-013651_2.png"],primaryTags:["Politics"],secondaryTags:["US Election"],text:`North Korea has still not reacted to the United States’ presidential election. Its silence speaks volumes. According to analysts, it’s highly unlikely that President-elect Joe Biden would have been North Korean leader Kim Jong Un’s preferred candidate. President Donald Trump has been unique among American leaders for his willingness to personally engage with Kim, providing him with a sense of legitimacy on the world stage, even though those efforts have since stalled. “I do think North Korea would be disappointed that Trump didn’t win,” said Ambassador Joseph Yun, a former US special representative for North Korea policy under both Presidents Obama and Trump. “For them, Trump was a big deal, they had three summit meetings, unprecedented meetings.” The highly unusual relationship was underscored by the countless missives, described by Trump as “love letters,” that the two men exchanged during Trump’s four years in office. Biden, on the other hand, has been brutal in his criticism of Trump’s engagement with Kim, which according to the president-elect weakened US sanctions. Biden called Kim a “thug” during the last presidential debate and has been highly critical of North Korea throughout the entirety of this year’s presidential campaign. It’s unclear what comes next for Biden. He has outlined his priorities on entering the White House and North Korea does not feature, nor is a meeting likely any time soon. Unlike Trump, Biden has made it clear he would be unwilling to sit down with Kim without preconditions. But precedent suggests North Korea has a tendency to stage some kind of provocation in the early stages of a new US administration. Pyongyang fired a missile just weeks after President Trump was inaugurated in 2017, setting the tone for a volatile and tense year. Experts are split as to whether North Korea will feel the need to do the same for Biden. “The North Koreans often telegraph what they’re going to do,” said John Delury, an associate professor at Seoul’s Yonsei University. “If you listen carefully to their statements they usually indicate where they are heading, and I would say there’s been almost no signals that they’re planning a major provocation or test.” As Yun points out, these are different times for Kim – and a missile test might not be as high on his agenda as it was four years ago. “They now have proven that they have a viable ICBM (intercontinental ballistic missile) that can reach almost anywhere in the continental US, they also have a very big nuclear device which they tested in 2017,” Yun said. North Korea also has a number of its own pressing issues to contend with. The coronavirus, which Kim claims has yet to infect any of his people, a struggling economy as sanctions continue to pinch, and recovery from a string of typhoons and flooding earlier this year. Biden knows the challenges likely posed by North Korea. Pyongyang conducted both a nuclear and a long-range missile test in the opening months of Obama’s presidency, under which Biden served as vice president. However, he is not necessarily expected to revert back to the Obama-era policy of “strategic patience” of waiting for Pyongyang to come to the negotiating table while keeping sanctions in place. That policy failed to achieve its main objectives. during that time, North Korea significantly expanded its nuclear and missile capability and carried out four of its six nuclear tests. Ambassador Yun said that Biden has shown he “wants a diplomatic solution, he wants an engagement.” “Sure, he has emphasized denuclearization, but at the same time he has emphasized what he called principled diplomacy so I would hope that the engagement door would be more open now,” he said. However, a provocation from Pyongyang – especially a missile test – could dramatically change the calculus for a Biden administration. Evans Revere, senior director with the Albright Stonebridge Group, has extensive experience negotiating with North Korea during his time at the State Department. He believes Biden would react strongly to any provocation from North Korea. A response will most likely include the immediate resumption of large-scale US-South Korea military exercises, new military deployments to Korea and the surrounding area and a major effort to impose new sanctions and strengthen existing measures, said Revere. “As well as to take new steps designed to isolate, weaken and pressure the North Korean regime,” he added. It is not clear at this time what pressure China, North Korea’s main trading partner and ally, would exert to prevent a resumption of testing. It’s also not clear how a US-China relationship, currently at its lowest point in years, would progress. Trump’s personal style may have led to three history-making summits, but nuclear talks between the two countries have been stuck in neutral for months. Diplomacy with North Korea will likely be much more process oriented, said Delury of Yonsei University. “Under Trump what we’ve seen is a personalistic style which is almost unprecedented,” he said. “A Biden administration is going to be an administration, there’s going to be a coherence to it.” Biden has not ruled out meeting with the North Korean leader but only “on the condition that he would agree that he would be drawing down his nuclear capacity.” Related article
Putin, Xi and other strongmen haven't congratulated Biden yet. Their silence speaks volumes Pyongyang has doled out its fair share of insults to Biden over recent months, calling him a “fool of low IQ” and a “rabid dog” who “must be beaten to death with a stick.” But former US officials who have dealt with Pyongyang acknowledge name-calling is par for the course. Trump himself has shown us threats and insults do not rule out diplomacy. President Obama warned an incoming President Trump that North Korea would be one of the most pressing national security concerns. Revere believes Biden does not need any such warning. “He understands the problem and knows that, after four years of the Trump administration, the North Korean nuclear threat is greater than ever,” Revere said. “Biden is not about to ignore North Korea, and Pyongyang can be counted on to ensure that he doesn’t.”`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_2.png"],primaryTags:["Economy","Economy"],secondaryTags:["Cost Of Living","Revenue"],text:`Half of renters in the United States have found themselves paying more than they can afford, following years of surging rents. But an increase in the construction of multiple-unit buildings has boosted the supply of apartments, which is slowly beginning to rein in runaway rents. Nationally, rents declined annually in December for the eighth straight month, according to Realtor.com’s monthly report. The median asking rent was $1,713, which was down $4 from November and down $63 from the July 2022 peak. However, median rent is still $309 higher than the same time in 2019, before the pandemic. That’s a 22% increase. And people have been feeling it. In some places, rents aren’t dropping at all. Rent is just increasing at a slower pace. Related article
Boomers are not moving out of their big homes. Here’s why Still, even if rents aren’t dropping like a rock, they aren’t expected to be skyrocketing in the same way this year. This may come as some relief to the 22.4 million households who, according to Harvard University’s Joint Center for Housing Studies, pay more than a third of their income in rent. Paying anything above the standard 30% threshold is commonly considered a cost burden. What’s more, 12 million of those renters are severely cost burdened, which means they are spending more than half their income on housing. The report reveals several disturbing records, including the record-high number of renters in housing they cannot afford and a record-high number of people who are homeless, said Chris Herbert, managing director of the Harvard Joint Center for Housing Studies. In addition, the report found that evictions are rising as pandemic protections have expired and a record-high number of income-eligible renters can’t get assistance as rental support falls short. “Rental conditions are softening, but affordability conditions are worse than ever before,” said Whitney Airgood-Obrycki, senior research associate at the Harvard center, who presented some of the report’s findings. Following changes in housing needs during the pandemic and an already existing low supply of multifamily housing in some markets, rents surged in 2021 and 2022. But that has changed in 2023 thanks to increased supply, the report showed. Related article
Elizabeth Warren rips Fed for fueling affordability crisis in housing, calls for rate cuts Rent growth peaked at a record breaking 15% annually in the first quarter of 2022, before starting to slow. By the end of 2023, rents were growing by just 0.4% annually. Even cities with the most intractable rents are seeing some cooling. In November rents dropped in Manhattan for the first time in 27 months. The median rent fell to $4,000, down 4.6% from October and down 2.3% from the year before, according to a report from the brokerage firm Douglas Elliman and Miller Samuel Real Estate Appraisers and Consultants. “We’re seeing supply and demand switch places in real time,” said Anthemos Georgiades, chief executive of Zumper, an online rental marketplace. “Pandemic-fueled migrations have slowed just as new multifamily buildings are coming online in many markets.” He added that winter is a slow time for renters to move, which is driving demand even lower right now. “Renters have more leverage right now than anytime in recent memory,” Georgiades said. Multifamily building has been booming at a pace not seen in decades. About 436,000 multifamily units were completed in the third quarter of last year, on a seasonally adjusted basis, which was the highest level since 1988, and up about a third from pre-pandemic levels, according to the Harvard report. And there are more in the pipeline. The number of multifamily units under construction peaked in July at over 1 million, the highest level on record, according to the US Census Bureau. While the number has stayed at a historically higher level since then, it has been ticking down on a seasonally adjusted annualized basis. Related article
Can we turn all those empty office buildings into housing? Builders are facing higher costs due to interest rates on their loans, material costs and land costs, and are already pulling back on building. As a result, the National Association of Home Builders forecasts that multifamily construction will decrease by about 20% next year. While the increase in new construction and available apartments has been a boon to the market, there may not be new units coming at the same pace in the future. That’s despite large demand from Baby Boomers and Millennials, and also Gen Z aging into apartment renting. Without continued new supply in addition to enhanced rental support, the Harvard report concludes affordability will remain a critical concern for many renters.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_9.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_8.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_13.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_12.png"],primaryTags:["Culture"],secondaryTags:["Painting"],text:`'My autism made me an artist but I wanted a family'. At two years of age, David Downes began to draw. It would be another few years before he learned to talk, and another 30 until his autism diagnosis.,"I could draw before I could communicate. Looking back it was obvious but there wasn't as much awareness back then," says the 51-year-old landscape artist, who lives in Manningtree, Essex.,David has a photographic memory, which he puts down to his neurodivergent brain. He can recall the places he has visited in brilliant detail and paint them from his recollections.,"I'm lucky to have this capacity to visualise and also to get obsessive about stuff. As a child I started drawing churches, trees, flocks of birds and road junctions because they were the things I was fascinated by.",But his autistic traits haven't always helped David in life. ,He felt different from his friends growing up in Brome, Suffolk. He was bullied at high school and found comfort in keeping an illustrated diary. His head teacher did not believe he had produced the drawings - so his artistic talent was not recognised.,It was his mother, who recently passed away and who David describes as his inspiration, who encouraged him to go to art school.,He found exams difficult because he struggled to retain information and did not get the grades to get into Norwich Art School, which was seen as the best in the area, so he went to one in Ipswich.,"My work was really hit and miss. I was very bad at copying, I could draw it out of my head much easier than if it was in front of me.",David went on to study illustration at Anglia Ruskin University in Cambridge and then at Brighton University, where he did a postgraduate diploma in illustration.,"Socially I was still struggling to make friends and I was trying to fit in. People actually want to be different at art school. But I was so different that it was annoying. I was always a little bit on the outside. I was desperate to find a girlfriend but it never happened," he says.,David still did not have an autism diagnosis, but suspected he was on the spectrum. ,He decided to document his struggles in a visual autobiography and used it to gain a place at the prestigious Royal College of Art in London, which he describes as "like winning the World Cup".,After graduating, David was unsure which path to take - as an illustrator or a fine artist. "You come out of the Royal College and you just presume you're going to make it. I felt like I was more of a fine artist, but I tended to do work that was quite illustrative.",It was not long until he won his first major contract, a commission by the BBC to record the corporation's most important architecture at the turn of the century and he became the BBC's artist in residence for two years.,David was eventually diagnosed with autism at the age of 32 and he spoke to a counsellor, who helped him get a part-time job in an art shop.,"I was struggling to run a business and make a living from my art and I needed some kind of understanding of what was going on," he says.,His professional life started going well again, and in 2012 he was commissioned by The Savoy Hotel to create a piece depicting the Thames Diamond Jubilee Pageant, which still sits in the entrance of the world famous hotel.,David got involved with the National Autistic Society and became vice president, regularly speaking and painting live at fundraising events for the charity.,But at the same time, he was struggling with relationships. He could not find a partner, despite throwing himself into internet dating, and felt his dreams of being a father were over.,David started seeing a hypnotherapist while in his early forties and paid him in drawings. ,"He would hypnotise me and say 'David you're a really great artist, you're unique, you're different. You're going to meet someone who is going to understand your issues'.",David went on to meet his partner Rachel in a pub in Stoke Newington in London. The couple lived in California for three years, which he says opened his mind to doing different types of work.,"It was a challenge living there and having to almost start again as an artist, after being well known in London, but it pushed me out of my comfort zone," he says.,They decided to move back to England, to Manningtree, and Rachel fell pregnant with their daughter Talia, who is now two. ,During Covid, David felt inspired to document the pandemic, which he says helped him cope with the stress of it, and he started doing much more imaginary and surreal work.,"My best work has always been autobiographical or describing the times that we live in," he says.,David recently opened a gallery in Manningtree, which had always been a dream of his, but he "never thought it would come true".,"To have the opportunity to display my work and have chats with people, it's incredible. I feel like it has also given me more of an identity as an artist," he says.,David is now turning his attention to the cost of living crisis and wants to create some pieces documenting it in the new year.,"Before my mum died, she said to me 'your father and I never thought you'd meet someone and be a father," he says.,"I'm proud of everything I've achieved in the art world but having a family is the most important thing of all.",Find BBC News: East of England on Facebook, Instagram and Twitter. If you have a story suggestion email eastofenglandnews@bbc.co.uk`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_1.png"],primaryTags:["Education"],secondaryTags:["Social Media Impact"],text:"Teens are entering the chat around social media. Adults often stress about the anxiety, self-esteem issues and social comparisons that teenagers may encounter on social media, but a new study is asking teens what they are actually experiencing online and how they see it in their lives. “One of the things we really want to do with this larger work is bring teens’ own voices to the debate,” said the report’s lead author, Monica Anderson, associate director of research of the Pew Research Center’s internet and technology team. “This work really wants to shine light on: Teens are getting both positives from social media, but they’re also getting negative things as well.” A guide to parental controls on social media Researchers with the Pew Research Center surveyed 1,316 teens across the United States ages 13 to 17 from mid-April to early May. The youths were asked about their thoughts, feelings and use of social media. “When it comes to new and emerging tech, teens are often at the vanguard of tech adoption,” Anderson said. One theme of the survey’s results: Teens see their experience on social media as more positive than adults imagine it to be. Only 27% said that their experience is even worse than their parents think — the rest said it was either about right or better, the survey said. It makes sense that adult perspectives would be skewed, said Michelle Icard, a parenting educator and speaker and the author of “Fourteen Talks by Age Fourteen: The Essential Conversations You Need to Have With Your Kids Before They Start High School.” “Offloading their negative experiences with social media to parents is one of the ways tweens and teen cope,” she said via email. “Often, our kids report what went wrong in their day, in person or online, but they forget to come back and let us know when their issues resolved or stopped being painful. So, parents carry around worry long after kids have shrugged something off.” The teens who responded to the survey said the good things they get out of social media include feeling connection and getting support from a community. In total, 80% said social media gives them some level of connection to what is going on in their friends’ lives, 71% said it’s a place where they can show their creativity, 67% said social media reassures them that they have people to support them through tough times, and 58% said it makes them feel more accepted, according to the survey. Black and Hispanic teens were more likely than their White counterparts to report feeling more accepted because of social media, the data showed. It's time for spring cleaning, and unhealthy social media accounts need to go, experts say Especially during the pandemic, the kids Icard worked with were grateful they could still connect with one another, she said. And if encouraged the right way, Icard has seen social media as a good way to showcase talents and humor. And the teens tend to use it that way, the data showed. The top three things teens reported posting about were their accomplishments, family and emotions, according to the survey. The survey participants were more likely to say social media is mostly positive or neutral for them personally, but they leaned in more of a negative direction when it came to its impact on people their age, the survey said. “People might see a lot of benefits from technology and in this case social media,” Anderson said, “but are much more likely to see the downsides when looking at social media as a whole.” This survey can be helpful to get an overview of social media and teens, but there are still individual circumstances and downsides to consider, Icard said. For example, girls ages 15 to 17 were more likely than any other group to say that they don’t post things on social media because they are worried about being embarrassed, the survey said. My 'dry' January: What I learned from a month without social media And girls more so than boys were likely to report feeling overwhelmed by drama on social media, the study said. But all groups acknowledged downsides. Those who reported negative experiences attributed them mostly to screen time, mental health and the impact of online drama, the survey said. And 60% of all teens report feeling little to no control over the data social media companies collect from them. “Social media is a tool and as such, it’s neither all good nor all bad,” Icard said. “You know your child’s temperament, social life, and experiences best,” she said via email. “Regardless of how the majority of kids self-report, your decision should take into account your child’s unique situation first.” How do you optimize the experience for yourself or your child then? Icard recommended a slow exposure, allowing children to join one social media app at a time and only expanding when they demonstrate sufficient responsibility to use them without damage to their sense of self. “I also think parents should teach their kids app etiquette as well as safety,” Icard said, “and they should monitor more at the beginning but then (taper) off over time.” For teens who are glued to social media, this 4-step plan can help Have conversations frequently about what is happening on these platforms. While you can give more autonomy over time, “a child who is unwilling to discuss their experiences on the app might not be ready for one,” she added. Don’t begin panicking about having a teen on social media, as the experience comes with ups and downs just like any other part of life, Icard said. “But if parents notice that social media creates feelings that are harmful to their adolescent’s sense of self,” she added, “it would be appropriate to consult with a therapist who can help with more positive self-talk and habits.” Sign up for CNN’s Stress, But Less newsletter. Our six-part mindfulness guide will inform and inspire you to reduce stress while learning how to harness it.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_15.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_14.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_16.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_17.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_13.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_12.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_10.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_11.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_9.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_8.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_6.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_7.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_18.png"],primaryTags:["Sport"],secondaryTags:["Football (Soccer)"],text:"German football club Schalke has apologized after some of its fans allegedly racially abused Borussia Dortmund’s 15-year-old star Youssoufa Moukoko during an Under-19 match between the two teams on Sunday. “We can only apologise for the behavior of some of our fans towards Youssoufa Moukoko at today’s U19s match,” the club said in a tweet after the local derby game, using the hashtag ‘NoToRacism.’ Both clubs are based in Germany’s Ruhr region. It’s unclear what fans may have said. “Derby emotions aside, we completely condemn and oppose such insults,” added Schalke, which said its Fan Affairs department “will take the necessary measures.” The Control Committee of the German Football Association (DFB) says it “will examine the possible racist insults” against Moukoko. “The German Football Association does not tolerate any form of racism and goes against any form of it,” said Thomas Bergmann, member of the DFB-Control Committee. READ: One year on from Bulgaria, football’s fight against racism and discrimination is only just beginning “The Control committee will investigate if there were racist insults.” Widely considered one of European football’s most prodigious talents, Moukoko scored all three goals as Dortmund’s Under-19s beat Schalke 3-2 in the local Revierderby. It was the youngster’s third hat-trick of the season already and Moukoko, who has regularly played several years above his age group throughout his young career, is expected to be called up to Dortmund’s first team when he turns 16 next month. Born in Cameroon, Moukoko has represented Germany on the international stage with the Under-16s and Under-20s and came through the youth ranks at St. Pauli before transferring to Dortmund’s academy in 2016. Neither Schalke or Borussia Dortmund were immediately available for comment about Sunday’s incident when contacted by CNN Sport.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-024211_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-024211_2.png"],primaryTags:["Safety"],secondaryTags:["Murder"],text:`Man fatally stabbed 'yards from his front door'.A man died after being stabbed "yards from his front door", a jury has heard.,On the night of Kidane Gebrehiwot's death, he became involved in a fight with  Samwen Muiruri, 32, of Trier Way, Gloucester.,Both men walked home after the incident on 6 August 2023 but Mr Muiruri left his house moments later. A "flurry of activity" was then visible on Mr Gebrehiwot's street. ,Mr Gebrehiwot, aged in his 50s, died of a single stab wound. Mr Muiruri appeared at Gloucester Crown Court on Tuesday after previously pleading not guilty to murder.,,Prosecutor Edward Hetherington told the jury he believes Mr Muiruri  picked up a knife at his house and then stabbed Mr Gebrehiwot at the junction of Arthur Street and Kings Barton Street.,"Mr Gebrehiwot lived on Arthur Street and was yards from his front door when he was stabbed and collapsed at the scene due to his injuries," Mr Hetherington said.,Despite the "best efforts" of emergency responders and passers-by, he later died in hospital at 02:22 BST.,The court was told a disagreement between the men first broke out due to a woman that both men knew.,This resulted in Mr Gebrehiwot and Mr Muiruri becoming involved in an physical altercation outside an off licence on Eastgate Street, the jury heard.,"Kidane appears to be the bigger and stronger of the two, he pushes [Muiruri] up against a wall and holds him there," Mr Hetherington said.,Subsequent CCTV footage appeared to show the pair heading back to their respective addresses.,Mr Muiruri was captured on CCTV entering his home address at 00:59 BST, reappearing two minutes later before he "went looking for Kidane", Mr Heatherington said.,A "flurry of activity" was visible on Arthur Street one minute later.,Mr Hetherington told the jury he believes Mr Muiruri went inside to get a knife.  A gold blade was later found tangled among Mr Gebrehiwot's clothing and a handle was discovered in a gutter on Kings Barton Street, the court was told.,Mr Muiruri then returned to his home address, but was seen to go back towards Arthur Street before changing his mind and walking back home.,He emerged again at 01:11 BST, when Mr Gebrehiwot was being treated at the junction.,The trial continues.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-041090_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-041090_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-041090_3.png"],primaryTags:["Daily Life"],secondaryTags:["Safety Incidents"],text:"British mountaineer Kenton Cool has set a record for the most Mount Everest summits by a non-Nepali after reaching the top of the world’s highest mountain for the 17th time. Cool reached the peak alongside Dorjee Gyelzen Sherpa, a local guide who has himself summitted both Everest and K2 multiple times, and Richard Walker, executive chairman of the Iceland grocery store chain in the UK. According to a post on Cool’s Instagram account, the trio reached the top of Everest at 1:30 am British Summer Time, which is 6:15 am Nepal time. “Conditions on the summit push were incredibly cold, leading to multiple tech failures with the tracker/comms going down,” reads the post. “They are now resting at Camp 4 before heading back down the mountain.” Nepal bans solo trekkers throughout the country It has been a week of records on Everest, which is most commonly climbed in May. On Monday, 46-year-old Pasang Dawa Sherpa reached the mountain’s apex for the 26th time, tying his countryman Kami Rita Sherpa for the number of all-time ascents. The tie only lasted for two days, though, as Kami Rita then successfully summitted for the 27th time on Wednesday. Mountaineering tourism is a huge revenue driver for the country, despite concerns about potential overcrowding on Everest, which has led to safety risks. A viral photograph taken in 2019 showed a “traffic jam” line of climbers waiting their turn to make the final ascent to the peak. This year, Nepal issued 463 climbing permits to international tourists, its highest number ever. The largest groups represented were the U.S. and China. In 2018, the Nepali government banned foreigners from climbing Everest alone. Then, earlier this year, they banned all solo trekking throughout the country. “When you are traveling solo, in case of emergencies there is no one to help you,” Mani R. Lamichhane, Director of the Nepal Tourism Board, told CNN about the decision. “It is fine if they are traveling in the cities, but in the remote mountains, the infrastructure is not adequate.” Nepal may move Everest Base Camp One longtime Mount Everest guide, Adrian Ballinger, founder of Alpenglow Expeditions, told CNN he is no longer taking clients to the mountain due to concerns about overcrowding. “Unfortunately, when accidents do happen on the mountain, more often than not the tragedy tends to strike the Nepalese workers who are there supporting foreign climbers,” Ballinger told CNN. “The dramatic increase in numbers, specifically inexperienced climbers led by inexperienced guides and guide companies, has created a tinderbox of a situation where big accidents are inevitable when they could be avoidable. All we can do is fight and advocate for the increased regulation of the mountaineering industry in Nepal.”",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-115496_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-115496_1.png"],primaryTags:["Health","Daily Life"],secondaryTags:["Mental Health","Charitable Welfare"],text:`Suicide prevention 'not a top priority' in Scotland.A leading charity dealing with suicide prevention has said the Scottish government is not treating the issue as a top priority.,The Samaritans commissioned a poll which indicated 61% of people in Scotland have been affected by suicide.,Almost 40% of those taking part said they would not know who to turn to if they were supporting someone in crisis.,The Scottish government is drawing up a new prevention plan and said it was spending over £1bn on mental health.,In 2016, there were 728 probable suicides in Scotland. This was an 8% rise on the previous year.,Most of those who die are men, 71% in 2016. ,The Samaritans poll, which included more than 1,000 people in Scotland, found: ,Samaritans executive director for Scotland James Jopling said: "This shows this issue may not be taken as seriously as it should be; that it's not an issue we are seeing embedded in the Justice Department, in education and how we support young people. ,"In other functions of government we are not seeing the reflection of this issue. Our feeling is, it's not being seen on the levels it should be. ,"We have a dedicated mental health minister, she should and can be the person to champion our efforts on this and that's what we want to see.",The Scottish government is drawing up a plan for suicide prevention, with the consultation on it closing earlier this week.,Minister for Mental Health Maureen Watt said: "We are investing more and more money in mental health every year. ,"The past year (2017/18) we saw for the first time £1bn invested in mental health and now we've got an extra £150m on top of that for this next year. ,"Mental health and suicide prevention is a very important part of the Scottish government's actions going forward.",Four years ago, 28-year-old Nicola Saunders tried to take her own life. ,She had been struggling with mental health problems since she was 10 years old.,"Physically, I felt as if there was a ball inside of my stomach, that it would squeeze quite a lot and when it squeezed I couldn't bear it, I just wanted to curl up into a ball and scream and cry.",With nobody close who could help her and she says she felt totally alone.,"I was in the psychiatric unit for three weeks. I didn't have any support, I didn't really have any familial support. ,"I was discharged and I didn't have any support in place whatsoever. I didn't have anywhere to live at the time and I was basically told that if I was going to leave I would be homeless.",Nicola now runs a survivors group, offering help she felt was missing for her at the time. She is calling for a more open discussion around suicide in Scotland.,"Kindness and compassion is what is needed," she says. "I think we just need to not be afraid to talk about it, openly, then it's not scary and it's like, we can solve this.",Details of organisations which offer advice and support are available at BBC Action Line or you can call for free, at any time, to hear recorded information 0800 066 066.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-006885_1_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-006885_1_2.png"],primaryTags:["Economy"],secondaryTags:["Cryptocurrency"],text:"Bitcoin Speculative Fervor Cools, Traders Await Next Trump Steps. (Bloomberg) -- The speculative frenzy around Bitcoin since Donald Trump’s US election victory is moderating both in the spot and derivatives markets. Most Read from Bloomberg Under Trump, Prepare for New US Transportation Priorities NYC Congestion Pricing Plan With $9 Toll to Start in January Zimbabwe City of 700,000 at Risk of Running Dry by Year-End In Cleveland, a Forgotten Streetcar Bridge Gets a Long-Awaited Lift Saudi Neom Gets $3 Billion Loan Guarantee From Italy Export Credit Agency Sace The largest digital asset slid below $87,000 at one point on Friday after Federal Reserve Chair Jerome Powell said there was no need to hurry interest-rate cuts. The token later pared back some of its losses trading at $90,265 as of 12:11 p.m. in London. In the derivatives sector, K33 Research said the premium paid for CME-listed Bitcoin futures over the spot market price has declined. US-based institutional investors use the contracts to take positions on the original cryptocurrency. Figures from Amberdata indicate a 24-hour surge in open interest — or outstanding contracts — for bearish options with a strike price of $80,000. “Markets seems to be cooling down,” said Vetle Lunde, head of research at K33, adding that the narrowing of the futures premium “might have been a subtle hint of moderating risk profiles.” Trump’s Pledges Bitcoin has jumped about 30% since the US election on Nov. 5. in response to President-elect Trump’s pro-crypto stance. The digital asset is now viewed as one of a suite of so-called Trump trades, and speculators are wondering how much impetus the rally has left. Trump has pledged to create a friendly regulatory framework for crypto, set up a strategic Bitcoin stockpile and make the US the global hub for the industry. A onetime crypto skeptic, Trump changed tack after digital-asset firms spent heavily during election campaigning to promote their interests. Questions remain about the feasibility and implementation timeline of his promises. Investors poured a net $4.3 billion into US spot-Bitcoin exchange-traded funds after Election Day. The 12 funds, from issuers including BlackRock Inc. and Fidelity Investments, now have total assets of about $93 billion, based on figures compiled by Bloomberg. Volatility Expected “It’s all pure speculative trading right now,” said James Davies, chief executive officer at on-chain futures and options trading platform Crypto Valley Exchange. “Expect lots of volatility and a lack of clear signals for a while, whilst we wait for policy announcements in the US.” Davies flagged $90,000 as a key marker to watch to see if acts as a “resistance level, or if we are well past it.” One of the highest concentrations of bullish Bitcoin options bets is for the $100,000 strike, data from Deribit show. Bitcoin changed hands at $87,740 as of 6 a.m. Friday in London. Smaller tokens such as second-ranked Ether and meme-crowd favorite Dogecoin were mixed, in line with easing risk appetite as traders pared bets on Fed rate cuts following Powell’s comments. --With assistance from Dave Liedtka. (Updates price in second paragraph) Most Read from Bloomberg Businessweek CEOs Brace for the Chaos of Another Four Years of Trump Elon Musk Has a New Project to Run: Trump’s Government Betting on Tesla Helped Ron Baron Beat the Index. Now He’s Getting a Trump Bump North Dakota Wants Your Carbon, But Not Your Climate Science Martha Stewart’s Empire Monetized More Than Just Domesticity ©2024 Bloomberg L.P.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055813_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055813_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055813_1.png"],primaryTags:["Politics"],secondaryTags:["Courts"],text:`A Thai court on Wednesday ordered the kingdom’s most popular political party to be disbanded, a verdict that delivers a major blow to a vibrant progressive movement and one that threatens to bring more political turbulence to Thailand. The Move Forward Party won a stunning electoral victory in 2023, winning the most parliamentary seats on an anti-establishment reform agenda that drew huge support across the country, particularly among young people disaffected by years of military-backed rule. The Constitutional Court in Bangkok ruled Wednesday that Move Forward should be dissolved, following a request from Thailand’s Election Commission, over the party’s campaign to amend lese majeste, the country’s notoriously strict royal insult law. In its unanimous ruling, the court accused Move Forward of “undermining the monarchy” and so “the constitutional court has to inevitably disband the party.” In January, the same court ordered the party to end its lese majeste campaign, accusing its leaders, including former prime ministerial hopeful Pita Limjaroenrat, of seeking to overthrow the constitutional monarchy. Wednesday’s ruling goes further, dissolving the party and banning its executives from politics for 10 years – effectively disenfranchising 14 million people who voted for them and raising fresh concerns about the erosion of democratic rights in the kingdom. Move Forward’s leaders have repeatedly said that dissolution will not stop their movement. Speaking to the Associated Press this week, Pita said they will continue to fight so that Move Forward “becomes the last party that joins the graveyard of political parties.” It’s the first of two high-profile, politically sensitive cases with the potential to further entrench a power struggle between the establishment and progressives. Next week, the court is expected to rule on a petition seeking to remove Prime Minister Srettha Thavisin from office for appointing a lawyer who had served jail time to the Cabinet. Move Forward’s election victory was a decisive win for progressive parties and delivered a crushing blow to the conservative, military-backed establishment that has ruled Thailand on and off for decades, often by turfing out popularly elected governments in coups. Ultimately Move Forward was prevented from forming a government because it failed to win enough support for its royal reform agenda in parliament, which heavily favors the establishment under a political system implemented by the previous ruling military junta. Pita resigned as leader of the party, which became the main opposition. Thailand’s turbulent political history has previously seen parties that have pushed for change run afoul of the powerful establishment – a nexus of the military, royalist and influential elites. The purportedly independent election commission, anti-corruption commission and the Constitutional Court are all dominated in favor of the establishment. Related article
Thai court orders election-winning party to end its royal reform campaign in blow to voters who backed change During the election, young people told CNN they felt they were the “forgotten generation” living under military-backed rule for nine years, while they struggled to find work or buy a home. “We just can’t see our future in this country,” one young lawmaker said. Wednesday’s ruling will likely only further entrench the feeling for many young supporters that there is little hope for change within Thailand’s political system. Progressive lawmakers have faced bans, parties have been dissolved, and governments have been overthrown. Thailand has witnessed a dozen successful coups since 1932, including two in the past two decades. It’s the second time the court has ordered the dissolution of parties linked to Move Forward’s progressive movement. Move Forward is the de facto successor to the Future Forward Party, which won the third most number of seats in the 2019 election. Shortly after the vote, Thailand’s Constitutional Court dissolved that party and banned its leaders from politics for 10 years. That brought millions of young people out onto the streets across the country – sparking a nationwide youth-led protest movement in 2020 that saw the emergence of a new generation of young political leaders, many who openly criticized the monarchy and publicly questioned its power and wealth. The ruling could now ensure that no party or person would legally be able to push for amendments to lese majeste, known as Section 112, without violating the constitution. The calls for reform of the monarchy electrified Thailand, where any frank discussion of the royal family is fraught with the threat of prison. Criticizing the king, queen, or heir apparent can lead to a maximum 15-year prison sentence for each offense and sentences for those convicted Section 112 of the country’s criminal code can be decades long. Hundreds of people have been prosecuted in recent years including Mongkol Thirakhot, who was sentenced to a record 50 years in prison in January for social media posts deemed damaging to the king. Related article
Young Thai activist’s death in detention after 65-day hunger strike sparks calls for justice reform Anyone – including ordinary citizens – can bring lese majeste charges on behalf of the king, even if they are not directly involved with the case. Move Forward pledged to reduce lese majeste sentences and limit who can make a complaint. For years, human rights organizations and free speech campaigners have said the lese majeste law has been used as a political tool to silence critics of the Thai government. Many of those who took part in the protests now face lese majeste charges and long jail sentences. Legal Rights group Thai Lawyers for Human Rights said that at least 1,954 people have been prosecuted for their participation in political assemblies since the start of protests in July 2020, with at least 272 people charged with lese majeste. Prominent activist lawyer Arnon Nampa is currently serving eight years in prison for two lese majeste convictions. In May, the death of a young Thai activist in pre-trial detention for lese majeste charges shocked many in the country and sparked renewed calls for justice reform.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-152796_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-152796_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-152796_3.png"],primaryTags:["Daily Life"],secondaryTags:["Rescue Operations"],text:`Seahouses Lifeboat's first call of 2023 is to stranded causeway car.It may be a new year, but a lifeboat crew's first call-out of 2023 was to deal with an old problem.,The RNLI's Seahouses crew was called at about 11:45 GMT on Monday after a car became cut off by the rising tide while attempting to drive to Holy Island off the Northumberland coast.,The safe crossing times were from 01:20 to 09:40 and 13:55 to 21:55, RNLI spokesman Ian Clayton said.,The occupants of the car were found "safe and dry" on the causeway bridge.,Mr Clayton said the RNLI was called to trapped cars eight times last year, on seven occasions in 2021 and six times in 2020 - but the actual number of such incidents was "considerably in excess" of those figures.,He said the lifeboat is only called in extreme situations where there are concerns about people being in the water, while the shore-based island Coastguard will deal with the majority of strandings.,"It might not seem a lot but each time we have to go there it means the lifeboat is not available for another rescue," Mr Clayton said, adding: "It's frustrating because it is totally avoidable if people just use some common sense.",Mr Clayton said it was "fortunate" there had not been any fatalities but there was always "great concern" a car could be swept into a deeper channel where it could overturn leading to drowning or cold water shock for its occupants.,He said: "Local people are fully aware of [crossing times] and are fully up to speed with when they can get across, but not all visitors pay the same attention.,"We have rescued people from all walks of life who have been caught out and we would urge people to pay attention to the signs and check the crossing times.",He also said most cars have to be written off once sea water gets into the engine compartments.,Follow BBC North East & Cumbria on Twitter, Facebook and Instagram. Send your story ideas to northeastandcumbria@bbc.co.uk.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-052024_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-052024_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-052024_3.png"],primaryTags:["Daily Life"],secondaryTags:["Gender Equality"],text:`Twitter investigates racial bias in image previews.Twitter is investigating after users discovered its picture-cropping algorithm sometimes prefers white faces to black ones.,Users noticed when two photos - one of a black face the other of a white one - were in the same post, Twitter often showed only the white face on mobile.,Twitter said it had tested for racial and gender bias during the algorithm's development. ,But it added: "It's clear that we've got more analysis to do.",Twitter's chief technology officer, Parag Agrawal, tweeted: "We did analysis on our model when we shipped it - but [it] needs continuous improvement.,"Love this public, open, and rigorous test - and eager to learn from this." ,The latest controversy began when university manager Colin Madland, from Vancouver, was troubleshooting a colleague's head vanishing when using videoconference app Zoom. ,The software was apparently mistakenly identifying the black man's head as part of the background and removing it.,But when Mr Madland posted about the topic on Twitter, he found his face - and not his colleague's - was consistently chosen as the preview on mobile apps, even if he flipped the order of the images.,His discovery prompted a range of other experiments by users, which, for example, suggested: ,Twitter's chief design officer, Dantley Davis, found editing out Mr Madland's facial hair and glasses seemed to correct the problem - "because of the contrast with his skin".,Responding to criticism, he tweeted: "I know you think it's fun to dunk on me - but I'm as irritated about this as everyone else. However, I'm in a position to fix it and I will.,"It's 100% our fault. No-one should say otherwise.",Zehan Wang, a research engineering lead and co-founder of the neural networks company Magic Pony, which has been acquired by Twitter, said tests on the algorithm in 2017, using pairs of faces belonging to different ethnicities, had found "no significant bias between ethnicities (or genders)" - but Twitter would now review that study.,"There are many questions that will need time to dig into," he said.,"More details will be shared after internal teams have had a chance to look at it.",Late last year, a US government study suggested facial-recognition algorithms were much less accurate at identifying black and Asian faces than white ones.,In the UK, police officers last year raised concerns about algorithms "amplifying" prejudices and called for clearer guidelines on using the technology.,And, in June this year, similar concerns led IBM to announce it would no longer offer facial-recognition software for "mass surveillance or racial profiling".`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-053503_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-053503_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-053503_1.png"],primaryTags:["Environment"],secondaryTags:["Extreme Weather"],text:`Ice warning as snow leads to hundreds of school closures.A new severe weather warning of ice has been issued as wintry weather continues around much of the UK.,All of Wales and most of England is covered by the yellow Met Office warning, which is in place from Monday evening until Tuesday at 9:00 GMT.,Hundreds of schools closed in south-west England and Wales because of heavy snow.,Temperatures are expected to rise this week but the weather could turn colder again by the weekend, forecasters said.,Over 20cm (8ins) of snow has been recorded in central and southern England as temperatures fell widely below 0C overnight with lows of -5C in Scotland.,In Wales, a total of 207 schools were closed on Monday, with GCSE pupils at Brynmawr School in Blaenau Gwent being taught in a cinema instead.,Devon County Council said nearly all of their 307 schools were shut and the others partially closed, while 97 schools in Cornwall and 163 schools in Somerset were also shut.,Meanwhile, around 80 motorists sought refuge overnight at an emergency rest centre in a college near the A30 in Devon.,Among those stranded at the centre were a bride and groom on their wedding night. ,Other stranded drivers camped in their vehicles at a service station on the A30 in Okehampton, which was blocked by heavy snow until it fully reopened in the morning.,Richard White, volunteer rest centre manager at Okehampton College - where 82 people, including children, spent the night - said: "It's the last thing you expect to get stuck in the snow.,"One lady said she felt like a refugee. ,"It was -3C and it didn't stop snowing until 06:00. It's been a really horrid night.",Newly-married couple John and Sara Lund, who were travelling to their honeymoon in Cornwall, were forced to spend their wedding night at the rest centre.,The groom, Mr Lund, told BBC Radio 4's Today programme that he and his new bride spent their first night sleeping on a mat on "rock-hard floors" in a classroom with around 20 other stranded people.,"It's probably a story which has helped keep morale high in the camp," Mr Lund said.,A 64-mile stretch of the A30 from the M5 at Exeter to near Bodmin in Cornwall was closed by Devon and Cornwall Police to allow its officers and Highways England to clear the route.,The force warned drivers to only travel if necessary and "slow down".,The runway at Exeter Airport was closed but reopened just after 11:00 GMT, although some flights were delayed or cancelled.,Temperatures dropped across many parts of the UK overnight causing partly melted snow to refreeze. ,In parts of England, temperatures fell to -2C and -3C and -5C in central Scotland.,Temperatures are expected to rise into double figures this week but could become colder by the weekend bringing some frost, BBC Weather said.,Met Office forecaster Craig Snell added: "Generally we are out of the woods but anyone hoping for a spring heatwave will have to wait.",Mr Snell said the UK should now see the start of a "gradual thaw" - but added there is still a risk of frost and ice, including on Tuesday morning.,He said the weather will become "briefly milder then turning colder come the weekend, but not as cold and not as snowy as the weekend just gone".`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_6.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_7.png"],primaryTags:["Politics","Environment","Economy"],secondaryTags:["United Nations","Carbon Management","Taxation"],text:`Climate change: CO2 emissions rising for first time in four years.Global efforts to tackle climate change are way off track says the UN, as it details the first rise in CO2 emissions in four years.,The emissions gap report says that economic growth is responsible for a rise in 2017 while national efforts to cut carbon have faltered.,To meet the goals of the Paris climate pact, the study says it's crucial that global emissions peak by 2020. ,But the analysis says that this is now not likely even by 2030.,The report comes days before a major UN climate conference starting in Poland from 2-14 December.,For the last nine years, UN Environment have produced an assessment of the latest scientific studies on current and future emissions of greenhouse gases. ,It highlights the difference between the level of greenhouse gas emissions that the world can sustain to keep temperatures within safe limits, with the levels that are likely based on the promises and actions taken by countries. ,This year's report records the largest gap yet between where we are and where we need to be. ,Between 2014 and 2016, global emissions of CO2 from industry and the production of energy were essentially stable while the global economy grew modestly - but in 2017 these emissions went up by 1.2% pushed along by higher GDP.,While the rise might seem small, it needs to be seen in context of efforts to keep global temperatures from rising by more than 1.5C, as recently outlined in a key IPCC report. ,According to the UN, to keep the world below that target, global greenhouse gas emissions in 2030 would have to be 55% lower than today. ,"There is still a tremendous gap between words and deeds, between the targets agreed by governments worldwide to stabilise our climate and the measures to achieve these goals," said Dr Gunnar Luderer, from the Potsdam Institute for Climate Impact Research and one of the authors of the study.,The scientists say that to tackle the gap, nations must raise their ambition five fold to meet the 1.5C goal.,Right now, the world is heading for a temperature rise of 3.2C by the end of this century the report says.,One key aspect of the study is about the peaking of global greenhouse emissions.,The report says that peaking of emissions in 2020 is "crucial for achieving the temperature targets in the Paris agreement," but the scale of the current efforts is insufficient. ,The study says that by 2030, around 57 countries representing about 60% of global emissions will have peaked. Nowhere near where the world needs to be.,In some ways yes. The study says that countries including Argentina, Australia, Canada, the EU (including the UK), South Korea, Saudi Arabia, South Africa and the US, are falling short of achieving their nationally determined contributions for 2030. ,Three countries, Brazil, China and Japan are currently on track, while three others, India, Russia and Turkey are set to beat their targets. ,The authors believe that some of these achievements may be down to setting relatively low targets for their national plans. ,Undoubtedly, yes.,The UN is placing great hopes in what it terms "non-state actors", meaning local, city and regional governments, businesses and higher education institutions can have major impacts on the future gap. ,They estimate that, right now, more than 7,000 cities from 133 countries and 6,000 companies with at least $36 trillion in revenue have pledged to take climate action. ,But the authors believe this is just scratching the surface. With over 500,000 publicly traded companies worldwide, there are many more that can take steps that cumulatively would have a significant impact on the gap.,The study says that there is the potential to cut emissions from this sector by 19 gigatonnes of CO2 equivalent per year by 2030 - that's enough to keep the world on a 2 degree path. ,The report also suggests that government tax plans could be hugely important in tackling emissions.  ,It says that carbon taxes or carbon trading systems cover only 15% of the global carbon output, which could rise to 20% if China implements its planned market. But the report says that half of the emissions from fossil fuels are not taxed at all and only 10% are priced at a level consistent with keeping warming to 2C. ,"When governments embrace fiscal policy measures to subsidise low-emission alternatives and tax fossil fuels, they can stimulate the right investments in the energy sector and significantly reduce carbon emissions," said Jian Liu, UN Environment's chief scientist. ,"If all fossil fuel subsidies were phased out, global carbon emissions could be reduced by up to 10% by 2030. Setting the right carbon price is also essential. At $70 per tonne of CO2, emission reductions of up to 40% are possible in some countries.",This report is aimed at informing delegates to next week's key climate conference in Katowice, Poland. Negotiators will be trying to finish the rules on how to implement the rule book of the Paris agreement - but the report's authors hope it can push countries to greater levels of ambition. ,"Germany and Europe could demonstrate leadership in this area by pledging complete greenhouse gas neutrality by 2050 and a clear strengthening of the emission reduction targets for 2030," said Dr Gunnar Luderer.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_4.png"],primaryTags:["Culture"],secondaryTags:["Human History"],text:".After an ominous, post-independence start which included a coup, an invasion by mercenaries, an abortive army mutiny and several coup attempts, the Seychelles have attained stability and prosperity.,Today the Indian Ocean archipelago enjoys a high per capita income, good health care and education.,The former British colony's economy depends heavily on the fishing industry and upmarket tourism. ,It features in the 2017 leak dubbed the Paradise Papers, which reveal the financial dealings of politicians, celebrities, corporate giants and business leaders.,Seychelles also is home to an array of wildlife, including giant tortoises and sea turtles. Much of the land is protected as part of nature reserves.,Read more country profiles, external - Profiles by BBC Monitoring, external,Capital: Victoria,Area: 459 sq km,Population: 100,447,Languages: English, French, Seychellois,Life expectancy: 72 years (men) 82 years (women),President: Wavel Ramkalawan,An Anglican priest and veteran opposition presidential contender, Wavel Ramkalawan won the October 2020 election in the first peaceful transfer of presidential power between different parties since independence in 1976. ,His Linyon Demokratik Seselwa liberal coalition also increased its parliamentary majority in simultaneous legislative elections.,He took over from President Danny Faure, whose United Seychelles party had held the presidency in various guises since 1977.,Seychelles is a favoured destination among holiday makers seeking sunshine and beaches,Media pluralism, diversity of opinion and the capacity to tackle major issues have been developing in Seychelles media over the past decade or so.,Read full media profile,James Mancham was ousted as president. He later returned from exile to promote tourism,Some key dates in the history of the Seychelles:,1768 - French planters and their slaves begin settling in the previously uninhabited Seychelles.,1794 - Britain annexes the Seychelles during the French Revolutionary Wars. Britain's control is formalised in 1814 at the Treaty of Paris and the islands are then administered from Mauritius.,1903 - Seychelles becomes a separate crown colony.,1976 - Seychelles becomes independent and is governed by a coalition, with James Mancham as president and France Rene as prime minister.,1977 - Mancham is ousted by Rene in a coup.,1979 - Seychelles declared a socialist one-party state, which lasts until 1991.,1981- South African-based mercenaries try but fail to restore Mancham to power and an army-led mutiny is thwarted. ,1986 - Attempted coup led by the Seychelles defence minister is defeated thanks to Indian military assistance.,2004 - President Rene steps down, replaced by former vice president James Michel; he wins the presidential elections in 2006.,2006 - Parliament bans political or religious organisations from running radio stations, sparking a rare outbreak of unrest.,2009 - Somali pirates move their operations southwards to Seychelles and beyond as patrols are stepped up in the Gulf of Aden. US says it will supply Seychelles with drone spy-planes to help fight piracy. France offers legal help.,Seychelles, European Union sign anti-piracy agreement which will allow EU troops to be deployed on the islands.,2016 - Seychelles becomes one of a minority of African countries to decriminalise gay sex.,2018 - Seychelles announces plans to create a marine reserve as part of a national debt swap deal which could serve as a model for future conservation projects around the world.,2020 -  Wavel Ramkalawan wins the presidency in the first peaceful transfer of presidential power between different parties since independence in 1976. ,Somali pirates, using skiffs such as these ones impounded in the Seychelles, at one time preyed on sea traffic in the islands' sprawling territory,Madagascar country profile,Comoros country profile,Maldives country profile,Mauritius country profile,Reunion profile,Government of Seychelles,UN news about Seychelles,Seychelles tourist board",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_14.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_15.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_17.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_16.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_12.png"],primaryTags:["Politics"],secondaryTags:["Assembly"],text:`Former acting Attorney General Sally Yates bemoaned House Republicans’ decision to oust Rep. Liz Cheney from her leadership post for challenging former President Donald Trump’s lie that he won the 2020 presidential election, saying she never thought she’d cheer on the GOP congresswoman “for simply telling the truth.” “I never thought that I’d be saying, ‘Yeah, go Liz Cheney.’ But I am. And again, isn’t it a sad commentary that we’re cheering her on for simply telling the truth and for refusing to be silent when others are not?” Yates told CNN’s David Axelrod on an episode of “The Axe Files” podcast released Thursday. “She is being punished for telling the truth. And I certainly never thought our country would come to that,” she added. Related article
Cheney ousted from leadership post. The other 9 Republicans who voted to impeach Trump have also faced a backlash. The comments from Yates, who was fired by Trump in the early days of his administration for refusing to defend a controversial immigration order from him, come a day after House Republicans voted to remove the Wyoming Republican from her position as chair of the House Republican Conference after publicly rejecting for months Trump’s election lies. In a wide-ranging interview with Axelrod, Yates discussed a number of issues, including hostility toward US institutions and the truth, the January 6 Capitol insurrection, police reform and restrictive voting laws. Yates, who said in her interview that American institutions “are really the most important thing” in the country’s democracy, told Axelrod that she’s “never seen an all-out assault on institutions and certainly in the course of my lifetime, like we saw over the four years of the Trump presidency.” The former acting attorney general said that assault has now carried over into truth, with there being “an indifference to truth during part of that administration to outright hostility toward it now.” “And again, as I said, we can debate policies and we should, but it has to be based on a common set of facts, and the lack of any of even being loosely tethered to truth for some, I think is a really dangerous thing for our country,” she said. Yates also offered a somber outlook on the deadly Capitol riot, saying that while it seemed like there was consensus around the fact that such an attack cannot happen again, that sentiment appears to have “dissipated” in the weeks following January 6. “I will confess, I did not anticipate there that we would have a – literally a violent insurrection at the Capitol on January 6,” Yates said. She continued: “And I think all of us watched with horror that day at what was happening at our nation’s Capitol with also a feeling of, OK, this has to be it. Regardless of where one is on the political spectrum, surely we can all agree that this can never happen again – that this is going at the very bedrock of our democracy. And it seemed like that lasted for maybe a week or so. Maybe a little bit longer than that. And then even there it is dissipated now. We can’t even unify around that.” Weighing in on the recent conviction of former Minneapolis police officer Derek Chauvin in the murder of George Floyd last year, Yates said she believes the US is “at an inflection point when it comes both to racial justice and specifically police reform.” “Again, none of this is new either. We’ve been struggling with these issues for not just years, but decades. But I think it has come to a point and it certainly came to the point with the Chauvin trial and with George Floyd where we all were confronted” with the video showing Chauvin kneeling on Floyd’s neck, she said. “While I think that verdict was essential for us going forward, it’s certainly not sufficient. It was important to hold Chauvin responsible for his actions, but we’ve got more work that needs to be done systemically in police departments,” Yates added. Yates said she was “very concerned” about GOP-led restrictive voting bills moving through state legislatures – including the recently passed election law in her home state of Georgia – and the “genesis of these changes” having stemmed from Trump’s lies about the election and to “ostensibly protect against nonexistent voter fraud.” “To me, this is really insidious to, again, be using this false narrative of widespread voter fraud to make it more difficult for people to vote,” she said. She slammed Georgia’s law for reducing the number of ballot drop boxes, making it illegal to send out absentee applications to all voters, and limiting voters’ abilities to cast a provisional ballot in a different precinct from where they are registered. “No one element of this perhaps impacts that many votes, but collectively they can impact a fair number, and every single vote should count,” she told Axelrod. Yates noted that some lawmakers cited a lack of authority when pressured to overturn election results. “Now in Georgia, under certain circumstances, the state legislature would have the authority,” she said. “And while, you know, in the past, it would have been impossible to imagine, you would actually have a situation where the state legislature would override the will of the people.” Still, Yates said she is “hopeful” that some of restrictive voting laws “can be beat back, but I think we probably all recognize that in 2022, it’s going to be a different situation in a number of states.” This story has been updated with additional details from the episode. CNN’s Ahmad Rafeena and Veronica Stracqualursi contributed to this report.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-080573_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-080573_1.png"],primaryTags:["Health"],secondaryTags:["Cancer"],text:`Ageing immune system linked to cancer.The key to preventing age-related cancers may lie in the body's own immune system, new research suggests.,Scientists at the University of Dundee found an ageing immune system could be a stronger reason for developing cancer compared with genetic mutation.,They have developed a mathematical equation to show the link and its impact on cancer rates.,They said the discovery could have "major implications" for the fight against the disease.,The team, which also included researchers from Heriot Watt University, the University of Edinburgh and the Institut Curie in France, analysed data on two million cancer cases over the 18-70 age range.,They confirmed that men were statistically more likely than women to be diagnosed with cancer, although the chances of developing the disease across both groups rose dramatically with age.,Genetic predisposition, lifestyle and environmental factors also played a role in cancer diagnosis.,However, researchers noticed that their mathematical model fitted the data better than the multiple mutation hypothesis.,Thea Newman, professor of biophysics and systems biology at the University of Dundee, said: "This is still very early days but if we are proven right then you could be talking about a whole new way to treat and prevent cancer.,"Nearly all of the mainstream research into cancer is based on how we can understand genetic mutations, target them and thereby cure the disease.,"We're not debating the fact that mutations cause cancer, but are asking whether mutations alone can account for the rapid rise in cancer incidence with age when ageing causes other profound changes in the body.",The researchers found that the immune system generally declined slower in women compared with men, allowing them to account for gender differences in cancer incidence.,This was also linked to the thymus gland, which produces T cells to circulate and kill dysfunctional cells or foreign agents in the body.,While the gland shrinks with age, it tended to do so faster in men compared with women.,Prof Clare Blackburn, an expert in thymus biology at the University of Edinburgh, added: "We believe that our findings are extremely relevant and show the need to take the immune system even more seriously in cancer research.,"In addition to mutations, this suggests we should also focus on how to boost thymus function in a controlled way.",The research, has been published in the latest edition of the Proceedings of the National Academy of Sciences.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055498_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055498_1.png"],primaryTags:["Politics"],secondaryTags:["Courts"],text:"Former President Donald Trump has asked the Supreme Court to put on hold the release of his tax returns by the Internal Revenue Service to a Democratic-led House committee. Trump filed the emergency request on Monday with the high court after a federal appeals court cleared the way last week for the returns to be disclosed to the House Ways and Means Committee in the coming days. The case is the most direct way for the House to obtain Trump’s federal tax returns after pursuing them in different avenues for years. The Trump team wants the Supreme Court to put the release of the tax returns on pause while the justices consider whether to take up a case reviewing the lower court rulings okaying their disclosure. Supreme Court hears arguments on college affirmative action cases The new filing asks the court to put an administrative hold on the release of the tax returns by Wednesday, as the US DC Circuit Court of Appeals ruling allowing for their disclosure goes into effect on Thursday. “No Congress has ever wielded its legislative powers to demand a President’s tax returns,” Trump argued to the Supreme Court, as he warned of the “far-reaching implications” implications of the DC Circuit’s ruling. He wrote that that the way lower courts approached the House request ran afoul of the Supreme Court’s ruling in the Mazars case, concerning a subpoena that the House issued Trump’s accounting firm for his tax information. This story is has been updated with additional details.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-063690_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-063690_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-063690_1.png"],primaryTags:["Sport"],secondaryTags:["Basketball"],text:"The South Carolina Gamecocks women’s basketball team has canceled its home-and-home series with the Brigham Young University (BYU) Cougars following the racial incident involving Duke volleyball player Rachel Richardson at a BYU game last week, Dawn Staley, head coach for the defending national champions said on Friday. “As a head coach, my job is to do what’s best for my players and staff,” Staley said in a statement. “The incident at BYU has led me to reevaluate our home-and-home, and I don’t feel that this is the right time for us to engage in this series.” Richardson said BYU officials did not act quick enough to stop the racist harassment she and other Black players were subject to during a match last week. Richardson tweeted that she and some of her teammates “were targeted and racially heckled throughout the entirety of the match. The slurs and comments grew into threats which caused us to feel unsafe.” Duke volleyball player says BYU officials failed to stop racist heckling during game in newly released statement BYU issued an apology the day after the game and said it banned a fan. South Carolina was scheduled to open its season at home against BYU on November 7. The Gamecocks said they are looking for another opponent for the season opener at Colonial Life Arena. BYU said it is “extremely disappointed” with the decision. “We are extremely disappointed in South Carolina’s decision to cancel our series and ask for patience with the on-going investigation,” BYU women’s basketball team said in a statement on Twitter. “We believe the solution is to work together to root out racism and not to separate from one another. #LoveOneAnother.” Both teams were set to play each other at the Utah university next season. BYU said it has no proof that the fan banned used a racial slur. The investigation is ongoing. “We are still investigating fan behavior as well as investigating our own response to the reported behavior,” Jon McBride, BYU associate athletic director said in a statement to CNN on Saturday. “The individual who was banned was the person identified by Duke as using racial slurs. However, we have been unable to find any evidence of that person using slurs in the match. We continue to investigate that specific situation.” On Thursday, BYU athletic director Tom Holmoe wrote an opinion piece for the Deseret News stating that the school is “committed to zero-tolerance of racism” and will be defined by its response to the racial incident. Brigham Young University apologizes, bans fan over racist slurs during volleyball match “Let me be clear where BYU stands on this issue: racism is disgusting and unacceptable,” he wrote. “We have worked to understand and follow-up on Rachel’s experience with sincere commitment and ongoing concern. To say we were extremely disheartened by her report is not strong enough language. BYU and BYU Athletics are committed to zero-tolerance of racism. Any fan found engaging in racist insults will be banned from our athletic venues. Holmoe added: “While some will try to define BYU by this incident, we will ultimately be defined by how we respond. The BYU I know and love rejects racism.”",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_4.png"],primaryTags:["Sport"],secondaryTags:["Rugby"],text:`.This video can not be played,England head coach Eddie Jones is not too old for a telling-off from his mother,England head coach Eddie Jones has apologised for swearing on TV, after receiving a dressing down from his 93-year-old mother. ,Jones was frustrated by his side's patchy performance at Twickenham, and was caught on camera losing his cool during Saturday's win over Argentina. ,"I have apologised for the language I used," Jones told BBC Sport. ,"I got a phone call this morning from my mother - who is 93 - rapping me over the knuckles.",'Ireland are a joy, England were a bore' - Guscott on the autumn internationals,Listen to 5 live's rugby union weekly podcast,Head coach Jones calls win a 'grindathon',Jones was seen swearing after England conceded a second-half penalty in the 21-8 victory.,Speaking to the BBC Rugby Union Weekly podcast, the 57-year-old Australian added. "I am in trouble with my mother and that's a big enough punishment for me. ,"She still tells me not to swear. I am in the dog house and certainly won't do it again.,"I think everyone was a bit frustrated on Saturday and I was one of them and I should have shown more self-control.",England's win was played out in front of a subdued Twickenham, and Jones accepts it was far from the spectacle the crowd would have hoped for. ,"It's like anything, you go to a movie and everyone talks about it and says it's going be fantastic," he said. ,"Then you sit there for two hours and don't enjoy it at all. And that sometimes happens at rugby games. ,"Unfortunately it just doesn't click. It's not a perfect science. If it was a perfect science, we would play brilliant rugby every week, but we don't.",Eddie Jones showed visible signs of frustration on the sidelines during England's win against Argentina,Jones says England will have to be better this weekend against a rapidly improving Australia outfit, who beat Wales for the 13th successive time on Saturday.,"I think they are probably the form team in the world, having beating New Zealand, two draws against South Africa, they have beaten Argentina, they have now beaten Wales," Jones said.,"If you were betting on the next race, they would be a warm favourite. They have had a succession of games together and we are coming out of the paddock and have one run under our belt in a 1500-metre race at Newbury or somewhere like that. ,"But we will be right this Saturday, it's a Group One event and we will be ready to go. I think we are at least at Ascot.",This video can not be played,Autumn international: England 21-8 Argentina highlights,England may be forced into at least one change, with full-back Mike Brown recovering from concussion. ,Brown left the field permanently after a mid-air collision with Argentina's Joaquin Tuculet, and now has to pass the 'return to play' protocol to be available for selection. ,"It's going to be tight. He's an important player for us and at the start of the game was looking so sharp," Jones said. ,"It's one of those unfortunate incidents, and it's going to be tight whether he is going to be fit to play, and if he's not we will miss him a lot, because he's a great player who plays with his heart.,"We love those sort of players and I know the English fans love those sort of players."   ,'Ireland are a joy, England were a bore',Itoje & Farrell nominated for top award,Shiny new kit but performance from past?,England win a grindathon - Jones,England Rugby,Scottish Rugby Union,Welsh Rugby Union,Irish Rugby,Aviva Premiership Rugby,Pro14 League,European Professional Club Rugby`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-013025_4_7.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-013025_4_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-013025_4_1.png"],primaryTags:["Safety"],secondaryTags:["War"],text:"Putin’s new hypersonic missile is a warning to Britain – this footage shows why. Credit: social media It may be innocently called “the hazelnut”, but this is a fig leaf disguise. The Kremlin’s latest hypersonic intermediate-range ballistic missile is actually one of its most dangerous. Vladimir Putin test-fired the “Oreshnik”, the Russian word for hazelnut tree, for the first time in combat on Thursday against the Ukrainian city of Dnipro. He later boasted that it had been designed for a “decisive” strike on Britain – and added a chilling warning. “I recommend that the ruling elites of those countries that are hatching plans to use their military contingents against Russia seriously think about this,” Putin said. So secret was the development of the Oreshnik that very little is known about it until footage emerged of its first strike. Credit: Telegram / dnepr_operativ Flashes of startling light emanating from multiple warheads were seen raining down on Dnipro and exploding on impact in deadly synchronisation. Initially, it was mistaken for an RS-26 Rubezh intercontinental ballistic missile when it was fired at Dnipro from a launch site in Astrakhan on the Caspian Sea. The Pentagon has also described Oreshnik as a “variant” of the RS-26 Rubezh. The grainy footage shows that Oreshnik appears to have multiple independently targetable re-entry vehicles. These are separate warheads able to hit different targets, which gives one missile enormous destructive power. Experts described it as an “experimental hybrid” missile that sits in a category between intercontinental and intermediate-range missiles. This means it has a range of around 3,000 miles, easily enough to strike Britain. Analysing the video, Andrey Baklitskiy, a senior researcher in the weapons of mass destruction programme for the United Nations, said that the video showed multiple warheads crashing into Dnipro at high speed. “They all fell in a close vicinity of each other, more consistent with MRV technology, meaning the warheads were not independently targeted,” he said. Mr Baklitskiy agreed that it was more difficult to defend against multiple warheads but each warhead would be “less potent”. As for the apparently small explosions, Mr Baklitskiy said that this was probably due to the small payload or “no payload at all” in the warheads. Michael Bonhert, an engineer at US think tank Rand Corporation, described it as part of Russia’s “strategic nuclear triad”, a change from the missiles that the Kremlin has been firing at Ukraine throughout the war. “What is different is missiles that tend to be intermediate-range missiles and almost every intercontinental ballistic missile is nuclear-capable,” he said. As well as gloating that the missile was capable of carrying both a conventional payload or a nuclear warhead, Putin dropped some more hints about the capabilities of the Oreshnik missile on Thursday, claiming that it could easily dodge anti-missile systems. The Oreshnik is fast and stealthy too. Putin said that the missile can fly at 10 times the speed of sound and cannot be shot down. “The modern air defence systems in the world and the missile defence systems created by the Americans in Europe do not intercept such missiles,” Mr Bonhert said. Ukraine’s military intelligence agency (HUR) said the missile could fly at 11 times the speed of sound as it released further details on the new weapon. It said the missile was fired from the fourth missile test range Kapustin Yar in Russia’s Astrakhan region, and flew 15 minutes before striking Dnipro. The missile had six warheads each carrying six submunitions. Test launches of a similar missile were conducted at the range in October 2023 and June 2024, HUR said. Mick Ryan, a military analyst and a retired Australian major general, said that by unveiling the Oreshnik with his strike on Dnipro, Putin was sending a strong message. “This was a political strike, not a military one,” he said. “It can be used against almost any target in Europe and the United Kingdom.” The issue for Putin, who looked more tired and drawn than usual in his video on Thursday, is that Britain’s deepening involvement in the war in Ukraine feels personal. Under his 24-year reign, the Kremlin has kept up a stream of particularly vindictive rhetoric against Britain and has previously threatened to strike London with a nuclear missile. Now that Ukraine has fired British-supplied Storm Shadow missiles at Russia, Putin has said that he is “ready and entitled” to respond with “destructive force”. The Oreshnik could be his weapon of choice.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-028411_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-028411_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-028411_1.png"],primaryTags:["Technology","Technology"],secondaryTags:["Aerospace Tech","ISS"],text:"Sign up for CNN’s Wonder Theory science newsletter. Explore the universe with news on fascinating discoveries, scientific advancements and more. NASA astronauts Jasmin Moghbeli and Loral O’Hara marked their first spacewalk this month with a tool bag floating through space. The pair concluded their maintenance work outside the International Space Station (ISS) in six hours and 42 minutes, according to the space agency. The spacewalk on November 1 saw Moghbeli and O’Hara complete works on the station’s solar arrays, which track the sun, but they ran out of time to remove and stow a communications electronics box. Leaving this task for a future spacewalk, the pair instead conducted an assessment of how the job could be done. During the hours-long mission, a tool bag gave them the slip and was “lost,” NASA said, with flight controllers spotting it using the ISS’ external cameras. Fortunately, the tools were not required for the remainder of their tasks. “Mission Control analyzed the bag’s trajectory and determined that risk of recontacting the station is low and that the onboard crew and space station are safe with no action required,” NASA said on its official blog. According to EarthSky, a website tracking cosmic events, the tool bag is currently orbiting Earth ahead of the ISS, and can potentially be spotted from Earth with a pair of binoculars during the next few months until it disintegrates in our planet’s atmosphere. ‘Puzzling’ discovery spotted in new images from NASA mission’s asteroid flyby This isn’t the first time an astronaut has lost tools in space. In 2008, Heide Stefanyshyn-Piper’s bag floated away while she was cleaning and lubricating gears on a malfunctioning rotary joint. A 2006 spacewalk saw astronauts Piers Sellers and Michael Fossum lose a 14-inch spatula while testing a method of repairing the space shuttle. Space debris or junk, like these objects, are artificial materials that orbit Earth but are no longer functional. They can be anything from a small chip of paint to parts discarded during rocket launches. In September 2023, the European Space Agency estimated 35,290 objects were being tracked and cataloged by the various space surveillance networks, with the total mass of objects orbiting Earth amounting to more than 11,000 tons.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-043773_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-043773_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-043773_1.png"],primaryTags:["Safety"],secondaryTags:["Murder"],text:"Federal and state law enforcement in Virginia and North Carolina are searching for two men who escaped from jail, one of whom was facing a murder charge in the death of a sheriff’s deputy. The two men escaped from a Farmville, Virginia, jail sometime over the weekend, the Prince Edward County Sheriff’s Office said in a news release. The sheriff’s office was notified the two men were missing early Monday morning. Farmville is roughly 60 miles southwest of Richmond and about 60 miles north of the North Carolina border, where authorities say both men have connections. The escapees were identified by authorities as Alder Marin-Sotelo, 26, and Bruce Carroll Callahan, 44. Marin-Sotelo is facing a first-degree murder charge in connection with the August killing of Wake County Sheriff’s Deputy Ned Byrd in North Carolina, according to the FBI. Byrd was shot multiple times and killed after getting out of his vehicle to investigate “suspicious activity” during his patrol, according to the Officer Down Memorial Page, a non-profit dedicated to memorializing fallen officers. Marin-Sotelo, who was described by authorities as Hispanic, had also been convicted of unlawful possession of a firearm, according to the Prince Edward County Sheriff’s Office. He is 5 feet, 6 inches tall and weighs roughly 150 pounds. He has black hair and brown eyes, the sheriff’s office added. He is believed to have left the jail in an early 2000s red or burgundy Ford Mustang, the Wake County Sheriff’s Office said in a Facebook post. He is considered “extremely dangerous,” authorities said. Callahan was being held on federal drug and weapons charges, the U.S. Marshals Service said in a news release. He is White, 5 feet, 6 inches tall and weighs roughly 145 pounds. He has brown hair and green eyes, the release added. It’s unclear if the two men have legal representation. There is a reward of up to $5,000 for information that leads to Callahan’s arrest, the Marshal’s Service added. The Marshal’s Service is looking for Callahan and helping in the search for Marin-Sotelo, which is being led by the FBI, the news release noted. In a announcement of the search Monday, Prince Edward County Sheriff L.A. “Tony” Epps urged community members to stay vigilant and call 911 if they see anyone matching descriptions of the escapees. “We appreciate the support from our many law enforcement partners and the public, as we continue to search (for) these individuals,” the sheriff added.",currentIndex:0,showText:!1}],currentPage:0}},methods:{prevImage(n){const e=this.datasetItems[n];e.currentIndex=(e.currentIndex-1+e.images.length)%e.images.length},nextImage(n){const e=this.datasetItems[n];e.currentIndex=(e.currentIndex+1)%e.images.length},toggleText(n){const e=this.datasetItems[n];e.showText=!e.showText},prevCard(){this.currentPage>0&&this.currentPage--},nextCard(){this.currentPage<this.datasetItems.length-1&&this.currentPage++}}},wne=n=>(yc("data-v-f78cbc8b"),n=n(),bc(),n),oGe=wne(()=>me("h1",{class:"section-title"},"Dataset Examples Cases",-1)),lGe={class:"dataset-container"},cGe={class:"card-content"},uGe={class:"image-carousel"},dGe=["src"],fGe={class:"tag-display"},hGe={class:"icon-with-text"},pGe=wne(()=>me("span",{class:"tags-label"},"Tags",-1)),mGe={class:"pagination"},vGe=["disabled"],gGe=["disabled"];function yGe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("Edit");return V(),ue("div",null,[se(s),se(o,{justify:"center"},{default:be(()=>[oGe]),_:1}),me("div",lGe,[(V(!0),ue(zt,null,In([i.datasetItems[i.currentPage]],(c,u)=>(V(),ue("div",{key:c.title,class:"dataset-card"},[me("div",cGe,[me("div",uGe,[me("img",{src:c.images[c.currentIndex],alt:"News",class:"carousel-image",onClick:e[0]||(e[0]=d=>a.toggleText(i.currentPage))},null,8,dGe),me("button",{class:"carousel-control prev",onClick:e[1]||(e[1]=sn(d=>a.prevImage(i.currentPage),["stop"]))}," ❮ "),me("button",{class:"carousel-control next",onClick:e[2]||(e[2]=sn(d=>a.nextImage(i.currentPage),["stop"]))}," ❯ "),me("div",fGe,[me("div",hGe,[se(l,{style:{width:"1em",height:"1em","margin-right":"3px"}}),pGe]),(V(!0),ue(zt,null,In(c.primaryTags,d=>(V(),ue("span",{key:d,class:"tag primary"},Ct(d),1))),128)),(V(!0),ue(zt,null,In(c.secondaryTags,d=>(V(),ue("span",{key:d,class:"tag secondary"},Ct(d),1))),128))]),c.showText?(V(),ue("div",{key:0,class:"text-overlay",onClick:e[3]||(e[3]=sn(()=>{},["stop"]))},[me("p",null,Ct(c.text),1)])):Qe("",!0)])])]))),128))]),me("div",mGe,[me("button",{onClick:e[4]||(e[4]=(...c)=>a.prevCard&&a.prevCard(...c)),disabled:i.currentPage===0},"Prev",8,vGe),me("span",null,Ct(i.currentPage+1)+"/"+Ct(i.datasetItems.length),1),me("button",{onClick:e[5]||(e[5]=(...c)=>a.nextCard&&a.nextCard(...c)),disabled:i.currentPage===i.datasetItems.length-1}," Next ",8,gGe)])])}const bGe=Ha(sGe,[["render",yGe],["__scopeId","data-v-f78cbc8b"]]);function lV(n){const e={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",img:"img",input:"input",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...n.components};return wt(zt,{children:[wt(e.h1,{children:"Markdown (H1)"}),`
`,wt(e.p,{children:["The render result of ",wt(e.code,{children:"md.mdx"})," is here."]}),`
`,wt(e.h2,{children:"Good (H2)"}),`
`,wt(e.h3,{children:"Nice (H3)"}),`
`,wt(e.p,{children:[wt(e.a,{href:"https://lilianweng.github.io/posts/2021-07-11-diffusion-models/",children:wt(e.strong,{children:"Diffusion models"})})," are a class of generative models in machine learning that have gained significant attention in recent years."]}),`
`,wt(e.p,{children:[wt(e.strong,{children:"Text-to-image diffusion models"})," have various application scenarios, including:"]}),`
`,wt(e.ul,{children:[`
`,wt(e.li,{children:[wt(e.strong,{children:"Art & Design"}),": Used by artists for creative art and fashion designers to generate clothing renderings."]}),`
`,wt(e.li,{children:[wt(e.strong,{children:"Advertising & Marketing"}),": Helps in creating advertising posters and product promotion maps."]}),`
`,wt(e.li,{children:[wt(e.strong,{children:"Game & Film"}),": Applied in game scene and character design, as well as film and television concept design..."]}),`
`]}),`
`,wt(e.blockquote,{children:[`
`,wt(e.p,{children:"Thegeneral training steps of diffusion models are as follows:"}),`
`]}),`
`,wt(e.ol,{children:[`
`,wt(e.li,{children:"Data collection"}),`
`,wt(e.li,{children:"Noise addition"}),`
`,wt(e.li,{children:"Model building"}),`
`,wt(e.li,{children:"Training"}),`
`,wt(e.li,{children:"Evaluation"}),`
`,wt(e.li,{children:"Deployment"}),`
`]}),`
`,wt(e.pre,{children:wt(e.code,{children:`import torch 

def denoise():
    pass
`})}),`
`,wt(e.ul,{className:"contains-task-list",children:[`
`,wt(e.li,{className:"task-list-item",children:[wt(e.input,{type:"checkbox",disabled:!0})," ","to do"]}),`
`,wt(e.li,{className:"task-list-item",children:[wt(e.input,{type:"checkbox",checked:!0,disabled:!0})," ","done"]}),`
`,wt(e.li,{className:"task-list-item",children:[wt(e.input,{type:"checkbox",checked:!0,disabled:!0})," ",wt(e.del,{children:"114514"})]}),`
`]}),`
`,wt(e.p,{children:wt(e.img,{src:"./logo_vision_aigc.png",alt:""})}),`
`,wt(e.p,{children:["Lift (",wt(e.span,{className:"katex",children:[wt(e.span,{className:"katex-mathml",children:wt(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:wt(e.semantics,{children:[wt(e.mrow,{children:wt(e.mi,{children:"L"})}),wt(e.annotation,{encoding:"application/x-tex",children:"L"})]})})}),wt(e.span,{className:"katex-html","aria-hidden":"true",children:wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"0.6833em"}}),wt(e.span,{className:"mord mathnormal",children:"L"})]})})]}),") can be determined by Lift Coefficient (",wt(e.span,{className:"katex",children:[wt(e.span,{className:"katex-mathml",children:wt(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:wt(e.semantics,{children:[wt(e.mrow,{children:wt(e.msub,{children:[wt(e.mi,{children:"C"}),wt(e.mi,{children:"L"})]})}),wt(e.annotation,{encoding:"application/x-tex",children:"C_L"})]})})}),wt(e.span,{className:"katex-html","aria-hidden":"true",children:wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),wt(e.span,{className:"msupsub",children:wt(e.span,{className:"vlist-t vlist-t2",children:[wt(e.span,{className:"vlist-r",children:[wt(e.span,{className:"vlist",style:{height:"0.3283em"},children:wt(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[wt(e.span,{className:"pstrut",style:{height:"2.7em"}}),wt(e.span,{className:"sizing reset-size6 size3 mtight",children:wt(e.span,{className:"mord mathnormal mtight",children:"L"})})]})}),wt(e.span,{className:"vlist-s",children:"​"})]}),wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.15em"},children:wt(e.span,{})})})]})})]})]})})]}),`) like the following
equation.`]}),`
`,wt(e.span,{className:"katex-display",children:wt(e.span,{className:"katex",children:[wt(e.span,{className:"katex-mathml",children:wt(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:wt(e.semantics,{children:[wt(e.mrow,{children:[wt(e.mi,{children:"L"}),wt(e.mo,{children:"="}),wt(e.mfrac,{children:[wt(e.mn,{children:"1"}),wt(e.mn,{children:"2"})]}),wt(e.mi,{children:"ρ"}),wt(e.msup,{children:[wt(e.mi,{children:"v"}),wt(e.mn,{children:"2"})]}),wt(e.mi,{children:"S"}),wt(e.msub,{children:[wt(e.mi,{children:"C"}),wt(e.mi,{children:"L"})]})]}),wt(e.annotation,{encoding:"application/x-tex",children:"L = \\frac{1}{2} \\rho v^2 S C_L"})]})})}),wt(e.span,{className:"katex-html","aria-hidden":"true",children:[wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"0.6833em"}}),wt(e.span,{className:"mord mathnormal",children:"L"}),wt(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),wt(e.span,{className:"mrel",children:"="}),wt(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"2.0074em",verticalAlign:"-0.686em"}}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mopen nulldelimiter"}),wt(e.span,{className:"mfrac",children:wt(e.span,{className:"vlist-t vlist-t2",children:[wt(e.span,{className:"vlist-r",children:[wt(e.span,{className:"vlist",style:{height:"1.3214em"},children:[wt(e.span,{style:{top:"-2.314em"},children:[wt(e.span,{className:"pstrut",style:{height:"3em"}}),wt(e.span,{className:"mord",children:wt(e.span,{className:"mord",children:"2"})})]}),wt(e.span,{style:{top:"-3.23em"},children:[wt(e.span,{className:"pstrut",style:{height:"3em"}}),wt(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),wt(e.span,{style:{top:"-3.677em"},children:[wt(e.span,{className:"pstrut",style:{height:"3em"}}),wt(e.span,{className:"mord",children:wt(e.span,{className:"mord",children:"1"})})]})]}),wt(e.span,{className:"vlist-s",children:"​"})]}),wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.686em"},children:wt(e.span,{})})})]})}),wt(e.span,{className:"mclose nulldelimiter"})]}),wt(e.span,{className:"mord mathnormal",children:"ρ"}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),wt(e.span,{className:"msupsub",children:wt(e.span,{className:"vlist-t",children:wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.8641em"},children:wt(e.span,{style:{top:"-3.113em",marginRight:"0.05em"},children:[wt(e.span,{className:"pstrut",style:{height:"2.7em"}}),wt(e.span,{className:"sizing reset-size6 size3 mtight",children:wt(e.span,{className:"mord mtight",children:"2"})})]})})})})})]}),wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),wt(e.span,{className:"msupsub",children:wt(e.span,{className:"vlist-t vlist-t2",children:[wt(e.span,{className:"vlist-r",children:[wt(e.span,{className:"vlist",style:{height:"0.3283em"},children:wt(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[wt(e.span,{className:"pstrut",style:{height:"2.7em"}}),wt(e.span,{className:"sizing reset-size6 size3 mtight",children:wt(e.span,{className:"mord mathnormal mtight",children:"L"})})]})}),wt(e.span,{className:"vlist-s",children:"​"})]}),wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.15em"},children:wt(e.span,{})})})]})})]})]})]})]})}),`
`,wt(e.h3,{children:"Table (H3)"}),`
`,wt(e.table,{children:[wt(e.thead,{children:wt(e.tr,{children:[wt(e.th,{children:"a"}),wt(e.th,{style:{textAlign:"left"},children:"b"}),wt(e.th,{style:{textAlign:"right"},children:"c"}),wt(e.th,{style:{textAlign:"center"},children:"d"})]})}),wt(e.tbody,{children:[wt(e.tr,{children:[wt(e.td,{children:"Alpha"}),wt(e.td,{style:{textAlign:"left"},children:"Bravo"}),wt(e.td,{style:{textAlign:"right"},children:"Alpha"}),wt(e.td,{style:{textAlign:"center"},children:"Bravo"})]}),wt(e.tr,{children:[wt(e.td,{children:"中文"}),wt(e.td,{style:{textAlign:"left"},children:"Charlie"}),wt(e.td,{style:{textAlign:"right"},children:"👩‍❤️‍👩"}),wt(e.td,{style:{textAlign:"center"},children:"Delta"})]})]})]})]})}function _Ge(n={}){const{wrapper:e}=n.components||{};return e?wt(e,{...n,children:wt(lV,{...n})}):lV(n)}const wGe={__name:"Markdown",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-col"),a=Et("el-row");return V(),ue("div",null,[se(r),se(a,{justify:"center"},{default:be(()=>[se(i,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(w(_Ge))]),_:1})]),_:1})])}}},xGe={data(){return{bibtex:["@article{xxx,","    title={News-M3F: A Multi-modal, Multi-label Dataset for Fine-grained Visual Categorization},","    author={xxx},","    journal={xxx},","    year={xxx}","}"]}},methods:{copyVal(){let n=document.createElement("textarea"),e=document.getElementById("bibtex").innerText;n.value=e,document.body.appendChild(n),n.select(),document.execCommand("Copy"),this.$message.success("Copy Successfully"),n.remove()}}},g8=n=>(yc("data-v-4af90938"),n=n(),bc(),n),SGe=g8(()=>me("h1",{class:"section-title"},"BibTeX",-1)),CGe=g8(()=>me("div",{style:{"text-align":"center",color:"var(--el-text-color-secondary)","margin-top":"20px"}},"🖱️ Click here to copy BibTex.",-1)),MGe={id:"bibtex"},TGe=g8(()=>me("br",null,null,-1));function AGe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("el-scrollbar"),c=Et("el-col");return V(),ue("div",null,[se(s),se(o,{justify:"center"},{default:be(()=>[SGe]),_:1}),se(o,{justify:"center"},{default:be(()=>[se(c,{class:"bibtex",xs:24,sm:20,md:14,lg:12,xl:12,onClick:e[0]||(e[0]=u=>a.copyVal())},{default:be(()=>[CGe,se(o,null,{default:be(()=>[se(l,{style:{margin:"0px 20px 5px 20px"}},{default:be(()=>[me("pre",MGe,[(V(!0),ue(zt,null,In(i.bibtex,u=>(V(),ue("code",null,[dn(Ct(u),1),TGe]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})])}const EGe=Ha(xGe,[["render",AGe],["__scopeId","data-v-4af90938"]]);function cV(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function y8(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:cV(e[t])&&cV(n[t])&&Object.keys(e[t]).length>0&&y8(n[t],e[t])})}const xne={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jc(){const n=typeof document<"u"?document:{};return y8(n,xne),n}const IGe={document:xne,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Ko(){const n=typeof window<"u"?window:{};return y8(n,IGe),n}function RGe(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function MP(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function uM(){return Date.now()}function PGe(n){const e=Ko();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function DGe(n,e){e===void 0&&(e="x");const t=Ko();let r,i,a;const s=PGe(n);return t.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(i==="none"?"":i)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function qx(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function kGe(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function ko(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!kGe(r)){const i=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,s=i.length;a<s;a+=1){const o=i[a],l=Object.getOwnPropertyDescriptor(r,o);l!==void 0&&l.enumerable&&(qx(n[o])&&qx(r[o])?r[o].__swiper__?n[o]=r[o]:ko(n[o],r[o]):!qx(n[o])&&qx(r[o])?(n[o]={},r[o].__swiper__?n[o]=r[o]:ko(n[o],r[o])):n[o]=r[o])}}}return n}function Kx(n,e,t){n.style.setProperty(e,t)}function Sne(n){let{swiper:e,targetPosition:t,side:r}=n;const i=Ko(),a=-e.translate;let s=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=t>a?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{o=new Date().getTime(),s===null&&(s=o);const f=Math.max(Math.min((o-s)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=a+h*(t-a);if(u(p,t)&&(p=t),e.wrapperEl.scrollTo({[r]:p}),u(p,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function Yc(n,e){return e===void 0&&(e=""),[...n.children].filter(t=>t.matches(e))}function Cne(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:[e]),t}function LGe(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function NGe(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Cf(n,e){return Ko().getComputedStyle(n,null).getPropertyValue(e)}function dM(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Mne(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function TP(n,e,t){const r=Ko();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}let d4;function OGe(){const n=Ko(),e=Jc();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function Tne(){return d4||(d4=OGe()),d4}let f4;function BGe(n){let{userAgent:e}=n===void 0?{}:n;const t=Tne(),r=Ko(),i=r.navigator.platform,a=e||r.navigator.userAgent,s={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/);let u=a.match(/(iPad).*OS\s([\d_]+)/);const d=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&t.touch&&m.indexOf(`${o}x${l}`)>=0&&(u=a.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(s.os="android",s.android=!0),(u||f||d)&&(s.os="ios",s.ios=!0),s}function FGe(n){return n===void 0&&(n={}),f4||(f4=BGe(n)),f4}let h4;function zGe(){const n=Ko();let e=!1;function t(){const r=n.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(t()){const r=String(n.navigator.userAgent);if(r.includes("Version/")){const[i,a]=r.split("Version/")[1].split(" ")[0].split(".").map(s=>Number(s));e=i<16||i===16&&a<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function UGe(){return h4||(h4=zGe()),h4}function HGe(n){let{swiper:e,on:t,emit:r}=n;const i=Ko();let a=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(d=>{s=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(v=>{let{contentBoxSize:g,contentRect:y,target:b}=v;b&&b!==e.el||(p=y?y.width:(g[0]||g).inlineSize,m=y?y.height:(g[0]||g).blockSize)}),(p!==f||m!==h)&&o()})}),a.observe(e.el))},c=()=>{s&&i.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",u)})}function VGe(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const a=[],s=Ko(),o=function(u,d){d===void 0&&(d={});const f=s.MutationObserver||s.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};s.requestAnimationFrame?s.requestAnimationFrame(m):s.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),a.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=Mne(e.hostEl);for(let d=0;d<u.length;d+=1)o(u[d])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},c=()=>{a.forEach(u=>{u.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var $Ge={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e.apply(r,s)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function GGe(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Cf(r,"padding-left")||0,10)-parseInt(Cf(r,"padding-right")||0,10),t=t-parseInt(Cf(r,"padding-top")||0,10)-parseInt(Cf(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function WGe(){const n=this;function e(I){return n.isHorizontal()?I:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[I]}function t(I,D){return parseFloat(I.getPropertyValue(e(D))||0)}const r=n.params,{wrapperEl:i,slidesEl:a,size:s,rtlTranslate:o,wrongRTL:l}=n,c=n.virtual&&r.virtual.enabled,u=c?n.virtual.slides.length:n.slides.length,d=Yc(a,`.${n.params.slideClass}, swiper-slide`),f=c?n.virtual.slides.length:d.length;let h=[];const p=[],m=[];let v=r.slidesOffsetBefore;typeof v=="function"&&(v=r.slidesOffsetBefore.call(n));let g=r.slidesOffsetAfter;typeof g=="function"&&(g=r.slidesOffsetAfter.call(n));const y=n.snapGrid.length,b=n.slidesGrid.length;let _=r.spaceBetween,x=-v,S=0,T=0;if(typeof s>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:typeof _=="string"&&(_=parseFloat(_)),n.virtualSize=-_,d.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(Kx(i,"--swiper-centered-offset-before",""),Kx(i,"--swiper-centered-offset-after",""));const C=r.grid&&r.grid.rows>1&&n.grid;C&&n.grid.initSlides(f);let M;const A=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(I=>typeof r.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<f;I+=1){M=0;let D;if(d[I]&&(D=d[I]),C&&n.grid.updateSlide(I,D,f,e),!(d[I]&&Cf(D,"display")==="none")){if(r.slidesPerView==="auto"){A&&(d[I].style[e("width")]="");const L=getComputedStyle(D),F=D.style.transform,B=D.style.webkitTransform;if(F&&(D.style.transform="none"),B&&(D.style.webkitTransform="none"),r.roundLengths)M=n.isHorizontal()?TP(D,"width",!0):TP(D,"height",!0);else{const k=t(L,"width"),H=t(L,"padding-left"),z=t(L,"padding-right"),O=t(L,"margin-left"),G=t(L,"margin-right"),X=L.getPropertyValue("box-sizing");if(X&&X==="border-box")M=k+O+G;else{const{clientWidth:J,offsetWidth:Q}=D;M=k+H+z+O+G+(Q-J)}}F&&(D.style.transform=F),B&&(D.style.webkitTransform=B),r.roundLengths&&(M=Math.floor(M))}else M=(s-(r.slidesPerView-1)*_)/r.slidesPerView,r.roundLengths&&(M=Math.floor(M)),d[I]&&(d[I].style[e("width")]=`${M}px`);d[I]&&(d[I].swiperSlideSize=M),m.push(M),r.centeredSlides?(x=x+M/2+S/2+_,S===0&&I!==0&&(x=x-s/2-_),I===0&&(x=x-s/2-_),Math.abs(x)<1/1e3&&(x=0),r.roundLengths&&(x=Math.floor(x)),T%r.slidesPerGroup===0&&h.push(x),p.push(x)):(r.roundLengths&&(x=Math.floor(x)),(T-Math.min(n.params.slidesPerGroupSkip,T))%n.params.slidesPerGroup===0&&h.push(x),p.push(x),x=x+M+_),n.virtualSize+=M+_,S=M,T+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+g,o&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(i.style.width=`${n.virtualSize+_}px`),r.setWrapperSize&&(i.style[e("width")]=`${n.virtualSize+_}px`),C&&n.grid.updateWrapperSize(M,h,e),!r.centeredSlides){const I=[];for(let D=0;D<h.length;D+=1){let L=h[D];r.roundLengths&&(L=Math.floor(L)),h[D]<=n.virtualSize-s&&I.push(L)}h=I,Math.floor(n.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(n.virtualSize-s)}if(c&&r.loop){const I=m[0]+_;if(r.slidesPerGroup>1){const D=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/r.slidesPerGroup),L=I*r.slidesPerGroup;for(let F=0;F<D;F+=1)h.push(h[h.length-1]+L)}for(let D=0;D<n.virtual.slidesBefore+n.virtual.slidesAfter;D+=1)r.slidesPerGroup===1&&h.push(h[h.length-1]+I),p.push(p[p.length-1]+I),n.virtualSize+=I}if(h.length===0&&(h=[0]),_!==0){const I=n.isHorizontal()&&o?"marginLeft":e("marginRight");d.filter((D,L)=>!r.cssMode||r.loop?!0:L!==d.length-1).forEach(D=>{D.style[I]=`${_}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let I=0;m.forEach(L=>{I+=L+(_||0)}),I-=_;const D=I-s;h=h.map(L=>L<=0?-v:L>D?D+g:L)}if(r.centerInsufficientSlides){let I=0;if(m.forEach(D=>{I+=D+(_||0)}),I-=_,I<s){const D=(s-I)/2;h.forEach((L,F)=>{h[F]=L-D}),p.forEach((L,F)=>{p[F]=L+D})}}if(Object.assign(n,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Kx(i,"--swiper-centered-offset-before",`${-h[0]}px`),Kx(i,"--swiper-centered-offset-after",`${n.size/2-m[m.length-1]/2}px`);const I=-n.snapGrid[0],D=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(L=>L+I),n.slidesGrid=n.slidesGrid.map(L=>L+D)}if(f!==u&&n.emit("slidesLengthChange"),h.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==b&&n.emit("slidesGridLengthChange"),r.watchSlidesProgress&&n.updateSlidesOffset(),!c&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const I=`${r.containerModifierClass}backface-hidden`,D=n.el.classList.contains(I);f<=r.maxBackfaceHiddenSlides?D||n.el.classList.add(I):D&&n.el.classList.remove(I)}}function qGe(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const s=o=>r?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!r)break;t.push(s(o))}else t.push(s(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const o=t[a].offsetHeight;i=o>i?o:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function KGe(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}function YGe(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-n;i&&(s=n),r.forEach(l=>{l.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(s+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),f=(s-a[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),h=-(s-u),p=h+e.slidesSizesGrid[l];(h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),r[l].classList.add(t.slideVisibleClass)),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function XGe(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,c=s;if(r===0)i=0,a=!0,s=!0;else{i=(n-e.minTranslate())/r;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;a=u||i<=0,s=d||i>=1,u&&(i=0),d&&(i=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=f?o=(m-f)/p:o=(m+p-h)/p,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:a,isEnd:s}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!a||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}function jGe(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,a=n.virtual&&t.virtual.enabled,s=l=>Yc(r,`.${t.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let o;if(a)if(t.loop){let l=i-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),o=s(`[data-swiper-slide-index="${l}"]`)}else o=s(`[data-swiper-slide-index="${i}"]`);else o=e[i];if(o){o.classList.add(t.slideActiveClass);let l=NGe(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!l&&(l=e[0]),l&&l.classList.add(t.slideNextClass);let c=LGe(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass)}n.emitSlidesClasses()}const G2=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},p4=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},AP=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const s=i,o=[s-e];o.push(...Array.from({length:e}).map((l,c)=>s+r+c)),n.slides.forEach((l,c)=>{o.includes(l.column)&&p4(n,c)});return}const a=i+r-1;if(n.params.rewind||n.params.loop)for(let s=i-e;s<=a+e;s+=1){const o=(s%t+t)%t;(o<i||o>a)&&p4(n,o)}else for(let s=Math.max(i-e,0);s<=Math.min(a+e,t-1);s+=1)s!==i&&(s>a||s<i)&&p4(n,s)};function ZGe(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?i=a:r>=e[a]&&r<e[a+1]&&(i=a+1):r>=e[a]&&(i=a);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function QGe(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:a,realIndex:s,snapIndex:o}=e;let l=n,c;const u=f=>{let h=f-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=ZGe(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{const f=Math.min(i.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===a){c!==o&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let d;e.virtual&&i.virtual.enabled&&i.loop?d=u(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:o,snapIndex:c,previousRealIndex:s,realIndex:d,previousIndex:a,activeIndex:l}),e.initialized&&AP(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function JGe(n,e){const t=this,r=t.params;let i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${r.slideClass}, swiper-slide`)&&(i=o)});let a=!1,s;if(i){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===i){a=!0,s=o;break}}if(i&&a)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=s;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var eWe={updateSize:GGe,updateSlides:WGe,updateAutoHeight:qGe,updateSlidesOffset:KGe,updateSlidesProgress:YGe,updateProgress:XGe,updateSlidesClasses:jGe,updateActiveIndex:QGe,updateClickedSlide:JGe};function tWe(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:a}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let s=DGe(a,n);return s+=e.cssOverflowAdjustment(),r&&(s=-s),s||0}function nWe(n,e){const t=this,{rtlTranslate:r,params:i,wrapperEl:a,progress:s}=t;let o=0,l=0;const c=0;t.isHorizontal()?o=r?-n:n:l=n,i.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:l,i.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-l:i.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${l}px, ${c}px)`);let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==s&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function rWe(){return-this.snapGrid[0]}function iWe(){return-this.snapGrid[this.snapGrid.length-1]}function aWe(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),c=a.maxTranslate();let u;if(r&&n>l?u=l:r&&n<c?u=c:u=n,a.updateProgress(u),s.cssMode){const d=a.isHorizontal();if(e===0)o[d?"scrollLeft":"scrollTop"]=-u;else{if(!a.support.smoothScroll)return Sne({swiper:a,targetPosition:-u,side:d?"left":"top"}),!0;o.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(u),t&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(u),t&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var sWe={getTranslate:tWe,setTranslate:nWe,minTranslate:rWe,maxTranslate:iWe,translateTo:aWe};function oWe(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function Ane(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n;const{activeIndex:a,previousIndex:s}=e;let o=r;if(o||(a>s?o="next":a<s?o="prev":o="reset"),e.emit(`transition${i}`),t&&a!==s){if(o==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),o==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function lWe(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),Ane({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function cWe(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),Ane({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var uWe={setTransition:oWe,transitionStart:lWe,transitionEnd:cWe};function dWe(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let s=n;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=a;if(a.animating&&o.preventInteractionOnTransition||!p&&!r&&!i)return!1;const m=Math.min(a.params.slidesPerGroupSkip,s);let v=m+Math.floor((s-m)/a.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const g=-l[v];if(o.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){const _=-Math.floor(g*100),x=Math.floor(c[b]*100),S=Math.floor(c[b+1]*100);typeof c[b+1]<"u"?_>=x&&_<S-(S-x)/2?s=b:_>=x&&_<S&&(s=b+1):_>=x&&(s=b)}if(a.initialized&&s!==d&&(!a.allowSlideNext&&(f?g>a.translate&&g>a.minTranslate():g<a.translate&&g<a.minTranslate())||!a.allowSlidePrev&&g>a.translate&&g>a.maxTranslate()&&(d||0)!==s))return!1;s!==(u||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(g);let y;if(s>d?y="next":s<d?y="prev":y="reset",f&&-g===a.translate||!f&&g===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(g),y!=="reset"&&(a.transitionStart(t,y),a.transitionEnd(t,y)),!1;if(o.cssMode){const b=a.isHorizontal(),_=f?g:-g;if(e===0){const x=a.virtual&&a.params.virtual.enabled;x&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),x&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[b?"scrollLeft":"scrollTop"]=_})):h[b?"scrollLeft":"scrollTop"]=_,x&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return Sne({swiper:a,targetPosition:_,side:b?"left":"top"}),!0;h.scrollTo({[b?"left":"top"]:_,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(g),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,y),e===0?a.transitionEnd(t,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(_){!a||a.destroyed||_.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,y))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function fWe(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;let a=n;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?a=a+i.virtual.slidesBefore:a=i.getSlideIndexByData(a)),i.slideTo(a,e,t,r)}function hWe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:i,params:a,animating:s}=r;if(!i)return r;let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<a.slidesPerGroupSkip?1:o,c=r.virtual&&a.virtual.enabled;if(a.loop){if(s&&!c&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function pWe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this,{params:i,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:c}=r;if(!l)return r;const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=o?r.translate:-r.translate;function f(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const h=f(d),p=a.map(g=>f(g));let m=a[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let g;a.forEach((y,b)=>{h>=y&&(g=b)}),typeof g<"u"&&(m=a[g>0?g-1:g])}let v=0;if(typeof m<"u"&&(v=s.indexOf(m),v<0&&(v=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),i.rewind&&r.isBeginning){const g=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(g,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(v,n,e,t)}),!0;return r.slideTo(v,n,e,t)}function mWe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this;return r.slideTo(r.activeIndex,n,e,t)}function vWe(n,e,t,r){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;let a=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const c=i.snapGrid[o],u=i.snapGrid[o+1];l-c>(u-c)*r&&(a+=i.params.slidesPerGroup)}else{const c=i.snapGrid[o-1],u=i.snapGrid[o];l-c<=(u-c)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,n,e,t)}function gWe(){const n=this,{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let i=n.clickedIndex,a;const s=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<n.loopedSlides-r/2||i>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),i=n.getSlideIndex(Yc(t,`${s}[data-swiper-slide-index="${a}"]`)[0]),MP(()=>{n.slideTo(i)})):n.slideTo(i):i>n.slides.length-r?(n.loopFix(),i=n.getSlideIndex(Yc(t,`${s}[data-swiper-slide-index="${a}"]`)[0]),MP(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var yWe={slideTo:dWe,slideToLoop:fWe,slideNext:hWe,slidePrev:pWe,slideReset:mWe,slideToClosest:vWe,slideToClickedSlide:gWe};function bWe(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;Yc(r,`.${t.slideClass}, swiper-slide`).forEach((a,s)=>{a.setAttribute("data-swiper-slide-index",s)}),e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function _We(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:a,byController:s,byMousewheel:o}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){t&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}const p=h.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10));let m=h.loopedSlides||p;m%h.slidesPerGroup!==0&&(m+=h.slidesPerGroup-m%h.slidesPerGroup),l.loopedSlides=m;const v=[],g=[];let y=l.activeIndex;typeof a>"u"?a=l.getSlideIndex(l.slides.filter(T=>T.classList.contains(h.slideActiveClass))[0]):y=a;const b=r==="next"||!r,_=r==="prev"||!r;let x=0,S=0;if(a<m){x=Math.max(m-a,h.slidesPerGroup);for(let T=0;T<m-a;T+=1){const C=T-Math.floor(T/c.length)*c.length;v.push(c.length-C-1)}}else if(a>l.slides.length-m*2){S=Math.max(a-(l.slides.length-m*2),h.slidesPerGroup);for(let T=0;T<S;T+=1){const C=T-Math.floor(T/c.length)*c.length;g.push(C)}}if(_&&v.forEach(T=>{l.slides[T].swiperLoopMoveDOM=!0,f.prepend(l.slides[T]),l.slides[T].swiperLoopMoveDOM=!1}),b&&g.forEach(T=>{l.slides[T].swiperLoopMoveDOM=!0,f.append(l.slides[T]),l.slides[T].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"&&l.updateSlides(),h.watchSlidesProgress&&l.updateSlidesOffset(),t){if(v.length>0&&_)if(typeof e>"u"){const T=l.slidesGrid[y],M=l.slidesGrid[y+x]-T;o?l.setTranslate(l.translate-M):(l.slideTo(y+x,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=M,l.touchEventsData.currentTranslate=l.translate))}else i&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(g.length>0&&b)if(typeof e>"u"){const T=l.slidesGrid[y],M=l.slidesGrid[y-S]-T;o?l.setTranslate(l.translate-M):(l.slideTo(y-S,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=M,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!s){const T={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(C=>{!C.destroyed&&C.params.loop&&C.loopFix({...T,slideTo:C.params.slidesPerView===h.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...T,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?t:!1})}l.emit("loopFix")}function wWe(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[a]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var xWe={loopCreate:bWe,loopFix:_We,loopDestroy:wWe};function SWe(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function CWe(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var MWe={setGrabCursor:SWe,unsetGrabCursor:CWe};function TWe(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Jc()||r===Ko())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function AWe(n){const e=this,t=Jc(),r=Ko(),i=e.touchEventsData;i.evCache.push(n);const{params:a,touches:s,enabled:o}=e;if(!o||!a.simulateTouch&&n.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(a.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,h=!!(l.target&&l.target.shadowRoot);if(a.noSwiping&&(h?TWe(f,c):c.closest(f))){e.allowClick=!0;return}if(a.swipeHandler&&!c.closest(a.swipeHandler))return;s.currentX=l.pageX,s.currentY=l.pageY;const p=s.currentX,m=s.currentY,v=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,g=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(v&&(p<=g||p>=r.innerWidth-g))if(v==="prevent")n.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=m,i.touchStartTime=uM(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let y=!0;c.matches(i.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==c&&t.activeElement.blur();const b=y&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||b)&&!c.isContentEditable&&l.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function EWe(n){const e=Jc(),t=this,r=t.touchEventsData,{params:i,touches:a,rtlTranslate:s,enabled:o}=t;if(!o||!i.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}const c=r.evCache.findIndex(T=>T.pointerId===l.pointerId);c>=0&&(r.evCache[c]=l);const u=r.evCache.length>1?r.evCache[0]:l,d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){a.startX=d,a.startY=f;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:d,startY:f,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:d,currentY:f}),r.touchStartTime=uM());return}if(i.touchReleaseOnEdges&&!i.loop){if(t.isVertical()){if(f<a.startY&&t.translate<=t.maxTranslate()||f>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<a.startX&&t.translate<=t.maxTranslate()||d>a.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}if(r.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;a.currentX=d,a.currentY=f;const h=a.currentX-a.startX,p=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(h**2+p**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let T;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:h*h+p*p>=25&&(T=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,r.isScrolling=t.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let m=t.isHorizontal()?h:p,v=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(m=Math.abs(m)*(s?1:-1),v=Math.abs(v)*(s?1:-1)),a.diff=m,m*=i.touchRatio,s&&(m=-m,v=-v);const g=t.touchesDirection;t.swipeDirection=m>0?"prev":"next",t.touchesDirection=v>0?"prev":"next";const y=t.params.loop&&!i.cssMode,b=t.swipeDirection==="next"&&t.allowSlideNext||t.swipeDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(y&&b&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(T)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let _;r.isMoved&&g!==t.touchesDirection&&y&&b&&Math.abs(m)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),_=!0),t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let x=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),m>0?(y&&b&&!_&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(x=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+m)**S))):m<0&&(y&&b&&!_&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(x=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-m)**S))),x&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function IWe(n){const e=this,t=e.touchEventsData,r=t.evCache.findIndex(b=>b.pointerId===n.pointerId);if(r>=0&&t.evCache.splice(r,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:a,rtlTranslate:s,slidesGrid:o,enabled:l}=e;if(!l||!i.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",c),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}i.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=uM(),d=u-t.touchStartTime;if(e.allowClick){const b=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(b&&b[0]||c.target,b),e.emit("tap click",c),d<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(t.lastClickTime=uM(),MP(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let f;if(i.followFinger?f=s?e.translate:-e.translate:f=-t.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}let h=0,p=e.slidesSizesGrid[0];for(let b=0;b<o.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){const _=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof o[b+_]<"u"?f>=o[b]&&f<o[b+_]&&(h=b,p=o[b+_]-o[b]):f>=o[b]&&(h=b,p=o[o.length-1]-o[o.length-2])}let m=null,v=null;i.rewind&&(e.isBeginning?v=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const g=(f-o[h])/p,y=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?m:h+y):e.slideTo(h)),e.swipeDirection==="prev"&&(g>1-i.longSwipesRatio?e.slideTo(h+y):v!==null&&g<0&&Math.abs(g)>i.longSwipesRatio?e.slideTo(v):e.slideTo(h))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(h+y):e.slideTo(h):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:h+y),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:h))}}function uV(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=n,s=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const o=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!o?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!s?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function RWe(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function PWe(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i;const a=n.maxTranslate()-n.minTranslate();a===0?i=0:i=(n.translate-n.minTranslate())/a,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function DWe(n){const e=this;G2(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let dV=!1;function kWe(){}const Ene=(n,e)=>{const t=Jc(),{params:r,el:i,wrapperEl:a,device:s}=n,o=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;i[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:o}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",n.onClick,!0),r.cssMode&&a[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",uV,!0):n[c]("observerUpdate",uV,!0),i[l]("load",n.onLoad,{capture:!0})};function LWe(){const n=this,e=Jc(),{params:t}=n;n.onTouchStart=AWe.bind(n),n.onTouchMove=EWe.bind(n),n.onTouchEnd=IWe.bind(n),t.cssMode&&(n.onScroll=PWe.bind(n)),n.onClick=RWe.bind(n),n.onLoad=DWe.bind(n),dV||(e.addEventListener("touchstart",kWe),dV=!0),Ene(n,"on")}function NWe(){Ene(this,"off")}var OWe={attachEvents:LWe,detachEvents:NWe};const fV=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function BWe(){const n=this,{realIndex:e,initialized:t,params:r,el:i}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(!s||n.currentBreakpoint===s)return;const l=(s in a?a[s]:void 0)||n.originalParams,c=fV(n,r),u=fV(n,l),d=r.enabled;c&&!u?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(i.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(g=>{if(typeof l[g]>"u")return;const y=r[g]&&r[g].enabled,b=l[g]&&l[g].enabled;y&&!b&&n[g].disable(),!y&&b&&n[g].enable()});const f=l.direction&&l.direction!==r.direction,h=r.loop&&(l.slidesPerView!==r.slidesPerView||f),p=r.loop;f&&t&&n.changeDirection(),ko(n.params,l);const m=n.params.enabled,v=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!m?n.disable():!d&&m&&n.enable(),n.currentBreakpoint=s,n.emit("_beforeBreakpoint",l),t&&(h?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!p&&v?(n.loopCreate(e),n.updateSlides()):p&&!v&&n.loopDestroy()),n.emit("breakpoint",l)}function FWe(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const i=Ko(),a=e==="window"?i.innerHeight:t.clientHeight,s=Object.keys(n).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:a*l,point:o}}return{value:o,point:o}});s.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<s.length;o+=1){const{point:l,value:c}=s[o];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var zWe={setBreakpoint:BWe,getBreakpoint:FWe};function UWe(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function HWe(){const n=this,{classNames:e,params:t,rtl:r,el:i,device:a}=n,s=UWe(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...s),i.classList.add(...e),n.emitContainerClasses()}function VWe(){const n=this,{el:e,classNames:t}=n;e.classList.remove(...t),n.emitContainerClasses()}var $We={addClasses:HWe,removeClasses:VWe};function GWe(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const i=n.slides.length-1,a=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var WWe={checkOverflow:GWe},EP={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function qWe(n,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){ko(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in a)){ko(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),ko(e,r)}}const m4={eventsEmitter:$Ge,update:eWe,translate:sWe,transition:uWe,slide:yWe,loop:xWe,grabCursor:MWe,events:OWe,breakpoints:zWe,checkOverflow:WWe,classes:$We},v4={};let b8=class Bu{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=ko({},t),e&&!t.el&&(t.el=e);const s=Jc();if(t.el&&typeof t.el=="string"&&s.querySelectorAll(t.el).length>1){const u=[];return s.querySelectorAll(t.el).forEach(d=>{const f=ko({},t,{el:d});u.push(new Bu(f))}),u}const o=this;o.__swiper__=!0,o.support=Tne(),o.device=FGe({userAgent:t.userAgent}),o.browser=UGe(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const l={};o.modules.forEach(u=>{u({params:t,swiper:o,extendParams:qWe(t,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=ko({},EP,l);return o.params=ko({},c,v4,t),o.originalParams=ko({},o.params),o.passedParams=ko({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:t,params:r}=this,i=Yc(t,`.${r.slideClass}, swiper-slide`),a=dM(i[0]);return dM(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Yc(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),s=(r.maxTranslate()-i)*e+i;r.translateTo(s,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:i,slides:a,slidesGrid:s,slidesSizesGrid:o,size:l,activeIndex:c}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=a[c]?a[c].swiperSlideSize:0,f;for(let h=c+1;h<a.length;h+=1)a[h]&&!f&&(d+=a[h].swiperSlideSize,u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)a[h]&&!f&&(d+=a[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<a.length;d+=1)(t?s[d]+o[d]-s[c]<l:s[d]-s[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)s[c]-s[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&G2(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const s=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(s.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Yc(r,i())[0])();return!s&&t.params.createElements&&(s=Cne("div",t.params.wrapperClass),r.append(s),Yc(r,`.${t.params.slideClass}`).forEach(o=>{s.append(o)})),Object.assign(t,{el:r,wrapperEl:s,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Cf(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Cf(r,"direction")==="rtl"),wrongRTL:Cf(s,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?G2(t,a):a.addEventListener("load",s=>{G2(t,s.target)})}),AP(t),t.initialized=!0,AP(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:i,el:a,wrapperEl:s,slides:o}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),a.removeAttribute("style"),s.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el.swiper=null,RGe(r)),r.destroyed=!0),null}static extendDefaults(e){ko(v4,e)}static get extendedDefaults(){return v4}static get defaults(){return EP}static installModule(e){Bu.prototype.__modules__||(Bu.prototype.__modules__=[]);const t=Bu.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Bu.installModule(t)),Bu):(Bu.installModule(e),Bu)}};Object.keys(m4).forEach(n=>{Object.keys(m4[n]).forEach(e=>{b8.prototype[e]=m4[n][e]})});b8.use([HGe,VGe]);const Ine=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fm(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Xp(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:fm(e[r])&&fm(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Xp(n[r],e[r]):n[r]=e[r]})}function Rne(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function Pne(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function Dne(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function kne(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function KWe(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function YWe(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:l}=n;const c=i.filter(M=>M!=="children"&&M!=="direction"&&M!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let v,g,y,b,_,x,S,T;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(v=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(g=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(y=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(b=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||a)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const C=M=>{e[M]&&(e[M].destroy(),M==="navigation"?(e.isElement&&(e[M].prevEl.remove(),e[M].nextEl.remove()),u[M].prevEl=void 0,u[M].nextEl=void 0,e[M].prevEl=void 0,e[M].nextEl=void 0):(e.isElement&&e[M].el.remove(),u[M].el=void 0,e[M].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?x=!0:!u.loop&&r.loop?S=!0:T=!0),c.forEach(M=>{if(fm(u[M])&&fm(r[M]))Xp(u[M],r[M]),(M==="navigation"||M==="pagination"||M==="scrollbar")&&"enabled"in r[M]&&!r[M].enabled&&C(M);else{const A=r[M];(A===!0||A===!1)&&(M==="navigation"||M==="pagination"||M==="scrollbar")?A===!1&&C(M):u[M]=r[M]}}),c.includes("controller")&&!g&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&t&&p&&u.virtual.enabled&&(p.slides=t,p.update(!0)),i.includes("children")&&t&&u.loop&&(T=!0),v&&m.init()&&m.update(!0),g&&(e.controller.control=u.controller.control),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),b&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),_&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),e.el.appendChild(s))),a&&(u.navigation.nextEl=a),s&&(u.navigation.prevEl=s),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(x||T)&&e.loopDestroy(),(S||T)&&e.loopCreate(),e.update()}function hV(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},i={};Xp(t,EP),t._emitClasses=!0,t.init=!1;const a={},s=Ine.map(l=>l.replace(/_/,"")),o=Object.assign({},n);return Object.keys(o).forEach(l=>{typeof n[l]>"u"||(s.indexOf(l)>=0?fm(n[l])?(t[l]={},i[l]={},Xp(t[l],n[l]),Xp(i[l],n[l])):(t[l]=n[l],i[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:a[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:i,rest:a,events:r}}function XWe(n,e){let{el:t,nextEl:r,prevEl:i,paginationEl:a,scrollbarEl:s,swiper:o}=n;Rne(e)&&r&&i&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),Pne(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),Dne(e)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(t)}function jWe(n,e,t,r,i){const a=[];if(!e)return a;const s=l=>{a.indexOf(l)<0&&a.push(l)};if(t&&r){const l=r.map(i),c=t.map(i);l.join("")!==c.join("")&&s("children"),r.length!==t.length&&s("children")}return Ine.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(fm(n[l])&&fm(e[l])){const c=Object.keys(n[l]),u=Object.keys(e[l]);c.length!==u.length?s(l):(c.forEach(d=>{n[l][d]!==e[l][d]&&s(l)}),u.forEach(d=>{n[l][d]!==e[l][d]&&s(l)}))}else n[l]!==e[l]&&s(l)}),a}const ZWe=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function g4(n,e,t){n===void 0&&(n={});const r=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},a=(s,o)=>{Array.isArray(s)&&s.forEach(l=>{const c=typeof l.type=="symbol";o==="default"&&(o="container-end"),c&&l.children?a(l.children,o):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?r.push(l):i[o]&&i[o].push(l)})};return Object.keys(n).forEach(s=>{if(typeof n[s]!="function")return;const o=n[s]();a(o,s)}),t.value=e.value,e.value=r,{slides:r,slots:i}}function QWe(n,e,t){if(!t)return null;const r=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=n.value.isHorizontal()?{[n.value.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:s}=t,o=n.value.params.loop?-e.length:0,l=n.value.params.loop?e.length*2:e.length,c=[];for(let u=o;u<l;u+=1)u>=a&&u<=s&&c.push(e[r(u)]);return c.map(u=>(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=n,u.props.style=i,Gt(u.type,{...u.props},u.children)))}const JWe={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(n,e){let{slots:t,emit:r}=e;const{tag:i,wrapperTag:a}=n,s=ee("swiper"),o=ee(null),l=ee(!1),c=ee(!1),u=ee(null),d=ee(null),f=ee(null),h={value:[]},p={value:[]},m=ee(null),v=ee(null),g=ee(null),y=ee(null),{params:b,passedParams:_}=hV(n,!1);g4(t,h,p),f.value=_,p.value=h.value;const x=()=>{g4(t,h,p),l.value=!0};b.onAny=function(C){for(var M=arguments.length,A=new Array(M>1?M-1:0),I=1;I<M;I++)A[I-1]=arguments[I];r(C,...A)},Object.assign(b.on,{_beforeBreakpoint:x,_containerClasses(C,M){s.value=M}});const S={...b};if(delete S.wrapperClass,d.value=new b8(S),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const C={cache:!1,slides:h.value,renderExternal:M=>{o.value=M},renderExternalUpdate:!1};Xp(d.value.params.virtual,C),Xp(d.value.originalParams.virtual,C)}Nl(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:C}=hV(n,!1),M=jWe(C,f.value,h.value,p.value,A=>A.props&&A.props.key);f.value=C,(M.length||l.value)&&d.value&&!d.value.destroyed&&YWe({swiper:d.value,slides:h.value,passedParams:C,changedParams:M,nextEl:m.value,prevEl:v.value,scrollbarEl:y.value,paginationEl:g.value}),l.value=!1}),$n("swiper",d),dt(o,()=>{Yt(()=>{ZWe(d.value)})}),pn(()=>{u.value&&(XWe({el:u.value,nextEl:m.value,prevEl:v.value,paginationEl:g.value,scrollbarEl:y.value,swiper:d.value},b),r("swiper",d.value))}),yr(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function T(C){return b.virtual?QWe(d,C,o.value):(C.forEach((M,A)=>{M.props||(M.props={}),M.props.swiperRef=d,M.props.swiperSlideIndex=A}),C)}return()=>{const{slides:C,slots:M}=g4(t,h,p);return Gt(i,{ref:u,class:kne(s.value)},[M["container-start"],Gt(a,{class:KWe(b.wrapperClass)},[M["wrapper-start"],T(C),M["wrapper-end"]]),Rne(n)&&[Gt("div",{ref:v,class:"swiper-button-prev"}),Gt("div",{ref:m,class:"swiper-button-next"})],Dne(n)&&Gt("div",{ref:y,class:"swiper-scrollbar"}),Pne(n)&&Gt("div",{ref:g,class:"swiper-pagination"}),M["container-end"]])}}},eqe={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(n,e){let{slots:t}=e,r=!1;const{swiperRef:i}=n,a=ee(null),s=ee("swiper-slide"),o=ee(!1);function l(d,f,h){f===a.value&&(s.value=h)}pn(()=>{!i||!i.value||(i.value.on("_slideClass",l),r=!0)}),dk(()=>{r||!i||!i.value||(i.value.on("_slideClass",l),r=!0)}),Nl(()=>{!a.value||!i||!i.value||(typeof n.swiperSlideIndex<"u"&&(a.value.swiperSlideIndex=n.swiperSlideIndex),i.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide"))}),yr(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=U(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0}));$n("swiperSlide",c);const u=()=>{o.value=!0};return()=>Gt(n.tag,{class:kne(`${s.value}`),ref:a,"data-swiper-slide-index":typeof n.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?n.swiperSlideIndex:n.virtualIndex,onLoadCapture:u},n.zoom?Gt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof n.zoom=="number"?n.zoom:void 0},[t.default&&t.default(c.value),n.lazy&&!o.value&&Gt("div",{class:"swiper-lazy-preloader"})]):[t.default&&t.default(c.value),n.lazy&&!o.value&&Gt("div",{class:"swiper-lazy-preloader"})])}};function Lne(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let a=Yc(n.el,`.${r[i]}`)[0];a||(a=Cne("div",r[i]),a.className=r[i],n.el.append(a)),t[i]=a,e[i]=a}}),t}function pV(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const a=m=>(Array.isArray(m)?m:[m]).filter(v=>!!v);function s(m){let v;return m&&typeof m=="string"&&e.isElement&&(v=e.el.querySelector(m),v)?v:(m&&(typeof m=="string"&&(v=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&typeof m=="string"&&v.length>1&&e.el.querySelectorAll(m).length===1&&(v=e.el.querySelector(m))),m&&!v?m:v)}function o(m,v){const g=e.params.navigation;m=a(m),m.forEach(y=>{y&&(y.classList[v?"add":"remove"](...g.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=v),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](g.lockClass))})}function l(){const{nextEl:m,prevEl:v}=e.navigation;if(e.params.loop){o(v,!1),o(m,!1);return}o(v,e.isBeginning&&!e.params.rewind),o(m,e.isEnd&&!e.params.rewind)}function c(m){m.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(m){m.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=Lne(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let v=s(m.nextEl),g=s(m.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:g}),v=a(v),g=a(g);const y=(b,_)=>{b&&b.addEventListener("click",_==="next"?u:c),!e.enabled&&b&&b.classList.add(...m.lockClass.split(" "))};v.forEach(b=>y(b,"next")),g.forEach(b=>y(b,"prev"))}function f(){let{nextEl:m,prevEl:v}=e.navigation;m=a(m),v=a(v);const g=(y,b)=>{y.removeEventListener("click",b==="next"?u:c),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(y=>g(y,"next")),v.forEach(y=>g(y,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:m,prevEl:v}=e.navigation;if(m=a(m),v=a(v),e.enabled){l();return}[...m,...v].filter(g=>!!g).forEach(g=>g.classList.add(e.params.navigation.lockClass))}),r("click",(m,v)=>{let{nextEl:g,prevEl:y}=e.navigation;g=a(g),y=a(y);const b=v.target;if(e.params.navigation.hideOnClick&&!y.includes(b)&&!g.includes(b)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let _;g.length?_=g[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(_=y[0].classList.contains(e.params.navigation.hiddenClass)),i(_===!0?"navigationShow":"navigationHide"),[...g,...y].filter(x=>!!x).forEach(x=>x.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:h,disable:p,update:l,init:d,destroy:f})}function t1(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function mV(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let s,o=0;const l=y=>(Array.isArray(y)?y:[y]).filter(b=>!!b);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(y,b){const{bulletActiveClass:_}=e.params.pagination;y&&(y=y[`${b==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${_}-${b}`),y=y[`${b==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${_}-${b}-${b}`)))}function d(y){const b=y.target.closest(t1(e.params.pagination.bulletClass));if(!b)return;y.preventDefault();const _=dM(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===_)return;const x=e.realIndex,S=e.getSlideIndexByData(_),T=e.getSlideIndexByData(e.realIndex),C=M=>{const A=e.activeIndex;e.loopFix({direction:M,activeSlideIndex:S,slideTo:!1});const I=e.activeIndex;A===I&&e.slideToLoop(x,0,!1,!0)};if(S>e.slides.length-e.loopedSlides)C(S>T?"next":"prev");else if(e.params.centeredSlides){const M=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));S<Math.floor(M/2)&&C("prev")}e.slideToLoop(_)}else e.slideTo(_)}function f(){const y=e.rtl,b=e.params.pagination;if(c())return;let _=e.pagination.el;_=l(_);let x,S;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,x=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(x=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,x=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const M=e.pagination.bullets;let A,I,D;if(b.dynamicBullets&&(s=TP(M[0],e.isHorizontal()?"width":"height",!0),_.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${s*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&S!==void 0&&(o+=x-(S||0),o>b.dynamicMainBullets-1?o=b.dynamicMainBullets-1:o<0&&(o=0)),A=Math.max(x-o,0),I=A+(Math.min(M.length,b.dynamicMainBullets)-1),D=(I+A)/2),M.forEach(L=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(B=>`${b.bulletActiveClass}${B}`)].map(B=>typeof B=="string"&&B.includes(" ")?B.split(" "):B).flat();L.classList.remove(...F)}),_.length>1)M.forEach(L=>{const F=dM(L);F===x?L.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),b.dynamicBullets&&(F>=A&&F<=I&&L.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),F===A&&u(L,"prev"),F===I&&u(L,"next"))});else{const L=M[x];if(L&&L.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&M.forEach((F,B)=>{F.setAttribute("part",B===x?"bullet-active":"bullet")}),b.dynamicBullets){const F=M[A],B=M[I];for(let k=A;k<=I;k+=1)M[k]&&M[k].classList.add(...`${b.bulletActiveClass}-main`.split(" "));u(F,"prev"),u(B,"next")}}if(b.dynamicBullets){const L=Math.min(M.length,b.dynamicMainBullets+4),F=(s*L-s)/2-D*s,B=y?"right":"left";M.forEach(k=>{k.style[e.isHorizontal()?B:"top"]=`${F}px`})}}_.forEach((M,A)=>{if(b.type==="fraction"&&(M.querySelectorAll(t1(b.currentClass)).forEach(I=>{I.textContent=b.formatFractionCurrent(x+1)}),M.querySelectorAll(t1(b.totalClass)).forEach(I=>{I.textContent=b.formatFractionTotal(C)})),b.type==="progressbar"){let I;b.progressbarOpposite?I=e.isHorizontal()?"vertical":"horizontal":I=e.isHorizontal()?"horizontal":"vertical";const D=(x+1)/C;let L=1,F=1;I==="horizontal"?L=D:F=D,M.querySelectorAll(t1(b.progressbarFillClass)).forEach(B=>{B.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${F})`,B.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(M.innerHTML=b.renderCustom(e,x+1,C),A===0&&i("paginationRender",M)):(A===0&&i("paginationRender",M),i("paginationUpdate",M)),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](b.lockClass)})}function h(){const y=e.params.pagination;if(c())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let _=e.pagination.el;_=l(_);let x="";if(y.type==="bullets"){let S=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>b&&(S=b);for(let T=0;T<S;T+=1)y.renderBullet?x+=y.renderBullet.call(e,T,y.bulletClass):x+=`<${y.bulletElement} ${e.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?x=y.renderFraction.call(e,y.currentClass,y.totalClass):x=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?x=y.renderProgressbar.call(e,y.progressbarFillClass):x=`<span class="${y.progressbarFillClass}"></span>`),e.pagination.bullets=[],_.forEach(S=>{y.type!=="custom"&&(S.innerHTML=x||""),y.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(t1(y.bulletClass)))}),y.type!=="custom"&&i("paginationRender",_[0])}function p(){e.params.pagination=Lne(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let b;typeof y.el=="string"&&e.isElement&&(b=e.el.querySelector(y.el)),!b&&typeof y.el=="string"&&(b=[...document.querySelectorAll(y.el)]),b||(b=y.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(y.el)],b.length>1&&(b=b.filter(_=>Mne(_,".swiper")[0]===e.el)[0])),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=l(b),b.forEach(_=>{y.type==="bullets"&&y.clickable&&_.classList.add(...(y.clickableClass||"").split(" ")),_.classList.add(y.modifierClass+y.type),_.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(_.classList.add(`${y.modifierClass}${y.type}-dynamic`),o=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&_.classList.add(y.progressbarOppositeClass),y.clickable&&_.addEventListener("click",d),e.enabled||_.classList.add(y.lockClass)}))}function m(){const y=e.params.pagination;if(c())return;let b=e.pagination.el;b&&(b=l(b),b.forEach(_=>{_.classList.remove(y.hiddenClass),_.classList.remove(y.modifierClass+y.type),_.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(_.classList.remove(...(y.clickableClass||"").split(" ")),_.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(_=>_.classList.remove(...y.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:b}=e.pagination;b=l(b),b.forEach(_=>{_.classList.remove(y.horizontalClass,y.verticalClass),_.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?g():(p(),h(),f())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),r("snapIndexChange",()=>{f()}),r("snapGridLengthChange",()=>{h(),f()}),r("destroy",()=>{m()}),r("enable disable",()=>{let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{f()}),r("click",(y,b)=>{const _=b.target,x=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&x&&x.length>0&&!_.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&_===e.navigation.nextEl||e.navigation.prevEl&&_===e.navigation.prevEl))return;const S=x[0].classList.contains(e.params.pagination.hiddenClass);i(S===!0?"paginationShow":"paginationHide"),x.forEach(T=>T.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},g=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:v,disable:g,render:h,update:f,init:p,destroy:m})}function vV(n){let{swiper:e,extendParams:t,on:r,emit:i,params:a}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,o,l=a&&a.autoplay?a.autoplay.delay:3e3,c=a&&a.autoplay?a.autoplay.delay:3e3,u,d=new Date().getTime,f,h,p,m,v,g;function y(H){!e||e.destroyed||!e.wrapperEl||H.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),M())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const H=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=H,i("autoplayTimeLeft",H,H/l),o=requestAnimationFrame(()=>{b()})},_=()=>{let H;return e.virtual&&e.params.virtual.enabled?H=e.slides.filter(O=>O.classList.contains("swiper-slide-active"))[0]:H=e.slides[e.activeIndex],H?parseInt(H.getAttribute("data-swiper-autoplay"),10):void 0},x=H=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),b();let z=typeof H>"u"?e.params.autoplay.delay:H;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const O=_();!Number.isNaN(O)&&O>0&&typeof H>"u"&&(z=O,l=O,c=O),u=z;const G=e.params.speed,X=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(G,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,G,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(G,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,G,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return z>0?(clearTimeout(s),s=setTimeout(()=>{X()},z)):requestAnimationFrame(()=>{X()}),z},S=()=>{e.autoplay.running=!0,x(),i("autoplayStart")},T=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(o),i("autoplayStop")},C=(H,z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),H||(g=!0);const O=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):M()};if(e.autoplay.paused=!0,z){v&&(u=e.params.autoplay.delay),v=!1,O();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),O())},M=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),g?(g=!1,x(u)):x(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const H=Jc();H.visibilityState==="hidden"&&(g=!0,C(!0)),H.visibilityState==="visible"&&M()},I=H=>{H.pointerType==="mouse"&&(g=!0,!(e.animating||e.autoplay.paused)&&C(!0))},D=H=>{H.pointerType==="mouse"&&e.autoplay.paused&&M()},L=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",D))},F=()=>{e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",D)},B=()=>{Jc().addEventListener("visibilitychange",A)},k=()=>{Jc().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(L(),B(),d=new Date().getTime(),S())}),r("destroy",()=>{F(),k(),e.autoplay.running&&T()}),r("beforeTransitionStart",(H,z,O)=>{e.destroyed||!e.autoplay.running||(O||!e.params.autoplay.disableOnInteraction?C(!0,!0):T())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){T();return}h=!0,p=!1,g=!1,m=setTimeout(()=>{g=!0,p=!0,C(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!h)){if(clearTimeout(m),clearTimeout(s),e.params.autoplay.disableOnInteraction){p=!1,h=!1;return}p&&e.params.cssMode&&M(),p=!1,h=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(v=!0)}),Object.assign(e.autoplay,{start:S,stop:T,pause:C,resume:M})}const tqe={components:{Swiper:JWe,SwiperSlide:eqe,Navigation:pV,Pagination:mV,Autoplay:vV},data(){return{modules:[pV,mV,vV],image_paths:["./cover_show/Culture.png","./cover_show/Daily Life.png","./cover_show/Education.png","./cover_show/Entertainment.png","./cover_show/Environment.png","./cover_show/Politics.png","./cover_show/Safety.png","./cover_show/Sport.png","./cover_show/technology.png"]}}},nqe={class:"slide-container"};function rqe(n,e,t,r,i,a){const s=Et("el-image"),o=Et("swiper-slide"),l=Et("swiper"),c=Et("el-col"),u=Et("el-row");return V(),rt(u,{justify:"center"},{default:be(()=>[se(c,{span:24},{default:be(()=>[se(l,{loop:!0,slidesPerView:1,spaceBetween:20,breakpoints:{600:{slidesPerView:2},800:{slidesPerView:3}},modules:i.modules,navigation:{hideOnClick:!0},pagination:{hideOnClick:!0,clickable:!0,type:"bullets"},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}},{default:be(()=>[(V(!0),ue(zt,null,In(i.image_paths,d=>(V(),rt(o,{key:d},{default:be(()=>[me("div",nqe,[se(s,{src:d},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modules"])]),_:1})]),_:1})}const iqe=Ha(tqe,[["render",rqe]]),aqe="/News-M3F/video/video.mp4",sqe={},dA=n=>(yc("data-v-38c254ab"),n=n(),bc(),n),oqe=dA(()=>me("h1",{class:"section-title"},"Explainer Video",-1)),lqe=dA(()=>me("video",{controls:"",muted:"",preload:"",playsinline:""},[me("source",{src:aqe,type:"video/mp4"})],-1)),cqe=dA(()=>me("iframe",{src:"//www.bilibili.com/blackboard/html5mobileplayer.html?bvid=BV1zw68YsEP9",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"},null,-1)),uqe=dA(()=>me("iframe",{src:"https://www.youtube.com/embed/wjZofJX0v4M?si=BFvRyc3n3fFV_f1G",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,-1));function dqe(n,e){const t=Et("el-divider"),r=Et("el-row"),i=Et("el-container"),a=Et("el-col");return V(),ue("div",null,[se(t),se(r,{justify:"center"},{default:be(()=>[oqe]),_:1}),se(r,{justify:"center"},{default:be(()=>[se(a,{xs:24,sm:20,md:16,lg:12,xl:10},{default:be(()=>[se(i,{class:"video-container"},{default:be(()=>[lqe]),_:1}),se(i,{class:"video-container"},{default:be(()=>[cqe]),_:1}),se(i,{class:"video-container"},{default:be(()=>[uqe]),_:1})]),_:1})]),_:1})])}const fqe=Ha(sqe,[["render",dqe],["__scopeId","data-v-38c254ab"]]),hqe=n=>(yc("data-v-2d273af8"),n=n(),bc(),n),pqe=hqe(()=>me("h1",{class:"section-title"},"Qualitative Results",-1)),mqe={class:"demo-image"},vqe={class:"block"},gqe=["src"],yqe={class:"demonstration"},bqe={class:"demo-image"},_qe={class:"block"},wqe=["src"],xqe={class:"demonstration"},Sqe=10,Cqe="./image_slider/huaqiang/input/",Mqe="./image_slider/huaqiang/output/",Tqe=0,Aqe=9,Eqe={__name:"ImageSlider",setup(n){const e=[],t=[];let r=ee(""),i=ee(""),a=ee(0),s=ee(!0);const o=()=>{const c=[];for(var u=0;u<Sqe;u++){var d=Cqe+String(u)+".png";const h=new Image;e[u]=h;const p=new Promise(g=>{h.onload=g});h.src=d,c.push(p);var f=Mqe+String(u)+".png";const m=new Image;t[u]=m;const v=new Promise(g=>{m.onload=g});m.src=f,c.push(v)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadInterpolationImages finished")})};pn(()=>{o(),l(0)});const l=c=>{r.value=e[c].src,i.value=t[c].src};return(c,u)=>{const d=Et("el-divider"),f=Et("el-row"),h=Et("el-skeleton-item"),p=Et("el-skeleton"),m=Et("el-col"),v=Et("el-slider");return V(),ue("div",null,[se(d),se(f,{justify:"center"},{default:be(()=>[pqe]),_:1}),se(f,{justify:"center"},{default:be(()=>[se(m,null,{default:be(()=>[se(f,{justify:"center",gutter:20},{default:be(()=>[se(m,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[me("div",mqe,[me("div",vqe,[se(p,{style:{width:"100%"},loading:w(s),animated:"",throttle:1e3},{template:be(()=>[se(h,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[me("img",{src:w(r),style:{width:"100%","object-fit":"contain"}},null,8,gqe)]),_:1},8,["loading"]),me("span",yqe,"input: "+Ct(w(r)),1)])])]),_:1}),se(m,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[me("div",bqe,[me("div",_qe,[se(p,{style:{width:"100%"},loading:w(s),animated:"",throttle:1e3},{template:be(()=>[se(h,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[me("img",{src:w(i),style:{width:"100%","object-fit":"contain"}},null,8,wqe)]),_:1},8,["loading"]),me("span",xqe,"output: "+Ct(w(i)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),se(f,{justify:"center"},{default:be(()=>[se(m,{span:12},{default:be(()=>[se(v,{modelValue:w(a),"onUpdate:modelValue":u[0]||(u[0]=g=>Kr(a)?a.value=g:a=g),min:Tqe,max:Aqe,onInput:l},null,8,["modelValue"])]),_:1})]),_:1})])}}},Iqe=Ha(Eqe,[["__scopeId","data-v-2d273af8"]]),Rqe=["innerHTML"],Pqe=["id"],Dqe=["alt","src"],kqe=["alt","src"],Lqe=["innerHTML"],Nqe=Ie({__name:"VueCompareImage",props:{aspectRatio:{default:"wider"},handle:{type:[String,Number,Boolean]},handleSize:{default:40},hover:{type:Boolean,default:!1},slideOnClick:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!1},keyboardStep:{default:.01},leftImage:{},leftImageAlt:{},leftImageCss:{},leftImageLabel:{},onSliderPositionChange:{type:Function,default:()=>{}},rightImage:{},rightImageAlt:{},rightImageCss:{},rightImageLabel:{},skeleton:{type:[String,Number,Boolean]},sliderLineColor:{default:"#ffffff"},sliderLineWidth:{default:2},sliderPositionPercentage:{default:.5},vertical:{type:Boolean,default:!1}},emits:["slideStart","slideEnd","isSliding"],setup(n,{emit:e}){const t=n,{aspectRatio:r,leftImage:i,leftImageAlt:a,leftImageLabel:s,leftImageCss:o,rightImage:l,rightImageAlt:c,rightImageLabel:u,rightImageCss:d,hover:f,handle:h,handleSize:p,sliderLineWidth:m,sliderPositionPercentage:v,skeleton:g,sliderLineColor:y,vertical:b,onSliderPositionChange:_,slideOnClick:x,keyboard:S,keyboardStep:T}=la(t),C=Math.random().toString(36).substr(2,9),M=!b.value,A=ee(),I=ee(null),D=ee(null),L=ee(v.value),F=ee(0),B=ee(0),k=ee(!1),H=ee(!1),z=ee(!1),O=U(()=>k.value&&H.value),G=U(()=>L.value),X=U(()=>1-L.value),J=U(()=>({display:O.value?"flex":"none",height:`${B.value}px`})),Q=U(()=>({clipPath:M?`inset(0px 0px 0px ${F.value*G.value}px)`:`inset(${B.value*G.value}px 0px 0px 0px)`,...d})),re=U(()=>({clipPath:M?`inset(0px ${F.value*X.value}px 0px 0px)`:`inset(0px 0px ${B.value*X.value}px 0px)`,...o})),de=U(()=>({cursor:!f.value&&M?"ew-resize !important":!f.value&&!M?"ns-resize !important":void 0,flexDirection:M?"column":"row",height:M?"100%":`${p.value}px`,left:M?`${F.value*L.value-p.value/2}px`:"0",top:M?"0":`${B.value*L.value-p.value/2}px`,width:M?`${p.value}px`:"100%"})),le=U(()=>({background:y.value,height:M?"100%":`${m.value}px`,width:M?`${m.value}px`:"100%"})),fe=U(()=>({border:`${m.value}px solid ${y.value}`,height:`${p.value}px`,width:`${p.value}px`,transform:M?"none":"rotate(90deg)"})),Ee=U(()=>({border:`inset ${p.value*.15}px rgba(0,0,0,0)`,borderRight:`${p.value*.15}px solid ${y.value}`,marginLeft:`-${p.value*.25}px`,marginRight:`${p.value*.25}px`})),Re=U(()=>({border:`inset ${p.value*.15}px rgba(0,0,0,0)`,borderLeft:`${p.value*.15}px solid ${y.value}`,marginRight:`-${p.value*.25}px`})),He=U(()=>({left:M?"5%":"50%",opacity:z.value?0:1,top:M?"50%":"3%",transform:M?"translate(0,-50%)":"translate(-50%, 0)"})),$e=U(()=>({opacity:z.value?0:1,left:M?"unset":"50%",right:M?"5%":"unset",top:M?"50%":"unset",bottom:M?"unset":"3%",transform:M?"translate(0,-50%)":"translate(-50%, 0)"})),K=U(()=>({clip:M?`rect(auto, ${F.value*L.value}px, auto, auto)`:`rect(auto, auto, ${B.value*L.value}px, auto)`})),ce=U(()=>({clipPath:M?`inset(0px 0px 0px ${F.value*G.value}px)`:`inset(${B.value*G.value}px 0px 0px 0px)`}));function ie(Z){const ve=Z,Ne=ve.touches?ve.touches[0].pageX:ve.pageX,Ke=ve.touches?ve.touches[0].pageY:ve.pageY,mt=Ne-window.pageXOffset,vt=Ke-window.pageYOffset,Me=I.value.getBoundingClientRect();let ht=M?mt-Me.left:vt-Me.top;const st=0+m.value/2,$=M?F.value-m.value/2:B.value-m.value/2;ht<st&&(ht=st),ht>$&&(ht=$),L.value=M?ht/F.value:ht/B.value,_.value&&_.value(M?ht/F.value:ht/B.value)}function Ue(Z){z.value=!0,e("slideStart",L.value),e("isSliding",z.value),M&&"touches"in Z||Z.preventDefault(),x.value&&ie(Z),window.addEventListener("mousemove",ie),window.addEventListener("touchmove",ie),window.addEventListener("mouseup",De),window.addEventListener("touchend",De)}function De(){z.value=!1,e("slideEnd",L.value),e("isSliding",z.value),window.removeEventListener("mousemove",ie),window.removeEventListener("touchmove",ie),window.removeEventListener("mouseup",De),window.removeEventListener("touchend",De)}function Ye(){S.value&&window.addEventListener("keydown",pe)}function ze(){S.value&&window.removeEventListener("keydown",pe)}function Ve(){S.value&&window.addEventListener("keydown",pe)}function Je(Z){A.value&&!A.value.contains(Z.target)&&(A.value.blur(),window.removeEventListener("keydown",pe))}function pe(Z){Z.key==="ArrowDown"&&!M?(Z.preventDefault(),L.value+T.value>1?L.value=1:L.value+=T.value):Z.key==="ArrowUp"&&!M||Z.key==="ArrowLeft"&&M?(Z.preventDefault(),L.value-T.value<0?L.value=0:L.value-=T.value):Z.key==="ArrowRight"&&M&&(Z.preventDefault(),L.value+T.value>1?L.value=1:L.value+=T.value)}function W(){var Ne;const Z=Dn();(Ne=Z==null?void 0:Z.proxy)==null||Ne.$forceUpdate();const ve=A.value;t.hover?(ve==null||ve.addEventListener("mousemove",Ue),ve==null||ve.addEventListener("mouseleave",De)):(ve==null||ve.removeEventListener("mousemove",Ue),ve==null||ve.removeEventListener("mouseleave",De),ve==null||ve.addEventListener("mouseup",De),ve==null||ve.addEventListener("touchend",De))}return pn(()=>{const Z=A.value,ve=new ResizeObserver(([Ne])=>{const Ke=Ne.target.getBoundingClientRect().width;F.value=Ke});return ve.observe(Z),()=>ve.disconnect()}),pn(()=>{const Z=A.value;t.hover&&(Z==null||Z.addEventListener("mousemove",Ue),Z==null||Z.addEventListener("mouseleave",De)),window.addEventListener("click",Je)}),yr(()=>{const Z=A.value;Z==null||Z.removeEventListener("mousemove",Ue),Z==null||Z.removeEventListener("mouseleave",De),window.removeEventListener("keydown",pe),window.removeEventListener("click",Je),window.removeEventListener("mousemove",ie),window.removeEventListener("touchmove",ie),window.removeEventListener("mouseup",De),window.removeEventListener("touchend",De)}),dt(D,()=>{var Z;k.value=!1,(Z=D.value)!=null&&Z.complete&&(k.value=!0)}),dt(I,()=>{var Z;H.value=!1,(Z=I.value)!=null&&Z.complete&&(H.value=!0)}),dt(f,()=>{W()}),dt([()=>F.value,()=>k.value,()=>H.value],()=>{const Z=D.value.naturalHeight/D.value.naturalWidth,ve=I.value.naturalHeight/I.value.naturalWidth,Ne=r.value==="taller"?Math.max(Z,ve):Math.min(Z,ve),Ke=F.value*Ne;B.value=Ke}),(Z,ve)=>w(g)&&!O.value?(V(),ue("div",{key:0,"data-testid":"skeleton",style:Bt(J.value),innerHTML:w(g)},null,12,Rqe)):(V(),ue("div",{key:1,id:w(C),ref_key:"containerRef",ref:A,class:"vci--container",tabindex:"0","data-testid":"vci-container",style:Bt(J.value),onClick:Ve,onTouchstart:Ue,onTouchend:De,onFocusin:Ye,onFocusout:ze,onMousedown:Ue,onMouseup:De},[me("img",{ref_key:"rightImageRef",ref:I,class:"vci--right-image",alt:w(c),"data-testid":"right-image",src:w(l),style:Bt(Q.value),onLoad:ve[0]||(ve[0]=Ne=>H.value=!0)},null,44,Dqe),me("img",{ref_key:"leftImageRef",ref:D,class:"vci--left-image",alt:w(a),"data-testid":"left-image",src:w(i),style:Bt(re.value),onLoad:ve[1]||(ve[1]=Ne=>k.value=!0)},null,44,kqe),me("div",{class:"vci--slider",style:Bt(de.value)},[me("div",{class:"vci--slider-line",style:Bt(le.value)},null,4),w(h)?(V(),ue("div",{key:0,class:"vci--custom-handle",innerHTML:w(h)},null,8,Lqe)):(V(),ue("div",{key:1,class:"vci--default-handle",style:Bt(fe.value)},[me("div",{class:"vci--left-arrow",style:Bt(Ee.value)},null,4),me("div",{class:"vci--right-arrow",style:Bt(Re.value)},null,4)],4)),me("div",{class:"vci--slider-line",style:Bt(le.value)},null,4)],4),w(s)?(V(),ue("div",{key:0,class:"vci--left-label-container",style:Bt(K.value)},[me("div",{class:"vci--left-label","data-testid":"left-image-label",style:Bt(He.value)},Ct(w(s)),5)],4)):Qe("",!0),w(u)?(V(),ue("div",{key:1,class:"vci--right-label-container",style:Bt(ce.value)},[me("div",{class:"vci--right-label","data-testid":"right-image-label",style:Bt($e.value)},Ct(w(u)),5)],4)):Qe("",!0)],44,Pqe))}}),Oqe=me("h1",{class:"section-title"},"Image Inner Comparison",-1),Bqe="./image_inner/line.jpg",Fqe="./image_inner/real.jpg",zqe=Ie({__name:"ImageSliderInner",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-row"),a=Et("el-col");return V(),ue("div",null,[se(r),se(i,{justify:"center"},{default:be(()=>[Oqe]),_:1}),se(i,{justify:"center"},{default:be(()=>[se(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(i,{style:{"margin-top":"20px"}},{default:be(()=>[se(w(Nqe),{"left-image":Bqe,"right-image":Fqe,hover:!0})]),_:1})]),_:1})]),_:1})])}}}),Uqe=n=>(yc("data-v-cdcec0ce"),n=n(),bc(),n),Hqe=Uqe(()=>me("h1",{class:"section-title"},"Image Selector",-1)),Vqe=["src"],$qe={__name:"ImageSelector",setup(n){const e=["./image_selector/input/486.png","./image_selector/input/mmk.png","./image_selector/input/nina.png","./image_selector/input/rupa.png","./image_selector/input/tomo.png"],t=["./image_selector/output/486_model.jpg","./image_selector/output/mmk_model.jpg","./image_selector/output/nina_model.jpg","./image_selector/output/rupa_model.jpg","./image_selector/output/tomo_model.jpg"],r=[];let i=ee(""),a=ee(0),s=ee(!0);const o=()=>{const c=[];for(let u=0;u<t.length;u++){const d=new Image;r[u]=d;const f=new Promise(h=>{d.onload=h});d.src=t[u],c.push(f)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadImageSelector finished")})};pn(()=>{o(),l(0)});const l=c=>{a.value=c,i.value=r[c].src};return(c,u)=>{const d=Et("el-divider"),f=Et("el-row"),h=Et("el-image"),p=Et("el-col"),m=Et("el-skeleton-item"),v=Et("el-skeleton");return V(),ue("div",null,[se(d),se(f,{justify:"center"},{default:be(()=>[Hqe]),_:1}),se(f,{justify:"center"},{default:be(()=>[se(p,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(f,{justify:"space-evenly",style:{"margin-top":"20px"}},{default:be(()=>[(V(),ue(zt,null,In(e,(g,y)=>se(p,{span:4,key:y},{default:be(()=>[se(h,{class:j(["image",{"selected-image":w(a)===y,"unselected-image":w(a)!==y}]),src:g,style:{"aspect-ratio":"1"},fit:"scale-down",onClick:b=>l(y)},null,8,["src","onClick","class"])]),_:2},1024)),64)),se(f,{justify:"center",style:{"margin-top":"10px"}},{default:be(()=>[se(p,{span:12},{default:be(()=>[se(v,{style:{width:"100%"},loading:w(s),animated:"",throttle:1e3},{template:be(()=>[se(m,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[me("img",{src:w(i),style:{width:"100%","object-fit":"contain"}},null,8,Vqe)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},Gqe=Ha($qe,[["__scopeId","data-v-cdcec0ce"]]);fd([Bte,qte,hne,fne,gne]);const Wqe={components:{VChart:_ne},setup(){$n("THEME_KEY","light")},data(){return{option:{title:{text:"Traffic Sources",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"right",top:"bottom",data:["Direct","Email","Ad Networks","Video Ads","Search Engines"]},series:[{name:"Traffic Sources",type:"pie",radius:"50%",center:["50%","50%"],data:[{value:335,name:"Direct"},{value:310,name:"Email"},{value:234,name:"Ad Networks"},{value:135,name:"Video Ads"},{value:1548,name:"Search Engines"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},qqe=n=>(yc("data-v-053369da"),n=n(),bc(),n),Kqe=qqe(()=>me("h1",{class:"section-title"},"Quantitative Results",-1));function Yqe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("v-chart"),c=Et("el-col");return V(),ue("div",null,[se(s),se(o,{justify:"center"},{default:be(()=>[Kqe]),_:1}),se(o,{justify:"center"},{default:be(()=>[se(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(l,{class:"chart",option:i.option,autoresize:""},null,8,["option"])]),_:1})]),_:1})])}const Xqe=Ha(Wqe,[["render",Yqe],["__scopeId","data-v-053369da"]]),jqe=n=>(yc("data-v-a5ab50df"),n=n(),bc(),n),Zqe=jqe(()=>me("h1",{class:"section-title"},"More Results",-1)),Qqe=Ie({__name:"Table",setup(n){const e=[{model:"Model A",params:"10 B",value_a:"123",value_b:"321"},{model:"Model B",params:"30 B",value_a:"456",value_b:"654"},{model:"Model C",params:"20 B",value_a:"789",value_b:"987"},{model:"Model D",params:"5 B",value_a:"100",value_b:"200"}];return(t,r)=>{const i=Et("el-divider"),a=Et("el-row"),s=Et("el-table-column"),o=Et("el-table"),l=Et("el-tab-pane"),c=Et("el-tabs"),u=Et("el-card"),d=Et("el-col");return V(),ue("div",null,[se(i),se(a,{justify:"center"},{default:be(()=>[Zqe]),_:1}),se(a,{justify:"center"},{default:be(()=>[se(d,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(u,{class:"card"},{default:be(()=>[se(c,{class:"demo-tabs","model-value":"Method A"},{default:be(()=>[se(l,{label:"Method A",name:"Method A"},{default:be(()=>[se(o,{data:e,"default-sort":{prop:"value_b",order:"descending"},"scrollbar-always-on":""},{default:be(()=>[se(s,{prop:"model",label:"Model",width:"100",sortable:""}),se(s,{prop:"params",label:"#Params","min-width":"120",sortable:""}),se(s,{prop:"value_a",label:"Value A","min-width":"120",sortable:""}),se(s,{prop:"value_b",label:"Value B","min-width":"120",sortable:""})]),_:1})]),_:1}),se(l,{label:"Method B",name:"Method B"},{default:be(()=>[dn(" Method B ")]),_:1}),se(l,{label:"Method C",name:"Method C"},{default:be(()=>[dn(" Method C ")]),_:1}),se(l,{label:"Method D",name:"Method D"},{default:be(()=>[dn(" Method D ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),Jqe=Ha(Qqe,[["__scopeId","data-v-a5ab50df"]]),eKe={},fw=n=>(yc("data-v-bb62af2c"),n=n(),bc(),n),tKe=fw(()=>me("h1",{class:"section-title"},"Detail Discussion",-1)),nKe=fw(()=>me("div",null," Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to; ",-1)),rKe=fw(()=>me("div",null," Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects; ",-1)),iKe=fw(()=>me("div",null," Simplify the process: keep operating process simple and intuitive; ",-1)),aKe=fw(()=>me("div",null," Decision making: giving advices about operations is acceptable, but do not make decisions for the users; ",-1));function sKe(n,e){const t=Et("el-divider"),r=Et("el-row"),i=Et("el-collapse-item"),a=Et("el-collapse"),s=Et("el-col");return V(),ue("div",null,[se(t),se(r,{justify:"center"},{default:be(()=>[tKe]),_:1}),se(r,{justify:"center"},{default:be(()=>[se(s,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[se(a,{"model-value":"1",class:"collapse",accordion:""},{default:be(()=>[se(i,{title:"Consistency",name:"1"},{default:be(()=>[nKe]),_:1}),se(i,{title:"Feedback",name:"2"},{default:be(()=>[rKe]),_:1}),se(i,{title:"Efficiency",name:"3"},{default:be(()=>[iKe]),_:1}),se(i,{title:"Controllability",name:"4"},{default:be(()=>[aKe]),_:1})]),_:1})]),_:1})]),_:1})])}const oKe=Ha(eKe,[["render",sKe],["__scopeId","data-v-bb62af2c"]]),lKe={data(){return{value1:"",value2:"",comparison1ImageRootPath:"",comparison2ImageRootPath:"",comparisonImageRootPath:"./image_comparison/",comparison1Loading:!0,comparison2Loading:!0,options:["bottle","box","clip","cup","duck","flim","glass","toy"]}},beforeMount(){this.handleChange1(this.options[0]),this.handleChange2(this.options[1])},methods:{handleChange1(n){this.loadImage1(n)},handleChange2(n){this.loadImage2(n)},loadImage1(n){this.comparison1Loading=!0;const e=`${this.comparisonImageRootPath}${n}.png`,t=new Image;t.src=e,t.onload=()=>{this.comparison1ImageRootPath=e,this.comparison1Loading=!1}},loadImage2(n){this.comparison2Loading=!0;const e=`${this.comparisonImageRootPath}${n}.png`,t=new Image;t.src=e,t.onload=()=>{this.comparison2ImageRootPath=e,this.comparison2Loading=!1}}}},cKe=n=>(yc("data-v-39564713"),n=n(),bc(),n),uKe=cKe(()=>me("h1",{class:"section-title"},"Comparison",-1)),dKe={class:"demo-image"},fKe={class:"block"},hKe={class:"demonstration"},pKe={class:"demo-image"},mKe={class:"block"},vKe={class:"demonstration"};function gKe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("el-skeleton-item"),c=Et("el-image"),u=Et("el-skeleton"),d=Et("el-option"),f=Et("el-select"),h=Et("el-col");return V(),ue("div",null,[se(s),se(o,{justify:"center"},{default:be(()=>[uKe]),_:1}),se(o,{justify:"center"},{default:be(()=>[se(h,null,{default:be(()=>[se(o,{justify:"center",gutter:20},{default:be(()=>[se(h,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[me("div",dKe,[me("div",fKe,[se(u,{style:{width:"100%"},loading:i.comparison1Loading,animated:"",throttle:1e3},{template:be(()=>[se(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[se(c,{src:i.comparison1ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),me("span",hKe,"input: "+Ct(i.comparison1ImageRootPath),1)])]),se(o,{justify:"center"},{default:be(()=>[se(f,{class:"select",modelValue:i.value1,"onUpdate:modelValue":e[0]||(e[0]=p=>i.value1=p),placeholder:"Select",size:"large",onChange:a.handleChange1},{default:be(()=>[(V(!0),ue(zt,null,In(i.options,p=>(V(),rt(d,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),se(h,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[me("div",pKe,[me("div",mKe,[se(u,{style:{width:"100%"},loading:i.comparison2Loading,animated:"",throttle:1e3},{template:be(()=>[se(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[se(c,{src:i.comparison2ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),me("span",vKe,"input: "+Ct(i.comparison2ImageRootPath),1)])]),se(o,{justify:"center"},{default:be(()=>[se(f,{class:"select",modelValue:i.value2,"onUpdate:modelValue":e[1]||(e[1]=p=>i.value2=p),placeholder:"Select",size:"large",onChange:a.handleChange2},{default:be(()=>[(V(!0),ue(zt,null,In(i.options,p=>(V(),rt(d,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const yKe=Ha(lKe,[["render",gKe],["__scopeId","data-v-39564713"]]),bKe={setup(){pn(()=>{const n=document.createElement("script");n.src="./twikoo/twikoo.junyaohu.js",n.async=!0;const e=()=>{twikoo.init({envId:"https://blog-comment-nvoz-8o7dxhfbd-junyaohus-projects.vercel.app",el:"#twikoo",region:"",path:location.pathname,lang:"zh-CN"})};n.addEventListener("load",e),document.body.appendChild(n)})}},_Ke=me("h1",{class:"section-title"},"💬 Comment",-1),wKe=me("div",{id:"twikoo"},null,-1);function xKe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("el-col");return V(),ue("div",null,[se(s),se(o,{justify:"center"},{default:be(()=>[_Ke]),_:1}),se(o,{justify:"center"},{default:be(()=>[se(l,{xs:24,sm:24,md:24,lg:16,xl:12},{default:be(()=>[wKe]),_:1})]),_:1})])}const SKe=Ha(bKe,[["render",xKe]]);var Nne={exports:{}};(function(n,e){(function(r,i){n.exports=i()})(typeof self<"u"?self:fu,function(){return function(){var t={};(function(){t.d=function(ne,E){for(var R in E)t.o(E,R)&&!t.o(ne,R)&&Object.defineProperty(ne,R,{enumerable:!0,get:E[R]})}})(),function(){t.o=function(ne,E){return Object.prototype.hasOwnProperty.call(ne,E)}}();var r={};t.d(r,{default:function(){return ose}});var i=function ne(E,R){this.position=void 0;var P="KaTeX parse error: "+E,N,q=R&&R.loc;if(q&&q.start<=q.end){var te=q.lexer.input;N=q.start;var _e=q.end;N===te.length?P+=" at end of input: ":P+=" at position "+(N+1)+": ";var Le=te.slice(N,_e).replace(/[^]/g,"$&̲"),qe;N>15?qe="…"+te.slice(N-15,N):qe=te.slice(0,N);var ct;_e+15<te.length?ct=te.slice(_e,_e+15)+"…":ct=te.slice(_e),P+=qe+Le+ct}var Dt=new Error(P);return Dt.name="ParseError",Dt.__proto__=ne.prototype,Dt.position=N,Dt};i.prototype.__proto__=Error.prototype;var a=i,s=function(E,R){return E.indexOf(R)!==-1},o=function(E,R){return E===void 0?R:E},l=/([A-Z])/g,c=function(E){return E.replace(l,"-$1").toLowerCase()},u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},d=/[&><"']/g;function f(ne){return String(ne).replace(d,function(E){return u[E]})}var h=function ne(E){return E.type==="ordgroup"||E.type==="color"?E.body.length===1?ne(E.body[0]):E:E.type==="font"?ne(E.body):E},p=function(E){var R=h(E);return R.type==="mathord"||R.type==="textord"||R.type==="atom"},m=function(E){if(!E)throw new Error("Expected non-null, but got "+String(E));return E},v=function(E){var R=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(E);return R!=null?R[1]:"_relative"},g={contains:s,deflt:o,escape:f,hyphenate:c,getBaseElem:h,isCharacterBox:p,protocolFromUrl:v},y=function(){function ne(R){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,R=R||{},this.displayMode=g.deflt(R.displayMode,!1),this.output=g.deflt(R.output,"htmlAndMathml"),this.leqno=g.deflt(R.leqno,!1),this.fleqn=g.deflt(R.fleqn,!1),this.throwOnError=g.deflt(R.throwOnError,!0),this.errorColor=g.deflt(R.errorColor,"#cc0000"),this.macros=R.macros||{},this.minRuleThickness=Math.max(0,g.deflt(R.minRuleThickness,0)),this.colorIsTextColor=g.deflt(R.colorIsTextColor,!1),this.strict=g.deflt(R.strict,"warn"),this.trust=g.deflt(R.trust,!1),this.maxSize=Math.max(0,g.deflt(R.maxSize,1/0)),this.maxExpand=Math.max(0,g.deflt(R.maxExpand,1e3)),this.globalGroup=g.deflt(R.globalGroup,!1)}var E=ne.prototype;return E.reportNonstrict=function(P,N,q){var te=this.strict;if(typeof te=="function"&&(te=te(P,N,q)),!(!te||te==="ignore")){if(te===!0||te==="error")throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+(N+" ["+P+"]"),q);te==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(N+" ["+P+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+te+"': "+N+" ["+P+"]"))}},E.useStrictBehavior=function(P,N,q){var te=this.strict;if(typeof te=="function")try{te=te(P,N,q)}catch{te="error"}return!te||te==="ignore"?!1:te===!0||te==="error"?!0:te==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(N+" ["+P+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+te+"': "+N+" ["+P+"]")),!1)},E.isTrusted=function(P){P.url&&!P.protocol&&(P.protocol=g.protocolFromUrl(P.url));var N=typeof this.trust=="function"?this.trust(P):this.trust;return!!N},ne}(),b=function(){function ne(R,P,N){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=R,this.size=P,this.cramped=N}var E=ne.prototype;return E.sup=function(){return D[L[this.id]]},E.sub=function(){return D[F[this.id]]},E.fracNum=function(){return D[B[this.id]]},E.fracDen=function(){return D[k[this.id]]},E.cramp=function(){return D[H[this.id]]},E.text=function(){return D[z[this.id]]},E.isTight=function(){return this.size>=2},ne}(),_=0,x=1,S=2,T=3,C=4,M=5,A=6,I=7,D=[new b(_,0,!1),new b(x,0,!0),new b(S,1,!1),new b(T,1,!0),new b(C,2,!1),new b(M,2,!0),new b(A,3,!1),new b(I,3,!0)],L=[C,M,C,M,A,I,A,I],F=[M,M,M,M,I,I,I,I],B=[S,T,C,M,A,I,A,I],k=[T,T,M,M,I,I,I,I],H=[x,x,T,T,M,M,I,I],z=[_,x,S,T,S,T,S,T],O={DISPLAY:D[_],TEXT:D[S],SCRIPT:D[C],SCRIPTSCRIPT:D[A]},G=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function X(ne){for(var E=0;E<G.length;E++)for(var R=G[E],P=0;P<R.blocks.length;P++){var N=R.blocks[P];if(ne>=N[0]&&ne<=N[1])return R.name}return null}var J=[];G.forEach(function(ne){return ne.blocks.forEach(function(E){return J.push.apply(J,E)})});function Q(ne){for(var E=0;E<J.length;E+=2)if(ne>=J[E]&&ne<=J[E+1])return!0;return!1}var re=80,de=function(E,R){return"M95,"+(622+E+R)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+E/2.075+" -"+E+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+E)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},le=function(E,R){return"M263,"+(601+E+R)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+E/2.084+" -"+E+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+E)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},fe=function(E,R){return"M983 "+(10+E+R)+`
l`+E/3.13+" -"+E+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+E)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},Ee=function(E,R){return"M424,"+(2398+E+R)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+E/4.223+" -"+E+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+E)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+E)+" "+R+`
h400000v`+(40+E)+"h-400000z"},Re=function(E,R){return"M473,"+(2713+E+R)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+E/5.298+" -"+E+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+E)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+E)+" "+R+"h400000v"+(40+E)+"H1017.7z"},He=function(E){var R=E/2;return"M400000 "+E+" H0 L"+R+" 0 l65 45 L145 "+(E-80)+" H400000z"},$e=function(E,R,P){var N=P-54-R-E;return"M702 "+(E+R)+"H400000"+(40+E)+`
H742v`+N+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+R+"H400000v"+(40+E)+"H742z"},K=function(E,R,P){R=1e3*R;var N="";switch(E){case"sqrtMain":N=de(R,re);break;case"sqrtSize1":N=le(R,re);break;case"sqrtSize2":N=fe(R,re);break;case"sqrtSize3":N=Ee(R,re);break;case"sqrtSize4":N=Re(R,re);break;case"sqrtTall":N=$e(R,re,P)}return N},ce=function(E,R){switch(E){case"⎜":return"M291 0 H417 V"+R+" H291z M291 0 H417 V"+R+" H291z";case"∣":return"M145 0 H188 V"+R+" H145z M145 0 H188 V"+R+" H145z";case"∥":return"M145 0 H188 V"+R+" H145z M145 0 H188 V"+R+" H145z"+("M367 0 H410 V"+R+" H367z M367 0 H410 V"+R+" H367z");case"⎟":return"M457 0 H583 V"+R+" H457z M457 0 H583 V"+R+" H457z";case"⎢":return"M319 0 H403 V"+R+" H319z M319 0 H403 V"+R+" H319z";case"⎥":return"M263 0 H347 V"+R+" H263z M263 0 H347 V"+R+" H263z";case"⎪":return"M384 0 H504 V"+R+" H384z M384 0 H504 V"+R+" H384z";case"⏐":return"M312 0 H355 V"+R+" H312z M312 0 H355 V"+R+" H312z";case"‖":return"M257 0 H300 V"+R+" H257z M257 0 H300 V"+R+" H257z"+("M478 0 H521 V"+R+" H478z M478 0 H521 V"+R+" H478z");default:return""}},ie={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ue=function(){function ne(R){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=R,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var E=ne.prototype;return E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){for(var P=document.createDocumentFragment(),N=0;N<this.children.length;N++)P.appendChild(this.children[N].toNode());return P},E.toMarkup=function(){for(var P="",N=0;N<this.children.length;N++)P+=this.children[N].toMarkup();return P},E.toText=function(){var P=function(q){return q.toText()};return this.children.map(P).join("")},ne}(),De={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Ye={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},ze={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Ve(ne,E){De[ne]=E}function Je(ne,E,R){if(!De[E])throw new Error("Font metrics not found for font: "+E+".");var P=ne.charCodeAt(0),N=De[E][P];if(!N&&ne[0]in ze&&(P=ze[ne[0]].charCodeAt(0),N=De[E][P]),!N&&R==="text"&&Q(P)&&(N=De[E][77]),N)return{depth:N[0],height:N[1],italic:N[2],skew:N[3],width:N[4]}}var pe={};function W(ne){var E;if(ne>=5?E=0:ne>=3?E=1:E=2,!pe[E]){var R=pe[E]={cssEmPerMu:Ye.quad[E]/18};for(var P in Ye)Ye.hasOwnProperty(P)&&(R[P]=Ye[P][E])}return pe[E]}var Z=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],ve=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ne=function(E,R){return R.size<2?E:Z[E-1][R.size-1]},Ke=function(){function ne(R){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=R.style,this.color=R.color,this.size=R.size||ne.BASESIZE,this.textSize=R.textSize||this.size,this.phantom=!!R.phantom,this.font=R.font||"",this.fontFamily=R.fontFamily||"",this.fontWeight=R.fontWeight||"",this.fontShape=R.fontShape||"",this.sizeMultiplier=ve[this.size-1],this.maxSize=R.maxSize,this.minRuleThickness=R.minRuleThickness,this._fontMetrics=void 0}var E=ne.prototype;return E.extend=function(P){var N={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var q in P)P.hasOwnProperty(q)&&(N[q]=P[q]);return new ne(N)},E.havingStyle=function(P){return this.style===P?this:this.extend({style:P,size:Ne(this.textSize,P)})},E.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},E.havingSize=function(P){return this.size===P&&this.textSize===P?this:this.extend({style:this.style.text(),size:P,textSize:P,sizeMultiplier:ve[P-1]})},E.havingBaseStyle=function(P){P=P||this.style.text();var N=Ne(ne.BASESIZE,P);return this.size===N&&this.textSize===ne.BASESIZE&&this.style===P?this:this.extend({style:P,size:N})},E.havingBaseSizing=function(){var P;switch(this.style.id){case 4:case 5:P=3;break;case 6:case 7:P=1;break;default:P=6}return this.extend({style:this.style.text(),size:P})},E.withColor=function(P){return this.extend({color:P})},E.withPhantom=function(){return this.extend({phantom:!0})},E.withFont=function(P){return this.extend({font:P})},E.withTextFontFamily=function(P){return this.extend({fontFamily:P,font:""})},E.withTextFontWeight=function(P){return this.extend({fontWeight:P,font:""})},E.withTextFontShape=function(P){return this.extend({fontShape:P,font:""})},E.sizingClasses=function(P){return P.size!==this.size?["sizing","reset-size"+P.size,"size"+this.size]:[]},E.baseSizingClasses=function(){return this.size!==ne.BASESIZE?["sizing","reset-size"+this.size,"size"+ne.BASESIZE]:[]},E.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=W(this.size)),this._fontMetrics},E.getColor=function(){return this.phantom?"transparent":this.color},ne}();Ke.BASESIZE=6;var mt=Ke,vt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Me={ex:!0,em:!0,mu:!0},ht=function(E){return typeof E!="string"&&(E=E.unit),E in vt||E in Me||E==="ex"},st=function(E,R){var P;if(E.unit in vt)P=vt[E.unit]/R.fontMetrics().ptPerEm/R.sizeMultiplier;else if(E.unit==="mu")P=R.fontMetrics().cssEmPerMu;else{var N;if(R.style.isTight()?N=R.havingStyle(R.style.text()):N=R,E.unit==="ex")P=N.fontMetrics().xHeight;else if(E.unit==="em")P=N.fontMetrics().quad;else throw new a("Invalid unit: '"+E.unit+"'");N!==R&&(P*=N.sizeMultiplier/R.sizeMultiplier)}return Math.min(E.number*P,R.maxSize)},$=function(E){return+E.toFixed(4)+"em"},ge=function(E){return E.filter(function(R){return R}).join(" ")},he=function(E,R,P){if(this.classes=E||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=P||{},R){R.style.isTight()&&this.classes.push("mtight");var N=R.getColor();N&&(this.style.color=N)}},Ae=function(E){var R=document.createElement(E);R.className=ge(this.classes);for(var P in this.style)this.style.hasOwnProperty(P)&&(R.style[P]=this.style[P]);for(var N in this.attributes)this.attributes.hasOwnProperty(N)&&R.setAttribute(N,this.attributes[N]);for(var q=0;q<this.children.length;q++)R.appendChild(this.children[q].toNode());return R},ye=function(E){var R="<"+E;this.classes.length&&(R+=' class="'+g.escape(ge(this.classes))+'"');var P="";for(var N in this.style)this.style.hasOwnProperty(N)&&(P+=g.hyphenate(N)+":"+this.style[N]+";");P&&(R+=' style="'+g.escape(P)+'"');for(var q in this.attributes)this.attributes.hasOwnProperty(q)&&(R+=" "+q+'="'+g.escape(this.attributes[q])+'"');R+=">";for(var te=0;te<this.children.length;te++)R+=this.children[te].toMarkup();return R+="</"+E+">",R},Se=function(){function ne(R,P,N,q){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,he.call(this,R,N,q),this.children=P||[]}var E=ne.prototype;return E.setAttribute=function(P,N){this.attributes[P]=N},E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){return Ae.call(this,"span")},E.toMarkup=function(){return ye.call(this,"span")},ne}(),ft=function(){function ne(R,P,N,q){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,he.call(this,P,q),this.children=N||[],this.setAttribute("href",R)}var E=ne.prototype;return E.setAttribute=function(P,N){this.attributes[P]=N},E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){return Ae.call(this,"a")},E.toMarkup=function(){return ye.call(this,"a")},ne}(),Te=function(){function ne(R,P,N){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=P,this.src=R,this.classes=["mord"],this.style=N}var E=ne.prototype;return E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){var P=document.createElement("img");P.src=this.src,P.alt=this.alt,P.className="mord";for(var N in this.style)this.style.hasOwnProperty(N)&&(P.style[N]=this.style[N]);return P},E.toMarkup=function(){var P="<img  src='"+this.src+" 'alt='"+this.alt+"' ",N="";for(var q in this.style)this.style.hasOwnProperty(q)&&(N+=g.hyphenate(q)+":"+this.style[q]+";");return N&&(P+=' style="'+g.escape(N)+'"'),P+="'/>",P},ne}(),_t={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"},nt=function(){function ne(R,P,N,q,te,_e,Le,qe){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=R,this.height=P||0,this.depth=N||0,this.italic=q||0,this.skew=te||0,this.width=_e||0,this.classes=Le||[],this.style=qe||{},this.maxFontSize=0;var ct=X(this.text.charCodeAt(0));ct&&this.classes.push(ct+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=_t[this.text])}var E=ne.prototype;return E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){var P=document.createTextNode(this.text),N=null;this.italic>0&&(N=document.createElement("span"),N.style.marginRight=$(this.italic)),this.classes.length>0&&(N=N||document.createElement("span"),N.className=ge(this.classes));for(var q in this.style)this.style.hasOwnProperty(q)&&(N=N||document.createElement("span"),N.style[q]=this.style[q]);return N?(N.appendChild(P),N):P},E.toMarkup=function(){var P=!1,N="<span";this.classes.length&&(P=!0,N+=' class="',N+=g.escape(ge(this.classes)),N+='"');var q="";this.italic>0&&(q+="margin-right:"+this.italic+"em;");for(var te in this.style)this.style.hasOwnProperty(te)&&(q+=g.hyphenate(te)+":"+this.style[te]+";");q&&(P=!0,N+=' style="'+g.escape(q)+'"');var _e=g.escape(this.text);return P?(N+=">",N+=_e,N+="</span>",N):_e},ne}(),gt=function(){function ne(R,P){this.children=void 0,this.attributes=void 0,this.children=R||[],this.attributes=P||{}}var E=ne.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",N=document.createElementNS(P,"svg");for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&N.setAttribute(q,this.attributes[q]);for(var te=0;te<this.children.length;te++)N.appendChild(this.children[te].toNode());return N},E.toMarkup=function(){var P='<svg xmlns="http://www.w3.org/2000/svg"';for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&(P+=" "+N+"='"+this.attributes[N]+"'");P+=">";for(var q=0;q<this.children.length;q++)P+=this.children[q].toMarkup();return P+="</svg>",P},ne}(),Lt=function(){function ne(R,P){this.pathName=void 0,this.alternate=void 0,this.pathName=R,this.alternate=P}var E=ne.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",N=document.createElementNS(P,"path");return this.alternate?N.setAttribute("d",this.alternate):N.setAttribute("d",ie[this.pathName]),N},E.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+ie[this.pathName]+"'/>"},ne}(),At=function(){function ne(R){this.attributes=void 0,this.attributes=R||{}}var E=ne.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",N=document.createElementNS(P,"line");for(var q in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,q)&&N.setAttribute(q,this.attributes[q]);return N},E.toMarkup=function(){var P="<line";for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&(P+=" "+N+"='"+this.attributes[N]+"'");return P+="/>",P},ne}();function an(ne){if(ne instanceof nt)return ne;throw new Error("Expected symbolNode but got "+String(ne)+".")}function _n(ne){if(ne instanceof Se)return ne;throw new Error("Expected span<HtmlDomNode> but got "+String(ne)+".")}var lr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},kn={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Yr={math:{},text:{}},Zn=Yr;function Y(ne,E,R,P,N,q){Yr[ne][N]={font:E,group:R,replace:P},q&&P&&(Yr[ne][P]=Yr[ne][N])}var ae="math",Ut="text",Ce="main",oe="ams",St="accent-token",pt="bin",It="close",et="inner",xt="mathord",Kt="op-token",yn="open",On="punct",je="rel",Xn="spacing",at="textord";Y(ae,Ce,je,"≡","\\equiv",!0),Y(ae,Ce,je,"≺","\\prec",!0),Y(ae,Ce,je,"≻","\\succ",!0),Y(ae,Ce,je,"∼","\\sim",!0),Y(ae,Ce,je,"⊥","\\perp"),Y(ae,Ce,je,"⪯","\\preceq",!0),Y(ae,Ce,je,"⪰","\\succeq",!0),Y(ae,Ce,je,"≃","\\simeq",!0),Y(ae,Ce,je,"∣","\\mid",!0),Y(ae,Ce,je,"≪","\\ll",!0),Y(ae,Ce,je,"≫","\\gg",!0),Y(ae,Ce,je,"≍","\\asymp",!0),Y(ae,Ce,je,"∥","\\parallel"),Y(ae,Ce,je,"⋈","\\bowtie",!0),Y(ae,Ce,je,"⌣","\\smile",!0),Y(ae,Ce,je,"⊑","\\sqsubseteq",!0),Y(ae,Ce,je,"⊒","\\sqsupseteq",!0),Y(ae,Ce,je,"≐","\\doteq",!0),Y(ae,Ce,je,"⌢","\\frown",!0),Y(ae,Ce,je,"∋","\\ni",!0),Y(ae,Ce,je,"∝","\\propto",!0),Y(ae,Ce,je,"⊢","\\vdash",!0),Y(ae,Ce,je,"⊣","\\dashv",!0),Y(ae,Ce,je,"∋","\\owns"),Y(ae,Ce,On,".","\\ldotp"),Y(ae,Ce,On,"⋅","\\cdotp"),Y(ae,Ce,at,"#","\\#"),Y(Ut,Ce,at,"#","\\#"),Y(ae,Ce,at,"&","\\&"),Y(Ut,Ce,at,"&","\\&"),Y(ae,Ce,at,"ℵ","\\aleph",!0),Y(ae,Ce,at,"∀","\\forall",!0),Y(ae,Ce,at,"ℏ","\\hbar",!0),Y(ae,Ce,at,"∃","\\exists",!0),Y(ae,Ce,at,"∇","\\nabla",!0),Y(ae,Ce,at,"♭","\\flat",!0),Y(ae,Ce,at,"ℓ","\\ell",!0),Y(ae,Ce,at,"♮","\\natural",!0),Y(ae,Ce,at,"♣","\\clubsuit",!0),Y(ae,Ce,at,"℘","\\wp",!0),Y(ae,Ce,at,"♯","\\sharp",!0),Y(ae,Ce,at,"♢","\\diamondsuit",!0),Y(ae,Ce,at,"ℜ","\\Re",!0),Y(ae,Ce,at,"♡","\\heartsuit",!0),Y(ae,Ce,at,"ℑ","\\Im",!0),Y(ae,Ce,at,"♠","\\spadesuit",!0),Y(ae,Ce,at,"§","\\S",!0),Y(Ut,Ce,at,"§","\\S"),Y(ae,Ce,at,"¶","\\P",!0),Y(Ut,Ce,at,"¶","\\P"),Y(ae,Ce,at,"†","\\dag"),Y(Ut,Ce,at,"†","\\dag"),Y(Ut,Ce,at,"†","\\textdagger"),Y(ae,Ce,at,"‡","\\ddag"),Y(Ut,Ce,at,"‡","\\ddag"),Y(Ut,Ce,at,"‡","\\textdaggerdbl"),Y(ae,Ce,It,"⎱","\\rmoustache",!0),Y(ae,Ce,yn,"⎰","\\lmoustache",!0),Y(ae,Ce,It,"⟯","\\rgroup",!0),Y(ae,Ce,yn,"⟮","\\lgroup",!0),Y(ae,Ce,pt,"∓","\\mp",!0),Y(ae,Ce,pt,"⊖","\\ominus",!0),Y(ae,Ce,pt,"⊎","\\uplus",!0),Y(ae,Ce,pt,"⊓","\\sqcap",!0),Y(ae,Ce,pt,"∗","\\ast"),Y(ae,Ce,pt,"⊔","\\sqcup",!0),Y(ae,Ce,pt,"◯","\\bigcirc",!0),Y(ae,Ce,pt,"∙","\\bullet"),Y(ae,Ce,pt,"‡","\\ddagger"),Y(ae,Ce,pt,"≀","\\wr",!0),Y(ae,Ce,pt,"⨿","\\amalg"),Y(ae,Ce,pt,"&","\\And"),Y(ae,Ce,je,"⟵","\\longleftarrow",!0),Y(ae,Ce,je,"⇐","\\Leftarrow",!0),Y(ae,Ce,je,"⟸","\\Longleftarrow",!0),Y(ae,Ce,je,"⟶","\\longrightarrow",!0),Y(ae,Ce,je,"⇒","\\Rightarrow",!0),Y(ae,Ce,je,"⟹","\\Longrightarrow",!0),Y(ae,Ce,je,"↔","\\leftrightarrow",!0),Y(ae,Ce,je,"⟷","\\longleftrightarrow",!0),Y(ae,Ce,je,"⇔","\\Leftrightarrow",!0),Y(ae,Ce,je,"⟺","\\Longleftrightarrow",!0),Y(ae,Ce,je,"↦","\\mapsto",!0),Y(ae,Ce,je,"⟼","\\longmapsto",!0),Y(ae,Ce,je,"↗","\\nearrow",!0),Y(ae,Ce,je,"↩","\\hookleftarrow",!0),Y(ae,Ce,je,"↪","\\hookrightarrow",!0),Y(ae,Ce,je,"↘","\\searrow",!0),Y(ae,Ce,je,"↼","\\leftharpoonup",!0),Y(ae,Ce,je,"⇀","\\rightharpoonup",!0),Y(ae,Ce,je,"↙","\\swarrow",!0),Y(ae,Ce,je,"↽","\\leftharpoondown",!0),Y(ae,Ce,je,"⇁","\\rightharpoondown",!0),Y(ae,Ce,je,"↖","\\nwarrow",!0),Y(ae,Ce,je,"⇌","\\rightleftharpoons",!0),Y(ae,oe,je,"≮","\\nless",!0),Y(ae,oe,je,"","\\@nleqslant"),Y(ae,oe,je,"","\\@nleqq"),Y(ae,oe,je,"⪇","\\lneq",!0),Y(ae,oe,je,"≨","\\lneqq",!0),Y(ae,oe,je,"","\\@lvertneqq"),Y(ae,oe,je,"⋦","\\lnsim",!0),Y(ae,oe,je,"⪉","\\lnapprox",!0),Y(ae,oe,je,"⊀","\\nprec",!0),Y(ae,oe,je,"⋠","\\npreceq",!0),Y(ae,oe,je,"⋨","\\precnsim",!0),Y(ae,oe,je,"⪹","\\precnapprox",!0),Y(ae,oe,je,"≁","\\nsim",!0),Y(ae,oe,je,"","\\@nshortmid"),Y(ae,oe,je,"∤","\\nmid",!0),Y(ae,oe,je,"⊬","\\nvdash",!0),Y(ae,oe,je,"⊭","\\nvDash",!0),Y(ae,oe,je,"⋪","\\ntriangleleft"),Y(ae,oe,je,"⋬","\\ntrianglelefteq",!0),Y(ae,oe,je,"⊊","\\subsetneq",!0),Y(ae,oe,je,"","\\@varsubsetneq"),Y(ae,oe,je,"⫋","\\subsetneqq",!0),Y(ae,oe,je,"","\\@varsubsetneqq"),Y(ae,oe,je,"≯","\\ngtr",!0),Y(ae,oe,je,"","\\@ngeqslant"),Y(ae,oe,je,"","\\@ngeqq"),Y(ae,oe,je,"⪈","\\gneq",!0),Y(ae,oe,je,"≩","\\gneqq",!0),Y(ae,oe,je,"","\\@gvertneqq"),Y(ae,oe,je,"⋧","\\gnsim",!0),Y(ae,oe,je,"⪊","\\gnapprox",!0),Y(ae,oe,je,"⊁","\\nsucc",!0),Y(ae,oe,je,"⋡","\\nsucceq",!0),Y(ae,oe,je,"⋩","\\succnsim",!0),Y(ae,oe,je,"⪺","\\succnapprox",!0),Y(ae,oe,je,"≆","\\ncong",!0),Y(ae,oe,je,"","\\@nshortparallel"),Y(ae,oe,je,"∦","\\nparallel",!0),Y(ae,oe,je,"⊯","\\nVDash",!0),Y(ae,oe,je,"⋫","\\ntriangleright"),Y(ae,oe,je,"⋭","\\ntrianglerighteq",!0),Y(ae,oe,je,"","\\@nsupseteqq"),Y(ae,oe,je,"⊋","\\supsetneq",!0),Y(ae,oe,je,"","\\@varsupsetneq"),Y(ae,oe,je,"⫌","\\supsetneqq",!0),Y(ae,oe,je,"","\\@varsupsetneqq"),Y(ae,oe,je,"⊮","\\nVdash",!0),Y(ae,oe,je,"⪵","\\precneqq",!0),Y(ae,oe,je,"⪶","\\succneqq",!0),Y(ae,oe,je,"","\\@nsubseteqq"),Y(ae,oe,pt,"⊴","\\unlhd"),Y(ae,oe,pt,"⊵","\\unrhd"),Y(ae,oe,je,"↚","\\nleftarrow",!0),Y(ae,oe,je,"↛","\\nrightarrow",!0),Y(ae,oe,je,"⇍","\\nLeftarrow",!0),Y(ae,oe,je,"⇏","\\nRightarrow",!0),Y(ae,oe,je,"↮","\\nleftrightarrow",!0),Y(ae,oe,je,"⇎","\\nLeftrightarrow",!0),Y(ae,oe,je,"△","\\vartriangle"),Y(ae,oe,at,"ℏ","\\hslash"),Y(ae,oe,at,"▽","\\triangledown"),Y(ae,oe,at,"◊","\\lozenge"),Y(ae,oe,at,"Ⓢ","\\circledS"),Y(ae,oe,at,"®","\\circledR"),Y(Ut,oe,at,"®","\\circledR"),Y(ae,oe,at,"∡","\\measuredangle",!0),Y(ae,oe,at,"∄","\\nexists"),Y(ae,oe,at,"℧","\\mho"),Y(ae,oe,at,"Ⅎ","\\Finv",!0),Y(ae,oe,at,"⅁","\\Game",!0),Y(ae,oe,at,"‵","\\backprime"),Y(ae,oe,at,"▲","\\blacktriangle"),Y(ae,oe,at,"▼","\\blacktriangledown"),Y(ae,oe,at,"■","\\blacksquare"),Y(ae,oe,at,"⧫","\\blacklozenge"),Y(ae,oe,at,"★","\\bigstar"),Y(ae,oe,at,"∢","\\sphericalangle",!0),Y(ae,oe,at,"∁","\\complement",!0),Y(ae,oe,at,"ð","\\eth",!0),Y(Ut,Ce,at,"ð","ð"),Y(ae,oe,at,"╱","\\diagup"),Y(ae,oe,at,"╲","\\diagdown"),Y(ae,oe,at,"□","\\square"),Y(ae,oe,at,"□","\\Box"),Y(ae,oe,at,"◊","\\Diamond"),Y(ae,oe,at,"¥","\\yen",!0),Y(Ut,oe,at,"¥","\\yen",!0),Y(ae,oe,at,"✓","\\checkmark",!0),Y(Ut,oe,at,"✓","\\checkmark"),Y(ae,oe,at,"ℶ","\\beth",!0),Y(ae,oe,at,"ℸ","\\daleth",!0),Y(ae,oe,at,"ℷ","\\gimel",!0),Y(ae,oe,at,"ϝ","\\digamma",!0),Y(ae,oe,at,"ϰ","\\varkappa"),Y(ae,oe,yn,"┌","\\@ulcorner",!0),Y(ae,oe,It,"┐","\\@urcorner",!0),Y(ae,oe,yn,"└","\\@llcorner",!0),Y(ae,oe,It,"┘","\\@lrcorner",!0),Y(ae,oe,je,"≦","\\leqq",!0),Y(ae,oe,je,"⩽","\\leqslant",!0),Y(ae,oe,je,"⪕","\\eqslantless",!0),Y(ae,oe,je,"≲","\\lesssim",!0),Y(ae,oe,je,"⪅","\\lessapprox",!0),Y(ae,oe,je,"≊","\\approxeq",!0),Y(ae,oe,pt,"⋖","\\lessdot"),Y(ae,oe,je,"⋘","\\lll",!0),Y(ae,oe,je,"≶","\\lessgtr",!0),Y(ae,oe,je,"⋚","\\lesseqgtr",!0),Y(ae,oe,je,"⪋","\\lesseqqgtr",!0),Y(ae,oe,je,"≑","\\doteqdot"),Y(ae,oe,je,"≓","\\risingdotseq",!0),Y(ae,oe,je,"≒","\\fallingdotseq",!0),Y(ae,oe,je,"∽","\\backsim",!0),Y(ae,oe,je,"⋍","\\backsimeq",!0),Y(ae,oe,je,"⫅","\\subseteqq",!0),Y(ae,oe,je,"⋐","\\Subset",!0),Y(ae,oe,je,"⊏","\\sqsubset",!0),Y(ae,oe,je,"≼","\\preccurlyeq",!0),Y(ae,oe,je,"⋞","\\curlyeqprec",!0),Y(ae,oe,je,"≾","\\precsim",!0),Y(ae,oe,je,"⪷","\\precapprox",!0),Y(ae,oe,je,"⊲","\\vartriangleleft"),Y(ae,oe,je,"⊴","\\trianglelefteq"),Y(ae,oe,je,"⊨","\\vDash",!0),Y(ae,oe,je,"⊪","\\Vvdash",!0),Y(ae,oe,je,"⌣","\\smallsmile"),Y(ae,oe,je,"⌢","\\smallfrown"),Y(ae,oe,je,"≏","\\bumpeq",!0),Y(ae,oe,je,"≎","\\Bumpeq",!0),Y(ae,oe,je,"≧","\\geqq",!0),Y(ae,oe,je,"⩾","\\geqslant",!0),Y(ae,oe,je,"⪖","\\eqslantgtr",!0),Y(ae,oe,je,"≳","\\gtrsim",!0),Y(ae,oe,je,"⪆","\\gtrapprox",!0),Y(ae,oe,pt,"⋗","\\gtrdot"),Y(ae,oe,je,"⋙","\\ggg",!0),Y(ae,oe,je,"≷","\\gtrless",!0),Y(ae,oe,je,"⋛","\\gtreqless",!0),Y(ae,oe,je,"⪌","\\gtreqqless",!0),Y(ae,oe,je,"≖","\\eqcirc",!0),Y(ae,oe,je,"≗","\\circeq",!0),Y(ae,oe,je,"≜","\\triangleq",!0),Y(ae,oe,je,"∼","\\thicksim"),Y(ae,oe,je,"≈","\\thickapprox"),Y(ae,oe,je,"⫆","\\supseteqq",!0),Y(ae,oe,je,"⋑","\\Supset",!0),Y(ae,oe,je,"⊐","\\sqsupset",!0),Y(ae,oe,je,"≽","\\succcurlyeq",!0),Y(ae,oe,je,"⋟","\\curlyeqsucc",!0),Y(ae,oe,je,"≿","\\succsim",!0),Y(ae,oe,je,"⪸","\\succapprox",!0),Y(ae,oe,je,"⊳","\\vartriangleright"),Y(ae,oe,je,"⊵","\\trianglerighteq"),Y(ae,oe,je,"⊩","\\Vdash",!0),Y(ae,oe,je,"∣","\\shortmid"),Y(ae,oe,je,"∥","\\shortparallel"),Y(ae,oe,je,"≬","\\between",!0),Y(ae,oe,je,"⋔","\\pitchfork",!0),Y(ae,oe,je,"∝","\\varpropto"),Y(ae,oe,je,"◀","\\blacktriangleleft"),Y(ae,oe,je,"∴","\\therefore",!0),Y(ae,oe,je,"∍","\\backepsilon"),Y(ae,oe,je,"▶","\\blacktriangleright"),Y(ae,oe,je,"∵","\\because",!0),Y(ae,oe,je,"⋘","\\llless"),Y(ae,oe,je,"⋙","\\gggtr"),Y(ae,oe,pt,"⊲","\\lhd"),Y(ae,oe,pt,"⊳","\\rhd"),Y(ae,oe,je,"≂","\\eqsim",!0),Y(ae,Ce,je,"⋈","\\Join"),Y(ae,oe,je,"≑","\\Doteq",!0),Y(ae,oe,pt,"∔","\\dotplus",!0),Y(ae,oe,pt,"∖","\\smallsetminus"),Y(ae,oe,pt,"⋒","\\Cap",!0),Y(ae,oe,pt,"⋓","\\Cup",!0),Y(ae,oe,pt,"⩞","\\doublebarwedge",!0),Y(ae,oe,pt,"⊟","\\boxminus",!0),Y(ae,oe,pt,"⊞","\\boxplus",!0),Y(ae,oe,pt,"⋇","\\divideontimes",!0),Y(ae,oe,pt,"⋉","\\ltimes",!0),Y(ae,oe,pt,"⋊","\\rtimes",!0),Y(ae,oe,pt,"⋋","\\leftthreetimes",!0),Y(ae,oe,pt,"⋌","\\rightthreetimes",!0),Y(ae,oe,pt,"⋏","\\curlywedge",!0),Y(ae,oe,pt,"⋎","\\curlyvee",!0),Y(ae,oe,pt,"⊝","\\circleddash",!0),Y(ae,oe,pt,"⊛","\\circledast",!0),Y(ae,oe,pt,"⋅","\\centerdot"),Y(ae,oe,pt,"⊺","\\intercal",!0),Y(ae,oe,pt,"⋒","\\doublecap"),Y(ae,oe,pt,"⋓","\\doublecup"),Y(ae,oe,pt,"⊠","\\boxtimes",!0),Y(ae,oe,je,"⇢","\\dashrightarrow",!0),Y(ae,oe,je,"⇠","\\dashleftarrow",!0),Y(ae,oe,je,"⇇","\\leftleftarrows",!0),Y(ae,oe,je,"⇆","\\leftrightarrows",!0),Y(ae,oe,je,"⇚","\\Lleftarrow",!0),Y(ae,oe,je,"↞","\\twoheadleftarrow",!0),Y(ae,oe,je,"↢","\\leftarrowtail",!0),Y(ae,oe,je,"↫","\\looparrowleft",!0),Y(ae,oe,je,"⇋","\\leftrightharpoons",!0),Y(ae,oe,je,"↶","\\curvearrowleft",!0),Y(ae,oe,je,"↺","\\circlearrowleft",!0),Y(ae,oe,je,"↰","\\Lsh",!0),Y(ae,oe,je,"⇈","\\upuparrows",!0),Y(ae,oe,je,"↿","\\upharpoonleft",!0),Y(ae,oe,je,"⇃","\\downharpoonleft",!0),Y(ae,Ce,je,"⊶","\\origof",!0),Y(ae,Ce,je,"⊷","\\imageof",!0),Y(ae,oe,je,"⊸","\\multimap",!0),Y(ae,oe,je,"↭","\\leftrightsquigarrow",!0),Y(ae,oe,je,"⇉","\\rightrightarrows",!0),Y(ae,oe,je,"⇄","\\rightleftarrows",!0),Y(ae,oe,je,"↠","\\twoheadrightarrow",!0),Y(ae,oe,je,"↣","\\rightarrowtail",!0),Y(ae,oe,je,"↬","\\looparrowright",!0),Y(ae,oe,je,"↷","\\curvearrowright",!0),Y(ae,oe,je,"↻","\\circlearrowright",!0),Y(ae,oe,je,"↱","\\Rsh",!0),Y(ae,oe,je,"⇊","\\downdownarrows",!0),Y(ae,oe,je,"↾","\\upharpoonright",!0),Y(ae,oe,je,"⇂","\\downharpoonright",!0),Y(ae,oe,je,"⇝","\\rightsquigarrow",!0),Y(ae,oe,je,"⇝","\\leadsto"),Y(ae,oe,je,"⇛","\\Rrightarrow",!0),Y(ae,oe,je,"↾","\\restriction"),Y(ae,Ce,at,"‘","`"),Y(ae,Ce,at,"$","\\$"),Y(Ut,Ce,at,"$","\\$"),Y(Ut,Ce,at,"$","\\textdollar"),Y(ae,Ce,at,"%","\\%"),Y(Ut,Ce,at,"%","\\%"),Y(ae,Ce,at,"_","\\_"),Y(Ut,Ce,at,"_","\\_"),Y(Ut,Ce,at,"_","\\textunderscore"),Y(ae,Ce,at,"∠","\\angle",!0),Y(ae,Ce,at,"∞","\\infty",!0),Y(ae,Ce,at,"′","\\prime"),Y(ae,Ce,at,"△","\\triangle"),Y(ae,Ce,at,"Γ","\\Gamma",!0),Y(ae,Ce,at,"Δ","\\Delta",!0),Y(ae,Ce,at,"Θ","\\Theta",!0),Y(ae,Ce,at,"Λ","\\Lambda",!0),Y(ae,Ce,at,"Ξ","\\Xi",!0),Y(ae,Ce,at,"Π","\\Pi",!0),Y(ae,Ce,at,"Σ","\\Sigma",!0),Y(ae,Ce,at,"Υ","\\Upsilon",!0),Y(ae,Ce,at,"Φ","\\Phi",!0),Y(ae,Ce,at,"Ψ","\\Psi",!0),Y(ae,Ce,at,"Ω","\\Omega",!0),Y(ae,Ce,at,"A","Α"),Y(ae,Ce,at,"B","Β"),Y(ae,Ce,at,"E","Ε"),Y(ae,Ce,at,"Z","Ζ"),Y(ae,Ce,at,"H","Η"),Y(ae,Ce,at,"I","Ι"),Y(ae,Ce,at,"K","Κ"),Y(ae,Ce,at,"M","Μ"),Y(ae,Ce,at,"N","Ν"),Y(ae,Ce,at,"O","Ο"),Y(ae,Ce,at,"P","Ρ"),Y(ae,Ce,at,"T","Τ"),Y(ae,Ce,at,"X","Χ"),Y(ae,Ce,at,"¬","\\neg",!0),Y(ae,Ce,at,"¬","\\lnot"),Y(ae,Ce,at,"⊤","\\top"),Y(ae,Ce,at,"⊥","\\bot"),Y(ae,Ce,at,"∅","\\emptyset"),Y(ae,oe,at,"∅","\\varnothing"),Y(ae,Ce,xt,"α","\\alpha",!0),Y(ae,Ce,xt,"β","\\beta",!0),Y(ae,Ce,xt,"γ","\\gamma",!0),Y(ae,Ce,xt,"δ","\\delta",!0),Y(ae,Ce,xt,"ϵ","\\epsilon",!0),Y(ae,Ce,xt,"ζ","\\zeta",!0),Y(ae,Ce,xt,"η","\\eta",!0),Y(ae,Ce,xt,"θ","\\theta",!0),Y(ae,Ce,xt,"ι","\\iota",!0),Y(ae,Ce,xt,"κ","\\kappa",!0),Y(ae,Ce,xt,"λ","\\lambda",!0),Y(ae,Ce,xt,"μ","\\mu",!0),Y(ae,Ce,xt,"ν","\\nu",!0),Y(ae,Ce,xt,"ξ","\\xi",!0),Y(ae,Ce,xt,"ο","\\omicron",!0),Y(ae,Ce,xt,"π","\\pi",!0),Y(ae,Ce,xt,"ρ","\\rho",!0),Y(ae,Ce,xt,"σ","\\sigma",!0),Y(ae,Ce,xt,"τ","\\tau",!0),Y(ae,Ce,xt,"υ","\\upsilon",!0),Y(ae,Ce,xt,"ϕ","\\phi",!0),Y(ae,Ce,xt,"χ","\\chi",!0),Y(ae,Ce,xt,"ψ","\\psi",!0),Y(ae,Ce,xt,"ω","\\omega",!0),Y(ae,Ce,xt,"ε","\\varepsilon",!0),Y(ae,Ce,xt,"ϑ","\\vartheta",!0),Y(ae,Ce,xt,"ϖ","\\varpi",!0),Y(ae,Ce,xt,"ϱ","\\varrho",!0),Y(ae,Ce,xt,"ς","\\varsigma",!0),Y(ae,Ce,xt,"φ","\\varphi",!0),Y(ae,Ce,pt,"∗","*",!0),Y(ae,Ce,pt,"+","+"),Y(ae,Ce,pt,"−","-",!0),Y(ae,Ce,pt,"⋅","\\cdot",!0),Y(ae,Ce,pt,"∘","\\circ"),Y(ae,Ce,pt,"÷","\\div",!0),Y(ae,Ce,pt,"±","\\pm",!0),Y(ae,Ce,pt,"×","\\times",!0),Y(ae,Ce,pt,"∩","\\cap",!0),Y(ae,Ce,pt,"∪","\\cup",!0),Y(ae,Ce,pt,"∖","\\setminus"),Y(ae,Ce,pt,"∧","\\land"),Y(ae,Ce,pt,"∨","\\lor"),Y(ae,Ce,pt,"∧","\\wedge",!0),Y(ae,Ce,pt,"∨","\\vee",!0),Y(ae,Ce,at,"√","\\surd"),Y(ae,Ce,yn,"⟨","\\langle",!0),Y(ae,Ce,yn,"∣","\\lvert"),Y(ae,Ce,yn,"∥","\\lVert"),Y(ae,Ce,It,"?","?"),Y(ae,Ce,It,"!","!"),Y(ae,Ce,It,"⟩","\\rangle",!0),Y(ae,Ce,It,"∣","\\rvert"),Y(ae,Ce,It,"∥","\\rVert"),Y(ae,Ce,je,"=","="),Y(ae,Ce,je,":",":"),Y(ae,Ce,je,"≈","\\approx",!0),Y(ae,Ce,je,"≅","\\cong",!0),Y(ae,Ce,je,"≥","\\ge"),Y(ae,Ce,je,"≥","\\geq",!0),Y(ae,Ce,je,"←","\\gets"),Y(ae,Ce,je,">","\\gt",!0),Y(ae,Ce,je,"∈","\\in",!0),Y(ae,Ce,je,"","\\@not"),Y(ae,Ce,je,"⊂","\\subset",!0),Y(ae,Ce,je,"⊃","\\supset",!0),Y(ae,Ce,je,"⊆","\\subseteq",!0),Y(ae,Ce,je,"⊇","\\supseteq",!0),Y(ae,oe,je,"⊈","\\nsubseteq",!0),Y(ae,oe,je,"⊉","\\nsupseteq",!0),Y(ae,Ce,je,"⊨","\\models"),Y(ae,Ce,je,"←","\\leftarrow",!0),Y(ae,Ce,je,"≤","\\le"),Y(ae,Ce,je,"≤","\\leq",!0),Y(ae,Ce,je,"<","\\lt",!0),Y(ae,Ce,je,"→","\\rightarrow",!0),Y(ae,Ce,je,"→","\\to"),Y(ae,oe,je,"≱","\\ngeq",!0),Y(ae,oe,je,"≰","\\nleq",!0),Y(ae,Ce,Xn," ","\\ "),Y(ae,Ce,Xn," ","\\space"),Y(ae,Ce,Xn," ","\\nobreakspace"),Y(Ut,Ce,Xn," ","\\ "),Y(Ut,Ce,Xn," "," "),Y(Ut,Ce,Xn," ","\\space"),Y(Ut,Ce,Xn," ","\\nobreakspace"),Y(ae,Ce,Xn,null,"\\nobreak"),Y(ae,Ce,Xn,null,"\\allowbreak"),Y(ae,Ce,On,",",","),Y(ae,Ce,On,";",";"),Y(ae,oe,pt,"⊼","\\barwedge",!0),Y(ae,oe,pt,"⊻","\\veebar",!0),Y(ae,Ce,pt,"⊙","\\odot",!0),Y(ae,Ce,pt,"⊕","\\oplus",!0),Y(ae,Ce,pt,"⊗","\\otimes",!0),Y(ae,Ce,at,"∂","\\partial",!0),Y(ae,Ce,pt,"⊘","\\oslash",!0),Y(ae,oe,pt,"⊚","\\circledcirc",!0),Y(ae,oe,pt,"⊡","\\boxdot",!0),Y(ae,Ce,pt,"△","\\bigtriangleup"),Y(ae,Ce,pt,"▽","\\bigtriangledown"),Y(ae,Ce,pt,"†","\\dagger"),Y(ae,Ce,pt,"⋄","\\diamond"),Y(ae,Ce,pt,"⋆","\\star"),Y(ae,Ce,pt,"◃","\\triangleleft"),Y(ae,Ce,pt,"▹","\\triangleright"),Y(ae,Ce,yn,"{","\\{"),Y(Ut,Ce,at,"{","\\{"),Y(Ut,Ce,at,"{","\\textbraceleft"),Y(ae,Ce,It,"}","\\}"),Y(Ut,Ce,at,"}","\\}"),Y(Ut,Ce,at,"}","\\textbraceright"),Y(ae,Ce,yn,"{","\\lbrace"),Y(ae,Ce,It,"}","\\rbrace"),Y(ae,Ce,yn,"[","\\lbrack",!0),Y(Ut,Ce,at,"[","\\lbrack",!0),Y(ae,Ce,It,"]","\\rbrack",!0),Y(Ut,Ce,at,"]","\\rbrack",!0),Y(ae,Ce,yn,"(","\\lparen",!0),Y(ae,Ce,It,")","\\rparen",!0),Y(Ut,Ce,at,"<","\\textless",!0),Y(Ut,Ce,at,">","\\textgreater",!0),Y(ae,Ce,yn,"⌊","\\lfloor",!0),Y(ae,Ce,It,"⌋","\\rfloor",!0),Y(ae,Ce,yn,"⌈","\\lceil",!0),Y(ae,Ce,It,"⌉","\\rceil",!0),Y(ae,Ce,at,"\\","\\backslash"),Y(ae,Ce,at,"∣","|"),Y(ae,Ce,at,"∣","\\vert"),Y(Ut,Ce,at,"|","\\textbar",!0),Y(ae,Ce,at,"∥","\\|"),Y(ae,Ce,at,"∥","\\Vert"),Y(Ut,Ce,at,"∥","\\textbardbl"),Y(Ut,Ce,at,"~","\\textasciitilde"),Y(Ut,Ce,at,"\\","\\textbackslash"),Y(Ut,Ce,at,"^","\\textasciicircum"),Y(ae,Ce,je,"↑","\\uparrow",!0),Y(ae,Ce,je,"⇑","\\Uparrow",!0),Y(ae,Ce,je,"↓","\\downarrow",!0),Y(ae,Ce,je,"⇓","\\Downarrow",!0),Y(ae,Ce,je,"↕","\\updownarrow",!0),Y(ae,Ce,je,"⇕","\\Updownarrow",!0),Y(ae,Ce,Kt,"∐","\\coprod"),Y(ae,Ce,Kt,"⋁","\\bigvee"),Y(ae,Ce,Kt,"⋀","\\bigwedge"),Y(ae,Ce,Kt,"⨄","\\biguplus"),Y(ae,Ce,Kt,"⋂","\\bigcap"),Y(ae,Ce,Kt,"⋃","\\bigcup"),Y(ae,Ce,Kt,"∫","\\int"),Y(ae,Ce,Kt,"∫","\\intop"),Y(ae,Ce,Kt,"∬","\\iint"),Y(ae,Ce,Kt,"∭","\\iiint"),Y(ae,Ce,Kt,"∏","\\prod"),Y(ae,Ce,Kt,"∑","\\sum"),Y(ae,Ce,Kt,"⨂","\\bigotimes"),Y(ae,Ce,Kt,"⨁","\\bigoplus"),Y(ae,Ce,Kt,"⨀","\\bigodot"),Y(ae,Ce,Kt,"∮","\\oint"),Y(ae,Ce,Kt,"∯","\\oiint"),Y(ae,Ce,Kt,"∰","\\oiiint"),Y(ae,Ce,Kt,"⨆","\\bigsqcup"),Y(ae,Ce,Kt,"∫","\\smallint"),Y(Ut,Ce,et,"…","\\textellipsis"),Y(ae,Ce,et,"…","\\mathellipsis"),Y(Ut,Ce,et,"…","\\ldots",!0),Y(ae,Ce,et,"…","\\ldots",!0),Y(ae,Ce,et,"⋯","\\@cdots",!0),Y(ae,Ce,et,"⋱","\\ddots",!0),Y(ae,Ce,at,"⋮","\\varvdots"),Y(ae,Ce,St,"ˊ","\\acute"),Y(ae,Ce,St,"ˋ","\\grave"),Y(ae,Ce,St,"¨","\\ddot"),Y(ae,Ce,St,"~","\\tilde"),Y(ae,Ce,St,"ˉ","\\bar"),Y(ae,Ce,St,"˘","\\breve"),Y(ae,Ce,St,"ˇ","\\check"),Y(ae,Ce,St,"^","\\hat"),Y(ae,Ce,St,"⃗","\\vec"),Y(ae,Ce,St,"˙","\\dot"),Y(ae,Ce,St,"˚","\\mathring"),Y(ae,Ce,xt,"","\\@imath"),Y(ae,Ce,xt,"","\\@jmath"),Y(ae,Ce,at,"ı","ı"),Y(ae,Ce,at,"ȷ","ȷ"),Y(Ut,Ce,at,"ı","\\i",!0),Y(Ut,Ce,at,"ȷ","\\j",!0),Y(Ut,Ce,at,"ß","\\ss",!0),Y(Ut,Ce,at,"æ","\\ae",!0),Y(Ut,Ce,at,"œ","\\oe",!0),Y(Ut,Ce,at,"ø","\\o",!0),Y(Ut,Ce,at,"Æ","\\AE",!0),Y(Ut,Ce,at,"Œ","\\OE",!0),Y(Ut,Ce,at,"Ø","\\O",!0),Y(Ut,Ce,St,"ˊ","\\'"),Y(Ut,Ce,St,"ˋ","\\`"),Y(Ut,Ce,St,"ˆ","\\^"),Y(Ut,Ce,St,"˜","\\~"),Y(Ut,Ce,St,"ˉ","\\="),Y(Ut,Ce,St,"˘","\\u"),Y(Ut,Ce,St,"˙","\\."),Y(Ut,Ce,St,"¸","\\c"),Y(Ut,Ce,St,"˚","\\r"),Y(Ut,Ce,St,"ˇ","\\v"),Y(Ut,Ce,St,"¨",'\\"'),Y(Ut,Ce,St,"˝","\\H"),Y(Ut,Ce,St,"◯","\\textcircled");var Pe={"--":!0,"---":!0,"``":!0,"''":!0};Y(Ut,Ce,at,"–","--",!0),Y(Ut,Ce,at,"–","\\textendash"),Y(Ut,Ce,at,"—","---",!0),Y(Ut,Ce,at,"—","\\textemdash"),Y(Ut,Ce,at,"‘","`",!0),Y(Ut,Ce,at,"‘","\\textquoteleft"),Y(Ut,Ce,at,"’","'",!0),Y(Ut,Ce,at,"’","\\textquoteright"),Y(Ut,Ce,at,"“","``",!0),Y(Ut,Ce,at,"“","\\textquotedblleft"),Y(Ut,Ce,at,"”","''",!0),Y(Ut,Ce,at,"”","\\textquotedblright"),Y(ae,Ce,at,"°","\\degree",!0),Y(Ut,Ce,at,"°","\\degree"),Y(Ut,Ce,at,"°","\\textdegree",!0),Y(ae,Ce,at,"£","\\pounds"),Y(ae,Ce,at,"£","\\mathsterling",!0),Y(Ut,Ce,at,"£","\\pounds"),Y(Ut,Ce,at,"£","\\textsterling",!0),Y(ae,oe,at,"✠","\\maltese"),Y(Ut,oe,at,"✠","\\maltese");for(var yt='0123456789/@."',Ge=0;Ge<yt.length;Ge++){var lt=yt.charAt(Ge);Y(ae,Ce,at,lt,lt)}for(var it='0123456789!@*()-=+";:?/.,',Mt=0;Mt<it.length;Mt++){var tn=it.charAt(Mt);Y(Ut,Ce,at,tn,tn)}for(var Qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",mn=0;mn<Qt.length;mn++){var Gn=Qt.charAt(mn);Y(ae,Ce,xt,Gn,Gn),Y(Ut,Ce,at,Gn,Gn)}Y(ae,oe,at,"C","ℂ"),Y(Ut,oe,at,"C","ℂ"),Y(ae,oe,at,"H","ℍ"),Y(Ut,oe,at,"H","ℍ"),Y(ae,oe,at,"N","ℕ"),Y(Ut,oe,at,"N","ℕ"),Y(ae,oe,at,"P","ℙ"),Y(Ut,oe,at,"P","ℙ"),Y(ae,oe,at,"Q","ℚ"),Y(Ut,oe,at,"Q","ℚ"),Y(ae,oe,at,"R","ℝ"),Y(Ut,oe,at,"R","ℝ"),Y(ae,oe,at,"Z","ℤ"),Y(Ut,oe,at,"Z","ℤ"),Y(ae,Ce,xt,"h","ℎ"),Y(Ut,Ce,xt,"h","ℎ");for(var rn="",Cn=0;Cn<Qt.length;Cn++){var An=Qt.charAt(Cn);rn=String.fromCharCode(55349,56320+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56372+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56424+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56580+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56736+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56788+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56840+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56944+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),Cn<26&&(rn=String.fromCharCode(55349,56632+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn),rn=String.fromCharCode(55349,56476+Cn),Y(ae,Ce,xt,An,rn),Y(Ut,Ce,at,An,rn))}rn=String.fromCharCode(55349,56668),Y(ae,Ce,xt,"k",rn),Y(Ut,Ce,at,"k",rn);for(var ir=0;ir<10;ir++){var Wr=ir.toString();rn=String.fromCharCode(55349,57294+ir),Y(ae,Ce,xt,Wr,rn),Y(Ut,Ce,at,Wr,rn),rn=String.fromCharCode(55349,57314+ir),Y(ae,Ce,xt,Wr,rn),Y(Ut,Ce,at,Wr,rn),rn=String.fromCharCode(55349,57324+ir),Y(ae,Ce,xt,Wr,rn),Y(Ut,Ce,at,Wr,rn),rn=String.fromCharCode(55349,57334+ir),Y(ae,Ce,xt,Wr,rn),Y(Ut,Ce,at,Wr,rn)}for(var vr="ÐÞþ",gr=0;gr<vr.length;gr++){var Wn=vr.charAt(gr);Y(ae,Ce,xt,Wn,Wn),Y(Ut,Ce,at,Wn,Wn)}var Ci=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],qr=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],As=function(E,R){var P=E.charCodeAt(0),N=E.charCodeAt(1),q=(P-55296)*1024+(N-56320)+65536,te=R==="math"?0:1;if(119808<=q&&q<120484){var _e=Math.floor((q-119808)/26);return[Ci[_e][2],Ci[_e][te]]}else if(120782<=q&&q<=120831){var Le=Math.floor((q-120782)/10);return[qr[Le][2],qr[Le][te]]}else{if(q===120485||q===120486)return[Ci[0][2],Ci[0][te]];if(120486<q&&q<120782)return["",""];throw new a("Unsupported character: "+E)}},Qs=function(E,R,P){return Zn[P][E]&&Zn[P][E].replace&&(E=Zn[P][E].replace),{value:E,metrics:Je(E,R,P)}},hr=function(E,R,P,N,q){var te=Qs(E,R,P),_e=te.metrics;E=te.value;var Le;if(_e){var qe=_e.italic;(P==="text"||N&&N.font==="mathit")&&(qe=0),Le=new nt(E,_e.height,_e.depth,qe,_e.skew,_e.width,q)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+E+"' in style '"+R+"' and mode '"+P+"'")),Le=new nt(E,0,0,0,0,0,q);if(N){Le.maxFontSize=N.sizeMultiplier,N.style.isTight()&&Le.classes.push("mtight");var ct=N.getColor();ct&&(Le.style.color=ct)}return Le},zl=function(E,R,P,N){return N===void 0&&(N=[]),P.font==="boldsymbol"&&Qs(E,"Main-Bold",R).metrics?hr(E,"Main-Bold",R,P,N.concat(["mathbf"])):E==="\\"||Zn[R][E].font==="main"?hr(E,"Main-Regular",R,P,N):hr(E,"AMS-Regular",R,P,N.concat(["amsrm"]))},gi=function(E,R,P,N,q){return q!=="textord"&&Qs(E,"Math-BoldItalic",R).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Va=function(E,R,P){var N=E.mode,q=E.text,te=["mord"],_e=N==="math"||N==="text"&&R.font,Le=_e?R.font:R.fontFamily;if(q.charCodeAt(0)===55349){var qe=As(q,N),ct=qe[0],Dt=qe[1];return hr(q,ct,N,R,te.concat(Dt))}else if(Le){var $t,Xt;if(Le==="boldsymbol"){var jt=gi(q,N,R,te,P);$t=jt.fontName,Xt=[jt.fontClass]}else _e?($t=kt[Le].fontName,Xt=[Le]):($t=Fe(Le,R.fontWeight,R.fontShape),Xt=[Le,R.fontWeight,R.fontShape]);if(Qs(q,$t,N).metrics)return hr(q,$t,N,R,te.concat(Xt));if(Pe.hasOwnProperty(q)&&$t.substr(0,10)==="Typewriter"){for(var fn=[],vn=0;vn<q.length;vn++)fn.push(hr(q[vn],$t,N,R,te.concat(Xt)));return _h(fn)}}if(P==="mathord")return hr(q,"Math-Italic",N,R,te.concat(["mathnormal"]));if(P==="textord"){var zn=Zn[N][q]&&Zn[N][q].font;if(zn==="ams"){var Yn=Fe("amsrm",R.fontWeight,R.fontShape);return hr(q,Yn,N,R,te.concat("amsrm",R.fontWeight,R.fontShape))}else if(zn==="main"||!zn){var tr=Fe("textrm",R.fontWeight,R.fontShape);return hr(q,tr,N,R,te.concat(R.fontWeight,R.fontShape))}else{var Jr=Fe(zn,R.fontWeight,R.fontShape);return hr(q,Jr,N,R,te.concat(Jr,R.fontWeight,R.fontShape))}}else throw new Error("unexpected type: "+P+" in makeOrd")},$a=function(E,R){if(ge(E.classes)!==ge(R.classes)||E.skew!==R.skew||E.maxFontSize!==R.maxFontSize)return!1;if(E.classes.length===1){var P=E.classes[0];if(P==="mbin"||P==="mord")return!1}for(var N in E.style)if(E.style.hasOwnProperty(N)&&E.style[N]!==R.style[N])return!1;for(var q in R.style)if(R.style.hasOwnProperty(q)&&E.style[q]!==R.style[q])return!1;return!0},ta=function(E){for(var R=0;R<E.length-1;R++){var P=E[R],N=E[R+1];P instanceof nt&&N instanceof nt&&$a(P,N)&&(P.text+=N.text,P.height=Math.max(P.height,N.height),P.depth=Math.max(P.depth,N.depth),P.italic=N.italic,E.splice(R+1,1),R--)}return E},Wi=function(E){for(var R=0,P=0,N=0,q=0;q<E.children.length;q++){var te=E.children[q];te.height>R&&(R=te.height),te.depth>P&&(P=te.depth),te.maxFontSize>N&&(N=te.maxFontSize)}E.height=R,E.depth=P,E.maxFontSize=N},qi=function(E,R,P,N){var q=new Se(E,R,P,N);return Wi(q),q},wo=function(E,R,P,N){return new Se(E,R,P,N)},CA=function(E,R,P){var N=qi([E],[],R);return N.height=Math.max(P||R.fontMetrics().defaultRuleThickness,R.minRuleThickness),N.style.borderBottomWidth=$(N.height),N.maxFontSize=1,N},ar=function(E,R,P,N){var q=new ft(E,R,P,N);return Wi(q),q},_h=function(E){var R=new Ue(E);return Wi(R),R},xe=function(E,R){return E instanceof Ue?qi([],[E],R):E},we=function(E){if(E.positionType==="individualShift"){for(var R=E.children,P=[R[0]],N=-R[0].shift-R[0].elem.depth,q=N,te=1;te<R.length;te++){var _e=-R[te].shift-q-R[te].elem.depth,Le=_e-(R[te-1].elem.height+R[te-1].elem.depth);q=q+_e,P.push({type:"kern",size:Le}),P.push(R[te])}return{children:P,depth:N}}var qe;if(E.positionType==="top"){for(var ct=E.positionData,Dt=0;Dt<E.children.length;Dt++){var $t=E.children[Dt];ct-=$t.type==="kern"?$t.size:$t.elem.height+$t.elem.depth}qe=ct}else if(E.positionType==="bottom")qe=-E.positionData;else{var Xt=E.children[0];if(Xt.type!=="elem")throw new Error('First child must have type "elem".');if(E.positionType==="shift")qe=-Xt.elem.depth-E.positionData;else if(E.positionType==="firstBaseline")qe=-Xt.elem.depth;else throw new Error("Invalid positionType "+E.positionType+".")}return{children:E.children,depth:qe}},Be=function(E,R){for(var P=we(E),N=P.children,q=P.depth,te=0,_e=0;_e<N.length;_e++){var Le=N[_e];if(Le.type==="elem"){var qe=Le.elem;te=Math.max(te,qe.maxFontSize,qe.height)}}te+=2;var ct=qi(["pstrut"],[]);ct.style.height=$(te);for(var Dt=[],$t=q,Xt=q,jt=q,fn=0;fn<N.length;fn++){var vn=N[fn];if(vn.type==="kern")jt+=vn.size;else{var zn=vn.elem,Yn=vn.wrapperClasses||[],tr=vn.wrapperStyle||{},Jr=qi(Yn,[ct,zn],void 0,tr);Jr.style.top=$(-te-jt-zn.depth),vn.marginLeft&&(Jr.style.marginLeft=vn.marginLeft),vn.marginRight&&(Jr.style.marginRight=vn.marginRight),Dt.push(Jr),jt+=zn.height+zn.depth}$t=Math.min($t,jt),Xt=Math.max(Xt,jt)}var hi=qi(["vlist"],Dt);hi.style.height=$(Xt);var Bi;if($t<0){var si=qi([],[]),pi=qi(["vlist"],[si]);pi.style.height=$(-$t);var na=qi(["vlist-s"],[new nt("​")]);Bi=[qi(["vlist-r"],[hi,na]),qi(["vlist-r"],[pi])]}else Bi=[qi(["vlist-r"],[hi])];var Ei=qi(["vlist-t"],Bi);return Bi.length===2&&Ei.classes.push("vlist-t2"),Ei.height=Xt,Ei.depth=-$t,Ei},ke=function(E,R){var P=qi(["mspace"],[],R),N=st(E,R);return P.style.marginRight=$(N),P},Fe=function(E,R,P){var N="";switch(E){case"amsrm":N="AMS";break;case"textrm":N="Main";break;case"textsf":N="SansSerif";break;case"texttt":N="Typewriter";break;default:N=E}var q;return R==="textbf"&&P==="textit"?q="BoldItalic":R==="textbf"?q="Bold":R==="textit"?q="Italic":q="Regular",N+"-"+q},kt={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ft={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Rn=function(E,R){var P=Ft[E],N=P[0],q=P[1],te=P[2],_e=new Lt(N),Le=new gt([_e],{width:$(q),height:$(te),style:"width:"+$(q),viewBox:"0 0 "+1e3*q+" "+1e3*te,preserveAspectRatio:"xMinYMin"}),qe=wo(["overlay"],[Le],R);return qe.height=te,qe.style.height=$(te),qe.style.width=$(q),qe},ot={fontMap:kt,makeSymbol:hr,mathsym:zl,makeSpan:qi,makeSvgSpan:wo,makeLineSpan:CA,makeAnchor:ar,makeFragment:_h,wrapFragment:xe,makeVList:Be,makeOrd:Va,makeGlue:ke,staticSvg:Rn,svgData:Ft,tryCombineChars:ta},ln={number:3,unit:"mu"},Fn={number:4,unit:"mu"},Jt={number:5,unit:"mu"},Qn={mord:{mop:ln,mbin:Fn,mrel:Jt,minner:ln},mop:{mord:ln,mop:ln,mrel:Jt,minner:ln},mbin:{mord:Fn,mop:Fn,mopen:Fn,minner:Fn},mrel:{mord:Jt,mop:Jt,mopen:Jt,minner:Jt},mopen:{},mclose:{mop:ln,mbin:Fn,mrel:Jt,minner:ln},mpunct:{mord:ln,mop:ln,mrel:Jt,mopen:ln,mclose:ln,mpunct:ln,minner:ln},minner:{mord:ln,mop:ln,mbin:Fn,mrel:Jt,mopen:ln,mpunct:ln,minner:ln}},Bn={mord:{mop:ln},mop:{mord:ln,mop:ln},mbin:{},mrel:{},mopen:{},mclose:{mop:ln},mpunct:{},minner:{mop:ln}},er={},qn={},yi={};function nn(ne){for(var E=ne.type,R=ne.names,P=ne.props,N=ne.handler,q=ne.htmlBuilder,te=ne.mathmlBuilder,_e={type:E,numArgs:P.numArgs,argTypes:P.argTypes,allowedInArgument:!!P.allowedInArgument,allowedInText:!!P.allowedInText,allowedInMath:P.allowedInMath===void 0?!0:P.allowedInMath,numOptionalArgs:P.numOptionalArgs||0,infix:!!P.infix,primitive:!!P.primitive,handler:N},Le=0;Le<R.length;++Le)er[R[Le]]=_e;E&&(q&&(qn[E]=q),te&&(yi[E]=te))}function wr(ne){var E=ne.type,R=ne.htmlBuilder,P=ne.mathmlBuilder;nn({type:E,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:R,mathmlBuilder:P})}var Nr=function(E){return E.type==="ordgroup"&&E.body.length===1?E.body[0]:E},ai=function(E){return E.type==="ordgroup"?E.body:[E]},Oi=ot.makeSpan,Ed=["leftmost","mbin","mopen","mrel","mop","mpunct"],MA=["rightmost","mrel","mclose","mpunct"],_w={display:O.DISPLAY,text:O.TEXT,script:O.SCRIPT,scriptscript:O.SCRIPTSCRIPT},sae={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ga=function(E,R,P,N){N===void 0&&(N=[null,null]);for(var q=[],te=0;te<E.length;te++){var _e=Qr(E[te],R);if(_e instanceof Ue){var Le=_e.children;q.push.apply(q,Le)}else q.push(_e)}if(ot.tryCombineChars(q),!P)return q;var qe=R;if(E.length===1){var ct=E[0];ct.type==="sizing"?qe=R.havingSize(ct.size):ct.type==="styling"&&(qe=R.havingStyle(_w[ct.style]))}var Dt=Oi([N[0]||"leftmost"],[],R),$t=Oi([N[1]||"rightmost"],[],R),Xt=P==="root";return DN(q,function(jt,fn){var vn=fn.classes[0],zn=jt.classes[0];vn==="mbin"&&g.contains(MA,zn)?fn.classes[0]="mord":zn==="mbin"&&g.contains(Ed,vn)&&(jt.classes[0]="mord")},{node:Dt},$t,Xt),DN(q,function(jt,fn){var vn=TA(fn),zn=TA(jt),Yn=vn&&zn?jt.hasClass("mtight")?Bn[vn][zn]:Qn[vn][zn]:null;if(Yn)return ot.makeGlue(Yn,qe)},{node:Dt},$t,Xt),q},DN=function ne(E,R,P,N,q){N&&E.push(N);for(var te=0;te<E.length;te++){var _e=E[te],Le=kN(_e);if(Le){ne(Le.children,R,P,null,q);continue}var qe=!_e.hasClass("mspace");if(qe){var ct=R(_e,P.node);ct&&(P.insertAfter?P.insertAfter(ct):(E.unshift(ct),te++))}qe?P.node=_e:q&&_e.hasClass("newline")&&(P.node=Oi(["leftmost"])),P.insertAfter=function(Dt){return function($t){E.splice(Dt+1,0,$t),te++}}(te)}N&&E.pop()},kN=function(E){return E instanceof Ue||E instanceof ft||E instanceof Se&&E.hasClass("enclosing")?E:null},oae=function ne(E,R){var P=kN(E);if(P){var N=P.children;if(N.length){if(R==="right")return ne(N[N.length-1],"right");if(R==="left")return ne(N[0],"left")}}return E},TA=function(E,R){return E?(R&&(E=oae(E,R)),sae[E.classes[0]]||null):null},_y=function(E,R){var P=["nulldelimiter"].concat(E.baseSizingClasses());return Oi(R.concat(P))},Qr=function(E,R,P){if(!E)return Oi();if(qn[E.type]){var N=qn[E.type](E,R);if(P&&R.size!==P.size){N=Oi(R.sizingClasses(P),[N],R);var q=R.sizeMultiplier/P.sizeMultiplier;N.height*=q,N.depth*=q}return N}else throw new a("Got group of unknown type: '"+E.type+"'")};function ww(ne,E){var R=Oi(["base"],ne,E),P=Oi(["strut"]);return P.style.height=$(R.height+R.depth),R.depth&&(P.style.verticalAlign=$(-R.depth)),R.children.unshift(P),R}function AA(ne,E){var R=null;ne.length===1&&ne[0].type==="tag"&&(R=ne[0].tag,ne=ne[0].body);var P=Ga(ne,E,"root"),N;P.length===2&&P[1].hasClass("tag")&&(N=P.pop());for(var q=[],te=[],_e=0;_e<P.length;_e++)if(te.push(P[_e]),P[_e].hasClass("mbin")||P[_e].hasClass("mrel")||P[_e].hasClass("allowbreak")){for(var Le=!1;_e<P.length-1&&P[_e+1].hasClass("mspace")&&!P[_e+1].hasClass("newline");)_e++,te.push(P[_e]),P[_e].hasClass("nobreak")&&(Le=!0);Le||(q.push(ww(te,E)),te=[])}else P[_e].hasClass("newline")&&(te.pop(),te.length>0&&(q.push(ww(te,E)),te=[]),q.push(P[_e]));te.length>0&&q.push(ww(te,E));var qe;R?(qe=ww(Ga(R,E,!0)),qe.classes=["tag"],q.push(qe)):N&&q.push(N);var ct=Oi(["katex-html"],q);if(ct.setAttribute("aria-hidden","true"),qe){var Dt=qe.children[0];Dt.style.height=$(ct.height+ct.depth),ct.depth&&(Dt.style.verticalAlign=$(-ct.depth))}return ct}function LN(ne){return new Ue(ne)}var Yo=function(){function ne(R,P,N){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=R,this.attributes={},this.children=P||[],this.classes=N||[]}var E=ne.prototype;return E.setAttribute=function(P,N){this.attributes[P]=N},E.getAttribute=function(P){return this.attributes[P]},E.toNode=function(){var P=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&P.setAttribute(N,this.attributes[N]);this.classes.length>0&&(P.className=ge(this.classes));for(var q=0;q<this.children.length;q++)P.appendChild(this.children[q].toNode());return P},E.toMarkup=function(){var P="<"+this.type;for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&(P+=" "+N+'="',P+=g.escape(this.attributes[N]),P+='"');this.classes.length>0&&(P+=' class ="'+g.escape(ge(this.classes))+'"'),P+=">";for(var q=0;q<this.children.length;q++)P+=this.children[q].toMarkup();return P+="</"+this.type+">",P},E.toText=function(){return this.children.map(function(P){return P.toText()}).join("")},ne}(),wy=function(){function ne(R){this.text=void 0,this.text=R}var E=ne.prototype;return E.toNode=function(){return document.createTextNode(this.text)},E.toMarkup=function(){return g.escape(this.toText())},E.toText=function(){return this.text},ne}(),lae=function(){function ne(R){this.width=void 0,this.character=void 0,this.width=R,R>=.05555&&R<=.05556?this.character=" ":R>=.1666&&R<=.1667?this.character=" ":R>=.2222&&R<=.2223?this.character=" ":R>=.2777&&R<=.2778?this.character="  ":R>=-.05556&&R<=-.05555?this.character=" ⁣":R>=-.1667&&R<=-.1666?this.character=" ⁣":R>=-.2223&&R<=-.2222?this.character=" ⁣":R>=-.2778&&R<=-.2777?this.character=" ⁣":this.character=null}var E=ne.prototype;return E.toNode=function(){if(this.character)return document.createTextNode(this.character);var P=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return P.setAttribute("width",$(this.width)),P},E.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+$(this.width)+'"/>'},E.toText=function(){return this.character?this.character:" "},ne}(),on={MathNode:Yo,TextNode:wy,SpaceNode:lae,newDocumentFragment:LN},Xo=function(E,R,P){return Zn[R][E]&&Zn[R][E].replace&&E.charCodeAt(0)!==55349&&!(Pe.hasOwnProperty(E)&&P&&(P.fontFamily&&P.fontFamily.substr(4,2)==="tt"||P.font&&P.font.substr(4,2)==="tt"))&&(E=Zn[R][E].replace),new on.TextNode(E)},EA=function(E){return E.length===1?E[0]:new on.MathNode("mrow",E)},IA=function(E,R){if(R.fontFamily==="texttt")return"monospace";if(R.fontFamily==="textsf")return R.fontShape==="textit"&&R.fontWeight==="textbf"?"sans-serif-bold-italic":R.fontShape==="textit"?"sans-serif-italic":R.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(R.fontShape==="textit"&&R.fontWeight==="textbf")return"bold-italic";if(R.fontShape==="textit")return"italic";if(R.fontWeight==="textbf")return"bold";var P=R.font;if(!P||P==="mathnormal")return null;var N=E.mode;if(P==="mathit")return"italic";if(P==="boldsymbol")return E.type==="textord"?"bold":"bold-italic";if(P==="mathbf")return"bold";if(P==="mathbb")return"double-struck";if(P==="mathfrak")return"fraktur";if(P==="mathscr"||P==="mathcal")return"script";if(P==="mathsf")return"sans-serif";if(P==="mathtt")return"monospace";var q=E.text;if(g.contains(["\\imath","\\jmath"],q))return null;Zn[N][q]&&Zn[N][q].replace&&(q=Zn[N][q].replace);var te=ot.fontMap[P].fontName;return Je(q,te,N)?ot.fontMap[P].variant:null},xo=function(E,R,P){if(E.length===1){var N=Mi(E[0],R);return P&&N instanceof Yo&&N.type==="mo"&&(N.setAttribute("lspace","0em"),N.setAttribute("rspace","0em")),[N]}for(var q=[],te,_e=0;_e<E.length;_e++){var Le=Mi(E[_e],R);if(Le instanceof Yo&&te instanceof Yo){if(Le.type==="mtext"&&te.type==="mtext"&&Le.getAttribute("mathvariant")===te.getAttribute("mathvariant")){var qe;(qe=te.children).push.apply(qe,Le.children);continue}else if(Le.type==="mn"&&te.type==="mn"){var ct;(ct=te.children).push.apply(ct,Le.children);continue}else if(Le.type==="mi"&&Le.children.length===1&&te.type==="mn"){var Dt=Le.children[0];if(Dt instanceof wy&&Dt.text==="."){var $t;($t=te.children).push.apply($t,Le.children);continue}}else if(te.type==="mi"&&te.children.length===1){var Xt=te.children[0];if(Xt instanceof wy&&Xt.text==="̸"&&(Le.type==="mo"||Le.type==="mi"||Le.type==="mn")){var jt=Le.children[0];jt instanceof wy&&jt.text.length>0&&(jt.text=jt.text.slice(0,1)+"̸"+jt.text.slice(1),q.pop())}}}q.push(Le),te=Le}return q},Id=function(E,R,P){return EA(xo(E,R,P))},Mi=function(E,R){if(!E)return new on.MathNode("mrow");if(yi[E.type]){var P=yi[E.type](E,R);return P}else throw new a("Got group of unknown type: '"+E.type+"'")};function NN(ne,E,R,P,N){var q=xo(ne,R),te;q.length===1&&q[0]instanceof Yo&&g.contains(["mrow","mtable"],q[0].type)?te=q[0]:te=new on.MathNode("mrow",q);var _e=new on.MathNode("annotation",[new on.TextNode(E)]);_e.setAttribute("encoding","application/x-tex");var Le=new on.MathNode("semantics",[te,_e]),qe=new on.MathNode("math",[Le]);qe.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),P&&qe.setAttribute("display","block");var ct=N?"katex":"katex-mathml";return ot.makeSpan([ct],[qe])}var ON=function(E){return new mt({style:E.displayMode?O.DISPLAY:O.TEXT,maxSize:E.maxSize,minRuleThickness:E.minRuleThickness})},BN=function(E,R){if(R.displayMode){var P=["katex-display"];R.leqno&&P.push("leqno"),R.fleqn&&P.push("fleqn"),E=ot.makeSpan(P,[E])}return E},cae=function(E,R,P){var N=ON(P),q;if(P.output==="mathml")return NN(E,R,N,P.displayMode,!0);if(P.output==="html"){var te=AA(E,N);q=ot.makeSpan(["katex"],[te])}else{var _e=NN(E,R,N,P.displayMode,!1),Le=AA(E,N);q=ot.makeSpan(["katex"],[_e,Le])}return BN(q,P)},uae=function(E,R,P){var N=ON(P),q=AA(E,N),te=ot.makeSpan(["katex"],[q]);return BN(te,P)},dae={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},fae=function(E){var R=new on.MathNode("mo",[new on.TextNode(dae[E.replace(/^\\/,"")])]);return R.setAttribute("stretchy","true"),R},hae={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},pae=function(E){return E.type==="ordgroup"?E.body.length:1},mae=function(E,R){function P(){var Le=4e5,qe=E.label.substr(1);if(g.contains(["widehat","widecheck","widetilde","utilde"],qe)){var ct=E,Dt=pae(ct.base),$t,Xt,jt;if(Dt>5)qe==="widehat"||qe==="widecheck"?($t=420,Le=2364,jt=.42,Xt=qe+"4"):($t=312,Le=2340,jt=.34,Xt="tilde4");else{var fn=[1,1,2,2,3,3][Dt];qe==="widehat"||qe==="widecheck"?(Le=[0,1062,2364,2364,2364][fn],$t=[0,239,300,360,420][fn],jt=[0,.24,.3,.3,.36,.42][fn],Xt=qe+fn):(Le=[0,600,1033,2339,2340][fn],$t=[0,260,286,306,312][fn],jt=[0,.26,.286,.3,.306,.34][fn],Xt="tilde"+fn)}var vn=new Lt(Xt),zn=new gt([vn],{width:"100%",height:$(jt),viewBox:"0 0 "+Le+" "+$t,preserveAspectRatio:"none"});return{span:ot.makeSvgSpan([],[zn],R),minWidth:0,height:jt}}else{var Yn=[],tr=hae[qe],Jr=tr[0],hi=tr[1],Bi=tr[2],si=Bi/1e3,pi=Jr.length,na,Ei;if(pi===1){var So=tr[3];na=["hide-tail"],Ei=[So]}else if(pi===2)na=["halfarrow-left","halfarrow-right"],Ei=["xMinYMin","xMaxYMin"];else if(pi===3)na=["brace-left","brace-center","brace-right"],Ei=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+pi+" children.");for(var Co=0;Co<pi;Co++){var Dd=new Lt(Jr[Co]),Rc=new gt([Dd],{width:"400em",height:$(si),viewBox:"0 0 "+Le+" "+Bi,preserveAspectRatio:Ei[Co]+" slice"}),Mo=ot.makeSvgSpan([na[Co]],[Rc],R);if(pi===1)return{span:Mo,minWidth:hi,height:si};Mo.style.height=$(si),Yn.push(Mo)}return{span:ot.makeSpan(["stretchy"],Yn,R),minWidth:hi,height:si}}}var N=P(),q=N.span,te=N.minWidth,_e=N.height;return q.height=_e,q.style.height=$(_e),te>0&&(q.style.minWidth=$(te)),q},vae=function(E,R,P,N,q){var te,_e=E.height+E.depth+P+N;if(/fbox|color|angl/.test(R)){if(te=ot.makeSpan(["stretchy",R],[],q),R==="fbox"){var Le=q.color&&q.getColor();Le&&(te.style.borderColor=Le)}}else{var qe=[];/^[bx]cancel$/.test(R)&&qe.push(new At({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(R)&&qe.push(new At({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var ct=new gt(qe,{width:"100%",height:$(_e)});te=ot.makeSvgSpan([],[ct],q)}return te.height=_e,te.style.height=$(_e),te},yu={encloseSpan:vae,mathMLnode:fae,svgSpan:mae};function br(ne,E){if(!ne||ne.type!==E)throw new Error("Expected node of type "+E+", but got "+(ne?"node of type "+ne.type:String(ne)));return ne}function RA(ne){var E=xw(ne);if(!E)throw new Error("Expected node of symbol group type, but got "+(ne?"node of type "+ne.type:String(ne)));return E}function xw(ne){return ne&&(ne.type==="atom"||kn.hasOwnProperty(ne.type))?ne:null}var PA=function(E,R){var P,N,q;E&&E.type==="supsub"?(N=br(E.base,"accent"),P=N.base,E.base=P,q=_n(Qr(E,R)),E.base=N):(N=br(E,"accent"),P=N.base);var te=Qr(P,R.havingCrampedStyle()),_e=N.isShifty&&g.isCharacterBox(P),Le=0;if(_e){var qe=g.getBaseElem(P),ct=Qr(qe,R.havingCrampedStyle());Le=an(ct).skew}var Dt=N.label==="\\c",$t=Dt?te.height+te.depth:Math.min(te.height,R.fontMetrics().xHeight),Xt;if(N.isStretchy)Xt=yu.svgSpan(N,R),Xt=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:te},{type:"elem",elem:Xt,wrapperClasses:["svg-align"],wrapperStyle:Le>0?{width:"calc(100% - "+$(2*Le)+")",marginLeft:$(2*Le)}:void 0}]},R);else{var jt,fn;N.label==="\\vec"?(jt=ot.staticSvg("vec",R),fn=ot.svgData.vec[1]):(jt=ot.makeOrd({mode:N.mode,text:N.label},R,"textord"),jt=an(jt),jt.italic=0,fn=jt.width,Dt&&($t+=jt.depth)),Xt=ot.makeSpan(["accent-body"],[jt]);var vn=N.label==="\\textcircled";vn&&(Xt.classes.push("accent-full"),$t=te.height);var zn=Le;vn||(zn-=fn/2),Xt.style.left=$(zn),N.label==="\\textcircled"&&(Xt.style.top=".2em"),Xt=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:te},{type:"kern",size:-$t},{type:"elem",elem:Xt}]},R)}var Yn=ot.makeSpan(["mord","accent"],[Xt],R);return q?(q.children[0]=Yn,q.height=Math.max(Yn.height,q.height),q.classes[0]="mord",q):Yn},FN=function(E,R){var P=E.isStretchy?yu.mathMLnode(E.label):new on.MathNode("mo",[Xo(E.label,E.mode)]),N=new on.MathNode("mover",[Mi(E.base,R),P]);return N.setAttribute("accent","true"),N},gae=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(ne){return"\\"+ne}).join("|"));nn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(E,R){var P=Nr(R[0]),N=!gae.test(E.funcName),q=!N||E.funcName==="\\widehat"||E.funcName==="\\widetilde"||E.funcName==="\\widecheck";return{type:"accent",mode:E.parser.mode,label:E.funcName,isStretchy:N,isShifty:q,base:P}},htmlBuilder:PA,mathmlBuilder:FN}),nn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(E,R){var P=R[0],N=E.parser.mode;return N==="math"&&(E.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+E.funcName+" works only in text mode"),N="text"),{type:"accent",mode:N,label:E.funcName,isStretchy:!1,isShifty:!0,base:P}},htmlBuilder:PA,mathmlBuilder:FN}),nn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0];return{type:"accentUnder",mode:P.mode,label:N,base:q}},htmlBuilder:function(E,R){var P=Qr(E.base,R),N=yu.svgSpan(E,R),q=E.label==="\\utilde"?.12:0,te=ot.makeVList({positionType:"top",positionData:P.height,children:[{type:"elem",elem:N,wrapperClasses:["svg-align"]},{type:"kern",size:q},{type:"elem",elem:P}]},R);return ot.makeSpan(["mord","accentunder"],[te],R)},mathmlBuilder:function(E,R){var P=yu.mathMLnode(E.label),N=new on.MathNode("munder",[Mi(E.base,R),P]);return N.setAttribute("accentunder","true"),N}});var Sw=function(E){var R=new on.MathNode("mpadded",E?[E]:[]);return R.setAttribute("width","+0.6em"),R.setAttribute("lspace","0.3em"),R};nn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(E,R,P){var N=E.parser,q=E.funcName;return{type:"xArrow",mode:N.mode,label:q,body:R[0],below:P[0]}},htmlBuilder:function(E,R){var P=R.style,N=R.havingStyle(P.sup()),q=ot.wrapFragment(Qr(E.body,N,R),R),te=E.label.slice(0,2)==="\\x"?"x":"cd";q.classes.push(te+"-arrow-pad");var _e;E.below&&(N=R.havingStyle(P.sub()),_e=ot.wrapFragment(Qr(E.below,N,R),R),_e.classes.push(te+"-arrow-pad"));var Le=yu.svgSpan(E,R),qe=-R.fontMetrics().axisHeight+.5*Le.height,ct=-R.fontMetrics().axisHeight-.5*Le.height-.111;(q.depth>.25||E.label==="\\xleftequilibrium")&&(ct-=q.depth);var Dt;if(_e){var $t=-R.fontMetrics().axisHeight+_e.height+.5*Le.height+.111;Dt=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:q,shift:ct},{type:"elem",elem:Le,shift:qe},{type:"elem",elem:_e,shift:$t}]},R)}else Dt=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:q,shift:ct},{type:"elem",elem:Le,shift:qe}]},R);return Dt.children[0].children[0].children[1].classes.push("svg-align"),ot.makeSpan(["mrel","x-arrow"],[Dt],R)},mathmlBuilder:function(E,R){var P=yu.mathMLnode(E.label);P.setAttribute("minsize",E.label.charAt(0)==="x"?"1.75em":"3.0em");var N;if(E.body){var q=Sw(Mi(E.body,R));if(E.below){var te=Sw(Mi(E.below,R));N=new on.MathNode("munderover",[P,te,q])}else N=new on.MathNode("mover",[P,q])}else if(E.below){var _e=Sw(Mi(E.below,R));N=new on.MathNode("munder",[P,_e])}else N=Sw(),N=new on.MathNode("mover",[P,N]);return N}});var yae={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},zN=function(){return{type:"styling",body:[],mode:"math",style:"display"}},UN=function(E){return E.type==="textord"&&E.text==="@"},bae=function(E,R){return(E.type==="mathord"||E.type==="atom")&&E.text===R};function _ae(ne,E,R){var P=yae[ne];switch(P){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return R.callFunction(P,[E[0]],[E[1]]);case"\\uparrow":case"\\downarrow":{var N=R.callFunction("\\\\cdleft",[E[0]],[]),q={type:"atom",text:P,mode:"math",family:"rel"},te=R.callFunction("\\Big",[q],[]),_e=R.callFunction("\\\\cdright",[E[1]],[]),Le={type:"ordgroup",mode:"math",body:[N,te,_e]};return R.callFunction("\\\\cdparent",[Le],[])}case"\\\\cdlongequal":return R.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var qe={type:"textord",text:"\\Vert",mode:"math"};return R.callFunction("\\Big",[qe],[])}default:return{type:"textord",text:" ",mode:"math"}}}function wae(ne){var E=[];for(ne.gullet.beginGroup(),ne.gullet.macros.set("\\cr","\\\\\\relax"),ne.gullet.beginGroup();;){E.push(ne.parseExpression(!1,"\\\\")),ne.gullet.endGroup(),ne.gullet.beginGroup();var R=ne.fetch().text;if(R==="&"||R==="\\\\")ne.consume();else if(R==="\\end"){E[E.length-1].length===0&&E.pop();break}else throw new a("Expected \\\\ or \\cr or \\end",ne.nextToken)}for(var P=[],N=[P],q=0;q<E.length;q++){for(var te=E[q],_e=zN(),Le=0;Le<te.length;Le++)if(!UN(te[Le]))_e.body.push(te[Le]);else{P.push(_e),Le+=1;var qe=RA(te[Le]).text,ct=new Array(2);if(ct[0]={type:"ordgroup",mode:"math",body:[]},ct[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(qe)>-1))if("<>AV".indexOf(qe)>-1)for(var Dt=0;Dt<2;Dt++){for(var $t=!0,Xt=Le+1;Xt<te.length;Xt++){if(bae(te[Xt],qe)){$t=!1,Le=Xt;break}if(UN(te[Xt]))throw new a("Missing a "+qe+" character to complete a CD arrow.",te[Xt]);ct[Dt].body.push(te[Xt])}if($t)throw new a("Missing a "+qe+" character to complete a CD arrow.",te[Le])}else throw new a('Expected one of "<>AV=|." after @',te[Le]);var jt=_ae(qe,ct,ne),fn={type:"styling",body:[jt],mode:"math",style:"display"};P.push(fn),_e=zN()}q%2===0?P.push(_e):P.shift(),P=[],N.push(P)}ne.gullet.endGroup(),ne.gullet.endGroup();var vn=new Array(N[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:N,arraystretch:1,addJot:!0,rowGaps:[null],cols:vn,colSeparationType:"CD",hLinesBeforeRow:new Array(N.length+1).fill([])}}nn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName;return{type:"cdlabel",mode:P.mode,side:N.slice(4),label:R[0]}},htmlBuilder:function(E,R){var P=R.havingStyle(R.style.sup()),N=ot.wrapFragment(Qr(E.label,P,R),R);return N.classes.push("cd-label-"+E.side),N.style.bottom=$(.8-N.depth),N.height=0,N.depth=0,N},mathmlBuilder:function(E,R){var P=new on.MathNode("mrow",[Mi(E.label,R)]);return P=new on.MathNode("mpadded",[P]),P.setAttribute("width","0"),E.side==="left"&&P.setAttribute("lspace","-1width"),P.setAttribute("voffset","0.7em"),P=new on.MathNode("mstyle",[P]),P.setAttribute("displaystyle","false"),P.setAttribute("scriptlevel","1"),P}}),nn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(E,R){var P=E.parser;return{type:"cdlabelparent",mode:P.mode,fragment:R[0]}},htmlBuilder:function(E,R){var P=ot.wrapFragment(Qr(E.fragment,R),R);return P.classes.push("cd-vert-arrow"),P},mathmlBuilder:function(E,R){return new on.MathNode("mrow",[Mi(E.fragment,R)])}}),nn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){for(var P=E.parser,N=br(R[0],"ordgroup"),q=N.body,te="",_e=0;_e<q.length;_e++){var Le=br(q[_e],"textord");te+=Le.text}var qe=parseInt(te),ct;if(isNaN(qe))throw new a("\\@char has non-numeric argument "+te);if(qe<0||qe>=1114111)throw new a("\\@char with invalid code point "+te);return qe<=65535?ct=String.fromCharCode(qe):(qe-=65536,ct=String.fromCharCode((qe>>10)+55296,(qe&1023)+56320)),{type:"textord",mode:P.mode,text:ct}}});var HN=function(E,R){var P=Ga(E.body,R.withColor(E.color),!1);return ot.makeFragment(P)},VN=function(E,R){var P=xo(E.body,R.withColor(E.color)),N=new on.MathNode("mstyle",P);return N.setAttribute("mathcolor",E.color),N};nn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(E,R){var P=E.parser,N=br(R[0],"color-token").color,q=R[1];return{type:"color",mode:P.mode,color:N,body:ai(q)}},htmlBuilder:HN,mathmlBuilder:VN}),nn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(E,R){var P=E.parser,N=E.breakOnTokenText,q=br(R[0],"color-token").color;P.gullet.macros.set("\\current@color",q);var te=P.parseExpression(!0,N);return{type:"color",mode:P.mode,color:q,body:te}},htmlBuilder:HN,mathmlBuilder:VN}),nn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(E,R,P){var N=E.parser,q=P[0],te=!N.settings.displayMode||!N.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:N.mode,newLine:te,size:q&&br(q,"size").value}},htmlBuilder:function(E,R){var P=ot.makeSpan(["mspace"],[],R);return E.newLine&&(P.classes.push("newline"),E.size&&(P.style.marginTop=$(st(E.size,R)))),P},mathmlBuilder:function(E,R){var P=new on.MathNode("mspace");return E.newLine&&(P.setAttribute("linebreak","newline"),E.size&&P.setAttribute("height",$(st(E.size,R)))),P}});var DA={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},$N=function(E){var R=E.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(R))throw new a("Expected a control sequence",E);return R},xae=function(E){var R=E.gullet.popToken();return R.text==="="&&(R=E.gullet.popToken(),R.text===" "&&(R=E.gullet.popToken())),R},GN=function(E,R,P,N){var q=E.gullet.macros.get(P.text);q==null&&(P.noexpand=!0,q={tokens:[P],numArgs:0,unexpandable:!E.gullet.isExpandable(P.text)}),E.gullet.macros.set(R,q,N)};nn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(E){var R=E.parser,P=E.funcName;R.consumeSpaces();var N=R.fetch();if(DA[N.text])return(P==="\\global"||P==="\\\\globallong")&&(N.text=DA[N.text]),br(R.parseFunction(),"internal");throw new a("Invalid token after macro prefix",N)}}),nn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,N=R.gullet.popToken(),q=N.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(q))throw new a("Expected a control sequence",N);for(var te=0,_e,Le=[[]];R.gullet.future().text!=="{";)if(N=R.gullet.popToken(),N.text==="#"){if(R.gullet.future().text==="{"){_e=R.gullet.future(),Le[te].push("{");break}if(N=R.gullet.popToken(),!/^[1-9]$/.test(N.text))throw new a('Invalid argument number "'+N.text+'"');if(parseInt(N.text)!==te+1)throw new a('Argument number "'+N.text+'" out of order');te++,Le.push([])}else{if(N.text==="EOF")throw new a("Expected a macro definition");Le[te].push(N.text)}var qe=R.gullet.consumeArg(),ct=qe.tokens;return _e&&ct.unshift(_e),(P==="\\edef"||P==="\\xdef")&&(ct=R.gullet.expandTokens(ct),ct.reverse()),R.gullet.macros.set(q,{tokens:ct,numArgs:te,delimiters:Le},P===DA[P]),{type:"internal",mode:R.mode}}}),nn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,N=$N(R.gullet.popToken());R.gullet.consumeSpaces();var q=xae(R);return GN(R,N,q,P==="\\\\globallet"),{type:"internal",mode:R.mode}}}),nn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,N=$N(R.gullet.popToken()),q=R.gullet.popToken(),te=R.gullet.popToken();return GN(R,N,te,P==="\\\\globalfuture"),R.gullet.pushToken(te),R.gullet.pushToken(q),{type:"internal",mode:R.mode}}});var xy=function(E,R,P){var N=Zn.math[E]&&Zn.math[E].replace,q=Je(N||E,R,P);if(!q)throw new Error("Unsupported symbol "+E+" and font size "+R+".");return q},kA=function(E,R,P,N){var q=P.havingBaseStyle(R),te=ot.makeSpan(N.concat(q.sizingClasses(P)),[E],P),_e=q.sizeMultiplier/P.sizeMultiplier;return te.height*=_e,te.depth*=_e,te.maxFontSize=q.sizeMultiplier,te},WN=function(E,R,P){var N=R.havingBaseStyle(P),q=(1-R.sizeMultiplier/N.sizeMultiplier)*R.fontMetrics().axisHeight;E.classes.push("delimcenter"),E.style.top=$(q),E.height-=q,E.depth+=q},Sae=function(E,R,P,N,q,te){var _e=ot.makeSymbol(E,"Main-Regular",q,N),Le=kA(_e,R,N,te);return P&&WN(Le,N,R),Le},Cae=function(E,R,P,N){return ot.makeSymbol(E,"Size"+R+"-Regular",P,N)},qN=function(E,R,P,N,q,te){var _e=Cae(E,R,q,N),Le=kA(ot.makeSpan(["delimsizing","size"+R],[_e],N),O.TEXT,N,te);return P&&WN(Le,N,O.TEXT),Le},LA=function(E,R,P){var N;R==="Size1-Regular"?N="delim-size1":N="delim-size4";var q=ot.makeSpan(["delimsizinginner",N],[ot.makeSpan([],[ot.makeSymbol(E,R,P)])]);return{type:"elem",elem:q}},NA=function(E,R,P){var N=De["Size4-Regular"][E.charCodeAt(0)]?De["Size4-Regular"][E.charCodeAt(0)][4]:De["Size1-Regular"][E.charCodeAt(0)][4],q=new Lt("inner",ce(E,Math.round(1e3*R))),te=new gt([q],{width:$(N),height:$(R),style:"width:"+$(N),viewBox:"0 0 "+1e3*N+" "+Math.round(1e3*R),preserveAspectRatio:"xMinYMin"}),_e=ot.makeSvgSpan([],[te],P);return _e.height=R,_e.style.height=$(R),_e.style.width=$(N),{type:"elem",elem:_e}},OA=.008,Cw={type:"kern",size:-1*OA},Mae=["|","\\lvert","\\rvert","\\vert"],Tae=["\\|","\\lVert","\\rVert","\\Vert"],KN=function(E,R,P,N,q,te){var _e,Le,qe,ct;_e=qe=ct=E,Le=null;var Dt="Size1-Regular";E==="\\uparrow"?qe=ct="⏐":E==="\\Uparrow"?qe=ct="‖":E==="\\downarrow"?_e=qe="⏐":E==="\\Downarrow"?_e=qe="‖":E==="\\updownarrow"?(_e="\\uparrow",qe="⏐",ct="\\downarrow"):E==="\\Updownarrow"?(_e="\\Uparrow",qe="‖",ct="\\Downarrow"):g.contains(Mae,E)?qe="∣":g.contains(Tae,E)?qe="∥":E==="["||E==="\\lbrack"?(_e="⎡",qe="⎢",ct="⎣",Dt="Size4-Regular"):E==="]"||E==="\\rbrack"?(_e="⎤",qe="⎥",ct="⎦",Dt="Size4-Regular"):E==="\\lfloor"||E==="⌊"?(qe=_e="⎢",ct="⎣",Dt="Size4-Regular"):E==="\\lceil"||E==="⌈"?(_e="⎡",qe=ct="⎢",Dt="Size4-Regular"):E==="\\rfloor"||E==="⌋"?(qe=_e="⎥",ct="⎦",Dt="Size4-Regular"):E==="\\rceil"||E==="⌉"?(_e="⎤",qe=ct="⎥",Dt="Size4-Regular"):E==="("||E==="\\lparen"?(_e="⎛",qe="⎜",ct="⎝",Dt="Size4-Regular"):E===")"||E==="\\rparen"?(_e="⎞",qe="⎟",ct="⎠",Dt="Size4-Regular"):E==="\\{"||E==="\\lbrace"?(_e="⎧",Le="⎨",ct="⎩",qe="⎪",Dt="Size4-Regular"):E==="\\}"||E==="\\rbrace"?(_e="⎫",Le="⎬",ct="⎭",qe="⎪",Dt="Size4-Regular"):E==="\\lgroup"||E==="⟮"?(_e="⎧",ct="⎩",qe="⎪",Dt="Size4-Regular"):E==="\\rgroup"||E==="⟯"?(_e="⎫",ct="⎭",qe="⎪",Dt="Size4-Regular"):E==="\\lmoustache"||E==="⎰"?(_e="⎧",ct="⎭",qe="⎪",Dt="Size4-Regular"):(E==="\\rmoustache"||E==="⎱")&&(_e="⎫",ct="⎩",qe="⎪",Dt="Size4-Regular");var $t=xy(_e,Dt,q),Xt=$t.height+$t.depth,jt=xy(qe,Dt,q),fn=jt.height+jt.depth,vn=xy(ct,Dt,q),zn=vn.height+vn.depth,Yn=0,tr=1;if(Le!==null){var Jr=xy(Le,Dt,q);Yn=Jr.height+Jr.depth,tr=2}var hi=Xt+zn+Yn,Bi=Math.max(0,Math.ceil((R-hi)/(tr*fn))),si=hi+Bi*tr*fn,pi=N.fontMetrics().axisHeight;P&&(pi*=N.sizeMultiplier);var na=si/2-pi,Ei=[];if(Ei.push(LA(ct,Dt,q)),Ei.push(Cw),Le===null){var So=si-Xt-zn+2*OA;Ei.push(NA(qe,So,N))}else{var Co=(si-Xt-zn-Yn)/2+2*OA;Ei.push(NA(qe,Co,N)),Ei.push(Cw),Ei.push(LA(Le,Dt,q)),Ei.push(Cw),Ei.push(NA(qe,Co,N))}Ei.push(Cw),Ei.push(LA(_e,Dt,q));var Dd=N.havingBaseStyle(O.TEXT),Rc=ot.makeVList({positionType:"bottom",positionData:na,children:Ei},Dd);return kA(ot.makeSpan(["delimsizing","mult"],[Rc],Dd),O.TEXT,N,te)},BA=80,FA=.08,zA=function(E,R,P,N,q){var te=K(E,N,P),_e=new Lt(E,te),Le=new gt([_e],{width:"400em",height:$(R),viewBox:"0 0 400000 "+P,preserveAspectRatio:"xMinYMin slice"});return ot.makeSvgSpan(["hide-tail"],[Le],q)},Aae=function(E,R){var P=R.havingBaseSizing(),N=ZN("\\surd",E*P.sizeMultiplier,jN,P),q=P.sizeMultiplier,te=Math.max(0,R.minRuleThickness-R.fontMetrics().sqrtRuleThickness),_e,Le=0,qe=0,ct=0,Dt;return N.type==="small"?(ct=1e3+1e3*te+BA,E<1?q=1:E<1.4&&(q=.7),Le=(1+te+FA)/q,qe=(1+te)/q,_e=zA("sqrtMain",Le,ct,te,R),_e.style.minWidth="0.853em",Dt=.833/q):N.type==="large"?(ct=(1e3+BA)*Sy[N.size],qe=(Sy[N.size]+te)/q,Le=(Sy[N.size]+te+FA)/q,_e=zA("sqrtSize"+N.size,Le,ct,te,R),_e.style.minWidth="1.02em",Dt=1/q):(Le=E+te+FA,qe=E+te,ct=Math.floor(1e3*E+te)+BA,_e=zA("sqrtTall",Le,ct,te,R),_e.style.minWidth="0.742em",Dt=1.056),_e.height=qe,_e.style.height=$(Le),{span:_e,advanceWidth:Dt,ruleWidth:(R.fontMetrics().sqrtRuleThickness+te)*q}},YN=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Eae=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],XN=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Sy=[0,1.2,1.8,2.4,3],Iae=function(E,R,P,N,q){if(E==="<"||E==="\\lt"||E==="⟨"?E="\\langle":(E===">"||E==="\\gt"||E==="⟩")&&(E="\\rangle"),g.contains(YN,E)||g.contains(XN,E))return qN(E,R,!1,P,N,q);if(g.contains(Eae,E))return KN(E,Sy[R],!1,P,N,q);throw new a("Illegal delimiter: '"+E+"'")},Rae=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Pae=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"stack"}],jN=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Dae=function(E){if(E.type==="small")return"Main-Regular";if(E.type==="large")return"Size"+E.size+"-Regular";if(E.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+E.type+"' here.")},ZN=function(E,R,P,N){for(var q=Math.min(2,3-N.style.size),te=q;te<P.length&&P[te].type!=="stack";te++){var _e=xy(E,Dae(P[te]),"math"),Le=_e.height+_e.depth;if(P[te].type==="small"){var qe=N.havingBaseStyle(P[te].style);Le*=qe.sizeMultiplier}if(Le>R)return P[te]}return P[P.length-1]},QN=function(E,R,P,N,q,te){E==="<"||E==="\\lt"||E==="⟨"?E="\\langle":(E===">"||E==="\\gt"||E==="⟩")&&(E="\\rangle");var _e;g.contains(XN,E)?_e=Rae:g.contains(YN,E)?_e=jN:_e=Pae;var Le=ZN(E,R,_e,N);return Le.type==="small"?Sae(E,Le.style,P,N,q,te):Le.type==="large"?qN(E,Le.size,P,N,q,te):KN(E,R,P,N,q,te)},kae=function(E,R,P,N,q,te){var _e=N.fontMetrics().axisHeight*N.sizeMultiplier,Le=901,qe=5/N.fontMetrics().ptPerEm,ct=Math.max(R-_e,P+_e),Dt=Math.max(ct/500*Le,2*ct-qe);return QN(E,Dt,!0,N,q,te)},bu={sqrtImage:Aae,sizedDelim:Iae,sizeToMaxHeight:Sy,customSizedDelim:QN,leftRightDelim:kae},JN={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Lae=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Mw(ne,E){var R=xw(ne);if(R&&g.contains(Lae,R.text))return R;throw R?new a("Invalid delimiter '"+R.text+"' after '"+E.funcName+"'",ne):new a("Invalid delimiter type '"+ne.type+"'",ne)}nn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(E,R){var P=Mw(R[0],E);return{type:"delimsizing",mode:E.parser.mode,size:JN[E.funcName].size,mclass:JN[E.funcName].mclass,delim:P.text}},htmlBuilder:function(E,R){return E.delim==="."?ot.makeSpan([E.mclass]):bu.sizedDelim(E.delim,E.size,R,E.mode,[E.mclass])},mathmlBuilder:function(E){var R=[];E.delim!=="."&&R.push(Xo(E.delim,E.mode));var P=new on.MathNode("mo",R);E.mclass==="mopen"||E.mclass==="mclose"?P.setAttribute("fence","true"):P.setAttribute("fence","false"),P.setAttribute("stretchy","true");var N=$(bu.sizeToMaxHeight[E.size]);return P.setAttribute("minsize",N),P.setAttribute("maxsize",N),P}});function eO(ne){if(!ne.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser.gullet.macros.get("\\current@color");if(P&&typeof P!="string")throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:E.parser.mode,delim:Mw(R[0],E).text,color:P}}}),nn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=Mw(R[0],E),N=E.parser;++N.leftrightDepth;var q=N.parseExpression(!1);--N.leftrightDepth,N.expect("\\right",!1);var te=br(N.parseFunction(),"leftright-right");return{type:"leftright",mode:N.mode,body:q,left:P.text,right:te.delim,rightColor:te.color}},htmlBuilder:function(E,R){eO(E);for(var P=Ga(E.body,R,!0,["mopen","mclose"]),N=0,q=0,te=!1,_e=0;_e<P.length;_e++)P[_e].isMiddle?te=!0:(N=Math.max(P[_e].height,N),q=Math.max(P[_e].depth,q));N*=R.sizeMultiplier,q*=R.sizeMultiplier;var Le;if(E.left==="."?Le=_y(R,["mopen"]):Le=bu.leftRightDelim(E.left,N,q,R,E.mode,["mopen"]),P.unshift(Le),te)for(var qe=1;qe<P.length;qe++){var ct=P[qe],Dt=ct.isMiddle;Dt&&(P[qe]=bu.leftRightDelim(Dt.delim,N,q,Dt.options,E.mode,[]))}var $t;if(E.right===".")$t=_y(R,["mclose"]);else{var Xt=E.rightColor?R.withColor(E.rightColor):R;$t=bu.leftRightDelim(E.right,N,q,Xt,E.mode,["mclose"])}return P.push($t),ot.makeSpan(["minner"],P,R)},mathmlBuilder:function(E,R){eO(E);var P=xo(E.body,R);if(E.left!=="."){var N=new on.MathNode("mo",[Xo(E.left,E.mode)]);N.setAttribute("fence","true"),P.unshift(N)}if(E.right!=="."){var q=new on.MathNode("mo",[Xo(E.right,E.mode)]);q.setAttribute("fence","true"),E.rightColor&&q.setAttribute("mathcolor",E.rightColor),P.push(q)}return EA(P)}}),nn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=Mw(R[0],E);if(!E.parser.leftrightDepth)throw new a("\\middle without preceding \\left",P);return{type:"middle",mode:E.parser.mode,delim:P.text}},htmlBuilder:function(E,R){var P;if(E.delim===".")P=_y(R,[]);else{P=bu.sizedDelim(E.delim,1,R,E.mode,[]);var N={delim:E.delim,options:R};P.isMiddle=N}return P},mathmlBuilder:function(E,R){var P=E.delim==="\\vert"||E.delim==="|"?Xo("|","text"):Xo(E.delim,E.mode),N=new on.MathNode("mo",[P]);return N.setAttribute("fence","true"),N.setAttribute("lspace","0.05em"),N.setAttribute("rspace","0.05em"),N}});var UA=function(E,R){var P=ot.wrapFragment(Qr(E.body,R),R),N=E.label.substr(1),q=R.sizeMultiplier,te,_e=0,Le=g.isCharacterBox(E.body);if(N==="sout")te=ot.makeSpan(["stretchy","sout"]),te.height=R.fontMetrics().defaultRuleThickness/q,_e=-.5*R.fontMetrics().xHeight;else if(N==="phase"){var qe=st({number:.6,unit:"pt"},R),ct=st({number:.35,unit:"ex"},R),Dt=R.havingBaseSizing();q=q/Dt.sizeMultiplier;var $t=P.height+P.depth+qe+ct;P.style.paddingLeft=$($t/2+qe);var Xt=Math.floor(1e3*$t*q),jt=He(Xt),fn=new gt([new Lt("phase",jt)],{width:"400em",height:$(Xt/1e3),viewBox:"0 0 400000 "+Xt,preserveAspectRatio:"xMinYMin slice"});te=ot.makeSvgSpan(["hide-tail"],[fn],R),te.style.height=$($t),_e=P.depth+qe+ct}else{/cancel/.test(N)?Le||P.classes.push("cancel-pad"):N==="angl"?P.classes.push("anglpad"):P.classes.push("boxpad");var vn=0,zn=0,Yn=0;/box/.test(N)?(Yn=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness),vn=R.fontMetrics().fboxsep+(N==="colorbox"?0:Yn),zn=vn):N==="angl"?(Yn=Math.max(R.fontMetrics().defaultRuleThickness,R.minRuleThickness),vn=4*Yn,zn=Math.max(0,.25-P.depth)):(vn=Le?.2:0,zn=vn),te=yu.encloseSpan(P,N,vn,zn,R),/fbox|boxed|fcolorbox/.test(N)?(te.style.borderStyle="solid",te.style.borderWidth=$(Yn)):N==="angl"&&Yn!==.049&&(te.style.borderTopWidth=$(Yn),te.style.borderRightWidth=$(Yn)),_e=P.depth+zn,E.backgroundColor&&(te.style.backgroundColor=E.backgroundColor,E.borderColor&&(te.style.borderColor=E.borderColor))}var tr;if(E.backgroundColor)tr=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:te,shift:_e},{type:"elem",elem:P,shift:0}]},R);else{var Jr=/cancel|phase/.test(N)?["svg-align"]:[];tr=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:0},{type:"elem",elem:te,shift:_e,wrapperClasses:Jr}]},R)}return/cancel/.test(N)&&(tr.height=P.height,tr.depth=P.depth),/cancel/.test(N)&&!Le?ot.makeSpan(["mord","cancel-lap"],[tr],R):ot.makeSpan(["mord"],[tr],R)},HA=function(E,R){var P=0,N=new on.MathNode(E.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Mi(E.body,R)]);switch(E.label){case"\\cancel":N.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":N.setAttribute("notation","downdiagonalstrike");break;case"\\phase":N.setAttribute("notation","phasorangle");break;case"\\sout":N.setAttribute("notation","horizontalstrike");break;case"\\fbox":N.setAttribute("notation","box");break;case"\\angl":N.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(P=R.fontMetrics().fboxsep*R.fontMetrics().ptPerEm,N.setAttribute("width","+"+2*P+"pt"),N.setAttribute("height","+"+2*P+"pt"),N.setAttribute("lspace",P+"pt"),N.setAttribute("voffset",P+"pt"),E.label==="\\fcolorbox"){var q=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness);N.setAttribute("style","border: "+q+"em solid "+String(E.borderColor))}break;case"\\xcancel":N.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return E.backgroundColor&&N.setAttribute("mathbackground",E.backgroundColor),N};nn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(E,R,P){var N=E.parser,q=E.funcName,te=br(R[0],"color-token").color,_e=R[1];return{type:"enclose",mode:N.mode,label:q,backgroundColor:te,body:_e}},htmlBuilder:UA,mathmlBuilder:HA}),nn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(E,R,P){var N=E.parser,q=E.funcName,te=br(R[0],"color-token").color,_e=br(R[1],"color-token").color,Le=R[2];return{type:"enclose",mode:N.mode,label:q,backgroundColor:_e,borderColor:te,body:Le}},htmlBuilder:UA,mathmlBuilder:HA}),nn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"enclose",mode:P.mode,label:"\\fbox",body:R[0]}}}),nn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0];return{type:"enclose",mode:P.mode,label:N,body:q}},htmlBuilder:UA,mathmlBuilder:HA}),nn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(E,R){var P=E.parser;return{type:"enclose",mode:P.mode,label:"\\angl",body:R[0]}}});var tO={};function Ac(ne){for(var E=ne.type,R=ne.names,P=ne.props,N=ne.handler,q=ne.htmlBuilder,te=ne.mathmlBuilder,_e={type:E,numArgs:P.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:N},Le=0;Le<R.length;++Le)tO[R[Le]]=_e;q&&(qn[E]=q),te&&(yi[E]=te)}function nO(ne){var E=[];ne.consumeSpaces();for(var R=ne.fetch().text;R==="\\hline"||R==="\\hdashline";)ne.consume(),E.push(R==="\\hdashline"),ne.consumeSpaces(),R=ne.fetch().text;return E}var Tw=function(E){var R=E.parser.settings;if(!R.displayMode)throw new a("{"+E.envName+"} can be used only in display mode.")};function Rd(ne,E,R){var P=E.hskipBeforeAndAfter,N=E.addJot,q=E.cols,te=E.arraystretch,_e=E.colSeparationType,Le=E.addEqnNum,qe=E.singleRow,ct=E.emptySingleRow,Dt=E.maxNumCols,$t=E.leqno;if(ne.gullet.beginGroup(),qe||ne.gullet.macros.set("\\cr","\\\\\\relax"),!te){var Xt=ne.gullet.expandMacroAsText("\\arraystretch");if(Xt==null)te=1;else if(te=parseFloat(Xt),!te||te<0)throw new a("Invalid \\arraystretch: "+Xt)}ne.gullet.beginGroup();var jt=[],fn=[jt],vn=[],zn=[];for(zn.push(nO(ne));;){var Yn=ne.parseExpression(!1,qe?"\\end":"\\\\");ne.gullet.endGroup(),ne.gullet.beginGroup(),Yn={type:"ordgroup",mode:ne.mode,body:Yn},R&&(Yn={type:"styling",mode:ne.mode,style:R,body:[Yn]}),jt.push(Yn);var tr=ne.fetch().text;if(tr==="&"){if(Dt&&jt.length===Dt){if(qe||_e)throw new a("Too many tab characters: &",ne.nextToken);ne.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}ne.consume()}else if(tr==="\\end"){jt.length===1&&Yn.type==="styling"&&Yn.body[0].body.length===0&&(fn.length>1||!ct)&&fn.pop(),zn.length<fn.length+1&&zn.push([]);break}else if(tr==="\\\\"){ne.consume();var Jr=void 0;ne.gullet.future().text!==" "&&(Jr=ne.parseSizeGroup(!0)),vn.push(Jr?Jr.value:null),zn.push(nO(ne)),jt=[],fn.push(jt)}else throw new a("Expected & or \\\\ or \\cr or \\end",ne.nextToken)}return ne.gullet.endGroup(),ne.gullet.endGroup(),{type:"array",mode:ne.mode,addJot:N,arraystretch:te,body:fn,cols:q,rowGaps:vn,hskipBeforeAndAfter:P,hLinesBeforeRow:zn,colSeparationType:_e,addEqnNum:Le,leqno:$t}}function VA(ne){return ne.substr(0,1)==="d"?"display":"text"}var Ec=function(E,R){var P,N,q=E.body.length,te=E.hLinesBeforeRow,_e=0,Le=new Array(q),qe=[],ct=Math.max(R.fontMetrics().arrayRuleWidth,R.minRuleThickness),Dt=1/R.fontMetrics().ptPerEm,$t=5*Dt;if(E.colSeparationType&&E.colSeparationType==="small"){var Xt=R.havingStyle(O.SCRIPT).sizeMultiplier;$t=.2778*(Xt/R.sizeMultiplier)}var jt=E.colSeparationType==="CD"?st({number:3,unit:"ex"},R):12*Dt,fn=3*Dt,vn=E.arraystretch*jt,zn=.7*vn,Yn=.3*vn,tr=0;function Jr($O){for(var Iw=0;Iw<$O.length;++Iw)Iw>0&&(tr+=.25),qe.push({pos:tr,isDashed:$O[Iw]})}for(Jr(te[0]),P=0;P<E.body.length;++P){var hi=E.body[P],Bi=zn,si=Yn;_e<hi.length&&(_e=hi.length);var pi=new Array(hi.length);for(N=0;N<hi.length;++N){var na=Qr(hi[N],R);si<na.depth&&(si=na.depth),Bi<na.height&&(Bi=na.height),pi[N]=na}var Ei=E.rowGaps[P],So=0;Ei&&(So=st(Ei,R),So>0&&(So+=Yn,si<So&&(si=So),So=0)),E.addJot&&(si+=fn),pi.height=Bi,pi.depth=si,tr+=Bi,pi.pos=tr,tr+=si+So,Le[P]=pi,Jr(te[P+1])}var Co=tr/2+R.fontMetrics().axisHeight,Dd=E.cols||[],Rc=[],Mo,Fm,FO=[];if(E.addEqnNum)for(P=0;P<q;++P){var t3=Le[P],lse=t3.pos-Co,n3=ot.makeSpan(["eqn-num"],[],R);n3.depth=t3.depth,n3.height=t3.height,FO.push({type:"elem",elem:n3,shift:lse})}for(N=0,Fm=0;N<_e||Fm<Dd.length;++N,++Fm){for(var _u=Dd[Fm]||{},zO=!0;_u.type==="separator";){if(zO||(Mo=ot.makeSpan(["arraycolsep"],[]),Mo.style.width=$(R.fontMetrics().doubleRuleSep),Rc.push(Mo)),_u.separator==="|"||_u.separator===":"){var cse=_u.separator==="|"?"solid":"dashed",zm=ot.makeSpan(["vertical-separator"],[],R);zm.style.height=$(tr),zm.style.borderRightWidth=$(ct),zm.style.borderRightStyle=cse,zm.style.margin="0 "+$(-ct/2);var UO=tr-Co;UO&&(zm.style.verticalAlign=$(-UO)),Rc.push(zm)}else throw new a("Invalid separator type: "+_u.separator);Fm++,_u=Dd[Fm]||{},zO=!1}if(!(N>=_e)){var Um=void 0;(N>0||E.hskipBeforeAndAfter)&&(Um=g.deflt(_u.pregap,$t),Um!==0&&(Mo=ot.makeSpan(["arraycolsep"],[]),Mo.style.width=$(Um),Rc.push(Mo)));var Hm=[];for(P=0;P<q;++P){var Aw=Le[P],Ew=Aw[N];if(Ew){var use=Aw.pos-Co;Ew.depth=Aw.depth,Ew.height=Aw.height,Hm.push({type:"elem",elem:Ew,shift:use})}}Hm=ot.makeVList({positionType:"individualShift",children:Hm},R),Hm=ot.makeSpan(["col-align-"+(_u.align||"c")],[Hm]),Rc.push(Hm),(N<_e-1||E.hskipBeforeAndAfter)&&(Um=g.deflt(_u.postgap,$t),Um!==0&&(Mo=ot.makeSpan(["arraycolsep"],[]),Mo.style.width=$(Um),Rc.push(Mo)))}}if(Le=ot.makeSpan(["mtable"],Rc),qe.length>0){for(var dse=ot.makeLineSpan("hline",R,ct),fse=ot.makeLineSpan("hdashline",R,ct),r3=[{type:"elem",elem:Le,shift:0}];qe.length>0;){var HO=qe.pop(),VO=HO.pos-Co;HO.isDashed?r3.push({type:"elem",elem:fse,shift:VO}):r3.push({type:"elem",elem:dse,shift:VO})}Le=ot.makeVList({positionType:"individualShift",children:r3},R)}if(E.addEqnNum){var i3=ot.makeVList({positionType:"individualShift",children:FO},R);return i3=ot.makeSpan(["tag"],[i3],R),ot.makeFragment([Le,i3])}else return ot.makeSpan(["mord"],[Le],R)},Nae={c:"center ",l:"left ",r:"right "},Ic=function(E,R){for(var P=[],N=new on.MathNode("mtd",[],["mtr-glue"]),q=new on.MathNode("mtd",[],["mml-eqn-num"]),te=0;te<E.body.length;te++){for(var _e=E.body[te],Le=[],qe=0;qe<_e.length;qe++)Le.push(new on.MathNode("mtd",[Mi(_e[qe],R)]));E.addEqnNum&&(Le.unshift(N),Le.push(N),E.leqno?Le.unshift(q):Le.push(q)),P.push(new on.MathNode("mtr",Le))}var ct=new on.MathNode("mtable",P),Dt=E.arraystretch===.5?.1:.16+E.arraystretch-1+(E.addJot?.09:0);ct.setAttribute("rowspacing",$(Dt));var $t="",Xt="";if(E.cols&&E.cols.length>0){var jt=E.cols,fn="",vn=!1,zn=0,Yn=jt.length;jt[0].type==="separator"&&($t+="top ",zn=1),jt[jt.length-1].type==="separator"&&($t+="bottom ",Yn-=1);for(var tr=zn;tr<Yn;tr++)jt[tr].type==="align"?(Xt+=Nae[jt[tr].align],vn&&(fn+="none "),vn=!0):jt[tr].type==="separator"&&vn&&(fn+=jt[tr].separator==="|"?"solid ":"dashed ",vn=!1);ct.setAttribute("columnalign",Xt.trim()),/[sd]/.test(fn)&&ct.setAttribute("columnlines",fn.trim())}if(E.colSeparationType==="align"){for(var Jr=E.cols||[],hi="",Bi=1;Bi<Jr.length;Bi++)hi+=Bi%2?"0em ":"1em ";ct.setAttribute("columnspacing",hi.trim())}else E.colSeparationType==="alignat"||E.colSeparationType==="gather"?ct.setAttribute("columnspacing","0em"):E.colSeparationType==="small"?ct.setAttribute("columnspacing","0.2778em"):E.colSeparationType==="CD"?ct.setAttribute("columnspacing","0.5em"):ct.setAttribute("columnspacing","1em");var si="",pi=E.hLinesBeforeRow;$t+=pi[0].length>0?"left ":"",$t+=pi[pi.length-1].length>0?"right ":"";for(var na=1;na<pi.length-1;na++)si+=pi[na].length===0?"none ":pi[na][0]?"dashed ":"solid ";return/[sd]/.test(si)&&ct.setAttribute("rowlines",si.trim()),$t!==""&&(ct=new on.MathNode("menclose",[ct]),ct.setAttribute("notation",$t.trim())),E.arraystretch&&E.arraystretch<1&&(ct=new on.MathNode("mstyle",[ct]),ct.setAttribute("scriptlevel","1")),ct},rO=function(E,R){E.envName.indexOf("ed")===-1&&Tw(E);var P=[],N=E.envName.indexOf("at")>-1?"alignat":"align",q=Rd(E.parser,{cols:P,addJot:!0,addEqnNum:E.envName==="align"||E.envName==="alignat",emptySingleRow:!0,colSeparationType:N,maxNumCols:E.envName==="split"?2:void 0,leqno:E.parser.settings.leqno},"display"),te,_e=0,Le={type:"ordgroup",mode:E.mode,body:[]};if(R[0]&&R[0].type==="ordgroup"){for(var qe="",ct=0;ct<R[0].body.length;ct++){var Dt=br(R[0].body[ct],"textord");qe+=Dt.text}te=Number(qe),_e=te*2}var $t=!_e;q.body.forEach(function(vn){for(var zn=1;zn<vn.length;zn+=2){var Yn=br(vn[zn],"styling"),tr=br(Yn.body[0],"ordgroup");tr.body.unshift(Le)}if($t)_e<vn.length&&(_e=vn.length);else{var Jr=vn.length/2;if(te<Jr)throw new a("Too many math in a row: "+("expected "+te+", but got "+Jr),vn[0])}});for(var Xt=0;Xt<_e;++Xt){var jt="r",fn=0;Xt%2===1?jt="l":Xt>0&&$t&&(fn=1),P[Xt]={type:"align",align:jt,pregap:fn,postgap:0}}return q.colSeparationType=$t?"align":"alignat",q};Ac({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(E,R){var P=xw(R[0]),N=P?[R[0]]:br(R[0],"ordgroup").body,q=N.map(function(_e){var Le=RA(_e),qe=Le.text;if("lcr".indexOf(qe)!==-1)return{type:"align",align:qe};if(qe==="|")return{type:"separator",separator:"|"};if(qe===":")return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+qe,_e)}),te={cols:q,hskipBeforeAndAfter:!0,maxNumCols:q.length};return Rd(E.parser,te,VA(E.envName))},htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(E){var R={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[E.envName.replace("*","")],P="c",N={hskipBeforeAndAfter:!1,cols:[{type:"align",align:P}]};if(E.envName.charAt(E.envName.length-1)==="*"){var q=E.parser;if(q.consumeSpaces(),q.fetch().text==="["){if(q.consume(),q.consumeSpaces(),P=q.fetch().text,"lcr".indexOf(P)===-1)throw new a("Expected l or c or r",q.nextToken);q.consume(),q.consumeSpaces(),q.expect("]"),q.consume(),N.cols=[{type:"align",align:P}]}}var te=Rd(E.parser,N,VA(E.envName)),_e=Math.max.apply(Math,[0].concat(te.body.map(function(Le){return Le.length})));return te.cols=new Array(_e).fill({type:"align",align:P}),R?{type:"leftright",mode:E.mode,body:[te],left:R[0],right:R[1],rightColor:void 0}:te},htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(E){var R={arraystretch:.5},P=Rd(E.parser,R,"script");return P.colSeparationType="small",P},htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["subarray"],props:{numArgs:1},handler:function(E,R){var P=xw(R[0]),N=P?[R[0]]:br(R[0],"ordgroup").body,q=N.map(function(_e){var Le=RA(_e),qe=Le.text;if("lc".indexOf(qe)!==-1)return{type:"align",align:qe};throw new a("Unknown column alignment: "+qe,_e)});if(q.length>1)throw new a("{subarray} can contain only one column");var te={cols:q,hskipBeforeAndAfter:!1,arraystretch:.5};if(te=Rd(E.parser,te,"script"),te.body.length>0&&te.body[0].length>1)throw new a("{subarray} can contain only one column");return te},htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(E){var R={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},P=Rd(E.parser,R,VA(E.envName));return{type:"leftright",mode:E.mode,body:[P],left:E.envName.indexOf("r")>-1?".":"\\{",right:E.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:rO,htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(E){g.contains(["gather","gather*"],E.envName)&&Tw(E);var R={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:E.envName==="gather",emptySingleRow:!0,leqno:E.parser.settings.leqno};return Rd(E.parser,R,"display")},htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:rO,htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(E){Tw(E);var R={addEqnNum:E.envName==="equation",emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:E.parser.settings.leqno};return Rd(E.parser,R,"display")},htmlBuilder:Ec,mathmlBuilder:Ic}),Ac({type:"array",names:["CD"],props:{numArgs:0},handler:function(E){return Tw(E),wae(E.parser)},htmlBuilder:Ec,mathmlBuilder:Ic}),nn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(E,R){throw new a(E.funcName+" valid only within array environment")}});var Oae=tO,iO=Oae;nn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0];if(q.type!=="ordgroup")throw new a("Invalid environment name",q);for(var te="",_e=0;_e<q.body.length;++_e)te+=br(q.body[_e],"textord").text;if(N==="\\begin"){if(!iO.hasOwnProperty(te))throw new a("No such environment: "+te,q);var Le=iO[te],qe=P.parseArguments("\\begin{"+te+"}",Le),ct=qe.args,Dt=qe.optArgs,$t={mode:P.mode,envName:te,parser:P},Xt=Le.handler($t,ct,Dt);P.expect("\\end",!1);var jt=P.nextToken,fn=br(P.parseFunction(),"environment");if(fn.name!==te)throw new a("Mismatch: \\begin{"+te+"} matched by \\end{"+fn.name+"}",jt);return Xt}return{type:"environment",mode:P.mode,name:te,nameGroup:q}}});var Bae=ot.makeSpan;function aO(ne,E){var R=Ga(ne.body,E,!0);return Bae([ne.mclass],R,E)}function sO(ne,E){var R,P=xo(ne.body,E);return ne.mclass==="minner"?on.newDocumentFragment(P):(ne.mclass==="mord"?ne.isCharacterBox?(R=P[0],R.type="mi"):R=new on.MathNode("mi",P):(ne.isCharacterBox?(R=P[0],R.type="mo"):R=new on.MathNode("mo",P),ne.mclass==="mbin"?(R.attributes.lspace="0.22em",R.attributes.rspace="0.22em"):ne.mclass==="mpunct"?(R.attributes.lspace="0em",R.attributes.rspace="0.17em"):(ne.mclass==="mopen"||ne.mclass==="mclose")&&(R.attributes.lspace="0em",R.attributes.rspace="0em")),R)}nn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0];return{type:"mclass",mode:P.mode,mclass:"m"+N.substr(5),body:ai(q),isCharacterBox:g.isCharacterBox(q)}},htmlBuilder:aO,mathmlBuilder:sO});var $A=function(E){var R=E.type==="ordgroup"&&E.body.length?E.body[0]:E;return R.type==="atom"&&(R.family==="bin"||R.family==="rel")?"m"+R.family:"mord"};nn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(E,R){var P=E.parser;return{type:"mclass",mode:P.mode,mclass:$A(R[0]),body:ai(R[1]),isCharacterBox:g.isCharacterBox(R[1])}}}),nn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[1],te=R[0],_e;N!=="\\stackrel"?_e=$A(q):_e="mrel";var Le={type:"op",mode:q.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:N!=="\\stackrel",body:ai(q)},qe={type:"supsub",mode:te.mode,base:Le,sup:N==="\\underset"?null:te,sub:N==="\\underset"?te:null};return{type:"mclass",mode:P.mode,mclass:_e,body:[qe],isCharacterBox:g.isCharacterBox(qe)}},htmlBuilder:aO,mathmlBuilder:sO});var oO=function(E,R){var P=E.font,N=R.withFont(P);return Qr(E.body,N)},lO=function(E,R){var P=E.font,N=R.withFont(P);return Mi(E.body,N)},cO={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(E,R){var P=E.parser,N=E.funcName,q=Nr(R[0]),te=N;return te in cO&&(te=cO[te]),{type:"font",mode:P.mode,font:te.slice(1),body:q}},htmlBuilder:oO,mathmlBuilder:lO}),nn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=R[0],q=g.isCharacterBox(N);return{type:"mclass",mode:P.mode,mclass:$A(N),body:[{type:"font",mode:P.mode,font:"boldsymbol",body:N}],isCharacterBox:q}}}),nn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,q=E.breakOnTokenText,te=P.mode,_e=P.parseExpression(!0,q),Le="math"+N.slice(1);return{type:"font",mode:te,font:Le,body:{type:"ordgroup",mode:P.mode,body:_e}}},htmlBuilder:oO,mathmlBuilder:lO});var uO=function(E,R){var P=R;return E==="display"?P=P.id>=O.SCRIPT.id?P.text():O.DISPLAY:E==="text"&&P.size===O.DISPLAY.size?P=O.TEXT:E==="script"?P=O.SCRIPT:E==="scriptscript"&&(P=O.SCRIPTSCRIPT),P},GA=function(E,R){var P=uO(E.size,R.style),N=P.fracNum(),q=P.fracDen(),te;te=R.havingStyle(N);var _e=Qr(E.numer,te,R);if(E.continued){var Le=8.5/R.fontMetrics().ptPerEm,qe=3.5/R.fontMetrics().ptPerEm;_e.height=_e.height<Le?Le:_e.height,_e.depth=_e.depth<qe?qe:_e.depth}te=R.havingStyle(q);var ct=Qr(E.denom,te,R),Dt,$t,Xt;E.hasBarLine?(E.barSize?($t=st(E.barSize,R),Dt=ot.makeLineSpan("frac-line",R,$t)):Dt=ot.makeLineSpan("frac-line",R),$t=Dt.height,Xt=Dt.height):(Dt=null,$t=0,Xt=R.fontMetrics().defaultRuleThickness);var jt,fn,vn;P.size===O.DISPLAY.size||E.size==="display"?(jt=R.fontMetrics().num1,$t>0?fn=3*Xt:fn=7*Xt,vn=R.fontMetrics().denom1):($t>0?(jt=R.fontMetrics().num2,fn=Xt):(jt=R.fontMetrics().num3,fn=3*Xt),vn=R.fontMetrics().denom2);var zn;if(Dt){var tr=R.fontMetrics().axisHeight;jt-_e.depth-(tr+.5*$t)<fn&&(jt+=fn-(jt-_e.depth-(tr+.5*$t))),tr-.5*$t-(ct.height-vn)<fn&&(vn+=fn-(tr-.5*$t-(ct.height-vn)));var Jr=-(tr-.5*$t);zn=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ct,shift:vn},{type:"elem",elem:Dt,shift:Jr},{type:"elem",elem:_e,shift:-jt}]},R)}else{var Yn=jt-_e.depth-(ct.height-vn);Yn<fn&&(jt+=.5*(fn-Yn),vn+=.5*(fn-Yn)),zn=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ct,shift:vn},{type:"elem",elem:_e,shift:-jt}]},R)}te=R.havingStyle(P),zn.height*=te.sizeMultiplier/R.sizeMultiplier,zn.depth*=te.sizeMultiplier/R.sizeMultiplier;var hi;P.size===O.DISPLAY.size?hi=R.fontMetrics().delim1:P.size===O.SCRIPTSCRIPT.size?hi=R.havingStyle(O.SCRIPT).fontMetrics().delim2:hi=R.fontMetrics().delim2;var Bi,si;return E.leftDelim==null?Bi=_y(R,["mopen"]):Bi=bu.customSizedDelim(E.leftDelim,hi,!0,R.havingStyle(P),E.mode,["mopen"]),E.continued?si=ot.makeSpan([]):E.rightDelim==null?si=_y(R,["mclose"]):si=bu.customSizedDelim(E.rightDelim,hi,!0,R.havingStyle(P),E.mode,["mclose"]),ot.makeSpan(["mord"].concat(te.sizingClasses(R)),[Bi,ot.makeSpan(["mfrac"],[zn]),si],R)},WA=function(E,R){var P=new on.MathNode("mfrac",[Mi(E.numer,R),Mi(E.denom,R)]);if(!E.hasBarLine)P.setAttribute("linethickness","0px");else if(E.barSize){var N=st(E.barSize,R);P.setAttribute("linethickness",$(N))}var q=uO(E.size,R.style);if(q.size!==R.style.size){P=new on.MathNode("mstyle",[P]);var te=q.size===O.DISPLAY.size?"true":"false";P.setAttribute("displaystyle",te),P.setAttribute("scriptlevel","0")}if(E.leftDelim!=null||E.rightDelim!=null){var _e=[];if(E.leftDelim!=null){var Le=new on.MathNode("mo",[new on.TextNode(E.leftDelim.replace("\\",""))]);Le.setAttribute("fence","true"),_e.push(Le)}if(_e.push(P),E.rightDelim!=null){var qe=new on.MathNode("mo",[new on.TextNode(E.rightDelim.replace("\\",""))]);qe.setAttribute("fence","true"),_e.push(qe)}return EA(_e)}return P};nn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0],te=R[1],_e,Le=null,qe=null,ct="auto";switch(N){case"\\dfrac":case"\\frac":case"\\tfrac":_e=!0;break;case"\\\\atopfrac":_e=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":_e=!1,Le="(",qe=")";break;case"\\\\bracefrac":_e=!1,Le="\\{",qe="\\}";break;case"\\\\brackfrac":_e=!1,Le="[",qe="]";break;default:throw new Error("Unrecognized genfrac command")}switch(N){case"\\dfrac":case"\\dbinom":ct="display";break;case"\\tfrac":case"\\tbinom":ct="text";break}return{type:"genfrac",mode:P.mode,continued:!1,numer:q,denom:te,hasBarLine:_e,leftDelim:Le,rightDelim:qe,size:ct,barSize:null}},htmlBuilder:GA,mathmlBuilder:WA}),nn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(E,R){var P=E.parser;E.funcName;var N=R[0],q=R[1];return{type:"genfrac",mode:P.mode,continued:!0,numer:N,denom:q,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),nn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(E){var R=E.parser,P=E.funcName,N=E.token,q;switch(P){case"\\over":q="\\frac";break;case"\\choose":q="\\binom";break;case"\\atop":q="\\\\atopfrac";break;case"\\brace":q="\\\\bracefrac";break;case"\\brack":q="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:R.mode,replaceWith:q,token:N}}});var dO=["display","text","script","scriptscript"],fO=function(E){var R=null;return E.length>0&&(R=E,R=R==="."?null:R),R};nn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(E,R){var P=E.parser,N=R[4],q=R[5],te=Nr(R[0]),_e=te.type==="atom"&&te.family==="open"?fO(te.text):null,Le=Nr(R[1]),qe=Le.type==="atom"&&Le.family==="close"?fO(Le.text):null,ct=br(R[2],"size"),Dt,$t=null;ct.isBlank?Dt=!0:($t=ct.value,Dt=$t.number>0);var Xt="auto",jt=R[3];if(jt.type==="ordgroup"){if(jt.body.length>0){var fn=br(jt.body[0],"textord");Xt=dO[Number(fn.text)]}}else jt=br(jt,"textord"),Xt=dO[Number(jt.text)];return{type:"genfrac",mode:P.mode,numer:N,denom:q,continued:!1,hasBarLine:Dt,barSize:$t,leftDelim:_e,rightDelim:qe,size:Xt}},htmlBuilder:GA,mathmlBuilder:WA}),nn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(E,R){var P=E.parser;E.funcName;var N=E.token;return{type:"infix",mode:P.mode,replaceWith:"\\\\abovefrac",size:br(R[0],"size").value,token:N}}}),nn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(E,R){var P=E.parser;E.funcName;var N=R[0],q=m(br(R[1],"infix").size),te=R[2],_e=q.number>0;return{type:"genfrac",mode:P.mode,numer:N,denom:te,continued:!1,hasBarLine:_e,barSize:q,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:GA,mathmlBuilder:WA});var hO=function(E,R){var P=R.style,N,q;E.type==="supsub"?(N=E.sup?Qr(E.sup,R.havingStyle(P.sup()),R):Qr(E.sub,R.havingStyle(P.sub()),R),q=br(E.base,"horizBrace")):q=br(E,"horizBrace");var te=Qr(q.base,R.havingBaseStyle(O.DISPLAY)),_e=yu.svgSpan(q,R),Le;if(q.isOver?(Le=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:te},{type:"kern",size:.1},{type:"elem",elem:_e}]},R),Le.children[0].children[0].children[1].classes.push("svg-align")):(Le=ot.makeVList({positionType:"bottom",positionData:te.depth+.1+_e.height,children:[{type:"elem",elem:_e},{type:"kern",size:.1},{type:"elem",elem:te}]},R),Le.children[0].children[0].children[0].classes.push("svg-align")),N){var qe=ot.makeSpan(["mord",q.isOver?"mover":"munder"],[Le],R);q.isOver?Le=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:qe},{type:"kern",size:.2},{type:"elem",elem:N}]},R):Le=ot.makeVList({positionType:"bottom",positionData:qe.depth+.2+N.height+N.depth,children:[{type:"elem",elem:N},{type:"kern",size:.2},{type:"elem",elem:qe}]},R)}return ot.makeSpan(["mord",q.isOver?"mover":"munder"],[Le],R)},Fae=function(E,R){var P=yu.mathMLnode(E.label);return new on.MathNode(E.isOver?"mover":"munder",[Mi(E.base,R),P])};nn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName;return{type:"horizBrace",mode:P.mode,label:N,isOver:/^\\over/.test(N),base:R[0]}},htmlBuilder:hO,mathmlBuilder:Fae}),nn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[1],q=br(R[0],"url").url;return P.settings.isTrusted({command:"\\href",url:q})?{type:"href",mode:P.mode,href:q,body:ai(N)}:P.formatUnsupportedCmd("\\href")},htmlBuilder:function(E,R){var P=Ga(E.body,R,!1);return ot.makeAnchor(E.href,[],P,R)},mathmlBuilder:function(E,R){var P=Id(E.body,R);return P instanceof Yo||(P=new Yo("mrow",[P])),P.setAttribute("href",E.href),P}}),nn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=br(R[0],"url").url;if(!P.settings.isTrusted({command:"\\url",url:N}))return P.formatUnsupportedCmd("\\url");for(var q=[],te=0;te<N.length;te++){var _e=N[te];_e==="~"&&(_e="\\textasciitilde"),q.push({type:"textord",mode:"text",text:_e})}var Le={type:"text",mode:P.mode,font:"\\texttt",body:q};return{type:"href",mode:P.mode,href:N,body:ai(Le)}}}),nn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(E,R){var P=E.parser;return{type:"hbox",mode:P.mode,body:ai(R[0])}},htmlBuilder:function(E,R){var P=Ga(E.body,R,!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){return new on.MathNode("mrow",xo(E.body,R))}}),nn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName;E.token;var q=br(R[0],"raw").string,te=R[1];P.settings.strict&&P.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var _e,Le={};switch(N){case"\\htmlClass":Le.class=q,_e={command:"\\htmlClass",class:q};break;case"\\htmlId":Le.id=q,_e={command:"\\htmlId",id:q};break;case"\\htmlStyle":Le.style=q,_e={command:"\\htmlStyle",style:q};break;case"\\htmlData":{for(var qe=q.split(","),ct=0;ct<qe.length;ct++){var Dt=qe[ct].split("=");if(Dt.length!==2)throw new a("Error parsing key-value for \\htmlData");Le["data-"+Dt[0].trim()]=Dt[1].trim()}_e={command:"\\htmlData",attributes:Le};break}default:throw new Error("Unrecognized html command")}return P.settings.isTrusted(_e)?{type:"html",mode:P.mode,attributes:Le,body:ai(te)}:P.formatUnsupportedCmd(N)},htmlBuilder:function(E,R){var P=Ga(E.body,R,!1),N=["enclosing"];E.attributes.class&&N.push.apply(N,E.attributes.class.trim().split(/\s+/));var q=ot.makeSpan(N,P,R);for(var te in E.attributes)te!=="class"&&E.attributes.hasOwnProperty(te)&&q.setAttribute(te,E.attributes[te]);return q},mathmlBuilder:function(E,R){return Id(E.body,R)}}),nn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"htmlmathml",mode:P.mode,html:ai(R[0]),mathml:ai(R[1])}},htmlBuilder:function(E,R){var P=Ga(E.html,R,!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){return Id(E.mathml,R)}});var qA=function(E){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(E))return{number:+E,unit:"bp"};var R=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(E);if(!R)throw new a("Invalid size: '"+E+"' in \\includegraphics");var P={number:+(R[1]+R[2]),unit:R[3]};if(!ht(P))throw new a("Invalid unit: '"+P.unit+"' in \\includegraphics.");return P};nn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(E,R,P){var N=E.parser,q={number:0,unit:"em"},te={number:.9,unit:"em"},_e={number:0,unit:"em"},Le="";if(P[0])for(var qe=br(P[0],"raw").string,ct=qe.split(","),Dt=0;Dt<ct.length;Dt++){var $t=ct[Dt].split("=");if($t.length===2){var Xt=$t[1].trim();switch($t[0].trim()){case"alt":Le=Xt;break;case"width":q=qA(Xt);break;case"height":te=qA(Xt);break;case"totalheight":_e=qA(Xt);break;default:throw new a("Invalid key: '"+$t[0]+"' in \\includegraphics.")}}}var jt=br(R[0],"url").url;return Le===""&&(Le=jt,Le=Le.replace(/^.*[\\/]/,""),Le=Le.substring(0,Le.lastIndexOf("."))),N.settings.isTrusted({command:"\\includegraphics",url:jt})?{type:"includegraphics",mode:N.mode,alt:Le,width:q,height:te,totalheight:_e,src:jt}:N.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(E,R){var P=st(E.height,R),N=0;E.totalheight.number>0&&(N=st(E.totalheight,R)-P);var q=0;E.width.number>0&&(q=st(E.width,R));var te={height:$(P+N)};q>0&&(te.width=$(q)),N>0&&(te.verticalAlign=$(-N));var _e=new Te(E.src,E.alt,te);return _e.height=P,_e.depth=N,_e},mathmlBuilder:function(E,R){var P=new on.MathNode("mglyph",[]);P.setAttribute("alt",E.alt);var N=st(E.height,R),q=0;if(E.totalheight.number>0&&(q=st(E.totalheight,R)-N,P.setAttribute("valign",$(-q))),P.setAttribute("height",$(N+q)),E.width.number>0){var te=st(E.width,R);P.setAttribute("width",$(te))}return P.setAttribute("src",E.src),P}}),nn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,q=br(R[0],"size");if(P.settings.strict){var te=N[1]==="m",_e=q.value.unit==="mu";te?(_e||P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+N+" supports only mu units, "+("not "+q.value.unit+" units")),P.mode!=="math"&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+N+" works only in math mode")):_e&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+N+" doesn't support mu units")}return{type:"kern",mode:P.mode,dimension:q.value}},htmlBuilder:function(E,R){return ot.makeGlue(E.dimension,R)},mathmlBuilder:function(E,R){var P=st(E.dimension,R);return new on.SpaceNode(P)}}),nn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0];return{type:"lap",mode:P.mode,alignment:N.slice(5),body:q}},htmlBuilder:function(E,R){var P;E.alignment==="clap"?(P=ot.makeSpan([],[Qr(E.body,R)]),P=ot.makeSpan(["inner"],[P],R)):P=ot.makeSpan(["inner"],[Qr(E.body,R)]);var N=ot.makeSpan(["fix"],[]),q=ot.makeSpan([E.alignment],[P,N],R),te=ot.makeSpan(["strut"]);return te.style.height=$(q.height+q.depth),q.depth&&(te.style.verticalAlign=$(-q.depth)),q.children.unshift(te),q=ot.makeSpan(["thinbox"],[q],R),ot.makeSpan(["mord","vbox"],[q],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Mi(E.body,R)]);if(E.alignment!=="rlap"){var N=E.alignment==="llap"?"-1":"-0.5";P.setAttribute("lspace",N+"width")}return P.setAttribute("width","0px"),P}}),nn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(E,R){var P=E.funcName,N=E.parser,q=N.mode;N.switchMode("math");var te=P==="\\("?"\\)":"$",_e=N.parseExpression(!1,te);return N.expect(te),N.switchMode(q),{type:"styling",mode:N.mode,style:"text",body:_e}}}),nn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(E,R){throw new a("Mismatched "+E.funcName)}});var pO=function(E,R){switch(R.style.size){case O.DISPLAY.size:return E.display;case O.TEXT.size:return E.text;case O.SCRIPT.size:return E.script;case O.SCRIPTSCRIPT.size:return E.scriptscript;default:return E.text}};nn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(E,R){var P=E.parser;return{type:"mathchoice",mode:P.mode,display:ai(R[0]),text:ai(R[1]),script:ai(R[2]),scriptscript:ai(R[3])}},htmlBuilder:function(E,R){var P=pO(E,R),N=Ga(P,R,!1);return ot.makeFragment(N)},mathmlBuilder:function(E,R){var P=pO(E,R);return Id(P,R)}});var mO=function(E,R,P,N,q,te,_e){E=ot.makeSpan([],[E]);var Le=P&&g.isCharacterBox(P),qe,ct;if(R){var Dt=Qr(R,N.havingStyle(q.sup()),N);ct={elem:Dt,kern:Math.max(N.fontMetrics().bigOpSpacing1,N.fontMetrics().bigOpSpacing3-Dt.depth)}}if(P){var $t=Qr(P,N.havingStyle(q.sub()),N);qe={elem:$t,kern:Math.max(N.fontMetrics().bigOpSpacing2,N.fontMetrics().bigOpSpacing4-$t.height)}}var Xt;if(ct&&qe){var jt=N.fontMetrics().bigOpSpacing5+qe.elem.height+qe.elem.depth+qe.kern+E.depth+_e;Xt=ot.makeVList({positionType:"bottom",positionData:jt,children:[{type:"kern",size:N.fontMetrics().bigOpSpacing5},{type:"elem",elem:qe.elem,marginLeft:$(-te)},{type:"kern",size:qe.kern},{type:"elem",elem:E},{type:"kern",size:ct.kern},{type:"elem",elem:ct.elem,marginLeft:$(te)},{type:"kern",size:N.fontMetrics().bigOpSpacing5}]},N)}else if(qe){var fn=E.height-_e;Xt=ot.makeVList({positionType:"top",positionData:fn,children:[{type:"kern",size:N.fontMetrics().bigOpSpacing5},{type:"elem",elem:qe.elem,marginLeft:$(-te)},{type:"kern",size:qe.kern},{type:"elem",elem:E}]},N)}else if(ct){var vn=E.depth+_e;Xt=ot.makeVList({positionType:"bottom",positionData:vn,children:[{type:"elem",elem:E},{type:"kern",size:ct.kern},{type:"elem",elem:ct.elem,marginLeft:$(te)},{type:"kern",size:N.fontMetrics().bigOpSpacing5}]},N)}else return E;var zn=[Xt];if(qe&&te!==0&&!Le){var Yn=ot.makeSpan(["mspace"],[],N);Yn.style.marginRight=$(te),zn.unshift(Yn)}return ot.makeSpan(["mop","op-limits"],zn,N)},vO=["\\smallint"],Bm=function(E,R){var P,N,q=!1,te;E.type==="supsub"?(P=E.sup,N=E.sub,te=br(E.base,"op"),q=!0):te=br(E,"op");var _e=R.style,Le=!1;_e.size===O.DISPLAY.size&&te.symbol&&!g.contains(vO,te.name)&&(Le=!0);var qe;if(te.symbol){var ct=Le?"Size2-Regular":"Size1-Regular",Dt="";if((te.name==="\\oiint"||te.name==="\\oiiint")&&(Dt=te.name.substr(1),te.name=Dt==="oiint"?"\\iint":"\\iiint"),qe=ot.makeSymbol(te.name,ct,"math",R,["mop","op-symbol",Le?"large-op":"small-op"]),Dt.length>0){var $t=qe.italic,Xt=ot.staticSvg(Dt+"Size"+(Le?"2":"1"),R);qe=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:qe,shift:0},{type:"elem",elem:Xt,shift:Le?.08:0}]},R),te.name="\\"+Dt,qe.classes.unshift("mop"),qe.italic=$t}}else if(te.body){var jt=Ga(te.body,R,!0);jt.length===1&&jt[0]instanceof nt?(qe=jt[0],qe.classes[0]="mop"):qe=ot.makeSpan(["mop"],jt,R)}else{for(var fn=[],vn=1;vn<te.name.length;vn++)fn.push(ot.mathsym(te.name[vn],te.mode,R));qe=ot.makeSpan(["mop"],fn,R)}var zn=0,Yn=0;return(qe instanceof nt||te.name==="\\oiint"||te.name==="\\oiiint")&&!te.suppressBaseShift&&(zn=(qe.height-qe.depth)/2-R.fontMetrics().axisHeight,Yn=qe.italic),q?mO(qe,P,N,R,_e,Yn,zn):(zn&&(qe.style.position="relative",qe.style.top=$(zn)),qe)},Cy=function(E,R){var P;if(E.symbol)P=new Yo("mo",[Xo(E.name,E.mode)]),g.contains(vO,E.name)&&P.setAttribute("largeop","false");else if(E.body)P=new Yo("mo",xo(E.body,R));else{P=new Yo("mi",[new wy(E.name.slice(1))]);var N=new Yo("mo",[Xo("⁡","text")]);E.parentIsSupSub?P=new Yo("mrow",[P,N]):P=LN([P,N])}return P},zae={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};nn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(E,R){var P=E.parser,N=E.funcName,q=N;return q.length===1&&(q=zae[q]),{type:"op",mode:P.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:q}},htmlBuilder:Bm,mathmlBuilder:Cy}),nn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"op",mode:P.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ai(N)}},htmlBuilder:Bm,mathmlBuilder:Cy});var Uae={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};nn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName;return{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:Bm,mathmlBuilder:Cy}),nn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName;return{type:"op",mode:R.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:Bm,mathmlBuilder:Cy}),nn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName,N=P;return N.length===1&&(N=Uae[N]),{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:N}},htmlBuilder:Bm,mathmlBuilder:Cy});var gO={};function Oe(ne,E){gO[ne]=E}var yO=function(E,R){var P,N,q=!1,te;E.type==="supsub"?(P=E.sup,N=E.sub,te=br(E.base,"operatorname"),q=!0):te=br(E,"operatorname");var _e;if(te.body.length>0){for(var Le=te.body.map(function($t){var Xt=$t.text;return typeof Xt=="string"?{type:"textord",mode:$t.mode,text:Xt}:$t}),qe=Ga(Le,R.withFont("mathrm"),!0),ct=0;ct<qe.length;ct++){var Dt=qe[ct];Dt instanceof nt&&(Dt.text=Dt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}_e=ot.makeSpan(["mop"],qe,R)}else _e=ot.makeSpan(["mop"],[],R);return q?mO(_e,P,N,R,R.style,0,0):_e},Hae=function(E,R){for(var P=xo(E.body,R.withFont("mathrm")),N=!0,q=0;q<P.length;q++){var te=P[q];if(!(te instanceof on.SpaceNode))if(te instanceof on.MathNode)switch(te.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var _e=te.children[0];te.children.length===1&&_e instanceof on.TextNode?_e.text=_e.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):N=!1;break}default:N=!1}else N=!1}if(N){var Le=P.map(function(Dt){return Dt.toText()}).join("");P=[new on.TextNode(Le)]}var qe=new on.MathNode("mi",P);qe.setAttribute("mathvariant","normal");var ct=new on.MathNode("mo",[Xo("⁡","text")]);return E.parentIsSupSub?new on.MathNode("mrow",[qe,ct]):on.newDocumentFragment([qe,ct])};nn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0];return{type:"operatorname",mode:P.mode,body:ai(q),alwaysHandleSupSub:N==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:yO,mathmlBuilder:Hae}),Oe("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),wr({type:"ordgroup",htmlBuilder:function(E,R){return E.semisimple?ot.makeFragment(Ga(E.body,R,!1)):ot.makeSpan(["mord"],Ga(E.body,R,!0),R)},mathmlBuilder:function(E,R){return Id(E.body,R,!0)}}),nn({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=R[0];return{type:"overline",mode:P.mode,body:N}},htmlBuilder:function(E,R){var P=Qr(E.body,R.havingCrampedStyle()),N=ot.makeLineSpan("overline-line",R),q=R.fontMetrics().defaultRuleThickness,te=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P},{type:"kern",size:3*q},{type:"elem",elem:N},{type:"kern",size:q}]},R);return ot.makeSpan(["mord","overline"],[te],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[new on.TextNode("‾")]);P.setAttribute("stretchy","true");var N=new on.MathNode("mover",[Mi(E.body,R),P]);return N.setAttribute("accent","true"),N}}),nn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"phantom",mode:P.mode,body:ai(N)}},htmlBuilder:function(E,R){var P=Ga(E.body,R.withPhantom(),!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){var P=xo(E.body,R);return new on.MathNode("mphantom",P)}}),nn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"hphantom",mode:P.mode,body:N}},htmlBuilder:function(E,R){var P=ot.makeSpan([],[Qr(E.body,R.withPhantom())]);if(P.height=0,P.depth=0,P.children)for(var N=0;N<P.children.length;N++)P.children[N].height=0,P.children[N].depth=0;return P=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R),ot.makeSpan(["mord"],[P],R)},mathmlBuilder:function(E,R){var P=xo(ai(E.body),R),N=new on.MathNode("mphantom",P),q=new on.MathNode("mpadded",[N]);return q.setAttribute("height","0px"),q.setAttribute("depth","0px"),q}}),nn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"vphantom",mode:P.mode,body:N}},htmlBuilder:function(E,R){var P=ot.makeSpan(["inner"],[Qr(E.body,R.withPhantom())]),N=ot.makeSpan(["fix"],[]);return ot.makeSpan(["mord","rlap"],[P,N],R)},mathmlBuilder:function(E,R){var P=xo(ai(E.body),R),N=new on.MathNode("mphantom",P),q=new on.MathNode("mpadded",[N]);return q.setAttribute("width","0px"),q}}),nn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=br(R[0],"size").value,q=R[1];return{type:"raisebox",mode:P.mode,dy:N,body:q}},htmlBuilder:function(E,R){var P=Qr(E.body,R),N=st(E.dy,R);return ot.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:P}]},R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Mi(E.body,R)]),N=E.dy.number+E.dy.unit;return P.setAttribute("voffset",N),P}}),nn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(E,R,P){var N=E.parser,q=P[0],te=br(R[0],"size"),_e=br(R[1],"size");return{type:"rule",mode:N.mode,shift:q&&br(q,"size").value,width:te.value,height:_e.value}},htmlBuilder:function(E,R){var P=ot.makeSpan(["mord","rule"],[],R),N=st(E.width,R),q=st(E.height,R),te=E.shift?st(E.shift,R):0;return P.style.borderRightWidth=$(N),P.style.borderTopWidth=$(q),P.style.bottom=$(te),P.width=N,P.height=q+te,P.depth=-te,P.maxFontSize=q*1.125*R.sizeMultiplier,P},mathmlBuilder:function(E,R){var P=st(E.width,R),N=st(E.height,R),q=E.shift?st(E.shift,R):0,te=R.color&&R.getColor()||"black",_e=new on.MathNode("mspace");_e.setAttribute("mathbackground",te),_e.setAttribute("width",$(P)),_e.setAttribute("height",$(N));var Le=new on.MathNode("mpadded",[_e]);return q>=0?Le.setAttribute("height",$(q)):(Le.setAttribute("height",$(q)),Le.setAttribute("depth",$(-q))),Le.setAttribute("voffset",$(q)),Le}});function bO(ne,E,R){for(var P=Ga(ne,E,!1),N=E.sizeMultiplier/R.sizeMultiplier,q=0;q<P.length;q++){var te=P[q].classes.indexOf("sizing");te<0?Array.prototype.push.apply(P[q].classes,E.sizingClasses(R)):P[q].classes[te+1]==="reset-size"+E.size&&(P[q].classes[te+1]="reset-size"+R.size),P[q].height*=N,P[q].depth*=N}return ot.makeFragment(P)}var _O=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],Vae=function(E,R){var P=R.havingSize(E.size);return bO(E.body,P,R)};nn({type:"sizing",names:_O,props:{numArgs:0,allowedInText:!0},handler:function(E,R){var P=E.breakOnTokenText,N=E.funcName,q=E.parser,te=q.parseExpression(!1,P);return{type:"sizing",mode:q.mode,size:_O.indexOf(N)+1,body:te}},htmlBuilder:Vae,mathmlBuilder:function(E,R){var P=R.havingSize(E.size),N=xo(E.body,P),q=new on.MathNode("mstyle",N);return q.setAttribute("mathsize",$(P.sizeMultiplier)),q}}),nn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(E,R,P){var N=E.parser,q=!1,te=!1,_e=P[0]&&br(P[0],"ordgroup");if(_e)for(var Le="",qe=0;qe<_e.body.length;++qe){var ct=_e.body[qe];if(Le=ct.text,Le==="t")q=!0;else if(Le==="b")te=!0;else{q=!1,te=!1;break}}else q=!0,te=!0;var Dt=R[0];return{type:"smash",mode:N.mode,body:Dt,smashHeight:q,smashDepth:te}},htmlBuilder:function(E,R){var P=ot.makeSpan([],[Qr(E.body,R)]);if(!E.smashHeight&&!E.smashDepth)return P;if(E.smashHeight&&(P.height=0,P.children))for(var N=0;N<P.children.length;N++)P.children[N].height=0;if(E.smashDepth&&(P.depth=0,P.children))for(var q=0;q<P.children.length;q++)P.children[q].depth=0;var te=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R);return ot.makeSpan(["mord"],[te],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Mi(E.body,R)]);return E.smashHeight&&P.setAttribute("height","0px"),E.smashDepth&&P.setAttribute("depth","0px"),P}}),nn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(E,R,P){var N=E.parser,q=P[0],te=R[0];return{type:"sqrt",mode:N.mode,body:te,index:q}},htmlBuilder:function(E,R){var P=Qr(E.body,R.havingCrampedStyle());P.height===0&&(P.height=R.fontMetrics().xHeight),P=ot.wrapFragment(P,R);var N=R.fontMetrics(),q=N.defaultRuleThickness,te=q;R.style.id<O.TEXT.id&&(te=R.fontMetrics().xHeight);var _e=q+te/4,Le=P.height+P.depth+_e+q,qe=bu.sqrtImage(Le,R),ct=qe.span,Dt=qe.ruleWidth,$t=qe.advanceWidth,Xt=ct.height-Dt;Xt>P.height+P.depth+_e&&(_e=(_e+Xt-P.height-P.depth)/2);var jt=ct.height-P.height-_e-Dt;P.style.paddingLeft=$($t);var fn=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P,wrapperClasses:["svg-align"]},{type:"kern",size:-(P.height+jt)},{type:"elem",elem:ct},{type:"kern",size:Dt}]},R);if(E.index){var vn=R.havingStyle(O.SCRIPTSCRIPT),zn=Qr(E.index,vn,R),Yn=.6*(fn.height-fn.depth),tr=ot.makeVList({positionType:"shift",positionData:-Yn,children:[{type:"elem",elem:zn}]},R),Jr=ot.makeSpan(["root"],[tr]);return ot.makeSpan(["mord","sqrt"],[Jr,fn],R)}else return ot.makeSpan(["mord","sqrt"],[fn],R)},mathmlBuilder:function(E,R){var P=E.body,N=E.index;return N?new on.MathNode("mroot",[Mi(P,R),Mi(N,R)]):new on.MathNode("msqrt",[Mi(P,R)])}});var wO={display:O.DISPLAY,text:O.TEXT,script:O.SCRIPT,scriptscript:O.SCRIPTSCRIPT};nn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E,R){var P=E.breakOnTokenText,N=E.funcName,q=E.parser,te=q.parseExpression(!0,P),_e=N.slice(1,N.length-5);return{type:"styling",mode:q.mode,style:_e,body:te}},htmlBuilder:function(E,R){var P=wO[E.style],N=R.havingStyle(P).withFont("");return bO(E.body,N,R)},mathmlBuilder:function(E,R){var P=wO[E.style],N=R.havingStyle(P),q=xo(E.body,N),te=new on.MathNode("mstyle",q),_e={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},Le=_e[E.style];return te.setAttribute("scriptlevel",Le[0]),te.setAttribute("displaystyle",Le[1]),te}});var $ae=function(E,R){var P=E.base;if(P)if(P.type==="op"){var N=P.limits&&(R.style.size===O.DISPLAY.size||P.alwaysHandleSupSub);return N?Bm:null}else if(P.type==="operatorname"){var q=P.alwaysHandleSupSub&&(R.style.size===O.DISPLAY.size||P.limits);return q?yO:null}else{if(P.type==="accent")return g.isCharacterBox(P.base)?PA:null;if(P.type==="horizBrace"){var te=!E.sub;return te===P.isOver?hO:null}else return null}else return null};wr({type:"supsub",htmlBuilder:function(E,R){var P=$ae(E,R);if(P)return P(E,R);var N=E.base,q=E.sup,te=E.sub,_e=Qr(N,R),Le,qe,ct=R.fontMetrics(),Dt=0,$t=0,Xt=N&&g.isCharacterBox(N);if(q){var jt=R.havingStyle(R.style.sup());Le=Qr(q,jt,R),Xt||(Dt=_e.height-jt.fontMetrics().supDrop*jt.sizeMultiplier/R.sizeMultiplier)}if(te){var fn=R.havingStyle(R.style.sub());qe=Qr(te,fn,R),Xt||($t=_e.depth+fn.fontMetrics().subDrop*fn.sizeMultiplier/R.sizeMultiplier)}var vn;R.style===O.DISPLAY?vn=ct.sup1:R.style.cramped?vn=ct.sup3:vn=ct.sup2;var zn=R.sizeMultiplier,Yn=$(.5/ct.ptPerEm/zn),tr=null;if(qe){var Jr=E.base&&E.base.type==="op"&&E.base.name&&(E.base.name==="\\oiint"||E.base.name==="\\oiiint");(_e instanceof nt||Jr)&&(tr=$(-_e.italic))}var hi;if(Le&&qe){Dt=Math.max(Dt,vn,Le.depth+.25*ct.xHeight),$t=Math.max($t,ct.sub2);var Bi=ct.defaultRuleThickness,si=4*Bi;if(Dt-Le.depth-(qe.height-$t)<si){$t=si-(Dt-Le.depth)+qe.height;var pi=.8*ct.xHeight-(Dt-Le.depth);pi>0&&(Dt+=pi,$t-=pi)}var na=[{type:"elem",elem:qe,shift:$t,marginRight:Yn,marginLeft:tr},{type:"elem",elem:Le,shift:-Dt,marginRight:Yn}];hi=ot.makeVList({positionType:"individualShift",children:na},R)}else if(qe){$t=Math.max($t,ct.sub1,qe.height-.8*ct.xHeight);var Ei=[{type:"elem",elem:qe,marginLeft:tr,marginRight:Yn}];hi=ot.makeVList({positionType:"shift",positionData:$t,children:Ei},R)}else if(Le)Dt=Math.max(Dt,vn,Le.depth+.25*ct.xHeight),hi=ot.makeVList({positionType:"shift",positionData:-Dt,children:[{type:"elem",elem:Le,marginRight:Yn}]},R);else throw new Error("supsub must have either sup or sub.");var So=TA(_e,"right")||"mord";return ot.makeSpan([So],[_e,ot.makeSpan(["msupsub"],[hi])],R)},mathmlBuilder:function(E,R){var P=!1,N,q;E.base&&E.base.type==="horizBrace"&&(q=!!E.sup,q===E.base.isOver&&(P=!0,N=E.base.isOver)),E.base&&(E.base.type==="op"||E.base.type==="operatorname")&&(E.base.parentIsSupSub=!0);var te=[Mi(E.base,R)];E.sub&&te.push(Mi(E.sub,R)),E.sup&&te.push(Mi(E.sup,R));var _e;if(P)_e=N?"mover":"munder";else if(E.sub)if(E.sup){var ct=E.base;ct&&ct.type==="op"&&ct.limits&&R.style===O.DISPLAY||ct&&ct.type==="operatorname"&&ct.alwaysHandleSupSub&&(R.style===O.DISPLAY||ct.limits)?_e="munderover":_e="msubsup"}else{var qe=E.base;qe&&qe.type==="op"&&qe.limits&&(R.style===O.DISPLAY||qe.alwaysHandleSupSub)||qe&&qe.type==="operatorname"&&qe.alwaysHandleSupSub&&(qe.limits||R.style===O.DISPLAY)?_e="munder":_e="msub"}else{var Le=E.base;Le&&Le.type==="op"&&Le.limits&&(R.style===O.DISPLAY||Le.alwaysHandleSupSub)||Le&&Le.type==="operatorname"&&Le.alwaysHandleSupSub&&(Le.limits||R.style===O.DISPLAY)?_e="mover":_e="msup"}return new on.MathNode(_e,te)}}),wr({type:"atom",htmlBuilder:function(E,R){return ot.mathsym(E.text,E.mode,R,["m"+E.family])},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[Xo(E.text,E.mode)]);if(E.family==="bin"){var N=IA(E,R);N==="bold-italic"&&P.setAttribute("mathvariant",N)}else E.family==="punct"?P.setAttribute("separator","true"):(E.family==="open"||E.family==="close")&&P.setAttribute("stretchy","false");return P}});var xO={mi:"italic",mn:"normal",mtext:"normal"};wr({type:"mathord",htmlBuilder:function(E,R){return ot.makeOrd(E,R,"mathord")},mathmlBuilder:function(E,R){var P=new on.MathNode("mi",[Xo(E.text,E.mode,R)]),N=IA(E,R)||"italic";return N!==xO[P.type]&&P.setAttribute("mathvariant",N),P}}),wr({type:"textord",htmlBuilder:function(E,R){return ot.makeOrd(E,R,"textord")},mathmlBuilder:function(E,R){var P=Xo(E.text,E.mode,R),N=IA(E,R)||"normal",q;return E.mode==="text"?q=new on.MathNode("mtext",[P]):/[0-9]/.test(E.text)?q=new on.MathNode("mn",[P]):E.text==="\\prime"?q=new on.MathNode("mo",[P]):q=new on.MathNode("mi",[P]),N!==xO[q.type]&&q.setAttribute("mathvariant",N),q}});var KA={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},YA={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};wr({type:"spacing",htmlBuilder:function(E,R){if(YA.hasOwnProperty(E.text)){var P=YA[E.text].className||"";if(E.mode==="text"){var N=ot.makeOrd(E,R,"textord");return N.classes.push(P),N}else return ot.makeSpan(["mspace",P],[ot.mathsym(E.text,E.mode,R)],R)}else{if(KA.hasOwnProperty(E.text))return ot.makeSpan(["mspace",KA[E.text]],[],R);throw new a('Unknown type of space "'+E.text+'"')}},mathmlBuilder:function(E,R){var P;if(YA.hasOwnProperty(E.text))P=new on.MathNode("mtext",[new on.TextNode(" ")]);else{if(KA.hasOwnProperty(E.text))return new on.MathNode("mspace");throw new a('Unknown type of space "'+E.text+'"')}return P}});var SO=function(){var E=new on.MathNode("mtd",[]);return E.setAttribute("width","50%"),E};wr({type:"tag",mathmlBuilder:function(E,R){var P=new on.MathNode("mtable",[new on.MathNode("mtr",[SO(),new on.MathNode("mtd",[Id(E.body,R)]),SO(),new on.MathNode("mtd",[Id(E.tag,R)])])]);return P.setAttribute("width","100%"),P}});var CO={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},MO={"\\textbf":"textbf","\\textmd":"textmd"},Gae={"\\textit":"textit","\\textup":"textup"},TO=function(E,R){var P=E.font;return P?CO[P]?R.withTextFontFamily(CO[P]):MO[P]?R.withTextFontWeight(MO[P]):R.withTextFontShape(Gae[P]):R};nn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,q=R[0];return{type:"text",mode:P.mode,body:ai(q),font:N}},htmlBuilder:function(E,R){var P=TO(E,R),N=Ga(E.body,P,!0);return ot.makeSpan(["mord","text"],N,P)},mathmlBuilder:function(E,R){var P=TO(E,R);return Id(E.body,P)}}),nn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"underline",mode:P.mode,body:R[0]}},htmlBuilder:function(E,R){var P=Qr(E.body,R),N=ot.makeLineSpan("underline-line",R),q=R.fontMetrics().defaultRuleThickness,te=ot.makeVList({positionType:"top",positionData:P.height,children:[{type:"kern",size:q},{type:"elem",elem:N},{type:"kern",size:3*q},{type:"elem",elem:P}]},R);return ot.makeSpan(["mord","underline"],[te],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[new on.TextNode("‾")]);P.setAttribute("stretchy","true");var N=new on.MathNode("munder",[Mi(E.body,R),P]);return N.setAttribute("accentunder","true"),N}}),nn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(E,R){var P=E.parser;return{type:"vcenter",mode:P.mode,body:R[0]}},htmlBuilder:function(E,R){var P=Qr(E.body,R),N=R.fontMetrics().axisHeight,q=.5*(P.height-N-(P.depth+N));return ot.makeVList({positionType:"shift",positionData:q,children:[{type:"elem",elem:P}]},R)},mathmlBuilder:function(E,R){return new on.MathNode("mpadded",[Mi(E.body,R)],["vcenter"])}}),nn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(E,R,P){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(E,R){for(var P=AO(E),N=[],q=R.havingStyle(R.style.text()),te=0;te<P.length;te++){var _e=P[te];_e==="~"&&(_e="\\textasciitilde"),N.push(ot.makeSymbol(_e,"Typewriter-Regular",E.mode,q,["mord","texttt"]))}return ot.makeSpan(["mord","text"].concat(q.sizingClasses(R)),ot.tryCombineChars(N),q)},mathmlBuilder:function(E,R){var P=new on.TextNode(AO(E)),N=new on.MathNode("mtext",[P]);return N.setAttribute("mathvariant","monospace"),N}});var AO=function(E){return E.body.replace(/ /g,E.star?"␣":" ")},Wae=er,Pd=Wae,Ul=function(){function ne(E,R,P){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=E,this.start=R,this.end=P}return ne.range=function(R,P){return P?!R||!R.loc||!P.loc||R.loc.lexer!==P.loc.lexer?null:new ne(R.loc.lexer,R.loc.start,P.loc.end):R&&R.loc},ne}(),wh=function(){function ne(R,P){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=R,this.loc=P}var E=ne.prototype;return E.range=function(P,N){return new ne(N,Ul.range(this,P))},ne}(),EO=`[ \r
	]`,qae="\\\\[a-zA-Z@]+",Kae="\\\\[^\uD800-\uDFFF]",Yae="("+qae+")"+EO+"*",Xae=`\\\\(
|[ \r	]+
?)[ \r	]*`,XA="[̀-ͯ]",jae=new RegExp(XA+"+$"),Zae="("+EO+"+)|"+(Xae+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(XA+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(XA+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Yae)+("|"+Kae+")"),IO=function(){function ne(R,P){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=R,this.settings=P,this.tokenRegex=new RegExp(Zae,"g"),this.catcodes={"%":14,"~":13}}var E=ne.prototype;return E.setCatcode=function(P,N){this.catcodes[P]=N},E.lex=function(){var P=this.input,N=this.tokenRegex.lastIndex;if(N===P.length)return new wh("EOF",new Ul(this,N,N));var q=this.tokenRegex.exec(P);if(q===null||q.index!==N)throw new a("Unexpected character: '"+P[N]+"'",new wh(P[N],new Ul(this,N,N+1)));var te=q[6]||q[3]||(q[2]?"\\ ":" ");if(this.catcodes[te]===14){var _e=P.indexOf(`
`,this.tokenRegex.lastIndex);return _e===-1?(this.tokenRegex.lastIndex=P.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=_e+1,this.lex()}return new wh(te,new Ul(this,N,this.tokenRegex.lastIndex))},ne}(),Qae=function(){function ne(R,P){R===void 0&&(R={}),P===void 0&&(P={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=P,this.builtins=R,this.undefStack=[]}var E=ne.prototype;return E.beginGroup=function(){this.undefStack.push({})},E.endGroup=function(){if(this.undefStack.length===0)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var P=this.undefStack.pop();for(var N in P)P.hasOwnProperty(N)&&(P[N]===void 0?delete this.current[N]:this.current[N]=P[N])},E.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},E.has=function(P){return this.current.hasOwnProperty(P)||this.builtins.hasOwnProperty(P)},E.get=function(P){return this.current.hasOwnProperty(P)?this.current[P]:this.builtins[P]},E.set=function(P,N,q){if(q===void 0&&(q=!1),q){for(var te=0;te<this.undefStack.length;te++)delete this.undefStack[te][P];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][P]=N)}else{var _e=this.undefStack[this.undefStack.length-1];_e&&!_e.hasOwnProperty(P)&&(_e[P]=this.current[P])}this.current[P]=N},ne}(),Jae=gO,ese=Jae;Oe("\\noexpand",function(ne){var E=ne.popToken();return ne.isExpandable(E.text)&&(E.noexpand=!0,E.treatAsRelax=!0),{tokens:[E],numArgs:0}}),Oe("\\expandafter",function(ne){var E=ne.popToken();return ne.expandOnce(!0),{tokens:[E],numArgs:0}}),Oe("\\@firstoftwo",function(ne){var E=ne.consumeArgs(2);return{tokens:E[0],numArgs:0}}),Oe("\\@secondoftwo",function(ne){var E=ne.consumeArgs(2);return{tokens:E[1],numArgs:0}}),Oe("\\@ifnextchar",function(ne){var E=ne.consumeArgs(3);ne.consumeSpaces();var R=ne.future();return E[0].length===1&&E[0][0].text===R.text?{tokens:E[1],numArgs:0}:{tokens:E[2],numArgs:0}}),Oe("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Oe("\\TextOrMath",function(ne){var E=ne.consumeArgs(2);return ne.mode==="text"?{tokens:E[0],numArgs:0}:{tokens:E[1],numArgs:0}});var RO={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Oe("\\char",function(ne){var E=ne.popToken(),R,P="";if(E.text==="'")R=8,E=ne.popToken();else if(E.text==='"')R=16,E=ne.popToken();else if(E.text==="`")if(E=ne.popToken(),E.text[0]==="\\")P=E.text.charCodeAt(1);else{if(E.text==="EOF")throw new a("\\char` missing argument");P=E.text.charCodeAt(0)}else R=10;if(R){if(P=RO[E.text],P==null||P>=R)throw new a("Invalid base-"+R+" digit "+E.text);for(var N;(N=RO[ne.future().text])!=null&&N<R;)P*=R,P+=N,ne.popToken()}return"\\@char{"+P+"}"});var jA=function(E,R,P){var N=E.consumeArg().tokens;if(N.length!==1)throw new a("\\newcommand's first argument must be a macro name");var q=N[0].text,te=E.isDefined(q);if(te&&!R)throw new a("\\newcommand{"+q+"} attempting to redefine "+(q+"; use \\renewcommand"));if(!te&&!P)throw new a("\\renewcommand{"+q+"} when command "+q+" does not yet exist; use \\newcommand");var _e=0;if(N=E.consumeArg().tokens,N.length===1&&N[0].text==="["){for(var Le="",qe=E.expandNextToken();qe.text!=="]"&&qe.text!=="EOF";)Le+=qe.text,qe=E.expandNextToken();if(!Le.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+Le);_e=parseInt(Le),N=E.consumeArg().tokens}return E.macros.set(q,{tokens:N,numArgs:_e}),""};Oe("\\newcommand",function(ne){return jA(ne,!1,!0)}),Oe("\\renewcommand",function(ne){return jA(ne,!0,!1)}),Oe("\\providecommand",function(ne){return jA(ne,!0,!0)}),Oe("\\message",function(ne){var E=ne.consumeArgs(1)[0];return console.log(E.reverse().map(function(R){return R.text}).join("")),""}),Oe("\\errmessage",function(ne){var E=ne.consumeArgs(1)[0];return console.error(E.reverse().map(function(R){return R.text}).join("")),""}),Oe("\\show",function(ne){var E=ne.popToken(),R=E.text;return console.log(E,ne.macros.get(R),Pd[R],Zn.math[R],Zn.text[R]),""}),Oe("\\bgroup","{"),Oe("\\egroup","}"),Oe("~","\\nobreakspace"),Oe("\\lq","`"),Oe("\\rq","'"),Oe("\\aa","\\r a"),Oe("\\AA","\\r A"),Oe("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Oe("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Oe("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Oe("ℬ","\\mathscr{B}"),Oe("ℰ","\\mathscr{E}"),Oe("ℱ","\\mathscr{F}"),Oe("ℋ","\\mathscr{H}"),Oe("ℐ","\\mathscr{I}"),Oe("ℒ","\\mathscr{L}"),Oe("ℳ","\\mathscr{M}"),Oe("ℛ","\\mathscr{R}"),Oe("ℭ","\\mathfrak{C}"),Oe("ℌ","\\mathfrak{H}"),Oe("ℨ","\\mathfrak{Z}"),Oe("\\Bbbk","\\Bbb{k}"),Oe("·","\\cdotp"),Oe("\\llap","\\mathllap{\\textrm{#1}}"),Oe("\\rlap","\\mathrlap{\\textrm{#1}}"),Oe("\\clap","\\mathclap{\\textrm{#1}}"),Oe("\\mathstrut","\\vphantom{(}"),Oe("\\underbar","\\underline{\\text{#1}}"),Oe("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Oe("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Oe("\\ne","\\neq"),Oe("≠","\\neq"),Oe("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Oe("∉","\\notin"),Oe("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Oe("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Oe("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Oe("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Oe("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Oe("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Oe("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Oe("⟂","\\perp"),Oe("‼","\\mathclose{!\\mkern-0.8mu!}"),Oe("∌","\\notni"),Oe("⌜","\\ulcorner"),Oe("⌝","\\urcorner"),Oe("⌞","\\llcorner"),Oe("⌟","\\lrcorner"),Oe("©","\\copyright"),Oe("®","\\textregistered"),Oe("️","\\textregistered"),Oe("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Oe("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Oe("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Oe("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Oe("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),Oe("⋮","\\vdots"),Oe("\\varGamma","\\mathit{\\Gamma}"),Oe("\\varDelta","\\mathit{\\Delta}"),Oe("\\varTheta","\\mathit{\\Theta}"),Oe("\\varLambda","\\mathit{\\Lambda}"),Oe("\\varXi","\\mathit{\\Xi}"),Oe("\\varPi","\\mathit{\\Pi}"),Oe("\\varSigma","\\mathit{\\Sigma}"),Oe("\\varUpsilon","\\mathit{\\Upsilon}"),Oe("\\varPhi","\\mathit{\\Phi}"),Oe("\\varPsi","\\mathit{\\Psi}"),Oe("\\varOmega","\\mathit{\\Omega}"),Oe("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Oe("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),Oe("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Oe("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Oe("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Oe("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var PO={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Oe("\\dots",function(ne){var E="\\dotso",R=ne.expandAfterFuture().text;return R in PO?E=PO[R]:(R.substr(0,4)==="\\not"||R in Zn.math&&g.contains(["bin","rel"],Zn.math[R].group))&&(E="\\dotsb"),E});var ZA={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Oe("\\dotso",function(ne){var E=ne.future().text;return E in ZA?"\\ldots\\,":"\\ldots"}),Oe("\\dotsc",function(ne){var E=ne.future().text;return E in ZA&&E!==","?"\\ldots\\,":"\\ldots"}),Oe("\\cdots",function(ne){var E=ne.future().text;return E in ZA?"\\@cdots\\,":"\\@cdots"}),Oe("\\dotsb","\\cdots"),Oe("\\dotsm","\\cdots"),Oe("\\dotsi","\\!\\cdots"),Oe("\\dotsx","\\ldots\\,"),Oe("\\DOTSI","\\relax"),Oe("\\DOTSB","\\relax"),Oe("\\DOTSX","\\relax"),Oe("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Oe("\\,","\\tmspace+{3mu}{.1667em}"),Oe("\\thinspace","\\,"),Oe("\\>","\\mskip{4mu}"),Oe("\\:","\\tmspace+{4mu}{.2222em}"),Oe("\\medspace","\\:"),Oe("\\;","\\tmspace+{5mu}{.2777em}"),Oe("\\thickspace","\\;"),Oe("\\!","\\tmspace-{3mu}{.1667em}"),Oe("\\negthinspace","\\!"),Oe("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Oe("\\negthickspace","\\tmspace-{5mu}{.277em}"),Oe("\\enspace","\\kern.5em "),Oe("\\enskip","\\hskip.5em\\relax"),Oe("\\quad","\\hskip1em\\relax"),Oe("\\qquad","\\hskip2em\\relax"),Oe("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Oe("\\tag@paren","\\tag@literal{({#1})}"),Oe("\\tag@literal",function(ne){if(ne.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Oe("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Oe("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Oe("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Oe("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Oe("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),Oe("\\newline","\\\\\\relax"),Oe("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var DO=$(De["Main-Regular"]["T".charCodeAt(0)][1]-.7*De["Main-Regular"]["A".charCodeAt(0)][1]);Oe("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+DO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),Oe("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+DO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),Oe("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Oe("\\@hspace","\\hskip #1\\relax"),Oe("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Oe("\\ordinarycolon",":"),Oe("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Oe("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Oe("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Oe("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Oe("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Oe("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Oe("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Oe("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Oe("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Oe("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Oe("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Oe("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Oe("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Oe("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Oe("∷","\\dblcolon"),Oe("∹","\\eqcolon"),Oe("≔","\\coloneqq"),Oe("≕","\\eqqcolon"),Oe("⩴","\\Coloneqq"),Oe("\\ratio","\\vcentcolon"),Oe("\\coloncolon","\\dblcolon"),Oe("\\colonequals","\\coloneqq"),Oe("\\coloncolonequals","\\Coloneqq"),Oe("\\equalscolon","\\eqqcolon"),Oe("\\equalscoloncolon","\\Eqqcolon"),Oe("\\colonminus","\\coloneq"),Oe("\\coloncolonminus","\\Coloneq"),Oe("\\minuscolon","\\eqcolon"),Oe("\\minuscoloncolon","\\Eqcolon"),Oe("\\coloncolonapprox","\\Colonapprox"),Oe("\\coloncolonsim","\\Colonsim"),Oe("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Oe("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Oe("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Oe("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Oe("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Oe("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Oe("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Oe("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Oe("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Oe("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Oe("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Oe("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Oe("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Oe("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Oe("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Oe("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Oe("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Oe("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Oe("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Oe("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Oe("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Oe("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Oe("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Oe("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Oe("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Oe("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Oe("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Oe("\\imath","\\html@mathml{\\@imath}{ı}"),Oe("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Oe("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Oe("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Oe("⟦","\\llbracket"),Oe("⟧","\\rrbracket"),Oe("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Oe("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Oe("⦃","\\lBrace"),Oe("⦄","\\rBrace"),Oe("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Oe("⦵","\\minuso"),Oe("\\darr","\\downarrow"),Oe("\\dArr","\\Downarrow"),Oe("\\Darr","\\Downarrow"),Oe("\\lang","\\langle"),Oe("\\rang","\\rangle"),Oe("\\uarr","\\uparrow"),Oe("\\uArr","\\Uparrow"),Oe("\\Uarr","\\Uparrow"),Oe("\\N","\\mathbb{N}"),Oe("\\R","\\mathbb{R}"),Oe("\\Z","\\mathbb{Z}"),Oe("\\alef","\\aleph"),Oe("\\alefsym","\\aleph"),Oe("\\Alpha","\\mathrm{A}"),Oe("\\Beta","\\mathrm{B}"),Oe("\\bull","\\bullet"),Oe("\\Chi","\\mathrm{X}"),Oe("\\clubs","\\clubsuit"),Oe("\\cnums","\\mathbb{C}"),Oe("\\Complex","\\mathbb{C}"),Oe("\\Dagger","\\ddagger"),Oe("\\diamonds","\\diamondsuit"),Oe("\\empty","\\emptyset"),Oe("\\Epsilon","\\mathrm{E}"),Oe("\\Eta","\\mathrm{H}"),Oe("\\exist","\\exists"),Oe("\\harr","\\leftrightarrow"),Oe("\\hArr","\\Leftrightarrow"),Oe("\\Harr","\\Leftrightarrow"),Oe("\\hearts","\\heartsuit"),Oe("\\image","\\Im"),Oe("\\infin","\\infty"),Oe("\\Iota","\\mathrm{I}"),Oe("\\isin","\\in"),Oe("\\Kappa","\\mathrm{K}"),Oe("\\larr","\\leftarrow"),Oe("\\lArr","\\Leftarrow"),Oe("\\Larr","\\Leftarrow"),Oe("\\lrarr","\\leftrightarrow"),Oe("\\lrArr","\\Leftrightarrow"),Oe("\\Lrarr","\\Leftrightarrow"),Oe("\\Mu","\\mathrm{M}"),Oe("\\natnums","\\mathbb{N}"),Oe("\\Nu","\\mathrm{N}"),Oe("\\Omicron","\\mathrm{O}"),Oe("\\plusmn","\\pm"),Oe("\\rarr","\\rightarrow"),Oe("\\rArr","\\Rightarrow"),Oe("\\Rarr","\\Rightarrow"),Oe("\\real","\\Re"),Oe("\\reals","\\mathbb{R}"),Oe("\\Reals","\\mathbb{R}"),Oe("\\Rho","\\mathrm{P}"),Oe("\\sdot","\\cdot"),Oe("\\sect","\\S"),Oe("\\spades","\\spadesuit"),Oe("\\sub","\\subset"),Oe("\\sube","\\subseteq"),Oe("\\supe","\\supseteq"),Oe("\\Tau","\\mathrm{T}"),Oe("\\thetasym","\\vartheta"),Oe("\\weierp","\\wp"),Oe("\\Zeta","\\mathrm{Z}"),Oe("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Oe("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Oe("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Oe("\\bra","\\mathinner{\\langle{#1}|}"),Oe("\\ket","\\mathinner{|{#1}\\rangle}"),Oe("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Oe("\\Bra","\\left\\langle#1\\right|"),Oe("\\Ket","\\left|#1\\right\\rangle"),Oe("\\angln","{\\angl n}"),Oe("\\blue","\\textcolor{##6495ed}{#1}"),Oe("\\orange","\\textcolor{##ffa500}{#1}"),Oe("\\pink","\\textcolor{##ff00af}{#1}"),Oe("\\red","\\textcolor{##df0030}{#1}"),Oe("\\green","\\textcolor{##28ae7b}{#1}"),Oe("\\gray","\\textcolor{gray}{#1}"),Oe("\\purple","\\textcolor{##9d38bd}{#1}"),Oe("\\blueA","\\textcolor{##ccfaff}{#1}"),Oe("\\blueB","\\textcolor{##80f6ff}{#1}"),Oe("\\blueC","\\textcolor{##63d9ea}{#1}"),Oe("\\blueD","\\textcolor{##11accd}{#1}"),Oe("\\blueE","\\textcolor{##0c7f99}{#1}"),Oe("\\tealA","\\textcolor{##94fff5}{#1}"),Oe("\\tealB","\\textcolor{##26edd5}{#1}"),Oe("\\tealC","\\textcolor{##01d1c1}{#1}"),Oe("\\tealD","\\textcolor{##01a995}{#1}"),Oe("\\tealE","\\textcolor{##208170}{#1}"),Oe("\\greenA","\\textcolor{##b6ffb0}{#1}"),Oe("\\greenB","\\textcolor{##8af281}{#1}"),Oe("\\greenC","\\textcolor{##74cf70}{#1}"),Oe("\\greenD","\\textcolor{##1fab54}{#1}"),Oe("\\greenE","\\textcolor{##0d923f}{#1}"),Oe("\\goldA","\\textcolor{##ffd0a9}{#1}"),Oe("\\goldB","\\textcolor{##ffbb71}{#1}"),Oe("\\goldC","\\textcolor{##ff9c39}{#1}"),Oe("\\goldD","\\textcolor{##e07d10}{#1}"),Oe("\\goldE","\\textcolor{##a75a05}{#1}"),Oe("\\redA","\\textcolor{##fca9a9}{#1}"),Oe("\\redB","\\textcolor{##ff8482}{#1}"),Oe("\\redC","\\textcolor{##f9685d}{#1}"),Oe("\\redD","\\textcolor{##e84d39}{#1}"),Oe("\\redE","\\textcolor{##bc2612}{#1}"),Oe("\\maroonA","\\textcolor{##ffbde0}{#1}"),Oe("\\maroonB","\\textcolor{##ff92c6}{#1}"),Oe("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Oe("\\maroonD","\\textcolor{##ca337c}{#1}"),Oe("\\maroonE","\\textcolor{##9e034e}{#1}"),Oe("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Oe("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Oe("\\purpleC","\\textcolor{##aa87ff}{#1}"),Oe("\\purpleD","\\textcolor{##7854ab}{#1}"),Oe("\\purpleE","\\textcolor{##543b78}{#1}"),Oe("\\mintA","\\textcolor{##f5f9e8}{#1}"),Oe("\\mintB","\\textcolor{##edf2df}{#1}"),Oe("\\mintC","\\textcolor{##e0e5cc}{#1}"),Oe("\\grayA","\\textcolor{##f6f7f7}{#1}"),Oe("\\grayB","\\textcolor{##f0f1f2}{#1}"),Oe("\\grayC","\\textcolor{##e3e5e6}{#1}"),Oe("\\grayD","\\textcolor{##d6d8da}{#1}"),Oe("\\grayE","\\textcolor{##babec2}{#1}"),Oe("\\grayF","\\textcolor{##888d93}{#1}"),Oe("\\grayG","\\textcolor{##626569}{#1}"),Oe("\\grayH","\\textcolor{##3b3e40}{#1}"),Oe("\\grayI","\\textcolor{##21242c}{#1}"),Oe("\\kaBlue","\\textcolor{##314453}{#1}"),Oe("\\kaGreen","\\textcolor{##71B307}{#1}");var kO={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},tse=function(){function ne(R,P,N){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=P,this.expansionCount=0,this.feed(R),this.macros=new Qae(ese,P.macros),this.mode=N,this.stack=[]}var E=ne.prototype;return E.feed=function(P){this.lexer=new IO(P,this.settings)},E.switchMode=function(P){this.mode=P},E.beginGroup=function(){this.macros.beginGroup()},E.endGroup=function(){this.macros.endGroup()},E.endGroups=function(){this.macros.endGroups()},E.future=function(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},E.popToken=function(){return this.future(),this.stack.pop()},E.pushToken=function(P){this.stack.push(P)},E.pushTokens=function(P){var N;(N=this.stack).push.apply(N,P)},E.scanArgument=function(P){var N,q,te;if(P){if(this.consumeSpaces(),this.future().text!=="[")return null;N=this.popToken();var _e=this.consumeArg(["]"]);te=_e.tokens,q=_e.end}else{var Le=this.consumeArg();te=Le.tokens,N=Le.start,q=Le.end}return this.pushToken(new wh("EOF",q.loc)),this.pushTokens(te),N.range(q,"")},E.consumeSpaces=function(){for(;;){var P=this.future();if(P.text===" ")this.stack.pop();else break}},E.consumeArg=function(P){var N=[],q=P&&P.length>0;q||this.consumeSpaces();var te=this.future(),_e,Le=0,qe=0;do{if(_e=this.popToken(),N.push(_e),_e.text==="{")++Le;else if(_e.text==="}"){if(--Le,Le===-1)throw new a("Extra }",_e)}else if(_e.text==="EOF")throw new a("Unexpected end of input in a macro argument, expected '"+(P&&q?P[qe]:"}")+"'",_e);if(P&&q)if((Le===0||Le===1&&P[qe]==="{")&&_e.text===P[qe]){if(++qe,qe===P.length){N.splice(-qe,qe);break}}else qe=0}while(Le!==0||q);return te.text==="{"&&N[N.length-1].text==="}"&&(N.pop(),N.shift()),N.reverse(),{tokens:N,start:te,end:_e}},E.consumeArgs=function(P,N){if(N){if(N.length!==P+1)throw new a("The length of delimiters doesn't match the number of args!");for(var q=N[0],te=0;te<q.length;te++){var _e=this.popToken();if(q[te]!==_e.text)throw new a("Use of the macro doesn't match its definition",_e)}}for(var Le=[],qe=0;qe<P;qe++)Le.push(this.consumeArg(N&&N[qe+1]).tokens);return Le},E.expandOnce=function(P){var N=this.popToken(),q=N.text,te=N.noexpand?null:this._getExpansion(q);if(te==null||P&&te.unexpandable){if(P&&te==null&&q[0]==="\\"&&!this.isDefined(q))throw new a("Undefined control sequence: "+q);return this.pushToken(N),N}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting");var _e=te.tokens,Le=this.consumeArgs(te.numArgs,te.delimiters);if(te.numArgs){_e=_e.slice();for(var qe=_e.length-1;qe>=0;--qe){var ct=_e[qe];if(ct.text==="#"){if(qe===0)throw new a("Incomplete placeholder at end of macro body",ct);if(ct=_e[--qe],ct.text==="#")_e.splice(qe+1,1);else if(/^[1-9]$/.test(ct.text)){var Dt;(Dt=_e).splice.apply(Dt,[qe,2].concat(Le[+ct.text-1]))}else throw new a("Not a valid argument number",ct)}}}return this.pushTokens(_e),_e},E.expandAfterFuture=function(){return this.expandOnce(),this.future()},E.expandNextToken=function(){for(;;){var P=this.expandOnce();if(P instanceof wh)if(P.text==="\\relax"||P.treatAsRelax)this.stack.pop();else return this.stack.pop()}throw new Error},E.expandMacro=function(P){return this.macros.has(P)?this.expandTokens([new wh(P)]):void 0},E.expandTokens=function(P){var N=[],q=this.stack.length;for(this.pushTokens(P);this.stack.length>q;){var te=this.expandOnce(!0);te instanceof wh&&(te.treatAsRelax&&(te.noexpand=!1,te.treatAsRelax=!1),N.push(this.stack.pop()))}return N},E.expandMacroAsText=function(P){var N=this.expandMacro(P);return N&&N.map(function(q){return q.text}).join("")},E._getExpansion=function(P){var N=this.macros.get(P);if(N==null)return N;if(P.length===1){var q=this.lexer.catcodes[P];if(q!=null&&q!==13)return}var te=typeof N=="function"?N(this):N;if(typeof te=="string"){var _e=0;if(te.indexOf("#")!==-1)for(var Le=te.replace(/##/g,"");Le.indexOf("#"+(_e+1))!==-1;)++_e;for(var qe=new IO(te,this.settings),ct=[],Dt=qe.lex();Dt.text!=="EOF";)ct.push(Dt),Dt=qe.lex();ct.reverse();var $t={tokens:ct,numArgs:_e};return $t}return te},E.isDefined=function(P){return this.macros.has(P)||Pd.hasOwnProperty(P)||Zn.math.hasOwnProperty(P)||Zn.text.hasOwnProperty(P)||kO.hasOwnProperty(P)},E.isExpandable=function(P){var N=this.macros.get(P);return N!=null?typeof N=="string"||typeof N=="function"||!N.unexpandable:Pd.hasOwnProperty(P)&&!Pd[P].primitive},ne}(),QA={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},LO={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"},NO=function(){function ne(R,P){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new tse(R,P,this.mode),this.settings=P,this.leftrightDepth=0}var E=ne.prototype;return E.expect=function(P,N){if(N===void 0&&(N=!0),this.fetch().text!==P)throw new a("Expected '"+P+"', got '"+this.fetch().text+"'",this.fetch());N&&this.consume()},E.consume=function(){this.nextToken=null},E.fetch=function(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},E.switchMode=function(P){this.mode=P,this.gullet.switchMode(P)},E.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var P=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),P}finally{this.gullet.endGroups()}},E.parseExpression=function(P,N){for(var q=[];;){this.mode==="math"&&this.consumeSpaces();var te=this.fetch();if(ne.endOfExpression.indexOf(te.text)!==-1||N&&te.text===N||P&&Pd[te.text]&&Pd[te.text].infix)break;var _e=this.parseAtom(N);if(_e){if(_e.type==="internal")continue}else break;q.push(_e)}return this.mode==="text"&&this.formLigatures(q),this.handleInfixNodes(q)},E.handleInfixNodes=function(P){for(var N=-1,q,te=0;te<P.length;te++)if(P[te].type==="infix"){if(N!==-1)throw new a("only one infix operator per group",P[te].token);N=te,q=P[te].replaceWith}if(N!==-1&&q){var _e,Le,qe=P.slice(0,N),ct=P.slice(N+1);qe.length===1&&qe[0].type==="ordgroup"?_e=qe[0]:_e={type:"ordgroup",mode:this.mode,body:qe},ct.length===1&&ct[0].type==="ordgroup"?Le=ct[0]:Le={type:"ordgroup",mode:this.mode,body:ct};var Dt;return q==="\\\\abovefrac"?Dt=this.callFunction(q,[_e,P[N],Le],[]):Dt=this.callFunction(q,[_e,Le],[]),[Dt]}else return P},E.handleSupSubscript=function(P){var N=this.fetch(),q=N.text;this.consume(),this.consumeSpaces();var te=this.parseGroup(P);if(!te)throw new a("Expected group after '"+q+"'",N);return te},E.formatUnsupportedCmd=function(P){for(var N=[],q=0;q<P.length;q++)N.push({type:"textord",mode:"text",text:P[q]});var te={type:"text",mode:this.mode,body:N},_e={type:"color",mode:this.mode,color:this.settings.errorColor,body:[te]};return _e},E.parseAtom=function(P){var N=this.parseGroup("atom",P);if(this.mode==="text")return N;for(var q,te;;){this.consumeSpaces();var _e=this.fetch();if(_e.text==="\\limits"||_e.text==="\\nolimits"){if(N&&N.type==="op"){var Le=_e.text==="\\limits";N.limits=Le,N.alwaysHandleSupSub=!0}else if(N&&N.type==="operatorname")N.alwaysHandleSupSub&&(N.limits=_e.text==="\\limits");else throw new a("Limit controls must follow a math operator",_e);this.consume()}else if(_e.text==="^"){if(q)throw new a("Double superscript",_e);q=this.handleSupSubscript("superscript")}else if(_e.text==="_"){if(te)throw new a("Double subscript",_e);te=this.handleSupSubscript("subscript")}else if(_e.text==="'"){if(q)throw new a("Double superscript",_e);var qe={type:"textord",mode:this.mode,text:"\\prime"},ct=[qe];for(this.consume();this.fetch().text==="'";)ct.push(qe),this.consume();this.fetch().text==="^"&&ct.push(this.handleSupSubscript("superscript")),q={type:"ordgroup",mode:this.mode,body:ct}}else break}return q||te?{type:"supsub",mode:this.mode,base:N,sup:q,sub:te}:N},E.parseFunction=function(P,N){var q=this.fetch(),te=q.text,_e=Pd[te];if(!_e)return null;if(this.consume(),N&&N!=="atom"&&!_e.allowedInArgument)throw new a("Got function '"+te+"' with no arguments"+(N?" as "+N:""),q);if(this.mode==="text"&&!_e.allowedInText)throw new a("Can't use function '"+te+"' in text mode",q);if(this.mode==="math"&&_e.allowedInMath===!1)throw new a("Can't use function '"+te+"' in math mode",q);var Le=this.parseArguments(te,_e),qe=Le.args,ct=Le.optArgs;return this.callFunction(te,qe,ct,q,P)},E.callFunction=function(P,N,q,te,_e){var Le={funcName:P,parser:this,token:te,breakOnTokenText:_e},qe=Pd[P];if(qe&&qe.handler)return qe.handler(Le,N,q);throw new a("No function handler for "+P)},E.parseArguments=function(P,N){var q=N.numArgs+N.numOptionalArgs;if(q===0)return{args:[],optArgs:[]};for(var te=[],_e=[],Le=0;Le<q;Le++){var qe=N.argTypes&&N.argTypes[Le],ct=Le<N.numOptionalArgs;(N.primitive&&qe==null||N.type==="sqrt"&&Le===1&&_e[0]==null)&&(qe="primitive");var Dt=this.parseGroupOfType("argument to '"+P+"'",qe,ct);if(ct)_e.push(Dt);else if(Dt!=null)te.push(Dt);else throw new a("Null argument, please report this as a bug")}return{args:te,optArgs:_e}},E.parseGroupOfType=function(P,N,q){switch(N){case"color":return this.parseColorGroup(q);case"size":return this.parseSizeGroup(q);case"url":return this.parseUrlGroup(q);case"math":case"text":return this.parseArgumentGroup(q,N);case"hbox":{var te=this.parseArgumentGroup(q,"text");return te!=null?{type:"styling",mode:te.mode,body:[te],style:"text"}:null}case"raw":{var _e=this.parseStringGroup("raw",q);return _e!=null?{type:"raw",mode:"text",string:_e.text}:null}case"primitive":{if(q)throw new a("A primitive argument cannot be optional");var Le=this.parseGroup(P);if(Le==null)throw new a("Expected group as "+P,this.fetch());return Le}case"original":case null:case void 0:return this.parseArgumentGroup(q);default:throw new a("Unknown group type as "+P,this.fetch())}},E.consumeSpaces=function(){for(;this.fetch().text===" ";)this.consume()},E.parseStringGroup=function(P,N){var q=this.gullet.scanArgument(N);if(q==null)return null;for(var te="",_e;(_e=this.fetch()).text!=="EOF";)te+=_e.text,this.consume();return this.consume(),q.text=te,q},E.parseRegexGroup=function(P,N){for(var q=this.fetch(),te=q,_e="",Le;(Le=this.fetch()).text!=="EOF"&&P.test(_e+Le.text);)te=Le,_e+=te.text,this.consume();if(_e==="")throw new a("Invalid "+N+": '"+q.text+"'",q);return q.range(te,_e)},E.parseColorGroup=function(P){var N=this.parseStringGroup("color",P);if(N==null)return null;var q=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(N.text);if(!q)throw new a("Invalid color: '"+N.text+"'",N);var te=q[0];return/^[0-9a-f]{6}$/i.test(te)&&(te="#"+te),{type:"color-token",mode:this.mode,color:te}},E.parseSizeGroup=function(P){var N,q=!1;if(this.gullet.consumeSpaces(),!P&&this.gullet.future().text!=="{"?N=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):N=this.parseStringGroup("size",P),!N)return null;!P&&N.text.length===0&&(N.text="0pt",q=!0);var te=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(N.text);if(!te)throw new a("Invalid size: '"+N.text+"'",N);var _e={number:+(te[1]+te[2]),unit:te[3]};if(!ht(_e))throw new a("Invalid unit: '"+_e.unit+"'",N);return{type:"size",mode:this.mode,value:_e,isBlank:q}},E.parseUrlGroup=function(P){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var N=this.parseStringGroup("url",P);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),N==null)return null;var q=N.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:q}},E.parseArgumentGroup=function(P,N){var q=this.gullet.scanArgument(P);if(q==null)return null;var te=this.mode;N&&this.switchMode(N),this.gullet.beginGroup();var _e=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var Le={type:"ordgroup",mode:this.mode,loc:q.loc,body:_e};return N&&this.switchMode(te),Le},E.parseGroup=function(P,N){var q=this.fetch(),te=q.text,_e;if(te==="{"||te==="\\begingroup"){this.consume();var Le=te==="{"?"}":"\\endgroup";this.gullet.beginGroup();var qe=this.parseExpression(!1,Le),ct=this.fetch();this.expect(Le),this.gullet.endGroup(),_e={type:"ordgroup",mode:this.mode,loc:Ul.range(q,ct),body:qe,semisimple:te==="\\begingroup"||void 0}}else if(_e=this.parseFunction(N,P)||this.parseSymbol(),_e==null&&te[0]==="\\"&&!kO.hasOwnProperty(te)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+te,q);_e=this.formatUnsupportedCmd(te),this.consume()}return _e},E.formLigatures=function(P){for(var N=P.length-1,q=0;q<N;++q){var te=P[q],_e=te.text;_e==="-"&&P[q+1].text==="-"&&(q+1<N&&P[q+2].text==="-"?(P.splice(q,3,{type:"textord",mode:"text",loc:Ul.range(te,P[q+2]),text:"---"}),N-=2):(P.splice(q,2,{type:"textord",mode:"text",loc:Ul.range(te,P[q+1]),text:"--"}),N-=1)),(_e==="'"||_e==="`")&&P[q+1].text===_e&&(P.splice(q,2,{type:"textord",mode:"text",loc:Ul.range(te,P[q+1]),text:_e+_e}),N-=1)}},E.parseSymbol=function(){var P=this.fetch(),N=P.text;if(/^\\verb[^a-zA-Z]/.test(N)){this.consume();var q=N.slice(5),te=q.charAt(0)==="*";if(te&&(q=q.slice(1)),q.length<2||q.charAt(0)!==q.slice(-1))throw new a(`\\verb assertion failed --
                    please report what input caused this bug`);return q=q.slice(1,-1),{type:"verb",mode:"text",body:q,star:te}}LO.hasOwnProperty(N[0])&&!Zn[this.mode][N[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+N[0]+'" used in math mode',P),N=LO[N[0]]+N.substr(1));var _e=jae.exec(N);_e&&(N=N.substring(0,_e.index),N==="i"?N="ı":N==="j"&&(N="ȷ"));var Le;if(Zn[this.mode][N]){this.settings.strict&&this.mode==="math"&&vr.indexOf(N)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+N[0]+'" used in math mode',P);var qe=Zn[this.mode][N].group,ct=Ul.range(P),Dt;if(lr.hasOwnProperty(qe)){var $t=qe;Dt={type:"atom",mode:this.mode,family:$t,loc:ct,text:N}}else Dt={type:qe,mode:this.mode,loc:ct,text:N};Le=Dt}else if(N.charCodeAt(0)>=128)this.settings.strict&&(Q(N.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+N[0]+'" used in math mode',P):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+N[0]+'"'+(" ("+N.charCodeAt(0)+")"),P)),Le={type:"textord",mode:"text",loc:Ul.range(P),text:N};else return null;if(this.consume(),_e)for(var Xt=0;Xt<_e[0].length;Xt++){var jt=_e[0][Xt];if(!QA[jt])throw new a("Unknown accent ' "+jt+"'",P);var fn=QA[jt][this.mode]||QA[jt].text;if(!fn)throw new a("Accent "+jt+" unsupported in "+this.mode+" mode",P);Le={type:"accent",mode:this.mode,loc:Ul.range(P),label:fn,isStretchy:!1,isShifty:!0,base:Le}}return Le},ne}();NO.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var nse=function(E,R){if(!(typeof E=="string"||E instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var P=new NO(E,R);delete P.gullet.macros.current["\\df@tag"];var N=P.parse();if(delete P.gullet.macros.current["\\current@color"],delete P.gullet.macros.current["\\color"],P.gullet.macros.get("\\df@tag")){if(!R.displayMode)throw new a("\\tag works only in display equations");P.gullet.feed("\\df@tag"),N=[{type:"tag",mode:"text",body:N,tag:P.parse()}]}return N},JA=nse,OO=function(E,R,P){R.textContent="";var N=e3(E,P).toNode();R.appendChild(N)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),OO=function(){throw new a("KaTeX doesn't work in quirks mode.")});var rse=function(E,R){var P=e3(E,R).toMarkup();return P},ise=function(E,R){var P=new y(R);return JA(E,P)},BO=function(E,R,P){if(P.throwOnError||!(E instanceof a))throw E;var N=ot.makeSpan(["katex-error"],[new nt(R)]);return N.setAttribute("title",E.toString()),N.setAttribute("style","color:"+P.errorColor),N},e3=function(E,R){var P=new y(R);try{var N=JA(E,P);return cae(N,E,P)}catch(q){return BO(q,E,P)}},ase=function(E,R){var P=new y(R);try{var N=JA(E,P);return uae(N,E,P)}catch(q){return BO(q,E,P)}},sse={version:"0.13.24",render:OO,renderToString:rse,ParseError:a,__parse:ise,__renderToDomTree:e3,__renderToHTMLTree:ase,__setFontMetrics:Ve,__defineSymbol:Y,__defineMacro:Oe,__domTree:{Span:Se,Anchor:ft,SymbolNode:nt,SvgNode:gt,PathNode:Lt,LineNode:At}},ose=sse;return r=r.default,r}()})})(Nne);var CKe=Nne.exports;const MKe=hu(CKe),TKe=(n,e={},t)=>{const{props:r,domProps:i,on:a,...s}=e,o={...s,...r,...i,...(l=>l?Object.entries(l).reduce((c,[u,d])=>({...c,[u=`on${u=u.charAt(0).toUpperCase()+u.slice(1)}`]:d}),{}):null)(a)};return Gt(n,o,t)};var W2=Ie({name:"VueLatex",props:{fontsize:{type:Number,default:16},expression:{type:String,required:!0},displayMode:{type:Boolean,default:!1},throwOnError:{type:Boolean,default:!1},errorColor:{type:String,default:void 0},minRuleThickness:{type:Number,default:.04},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:n=>({html:U(()=>MKe.renderToString(n.expression,n))}),render(){return TKe(this.displayMode?"div":"span",{domProps:{innerHTML:this.html},style:{"font-size":`${this.fontsize}px`}})}});W2.install=n=>{n.component(W2.name,W2)};const AKe=Ie({components:{VueLatex:W2}}),EKe=me("h1",{class:"section-title"},"Latex",-1),IKe=me("a",{href:"https://katex.org/docs/options.html",target:"_blank"},"KaTex",-1),RKe=me("a",{href:"https://github.com/Shimada666/VaTex",target:"_blank"},"VaTex",-1);function PKe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("VueLatex"),c=Et("el-col");return V(),ue("div",null,[se(s),se(o,{justify:"center"},{default:be(()=>[EKe]),_:1}),se(o,{justify:"center"},{default:be(()=>[se(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[me("p",null,[dn(" Thanks to "),IKe,dn(" and "),RKe,dn(", now we can show an inline "),se(l,{expression:"\\LaTeX"}),dn(" formula, like "),se(l,{expression:"1+1=2"}),dn(". And we can show an interline formula like this: "),se(l,{expression:`
            D(x) = \\begin{cases}
            \\lim\\limits_{x \\to 0} \\frac{a^x}{b+c}, & x<3 \\\\
            \\pi, & x=3 \\\\
            \\int_a^{3b}x_{ij}+e^2 \\mathrm{d}x,& x>3 \\\\
            \\end{cases}
          `,"display-mode":""})])]),_:1})]),_:1})])}const DKe=Ha(AKe,[["render",PKe]]);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const _8="143",c0={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},u0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},kKe=0,gV=1,LKe=2,One=1,NKe=2,R1=3,rh=0,mc=1,ih=2,OKe=1,Lf=0,zv=1,yV=2,bV=3,_V=4,BKe=5,nv=100,FKe=101,zKe=102,wV=103,xV=104,UKe=200,HKe=201,VKe=202,$Ke=203,Bne=204,Fne=205,GKe=206,WKe=207,qKe=208,KKe=209,YKe=210,XKe=0,jKe=1,ZKe=2,IP=3,QKe=4,JKe=5,eYe=6,tYe=7,fA=0,nYe=1,rYe=2,td=0,iYe=1,aYe=2,sYe=3,oYe=4,lYe=5,w8=300,hm=301,pm=302,m_=303,fM=304,hw=306,co=1e3,Sa=1001,v_=1002,La=1003,hM=1004,pM=1005,pa=1006,x8=1007,Ad=1008,mm=1009,cYe=1010,uYe=1011,zne=1012,dYe=1013,kp=1014,Mf=1015,g_=1016,fYe=1017,hYe=1018,Uv=1020,pYe=1021,mYe=1022,yl=1023,vYe=1024,gYe=1025,jp=1026,yg=1027,yYe=1028,bYe=1029,_Ye=1030,wYe=1031,xYe=1033,q2=33776,y4=33777,K2=33778,Y2=33779,SV=35840,CV=35841,MV=35842,TV=35843,Une=36196,AV=37492,EV=37496,IV=37808,RV=37809,PV=37810,DV=37811,kV=37812,LV=37813,NV=37814,OV=37815,BV=37816,FV=37817,zV=37818,UV=37819,HV=37820,VV=37821,$V=36492,SYe=2200,CYe=2201,MYe=2202,y_=2300,bg=2301,b4=2302,vv=2400,gv=2401,mM=2402,S8=2500,TYe=2501,AYe=1,Hne=2,ah=3e3,Er=3001,EYe=3200,IYe=3201,Pm=0,RYe=1,Vu="srgb",Lp="srgb-linear",_4=7680,PYe=519,RP=35044,GV="300 es",PP=1035;let gh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const cs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let WV=1234567;const Hv=Math.PI/180,b_=180/Math.PI;function Cl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(cs[n&255]+cs[n>>8&255]+cs[n>>16&255]+cs[n>>24&255]+"-"+cs[e&255]+cs[e>>8&255]+"-"+cs[e>>16&15|64]+cs[e>>24&255]+"-"+cs[t&63|128]+cs[t>>8&255]+"-"+cs[t>>16&255]+cs[t>>24&255]+cs[r&255]+cs[r>>8&255]+cs[r>>16&255]+cs[r>>24&255]).toLowerCase()}function wa(n,e,t){return Math.max(e,Math.min(t,n))}function C8(n,e){return(n%e+e)%e}function DYe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function kYe(n,e,t){return n!==e?(t-n)/(e-n):0}function sb(n,e,t){return(1-t)*n+t*e}function LYe(n,e,t,r){return sb(n,e,1-Math.exp(-t*r))}function NYe(n,e=1){return e-Math.abs(C8(n,e*2)-e)}function OYe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function BYe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function FYe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function zYe(n,e){return n+Math.random()*(e-n)}function UYe(n){return n*(.5-Math.random())}function HYe(n){n!==void 0&&(WV=n);let e=WV+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function VYe(n){return n*Hv}function $Ye(n){return n*b_}function DP(n){return(n&n-1)===0&&n!==0}function Vne(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function vM(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function GYe(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+r)/2),u=s((e+r)/2),d=a((e-r)/2),f=s((e-r)/2),h=a((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":n.set(o*u,l*d,l*f,o*c);break;case"YZY":n.set(l*f,o*u,l*d,o*c);break;case"ZXZ":n.set(l*d,l*f,o*u,o*c);break;case"XZX":n.set(o*u,l*p,l*h,o*c);break;case"YXY":n.set(l*h,o*u,l*p,o*c);break;case"ZYZ":n.set(l*p,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function WYe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function qYe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var ws=Object.freeze({__proto__:null,DEG2RAD:Hv,RAD2DEG:b_,generateUUID:Cl,clamp:wa,euclideanModulo:C8,mapLinear:DYe,inverseLerp:kYe,lerp:sb,damp:LYe,pingpong:NYe,smoothstep:OYe,smootherstep:BYe,randInt:FYe,randFloat:zYe,randFloatSpread:UYe,seededRandom:HYe,degToRad:VYe,radToDeg:$Ye,isPowerOfTwo:DP,ceilPowerOfTwo:Vne,floorPowerOfTwo:vM,setQuaternionFromProperEuler:GYe,normalize:qYe,denormalize:WYe});let Wt=class $ne{constructor(e=0,t=0){$ne.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},bl=class Gne{constructor(){Gne.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],v=i[3],g=i[6],y=i[1],b=i[4],_=i[7],x=i[2],S=i[5],T=i[8];return a[0]=s*m+o*y+l*x,a[3]=s*v+o*b+l*S,a[6]=s*g+o*_+l*T,a[1]=c*m+u*y+d*x,a[4]=c*v+u*b+d*S,a[7]=c*g+u*_+d*T,a[2]=f*m+h*y+p*x,a[5]=f*v+h*b+p*S,a[8]=f*g+h*_+p*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*s-o*c,f=o*l-u*a,h=c*a-s*l,p=t*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(o*r-i*s)*m,e[3]=f*m,e[4]=(u*t-i*l)*m,e[5]=(i*a-o*t)*m,e[6]=h*m,e[7]=(r*l-c*t)*m,e[8]=(s*t-r*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,a=i[0],s=i[3],o=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*a+r*l,i[3]=t*s+r*c,i[6]=t*o+r*u,i[1]=-r*a+t*l,i[4]=-r*s+t*c,i[7]=-r*o+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};function Wne(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const KYe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function yv(n,e){return new KYe[n](e)}function __(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Zp(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function X2(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const w4={[Vu]:{[Lp]:Zp},[Lp]:{[Vu]:X2}},Gl={legacyMode:!0,get workingColorSpace(){return Lp},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(w4[e]&&w4[e][t]!==void 0){const r=w4[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},qne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ga={r:0,g:0,b:0},Wl={h:0,s:0,l:0},Yx={h:0,s:0,l:0};function x4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function Xx(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let bn=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Vu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gl.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Lp){return this.r=e,this.g=t,this.b=r,Gl.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Lp){if(e=C8(e,1),t=wa(t,0,1),r=wa(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=x4(s,a,e+1/3),this.g=x4(s,a,e),this.b=x4(s,a,e-1/3)}return Gl.toWorkingColorSpace(this,i),this}setStyle(e,t=Vu){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,Gl.toWorkingColorSpace(this,t),r(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,Gl.toWorkingColorSpace(this,t),r(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const l=parseFloat(a[1])/360,c=parseInt(a[2],10)/100,u=parseInt(a[3],10)/100;return r(a[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,Gl.toWorkingColorSpace(this,t),this;if(s===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,Gl.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Vu){const r=qne[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Zp(e.r),this.g=Zp(e.g),this.b=Zp(e.b),this}copyLinearToSRGB(e){return this.r=X2(e.r),this.g=X2(e.g),this.b=X2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Vu){return Gl.fromWorkingColorSpace(Xx(this,ga),e),wa(ga.r*255,0,255)<<16^wa(ga.g*255,0,255)<<8^wa(ga.b*255,0,255)<<0}getHexString(e=Vu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Lp){Gl.fromWorkingColorSpace(Xx(this,ga),t);const r=ga.r,i=ga.g,a=ga.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=u<=.5?d/(s+o):d/(2-s-o),s){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Lp){return Gl.fromWorkingColorSpace(Xx(this,ga),t),e.r=ga.r,e.g=ga.g,e.b=ga.b,e}getStyle(e=Vu){return Gl.fromWorkingColorSpace(Xx(this,ga),e),e!==Vu?`color(${e} ${ga.r} ${ga.g} ${ga.b})`:`rgb(${ga.r*255|0},${ga.g*255|0},${ga.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Wl),Wl.h+=e,Wl.s+=t,Wl.l+=r,this.setHSL(Wl.h,Wl.s,Wl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Wl),e.getHSL(Yx);const r=sb(Wl.h,Yx.h,t),i=sb(Wl.s,Yx.s,t),a=sb(Wl.l,Yx.l,t);return this.setHSL(r,i,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};bn.NAMES=qne;let d0,Kne=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{d0===void 0&&(d0=__("canvas")),d0.width=e.width,d0.height=e.height;const r=d0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=d0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=__("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=Zp(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Zp(t[r]/255)*255):t[r]=Zp(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},bv=class{constructor(e=null){this.isSource=!0,this.uuid=Cl(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(S4(i[s].image)):a.push(S4(i[s]))}else a=S4(i);r.url=a}return t||(e.images[this.uuid]=r),r}};function S4(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Kne.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let YYe=0,rs=class kP extends gh{constructor(e=kP.DEFAULT_IMAGE,t=kP.DEFAULT_MAPPING,r=Sa,i=Sa,a=pa,s=Ad,o=yl,l=mm,c=1,u=ah){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:YYe++}),this.uuid=Cl(),this.name="",this.source=new bv(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Wt(0,0),this.repeat=new Wt(1,1),this.center=new Wt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new bl,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==w8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case co:e.x=e.x-Math.floor(e.x);break;case Sa:e.x=e.x<0?0:1;break;case v_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case co:e.y=e.y-Math.floor(e.y);break;case Sa:e.y=e.y<0?0:1;break;case v_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};rs.DEFAULT_IMAGE=null;rs.DEFAULT_MAPPING=w8;let ri=class Yne{constructor(e=0,t=0,r=0,i=1){Yne.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],v=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+v)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(h+1)/2,x=(g+1)/2,S=(u+f)/4,T=(d+m)/4,C=(p+v)/4;return b>_&&b>x?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=S/r,a=T/r):_>x?_<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(_),r=S/i,a=C/i):x<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(x),r=T/a,i=C/a),this.set(r,i,a,t),this}let y=Math.sqrt((v-p)*(v-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(v-p)/y,this.y=(d-m)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},vm=class extends gh{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ri(0,0,e,t),this.scissorTest=!1,this.viewport=new ri(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new rs(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:pa,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new bv(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Xne=class extends rs{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=La,this.minFilter=La,this.wrapR=Sa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},XYe=class extends rs{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=La,this.minFilter=La,this.wrapR=Sa,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Qa=class{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=a[s+0],h=a[s+1],p=a[s+2],m=a[s+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(o===1){e[t+0]=f,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let v=1-o;const g=l*f+c*h+u*p+d*m,y=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const x=Math.sqrt(b),S=Math.atan2(x,g*y);v=Math.sin(v*S)/x,o=Math.sin(o*S)/x}const _=o*y;if(l=l*v+f*_,c=c*v+h*_,u=u*v+p*_,d=d*v+m*_,v===1-o){const x=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=x,c*=x,u*=x,d*=x}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=a[s],f=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+u*d+l*h-c*f,e[t+1]=l*p+u*f+c*d-o*h,e[t+2]=c*p+u*h+o*f-l*d,e[t+3]=u*p-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),d=o(a/2),f=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>d){const h=2*Math.sqrt(1+r-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-r-d);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wa(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-t;return this._w=h*s+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=a*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(a),r*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Xe=class jne{constructor(e=0,t=0,r=0){jne.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(qV.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(qV.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=l*t+s*i-o*r,u=l*r+o*t-a*i,d=l*i+a*r-s*t,f=-a*t-s*r-o*i;return this.x=c*l+f*-a+u*-o-d*-s,this.y=u*l+f*-s+d*-a-c*-o,this.z=d*l+f*-o+c*-s-u*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return C4.copy(this).projectOnVector(e),this.sub(C4)}reflect(e){return this.sub(C4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(wa(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const C4=new Xe,qV=new Qa;let Dm=class{constructor(e=new Xe(1/0,1/0,1/0),t=new Xe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>a&&(a=u),d>s&&(s=d),f>o&&(o=f)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>a&&(a=u),d>s&&(s=d),f>o&&(o=f)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Xh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const a=r.attributes.position;for(let s=0,o=a.count;s<o;s++)Xh.fromBufferAttribute(a,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Xh)}else r.boundingBox===null&&r.computeBoundingBox(),M4.copy(r.boundingBox),M4.applyMatrix4(e.matrixWorld),this.union(M4);const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Xh),Xh.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(n1),jx.subVectors(this.max,n1),f0.subVectors(e.a,n1),h0.subVectors(e.b,n1),p0.subVectors(e.c,n1),Vd.subVectors(h0,f0),$d.subVectors(p0,h0),jh.subVectors(f0,p0);let t=[0,-Vd.z,Vd.y,0,-$d.z,$d.y,0,-jh.z,jh.y,Vd.z,0,-Vd.x,$d.z,0,-$d.x,jh.z,0,-jh.x,-Vd.y,Vd.x,0,-$d.y,$d.x,0,-jh.y,jh.x,0];return!T4(t,f0,h0,p0,jx)||(t=[1,0,0,0,1,0,0,0,1],!T4(t,f0,h0,p0,jx))?!1:(Zx.crossVectors(Vd,$d),t=[Zx.x,Zx.y,Zx.z],T4(t,f0,h0,p0,jx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Xh.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Xh).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Cu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Cu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Cu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Cu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Cu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Cu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Cu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Cu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Cu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const Cu=[new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe],Xh=new Xe,M4=new Dm,f0=new Xe,h0=new Xe,p0=new Xe,Vd=new Xe,$d=new Xe,jh=new Xe,n1=new Xe,jx=new Xe,Zx=new Xe,Zh=new Xe;function T4(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){Zh.fromArray(n,a);const o=i.x*Math.abs(Zh.x)+i.y*Math.abs(Zh.y)+i.z*Math.abs(Zh.z),l=e.dot(Zh),c=t.dot(Zh),u=r.dot(Zh);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const jYe=new Dm,KV=new Xe,Qx=new Xe,A4=new Xe;let km=class{constructor(e=new Xe,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):jYe.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){A4.subVectors(e,this.center);const t=A4.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(A4.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?Qx.set(0,0,1).multiplyScalar(e.radius):Qx.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(KV.copy(e.center).add(Qx)),this.expandByPoint(KV.copy(e.center).sub(Qx)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Mu=new Xe,E4=new Xe,Jx=new Xe,Gd=new Xe,I4=new Xe,eS=new Xe,R4=new Xe;let hA=class{constructor(e=new Xe,t=new Xe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Mu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Mu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Mu.copy(this.direction).multiplyScalar(t).add(this.origin),Mu.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){E4.copy(e).add(t).multiplyScalar(.5),Jx.copy(t).sub(e).normalize(),Gd.copy(this.origin).sub(E4);const a=e.distanceTo(t)*.5,s=-this.direction.dot(Jx),o=Gd.dot(this.direction),l=-Gd.dot(Jx),c=Gd.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-o,f=s*o-l,p=a*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*o)+f*(s*d+f+2*l)+c}else f=a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f=-a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*a+o)),f=d>0?-a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(d=Math.max(0,-(s*a+o)),f=d>0?a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c);else f=s>0?-a:a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(Jx).multiplyScalar(f).add(E4),h}intersectSphere(e,t){Mu.subVectors(e.center,this.origin);const r=Mu.dot(this.direction),i=Mu.dot(Mu)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return o<0&&l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(a=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(a=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||a>i||((a>r||r!==r)&&(r=a),(s<i||i!==i)&&(i=s),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Mu)!==null}intersectTriangle(e,t,r,i,a){I4.subVectors(t,e),eS.subVectors(r,e),R4.crossVectors(I4,eS);let s=this.direction.dot(R4),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Gd.subVectors(this.origin,e);const l=o*this.direction.dot(eS.crossVectors(Gd,eS));if(l<0)return null;const c=o*this.direction.dot(I4.cross(Gd));if(c<0||l+c>s)return null;const u=-o*Gd.dot(R4);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Un=class LP{constructor(){LP.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=a,g[5]=s,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=m,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new LP().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/m0.setFromMatrixColumn(e,0).length(),a=1/m0.setFromMatrixColumn(e,1).length(),s=1/m0.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+p*c,t[5]=f-m*c,t[9]=-o*l,t[2]=m-f*c,t[6]=p+h*c,t[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f+m*o,t[4]=p*o-h,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-o,t[2]=h*o-p,t[6]=m+f*o,t[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f-m*o,t[4]=-s*d,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*u,t[9]=m-f*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=p*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-p,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=m-f*d,t[8]=p*d+h,t[1]=d,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=h*d+p,t[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=s*u,t[9]=h*d-p,t[2]=p*d-h,t[6]=o*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ZYe,e,QYe)}lookAt(e,t,r){const i=this.elements;return To.subVectors(e,t),To.lengthSq()===0&&(To.z=1),To.normalize(),Wd.crossVectors(r,To),Wd.lengthSq()===0&&(Math.abs(r.z)===1?To.x+=1e-4:To.z+=1e-4,To.normalize(),Wd.crossVectors(r,To)),Wd.normalize(),tS.crossVectors(To,Wd),i[0]=Wd.x,i[4]=tS.x,i[8]=To.x,i[1]=Wd.y,i[5]=tS.y,i[9]=To.y,i[2]=Wd.z,i[6]=tS.z,i[10]=To.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],v=r[10],g=r[14],y=r[3],b=r[7],_=r[11],x=r[15],S=i[0],T=i[4],C=i[8],M=i[12],A=i[1],I=i[5],D=i[9],L=i[13],F=i[2],B=i[6],k=i[10],H=i[14],z=i[3],O=i[7],G=i[11],X=i[15];return a[0]=s*S+o*A+l*F+c*z,a[4]=s*T+o*I+l*B+c*O,a[8]=s*C+o*D+l*k+c*G,a[12]=s*M+o*L+l*H+c*X,a[1]=u*S+d*A+f*F+h*z,a[5]=u*T+d*I+f*B+h*O,a[9]=u*C+d*D+f*k+h*G,a[13]=u*M+d*L+f*H+h*X,a[2]=p*S+m*A+v*F+g*z,a[6]=p*T+m*I+v*B+g*O,a[10]=p*C+m*D+v*k+g*G,a[14]=p*M+m*L+v*H+g*X,a[3]=y*S+b*A+_*F+x*z,a[7]=y*T+b*I+_*B+x*O,a[11]=y*C+b*D+_*k+x*G,a[15]=y*M+b*L+_*H+x*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],v=e[11],g=e[15];return p*(+a*l*d-i*c*d-a*o*f+r*c*f+i*o*h-r*l*h)+m*(+t*l*h-t*c*f+a*s*f-i*s*h+i*c*u-a*l*u)+v*(+t*c*d-t*o*h-a*s*d+r*s*h+a*o*u-r*c*u)+g*(-i*o*u-t*l*d+t*o*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],v=e[14],g=e[15],y=d*v*c-m*f*c+m*l*h-o*v*h-d*l*g+o*f*g,b=p*f*c-u*v*c-p*l*h+s*v*h+u*l*g-s*f*g,_=u*m*c-p*d*c+p*o*h-s*m*h-u*o*g+s*d*g,x=p*d*l-u*m*l-p*o*f+s*m*f+u*o*v-s*d*v,S=t*y+r*b+i*_+a*x;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=y*T,e[1]=(m*f*a-d*v*a-m*i*h+r*v*h+d*i*g-r*f*g)*T,e[2]=(o*v*a-m*l*a+m*i*c-r*v*c-o*i*g+r*l*g)*T,e[3]=(d*l*a-o*f*a-d*i*c+r*f*c+o*i*h-r*l*h)*T,e[4]=b*T,e[5]=(u*v*a-p*f*a+p*i*h-t*v*h-u*i*g+t*f*g)*T,e[6]=(p*l*a-s*v*a-p*i*c+t*v*c+s*i*g-t*l*g)*T,e[7]=(s*f*a-u*l*a+u*i*c-t*f*c-s*i*h+t*l*h)*T,e[8]=_*T,e[9]=(p*d*a-u*m*a-p*r*h+t*m*h+u*r*g-t*d*g)*T,e[10]=(s*m*a-p*o*a+p*r*c-t*m*c-s*r*g+t*o*g)*T,e[11]=(u*o*a-s*d*a-u*r*c+t*d*c+s*r*h-t*o*h)*T,e[12]=x*T,e[13]=(u*m*i-p*d*i+p*r*f-t*m*f-u*r*v+t*d*v)*T,e[14]=(p*o*i-s*m*i-p*r*l+t*m*l+s*r*v-t*o*v)*T,e[15]=(s*d*i-u*o*i+u*r*l-t*d*l-s*r*f+t*o*f)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,u=s+s,d=o+o,f=a*c,h=a*u,p=a*d,m=s*u,v=s*d,g=o*d,y=l*c,b=l*u,_=l*d,x=r.x,S=r.y,T=r.z;return i[0]=(1-(m+g))*x,i[1]=(h+_)*x,i[2]=(p-b)*x,i[3]=0,i[4]=(h-_)*S,i[5]=(1-(f+g))*S,i[6]=(v+y)*S,i[7]=0,i[8]=(p+b)*T,i[9]=(v-y)*T,i[10]=(1-(f+m))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=m0.set(i[0],i[1],i[2]).length();const s=m0.set(i[4],i[5],i[6]).length(),o=m0.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],ql.copy(this);const c=1/a,u=1/s,d=1/o;return ql.elements[0]*=c,ql.elements[1]*=c,ql.elements[2]*=c,ql.elements[4]*=u,ql.elements[5]*=u,ql.elements[6]*=u,ql.elements[8]*=d,ql.elements[9]*=d,ql.elements[10]*=d,t.setFromRotationMatrix(ql),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s){const o=this.elements,l=2*a/(t-e),c=2*a/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),f=-(s+a)/(s-a),h=-2*s*a/(s-a);return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,i,a,s){const o=this.elements,l=1/(t-e),c=1/(r-i),u=1/(s-a),d=(t+e)*l,f=(r+i)*c,h=(s+a)*u;return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};const m0=new Xe,ql=new Un,ZYe=new Xe(0,0,0),QYe=new Xe(1,1,1),Wd=new Xe,tS=new Xe,To=new Xe,YV=new Un,XV=new Qa;let ju=class Zne{constructor(e=0,t=0,r=0,i=Zne.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(wa(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-wa(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(wa(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-wa(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(wa(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-wa(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return YV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(YV,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return XV.setFromEuler(this),this.setFromQuaternion(XV,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}};ju.DefaultOrder="XYZ";ju.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];let M8=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},JYe=0;const jV=new Xe,v0=new Qa,Tu=new Un,nS=new Xe,r1=new Xe,eXe=new Xe,tXe=new Qa,ZV=new Xe(1,0,0),QV=new Xe(0,1,0),JV=new Xe(0,0,1),nXe={type:"added"},e$={type:"removed"};let Gi=class NP extends gh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:JYe++}),this.uuid=Cl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=NP.DefaultUp.clone();const e=new Xe,t=new ju,r=new Qa,i=new Xe(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Un},normalMatrix:{value:new bl}}),this.matrix=new Un,this.matrixWorld=new Un,this.matrixAutoUpdate=NP.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new M8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return v0.setFromAxisAngle(e,t),this.quaternion.multiply(v0),this}rotateOnWorldAxis(e,t){return v0.setFromAxisAngle(e,t),this.quaternion.premultiply(v0),this}rotateX(e){return this.rotateOnAxis(ZV,e)}rotateY(e){return this.rotateOnAxis(QV,e)}rotateZ(e){return this.rotateOnAxis(JV,e)}translateOnAxis(e,t){return jV.copy(e).applyQuaternion(this.quaternion),this.position.add(jV.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ZV,e)}translateY(e){return this.translateOnAxis(QV,e)}translateZ(e){return this.translateOnAxis(JV,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Tu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?nS.copy(e):nS.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),r1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Tu.lookAt(r1,nS,this.up):Tu.lookAt(nS,r1,this.up),this.quaternion.setFromRotationMatrix(Tu),i&&(Tu.extractRotation(i.matrixWorld),v0.setFromRotationMatrix(Tu),this.quaternion.premultiply(v0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nXe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(e$)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(e$)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Tu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Tu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Tu),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r1,e,eXe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(r1,tXe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}};Gi.DefaultUp=new Xe(0,1,0);Gi.DefaultMatrixAutoUpdate=!0;const Kl=new Xe,Au=new Xe,P4=new Xe,Eu=new Xe,g0=new Xe,y0=new Xe,t$=new Xe,D4=new Xe,k4=new Xe,L4=new Xe;let ob=class rv{constructor(e=new Xe,t=new Xe,r=new Xe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Kl.subVectors(e,t),i.cross(Kl);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Kl.subVectors(i,t),Au.subVectors(r,t),P4.subVectors(e,t);const s=Kl.dot(Kl),o=Kl.dot(Au),l=Kl.dot(P4),c=Au.dot(Au),u=Au.dot(P4),d=s*c-o*o;if(d===0)return a.set(-2,-1,-1);const f=1/d,h=(c*l-o*u)*f,p=(s*u-o*l)*f;return a.set(1-h-p,p,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Eu),Eu.x>=0&&Eu.y>=0&&Eu.x+Eu.y<=1}static getUV(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,Eu),l.set(0,0),l.addScaledVector(a,Eu.x),l.addScaledVector(s,Eu.y),l.addScaledVector(o,Eu.z),l}static isFrontFacing(e,t,r,i){return Kl.subVectors(r,t),Au.subVectors(e,t),Kl.cross(Au).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Kl.subVectors(this.c,this.b),Au.subVectors(this.a,this.b),Kl.cross(Au).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return rv.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return rv.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,a){return rv.getUV(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return rv.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return rv.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;g0.subVectors(i,r),y0.subVectors(a,r),D4.subVectors(e,r);const l=g0.dot(D4),c=y0.dot(D4);if(l<=0&&c<=0)return t.copy(r);k4.subVectors(e,i);const u=g0.dot(k4),d=y0.dot(k4);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(g0,s);L4.subVectors(e,a);const h=g0.dot(L4),p=y0.dot(L4);if(p>=0&&h<=p)return t.copy(a);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(r).addScaledVector(y0,o);const v=u*p-h*d;if(v<=0&&d-u>=0&&h-p>=0)return t$.subVectors(a,i),o=(d-u)/(d-u+(h-p)),t.copy(i).addScaledVector(t$,o);const g=1/(v+m+f);return s=m*g,o=f*g,t.copy(r).addScaledVector(g0,s).addScaledVector(y0,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},rXe=0,va=class extends gh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rXe++}),this.uuid=Cl(),this.name="",this.type="Material",this.blending=zv,this.side=rh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Bne,this.blendDst=Fne,this.blendEquation=nv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=IP,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=PYe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_4,this.stencilZFail=_4,this.stencilZPass=_4,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===OKe;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==zv&&(r.blending=this.blending),this.side!==rh&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},cc=class extends va{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const fa=new Xe,rS=new Wt;let Qi=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=RP,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new bn),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Wt),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Xe),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new ri),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)rS.fromBufferAttribute(this,t),rS.applyMatrix3(e),this.setXY(t,rS.x,rS.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)fa.fromBufferAttribute(this,t),fa.applyMatrix3(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)fa.fromBufferAttribute(this,t),fa.applyMatrix4(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)fa.fromBufferAttribute(this,t),fa.applyNormalMatrix(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)fa.fromBufferAttribute(this,t),fa.transformDirection(e),this.setXYZ(t,fa.x,fa.y,fa.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==RP&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}},T8=class extends Qi{constructor(e,t,r){super(new Uint16Array(e),t,r)}},Qne=class extends Qi{constructor(e,t,r){super(new Uint32Array(e),t,r)}},En=class extends Qi{constructor(e,t,r){super(new Float32Array(e),t,r)}},iXe=0;const Jo=new Un,N4=new Gi,b0=new Xe,Ao=new Dm,i1=new Dm,Da=new Xe;let Hr=class Jne extends gh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:iXe++}),this.uuid=Cl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Wne(e)?Qne:T8)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new bl().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Jo.makeRotationFromQuaternion(e),this.applyMatrix4(Jo),this}rotateX(e){return Jo.makeRotationX(e),this.applyMatrix4(Jo),this}rotateY(e){return Jo.makeRotationY(e),this.applyMatrix4(Jo),this}rotateZ(e){return Jo.makeRotationZ(e),this.applyMatrix4(Jo),this}translate(e,t,r){return Jo.makeTranslation(e,t,r),this.applyMatrix4(Jo),this}scale(e,t,r){return Jo.makeScale(e,t,r),this.applyMatrix4(Jo),this}lookAt(e){return N4.lookAt(e),N4.updateMatrix(),this.applyMatrix4(N4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(b0).negate(),this.translate(b0.x,b0.y,b0.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new En(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Dm);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Xe(-1/0,-1/0,-1/0),new Xe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Ao.setFromBufferAttribute(a),this.morphTargetsRelative?(Da.addVectors(this.boundingBox.min,Ao.min),this.boundingBox.expandByPoint(Da),Da.addVectors(this.boundingBox.max,Ao.max),this.boundingBox.expandByPoint(Da)):(this.boundingBox.expandByPoint(Ao.min),this.boundingBox.expandByPoint(Ao.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new km);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Xe,1/0);return}if(e){const r=this.boundingSphere.center;if(Ao.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];i1.setFromBufferAttribute(o),this.morphTargetsRelative?(Da.addVectors(Ao.min,i1.min),Ao.expandByPoint(Da),Da.addVectors(Ao.max,i1.max),Ao.expandByPoint(Da)):(Ao.expandByPoint(i1.min),Ao.expandByPoint(i1.max))}Ao.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Da.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Da));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Da.fromBufferAttribute(o,c),l&&(b0.fromBufferAttribute(e,c),Da.add(b0)),i=Math.max(i,r.distanceToSquared(Da))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,a=t.normal.array,s=t.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Qi(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let A=0;A<o;A++)c[A]=new Xe,u[A]=new Xe;const d=new Xe,f=new Xe,h=new Xe,p=new Wt,m=new Wt,v=new Wt,g=new Xe,y=new Xe;function b(A,I,D){d.fromArray(i,A*3),f.fromArray(i,I*3),h.fromArray(i,D*3),p.fromArray(s,A*2),m.fromArray(s,I*2),v.fromArray(s,D*2),f.sub(d),h.sub(d),m.sub(p),v.sub(p);const L=1/(m.x*v.y-v.x*m.y);isFinite(L)&&(g.copy(f).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(L),y.copy(h).multiplyScalar(m.x).addScaledVector(f,-v.x).multiplyScalar(L),c[A].add(g),c[I].add(g),c[D].add(g),u[A].add(y),u[I].add(y),u[D].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:r.length}]);for(let A=0,I=_.length;A<I;++A){const D=_[A],L=D.start,F=D.count;for(let B=L,k=L+F;B<k;B+=3)b(r[B+0],r[B+1],r[B+2])}const x=new Xe,S=new Xe,T=new Xe,C=new Xe;function M(A){T.fromArray(a,A*3),C.copy(T);const I=c[A];x.copy(I),x.sub(T.multiplyScalar(T.dot(I))).normalize(),S.crossVectors(C,I);const L=S.dot(u[A])<0?-1:1;l[A*4]=x.x,l[A*4+1]=x.y,l[A*4+2]=x.z,l[A*4+3]=L}for(let A=0,I=_.length;A<I;++A){const D=_[A],L=D.start,F=D.count;for(let B=L,k=L+F;B<k;B+=3)M(r[B+0]),M(r[B+1]),M(r[B+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Qi(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Xe,a=new Xe,s=new Xe,o=new Xe,l=new Xe,c=new Xe,u=new Xe,d=new Xe;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,v),o.add(u),l.add(u),c.add(u),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const s=r[i].array,o=e.attributes[i],l=o.array,c=o.itemSize*t,u=Math.min(l.length,s.length-c);for(let d=0,f=c;d<u;d++,f++)s[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Da.fromBufferAttribute(e,t),Da.normalize(),e.setXYZ(t,Da.x,Da.y,Da.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,v=l.length;m<v;m++){o.isInterleavedBufferAttribute?h=l[m]*o.data.stride+o.offset:h=l[m]*u;for(let g=0;g<u;g++)f[p++]=c[h++]}return new Qi(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Jne,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};const n$=new Un,_0=new hA,O4=new km,qd=new Xe,Kd=new Xe,Yd=new Xe,B4=new Xe,F4=new Xe,z4=new Xe,iS=new Xe,aS=new Xe,sS=new Xe,oS=new Wt,lS=new Wt,cS=new Wt,U4=new Xe,uS=new Xe;let Ca=class extends Gi{constructor(e=new Hr,t=new cc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),O4.copy(r.boundingSphere),O4.applyMatrix4(a),e.ray.intersectsSphere(O4)===!1)||(n$.copy(a).invert(),_0.copy(e.ray).applyMatrix4(n$),r.boundingBox!==null&&_0.intersectsBox(r.boundingBox)===!1))return;let s;const o=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,f=r.attributes.uv2,h=r.groups,p=r.drawRange;if(o!==null)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],y=i[g.materialIndex],b=Math.max(g.start,p.start),_=Math.min(o.count,Math.min(g.start+g.count,p.start+p.count));for(let x=b,S=_;x<S;x+=3){const T=o.getX(x),C=o.getX(x+1),M=o.getX(x+2);s=dS(this,y,e,_0,l,c,u,d,f,T,C,M),s&&(s.faceIndex=Math.floor(x/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const m=Math.max(0,p.start),v=Math.min(o.count,p.start+p.count);for(let g=m,y=v;g<y;g+=3){const b=o.getX(g),_=o.getX(g+1),x=o.getX(g+2);s=dS(this,i,e,_0,l,c,u,d,f,b,_,x),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],y=i[g.materialIndex],b=Math.max(g.start,p.start),_=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let x=b,S=_;x<S;x+=3){const T=x,C=x+1,M=x+2;s=dS(this,y,e,_0,l,c,u,d,f,T,C,M),s&&(s.faceIndex=Math.floor(x/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let g=m,y=v;g<y;g+=3){const b=g,_=g+1,x=g+2;s=dS(this,i,e,_0,l,c,u,d,f,b,_,x),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}}};function aXe(n,e,t,r,i,a,s,o){let l;if(e.side===mc?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side!==ih,o),l===null)return null;uS.copy(o),uS.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(uS);return c<t.near||c>t.far?null:{distance:c,point:uS.clone(),object:n}}function dS(n,e,t,r,i,a,s,o,l,c,u,d){qd.fromBufferAttribute(i,c),Kd.fromBufferAttribute(i,u),Yd.fromBufferAttribute(i,d);const f=n.morphTargetInfluences;if(a&&f){iS.set(0,0,0),aS.set(0,0,0),sS.set(0,0,0);for(let p=0,m=a.length;p<m;p++){const v=f[p],g=a[p];v!==0&&(B4.fromBufferAttribute(g,c),F4.fromBufferAttribute(g,u),z4.fromBufferAttribute(g,d),s?(iS.addScaledVector(B4,v),aS.addScaledVector(F4,v),sS.addScaledVector(z4,v)):(iS.addScaledVector(B4.sub(qd),v),aS.addScaledVector(F4.sub(Kd),v),sS.addScaledVector(z4.sub(Yd),v)))}qd.add(iS),Kd.add(aS),Yd.add(sS)}n.isSkinnedMesh&&(n.boneTransform(c,qd),n.boneTransform(u,Kd),n.boneTransform(d,Yd));const h=aXe(n,e,t,r,qd,Kd,Yd,U4);if(h){o&&(oS.fromBufferAttribute(o,c),lS.fromBufferAttribute(o,u),cS.fromBufferAttribute(o,d),h.uv=ob.getUV(U4,qd,Kd,Yd,oS,lS,cS,new Wt)),l&&(oS.fromBufferAttribute(l,c),lS.fromBufferAttribute(l,u),cS.fromBufferAttribute(l,d),h.uv2=ob.getUV(U4,qd,Kd,Yd,oS,lS,cS,new Wt));const p={a:c,b:u,c:d,normal:new Xe,materialIndex:0};ob.getNormal(qd,Kd,Yd,p.normal),h.face=p}return h}let w_=class ere extends Hr{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,t,e,s,a,0),p("z","y","x",1,-1,r,t,-e,s,a,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new En(c,3)),this.setAttribute("normal",new En(u,3)),this.setAttribute("uv",new En(d,2));function p(m,v,g,y,b,_,x,S,T,C,M){const A=_/T,I=x/C,D=_/2,L=x/2,F=S/2,B=T+1,k=C+1;let H=0,z=0;const O=new Xe;for(let G=0;G<k;G++){const X=G*I-L;for(let J=0;J<B;J++){const Q=J*A-D;O[m]=Q*y,O[v]=X*b,O[g]=F,c.push(O.x,O.y,O.z),O[m]=0,O[v]=0,O[g]=S>0?1:-1,u.push(O.x,O.y,O.z),d.push(J/T),d.push(1-G/C),H+=1}}for(let G=0;G<C;G++)for(let X=0;X<T;X++){const J=f+X+B*G,Q=f+X+B*(G+1),re=f+(X+1)+B*(G+1),de=f+(X+1)+B*G;l.push(J,Q,de),l.push(Q,re,de),z+=6}o.addGroup(h,z,M),h+=z,f+=H}}static fromJSON(e){return new ere(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function _g(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ps(n){const e={};for(let t=0;t<n.length;t++){const r=_g(n[t]);for(const i in r)e[i]=r[i]}return e}function sXe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const oXe={clone:_g,merge:ps};var lXe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cXe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;let hd=class extends va{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=lXe,this.fragmentShader=cXe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_g(e.uniforms),this.uniformsGroups=sXe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}},tre=class extends Gi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Un,this.projectionMatrix=new Un,this.projectionMatrixInverse=new Un}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},xa=class extends tre{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=b_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Hv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return b_*2*Math.atan(Math.tan(Hv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Hv*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const w0=90,x0=1;let uXe=class extends Gi{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new xa(w0,x0,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Xe(1,0,0)),this.add(i);const a=new xa(w0,x0,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Xe(-1,0,0)),this.add(a);const s=new xa(w0,x0,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Xe(0,1,0)),this.add(s);const o=new xa(w0,x0,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Xe(0,-1,0)),this.add(o);const l=new xa(w0,x0,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Xe(0,0,1)),this.add(l);const c=new xa(w0,x0,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Xe(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,a,s,o,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=td,e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}},A8=class extends rs{constructor(e,t,r,i,a,s,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:hm,super(e,t,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},dXe=class extends vm{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new A8(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:pa}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new w_(5,5,5),a=new hd({name:"CubemapFromEquirect",uniforms:_g(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:mc,blending:Lf});a.uniforms.tEquirect.value=t;const s=new Ca(i,a),o=t.minFilter;return t.minFilter===Ad&&(t.minFilter=pa),new uXe(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}};const H4=new Xe,fXe=new Xe,hXe=new bl;let sp=class{constructor(e=new Xe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=H4.subVectors(r,t).cross(fXe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(H4),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(r).multiplyScalar(a).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||hXe.getNormalMatrix(e),i=this.coplanarPoint(H4).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const S0=new km,fS=new Xe;let E8=class{constructor(e=new sp,t=new sp,r=new sp,i=new sp,a=new sp,s=new sp){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],a=r[1],s=r[2],o=r[3],l=r[4],c=r[5],u=r[6],d=r[7],f=r[8],h=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15];return t[0].setComponents(o-i,d-l,m-f,b-v).normalize(),t[1].setComponents(o+i,d+l,m+f,b+v).normalize(),t[2].setComponents(o+a,d+c,m+h,b+g).normalize(),t[3].setComponents(o-a,d-c,m-h,b-g).normalize(),t[4].setComponents(o-s,d-u,m-p,b-y).normalize(),t[5].setComponents(o+s,d+u,m+p,b+y).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),S0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(S0)}intersectsSprite(e){return S0.center.set(0,0,0),S0.radius=.7071067811865476,S0.applyMatrix4(e.matrixWorld),this.intersectsSphere(S0)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(fS.x=i.normal.x>0?e.max.x:e.min.x,fS.y=i.normal.y>0?e.max.y:e.min.y,fS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(fS)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function nre(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function pXe(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,d,f),c.onUploadCallback();let p;if(d instanceof Float32Array)p=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)p=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=5123;else if(d instanceof Int16Array)p=5122;else if(d instanceof Uint32Array)p=5125;else if(d instanceof Int32Array)p=5124;else if(d instanceof Int8Array)p=5120;else if(d instanceof Uint8Array)p=5121;else if(d instanceof Uint8ClampedArray)p=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:h,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function a(c,u,d){const f=u.array,h=u.updateRange;n.bindBuffer(d,c),h.count===-1?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(a(d.buffer,c,u),d.version=c.version)}return{get:s,remove:o,update:l}}let OP=class rre extends Hr{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=t/l,h=[],p=[],m=[],v=[];for(let g=0;g<u;g++){const y=g*f-s;for(let b=0;b<c;b++){const _=b*d-a;p.push(_,-y,0),m.push(0,0,1),v.push(b/o),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<o;y++){const b=y+c*g,_=y+c*(g+1),x=y+1+c*(g+1),S=y+1+c*g;h.push(b,_,S),h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new En(p,3)),this.setAttribute("normal",new En(m,3)),this.setAttribute("uv",new En(v,2))}static fromJSON(e){return new rre(e.width,e.height,e.widthSegments,e.heightSegments)}};var mXe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,vXe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,gXe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,yXe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,bXe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,_Xe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,wXe="vec3 transformed = vec3( position );",xXe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,SXe=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,CXe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,MXe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,TXe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,AXe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,EXe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,IXe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,RXe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,PXe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,DXe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,kXe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,LXe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,NXe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,OXe=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,BXe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FXe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,zXe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,UXe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,HXe="gl_FragColor = linearToOutputTexel( gl_FragColor );",VXe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,$Xe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,GXe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,WXe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,qXe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,KXe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,YXe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,XXe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,jXe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,ZXe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,QXe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,JXe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,eje=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,tje=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,nje=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,rje=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,ije=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,aje=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,sje=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,oje=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,lje=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,cje=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,uje=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,dje=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,fje=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,hje=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,pje=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,mje=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,vje=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,gje=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,yje=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,bje=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,_je=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,wje=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,xje=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Sje=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Cje=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Mje=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Tje=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Aje=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,Eje=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Ije=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Rje=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Pje=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Dje=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,kje=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Lje=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,Nje=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,Oje=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Bje=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Fje=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,zje=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Uje=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Hje=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Vje=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,$je=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Gje=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Wje=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,qje=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Kje=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,Yje=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Xje=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,jje=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Zje=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Qje=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Jje=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,eZe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tZe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,nZe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,rZe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,iZe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,aZe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,sZe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,oZe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,lZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,cZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,dZe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const fZe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,hZe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,pZe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,mZe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vZe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,gZe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,yZe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,bZe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,_Ze=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,wZe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,xZe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,SZe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,CZe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,MZe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,TZe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AZe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EZe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,IZe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,RZe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,PZe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,DZe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kZe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LZe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,NZe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,OZe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,BZe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FZe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,zZe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,UZe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HZe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,VZe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,$Ze=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Or={alphamap_fragment:mXe,alphamap_pars_fragment:vXe,alphatest_fragment:gXe,alphatest_pars_fragment:yXe,aomap_fragment:bXe,aomap_pars_fragment:_Xe,begin_vertex:wXe,beginnormal_vertex:xXe,bsdfs:SXe,iridescence_fragment:CXe,bumpmap_pars_fragment:MXe,clipping_planes_fragment:TXe,clipping_planes_pars_fragment:AXe,clipping_planes_pars_vertex:EXe,clipping_planes_vertex:IXe,color_fragment:RXe,color_pars_fragment:PXe,color_pars_vertex:DXe,color_vertex:kXe,common:LXe,cube_uv_reflection_fragment:NXe,defaultnormal_vertex:OXe,displacementmap_pars_vertex:BXe,displacementmap_vertex:FXe,emissivemap_fragment:zXe,emissivemap_pars_fragment:UXe,encodings_fragment:HXe,encodings_pars_fragment:VXe,envmap_fragment:$Xe,envmap_common_pars_fragment:GXe,envmap_pars_fragment:WXe,envmap_pars_vertex:qXe,envmap_physical_pars_fragment:rje,envmap_vertex:KXe,fog_vertex:YXe,fog_pars_vertex:XXe,fog_fragment:jXe,fog_pars_fragment:ZXe,gradientmap_pars_fragment:QXe,lightmap_fragment:JXe,lightmap_pars_fragment:eje,lights_lambert_vertex:tje,lights_pars_begin:nje,lights_toon_fragment:ije,lights_toon_pars_fragment:aje,lights_phong_fragment:sje,lights_phong_pars_fragment:oje,lights_physical_fragment:lje,lights_physical_pars_fragment:cje,lights_fragment_begin:uje,lights_fragment_maps:dje,lights_fragment_end:fje,logdepthbuf_fragment:hje,logdepthbuf_pars_fragment:pje,logdepthbuf_pars_vertex:mje,logdepthbuf_vertex:vje,map_fragment:gje,map_pars_fragment:yje,map_particle_fragment:bje,map_particle_pars_fragment:_je,metalnessmap_fragment:wje,metalnessmap_pars_fragment:xje,morphcolor_vertex:Sje,morphnormal_vertex:Cje,morphtarget_pars_vertex:Mje,morphtarget_vertex:Tje,normal_fragment_begin:Aje,normal_fragment_maps:Eje,normal_pars_fragment:Ije,normal_pars_vertex:Rje,normal_vertex:Pje,normalmap_pars_fragment:Dje,clearcoat_normal_fragment_begin:kje,clearcoat_normal_fragment_maps:Lje,clearcoat_pars_fragment:Nje,iridescence_pars_fragment:Oje,output_fragment:Bje,packing:Fje,premultiplied_alpha_fragment:zje,project_vertex:Uje,dithering_fragment:Hje,dithering_pars_fragment:Vje,roughnessmap_fragment:$je,roughnessmap_pars_fragment:Gje,shadowmap_pars_fragment:Wje,shadowmap_pars_vertex:qje,shadowmap_vertex:Kje,shadowmask_pars_fragment:Yje,skinbase_vertex:Xje,skinning_pars_vertex:jje,skinning_vertex:Zje,skinnormal_vertex:Qje,specularmap_fragment:Jje,specularmap_pars_fragment:eZe,tonemapping_fragment:tZe,tonemapping_pars_fragment:nZe,transmission_fragment:rZe,transmission_pars_fragment:iZe,uv_pars_fragment:aZe,uv_pars_vertex:sZe,uv_vertex:oZe,uv2_pars_fragment:lZe,uv2_pars_vertex:cZe,uv2_vertex:uZe,worldpos_vertex:dZe,background_vert:fZe,background_frag:hZe,cube_vert:pZe,cube_frag:mZe,depth_vert:vZe,depth_frag:gZe,distanceRGBA_vert:yZe,distanceRGBA_frag:bZe,equirect_vert:_Ze,equirect_frag:wZe,linedashed_vert:xZe,linedashed_frag:SZe,meshbasic_vert:CZe,meshbasic_frag:MZe,meshlambert_vert:TZe,meshlambert_frag:AZe,meshmatcap_vert:EZe,meshmatcap_frag:IZe,meshnormal_vert:RZe,meshnormal_frag:PZe,meshphong_vert:DZe,meshphong_frag:kZe,meshphysical_vert:LZe,meshphysical_frag:NZe,meshtoon_vert:OZe,meshtoon_frag:BZe,points_vert:FZe,points_frag:zZe,shadow_vert:UZe,shadow_frag:HZe,sprite_vert:VZe,sprite_frag:$Ze},xn={common:{diffuse:{value:new bn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new bl},uv2Transform:{value:new bl},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Wt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new bl}},sprite:{diffuse:{value:new bn(16777215)},opacity:{value:1},center:{value:new Wt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new bl}}},zc={basic:{uniforms:ps([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.fog]),vertexShader:Or.meshbasic_vert,fragmentShader:Or.meshbasic_frag},lambert:{uniforms:ps([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.fog,xn.lights,{emissive:{value:new bn(0)}}]),vertexShader:Or.meshlambert_vert,fragmentShader:Or.meshlambert_frag},phong:{uniforms:ps([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,xn.lights,{emissive:{value:new bn(0)},specular:{value:new bn(1118481)},shininess:{value:30}}]),vertexShader:Or.meshphong_vert,fragmentShader:Or.meshphong_frag},standard:{uniforms:ps([xn.common,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.roughnessmap,xn.metalnessmap,xn.fog,xn.lights,{emissive:{value:new bn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag},toon:{uniforms:ps([xn.common,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.gradientmap,xn.fog,xn.lights,{emissive:{value:new bn(0)}}]),vertexShader:Or.meshtoon_vert,fragmentShader:Or.meshtoon_frag},matcap:{uniforms:ps([xn.common,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,{matcap:{value:null}}]),vertexShader:Or.meshmatcap_vert,fragmentShader:Or.meshmatcap_frag},points:{uniforms:ps([xn.points,xn.fog]),vertexShader:Or.points_vert,fragmentShader:Or.points_frag},dashed:{uniforms:ps([xn.common,xn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Or.linedashed_vert,fragmentShader:Or.linedashed_frag},depth:{uniforms:ps([xn.common,xn.displacementmap]),vertexShader:Or.depth_vert,fragmentShader:Or.depth_frag},normal:{uniforms:ps([xn.common,xn.bumpmap,xn.normalmap,xn.displacementmap,{opacity:{value:1}}]),vertexShader:Or.meshnormal_vert,fragmentShader:Or.meshnormal_frag},sprite:{uniforms:ps([xn.sprite,xn.fog]),vertexShader:Or.sprite_vert,fragmentShader:Or.sprite_frag},background:{uniforms:{uvTransform:{value:new bl},t2D:{value:null}},vertexShader:Or.background_vert,fragmentShader:Or.background_frag},cube:{uniforms:ps([xn.envmap,{opacity:{value:1}}]),vertexShader:Or.cube_vert,fragmentShader:Or.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Or.equirect_vert,fragmentShader:Or.equirect_frag},distanceRGBA:{uniforms:ps([xn.common,xn.displacementmap,{referencePosition:{value:new Xe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Or.distanceRGBA_vert,fragmentShader:Or.distanceRGBA_frag},shadow:{uniforms:ps([xn.lights,xn.fog,{color:{value:new bn(0)},opacity:{value:1}}]),vertexShader:Or.shadow_vert,fragmentShader:Or.shadow_frag}};zc.physical={uniforms:ps([zc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Wt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new bn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Wt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new bn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new bn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag};function GZe(n,e,t,r,i,a){const s=new bn(0);let o=i===!0?0:1,l,c,u=null,d=0,f=null;function h(m,v){let g=!1,y=v.isScene===!0?v.background:null;y&&y.isTexture&&(y=e.get(y));const b=n.xr,_=b.getSession&&b.getSession();_&&_.environmentBlendMode==="additive"&&(y=null),y===null?p(s,o):y&&y.isColor&&(p(y,1),g=!0),(n.autoClear||g)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),y&&(y.isCubeTexture||y.mapping===hw)?(c===void 0&&(c=new Ca(new w_(1,1,1),new hd({name:"BackgroundCubeMaterial",uniforms:_g(zc.cube.uniforms),vertexShader:zc.cube.vertexShader,fragmentShader:zc.cube.fragmentShader,side:mc,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(x,S,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(u!==y||d!==y.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=y,d=y.version,f=n.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(l===void 0&&(l=new Ca(new OP(2,2),new hd({name:"BackgroundMaterial",uniforms:_g(zc.background.uniforms),vertexShader:zc.background.vertexShader,fragmentShader:zc.background.fragmentShader,side:rh,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||d!==y.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=y,d=y.version,f=n.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}function p(m,v){t.buffers.color.setClear(m.r,m.g,m.b,v,a)}return{getClearColor:function(){return s},setClearColor:function(m,v=1){s.set(m),o=v,p(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,p(s,o)},render:h}}function WZe(n,e,t,r){const i=n.getParameter(34921),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||a!==null,o={},l=v(null);let c=l,u=!1;function d(F,B,k,H,z){let O=!1;if(s){const G=m(H,k,B);c!==G&&(c=G,h(c.object)),O=g(F,H,k,z),O&&y(F,H,k,z)}else{const G=B.wireframe===!0;(c.geometry!==H.id||c.program!==k.id||c.wireframe!==G)&&(c.geometry=H.id,c.program=k.id,c.wireframe=G,O=!0)}z!==null&&t.update(z,34963),(O||u)&&(u=!1,C(F,B,k,H),z!==null&&n.bindBuffer(34963,t.get(z).buffer))}function f(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function h(F){return r.isWebGL2?n.bindVertexArray(F):a.bindVertexArrayOES(F)}function p(F){return r.isWebGL2?n.deleteVertexArray(F):a.deleteVertexArrayOES(F)}function m(F,B,k){const H=k.wireframe===!0;let z=o[F.id];z===void 0&&(z={},o[F.id]=z);let O=z[B.id];O===void 0&&(O={},z[B.id]=O);let G=O[H];return G===void 0&&(G=v(f()),O[H]=G),G}function v(F){const B=[],k=[],H=[];for(let z=0;z<i;z++)B[z]=0,k[z]=0,H[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:k,attributeDivisors:H,object:F,attributes:{},index:null}}function g(F,B,k,H){const z=c.attributes,O=B.attributes;let G=0;const X=k.getAttributes();for(const J in X)if(X[J].location>=0){const re=z[J];let de=O[J];if(de===void 0&&(J==="instanceMatrix"&&F.instanceMatrix&&(de=F.instanceMatrix),J==="instanceColor"&&F.instanceColor&&(de=F.instanceColor)),re===void 0||re.attribute!==de||de&&re.data!==de.data)return!0;G++}return c.attributesNum!==G||c.index!==H}function y(F,B,k,H){const z={},O=B.attributes;let G=0;const X=k.getAttributes();for(const J in X)if(X[J].location>=0){let re=O[J];re===void 0&&(J==="instanceMatrix"&&F.instanceMatrix&&(re=F.instanceMatrix),J==="instanceColor"&&F.instanceColor&&(re=F.instanceColor));const de={};de.attribute=re,re&&re.data&&(de.data=re.data),z[J]=de,G++}c.attributes=z,c.attributesNum=G,c.index=H}function b(){const F=c.newAttributes;for(let B=0,k=F.length;B<k;B++)F[B]=0}function _(F){x(F,0)}function x(F,B){const k=c.newAttributes,H=c.enabledAttributes,z=c.attributeDivisors;k[F]=1,H[F]===0&&(n.enableVertexAttribArray(F),H[F]=1),z[F]!==B&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,B),z[F]=B)}function S(){const F=c.newAttributes,B=c.enabledAttributes;for(let k=0,H=B.length;k<H;k++)B[k]!==F[k]&&(n.disableVertexAttribArray(k),B[k]=0)}function T(F,B,k,H,z,O){r.isWebGL2===!0&&(k===5124||k===5125)?n.vertexAttribIPointer(F,B,k,z,O):n.vertexAttribPointer(F,B,k,H,z,O)}function C(F,B,k,H){if(r.isWebGL2===!1&&(F.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const z=H.attributes,O=k.getAttributes(),G=B.defaultAttributeValues;for(const X in O){const J=O[X];if(J.location>=0){let Q=z[X];if(Q===void 0&&(X==="instanceMatrix"&&F.instanceMatrix&&(Q=F.instanceMatrix),X==="instanceColor"&&F.instanceColor&&(Q=F.instanceColor)),Q!==void 0){const re=Q.normalized,de=Q.itemSize,le=t.get(Q);if(le===void 0)continue;const fe=le.buffer,Ee=le.type,Re=le.bytesPerElement;if(Q.isInterleavedBufferAttribute){const He=Q.data,$e=He.stride,K=Q.offset;if(He.isInstancedInterleavedBuffer){for(let ce=0;ce<J.locationSize;ce++)x(J.location+ce,He.meshPerAttribute);F.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let ce=0;ce<J.locationSize;ce++)_(J.location+ce);n.bindBuffer(34962,fe);for(let ce=0;ce<J.locationSize;ce++)T(J.location+ce,de/J.locationSize,Ee,re,$e*Re,(K+de/J.locationSize*ce)*Re)}else{if(Q.isInstancedBufferAttribute){for(let He=0;He<J.locationSize;He++)x(J.location+He,Q.meshPerAttribute);F.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let He=0;He<J.locationSize;He++)_(J.location+He);n.bindBuffer(34962,fe);for(let He=0;He<J.locationSize;He++)T(J.location+He,de/J.locationSize,Ee,re,de*Re,de/J.locationSize*He*Re)}}else if(G!==void 0){const re=G[X];if(re!==void 0)switch(re.length){case 2:n.vertexAttrib2fv(J.location,re);break;case 3:n.vertexAttrib3fv(J.location,re);break;case 4:n.vertexAttrib4fv(J.location,re);break;default:n.vertexAttrib1fv(J.location,re)}}}}S()}function M(){D();for(const F in o){const B=o[F];for(const k in B){const H=B[k];for(const z in H)p(H[z].object),delete H[z];delete B[k]}delete o[F]}}function A(F){if(o[F.id]===void 0)return;const B=o[F.id];for(const k in B){const H=B[k];for(const z in H)p(H[z].object),delete H[z];delete B[k]}delete o[F.id]}function I(F){for(const B in o){const k=o[B];if(k[F.id]===void 0)continue;const H=k[F.id];for(const z in H)p(H[z].object),delete H[z];delete k[F.id]}}function D(){L(),u=!0,c!==l&&(c=l,h(c.object))}function L(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:D,resetDefaultState:L,dispose:M,releaseStatesOfGeometry:A,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:_,disableUnusedAttributes:S}}function qZe(n,e,t,r){const i=r.isWebGL2;let a;function s(c){a=c}function o(c,u){n.drawArrays(a,c,u),t.update(u,a,1)}function l(c,u,d){if(d===0)return;let f,h;if(i)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](a,c,u,d),t.update(u,a,d)}this.setMode=s,this.render=o,this.renderInstances=l}function KZe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let o=t.precision!==void 0?t.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),p=n.getParameter(34076),m=n.getParameter(34921),v=n.getParameter(36347),g=n.getParameter(36348),y=n.getParameter(36349),b=f>0,_=s||e.has("OES_texture_float"),x=b&&_,S=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:S}}function YZe(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new sp,o=new bl,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const p=d.length!==0||f||r!==0||i;return i=f,t=u(d,h,0),r=d.length,p},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,v=d.clipShadows,g=n.get(d);if(!i||p===null||p.length===0||a&&!v)a?u(null):c();else{const y=a?0:r,b=y*4;let _=g.clippingState||null;l.value=_,_=u(p,f,b,h);for(let x=0;x!==b;++x)_[x]=t[x];g.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let v=null;if(m!==0){if(v=l.value,p!==!0||v===null){const g=h+m*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(v===null||v.length<g)&&(v=new Float32Array(g));for(let b=0,_=h;b!==m;++b,_+=4)s.copy(d[b]).applyMatrix4(y,o),s.normal.toArray(v,_),v[_+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function XZe(n){let e=new WeakMap;function t(s,o){return o===m_?s.mapping=hm:o===fM&&(s.mapping=pm),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const o=s.mapping;if(o===m_||o===fM)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new dXe(l.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}let ty=class extends tre{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};const _v=4,r$=[.125,.215,.35,.446,.526,.582],vp=20,V4=new ty,i$=new bn;let $4=null;const op=(1+Math.sqrt(5))/2,C0=1/op,a$=[new Xe(1,1,1),new Xe(-1,1,1),new Xe(1,1,-1),new Xe(-1,1,-1),new Xe(0,op,C0),new Xe(0,op,-C0),new Xe(C0,0,op),new Xe(-C0,0,op),new Xe(op,C0,0),new Xe(-op,C0,0)];let s$=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){$4=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=c$(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=l$(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget($4),e.scissorTest=!1,hS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===hm||e.mapping===pm?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),$4=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:pa,minFilter:pa,generateMipmaps:!1,type:g_,format:yl,encoding:ah,depthBuffer:!1},i=o$(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=o$(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=jZe(a)),this._blurMaterial=ZZe(a,e,t)}return i}_compileMaterial(e){const t=new Ca(this._lodPlanes[0],e);this._renderer.compile(t,V4)}_sceneToCubeUV(e,t,r,i){const o=new xa(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(i$),u.toneMapping=td,u.autoClear=!1;const h=new cc({name:"PMREM.Background",side:mc,depthWrite:!1,depthTest:!1}),p=new Ca(new w_,h);let m=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,m=!0):(h.color.copy(i$),m=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(o.up.set(0,l[g],0),o.lookAt(c[g],0,0)):y===1?(o.up.set(0,0,l[g]),o.lookAt(0,c[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,c[g]));const b=this._cubeSize;hS(i,y*b,g>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===hm||e.mapping===pm;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=c$()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=l$());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Ca(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;hS(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,V4)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=a$[(i-1)%a$.length];this._blur(e,i-1,i,a,s)}t.autoClear=r}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Ca(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*vp-1),m=a/p,v=isFinite(a)?1+Math.floor(u*m):vp;v>vp&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${vp}`);const g=[];let y=0;for(let T=0;T<vp;++T){const C=T/m,M=Math.exp(-C*C/2);g.push(M),T===0?y+=M:T<v&&(y+=2*M)}for(let T=0;T<g.length;T++)g[T]=g[T]/y;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=g,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const _=this._sizeLods[i],x=3*_*(i>b-_v?i-b+_v:0),S=4*(this._cubeSize-_);hS(t,x,S,3*_,2*_),l.setRenderTarget(t),l.render(d,V4)}};function jZe(n){const e=[],t=[],r=[];let i=n;const a=n-_v+1+r$.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>n-_v?l=r$[s-n+_v-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,v=2,g=1,y=new Float32Array(m*p*h),b=new Float32Array(v*p*h),_=new Float32Array(g*p*h);for(let S=0;S<h;S++){const T=S%3*2/3-1,C=S>2?0:-1,M=[T,C,0,T+2/3,C,0,T+2/3,C+1,0,T,C,0,T+2/3,C+1,0,T,C+1,0];y.set(M,m*p*S),b.set(f,v*p*S);const A=[S,S,S,S,S,S];_.set(A,g*p*S)}const x=new Hr;x.setAttribute("position",new Qi(y,m)),x.setAttribute("uv",new Qi(b,v)),x.setAttribute("faceIndex",new Qi(_,g)),e.push(x),i>_v&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function o$(n,e,t){const r=new vm(n,e,t);return r.texture.mapping=hw,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function hS(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function ZZe(n,e,t){const r=new Float32Array(vp),i=new Xe(0,1,0);return new hd({name:"SphericalGaussianBlur",defines:{n:vp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:I8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Lf,depthTest:!1,depthWrite:!1})}function l$(){return new hd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:I8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Lf,depthTest:!1,depthWrite:!1})}function c$(){return new hd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:I8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Lf,depthTest:!1,depthWrite:!1})}function I8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function QZe(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===m_||l===fM,u=l===hm||l===pm;if(c||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let d=e.get(o);return t===null&&(t=new s$(n)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),e.set(o,d),d.texture}else{if(e.has(o))return e.get(o).texture;{const d=o.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new s$(n));const f=c?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",a),f.texture}else return null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function JZe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function eQe(n,e,t,r){const i={},a=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete i[f.id];const h=a.get(f);h&&(e.remove(h),a.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],34962);const h=d.morphAttributes;for(const p in h){const m=h[p];for(let v=0,g=m.length;v<g;v++)e.update(m[v],34962)}}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const y=h.array;m=h.version;for(let b=0,_=y.length;b<_;b+=3){const x=y[b+0],S=y[b+1],T=y[b+2];f.push(x,S,S,T,T,x)}}else{const y=p.array;m=p.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const x=b+0,S=b+1,T=b+2;f.push(x,S,S,T,T,x)}}const v=new(Wne(f)?Qne:T8)(f,1);v.version=m;const g=a.get(d);g&&e.remove(g),a.set(d,v)}function u(d){const f=a.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function tQe(n,e,t,r){const i=r.isWebGL2;let a;function s(f){a=f}let o,l;function c(f){o=f.type,l=f.bytesPerElement}function u(f,h){n.drawElements(a,h,o,f*l),t.update(h,a,1)}function d(f,h,p){if(p===0)return;let m,v;if(i)m=n,v="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](a,h,o,f*l,p),t.update(h,a,p)}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=d}function nQe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case 4:t.triangles+=o*(a/3);break;case 1:t.lines+=o*(a/2);break;case 3:t.lines+=o*(a-1);break;case 2:t.lines+=o*a;break;case 0:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function rQe(n,e){return n[0]-e[0]}function iQe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function G4(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Uint8Array?t=255:r instanceof Uint16Array?t=65535:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function aQe(n,e,t){const r={},i=new Float32Array(8),a=new WeakMap,s=new ri,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,d,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=p!==void 0?p.length:0;let v=a.get(u);if(v===void 0||v.count!==m){let b=function(){F.dispose(),a.delete(u),u.removeEventListener("dispose",b)};v!==void 0&&v.texture.dispose();const _=u.morphAttributes.position!==void 0,x=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let A=0;_===!0&&(A=1),x===!0&&(A=2),S===!0&&(A=3);let I=u.attributes.position.count*A,D=1;I>e.maxTextureSize&&(D=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const L=new Float32Array(I*D*4*m),F=new Xne(L,I,D,m);F.type=Mf,F.needsUpdate=!0;const B=A*4;for(let k=0;k<m;k++){const H=T[k],z=C[k],O=M[k],G=I*D*4*k;for(let X=0;X<H.count;X++){const J=X*B;_===!0&&(s.fromBufferAttribute(H,X),H.normalized===!0&&G4(s,H),L[G+J+0]=s.x,L[G+J+1]=s.y,L[G+J+2]=s.z,L[G+J+3]=0),x===!0&&(s.fromBufferAttribute(z,X),z.normalized===!0&&G4(s,z),L[G+J+4]=s.x,L[G+J+5]=s.y,L[G+J+6]=s.z,L[G+J+7]=0),S===!0&&(s.fromBufferAttribute(O,X),O.normalized===!0&&G4(s,O),L[G+J+8]=s.x,L[G+J+9]=s.y,L[G+J+10]=s.z,L[G+J+11]=O.itemSize===4?s.w:1)}}v={count:m,texture:F,size:new Wt(I,D)},a.set(u,v),u.addEventListener("dispose",b)}let g=0;for(let b=0;b<h.length;b++)g+=h[b];const y=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",y),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const p=h===void 0?0:h.length;let m=r[u.id];if(m===void 0||m.length!==p){m=[];for(let _=0;_<p;_++)m[_]=[_,0];r[u.id]=m}for(let _=0;_<p;_++){const x=m[_];x[0]=_,x[1]=h[_]}m.sort(iQe);for(let _=0;_<8;_++)_<p&&m[_][1]?(o[_][0]=m[_][0],o[_][1]=m[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(rQe);const v=u.morphAttributes.position,g=u.morphAttributes.normal;let y=0;for(let _=0;_<8;_++){const x=o[_],S=x[0],T=x[1];S!==Number.MAX_SAFE_INTEGER&&T?(v&&u.getAttribute("morphTarget"+_)!==v[S]&&u.setAttribute("morphTarget"+_,v[S]),g&&u.getAttribute("morphNormal"+_)!==g[S]&&u.setAttribute("morphNormal"+_,g[S]),i[_]=T,y+=T):(v&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),g&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const b=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function sQe(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const ire=new rs,are=new Xne,sre=new XYe,ore=new A8,u$=[],d$=[],f$=new Float32Array(16),h$=new Float32Array(9),p$=new Float32Array(4);function ny(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=u$[i];if(a===void 0&&(a=new Float32Array(i),u$[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function js(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Zs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function pA(n,e){let t=d$[e];t===void 0&&(t=new Int32Array(e),d$[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function oQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function lQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(js(t,e))return;n.uniform2fv(this.addr,e),Zs(t,e)}}function cQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(js(t,e))return;n.uniform3fv(this.addr,e),Zs(t,e)}}function uQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(js(t,e))return;n.uniform4fv(this.addr,e),Zs(t,e)}}function dQe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(js(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Zs(t,e)}else{if(js(t,r))return;p$.set(r),n.uniformMatrix2fv(this.addr,!1,p$),Zs(t,r)}}function fQe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(js(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Zs(t,e)}else{if(js(t,r))return;h$.set(r),n.uniformMatrix3fv(this.addr,!1,h$),Zs(t,r)}}function hQe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(js(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Zs(t,e)}else{if(js(t,r))return;f$.set(r),n.uniformMatrix4fv(this.addr,!1,f$),Zs(t,r)}}function pQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function mQe(n,e){const t=this.cache;js(t,e)||(n.uniform2iv(this.addr,e),Zs(t,e))}function vQe(n,e){const t=this.cache;js(t,e)||(n.uniform3iv(this.addr,e),Zs(t,e))}function gQe(n,e){const t=this.cache;js(t,e)||(n.uniform4iv(this.addr,e),Zs(t,e))}function yQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function bQe(n,e){const t=this.cache;js(t,e)||(n.uniform2uiv(this.addr,e),Zs(t,e))}function _Qe(n,e){const t=this.cache;js(t,e)||(n.uniform3uiv(this.addr,e),Zs(t,e))}function wQe(n,e){const t=this.cache;js(t,e)||(n.uniform4uiv(this.addr,e),Zs(t,e))}function xQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||ire,i)}function SQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||sre,i)}function CQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||ore,i)}function MQe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||are,i)}function TQe(n){switch(n){case 5126:return oQe;case 35664:return lQe;case 35665:return cQe;case 35666:return uQe;case 35674:return dQe;case 35675:return fQe;case 35676:return hQe;case 5124:case 35670:return pQe;case 35667:case 35671:return mQe;case 35668:case 35672:return vQe;case 35669:case 35673:return gQe;case 5125:return yQe;case 36294:return bQe;case 36295:return _Qe;case 36296:return wQe;case 35678:case 36198:case 36298:case 36306:case 35682:return xQe;case 35679:case 36299:case 36307:return SQe;case 35680:case 36300:case 36308:case 36293:return CQe;case 36289:case 36303:case 36311:case 36292:return MQe}}function AQe(n,e){n.uniform1fv(this.addr,e)}function EQe(n,e){const t=ny(e,this.size,2);n.uniform2fv(this.addr,t)}function IQe(n,e){const t=ny(e,this.size,3);n.uniform3fv(this.addr,t)}function RQe(n,e){const t=ny(e,this.size,4);n.uniform4fv(this.addr,t)}function PQe(n,e){const t=ny(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function DQe(n,e){const t=ny(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function kQe(n,e){const t=ny(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function LQe(n,e){n.uniform1iv(this.addr,e)}function NQe(n,e){n.uniform2iv(this.addr,e)}function OQe(n,e){n.uniform3iv(this.addr,e)}function BQe(n,e){n.uniform4iv(this.addr,e)}function FQe(n,e){n.uniform1uiv(this.addr,e)}function zQe(n,e){n.uniform2uiv(this.addr,e)}function UQe(n,e){n.uniform3uiv(this.addr,e)}function HQe(n,e){n.uniform4uiv(this.addr,e)}function VQe(n,e,t){const r=e.length,i=pA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2D(e[a]||ire,i[a])}function $Qe(n,e,t){const r=e.length,i=pA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture3D(e[a]||sre,i[a])}function GQe(n,e,t){const r=e.length,i=pA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTextureCube(e[a]||ore,i[a])}function WQe(n,e,t){const r=e.length,i=pA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||are,i[a])}function qQe(n){switch(n){case 5126:return AQe;case 35664:return EQe;case 35665:return IQe;case 35666:return RQe;case 35674:return PQe;case 35675:return DQe;case 35676:return kQe;case 5124:case 35670:return LQe;case 35667:case 35671:return NQe;case 35668:case 35672:return OQe;case 35669:case 35673:return BQe;case 5125:return FQe;case 36294:return zQe;case 36295:return UQe;case 36296:return HQe;case 35678:case 36198:case 36298:case 36306:case 35682:return VQe;case 35679:case 36299:case 36307:return $Qe;case 35680:case 36300:case 36308:case 36293:return GQe;case 36289:case 36303:case 36311:case 36292:return WQe}}let KQe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=TQe(t.type)}},YQe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=qQe(t.type)}},XQe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}};const W4=/(\w+)(\])?(\[|\.)?/g;function m$(n,e){n.seq.push(e),n.map[e.id]=e}function jQe(n,e,t){const r=n.name,i=r.length;for(W4.lastIndex=0;;){const a=W4.exec(r),s=W4.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){m$(t,c===void 0?new KQe(o,n,e):new YQe(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new XQe(o),m$(t,d)),t=d}}}let j2=class{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);jQe(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}};function v$(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let ZQe=0;function QQe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}function JQe(n){switch(n){case ah:return["Linear","( value )"];case Er:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function g$(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+QQe(n.getShaderSource(e),s)}else return i}function eJe(n,e){const t=JQe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function tJe(n,e){let t;switch(e){case iYe:t="Linear";break;case aYe:t="Reinhard";break;case sYe:t="OptimizedCineon";break;case oYe:t="ACESFilmic";break;case lYe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function nJe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(P1).join(`
`)}function rJe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function iJe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===35674&&(o=2),a.type===35675&&(o=3),a.type===35676&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function P1(n){return n!==""}function y$(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function b$(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const aJe=/^[ \t]*#include +<([\w\d./]+)>/gm;function BP(n){return n.replace(aJe,sJe)}function sJe(n,e){const t=Or[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return BP(t)}const oJe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,lJe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _$(n){return n.replace(lJe,lre).replace(oJe,cJe)}function cJe(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),lre(n,e,t,r)}function lre(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function w$(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function uJe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===One?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===NKe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===R1&&(e="SHADOWMAP_TYPE_VSM"),e}function dJe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case hm:case pm:e="ENVMAP_TYPE_CUBE";break;case hw:e="ENVMAP_TYPE_CUBE_UV";break}return e}function fJe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case pm:e="ENVMAP_MODE_REFRACTION";break}return e}function hJe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case fA:e="ENVMAP_BLENDING_MULTIPLY";break;case nYe:e="ENVMAP_BLENDING_MIX";break;case rYe:e="ENVMAP_BLENDING_ADD";break}return e}function pJe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function mJe(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=uJe(t),c=dJe(t),u=fJe(t),d=hJe(t),f=pJe(t),h=t.isWebGL2?"":nJe(t),p=rJe(a),m=i.createProgram();let v,g,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[p].filter(P1).join(`
`),v.length>0&&(v+=`
`),g=[h,p].filter(P1).join(`
`),g.length>0&&(g+=`
`)):(v=[w$(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(P1).join(`
`),g=[h,w$(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==td?"#define TONE_MAPPING":"",t.toneMapping!==td?Or.tonemapping_pars_fragment:"",t.toneMapping!==td?tJe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Or.encodings_pars_fragment,eJe("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(P1).join(`
`)),s=BP(s),s=y$(s,t),s=b$(s,t),o=BP(o),o=y$(o,t),o=b$(o,t),s=_$(s),o=_$(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",t.glslVersion===GV?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===GV?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=y+v+s,_=y+g+o,x=v$(i,35633,b),S=v$(i,35632,_);if(i.attachShader(m,x),i.attachShader(m,S),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),n.debug.checkShaderErrors){const M=i.getProgramInfoLog(m).trim(),A=i.getShaderInfoLog(x).trim(),I=i.getShaderInfoLog(S).trim();let D=!0,L=!0;if(i.getProgramParameter(m,35714)===!1){D=!1;const F=g$(i,x,"vertex"),B=g$(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,35715)+`

Program Info Log: `+M+`
`+F+`
`+B)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(A===""||I==="")&&(L=!1);L&&(this.diagnostics={runnable:D,programLog:M,vertexShader:{log:A,prefix:v},fragmentShader:{log:I,prefix:g}})}i.deleteShader(x),i.deleteShader(S);let T;this.getUniforms=function(){return T===void 0&&(T=new j2(i,m)),T};let C;return this.getAttributes=function(){return C===void 0&&(C=iJe(i,m)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=ZQe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=S,this}let vJe=0,gJe=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new yJe(e);t.set(e,r)}return t.get(e)}},yJe=class{constructor(e){this.id=vJe++,this.code=e,this.usedTimes=0}};function bJe(n,e,t,r,i,a,s){const o=new M8,l=new gJe,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(C,M,A,I,D){const L=I.fog,F=D.geometry,B=C.isMeshStandardMaterial?I.environment:null,k=(C.isMeshStandardMaterial?t:e).get(C.envMap||B),H=k&&k.mapping===hw?k.image.height:null,z=p[C.type];C.precision!==null&&(h=i.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const O=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,G=O!==void 0?O.length:0;let X=0;F.morphAttributes.position!==void 0&&(X=1),F.morphAttributes.normal!==void 0&&(X=2),F.morphAttributes.color!==void 0&&(X=3);let J,Q,re,de;if(z){const $e=zc[z];J=$e.vertexShader,Q=$e.fragmentShader}else J=C.vertexShader,Q=C.fragmentShader,l.update(C),re=l.getVertexShaderID(C),de=l.getFragmentShaderID(C);const le=n.getRenderTarget(),fe=C.alphaTest>0,Ee=C.clearcoat>0,Re=C.iridescence>0;return{isWebGL2:u,shaderID:z,shaderName:C.type,vertexShader:J,fragmentShader:Q,defines:C.defines,customVertexShaderID:re,customFragmentShaderID:de,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,instancing:D.isInstancedMesh===!0,instancingColor:D.isInstancedMesh===!0&&D.instanceColor!==null,supportsVertexTextures:f,outputEncoding:le===null?n.outputEncoding:le.isXRRenderTarget===!0?le.texture.encoding:ah,map:!!C.map,matcap:!!C.matcap,envMap:!!k,envMapMode:k&&k.mapping,envMapCubeUVHeight:H,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===RYe,tangentSpaceNormalMap:C.normalMapType===Pm,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Er,clearcoat:Ee,clearcoatMap:Ee&&!!C.clearcoatMap,clearcoatRoughnessMap:Ee&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:Ee&&!!C.clearcoatNormalMap,iridescence:Re,iridescenceMap:Re&&!!C.iridescenceMap,iridescenceThicknessMap:Re&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===zv,alphaMap:!!C.alphaMap,alphaTest:fe,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!F.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!L,useFog:C.fog===!0,fogExp2:L&&L.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:d,skinning:D.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:X,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&A.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:td,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===ih,flipSided:C.side===mc,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const M=[];if(C.shaderID?M.push(C.shaderID):(M.push(C.customVertexShaderID),M.push(C.customFragmentShaderID)),C.defines!==void 0)for(const A in C.defines)M.push(A),M.push(C.defines[A]);return C.isRawShaderMaterial===!1&&(g(M,C),y(M,C),M.push(n.outputEncoding)),M.push(C.customProgramCacheKey),M.join()}function g(C,M){C.push(M.precision),C.push(M.outputEncoding),C.push(M.envMapMode),C.push(M.envMapCubeUVHeight),C.push(M.combine),C.push(M.vertexUvs),C.push(M.fogExp2),C.push(M.sizeAttenuation),C.push(M.morphTargetsCount),C.push(M.morphAttributeCount),C.push(M.numDirLights),C.push(M.numPointLights),C.push(M.numSpotLights),C.push(M.numHemiLights),C.push(M.numRectAreaLights),C.push(M.numDirLightShadows),C.push(M.numPointLightShadows),C.push(M.numSpotLightShadows),C.push(M.shadowMapType),C.push(M.toneMapping),C.push(M.numClippingPlanes),C.push(M.numClipIntersection),C.push(M.depthPacking)}function y(C,M){o.disableAll(),M.isWebGL2&&o.enable(0),M.supportsVertexTextures&&o.enable(1),M.instancing&&o.enable(2),M.instancingColor&&o.enable(3),M.map&&o.enable(4),M.matcap&&o.enable(5),M.envMap&&o.enable(6),M.lightMap&&o.enable(7),M.aoMap&&o.enable(8),M.emissiveMap&&o.enable(9),M.bumpMap&&o.enable(10),M.normalMap&&o.enable(11),M.objectSpaceNormalMap&&o.enable(12),M.tangentSpaceNormalMap&&o.enable(13),M.clearcoat&&o.enable(14),M.clearcoatMap&&o.enable(15),M.clearcoatRoughnessMap&&o.enable(16),M.clearcoatNormalMap&&o.enable(17),M.iridescence&&o.enable(18),M.iridescenceMap&&o.enable(19),M.iridescenceThicknessMap&&o.enable(20),M.displacementMap&&o.enable(21),M.specularMap&&o.enable(22),M.roughnessMap&&o.enable(23),M.metalnessMap&&o.enable(24),M.gradientMap&&o.enable(25),M.alphaMap&&o.enable(26),M.alphaTest&&o.enable(27),M.vertexColors&&o.enable(28),M.vertexAlphas&&o.enable(29),M.vertexUvs&&o.enable(30),M.vertexTangents&&o.enable(31),M.uvsVertexOnly&&o.enable(32),M.fog&&o.enable(33),C.push(o.mask),o.disableAll(),M.useFog&&o.enable(0),M.flatShading&&o.enable(1),M.logarithmicDepthBuffer&&o.enable(2),M.skinning&&o.enable(3),M.morphTargets&&o.enable(4),M.morphNormals&&o.enable(5),M.morphColors&&o.enable(6),M.premultipliedAlpha&&o.enable(7),M.shadowMapEnabled&&o.enable(8),M.physicallyCorrectLights&&o.enable(9),M.doubleSided&&o.enable(10),M.flipSided&&o.enable(11),M.useDepthPacking&&o.enable(12),M.dithering&&o.enable(13),M.specularIntensityMap&&o.enable(14),M.specularColorMap&&o.enable(15),M.transmission&&o.enable(16),M.transmissionMap&&o.enable(17),M.thicknessMap&&o.enable(18),M.sheen&&o.enable(19),M.sheenColorMap&&o.enable(20),M.sheenRoughnessMap&&o.enable(21),M.decodeVideoTexture&&o.enable(22),M.opaque&&o.enable(23),C.push(o.mask)}function b(C){const M=p[C.type];let A;if(M){const I=zc[M];A=oXe.clone(I.uniforms)}else A=C.uniforms;return A}function _(C,M){let A;for(let I=0,D=c.length;I<D;I++){const L=c[I];if(L.cacheKey===M){A=L,++A.usedTimes;break}}return A===void 0&&(A=new mJe(n,M,C,a),c.push(A)),A}function x(C){if(--C.usedTimes===0){const M=c.indexOf(C);c[M]=c[c.length-1],c.pop(),C.destroy()}}function S(C){l.remove(C)}function T(){l.dispose()}return{getParameters:m,getProgramCacheKey:v,getUniforms:b,acquireProgram:_,releaseProgram:x,releaseShaderCache:S,programs:c,dispose:T}}function _Je(){let n=new WeakMap;function e(a){let s=n.get(a);return s===void 0&&(s={},n.set(a,s)),s}function t(a){n.delete(a)}function r(a,s,o){n.get(a)[s]=o}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function wJe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function x$(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function S$(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,v){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:v},n[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=m,g.group=v),e++,g}function o(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):t.push(g)}function l(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):t.unshift(g)}function c(d,f){t.length>1&&t.sort(d||wJe),r.length>1&&r.sort(f||x$),i.length>1&&i.sort(f||x$)}function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function xJe(){let n=new WeakMap;function e(r,i){let a;return n.has(r)===!1?(a=new S$,n.set(r,[a])):i>=n.get(r).length?(a=new S$,n.get(r).push(a)):a=n.get(r)[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function SJe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Xe,color:new bn};break;case"SpotLight":t={position:new Xe,direction:new Xe,color:new bn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Xe,color:new bn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Xe,skyColor:new bn,groundColor:new bn};break;case"RectAreaLight":t={color:new bn,position:new Xe,halfWidth:new Xe,halfHeight:new Xe};break}return n[e.id]=t,t}}}function CJe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let MJe=0;function TJe(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function AJe(n,e){const t=new SJe,r=CJe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new Xe);const a=new Xe,s=new Un,o=new Un;function l(u,d){let f=0,h=0,p=0;for(let M=0;M<9;M++)i.probe[M].set(0,0,0);let m=0,v=0,g=0,y=0,b=0,_=0,x=0,S=0;u.sort(TJe);const T=d!==!0?Math.PI:1;for(let M=0,A=u.length;M<A;M++){const I=u[M],D=I.color,L=I.intensity,F=I.distance,B=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)f+=D.r*L*T,h+=D.g*L*T,p+=D.b*L*T;else if(I.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(I.sh.coefficients[k],L);else if(I.isDirectionalLight){const k=t.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity*T),I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,i.directionalShadow[m]=z,i.directionalShadowMap[m]=B,i.directionalShadowMatrix[m]=I.shadow.matrix,_++}i.directional[m]=k,m++}else if(I.isSpotLight){const k=t.get(I);if(k.position.setFromMatrixPosition(I.matrixWorld),k.color.copy(D).multiplyScalar(L*T),k.distance=F,k.coneCos=Math.cos(I.angle),k.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),k.decay=I.decay,I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,i.spotShadow[g]=z,i.spotShadowMap[g]=B,i.spotShadowMatrix[g]=I.shadow.matrix,S++}i.spot[g]=k,g++}else if(I.isRectAreaLight){const k=t.get(I);k.color.copy(D).multiplyScalar(L),k.halfWidth.set(I.width*.5,0,0),k.halfHeight.set(0,I.height*.5,0),i.rectArea[y]=k,y++}else if(I.isPointLight){const k=t.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity*T),k.distance=I.distance,k.decay=I.decay,I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,z.shadowCameraNear=H.camera.near,z.shadowCameraFar=H.camera.far,i.pointShadow[v]=z,i.pointShadowMap[v]=B,i.pointShadowMatrix[v]=I.shadow.matrix,x++}i.point[v]=k,v++}else if(I.isHemisphereLight){const k=t.get(I);k.skyColor.copy(I.color).multiplyScalar(L*T),k.groundColor.copy(I.groundColor).multiplyScalar(L*T),i.hemi[b]=k,b++}}y>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=xn.LTC_FLOAT_1,i.rectAreaLTC2=xn.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=xn.LTC_HALF_1,i.rectAreaLTC2=xn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=p;const C=i.hash;(C.directionalLength!==m||C.pointLength!==v||C.spotLength!==g||C.rectAreaLength!==y||C.hemiLength!==b||C.numDirectionalShadows!==_||C.numPointShadows!==x||C.numSpotShadows!==S)&&(i.directional.length=m,i.spot.length=g,i.rectArea.length=y,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=x,i.pointShadowMap.length=x,i.spotShadow.length=S,i.spotShadowMap.length=S,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=x,i.spotShadowMatrix.length=S,C.directionalLength=m,C.pointLength=v,C.spotLength=g,C.rectAreaLength=y,C.hemiLength=b,C.numDirectionalShadows=_,C.numPointShadows=x,C.numSpotShadows=S,i.version=MJe++)}function c(u,d){let f=0,h=0,p=0,m=0,v=0;const g=d.matrixWorldInverse;for(let y=0,b=u.length;y<b;y++){const _=u[y];if(_.isDirectionalLight){const x=i.directional[f];x.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(g),f++}else if(_.isSpotLight){const x=i.spot[p];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(g),x.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(g),p++}else if(_.isRectAreaLight){const x=i.rectArea[m];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(g),o.identity(),s.copy(_.matrixWorld),s.premultiply(g),o.extractRotation(s),x.halfWidth.set(_.width*.5,0,0),x.halfHeight.set(0,_.height*.5,0),x.halfWidth.applyMatrix4(o),x.halfHeight.applyMatrix4(o),m++}else if(_.isPointLight){const x=i.point[h];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(g),h++}else if(_.isHemisphereLight){const x=i.hemi[v];x.direction.setFromMatrixPosition(_.matrixWorld),x.direction.transformDirection(g),v++}}}return{setup:l,setupView:c,state:i}}function C$(n,e){const t=new AJe(n,e),r=[],i=[];function a(){r.length=0,i.length=0}function s(d){r.push(d)}function o(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:o}}function EJe(n,e){let t=new WeakMap;function r(a,s=0){let o;return t.has(a)===!1?(o=new C$(n,e),t.set(a,[o])):s>=t.get(a).length?(o=new C$(n,e),t.get(a).push(o)):o=t.get(a)[s],o}function i(){t=new WeakMap}return{get:r,dispose:i}}let cre=class extends va{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=EYe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},ure=class extends va{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Xe,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};const IJe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,RJe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function PJe(n,e,t){let r=new E8;const i=new Wt,a=new Wt,s=new ri,o=new cre({depthPacking:IYe}),l=new ure,c={},u=t.maxTextureSize,d={0:mc,1:rh,2:ih},f=new hd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Wt},radius:{value:4}},vertexShader:IJe,fragmentShader:RJe}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Hr;p.setAttribute("position",new Qi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Ca(p,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=One,this.render=function(_,x,S){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||_.length===0)return;const T=n.getRenderTarget(),C=n.getActiveCubeFace(),M=n.getActiveMipmapLevel(),A=n.state;A.setBlending(Lf),A.buffers.color.setClear(1,1,1,1),A.buffers.depth.setTest(!0),A.setScissorTest(!1);for(let I=0,D=_.length;I<D;I++){const L=_[I],F=L.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const B=F.getFrameExtents();if(i.multiply(B),a.copy(F.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/B.x),i.x=a.x*B.x,F.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/B.y),i.y=a.y*B.y,F.mapSize.y=a.y)),F.map===null){const H=this.type!==R1?{minFilter:La,magFilter:La}:{};F.map=new vm(i.x,i.y,H),F.map.texture.name=L.name+".shadowMap",F.camera.updateProjectionMatrix()}n.setRenderTarget(F.map),n.clear();const k=F.getViewportCount();for(let H=0;H<k;H++){const z=F.getViewport(H);s.set(a.x*z.x,a.y*z.y,a.x*z.z,a.y*z.w),A.viewport(s),F.updateMatrices(L,H),r=F.getFrustum(),b(x,S,F.camera,L,this.type)}F.isPointLightShadow!==!0&&this.type===R1&&g(F,S),F.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(T,C,M)};function g(_,x){const S=e.update(m);f.defines.VSM_SAMPLES!==_.blurSamples&&(f.defines.VSM_SAMPLES=_.blurSamples,h.defines.VSM_SAMPLES=_.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new vm(i.x,i.y)),f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(x,null,S,f,m,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(x,null,S,h,m,null)}function y(_,x,S,T,C,M){let A=null;const I=S.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(I!==void 0?A=I:A=S.isPointLight===!0?l:o,n.localClippingEnabled&&x.clipShadows===!0&&Array.isArray(x.clippingPlanes)&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0){const D=A.uuid,L=x.uuid;let F=c[D];F===void 0&&(F={},c[D]=F);let B=F[L];B===void 0&&(B=A.clone(),F[L]=B),A=B}return A.visible=x.visible,A.wireframe=x.wireframe,M===R1?A.side=x.shadowSide!==null?x.shadowSide:x.side:A.side=x.shadowSide!==null?x.shadowSide:d[x.side],A.alphaMap=x.alphaMap,A.alphaTest=x.alphaTest,A.clipShadows=x.clipShadows,A.clippingPlanes=x.clippingPlanes,A.clipIntersection=x.clipIntersection,A.displacementMap=x.displacementMap,A.displacementScale=x.displacementScale,A.displacementBias=x.displacementBias,A.wireframeLinewidth=x.wireframeLinewidth,A.linewidth=x.linewidth,S.isPointLight===!0&&A.isMeshDistanceMaterial===!0&&(A.referencePosition.setFromMatrixPosition(S.matrixWorld),A.nearDistance=T,A.farDistance=C),A}function b(_,x,S,T,C){if(_.visible===!1)return;if(_.layers.test(x.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&C===R1)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,_.matrixWorld);const I=e.update(_),D=_.material;if(Array.isArray(D)){const L=I.groups;for(let F=0,B=L.length;F<B;F++){const k=L[F],H=D[k.materialIndex];if(H&&H.visible){const z=y(_,H,T,S.near,S.far,C);n.renderBufferDirect(S,null,I,z,_,k)}}}else if(D.visible){const L=y(_,D,T,S.near,S.far,C);n.renderBufferDirect(S,null,I,L,_,null)}}const A=_.children;for(let I=0,D=A.length;I<D;I++)b(A[I],x,S,T,C)}}function DJe(n,e,t){const r=t.isWebGL2;function i(){let Se=!1;const ft=new ri;let Te=null;const _t=new ri(0,0,0,0);return{setMask:function(nt){Te!==nt&&!Se&&(n.colorMask(nt,nt,nt,nt),Te=nt)},setLocked:function(nt){Se=nt},setClear:function(nt,gt,Lt,At,an){an===!0&&(nt*=At,gt*=At,Lt*=At),ft.set(nt,gt,Lt,At),_t.equals(ft)===!1&&(n.clearColor(nt,gt,Lt,At),_t.copy(ft))},reset:function(){Se=!1,Te=null,_t.set(-1,0,0,0)}}}function a(){let Se=!1,ft=null,Te=null,_t=null;return{setTest:function(nt){nt?fe(2929):Ee(2929)},setMask:function(nt){ft!==nt&&!Se&&(n.depthMask(nt),ft=nt)},setFunc:function(nt){if(Te!==nt){if(nt)switch(nt){case XKe:n.depthFunc(512);break;case jKe:n.depthFunc(519);break;case ZKe:n.depthFunc(513);break;case IP:n.depthFunc(515);break;case QKe:n.depthFunc(514);break;case JKe:n.depthFunc(518);break;case eYe:n.depthFunc(516);break;case tYe:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Te=nt}},setLocked:function(nt){Se=nt},setClear:function(nt){_t!==nt&&(n.clearDepth(nt),_t=nt)},reset:function(){Se=!1,ft=null,Te=null,_t=null}}}function s(){let Se=!1,ft=null,Te=null,_t=null,nt=null,gt=null,Lt=null,At=null,an=null;return{setTest:function(_n){Se||(_n?fe(2960):Ee(2960))},setMask:function(_n){ft!==_n&&!Se&&(n.stencilMask(_n),ft=_n)},setFunc:function(_n,lr,kn){(Te!==_n||_t!==lr||nt!==kn)&&(n.stencilFunc(_n,lr,kn),Te=_n,_t=lr,nt=kn)},setOp:function(_n,lr,kn){(gt!==_n||Lt!==lr||At!==kn)&&(n.stencilOp(_n,lr,kn),gt=_n,Lt=lr,At=kn)},setLocked:function(_n){Se=_n},setClear:function(_n){an!==_n&&(n.clearStencil(_n),an=_n)},reset:function(){Se=!1,ft=null,Te=null,_t=null,nt=null,gt=null,Lt=null,At=null,an=null}}}const o=new i,l=new a,c=new s,u=new WeakMap,d=new WeakMap;let f={},h={},p=new WeakMap,m=[],v=null,g=!1,y=null,b=null,_=null,x=null,S=null,T=null,C=null,M=!1,A=null,I=null,D=null,L=null,F=null;const B=n.getParameter(35661);let k=!1,H=0;const z=n.getParameter(7938);z.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(z)[1]),k=H>=1):z.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),k=H>=2);let O=null,G={};const X=n.getParameter(3088),J=n.getParameter(2978),Q=new ri().fromArray(X),re=new ri().fromArray(J);function de(Se,ft,Te){const _t=new Uint8Array(4),nt=n.createTexture();n.bindTexture(Se,nt),n.texParameteri(Se,10241,9728),n.texParameteri(Se,10240,9728);for(let gt=0;gt<Te;gt++)n.texImage2D(ft+gt,0,6408,1,1,0,6408,5121,_t);return nt}const le={};le[3553]=de(3553,3553,1),le[34067]=de(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),fe(2929),l.setFunc(IP),De(!1),Ye(gV),fe(2884),ie(Lf);function fe(Se){f[Se]!==!0&&(n.enable(Se),f[Se]=!0)}function Ee(Se){f[Se]!==!1&&(n.disable(Se),f[Se]=!1)}function Re(Se,ft){return h[Se]!==ft?(n.bindFramebuffer(Se,ft),h[Se]=ft,r&&(Se===36009&&(h[36160]=ft),Se===36160&&(h[36009]=ft)),!0):!1}function He(Se,ft){let Te=m,_t=!1;if(Se)if(Te=p.get(ft),Te===void 0&&(Te=[],p.set(ft,Te)),Se.isWebGLMultipleRenderTargets){const nt=Se.texture;if(Te.length!==nt.length||Te[0]!==36064){for(let gt=0,Lt=nt.length;gt<Lt;gt++)Te[gt]=36064+gt;Te.length=nt.length,_t=!0}}else Te[0]!==36064&&(Te[0]=36064,_t=!0);else Te[0]!==1029&&(Te[0]=1029,_t=!0);_t&&(t.isWebGL2?n.drawBuffers(Te):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Te))}function $e(Se){return v!==Se?(n.useProgram(Se),v=Se,!0):!1}const K={[nv]:32774,[FKe]:32778,[zKe]:32779};if(r)K[wV]=32775,K[xV]=32776;else{const Se=e.get("EXT_blend_minmax");Se!==null&&(K[wV]=Se.MIN_EXT,K[xV]=Se.MAX_EXT)}const ce={[UKe]:0,[HKe]:1,[VKe]:768,[Bne]:770,[YKe]:776,[qKe]:774,[GKe]:772,[$Ke]:769,[Fne]:771,[KKe]:775,[WKe]:773};function ie(Se,ft,Te,_t,nt,gt,Lt,At){if(Se===Lf){g===!0&&(Ee(3042),g=!1);return}if(g===!1&&(fe(3042),g=!0),Se!==BKe){if(Se!==y||At!==M){if((b!==nv||S!==nv)&&(n.blendEquation(32774),b=nv,S=nv),At)switch(Se){case zv:n.blendFuncSeparate(1,771,1,771);break;case yV:n.blendFunc(1,1);break;case bV:n.blendFuncSeparate(0,769,0,1);break;case _V:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Se);break}else switch(Se){case zv:n.blendFuncSeparate(770,771,1,771);break;case yV:n.blendFunc(770,1);break;case bV:n.blendFuncSeparate(0,769,0,1);break;case _V:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Se);break}_=null,x=null,T=null,C=null,y=Se,M=At}return}nt=nt||ft,gt=gt||Te,Lt=Lt||_t,(ft!==b||nt!==S)&&(n.blendEquationSeparate(K[ft],K[nt]),b=ft,S=nt),(Te!==_||_t!==x||gt!==T||Lt!==C)&&(n.blendFuncSeparate(ce[Te],ce[_t],ce[gt],ce[Lt]),_=Te,x=_t,T=gt,C=Lt),y=Se,M=null}function Ue(Se,ft){Se.side===ih?Ee(2884):fe(2884);let Te=Se.side===mc;ft&&(Te=!Te),De(Te),Se.blending===zv&&Se.transparent===!1?ie(Lf):ie(Se.blending,Se.blendEquation,Se.blendSrc,Se.blendDst,Se.blendEquationAlpha,Se.blendSrcAlpha,Se.blendDstAlpha,Se.premultipliedAlpha),l.setFunc(Se.depthFunc),l.setTest(Se.depthTest),l.setMask(Se.depthWrite),o.setMask(Se.colorWrite);const _t=Se.stencilWrite;c.setTest(_t),_t&&(c.setMask(Se.stencilWriteMask),c.setFunc(Se.stencilFunc,Se.stencilRef,Se.stencilFuncMask),c.setOp(Se.stencilFail,Se.stencilZFail,Se.stencilZPass)),Ve(Se.polygonOffset,Se.polygonOffsetFactor,Se.polygonOffsetUnits),Se.alphaToCoverage===!0?fe(32926):Ee(32926)}function De(Se){A!==Se&&(Se?n.frontFace(2304):n.frontFace(2305),A=Se)}function Ye(Se){Se!==kKe?(fe(2884),Se!==I&&(Se===gV?n.cullFace(1029):Se===LKe?n.cullFace(1028):n.cullFace(1032))):Ee(2884),I=Se}function ze(Se){Se!==D&&(k&&n.lineWidth(Se),D=Se)}function Ve(Se,ft,Te){Se?(fe(32823),(L!==ft||F!==Te)&&(n.polygonOffset(ft,Te),L=ft,F=Te)):Ee(32823)}function Je(Se){Se?fe(3089):Ee(3089)}function pe(Se){Se===void 0&&(Se=33984+B-1),O!==Se&&(n.activeTexture(Se),O=Se)}function W(Se,ft){O===null&&pe();let Te=G[O];Te===void 0&&(Te={type:void 0,texture:void 0},G[O]=Te),(Te.type!==Se||Te.texture!==ft)&&(n.bindTexture(Se,ft||le[Se]),Te.type=Se,Te.texture=ft)}function Z(){const Se=G[O];Se!==void 0&&Se.type!==void 0&&(n.bindTexture(Se.type,null),Se.type=void 0,Se.texture=void 0)}function ve(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Ne(){try{n.texSubImage2D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Ke(){try{n.texSubImage3D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function mt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function vt(){try{n.texStorage2D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function Me(){try{n.texStorage3D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function ht(){try{n.texImage2D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function st(){try{n.texImage3D.apply(n,arguments)}catch(Se){console.error("THREE.WebGLState:",Se)}}function $(Se){Q.equals(Se)===!1&&(n.scissor(Se.x,Se.y,Se.z,Se.w),Q.copy(Se))}function ge(Se){re.equals(Se)===!1&&(n.viewport(Se.x,Se.y,Se.z,Se.w),re.copy(Se))}function he(Se,ft){let Te=d.get(ft);Te===void 0&&(Te=new WeakMap,d.set(ft,Te));let _t=Te.get(Se);_t===void 0&&(_t=n.getUniformBlockIndex(ft,Se.name),Te.set(Se,_t))}function Ae(Se,ft){const _t=d.get(ft).get(Se);u.get(Se)!==_t&&(n.uniformBlockBinding(ft,_t,Se.__bindingPointIndex),u.set(Se,_t))}function ye(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},O=null,G={},h={},p=new WeakMap,m=[],v=null,g=!1,y=null,b=null,_=null,x=null,S=null,T=null,C=null,M=!1,A=null,I=null,D=null,L=null,F=null,Q.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:fe,disable:Ee,bindFramebuffer:Re,drawBuffers:He,useProgram:$e,setBlending:ie,setMaterial:Ue,setFlipSided:De,setCullFace:Ye,setLineWidth:ze,setPolygonOffset:Ve,setScissorTest:Je,activeTexture:pe,bindTexture:W,unbindTexture:Z,compressedTexImage2D:ve,texImage2D:ht,texImage3D:st,updateUBOMapping:he,uniformBlockBinding:Ae,texStorage2D:vt,texStorage3D:Me,texSubImage2D:Ne,texSubImage3D:Ke,compressedTexSubImage2D:mt,scissor:$,viewport:ge,reset:ye}}function kJe(n,e,t,r,i,a,s){const o=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const v=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(W,Z){return g?new OffscreenCanvas(W,Z):__("canvas")}function b(W,Z,ve,Ne){let Ke=1;if((W.width>Ne||W.height>Ne)&&(Ke=Ne/Math.max(W.width,W.height)),Ke<1||Z===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const mt=Z?vM:Math.floor,vt=mt(Ke*W.width),Me=mt(Ke*W.height);m===void 0&&(m=y(vt,Me));const ht=ve?y(vt,Me):m;return ht.width=vt,ht.height=Me,ht.getContext("2d").drawImage(W,0,0,vt,Me),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+vt+"x"+Me+")."),ht}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function _(W){return DP(W.width)&&DP(W.height)}function x(W){return o?!1:W.wrapS!==Sa||W.wrapT!==Sa||W.minFilter!==La&&W.minFilter!==pa}function S(W,Z){return W.generateMipmaps&&Z&&W.minFilter!==La&&W.minFilter!==pa}function T(W){n.generateMipmap(W)}function C(W,Z,ve,Ne,Ke=!1){if(o===!1)return Z;if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let mt=Z;return Z===6403&&(ve===5126&&(mt=33326),ve===5131&&(mt=33325),ve===5121&&(mt=33321)),Z===33319&&(ve===5126&&(mt=33328),ve===5131&&(mt=33327),ve===5121&&(mt=33323)),Z===6408&&(ve===5126&&(mt=34836),ve===5131&&(mt=34842),ve===5121&&(mt=Ne===Er&&Ke===!1?35907:32856),ve===32819&&(mt=32854),ve===32820&&(mt=32855)),(mt===33325||mt===33326||mt===33327||mt===33328||mt===34842||mt===34836)&&e.get("EXT_color_buffer_float"),mt}function M(W,Z,ve){return S(W,ve)===!0||W.isFramebufferTexture&&W.minFilter!==La&&W.minFilter!==pa?Math.log2(Math.max(Z.width,Z.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?Z.mipmaps.length:1}function A(W){return W===La||W===hM||W===pM?9728:9729}function I(W){const Z=W.target;Z.removeEventListener("dispose",I),L(Z),Z.isVideoTexture&&p.delete(Z)}function D(W){const Z=W.target;Z.removeEventListener("dispose",D),B(Z)}function L(W){const Z=r.get(W);if(Z.__webglInit===void 0)return;const ve=W.source,Ne=v.get(ve);if(Ne){const Ke=Ne[Z.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&F(W),Object.keys(Ne).length===0&&v.delete(ve)}r.remove(W)}function F(W){const Z=r.get(W);n.deleteTexture(Z.__webglTexture);const ve=W.source,Ne=v.get(ve);delete Ne[Z.__cacheKey],s.memory.textures--}function B(W){const Z=W.texture,ve=r.get(W),Ne=r.get(Z);if(Ne.__webglTexture!==void 0&&(n.deleteTexture(Ne.__webglTexture),s.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++)n.deleteFramebuffer(ve.__webglFramebuffer[Ke]),ve.__webglDepthbuffer&&n.deleteRenderbuffer(ve.__webglDepthbuffer[Ke]);else{if(n.deleteFramebuffer(ve.__webglFramebuffer),ve.__webglDepthbuffer&&n.deleteRenderbuffer(ve.__webglDepthbuffer),ve.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ve.__webglMultisampledFramebuffer),ve.__webglColorRenderbuffer)for(let Ke=0;Ke<ve.__webglColorRenderbuffer.length;Ke++)ve.__webglColorRenderbuffer[Ke]&&n.deleteRenderbuffer(ve.__webglColorRenderbuffer[Ke]);ve.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ve.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let Ke=0,mt=Z.length;Ke<mt;Ke++){const vt=r.get(Z[Ke]);vt.__webglTexture&&(n.deleteTexture(vt.__webglTexture),s.memory.textures--),r.remove(Z[Ke])}r.remove(Z),r.remove(W)}let k=0;function H(){k=0}function z(){const W=k;return W>=l&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+l),k+=1,W}function O(W){const Z=[];return Z.push(W.wrapS),Z.push(W.wrapT),Z.push(W.magFilter),Z.push(W.minFilter),Z.push(W.anisotropy),Z.push(W.internalFormat),Z.push(W.format),Z.push(W.type),Z.push(W.generateMipmaps),Z.push(W.premultiplyAlpha),Z.push(W.flipY),Z.push(W.unpackAlignment),Z.push(W.encoding),Z.join()}function G(W,Z){const ve=r.get(W);if(W.isVideoTexture&&Je(W),W.isRenderTargetTexture===!1&&W.version>0&&ve.__version!==W.version){const Ne=W.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ee(ve,W,Z);return}}t.activeTexture(33984+Z),t.bindTexture(3553,ve.__webglTexture)}function X(W,Z){const ve=r.get(W);if(W.version>0&&ve.__version!==W.version){Ee(ve,W,Z);return}t.activeTexture(33984+Z),t.bindTexture(35866,ve.__webglTexture)}function J(W,Z){const ve=r.get(W);if(W.version>0&&ve.__version!==W.version){Ee(ve,W,Z);return}t.activeTexture(33984+Z),t.bindTexture(32879,ve.__webglTexture)}function Q(W,Z){const ve=r.get(W);if(W.version>0&&ve.__version!==W.version){Re(ve,W,Z);return}t.activeTexture(33984+Z),t.bindTexture(34067,ve.__webglTexture)}const re={[co]:10497,[Sa]:33071,[v_]:33648},de={[La]:9728,[hM]:9984,[pM]:9986,[pa]:9729,[x8]:9985,[Ad]:9987};function le(W,Z,ve){if(ve?(n.texParameteri(W,10242,re[Z.wrapS]),n.texParameteri(W,10243,re[Z.wrapT]),(W===32879||W===35866)&&n.texParameteri(W,32882,re[Z.wrapR]),n.texParameteri(W,10240,de[Z.magFilter]),n.texParameteri(W,10241,de[Z.minFilter])):(n.texParameteri(W,10242,33071),n.texParameteri(W,10243,33071),(W===32879||W===35866)&&n.texParameteri(W,32882,33071),(Z.wrapS!==Sa||Z.wrapT!==Sa)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(W,10240,A(Z.magFilter)),n.texParameteri(W,10241,A(Z.minFilter)),Z.minFilter!==La&&Z.minFilter!==pa&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Ne=e.get("EXT_texture_filter_anisotropic");if(Z.type===Mf&&e.has("OES_texture_float_linear")===!1||o===!1&&Z.type===g_&&e.has("OES_texture_half_float_linear")===!1)return;(Z.anisotropy>1||r.get(Z).__currentAnisotropy)&&(n.texParameterf(W,Ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,i.getMaxAnisotropy())),r.get(Z).__currentAnisotropy=Z.anisotropy)}}function fe(W,Z){let ve=!1;W.__webglInit===void 0&&(W.__webglInit=!0,Z.addEventListener("dispose",I));const Ne=Z.source;let Ke=v.get(Ne);Ke===void 0&&(Ke={},v.set(Ne,Ke));const mt=O(Z);if(mt!==W.__cacheKey){Ke[mt]===void 0&&(Ke[mt]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,ve=!0),Ke[mt].usedTimes++;const vt=Ke[W.__cacheKey];vt!==void 0&&(Ke[W.__cacheKey].usedTimes--,vt.usedTimes===0&&F(Z)),W.__cacheKey=mt,W.__webglTexture=Ke[mt].texture}return ve}function Ee(W,Z,ve){let Ne=3553;Z.isDataArrayTexture&&(Ne=35866),Z.isData3DTexture&&(Ne=32879);const Ke=fe(W,Z),mt=Z.source;if(t.activeTexture(33984+ve),t.bindTexture(Ne,W.__webglTexture),mt.version!==mt.__currentVersion||Ke===!0){n.pixelStorei(37440,Z.flipY),n.pixelStorei(37441,Z.premultiplyAlpha),n.pixelStorei(3317,Z.unpackAlignment),n.pixelStorei(37443,0);const vt=x(Z)&&_(Z.image)===!1;let Me=b(Z.image,vt,!1,u);Me=pe(Z,Me);const ht=_(Me)||o,st=a.convert(Z.format,Z.encoding);let $=a.convert(Z.type),ge=C(Z.internalFormat,st,$,Z.encoding,Z.isVideoTexture);le(Ne,Z,ht);let he;const Ae=Z.mipmaps,ye=o&&Z.isVideoTexture!==!0,Se=mt.__currentVersion===void 0||Ke===!0,ft=M(Z,Me,ht);if(Z.isDepthTexture)ge=6402,o?Z.type===Mf?ge=36012:Z.type===kp?ge=33190:Z.type===Uv?ge=35056:ge=33189:Z.type===Mf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Z.format===jp&&ge===6402&&Z.type!==zne&&Z.type!==kp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Z.type=kp,$=a.convert(Z.type)),Z.format===yg&&ge===6402&&(ge=34041,Z.type!==Uv&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Z.type=Uv,$=a.convert(Z.type))),Se&&(ye?t.texStorage2D(3553,1,ge,Me.width,Me.height):t.texImage2D(3553,0,ge,Me.width,Me.height,0,st,$,null));else if(Z.isDataTexture)if(Ae.length>0&&ht){ye&&Se&&t.texStorage2D(3553,ft,ge,Ae[0].width,Ae[0].height);for(let Te=0,_t=Ae.length;Te<_t;Te++)he=Ae[Te],ye?t.texSubImage2D(3553,Te,0,0,he.width,he.height,st,$,he.data):t.texImage2D(3553,Te,ge,he.width,he.height,0,st,$,he.data);Z.generateMipmaps=!1}else ye?(Se&&t.texStorage2D(3553,ft,ge,Me.width,Me.height),t.texSubImage2D(3553,0,0,0,Me.width,Me.height,st,$,Me.data)):t.texImage2D(3553,0,ge,Me.width,Me.height,0,st,$,Me.data);else if(Z.isCompressedTexture){ye&&Se&&t.texStorage2D(3553,ft,ge,Ae[0].width,Ae[0].height);for(let Te=0,_t=Ae.length;Te<_t;Te++)he=Ae[Te],Z.format!==yl?st!==null?ye?t.compressedTexSubImage2D(3553,Te,0,0,he.width,he.height,st,he.data):t.compressedTexImage2D(3553,Te,ge,he.width,he.height,0,he.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?t.texSubImage2D(3553,Te,0,0,he.width,he.height,st,$,he.data):t.texImage2D(3553,Te,ge,he.width,he.height,0,st,$,he.data)}else if(Z.isDataArrayTexture)ye?(Se&&t.texStorage3D(35866,ft,ge,Me.width,Me.height,Me.depth),t.texSubImage3D(35866,0,0,0,0,Me.width,Me.height,Me.depth,st,$,Me.data)):t.texImage3D(35866,0,ge,Me.width,Me.height,Me.depth,0,st,$,Me.data);else if(Z.isData3DTexture)ye?(Se&&t.texStorage3D(32879,ft,ge,Me.width,Me.height,Me.depth),t.texSubImage3D(32879,0,0,0,0,Me.width,Me.height,Me.depth,st,$,Me.data)):t.texImage3D(32879,0,ge,Me.width,Me.height,Me.depth,0,st,$,Me.data);else if(Z.isFramebufferTexture){if(Se)if(ye)t.texStorage2D(3553,ft,ge,Me.width,Me.height);else{let Te=Me.width,_t=Me.height;for(let nt=0;nt<ft;nt++)t.texImage2D(3553,nt,ge,Te,_t,0,st,$,null),Te>>=1,_t>>=1}}else if(Ae.length>0&&ht){ye&&Se&&t.texStorage2D(3553,ft,ge,Ae[0].width,Ae[0].height);for(let Te=0,_t=Ae.length;Te<_t;Te++)he=Ae[Te],ye?t.texSubImage2D(3553,Te,0,0,st,$,he):t.texImage2D(3553,Te,ge,st,$,he);Z.generateMipmaps=!1}else ye?(Se&&t.texStorage2D(3553,ft,ge,Me.width,Me.height),t.texSubImage2D(3553,0,0,0,st,$,Me)):t.texImage2D(3553,0,ge,st,$,Me);S(Z,ht)&&T(Ne),mt.__currentVersion=mt.version,Z.onUpdate&&Z.onUpdate(Z)}W.__version=Z.version}function Re(W,Z,ve){if(Z.image.length!==6)return;const Ne=fe(W,Z),Ke=Z.source;if(t.activeTexture(33984+ve),t.bindTexture(34067,W.__webglTexture),Ke.version!==Ke.__currentVersion||Ne===!0){n.pixelStorei(37440,Z.flipY),n.pixelStorei(37441,Z.premultiplyAlpha),n.pixelStorei(3317,Z.unpackAlignment),n.pixelStorei(37443,0);const mt=Z.isCompressedTexture||Z.image[0].isCompressedTexture,vt=Z.image[0]&&Z.image[0].isDataTexture,Me=[];for(let Te=0;Te<6;Te++)!mt&&!vt?Me[Te]=b(Z.image[Te],!1,!0,c):Me[Te]=vt?Z.image[Te].image:Z.image[Te],Me[Te]=pe(Z,Me[Te]);const ht=Me[0],st=_(ht)||o,$=a.convert(Z.format,Z.encoding),ge=a.convert(Z.type),he=C(Z.internalFormat,$,ge,Z.encoding),Ae=o&&Z.isVideoTexture!==!0,ye=Ke.__currentVersion===void 0||Ne===!0;let Se=M(Z,ht,st);le(34067,Z,st);let ft;if(mt){Ae&&ye&&t.texStorage2D(34067,Se,he,ht.width,ht.height);for(let Te=0;Te<6;Te++){ft=Me[Te].mipmaps;for(let _t=0;_t<ft.length;_t++){const nt=ft[_t];Z.format!==yl?$!==null?Ae?t.compressedTexSubImage2D(34069+Te,_t,0,0,nt.width,nt.height,$,nt.data):t.compressedTexImage2D(34069+Te,_t,he,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ae?t.texSubImage2D(34069+Te,_t,0,0,nt.width,nt.height,$,ge,nt.data):t.texImage2D(34069+Te,_t,he,nt.width,nt.height,0,$,ge,nt.data)}}}else{ft=Z.mipmaps,Ae&&ye&&(ft.length>0&&Se++,t.texStorage2D(34067,Se,he,Me[0].width,Me[0].height));for(let Te=0;Te<6;Te++)if(vt){Ae?t.texSubImage2D(34069+Te,0,0,0,Me[Te].width,Me[Te].height,$,ge,Me[Te].data):t.texImage2D(34069+Te,0,he,Me[Te].width,Me[Te].height,0,$,ge,Me[Te].data);for(let _t=0;_t<ft.length;_t++){const gt=ft[_t].image[Te].image;Ae?t.texSubImage2D(34069+Te,_t+1,0,0,gt.width,gt.height,$,ge,gt.data):t.texImage2D(34069+Te,_t+1,he,gt.width,gt.height,0,$,ge,gt.data)}}else{Ae?t.texSubImage2D(34069+Te,0,0,0,$,ge,Me[Te]):t.texImage2D(34069+Te,0,he,$,ge,Me[Te]);for(let _t=0;_t<ft.length;_t++){const nt=ft[_t];Ae?t.texSubImage2D(34069+Te,_t+1,0,0,$,ge,nt.image[Te]):t.texImage2D(34069+Te,_t+1,he,$,ge,nt.image[Te])}}}S(Z,st)&&T(34067),Ke.__currentVersion=Ke.version,Z.onUpdate&&Z.onUpdate(Z)}W.__version=Z.version}function He(W,Z,ve,Ne,Ke){const mt=a.convert(ve.format,ve.encoding),vt=a.convert(ve.type),Me=C(ve.internalFormat,mt,vt,ve.encoding);r.get(Z).__hasExternalTextures||(Ke===32879||Ke===35866?t.texImage3D(Ke,0,Me,Z.width,Z.height,Z.depth,0,mt,vt,null):t.texImage2D(Ke,0,Me,Z.width,Z.height,0,mt,vt,null)),t.bindFramebuffer(36160,W),Ve(Z)?f.framebufferTexture2DMultisampleEXT(36160,Ne,Ke,r.get(ve).__webglTexture,0,ze(Z)):n.framebufferTexture2D(36160,Ne,Ke,r.get(ve).__webglTexture,0),t.bindFramebuffer(36160,null)}function $e(W,Z,ve){if(n.bindRenderbuffer(36161,W),Z.depthBuffer&&!Z.stencilBuffer){let Ne=33189;if(ve||Ve(Z)){const Ke=Z.depthTexture;Ke&&Ke.isDepthTexture&&(Ke.type===Mf?Ne=36012:Ke.type===kp&&(Ne=33190));const mt=ze(Z);Ve(Z)?f.renderbufferStorageMultisampleEXT(36161,mt,Ne,Z.width,Z.height):n.renderbufferStorageMultisample(36161,mt,Ne,Z.width,Z.height)}else n.renderbufferStorage(36161,Ne,Z.width,Z.height);n.framebufferRenderbuffer(36160,36096,36161,W)}else if(Z.depthBuffer&&Z.stencilBuffer){const Ne=ze(Z);ve&&Ve(Z)===!1?n.renderbufferStorageMultisample(36161,Ne,35056,Z.width,Z.height):Ve(Z)?f.renderbufferStorageMultisampleEXT(36161,Ne,35056,Z.width,Z.height):n.renderbufferStorage(36161,34041,Z.width,Z.height),n.framebufferRenderbuffer(36160,33306,36161,W)}else{const Ne=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let Ke=0;Ke<Ne.length;Ke++){const mt=Ne[Ke],vt=a.convert(mt.format,mt.encoding),Me=a.convert(mt.type),ht=C(mt.internalFormat,vt,Me,mt.encoding),st=ze(Z);ve&&Ve(Z)===!1?n.renderbufferStorageMultisample(36161,st,ht,Z.width,Z.height):Ve(Z)?f.renderbufferStorageMultisampleEXT(36161,st,ht,Z.width,Z.height):n.renderbufferStorage(36161,ht,Z.width,Z.height)}}n.bindRenderbuffer(36161,null)}function K(W,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,W),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(Z.depthTexture).__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),G(Z.depthTexture,0);const Ne=r.get(Z.depthTexture).__webglTexture,Ke=ze(Z);if(Z.depthTexture.format===jp)Ve(Z)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,Ne,0,Ke):n.framebufferTexture2D(36160,36096,3553,Ne,0);else if(Z.depthTexture.format===yg)Ve(Z)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,Ne,0,Ke):n.framebufferTexture2D(36160,33306,3553,Ne,0);else throw new Error("Unknown depthTexture format")}function ce(W){const Z=r.get(W),ve=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!Z.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");K(Z.__webglFramebuffer,W)}else if(ve){Z.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)t.bindFramebuffer(36160,Z.__webglFramebuffer[Ne]),Z.__webglDepthbuffer[Ne]=n.createRenderbuffer(),$e(Z.__webglDepthbuffer[Ne],W,!1)}else t.bindFramebuffer(36160,Z.__webglFramebuffer),Z.__webglDepthbuffer=n.createRenderbuffer(),$e(Z.__webglDepthbuffer,W,!1);t.bindFramebuffer(36160,null)}function ie(W,Z,ve){const Ne=r.get(W);Z!==void 0&&He(Ne.__webglFramebuffer,W,W.texture,36064,3553),ve!==void 0&&ce(W)}function Ue(W){const Z=W.texture,ve=r.get(W),Ne=r.get(Z);W.addEventListener("dispose",D),W.isWebGLMultipleRenderTargets!==!0&&(Ne.__webglTexture===void 0&&(Ne.__webglTexture=n.createTexture()),Ne.__version=Z.version,s.memory.textures++);const Ke=W.isWebGLCubeRenderTarget===!0,mt=W.isWebGLMultipleRenderTargets===!0,vt=_(W)||o;if(Ke){ve.__webglFramebuffer=[];for(let Me=0;Me<6;Me++)ve.__webglFramebuffer[Me]=n.createFramebuffer()}else{if(ve.__webglFramebuffer=n.createFramebuffer(),mt)if(i.drawBuffers){const Me=W.texture;for(let ht=0,st=Me.length;ht<st;ht++){const $=r.get(Me[ht]);$.__webglTexture===void 0&&($.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&W.samples>0&&Ve(W)===!1){const Me=mt?Z:[Z];ve.__webglMultisampledFramebuffer=n.createFramebuffer(),ve.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,ve.__webglMultisampledFramebuffer);for(let ht=0;ht<Me.length;ht++){const st=Me[ht];ve.__webglColorRenderbuffer[ht]=n.createRenderbuffer(),n.bindRenderbuffer(36161,ve.__webglColorRenderbuffer[ht]);const $=a.convert(st.format,st.encoding),ge=a.convert(st.type),he=C(st.internalFormat,$,ge,st.encoding),Ae=ze(W);n.renderbufferStorageMultisample(36161,Ae,he,W.width,W.height),n.framebufferRenderbuffer(36160,36064+ht,36161,ve.__webglColorRenderbuffer[ht])}n.bindRenderbuffer(36161,null),W.depthBuffer&&(ve.__webglDepthRenderbuffer=n.createRenderbuffer(),$e(ve.__webglDepthRenderbuffer,W,!0)),t.bindFramebuffer(36160,null)}}if(Ke){t.bindTexture(34067,Ne.__webglTexture),le(34067,Z,vt);for(let Me=0;Me<6;Me++)He(ve.__webglFramebuffer[Me],W,Z,36064,34069+Me);S(Z,vt)&&T(34067),t.unbindTexture()}else if(mt){const Me=W.texture;for(let ht=0,st=Me.length;ht<st;ht++){const $=Me[ht],ge=r.get($);t.bindTexture(3553,ge.__webglTexture),le(3553,$,vt),He(ve.__webglFramebuffer,W,$,36064+ht,3553),S($,vt)&&T(3553)}t.unbindTexture()}else{let Me=3553;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(o?Me=W.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Me,Ne.__webglTexture),le(Me,Z,vt),He(ve.__webglFramebuffer,W,Z,36064,Me),S(Z,vt)&&T(Me),t.unbindTexture()}W.depthBuffer&&ce(W)}function De(W){const Z=_(W)||o,ve=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Ne=0,Ke=ve.length;Ne<Ke;Ne++){const mt=ve[Ne];if(S(mt,Z)){const vt=W.isWebGLCubeRenderTarget?34067:3553,Me=r.get(mt).__webglTexture;t.bindTexture(vt,Me),T(vt),t.unbindTexture()}}}function Ye(W){if(o&&W.samples>0&&Ve(W)===!1){const Z=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],ve=W.width,Ne=W.height;let Ke=16384;const mt=[],vt=W.stencilBuffer?33306:36096,Me=r.get(W),ht=W.isWebGLMultipleRenderTargets===!0;if(ht)for(let st=0;st<Z.length;st++)t.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+st,36161,null),t.bindFramebuffer(36160,Me.__webglFramebuffer),n.framebufferTexture2D(36009,36064+st,3553,null,0);t.bindFramebuffer(36008,Me.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Me.__webglFramebuffer);for(let st=0;st<Z.length;st++){mt.push(36064+st),W.depthBuffer&&mt.push(vt);const $=Me.__ignoreDepthValues!==void 0?Me.__ignoreDepthValues:!1;if($===!1&&(W.depthBuffer&&(Ke|=256),W.stencilBuffer&&(Ke|=1024)),ht&&n.framebufferRenderbuffer(36008,36064,36161,Me.__webglColorRenderbuffer[st]),$===!0&&(n.invalidateFramebuffer(36008,[vt]),n.invalidateFramebuffer(36009,[vt])),ht){const ge=r.get(Z[st]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ge,0)}n.blitFramebuffer(0,0,ve,Ne,0,0,ve,Ne,Ke,9728),h&&n.invalidateFramebuffer(36008,mt)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ht)for(let st=0;st<Z.length;st++){t.bindFramebuffer(36160,Me.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+st,36161,Me.__webglColorRenderbuffer[st]);const $=r.get(Z[st]).__webglTexture;t.bindFramebuffer(36160,Me.__webglFramebuffer),n.framebufferTexture2D(36009,36064+st,3553,$,0)}t.bindFramebuffer(36009,Me.__webglMultisampledFramebuffer)}}function ze(W){return Math.min(d,W.samples)}function Ve(W){const Z=r.get(W);return o&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function Je(W){const Z=s.render.frame;p.get(W)!==Z&&(p.set(W,Z),W.update())}function pe(W,Z){const ve=W.encoding,Ne=W.format,Ke=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===PP||ve!==ah&&(ve===Er?o===!1?e.has("EXT_sRGB")===!0&&Ne===yl?(W.format=PP,W.minFilter=pa,W.generateMipmaps=!1):Z=Kne.sRGBToLinear(Z):(Ne!==yl||Ke!==mm)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",ve)),Z}this.allocateTextureUnit=z,this.resetTextureUnits=H,this.setTexture2D=G,this.setTexture2DArray=X,this.setTexture3D=J,this.setTextureCube=Q,this.rebindTextures=ie,this.setupRenderTarget=Ue,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=Ye,this.setupDepthRenderbuffer=ce,this.setupFrameBufferTexture=He,this.useMultisampledRTT=Ve}function LJe(n,e,t){const r=t.isWebGL2;function i(a,s=null){let o;if(a===mm)return 5121;if(a===fYe)return 32819;if(a===hYe)return 32820;if(a===cYe)return 5120;if(a===uYe)return 5122;if(a===zne)return 5123;if(a===dYe)return 5124;if(a===kp)return 5125;if(a===Mf)return 5126;if(a===g_)return r?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===pYe)return 6406;if(a===yl)return 6408;if(a===vYe)return 6409;if(a===gYe)return 6410;if(a===jp)return 6402;if(a===yg)return 34041;if(a===yYe)return 6403;if(a===mYe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(a===PP)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===bYe)return 36244;if(a===_Ye)return 33319;if(a===wYe)return 33320;if(a===xYe)return 36249;if(a===q2||a===y4||a===K2||a===Y2)if(s===Er)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===q2)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===y4)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===K2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===Y2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===q2)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===y4)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===K2)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Y2)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===SV||a===CV||a===MV||a===TV)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===SV)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===CV)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===MV)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===TV)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===Une)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===AV||a===EV)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===AV)return s===Er?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===EV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===IV||a===RV||a===PV||a===DV||a===kV||a===LV||a===NV||a===OV||a===BV||a===FV||a===zV||a===UV||a===HV||a===VV)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===IV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===RV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===PV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===DV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===kV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===LV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===NV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===OV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===BV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===FV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===zV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===UV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===HV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===VV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===$V)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===$V)return s===Er?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return a===Uv?r?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):n[a]!==void 0?n[a]:null}return{convert:i}}let NJe=class extends xa{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},uo=class extends Gi{constructor(){super(),this.isGroup=!0,this.type="Group"}};const OJe={type:"move"};let q4=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new uo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new uo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Xe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Xe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new uo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Xe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Xe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const v=t.getJointPose(m,r);if(c.joints[m.jointName]===void 0){const y=new uo;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[m.jointName]=y,c.add(y)}const g=c.joints[m.jointName];v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=v.radius),g.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(OJe)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}},BJe=class extends rs{constructor(e,t,r,i,a,s,o,l,c,u){if(u=u!==void 0?u:jp,u!==jp&&u!==yg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===jp&&(r=kp),r===void 0&&u===yg&&(r=Uv),super(null,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:La,this.minFilter=l!==void 0?l:La,this.flipY=!1,this.generateMipmaps=!1}},FJe=class extends gh{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=null,c=null,u=null,d=null,f=null,h=null;const p=t.getContextAttributes();let m=null,v=null;const g=[],y=[],b=new xa;b.layers.enable(1),b.viewport=new ri;const _=new xa;_.layers.enable(2),_.viewport=new ri;const x=[b,_],S=new NJe;S.layers.enable(1),S.layers.enable(2);let T=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(O){let G=g[O];return G===void 0&&(G=new q4,g[O]=G),G.getTargetRaySpace()},this.getControllerGrip=function(O){let G=g[O];return G===void 0&&(G=new q4,g[O]=G),G.getGripSpace()},this.getHand=function(O){let G=g[O];return G===void 0&&(G=new q4,g[O]=G),G.getHandSpace()};function M(O){const G=y.indexOf(O.inputSource);if(G===-1)return;const X=g[G];X!==void 0&&X.dispatchEvent({type:O.type,data:O.inputSource})}function A(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",A),i.removeEventListener("inputsourceschange",I);for(let O=0;O<g.length;O++){const G=y[O];G!==null&&(y[O]=null,g[O].disconnect(G))}T=null,C=null,e.setRenderTarget(m),f=null,d=null,u=null,i=null,v=null,z.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(O){a=O,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(O){o=O,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(O){l=O},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(O){if(i=O,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",A),i.addEventListener("inputsourceschange",I),p.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const G={antialias:i.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:a};f=new XRWebGLLayer(i,t,G),i.updateRenderState({baseLayer:f}),v=new vm(f.framebufferWidth,f.framebufferHeight,{format:yl,type:mm,encoding:e.outputEncoding})}else{let G=null,X=null,J=null;p.depth&&(J=p.stencil?35056:33190,G=p.stencil?yg:jp,X=p.stencil?Uv:kp);const Q={colorFormat:32856,depthFormat:J,scaleFactor:a};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(Q),i.updateRenderState({layers:[d]}),v=new vm(d.textureWidth,d.textureHeight,{format:yl,type:mm,depthTexture:new BJe(d.textureWidth,d.textureHeight,X,void 0,void 0,void 0,void 0,void 0,void 0,G),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});const re=e.properties.get(v);re.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,s=await i.requestReferenceSpace(o),z.setContext(i),z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function I(O){for(let G=0;G<O.removed.length;G++){const X=O.removed[G],J=y.indexOf(X);J>=0&&(y[J]=null,g[J].dispatchEvent({type:"disconnected",data:X}))}for(let G=0;G<O.added.length;G++){const X=O.added[G];let J=y.indexOf(X);if(J===-1){for(let re=0;re<g.length;re++)if(re>=y.length){y.push(X),J=re;break}else if(y[re]===null){y[re]=X,J=re;break}if(J===-1)break}const Q=g[J];Q&&Q.dispatchEvent({type:"connected",data:X})}}const D=new Xe,L=new Xe;function F(O,G,X){D.setFromMatrixPosition(G.matrixWorld),L.setFromMatrixPosition(X.matrixWorld);const J=D.distanceTo(L),Q=G.projectionMatrix.elements,re=X.projectionMatrix.elements,de=Q[14]/(Q[10]-1),le=Q[14]/(Q[10]+1),fe=(Q[9]+1)/Q[5],Ee=(Q[9]-1)/Q[5],Re=(Q[8]-1)/Q[0],He=(re[8]+1)/re[0],$e=de*Re,K=de*He,ce=J/(-Re+He),ie=ce*-Re;G.matrixWorld.decompose(O.position,O.quaternion,O.scale),O.translateX(ie),O.translateZ(ce),O.matrixWorld.compose(O.position,O.quaternion,O.scale),O.matrixWorldInverse.copy(O.matrixWorld).invert();const Ue=de+ce,De=le+ce,Ye=$e-ie,ze=K+(J-ie),Ve=fe*le/De*Ue,Je=Ee*le/De*Ue;O.projectionMatrix.makePerspective(Ye,ze,Ve,Je,Ue,De)}function B(O,G){G===null?O.matrixWorld.copy(O.matrix):O.matrixWorld.multiplyMatrices(G.matrixWorld,O.matrix),O.matrixWorldInverse.copy(O.matrixWorld).invert()}this.updateCamera=function(O){if(i===null)return;S.near=_.near=b.near=O.near,S.far=_.far=b.far=O.far,(T!==S.near||C!==S.far)&&(i.updateRenderState({depthNear:S.near,depthFar:S.far}),T=S.near,C=S.far);const G=O.parent,X=S.cameras;B(S,G);for(let Q=0;Q<X.length;Q++)B(X[Q],G);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),O.position.copy(S.position),O.quaternion.copy(S.quaternion),O.scale.copy(S.scale),O.matrix.copy(S.matrix),O.matrixWorld.copy(S.matrixWorld);const J=O.children;for(let Q=0,re=J.length;Q<re;Q++)J[Q].updateMatrixWorld(!0);X.length===2?F(S,b,_):S.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(O){d!==null&&(d.fixedFoveation=O),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=O)};let k=null;function H(O,G){if(c=G.getViewerPose(l||s),h=G,c!==null){const X=c.views;f!==null&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let J=!1;X.length!==S.cameras.length&&(S.cameras.length=0,J=!0);for(let Q=0;Q<X.length;Q++){const re=X[Q];let de=null;if(f!==null)de=f.getViewport(re);else{const fe=u.getViewSubImage(d,re);de=fe.viewport,Q===0&&(e.setRenderTargetTextures(v,fe.colorTexture,d.ignoreDepthValues?void 0:fe.depthStencilTexture),e.setRenderTarget(v))}let le=x[Q];le===void 0&&(le=new xa,le.layers.enable(Q),le.viewport=new ri,x[Q]=le),le.matrix.fromArray(re.transform.matrix),le.projectionMatrix.fromArray(re.projectionMatrix),le.viewport.set(de.x,de.y,de.width,de.height),Q===0&&S.matrix.copy(le.matrix),J===!0&&S.cameras.push(le)}}for(let X=0;X<g.length;X++){const J=y[X],Q=g[X];J!==null&&Q!==void 0&&Q.update(J,G,l||s)}k&&k(O,G),h=null}const z=new nre;z.setAnimationLoop(H),this.setAnimationLoop=function(O){k=O},this.dispose=function(){}}};function zJe(n,e){function t(m,v){m.fogColor.value.copy(v.color),v.isFog?(m.fogNear.value=v.near,m.fogFar.value=v.far):v.isFogExp2&&(m.fogDensity.value=v.density)}function r(m,v,g,y,b){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(m,v):v.isMeshToonMaterial?(i(m,v),u(m,v)):v.isMeshPhongMaterial?(i(m,v),c(m,v)):v.isMeshStandardMaterial?(i(m,v),d(m,v),v.isMeshPhysicalMaterial&&f(m,v,b)):v.isMeshMatcapMaterial?(i(m,v),h(m,v)):v.isMeshDepthMaterial?i(m,v):v.isMeshDistanceMaterial?(i(m,v),p(m,v)):v.isMeshNormalMaterial?i(m,v):v.isLineBasicMaterial?(a(m,v),v.isLineDashedMaterial&&s(m,v)):v.isPointsMaterial?o(m,v,g,y):v.isSpriteMaterial?l(m,v):v.isShadowMaterial?(m.color.value.copy(v.color),m.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(m,v){m.opacity.value=v.opacity,v.color&&m.diffuse.value.copy(v.color),v.emissive&&m.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===mc&&(m.bumpScale.value*=-1)),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===mc&&m.normalScale.value.negate()),v.specularMap&&(m.specularMap.value=v.specularMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);const g=e.get(v).envMap;if(g&&(m.envMap.value=g,m.flipEnvMap.value=g.isCubeTexture&&g.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=v.reflectivity,m.ior.value=v.ior,m.refractionRatio.value=v.refractionRatio),v.lightMap){m.lightMap.value=v.lightMap;const _=n.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=v.lightMapIntensity*_}v.aoMap&&(m.aoMap.value=v.aoMap,m.aoMapIntensity.value=v.aoMapIntensity);let y;v.map?y=v.map:v.specularMap?y=v.specularMap:v.displacementMap?y=v.displacementMap:v.normalMap?y=v.normalMap:v.bumpMap?y=v.bumpMap:v.roughnessMap?y=v.roughnessMap:v.metalnessMap?y=v.metalnessMap:v.alphaMap?y=v.alphaMap:v.emissiveMap?y=v.emissiveMap:v.clearcoatMap?y=v.clearcoatMap:v.clearcoatNormalMap?y=v.clearcoatNormalMap:v.clearcoatRoughnessMap?y=v.clearcoatRoughnessMap:v.iridescenceMap?y=v.iridescenceMap:v.iridescenceThicknessMap?y=v.iridescenceThicknessMap:v.specularIntensityMap?y=v.specularIntensityMap:v.specularColorMap?y=v.specularColorMap:v.transmissionMap?y=v.transmissionMap:v.thicknessMap?y=v.thicknessMap:v.sheenColorMap?y=v.sheenColorMap:v.sheenRoughnessMap&&(y=v.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix));let b;v.aoMap?b=v.aoMap:v.lightMap&&(b=v.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uv2Transform.value.copy(b.matrix))}function a(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity}function s(m,v){m.dashSize.value=v.dashSize,m.totalSize.value=v.dashSize+v.gapSize,m.scale.value=v.scale}function o(m,v,g,y){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.size.value=v.size*g,m.scale.value=y*.5,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let b;v.map?b=v.map:v.alphaMap&&(b=v.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function l(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.rotation.value=v.rotation,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let g;v.map?g=v.map:v.alphaMap&&(g=v.alphaMap),g!==void 0&&(g.matrixAutoUpdate===!0&&g.updateMatrix(),m.uvTransform.value.copy(g.matrix))}function c(m,v){m.specular.value.copy(v.specular),m.shininess.value=Math.max(v.shininess,1e-4)}function u(m,v){v.gradientMap&&(m.gradientMap.value=v.gradientMap)}function d(m,v){m.roughness.value=v.roughness,m.metalness.value=v.metalness,v.roughnessMap&&(m.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(m.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(m.envMapIntensity.value=v.envMapIntensity)}function f(m,v,g){m.ior.value=v.ior,v.sheen>0&&(m.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),m.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(m.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(m.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(m.clearcoat.value=v.clearcoat,m.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(m.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),m.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===mc&&m.clearcoatNormalScale.value.negate())),v.iridescence>0&&(m.iridescence.value=v.iridescence,m.iridescenceIOR.value=v.iridescenceIOR,m.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(m.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(m.transmission.value=v.transmission,m.transmissionSamplerMap.value=g.texture,m.transmissionSamplerSize.value.set(g.width,g.height),v.transmissionMap&&(m.transmissionMap.value=v.transmissionMap),m.thickness.value=v.thickness,v.thicknessMap&&(m.thicknessMap.value=v.thicknessMap),m.attenuationDistance.value=v.attenuationDistance,m.attenuationColor.value.copy(v.attenuationColor)),m.specularIntensity.value=v.specularIntensity,m.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(m.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(m.specularColorMap.value=v.specularColorMap)}function h(m,v){v.matcap&&(m.matcap.value=v.matcap)}function p(m,v){m.referencePosition.value.copy(v.referencePosition),m.nearDistance.value=v.nearDistance,m.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function UJe(n,e,t,r){let i={},a={},s=[];const o=t.isWebGL2?n.getParameter(35375):0;function l(y,b){const _=b.program;r.uniformBlockBinding(y,_)}function c(y,b){let _=i[y.id];_===void 0&&(p(y),_=u(y),i[y.id]=_,y.addEventListener("dispose",v));const x=b.program;r.updateUBOMapping(y,x);const S=e.render.frame;a[y.id]!==S&&(f(y),a[y.id]=S)}function u(y){const b=d();y.__bindingPointIndex=b;const _=n.createBuffer(),x=y.__size,S=y.usage;return n.bindBuffer(35345,_),n.bufferData(35345,x,S),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,_),_}function d(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=i[y.id],_=y.uniforms,x=y.__cache;n.bindBuffer(35345,b);for(let S=0,T=_.length;S<T;S++){const C=_[S];if(h(C,S,x)===!0){const M=C.value,A=C.__offset;typeof M=="number"?(C.__data[0]=M,n.bufferSubData(35345,A,C.__data)):(C.value.isMatrix3?(C.__data[0]=C.value.elements[0],C.__data[1]=C.value.elements[1],C.__data[2]=C.value.elements[2],C.__data[3]=C.value.elements[0],C.__data[4]=C.value.elements[3],C.__data[5]=C.value.elements[4],C.__data[6]=C.value.elements[5],C.__data[7]=C.value.elements[0],C.__data[8]=C.value.elements[6],C.__data[9]=C.value.elements[7],C.__data[10]=C.value.elements[8],C.__data[11]=C.value.elements[0]):M.toArray(C.__data),n.bufferSubData(35345,A,C.__data))}}n.bindBuffer(35345,null)}function h(y,b,_){const x=y.value;if(_[b]===void 0)return typeof x=="number"?_[b]=x:_[b]=x.clone(),!0;if(typeof x=="number"){if(_[b]!==x)return _[b]=x,!0}else{const S=_[b];if(S.equals(x)===!1)return S.copy(x),!0}return!1}function p(y){const b=y.uniforms;let _=0;const x=16;let S=0;for(let T=0,C=b.length;T<C;T++){const M=b[T],A=m(M);if(M.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=_,T>0){S=_%x;const I=x-S;S!==0&&I-A.boundary<0&&(_+=x-S,M.__offset=_)}_+=A.storage}return S=_%x,S>0&&(_+=x-S),y.__size=_,y.__cache={},this}function m(y){const b=y.value,_={boundary:0,storage:0};return typeof b=="number"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function v(y){const b=y.target;b.removeEventListener("dispose",v);const _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function g(){for(const y in i)n.deleteBuffer(i[y]);s=[],i={},a={}}return{bind:l,update:c,dispose:g}}function HJe(){const n=__("canvas");return n.style.display="block",n}function dre(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:HJe(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,a=n.antialias!==void 0?n.antialias:!1,s=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,o=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,f=null;const h=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ah,this.physicallyCorrectLights=!1,this.toneMapping=td,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const m=this;let v=!1,g=0,y=0,b=null,_=-1,x=null;const S=new ri,T=new ri;let C=null,M=e.width,A=e.height,I=1,D=null,L=null;const F=new ri(0,0,M,A),B=new ri(0,0,M,A);let k=!1;const H=new E8;let z=!1,O=!1,G=null;const X=new Un,J=new Wt,Q=new Xe,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function de(){return b===null?I:1}let le=t;function fe(oe,St){for(let pt=0;pt<oe.length;pt++){const It=oe[pt],et=e.getContext(It,St);if(et!==null)return et}return null}try{const oe={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${_8}`),e.addEventListener("webglcontextlost",he,!1),e.addEventListener("webglcontextrestored",Ae,!1),e.addEventListener("webglcontextcreationerror",ye,!1),le===null){const St=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&St.shift(),le=fe(St,oe),le===null)throw fe(St)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}le.getShaderPrecisionFormat===void 0&&(le.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let Ee,Re,He,$e,K,ce,ie,Ue,De,Ye,ze,Ve,Je,pe,W,Z,ve,Ne,Ke,mt,vt,Me,ht,st;function $(){Ee=new JZe(le),Re=new KZe(le,Ee,n),Ee.init(Re),Me=new LJe(le,Ee,Re),He=new DJe(le,Ee,Re),$e=new nQe,K=new _Je,ce=new kJe(le,Ee,He,K,Re,Me,$e),ie=new XZe(m),Ue=new QZe(m),De=new pXe(le,Re),ht=new WZe(le,Ee,De,Re),Ye=new eQe(le,De,$e,ht),ze=new sQe(le,Ye,De,$e),Ke=new aQe(le,Re,ce),Z=new YZe(K),Ve=new bJe(m,ie,Ue,Ee,Re,ht,Z),Je=new zJe(m,K),pe=new xJe,W=new EJe(Ee,Re),Ne=new GZe(m,ie,He,ze,u,s),ve=new PJe(m,ze,Re),st=new UJe(le,$e,Re,He),mt=new qZe(le,Ee,$e,Re),vt=new tQe(le,Ee,$e,Re),$e.programs=Ve.programs,m.capabilities=Re,m.extensions=Ee,m.properties=K,m.renderLists=pe,m.shadowMap=ve,m.state=He,m.info=$e}$();const ge=new FJe(m,le);this.xr=ge,this.getContext=function(){return le},this.getContextAttributes=function(){return le.getContextAttributes()},this.forceContextLoss=function(){const oe=Ee.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=Ee.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(oe){oe!==void 0&&(I=oe,this.setSize(M,A,!1))},this.getSize=function(oe){return oe.set(M,A)},this.setSize=function(oe,St,pt){if(ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=oe,A=St,e.width=Math.floor(oe*I),e.height=Math.floor(St*I),pt!==!1&&(e.style.width=oe+"px",e.style.height=St+"px"),this.setViewport(0,0,oe,St)},this.getDrawingBufferSize=function(oe){return oe.set(M*I,A*I).floor()},this.setDrawingBufferSize=function(oe,St,pt){M=oe,A=St,I=pt,e.width=Math.floor(oe*pt),e.height=Math.floor(St*pt),this.setViewport(0,0,oe,St)},this.getCurrentViewport=function(oe){return oe.copy(S)},this.getViewport=function(oe){return oe.copy(F)},this.setViewport=function(oe,St,pt,It){oe.isVector4?F.set(oe.x,oe.y,oe.z,oe.w):F.set(oe,St,pt,It),He.viewport(S.copy(F).multiplyScalar(I).floor())},this.getScissor=function(oe){return oe.copy(B)},this.setScissor=function(oe,St,pt,It){oe.isVector4?B.set(oe.x,oe.y,oe.z,oe.w):B.set(oe,St,pt,It),He.scissor(T.copy(B).multiplyScalar(I).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(oe){He.setScissorTest(k=oe)},this.setOpaqueSort=function(oe){D=oe},this.setTransparentSort=function(oe){L=oe},this.getClearColor=function(oe){return oe.copy(Ne.getClearColor())},this.setClearColor=function(){Ne.setClearColor.apply(Ne,arguments)},this.getClearAlpha=function(){return Ne.getClearAlpha()},this.setClearAlpha=function(){Ne.setClearAlpha.apply(Ne,arguments)},this.clear=function(oe=!0,St=!0,pt=!0){let It=0;oe&&(It|=16384),St&&(It|=256),pt&&(It|=1024),le.clear(It)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",he,!1),e.removeEventListener("webglcontextrestored",Ae,!1),e.removeEventListener("webglcontextcreationerror",ye,!1),pe.dispose(),W.dispose(),K.dispose(),ie.dispose(),Ue.dispose(),ze.dispose(),ht.dispose(),st.dispose(),Ve.dispose(),ge.dispose(),ge.removeEventListener("sessionstart",gt),ge.removeEventListener("sessionend",Lt),G&&(G.dispose(),G=null),At.stop()};function he(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Ae(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const oe=$e.autoReset,St=ve.enabled,pt=ve.autoUpdate,It=ve.needsUpdate,et=ve.type;$(),$e.autoReset=oe,ve.enabled=St,ve.autoUpdate=pt,ve.needsUpdate=It,ve.type=et}function ye(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function Se(oe){const St=oe.target;St.removeEventListener("dispose",Se),ft(St)}function ft(oe){Te(oe),K.remove(oe)}function Te(oe){const St=K.get(oe).programs;St!==void 0&&(St.forEach(function(pt){Ve.releaseProgram(pt)}),oe.isShaderMaterial&&Ve.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,St,pt,It,et,xt){St===null&&(St=re);const Kt=et.isMesh&&et.matrixWorld.determinant()<0,yn=ae(oe,St,pt,It,et);He.setMaterial(It,Kt);let On=pt.index;const je=pt.attributes.position;if(On===null){if(je===void 0||je.count===0)return}else if(On.count===0)return;let Xn=1;It.wireframe===!0&&(On=Ye.getWireframeAttribute(pt),Xn=2),ht.setup(et,It,yn,pt,On);let at,Pe=mt;On!==null&&(at=De.get(On),Pe=vt,Pe.setIndex(at));const yt=On!==null?On.count:je.count,Ge=pt.drawRange.start*Xn,lt=pt.drawRange.count*Xn,it=xt!==null?xt.start*Xn:0,Mt=xt!==null?xt.count*Xn:1/0,tn=Math.max(Ge,it),Qt=Math.min(yt,Ge+lt,it+Mt)-1,mn=Math.max(0,Qt-tn+1);if(mn!==0){if(et.isMesh)It.wireframe===!0?(He.setLineWidth(It.wireframeLinewidth*de()),Pe.setMode(1)):Pe.setMode(4);else if(et.isLine){let Gn=It.linewidth;Gn===void 0&&(Gn=1),He.setLineWidth(Gn*de()),et.isLineSegments?Pe.setMode(1):et.isLineLoop?Pe.setMode(2):Pe.setMode(3)}else et.isPoints?Pe.setMode(0):et.isSprite&&Pe.setMode(4);if(et.isInstancedMesh)Pe.renderInstances(tn,mn,et.count);else if(pt.isInstancedBufferGeometry){const Gn=Math.min(pt.instanceCount,pt._maxInstanceCount);Pe.renderInstances(tn,mn,Gn)}else Pe.render(tn,mn)}},this.compile=function(oe,St){f=W.get(oe),f.init(),p.push(f),oe.traverseVisible(function(pt){pt.isLight&&pt.layers.test(St.layers)&&(f.pushLight(pt),pt.castShadow&&f.pushShadow(pt))}),f.setupLights(m.physicallyCorrectLights),oe.traverse(function(pt){const It=pt.material;if(It)if(Array.isArray(It))for(let et=0;et<It.length;et++){const xt=It[et];Zn(xt,oe,pt)}else Zn(It,oe,pt)}),p.pop(),f=null};let _t=null;function nt(oe){_t&&_t(oe)}function gt(){At.stop()}function Lt(){At.start()}const At=new nre;At.setAnimationLoop(nt),typeof self<"u"&&At.setContext(self),this.setAnimationLoop=function(oe){_t=oe,ge.setAnimationLoop(oe),oe===null?At.stop():At.start()},ge.addEventListener("sessionstart",gt),ge.addEventListener("sessionend",Lt),this.render=function(oe,St){if(St!==void 0&&St.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;oe.autoUpdate===!0&&oe.updateMatrixWorld(),St.parent===null&&St.updateMatrixWorld(),ge.enabled===!0&&ge.isPresenting===!0&&(ge.cameraAutoUpdate===!0&&ge.updateCamera(St),St=ge.getCamera()),oe.isScene===!0&&oe.onBeforeRender(m,oe,St,b),f=W.get(oe,p.length),f.init(),p.push(f),X.multiplyMatrices(St.projectionMatrix,St.matrixWorldInverse),H.setFromProjectionMatrix(X),O=this.localClippingEnabled,z=Z.init(this.clippingPlanes,O,St),d=pe.get(oe,h.length),d.init(),h.push(d),an(oe,St,0,m.sortObjects),d.finish(),m.sortObjects===!0&&d.sort(D,L),z===!0&&Z.beginShadows();const pt=f.state.shadowsArray;if(ve.render(pt,oe,St),z===!0&&Z.endShadows(),this.info.autoReset===!0&&this.info.reset(),Ne.render(d,oe),f.setupLights(m.physicallyCorrectLights),St.isArrayCamera){const It=St.cameras;for(let et=0,xt=It.length;et<xt;et++){const Kt=It[et];_n(d,oe,Kt,Kt.viewport)}}else _n(d,oe,St);b!==null&&(ce.updateMultisampleRenderTarget(b),ce.updateRenderTargetMipmap(b)),oe.isScene===!0&&oe.onAfterRender(m,oe,St),ht.resetDefaultState(),_=-1,x=null,p.pop(),p.length>0?f=p[p.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function an(oe,St,pt,It){if(oe.visible===!1)return;if(oe.layers.test(St.layers)){if(oe.isGroup)pt=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(St);else if(oe.isLight)f.pushLight(oe),oe.castShadow&&f.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||H.intersectsSprite(oe)){It&&Q.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(X);const Kt=ze.update(oe),yn=oe.material;yn.visible&&d.push(oe,Kt,yn,pt,Q.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(oe.isSkinnedMesh&&oe.skeleton.frame!==$e.render.frame&&(oe.skeleton.update(),oe.skeleton.frame=$e.render.frame),!oe.frustumCulled||H.intersectsObject(oe))){It&&Q.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(X);const Kt=ze.update(oe),yn=oe.material;if(Array.isArray(yn)){const On=Kt.groups;for(let je=0,Xn=On.length;je<Xn;je++){const at=On[je],Pe=yn[at.materialIndex];Pe&&Pe.visible&&d.push(oe,Kt,Pe,pt,Q.z,at)}}else yn.visible&&d.push(oe,Kt,yn,pt,Q.z,null)}}const xt=oe.children;for(let Kt=0,yn=xt.length;Kt<yn;Kt++)an(xt[Kt],St,pt,It)}function _n(oe,St,pt,It){const et=oe.opaque,xt=oe.transmissive,Kt=oe.transparent;f.setupLightsView(pt),xt.length>0&&lr(et,St,pt),It&&He.viewport(S.copy(It)),et.length>0&&kn(et,St,pt),xt.length>0&&kn(xt,St,pt),Kt.length>0&&kn(Kt,St,pt),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function lr(oe,St,pt){const It=Re.isWebGL2;G===null&&(G=new vm(1,1,{generateMipmaps:!0,type:Ee.has("EXT_color_buffer_half_float")?g_:mm,minFilter:Ad,samples:It&&a===!0?4:0})),m.getDrawingBufferSize(J),It?G.setSize(J.x,J.y):G.setSize(vM(J.x),vM(J.y));const et=m.getRenderTarget();m.setRenderTarget(G),m.clear();const xt=m.toneMapping;m.toneMapping=td,kn(oe,St,pt),m.toneMapping=xt,ce.updateMultisampleRenderTarget(G),ce.updateRenderTargetMipmap(G),m.setRenderTarget(et)}function kn(oe,St,pt){const It=St.isScene===!0?St.overrideMaterial:null;for(let et=0,xt=oe.length;et<xt;et++){const Kt=oe[et],yn=Kt.object,On=Kt.geometry,je=It===null?Kt.material:It,Xn=Kt.group;yn.layers.test(pt.layers)&&Yr(yn,St,pt,On,je,Xn)}}function Yr(oe,St,pt,It,et,xt){oe.onBeforeRender(m,St,pt,It,et,xt),oe.modelViewMatrix.multiplyMatrices(pt.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),et.onBeforeRender(m,St,pt,It,oe,xt),et.transparent===!0&&et.side===ih?(et.side=mc,et.needsUpdate=!0,m.renderBufferDirect(pt,St,It,et,oe,xt),et.side=rh,et.needsUpdate=!0,m.renderBufferDirect(pt,St,It,et,oe,xt),et.side=ih):m.renderBufferDirect(pt,St,It,et,oe,xt),oe.onAfterRender(m,St,pt,It,et,xt)}function Zn(oe,St,pt){St.isScene!==!0&&(St=re);const It=K.get(oe),et=f.state.lights,xt=f.state.shadowsArray,Kt=et.state.version,yn=Ve.getParameters(oe,et.state,xt,St,pt),On=Ve.getProgramCacheKey(yn);let je=It.programs;It.environment=oe.isMeshStandardMaterial?St.environment:null,It.fog=St.fog,It.envMap=(oe.isMeshStandardMaterial?Ue:ie).get(oe.envMap||It.environment),je===void 0&&(oe.addEventListener("dispose",Se),je=new Map,It.programs=je);let Xn=je.get(On);if(Xn!==void 0){if(It.currentProgram===Xn&&It.lightsStateVersion===Kt)return Y(oe,yn),Xn}else yn.uniforms=Ve.getUniforms(oe),oe.onBuild(pt,yn,m),oe.onBeforeCompile(yn,m),Xn=Ve.acquireProgram(yn,On),je.set(On,Xn),It.uniforms=yn.uniforms;const at=It.uniforms;(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(at.clippingPlanes=Z.uniform),Y(oe,yn),It.needsLights=Ce(oe),It.lightsStateVersion=Kt,It.needsLights&&(at.ambientLightColor.value=et.state.ambient,at.lightProbe.value=et.state.probe,at.directionalLights.value=et.state.directional,at.directionalLightShadows.value=et.state.directionalShadow,at.spotLights.value=et.state.spot,at.spotLightShadows.value=et.state.spotShadow,at.rectAreaLights.value=et.state.rectArea,at.ltc_1.value=et.state.rectAreaLTC1,at.ltc_2.value=et.state.rectAreaLTC2,at.pointLights.value=et.state.point,at.pointLightShadows.value=et.state.pointShadow,at.hemisphereLights.value=et.state.hemi,at.directionalShadowMap.value=et.state.directionalShadowMap,at.directionalShadowMatrix.value=et.state.directionalShadowMatrix,at.spotShadowMap.value=et.state.spotShadowMap,at.spotShadowMatrix.value=et.state.spotShadowMatrix,at.pointShadowMap.value=et.state.pointShadowMap,at.pointShadowMatrix.value=et.state.pointShadowMatrix);const Pe=Xn.getUniforms(),yt=j2.seqWithValue(Pe.seq,at);return It.currentProgram=Xn,It.uniformsList=yt,Xn}function Y(oe,St){const pt=K.get(oe);pt.outputEncoding=St.outputEncoding,pt.instancing=St.instancing,pt.skinning=St.skinning,pt.morphTargets=St.morphTargets,pt.morphNormals=St.morphNormals,pt.morphColors=St.morphColors,pt.morphTargetsCount=St.morphTargetsCount,pt.numClippingPlanes=St.numClippingPlanes,pt.numIntersection=St.numClipIntersection,pt.vertexAlphas=St.vertexAlphas,pt.vertexTangents=St.vertexTangents,pt.toneMapping=St.toneMapping}function ae(oe,St,pt,It,et){St.isScene!==!0&&(St=re),ce.resetTextureUnits();const xt=St.fog,Kt=It.isMeshStandardMaterial?St.environment:null,yn=b===null?m.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:ah,On=(It.isMeshStandardMaterial?Ue:ie).get(It.envMap||Kt),je=It.vertexColors===!0&&!!pt.attributes.color&&pt.attributes.color.itemSize===4,Xn=!!It.normalMap&&!!pt.attributes.tangent,at=!!pt.morphAttributes.position,Pe=!!pt.morphAttributes.normal,yt=!!pt.morphAttributes.color,Ge=It.toneMapped?m.toneMapping:td,lt=pt.morphAttributes.position||pt.morphAttributes.normal||pt.morphAttributes.color,it=lt!==void 0?lt.length:0,Mt=K.get(It),tn=f.state.lights;if(z===!0&&(O===!0||oe!==x)){const vr=oe===x&&It.id===_;Z.setState(It,oe,vr)}let Qt=!1;It.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==tn.state.version||Mt.outputEncoding!==yn||et.isInstancedMesh&&Mt.instancing===!1||!et.isInstancedMesh&&Mt.instancing===!0||et.isSkinnedMesh&&Mt.skinning===!1||!et.isSkinnedMesh&&Mt.skinning===!0||Mt.envMap!==On||It.fog===!0&&Mt.fog!==xt||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==Z.numPlanes||Mt.numIntersection!==Z.numIntersection)||Mt.vertexAlphas!==je||Mt.vertexTangents!==Xn||Mt.morphTargets!==at||Mt.morphNormals!==Pe||Mt.morphColors!==yt||Mt.toneMapping!==Ge||Re.isWebGL2===!0&&Mt.morphTargetsCount!==it)&&(Qt=!0):(Qt=!0,Mt.__version=It.version);let mn=Mt.currentProgram;Qt===!0&&(mn=Zn(It,St,et));let Gn=!1,rn=!1,Cn=!1;const An=mn.getUniforms(),ir=Mt.uniforms;if(He.useProgram(mn.program)&&(Gn=!0,rn=!0,Cn=!0),It.id!==_&&(_=It.id,rn=!0),Gn||x!==oe){if(An.setValue(le,"projectionMatrix",oe.projectionMatrix),Re.logarithmicDepthBuffer&&An.setValue(le,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),x!==oe&&(x=oe,rn=!0,Cn=!0),It.isShaderMaterial||It.isMeshPhongMaterial||It.isMeshToonMaterial||It.isMeshStandardMaterial||It.envMap){const vr=An.map.cameraPosition;vr!==void 0&&vr.setValue(le,Q.setFromMatrixPosition(oe.matrixWorld))}(It.isMeshPhongMaterial||It.isMeshToonMaterial||It.isMeshLambertMaterial||It.isMeshBasicMaterial||It.isMeshStandardMaterial||It.isShaderMaterial)&&An.setValue(le,"isOrthographic",oe.isOrthographicCamera===!0),(It.isMeshPhongMaterial||It.isMeshToonMaterial||It.isMeshLambertMaterial||It.isMeshBasicMaterial||It.isMeshStandardMaterial||It.isShaderMaterial||It.isShadowMaterial||et.isSkinnedMesh)&&An.setValue(le,"viewMatrix",oe.matrixWorldInverse)}if(et.isSkinnedMesh){An.setOptional(le,et,"bindMatrix"),An.setOptional(le,et,"bindMatrixInverse");const vr=et.skeleton;vr&&(Re.floatVertexTextures?(vr.boneTexture===null&&vr.computeBoneTexture(),An.setValue(le,"boneTexture",vr.boneTexture,ce),An.setValue(le,"boneTextureSize",vr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Wr=pt.morphAttributes;if((Wr.position!==void 0||Wr.normal!==void 0||Wr.color!==void 0&&Re.isWebGL2===!0)&&Ke.update(et,pt,It,mn),(rn||Mt.receiveShadow!==et.receiveShadow)&&(Mt.receiveShadow=et.receiveShadow,An.setValue(le,"receiveShadow",et.receiveShadow)),rn&&(An.setValue(le,"toneMappingExposure",m.toneMappingExposure),Mt.needsLights&&Ut(ir,Cn),xt&&It.fog===!0&&Je.refreshFogUniforms(ir,xt),Je.refreshMaterialUniforms(ir,It,I,A,G),j2.upload(le,Mt.uniformsList,ir,ce)),It.isShaderMaterial&&It.uniformsNeedUpdate===!0&&(j2.upload(le,Mt.uniformsList,ir,ce),It.uniformsNeedUpdate=!1),It.isSpriteMaterial&&An.setValue(le,"center",et.center),An.setValue(le,"modelViewMatrix",et.modelViewMatrix),An.setValue(le,"normalMatrix",et.normalMatrix),An.setValue(le,"modelMatrix",et.matrixWorld),It.isShaderMaterial||It.isRawShaderMaterial){const vr=It.uniformsGroups;for(let gr=0,Wn=vr.length;gr<Wn;gr++)if(Re.isWebGL2){const Ci=vr[gr];st.update(Ci,mn),st.bind(Ci,mn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return mn}function Ut(oe,St){oe.ambientLightColor.needsUpdate=St,oe.lightProbe.needsUpdate=St,oe.directionalLights.needsUpdate=St,oe.directionalLightShadows.needsUpdate=St,oe.pointLights.needsUpdate=St,oe.pointLightShadows.needsUpdate=St,oe.spotLights.needsUpdate=St,oe.spotLightShadows.needsUpdate=St,oe.rectAreaLights.needsUpdate=St,oe.hemisphereLights.needsUpdate=St}function Ce(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(oe,St,pt){K.get(oe.texture).__webglTexture=St,K.get(oe.depthTexture).__webglTexture=pt;const It=K.get(oe);It.__hasExternalTextures=!0,It.__hasExternalTextures&&(It.__autoAllocateDepthBuffer=pt===void 0,It.__autoAllocateDepthBuffer||Ee.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),It.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(oe,St){const pt=K.get(oe);pt.__webglFramebuffer=St,pt.__useDefaultFramebuffer=St===void 0},this.setRenderTarget=function(oe,St=0,pt=0){b=oe,g=St,y=pt;let It=!0;if(oe){const On=K.get(oe);On.__useDefaultFramebuffer!==void 0?(He.bindFramebuffer(36160,null),It=!1):On.__webglFramebuffer===void 0?ce.setupRenderTarget(oe):On.__hasExternalTextures&&ce.rebindTextures(oe,K.get(oe.texture).__webglTexture,K.get(oe.depthTexture).__webglTexture)}let et=null,xt=!1,Kt=!1;if(oe){const On=oe.texture;(On.isData3DTexture||On.isDataArrayTexture)&&(Kt=!0);const je=K.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(et=je[St],xt=!0):Re.isWebGL2&&oe.samples>0&&ce.useMultisampledRTT(oe)===!1?et=K.get(oe).__webglMultisampledFramebuffer:et=je,S.copy(oe.viewport),T.copy(oe.scissor),C=oe.scissorTest}else S.copy(F).multiplyScalar(I).floor(),T.copy(B).multiplyScalar(I).floor(),C=k;if(He.bindFramebuffer(36160,et)&&Re.drawBuffers&&It&&He.drawBuffers(oe,et),He.viewport(S),He.scissor(T),He.setScissorTest(C),xt){const On=K.get(oe.texture);le.framebufferTexture2D(36160,36064,34069+St,On.__webglTexture,pt)}else if(Kt){const On=K.get(oe.texture),je=St||0;le.framebufferTextureLayer(36160,36064,On.__webglTexture,pt||0,je)}_=-1},this.readRenderTargetPixels=function(oe,St,pt,It,et,xt,Kt){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yn=K.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Kt!==void 0&&(yn=yn[Kt]),yn){He.bindFramebuffer(36160,yn);try{const On=oe.texture,je=On.format,Xn=On.type;if(je!==yl&&Me.convert(je)!==le.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const at=Xn===g_&&(Ee.has("EXT_color_buffer_half_float")||Re.isWebGL2&&Ee.has("EXT_color_buffer_float"));if(Xn!==mm&&Me.convert(Xn)!==le.getParameter(35738)&&!(Xn===Mf&&(Re.isWebGL2||Ee.has("OES_texture_float")||Ee.has("WEBGL_color_buffer_float")))&&!at){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}St>=0&&St<=oe.width-It&&pt>=0&&pt<=oe.height-et&&le.readPixels(St,pt,It,et,Me.convert(je),Me.convert(Xn),xt)}finally{const On=b!==null?K.get(b).__webglFramebuffer:null;He.bindFramebuffer(36160,On)}}},this.copyFramebufferToTexture=function(oe,St,pt=0){const It=Math.pow(2,-pt),et=Math.floor(St.image.width*It),xt=Math.floor(St.image.height*It);ce.setTexture2D(St,0),le.copyTexSubImage2D(3553,pt,0,0,oe.x,oe.y,et,xt),He.unbindTexture()},this.copyTextureToTexture=function(oe,St,pt,It=0){const et=St.image.width,xt=St.image.height,Kt=Me.convert(pt.format),yn=Me.convert(pt.type);ce.setTexture2D(pt,0),le.pixelStorei(37440,pt.flipY),le.pixelStorei(37441,pt.premultiplyAlpha),le.pixelStorei(3317,pt.unpackAlignment),St.isDataTexture?le.texSubImage2D(3553,It,oe.x,oe.y,et,xt,Kt,yn,St.image.data):St.isCompressedTexture?le.compressedTexSubImage2D(3553,It,oe.x,oe.y,St.mipmaps[0].width,St.mipmaps[0].height,Kt,St.mipmaps[0].data):le.texSubImage2D(3553,It,oe.x,oe.y,Kt,yn,St.image),It===0&&pt.generateMipmaps&&le.generateMipmap(3553),He.unbindTexture()},this.copyTextureToTexture3D=function(oe,St,pt,It,et=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const xt=oe.max.x-oe.min.x+1,Kt=oe.max.y-oe.min.y+1,yn=oe.max.z-oe.min.z+1,On=Me.convert(It.format),je=Me.convert(It.type);let Xn;if(It.isData3DTexture)ce.setTexture3D(It,0),Xn=32879;else if(It.isDataArrayTexture)ce.setTexture2DArray(It,0),Xn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}le.pixelStorei(37440,It.flipY),le.pixelStorei(37441,It.premultiplyAlpha),le.pixelStorei(3317,It.unpackAlignment);const at=le.getParameter(3314),Pe=le.getParameter(32878),yt=le.getParameter(3316),Ge=le.getParameter(3315),lt=le.getParameter(32877),it=pt.isCompressedTexture?pt.mipmaps[0]:pt.image;le.pixelStorei(3314,it.width),le.pixelStorei(32878,it.height),le.pixelStorei(3316,oe.min.x),le.pixelStorei(3315,oe.min.y),le.pixelStorei(32877,oe.min.z),pt.isDataTexture||pt.isData3DTexture?le.texSubImage3D(Xn,et,St.x,St.y,St.z,xt,Kt,yn,On,je,it.data):pt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),le.compressedTexSubImage3D(Xn,et,St.x,St.y,St.z,xt,Kt,yn,On,it.data)):le.texSubImage3D(Xn,et,St.x,St.y,St.z,xt,Kt,yn,On,je,it),le.pixelStorei(3314,at),le.pixelStorei(32878,Pe),le.pixelStorei(3316,yt),le.pixelStorei(3315,Ge),le.pixelStorei(32877,lt),et===0&&It.generateMipmaps&&le.generateMipmap(Xn),He.unbindTexture()},this.initTexture=function(oe){oe.isCubeTexture?ce.setTextureCube(oe,0):oe.isData3DTexture?ce.setTexture3D(oe,0):oe.isDataArrayTexture?ce.setTexture2DArray(oe,0):ce.setTexture2D(oe,0),He.unbindTexture()},this.resetState=function(){g=0,y=0,b=null,He.reset(),ht.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class VJe extends dre{}VJe.prototype.isWebGL1Renderer=!0;class R8{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new bn(e),this.density=t}clone(){return new R8(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class P8{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new bn(e),this.near=t,this.far=r}clone(){return new P8(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let D8=class extends Gi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};class k8{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=RP,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Cl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Cl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Is=new Xe;class gm{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Is.fromBufferAttribute(this,t),Is.applyMatrix4(e),this.setXYZ(t,Is.x,Is.y,Is.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Is.fromBufferAttribute(this,t),Is.applyNormalMatrix(e),this.setXYZ(t,Is.x,Is.y,Is.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Is.fromBufferAttribute(this,t),Is.transformDirection(e),this.setXYZ(t,Is.x,Is.y,Is.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Qi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new gm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class L8 extends va{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let M0;const a1=new Xe,T0=new Xe,A0=new Xe,E0=new Wt,s1=new Wt,fre=new Un,pS=new Xe,o1=new Xe,mS=new Xe,M$=new Wt,K4=new Wt,T$=new Wt;class Z2 extends Gi{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",M0===void 0){M0=new Hr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new k8(t,5);M0.setIndex([0,1,2,0,2,3]),M0.setAttribute("position",new gm(r,3,0,!1)),M0.setAttribute("uv",new gm(r,2,3,!1))}this.geometry=M0,this.material=e!==void 0?e:new L8,this.center=new Wt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),T0.setFromMatrixScale(this.matrixWorld),fre.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),A0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&T0.multiplyScalar(-A0.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;vS(pS.set(-.5,-.5,0),A0,s,T0,i,a),vS(o1.set(.5,-.5,0),A0,s,T0,i,a),vS(mS.set(.5,.5,0),A0,s,T0,i,a),M$.set(0,0),K4.set(1,0),T$.set(1,1);let o=e.ray.intersectTriangle(pS,o1,mS,!1,a1);if(o===null&&(vS(o1.set(-.5,.5,0),A0,s,T0,i,a),K4.set(0,1),o=e.ray.intersectTriangle(pS,mS,o1,!1,a1),o===null))return;const l=e.ray.origin.distanceTo(a1);l<e.near||l>e.far||t.push({distance:l,point:a1.clone(),uv:ob.getUV(a1,pS,o1,mS,M$,K4,T$,new Wt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vS(n,e,t,r,i,a){E0.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(s1.x=a*E0.x-i*E0.y,s1.y=i*E0.x+a*E0.y):s1.copy(E0),n.copy(e),n.x+=s1.x,n.y+=s1.y,n.applyMatrix4(fre)}const gS=new Xe,A$=new Xe;class $Je extends Gi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){gS.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(gS);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){gS.setFromMatrixPosition(e.matrixWorld),A$.setFromMatrixPosition(this.matrixWorld);const r=gS.distanceTo(A$)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}const E$=new Xe,I$=new ri,R$=new ri,GJe=new Xe,P$=new Un;class mA extends Ca{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Un,this.bindMatrixInverse=new Un}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ri,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;I$.fromBufferAttribute(i.attributes.skinIndex,e),R$.fromBufferAttribute(i.attributes.skinWeight,e),E$.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=R$.getComponent(a);if(s!==0){const o=I$.getComponent(a);P$.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(GJe.copy(E$).applyMatrix4(P$),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class wg extends Gi{constructor(){super(),this.isBone=!0,this.type="Bone"}}let lb=class extends rs{constructor(e=null,t=1,r=1,i,a,s,o,l,c=La,u=La,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};const D$=new Un,WJe=new Un;class ry{constructor(e=[],t=[]){this.uuid=Cl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Un)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Un;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:WJe;D$.multiplyMatrices(o,t[a]),D$.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new ry(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Vne(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new lb(t,e,e,yl,Mf);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new wg),this.bones.push(s),this.boneInverses.push(new Un().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}let x_=class extends Qi{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};const k$=new Un,L$=new Un,yS=[],l1=new Ca;class qJe extends Ca{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new x_(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(l1.geometry=this.geometry,l1.material=this.material,l1.material!==void 0)for(let a=0;a<i;a++){this.getMatrixAt(a,k$),L$.multiplyMatrices(r,k$),l1.matrixWorld=L$,l1.raycast(e,yS);for(let s=0,o=yS.length;s<o;s++){const l=yS[s];l.instanceId=a,l.object=this,t.push(l)}yS.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new x_(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class vc extends va{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const N$=new Xe,O$=new Xe,B$=new Un,Y4=new hA,bS=new km;class iy extends Gi{constructor(e=new Hr,t=new vc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)N$.fromBufferAttribute(t,i-1),O$.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=N$.distanceTo(O$);e.setAttribute("lineDistance",new En(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),bS.copy(r.boundingSphere),bS.applyMatrix4(i),bS.radius+=a,e.ray.intersectsSphere(bS)===!1)return;B$.copy(i).invert(),Y4.copy(e.ray).applyMatrix4(B$);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new Xe,u=new Xe,d=new Xe,f=new Xe,h=this.isLineSegments?2:1,p=r.index,v=r.attributes.position;if(p!==null){const g=Math.max(0,s.start),y=Math.min(p.count,s.start+s.count);for(let b=g,_=y-1;b<_;b+=h){const x=p.getX(b),S=p.getX(b+1);if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,S),Y4.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(f);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,s.start),y=Math.min(v.count,s.start+s.count);for(let b=g,_=y-1;b<_;b+=h){if(c.fromBufferAttribute(v,b),u.fromBufferAttribute(v,b+1),Y4.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(f);S<e.near||S>e.far||t.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}const F$=new Xe,z$=new Xe;class ym extends iy{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)F$.fromBufferAttribute(t,i),z$.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+F$.distanceTo(z$);e.setAttribute("lineDistance",new En(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class hre extends iy{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Np extends va{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const U$=new Un,FP=new hA,_S=new km,wS=new Xe;class cb extends Gi{constructor(e=new Hr,t=new Np){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_S.copy(r.boundingSphere),_S.applyMatrix4(i),_S.radius+=a,e.ray.intersectsSphere(_S)===!1)return;U$.copy(i).invert(),FP.copy(e.ray).applyMatrix4(U$);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,s.start),h=Math.min(c.count,s.start+s.count);for(let p=f,m=h;p<m;p++){const v=c.getX(p);wS.fromBufferAttribute(d,v),H$(wS,v,l,i,e,t,this)}}else{const f=Math.max(0,s.start),h=Math.min(d.count,s.start+s.count);for(let p=f,m=h;p<m;p++)wS.fromBufferAttribute(d,p),H$(wS,p,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function H$(n,e,t,r,i,a,s){const o=FP.distanceSqToPoint(n);if(o<t){const l=new Xe;FP.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:s})}}class KJe extends rs{constructor(e,t,r,i,a,s,o,l,c,u,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Tc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const a=r.length;let s;t?s=t:s=e*r[a-1];let o=0,l=a-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-s,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const u=r[i],f=r[i+1]-u,h=(s-u)/f;return(i+h)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=t||(s.isVector2?new Wt:new Xe);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Xe,i=[],a=[],s=[],o=new Xe,l=new Un;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new Xe)}a[0]=new Xe,s[0]=new Xe;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),s[h]=s[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(wa(i[h-1].dot(i[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(o,p))}s[h].crossVectors(i[h],a[h])}if(t===!0){let h=Math.acos(wa(a[0].dot(a[e]),-1,1));h/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(h=-h);for(let p=1;p<=e;p++)a[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),s[p].crossVectors(i[p],a[p])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class N8 extends Tc{constructor(e=0,t=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t){const r=t||new Wt,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class YJe extends N8{constructor(e,t,r,i,a,s){super(e,t,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function O8(){let n=0,e=0,t=0,r=0;function i(a,s,o,l){n=a,e=o,t=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){i(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,u,d){let f=(s-a)/c-(o-a)/(c+u)+(o-s)/u,h=(o-s)/u-(l-s)/(u+d)+(l-o)/d;f*=u,h*=u,i(s,o,f,h)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+r*o}}}const xS=new Xe,X4=new O8,j4=new O8,Z4=new O8;class XJe extends Tc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Xe){const r=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%a]:(xS.subVectors(i[0],i[1]).add(i[0]),c=xS);const d=i[o%a],f=i[(o+1)%a];if(this.closed||o+2<a?u=i[(o+2)%a]:(xS.subVectors(i[a-1],i[a-2]).add(i[a-1]),u=xS),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(u),h);m<1e-4&&(m=1),p<1e-4&&(p=m),v<1e-4&&(v=m),X4.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,p,m,v),j4.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,p,m,v),Z4.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,p,m,v)}else this.curveType==="catmullrom"&&(X4.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),j4.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),Z4.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(X4.calc(l),j4.calc(l),Z4.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Xe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function V$(n,e,t,r,i){const a=(r-e)*.5,s=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+a+s)*l+(-3*t+3*r-2*a-s)*o+a*n+t}function jJe(n,e){const t=1-n;return t*t*e}function ZJe(n,e){return 2*(1-n)*n*e}function QJe(n,e){return n*n*e}function ub(n,e,t,r){return jJe(n,e)+ZJe(n,t)+QJe(n,r)}function JJe(n,e){const t=1-n;return t*t*t*e}function eet(n,e){const t=1-n;return 3*t*t*n*e}function tet(n,e){return 3*(1-n)*n*n*e}function net(n,e){return n*n*n*e}function db(n,e,t,r,i){return JJe(n,e)+eet(n,t)+tet(n,r)+net(n,i)}class pre extends Tc{constructor(e=new Wt,t=new Wt,r=new Wt,i=new Wt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Wt){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(db(e,i.x,a.x,s.x,o.x),db(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ret extends Tc{constructor(e=new Xe,t=new Xe,r=new Xe,i=new Xe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Xe){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(db(e,i.x,a.x,s.x,o.x),db(e,i.y,a.y,s.y,o.y),db(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class B8 extends Tc{constructor(e=new Wt,t=new Wt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Wt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Wt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iet extends Tc{constructor(e=new Xe,t=new Xe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Xe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mre extends Tc{constructor(e=new Wt,t=new Wt,r=new Wt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Wt){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(ub(e,i.x,a.x,s.x),ub(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vre extends Tc{constructor(e=new Xe,t=new Xe,r=new Xe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Xe){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(ub(e,i.x,a.x,s.x),ub(e,i.y,a.y,s.y),ub(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gre extends Tc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Wt){const r=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(V$(o,l.x,c.x,u.x,d.x),V$(o,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Wt().fromArray(i))}return this}}var F8=Object.freeze({__proto__:null,ArcCurve:YJe,CatmullRomCurve3:XJe,CubicBezierCurve:pre,CubicBezierCurve3:ret,EllipseCurve:N8,LineCurve:B8,LineCurve3:iet,QuadraticBezierCurve:mre,QuadraticBezierCurve3:vre,SplineCurve:gre});class aet extends Tc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new B8(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new F8[i.type]().fromJSON(i))}return this}}class zP extends aet{constructor(e){super(),this.type="Path",this.currentPoint=new Wt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new B8(this.currentPoint.clone(),new Wt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new mre(this.currentPoint.clone(),new Wt(e,t),new Wt(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,s){const o=new pre(this.currentPoint.clone(),new Wt(e,t),new Wt(r,i),new Wt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new gre(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,a,s),this}absarc(e,t,r,i,a,s){return this.absellipse(e,t,r,r,i,a,s),this}ellipse(e,t,r,i,a,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,a,s,o,l),this}absellipse(e,t,r,i,a,s,o,l){const c=new N8(e,t,r,i,a,s,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class S_ extends Hr{constructor(e=[new Wt(0,-.5),new Wt(.5,0),new Wt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=wa(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],u=1/t,d=new Xe,f=new Wt,h=new Xe,p=new Xe,m=new Xe;let v=0,g=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:v=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,h.x=g*1,h.y=-v,h.z=g*0,m.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(m.x,m.y,m.z);break;default:v=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,h.x=g*1,h.y=-v,h.z=g*0,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),l.push(h.x,h.y,h.z),m.copy(p)}for(let y=0;y<=t;y++){const b=r+y*u*i,_=Math.sin(b),x=Math.cos(b);for(let S=0;S<=e.length-1;S++){d.x=e[S].x*_,d.y=e[S].y,d.z=e[S].x*x,s.push(d.x,d.y,d.z),f.x=y/t,f.y=S/(e.length-1),o.push(f.x,f.y);const T=l[3*S+0]*_,C=l[3*S+1],M=l[3*S+0]*x;c.push(T,C,M)}}for(let y=0;y<t;y++)for(let b=0;b<e.length-1;b++){const _=b+y*e.length,x=_,S=_+e.length,T=_+e.length+1,C=_+1;a.push(x,S,C),a.push(T,C,S)}this.setIndex(a),this.setAttribute("position",new En(s,3)),this.setAttribute("uv",new En(o,2)),this.setAttribute("normal",new En(c,3))}static fromJSON(e){return new S_(e.points,e.segments,e.phiStart,e.phiLength)}}class gM extends S_{constructor(e=1,t=1,r=4,i=8){const a=new zP;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new gM(e.radius,e.length,e.capSegments,e.radialSegments)}}class yM extends Hr{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],l=[],c=new Xe,u=new Wt;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=t;d++,f+=3){const h=r+d/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[f]/e+1)/2,u.y=(s[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new En(s,3)),this.setAttribute("normal",new En(o,3)),this.setAttribute("uv",new En(l,2))}static fromJSON(e){return new yM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}let UP=class yre extends Hr{constructor(e=1,t=1,r=1,i=8,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],d=[],f=[],h=[];let p=0;const m=[],v=r/2;let g=0;y(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new En(d,3)),this.setAttribute("normal",new En(f,3)),this.setAttribute("uv",new En(h,2));function y(){const _=new Xe,x=new Xe;let S=0;const T=(t-e)/r;for(let C=0;C<=a;C++){const M=[],A=C/a,I=A*(t-e)+e;for(let D=0;D<=i;D++){const L=D/i,F=L*l+o,B=Math.sin(F),k=Math.cos(F);x.x=I*B,x.y=-A*r+v,x.z=I*k,d.push(x.x,x.y,x.z),_.set(B,T,k).normalize(),f.push(_.x,_.y,_.z),h.push(L,1-A),M.push(p++)}m.push(M)}for(let C=0;C<i;C++)for(let M=0;M<a;M++){const A=m[M][C],I=m[M+1][C],D=m[M+1][C+1],L=m[M][C+1];u.push(A,I,L),u.push(I,D,L),S+=6}c.addGroup(g,S,0),g+=S}function b(_){const x=p,S=new Wt,T=new Xe;let C=0;const M=_===!0?e:t,A=_===!0?1:-1;for(let D=1;D<=i;D++)d.push(0,v*A,0),f.push(0,A,0),h.push(.5,.5),p++;const I=p;for(let D=0;D<=i;D++){const F=D/i*l+o,B=Math.cos(F),k=Math.sin(F);T.x=M*k,T.y=v*A,T.z=M*B,d.push(T.x,T.y,T.z),f.push(0,A,0),S.x=B*.5+.5,S.y=k*.5*A+.5,h.push(S.x,S.y),p++}for(let D=0;D<i;D++){const L=x+D,F=I+D;_===!0?u.push(F,F+1,L):u.push(F+1,F,L),C+=3}c.addGroup(g,C,_===!0?1:2),g+=C}}static fromJSON(e){return new yre(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},$$=class bre extends UP{constructor(e=1,t=1,r=8,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new bre(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}};class sh extends Hr{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],s=[];o(i),c(r),u(),this.setAttribute("position",new En(a,3)),this.setAttribute("normal",new En(a.slice(),3)),this.setAttribute("uv",new En(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(y){const b=new Xe,_=new Xe,x=new Xe;for(let S=0;S<t.length;S+=3)h(t[S+0],b),h(t[S+1],_),h(t[S+2],x),l(b,_,x,y)}function l(y,b,_,x){const S=x+1,T=[];for(let C=0;C<=S;C++){T[C]=[];const M=y.clone().lerp(_,C/S),A=b.clone().lerp(_,C/S),I=S-C;for(let D=0;D<=I;D++)D===0&&C===S?T[C][D]=M:T[C][D]=M.clone().lerp(A,D/I)}for(let C=0;C<S;C++)for(let M=0;M<2*(S-C)-1;M++){const A=Math.floor(M/2);M%2===0?(f(T[C][A+1]),f(T[C+1][A]),f(T[C][A])):(f(T[C][A+1]),f(T[C+1][A+1]),f(T[C+1][A]))}}function c(y){const b=new Xe;for(let _=0;_<a.length;_+=3)b.x=a[_+0],b.y=a[_+1],b.z=a[_+2],b.normalize().multiplyScalar(y),a[_+0]=b.x,a[_+1]=b.y,a[_+2]=b.z}function u(){const y=new Xe;for(let b=0;b<a.length;b+=3){y.x=a[b+0],y.y=a[b+1],y.z=a[b+2];const _=v(y)/2/Math.PI+.5,x=g(y)/Math.PI+.5;s.push(_,1-x)}p(),d()}function d(){for(let y=0;y<s.length;y+=6){const b=s[y+0],_=s[y+2],x=s[y+4],S=Math.max(b,_,x),T=Math.min(b,_,x);S>.9&&T<.1&&(b<.2&&(s[y+0]+=1),_<.2&&(s[y+2]+=1),x<.2&&(s[y+4]+=1))}}function f(y){a.push(y.x,y.y,y.z)}function h(y,b){const _=y*3;b.x=e[_+0],b.y=e[_+1],b.z=e[_+2]}function p(){const y=new Xe,b=new Xe,_=new Xe,x=new Xe,S=new Wt,T=new Wt,C=new Wt;for(let M=0,A=0;M<a.length;M+=9,A+=6){y.set(a[M+0],a[M+1],a[M+2]),b.set(a[M+3],a[M+4],a[M+5]),_.set(a[M+6],a[M+7],a[M+8]),S.set(s[A+0],s[A+1]),T.set(s[A+2],s[A+3]),C.set(s[A+4],s[A+5]),x.copy(y).add(b).add(_).divideScalar(3);const I=v(x);m(S,A+0,y,I),m(T,A+2,b,I),m(C,A+4,_,I)}}function m(y,b,_,x){x<0&&y.x===1&&(s[b]=y.x-1),_.x===0&&_.z===0&&(s[b]=x/2/Math.PI+.5)}function v(y){return Math.atan2(y.z,-y.x)}function g(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}static fromJSON(e){return new sh(e.vertices,e.indices,e.radius,e.details)}}class bM extends sh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bM(e.radius,e.detail)}}const SS=new Xe,CS=new Xe,Q4=new Xe,MS=new ob;class set extends Hr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Hv*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let p=0;p<l;p+=3){s?(c[0]=s.getX(p),c[1]=s.getX(p+1),c[2]=s.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:m,b:v,c:g}=MS;if(m.fromBufferAttribute(o,c[0]),v.fromBufferAttribute(o,c[1]),g.fromBufferAttribute(o,c[2]),MS.getNormal(Q4),d[0]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const b=(y+1)%3,_=d[y],x=d[b],S=MS[u[y]],T=MS[u[b]],C=`${_}_${x}`,M=`${x}_${_}`;M in f&&f[M]?(Q4.dot(f[M].normal)<=a&&(h.push(S.x,S.y,S.z),h.push(T.x,T.y,T.z)),f[M]=null):C in f||(f[C]={index0:c[y],index1:c[b],normal:Q4.clone()})}}for(const p in f)if(f[p]){const{index0:m,index1:v}=f[p];SS.fromBufferAttribute(o,m),CS.fromBufferAttribute(o,v),h.push(SS.x,SS.y,SS.z),h.push(CS.x,CS.y,CS.z)}this.setAttribute("position",new En(h,3))}}}class z8 extends zP{constructor(e){super(e),this.uuid=Cl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new zP().fromJSON(i))}return this}}const oet={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=_re(n,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c,u,d,f,h;if(r&&(a=het(n,e,a,t)),n.length>80*t){o=c=n[0],l=u=n[1];for(let p=t;p<i;p+=t)d=n[p],f=n[p+1],d<o&&(o=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-o,u-l),h=h!==0?1/h:0}return C_(a,s,t,o,l,h),s}};function _re(n,e,t,r,i){let a,s;if(i===Met(n,e,t,r)>0)for(a=e;a<t;a+=r)s=G$(a,n[a],n[a+1],s);else for(a=t-r;a>=e;a-=r)s=G$(a,n[a],n[a+1],s);return s&&vA(s,s.next)&&(T_(s),s=s.next),s}function oh(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(vA(t,t.next)||Ki(t.prev,t,t.next)===0)){if(T_(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function C_(n,e,t,r,i,a,s){if(!n)return;!s&&a&&yet(n,r,i,a);let o=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,a?uet(n,r,i,a):cet(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),T_(n),n=c.next,o=c.next;continue}if(n=c,n===o){s?s===1?(n=det(oh(n),e,t),C_(n,e,t,r,i,a,2)):s===2&&fet(n,e,t,r,i,a):C_(oh(n),e,t,r,i,a,1);break}}}function cet(n){const e=n.prev,t=n,r=n.next;if(Ki(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(wv(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Ki(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function uet(n,e,t,r){const i=n.prev,a=n,s=n.next;if(Ki(i,a,s)>=0)return!1;const o=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,l=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,c=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,u=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,d=HP(o,l,e,t,r),f=HP(c,u,e,t,r);let h=n.prevZ,p=n.nextZ;for(;h&&h.z>=d&&p&&p.z<=f;){if(h!==n.prev&&h!==n.next&&wv(i.x,i.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Ki(h.prev,h,h.next)>=0||(h=h.prevZ,p!==n.prev&&p!==n.next&&wv(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Ki(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;h&&h.z>=d;){if(h!==n.prev&&h!==n.next&&wv(i.x,i.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Ki(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=f;){if(p!==n.prev&&p!==n.next&&wv(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Ki(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function det(n,e,t){let r=n;do{const i=r.prev,a=r.next.next;!vA(i,a)&&wre(i,r,r.next,a)&&M_(i,a)&&M_(a,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(a.i/t),T_(r),T_(r.next),r=n=a),r=r.next}while(r!==n);return oh(r)}function fet(n,e,t,r,i,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&wet(s,o)){let l=xre(s,o);s=oh(s,s.next),l=oh(l,l.next),C_(s,e,t,r,i,a),C_(l,e,t,r,i,a);return}o=o.next}s=s.next}while(s!==n)}function het(n,e,t,r){const i=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;a++)o=e[a]*r,l=a<s-1?e[a+1]*r:n.length,c=_re(n,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(_et(c));for(i.sort(pet),a=0;a<i.length;a++)met(i[a],t),t=oh(t,t.next);return t}function pet(n,e){return n.x-e.x}function met(n,e){if(e=vet(n,e),e){const t=xre(e,n);oh(e,e.next),oh(t,t.next)}}function vet(n,e){let t=e;const r=n.x,i=n.y;let a=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>a){if(a=f,f===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===a)return s;const o=s,l=s.x,c=s.y;let u=1/0,d;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&wv(i<c?r:a,i,l,c,i<c?a:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),M_(t,n)&&(d<u||d===u&&(t.x>s.x||t.x===s.x&&get(s,t)))&&(s=t,u=d)),t=t.next;while(t!==o);return s}function get(n,e){return Ki(n.prev,n,e.prev)<0&&Ki(e.next,n,n.next)<0}function yet(n,e,t,r){let i=n;do i.z===null&&(i.z=HP(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,bet(i)}function bet(n){let e,t,r,i,a,s,o,l,c=1;do{for(t=n,n=null,a=null,s=0;t;){for(s++,r=t,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,o--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,c*=2}while(s>1);return n}function HP(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function _et(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function wv(n,e,t,r,i,a,s,o){return(i-s)*(e-o)-(n-s)*(a-o)>=0&&(n-s)*(r-o)-(t-s)*(e-o)>=0&&(t-s)*(a-o)-(i-s)*(r-o)>=0}function wet(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!xet(n,e)&&(M_(n,e)&&M_(e,n)&&Cet(n,e)&&(Ki(n.prev,n,e.prev)||Ki(n,e.prev,e))||vA(n,e)&&Ki(n.prev,n,n.next)>0&&Ki(e.prev,e,e.next)>0)}function Ki(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function vA(n,e){return n.x===e.x&&n.y===e.y}function wre(n,e,t,r){const i=AS(Ki(n,e,t)),a=AS(Ki(n,e,r)),s=AS(Ki(t,r,n)),o=AS(Ki(t,r,e));return!!(i!==a&&s!==o||i===0&&TS(n,t,e)||a===0&&TS(n,r,e)||s===0&&TS(t,n,r)||o===0&&TS(t,e,r))}function TS(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function AS(n){return n>0?1:n<0?-1:0}function xet(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&wre(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function M_(n,e){return Ki(n.prev,n,n.next)<0?Ki(n,e,n.next)>=0&&Ki(n,n.prev,e)>=0:Ki(n,e,n.prev)<0||Ki(n,n.next,e)<0}function Cet(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function xre(n,e){const t=new VP(n.i,n.x,n.y),r=new VP(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function G$(n,e,t,r){const i=new VP(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function T_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function VP(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Met(n,e,t,r){let i=0;for(let a=e,s=t-r;a<t;a+=r)i+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return i}class Nf{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Nf.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];W$(e),q$(r,e);let s=e.length;t.forEach(W$);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,q$(r,t[l]);const o=oet.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function W$(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function q$(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class _M extends Hr{constructor(e=new z8([new Wt(.5,.5),new Wt(-.5,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new En(i,3)),this.setAttribute("uv",new En(a,2)),this.computeVertexNormals();function s(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:h-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,y=t.UVGenerator!==void 0?t.UVGenerator:Tet;let b,_=!1,x,S,T,C;g&&(b=g.getSpacedPoints(u),_=!0,f=!1,x=g.computeFrenetFrames(u,!1),S=new Xe,T=new Xe,C=new Xe),f||(v=0,h=0,p=0,m=0);const M=o.extractPoints(c);let A=M.shape;const I=M.holes;if(!Nf.isClockWise(A)){A=A.reverse();for(let K=0,ce=I.length;K<ce;K++){const ie=I[K];Nf.isClockWise(ie)&&(I[K]=ie.reverse())}}const L=Nf.triangulateShape(A,I),F=A;for(let K=0,ce=I.length;K<ce;K++){const ie=I[K];A=A.concat(ie)}function B(K,ce,ie){return ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().multiplyScalar(ie).add(K)}const k=A.length,H=L.length;function z(K,ce,ie){let Ue,De,Ye;const ze=K.x-ce.x,Ve=K.y-ce.y,Je=ie.x-K.x,pe=ie.y-K.y,W=ze*ze+Ve*Ve,Z=ze*pe-Ve*Je;if(Math.abs(Z)>Number.EPSILON){const ve=Math.sqrt(W),Ne=Math.sqrt(Je*Je+pe*pe),Ke=ce.x-Ve/ve,mt=ce.y+ze/ve,vt=ie.x-pe/Ne,Me=ie.y+Je/Ne,ht=((vt-Ke)*pe-(Me-mt)*Je)/(ze*pe-Ve*Je);Ue=Ke+ze*ht-K.x,De=mt+Ve*ht-K.y;const st=Ue*Ue+De*De;if(st<=2)return new Wt(Ue,De);Ye=Math.sqrt(st/2)}else{let ve=!1;ze>Number.EPSILON?Je>Number.EPSILON&&(ve=!0):ze<-Number.EPSILON?Je<-Number.EPSILON&&(ve=!0):Math.sign(Ve)===Math.sign(pe)&&(ve=!0),ve?(Ue=-Ve,De=ze,Ye=Math.sqrt(W)):(Ue=ze,De=Ve,Ye=Math.sqrt(W/2))}return new Wt(Ue/Ye,De/Ye)}const O=[];for(let K=0,ce=F.length,ie=ce-1,Ue=K+1;K<ce;K++,ie++,Ue++)ie===ce&&(ie=0),Ue===ce&&(Ue=0),O[K]=z(F[K],F[ie],F[Ue]);const G=[];let X,J=O.concat();for(let K=0,ce=I.length;K<ce;K++){const ie=I[K];X=[];for(let Ue=0,De=ie.length,Ye=De-1,ze=Ue+1;Ue<De;Ue++,Ye++,ze++)Ye===De&&(Ye=0),ze===De&&(ze=0),X[Ue]=z(ie[Ue],ie[Ye],ie[ze]);G.push(X),J=J.concat(X)}for(let K=0;K<v;K++){const ce=K/v,ie=h*Math.cos(ce*Math.PI/2),Ue=p*Math.sin(ce*Math.PI/2)+m;for(let De=0,Ye=F.length;De<Ye;De++){const ze=B(F[De],O[De],Ue);fe(ze.x,ze.y,-ie)}for(let De=0,Ye=I.length;De<Ye;De++){const ze=I[De];X=G[De];for(let Ve=0,Je=ze.length;Ve<Je;Ve++){const pe=B(ze[Ve],X[Ve],Ue);fe(pe.x,pe.y,-ie)}}}const Q=p+m;for(let K=0;K<k;K++){const ce=f?B(A[K],J[K],Q):A[K];_?(T.copy(x.normals[0]).multiplyScalar(ce.x),S.copy(x.binormals[0]).multiplyScalar(ce.y),C.copy(b[0]).add(T).add(S),fe(C.x,C.y,C.z)):fe(ce.x,ce.y,0)}for(let K=1;K<=u;K++)for(let ce=0;ce<k;ce++){const ie=f?B(A[ce],J[ce],Q):A[ce];_?(T.copy(x.normals[K]).multiplyScalar(ie.x),S.copy(x.binormals[K]).multiplyScalar(ie.y),C.copy(b[K]).add(T).add(S),fe(C.x,C.y,C.z)):fe(ie.x,ie.y,d/u*K)}for(let K=v-1;K>=0;K--){const ce=K/v,ie=h*Math.cos(ce*Math.PI/2),Ue=p*Math.sin(ce*Math.PI/2)+m;for(let De=0,Ye=F.length;De<Ye;De++){const ze=B(F[De],O[De],Ue);fe(ze.x,ze.y,d+ie)}for(let De=0,Ye=I.length;De<Ye;De++){const ze=I[De];X=G[De];for(let Ve=0,Je=ze.length;Ve<Je;Ve++){const pe=B(ze[Ve],X[Ve],Ue);_?fe(pe.x,pe.y+b[u-1].y,b[u-1].x+ie):fe(pe.x,pe.y,d+ie)}}}re(),de();function re(){const K=i.length/3;if(f){let ce=0,ie=k*ce;for(let Ue=0;Ue<H;Ue++){const De=L[Ue];Ee(De[2]+ie,De[1]+ie,De[0]+ie)}ce=u+v*2,ie=k*ce;for(let Ue=0;Ue<H;Ue++){const De=L[Ue];Ee(De[0]+ie,De[1]+ie,De[2]+ie)}}else{for(let ce=0;ce<H;ce++){const ie=L[ce];Ee(ie[2],ie[1],ie[0])}for(let ce=0;ce<H;ce++){const ie=L[ce];Ee(ie[0]+k*u,ie[1]+k*u,ie[2]+k*u)}}r.addGroup(K,i.length/3-K,0)}function de(){const K=i.length/3;let ce=0;le(F,ce),ce+=F.length;for(let ie=0,Ue=I.length;ie<Ue;ie++){const De=I[ie];le(De,ce),ce+=De.length}r.addGroup(K,i.length/3-K,1)}function le(K,ce){let ie=K.length;for(;--ie>=0;){const Ue=ie;let De=ie-1;De<0&&(De=K.length-1);for(let Ye=0,ze=u+v*2;Ye<ze;Ye++){const Ve=k*Ye,Je=k*(Ye+1),pe=ce+Ue+Ve,W=ce+De+Ve,Z=ce+De+Je,ve=ce+Ue+Je;Re(pe,W,Z,ve)}}}function fe(K,ce,ie){l.push(K),l.push(ce),l.push(ie)}function Ee(K,ce,ie){He(K),He(ce),He(ie);const Ue=i.length/3,De=y.generateTopUV(r,i,Ue-3,Ue-2,Ue-1);$e(De[0]),$e(De[1]),$e(De[2])}function Re(K,ce,ie,Ue){He(K),He(ce),He(Ue),He(ce),He(ie),He(Ue);const De=i.length/3,Ye=y.generateSideWallUV(r,i,De-6,De-3,De-2,De-1);$e(Ye[0]),$e(Ye[1]),$e(Ye[3]),$e(Ye[1]),$e(Ye[2]),$e(Ye[3])}function He(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function $e(K){a.push(K.x),a.push(K.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Aet(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new F8[i.type]().fromJSON(i)),new _M(r,e.options)}}const Tet={generateTopUV:function(n,e,t,r,i){const a=e[t*3],s=e[t*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Wt(a,s),new Wt(o,l),new Wt(c,u)]},generateSideWallUV:function(n,e,t,r,i,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],p=e[i*3+2],m=e[a*3],v=e[a*3+1],g=e[a*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new Wt(s,1-l),new Wt(c,1-d),new Wt(f,1-p),new Wt(m,1-g)]:[new Wt(o,1-l),new Wt(u,1-d),new Wt(h,1-p),new Wt(v,1-g)]}};function Aet(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class wM extends sh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new wM(e.radius,e.detail)}}class xM extends sh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xM(e.radius,e.detail)}}class SM extends Hr{constructor(e=.5,t=1,r=8,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let d=e;const f=(t-e)/i,h=new Xe,p=new Wt;for(let m=0;m<=i;m++){for(let v=0;v<=r;v++){const g=a+v/r*s;h.x=d*Math.cos(g),h.y=d*Math.sin(g),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,u.push(p.x,p.y)}d+=f}for(let m=0;m<i;m++){const v=m*(r+1);for(let g=0;g<r;g++){const y=g+v,b=y,_=y+r+1,x=y+r+2,S=y+1;o.push(b,_,S),o.push(_,x,S)}}this.setIndex(o),this.setAttribute("position",new En(l,3)),this.setAttribute("normal",new En(c,3)),this.setAttribute("uv",new En(u,2))}static fromJSON(e){return new SM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class CM extends Hr{constructor(e=new z8([new Wt(0,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new En(i,3)),this.setAttribute("normal",new En(a,3)),this.setAttribute("uv",new En(s,2));function c(u){const d=i.length/3,f=u.extractPoints(t);let h=f.shape;const p=f.holes;Nf.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,g=p.length;v<g;v++){const y=p[v];Nf.isClockWise(y)===!0&&(p[v]=y.reverse())}const m=Nf.triangulateShape(h,p);for(let v=0,g=p.length;v<g;v++){const y=p[v];h=h.concat(y)}for(let v=0,g=h.length;v<g;v++){const y=h[v];i.push(y.x,y.y,0),a.push(0,0,1),s.push(y.x,y.y)}for(let v=0,g=m.length;v<g;v++){const y=m[v],b=y[0]+d,_=y[1]+d,x=y[2]+d;r.push(b,_,x),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Eet(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];r.push(s)}return new CM(r,e.curveSegments)}}function Eet(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}let K$=class Sre extends Hr{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],d=new Xe,f=new Xe,h=[],p=[],m=[],v=[];for(let g=0;g<=r;g++){const y=[],b=g/r;let _=0;g==0&&s==0?_=.5/t:g==r&&l==Math.PI&&(_=-.5/t);for(let x=0;x<=t;x++){const S=x/t;d.x=-e*Math.cos(i+S*a)*Math.sin(s+b*o),d.y=e*Math.cos(s+b*o),d.z=e*Math.sin(i+S*a)*Math.sin(s+b*o),p.push(d.x,d.y,d.z),f.copy(d).normalize(),m.push(f.x,f.y,f.z),v.push(S+_,1-b),y.push(c++)}u.push(y)}for(let g=0;g<r;g++)for(let y=0;y<t;y++){const b=u[g][y+1],_=u[g][y],x=u[g+1][y],S=u[g+1][y+1];(g!==0||s>0)&&h.push(b,_,S),(g!==r-1||l<Math.PI)&&h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new En(p,3)),this.setAttribute("normal",new En(m,3)),this.setAttribute("uv",new En(v,2))}static fromJSON(e){return new Sre(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}};class MM extends sh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new MM(e.radius,e.detail)}}class TM extends Hr{constructor(e=1,t=.4,r=8,i=6,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],c=[],u=new Xe,d=new Xe,f=new Xe;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const m=p/i*a,v=h/r*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(m),d.y=(e+t*Math.cos(v))*Math.sin(m),d.z=t*Math.sin(v),o.push(d.x,d.y,d.z),u.x=e*Math.cos(m),u.y=e*Math.sin(m),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(p/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const m=(i+1)*h+p-1,v=(i+1)*(h-1)+p-1,g=(i+1)*(h-1)+p,y=(i+1)*h+p;s.push(m,v,y),s.push(v,g,y)}this.setIndex(s),this.setAttribute("position",new En(o,3)),this.setAttribute("normal",new En(l,3)),this.setAttribute("uv",new En(c,2))}static fromJSON(e){return new TM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class AM extends Hr{constructor(e=1,t=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],d=new Xe,f=new Xe,h=new Xe,p=new Xe,m=new Xe,v=new Xe,g=new Xe;for(let b=0;b<=r;++b){const _=b/r*a*Math.PI*2;y(_,a,s,e,h),y(_+.01,a,s,e,p),v.subVectors(p,h),g.addVectors(p,h),m.crossVectors(v,g),g.crossVectors(m,v),m.normalize(),g.normalize();for(let x=0;x<=i;++x){const S=x/i*Math.PI*2,T=-t*Math.cos(S),C=t*Math.sin(S);d.x=h.x+(T*g.x+C*m.x),d.y=h.y+(T*g.y+C*m.y),d.z=h.z+(T*g.z+C*m.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(b/r),u.push(x/i)}}for(let b=1;b<=r;b++)for(let _=1;_<=i;_++){const x=(i+1)*(b-1)+(_-1),S=(i+1)*b+(_-1),T=(i+1)*b+_,C=(i+1)*(b-1)+_;o.push(x,S,C),o.push(S,T,C)}this.setIndex(o),this.setAttribute("position",new En(l,3)),this.setAttribute("normal",new En(c,3)),this.setAttribute("uv",new En(u,2));function y(b,_,x,S,T){const C=Math.cos(b),M=Math.sin(b),A=x/_*b,I=Math.cos(A);T.x=S*(2+I)*.5*C,T.y=S*(2+I)*M*.5,T.z=S*Math.sin(A)*.5}}static fromJSON(e){return new AM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class EM extends Hr{constructor(e=new vre(new Xe(-1,-1,0),new Xe(-1,1,0),new Xe(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new Xe,l=new Xe,c=new Wt;let u=new Xe;const d=[],f=[],h=[],p=[];m(),this.setIndex(p),this.setAttribute("position",new En(d,3)),this.setAttribute("normal",new En(f,3)),this.setAttribute("uv",new En(h,2));function m(){for(let b=0;b<t;b++)v(b);v(a===!1?t:0),y(),g()}function v(b){u=e.getPointAt(b/t,u);const _=s.normals[b],x=s.binormals[b];for(let S=0;S<=i;S++){const T=S/i*Math.PI*2,C=Math.sin(T),M=-Math.cos(T);l.x=M*_.x+C*x.x,l.y=M*_.y+C*x.y,l.z=M*_.z+C*x.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,d.push(o.x,o.y,o.z)}}function g(){for(let b=1;b<=t;b++)for(let _=1;_<=i;_++){const x=(i+1)*(b-1)+(_-1),S=(i+1)*b+(_-1),T=(i+1)*b+_,C=(i+1)*(b-1)+_;p.push(x,S,C),p.push(S,T,C)}}function y(){for(let b=0;b<=t;b++)for(let _=0;_<=i;_++)c.x=b/t,c.y=_/i,h.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new EM(new F8[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Iet extends Hr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Xe,a=new Xe;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let p=f,m=f+h;p<m;p+=3)for(let v=0;v<3;v++){const g=o.getX(p+v),y=o.getX(p+(v+1)%3);i.fromBufferAttribute(s,g),a.fromBufferAttribute(s,y),Y$(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;i.fromBufferAttribute(s,u),a.fromBufferAttribute(s,d),Y$(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new En(t,3))}}}function Y$(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var X$=Object.freeze({__proto__:null,BoxGeometry:w_,BoxBufferGeometry:w_,CapsuleGeometry:gM,CapsuleBufferGeometry:gM,CircleGeometry:yM,CircleBufferGeometry:yM,ConeGeometry:$$,ConeBufferGeometry:$$,CylinderGeometry:UP,CylinderBufferGeometry:UP,DodecahedronGeometry:bM,DodecahedronBufferGeometry:bM,EdgesGeometry:set,ExtrudeGeometry:_M,ExtrudeBufferGeometry:_M,IcosahedronGeometry:wM,IcosahedronBufferGeometry:wM,LatheGeometry:S_,LatheBufferGeometry:S_,OctahedronGeometry:xM,OctahedronBufferGeometry:xM,PlaneGeometry:OP,PlaneBufferGeometry:OP,PolyhedronGeometry:sh,PolyhedronBufferGeometry:sh,RingGeometry:SM,RingBufferGeometry:SM,ShapeGeometry:CM,ShapeBufferGeometry:CM,SphereGeometry:K$,SphereBufferGeometry:K$,TetrahedronGeometry:MM,TetrahedronBufferGeometry:MM,TorusGeometry:TM,TorusBufferGeometry:TM,TorusKnotGeometry:AM,TorusKnotBufferGeometry:AM,TubeGeometry:EM,TubeBufferGeometry:EM,WireframeGeometry:Iet});class Ret extends va{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Pet extends hd{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class ay extends va{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Pm,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yh extends ay{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Wt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wa(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new bn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class nd extends va{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bn(16777215),this.specular=new bn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Pm,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Det extends va{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Pm,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class ket extends va{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Pm,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class U8 extends va{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=fA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Let extends va{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Pm,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Net extends vc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Xd(n,e,t){return Cre(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function ES(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Cre(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Oet(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function j$(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,s=0;s!==r;++a){const o=t[a]*e;for(let l=0;l!==e;++l)i[s++]=n[o+l]}return i}function Mre(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=n[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=n[i++];while(a!==void 0)}class pw{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<t[o]?s=o:r=o+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Bet extends pw{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vv,endingEnd:vv}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case gv:a=e,o=2*t-r;break;case mM:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case gv:s=e,l=2*r-t;break;case mM:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-r),this._offsetPrev=a*u,this._offsetNext=s*u}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(r-t)/(i-t),m=p*p,v=m*p,g=-f*v+2*f*m-f*p,y=(1+f)*v+(-1.5-2*f)*m+(-.5+f)*p+1,b=(-1-h)*v+(1.5+h)*m+.5*p,_=h*v-h*m;for(let x=0;x!==o;++x)a[x]=g*s[u+x]+y*s[c+x]+b*s[l+x]+_*s[d+x];return a}}class Tre extends pw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-t)/(i-t),d=1-u;for(let f=0;f!==o;++f)a[f]=s[c+f]*d+s[l+f]*u;return a}}class Fet extends pw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class gu{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ES(t,this.TimeBufferType),this.values=ES(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:ES(e.times,Array),values:ES(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Fet(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Tre(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Bet(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case y_:t=this.InterpolantFactoryMethodDiscrete;break;case bg:t=this.InterpolantFactoryMethodLinear;break;case b4:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return y_;case this.InterpolantFactoryMethodLinear:return bg;case this.InterpolantFactoryMethodSmooth:return b4}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=Xd(r,a,s),this.values=Xd(this.values,a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&Cre(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=Xd(this.times),t=Xd(this.values),r=this.getValueSize(),i=this.getInterpolation()===b4,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const d=o*r,f=d-r,h=d+r;for(let p=0;p!==r;++p){const m=t[d+p];if(m!==t[f+p]||m!==t[h+p]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const d=o*r,f=s*r;for(let h=0;h!==r;++h)t[f+h]=t[d+h]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[o+c];++s}return s!==e.length?(this.times=Xd(e,0,s),this.values=Xd(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=Xd(this.times,0),t=Xd(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}gu.prototype.TimeBufferType=Float32Array;gu.prototype.ValueBufferType=Float32Array;gu.prototype.DefaultInterpolation=bg;class sy extends gu{}sy.prototype.ValueTypeName="bool";sy.prototype.ValueBufferType=Array;sy.prototype.DefaultInterpolation=y_;sy.prototype.InterpolantFactoryMethodLinear=void 0;sy.prototype.InterpolantFactoryMethodSmooth=void 0;class Are extends gu{}Are.prototype.ValueTypeName="color";class xg extends gu{}xg.prototype.ValueTypeName="number";class zet extends pw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let c=e*o;for(let u=c+o;c!==u;c+=4)Qa.slerpFlat(a,0,s,c-o,s,c,l);return a}}class pd extends gu{InterpolantFactoryMethodLinear(e){return new zet(this.times,this.values,this.getValueSize(),e)}}pd.prototype.ValueTypeName="quaternion";pd.prototype.DefaultInterpolation=bg;pd.prototype.InterpolantFactoryMethodSmooth=void 0;class oy extends gu{}oy.prototype.ValueTypeName="string";oy.prototype.ValueBufferType=Array;oy.prototype.DefaultInterpolation=y_;oy.prototype.InterpolantFactoryMethodLinear=void 0;oy.prototype.InterpolantFactoryMethodSmooth=void 0;class lh extends gu{}lh.prototype.ValueTypeName="vector";class bm{constructor(e,t=-1,r,i=S8){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Cl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push(Het(r[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=r.length;a!==s;++a)t.push(gu.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const u=Oet(l);l=j$(l,1,u),c=j$(c,1,u),!i&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new xg(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(a);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,h,p,m){if(h.length!==0){const v=[],g=[];Mre(h,v,g,p),v.length!==0&&m.push(new d(f,v,g))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let p;for(p=0;p<f.length;p++)if(f[p].morphTargets)for(let m=0;m<f[p].morphTargets.length;m++)h[f[p].morphTargets[m]]=-1;for(const m in h){const v=[],g=[];for(let y=0;y!==f[p].morphTargets.length;++y){const b=f[p];v.push(b.time),g.push(b.morphTarget===m?1:0)}i.push(new xg(".morphTargetInfluence["+m+"]",v,g))}l=h.length*s}else{const h=".bones["+t[d].name+"]";r(lh,h+".position",f,"pos",i),r(pd,h+".quaternion",f,"rot",i),r(lh,h+".scale",f,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Uet(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return xg;case"vector":case"vector2":case"vector3":case"vector4":return lh;case"color":return Are;case"quaternion":return pd;case"bool":case"boolean":return sy;case"string":return oy}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Het(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Uet(n.type);if(n.times===void 0){const t=[],r=[];Mre(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Sg={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class Ere{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const Ire=new Ere;class ss{constructor(e){this.manager=e!==void 0?e:Ire,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Iu={};class Vet extends Error{constructor(e,t){super(e),this.response=t}}class Ts extends ss{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Sg.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Iu[e]!==void 0){Iu[e].push({onLoad:t,onProgress:r,onError:i});return}Iu[e]=[],Iu[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Iu[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),h=f?parseInt(f):0,p=h!==0;let m=0;const v=new ReadableStream({start(g){y();function y(){d.read().then(({done:b,value:_})=>{if(b)g.close();else{m+=_.byteLength;const x=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let S=0,T=u.length;S<T;S++){const C=u[S];C.onProgress&&C.onProgress(x)}g.enqueue(_),y()}})}}});return new Response(v)}else throw new Vet(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{Sg.add(e,c);const u=Iu[e];delete Iu[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=Iu[e];if(u===void 0)throw this.manager.itemError(e),c;delete Iu[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class $et extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=[],o=new KJe,l=new Ts(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const h=a.parse(f,!0);s[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=pa),o.image=s,o.format=h.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=a.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let p=0;p<h;p++){s[p]={mipmaps:[]};for(let m=0;m<f.mipmapCount;m++)s[p].mipmaps.push(f.mipmaps[p*f.mipmapCount+m]),s[p].format=f.format,s[p].width=f.width,s[p].height=f.height}o.image=s}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=pa),o.format=f.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}class $P extends ss{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Sg.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o=__("img");function l(){u(),Sg.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(d){u(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class Get extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new lb,o=new Ts(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){const c=a.parse(l);c&&(c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Sa,s.wrapT=c.wrapT!==void 0?c.wrapT:Sa,s.magFilter=c.magFilter!==void 0?c.magFilter:pa,s.minFilter=c.minFilter!==void 0?c.minFilter:pa,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Ad),c.mipmapCount===1&&(s.minFilter=pa),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c))},r,i),s}}class Cg extends ss{constructor(e){super(e)}load(e,t,r,i){const a=new rs,s=new $P(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class Lm extends Gi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new bn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class Rre extends Lm{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.groundColor=new bn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Z$=new Un,Q$=new Xe,J$=new Xe;class H8{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Wt(512,512),this.map=null,this.mapPass=null,this.matrix=new Un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new E8,this._frameExtents=new Wt(1,1),this._viewportCount=1,this._viewports=[new ri(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;Q$.setFromMatrixPosition(e.matrixWorld),t.position.copy(Q$),J$.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(J$),t.updateMatrixWorld(),Z$.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Z$),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Wet extends H8{constructor(){super(new xa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=b_*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class gA extends Lm{constructor(e,t,r=0,i=Math.PI/3,a=0,s=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.target=new Gi,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.shadow=new Wet}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const eG=new Un,c1=new Xe,J4=new Xe;class qet extends H8{constructor(){super(new xa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Wt(4,2),this._viewportCount=6,this._viewports=[new ri(2,1,1,1),new ri(0,1,1,1),new ri(3,1,1,1),new ri(1,1,1,1),new ri(3,0,1,1),new ri(1,0,1,1)],this._cubeDirections=[new Xe(1,0,0),new Xe(-1,0,0),new Xe(0,0,1),new Xe(0,0,-1),new Xe(0,1,0),new Xe(0,-1,0)],this._cubeUps=[new Xe(0,1,0),new Xe(0,1,0),new Xe(0,1,0),new Xe(0,1,0),new Xe(0,0,1),new Xe(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),c1.setFromMatrixPosition(e.matrixWorld),r.position.copy(c1),J4.copy(r.position),J4.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(J4),r.updateMatrixWorld(),i.makeTranslation(-c1.x,-c1.y,-c1.z),eG.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eG)}}class _m extends Lm{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new qet}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ket extends H8{constructor(){super(new ty(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class mw extends Lm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Gi.DefaultUp),this.updateMatrix(),this.target=new Gi,this.shadow=new Ket}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class yA extends Lm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Yet extends Lm{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Xet{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Xe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class jet extends Lm{constructor(e=new Xet,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class V8 extends ss{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,s=new Ts(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=V8.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new bn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new bn().setHex(s.value);break;case"v2":i.uniforms[a].value=new Wt().fromArray(s.value);break;case"v3":i.uniforms[a].value=new Xe().fromArray(s.value);break;case"v4":i.uniforms[a].value=new ri().fromArray(s.value);break;case"m3":i.uniforms[a].value=new bl().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Un().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Wt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Wt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:Ret,SpriteMaterial:L8,RawShaderMaterial:Pet,ShaderMaterial:hd,PointsMaterial:Np,MeshPhysicalMaterial:yh,MeshStandardMaterial:ay,MeshPhongMaterial:nd,MeshToonMaterial:Det,MeshNormalMaterial:ket,MeshLambertMaterial:U8,MeshDepthMaterial:cre,MeshDistanceMaterial:ure,MeshBasicMaterial:cc,MeshMatcapMaterial:Let,LineDashedMaterial:Net,LineBasicMaterial:vc,Material:va};return new t[e]}}class Ms{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}let Zet=class extends Hr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};class Qet extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Ts(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(h,p){if(t[p]!==void 0)return t[p];const v=h.interleavedBuffers[p],g=a(h,v.buffer),y=yv(v.type,g),b=new k8(y,v.stride);return b.uuid=v.uuid,t[p]=b,b}function a(h,p){if(r[p]!==void 0)return r[p];const v=h.arrayBuffers[p],g=new Uint32Array(v).buffer;return r[p]=g,g}const s=e.isInstancedBufferGeometry?new Zet:new Hr,o=e.data.index;if(o!==void 0){const h=yv(o.type,o.array);s.setIndex(new Qi(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let m;if(p.isInterleavedBufferAttribute){const v=i(e.data,p.data);m=new gm(v,p.itemSize,p.offset,p.normalized)}else{const v=yv(p.type,p.array),g=p.isInstancedBufferAttribute?x_:Qi;m=new g(v,p.itemSize,p.normalized)}p.name!==void 0&&(m.name=p.name),p.usage!==void 0&&m.setUsage(p.usage),p.updateRange!==void 0&&(m.updateRange.offset=p.updateRange.offset,m.updateRange.count=p.updateRange.count),s.setAttribute(h,m)}const c=e.data.morphAttributes;if(c)for(const h in c){const p=c[h],m=[];for(let v=0,g=p.length;v<g;v++){const y=p[v];let b;if(y.isInterleavedBufferAttribute){const _=i(e.data,y.data);b=new gm(_,y.itemSize,y.offset,y.normalized)}else{const _=yv(y.type,y.array);b=new Qi(_,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),m.push(b)}s.morphAttributes[h]=m}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,p=d.length;h!==p;++h){const m=d[h];s.addGroup(m.start,m.count,m.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new Xe;f.center!==void 0&&h.fromArray(f.center),s.boundingSphere=new km(h,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Jet extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?Ms.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Ts(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?Ms.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Ts(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const f in s)if(s[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new z8().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new ry().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Qet;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in X$?o=X$[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),o.isBufferGeometry===!0&&l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new V8;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const d=l.materials[u];r[d.uuid]===void 0&&(r[d.uuid]=a.parse(d)),c.push(r[d.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=bm.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:yv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Ere(t);a=new $P(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const h=[];for(let p=0,m=f.length;p<m;p++){const v=f[p],g=o(v);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new lb(g.data,g.width,g.height)))}i[d.uuid]=new bv(h)}else{const h=o(d.url);i[d.uuid]=new bv(h)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:yv(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new $P(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d],p=await a(h);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new lb(p.data,p.width,p.height)))}r[l.uuid]=new bv(u)}else{const u=await a(l.url);r[l.uuid]=new bv(u)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let u;Array.isArray(c)?(u=new A8,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new lb:u=new rs,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,ett)),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],tG),u.wrapT=r(o.wrap[1],tG)),o.format!==void 0&&(u.format=o.format),o.type!==void 0&&(u.type=o.type),o.encoding!==void 0&&(u.encoding=o.encoding),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,nG)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,nG)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,t,r,i,a){let s;function o(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let p=0,m=f.length;p<m;p++){const v=f[p];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),h.push(r[v])}return h}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":s=new D8,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new bn(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new P8(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new R8(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new xa(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new ty(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new yA(e.color,e.intensity);break;case"DirectionalLight":s=new mw(e.color,e.intensity);break;case"PointLight":s=new _m(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Yet(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new gA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new Rre(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new jet().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),s=new mA(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),s=new Ca(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,p=e.instanceColor;s=new qJe(u,d,f),s.instanceMatrix=new x_(new Float32Array(h.array),16),p!==void 0&&(s.instanceColor=new x_(new Float32Array(p.array),p.itemSize));break;case"LOD":s=new $Je;break;case"Line":s=new iy(o(e.geometry),l(e.material));break;case"LineLoop":s=new hre(o(e.geometry),l(e.material));break;case"LineSegments":s=new ym(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new cb(o(e.geometry),l(e.material));break;case"Sprite":s=new Z2(l(e.material));break;case"Group":s=new uo;break;case"Bone":s=new wg;break;default:s=new Gi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)s.add(this.parseObject(f[h],t,r,i,a))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const p=f[h];s.animations.push(a[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const p=f[h],m=s.getObjectByProperty("uuid",p.object);m!==void 0&&s.addLevel(m,p.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const ett={UVMapping:w8,CubeReflectionMapping:hm,CubeRefractionMapping:pm,EquirectangularReflectionMapping:m_,EquirectangularRefractionMapping:fM,CubeUVReflectionMapping:hw},tG={RepeatWrapping:co,ClampToEdgeWrapping:Sa,MirroredRepeatWrapping:v_},nG={NearestFilter:La,NearestMipmapNearestFilter:hM,NearestMipmapLinearFilter:pM,LinearFilter:pa,LinearMipmapNearestFilter:x8,LinearMipmapLinearFilter:Ad};class ttt extends ss{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Sg.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(l){Sg.add(e,l),t&&t(l),a.manager.itemEnd(e)}).catch(function(l){i&&i(l),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}class ntt{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rG(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=rG();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function rG(){return(typeof performance>"u"?Date:performance).now()}class rtt{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,s=i;a!==s;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){Qa.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const s=this._workIndex*a;Qa.multiplyQuaternionsFlat(e,s,e,t,e,r),Qa.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,t,r,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[r+s]*i}}}const $8="\\[\\]\\.:\\/",itt=new RegExp("["+$8+"]","g"),G8="[^"+$8+"]",att="[^"+$8.replace("\\.","")+"]",stt=/((?:WC+[\/:])*)/.source.replace("WC",G8),ott=/(WCOD+)?/.source.replace("WCOD",att),ltt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",G8),ctt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",G8),utt=new RegExp("^"+stt+ott+ltt+ctt+"$"),dtt=["material","materials","bones"];class ftt{constructor(e,t,r){const i=r||Xr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Xr{constructor(e,t,r){this.path=t,this.parsedPath=r||Xr.parseTrackName(t),this.node=Xr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Xr.Composite(e,t,r):new Xr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(itt,"")}static parseTrackName(e){const t=utt.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);dtt.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Xr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xr.Composite=ftt;Xr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xr.prototype.GetterByBindingType=[Xr.prototype._getValue_direct,Xr.prototype._getValue_array,Xr.prototype._getValue_arrayElement,Xr.prototype._getValue_toArray];Xr.prototype.SetterByBindingTypeAndVersioning=[[Xr.prototype._setValue_direct,Xr.prototype._setValue_direct_setNeedsUpdate,Xr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xr.prototype._setValue_array,Xr.prototype._setValue_array_setNeedsUpdate,Xr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xr.prototype._setValue_arrayElement,Xr.prototype._setValue_arrayElement_setNeedsUpdate,Xr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xr.prototype._setValue_fromArray,Xr.prototype._setValue_fromArray_setNeedsUpdate,Xr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class htt{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:vv,endingEnd:vv};for(let c=0;c!==s;++c){const u=a[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=CYe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case TYe:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case S8:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===MYe;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(r===SYe){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=gv,i.endingEnd=gv):(e?i.endingStart=this.zeroSlopeAtStart?gv:vv:i.endingStart=mM,t?i.endingEnd=this.zeroSlopeAtEnd?gv:vv:i.endingEnd=mM)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=r,this}}const ptt=new Float32Array(1);class eI extends gh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==a;++d){const f=i[d],h=f.name;let p=u[h];if(p!==void 0)++p.referenceCount,s[d]=p;else{if(p=s[d],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const m=t&&t._propertyBindings[d].binding.parsedPath;p=new rtt(Xr.create(r,h,m),f.ValueTypeName,f.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),s[d]=p}o[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new Tre(new Float32Array(2),new Float32Array(2),1,ptt),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?bm.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=S8),l!==void 0){const d=l.actionByRoot[a];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new htt(this,s,t,r);return this._bindAction(u,c),this._addInactiveAction(u,o,a),u}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?bm.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}let mtt=class{constructor(e,t,r=0,i=1/0){this.ray=new hA(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new M8,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return GP(e,this,r,t),r.sort(iG),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)GP(e[i],this,r,t);return r.sort(iG),r}};function iG(n,e){return n.distance-e.distance}function GP(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let a=0,s=i.length;a<s;a++)GP(i[a],e,t,!0)}}let aG=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(wa(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}};class vtt extends ym{constructor(e=10,t=10,r=4473924,i=8947848){r=new bn(r),i=new bn(i);const a=t/2,s=e/t,o=e/2,l=[],c=[];for(let f=0,h=0,p=-o;f<=t;f++,p+=s){l.push(-o,0,p,o,0,p),l.push(p,0,-o,p,0,o);const m=f===a?r:i;m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3}const u=new Hr;u.setAttribute("position",new En(l,3)),u.setAttribute("color",new En(c,3));const d=new vc({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}class gtt extends ym{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Hr;i.setAttribute("position",new En(t,3)),i.setAttribute("color",new En(r,3));const a=new vc({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new bn,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:_8}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=_8);const sG={type:"change"},tI={type:"start"},oG={type:"end"};let ytt=class extends gh{constructor(e,t){super(),t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Xe,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:c0.ROTATE,MIDDLE:c0.DOLLY,RIGHT:c0.PAN},this.touches={ONE:u0.ROTATE,TWO:u0.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Me){Me.addEventListener("keydown",pe),this._domElementKeyEvents=Me},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(sG),r.update(),a=i.NONE},this.update=function(){const Me=new Xe,ht=new Qa().setFromUnitVectors(e.up,new Xe(0,1,0)),st=ht.clone().invert(),$=new Xe,ge=new Qa,he=2*Math.PI;return function(){const ye=r.object.position;Me.copy(ye).sub(r.target),Me.applyQuaternion(ht),o.setFromVector3(Me),r.autoRotate&&a===i.NONE&&M(T()),r.enableDamping?(o.theta+=l.theta*r.dampingFactor,o.phi+=l.phi*r.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let Se=r.minAzimuthAngle,ft=r.maxAzimuthAngle;return isFinite(Se)&&isFinite(ft)&&(Se<-Math.PI?Se+=he:Se>Math.PI&&(Se-=he),ft<-Math.PI?ft+=he:ft>Math.PI&&(ft-=he),Se<=ft?o.theta=Math.max(Se,Math.min(ft,o.theta)):o.theta=o.theta>(Se+ft)/2?Math.max(Se,o.theta):Math.min(ft,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(r.minDistance,Math.min(r.maxDistance,o.radius)),r.enableDamping===!0?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),Me.setFromSpherical(o),Me.applyQuaternion(st),ye.copy(r.target).add(Me),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,d||$.distanceToSquared(r.object.position)>s||8*(1-ge.dot(r.object.quaternion))>s?(r.dispatchEvent(sG),$.copy(r.object.position),ge.copy(r.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",ve),r.domElement.removeEventListener("pointerdown",ie),r.domElement.removeEventListener("pointercancel",Ye),r.domElement.removeEventListener("wheel",Je),r.domElement.removeEventListener("pointermove",Ue),r.domElement.removeEventListener("pointerup",De),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",pe)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=i.NONE;const s=1e-6,o=new aG,l=new aG;let c=1;const u=new Xe;let d=!1;const f=new Wt,h=new Wt,p=new Wt,m=new Wt,v=new Wt,g=new Wt,y=new Wt,b=new Wt,_=new Wt,x=[],S={};function T(){return 2*Math.PI/60/60*r.autoRotateSpeed}function C(){return Math.pow(.95,r.zoomSpeed)}function M(Me){l.theta-=Me}function A(Me){l.phi-=Me}const I=function(){const Me=new Xe;return function(st,$){Me.setFromMatrixColumn($,0),Me.multiplyScalar(-st),u.add(Me)}}(),D=function(){const Me=new Xe;return function(st,$){r.screenSpacePanning===!0?Me.setFromMatrixColumn($,1):(Me.setFromMatrixColumn($,0),Me.crossVectors(r.object.up,Me)),Me.multiplyScalar(st),u.add(Me)}}(),L=function(){const Me=new Xe;return function(st,$){const ge=r.domElement;if(r.object.isPerspectiveCamera){const he=r.object.position;Me.copy(he).sub(r.target);let Ae=Me.length();Ae*=Math.tan(r.object.fov/2*Math.PI/180),I(2*st*Ae/ge.clientHeight,r.object.matrix),D(2*$*Ae/ge.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(I(st*(r.object.right-r.object.left)/r.object.zoom/ge.clientWidth,r.object.matrix),D($*(r.object.top-r.object.bottom)/r.object.zoom/ge.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function F(Me){r.object.isPerspectiveCamera?c/=Me:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Me)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function B(Me){r.object.isPerspectiveCamera?c*=Me:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Me)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(Me){f.set(Me.clientX,Me.clientY)}function H(Me){y.set(Me.clientX,Me.clientY)}function z(Me){m.set(Me.clientX,Me.clientY)}function O(Me){h.set(Me.clientX,Me.clientY),p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const ht=r.domElement;M(2*Math.PI*p.x/ht.clientHeight),A(2*Math.PI*p.y/ht.clientHeight),f.copy(h),r.update()}function G(Me){b.set(Me.clientX,Me.clientY),_.subVectors(b,y),_.y>0?F(C()):_.y<0&&B(C()),y.copy(b),r.update()}function X(Me){v.set(Me.clientX,Me.clientY),g.subVectors(v,m).multiplyScalar(r.panSpeed),L(g.x,g.y),m.copy(v),r.update()}function J(Me){Me.deltaY<0?B(C()):Me.deltaY>0&&F(C()),r.update()}function Q(Me){let ht=!1;switch(Me.code){case r.keys.UP:L(0,r.keyPanSpeed),ht=!0;break;case r.keys.BOTTOM:L(0,-r.keyPanSpeed),ht=!0;break;case r.keys.LEFT:L(r.keyPanSpeed,0),ht=!0;break;case r.keys.RIGHT:L(-r.keyPanSpeed,0),ht=!0;break}ht&&(Me.preventDefault(),r.update())}function re(){if(x.length===1)f.set(x[0].pageX,x[0].pageY);else{const Me=.5*(x[0].pageX+x[1].pageX),ht=.5*(x[0].pageY+x[1].pageY);f.set(Me,ht)}}function de(){if(x.length===1)m.set(x[0].pageX,x[0].pageY);else{const Me=.5*(x[0].pageX+x[1].pageX),ht=.5*(x[0].pageY+x[1].pageY);m.set(Me,ht)}}function le(){const Me=x[0].pageX-x[1].pageX,ht=x[0].pageY-x[1].pageY,st=Math.sqrt(Me*Me+ht*ht);y.set(0,st)}function fe(){r.enableZoom&&le(),r.enablePan&&de()}function Ee(){r.enableZoom&&le(),r.enableRotate&&re()}function Re(Me){if(x.length==1)h.set(Me.pageX,Me.pageY);else{const st=vt(Me),$=.5*(Me.pageX+st.x),ge=.5*(Me.pageY+st.y);h.set($,ge)}p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const ht=r.domElement;M(2*Math.PI*p.x/ht.clientHeight),A(2*Math.PI*p.y/ht.clientHeight),f.copy(h)}function He(Me){if(x.length===1)v.set(Me.pageX,Me.pageY);else{const ht=vt(Me),st=.5*(Me.pageX+ht.x),$=.5*(Me.pageY+ht.y);v.set(st,$)}g.subVectors(v,m).multiplyScalar(r.panSpeed),L(g.x,g.y),m.copy(v)}function $e(Me){const ht=vt(Me),st=Me.pageX-ht.x,$=Me.pageY-ht.y,ge=Math.sqrt(st*st+$*$);b.set(0,ge),_.set(0,Math.pow(b.y/y.y,r.zoomSpeed)),F(_.y),y.copy(b)}function K(Me){r.enableZoom&&$e(Me),r.enablePan&&He(Me)}function ce(Me){r.enableZoom&&$e(Me),r.enableRotate&&Re(Me)}function ie(Me){r.enabled!==!1&&(x.length===0&&(r.domElement.setPointerCapture(Me.pointerId),r.domElement.addEventListener("pointermove",Ue),r.domElement.addEventListener("pointerup",De)),Ne(Me),Me.pointerType==="touch"?W(Me):ze(Me))}function Ue(Me){r.enabled!==!1&&(Me.pointerType==="touch"?Z(Me):Ve(Me))}function De(Me){Ke(Me),x.length===0&&(r.domElement.releasePointerCapture(Me.pointerId),r.domElement.removeEventListener("pointermove",Ue),r.domElement.removeEventListener("pointerup",De)),r.dispatchEvent(oG),a=i.NONE}function Ye(Me){Ke(Me)}function ze(Me){let ht;switch(Me.button){case 0:ht=r.mouseButtons.LEFT;break;case 1:ht=r.mouseButtons.MIDDLE;break;case 2:ht=r.mouseButtons.RIGHT;break;default:ht=-1}switch(ht){case c0.DOLLY:if(r.enableZoom===!1)return;H(Me),a=i.DOLLY;break;case c0.ROTATE:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enablePan===!1)return;z(Me),a=i.PAN}else{if(r.enableRotate===!1)return;k(Me),a=i.ROTATE}break;case c0.PAN:if(Me.ctrlKey||Me.metaKey||Me.shiftKey){if(r.enableRotate===!1)return;k(Me),a=i.ROTATE}else{if(r.enablePan===!1)return;z(Me),a=i.PAN}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(tI)}function Ve(Me){switch(a){case i.ROTATE:if(r.enableRotate===!1)return;O(Me);break;case i.DOLLY:if(r.enableZoom===!1)return;G(Me);break;case i.PAN:if(r.enablePan===!1)return;X(Me);break}}function Je(Me){r.enabled===!1||r.enableZoom===!1||a!==i.NONE||(Me.preventDefault(),r.dispatchEvent(tI),J(Me),r.dispatchEvent(oG))}function pe(Me){r.enabled===!1||r.enablePan===!1||Q(Me)}function W(Me){switch(mt(Me),x.length){case 1:switch(r.touches.ONE){case u0.ROTATE:if(r.enableRotate===!1)return;re(),a=i.TOUCH_ROTATE;break;case u0.PAN:if(r.enablePan===!1)return;de(),a=i.TOUCH_PAN;break;default:a=i.NONE}break;case 2:switch(r.touches.TWO){case u0.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;fe(),a=i.TOUCH_DOLLY_PAN;break;case u0.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ee(),a=i.TOUCH_DOLLY_ROTATE;break;default:a=i.NONE}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(tI)}function Z(Me){switch(mt(Me),a){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;Re(Me),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;He(Me),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;K(Me),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ce(Me),r.update();break;default:a=i.NONE}}function ve(Me){r.enabled!==!1&&Me.preventDefault()}function Ne(Me){x.push(Me)}function Ke(Me){delete S[Me.pointerId];for(let ht=0;ht<x.length;ht++)if(x[ht].pointerId==Me.pointerId){x.splice(ht,1);return}}function mt(Me){let ht=S[Me.pointerId];ht===void 0&&(ht=new Wt,S[Me.pointerId]=ht),ht.set(Me.pageX,Me.pageY)}function vt(Me){const ht=Me.pointerId===x[0].pointerId?x[1]:x[0];return S[ht.pointerId]}r.domElement.addEventListener("contextmenu",ve),r.domElement.addEventListener("pointerdown",ie),r.domElement.addEventListener("pointercancel",Ye),r.domElement.addEventListener("wheel",Je,{passive:!1}),this.update()}};var fb=function(){var n=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(u){u.preventDefault(),r(++n%e.children.length)},!1);function t(u){return e.appendChild(u.dom),u}function r(u){for(var d=0;d<e.children.length;d++)e.children[d].style.display=d===u?"block":"none";n=u}var i=(performance||Date).now(),a=i,s=0,o=t(new fb.Panel("FPS","#0ff","#002")),l=t(new fb.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new fb.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:t,showPanel:r,begin:function(){i=(performance||Date).now()},end:function(){s++;var u=(performance||Date).now();if(l.update(u-i,200),u>=a+1e3&&(o.update(s*1e3/(u-a),100),a=u,s=0,c)){var d=performance.memory;c.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return u},update:function(){i=this.end()},domElement:e,setMode:r}};fb.Panel=function(n,e,t){var r=1/0,i=0,a=Math.round,s=a(window.devicePixelRatio||1),o=80*s,l=48*s,c=3*s,u=2*s,d=3*s,f=15*s,h=74*s,p=30*s,m=document.createElement("canvas");m.width=o,m.height=l,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*s+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=t,v.fillRect(0,0,o,l),v.fillStyle=e,v.fillText(n,c,u),v.fillRect(d,f,h,p),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(d,f,h,p),{dom:m,update:function(g,y){r=Math.min(r,g),i=Math.max(i,g),v.fillStyle=t,v.globalAlpha=1,v.fillRect(0,0,o,f),v.fillStyle=e,v.fillText(a(g)+" "+n+" ("+a(r)+"-"+a(i)+")",c,u),v.drawImage(m,d+s,f,h-s,p,d,f,h-s,p),v.fillRect(d+h-s,f,s,p),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(d+h-s,f,s,a((1-g/y)*p))}}};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var lG={},WP=function(n){return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Pre=function(n){return new Worker(n)};try{URL.revokeObjectURL(WP(""))}catch{WP=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},Pre=function(e){return new Worker(e,{type:"module"})}}var btt=function(n,e,t,r,i){var a=Pre(lG[e]||(lG[e]=WP(n)));return a.onerror=function(s){return i(s.error,null)},a.onmessage=function(s){return i(null,s.data)},a.postMessage(t,r),a},Gr=Uint8Array,Ba=Uint16Array,md=Uint32Array,ly=new Gr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cy=new Gr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A_=new Gr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dre=function(n,e){for(var t=new Ba(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new md(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return[t,i]},kre=Dre(ly,2),W8=kre[0],IM=kre[1];W8[28]=258,IM[258]=28;var Lre=Dre(cy,0),Nre=Lre[0],qP=Lre[1],E_=new Ba(32768);for(var Li=0;Li<32768;++Li){var jd=(Li&43690)>>>1|(Li&21845)<<1;jd=(jd&52428)>>>2|(jd&13107)<<2,jd=(jd&61680)>>>4|(jd&3855)<<4,E_[Li]=((jd&65280)>>>8|(jd&255)<<8)>>>1}var Ml=function(n,e,t){for(var r=n.length,i=0,a=new Ba(e);i<r;++i)++a[n[i]-1];var s=new Ba(e);for(i=0;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(t){o=new Ba(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=s[n[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[E_[d]>>>l]=c}else for(o=new Ba(r),i=0;i<r;++i)n[i]&&(o[i]=E_[s[n[i]-1]++]>>>15-n[i]);return o},vd=new Gr(288);for(var Li=0;Li<144;++Li)vd[Li]=8;for(var Li=144;Li<256;++Li)vd[Li]=9;for(var Li=256;Li<280;++Li)vd[Li]=7;for(var Li=280;Li<288;++Li)vd[Li]=8;var Mg=new Gr(32);for(var Li=0;Li<32;++Li)Mg[Li]=5;var Ore=Ml(vd,9,0),Bre=Ml(vd,9,1),Fre=Ml(Mg,5,0),zre=Ml(Mg,5,1),Q2=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},il=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},J2=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},vw=function(n){return(n/8|0)+(n&7&&1)},Tl=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof Ba?Ba:n instanceof md?md:Gr)(t-e);return r.set(n.subarray(e,t)),r},gw=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Gr(0);var i=!e||t,a=!t||t.i;t||(t={}),e||(e=new Gr(r*3));var s=function(le){var fe=e.length;if(le>fe){var Ee=new Gr(Math.max(fe*2,le));Ee.set(e),e=Ee}},o=t.f||0,l=t.p||0,c=t.b||0,u=t.l,d=t.d,f=t.m,h=t.n,p=r*8;do{if(!u){t.f=o=il(n,l,1);var m=il(n,l+1,3);if(l+=3,m)if(m==1)u=Bre,d=zre,f=9,h=5;else if(m==2){var b=il(n,l,31)+257,_=il(n,l+10,15)+4,x=b+il(n,l+5,31)+1;l+=14;for(var S=new Gr(x),T=new Gr(19),C=0;C<_;++C)T[A_[C]]=il(n,l+C*3,7);l+=_*3;for(var M=Q2(T),A=(1<<M)-1,I=Ml(T,M,1),C=0;C<x;){var D=I[il(n,l,A)];l+=D&15;var v=D>>>4;if(v<16)S[C++]=v;else{var L=0,F=0;for(v==16?(F=3+il(n,l,3),l+=2,L=S[C-1]):v==17?(F=3+il(n,l,7),l+=3):v==18&&(F=11+il(n,l,127),l+=7);F--;)S[C++]=L}}var B=S.subarray(0,b),k=S.subarray(b);f=Q2(B),h=Q2(k),u=Ml(B,f,1),d=Ml(k,h,1)}else throw"invalid block type";else{var v=vw(l)+4,g=n[v-4]|n[v-3]<<8,y=v+g;if(y>r){if(a)throw"unexpected EOF";break}i&&s(c+g),e.set(n.subarray(v,y),c),t.b=c+=g,t.p=l=y*8;continue}if(l>p){if(a)throw"unexpected EOF";break}}i&&s(c+131072);for(var H=(1<<f)-1,z=(1<<h)-1,O=l;;O=l){var L=u[J2(n,l)&H],G=L>>>4;if(l+=L&15,l>p){if(a)throw"unexpected EOF";break}if(!L)throw"invalid length/literal";if(G<256)e[c++]=G;else if(G==256){O=l,u=null;break}else{var X=G-254;if(G>264){var C=G-257,J=ly[C];X=il(n,l,(1<<J)-1)+W8[C],l+=J}var Q=d[J2(n,l)&z],re=Q>>>4;if(!Q)throw"invalid distance";l+=Q&15;var k=Nre[re];if(re>3){var J=cy[re];k+=J2(n,l)&(1<<J)-1,l+=J}if(l>p){if(a)throw"unexpected EOF";break}i&&s(c+131072);for(var de=c+X;c<de;c+=4)e[c]=e[c-k],e[c+1]=e[c+1-k],e[c+2]=e[c+2-k],e[c+3]=e[c+3-k];c=de}}t.l=u,t.p=O,t.b=c,u&&(o=1,t.m=f,t.d=d,t.n=h)}while(!o);return c==e.length?e:Tl(e,0,c)},Oc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8},iv=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},eC=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return[Zu,0];if(i==1){var s=new Gr(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(x,S){return x.f-S.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var h=new Ba(f+1),p=RM(t[u-1],h,0);if(p>e){var r=0,m=0,v=p-e,g=1<<v;for(a.sort(function(S,T){return h[T.s]-h[S.s]||S.f-T.f});r<i;++r){var y=a[r].s;if(h[y]>e)m+=g-(1<<p-h[y]),h[y]=e;else break}for(m>>>=v;m>0;){var b=a[r].s;h[b]<e?m-=1<<e-h[b]++-1:++r}for(;r>=0&&m;--r){var _=a[r].s;h[_]==e&&(--h[_],++m)}p=e}return[new Gr(h),p]},RM=function(n,e,t){return n.s==-1?Math.max(RM(n.l,e,t+1),RM(n.r,e,t+1)):e[n.s]=t},KP=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ba(++e),r=0,i=n[0],a=1,s=function(l){t[r++]=l},o=1;o<=e;++o)if(n[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=n[o]}return[t.subarray(0,r),e]},av=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},hb=function(n,e,t){var r=t.length,i=vw(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},YP=function(n,e,t,r,i,a,s,o,l,c,u){Oc(e,u++,t),++i[256];for(var d=eC(i,15),f=d[0],h=d[1],p=eC(a,15),m=p[0],v=p[1],g=KP(f),y=g[0],b=g[1],_=KP(m),x=_[0],S=_[1],T=new Ba(19),C=0;C<y.length;++C)T[y[C]&31]++;for(var C=0;C<x.length;++C)T[x[C]&31]++;for(var M=eC(T,7),A=M[0],I=M[1],D=19;D>4&&!A[A_[D-1]];--D);var L=c+5<<3,F=av(i,vd)+av(a,Mg)+s,B=av(i,f)+av(a,m)+s+14+3*D+av(T,A)+(2*T[16]+3*T[17]+7*T[18]);if(L<=F&&L<=B)return hb(e,u,n.subarray(l,l+c));var k,H,z,O;if(Oc(e,u,1+(B<F)),u+=2,B<F){k=Ml(f,h,0),H=f,z=Ml(m,v,0),O=m;var G=Ml(A,I,0);Oc(e,u,b-257),Oc(e,u+5,S-1),Oc(e,u+10,D-4),u+=14;for(var C=0;C<D;++C)Oc(e,u+3*C,A[A_[C]]);u+=3*D;for(var X=[y,x],J=0;J<2;++J)for(var Q=X[J],C=0;C<Q.length;++C){var re=Q[C]&31;Oc(e,u,G[re]),u+=A[re],re>15&&(Oc(e,u,Q[C]>>>5&127),u+=Q[C]>>>12)}}else k=Ore,H=vd,z=Fre,O=Mg;for(var C=0;C<o;++C)if(r[C]>255){var re=r[C]>>>18&31;iv(e,u,k[re+257]),u+=H[re+257],re>7&&(Oc(e,u,r[C]>>>23&31),u+=ly[re]);var de=r[C]&31;iv(e,u,z[de]),u+=O[de],de>3&&(iv(e,u,r[C]>>>5&8191),u+=cy[de])}else iv(e,u,k[r[C]]),u+=H[r[C]];return iv(e,u,k[256]),u+H[256]},Ure=new md([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Zu=new Gr(0),Hre=function(n,e,t,r,i,a){var s=n.length,o=new Gr(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=0;if(!e||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d<s?c=hb(l,c,n.subarray(u,d)):(l[u]=a,c=hb(l,c,n.subarray(u,s)))}else{for(var f=Ure[e-1],h=f>>>13,p=f&8191,m=(1<<t)-1,v=new Ba(32768),g=new Ba(m+1),y=Math.ceil(t/3),b=2*y,_=function(ie){return(n[ie]^n[ie+1]<<y^n[ie+2]<<b)&m},x=new md(25e3),S=new Ba(288),T=new Ba(32),C=0,M=0,u=0,A=0,I=0,D=0;u<s;++u){var L=_(u),F=u&32767,B=g[L];if(v[F]=B,g[L]=F,I<=u){var k=s-u;if((C>7e3||A>24576)&&k>423){c=YP(n,l,0,x,S,T,M,A,D,u-D,c),A=C=M=0,D=u;for(var H=0;H<286;++H)S[H]=0;for(var H=0;H<30;++H)T[H]=0}var z=2,O=0,G=p,X=F-B&32767;if(k>2&&L==_(u-X))for(var J=Math.min(h,k)-1,Q=Math.min(32767,u),re=Math.min(258,k);X<=Q&&--G&&F!=B;){if(n[u+z]==n[u+z-X]){for(var de=0;de<re&&n[u+de]==n[u+de-X];++de);if(de>z){if(z=de,O=X,de>J)break;for(var le=Math.min(X,de-2),fe=0,H=0;H<le;++H){var Ee=u-X+H+32768&32767,Re=v[Ee],He=Ee-Re+32768&32767;He>fe&&(fe=He,B=Ee)}}}F=B,B=v[F],X+=F-B+32768&32767}if(O){x[A++]=268435456|IM[z]<<18|qP[O];var $e=IM[z]&31,K=qP[O]&31;M+=ly[$e]+cy[K],++S[257+$e],++T[K],I=u+z,++C}else x[A++]=n[u],++S[n[u]]}}c=YP(n,l,a,x,S,T,M,A,D,u-D,c),!a&&c&7&&(c=hb(l,c+1,Zu))}return Tl(o,0,r+vw(c)+i)},Vre=function(){for(var n=new md(256),e=0;e<256;++e){for(var t=e,r=9;--r;)t=(t&1&&3988292384)^t>>>1;n[e]=t}return n}(),uy=function(){var n=-1;return{p:function(e){for(var t=n,r=0;r<e.length;++r)t=Vre[t&255^e[r]]^t>>>8;n=t},d:function(){return~n}}},q8=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|n>>>8<<16|(e&255)<<8|e>>>8}}},Nm=function(n,e,t,r,i){return Hre(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},yw=function(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t},cG=function(n,e,t){for(var r=n(),i=n.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),s=0;s<r.length;++s){var o=r[s],l=a[s];if(typeof o=="function"){e+=";"+l+"=";var c=o.toString();if(o.prototype)if(c.indexOf("[native code]")!=-1){var u=c.indexOf(" ",8)+1;e+=c.slice(u,c.indexOf("(",u))}else{e+=c;for(var d in o.prototype)e+=";"+l+".prototype."+d+"="+o.prototype[d].toString()}else e+=c}else t[l]=o}return[e,t]},IS=[],_tt=function(n){var e=[];for(var t in n)(n[t]instanceof Gr||n[t]instanceof Ba||n[t]instanceof md)&&e.push((n[t]=new n[t].constructor(n[t])).buffer);return e},$re=function(n,e,t,r){var i;if(!IS[t]){for(var a="",s={},o=n.length-1,l=0;l<o;++l)i=cG(n[l],a,s),a=i[0],s=i[1];IS[t]=cG(n[o],a,s)}var c=yw({},IS[t][1]);return btt(IS[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,c,_tt(c),r)},dy=function(){return[Gr,Ba,md,ly,cy,A_,W8,Nre,Bre,zre,E_,Ml,Q2,il,J2,vw,Tl,gw,my,bh,K8]},fy=function(){return[Gr,Ba,md,ly,cy,A_,IM,qP,Ore,vd,Fre,Mg,E_,Ure,Zu,Ml,Oc,iv,eC,RM,KP,av,hb,YP,vw,Tl,Hre,Nm,bw,bh]},Gre=function(){return[Y8,j8,ci,uy,Vre]},Wre=function(){return[X8,Yre]},qre=function(){return[Z8,ci,q8]},Kre=function(){return[Xre]},bh=function(n){return postMessage(n,[n.buffer])},K8=function(n){return n&&n.size&&new Gr(n.size)},hy=function(n,e,t,r,i,a){var s=$re(t,r,i,function(o,l){s.terminate(),a(o,l)});return s.postMessage([n,e],e.consume?[n.buffer]:[]),function(){s.terminate()}},Ll=function(n){return n.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return n.push(e.data[0],e.data[1])}},py=function(n,e,t,r,i){var a,s=$re(n,r,i,function(o,l){o?(s.terminate(),e.ondata.call(e,o)):(l[1]&&s.terminate(),e.ondata.call(e,o,l[0],l[1]))});s.postMessage(t),e.push=function(o,l){if(a)throw"stream finished";if(!e.ondata)throw"no stream handler";s.postMessage([o,a=l],[o.buffer])},e.terminate=function(){s.terminate()}},Fs=function(n,e){return n[e]|n[e+1]<<8},sa=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},nI=function(n,e){return sa(n,e)+sa(n,e+4)*4294967296},ci=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Y8=function(n,e){var t=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&ci(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){n[3]=8;for(var r=0;r<=t.length;++r)n[r+10]=t.charCodeAt(r)}},X8=function(n){if(n[0]!=31||n[1]!=139||n[2]!=8)throw"invalid gzip data";var e=n[3],t=10;e&4&&(t+=n[10]|(n[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!n[t++]);return t+(e&2)},Yre=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},j8=function(n){return 10+(n.filename&&n.filename.length+1||0)},Z8=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},Xre=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Q8(n,e){return!e&&typeof n=="function"&&(e=n,n={}),this.ondata=e,n}var ou=function(){function n(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return n.prototype.p=function(e,t){this.ondata(Nm(e,this.o,0,0,!t),t)},n.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},n}(),jre=function(){function n(e,t){py([fy,function(){return[Ll,ou]}],this,Q8.call(this,e,t),function(r){var i=new ou(r.data);onmessage=Ll(i)},6)}return n}();function Zre(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return hy(n,e,[fy],function(r){return bh(bw(r.data[0],r.data[1]))},0,t)}function bw(n,e){return Nm(n,e||{},0,0)}var po=function(){function n(e){this.s={},this.p=new Gr(0),this.ondata=e}return n.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,r=new Gr(t+e.length);r.set(this.p),r.set(e,t),this.p=r},n.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=gw(this.p,this.o,this.s);this.ondata(Tl(r,t,this.s.b),this.d),this.o=Tl(r,this.s.b-32768),this.s.b=this.o.length,this.p=Tl(this.p,this.s.p/8|0),this.s.p&=7},n.prototype.push=function(e,t){this.e(e),this.c(t)},n}(),J8=function(){function n(e){this.ondata=e,py([dy,function(){return[Ll,po]}],this,0,function(){var t=new po;onmessage=Ll(t)},7)}return n}();function eN(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return hy(n,e,[dy],function(r){return bh(my(r.data[0],K8(r.data[1])))},1,t)}function my(n,e){return gw(n,e)}var PM=function(){function n(e,t){this.c=uy(),this.l=0,this.v=1,ou.call(this,e,t)}return n.prototype.push=function(e,t){ou.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var r=Nm(e,this.o,this.v&&j8(this.o),t&&8,!t);this.v&&(Y8(r,this.o),this.v=0),t&&(ci(r,r.length-8,this.c.d()),ci(r,r.length-4,this.l)),this.ondata(r,t)},n}(),uG=function(){function n(e,t){py([fy,Gre,function(){return[Ll,ou,PM]}],this,Q8.call(this,e,t),function(r){var i=new PM(r.data);onmessage=Ll(i)},8)}return n}();function dG(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return hy(n,e,[fy,Gre,function(){return[DM]}],function(r){return bh(DM(r.data[0],r.data[1]))},2,t)}function DM(n,e){e||(e={});var t=uy(),r=n.length;t.p(n);var i=Nm(n,e,j8(e),8),a=i.length;return Y8(i,e),ci(i,a-8,t.d()),ci(i,a-4,r),i}var kM=function(){function n(e){this.v=1,po.call(this,e)}return n.prototype.push=function(e,t){if(po.prototype.e.call(this,e),this.v){var r=this.p.length>3?X8(this.p):4;if(r>=this.p.length&&!t)return;this.p=this.p.subarray(r),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}po.prototype.c.call(this,t)},n}(),Qre=function(){function n(e){this.ondata=e,py([dy,Wre,function(){return[Ll,po,kM]}],this,0,function(){var t=new kM;onmessage=Ll(t)},9)}return n}();function Jre(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return hy(n,e,[dy,Wre,function(){return[LM]}],function(r){return bh(LM(r.data[0]))},3,t)}function LM(n,e){return gw(n.subarray(X8(n),-8),e||new Gr(Yre(n)))}var XP=function(){function n(e,t){this.c=q8(),this.v=1,ou.call(this,e,t)}return n.prototype.push=function(e,t){ou.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e);var r=Nm(e,this.o,this.v&&2,t&&4,!t);this.v&&(Z8(r,this.o),this.v=0),t&&ci(r,r.length-4,this.c.d()),this.ondata(r,t)},n}(),wtt=function(){function n(e,t){py([fy,qre,function(){return[Ll,ou,XP]}],this,Q8.call(this,e,t),function(r){var i=new XP(r.data);onmessage=Ll(i)},10)}return n}();function xtt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return hy(n,e,[fy,qre,function(){return[jP]}],function(r){return bh(jP(r.data[0],r.data[1]))},4,t)}function jP(n,e){e||(e={});var t=q8();t.p(n);var r=Nm(n,e,2,4);return Z8(r,e),ci(r,r.length-4,t.d()),r}var NM=function(){function n(e){this.v=1,po.call(this,e)}return n.prototype.push=function(e,t){if(po.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}po.prototype.c.call(this,t)},n}(),eie=function(){function n(e){this.ondata=e,py([dy,Kre,function(){return[Ll,po,NM]}],this,0,function(){var t=new NM;onmessage=Ll(t)},11)}return n}();function tie(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return hy(n,e,[dy,Kre,function(){return[I_]}],function(r){return bh(I_(r.data[0],K8(r.data[1])))},5,t)}function I_(n,e){return gw((Xre(n),n.subarray(2,-4)),e)}var nie=function(){function n(e){this.G=kM,this.I=po,this.Z=NM,this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new Gr(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,a=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(a):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(a):new this.Z(a),this.s.push(this.p,t),this.p=null}}},n}(),Stt=function(){function n(e){this.G=Qre,this.I=J8,this.Z=eie,this.ondata=e}return n.prototype.push=function(e,t){nie.prototype.push.call(this,e,t)},n}();function Ctt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return n[0]==31&&n[1]==139&&n[2]==8?Jre(n,e,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?eN(n,e,t):tie(n,e,t)}function Mtt(n,e){return n[0]==31&&n[1]==139&&n[2]==8?LM(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?my(n,e):I_(n,e)}var tN=function(n,e,t,r){for(var i in n){var a=n[i],s=e+i;a instanceof Gr?t[s]=[a,r]:Array.isArray(a)?t[s]=[a[0],yw(r,a[1])]:tN(a,s+"/",t,r)}},fG=typeof TextEncoder<"u"&&new TextEncoder,ZP=typeof TextDecoder<"u"&&new TextDecoder,rie=0;try{ZP.decode(Zu,{stream:!0}),rie=1}catch{}var iie=function(n){for(var e="",t=0;;){var r=n[t++],i=(r>127)+(r>223)+(r>239);if(t+i>n.length)return[e,Tl(n,t-1)];i?i==3?(r=((r&15)<<18|(n[t++]&63)<<12|(n[t++]&63)<<6|n[t++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|n[t++]&63):e+=String.fromCharCode((r&15)<<12|(n[t++]&63)<<6|n[t++]&63):e+=String.fromCharCode(r)}},Ttt=function(){function n(e){this.ondata=e,rie?this.t=new TextDecoder:this.p=Zu}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var r=new Gr(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=iie(r),a=i[0],s=i[1];if(t){if(s.length)throw"invalid utf-8 data";this.p=null}else this.p=s;this.ondata(a,t)},n}(),Att=function(){function n(e){this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(ch(e),this.d=t||!1)},n}();function ch(n,e){if(e){for(var t=new Gr(n.length),r=0;r<n.length;++r)t[r]=n.charCodeAt(r);return t}if(fG)return fG.encode(n);for(var i=n.length,a=new Gr(n.length+(n.length>>1)),s=0,o=function(u){a[s++]=u},r=0;r<i;++r){if(s+5>a.length){var l=new Gr(s+8+(i-r<<1));l.set(a),a=l}var c=n.charCodeAt(r);c<128||e?o(c):c<2048?(o(192|c>>6),o(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|n.charCodeAt(++r)&1023,o(240|c>>18),o(128|c>>12&63),o(128|c>>6&63),o(128|c&63)):(o(224|c>>12),o(128|c>>6&63),o(128|c&63))}return Tl(a,0,s)}function nN(n,e){if(e){for(var t="",r=0;r<n.length;r+=16384)t+=String.fromCharCode.apply(null,n.subarray(r,r+16384));return t}else{if(ZP)return ZP.decode(n);var i=iie(n),a=i[0],s=i[1];if(s.length)throw"invalid utf-8 data";return a}}var aie=function(n){return n==1?3:n<6?2:n==9?1:0},sie=function(n,e){return e+30+Fs(n,e+26)+Fs(n,e+28)},oie=function(n,e,t){var r=Fs(n,e+28),i=nN(n.subarray(e+46,e+46+r),!(Fs(n,e+8)&2048)),a=e+46+r,s=sa(n,e+20),o=t&&s==4294967295?lie(n,a):[s,sa(n,e+24),sa(n,e+42)],l=o[0],c=o[1],u=o[2];return[Fs(n,e+10),l,c,i,a+Fs(n,e+30)+Fs(n,e+32),u]},lie=function(n,e){for(;Fs(n,e)!=1;e+=4+Fs(n,e+2));return[nI(n,e+12),nI(n,e+4),nI(n,e+20)]},Of=function(n){var e=0;if(n)for(var t in n){var r=n[t].length;if(r>65535)throw"extra field too long";e+=r+4}return e},Tg=function(n,e,t,r,i,a,s,o){var l=r.length,c=t.extra,u=o&&o.length,d=Of(c);ci(n,e,s!=null?33639248:67324752),e+=4,s!=null&&(n[e++]=20,n[e++]=t.os),n[e]=20,e+=2,n[e++]=t.flag<<1|(a==null&&8),n[e++]=i&&8,n[e++]=t.compression&255,n[e++]=t.compression>>8;var f=new Date(t.mtime==null?Date.now():t.mtime),h=f.getFullYear()-1980;if(h<0||h>119)throw"date not in range 1980-2099";if(ci(n,e,h<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),e+=4,a!=null&&(ci(n,e,t.crc),ci(n,e+4,a),ci(n,e+8,t.size)),ci(n,e+12,l),ci(n,e+14,d),e+=16,s!=null&&(ci(n,e,u),ci(n,e+6,t.attrs),ci(n,e+10,s),e+=14),n.set(r,e),e+=l,d)for(var p in c){var m=c[p],v=m.length;ci(n,e,+p),ci(n,e+2,v),n.set(m,e+4),e+=4+v}return u&&(n.set(o,e),e+=u),e},rN=function(n,e,t,r,i){ci(n,e,101010256),ci(n,e+8,t),ci(n,e+10,t),ci(n,e+12,r),ci(n,e+16,i)},R_=function(){function n(e){this.filename=e,this.c=uy(),this.size=0,this.compression=0}return n.prototype.process=function(e,t){this.ondata(null,e,t)},n.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},n}(),Ett=function(){function n(e,t){var r=this;t||(t={}),R_.call(this,e),this.d=new ou(t,function(i,a){r.ondata(null,i,a)}),this.compression=8,this.flag=aie(t.level)}return n.prototype.process=function(e,t){try{this.d.push(e,t)}catch(r){this.ondata(r,null,t)}},n.prototype.push=function(e,t){R_.prototype.push.call(this,e,t)},n}(),Itt=function(){function n(e,t){var r=this;t||(t={}),R_.call(this,e),this.d=new jre(t,function(i,a,s){r.ondata(i,a,s)}),this.compression=8,this.flag=aie(t.level),this.terminate=this.d.terminate}return n.prototype.process=function(e,t){this.d.push(e,t)},n.prototype.push=function(e,t){R_.prototype.push.call(this,e,t)},n}(),Rtt=function(){function n(e){this.ondata=e,this.u=[],this.d=1}return n.prototype.add=function(e){var t=this;if(this.d&2)throw"stream finished";var r=ch(e.filename),i=r.length,a=e.comment,s=a&&ch(a),o=i!=e.filename.length||s&&a.length!=s.length,l=i+Of(e.extra)+30;if(i>65535)throw"filename too long";var c=new Gr(l);Tg(c,0,e,r,o);var u=[c],d=function(){for(var v=0,g=u;v<g.length;v++){var y=g[v];t.ondata(null,y,!1)}u=[]},f=this.d;this.d=0;var h=this.u.length,p=yw(e,{f:r,u:o,o:s,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),f){var v=t.u[h+1];v?v.r():t.d=1}f=1}}),m=0;e.ondata=function(v,g,y){if(v)t.ondata(v,g,y),t.terminate();else if(m+=g.length,u.push(g),y){var b=new Gr(16);ci(b,0,134695760),ci(b,4,e.crc),ci(b,8,m),ci(b,12,e.size),u.push(b),p.c=m,p.b=l+m+16,p.crc=e.crc,p.size=e.size,f&&p.r(),f=1}else f&&d()},this.u.push(p)},n.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){e.d&1&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},n.prototype.e=function(){for(var e=0,t=0,r=0,i=0,a=this.u;i<a.length;i++){var s=a[i];r+=46+s.f.length+Of(s.extra)+(s.o?s.o.length:0)}for(var o=new Gr(r+22),l=0,c=this.u;l<c.length;l++){var s=c[l];Tg(o,e,s,s.f,s.u,s.c,t,s.o),e+=46+s.f.length+Of(s.extra)+(s.o?s.o.length:0),t+=s.b}rN(o,e,this.u.length,r,t),this.ondata(null,o,!0),this.d=2},n.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var r=t[e];r.t()}this.d=2},n}();function Ptt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";var r={};tN(n,"",r,e);var i=Object.keys(r),a=i.length,s=0,o=0,l=a,c=new Array(a),u=[],d=function(){for(var m=0;m<u.length;++m)u[m]()},f=function(){var m=new Gr(o+22),v=s,g=o-s;o=0;for(var y=0;y<l;++y){var b=c[y];try{var _=b.c.length;Tg(m,o,b,b.f,b.u,_);var x=30+b.f.length+Of(b.extra),S=o+x;m.set(b.c,S),Tg(m,s,b,b.f,b.u,_,o,b.m),s+=16+x+(b.m?b.m.length:0),o=S+_}catch(T){return t(T,null)}}rN(m,s,c.length,g,v),t(null,m)};a||f();for(var h=function(m){var v=i[m],g=r[v],y=g[0],b=g[1],_=uy(),x=y.length;_.p(y);var S=ch(v),T=S.length,C=b.comment,M=C&&ch(C),A=M&&M.length,I=Of(b.extra),D=b.level==0?0:8,L=function(F,B){if(F)d(),t(F,null);else{var k=B.length;c[m]=yw(b,{size:x,crc:_.d(),c:B,f:S,m:M,u:T!=v.length||M&&C.length!=A,compression:D}),s+=30+T+I+k,o+=76+2*(T+I)+(A||0)+k,--a||f()}};if(T>65535&&L("filename too long",null),!D)L(null,y);else if(x<16e4)try{L(null,bw(y,b))}catch(F){L(F,null)}else u.push(Zre(y,b,L))},p=0;p<l;++p)h(p);return d}function Dtt(n,e){e||(e={});var t={},r=[];tN(n,"",t,e);var i=0,a=0;for(var s in t){var o=t[s],l=o[0],c=o[1],u=c.level==0?0:8,d=ch(s),f=d.length,h=c.comment,p=h&&ch(h),m=p&&p.length,v=Of(c.extra);if(f>65535)throw"filename too long";var g=u?bw(l,c):l,y=g.length,b=uy();b.p(l),r.push(yw(c,{size:l.length,crc:b.d(),c:g,f:d,m:p,u:f!=s.length||p&&h.length!=m,o:i,compression:u})),i+=30+f+v+y,a+=76+2*(f+v)+(m||0)+y}for(var _=new Gr(a+22),x=i,S=a-i,T=0;T<r.length;++T){var d=r[T];Tg(_,d.o,d,d.f,d.u,d.c.length);var C=30+d.f.length+Of(d.extra);_.set(d.c,d.o+C),Tg(_,i,d,d.f,d.u,d.c.length,d.o,d.m),i+=16+C+(d.m?d.m.length:0)}return rN(_,i,r.length,S,x),_}var cie=function(){function n(){}return n.prototype.push=function(e,t){this.ondata(null,e,t)},n.compression=0,n}(),ktt=function(){function n(){var e=this;this.i=new po(function(t,r){e.ondata(null,t,r)})}return n.prototype.push=function(e,t){try{this.i.push(e,t)}catch(r){this.ondata(r,e,t)}},n.compression=8,n}(),Ltt=function(){function n(e,t){var r=this;t<32e4?this.i=new po(function(i,a){r.ondata(null,i,a)}):(this.i=new J8(function(i,a,s){r.ondata(i,a,s)}),this.terminate=this.i.terminate)}return n.prototype.push=function(e,t){this.i.terminate&&(e=Tl(e,0)),this.i.push(e,t)},n.compression=8,n}(),Ntt=function(){function n(e){this.onfile=e,this.k=[],this.o={0:cie},this.p=Zu}return n.prototype.push=function(e,t){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var i=Math.min(this.c,e.length),a=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(a,!this.c):this.k[0].push(a),e=e.subarray(i),e.length)return this.push(e,t)}else{var s=0,o=0,l=void 0,c=void 0;this.p.length?e.length?(c=new Gr(this.p.length+e.length),c.set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var u=c.length,d=this.c,f=d&&this.d,h=function(){var g,y=sa(c,o);if(y==67324752){s=1,l=o,p.d=null,p.c=0;var b=Fs(c,o+6),_=Fs(c,o+8),x=b&2048,S=b&8,T=Fs(c,o+26),C=Fs(c,o+28);if(u>o+30+T+C){var M=[];p.k.unshift(M),s=2;var A=sa(c,o+18),I=sa(c,o+22),D=nN(c.subarray(o+30,o+=30+T),!x);A==4294967295?(g=S?[-2]:lie(c,o),A=g[0],I=g[1]):S&&(A=-1),o+=C,p.c=A;var L,F={name:D,compression:_,start:function(){if(!F.ondata)throw"no callback";if(!A)F.ondata(null,Zu,!0);else{var B=r.o[_];if(!B)throw"unknown compression type "+_;L=A<0?new B(D):new B(D,A,I),L.ondata=function(O,G,X){F.ondata(O,G,X)};for(var k=0,H=M;k<H.length;k++){var z=H[k];L.push(z,!1)}r.k[0]==M&&r.c?r.d=L:L.push(Zu,!0)}},terminate:function(){L&&L.terminate&&L.terminate()}};A>=0&&(F.size=A,F.originalSize=I),p.onfile(F)}return"break"}else if(d){if(y==134695760)return l=o+=12+(d==-2&&8),s=3,p.c=0,"break";if(y==33639248)return l=o-=4,s=3,p.c=0,"break"}},p=this;o<u-4;++o){var m=h();if(m==="break")break}if(this.p=Zu,d<0){var v=s?c.subarray(0,l-12-(d==-2&&8)-(sa(c,l-16)==134695760&&4)):c.subarray(0,o);f?f.push(v,!!s):this.k[+(s==2)].push(v)}if(s&2)return this.push(c.subarray(o),t);this.p=c.subarray(o)}if(t){if(this.c)throw"invalid zip file";this.p=null}},n.prototype.register=function(e){this.o[e.compression]=e},n}();function Ott(n,e){if(typeof e!="function")throw"no callback";for(var t=[],r=function(){for(var f=0;f<t.length;++f)t[f]()},i={},a=n.length-22;sa(n,a)!=101010256;--a)if(!a||n.length-a>65558){e("invalid zip file",null);return}var s=Fs(n,a+8);s||e(null,{});var o=s,l=sa(n,a+16),c=l==4294967295;if(c){if(a=sa(n,a-12),sa(n,a)!=101075792){e("invalid zip file",null);return}o=s=sa(n,a+32),l=sa(n,a+48)}for(var u=function(f){var h=oie(n,l,c),p=h[0],m=h[1],v=h[2],g=h[3],y=h[4],b=h[5],_=sie(n,b);l=y;var x=function(T,C){T?(r(),e(T,null)):(i[g]=C,--s||e(null,i))};if(!p)x(null,Tl(n,_,_+m));else if(p==8){var S=n.subarray(_,_+m);if(m<32e4)try{x(null,my(S,new Gr(v)))}catch(T){x(T,null)}else t.push(eN(S,{size:v},x))}else x("unknown compression type "+p,null)},d=0;d<o;++d)u();return r}function Btt(n){for(var e={},t=n.length-22;sa(n,t)!=101010256;--t)if(!t||n.length-t>65558)throw"invalid zip file";var r=Fs(n,t+8);if(!r)return{};var i=sa(n,t+16),a=i==4294967295;if(a){if(t=sa(n,t-12),sa(n,t)!=101075792)throw"invalid zip file";r=sa(n,t+32),i=sa(n,t+48)}for(var s=0;s<r;++s){var o=oie(n,i,a),l=o[0],c=o[1],u=o[2],d=o[3],f=o[4],h=o[5],p=sie(n,h);if(i=f,!l)e[d]=Tl(n,p,p+c);else if(l==8)e[d]=my(n.subarray(p,p+c),new Gr(u));else throw"unknown compression type "+l}return e}var Ftt=Object.freeze(Object.defineProperty({__proto__:null,Deflate:ou,AsyncDeflate:jre,deflate:Zre,deflateSync:bw,Inflate:po,AsyncInflate:J8,inflate:eN,inflateSync:my,Gzip:PM,AsyncGzip:uG,gzip:dG,gzipSync:DM,Gunzip:kM,AsyncGunzip:Qre,gunzip:Jre,gunzipSync:LM,Zlib:XP,AsyncZlib:wtt,zlib:xtt,zlibSync:jP,Unzlib:NM,AsyncUnzlib:eie,unzlib:tie,unzlibSync:I_,compress:dG,AsyncCompress:uG,compressSync:DM,Compress:PM,Decompress:nie,AsyncDecompress:Stt,decompress:Ctt,decompressSync:Mtt,DecodeUTF8:Ttt,EncodeUTF8:Att,strToU8:ch,strFromU8:nN,ZipPassThrough:R_,ZipDeflate:Ett,AsyncZipDeflate:Itt,Zip:Rtt,zip:Ptt,zipSync:Dtt,UnzipPassThrough:cie,UnzipInflate:ktt,AsyncUnzipInflate:Ltt,Unzip:Ntt,unzip:Ott,unzipSync:Btt},Symbol.toStringTag,{value:"Module"}));function uie(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,a=r,s=Math.floor((i+a)/2);for(;e<t[s]||e>=t[s+1];)e<t[s]?a=s:i=s,s=Math.floor((i+a)/2);return s}function ztt(n,e,t,r){const i=[],a=[],s=[];i[0]=1;for(let o=1;o<=t;++o){a[o]=e-r[n+1-o],s[o]=r[n+o]-e;let l=0;for(let c=0;c<o;++c){const u=s[c+1],d=a[o-c],f=i[c]/(u+d);i[c]=l+u*f,l=d*f}i[o]=l}return i}function Utt(n,e,t,r){const i=uie(n,r,e),a=ztt(i,r,n,e),s=new ri(0,0,0,0);for(let o=0;o<=n;++o){const l=t[i-n+o],c=a[o],u=l.w*c;s.x+=l.x*u,s.y+=l.y*u,s.z+=l.z*u,s.w+=l.w*c}return s}function Htt(n,e,t,r,i){const a=[];for(let d=0;d<=t;++d)a[d]=0;const s=[];for(let d=0;d<=r;++d)s[d]=a.slice(0);const o=[];for(let d=0;d<=t;++d)o[d]=a.slice(0);o[0][0]=1;const l=a.slice(0),c=a.slice(0);for(let d=1;d<=t;++d){l[d]=e-i[n+1-d],c[d]=i[n+d]-e;let f=0;for(let h=0;h<d;++h){const p=c[h+1],m=l[d-h];o[d][h]=p+m;const v=o[h][d-1]/o[d][h];o[h][d]=f+p*v,f=m*v}o[d][d]=f}for(let d=0;d<=t;++d)s[0][d]=o[d][t];for(let d=0;d<=t;++d){let f=0,h=1;const p=[];for(let m=0;m<=t;++m)p[m]=a.slice(0);p[0][0]=1;for(let m=1;m<=r;++m){let v=0;const g=d-m,y=t-m;d>=m&&(p[h][0]=p[f][0]/o[y+1][g],v=p[h][0]*o[g][y]);const b=g>=-1?1:-g,_=d-1<=y?m-1:t-d;for(let S=b;S<=_;++S)p[h][S]=(p[f][S]-p[f][S-1])/o[y+1][g+S],v+=p[h][S]*o[g+S][y];d<=y&&(p[h][m]=-p[f][m-1]/o[y+1][d],v+=p[h][m]*o[d][y]),s[m][d]=v;const x=f;f=h,h=x}}let u=t;for(let d=1;d<=r;++d){for(let f=0;f<=t;++f)s[d][f]*=u;u*=t-d}return s}function Vtt(n,e,t,r,i){const a=i<n?i:n,s=[],o=uie(n,r,e),l=Htt(o,r,n,a,e),c=[];for(let u=0;u<t.length;++u){const d=t[u].clone(),f=d.w;d.x*=f,d.y*=f,d.z*=f,c[u]=d}for(let u=0;u<=a;++u){const d=c[o-n].clone().multiplyScalar(l[u][0]);for(let f=1;f<=n;++f)d.add(c[o-n+f].clone().multiplyScalar(l[u][f]));s[u]=d}for(let u=a+1;u<=i+1;++u)s[u]=new ri(0,0,0);return s}function $tt(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function Gtt(n){const e=n.length,t=[],r=[];for(let a=0;a<e;++a){const s=n[a];t[a]=new Xe(s.x,s.y,s.z),r[a]=s.w}const i=[];for(let a=0;a<e;++a){const s=t[a].clone();for(let o=1;o<=a;++o)s.sub(i[a-o].clone().multiplyScalar($tt(a,o)*r[o]));i[a]=s.divideScalar(r[0])}return i}function Wtt(n,e,t,r,i){const a=Vtt(n,e,t,r,i);return Gtt(a)}class hG extends Tc{constructor(e,t,r,i,a){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=a||this.knots.length-1;for(let s=0;s<r.length;++s){const o=r[s];this.controlPoints[s]=new ri(o.x,o.y,o.z,o.w)}}getPoint(e,t=new Xe){const r=t,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),a=Utt(this.degree,this.knots,this.controlPoints,i);return a.w!==1&&a.divideScalar(a.w),r.set(a.x,a.y,a.z)}getTangent(e,t=new Xe){const r=t,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),a=Wtt(this.degree,this.knots,this.controlPoints,i,1);return r.copy(a[1]).normalize(),r}}let Br,ra,no;class qtt extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=a.path===""?Ms.extractUrlBase(e):a.path,o=new Ts(this.manager);o.setPath(a.path),o.setResponseType("arraybuffer"),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e,t){if(Qtt(e))Br=new Ztt().parse(e);else{const i=pie(e);if(!Jtt(i))throw new Error("THREE.FBXLoader: Unknown format.");if(mG(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+mG(i));Br=new jtt().parse(i)}const r=new Cg(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Ktt(r,this.manager).parse(Br)}}class Ktt{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){ra=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),a=new Ytt().parse(i);return this.parseScene(i,a,r),no}parseConnections(){const e=new Map;return"Connections"in Br&&Br.Connections.connections.forEach(function(r){const i=r[0],a=r[1],s=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const o={ID:a,relationship:s};e.get(i).parents.push(o),e.has(a)||e.set(a,{parents:[],children:[]});const l={ID:i,relationship:s};e.get(a).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Br.Objects){const r=Br.Objects.Video;for(const i in r){const a=r[i],s=parseInt(i);if(e[s]=a.RelativeFilename||a.Filename,"Content"in a){const o=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,l=typeof a.Content=="string"&&a.Content!=="";if(o||l){const c=this.parseImage(r[i]);t[a.RelativeFilename||a.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let a;switch(i){case"bmp":a="image/bmp";break;case"jpg":case"jpeg":a="image/jpeg";break;case"png":a="image/png";break;case"tif":a="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),a="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+a+";base64,"+t;{const s=new Uint8Array(t);return window.URL.createObjectURL(new Blob([s],{type:a}))}}parseTextures(e){const t=new Map;if("Texture"in Br.Objects){const r=Br.Objects.Texture;for(const i in r){const a=this.parseTexture(r[i],e);t.set(parseInt(i),a)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,a=e.WrapModeV,s=i!==void 0?i.value:0,o=a!==void 0?a.value:0;if(r.wrapS=s===0?co:Sa,r.wrapT=o===0?co:Sa,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;r.offset.x=l[0],r.offset.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,a=ra.get(e.id).children;a!==void 0&&a.length>0&&t[a[0].ID]!==void 0&&(r=t[a[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let s;const o=e.FileName.slice(-3).toLowerCase();if(o==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),s=new rs):(l.setPath(this.textureLoader.path),s=l.load(r))}else o==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),s=new rs):s=this.textureLoader.load(r);return this.textureLoader.setPath(i),s}parseMaterials(e){const t=new Map;if("Material"in Br.Objects){const r=Br.Objects.Material;for(const i in r){const a=this.parseMaterial(r[i],e);a!==null&&t.set(parseInt(i),a)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let a=e.ShadingModel;if(typeof a=="object"&&(a=a.value),!ra.has(r))return null;const s=this.parseParameters(e,t,r);let o;switch(a.toLowerCase()){case"phong":o=new nd;break;case"lambert":o=new U8;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),o=new nd;break}return o.setValues(s),o.name=i,o}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new bn().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new bn().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new bn().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new bn().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new bn().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new bn().fromArray(e.SpecularColor.value));const a=this;return ra.get(r).children.forEach(function(s){const o=s.relationship;switch(o){case"Bump":i.bumpMap=a.getTexture(t,s.ID);break;case"Maya|TEX_ao_map":i.aoMap=a.getTexture(t,s.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=a.getTexture(t,s.ID),i.map!==void 0&&(i.map.encoding=Er);break;case"DisplacementColor":i.displacementMap=a.getTexture(t,s.ID);break;case"EmissiveColor":i.emissiveMap=a.getTexture(t,s.ID),i.emissiveMap!==void 0&&(i.emissiveMap.encoding=Er);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=a.getTexture(t,s.ID);break;case"ReflectionColor":i.envMap=a.getTexture(t,s.ID),i.envMap!==void 0&&(i.envMap.mapping=m_,i.envMap.encoding=Er);break;case"SpecularColor":i.specularMap=a.getTexture(t,s.ID),i.specularMap!==void 0&&(i.specularMap.encoding=Er);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=a.getTexture(t,s.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",o);break}}),i}getTexture(e,t){return"LayeredTexture"in Br.Objects&&t in Br.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=ra.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Br.Objects){const r=Br.Objects.Deformer;for(const i in r){const a=r[i],s=ra.get(parseInt(i));if(a.attrType==="Skin"){const o=this.parseSkeleton(s,r);o.ID=i,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=s.parents[0].ID,e[i]=o}else if(a.attrType==="BlendShape"){const o={id:i};o.rawTargets=this.parseMorphTargets(s,r),o.id=i,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=o}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const a=t[i.ID];if(a.attrType!=="Cluster")return;const s={ID:i.ID,indices:[],weights:[],transformLink:new Un().fromArray(a.TransformLink.a)};"Indexes"in a&&(s.indices=a.Indexes.a,s.weights=a.Weights.a),r.push(s)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const a=e.children[i],s=t[a.ID],o={name:s.attrName,initialWeight:s.DeformPercent,id:s.id,fullWeights:s.FullWeights.a};if(s.attrType!=="BlendShapeChannel")return;o.geoID=ra.get(parseInt(a.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(o)}return r}parseScene(e,t,r){no=new uo;const i=this.parseModels(e.skeletons,t,r),a=Br.Objects.Model,s=this;i.forEach(function(l){const c=a[l.ID];s.setLookAtProperties(l,c),ra.get(l.ID).parents.forEach(function(d){const f=i.get(d.ID);f!==void 0&&f.add(l)}),l.parent===null&&no.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),no.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=fie(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const o=new Xtt().parse();no.children.length===1&&no.children[0].isGroup&&(no.children[0].animations=o,no=no.children[0]),no.animations=o}parseModels(e,t,r){const i=new Map,a=Br.Objects.Model;for(const s in a){const o=parseInt(s),l=a[s],c=ra.get(o);let u=this.buildSkeleton(c,e,o,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new wg;break;case"Null":default:u=new uo;break}u.name=l.attrName?Xr.sanitizeNodeName(l.attrName):"",u.ID=o}this.getTransformData(u,l),i.set(o,u)}return i}buildSkeleton(e,t,r,i){let a=null;return e.parents.forEach(function(s){for(const o in t){const l=t[o];l.rawBones.forEach(function(c,u){if(c.ID===s.ID){const d=a;a=new wg,a.matrixWorld.copy(c.transformLink),a.name=i?Xr.sanitizeNodeName(i):"",a.ID=r,l.bones[u]=a,d!==null&&a.add(d)}})}}),a}createCamera(e){let t,r;if(e.children.forEach(function(i){const a=Br.Objects.NodeAttribute[i.ID];a!==void 0&&(r=a)}),r===void 0)t=new Gi;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let a=1;r.NearPlane!==void 0&&(a=r.NearPlane.value/1e3);let s=1e3;r.FarPlane!==void 0&&(s=r.FarPlane.value/1e3);let o=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(o=r.AspectWidth.value,l=r.AspectHeight.value);const c=o/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const d=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new xa(u,c,a,s),d!==null&&t.setFocalLength(d);break;case 1:t=new ty(-o/2,o/2,l/2,-l/2,a,s);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Gi;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const a=Br.Objects.NodeAttribute[i.ID];a!==void 0&&(r=a)}),r===void 0)t=new Gi;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let a=16777215;r.Color!==void 0&&(a=new bn().fromArray(r.Color.value));let s=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(s=0);let o=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?o=0:o=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new _m(a,s,o,l);break;case 1:t=new mw(a,s);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=ws.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=ws.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new gA(a,s,o,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new _m(a,s);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,a=null,s=null;const o=[];return e.children.forEach(function(l){t.has(l.ID)&&(a=t.get(l.ID)),r.has(l.ID)&&o.push(r.get(l.ID))}),o.length>1?s=o:o.length>0?s=o[0]:(s=new nd({color:13421772}),o.push(s)),"color"in a.attributes&&o.forEach(function(l){l.vertexColors=!0}),a.FBX_Deformer?(i=new mA(a,s),i.normalizeSkinWeights()):i=new Ca(a,s),i}createCurve(e,t){const r=e.children.reduce(function(a,s){return t.has(s.ID)&&(a=t.get(s.ID)),a},null),i=new vc({color:3342591,linewidth:1});return new iy(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=hie(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&ra.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const a=Br.Objects.Model[i.ID];if("Lcl_Translation"in a){const s=a.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),no.add(e.target)):e.lookAt(new Xe().fromArray(s))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const a in e){const s=e[a];ra.get(parseInt(s.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;ra.get(c).parents.forEach(function(d){r.has(d.ID)&&r.get(d.ID).bind(new ry(s.bones),i[d.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Br.Objects){const t=Br.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(a){e[a.Node]=new Un().fromArray(a.Matrix.a)}):e[i.Node]=new Un().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Br&&"AmbientColor"in Br.GlobalSettings){const e=Br.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const a=new bn(t,r,i);no.add(new yA(a,1))}}}}class Ytt{parse(e){const t=new Map;if("Geometry"in Br.Objects){const r=Br.Objects.Geometry;for(const i in r){const a=ra.get(parseInt(i)),s=this.parseGeometry(a,r[i],e);t.set(parseInt(i),s)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,a=[],s=e.parents.map(function(d){return Br.Objects.Model[d.ID]});if(s.length===0)return;const o=e.children.reduce(function(d,f){return i[f.ID]!==void 0&&(d=i[f.ID]),d},null);e.children.forEach(function(d){r.morphTargets[d.ID]!==void 0&&a.push(r.morphTargets[d.ID])});const l=s[0],c={};"RotationOrder"in l&&(c.eulerOrder=hie(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=fie(c);return this.genGeometry(t,o,a,u)}genGeometry(e,t,r,i){const a=new Hr;e.attrName&&(a.name=e.attrName);const s=this.parseGeoNode(e,t),o=this.genBuffers(s),l=new En(o.vertex,3);if(l.applyMatrix4(i),a.setAttribute("position",l),o.colors.length>0&&a.setAttribute("color",new En(o.colors,3)),t&&(a.setAttribute("skinIndex",new T8(o.weightsIndices,4)),a.setAttribute("skinWeight",new En(o.vertexWeights,4)),a.FBX_Deformer=t),o.normal.length>0){const c=new bl().getNormalMatrix(i),u=new En(o.normal,3);u.applyNormalMatrix(c),a.setAttribute("normal",u)}if(o.uvs.forEach(function(c,u){let d="uv"+(u+1).toString();u===0&&(d="uv"),a.setAttribute(d,new En(o.uvs[u],2))}),s.material&&s.material.mappingType!=="AllSame"){let c=o.materialIndex[0],u=0;if(o.materialIndex.forEach(function(d,f){d!==c&&(a.addGroup(u,f-u,c),c=d,u=f)}),a.groups.length>0){const d=a.groups[a.groups.length-1],f=d.start+d.count;f!==o.materialIndex.length&&a.addGroup(f,o.materialIndex.length-f,c)}a.groups.length===0&&a.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(a,e,r,i),a}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,a){i.indices.forEach(function(s,o){r.weightTable[s]===void 0&&(r.weightTable[s]=[]),r.weightTable[s].push({id:a,weight:i.weights[o]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,a=!1,s=[],o=[],l=[],c=[],u=[],d=[];const f=this;return e.vertexIndices.forEach(function(h,p){let m,v=!1;h<0&&(h=h^-1,v=!0);let g=[],y=[];if(s.push(h*3,h*3+1,h*3+2),e.color){const b=RS(p,r,h,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[h]!==void 0&&e.weightTable[h].forEach(function(b){y.push(b.weight),g.push(b.id)}),y.length>4){a||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),a=!0);const b=[0,0,0,0],_=[0,0,0,0];y.forEach(function(x,S){let T=x,C=g[S];_.forEach(function(M,A,I){if(T>M){I[A]=T,T=M;const D=b[A];b[A]=C,C=D}})}),g=b,y=_}for(;y.length<4;)y.push(0),g.push(0);for(let b=0;b<4;++b)u.push(y[b]),d.push(g[b])}if(e.normal){const b=RS(p,r,h,e.normal);o.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(m=RS(p,r,h,e.material)[0]),e.uv&&e.uv.forEach(function(b,_){const x=RS(p,r,h,b);c[_]===void 0&&(c[_]=[]),c[_].push(x[0]),c[_].push(x[1])}),i++,v&&(f.genFace(t,e,s,m,o,l,c,u,d,i),r++,i=0,s=[],o=[],l=[],c=[],u=[],d=[])}),t}genFace(e,t,r,i,a,s,o,l,c,u){for(let d=2;d<u;d++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(d-1)*3]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+2]]),e.vertex.push(t.vertexPositions[r[d*3]]),e.vertex.push(t.vertexPositions[r[d*3+1]]),e.vertex.push(t.vertexPositions[r[d*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(d-1)*4]),e.vertexWeights.push(l[(d-1)*4+1]),e.vertexWeights.push(l[(d-1)*4+2]),e.vertexWeights.push(l[(d-1)*4+3]),e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(d-1)*4]),e.weightsIndices.push(c[(d-1)*4+1]),e.weightsIndices.push(c[(d-1)*4+2]),e.weightsIndices.push(c[(d-1)*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3])),t.color&&(e.colors.push(s[0]),e.colors.push(s[1]),e.colors.push(s[2]),e.colors.push(s[(d-1)*3]),e.colors.push(s[(d-1)*3+1]),e.colors.push(s[(d-1)*3+2]),e.colors.push(s[d*3]),e.colors.push(s[d*3+1]),e.colors.push(s[d*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(a[0]),e.normal.push(a[1]),e.normal.push(a[2]),e.normal.push(a[(d-1)*3]),e.normal.push(a[(d-1)*3+1]),e.normal.push(a[(d-1)*3+2]),e.normal.push(a[d*3]),e.normal.push(a[d*3+1]),e.normal.push(a[d*3+2])),t.uv&&t.uv.forEach(function(f,h){e.uvs[h]===void 0&&(e.uvs[h]=[]),e.uvs[h].push(o[h][0]),e.uvs[h].push(o[h][1]),e.uvs[h].push(o[h][(d-1)*2]),e.uvs[h].push(o[h][(d-1)*2+1]),e.uvs[h].push(o[h][d*2]),e.uvs[h].push(o[h][d*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const a=this;r.forEach(function(s){s.rawTargets.forEach(function(o){const l=Br.Objects.Geometry[o.geoID];l!==void 0&&a.genMorphGeometry(e,t,l,i,o.name)})})}genMorphGeometry(e,t,r,i,a){const s=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],o=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let p=0;p<l.length;p++){const m=l[p]*3;u[m]=o[p*3],u[m+1]=o[p*3+1],u[m+2]=o[p*3+2]}const d={vertexIndices:s,vertexPositions:u},f=this.genBuffers(d),h=new En(f.vertex,3);h.name=a||r.attrName,h.applyMatrix4(i),e.morphAttributes.position.push(h)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let a=[];return r==="IndexToDirect"&&("NormalIndex"in e?a=e.NormalIndex.a:"NormalsIndex"in e&&(a=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:a,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let a=[];return r==="IndexToDirect"&&(a=e.UVIndex.a),{dataSize:2,buffer:i,indices:a,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let a=[];return r==="IndexToDirect"&&(a=e.ColorIndex.a),{dataSize:4,buffer:i,indices:a,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,a=[];for(let s=0;s<i.length;++s)a.push(s);return{dataSize:1,buffer:i,indices:a,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(hG===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new Hr;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new Hr;const r=t-1,i=e.KnotVector.a,a=[],s=e.Points.a;for(let d=0,f=s.length;d<f;d+=4)a.push(new ri().fromArray(s,d));let o,l;if(e.Form==="Closed")a.push(a[0]);else if(e.Form==="Periodic"){o=r,l=i.length-1-o;for(let d=0;d<r;++d)a.push(a[d])}const u=new hG(r,i,a,o,l).getPoints(a.length*12);return new Hr().setFromPoints(u)}}class Xtt{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],a=this.addClip(i);e.push(a)}return e}parseClips(){if(Br.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Br.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const a={id:i.id,attr:i.attrName,curves:{}};t.set(a.id,a)}}return t}parseAnimationCurves(e){const t=Br.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map(ent),values:t[r].KeyValueFloat.a},a=ra.get(i.id);if(a!==void 0){const s=a.parents[0].ID,o=a.parents[0].relationship;o.match(/X/)?e.get(s).curves.x=i:o.match(/Y/)?e.get(s).curves.y=i:o.match(/Z/)?e.get(s).curves.z=i:o.match(/d|DeformPercent/)&&e.has(s)&&(e.get(s).curves.morph=i)}}}parseAnimationLayers(e){const t=Br.Objects.AnimationLayer,r=new Map;for(const i in t){const a=[],s=ra.get(parseInt(i));s!==void 0&&(s.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(a[c]===void 0){const d=ra.get(l.ID).parents.filter(function(f){return f.relationship!==void 0})[0].ID;if(d!==void 0){const f=Br.Objects.Model[d.toString()];if(f===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const h={modelName:f.attrName?Xr.sanitizeNodeName(f.attrName):"",ID:f.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};no.traverse(function(p){p.ID===f.id&&(h.transform=p.matrix,p.userData.transformData&&(h.eulerOrder=p.userData.transformData.eulerOrder))}),h.transform||(h.transform=new Un),"PreRotation"in f&&(h.preRotation=f.PreRotation.value),"PostRotation"in f&&(h.postRotation=f.PostRotation.value),a[c]=h}}a[c]&&(a[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(a[c]===void 0){const d=ra.get(l.ID).parents.filter(function(g){return g.relationship!==void 0})[0].ID,f=ra.get(d).parents[0].ID,h=ra.get(f).parents[0].ID,p=ra.get(h).parents[0].ID,m=Br.Objects.Model[p],v={modelName:m.attrName?Xr.sanitizeNodeName(m.attrName):"",morphName:Br.Objects.Deformer[d].attrName};a[c]=v}a[c][u.attr]=u}}}),r.set(parseInt(i),a))}return r}parseAnimStacks(e){const t=Br.Objects.AnimationStack,r={};for(const i in t){const a=ra.get(parseInt(i)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const s=e.get(a[0].ID);r[i]={name:t[i].attrName,layer:s}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new bm(e.name,-1,t)}generateTracks(e){const t=[];let r=new Xe,i=new Qa,a=new Xe;if(e.transform&&e.transform.decompose(r,i,a),r=r.toArray(),i=new ju().setFromQuaternion(i,e.eulerOrder).toArray(),a=a.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");s!==void 0&&t.push(s)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const s=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);s!==void 0&&t.push(s)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.S.curves,a,"scale");s!==void 0&&t.push(s)}if(e.DeformPercent!==void 0){const s=this.generateMorphTrack(e);s!==void 0&&t.push(s)}return t}generateVectorTrack(e,t,r,i){const a=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(a,t,r);return new lh(e+"."+i,a,s)}generateRotationTrack(e,t,r,i,a,s){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(ws.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(ws.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(ws.degToRad));const o=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(o,t,r);i!==void 0&&(i=i.map(ws.degToRad),i.push(s),i=new ju().fromArray(i),i=new Qa().setFromEuler(i)),a!==void 0&&(a=a.map(ws.degToRad),a.push(s),a=new ju().fromArray(a),a=new Qa().setFromEuler(a).invert());const c=new Qa,u=new ju,d=[];for(let f=0;f<l.length;f+=3)u.set(l[f],l[f+1],l[f+2],s),c.setFromEuler(u),i!==void 0&&c.premultiply(i),a!==void 0&&c.multiply(a),c.toArray(d,f/3*4);return new pd(e+".quaternion",o,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(a){return a/100}),i=no.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new xg(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let a=1;a<t.length;a++){const s=t[a];s!==i&&(t[r]=s,i=s,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,a=[];let s=-1,o=-1,l=-1;return e.forEach(function(c){if(t.x&&(s=t.x.times.indexOf(c)),t.y&&(o=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),s!==-1){const u=t.x.values[s];a.push(u),i[0]=u}else a.push(i[0]);if(o!==-1){const u=t.y.values[o];a.push(u),i[1]=u}else a.push(i[1]);if(l!==-1){const u=t.z.values[l];a.push(u),i[2]=u}else a.push(i[2])}),a}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,a=Math.abs(i);if(a>=180){const s=a/180,o=i/s;let l=r+o;const c=e.times[t-1],d=(e.times[t]-c)/s;let f=c+d;const h=[],p=[];for(;f<e.times[t];)h.push(f),f+=d,p.push(l),l+=o;e.times=vG(e.times,t,h),e.values=vG(e.values,t,p)}}}}class jtt{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new die,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,a){const s=i.match(/^[\s\t]*;/),o=i.match(/^[\s\t]*$/);if(s||o)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++a]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),a={name:r},s=this.parseNodeAttr(i),o=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,a):r in o?(r==="PoseNode"?o.PoseNode.push(a):o[r].id!==void 0&&(o[r]={},o[r][o[r].id]=o[r]),s.id!==""&&(o[r][s.id]=a)):typeof s.id=="number"?(o[r]={},o[r][s.id]=a):r!=="Properties70"&&(r==="PoseNode"?o[r]=[a]:o[r]=a),typeof s.id=="number"&&(a.id=s.id),s.name!==""&&(a.attrName=s.name),s.type!==""&&(a.attrType=s.type),this.pushStack(a)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),a=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&a===","&&(a=r.replace(/"/g,"").replace(/,$/,"").trim());const s=this.getCurrentNode();if(s.name==="Properties70"){this.parseNodeSpecialProperty(e,i,a);return}if(i==="C"){const l=a.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let d=a.split(",").slice(3);d=d.map(function(f){return f.trim().replace(/^"/,"")}),i="connections",a=[c,u],nnt(a,d),s[i]===void 0&&(s[i]=[])}i==="Node"&&(s.id=a),i in s&&Array.isArray(s[i])?s[i].push(a):i!=="a"?s[i]=a:s.a=a,this.setCurrentProp(s,i),i==="a"&&a.slice(-1)!==","&&(s.a=iI(a))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=iI(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),a=i[0],s=i[1],o=i[2],l=i[3];let c=i[4];switch(s){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=iI(c);break}this.getPrevNode()[a]={type:s,type2:o,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),a)}}class Ztt{parse(e){const t=new pG(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new die;for(;!this.endOfContent(t);){const a=this.parseNode(t,r);a!==null&&i.add(a.name,a)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),a=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const s=e.getUint8(),o=e.getString(s);if(i===0)return null;const l=[];for(let f=0;f<a;f++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",d=l.length>2?l[2]:"";for(r.singleProperty=a===1&&e.getOffset()===i;i>e.getOffset();){const f=this.parseNode(e,t);f!==null&&this.parseSubNode(o,r,f)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),d!==""&&(r.attrType=d),o!==""&&(r.name=o),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(a,s){s!==0&&i.push(a)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(a){t[a]=r[a]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],a=r.propertyList[1];const s=r.propertyList[2],o=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),a.indexOf("Lcl ")===0&&(a=a.replace("Lcl ","Lcl_")),a==="Color"||a==="ColorRGB"||a==="Vector"||a==="Vector3D"||a.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:a,type2:s,flag:o,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),a=e.getUint32(),s=e.getUint32();if(a===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}typeof Ftt>"u"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const o=I_(new Uint8Array(e.getArrayBuffer(s))),l=new pG(o.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class pG{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),Ms.decodeText(new Uint8Array(t))}}class die{add(e,t){this[e]=t}}function Qtt(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===pie(n,0,e.length)}function Jtt(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const a=n[i-1];return n=n.slice(t+i),t++,a}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function mG(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function ent(n){return n/46186158e3}const tnt=[];function RS(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const a=i*r.dataSize,s=a+r.dataSize;return rnt(tnt,r.buffer,a,s)}const rI=new ju,I0=new Xe;function fie(n){const e=new Un,t=new Un,r=new Un,i=new Un,a=new Un,s=new Un,o=new Un,l=new Un,c=new Un,u=new Un,d=new Un,f=new Un,h=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(I0.fromArray(n.translation)),n.preRotation){const A=n.preRotation.map(ws.degToRad);A.push(n.eulerOrder),t.makeRotationFromEuler(rI.fromArray(A))}if(n.rotation){const A=n.rotation.map(ws.degToRad);A.push(n.eulerOrder),r.makeRotationFromEuler(rI.fromArray(A))}if(n.postRotation){const A=n.postRotation.map(ws.degToRad);A.push(n.eulerOrder),i.makeRotationFromEuler(rI.fromArray(A)),i.invert()}n.scale&&a.scale(I0.fromArray(n.scale)),n.scalingOffset&&o.setPosition(I0.fromArray(n.scalingOffset)),n.scalingPivot&&s.setPosition(I0.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(I0.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(I0.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(d.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const p=t.clone().multiply(r).multiply(i),m=new Un;m.extractRotation(u);const v=new Un;v.copyPosition(u);const g=v.clone().invert().multiply(u),y=m.clone().invert().multiply(g),b=a,_=new Un;if(h===0)_.copy(m).multiply(p).multiply(y).multiply(b);else if(h===1)_.copy(m).multiply(y).multiply(p).multiply(b);else{const I=new Un().scale(new Xe().setFromMatrixScale(d)).clone().invert(),D=y.clone().multiply(I);_.copy(m).multiply(p).multiply(D).multiply(b)}const x=c.clone().invert(),S=s.clone().invert();let T=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(x).multiply(o).multiply(s).multiply(a).multiply(S);const C=new Un().copyPosition(T),M=u.clone().multiply(C);return f.copyPosition(M),T=f.clone().multiply(_),T.premultiply(u.invert()),T}function hie(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function iI(n){return n.split(",").map(function(t){return parseFloat(t)})}function pie(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),Ms.decodeText(new Uint8Array(n,e,t))}function nnt(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function rnt(n,e,t,r){for(let i=t,a=0;i<r;i++,a++)n[a]=e[i];return n}function vG(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}class QP extends Get{constructor(e){super(e)}parse(e){function t(k){switch(k.image_type){case f:case m:(k.colormap_length>256||k.colormap_size!==24||k.colormap_type!==1)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case h:case p:case v:case g:k.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case d:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',k.image_type)}(k.width<=0||k.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),k.pixel_size!==8&&k.pixel_size!==16&&k.pixel_size!==24&&k.pixel_size!==32&&console.error('THREE.TGALoader: Invalid pixel size "%s".',k.pixel_size)}function r(k,H,z,O,G){let X,J;const Q=z.pixel_size>>3,re=z.width*z.height*Q;if(H&&(J=G.subarray(O,O+=z.colormap_length*(z.colormap_size>>3))),k){X=new Uint8Array(re);let de,le,fe,Ee=0;const Re=new Uint8Array(Q);for(;Ee<re;)if(de=G[O++],le=(de&127)+1,de&128){for(fe=0;fe<Q;++fe)Re[fe]=G[O++];for(fe=0;fe<le;++fe)X.set(Re,Ee+fe*Q);Ee+=Q*le}else{for(le*=Q,fe=0;fe<le;++fe)X[Ee+fe]=G[O++];Ee+=le}}else X=G.subarray(O,O+=H?z.width*z.height:re);return{pixel_data:X,palettes:J}}function i(k,H,z,O,G,X,J,Q,re){const de=re;let le,fe=0,Ee,Re;const He=A.width;for(Re=H;Re!==O;Re+=z)for(Ee=G;Ee!==J;Ee+=X,fe++)le=Q[fe],k[(Ee+He*Re)*4+3]=255,k[(Ee+He*Re)*4+2]=de[le*3+0],k[(Ee+He*Re)*4+1]=de[le*3+1],k[(Ee+He*Re)*4+0]=de[le*3+2];return k}function a(k,H,z,O,G,X,J,Q){let re,de=0,le,fe;const Ee=A.width;for(fe=H;fe!==O;fe+=z)for(le=G;le!==J;le+=X,de+=2)re=Q[de+0]+(Q[de+1]<<8),k[(le+Ee*fe)*4+0]=(re&31744)>>7,k[(le+Ee*fe)*4+1]=(re&992)>>2,k[(le+Ee*fe)*4+2]=(re&31)<<3,k[(le+Ee*fe)*4+3]=re&32768?0:255;return k}function s(k,H,z,O,G,X,J,Q){let re=0,de,le;const fe=A.width;for(le=H;le!==O;le+=z)for(de=G;de!==J;de+=X,re+=3)k[(de+fe*le)*4+3]=255,k[(de+fe*le)*4+2]=Q[re+0],k[(de+fe*le)*4+1]=Q[re+1],k[(de+fe*le)*4+0]=Q[re+2];return k}function o(k,H,z,O,G,X,J,Q){let re=0,de,le;const fe=A.width;for(le=H;le!==O;le+=z)for(de=G;de!==J;de+=X,re+=4)k[(de+fe*le)*4+2]=Q[re+0],k[(de+fe*le)*4+1]=Q[re+1],k[(de+fe*le)*4+0]=Q[re+2],k[(de+fe*le)*4+3]=Q[re+3];return k}function l(k,H,z,O,G,X,J,Q){let re,de=0,le,fe;const Ee=A.width;for(fe=H;fe!==O;fe+=z)for(le=G;le!==J;le+=X,de++)re=Q[de],k[(le+Ee*fe)*4+0]=re,k[(le+Ee*fe)*4+1]=re,k[(le+Ee*fe)*4+2]=re,k[(le+Ee*fe)*4+3]=255;return k}function c(k,H,z,O,G,X,J,Q){let re=0,de,le;const fe=A.width;for(le=H;le!==O;le+=z)for(de=G;de!==J;de+=X,re+=2)k[(de+fe*le)*4+0]=Q[re+0],k[(de+fe*le)*4+1]=Q[re+0],k[(de+fe*le)*4+2]=Q[re+0],k[(de+fe*le)*4+3]=Q[re+1];return k}function u(k,H,z,O,G){let X,J,Q,re,de,le;switch((A.flags&y)>>b){default:case S:X=0,Q=1,de=H,J=0,re=1,le=z;break;case _:X=0,Q=1,de=H,J=z-1,re=-1,le=-1;break;case T:X=H-1,Q=-1,de=-1,J=0,re=1,le=z;break;case x:X=H-1,Q=-1,de=-1,J=z-1,re=-1,le=-1;break}if(L)switch(A.pixel_size){case 8:l(k,J,re,le,X,Q,de,O);break;case 16:c(k,J,re,le,X,Q,de,O);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(A.pixel_size){case 8:i(k,J,re,le,X,Q,de,O,G);break;case 16:a(k,J,re,le,X,Q,de,O);break;case 24:s(k,J,re,le,X,Q,de,O);break;case 32:o(k,J,re,le,X,Q,de,O);break;default:console.error("THREE.TGALoader: Format not supported.");break}return k}const d=0,f=1,h=2,p=3,m=9,v=10,g=11,y=48,b=4,_=0,x=1,S=2,T=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let C=0;const M=new Uint8Array(e),A={id_length:M[C++],colormap_type:M[C++],image_type:M[C++],colormap_index:M[C++]|M[C++]<<8,colormap_length:M[C++]|M[C++]<<8,colormap_size:M[C++],origin:[M[C++]|M[C++]<<8,M[C++]|M[C++]<<8],width:M[C++]|M[C++]<<8,height:M[C++]|M[C++]<<8,pixel_size:M[C++],flags:M[C++]};t(A),A.id_length+C>e.length&&console.error("THREE.TGALoader: No data."),C+=A.id_length;let I=!1,D=!1,L=!1;switch(A.image_type){case m:I=!0,D=!0;break;case f:D=!0;break;case v:I=!0;break;case h:break;case g:I=!0,L=!0;break;case p:L=!0;break}const F=new Uint8Array(A.width*A.height*4),B=r(I,D,A,C,M);return u(F,A.width,A.height,B.pixel_data,B.palettes),{data:F,width:A.width,height:A.height,flipY:!0,generateMipmaps:!0,minFilter:Ad}}}class int extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=a.path===""?Ms.extractUrlBase(e):a.path,o=new Ts(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e,t){function r(xe,we){const Be=[],ke=xe.childNodes;for(let Fe=0,kt=ke.length;Fe<kt;Fe++){const Ft=ke[Fe];Ft.nodeName===we&&Be.push(Ft)}return Be}function i(xe){if(xe.length===0)return[];const we=xe.trim().split(/\s+/),Be=new Array(we.length);for(let ke=0,Fe=we.length;ke<Fe;ke++)Be[ke]=we[ke];return Be}function a(xe){if(xe.length===0)return[];const we=xe.trim().split(/\s+/),Be=new Array(we.length);for(let ke=0,Fe=we.length;ke<Fe;ke++)Be[ke]=parseFloat(we[ke]);return Be}function s(xe){if(xe.length===0)return[];const we=xe.trim().split(/\s+/),Be=new Array(we.length);for(let ke=0,Fe=we.length;ke<Fe;ke++)Be[ke]=parseInt(we[ke]);return Be}function o(xe){return xe.substring(1)}function l(){return"three_default_"+CA++}function c(xe){return Object.keys(xe).length===0}function u(xe){return{unit:d(r(xe,"unit")[0]),upAxis:f(r(xe,"up_axis")[0])}}function d(xe){return xe!==void 0&&xe.hasAttribute("meter")===!0?parseFloat(xe.getAttribute("meter")):1}function f(xe){return xe!==void 0?xe.textContent:"Y_UP"}function h(xe,we,Be,ke){const Fe=r(xe,we)[0];if(Fe!==void 0){const kt=r(Fe,Be);for(let Ft=0;Ft<kt.length;Ft++)ke(kt[Ft])}}function p(xe,we){for(const Be in xe){const ke=xe[Be];ke.build=we(xe[Be])}}function m(xe,we){return xe.build!==void 0||(xe.build=we(xe)),xe.build}function v(xe){const we={sources:{},samplers:{},channels:{}};let Be=!1;for(let ke=0,Fe=xe.childNodes.length;ke<Fe;ke++){const kt=xe.childNodes[ke];if(kt.nodeType!==1)continue;let Ft;switch(kt.nodeName){case"source":Ft=kt.getAttribute("id"),we.sources[Ft]=nt(kt);break;case"sampler":Ft=kt.getAttribute("id"),we.samplers[Ft]=g(kt);break;case"channel":Ft=kt.getAttribute("target"),we.channels[Ft]=y(kt);break;case"animation":v(kt),Be=!0;break;default:console.log(kt)}}Be===!1&&(ar.animations[xe.getAttribute("id")||ws.generateUUID()]=we)}function g(xe){const we={inputs:{}};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"input":const kt=o(Fe.getAttribute("source")),Ft=Fe.getAttribute("semantic");we.inputs[Ft]=kt;break}}return we}function y(xe){const we={};let ke=xe.getAttribute("target").split("/");const Fe=ke.shift();let kt=ke.shift();const Ft=kt.indexOf("(")!==-1,Rn=kt.indexOf(".")!==-1;if(Rn)ke=kt.split("."),kt=ke.shift(),we.member=ke.shift();else if(Ft){const ot=kt.split("(");kt=ot.shift();for(let ln=0;ln<ot.length;ln++)ot[ln]=parseInt(ot[ln].replace(/\)/,""));we.indices=ot}return we.id=Fe,we.sid=kt,we.arraySyntax=Ft,we.memberSyntax=Rn,we.sampler=o(xe.getAttribute("source")),we}function b(xe){const we=[],Be=xe.channels,ke=xe.samplers,Fe=xe.sources;for(const kt in Be)if(Be.hasOwnProperty(kt)){const Ft=Be[kt],Rn=ke[Ft.sampler],ot=Rn.inputs.INPUT,ln=Rn.inputs.OUTPUT,Fn=Fe[ot],Jt=Fe[ln],Qn=x(Ft,Fn,Jt);A(Qn,we)}return we}function _(xe){return m(ar.animations[xe],b)}function x(xe,we,Be){const ke=ar.nodes[xe.id],Fe=ir(ke.id),kt=ke.transforms[xe.sid],Ft=ke.matrix.clone().transpose();let Rn,ot,ln,Fn,Jt,Qn;const Bn={};switch(kt){case"matrix":for(ln=0,Fn=we.array.length;ln<Fn;ln++)if(Rn=we.array[ln],ot=ln*Be.stride,Bn[Rn]===void 0&&(Bn[Rn]={}),xe.arraySyntax===!0){const yi=Be.array[ot],nn=xe.indices[0]+4*xe.indices[1];Bn[Rn][nn]=yi}else for(Jt=0,Qn=Be.stride;Jt<Qn;Jt++)Bn[Rn][Jt]=Be.array[ot+Jt];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',kt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',kt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',kt);break}const er=S(Bn,Ft);return{name:Fe.uuid,keyframes:er}}function S(xe,we){const Be=[];for(const Fe in xe)Be.push({time:parseFloat(Fe),value:xe[Fe]});Be.sort(ke);for(let Fe=0;Fe<16;Fe++)I(Be,Fe,we.elements[Fe]);return Be;function ke(Fe,kt){return Fe.time-kt.time}}const T=new Xe,C=new Xe,M=new Qa;function A(xe,we){const Be=xe.keyframes,ke=xe.name,Fe=[],kt=[],Ft=[],Rn=[];for(let ot=0,ln=Be.length;ot<ln;ot++){const Fn=Be[ot],Jt=Fn.time,Qn=Fn.value;Ge.fromArray(Qn).transpose(),Ge.decompose(T,M,C),Fe.push(Jt),kt.push(T.x,T.y,T.z),Ft.push(M.x,M.y,M.z,M.w),Rn.push(C.x,C.y,C.z)}return kt.length>0&&we.push(new lh(ke+".position",Fe,kt)),Ft.length>0&&we.push(new pd(ke+".quaternion",Fe,Ft)),Rn.length>0&&we.push(new lh(ke+".scale",Fe,Rn)),we}function I(xe,we,Be){let ke,Fe=!0,kt,Ft;for(kt=0,Ft=xe.length;kt<Ft;kt++)ke=xe[kt],ke.value[we]===void 0?ke.value[we]=null:Fe=!1;if(Fe===!0)for(kt=0,Ft=xe.length;kt<Ft;kt++)ke=xe[kt],ke.value[we]=Be;else D(xe,we)}function D(xe,we){let Be,ke;for(let Fe=0,kt=xe.length;Fe<kt;Fe++){const Ft=xe[Fe];if(Ft.value[we]===null){if(Be=L(xe,Fe,we),ke=F(xe,Fe,we),Be===null){Ft.value[we]=ke.value[we];continue}if(ke===null){Ft.value[we]=Be.value[we];continue}B(Ft,Be,ke,we)}}}function L(xe,we,Be){for(;we>=0;){const ke=xe[we];if(ke.value[Be]!==null)return ke;we--}return null}function F(xe,we,Be){for(;we<xe.length;){const ke=xe[we];if(ke.value[Be]!==null)return ke;we++}return null}function B(xe,we,Be,ke){if(Be.time-we.time===0){xe.value[ke]=we.value[ke];return}xe.value[ke]=(xe.time-we.time)*(Be.value[ke]-we.value[ke])/(Be.time-we.time)+we.value[ke]}function k(xe){const we={name:xe.getAttribute("id")||"default",start:parseFloat(xe.getAttribute("start")||0),end:parseFloat(xe.getAttribute("end")||0),animations:[]};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"instance_animation":we.animations.push(o(Fe.getAttribute("url")));break}}ar.clips[xe.getAttribute("id")]=we}function H(xe){const we=[],Be=xe.name,ke=xe.end-xe.start||-1,Fe=xe.animations;for(let kt=0,Ft=Fe.length;kt<Ft;kt++){const Rn=_(Fe[kt]);for(let ot=0,ln=Rn.length;ot<ln;ot++)we.push(Rn[ot])}return new bm(Be,ke,we)}function z(xe){return m(ar.clips[xe],H)}function O(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"skin":we.id=o(Fe.getAttribute("source")),we.skin=G(Fe);break;case"morph":we.id=o(Fe.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}ar.controllers[xe.getAttribute("id")]=we}function G(xe){const we={sources:{}};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"bind_shape_matrix":we.bindShapeMatrix=a(Fe.textContent);break;case"source":const kt=Fe.getAttribute("id");we.sources[kt]=nt(Fe);break;case"joints":we.joints=X(Fe);break;case"vertex_weights":we.vertexWeights=J(Fe);break}}return we}function X(xe){const we={inputs:{}};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"input":const kt=Fe.getAttribute("semantic"),Ft=o(Fe.getAttribute("source"));we.inputs[kt]=Ft;break}}return we}function J(xe){const we={inputs:{}};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"input":const kt=Fe.getAttribute("semantic"),Ft=o(Fe.getAttribute("source")),Rn=parseInt(Fe.getAttribute("offset"));we.inputs[kt]={id:Ft,offset:Rn};break;case"vcount":we.vcount=s(Fe.textContent);break;case"v":we.v=s(Fe.textContent);break}}return we}function Q(xe){const we={id:xe.id},Be=ar.geometries[we.id];return xe.skin!==void 0&&(we.skin=re(xe.skin),Be.sources.skinIndices=we.skin.indices,Be.sources.skinWeights=we.skin.weights),we}function re(xe){const Be={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},ke=xe.sources,Fe=xe.vertexWeights,kt=Fe.vcount,Ft=Fe.v,Rn=Fe.inputs.JOINT.offset,ot=Fe.inputs.WEIGHT.offset,ln=xe.sources[xe.joints.inputs.JOINT],Fn=xe.sources[xe.joints.inputs.INV_BIND_MATRIX],Jt=ke[Fe.inputs.WEIGHT.id].array;let Qn=0,Bn,er,qn;for(Bn=0,qn=kt.length;Bn<qn;Bn++){const nn=kt[Bn],wr=[];for(er=0;er<nn;er++){const Nr=Ft[Qn+Rn],ai=Ft[Qn+ot],Oi=Jt[ai];wr.push({index:Nr,weight:Oi}),Qn+=2}for(wr.sort(yi),er=0;er<4;er++){const Nr=wr[er];Nr!==void 0?(Be.indices.array.push(Nr.index),Be.weights.array.push(Nr.weight)):(Be.indices.array.push(0),Be.weights.array.push(0))}}for(xe.bindShapeMatrix?Be.bindMatrix=new Un().fromArray(xe.bindShapeMatrix).transpose():Be.bindMatrix=new Un().identity(),Bn=0,qn=ln.array.length;Bn<qn;Bn++){const nn=ln.array[Bn],wr=new Un().fromArray(Fn.array,Bn*Fn.stride).transpose();Be.joints.push({name:nn,boneInverse:wr})}return Be;function yi(nn,wr){return wr.weight-nn.weight}}function de(xe){return m(ar.controllers[xe],Q)}function le(xe){const we={init_from:r(xe,"init_from")[0].textContent};ar.images[xe.getAttribute("id")]=we}function fe(xe){return xe.build!==void 0?xe.build:xe.init_from}function Ee(xe){const we=ar.images[xe];return we!==void 0?m(we,fe):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",xe),null)}function Re(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"profile_COMMON":we.profile=He(Fe);break}}ar.effects[xe.getAttribute("id")]=we}function He(xe){const we={surfaces:{},samplers:{}};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"newparam":$e(Fe,we);break;case"technique":we.technique=ie(Fe);break;case"extra":we.extra=Je(Fe);break}}return we}function $e(xe,we){const Be=xe.getAttribute("sid");for(let ke=0,Fe=xe.childNodes.length;ke<Fe;ke++){const kt=xe.childNodes[ke];if(kt.nodeType===1)switch(kt.nodeName){case"surface":we.surfaces[Be]=K(kt);break;case"sampler2D":we.samplers[Be]=ce(kt);break}}}function K(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"init_from":we.init_from=Fe.textContent;break}}return we}function ce(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"source":we.source=Fe.textContent;break}}return we}function ie(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"constant":case"lambert":case"blinn":case"phong":we.type=Fe.nodeName,we.parameters=Ue(Fe);break;case"extra":we.extra=Je(Fe);break}}return we}function Ue(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":we[Fe.nodeName]=De(Fe);break;case"transparent":we[Fe.nodeName]={opaque:Fe.hasAttribute("opaque")?Fe.getAttribute("opaque"):"A_ONE",data:De(Fe)};break}}return we}function De(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"color":we[Fe.nodeName]=a(Fe.textContent);break;case"float":we[Fe.nodeName]=parseFloat(Fe.textContent);break;case"texture":we[Fe.nodeName]={id:Fe.getAttribute("texture"),extra:Ye(Fe)};break}}return we}function Ye(xe){const we={technique:{}};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"extra":ze(Fe,we);break}}return we}function ze(xe,we){for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"technique":Ve(Fe,we);break}}}function Ve(xe,we){for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":we.technique[Fe.nodeName]=parseFloat(Fe.textContent);break;case"wrapU":case"wrapV":Fe.textContent.toUpperCase()==="TRUE"?we.technique[Fe.nodeName]=1:Fe.textContent.toUpperCase()==="FALSE"?we.technique[Fe.nodeName]=0:we.technique[Fe.nodeName]=parseInt(Fe.textContent);break;case"bump":we[Fe.nodeName]=W(Fe);break}}}function Je(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"technique":we.technique=pe(Fe);break}}return we}function pe(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"double_sided":we[Fe.nodeName]=parseInt(Fe.textContent);break;case"bump":we[Fe.nodeName]=W(Fe);break}}return we}function W(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"texture":we[Fe.nodeName]={id:Fe.getAttribute("texture"),texcoord:Fe.getAttribute("texcoord"),extra:Ye(Fe)};break}}return we}function Z(xe){return xe}function ve(xe){return m(ar.effects[xe],Z)}function Ne(xe){const we={name:xe.getAttribute("name")};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"instance_effect":we.url=o(Fe.getAttribute("url"));break}}ar.materials[xe.getAttribute("id")]=we}function Ke(xe){let we,Be=xe.slice((xe.lastIndexOf(".")-1>>>0)+2);switch(Be=Be.toLowerCase(),Be){case"tga":we=ta;break;default:we=$a}return we}function mt(xe){const we=ve(xe.url),Be=we.profile.technique;let ke;switch(Be.type){case"phong":case"blinn":ke=new nd;break;case"lambert":ke=new U8;break;default:ke=new cc;break}ke.name=xe.name||"";function Fe(ot,ln=null){const Fn=we.profile.samplers[ot.id];let Jt=null;if(Fn!==void 0){const Qn=we.profile.surfaces[Fn.source];Jt=Ee(Qn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),Jt=Ee(ot.id);if(Jt!==null){const Qn=Ke(Jt);if(Qn!==void 0){const Bn=Qn.load(Jt),er=ot.extra;if(er!==void 0&&er.technique!==void 0&&c(er.technique)===!1){const qn=er.technique;Bn.wrapS=qn.wrapU?co:Sa,Bn.wrapT=qn.wrapV?co:Sa,Bn.offset.set(qn.offsetU||0,qn.offsetV||0),Bn.repeat.set(qn.repeatU||1,qn.repeatV||1)}else Bn.wrapS=co,Bn.wrapT=co;return ln!==null&&(Bn.encoding=ln),Bn}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",Jt),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",ot.id),null}const kt=Be.parameters;for(const ot in kt){const ln=kt[ot];switch(ot){case"diffuse":ln.color&&ke.color.fromArray(ln.color),ln.texture&&(ke.map=Fe(ln.texture,Er));break;case"specular":ln.color&&ke.specular&&ke.specular.fromArray(ln.color),ln.texture&&(ke.specularMap=Fe(ln.texture));break;case"bump":ln.texture&&(ke.normalMap=Fe(ln.texture));break;case"ambient":ln.texture&&(ke.lightMap=Fe(ln.texture,Er));break;case"shininess":ln.float&&ke.shininess&&(ke.shininess=ln.float);break;case"emission":ln.color&&ke.emissive&&ke.emissive.fromArray(ln.color),ln.texture&&(ke.emissiveMap=Fe(ln.texture,Er));break}}ke.color.convertSRGBToLinear(),ke.specular&&ke.specular.convertSRGBToLinear(),ke.emissive&&ke.emissive.convertSRGBToLinear();let Ft=kt.transparent,Rn=kt.transparency;if(Rn===void 0&&Ft&&(Rn={float:1}),Ft===void 0&&Rn&&(Ft={opaque:"A_ONE",data:{color:[1,1,1,1]}}),Ft&&Rn)if(Ft.data.texture)ke.transparent=!0;else{const ot=Ft.data.color;switch(Ft.opaque){case"A_ONE":ke.opacity=ot[3]*Rn.float;break;case"RGB_ZERO":ke.opacity=1-ot[0]*Rn.float;break;case"A_ZERO":ke.opacity=1-ot[3]*Rn.float;break;case"RGB_ONE":ke.opacity=ot[0]*Rn.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',Ft.opaque)}ke.opacity<1&&(ke.transparent=!0)}if(Be.extra!==void 0&&Be.extra.technique!==void 0){const ot=Be.extra.technique;for(const ln in ot){const Fn=ot[ln];switch(ln){case"double_sided":ke.side=Fn===1?ih:rh;break;case"bump":ke.normalMap=Fe(Fn.texture),ke.normalScale=new Wt(1,1);break}}}return ke}function vt(xe){return m(ar.materials[xe],mt)}function Me(xe){const we={name:xe.getAttribute("name")};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"optics":we.optics=ht(Fe);break}}ar.cameras[xe.getAttribute("id")]=we}function ht(xe){for(let we=0;we<xe.childNodes.length;we++){const Be=xe.childNodes[we];switch(Be.nodeName){case"technique_common":return st(Be)}}return{}}function st(xe){const we={};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];switch(ke.nodeName){case"perspective":case"orthographic":we.technique=ke.nodeName,we.parameters=$(ke);break}}return we}function $(xe){const we={};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];switch(ke.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":we[ke.nodeName]=parseFloat(ke.textContent);break}}return we}function ge(xe){let we;switch(xe.optics.technique){case"perspective":we=new xa(xe.optics.parameters.yfov,xe.optics.parameters.aspect_ratio,xe.optics.parameters.znear,xe.optics.parameters.zfar);break;case"orthographic":let Be=xe.optics.parameters.ymag,ke=xe.optics.parameters.xmag;const Fe=xe.optics.parameters.aspect_ratio;ke=ke===void 0?Be*Fe:ke,Be=Be===void 0?ke/Fe:Be,ke*=.5,Be*=.5,we=new ty(-ke,ke,Be,-Be,xe.optics.parameters.znear,xe.optics.parameters.zfar);break;default:we=new xa;break}return we.name=xe.name||"",we}function he(xe){const we=ar.cameras[xe];return we!==void 0?m(we,ge):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",xe),null)}function Ae(xe){let we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"technique_common":we=ye(Fe);break}}ar.lights[xe.getAttribute("id")]=we}function ye(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"directional":case"point":case"spot":case"ambient":we.technique=Fe.nodeName,we.parameters=Se(Fe)}}return we}function Se(xe){const we={};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"color":const kt=a(Fe.textContent);we.color=new bn().fromArray(kt).convertSRGBToLinear();break;case"falloff_angle":we.falloffAngle=parseFloat(Fe.textContent);break;case"quadratic_attenuation":const Ft=parseFloat(Fe.textContent);we.distance=Ft?Math.sqrt(1/Ft):0;break}}return we}function ft(xe){let we;switch(xe.technique){case"directional":we=new mw;break;case"point":we=new _m;break;case"spot":we=new gA;break;case"ambient":we=new yA;break}return xe.parameters.color&&we.color.copy(xe.parameters.color),xe.parameters.distance&&(we.distance=xe.parameters.distance),we}function Te(xe){const we=ar.lights[xe];return we!==void 0?m(we,ft):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",xe),null)}function _t(xe){const we={name:xe.getAttribute("name"),sources:{},vertices:{},primitives:[]},Be=r(xe,"mesh")[0];if(Be!==void 0){for(let ke=0;ke<Be.childNodes.length;ke++){const Fe=Be.childNodes[ke];if(Fe.nodeType!==1)continue;const kt=Fe.getAttribute("id");switch(Fe.nodeName){case"source":we.sources[kt]=nt(Fe);break;case"vertices":we.vertices=gt(Fe);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",Fe.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":we.primitives.push(Lt(Fe));break;default:console.log(Fe)}}ar.geometries[xe.getAttribute("id")]=we}}function nt(xe){const we={array:[],stride:3};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"float_array":we.array=a(ke.textContent);break;case"Name_array":we.array=i(ke.textContent);break;case"technique_common":const Fe=r(ke,"accessor")[0];Fe!==void 0&&(we.stride=parseInt(Fe.getAttribute("stride")));break}}return we}function gt(xe){const we={};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];ke.nodeType===1&&(we[ke.getAttribute("semantic")]=o(ke.getAttribute("source")))}return we}function Lt(xe){const we={type:xe.nodeName,material:xe.getAttribute("material"),count:parseInt(xe.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let Be=0,ke=xe.childNodes.length;Be<ke;Be++){const Fe=xe.childNodes[Be];if(Fe.nodeType===1)switch(Fe.nodeName){case"input":const kt=o(Fe.getAttribute("source")),Ft=Fe.getAttribute("semantic"),Rn=parseInt(Fe.getAttribute("offset")),ot=parseInt(Fe.getAttribute("set")),ln=ot>0?Ft+ot:Ft;we.inputs[ln]={id:kt,offset:Rn},we.stride=Math.max(we.stride,Rn+1),Ft==="TEXCOORD"&&(we.hasUV=!0);break;case"vcount":we.vcount=s(Fe.textContent);break;case"p":we.p=s(Fe.textContent);break}}return we}function At(xe){const we={};for(let Be=0;Be<xe.length;Be++){const ke=xe[Be];we[ke.type]===void 0&&(we[ke.type]=[]),we[ke.type].push(ke)}return we}function an(xe){let we=0;for(let Be=0,ke=xe.length;Be<ke;Be++)xe[Be].hasUV===!0&&we++;we>0&&we<xe.length&&(xe.uvsNeedsFix=!0)}function _n(xe){const we={},Be=xe.sources,ke=xe.vertices,Fe=xe.primitives;if(Fe.length===0)return{};const kt=At(Fe);for(const Ft in kt){const Rn=kt[Ft];an(Rn),we[Ft]=lr(Rn,Be,ke)}return we}function lr(xe,we,Be){const ke={},Fe={array:[],stride:0},kt={array:[],stride:0},Ft={array:[],stride:0},Rn={array:[],stride:0},ot={array:[],stride:0},ln={array:[],stride:4},Fn={array:[],stride:4},Jt=new Hr,Qn=[];let Bn=0;for(let er=0;er<xe.length;er++){const qn=xe[er],yi=qn.inputs;let nn=0;switch(qn.type){case"lines":case"linestrips":nn=qn.count*2;break;case"triangles":nn=qn.count*3;break;case"polylist":for(let wr=0;wr<qn.count;wr++){const Nr=qn.vcount[wr];switch(Nr){case 3:nn+=3;break;case 4:nn+=6;break;default:nn+=(Nr-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",qn.type)}Jt.addGroup(Bn,nn,er),Bn+=nn,qn.material&&Qn.push(qn.material);for(const wr in yi){const Nr=yi[wr];switch(wr){case"VERTEX":for(const ai in Be){const Oi=Be[ai];switch(ai){case"POSITION":const Ed=Fe.array.length;if(kn(qn,we[Oi],Nr.offset,Fe.array),Fe.stride=we[Oi].stride,we.skinWeights&&we.skinIndices&&(kn(qn,we.skinIndices,Nr.offset,ln.array),kn(qn,we.skinWeights,Nr.offset,Fn.array)),qn.hasUV===!1&&xe.uvsNeedsFix===!0){const MA=(Fe.array.length-Ed)/Fe.stride;for(let _w=0;_w<MA;_w++)Ft.array.push(0,0)}break;case"NORMAL":kn(qn,we[Oi],Nr.offset,kt.array),kt.stride=we[Oi].stride;break;case"COLOR":kn(qn,we[Oi],Nr.offset,ot.array),ot.stride=we[Oi].stride;break;case"TEXCOORD":kn(qn,we[Oi],Nr.offset,Ft.array),Ft.stride=we[Oi].stride;break;case"TEXCOORD1":kn(qn,we[Oi],Nr.offset,Rn.array),Ft.stride=we[Oi].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',ai)}}break;case"NORMAL":kn(qn,we[Nr.id],Nr.offset,kt.array),kt.stride=we[Nr.id].stride;break;case"COLOR":kn(qn,we[Nr.id],Nr.offset,ot.array,!0),ot.stride=we[Nr.id].stride;break;case"TEXCOORD":kn(qn,we[Nr.id],Nr.offset,Ft.array),Ft.stride=we[Nr.id].stride;break;case"TEXCOORD1":kn(qn,we[Nr.id],Nr.offset,Rn.array),Rn.stride=we[Nr.id].stride;break}}}return Fe.array.length>0&&Jt.setAttribute("position",new En(Fe.array,Fe.stride)),kt.array.length>0&&Jt.setAttribute("normal",new En(kt.array,kt.stride)),ot.array.length>0&&Jt.setAttribute("color",new En(ot.array,ot.stride)),Ft.array.length>0&&Jt.setAttribute("uv",new En(Ft.array,Ft.stride)),Rn.array.length>0&&Jt.setAttribute("uv2",new En(Rn.array,Rn.stride)),ln.array.length>0&&Jt.setAttribute("skinIndex",new En(ln.array,ln.stride)),Fn.array.length>0&&Jt.setAttribute("skinWeight",new En(Fn.array,Fn.stride)),ke.data=Jt,ke.type=xe[0].type,ke.materialKeys=Qn,ke}function kn(xe,we,Be,ke,Fe=!1){const kt=xe.p,Ft=xe.stride,Rn=xe.vcount;function ot(Jt){let Qn=kt[Jt+Be]*Fn;const Bn=Qn+Fn;for(;Qn<Bn;Qn++)ke.push(ln[Qn]);if(Fe){const er=ke.length-Fn-1;Wi.setRGB(ke[er+0],ke[er+1],ke[er+2]).convertSRGBToLinear(),ke[er+0]=Wi.r,ke[er+1]=Wi.g,ke[er+2]=Wi.b}}const ln=we.array,Fn=we.stride;if(xe.vcount!==void 0){let Jt=0;for(let Qn=0,Bn=Rn.length;Qn<Bn;Qn++){const er=Rn[Qn];if(er===4){const qn=Jt+Ft*0,yi=Jt+Ft*1,nn=Jt+Ft*2,wr=Jt+Ft*3;ot(qn),ot(yi),ot(wr),ot(yi),ot(nn),ot(wr)}else if(er===3){const qn=Jt+Ft*0,yi=Jt+Ft*1,nn=Jt+Ft*2;ot(qn),ot(yi),ot(nn)}else if(er>4)for(let qn=1,yi=er-2;qn<=yi;qn++){const nn=Jt+Ft*0,wr=Jt+Ft*qn,Nr=Jt+Ft*(qn+1);ot(nn),ot(wr),ot(Nr)}Jt+=Ft*er}}else for(let Jt=0,Qn=kt.length;Jt<Qn;Jt+=Ft)ot(Jt)}function Yr(xe){return m(ar.geometries[xe],_n)}function Zn(xe){const we={name:xe.getAttribute("name")||"",joints:{},links:[]};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"technique_common":Ut(ke,we);break}}ar.kinematicsModels[xe.getAttribute("id")]=we}function Y(xe){return xe.build!==void 0?xe.build:xe}function ae(xe){return m(ar.kinematicsModels[xe],Y)}function Ut(xe,we){for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"joint":we.joints[ke.getAttribute("sid")]=Ce(ke);break;case"link":we.links.push(St(ke));break}}}function Ce(xe){let we;for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"prismatic":case"revolute":we=oe(ke);break}}return we}function oe(xe){const we={sid:xe.getAttribute("sid"),name:xe.getAttribute("name")||"",axis:new Xe,limits:{min:0,max:0},type:xe.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"axis":const Fe=a(ke.textContent);we.axis.fromArray(Fe);break;case"limits":const kt=ke.getElementsByTagName("max")[0],Ft=ke.getElementsByTagName("min")[0];we.limits.max=parseFloat(kt.textContent),we.limits.min=parseFloat(Ft.textContent);break}}return we.limits.min>=we.limits.max&&(we.static=!0),we.middlePosition=(we.limits.min+we.limits.max)/2,we}function St(xe){const we={sid:xe.getAttribute("sid"),name:xe.getAttribute("name")||"",attachments:[],transforms:[]};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"attachment_full":we.attachments.push(pt(ke));break;case"matrix":case"translate":case"rotate":we.transforms.push(It(ke));break}}return we}function pt(xe){const we={joint:xe.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"link":we.links.push(St(ke));break;case"matrix":case"translate":case"rotate":we.transforms.push(It(ke));break}}return we}function It(xe){const we={type:xe.nodeName},Be=a(xe.textContent);switch(we.type){case"matrix":we.obj=new Un,we.obj.fromArray(Be).transpose();break;case"translate":we.obj=new Xe,we.obj.fromArray(Be);break;case"rotate":we.obj=new Xe,we.obj.fromArray(Be),we.angle=ws.degToRad(Be[3]);break}return we}function et(xe){const we={name:xe.getAttribute("name")||"",rigidBodies:{}};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"rigid_body":we.rigidBodies[ke.getAttribute("name")]={},xt(ke,we.rigidBodies[ke.getAttribute("name")]);break}}ar.physicsModels[xe.getAttribute("id")]=we}function xt(xe,we){for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"technique_common":Kt(ke,we);break}}}function Kt(xe,we){for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"inertia":we.inertia=a(ke.textContent);break;case"mass":we.mass=a(ke.textContent)[0];break}}}function yn(xe){const we={bindJointAxis:[]};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"bind_joint_axis":we.bindJointAxis.push(On(ke));break}}ar.kinematicsScenes[o(xe.getAttribute("url"))]=we}function On(xe){const we={target:xe.getAttribute("target").split("/").pop()};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType===1)switch(ke.nodeName){case"axis":const Fe=ke.getElementsByTagName("param")[0];we.axis=Fe.textContent;const kt=we.axis.split("inst_").pop().split("axis")[0];we.jointIndex=kt.substring(0,kt.length-1);break}}return we}function je(xe){return xe.build!==void 0?xe.build:xe}function Xn(xe){return m(ar.kinematicsScenes[xe],je)}function at(){const xe=Object.keys(ar.kinematicsModels)[0],we=Object.keys(ar.kinematicsScenes)[0],Be=Object.keys(ar.visualScenes)[0];if(xe===void 0||we===void 0)return;const ke=ae(xe),Fe=Xn(we),kt=Wn(Be),Ft=Fe.bindJointAxis,Rn={};for(let Fn=0,Jt=Ft.length;Fn<Jt;Fn++){const Qn=Ft[Fn],Bn=hr.querySelector('[sid="'+Qn.target+'"]');if(Bn){const er=Bn.parentElement;ot(Qn.jointIndex,er)}}function ot(Fn,Jt){const Qn=Jt.getAttribute("name"),Bn=ke.joints[Fn];kt.traverse(function(er){er.name===Qn&&(Rn[Fn]={object:er,transforms:Pe(Jt),joint:Bn,position:Bn.zeroPosition})})}const ln=new Un;wo={joints:ke&&ke.joints,getJointValue:function(Fn){const Jt=Rn[Fn];if(Jt)return Jt.position;console.warn("THREE.ColladaLoader: Joint "+Fn+" doesn't exist.")},setJointValue:function(Fn,Jt){const Qn=Rn[Fn];if(Qn){const Bn=Qn.joint;if(Jt>Bn.limits.max||Jt<Bn.limits.min)console.warn("THREE.ColladaLoader: Joint "+Fn+" value "+Jt+" outside of limits (min: "+Bn.limits.min+", max: "+Bn.limits.max+").");else if(Bn.static)console.warn("THREE.ColladaLoader: Joint "+Fn+" is static.");else{const er=Qn.object,qn=Bn.axis,yi=Qn.transforms;Ge.identity();for(let nn=0;nn<yi.length;nn++){const wr=yi[nn];if(wr.sid&&wr.sid.indexOf(Fn)!==-1)switch(Bn.type){case"revolute":Ge.multiply(ln.makeRotationAxis(qn,ws.degToRad(Jt)));break;case"prismatic":Ge.multiply(ln.makeTranslation(qn.x*Jt,qn.y*Jt,qn.z*Jt));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Bn.type);break}else switch(wr.type){case"matrix":Ge.multiply(wr.obj);break;case"translate":Ge.multiply(ln.makeTranslation(wr.obj.x,wr.obj.y,wr.obj.z));break;case"scale":Ge.scale(wr.obj);break;case"rotate":Ge.multiply(ln.makeRotationAxis(wr.obj,wr.angle));break}}er.matrix.copy(Ge),er.matrix.decompose(er.position,er.quaternion,er.scale),Rn[Fn].position=Jt}}else console.log("THREE.ColladaLoader: "+Fn+" does not exist.")}}}function Pe(xe){const we=[],Be=hr.querySelector('[id="'+xe.id+'"]');for(let ke=0;ke<Be.childNodes.length;ke++){const Fe=Be.childNodes[ke];if(Fe.nodeType!==1)continue;let kt,Ft;switch(Fe.nodeName){case"matrix":kt=a(Fe.textContent);const Rn=new Un().fromArray(kt).transpose();we.push({sid:Fe.getAttribute("sid"),type:Fe.nodeName,obj:Rn});break;case"translate":case"scale":kt=a(Fe.textContent),Ft=new Xe().fromArray(kt),we.push({sid:Fe.getAttribute("sid"),type:Fe.nodeName,obj:Ft});break;case"rotate":kt=a(Fe.textContent),Ft=new Xe().fromArray(kt);const ot=ws.degToRad(kt[3]);we.push({sid:Fe.getAttribute("sid"),type:Fe.nodeName,obj:Ft,angle:ot});break}}return we}function yt(xe){const we=xe.getElementsByTagName("node");for(let Be=0;Be<we.length;Be++){const ke=we[Be];ke.hasAttribute("id")===!1&&ke.setAttribute("id",l())}}const Ge=new Un,lt=new Xe;function it(xe){const we={name:xe.getAttribute("name")||"",type:xe.getAttribute("type"),id:xe.getAttribute("id"),sid:xe.getAttribute("sid"),matrix:new Un,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];if(ke.nodeType!==1)continue;let Fe;switch(ke.nodeName){case"node":we.nodes.push(ke.getAttribute("id")),it(ke);break;case"instance_camera":we.instanceCameras.push(o(ke.getAttribute("url")));break;case"instance_controller":we.instanceControllers.push(Mt(ke));break;case"instance_light":we.instanceLights.push(o(ke.getAttribute("url")));break;case"instance_geometry":we.instanceGeometries.push(Mt(ke));break;case"instance_node":we.instanceNodes.push(o(ke.getAttribute("url")));break;case"matrix":Fe=a(ke.textContent),we.matrix.multiply(Ge.fromArray(Fe).transpose()),we.transforms[ke.getAttribute("sid")]=ke.nodeName;break;case"translate":Fe=a(ke.textContent),lt.fromArray(Fe),we.matrix.multiply(Ge.makeTranslation(lt.x,lt.y,lt.z)),we.transforms[ke.getAttribute("sid")]=ke.nodeName;break;case"rotate":Fe=a(ke.textContent);const kt=ws.degToRad(Fe[3]);we.matrix.multiply(Ge.makeRotationAxis(lt.fromArray(Fe),kt)),we.transforms[ke.getAttribute("sid")]=ke.nodeName;break;case"scale":Fe=a(ke.textContent),we.matrix.scale(lt.fromArray(Fe)),we.transforms[ke.getAttribute("sid")]=ke.nodeName;break;case"extra":break;default:console.log(ke)}}return An(we.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",we.id):ar.nodes[we.id]=we,we}function Mt(xe){const we={id:o(xe.getAttribute("url")),materials:{},skeletons:[]};for(let Be=0;Be<xe.childNodes.length;Be++){const ke=xe.childNodes[Be];switch(ke.nodeName){case"bind_material":const Fe=ke.getElementsByTagName("instance_material");for(let kt=0;kt<Fe.length;kt++){const Ft=Fe[kt],Rn=Ft.getAttribute("symbol"),ot=Ft.getAttribute("target");we.materials[Rn]=o(ot)}break;case"skeleton":we.skeletons.push(o(ke.textContent));break}}return we}function tn(xe,we){const Be=[],ke=[];let Fe,kt,Ft;for(Fe=0;Fe<xe.length;Fe++){const ln=xe[Fe];let Fn;if(An(ln))Fn=ir(ln),Qt(Fn,we,Be);else if(gr(ln)){const Qn=ar.visualScenes[ln].children;for(let Bn=0;Bn<Qn.length;Bn++){const er=Qn[Bn];if(er.type==="JOINT"){const qn=ir(er.id);Qt(qn,we,Be)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",ln)}for(Fe=0;Fe<we.length;Fe++)for(kt=0;kt<Be.length;kt++)if(Ft=Be[kt],Ft.bone.name===we[Fe].name){ke[Fe]=Ft,Ft.processed=!0;break}for(Fe=0;Fe<Be.length;Fe++)Ft=Be[Fe],Ft.processed===!1&&(ke.push(Ft),Ft.processed=!0);const Rn=[],ot=[];for(Fe=0;Fe<ke.length;Fe++)Ft=ke[Fe],Rn.push(Ft.bone),ot.push(Ft.boneInverse);return new ry(Rn,ot)}function Qt(xe,we,Be){xe.traverse(function(ke){if(ke.isBone===!0){let Fe;for(let kt=0;kt<we.length;kt++){const Ft=we[kt];if(Ft.name===ke.name){Fe=Ft.boneInverse;break}}Fe===void 0&&(Fe=new Un),Be.push({bone:ke,boneInverse:Fe,processed:!1})}})}function mn(xe){const we=[],Be=xe.matrix,ke=xe.nodes,Fe=xe.type,kt=xe.instanceCameras,Ft=xe.instanceControllers,Rn=xe.instanceLights,ot=xe.instanceGeometries,ln=xe.instanceNodes;for(let Jt=0,Qn=ke.length;Jt<Qn;Jt++)we.push(ir(ke[Jt]));for(let Jt=0,Qn=kt.length;Jt<Qn;Jt++){const Bn=he(kt[Jt]);Bn!==null&&we.push(Bn.clone())}for(let Jt=0,Qn=Ft.length;Jt<Qn;Jt++){const Bn=Ft[Jt],er=de(Bn.id),qn=Yr(er.id),yi=Cn(qn,Bn.materials),nn=Bn.skeletons,wr=er.skin.joints,Nr=tn(nn,wr);for(let ai=0,Oi=yi.length;ai<Oi;ai++){const Ed=yi[ai];Ed.isSkinnedMesh&&(Ed.bind(Nr,er.skin.bindMatrix),Ed.normalizeSkinWeights()),we.push(Ed)}}for(let Jt=0,Qn=Rn.length;Jt<Qn;Jt++){const Bn=Te(Rn[Jt]);Bn!==null&&we.push(Bn.clone())}for(let Jt=0,Qn=ot.length;Jt<Qn;Jt++){const Bn=ot[Jt],er=Yr(Bn.id),qn=Cn(er,Bn.materials);for(let yi=0,nn=qn.length;yi<nn;yi++)we.push(qn[yi])}for(let Jt=0,Qn=ln.length;Jt<Qn;Jt++)we.push(ir(ln[Jt]).clone());let Fn;if(ke.length===0&&we.length===1)Fn=we[0];else{Fn=Fe==="JOINT"?new wg:new uo;for(let Jt=0;Jt<we.length;Jt++)Fn.add(we[Jt])}return Fn.name=Fe==="JOINT"?xe.sid:xe.name,Fn.matrix.copy(Be),Fn.matrix.decompose(Fn.position,Fn.quaternion,Fn.scale),Fn}const Gn=new cc({color:16711935});function rn(xe,we){const Be=[];for(let ke=0,Fe=xe.length;ke<Fe;ke++){const kt=we[xe[ke]];kt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",xe[ke]),Be.push(Gn)):Be.push(vt(kt))}return Be}function Cn(xe,we){const Be=[];for(const ke in xe){const Fe=xe[ke],kt=rn(Fe.materialKeys,we);kt.length===0&&(ke==="lines"||ke==="linestrips"?kt.push(new vc):kt.push(new nd));const Ft=Fe.data.attributes.skinIndex!==void 0,Rn=kt.length===1?kt[0]:kt;let ot;switch(ke){case"lines":ot=new ym(Fe.data,Rn);break;case"linestrips":ot=new iy(Fe.data,Rn);break;case"triangles":case"polylist":Ft?ot=new mA(Fe.data,Rn):ot=new Ca(Fe.data,Rn);break}Be.push(ot)}return Be}function An(xe){return ar.nodes[xe]!==void 0}function ir(xe){return m(ar.nodes[xe],mn)}function Wr(xe){const we={name:xe.getAttribute("name"),children:[]};yt(xe);const Be=r(xe,"node");for(let ke=0;ke<Be.length;ke++)we.children.push(it(Be[ke]));ar.visualScenes[xe.getAttribute("id")]=we}function vr(xe){const we=new uo;we.name=xe.name;const Be=xe.children;for(let ke=0;ke<Be.length;ke++){const Fe=Be[ke];we.add(ir(Fe.id))}return we}function gr(xe){return ar.visualScenes[xe]!==void 0}function Wn(xe){return m(ar.visualScenes[xe],vr)}function Ci(xe){const we=r(xe,"instance_visual_scene")[0];return Wn(o(we.getAttribute("url")))}function qr(){const xe=ar.clips;if(c(xe)===!0){if(c(ar.animations)===!1){const we=[];for(const Be in ar.animations){const ke=_(Be);for(let Fe=0,kt=ke.length;Fe<kt;Fe++)we.push(ke[Fe])}qi.push(new bm("default",-1,we))}}else for(const we in xe)qi.push(z(we))}function As(xe){let we="";const Be=[xe];for(;Be.length;){const ke=Be.shift();ke.nodeType===Node.TEXT_NODE?we+=ke.textContent:(we+=`
`,Be.push.apply(Be,ke.childNodes))}return we.trim()}if(e.length===0)return{scene:new D8};const Qs=new DOMParser().parseFromString(e,"application/xml"),hr=r(Qs,"COLLADA")[0],zl=Qs.getElementsByTagName("parsererror")[0];if(zl!==void 0){const xe=r(zl,"div")[0];let we;return xe?we=xe.textContent:we=As(zl),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,we),null}const gi=hr.getAttribute("version");console.log("THREE.ColladaLoader: File version",gi);const Va=u(r(hr,"asset")[0]),$a=new Cg(this.manager);$a.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);let ta;QP&&(ta=new QP(this.manager),ta.setPath(this.resourcePath||t));const Wi=new bn,qi=[];let wo={},CA=0;const ar={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};h(hr,"library_animations","animation",v),h(hr,"library_animation_clips","animation_clip",k),h(hr,"library_controllers","controller",O),h(hr,"library_images","image",le),h(hr,"library_effects","effect",Re),h(hr,"library_materials","material",Ne),h(hr,"library_cameras","camera",Me),h(hr,"library_lights","light",Ae),h(hr,"library_geometries","geometry",_t),h(hr,"library_nodes","node",it),h(hr,"library_visual_scenes","visual_scene",Wr),h(hr,"library_kinematics_models","kinematics_model",Zn),h(hr,"library_physics_models","physics_model",et),h(hr,"scene","instance_kinematics_scene",yn),p(ar.animations,b),p(ar.clips,H),p(ar.controllers,Q),p(ar.images,fe),p(ar.effects,Z),p(ar.materials,mt),p(ar.cameras,ge),p(ar.lights,ft),p(ar.geometries,_n),p(ar.visualScenes,vr),qr(),at();const _h=Ci(r(hr,"scene")[0]);return _h.animations=qi,Va.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),_h.quaternion.setFromEuler(new ju(-Math.PI/2,0,0))),_h.scale.multiplyScalar(Va.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),qi},kinematics:wo,library:ar,scene:_h}}}class ant extends ss{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new unt(t)}),this.register(function(t){return new gnt(t)}),this.register(function(t){return new ynt(t)}),this.register(function(t){return new fnt(t)}),this.register(function(t){return new hnt(t)}),this.register(function(t){return new pnt(t)}),this.register(function(t){return new mnt(t)}),this.register(function(t){return new cnt(t)}),this.register(function(t){return new vnt(t)}),this.register(function(t){return new dnt(t)}),this.register(function(t){return new ont(t)}),this.register(function(t){return new bnt(t)})}load(e,t,r,i){const a=this;let s;this.resourcePath!==""?s=this.resourcePath:this.path!==""?s=this.path:s=Ms.extractUrlBase(e),this.manager.itemStart(e);const o=function(c){i?i(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},l=new Ts(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{a.parse(c,s,function(u){t(u),a.manager.itemEnd(e)},o)}catch(u){o(u)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let a;const s={},o={};if(typeof e=="string")a=e;else if(Ms.decodeText(new Uint8Array(e,0,4))===mie){try{s[Fr.KHR_BINARY_GLTF]=new _nt(e)}catch(d){i&&i(d);return}a=s[Fr.KHR_BINARY_GLTF].content}else a=Ms.decodeText(new Uint8Array(e));const l=JSON.parse(a);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new knt(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);o[d.name]=d,s[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case Fr.KHR_MATERIALS_UNLIT:s[d]=new lnt;break;case Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:s[d]=new Snt;break;case Fr.KHR_DRACO_MESH_COMPRESSION:s[d]=new wnt(l,this.dracoLoader);break;case Fr.KHR_TEXTURE_TRANSFORM:s[d]=new xnt;break;case Fr.KHR_MESH_QUANTIZATION:s[d]=new Cnt;break;default:f.indexOf(d)>=0&&o[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(s),c.setPlugins(o),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,a){r.parse(e,t,i,a)})}}function snt(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Fr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class ont{constructor(e){this.parser=e,this.name=Fr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const a=t[r];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let c;const u=new bn(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new mw(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new _m(u),c.distance=d;break;case"spot":c=new gA(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,a=r.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return r._getNodeRef(t.cache,o,l)})}}class lnt{constructor(){this.name=Fr.KHR_MATERIALS_UNLIT}getMaterialType(){return cc}extendParams(e,t,r){const i=[];e.color=new bn(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}a.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",a.baseColorTexture,Er))}return Promise.all(i)}}class cnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class unt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:yh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Wt(o,o)}return Promise.all(a)}}class dnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:yh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class fnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:yh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new bn(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];return s.sheenColorFactor!==void 0&&t.sheenColor.fromArray(s.sheenColorFactor),s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(r.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Er)),s.sheenRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class hnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:yh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(r.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class pnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:yh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(r.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||0;const o=s.attenuationColor||[1,1,1];return t.attenuationColor=new bn(o[0],o[1],o[2]),Promise.all(a)}}class mnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:yh}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class vnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:yh}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(r.assignTexture(t,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return t.specularColor=new bn(o[0],o[1],o[2]),s.specularColorTexture!==void 0&&a.push(r.assignTexture(t,"specularColorMap",s.specularColorTexture,Er)),Promise.all(a)}}class gnt{constructor(e){this.parser=e,this.name=Fr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const a=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class ynt{constructor(e){this.parser=e,this.name=Fr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=i.images[s.source];let l=r.textureLoader;if(o.uri){const c=r.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class bnt{constructor(e){this.name=Fr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],a=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,s.ready]).then(function(o){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new ArrayBuffer(u*d),h=new Uint8Array(o[0],l,c);return s.decodeGltfBuffer(new Uint8Array(f),u,d,h,i.mode,i.filter),f})}else return null}}const mie="glTF",u1=12,gG={JSON:1313821514,BIN:5130562};class _nt{constructor(e){this.name=Fr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,u1);if(this.header={magic:Ms.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==mie)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-u1,i=new DataView(e,u1);let a=0;for(;a<r;){const s=i.getUint32(a,!0);a+=4;const o=i.getUint32(a,!0);if(a+=4,o===gG.JSON){const l=new Uint8Array(e,u1+a,s);this.content=Ms.decodeText(l)}else if(o===gG.BIN){const l=u1+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class wnt{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Fr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},c={};for(const u in s){const d=eD[u]||u.toLowerCase();o[d]=s[u]}for(const u in e.attributes){const d=eD[u]||u.toLowerCase();if(s[u]!==void 0){const f=r.accessors[e.attributes[u]],h=P_[f.componentType];c[d]=h,l[d]=f.normalized===!0}}return t.getDependency("bufferView",a).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(f){for(const h in f.attributes){const p=f.attributes[h],m=l[h];m!==void 0&&(p.normalized=m)}d(f)},o,c)})})}}class xnt{constructor(){this.name=Fr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class JP extends ay{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),o={specular:{value:new bn().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(l){for(const c in o)l.uniforms[c]=o[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",a).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(l){o.specular.value=l}},specularMap:{get:function(){return o.specularMap.value},set:function(l){o.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(l){o.glossiness.value=l}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(l){o.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Snt{constructor(){this.name=Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return JP}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new bn(1,1,1),e.opacity=1;const a=[];if(Array.isArray(i.diffuseFactor)){const s=i.diffuseFactor;e.color.fromArray(s),e.opacity=s[3]}if(i.diffuseTexture!==void 0&&a.push(r.assignTexture(e,"map",i.diffuseTexture,Er)),e.emissive=new bn(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new bn(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const s=i.specularGlossinessTexture;a.push(r.assignTexture(e,"glossinessMap",s)),a.push(r.assignTexture(e,"specularMap",s,Er))}return Promise.all(a)}createMaterial(e){const t=new JP(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Pm,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class Cnt{constructor(){this.name=Fr.KHR_MESH_QUANTIZATION}}class vie extends pw{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i*3+i;for(let s=0;s!==i;s++)t[s]=r[a+s];return t}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=i-t,d=(r-t)/u,f=d*d,h=f*d,p=e*c,m=p-c,v=-2*h+3*f,g=h-f,y=1-v,b=g-f+d;for(let _=0;_!==o;_++){const x=s[m+_+o],S=s[m+_+l]*u,T=s[p+_+o],C=s[p+_]*u;a[_]=y*x+b*S+v*T+g*C}return a}}const Mnt=new Qa;class Tnt extends vie{interpolate_(e,t,r,i){const a=super.interpolate_(e,t,r,i);return Mnt.fromArray(a).normalize().toArray(a),a}}const Ru={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},P_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},yG={9728:La,9729:pa,9984:hM,9985:x8,9986:pM,9987:Ad},bG={33071:Sa,33648:v_,10497:co},_G={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},eD={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Zd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Ant={CUBICSPLINE:void 0,LINEAR:bg,STEP:y_},aI={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ent(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new ay({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:rh})),n.DefaultMaterial}function d1(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function lp(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Int(n,e,t){let r=!1,i=!1,a=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(n);const s=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const f=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;s.push(f)}if(i){const f=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;o.push(f)}if(a){const f=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),a&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function Rnt(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Pnt(n){const e=n.extensions&&n.extensions[Fr.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+wG(e.attributes):t=n.indices+":"+wG(n.attributes)+":"+n.mode,t}function wG(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function tD(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Dnt(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class knt{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new snt,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||r||i&&a<98?this.textureLoader=new Cg(this.options.manager):this.textureLoader=new ttt(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ts(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const o={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:r,userData:{}};d1(a,o,i),lp(o,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,a=t.length;i<a;i++){const s=t[i].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let i=0,a=e.length;i<a;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[c,u]of s.children.entries())a(u,o.children[c])};return a(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a&&r.push(a)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(a,s){return r.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Fr.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(a,s){r.load(Ms.resolveURL(t.uri,i.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,a=t.byteOffset||0;return r.slice(a,a+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const a=[];return i.bufferView!==void 0?a.push(this.getDependency("bufferView",i.bufferView)):a.push(null),i.sparse!==void 0&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=_G[i.type],c=P_[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,p=i.normalized===!0;let m,v;if(h&&h!==d){const g=Math.floor(f/h),y="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let b=t.cache.get(y);b||(m=new c(o,g*h,i.count*h/u),b=new k8(m,h/u),t.cache.add(y,b)),v=new gm(b,l,f%h/u,p)}else o===null?m=new c(i.count*l):m=new c(o,f,i.count*l),v=new Qi(m,l,p);if(i.sparse!==void 0){const g=_G.SCALAR,y=P_[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,_=i.sparse.values.byteOffset||0,x=new y(s[1],b,i.sparse.count*g),S=new c(s[2],_,i.sparse.count*l);o!==null&&(v=new Qi(v.array.slice(),v.itemSize,v.normalized));for(let T=0,C=x.length;T<C;T++){const M=x[T];if(v.setX(M,S[T*l]),l>=2&&v.setY(M,S[T*l+1]),l>=3&&v.setZ(M,S[T*l+2]),l>=4&&v.setW(M,S[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,a=t.textures[e].source,s=t.images[a];let o=this.textureLoader;if(s.uri){const l=r.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,t,r){const i=this,a=this.json,s=a.textures[e],o=a.images[t],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,s.name&&(u.name=s.name);const f=(a.samplers||{})[s.sampler]||{};return u.magFilter=yG[f.magFilter]||pa,u.minFilter=yG[f.minFilter]||Ad,u.wrapS=bG[f.wrapS]||co,u.wrapT=bG[f.wrapT]||co,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const s=i.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=r.getDependency("bufferView",s.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:s.mimeType});return l=o.createObjectURL(f),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let p=f;t.isImageBitmapLoader===!0&&(p=function(m){const v=new rs(m);v.needsUpdate=!0,f(v)}),t.load(Ms.resolveURL(d,a.path),p,void 0,h)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),d.userData.mimeType=s.mimeType||Dnt(s.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const a=this;return this.getDependency("texture",r.index).then(function(s){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),a.extensions[Fr.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Fr.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[Fr.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return i!==void 0&&(s.encoding=i),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new Np,va.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(o,l)),r=l}else if(e.isLine){const o="LineBasicMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new vc,va.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(o,l)),r=l}if(i||a||s){let o="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(o+="specular-glossiness:"),i&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=r.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return ay}loadMaterial(e){const t=this,r=this.json,i=this.extensions,a=r.materials[e];let s;const o={},l=a.extensions||{},c=[];if(l[Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];s=d.getMaterialType(),c.push(d.extendParams(o,a,t))}else if(l[Fr.KHR_MATERIALS_UNLIT]){const d=i[Fr.KHR_MATERIALS_UNLIT];s=d.getMaterialType(),c.push(d.extendParams(o,a,t))}else{const d=a.pbrMetallicRoughness||{};if(o.color=new bn(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",d.baseColorTexture,Er)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),s=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=ih);const u=a.alphaMode||aI.OPAQUE;if(u===aI.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===aI.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==cc&&(c.push(t.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new Wt(1,1),a.normalTexture.scale!==void 0)){const d=a.normalTexture.scale;o.normalScale.set(d,d)}return a.occlusionTexture!==void 0&&s!==cc&&(c.push(t.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==cc&&(o.emissive=new bn().fromArray(a.emissiveFactor)),a.emissiveTexture!==void 0&&s!==cc&&c.push(t.assignTexture(o,"emissiveMap",a.emissiveTexture,Er)),Promise.all(c).then(function(){let d;return s===JP?d=i[Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):d=new s(o),a.name&&(d.name=a.name),lp(d,a),t.associations.set(d,{materials:e}),a.extensions&&d1(i,d,a),d})}createUniqueName(e){const t=Xr.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function a(o){return r[Fr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return xG(l,o,t)})}const s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=Pnt(c),d=i[u];if(d)s.push(d.promise);else{let f;c.extensions&&c.extensions[Fr.KHR_DRACO_MESH_COMPRESSION]?f=a(c):f=xG(new Hr,c,t),i[u]={primitive:c,promise:f},s.push(f)}}return Promise.all(s)}loadMesh(e){const t=this,r=this.json,i=this.extensions,a=r.meshes[e],s=a.primitives,o=[];for(let l=0,c=s.length;l<c;l++){const u=s[l].material===void 0?Ent(this.cache):this.getDependency("material",s[l].material);o.push(u)}return o.push(t.loadGeometries(s)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],v=s[h];let g;const y=c[h];if(v.mode===Ru.TRIANGLES||v.mode===Ru.TRIANGLE_STRIP||v.mode===Ru.TRIANGLE_FAN||v.mode===void 0)g=a.isSkinnedMesh===!0?new mA(m,y):new Ca(m,y),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),v.mode===Ru.TRIANGLE_STRIP?g.geometry=SG(g.geometry,AYe):v.mode===Ru.TRIANGLE_FAN&&(g.geometry=SG(g.geometry,Hne));else if(v.mode===Ru.LINES)g=new ym(m,y);else if(v.mode===Ru.LINE_STRIP)g=new iy(m,y);else if(v.mode===Ru.LINE_LOOP)g=new hre(m,y);else if(v.mode===Ru.POINTS)g=new cb(m,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(g.geometry.morphAttributes).length>0&&Rnt(g,a),g.name=t.createUniqueName(a.name||"mesh_"+e),lp(g,a),v.extensions&&d1(i,g,v),t.assignFinalMaterial(g),d.push(g)}for(let h=0,p=d.length;h<p;h++)t.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return d[0];const f=new uo;t.associations.set(f,{meshes:e});for(let h=0,p=d.length;h<p;h++)f.add(d[h]);return f})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new xa(ws.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new ty(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),lp(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],a=[],s=[],o=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const d=r.channels[c],f=r.samplers[d.sampler],h=d.target,p=h.node!==void 0?h.node:h.id,m=r.parameters!==void 0?r.parameters[f.input]:f.input,v=r.parameters!==void 0?r.parameters[f.output]:f.output;i.push(this.getDependency("node",p)),a.push(this.getDependency("accessor",m)),s.push(this.getDependency("accessor",v)),o.push(f),l.push(h)}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],p=c[4],m=[];for(let g=0,y=u.length;g<y;g++){const b=u[g],_=d[g],x=f[g],S=h[g],T=p[g];if(b===void 0)continue;b.updateMatrix();let C;switch(Zd[T.path]){case Zd.weights:C=xg;break;case Zd.rotation:C=pd;break;case Zd.position:case Zd.scale:default:C=lh;break}const M=b.name?b.name:b.uuid,A=S.interpolation!==void 0?Ant[S.interpolation]:bg,I=[];Zd[T.path]===Zd.weights?b.traverse(function(L){L.morphTargetInfluences&&I.push(L.name?L.name:L.uuid)}):I.push(M);let D=x.array;if(x.normalized){const L=tD(D.constructor),F=new Float32Array(D.length);for(let B=0,k=D.length;B<k;B++)F[B]=D[B]*L;D=F}for(let L=0,F=I.length;L<F;L++){const B=new C(I[L]+"."+Zd[T.path],_.array,D,A);S.interpolation==="CUBICSPLINE"&&(B.createInterpolant=function(H){const z=this instanceof pd?Tnt:vie;return new z(this.times,this.values,this.getValueSize()/3,H)},B.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(B)}}const v=r.name?r.name:"animation_"+e;return new bm(v,void 0,m)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(a){const s=r._getNodeRef(r.meshCache,i.mesh,a);return i.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,c=i.weights.length;l<c;l++)o.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const t=this.json,r=this.extensions,i=this,a=t.nodes[e],s=a.name?i.createUniqueName(a.name):"";return function(){const o=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(i.getDependency("camera",a.camera).then(function(c){return i._getNodeRef(i.cameraCache,a.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),Promise.all(o)}().then(function(o){let l;if(a.isBone===!0?l=new wg:o.length>1?l=new uo:o.length===1?l=o[0]:l=new Gi,l!==o[0])for(let c=0,u=o.length;c<u;c++)l.add(o[c]);if(a.name&&(l.userData.name=a.name,l.name=s),lp(l,a),a.extensions&&d1(r,l,a),a.matrix!==void 0){const c=new Un;c.fromArray(a.matrix),l.applyMatrix4(c)}else a.translation!==void 0&&l.position.fromArray(a.translation),a.rotation!==void 0&&l.quaternion.fromArray(a.rotation),a.scale!==void 0&&l.scale.fromArray(a.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],a=this,s=new uo;i.name&&(s.name=a.createUniqueName(i.name)),lp(s,i),i.extensions&&d1(r,s,i);const o=i.nodes||[],l=[];for(let c=0,u=o.length;c<u;c++)l.push(gie(o[c],s,t,a));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,h]of a.associations)(f instanceof va||f instanceof rs)&&d.set(f,h);return u.traverse(f=>{const h=a.associations.get(f);h!=null&&d.set(f,h)}),d};return a.associations=c(s),s})}}function gie(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(a){if(i.skin===void 0)return a;let s;return r.getDependency("skin",i.skin).then(function(o){s=o;const l=[];for(let c=0,u=s.joints.length;c<u;c++)l.push(r.getDependency("node",s.joints[c]));return Promise.all(l)}).then(function(o){return a.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=o.length;d<f;d++){const h=o[d];if(h){c.push(h);const p=new Un;s.inverseBindMatrices!==void 0&&p.fromArray(s.inverseBindMatrices.array,d*16),u.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[d])}l.bind(new ry(c,u),l.matrixWorld)}),a})}).then(function(a){e.add(a);const s=[];if(i.children){const o=i.children;for(let l=0,c=o.length;l<c;l++){const u=o[l];s.push(gie(u,a,t,r))}}return Promise.all(s)})}function Lnt(n,e,t){const r=e.attributes,i=new Dm;if(r.POSITION!==void 0){const o=t.json.accessors[r.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(i.set(new Xe(l[0],l[1],l[2]),new Xe(c[0],c[1],c[2])),o.normalized){const u=tD(P_[o.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new Xe,l=new Xe;for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d.POSITION!==void 0){const f=t.json.accessors[d.POSITION],h=f.min,p=f.max;if(h!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),f.normalized){const m=tD(P_[f.componentType]);l.multiplyScalar(m)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}n.boundingBox=i;const s=new km;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=s}function xG(n,e,t){const r=e.attributes,i=[];function a(s,o){return t.getDependency("accessor",s).then(function(l){n.setAttribute(o,l)})}for(const s in r){const o=eD[s]||s.toLowerCase();o in n.attributes||i.push(a(r[s],o))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});i.push(s)}return lp(n,e),Lnt(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Int(n,e.targets,t):n})}function SG(n,e){let t=n.getIndex();if(t===null){const s=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===Hne)for(let s=1;s<=r;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(i),a}const Nnt=/^[og]\s*(.+)?/,Ont=/^mtllib /,Bnt=/^usemtl /,Fnt=/^usemap /,CG=/\s+/,MG=new Xe,sI=new Xe,TG=new Xe,AG=new Xe,el=new Xe,PS=new bn;function znt(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,a){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const o={index:this.materials.length,name:i||"",mtllib:Array.isArray(a)&&a.length>0?a[a.length-1]:"",smooth:s!==void 0?s.smooth:this.smooth,groupStart:s!==void 0?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const c={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const a=this.currentMaterial();if(a&&a.groupEnd===-1&&(a.groupEnd=this.geometry.vertices.length/3,a.groupCount=a.groupEnd-a.groupStart,a.inherited=!1),i&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),a}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseNormalIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseUVIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/2)*2},addVertex:function(e,t,r){const i=this.vertices,a=this.object.geometry.vertices;a.push(i[e+0],i[e+1],i[e+2]),a.push(i[t+0],i[t+1],i[t+2]),a.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){const i=this.normals,a=this.object.geometry.normals;a.push(i[e+0],i[e+1],i[e+2]),a.push(i[t+0],i[t+1],i[t+2]),a.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,t,r){const i=this.vertices,a=this.object.geometry.normals;MG.fromArray(i,e),sI.fromArray(i,t),TG.fromArray(i,r),el.subVectors(TG,sI),AG.subVectors(MG,sI),el.cross(AG),el.normalize(),a.push(el.x,el.y,el.z),a.push(el.x,el.y,el.z),a.push(el.x,el.y,el.z)},addColor:function(e,t,r){const i=this.colors,a=this.object.geometry.colors;i[e]!==void 0&&a.push(i[e+0],i[e+1],i[e+2]),i[t]!==void 0&&a.push(i[t+0],i[t+1],i[t+2]),i[r]!==void 0&&a.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,t,r){const i=this.uvs,a=this.object.geometry.uvs;a.push(i[e+0],i[e+1]),a.push(i[t+0],i[t+1]),a.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,i,a,s,o,l,c){const u=this.vertices.length;let d=this.parseVertexIndex(e,u),f=this.parseVertexIndex(t,u),h=this.parseVertexIndex(r,u);if(this.addVertex(d,f,h),this.addColor(d,f,h),o!==void 0&&o!==""){const p=this.normals.length;d=this.parseNormalIndex(o,p),f=this.parseNormalIndex(l,p),h=this.parseNormalIndex(c,p),this.addNormal(d,f,h)}else this.addFaceNormal(d,f,h);if(i!==void 0&&i!==""){const p=this.uvs.length;d=this.parseUVIndex(i,p),f=this.parseUVIndex(a,p),h=this.parseUVIndex(s,p),this.addUV(d,f,h),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const a=this.parseVertexIndex(e[r],t);this.addVertexPoint(a),this.addColor(a)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let a=0,s=e.length;a<s;a++)this.addVertexLine(this.parseVertexIndex(e[a],r));for(let a=0,s=t.length;a<s;a++)this.addUVLine(this.parseUVIndex(t[a],i))}};return n.startObject("",!1),n}class Unt extends ss{constructor(e){super(e),this.materials=null}load(e,t,r,i){const a=this,s=new Ts(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new znt;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i=[];for(let o=0,l=r.length;o<l;o++){const c=r[o].trimStart();if(c.length===0)continue;const u=c.charAt(0);if(u!=="#")if(u==="v"){const d=c.split(CG);switch(d[0]){case"v":t.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),d.length>=7?(PS.setRGB(parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6])).convertSRGBToLinear(),t.colors.push(PS.r,PS.g,PS.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":t.uvs.push(parseFloat(d[1]),parseFloat(d[2]));break}}else if(u==="f"){const f=c.slice(1).trim().split(CG),h=[];for(let m=0,v=f.length;m<v;m++){const g=f[m];if(g.length>0){const y=g.split("/");h.push(y)}}const p=h[0];for(let m=1,v=h.length-1;m<v;m++){const g=h[m],y=h[m+1];t.addFace(p[0],g[0],y[0],p[1],g[1],y[1],p[2],g[2],y[2])}}else if(u==="l"){const d=c.substring(1).trim().split(" ");let f=[];const h=[];if(c.indexOf("/")===-1)f=d;else for(let p=0,m=d.length;p<m;p++){const v=d[p].split("/");v[0]!==""&&f.push(v[0]),v[1]!==""&&h.push(v[1])}t.addLineGeometry(f,h)}else if(u==="p"){const f=c.slice(1).trim().split(" ");t.addPointGeometry(f)}else if((i=Nnt.exec(c))!==null){const d=(" "+i[0].slice(1).trim()).slice(1);t.startObject(d)}else if(Bnt.test(c))t.object.startMaterial(c.substring(7).trim(),t.materialLibraries);else if(Ont.test(c))t.materialLibraries.push(c.substring(7).trim());else if(Fnt.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(u==="s"){if(i=c.split(" "),i.length>1){const f=i[1].trim().toLowerCase();t.object.smooth=f!=="0"&&f!=="off"}else t.object.smooth=!0;const d=t.object.currentMaterial();d&&(d.smooth=t.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}t.finalize();const a=new uo;if(a.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let o=0,l=t.objects.length;o<l;o++){const c=t.objects[o],u=c.geometry,d=c.materials,f=u.type==="Line",h=u.type==="Points";let p=!1;if(u.vertices.length===0)continue;const m=new Hr;m.setAttribute("position",new En(u.vertices,3)),u.normals.length>0&&m.setAttribute("normal",new En(u.normals,3)),u.colors.length>0&&(p=!0,m.setAttribute("color",new En(u.colors,3))),u.hasUVIndices===!0&&m.setAttribute("uv",new En(u.uvs,2));const v=[];for(let y=0,b=d.length;y<b;y++){const _=d[y],x=_.name+"_"+_.smooth+"_"+p;let S=t.materials[x];if(this.materials!==null){if(S=this.materials.create(_.name),f&&S&&!(S instanceof vc)){const T=new vc;va.prototype.copy.call(T,S),T.color.copy(S.color),S=T}else if(h&&S&&!(S instanceof Np)){const T=new Np({size:10,sizeAttenuation:!1});va.prototype.copy.call(T,S),T.color.copy(S.color),T.map=S.map,S=T}}S===void 0&&(f?S=new vc:h?S=new Np({size:1,sizeAttenuation:!1}):S=new nd,S.name=_.name,S.flatShading=!_.smooth,S.vertexColors=p,t.materials[x]=S),v.push(S)}let g;if(v.length>1){for(let y=0,b=d.length;y<b;y++){const _=d[y];m.addGroup(_.groupStart,_.groupCount,y)}f?g=new ym(m,v):h?g=new cb(m,v):g=new Ca(m,v)}else f?g=new ym(m,v[0]):h?g=new cb(m,v[0]):g=new Ca(m,v[0]);g.name=c.name,a.add(g)}else if(t.vertices.length>0){const o=new Np({size:1,sizeAttenuation:!1}),l=new Hr;l.setAttribute("position",new En(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(l.setAttribute("color",new En(t.colors,3)),o.vertexColors=!0);const c=new cb(l,o);a.add(c)}return a}}class Hnt extends $et{constructor(e){super(e)}parse(e,t){const r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},i=542327876,a=131072,s=512,o=1024,l=2048,c=4096,u=8192,d=16384,f=32768;function h(de){return de.charCodeAt(0)+(de.charCodeAt(1)<<8)+(de.charCodeAt(2)<<16)+(de.charCodeAt(3)<<24)}function p(de){return String.fromCharCode(de&255,de>>8&255,de>>16&255,de>>24&255)}function m(de,le,fe,Ee){const Re=fe*Ee*4,He=new Uint8Array(de,le,Re),$e=new Uint8Array(Re);let K=0,ce=0;for(let ie=0;ie<Ee;ie++)for(let Ue=0;Ue<fe;Ue++){const De=He[ce];ce++;const Ye=He[ce];ce++;const ze=He[ce];ce++;const Ve=He[ce];ce++,$e[K]=ze,K++,$e[K]=Ye,K++,$e[K]=De,K++,$e[K]=Ve,K++}return $e}const v=h("DXT1"),g=h("DXT3"),y=h("DXT5"),b=h("ETC1"),_=31,x=0,S=1,T=2,C=3,M=4,A=7,I=21,D=22,L=23,F=24,B=25,k=26,H=28,z=new Int32Array(e,0,_);if(z[x]!==i)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),r;let O;const G=z[I];let X=!1;switch(G){case v:O=8,r.format=q2;break;case g:O=16,r.format=K2;break;case y:O=16,r.format=Y2;break;case b:O=8,r.format=Une;break;default:if(z[D]===32&&z[L]&16711680&&z[F]&65280&&z[B]&255&&z[k]&4278190080)X=!0,O=64,r.format=yl;else return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",p(G)),r}r.mipmapCount=1,z[T]&a&&t!==!1&&(r.mipmapCount=Math.max(1,z[A]));const J=z[H];if(r.isCubemap=!!(J&s),r.isCubemap&&(!(J&o)||!(J&l)||!(J&c)||!(J&u)||!(J&d)||!(J&f)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),r;r.width=z[M],r.height=z[C];let Q=z[S]+4;const re=r.isCubemap?6:1;for(let de=0;de<re;de++){let le=r.width,fe=r.height;for(let Ee=0;Ee<r.mipmapCount;Ee++){let Re,He;X?(Re=m(e,Q,le,fe),He=Re.length):(He=Math.max(4,le)/4*Math.max(4,fe)/4*O,Re=new Uint8Array(e,Q,He));const $e={data:Re,width:le,height:fe};r.mipmaps.push($e),Q+=He,le=Math.max(le>>1,1),fe=Math.max(fe>>1,1)}}return r}}class Vnt{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const DS=new bn;class $nt extends ss{constructor(e){super(e),this.propertyNameMapping={}}load(e,t,r,i){const a=this,s=new Ts(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}setPropertyNameMapping(e){this.propertyNameMapping=e}parse(e){function t(h){const p=/^ply([\s\S]*)end_header(\r\n|\r|\n)/;let m="",v=0;const g=p.exec(h);g!==null&&(m=g[1],v=new Blob([g[0]]).size);const y={comments:[],elements:[],headerLength:v,objInfo:""},b=m.split(/\r\n|\r|\n/);let _;function x(S,T){const C={type:S[0]};return C.type==="list"?(C.name=S[3],C.countType=S[1],C.itemType=S[2]):C.name=S[1],C.name in T&&(C.name=T[C.name]),C}for(let S=0;S<b.length;S++){let T=b[S];if(T=T.trim(),T==="")continue;const C=T.split(/\s+/),M=C.shift();switch(T=C.join(" "),M){case"format":y.format=C[0],y.version=C[1];break;case"comment":y.comments.push(T);break;case"element":_!==void 0&&y.elements.push(_),_={},_.name=C[0],_.count=parseInt(C[1]),_.properties=[];break;case"property":_.properties.push(x(C,f.propertyNameMapping));break;case"obj_info":y.objInfo=T;break;default:console.log("unhandled",M,C)}}return _!==void 0&&y.elements.push(_),y}function r(h,p){switch(p){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(h);case"float":case"double":case"float32":case"float64":return parseFloat(h)}}function i(h,p){const m=p.split(/\s+/),v={};for(let g=0;g<h.length;g++)if(h[g].type==="list"){const y=[],b=r(m.shift(),h[g].countType);for(let _=0;_<b;_++)y.push(r(m.shift(),h[g].itemType));v[h[g].name]=y}else v[h[g].name]=r(m.shift(),h[g].type);return v}function a(h,p){const m={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]};let v;const g=/end_header\s([\s\S]*)$/;let y="";(v=g.exec(h))!==null&&(y=v[1]);const b=y.split(/\r\n|\r|\n/);let _=0,x=0;for(let S=0;S<b.length;S++){let T=b[S];if(T=T.trim(),T==="")continue;x>=p.elements[_].count&&(_++,x=0);const C=i(p.elements[_].properties,T);o(m,p.elements[_].name,C),x++}return s(m)}function s(h){let p=new Hr;return h.indices.length>0&&p.setIndex(h.indices),p.setAttribute("position",new En(h.vertices,3)),h.normals.length>0&&p.setAttribute("normal",new En(h.normals,3)),h.uvs.length>0&&p.setAttribute("uv",new En(h.uvs,2)),h.colors.length>0&&p.setAttribute("color",new En(h.colors,3)),h.faceVertexUvs.length>0&&(p=p.toNonIndexed(),p.setAttribute("uv",new En(h.faceVertexUvs,2))),p.computeBoundingSphere(),p}function o(h,p,m){function v(D){for(let L=0,F=D.length;L<F;L++){const B=D[L];if(B in m)return B}return null}const g=v(["x","px","posx"])||"x",y=v(["y","py","posy"])||"y",b=v(["z","pz","posz"])||"z",_=v(["nx","normalx"]),x=v(["ny","normaly"]),S=v(["nz","normalz"]),T=v(["s","u","texture_u","tx"]),C=v(["t","v","texture_v","ty"]),M=v(["red","diffuse_red","r","diffuse_r"]),A=v(["green","diffuse_green","g","diffuse_g"]),I=v(["blue","diffuse_blue","b","diffuse_b"]);if(p==="vertex")h.vertices.push(m[g],m[y],m[b]),_!==null&&x!==null&&S!==null&&h.normals.push(m[_],m[x],m[S]),T!==null&&C!==null&&h.uvs.push(m[T],m[C]),M!==null&&A!==null&&I!==null&&(DS.setRGB(m[M]/255,m[A]/255,m[I]/255).convertSRGBToLinear(),h.colors.push(DS.r,DS.g,DS.b));else if(p==="face"){const D=m.vertex_indices||m.vertex_index,L=m.texcoord;D.length===3?(h.indices.push(D[0],D[1],D[2]),L&&L.length===6&&(h.faceVertexUvs.push(L[0],L[1]),h.faceVertexUvs.push(L[2],L[3]),h.faceVertexUvs.push(L[4],L[5]))):D.length===4&&(h.indices.push(D[0],D[1],D[3]),h.indices.push(D[1],D[2],D[3]))}}function l(h,p,m,v){switch(m){case"int8":case"char":return[h.getInt8(p),1];case"uint8":case"uchar":return[h.getUint8(p),1];case"int16":case"short":return[h.getInt16(p,v),2];case"uint16":case"ushort":return[h.getUint16(p,v),2];case"int32":case"int":return[h.getInt32(p,v),4];case"uint32":case"uint":return[h.getUint32(p,v),4];case"float32":case"float":return[h.getFloat32(p,v),4];case"float64":case"double":return[h.getFloat64(p,v),8]}}function c(h,p,m,v){const g={};let y,b=0;for(let _=0;_<m.length;_++)if(m[_].type==="list"){const x=[];y=l(h,p+b,m[_].countType,v);const S=y[0];b+=y[1];for(let T=0;T<S;T++)y=l(h,p+b,m[_].itemType,v),x.push(y[0]),b+=y[1];g[m[_].name]=x}else y=l(h,p+b,m[_].type,v),g[m[_].name]=y[0],b+=y[1];return[g,b]}function u(h,p){const m={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},v=p.format==="binary_little_endian",g=new DataView(h,p.headerLength);let y,b=0;for(let _=0;_<p.elements.length;_++)for(let x=0;x<p.elements[_].count;x++){y=c(g,b,p.elements[_].properties,v),b+=y[1];const S=y[0];o(m,p.elements[_].name,S)}return s(m)}let d;const f=this;if(e instanceof ArrayBuffer){const h=Ms.decodeText(new Uint8Array(e)),p=t(h);d=p.format==="ascii"?a(h,p):u(e,p)}else d=a(e,t(e));return d}}class Gnt extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Ts(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){function t(c){const u=new DataView(c),d=32/8*3+32/8*3*3+16/8,f=u.getUint32(80,!0);if(80+32/8+f*d===u.byteLength)return!0;const p=[115,111,108,105,100];for(let m=0;m<5;m++)if(r(p,u,m))return!1;return!0}function r(c,u,d){for(let f=0,h=c.length;f<h;f++)if(c[f]!==u.getUint8(d+f))return!1;return!0}function i(c){const u=new DataView(c),d=u.getUint32(80,!0);let f,h,p,m=!1,v,g,y,b,_;for(let A=0;A<80-10;A++)u.getUint32(A,!1)==1129270351&&u.getUint8(A+4)==82&&u.getUint8(A+5)==61&&(m=!0,v=new Float32Array(d*3*3),g=u.getUint8(A+6)/255,y=u.getUint8(A+7)/255,b=u.getUint8(A+8)/255,_=u.getUint8(A+9)/255);const x=84,S=12*4+2,T=new Hr,C=new Float32Array(d*3*3),M=new Float32Array(d*3*3);for(let A=0;A<d;A++){const I=x+A*S,D=u.getFloat32(I,!0),L=u.getFloat32(I+4,!0),F=u.getFloat32(I+8,!0);if(m){const B=u.getUint16(I+48,!0);B&32768?(f=g,h=y,p=b):(f=(B&31)/31,h=(B>>5&31)/31,p=(B>>10&31)/31)}for(let B=1;B<=3;B++){const k=I+B*12,H=A*3*3+(B-1)*3;C[H]=u.getFloat32(k,!0),C[H+1]=u.getFloat32(k+4,!0),C[H+2]=u.getFloat32(k+8,!0),M[H]=D,M[H+1]=L,M[H+2]=F,m&&(v[H]=f,v[H+1]=h,v[H+2]=p)}}return T.setAttribute("position",new Qi(C,3)),T.setAttribute("normal",new Qi(M,3)),m&&(T.setAttribute("color",new Qi(v,3)),T.hasColors=!0,T.alpha=_),T}function a(c){const u=new Hr,d=/solid([\s\S]*?)endsolid/g,f=/facet([\s\S]*?)endfacet/g;let h=0;const p=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,m=new RegExp("vertex"+p+p+p,"g"),v=new RegExp("normal"+p+p+p,"g"),g=[],y=[],b=new Xe;let _,x=0,S=0,T=0;for(;(_=d.exec(c))!==null;){S=T;const C=_[0];for(;(_=f.exec(C))!==null;){let I=0,D=0;const L=_[0];for(;(_=v.exec(L))!==null;)b.x=parseFloat(_[1]),b.y=parseFloat(_[2]),b.z=parseFloat(_[3]),D++;for(;(_=m.exec(L))!==null;)g.push(parseFloat(_[1]),parseFloat(_[2]),parseFloat(_[3])),y.push(b.x,b.y,b.z),I++,T++;D!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+h),I!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+h),h++}const M=S,A=T-S;u.addGroup(M,A,x),x++}return u.setAttribute("position",new En(g,3)),u.setAttribute("normal",new En(y,3)),u}function s(c){return typeof c!="string"?Ms.decodeText(new Uint8Array(c)):c}function o(c){if(typeof c=="string"){const u=new Uint8Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d)&255;return u.buffer||u}else return c}const l=o(e);return t(l)?i(l):a(s(e))}}class Wnt extends ss{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?Ms.extractUrlBase(e):this.path,o=new Ts(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const r=e.split(`
`);let i={};const a=/\s+/,s={};for(let l=0;l<r.length;l++){let c=r[l];if(c=c.trim(),c.length===0||c.charAt(0)==="#")continue;const u=c.indexOf(" ");let d=u>=0?c.substring(0,u):c;d=d.toLowerCase();let f=u>=0?c.substring(u+1):"";if(f=f.trim(),d==="newmtl")i={name:f},s[f]=i;else if(d==="ka"||d==="kd"||d==="ks"||d==="ke"){const h=f.split(a,3);i[d]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else i[d]=f}const o=new qnt(this.resourcePath||t,this.materialOptions);return o.setCrossOrigin(this.crossOrigin),o.setManager(this.manager),o.setMaterials(s),o}}class qnt{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:rh,this.wrap=this.options.wrap!==void 0?this.options.wrap:co}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const r in e){const i=e[r],a={};t[r]=a;for(const s in i){let o=!0,l=i[s];const c=s.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(l=[l[0]/255,l[1]/255,l[2]/255]),this.options&&this.options.ignoreZeroRGBs&&l[0]===0&&l[1]===0&&l[2]===0&&(o=!1);break}o&&(a[c]=l)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,r=this.materialsInfo[e],i={name:e,side:this.side};function a(o,l){return typeof l!="string"||l===""?"":/^https?:\/\//i.test(l)?l:o+l}function s(o,l){if(i[o])return;const c=t.getTextureParams(l,i),u=t.loadTexture(a(t.baseUrl,c.url));u.repeat.copy(c.scale),u.offset.copy(c.offset),u.wrapS=t.wrap,u.wrapT=t.wrap,(o==="map"||o==="emissiveMap")&&(u.encoding=Er),i[o]=u}for(const o in r){const l=r[o];let c;if(l!=="")switch(o.toLowerCase()){case"kd":i.color=new bn().fromArray(l).convertSRGBToLinear();break;case"ks":i.specular=new bn().fromArray(l).convertSRGBToLinear();break;case"ke":i.emissive=new bn().fromArray(l).convertSRGBToLinear();break;case"map_kd":s("map",l);break;case"map_ks":s("specularMap",l);break;case"map_ke":s("emissiveMap",l);break;case"norm":s("normalMap",l);break;case"map_bump":case"bump":s("bumpMap",l);break;case"map_d":s("alphaMap",l),i.transparent=!0;break;case"ns":i.shininess=parseFloat(l);break;case"d":c=parseFloat(l),c<1&&(i.opacity=c,i.transparent=!0);break;case"tr":c=parseFloat(l),this.options&&this.options.invertTrProperty&&(c=1-c),c>0&&(i.opacity=1-c,i.transparent=!0);break}}return this.materials[e]=new nd(i),this.materials[e]}getTextureParams(e,t){const r={scale:new Wt(1,1),offset:new Wt(0,0)},i=e.split(/\s+/);let a;return a=i.indexOf("-bm"),a>=0&&(t.bumpScale=parseFloat(i[a+1]),i.splice(a,2)),a=i.indexOf("-s"),a>=0&&(r.scale.set(parseFloat(i[a+1]),parseFloat(i[a+2])),i.splice(a,4)),a=i.indexOf("-o"),a>=0&&(r.offset.set(parseFloat(i[a+1]),parseFloat(i[a+2])),i.splice(a,4)),r.url=i.join(" ").trim(),r}loadTexture(e,t,r,i,a){const s=this.manager!==void 0?this.manager:Ire;let o=s.getHandler(e);o===null&&(o=new Cg(s)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin);const l=o.load(e,r,i,a);return t!==void 0&&(l.mapping=t),l}}const oI=new WeakMap;class Knt extends ss{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const a=new Ts(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const a={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(oI.has(e)){const l=oI.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[a]={resolve:c,reject:u},i.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{i&&a&&this._releaseTask(i,a)}),oI.set(e,{key:r,promise:o}),o}_createGeometry(e){const t=new Hr;e.index&&t.setIndex(new Qi(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],a=i.name,s=i.array,o=i.itemSize;t.setAttribute(a,new Qi(s,o))}return t}_loadLibrary(e,t){const r=new Ts(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,a)=>{r.load(e,i,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const a=Ynt.toString(),s=["/* draco decoder */",i,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(a){const s=a.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,a){return i._taskLoad>a._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Ynt(){let n,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":n=o.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,h=new d.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const p=t(d,f,h,c),m=p.attributes.map(v=>v.array.buffer);p.index&&m.push(p.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:p},m)}catch(p){console.error(p),self.postMessage({type:"error",id:o.id,error:p.message})}finally{d.destroy(h),d.destroy(f)}});break}};function t(s,o,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,h;const p=o.GetEncodedGeometryType(l);if(p===s.TRIANGULAR_MESH)f=new s.Mesh,h=o.DecodeBufferToMesh(l,f);else if(p===s.POINT_CLOUD)f=new s.PointCloud,h=o.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const m={index:null,attributes:[]};for(const v in u){const g=self[d[v]];let y,b;if(c.useUniqueIDs)b=u[v],y=o.GetAttributeByUniqueId(f,b);else{if(b=o.GetAttributeId(f,s[u[v]]),b===-1)continue;y=o.GetAttribute(f,b)}m.attributes.push(i(s,o,f,v,g,y))}return p===s.TRIANGULAR_MESH&&(m.index=r(s,o,f)),s.destroy(f),m}function r(s,o,l){const u=l.num_faces()*3,d=u*4,f=s._malloc(d);o.GetTrianglesUInt32Array(l,d,f);const h=new Uint32Array(s.HEAPF32.buffer,f,u).slice();return s._free(f),{array:h,itemSize:1}}function i(s,o,l,c,u,d){const f=d.num_components(),p=l.num_points()*f,m=p*u.BYTES_PER_ELEMENT,v=a(s,u),g=s._malloc(m);o.GetAttributeDataArrayForAllPoints(l,d,v,m,g);const y=new u(s.HEAPF32.buffer,g,p).slice();return s._free(g),{name:c,array:y,itemSize:f}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}const OM=new Dm,Bc=new Vnt;Bc.addHandler(/\.dds$/i,new Hnt);Bc.addHandler(/\.tga$/i,new QP);function Xnt(n){return OM.setFromObject(n),OM.getSize(new Xe)}function jnt(n){return OM.setFromObject(n),OM.getCenter(new Xe)}function Znt(n){const e=n.split(".");if(e.length<=1)return"";{let t=e.pop();return t=t.toLowerCase(),t}}function Qnt(n,e,t,r,i){let a;e?a=e:a=Znt(n),a==="glb"&&(a="gltf");let s={loader:null,getObject:null};switch(a){case"dae":s={loader:new int(Bc),getObject:o=>o.scene};break;case"fbx":s={loader:new qtt(Bc)};break;case"gltf":s={loader:new ant(Bc),getObject:o=>{const l=o.scene;return o.animations&&(l.animations=o.animations),l}},ert(t,s,i);break;case"obj":s={loader:new Unt(Bc)};break;case"ply":s={loader:new $nt(Bc),getObject:o=>(o.computeVertexNormals(),new Ca(o,r==="MeshStandardMaterial"?new ay:new cc({vertexColors:!0})))};break;case"stl":s={loader:new Gnt(Bc),getObject:o=>new Ca(o,new nd)};break;case"json":s={loader:new Jet(Bc)};break}return s}function Jnt(){return new Wnt(Bc)}function ert(n,e,t){if(n){const r=new Knt;r.setDecoderPath(t||"assets/draco/gltf/"),r.setDecoderConfig({type:"js"}),e.loader.setDRACOLoader(r)}}var trt=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t};const nrt=Ie({name:"vue3dLoader"}),rrt=Ie({...nrt,props:{filePath:null,fileType:null,width:null,height:null,position:null,rotation:null,scale:null,lights:{default:()=>[{type:"AmbientLight",color:11184810},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]},cameraPosition:{default:()=>({x:0,y:0,z:0})},cameraRotation:null,cameraUp:null,cameraLookAt:null,backgroundColor:{default:()=>16777215},backgroundAlpha:{default:()=>1},controlsOptions:null,crossOrigin:{default:"anonymous"},requestHeader:null,outputEncoding:{default:()=>"linear"},webGLRendererOptions:{default:()=>({})},mtlPath:{default:""},showFps:{type:Boolean,default:!1},textureImage:{default:""},clearScene:{type:Boolean,default:!1},parallelLoad:{type:Boolean,default:!1},labels:{default:()=>[]},autoPlay:{type:Boolean,default:!0},enableDraco:{type:Boolean,default:!1},dracoDir:null,intersectRecursive:{type:Boolean,default:!1},enableDamping:{type:Boolean},dampingFactor:null,verticalCtrl:{type:[Boolean,Object],default:!1},horizontalCtrl:{type:[Boolean,Object],default:!1},plyMaterial:{default:"MeshStandardMaterial"},enableAxesHelper:{type:Boolean,default:!1},axesHelperSize:{default:100},enableGridHelper:{type:Boolean,default:!1},minDistance:{default:0},maxDistance:{default:1/0},pointLightFollowCamera:{type:Boolean}},emits:["mousedown","mousemove","mouseup","click","dblclick","load","process","error"],setup(n,{expose:e,emit:t}){const r=n;let i=null;const a=new mtt,s=new Wt,o=new xa(45,1,.1,1e5),l=new ntt;let c=new D8,u=null,d={},f=[],h=null,p=0,m=null,v=null,g=null,y=null,b=null;const _=ee({width:r.width||0,height:r.height||0}),x=ee(0),S=ee(!1),T=ee(!1),C=ee(null),M=ee(null);pn(()=>{D()}),yr(()=>{I()}),dt([()=>r.autoPlay],()=>{Ke()}),dt([()=>r.width,()=>r.height],()=>{_.value={width:r.width||0,height:r.height||0}}),dt([()=>r.enableAxesHelper,()=>r.axesHelperSize,()=>r.enableGridHelper],()=>{ht()}),dt([()=>r.minDistance,()=>r.maxDistance],()=>{Me()}),dt([()=>r.filePath,()=>r.fileType,()=>r.mtlPath,()=>r.clearScene,()=>r.backgroundAlpha,()=>r.backgroundColor],$=>{($[0]||$[1])&&A(),$[2]&&Ee(),$[3]&&Ve(),($[4]||$[5])&&re()},{deep:!0}),dt([()=>r.rotation,()=>r.position,()=>r.scale,()=>r.lights],$=>{const ge=["rotation","position","scale"];$.forEach((he,Ae)=>{Ae<3&&he?Je(ge[Ae],he):le()})},{deep:!0}),dt([()=>_],()=>{de(!0),re()},{deep:!0}),dt([()=>r.controlsOptions],()=>{fe()},{deep:!0}),dt([()=>r.cameraRotation,()=>r.cameraPosition],()=>{de()},{deep:!0}),dt([()=>r.labels],()=>{W()},{deep:!0});function A(){I(),D()}function I(){p&&cancelAnimationFrame(p),u&&u.dispose(),d&&Object.keys(d).length>0&&(d.dispose(),d={});const $=C.value;$.removeEventListener("mousedown",k,!1),$.removeEventListener("mousemove",H,!1),$.removeEventListener("mouseup",z,!1),$.removeEventListener("click",O,!1),$.removeEventListener("dblclick",G,!1),window.removeEventListener("resize",B,!1),i=null,c&&c.clear()}function D(){const{filePath:$,outputEncoding:ge,webGLRendererOptions:he,showFps:Ae,enableDamping:ye,dampingFactor:Se,labels:ft}=r;$&&typeof $=="object"&&(T.value=!0);const Te=C.value;L(Te),B();const nt=Object.assign({},{antialias:!0,alpha:!0},he,{canvas:M.value});if(!u){u=new dre(nt),u.shadowMap.enabled=!0;const gt=ge==="linear"?ah:Er;u.outputEncoding=gt}(!d||Object.keys(d).length<=0)&&(d=new ytt(o,Te),ye&&(d.enableDamping=!0,Se!=null&&(d.dampingFactor=Se))),Me(),ht(),Ee(),J(),F(!0),Te.addEventListener("mousedown",k,!1),Te.addEventListener("mouseup",z,!1),Te.addEventListener("click",O,!1),Te.addEventListener("dblclick",G,!1),window.addEventListener("resize",B,!1),Ae&&(m=fb(),Te.appendChild(m.dom)),ie(),ft&&ft.length>0&&W()}function L($){const{width:ge,height:he}=r;ge&&($.style.width=`${ge}px`),he&&($.style.height=`${he}px`)}function F($){const ge=C.value;$?ge.addEventListener("mousemove",H,!1):ge.removeEventListener("mousemove",H,!1)}function B(){const{width:$,height:ge}=r;(!$||!ge)&&Yt(()=>{const he=C.value;_.value={width:$||he.offsetWidth,height:ge||he.offsetHeight}})}function k($){F(!1);const ge=X($.clientX,$.clientY);t("mousedown",$,ge)}function H($){const ge=X($.clientX,$.clientY);t("mousemove",$,ge)}function z($){const ge=X($.clientX,$.clientY);t("mouseup",$,ge),F(!0)}function O($){const ge=X($.clientX,$.clientY);t("click",$,ge)}function G($){const ge=X($.clientX,$.clientY);t("dblclick",$,ge)}function X($,ge){const he=pe();if(!he||!C.value)return null;const Ae=C.value.getBoundingClientRect();$-=Ae.left,ge-=Ae.top,s.x=$/_.value.width*2-1,s.y=-(ge/_.value.height)*2+1,a.setFromCamera(s,o);const ye=a.intersectObject(he,r.intersectRecursive);return(ye&&ye.length)>0?ye[0]:null}function J(){re(),de(),le(),fe()}function Q(){if(!i)return;const $=T.value?Ne(i):null,{position:ge,rotation:he,scale:Ae}=r;ge&&(ge instanceof Array?$!=null?i.position.set(ge[$].x,ge[$].y,ge[$].z):i.position.set(0,0,0):i.position.set(ge.x,ge.y,ge.z)),he&&(he instanceof Array?$!=null?i.rotation.set(he[$].x,he[$].y,he[$].z):i.rotation.set(0,0,0):i.rotation.set(he.x,he.y,he.z)),Ae&&(Ae instanceof Array?$!=null?i.scale.set(Ae[$].x,Ae[$].y,Ae[$].z):i.scale.set(1,1,1):i.scale.set(Ae.x,Ae.y,Ae.z))}function re(){const{backgroundColor:$,backgroundAlpha:ge}=r;u.setSize(_.value.width,_.value.height),u.setPixelRatio(window.devicePixelRatio||1),u.setClearColor(new bn($).getHex()),u.setClearAlpha(ge)}function de($){const{cameraPosition:ge,cameraRotation:he,cameraUp:Ae,cameraLookAt:ye}=r;if(o.aspect=_.value.width/_.value.height,o.updateProjectionMatrix(),!$)if(!ye||!Ae){if(!i)return;const Se=Xnt(i).length();o.position.set(ge.x,ge.y,ge.z),he&&o.rotation.set(he.x,he.y,he.z),ge.x===0&&ge.y===0&&ge.z===0&&(o.position.z=Se),o.lookAt(new Xe)}else o.position.set(ge.x,ge.y,ge.z),he&&o.rotation.set(he.x,he.y,he.z),o.up.set(Ae.x,Ae.y,Ae.z),o.lookAt(new Xe(ye.x,ye.y,ye.z))}function le(){const{lights:$}=r;c.remove(...f),f=[],$.forEach(ge=>{if(!ge.type)return;const he=ge.type.toLowerCase();let Ae=null;if(he==="ambient"||he==="ambientlight"){const ye=ge.color===0?ge.color:ge.color||4210752,Se=ge.intensity===0?ge.intensity:ge.intensity||1;Ae=new yA(ye,Se)}if(he==="point"||he==="pointlight"){const ye=ge.color===0?ge.color:ge.color||16777215,Se=ge.intensity===0?ge.intensity:ge.intensity||1,ft=ge.distance||0,Te=ge.decay===0?ge.decay:ge.decay||1;Ae=new _m(ye,Se,ft,Te),ge.position&&Ae.position.copy(ge.position)}if(he==="directional"||he==="directionallight"){const ye=ge.color===0?ge.color:ge.color||16777215,Se=ge.intensity===0?ge.intensity:ge.intensity||1;Ae=new mw(ye,Se),ge.position&&Ae.position.copy(ge.position),ge.target&&Ae.target.copy(ge.target)}if(he==="hemisphere"||he==="hemispherelight"){const ye=ge.skyColor===0?ge.skyColor:ge.skyColor||16777215,Se=ge.groundColor===0?ge.groundColor:ge.groundColor||16777215,ft=ge.intensity===0?ge.intensity:ge.intensity||1;Ae=new Rre(ye,Se,ft),ge.position&&Ae.position.copy(ge.position)}Ae&&(f.push(Ae),c.add(Ae))})}function fe(){const{controlsOptions:$}=r;$&&Object.assign(d,$)}function Ee(){const{filePath:$,parallelLoad:ge}=r;ge&&T?$.forEach((he,Ae)=>{Re(Ae)}):Re()}function Re($){const{filePath:ge,fileType:he,crossOrigin:Ae,requestHeader:ye,mtlPath:Se,enableDraco:ft,dracoDir:Te,plyMaterial:_t}=r;if(!ge)return;const nt=$||x.value,gt=T.value?ge[nt]:ge,Lt=typeof he=="string"?he:he?he[nt]:"",At=Qnt(gt,Lt,ft,_t,Te);h=At.loader;const an=At.getObject?At.getObject:K;if(i&&nt===0&&c.remove(i),ye&&h.setRequestHeader(ye),Ae&&h.setCrossOrigin(Ae),Se)if(!(typeof Se=="object"))$e(gt,an,nt);else{if(!Se[nt]){He(gt,an,nt);return}$e(gt,an,nt)}else He(gt,an,nt)}function He($,ge,he){const{textureImage:Ae,parallelLoad:ye}=r;h.load($,(...Se)=>{if(i=ge(...Se),ce(i,$),Ae){const Te=typeof Ae=="string"?Ae:Ae[he];Te&&ze(i,Te)}t("load",c)},Se=>{ye||Ye(Se);const ft=x.value+1;t("process",Se,ft)},Se=>{t("error",Se)})}function $e($,ge,he){const{crossOrigin:Ae,requestHeader:ye,mtlPath:Se}=r,ft=Jnt();Ae&&ft.setCrossOrigin(Ae),ye&&ft.setRequestHeader(ye);const Te=typeof Se=="string"?Se:Se[he],_t=/^(.*\/)([^/]*)$/.exec(Te),nt=_t[1],gt=_t[2];ft.setPath(nt).load(gt,Lt=>{Lt.preload(),h.setMaterials(Lt),He($,ge,he)})}function K($){return $}function ce($,ge){const he=jnt(i);S.value||(c.position.copy(he.negate()),S.value=!0),i=$;let Ae=ge.split("/");Ae=Ae[Ae.length-1],i.fileName=Ae,c.add(i),de(),Q(),Ke()}function ie(){p=requestAnimationFrame(ie),De();const $=l.getDelta();v&&v instanceof eI&&v.update($),v&&v instanceof Array&&v.forEach(ge=>{ge.update($)}),d&&d.update(),Ue()}function Ue(){const{pointLightFollowCamera:$}=r;$&&st(),u.render(c,o)}function De(){const{showFps:$}=r;$&&m.update()}function Ye($){const{filePath:ge}=r;Math.floor($.loaded/$.total*100)===100&&(T.value&&ge.length>x.value?Yt(()=>{if(x.value++,x.value===ge.length){x.value=0;return}Re()}):x.value=0)}function ze($,ge){g||(g=new Cg),$.traverse(he=>{he.isMesh&&g.load(ge,Ae=>{he.material.map=Ae,he.material.needsUpdate=!0},()=>{},Ae=>{t("error",Ae)})})}function Ve(){c.clear()}function Je($,ge){const he=pe();if(he){if(T.value){he.children.forEach(Ae=>{const ye=Ne(Ae),Se=$==="scale"?1:0;ge[ye]?Ae[$].set(ge[ye].x,ge[ye].y,ge[ye].z):Ae[$].set(Se,Se,Se)});return}he[$].set(ge.x,ge.y,ge.z)}}function pe(){return T.value?c:i}function W(){const{labels:$}=r;if(!$||$.length<=0)return;Z();const ge=T.value?c:i,he=ye=>(g||(g=new Cg),g.load(ye)),Ae=(ye,Se)=>{const ft=ve(ye,Se),Te=new rs(ft);return Te.needsUpdate=!0,Te};$.forEach(ye=>{const Se=ye.image?he(ye.image):Ae(ye.text,ye.textStyle||{}),ft=new L8({map:Se,color:ye.spriteMaterialColor||16777215}),Te=new Z2(ft);ye.scale?Te.scale.set(ye.scale.x||1,ye.scale.y||1,ye.scale.z||0):Te.scale.set(1,1,0),ye.position&&Te.position.set(ye.position.x,ye.position.y,ye.position.z),ye.sid&&(Te.sid=ye.sid),ge.add(Te)})}function Z(){const $=c.children;for(let ge=$.length-1;ge>=0;ge--){const he=$[ge];he&&(he instanceof uo&&he.children&&(c.children[ge].children=he.children.map(Ae=>Ae instanceof Z2?null:Ae).filter(Ae=>Ae)),he instanceof Z2&&c.remove(he))}}function ve($,ge){const he=(an,_n,lr,kn,Yr,Zn)=>{an.beginPath(),an.moveTo(_n+Zn,lr),an.lineTo(_n+kn-Zn,lr),an.quadraticCurveTo(_n+kn,lr,_n+kn,lr+Zn),an.lineTo(_n+kn,lr+Yr-Zn),an.quadraticCurveTo(_n+kn,lr+Yr,_n+kn-Zn,lr+Yr),an.lineTo(_n+Zn,lr+Yr),an.quadraticCurveTo(_n,lr+Yr,_n,lr+Yr-Zn),an.lineTo(_n,lr+Zn),an.quadraticCurveTo(_n,lr,_n+Zn,lr),an.closePath(),an.fill(),an.stroke()},Ae=ge.fontFamily||"Arial",ye=ge.fontSize===0||ge.fontSize?ge.fontSize:18,Se=ge.color||"#ffffff",ft=ge.fontWeight||"normal",Te=ge.borderWidth===0||ge.borderWidth?ge.borderWidth:4,_t=ge.borderColor||"rgba(0,0,0,1)",nt=ge.borderRadius===0||ge.borderRadius?ge.borderRadius:4,gt=ge.backgroundColor||"rgba(255, 255, 255, 1)",Lt=document.createElement("canvas"),At=Lt.getContext("2d");if(At){At.font=`${ft} ${ye}px ${Ae}`;const _n=At.measureText($).width;At.fillStyle=gt,At.strokeStyle=_t,At.lineWidth=Te,he(At,Te/2,Te/2,_n+Te,ye*1.4+Te,nt),At.fillStyle=Se,At.fillText($,Te,ye+Te)}return Lt}function Ne($){const{filePath:ge}=r;let he;return ge instanceof Array&&(he=ge.map((Ae,ye)=>{if(Ae.indexOf($.fileName)>-1)return ye}).filter(Ae=>Ae!=null)[0]),he}function Ke(){const $=pe();if($){if(T.value){vt($);return}mt($)}}function mt($){const{autoPlay:ge}=r;v=new eI($),$.animations&&$.animations.length>0&&$.animations.forEach(he=>{if(he){const Ae=v.clipAction(he);ge?Ae.play():Ae.stop()}})}function vt($){const{autoPlay:ge}=r;v=[],$.children.forEach((he,Ae)=>{v.push(new eI(he)),he.animations&&he.animations.length>0&&he.animations.forEach(ye=>{if(ye){const Se=v[Ae].clipAction(ye);ge?Se.play():Se.stop()}})})}function Me(){if(!d)return;const{verticalCtrl:$,horizontalCtrl:ge,minDistance:he,maxDistance:Ae}=r;$&&typeof $=="boolean"&&(d.minAzimuthAngle=-2*Math.PI,d.maxAzimuthAngle=-2*Math.PI),$&&typeof $=="object"&&(d.minAzimuthAngle=$.min,d.maxAzimuthAngle=$.max),ge&&typeof ge=="boolean"&&(d.minPolarAngle=1,d.maxPolarAngle=1),ge&&typeof ge=="object"&&(d.minPolarAngle=ge.min,d.maxPolarAngle=ge.max),he!=0&&typeof he=="number"&&(d.minDistance=he),Ae!=1/0&&typeof Ae=="number"&&(d.maxDistance=Ae)}function ht(){const{enableAxesHelper:$,enableGridHelper:ge,axesHelperSize:he}=r;$?(y=new gtt(he),c.add(y)):y&&c.remove(y),ge?(b=new vtt(2e3,100),c.add(b)):b&&c.remove(b)}function st(){const $=o.position.clone();c.children.forEach(ge=>{ge instanceof _m&&ge.position.set($.x,$.y,$.z)})}return e({camera:o,scene:c}),($,ge)=>(V(),ue("div",{ref_key:"containerElement",ref:C,class:"viewer-container"},[me("canvas",{ref_key:"canvasElement",ref:M,class:"viewer-canvas"},null,512)],512))}});var EG=trt(rrt,[["__scopeId","data-v-e92274c2"]]);const irt=me("h1",{class:"section-title"},"3D Model",-1),art=me("p",null,[dn(" Thanks to "),me("a",{href:"https://github.com/king2088/vue-3d-loader",target:"_blank"},"vue-3d-loader"),dn(", we can visualize these 3D models here. It supports dae, fbx, gltf(glb), obj, ply, stl models. ")],-1),srt={class:"threed-container"},ort=Ie({__name:"Model3D",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-row"),a=Et("el-col");return V(),ue("div",null,[se(r),se(i,{justify:"center"},{default:be(()=>[irt]),_:1}),se(i,{justify:"center"},{default:be(()=>[se(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[art,se(i,{justify:"space-evenly"},{default:be(()=>[se(a,{xs:16,sm:10},{default:be(()=>[me("div",srt,[se(w(EG),{filePath:"./model3d/obj/male02.obj",mtlPath:"./model3d/obj/male02.mtl",outputEncoding:"sRGB",cameraPosition:{x:0,y:0,z:300},scale:{x:1,y:1,z:1},position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},enableDamping:!0,dampingFactor:.05,backgroundColor:"#f2f2f2"})])]),_:1}),se(a,{xs:16,sm:10},{default:be(()=>[se(w(EG),{filePath:"./model3d/ply/Lucy100k.ply",cameraPosition:{x:100,y:200,z:3e3},scale:{x:1,y:1,z:1},position:{x:100,y:100,z:100},rotation:{x:0,y:3,z:0},enableDamping:!0,dampingFactor:.05,backgroundColor:15658734})]),_:1})]),_:1})]),_:1})]),_:1})])}}});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const iN="171",R0={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},P0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},lrt=0,IG=1,crt=2,yie=1,urt=2,Fu=3,lu=0,mo=1,ml=2,Bf=0,Ff=1,RG=2,PG=3,DG=4,bie=5,gp=100,drt=101,frt=102,hrt=103,prt=104,mrt=200,vrt=201,grt=202,yrt=203,D_=204,k_=205,brt=206,_rt=207,wrt=208,xrt=209,Srt=210,Crt=211,Mrt=212,Trt=213,Art=214,nD=0,rD=1,iD=2,Ag=3,aD=4,sD=5,oD=6,lD=7,_ie=0,Ert=1,Irt=2,zf=0,Rrt=1,Prt=2,Drt=3,krt=4,Lrt=5,Nrt=6,Ort=7,wie=300,Eg=301,Ig=302,cD=303,uD=304,bA=306,dD=1e3,Op=1001,fD=1002,Vo=1003,Brt=1004,kS=1005,Xc=1006,lI=1007,Bp=1008,cu=1009,xie=1010,Sie=1011,L_=1012,aN=1013,_l=1014,uc=1015,vy=1016,sN=1017,oN=1018,Rg=1020,Cie=35902,Mie=1021,Tie=1022,Us=1023,Aie=1024,Eie=1025,Qp=1026,Pg=1027,Iie=1028,_A=1029,lN=1030,cN=1031,Vv=1033,tC=33776,nC=33777,rC=33778,iC=33779,hD=35840,pD=35841,mD=35842,vD=35843,gD=36196,yD=37492,bD=37496,_D=37808,wD=37809,xD=37810,SD=37811,CD=37812,MD=37813,TD=37814,AD=37815,ED=37816,ID=37817,RD=37818,PD=37819,DD=37820,kD=37821,aC=36492,LD=36494,ND=36495,Rie=36283,OD=36284,BD=36285,FD=36286,Frt=3200,zrt=3201,Urt=0,Hrt=1,gf="",ul="srgb",Dg="srgb-linear",BM="linear",bi="srgb",D0=7680,kG=519,Vrt=512,$rt=513,Grt=514,Pie=515,Wrt=516,qrt=517,Krt=518,Yrt=519,LG=35044,Xrt=35048,NG="300 es",Qu=2e3,FM=2001;class Om{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const us=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let OG=1234567;const pb=Math.PI/180,N_=180/Math.PI;function gy(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(us[n&255]+us[n>>8&255]+us[n>>16&255]+us[n>>24&255]+"-"+us[e&255]+us[e>>8&255]+"-"+us[e>>16&15|64]+us[e>>24&255]+"-"+us[t&63|128]+us[t>>8&255]+"-"+us[t>>16&255]+us[t>>24&255]+us[r&255]+us[r>>8&255]+us[r>>16&255]+us[r>>24&255]).toLowerCase()}function Cr(n,e,t){return Math.max(e,Math.min(t,n))}function uN(n,e){return(n%e+e)%e}function jrt(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Zrt(n,e,t){return n!==e?(t-n)/(e-n):0}function mb(n,e,t){return(1-t)*n+t*e}function Qrt(n,e,t,r){return mb(n,e,1-Math.exp(-t*r))}function Jrt(n,e=1){return e-Math.abs(uN(n,e*2)-e)}function eit(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function tit(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function nit(n,e){return n+Math.floor(Math.random()*(e-n+1))}function rit(n,e){return n+Math.random()*(e-n)}function iit(n){return n*(.5-Math.random())}function ait(n){n!==void 0&&(OG=n);let e=OG+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function sit(n){return n*pb}function oit(n){return n*N_}function lit(n){return(n&n-1)===0&&n!==0}function cit(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function uit(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function dit(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+r)/2),u=s((e+r)/2),d=a((e-r)/2),f=s((e-r)/2),h=a((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":n.set(o*u,l*d,l*f,o*c);break;case"YZY":n.set(l*f,o*u,l*d,o*c);break;case"ZXZ":n.set(l*d,l*f,o*u,o*c);break;case"XZX":n.set(o*u,l*p,l*h,o*c);break;case"YXY":n.set(l*h,o*u,l*p,o*c);break;case"ZYZ":n.set(l*p,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function sv(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Ds(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Die={DEG2RAD:pb,RAD2DEG:N_,generateUUID:gy,clamp:Cr,euclideanModulo:uN,mapLinear:jrt,inverseLerp:Zrt,lerp:mb,damp:Qrt,pingpong:Jrt,smoothstep:eit,smootherstep:tit,randInt:nit,randFloat:rit,randFloatSpread:iit,seededRandom:ait,degToRad:sit,radToDeg:oit,isPowerOfTwo:lit,ceilPowerOfTwo:cit,floorPowerOfTwo:uit,setQuaternionFromProperEuler:dit,normalize:Ds,denormalize:sv};class Vn{constructor(e=0,t=0){Vn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Cr(this.x,e.x,t.x),this.y=Cr(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Cr(this.x,e,t),this.y=Cr(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Cr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Cr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class cr{constructor(e,t,r,i,a,s,o,l,c){cr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,c)}set(e,t,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],v=i[3],g=i[6],y=i[1],b=i[4],_=i[7],x=i[2],S=i[5],T=i[8];return a[0]=s*m+o*y+l*x,a[3]=s*v+o*b+l*S,a[6]=s*g+o*_+l*T,a[1]=c*m+u*y+d*x,a[4]=c*v+u*b+d*S,a[7]=c*g+u*_+d*T,a[2]=f*m+h*y+p*x,a[5]=f*v+h*b+p*S,a[8]=f*g+h*_+p*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*s-o*c,f=o*l-u*a,h=c*a-s*l,p=t*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(o*r-i*s)*m,e[3]=f*m,e[4]=(u*t-i*l)*m,e[5]=(i*a-o*t)*m,e[6]=h*m,e[7]=(r*l-c*t)*m,e[8]=(s*t-r*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(cI.makeScale(e,t)),this}rotate(e){return this.premultiply(cI.makeRotation(-e)),this}translate(e,t){return this.premultiply(cI.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cI=new cr;function kie(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function zM(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function fit(){const n=zM("canvas");return n.style.display="block",n}const BG={};function ov(n){n in BG||(BG[n]=!0,console.warn(n))}function hit(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}function pit(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function mit(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const FG=new cr().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),zG=new cr().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function vit(){const n={enabled:!0,workingColorSpace:Dg,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===bi&&(i.r=rd(i.r),i.g=rd(i.g),i.b=rd(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===bi&&(i.r=$v(i.r),i.g=$v(i.g),i.b=$v(i.b))),i},fromWorkingColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},toWorkingColorSpace:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===gf?BM:this.spaces[i].transfer},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Dg]:{primaries:e,whitePoint:r,transfer:BM,toXYZ:FG,fromXYZ:zG,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ul},outputColorSpaceConfig:{drawingBufferColorSpace:ul}},[ul]:{primaries:e,whitePoint:r,transfer:bi,toXYZ:FG,fromXYZ:zG,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ul}}}),n}const ti=vit();function rd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function $v(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let k0;class git{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{k0===void 0&&(k0=zM("canvas")),k0.width=e.width,k0.height=e.height;const r=k0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=k0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=zM("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=rd(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(rd(t[r]/255)*255):t[r]=rd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let yit=0;class Lie{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:yit++}),this.uuid=gy(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(uI(i[s].image)):a.push(uI(i[s]))}else a=uI(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function uI(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?git.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let bit=0;class Ws extends Om{constructor(e=Ws.DEFAULT_IMAGE,t=Ws.DEFAULT_MAPPING,r=Op,i=Op,a=Xc,s=Bp,o=Us,l=cu,c=Ws.DEFAULT_ANISOTROPY,u=gf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:bit++}),this.uuid=gy(),this.name="",this.source=new Lie(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Vn(0,0),this.repeat=new Vn(1,1),this.center=new Vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==wie)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case dD:e.x=e.x-Math.floor(e.x);break;case Op:e.x=e.x<0?0:1;break;case fD:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case dD:e.y=e.y-Math.floor(e.y);break;case Op:e.y=e.y<0?0:1;break;case fD:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ws.DEFAULT_IMAGE=null;Ws.DEFAULT_MAPPING=wie;Ws.DEFAULT_ANISOTROPY=1;class Hi{constructor(e=0,t=0,r=0,i=1){Hi.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],v=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+v)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(h+1)/2,x=(g+1)/2,S=(u+f)/4,T=(d+m)/4,C=(p+v)/4;return b>_&&b>x?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=S/r,a=T/r):_>x?_<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(_),r=S/i,a=C/i):x<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(x),r=T/a,i=C/a),this.set(r,i,a,t),this}let y=Math.sqrt((v-p)*(v-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(v-p)/y,this.y=(d-m)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Cr(this.x,e.x,t.x),this.y=Cr(this.y,e.y,t.y),this.z=Cr(this.z,e.z,t.z),this.w=Cr(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Cr(this.x,e,t),this.y=Cr(this.y,e,t),this.z=Cr(this.z,e,t),this.w=Cr(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Cr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class _it extends Om{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Hi(0,0,e,t),this.scissorTest=!1,this.viewport=new Hi(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Xc,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new Ws(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Lie(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class uh extends _it{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Nie extends Ws{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vo,this.minFilter=Vo,this.wrapR=Op,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wit extends Ws{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Vo,this.minFilter=Vo,this.wrapR=Op,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Yi{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=a[s+0],h=a[s+1],p=a[s+2],m=a[s+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(o===1){e[t+0]=f,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let v=1-o;const g=l*f+c*h+u*p+d*m,y=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const x=Math.sqrt(b),S=Math.atan2(x,g*y);v=Math.sin(v*S)/x,o=Math.sin(o*S)/x}const _=o*y;if(l=l*v+f*_,c=c*v+h*_,u=u*v+p*_,d=d*v+m*_,v===1-o){const x=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=x,c*=x,u*=x,d*=x}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=a[s],f=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+u*d+l*h-c*f,e[t+1]=l*p+u*f+c*d-o*h,e[t+2]=c*p+u*h+o*f-l*d,e[t+3]=u*p-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),d=o(a/2),f=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>d){const h=2*Math.sqrt(1+r-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-r-d);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Cr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-t;return this._w=h*s+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*a+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=a*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class tt{constructor(e=0,t=0,r=0){tt.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(UG.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(UG.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*r),u=2*(o*t-a*i),d=2*(a*r-s*t);return this.x=t+l*c+s*d-o*u,this.y=r+l*u+o*c-a*d,this.z=i+l*d+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Cr(this.x,e.x,t.x),this.y=Cr(this.y,e.y,t.y),this.z=Cr(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Cr(this.x,e,t),this.y=Cr(this.y,e,t),this.z=Cr(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Cr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return dI.copy(this).projectOnVector(e),this.sub(dI)}reflect(e){return this.sub(dI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Cr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const dI=new tt,UG=new Yi;class jc{constructor(e=new tt(1/0,1/0,1/0),t=new tt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Yl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Yl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Yl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,Yl):Yl.fromBufferAttribute(a,s),Yl.applyMatrix4(e.matrixWorld),this.expandByPoint(Yl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),LS.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),LS.copy(r.boundingBox)),LS.applyMatrix4(e.matrixWorld),this.union(LS)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Yl),Yl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(f1),NS.subVectors(this.max,f1),L0.subVectors(e.a,f1),N0.subVectors(e.b,f1),O0.subVectors(e.c,f1),Qd.subVectors(N0,L0),Jd.subVectors(O0,N0),Qh.subVectors(L0,O0);let t=[0,-Qd.z,Qd.y,0,-Jd.z,Jd.y,0,-Qh.z,Qh.y,Qd.z,0,-Qd.x,Jd.z,0,-Jd.x,Qh.z,0,-Qh.x,-Qd.y,Qd.x,0,-Jd.y,Jd.x,0,-Qh.y,Qh.x,0];return!fI(t,L0,N0,O0,NS)||(t=[1,0,0,0,1,0,0,0,1],!fI(t,L0,N0,O0,NS))?!1:(OS.crossVectors(Qd,Jd),t=[OS.x,OS.y,OS.z],fI(t,L0,N0,O0,NS))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Yl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Pu=[new tt,new tt,new tt,new tt,new tt,new tt,new tt,new tt],Yl=new tt,LS=new jc,L0=new tt,N0=new tt,O0=new tt,Qd=new tt,Jd=new tt,Qh=new tt,f1=new tt,NS=new tt,OS=new tt,Jh=new tt;function fI(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){Jh.fromArray(n,a);const o=i.x*Math.abs(Jh.x)+i.y*Math.abs(Jh.y)+i.z*Math.abs(Jh.z),l=e.dot(Jh),c=t.dot(Jh),u=r.dot(Jh);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const xit=new jc,h1=new tt,hI=new tt;class dN{constructor(e=new tt,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):xit.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;h1.subVectors(e,this.center);const t=h1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(h1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(hI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(h1.copy(e.center).add(hI)),this.expandByPoint(h1.copy(e.center).sub(hI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Du=new tt,pI=new tt,BS=new tt,ef=new tt,mI=new tt,FS=new tt,vI=new tt;let Oie=class{constructor(e=new tt,t=new tt(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Du)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Du.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Du.copy(this.origin).addScaledVector(this.direction,t),Du.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){pI.copy(e).add(t).multiplyScalar(.5),BS.copy(t).sub(e).normalize(),ef.copy(this.origin).sub(pI);const a=e.distanceTo(t)*.5,s=-this.direction.dot(BS),o=ef.dot(this.direction),l=-ef.dot(BS),c=ef.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-o,f=s*o-l,p=a*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*o)+f*(s*d+f+2*l)+c}else f=a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f=-a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*a+o)),f=d>0?-a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(d=Math.max(0,-(s*a+o)),f=d>0?a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c);else f=s>0?-a:a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(pI).addScaledVector(BS,f),h}intersectSphere(e,t){Du.subVectors(e.center,this.origin);const r=Du.dot(this.direction),i=Du.dot(Du)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(a=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(a=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Du)!==null}intersectTriangle(e,t,r,i,a){mI.subVectors(t,e),FS.subVectors(r,e),vI.crossVectors(mI,FS);let s=this.direction.dot(vI),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;ef.subVectors(this.origin,e);const l=o*this.direction.dot(FS.crossVectors(ef,FS));if(l<0)return null;const c=o*this.direction.dot(mI.cross(ef));if(c<0||l+c>s)return null;const u=-o*ef.dot(vI);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class ur{constructor(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v){ur.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v)}set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=a,g[5]=s,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=m,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ur().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/B0.setFromMatrixColumn(e,0).length(),a=1/B0.setFromMatrixColumn(e,1).length(),s=1/B0.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+p*c,t[5]=f-m*c,t[9]=-o*l,t[2]=m-f*c,t[6]=p+h*c,t[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f+m*o,t[4]=p*o-h,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-o,t[2]=h*o-p,t[6]=m+f*o,t[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f-m*o,t[4]=-s*d,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*u,t[9]=m-f*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=p*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-p,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=m-f*d,t[8]=p*d+h,t[1]=d,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=h*d+p,t[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=s*u,t[9]=h*d-p,t[2]=p*d-h,t[6]=o*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Sit,e,Cit)}lookAt(e,t,r){const i=this.elements;return Eo.subVectors(e,t),Eo.lengthSq()===0&&(Eo.z=1),Eo.normalize(),tf.crossVectors(r,Eo),tf.lengthSq()===0&&(Math.abs(r.z)===1?Eo.x+=1e-4:Eo.z+=1e-4,Eo.normalize(),tf.crossVectors(r,Eo)),tf.normalize(),zS.crossVectors(Eo,tf),i[0]=tf.x,i[4]=zS.x,i[8]=Eo.x,i[1]=tf.y,i[5]=zS.y,i[9]=Eo.y,i[2]=tf.z,i[6]=zS.z,i[10]=Eo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],v=r[10],g=r[14],y=r[3],b=r[7],_=r[11],x=r[15],S=i[0],T=i[4],C=i[8],M=i[12],A=i[1],I=i[5],D=i[9],L=i[13],F=i[2],B=i[6],k=i[10],H=i[14],z=i[3],O=i[7],G=i[11],X=i[15];return a[0]=s*S+o*A+l*F+c*z,a[4]=s*T+o*I+l*B+c*O,a[8]=s*C+o*D+l*k+c*G,a[12]=s*M+o*L+l*H+c*X,a[1]=u*S+d*A+f*F+h*z,a[5]=u*T+d*I+f*B+h*O,a[9]=u*C+d*D+f*k+h*G,a[13]=u*M+d*L+f*H+h*X,a[2]=p*S+m*A+v*F+g*z,a[6]=p*T+m*I+v*B+g*O,a[10]=p*C+m*D+v*k+g*G,a[14]=p*M+m*L+v*H+g*X,a[3]=y*S+b*A+_*F+x*z,a[7]=y*T+b*I+_*B+x*O,a[11]=y*C+b*D+_*k+x*G,a[15]=y*M+b*L+_*H+x*X,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],v=e[11],g=e[15];return p*(+a*l*d-i*c*d-a*o*f+r*c*f+i*o*h-r*l*h)+m*(+t*l*h-t*c*f+a*s*f-i*s*h+i*c*u-a*l*u)+v*(+t*c*d-t*o*h-a*s*d+r*s*h+a*o*u-r*c*u)+g*(-i*o*u-t*l*d+t*o*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],v=e[14],g=e[15],y=d*v*c-m*f*c+m*l*h-o*v*h-d*l*g+o*f*g,b=p*f*c-u*v*c-p*l*h+s*v*h+u*l*g-s*f*g,_=u*m*c-p*d*c+p*o*h-s*m*h-u*o*g+s*d*g,x=p*d*l-u*m*l-p*o*f+s*m*f+u*o*v-s*d*v,S=t*y+r*b+i*_+a*x;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=y*T,e[1]=(m*f*a-d*v*a-m*i*h+r*v*h+d*i*g-r*f*g)*T,e[2]=(o*v*a-m*l*a+m*i*c-r*v*c-o*i*g+r*l*g)*T,e[3]=(d*l*a-o*f*a-d*i*c+r*f*c+o*i*h-r*l*h)*T,e[4]=b*T,e[5]=(u*v*a-p*f*a+p*i*h-t*v*h-u*i*g+t*f*g)*T,e[6]=(p*l*a-s*v*a-p*i*c+t*v*c+s*i*g-t*l*g)*T,e[7]=(s*f*a-u*l*a+u*i*c-t*f*c-s*i*h+t*l*h)*T,e[8]=_*T,e[9]=(p*d*a-u*m*a-p*r*h+t*m*h+u*r*g-t*d*g)*T,e[10]=(s*m*a-p*o*a+p*r*c-t*m*c-s*r*g+t*o*g)*T,e[11]=(u*o*a-s*d*a-u*r*c+t*d*c+s*r*h-t*o*h)*T,e[12]=x*T,e[13]=(u*m*i-p*d*i+p*r*f-t*m*f-u*r*v+t*d*v)*T,e[14]=(p*o*i-s*m*i-p*r*l+t*m*l+s*r*v-t*o*v)*T,e[15]=(s*d*i-u*o*i+u*r*l-t*d*l-s*r*f+t*o*f)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,u=s+s,d=o+o,f=a*c,h=a*u,p=a*d,m=s*u,v=s*d,g=o*d,y=l*c,b=l*u,_=l*d,x=r.x,S=r.y,T=r.z;return i[0]=(1-(m+g))*x,i[1]=(h+_)*x,i[2]=(p-b)*x,i[3]=0,i[4]=(h-_)*S,i[5]=(1-(f+g))*S,i[6]=(v+y)*S,i[7]=0,i[8]=(p+b)*T,i[9]=(v-y)*T,i[10]=(1-(f+m))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=B0.set(i[0],i[1],i[2]).length();const s=B0.set(i[4],i[5],i[6]).length(),o=B0.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Xl.copy(this);const c=1/a,u=1/s,d=1/o;return Xl.elements[0]*=c,Xl.elements[1]*=c,Xl.elements[2]*=c,Xl.elements[4]*=u,Xl.elements[5]*=u,Xl.elements[6]*=u,Xl.elements[8]*=d,Xl.elements[9]*=d,Xl.elements[10]*=d,t.setFromRotationMatrix(Xl),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s,o=Qu){const l=this.elements,c=2*a/(t-e),u=2*a/(r-i),d=(t+e)/(t-e),f=(r+i)/(r-i);let h,p;if(o===Qu)h=-(s+a)/(s-a),p=-2*s*a/(s-a);else if(o===FM)h=-s/(s-a),p=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,a,s,o=Qu){const l=this.elements,c=1/(t-e),u=1/(r-i),d=1/(s-a),f=(t+e)*c,h=(r+i)*u;let p,m;if(o===Qu)p=(s+a)*d,m=-2*d;else if(o===FM)p=a*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const B0=new tt,Xl=new ur,Sit=new tt(0,0,0),Cit=new tt(1,1,1),tf=new tt,zS=new tt,Eo=new tt,HG=new ur,VG=new Yi;class gd{constructor(e=0,t=0,r=0,i=gd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Cr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Cr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Cr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Cr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Cr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Cr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return HG.makeRotationFromQuaternion(e),this.setFromRotationMatrix(HG,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return VG.setFromEuler(this),this.setFromQuaternion(VG,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}gd.DEFAULT_ORDER="XYZ";class Bie{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Mit=0;const $G=new tt,F0=new Yi,ku=new ur,US=new tt,p1=new tt,Tit=new tt,Ait=new Yi,GG=new tt(1,0,0),WG=new tt(0,1,0),qG=new tt(0,0,1),KG={type:"added"},Eit={type:"removed"},z0={type:"childadded",child:null},gI={type:"childremoved",child:null};class Ma extends Om{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Mit++}),this.uuid=gy(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ma.DEFAULT_UP.clone();const e=new tt,t=new gd,r=new Yi,i=new tt(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ur},normalMatrix:{value:new cr}}),this.matrix=new ur,this.matrixWorld=new ur,this.matrixAutoUpdate=Ma.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ma.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Bie,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return F0.setFromAxisAngle(e,t),this.quaternion.multiply(F0),this}rotateOnWorldAxis(e,t){return F0.setFromAxisAngle(e,t),this.quaternion.premultiply(F0),this}rotateX(e){return this.rotateOnAxis(GG,e)}rotateY(e){return this.rotateOnAxis(WG,e)}rotateZ(e){return this.rotateOnAxis(qG,e)}translateOnAxis(e,t){return $G.copy(e).applyQuaternion(this.quaternion),this.position.add($G.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(GG,e)}translateY(e){return this.translateOnAxis(WG,e)}translateZ(e){return this.translateOnAxis(qG,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ku.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?US.copy(e):US.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),p1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ku.lookAt(p1,US,this.up):ku.lookAt(US,p1,this.up),this.quaternion.setFromRotationMatrix(ku),i&&(ku.extractRotation(i.matrixWorld),F0.setFromRotationMatrix(ku),this.quaternion.premultiply(F0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(KG),z0.child=e,this.dispatchEvent(z0),z0.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Eit),gI.child=e,this.dispatchEvent(gI),gI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),ku.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),ku.multiply(e.parent.matrixWorld)),e.applyMatrix4(ku),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(KG),z0.child=e,this.dispatchEvent(z0),z0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(p1,e,Tit),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(p1,Ait,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ma.DEFAULT_UP=new tt(0,1,0);Ma.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ma.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const jl=new tt,Lu=new tt,yI=new tt,Nu=new tt,U0=new tt,H0=new tt,YG=new tt,bI=new tt,_I=new tt,wI=new tt,xI=new Hi,SI=new Hi,CI=new Hi;class rc{constructor(e=new tt,t=new tt,r=new tt){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),jl.subVectors(e,t),i.cross(jl);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){jl.subVectors(i,t),Lu.subVectors(r,t),yI.subVectors(e,t);const s=jl.dot(jl),o=jl.dot(Lu),l=jl.dot(yI),c=Lu.dot(Lu),u=Lu.dot(yI),d=s*c-o*o;if(d===0)return a.set(0,0,0),null;const f=1/d,h=(c*l-o*u)*f,p=(s*u-o*l)*f;return a.set(1-h-p,p,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Nu)===null?!1:Nu.x>=0&&Nu.y>=0&&Nu.x+Nu.y<=1}static getInterpolation(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,Nu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Nu.x),l.addScaledVector(s,Nu.y),l.addScaledVector(o,Nu.z),l)}static getInterpolatedAttribute(e,t,r,i,a,s){return xI.setScalar(0),SI.setScalar(0),CI.setScalar(0),xI.fromBufferAttribute(e,t),SI.fromBufferAttribute(e,r),CI.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(xI,a.x),s.addScaledVector(SI,a.y),s.addScaledVector(CI,a.z),s}static isFrontFacing(e,t,r,i){return jl.subVectors(r,t),Lu.subVectors(e,t),jl.cross(Lu).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return jl.subVectors(this.c,this.b),Lu.subVectors(this.a,this.b),jl.cross(Lu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return rc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return rc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return rc.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return rc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return rc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;U0.subVectors(i,r),H0.subVectors(a,r),bI.subVectors(e,r);const l=U0.dot(bI),c=H0.dot(bI);if(l<=0&&c<=0)return t.copy(r);_I.subVectors(e,i);const u=U0.dot(_I),d=H0.dot(_I);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(U0,s);wI.subVectors(e,a);const h=U0.dot(wI),p=H0.dot(wI);if(p>=0&&h<=p)return t.copy(a);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(r).addScaledVector(H0,o);const v=u*p-h*d;if(v<=0&&d-u>=0&&h-p>=0)return YG.subVectors(a,i),o=(d-u)/(d-u+(h-p)),t.copy(i).addScaledVector(YG,o);const g=1/(v+m+f);return s=m*g,o=f*g,t.copy(r).addScaledVector(U0,s).addScaledVector(H0,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Fie={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nf={h:0,s:0,l:0},HS={h:0,s:0,l:0};function MI(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ni{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ul){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ti.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ti.workingColorSpace){return this.r=e,this.g=t,this.b=r,ti.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ti.workingColorSpace){if(e=uN(e,1),t=Cr(t,0,1),r=Cr(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=MI(s,a,e+1/3),this.g=MI(s,a,e),this.b=MI(s,a,e-1/3)}return ti.toWorkingColorSpace(this,i),this}setStyle(e,t=ul){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ul){const r=Fie[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rd(e.r),this.g=rd(e.g),this.b=rd(e.b),this}copyLinearToSRGB(e){return this.r=$v(e.r),this.g=$v(e.g),this.b=$v(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ul){return ti.fromWorkingColorSpace(ds.copy(this),e),Math.round(Cr(ds.r*255,0,255))*65536+Math.round(Cr(ds.g*255,0,255))*256+Math.round(Cr(ds.b*255,0,255))}getHexString(e=ul){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ti.workingColorSpace){ti.fromWorkingColorSpace(ds.copy(this),t);const r=ds.r,i=ds.g,a=ds.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=u<=.5?d/(s+o):d/(2-s-o),s){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=ti.workingColorSpace){return ti.fromWorkingColorSpace(ds.copy(this),t),e.r=ds.r,e.g=ds.g,e.b=ds.b,e}getStyle(e=ul){ti.fromWorkingColorSpace(ds.copy(this),e);const t=ds.r,r=ds.g,i=ds.b;return e!==ul?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(nf),this.setHSL(nf.h+e,nf.s+t,nf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(nf),e.getHSL(HS);const r=mb(nf.h,HS.h,t),i=mb(nf.s,HS.s,t),a=mb(nf.l,HS.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ds=new ni;ni.NAMES=Fie;let Iit=0;class wA extends Om{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Iit++}),this.uuid=gy(),this.name="",this.type="Material",this.blending=Ff,this.side=lu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=D_,this.blendDst=k_,this.blendEquation=gp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ni(0,0,0),this.blendAlpha=0,this.depthFunc=Ag,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kG,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=D0,this.stencilZFail=D0,this.stencilZPass=D0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Ff&&(r.blending=this.blending),this.side!==lu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==D_&&(r.blendSrc=this.blendSrc),this.blendDst!==k_&&(r.blendDst=this.blendDst),this.blendEquation!==gp&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ag&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==kG&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==D0&&(r.stencilFail=this.stencilFail),this.stencilZFail!==D0&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==D0&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class wm extends wA{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ni(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new gd,this.combine=_ie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Yu=Rit();function Rit(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function Pit(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Cr(n,-65504,65504),Yu.floatView[0]=n;const e=Yu.uint32View[0],t=e>>23&511;return Yu.baseTable[t]+((e&8388607)>>Yu.shiftTable[t])}function Dit(n){const e=n>>10;return Yu.uint32View[0]=Yu.mantissaTable[Yu.offsetTable[e]+(n&1023)]+Yu.exponentTable[e],Yu.floatView[0]}const O_={toHalfFloat:Pit,fromHalfFloat:Dit},ha=new tt,VS=new Vn;class Al{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=LG,this.updateRanges=[],this.gpuType=uc,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)VS.fromBufferAttribute(this,t),VS.applyMatrix3(e),this.setXY(t,VS.x,VS.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.applyMatrix3(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.applyMatrix4(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.applyNormalMatrix(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.transformDirection(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=sv(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Ds(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=sv(t,this.array)),t}setX(e,t){return this.normalized&&(t=Ds(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=sv(t,this.array)),t}setY(e,t){return this.normalized&&(t=Ds(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=sv(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Ds(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=sv(t,this.array)),t}setW(e,t){return this.normalized&&(t=Ds(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Ds(t,this.array),r=Ds(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Ds(t,this.array),r=Ds(r,this.array),i=Ds(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=Ds(t,this.array),r=Ds(r,this.array),i=Ds(i,this.array),a=Ds(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==LG&&(e.usage=this.usage),e}}class zie extends Al{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class Uie extends Al{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class $o extends Al{constructor(e,t,r){super(new Float32Array(e),t,r)}}let kit=0;const tl=new ur,TI=new Ma,V0=new tt,Io=new jc,m1=new jc,ka=new tt;class Fl extends Om{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:kit++}),this.uuid=gy(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kie(e)?Uie:zie)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new cr().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return tl.makeRotationFromQuaternion(e),this.applyMatrix4(tl),this}rotateX(e){return tl.makeRotationX(e),this.applyMatrix4(tl),this}rotateY(e){return tl.makeRotationY(e),this.applyMatrix4(tl),this}rotateZ(e){return tl.makeRotationZ(e),this.applyMatrix4(tl),this}translate(e,t,r){return tl.makeTranslation(e,t,r),this.applyMatrix4(tl),this}scale(e,t,r){return tl.makeScale(e,t,r),this.applyMatrix4(tl),this}lookAt(e){return TI.lookAt(e),TI.updateMatrix(),this.applyMatrix4(TI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(V0).negate(),this.translate(V0.x,V0.y,V0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new $o(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new jc);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new tt(-1/0,-1/0,-1/0),new tt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Io.setFromBufferAttribute(a),this.morphTargetsRelative?(ka.addVectors(this.boundingBox.min,Io.min),this.boundingBox.expandByPoint(ka),ka.addVectors(this.boundingBox.max,Io.max),this.boundingBox.expandByPoint(ka)):(this.boundingBox.expandByPoint(Io.min),this.boundingBox.expandByPoint(Io.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new dN);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new tt,1/0);return}if(e){const r=this.boundingSphere.center;if(Io.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];m1.setFromBufferAttribute(o),this.morphTargetsRelative?(ka.addVectors(Io.min,m1.min),Io.expandByPoint(ka),ka.addVectors(Io.max,m1.max),Io.expandByPoint(ka)):(Io.expandByPoint(m1.min),Io.expandByPoint(m1.max))}Io.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)ka.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(ka));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)ka.fromBufferAttribute(o,c),l&&(V0.fromBufferAttribute(e,c),ka.add(V0)),i=Math.max(i,r.distanceToSquared(ka))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Al(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let C=0;C<r.count;C++)o[C]=new tt,l[C]=new tt;const c=new tt,u=new tt,d=new tt,f=new Vn,h=new Vn,p=new Vn,m=new tt,v=new tt;function g(C,M,A){c.fromBufferAttribute(r,C),u.fromBufferAttribute(r,M),d.fromBufferAttribute(r,A),f.fromBufferAttribute(a,C),h.fromBufferAttribute(a,M),p.fromBufferAttribute(a,A),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const I=1/(h.x*p.y-p.x*h.y);isFinite(I)&&(m.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(I),v.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(I),o[C].add(m),o[M].add(m),o[A].add(m),l[C].add(v),l[M].add(v),l[A].add(v))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let C=0,M=y.length;C<M;++C){const A=y[C],I=A.start,D=A.count;for(let L=I,F=I+D;L<F;L+=3)g(e.getX(L+0),e.getX(L+1),e.getX(L+2))}const b=new tt,_=new tt,x=new tt,S=new tt;function T(C){x.fromBufferAttribute(i,C),S.copy(x);const M=o[C];b.copy(M),b.sub(x.multiplyScalar(x.dot(M))).normalize(),_.crossVectors(S,M);const I=_.dot(l[C])<0?-1:1;s.setXYZW(C,b.x,b.y,b.z,I)}for(let C=0,M=y.length;C<M;++C){const A=y[C],I=A.start,D=A.count;for(let L=I,F=I+D;L<F;L+=3)T(e.getX(L+0)),T(e.getX(L+1)),T(e.getX(L+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Al(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new tt,a=new tt,s=new tt,o=new tt,l=new tt,c=new tt,u=new tt,d=new tt;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,v),o.add(u),l.add(u),c.add(u),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ka.fromBufferAttribute(e,t),ka.normalize(),e.setXYZ(t,ka.x,ka.y,ka.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,v=l.length;m<v;m++){o.isInterleavedBufferAttribute?h=l[m]*o.data.stride+o.offset:h=l[m]*u;for(let g=0;g<u;g++)f[p++]=c[h++]}return new Al(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Fl,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const XG=new ur,ep=new Oie,$S=new dN,jG=new tt,GS=new tt,WS=new tt,qS=new tt,AI=new tt,KS=new tt,ZG=new tt,YS=new tt;class aa extends Ma{constructor(e=new Fl,t=new wm){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){KS.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],d=a[l];u!==0&&(AI.fromBufferAttribute(d,e),s?KS.addScaledVector(AI,u):KS.addScaledVector(AI.sub(t),u))}t.add(KS)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),$S.copy(r.boundingSphere),$S.applyMatrix4(a),ep.copy(e.ray).recast(e.near),!($S.containsPoint(ep.origin)===!1&&(ep.intersectSphere($S,jG)===null||ep.origin.distanceToSquared(jG)>(e.far-e.near)**2))&&(XG.copy(a).invert(),ep.copy(e.ray).applyMatrix4(XG),!(r.boundingBox!==null&&ep.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ep)))}_computeIntersections(e,t,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,d=a.attributes.normal,f=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const v=f[p],g=s[v.materialIndex],y=Math.max(v.start,h.start),b=Math.min(o.count,Math.min(v.start+v.count,h.start+h.count));for(let _=y,x=b;_<x;_+=3){const S=o.getX(_),T=o.getX(_+1),C=o.getX(_+2);i=XS(this,g,e,r,c,u,d,S,T,C),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(o.count,h.start+h.count);for(let v=p,g=m;v<g;v+=3){const y=o.getX(v),b=o.getX(v+1),_=o.getX(v+2);i=XS(this,s,e,r,c,u,d,y,b,_),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const v=f[p],g=s[v.materialIndex],y=Math.max(v.start,h.start),b=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let _=y,x=b;_<x;_+=3){const S=_,T=_+1,C=_+2;i=XS(this,g,e,r,c,u,d,S,T,C),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let v=p,g=m;v<g;v+=3){const y=v,b=v+1,_=v+2;i=XS(this,s,e,r,c,u,d,y,b,_),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}}}function Lit(n,e,t,r,i,a,s,o){let l;if(e.side===mo?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===lu,o),l===null)return null;YS.copy(o),YS.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(YS);return c<t.near||c>t.far?null:{distance:c,point:YS.clone(),object:n}}function XS(n,e,t,r,i,a,s,o,l,c){n.getVertexPosition(o,GS),n.getVertexPosition(l,WS),n.getVertexPosition(c,qS);const u=Lit(n,e,t,r,GS,WS,qS,ZG);if(u){const d=new tt;rc.getBarycoord(ZG,GS,WS,qS,d),i&&(u.uv=rc.getInterpolatedAttribute(i,o,l,c,d,new Vn)),a&&(u.uv1=rc.getInterpolatedAttribute(a,o,l,c,d,new Vn)),s&&(u.normal=rc.getInterpolatedAttribute(s,o,l,c,d,new tt),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new tt,materialIndex:0};rc.getNormal(GS,WS,qS,f.normal),u.face=f,u.barycoord=d}return u}class yy extends Fl{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,t,e,s,a,0),p("z","y","x",1,-1,r,t,-e,s,a,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new $o(c,3)),this.setAttribute("normal",new $o(u,3)),this.setAttribute("uv",new $o(d,2));function p(m,v,g,y,b,_,x,S,T,C,M){const A=_/T,I=x/C,D=_/2,L=x/2,F=S/2,B=T+1,k=C+1;let H=0,z=0;const O=new tt;for(let G=0;G<k;G++){const X=G*I-L;for(let J=0;J<B;J++){const Q=J*A-D;O[m]=Q*y,O[v]=X*b,O[g]=F,c.push(O.x,O.y,O.z),O[m]=0,O[v]=0,O[g]=S>0?1:-1,u.push(O.x,O.y,O.z),d.push(J/T),d.push(1-G/C),H+=1}}for(let G=0;G<C;G++)for(let X=0;X<T;X++){const J=f+X+B*G,Q=f+X+B*(G+1),re=f+(X+1)+B*(G+1),de=f+(X+1)+B*G;l.push(J,Q,de),l.push(Q,re,de),z+=6}o.addGroup(h,z,M),h+=z,f+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yy(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function kg(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function ks(n){const e={};for(let t=0;t<n.length;t++){const r=kg(n[t]);for(const i in r)e[i]=r[i]}return e}function Nit(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Hie(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ti.workingColorSpace}const Oit={clone:kg,merge:ks};var Bit=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Fit=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Go extends wA{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Bit,this.fragmentShader=Fit,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=kg(e.uniforms),this.uniformsGroups=Nit(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Vie extends Ma{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ur,this.projectionMatrix=new ur,this.projectionMatrixInverse=new ur,this.coordinateSystem=Qu}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const rf=new tt,QG=new Vn,JG=new Vn;class hl extends Vie{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=N_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pb*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return N_*2*Math.atan(Math.tan(pb*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){rf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(rf.x,rf.y).multiplyScalar(-e/rf.z),rf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(rf.x,rf.y).multiplyScalar(-e/rf.z)}getViewSize(e,t){return this.getViewBounds(e,QG,JG),t.subVectors(JG,QG)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(pb*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const $0=-90,G0=1;class zit extends Ma{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new hl($0,G0,e,t);i.layers=this.layers,this.add(i);const a=new hl($0,G0,e,t);a.layers=this.layers,this.add(a);const s=new hl($0,G0,e,t);s.layers=this.layers,this.add(s);const o=new hl($0,G0,e,t);o.layers=this.layers,this.add(o);const l=new hl($0,G0,e,t);l.layers=this.layers,this.add(l);const c=new hl($0,G0,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,s,o,l]=t;for(const c of t)this.remove(c);if(e===Qu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===FM)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class $ie extends Ws{constructor(e,t,r,i,a,s,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Eg,super(e,t,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Uit extends uh{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new $ie(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Xc}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new yy(5,5,5),a=new Go({name:"CubemapFromEquirect",uniforms:kg(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:mo,blending:Bf});a.uniforms.tEquirect.value=t;const s=new aa(i,a),o=t.minFilter;return t.minFilter===Bp&&(t.minFilter=Xc),new zit(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}}class Hit extends Ma{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new gd,this.environmentIntensity=1,this.environmentRotation=new gd,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class af extends Ws{constructor(e=null,t=1,r=1,i,a,s,o,l,c=Vo,u=Vo,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Vit extends Al{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const EI=new tt,$it=new tt,Git=new cr;class pf{constructor(e=new tt(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=EI.subVectors(r,t).cross($it.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(EI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Git.getNormalMatrix(e),i=this.coplanarPoint(EI).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const tp=new dN,jS=new tt;class Gie{constructor(e=new pf,t=new pf,r=new pf,i=new pf,a=new pf,s=new pf){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Qu){const r=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],m=i[10],v=i[11],g=i[12],y=i[13],b=i[14],_=i[15];if(r[0].setComponents(l-a,f-c,v-h,_-g).normalize(),r[1].setComponents(l+a,f+c,v+h,_+g).normalize(),r[2].setComponents(l+s,f+u,v+p,_+y).normalize(),r[3].setComponents(l-s,f-u,v-p,_-y).normalize(),r[4].setComponents(l-o,f-d,v-m,_-b).normalize(),t===Qu)r[5].setComponents(l+o,f+d,v+m,_+b).normalize();else if(t===FM)r[5].setComponents(o,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),tp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),tp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tp)}intersectsSprite(e){return tp.center.set(0,0,0),tp.radius=.7071067811865476,tp.applyMatrix4(e.matrixWorld),this.intersectsSphere(tp)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(jS.x=i.normal.x>0?e.max.x:e.min.x,jS.y=i.normal.y>0?e.max.y:e.min.y,jS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(jS)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class ZS extends Ma{constructor(){super(),this.isGroup=!0,this.type="Group"}}class fN extends Ws{constructor(e,t,r,i,a,s,o,l,c,u=Qp){if(u!==Qp&&u!==Pg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Qp&&(r=_l),r===void 0&&u===Pg&&(r=Rg),super(null,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Vo,this.minFilter=l!==void 0?l:Vo,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class B_ extends Fl{constructor(e=1,t=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],d=[],f=[],h=[];let p=0;const m=[],v=r/2;let g=0;y(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new $o(d,3)),this.setAttribute("normal",new $o(f,3)),this.setAttribute("uv",new $o(h,2));function y(){const _=new tt,x=new tt;let S=0;const T=(t-e)/r;for(let C=0;C<=a;C++){const M=[],A=C/a,I=A*(t-e)+e;for(let D=0;D<=i;D++){const L=D/i,F=L*l+o,B=Math.sin(F),k=Math.cos(F);x.x=I*B,x.y=-A*r+v,x.z=I*k,d.push(x.x,x.y,x.z),_.set(B,T,k).normalize(),f.push(_.x,_.y,_.z),h.push(L,1-A),M.push(p++)}m.push(M)}for(let C=0;C<i;C++)for(let M=0;M<a;M++){const A=m[M][C],I=m[M+1][C],D=m[M+1][C+1],L=m[M][C+1];(e>0||M!==0)&&(u.push(A,I,L),S+=3),(t>0||M!==a-1)&&(u.push(I,D,L),S+=3)}c.addGroup(g,S,0),g+=S}function b(_){const x=p,S=new Vn,T=new tt;let C=0;const M=_===!0?e:t,A=_===!0?1:-1;for(let D=1;D<=i;D++)d.push(0,v*A,0),f.push(0,A,0),h.push(.5,.5),p++;const I=p;for(let D=0;D<=i;D++){const F=D/i*l+o,B=Math.cos(F),k=Math.sin(F);T.x=M*k,T.y=v*A,T.z=M*B,d.push(T.x,T.y,T.z),f.push(0,A,0),S.x=B*.5+.5,S.y=k*.5*A+.5,h.push(S.x,S.y),p++}for(let D=0;D<i;D++){const L=x+D,F=I+D;_===!0?u.push(F,F+1,L):u.push(F+1,F,L),C+=3}c.addGroup(g,C,_===!0?1:2),g+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new B_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class hN extends B_{constructor(e=1,t=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new hN(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Lg extends Fl{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=t/l,h=[],p=[],m=[],v=[];for(let g=0;g<u;g++){const y=g*f-s;for(let b=0;b<c;b++){const _=b*d-a;p.push(_,-y,0),m.push(0,0,1),v.push(b/o),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<o;y++){const b=y+c*g,_=y+c*(g+1),x=y+1+c*(g+1),S=y+1+c*g;h.push(b,_,S),h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new $o(p,3)),this.setAttribute("normal",new $o(m,3)),this.setAttribute("uv",new $o(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lg(e.width,e.height,e.widthSegments,e.heightSegments)}}class UM extends Fl{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],d=new tt,f=new tt,h=[],p=[],m=[],v=[];for(let g=0;g<=r;g++){const y=[],b=g/r;let _=0;g===0&&s===0?_=.5/t:g===r&&l===Math.PI&&(_=-.5/t);for(let x=0;x<=t;x++){const S=x/t;d.x=-e*Math.cos(i+S*a)*Math.sin(s+b*o),d.y=e*Math.cos(s+b*o),d.z=e*Math.sin(i+S*a)*Math.sin(s+b*o),p.push(d.x,d.y,d.z),f.copy(d).normalize(),m.push(f.x,f.y,f.z),v.push(S+_,1-b),y.push(c++)}u.push(y)}for(let g=0;g<r;g++)for(let y=0;y<t;y++){const b=u[g][y+1],_=u[g][y],x=u[g+1][y],S=u[g+1][y+1];(g!==0||s>0)&&h.push(b,_,S),(g!==r-1||l<Math.PI)&&h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new $o(p,3)),this.setAttribute("normal",new $o(m,3)),this.setAttribute("uv",new $o(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new UM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Wit extends wA{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Frt,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class qit extends wA{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class pN extends Vie{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Kit extends Fl{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Yit extends hl{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class eW{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Cr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Cr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}function tW(n,e,t,r){const i=Xit(r);switch(t){case Mie:return n*e;case Aie:return n*e;case Eie:return n*e*2;case Iie:return n*e/i.components*i.byteLength;case _A:return n*e/i.components*i.byteLength;case lN:return n*e*2/i.components*i.byteLength;case cN:return n*e*2/i.components*i.byteLength;case Tie:return n*e*3/i.components*i.byteLength;case Us:return n*e*4/i.components*i.byteLength;case Vv:return n*e*4/i.components*i.byteLength;case tC:case nC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case rC:case iC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case pD:case vD:return Math.max(n,16)*Math.max(e,8)/4;case hD:case mD:return Math.max(n,8)*Math.max(e,8)/2;case gD:case yD:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case bD:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case _D:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case wD:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case xD:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case SD:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case CD:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case MD:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case TD:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case AD:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case ED:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case ID:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case RD:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case PD:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case DD:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case kD:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case aC:case LD:case ND:return Math.ceil(n/4)*Math.ceil(e/4)*16;case Rie:case OD:return Math.ceil(n/4)*Math.ceil(e/4)*8;case BD:case FD:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Xit(n){switch(n){case cu:case xie:return{byteLength:1,components:1};case L_:case Sie:case vy:return{byteLength:2,components:1};case sN:case oN:return{byteLength:2,components:4};case _l:case aN:case uc:return{byteLength:4,components:1};case Cie:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:iN}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=iN);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Wie(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function jit(n){const e=new WeakMap;function t(o,l){const c=o.array,u=o.usage,d=c.byteLength,f=n.createBuffer();n.bindBuffer(l,f),n.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=n.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=n.HALF_FLOAT:h=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=n.SHORT;else if(c instanceof Uint32Array)h=n.UNSIGNED_INT;else if(c instanceof Int32Array)h=n.INT;else if(c instanceof Int8Array)h=n.BYTE;else if(c instanceof Uint8Array)h=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,c){const u=l.array,d=l.updateRanges;if(n.bindBuffer(c,o),d.length===0)n.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],m=d[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const m=d[h];n.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:a,update:s}}var Zit=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Qit=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Jit=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,eat=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tat=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,nat=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rat=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iat=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,aat=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,sat=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,oat=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lat=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cat=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uat=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,dat=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fat=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,hat=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pat=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mat=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,vat=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,gat=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,yat=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,bat=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,_at=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,wat=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,xat=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Sat=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Cat=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Mat=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Tat=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Aat="gl_FragColor = linearToOutputTexel( gl_FragColor );",Eat=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Iat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Rat=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Pat=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Dat=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,kat=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Lat=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Nat=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Oat=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Bat=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Fat=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zat=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Uat=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Hat=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Vat=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,$at=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Gat=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Wat=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,qat=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Kat=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Yat=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Xat=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,jat=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Zat=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Qat=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Jat=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,est=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tst=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nst=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,rst=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ist=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ast=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,sst=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ost=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,lst=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,cst=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,ust=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,dst=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,fst=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,hst=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,pst=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,mst=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,vst=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gst=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yst=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bst=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,_st=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,wst=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,xst=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Sst=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Cst=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Mst=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Tst=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ast=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Est=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ist=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Rst=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Pst=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Dst=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,kst=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Lst=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Nst=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Ost=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Bst=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Fst=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zst=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Ust=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Hst=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Vst=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,$st=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Gst=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Wst=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,qst=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Kst=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yst=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Xst=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const jst=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Zst=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qst=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Jst=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tot=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,not=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rot=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,iot=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,aot=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,sot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,oot=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lot=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,cot=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uot=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,dot=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fot=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hot=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pot=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,mot=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vot=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,got=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,yot=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bot=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ot=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wot=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xot=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sot=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cot=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Mot=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Tot=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Aot=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Eot=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Iot=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,xr={alphahash_fragment:Zit,alphahash_pars_fragment:Qit,alphamap_fragment:Jit,alphamap_pars_fragment:eat,alphatest_fragment:tat,alphatest_pars_fragment:nat,aomap_fragment:rat,aomap_pars_fragment:iat,batching_pars_vertex:aat,batching_vertex:sat,begin_vertex:oat,beginnormal_vertex:lat,bsdfs:cat,iridescence_fragment:uat,bumpmap_pars_fragment:dat,clipping_planes_fragment:fat,clipping_planes_pars_fragment:hat,clipping_planes_pars_vertex:pat,clipping_planes_vertex:mat,color_fragment:vat,color_pars_fragment:gat,color_pars_vertex:yat,color_vertex:bat,common:_at,cube_uv_reflection_fragment:wat,defaultnormal_vertex:xat,displacementmap_pars_vertex:Sat,displacementmap_vertex:Cat,emissivemap_fragment:Mat,emissivemap_pars_fragment:Tat,colorspace_fragment:Aat,colorspace_pars_fragment:Eat,envmap_fragment:Iat,envmap_common_pars_fragment:Rat,envmap_pars_fragment:Pat,envmap_pars_vertex:Dat,envmap_physical_pars_fragment:$at,envmap_vertex:kat,fog_vertex:Lat,fog_pars_vertex:Nat,fog_fragment:Oat,fog_pars_fragment:Bat,gradientmap_pars_fragment:Fat,lightmap_pars_fragment:zat,lights_lambert_fragment:Uat,lights_lambert_pars_fragment:Hat,lights_pars_begin:Vat,lights_toon_fragment:Gat,lights_toon_pars_fragment:Wat,lights_phong_fragment:qat,lights_phong_pars_fragment:Kat,lights_physical_fragment:Yat,lights_physical_pars_fragment:Xat,lights_fragment_begin:jat,lights_fragment_maps:Zat,lights_fragment_end:Qat,logdepthbuf_fragment:Jat,logdepthbuf_pars_fragment:est,logdepthbuf_pars_vertex:tst,logdepthbuf_vertex:nst,map_fragment:rst,map_pars_fragment:ist,map_particle_fragment:ast,map_particle_pars_fragment:sst,metalnessmap_fragment:ost,metalnessmap_pars_fragment:lst,morphinstance_vertex:cst,morphcolor_vertex:ust,morphnormal_vertex:dst,morphtarget_pars_vertex:fst,morphtarget_vertex:hst,normal_fragment_begin:pst,normal_fragment_maps:mst,normal_pars_fragment:vst,normal_pars_vertex:gst,normal_vertex:yst,normalmap_pars_fragment:bst,clearcoat_normal_fragment_begin:_st,clearcoat_normal_fragment_maps:wst,clearcoat_pars_fragment:xst,iridescence_pars_fragment:Sst,opaque_fragment:Cst,packing:Mst,premultiplied_alpha_fragment:Tst,project_vertex:Ast,dithering_fragment:Est,dithering_pars_fragment:Ist,roughnessmap_fragment:Rst,roughnessmap_pars_fragment:Pst,shadowmap_pars_fragment:Dst,shadowmap_pars_vertex:kst,shadowmap_vertex:Lst,shadowmask_pars_fragment:Nst,skinbase_vertex:Ost,skinning_pars_vertex:Bst,skinning_vertex:Fst,skinnormal_vertex:zst,specularmap_fragment:Ust,specularmap_pars_fragment:Hst,tonemapping_fragment:Vst,tonemapping_pars_fragment:$st,transmission_fragment:Gst,transmission_pars_fragment:Wst,uv_pars_fragment:qst,uv_pars_vertex:Kst,uv_vertex:Yst,worldpos_vertex:Xst,background_vert:jst,background_frag:Zst,backgroundCube_vert:Qst,backgroundCube_frag:Jst,cube_vert:eot,cube_frag:tot,depth_vert:not,depth_frag:rot,distanceRGBA_vert:iot,distanceRGBA_frag:aot,equirect_vert:sot,equirect_frag:oot,linedashed_vert:lot,linedashed_frag:cot,meshbasic_vert:uot,meshbasic_frag:dot,meshlambert_vert:fot,meshlambert_frag:hot,meshmatcap_vert:pot,meshmatcap_frag:mot,meshnormal_vert:vot,meshnormal_frag:got,meshphong_vert:yot,meshphong_frag:bot,meshphysical_vert:_ot,meshphysical_frag:wot,meshtoon_vert:xot,meshtoon_frag:Sot,points_vert:Cot,points_frag:Mot,shadow_vert:Tot,shadow_frag:Aot,sprite_vert:Eot,sprite_frag:Iot},wn={common:{diffuse:{value:new ni(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new cr},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new cr}},envmap:{envMap:{value:null},envMapRotation:{value:new cr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new cr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new cr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new cr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new cr},normalScale:{value:new Vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new cr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new cr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new cr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new cr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ni(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ni(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0},uvTransform:{value:new cr}},sprite:{diffuse:{value:new ni(16777215)},opacity:{value:1},center:{value:new Vn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new cr},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0}}},Uc={basic:{uniforms:ks([wn.common,wn.specularmap,wn.envmap,wn.aomap,wn.lightmap,wn.fog]),vertexShader:xr.meshbasic_vert,fragmentShader:xr.meshbasic_frag},lambert:{uniforms:ks([wn.common,wn.specularmap,wn.envmap,wn.aomap,wn.lightmap,wn.emissivemap,wn.bumpmap,wn.normalmap,wn.displacementmap,wn.fog,wn.lights,{emissive:{value:new ni(0)}}]),vertexShader:xr.meshlambert_vert,fragmentShader:xr.meshlambert_frag},phong:{uniforms:ks([wn.common,wn.specularmap,wn.envmap,wn.aomap,wn.lightmap,wn.emissivemap,wn.bumpmap,wn.normalmap,wn.displacementmap,wn.fog,wn.lights,{emissive:{value:new ni(0)},specular:{value:new ni(1118481)},shininess:{value:30}}]),vertexShader:xr.meshphong_vert,fragmentShader:xr.meshphong_frag},standard:{uniforms:ks([wn.common,wn.envmap,wn.aomap,wn.lightmap,wn.emissivemap,wn.bumpmap,wn.normalmap,wn.displacementmap,wn.roughnessmap,wn.metalnessmap,wn.fog,wn.lights,{emissive:{value:new ni(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:xr.meshphysical_vert,fragmentShader:xr.meshphysical_frag},toon:{uniforms:ks([wn.common,wn.aomap,wn.lightmap,wn.emissivemap,wn.bumpmap,wn.normalmap,wn.displacementmap,wn.gradientmap,wn.fog,wn.lights,{emissive:{value:new ni(0)}}]),vertexShader:xr.meshtoon_vert,fragmentShader:xr.meshtoon_frag},matcap:{uniforms:ks([wn.common,wn.bumpmap,wn.normalmap,wn.displacementmap,wn.fog,{matcap:{value:null}}]),vertexShader:xr.meshmatcap_vert,fragmentShader:xr.meshmatcap_frag},points:{uniforms:ks([wn.points,wn.fog]),vertexShader:xr.points_vert,fragmentShader:xr.points_frag},dashed:{uniforms:ks([wn.common,wn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:xr.linedashed_vert,fragmentShader:xr.linedashed_frag},depth:{uniforms:ks([wn.common,wn.displacementmap]),vertexShader:xr.depth_vert,fragmentShader:xr.depth_frag},normal:{uniforms:ks([wn.common,wn.bumpmap,wn.normalmap,wn.displacementmap,{opacity:{value:1}}]),vertexShader:xr.meshnormal_vert,fragmentShader:xr.meshnormal_frag},sprite:{uniforms:ks([wn.sprite,wn.fog]),vertexShader:xr.sprite_vert,fragmentShader:xr.sprite_frag},background:{uniforms:{uvTransform:{value:new cr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:xr.background_vert,fragmentShader:xr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new cr}},vertexShader:xr.backgroundCube_vert,fragmentShader:xr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:xr.cube_vert,fragmentShader:xr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:xr.equirect_vert,fragmentShader:xr.equirect_frag},distanceRGBA:{uniforms:ks([wn.common,wn.displacementmap,{referencePosition:{value:new tt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:xr.distanceRGBA_vert,fragmentShader:xr.distanceRGBA_frag},shadow:{uniforms:ks([wn.lights,wn.fog,{color:{value:new ni(0)},opacity:{value:1}}]),vertexShader:xr.shadow_vert,fragmentShader:xr.shadow_frag}};Uc.physical={uniforms:ks([Uc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new cr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new cr},clearcoatNormalScale:{value:new Vn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new cr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new cr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new cr},sheen:{value:0},sheenColor:{value:new ni(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new cr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new cr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new cr},transmissionSamplerSize:{value:new Vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new cr},attenuationDistance:{value:0},attenuationColor:{value:new ni(0)},specularColor:{value:new ni(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new cr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new cr},anisotropyVector:{value:new Vn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new cr}}]),vertexShader:xr.meshphysical_vert,fragmentShader:xr.meshphysical_frag};const QS={r:0,b:0,g:0},np=new gd,Rot=new ur;function Pot(n,e,t,r,i,a,s){const o=new ni(0);let l=a===!0?0:1,c,u,d=null,f=0,h=null;function p(b){let _=b.isScene===!0?b.background:null;return _&&_.isTexture&&(_=(b.backgroundBlurriness>0?t:e).get(_)),_}function m(b){let _=!1;const x=p(b);x===null?g(o,l):x&&x.isColor&&(g(x,1),_=!0);const S=n.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,s):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function v(b,_){const x=p(_);x&&(x.isCubeTexture||x.mapping===bA)?(u===void 0&&(u=new aa(new yy(1,1,1),new Go({name:"BackgroundCubeMaterial",uniforms:kg(Uc.backgroundCube.uniforms),vertexShader:Uc.backgroundCube.vertexShader,fragmentShader:Uc.backgroundCube.fragmentShader,side:mo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(S,T,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),np.copy(_.backgroundRotation),np.x*=-1,np.y*=-1,np.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(np.y*=-1,np.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Rot.makeRotationFromEuler(np)),u.material.toneMapped=ti.getTransfer(x.colorSpace)!==bi,(d!==x||f!==x.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=n.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new aa(new Lg(2,2),new Go({name:"BackgroundMaterial",uniforms:kg(Uc.background.uniforms),vertexShader:Uc.background.vertexShader,fragmentShader:Uc.background.fragmentShader,side:lu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=ti.getTransfer(x.colorSpace)!==bi,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=n.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function g(b,_){b.getRGB(QS,Hie(n)),r.buffers.color.setClear(QS.r,QS.g,QS.b,_,s)}function y(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return o},setClearColor:function(b,_=1){o.set(b),l=_,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,g(o,l)},render:m,addToRenderList:v,dispose:y}}function Dot(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=f(null);let a=i,s=!1;function o(A,I,D,L,F){let B=!1;const k=d(L,D,I);a!==k&&(a=k,c(a.object)),B=h(A,L,D,F),B&&p(A,L,D,F),F!==null&&e.update(F,n.ELEMENT_ARRAY_BUFFER),(B||s)&&(s=!1,_(A,I,D,L),F!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return n.createVertexArray()}function c(A){return n.bindVertexArray(A)}function u(A){return n.deleteVertexArray(A)}function d(A,I,D){const L=D.wireframe===!0;let F=r[A.id];F===void 0&&(F={},r[A.id]=F);let B=F[I.id];B===void 0&&(B={},F[I.id]=B);let k=B[L];return k===void 0&&(k=f(l()),B[L]=k),k}function f(A){const I=[],D=[],L=[];for(let F=0;F<t;F++)I[F]=0,D[F]=0,L[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:D,attributeDivisors:L,object:A,attributes:{},index:null}}function h(A,I,D,L){const F=a.attributes,B=I.attributes;let k=0;const H=D.getAttributes();for(const z in H)if(H[z].location>=0){const G=F[z];let X=B[z];if(X===void 0&&(z==="instanceMatrix"&&A.instanceMatrix&&(X=A.instanceMatrix),z==="instanceColor"&&A.instanceColor&&(X=A.instanceColor)),G===void 0||G.attribute!==X||X&&G.data!==X.data)return!0;k++}return a.attributesNum!==k||a.index!==L}function p(A,I,D,L){const F={},B=I.attributes;let k=0;const H=D.getAttributes();for(const z in H)if(H[z].location>=0){let G=B[z];G===void 0&&(z==="instanceMatrix"&&A.instanceMatrix&&(G=A.instanceMatrix),z==="instanceColor"&&A.instanceColor&&(G=A.instanceColor));const X={};X.attribute=G,G&&G.data&&(X.data=G.data),F[z]=X,k++}a.attributes=F,a.attributesNum=k,a.index=L}function m(){const A=a.newAttributes;for(let I=0,D=A.length;I<D;I++)A[I]=0}function v(A){g(A,0)}function g(A,I){const D=a.newAttributes,L=a.enabledAttributes,F=a.attributeDivisors;D[A]=1,L[A]===0&&(n.enableVertexAttribArray(A),L[A]=1),F[A]!==I&&(n.vertexAttribDivisor(A,I),F[A]=I)}function y(){const A=a.newAttributes,I=a.enabledAttributes;for(let D=0,L=I.length;D<L;D++)I[D]!==A[D]&&(n.disableVertexAttribArray(D),I[D]=0)}function b(A,I,D,L,F,B,k){k===!0?n.vertexAttribIPointer(A,I,D,F,B):n.vertexAttribPointer(A,I,D,L,F,B)}function _(A,I,D,L){m();const F=L.attributes,B=D.getAttributes(),k=I.defaultAttributeValues;for(const H in B){const z=B[H];if(z.location>=0){let O=F[H];if(O===void 0&&(H==="instanceMatrix"&&A.instanceMatrix&&(O=A.instanceMatrix),H==="instanceColor"&&A.instanceColor&&(O=A.instanceColor)),O!==void 0){const G=O.normalized,X=O.itemSize,J=e.get(O);if(J===void 0)continue;const Q=J.buffer,re=J.type,de=J.bytesPerElement,le=re===n.INT||re===n.UNSIGNED_INT||O.gpuType===aN;if(O.isInterleavedBufferAttribute){const fe=O.data,Ee=fe.stride,Re=O.offset;if(fe.isInstancedInterleavedBuffer){for(let He=0;He<z.locationSize;He++)g(z.location+He,fe.meshPerAttribute);A.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let He=0;He<z.locationSize;He++)v(z.location+He);n.bindBuffer(n.ARRAY_BUFFER,Q);for(let He=0;He<z.locationSize;He++)b(z.location+He,X/z.locationSize,re,G,Ee*de,(Re+X/z.locationSize*He)*de,le)}else{if(O.isInstancedBufferAttribute){for(let fe=0;fe<z.locationSize;fe++)g(z.location+fe,O.meshPerAttribute);A.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=O.meshPerAttribute*O.count)}else for(let fe=0;fe<z.locationSize;fe++)v(z.location+fe);n.bindBuffer(n.ARRAY_BUFFER,Q);for(let fe=0;fe<z.locationSize;fe++)b(z.location+fe,X/z.locationSize,re,G,X*de,X/z.locationSize*fe*de,le)}}else if(k!==void 0){const G=k[H];if(G!==void 0)switch(G.length){case 2:n.vertexAttrib2fv(z.location,G);break;case 3:n.vertexAttrib3fv(z.location,G);break;case 4:n.vertexAttrib4fv(z.location,G);break;default:n.vertexAttrib1fv(z.location,G)}}}}y()}function x(){C();for(const A in r){const I=r[A];for(const D in I){const L=I[D];for(const F in L)u(L[F].object),delete L[F];delete I[D]}delete r[A]}}function S(A){if(r[A.id]===void 0)return;const I=r[A.id];for(const D in I){const L=I[D];for(const F in L)u(L[F].object),delete L[F];delete I[D]}delete r[A.id]}function T(A){for(const I in r){const D=r[I];if(D[A.id]===void 0)continue;const L=D[A.id];for(const F in L)u(L[F].object),delete L[F];delete D[A.id]}}function C(){M(),s=!0,a!==i&&(a=i,c(a.object))}function M(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:C,resetDefaultState:M,dispose:x,releaseStatesOfGeometry:S,releaseStatesOfProgram:T,initAttributes:m,enableAttribute:v,disableUnusedAttributes:y}}function kot(n,e,t){let r;function i(c){r=c}function a(c,u){n.drawArrays(r,c,u),t.update(u,r,1)}function s(c,u,d){d!==0&&(n.drawArraysInstanced(r,c,u,d),t.update(u,r,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];t.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)s(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let m=0;m<d;m++)p+=u[m]*f[m];t.update(p,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Lot(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){return!(T!==Us&&r.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(T){const C=T===vy&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==cu&&r.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==uc&&!C)}function l(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=t.logarithmicDepthBuffer===!0,f=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),b=n.getParameter(n.MAX_VARYING_VECTORS),_=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),x=p>0,S=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:x,maxSamples:S}}function Not(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new pf,o=new cr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,v=d.clipShadows,g=n.get(d);if(!i||p===null||p.length===0||a&&!v)a?u(null):c();else{const y=a?0:r,b=y*4;let _=g.clippingState||null;l.value=_,_=u(p,f,b,h);for(let x=0;x!==b;++x)_[x]=t[x];g.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let v=null;if(m!==0){if(v=l.value,p!==!0||v===null){const g=h+m*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(v===null||v.length<g)&&(v=new Float32Array(g));for(let b=0,_=h;b!==m;++b,_+=4)s.copy(d[b]).applyMatrix4(y,o),s.normal.toArray(v,_),v[_+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function Oot(n){let e=new WeakMap;function t(s,o){return o===cD?s.mapping=Eg:o===uD&&(s.mapping=Ig),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===cD||o===uD)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new Uit(l.height);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const xv=4,nW=[.125,.215,.35,.446,.526,.582],yp=20,II=new pN,rW=new ni;let RI=null,PI=0,DI=0,kI=!1;const cp=(1+Math.sqrt(5))/2,W0=1/cp,iW=[new tt(-cp,W0,0),new tt(cp,W0,0),new tt(-W0,0,cp),new tt(W0,0,cp),new tt(0,cp,-W0),new tt(0,cp,W0),new tt(-1,1,-1),new tt(1,1,-1),new tt(-1,1,1),new tt(1,1,1)];class aW{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){RI=this._renderer.getRenderTarget(),PI=this._renderer.getActiveCubeFace(),DI=this._renderer.getActiveMipmapLevel(),kI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=lW(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=oW(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(RI,PI,DI),this._renderer.xr.enabled=kI,e.scissorTest=!1,JS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Eg||e.mapping===Ig?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),RI=this._renderer.getRenderTarget(),PI=this._renderer.getActiveCubeFace(),DI=this._renderer.getActiveMipmapLevel(),kI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Xc,minFilter:Xc,generateMipmaps:!1,type:vy,format:Us,colorSpace:Dg,depthBuffer:!1},i=sW(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=sW(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Bot(a)),this._blurMaterial=Fot(a,e,t)}return i}_compileMaterial(e){const t=new aa(this._lodPlanes[0],e);this._renderer.compile(t,II)}_sceneToCubeUV(e,t,r,i){const o=new hl(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(rW),u.toneMapping=zf,u.autoClear=!1;const h=new wm({name:"PMREM.Background",side:mo,depthWrite:!1,depthTest:!1}),p=new aa(new yy,h);let m=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,m=!0):(h.color.copy(rW),m=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(o.up.set(0,l[g],0),o.lookAt(c[g],0,0)):y===1?(o.up.set(0,0,l[g]),o.lookAt(0,c[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,c[g]));const b=this._cubeSize;JS(i,y*b,g>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Eg||e.mapping===Ig;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=lW()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=oW());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new aa(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;JS(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,II)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=iW[(i-a-1)%iW.length];this._blur(e,a-1,a,s,o)}t.autoClear=r}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new aa(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*yp-1),m=a/p,v=isFinite(a)?1+Math.floor(u*m):yp;v>yp&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${yp}`);const g=[];let y=0;for(let T=0;T<yp;++T){const C=T/m,M=Math.exp(-C*C/2);g.push(M),T===0?y+=M:T<v&&(y+=2*M)}for(let T=0;T<g.length;T++)g[T]=g[T]/y;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=g,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const _=this._sizeLods[i],x=3*_*(i>b-xv?i-b+xv:0),S=4*(this._cubeSize-_);JS(t,x,S,3*_,2*_),l.setRenderTarget(t),l.render(d,II)}}function Bot(n){const e=[],t=[],r=[];let i=n;const a=n-xv+1+nW.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>n-xv?l=nW[s-n+xv-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,v=2,g=1,y=new Float32Array(m*p*h),b=new Float32Array(v*p*h),_=new Float32Array(g*p*h);for(let S=0;S<h;S++){const T=S%3*2/3-1,C=S>2?0:-1,M=[T,C,0,T+2/3,C,0,T+2/3,C+1,0,T,C,0,T+2/3,C+1,0,T,C+1,0];y.set(M,m*p*S),b.set(f,v*p*S);const A=[S,S,S,S,S,S];_.set(A,g*p*S)}const x=new Fl;x.setAttribute("position",new Al(y,m)),x.setAttribute("uv",new Al(b,v)),x.setAttribute("faceIndex",new Al(_,g)),e.push(x),i>xv&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function sW(n,e,t){const r=new uh(n,e,t);return r.texture.mapping=bA,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function JS(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Fot(n,e,t){const r=new Float32Array(yp),i=new tt(0,1,0);return new Go({name:"SphericalGaussianBlur",defines:{n:yp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:mN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bf,depthTest:!1,depthWrite:!1})}function oW(){return new Go({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:mN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bf,depthTest:!1,depthWrite:!1})}function lW(){return new Go({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:mN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bf,depthTest:!1,depthWrite:!1})}function mN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zot(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===cD||l===uD,u=l===Eg||l===Ig;if(c||u){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return t===null&&(t=new aW(n)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&i(h)?(t===null&&(t=new aW(n)),d=c?t.fromEquirectangular(o):t.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",a),d.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function Uot(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&ov("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Hot(n,e,t,r){const i={},a=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete i[f.id];const h=a.get(f);h&&(e.remove(h),a.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const h in f)e.update(f[h],n.ARRAY_BUFFER)}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const y=h.array;m=h.version;for(let b=0,_=y.length;b<_;b+=3){const x=y[b+0],S=y[b+1],T=y[b+2];f.push(x,S,S,T,T,x)}}else if(p!==void 0){const y=p.array;m=p.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const x=b+0,S=b+1,T=b+2;f.push(x,S,S,T,T,x)}}else return;const v=new(kie(f)?Uie:zie)(f,1);v.version=m;const g=a.get(d);g&&e.remove(g),a.set(d,v)}function u(d){const f=a.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function Vot(n,e,t){let r;function i(f){r=f}let a,s;function o(f){a=f.type,s=f.bytesPerElement}function l(f,h){n.drawElements(r,h,a,f*s),t.update(h,r,1)}function c(f,h,p){p!==0&&(n.drawElementsInstanced(r,h,a,f*s,p),t.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,a,f,0,p);let v=0;for(let g=0;g<p;g++)v+=h[g];t.update(v,r,1)}function d(f,h,p,m){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<f.length;g++)c(f[g]/s,h[g],m[g]);else{v.multiDrawElementsInstancedWEBGL(r,h,0,a,f,0,m,0,p);let g=0;for(let y=0;y<p;y++)g+=h[y]*m[y];t.update(g,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function $ot(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function Got(n,e,t){const r=new WeakMap,i=new Hi;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(o);if(f===void 0||f.count!==d){let A=function(){C.dispose(),r.delete(o),o.removeEventListener("dispose",A)};var h=A;f!==void 0&&f.texture.dispose();const p=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,v=o.morphAttributes.color!==void 0,g=o.morphAttributes.position||[],y=o.morphAttributes.normal||[],b=o.morphAttributes.color||[];let _=0;p===!0&&(_=1),m===!0&&(_=2),v===!0&&(_=3);let x=o.attributes.position.count*_,S=1;x>e.maxTextureSize&&(S=Math.ceil(x/e.maxTextureSize),x=e.maxTextureSize);const T=new Float32Array(x*S*4*d),C=new Nie(T,x,S,d);C.type=uc,C.needsUpdate=!0;const M=_*4;for(let I=0;I<d;I++){const D=g[I],L=y[I],F=b[I],B=x*S*4*I;for(let k=0;k<D.count;k++){const H=k*M;p===!0&&(i.fromBufferAttribute(D,k),T[B+H+0]=i.x,T[B+H+1]=i.y,T[B+H+2]=i.z,T[B+H+3]=0),m===!0&&(i.fromBufferAttribute(L,k),T[B+H+4]=i.x,T[B+H+5]=i.y,T[B+H+6]=i.z,T[B+H+7]=0),v===!0&&(i.fromBufferAttribute(F,k),T[B+H+8]=i.x,T[B+H+9]=i.y,T[B+H+10]=i.z,T[B+H+11]=F.itemSize===4?i.w:1)}}f={count:d,texture:C,size:new Vn(x,S)},r.set(o,f),o.addEventListener("dispose",A)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let p=0;for(let v=0;v<c.length;v++)p+=c[v];const m=o.morphTargetsRelative?1:1-p;l.getUniforms().setValue(n,"morphTargetBaseInfluence",m),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}return{update:a}}function Wot(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const qie=new Ws,cW=new fN(1,1),Kie=new Nie,Yie=new wit,Xie=new $ie,uW=[],dW=[],fW=new Float32Array(16),hW=new Float32Array(9),pW=new Float32Array(4);function by(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=uW[i];if(a===void 0&&(a=new Float32Array(i),uW[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function Ra(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Pa(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function xA(n,e){let t=dW[e];t===void 0&&(t=new Int32Array(e),dW[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function qot(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Kot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ra(t,e))return;n.uniform2fv(this.addr,e),Pa(t,e)}}function Yot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ra(t,e))return;n.uniform3fv(this.addr,e),Pa(t,e)}}function Xot(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ra(t,e))return;n.uniform4fv(this.addr,e),Pa(t,e)}}function jot(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ra(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Pa(t,e)}else{if(Ra(t,r))return;pW.set(r),n.uniformMatrix2fv(this.addr,!1,pW),Pa(t,r)}}function Zot(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ra(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Pa(t,e)}else{if(Ra(t,r))return;hW.set(r),n.uniformMatrix3fv(this.addr,!1,hW),Pa(t,r)}}function Qot(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Ra(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Pa(t,e)}else{if(Ra(t,r))return;fW.set(r),n.uniformMatrix4fv(this.addr,!1,fW),Pa(t,r)}}function Jot(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function elt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ra(t,e))return;n.uniform2iv(this.addr,e),Pa(t,e)}}function tlt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ra(t,e))return;n.uniform3iv(this.addr,e),Pa(t,e)}}function nlt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ra(t,e))return;n.uniform4iv(this.addr,e),Pa(t,e)}}function rlt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function ilt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ra(t,e))return;n.uniform2uiv(this.addr,e),Pa(t,e)}}function alt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ra(t,e))return;n.uniform3uiv(this.addr,e),Pa(t,e)}}function slt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ra(t,e))return;n.uniform4uiv(this.addr,e),Pa(t,e)}}function olt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(cW.compareFunction=Pie,a=cW):a=qie,t.setTexture2D(e||a,i)}function llt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Yie,i)}function clt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Xie,i)}function ult(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Kie,i)}function dlt(n){switch(n){case 5126:return qot;case 35664:return Kot;case 35665:return Yot;case 35666:return Xot;case 35674:return jot;case 35675:return Zot;case 35676:return Qot;case 5124:case 35670:return Jot;case 35667:case 35671:return elt;case 35668:case 35672:return tlt;case 35669:case 35673:return nlt;case 5125:return rlt;case 36294:return ilt;case 36295:return alt;case 36296:return slt;case 35678:case 36198:case 36298:case 36306:case 35682:return olt;case 35679:case 36299:case 36307:return llt;case 35680:case 36300:case 36308:case 36293:return clt;case 36289:case 36303:case 36311:case 36292:return ult}}function flt(n,e){n.uniform1fv(this.addr,e)}function hlt(n,e){const t=by(e,this.size,2);n.uniform2fv(this.addr,t)}function plt(n,e){const t=by(e,this.size,3);n.uniform3fv(this.addr,t)}function mlt(n,e){const t=by(e,this.size,4);n.uniform4fv(this.addr,t)}function vlt(n,e){const t=by(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function glt(n,e){const t=by(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function ylt(n,e){const t=by(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function blt(n,e){n.uniform1iv(this.addr,e)}function _lt(n,e){n.uniform2iv(this.addr,e)}function wlt(n,e){n.uniform3iv(this.addr,e)}function xlt(n,e){n.uniform4iv(this.addr,e)}function Slt(n,e){n.uniform1uiv(this.addr,e)}function Clt(n,e){n.uniform2uiv(this.addr,e)}function Mlt(n,e){n.uniform3uiv(this.addr,e)}function Tlt(n,e){n.uniform4uiv(this.addr,e)}function Alt(n,e,t){const r=this.cache,i=e.length,a=xA(t,i);Ra(r,a)||(n.uniform1iv(this.addr,a),Pa(r,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||qie,a[s])}function Elt(n,e,t){const r=this.cache,i=e.length,a=xA(t,i);Ra(r,a)||(n.uniform1iv(this.addr,a),Pa(r,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||Yie,a[s])}function Ilt(n,e,t){const r=this.cache,i=e.length,a=xA(t,i);Ra(r,a)||(n.uniform1iv(this.addr,a),Pa(r,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||Xie,a[s])}function Rlt(n,e,t){const r=this.cache,i=e.length,a=xA(t,i);Ra(r,a)||(n.uniform1iv(this.addr,a),Pa(r,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||Kie,a[s])}function Plt(n){switch(n){case 5126:return flt;case 35664:return hlt;case 35665:return plt;case 35666:return mlt;case 35674:return vlt;case 35675:return glt;case 35676:return ylt;case 5124:case 35670:return blt;case 35667:case 35671:return _lt;case 35668:case 35672:return wlt;case 35669:case 35673:return xlt;case 5125:return Slt;case 36294:return Clt;case 36295:return Mlt;case 36296:return Tlt;case 35678:case 36198:case 36298:case 36306:case 35682:return Alt;case 35679:case 36299:case 36307:return Elt;case 35680:case 36300:case 36308:case 36293:return Ilt;case 36289:case 36303:case 36311:case 36292:return Rlt}}class Dlt{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=dlt(t.type)}}class klt{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Plt(t.type)}}class Llt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}}const LI=/(\w+)(\])?(\[|\.)?/g;function mW(n,e){n.seq.push(e),n.map[e.id]=e}function Nlt(n,e,t){const r=n.name,i=r.length;for(LI.lastIndex=0;;){const a=LI.exec(r),s=LI.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){mW(t,c===void 0?new Dlt(o,n,e):new klt(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new Llt(o),mW(t,d)),t=d}}}class sC{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);Nlt(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function vW(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Olt=37297;let Blt=0;function Flt(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}const gW=new cr;function zlt(n){ti._getMatrix(gW,ti.workingColorSpace,n);const e=`mat3( ${gW.elements.map(t=>t.toFixed(4))} )`;switch(ti.getTransfer(n)){case BM:return[e,"LinearTransferOETF"];case bi:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function yW(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+Flt(n.getShaderSource(e),s)}else return i}function Ult(n,e){const t=zlt(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Hlt(n,e){let t;switch(e){case Rrt:t="Linear";break;case Prt:t="Reinhard";break;case Drt:t="Cineon";break;case krt:t="ACESFilmic";break;case Nrt:t="AgX";break;case Ort:t="Neutral";break;case Lrt:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const e2=new tt;function Vlt(){ti.getLuminanceCoefficients(e2);const n=e2.x.toFixed(4),e=e2.y.toFixed(4),t=e2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function $lt(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(D1).join(`
`)}function Glt(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Wlt(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function D1(n){return n!==""}function bW(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _W(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const qlt=/^[ \t]*#include +<([\w\d./]+)>/gm;function zD(n){return n.replace(qlt,Ylt)}const Klt=new Map;function Ylt(n,e){let t=xr[e];if(t===void 0){const r=Klt.get(e);if(r!==void 0)t=xr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return zD(t)}const Xlt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wW(n){return n.replace(Xlt,jlt)}function jlt(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function xW(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Zlt(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===yie?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===urt?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Fu&&(e="SHADOWMAP_TYPE_VSM"),e}function Qlt(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Eg:case Ig:e="ENVMAP_TYPE_CUBE";break;case bA:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Jlt(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ig:e="ENVMAP_MODE_REFRACTION";break}return e}function ect(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case _ie:e="ENVMAP_BLENDING_MULTIPLY";break;case Ert:e="ENVMAP_BLENDING_MIX";break;case Irt:e="ENVMAP_BLENDING_ADD";break}return e}function tct(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function nct(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=Zlt(t),c=Qlt(t),u=Jlt(t),d=ect(t),f=tct(t),h=$lt(t),p=Glt(a),m=i.createProgram();let v,g,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(D1).join(`
`),v.length>0&&(v+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(D1).join(`
`),g.length>0&&(g+=`
`)):(v=[xW(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(D1).join(`
`),g=[xW(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==zf?"#define TONE_MAPPING":"",t.toneMapping!==zf?xr.tonemapping_pars_fragment:"",t.toneMapping!==zf?Hlt("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",xr.colorspace_pars_fragment,Ult("linearToOutputTexel",t.outputColorSpace),Vlt(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(D1).join(`
`)),s=zD(s),s=bW(s,t),s=_W(s,t),o=zD(o),o=bW(o,t),o=_W(o,t),s=wW(s),o=wW(o),t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",t.glslVersion===NG?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===NG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=y+v+s,_=y+g+o,x=vW(i,i.VERTEX_SHADER,b),S=vW(i,i.FRAGMENT_SHADER,_);i.attachShader(m,x),i.attachShader(m,S),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function T(I){if(n.debug.checkShaderErrors){const D=i.getProgramInfoLog(m).trim(),L=i.getShaderInfoLog(x).trim(),F=i.getShaderInfoLog(S).trim();let B=!0,k=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(B=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,m,x,S);else{const H=yW(i,x,"vertex"),z=yW(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+D+`
`+H+`
`+z)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(L===""||F==="")&&(k=!1);k&&(I.diagnostics={runnable:B,programLog:D,vertexShader:{log:L,prefix:v},fragmentShader:{log:F,prefix:g}})}i.deleteShader(x),i.deleteShader(S),C=new sC(i,m),M=Wlt(i,m)}let C;this.getUniforms=function(){return C===void 0&&T(this),C};let M;this.getAttributes=function(){return M===void 0&&T(this),M};let A=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=i.getProgramParameter(m,Olt)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Blt++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=S,this}let rct=0;class ict{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new act(e),t.set(e,r)),r}}class act{constructor(e){this.id=rct++,this.code=e,this.usedTimes=0}}function sct(n,e,t,r,i,a,s){const o=new Bie,l=new ict,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(M){return c.add(M),M===0?"uv":`uv${M}`}function v(M,A,I,D,L){const F=D.fog,B=L.geometry,k=M.isMeshStandardMaterial?D.environment:null,H=(M.isMeshStandardMaterial?t:e).get(M.envMap||k),z=H&&H.mapping===bA?H.image.height:null,O=p[M.type];M.precision!==null&&(h=i.getMaxPrecision(M.precision),h!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",h,"instead."));const G=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,X=G!==void 0?G.length:0;let J=0;B.morphAttributes.position!==void 0&&(J=1),B.morphAttributes.normal!==void 0&&(J=2),B.morphAttributes.color!==void 0&&(J=3);let Q,re,de,le;if(O){const kn=Uc[O];Q=kn.vertexShader,re=kn.fragmentShader}else Q=M.vertexShader,re=M.fragmentShader,l.update(M),de=l.getVertexShaderID(M),le=l.getFragmentShaderID(M);const fe=n.getRenderTarget(),Ee=n.state.buffers.depth.getReversed(),Re=L.isInstancedMesh===!0,He=L.isBatchedMesh===!0,$e=!!M.map,K=!!M.matcap,ce=!!H,ie=!!M.aoMap,Ue=!!M.lightMap,De=!!M.bumpMap,Ye=!!M.normalMap,ze=!!M.displacementMap,Ve=!!M.emissiveMap,Je=!!M.metalnessMap,pe=!!M.roughnessMap,W=M.anisotropy>0,Z=M.clearcoat>0,ve=M.dispersion>0,Ne=M.iridescence>0,Ke=M.sheen>0,mt=M.transmission>0,vt=W&&!!M.anisotropyMap,Me=Z&&!!M.clearcoatMap,ht=Z&&!!M.clearcoatNormalMap,st=Z&&!!M.clearcoatRoughnessMap,$=Ne&&!!M.iridescenceMap,ge=Ne&&!!M.iridescenceThicknessMap,he=Ke&&!!M.sheenColorMap,Ae=Ke&&!!M.sheenRoughnessMap,ye=!!M.specularMap,Se=!!M.specularColorMap,ft=!!M.specularIntensityMap,Te=mt&&!!M.transmissionMap,_t=mt&&!!M.thicknessMap,nt=!!M.gradientMap,gt=!!M.alphaMap,Lt=M.alphaTest>0,At=!!M.alphaHash,an=!!M.extensions;let _n=zf;M.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(_n=n.toneMapping);const lr={shaderID:O,shaderType:M.type,shaderName:M.name,vertexShader:Q,fragmentShader:re,defines:M.defines,customVertexShaderID:de,customFragmentShaderID:le,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:h,batching:He,batchingColor:He&&L._colorsTexture!==null,instancing:Re,instancingColor:Re&&L.instanceColor!==null,instancingMorph:Re&&L.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:fe===null?n.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Dg,alphaToCoverage:!!M.alphaToCoverage,map:$e,matcap:K,envMap:ce,envMapMode:ce&&H.mapping,envMapCubeUVHeight:z,aoMap:ie,lightMap:Ue,bumpMap:De,normalMap:Ye,displacementMap:f&&ze,emissiveMap:Ve,normalMapObjectSpace:Ye&&M.normalMapType===Hrt,normalMapTangentSpace:Ye&&M.normalMapType===Urt,metalnessMap:Je,roughnessMap:pe,anisotropy:W,anisotropyMap:vt,clearcoat:Z,clearcoatMap:Me,clearcoatNormalMap:ht,clearcoatRoughnessMap:st,dispersion:ve,iridescence:Ne,iridescenceMap:$,iridescenceThicknessMap:ge,sheen:Ke,sheenColorMap:he,sheenRoughnessMap:Ae,specularMap:ye,specularColorMap:Se,specularIntensityMap:ft,transmission:mt,transmissionMap:Te,thicknessMap:_t,gradientMap:nt,opaque:M.transparent===!1&&M.blending===Ff&&M.alphaToCoverage===!1,alphaMap:gt,alphaTest:Lt,alphaHash:At,combine:M.combine,mapUv:$e&&m(M.map.channel),aoMapUv:ie&&m(M.aoMap.channel),lightMapUv:Ue&&m(M.lightMap.channel),bumpMapUv:De&&m(M.bumpMap.channel),normalMapUv:Ye&&m(M.normalMap.channel),displacementMapUv:ze&&m(M.displacementMap.channel),emissiveMapUv:Ve&&m(M.emissiveMap.channel),metalnessMapUv:Je&&m(M.metalnessMap.channel),roughnessMapUv:pe&&m(M.roughnessMap.channel),anisotropyMapUv:vt&&m(M.anisotropyMap.channel),clearcoatMapUv:Me&&m(M.clearcoatMap.channel),clearcoatNormalMapUv:ht&&m(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&m(M.clearcoatRoughnessMap.channel),iridescenceMapUv:$&&m(M.iridescenceMap.channel),iridescenceThicknessMapUv:ge&&m(M.iridescenceThicknessMap.channel),sheenColorMapUv:he&&m(M.sheenColorMap.channel),sheenRoughnessMapUv:Ae&&m(M.sheenRoughnessMap.channel),specularMapUv:ye&&m(M.specularMap.channel),specularColorMapUv:Se&&m(M.specularColorMap.channel),specularIntensityMapUv:ft&&m(M.specularIntensityMap.channel),transmissionMapUv:Te&&m(M.transmissionMap.channel),thicknessMapUv:_t&&m(M.thicknessMap.channel),alphaMapUv:gt&&m(M.alphaMap.channel),vertexTangents:!!B.attributes.tangent&&(Ye||W),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,pointsUvs:L.isPoints===!0&&!!B.attributes.uv&&($e||gt),fog:!!F,useFog:M.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:Ee,skinning:L.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:X,morphTextureStride:J,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:_n,decodeVideoTexture:$e&&M.map.isVideoTexture===!0&&ti.getTransfer(M.map.colorSpace)===bi,decodeVideoTextureEmissive:Ve&&M.emissiveMap.isVideoTexture===!0&&ti.getTransfer(M.emissiveMap.colorSpace)===bi,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===ml,flipSided:M.side===mo,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionClipCullDistance:an&&M.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(an&&M.extensions.multiDraw===!0||He)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()};return lr.vertexUv1s=c.has(1),lr.vertexUv2s=c.has(2),lr.vertexUv3s=c.has(3),c.clear(),lr}function g(M){const A=[];if(M.shaderID?A.push(M.shaderID):(A.push(M.customVertexShaderID),A.push(M.customFragmentShaderID)),M.defines!==void 0)for(const I in M.defines)A.push(I),A.push(M.defines[I]);return M.isRawShaderMaterial===!1&&(y(A,M),b(A,M),A.push(n.outputColorSpace)),A.push(M.customProgramCacheKey),A.join()}function y(M,A){M.push(A.precision),M.push(A.outputColorSpace),M.push(A.envMapMode),M.push(A.envMapCubeUVHeight),M.push(A.mapUv),M.push(A.alphaMapUv),M.push(A.lightMapUv),M.push(A.aoMapUv),M.push(A.bumpMapUv),M.push(A.normalMapUv),M.push(A.displacementMapUv),M.push(A.emissiveMapUv),M.push(A.metalnessMapUv),M.push(A.roughnessMapUv),M.push(A.anisotropyMapUv),M.push(A.clearcoatMapUv),M.push(A.clearcoatNormalMapUv),M.push(A.clearcoatRoughnessMapUv),M.push(A.iridescenceMapUv),M.push(A.iridescenceThicknessMapUv),M.push(A.sheenColorMapUv),M.push(A.sheenRoughnessMapUv),M.push(A.specularMapUv),M.push(A.specularColorMapUv),M.push(A.specularIntensityMapUv),M.push(A.transmissionMapUv),M.push(A.thicknessMapUv),M.push(A.combine),M.push(A.fogExp2),M.push(A.sizeAttenuation),M.push(A.morphTargetsCount),M.push(A.morphAttributeCount),M.push(A.numDirLights),M.push(A.numPointLights),M.push(A.numSpotLights),M.push(A.numSpotLightMaps),M.push(A.numHemiLights),M.push(A.numRectAreaLights),M.push(A.numDirLightShadows),M.push(A.numPointLightShadows),M.push(A.numSpotLightShadows),M.push(A.numSpotLightShadowsWithMaps),M.push(A.numLightProbes),M.push(A.shadowMapType),M.push(A.toneMapping),M.push(A.numClippingPlanes),M.push(A.numClipIntersection),M.push(A.depthPacking)}function b(M,A){o.disableAll(),A.supportsVertexTextures&&o.enable(0),A.instancing&&o.enable(1),A.instancingColor&&o.enable(2),A.instancingMorph&&o.enable(3),A.matcap&&o.enable(4),A.envMap&&o.enable(5),A.normalMapObjectSpace&&o.enable(6),A.normalMapTangentSpace&&o.enable(7),A.clearcoat&&o.enable(8),A.iridescence&&o.enable(9),A.alphaTest&&o.enable(10),A.vertexColors&&o.enable(11),A.vertexAlphas&&o.enable(12),A.vertexUv1s&&o.enable(13),A.vertexUv2s&&o.enable(14),A.vertexUv3s&&o.enable(15),A.vertexTangents&&o.enable(16),A.anisotropy&&o.enable(17),A.alphaHash&&o.enable(18),A.batching&&o.enable(19),A.dispersion&&o.enable(20),A.batchingColor&&o.enable(21),M.push(o.mask),o.disableAll(),A.fog&&o.enable(0),A.useFog&&o.enable(1),A.flatShading&&o.enable(2),A.logarithmicDepthBuffer&&o.enable(3),A.reverseDepthBuffer&&o.enable(4),A.skinning&&o.enable(5),A.morphTargets&&o.enable(6),A.morphNormals&&o.enable(7),A.morphColors&&o.enable(8),A.premultipliedAlpha&&o.enable(9),A.shadowMapEnabled&&o.enable(10),A.doubleSided&&o.enable(11),A.flipSided&&o.enable(12),A.useDepthPacking&&o.enable(13),A.dithering&&o.enable(14),A.transmission&&o.enable(15),A.sheen&&o.enable(16),A.opaque&&o.enable(17),A.pointsUvs&&o.enable(18),A.decodeVideoTexture&&o.enable(19),A.decodeVideoTextureEmissive&&o.enable(20),A.alphaToCoverage&&o.enable(21),M.push(o.mask)}function _(M){const A=p[M.type];let I;if(A){const D=Uc[A];I=Oit.clone(D.uniforms)}else I=M.uniforms;return I}function x(M,A){let I;for(let D=0,L=u.length;D<L;D++){const F=u[D];if(F.cacheKey===A){I=F,++I.usedTimes;break}}return I===void 0&&(I=new nct(n,A,M,a),u.push(I)),I}function S(M){if(--M.usedTimes===0){const A=u.indexOf(M);u[A]=u[u.length-1],u.pop(),M.destroy()}}function T(M){l.remove(M)}function C(){l.dispose()}return{getParameters:v,getProgramCacheKey:g,getUniforms:_,acquireProgram:x,releaseProgram:S,releaseShaderCache:T,programs:u,dispose:C}}function oct(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function r(s){n.delete(s)}function i(s,o,l){n.get(s)[o]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function lct(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function SW(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function CW(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,v){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:v},n[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=m,g.group=v),e++,g}function o(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):t.push(g)}function l(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):t.unshift(g)}function c(d,f){t.length>1&&t.sort(d||lct),r.length>1&&r.sort(f||SW),i.length>1&&i.sort(f||SW)}function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function cct(){let n=new WeakMap;function e(r,i){const a=n.get(r);let s;return a===void 0?(s=new CW,n.set(r,[s])):i>=a.length?(s=new CW,a.push(s)):s=a[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function uct(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new tt,color:new ni};break;case"SpotLight":t={position:new tt,direction:new tt,color:new ni,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new tt,color:new ni,distance:0,decay:0};break;case"HemisphereLight":t={direction:new tt,skyColor:new ni,groundColor:new ni};break;case"RectAreaLight":t={color:new ni,position:new tt,halfWidth:new tt,halfHeight:new tt};break}return n[e.id]=t,t}}}function dct(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let fct=0;function hct(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function pct(n){const e=new uct,t=dct(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new tt);const i=new tt,a=new ur,s=new ur;function o(c){let u=0,d=0,f=0;for(let M=0;M<9;M++)r.probe[M].set(0,0,0);let h=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,S=0,T=0;c.sort(hct);for(let M=0,A=c.length;M<A;M++){const I=c[M],D=I.color,L=I.intensity,F=I.distance,B=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=D.r*L,d+=D.g*L,f+=D.b*L;else if(I.isLightProbe){for(let k=0;k<9;k++)r.probe[k].addScaledVector(I.sh.coefficients[k],L);T++}else if(I.isDirectionalLight){const k=e.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const H=I.shadow,z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.directionalShadow[h]=z,r.directionalShadowMap[h]=B,r.directionalShadowMatrix[h]=I.shadow.matrix,y++}r.directional[h]=k,h++}else if(I.isSpotLight){const k=e.get(I);k.position.setFromMatrixPosition(I.matrixWorld),k.color.copy(D).multiplyScalar(L),k.distance=F,k.coneCos=Math.cos(I.angle),k.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),k.decay=I.decay,r.spot[m]=k;const H=I.shadow;if(I.map&&(r.spotLightMap[x]=I.map,x++,H.updateMatrices(I),I.castShadow&&S++),r.spotLightMatrix[m]=H.matrix,I.castShadow){const z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.spotShadow[m]=z,r.spotShadowMap[m]=B,_++}m++}else if(I.isRectAreaLight){const k=e.get(I);k.color.copy(D).multiplyScalar(L),k.halfWidth.set(I.width*.5,0,0),k.halfHeight.set(0,I.height*.5,0),r.rectArea[v]=k,v++}else if(I.isPointLight){const k=e.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity),k.distance=I.distance,k.decay=I.decay,I.castShadow){const H=I.shadow,z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,z.shadowCameraNear=H.camera.near,z.shadowCameraFar=H.camera.far,r.pointShadow[p]=z,r.pointShadowMap[p]=B,r.pointShadowMatrix[p]=I.shadow.matrix,b++}r.point[p]=k,p++}else if(I.isHemisphereLight){const k=e.get(I);k.skyColor.copy(I.color).multiplyScalar(L),k.groundColor.copy(I.groundColor).multiplyScalar(L),r.hemi[g]=k,g++}}v>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=wn.LTC_FLOAT_1,r.rectAreaLTC2=wn.LTC_FLOAT_2):(r.rectAreaLTC1=wn.LTC_HALF_1,r.rectAreaLTC2=wn.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const C=r.hash;(C.directionalLength!==h||C.pointLength!==p||C.spotLength!==m||C.rectAreaLength!==v||C.hemiLength!==g||C.numDirectionalShadows!==y||C.numPointShadows!==b||C.numSpotShadows!==_||C.numSpotMaps!==x||C.numLightProbes!==T)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=v,r.point.length=p,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=_+x-S,r.spotLightMap.length=x,r.numSpotLightShadowsWithMaps=S,r.numLightProbes=T,C.directionalLength=h,C.pointLength=p,C.spotLength=m,C.rectAreaLength=v,C.hemiLength=g,C.numDirectionalShadows=y,C.numPointShadows=b,C.numSpotShadows=_,C.numSpotMaps=x,C.numLightProbes=T,r.version=fct++)}function l(c,u){let d=0,f=0,h=0,p=0,m=0;const v=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const b=c[g];if(b.isDirectionalLight){const _=r.directional[d];_.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(v),d++}else if(b.isSpotLight){const _=r.spot[h];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),_.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(v),h++}else if(b.isRectAreaLight){const _=r.rectArea[p];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),s.identity(),a.copy(b.matrixWorld),a.premultiply(v),s.extractRotation(a),_.halfWidth.set(b.width*.5,0,0),_.halfHeight.set(0,b.height*.5,0),_.halfWidth.applyMatrix4(s),_.halfHeight.applyMatrix4(s),p++}else if(b.isPointLight){const _=r.point[f];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),f++}else if(b.isHemisphereLight){const _=r.hemi[m];_.direction.setFromMatrixPosition(b.matrixWorld),_.direction.transformDirection(v),m++}}}return{setup:o,setupView:l,state:r}}function MW(n){const e=new pct(n),t=[],r=[];function i(u){c.camera=u,t.length=0,r.length=0}function a(u){t.push(u)}function s(u){r.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function mct(n){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new MW(n),e.set(i,[o])):a>=s.length?(o=new MW(n),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const vct=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,gct=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function yct(n,e,t){let r=new Gie;const i=new Vn,a=new Vn,s=new Hi,o=new Wit({depthPacking:zrt}),l=new qit,c={},u=t.maxTextureSize,d={[lu]:mo,[mo]:lu,[ml]:ml},f=new Go({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vn},radius:{value:4}},vertexShader:vct,fragmentShader:gct}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Fl;p.setAttribute("position",new Al(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new aa(p,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=yie;let g=this.type;this.render=function(S,T,C){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||S.length===0)return;const M=n.getRenderTarget(),A=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Bf),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const L=g!==Fu&&this.type===Fu,F=g===Fu&&this.type!==Fu;for(let B=0,k=S.length;B<k;B++){const H=S[B],z=H.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const O=z.getFrameExtents();if(i.multiply(O),a.copy(z.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/O.x),i.x=a.x*O.x,z.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/O.y),i.y=a.y*O.y,z.mapSize.y=a.y)),z.map===null||L===!0||F===!0){const X=this.type!==Fu?{minFilter:Vo,magFilter:Vo}:{};z.map!==null&&z.map.dispose(),z.map=new uh(i.x,i.y,X),z.map.texture.name=H.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const G=z.getViewportCount();for(let X=0;X<G;X++){const J=z.getViewport(X);s.set(a.x*J.x,a.y*J.y,a.x*J.z,a.y*J.w),D.viewport(s),z.updateMatrices(H,X),r=z.getFrustum(),_(T,C,z.camera,H,this.type)}z.isPointLightShadow!==!0&&this.type===Fu&&y(z,C),z.needsUpdate=!1}g=this.type,v.needsUpdate=!1,n.setRenderTarget(M,A,I)};function y(S,T){const C=e.update(m);f.defines.VSM_SAMPLES!==S.blurSamples&&(f.defines.VSM_SAMPLES=S.blurSamples,h.defines.VSM_SAMPLES=S.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new uh(i.x,i.y)),f.uniforms.shadow_pass.value=S.map.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(T,null,C,f,m,null),h.uniforms.shadow_pass.value=S.mapPass.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(T,null,C,h,m,null)}function b(S,T,C,M){let A=null;const I=C.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(I!==void 0)A=I;else if(A=C.isPointLight===!0?l:o,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const D=A.uuid,L=T.uuid;let F=c[D];F===void 0&&(F={},c[D]=F);let B=F[L];B===void 0&&(B=A.clone(),F[L]=B,T.addEventListener("dispose",x)),A=B}if(A.visible=T.visible,A.wireframe=T.wireframe,M===Fu?A.side=T.shadowSide!==null?T.shadowSide:T.side:A.side=T.shadowSide!==null?T.shadowSide:d[T.side],A.alphaMap=T.alphaMap,A.alphaTest=T.alphaTest,A.map=T.map,A.clipShadows=T.clipShadows,A.clippingPlanes=T.clippingPlanes,A.clipIntersection=T.clipIntersection,A.displacementMap=T.displacementMap,A.displacementScale=T.displacementScale,A.displacementBias=T.displacementBias,A.wireframeLinewidth=T.wireframeLinewidth,A.linewidth=T.linewidth,C.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const D=n.properties.get(A);D.light=C}return A}function _(S,T,C,M,A){if(S.visible===!1)return;if(S.layers.test(T.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&A===Fu)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,S.matrixWorld);const L=e.update(S),F=S.material;if(Array.isArray(F)){const B=L.groups;for(let k=0,H=B.length;k<H;k++){const z=B[k],O=F[z.materialIndex];if(O&&O.visible){const G=b(S,O,M,A);S.onBeforeShadow(n,S,T,C,L,G,z),n.renderBufferDirect(C,null,L,G,S,z),S.onAfterShadow(n,S,T,C,L,G,z)}}}else if(F.visible){const B=b(S,F,M,A);S.onBeforeShadow(n,S,T,C,L,B,null),n.renderBufferDirect(C,null,L,B,S,null),S.onAfterShadow(n,S,T,C,L,B,null)}}const D=S.children;for(let L=0,F=D.length;L<F;L++)_(D[L],T,C,M,A)}function x(S){S.target.removeEventListener("dispose",x);for(const C in c){const M=c[C],A=S.target.uuid;A in M&&(M[A].dispose(),delete M[A])}}}const bct={[nD]:rD,[iD]:oD,[aD]:lD,[Ag]:sD,[rD]:nD,[oD]:iD,[lD]:aD,[sD]:Ag};function _ct(n,e){function t(){let Te=!1;const _t=new Hi;let nt=null;const gt=new Hi(0,0,0,0);return{setMask:function(Lt){nt!==Lt&&!Te&&(n.colorMask(Lt,Lt,Lt,Lt),nt=Lt)},setLocked:function(Lt){Te=Lt},setClear:function(Lt,At,an,_n,lr){lr===!0&&(Lt*=_n,At*=_n,an*=_n),_t.set(Lt,At,an,_n),gt.equals(_t)===!1&&(n.clearColor(Lt,At,an,_n),gt.copy(_t))},reset:function(){Te=!1,nt=null,gt.set(-1,0,0,0)}}}function r(){let Te=!1,_t=!1,nt=null,gt=null,Lt=null;return{setReversed:function(At){if(_t!==At){const an=e.get("EXT_clip_control");_t?an.clipControlEXT(an.LOWER_LEFT_EXT,an.ZERO_TO_ONE_EXT):an.clipControlEXT(an.LOWER_LEFT_EXT,an.NEGATIVE_ONE_TO_ONE_EXT);const _n=Lt;Lt=null,this.setClear(_n)}_t=At},getReversed:function(){return _t},setTest:function(At){At?fe(n.DEPTH_TEST):Ee(n.DEPTH_TEST)},setMask:function(At){nt!==At&&!Te&&(n.depthMask(At),nt=At)},setFunc:function(At){if(_t&&(At=bct[At]),gt!==At){switch(At){case nD:n.depthFunc(n.NEVER);break;case rD:n.depthFunc(n.ALWAYS);break;case iD:n.depthFunc(n.LESS);break;case Ag:n.depthFunc(n.LEQUAL);break;case aD:n.depthFunc(n.EQUAL);break;case sD:n.depthFunc(n.GEQUAL);break;case oD:n.depthFunc(n.GREATER);break;case lD:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}gt=At}},setLocked:function(At){Te=At},setClear:function(At){Lt!==At&&(_t&&(At=1-At),n.clearDepth(At),Lt=At)},reset:function(){Te=!1,nt=null,gt=null,Lt=null,_t=!1}}}function i(){let Te=!1,_t=null,nt=null,gt=null,Lt=null,At=null,an=null,_n=null,lr=null;return{setTest:function(kn){Te||(kn?fe(n.STENCIL_TEST):Ee(n.STENCIL_TEST))},setMask:function(kn){_t!==kn&&!Te&&(n.stencilMask(kn),_t=kn)},setFunc:function(kn,Yr,Zn){(nt!==kn||gt!==Yr||Lt!==Zn)&&(n.stencilFunc(kn,Yr,Zn),nt=kn,gt=Yr,Lt=Zn)},setOp:function(kn,Yr,Zn){(At!==kn||an!==Yr||_n!==Zn)&&(n.stencilOp(kn,Yr,Zn),At=kn,an=Yr,_n=Zn)},setLocked:function(kn){Te=kn},setClear:function(kn){lr!==kn&&(n.clearStencil(kn),lr=kn)},reset:function(){Te=!1,_t=null,nt=null,gt=null,Lt=null,At=null,an=null,_n=null,lr=null}}}const a=new t,s=new r,o=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,m=!1,v=null,g=null,y=null,b=null,_=null,x=null,S=null,T=new ni(0,0,0),C=0,M=!1,A=null,I=null,D=null,L=null,F=null;const B=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,H=0;const z=n.getParameter(n.VERSION);z.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(z)[1]),k=H>=1):z.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),k=H>=2);let O=null,G={};const X=n.getParameter(n.SCISSOR_BOX),J=n.getParameter(n.VIEWPORT),Q=new Hi().fromArray(X),re=new Hi().fromArray(J);function de(Te,_t,nt,gt){const Lt=new Uint8Array(4),At=n.createTexture();n.bindTexture(Te,At),n.texParameteri(Te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let an=0;an<nt;an++)Te===n.TEXTURE_3D||Te===n.TEXTURE_2D_ARRAY?n.texImage3D(_t,0,n.RGBA,1,1,gt,0,n.RGBA,n.UNSIGNED_BYTE,Lt):n.texImage2D(_t+an,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Lt);return At}const le={};le[n.TEXTURE_2D]=de(n.TEXTURE_2D,n.TEXTURE_2D,1),le[n.TEXTURE_CUBE_MAP]=de(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),le[n.TEXTURE_2D_ARRAY]=de(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),le[n.TEXTURE_3D]=de(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),fe(n.DEPTH_TEST),s.setFunc(Ag),De(!1),Ye(IG),fe(n.CULL_FACE),ie(Bf);function fe(Te){u[Te]!==!0&&(n.enable(Te),u[Te]=!0)}function Ee(Te){u[Te]!==!1&&(n.disable(Te),u[Te]=!1)}function Re(Te,_t){return d[Te]!==_t?(n.bindFramebuffer(Te,_t),d[Te]=_t,Te===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=_t),Te===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=_t),!0):!1}function He(Te,_t){let nt=h,gt=!1;if(Te){nt=f.get(_t),nt===void 0&&(nt=[],f.set(_t,nt));const Lt=Te.textures;if(nt.length!==Lt.length||nt[0]!==n.COLOR_ATTACHMENT0){for(let At=0,an=Lt.length;At<an;At++)nt[At]=n.COLOR_ATTACHMENT0+At;nt.length=Lt.length,gt=!0}}else nt[0]!==n.BACK&&(nt[0]=n.BACK,gt=!0);gt&&n.drawBuffers(nt)}function $e(Te){return p!==Te?(n.useProgram(Te),p=Te,!0):!1}const K={[gp]:n.FUNC_ADD,[drt]:n.FUNC_SUBTRACT,[frt]:n.FUNC_REVERSE_SUBTRACT};K[hrt]=n.MIN,K[prt]=n.MAX;const ce={[mrt]:n.ZERO,[vrt]:n.ONE,[grt]:n.SRC_COLOR,[D_]:n.SRC_ALPHA,[Srt]:n.SRC_ALPHA_SATURATE,[wrt]:n.DST_COLOR,[brt]:n.DST_ALPHA,[yrt]:n.ONE_MINUS_SRC_COLOR,[k_]:n.ONE_MINUS_SRC_ALPHA,[xrt]:n.ONE_MINUS_DST_COLOR,[_rt]:n.ONE_MINUS_DST_ALPHA,[Crt]:n.CONSTANT_COLOR,[Mrt]:n.ONE_MINUS_CONSTANT_COLOR,[Trt]:n.CONSTANT_ALPHA,[Art]:n.ONE_MINUS_CONSTANT_ALPHA};function ie(Te,_t,nt,gt,Lt,At,an,_n,lr,kn){if(Te===Bf){m===!0&&(Ee(n.BLEND),m=!1);return}if(m===!1&&(fe(n.BLEND),m=!0),Te!==bie){if(Te!==v||kn!==M){if((g!==gp||_!==gp)&&(n.blendEquation(n.FUNC_ADD),g=gp,_=gp),kn)switch(Te){case Ff:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case RG:n.blendFunc(n.ONE,n.ONE);break;case PG:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case DG:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}else switch(Te){case Ff:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case RG:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case PG:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case DG:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Te);break}y=null,b=null,x=null,S=null,T.set(0,0,0),C=0,v=Te,M=kn}return}Lt=Lt||_t,At=At||nt,an=an||gt,(_t!==g||Lt!==_)&&(n.blendEquationSeparate(K[_t],K[Lt]),g=_t,_=Lt),(nt!==y||gt!==b||At!==x||an!==S)&&(n.blendFuncSeparate(ce[nt],ce[gt],ce[At],ce[an]),y=nt,b=gt,x=At,S=an),(_n.equals(T)===!1||lr!==C)&&(n.blendColor(_n.r,_n.g,_n.b,lr),T.copy(_n),C=lr),v=Te,M=!1}function Ue(Te,_t){Te.side===ml?Ee(n.CULL_FACE):fe(n.CULL_FACE);let nt=Te.side===mo;_t&&(nt=!nt),De(nt),Te.blending===Ff&&Te.transparent===!1?ie(Bf):ie(Te.blending,Te.blendEquation,Te.blendSrc,Te.blendDst,Te.blendEquationAlpha,Te.blendSrcAlpha,Te.blendDstAlpha,Te.blendColor,Te.blendAlpha,Te.premultipliedAlpha),s.setFunc(Te.depthFunc),s.setTest(Te.depthTest),s.setMask(Te.depthWrite),a.setMask(Te.colorWrite);const gt=Te.stencilWrite;o.setTest(gt),gt&&(o.setMask(Te.stencilWriteMask),o.setFunc(Te.stencilFunc,Te.stencilRef,Te.stencilFuncMask),o.setOp(Te.stencilFail,Te.stencilZFail,Te.stencilZPass)),Ve(Te.polygonOffset,Te.polygonOffsetFactor,Te.polygonOffsetUnits),Te.alphaToCoverage===!0?fe(n.SAMPLE_ALPHA_TO_COVERAGE):Ee(n.SAMPLE_ALPHA_TO_COVERAGE)}function De(Te){A!==Te&&(Te?n.frontFace(n.CW):n.frontFace(n.CCW),A=Te)}function Ye(Te){Te!==lrt?(fe(n.CULL_FACE),Te!==I&&(Te===IG?n.cullFace(n.BACK):Te===crt?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ee(n.CULL_FACE),I=Te}function ze(Te){Te!==D&&(k&&n.lineWidth(Te),D=Te)}function Ve(Te,_t,nt){Te?(fe(n.POLYGON_OFFSET_FILL),(L!==_t||F!==nt)&&(n.polygonOffset(_t,nt),L=_t,F=nt)):Ee(n.POLYGON_OFFSET_FILL)}function Je(Te){Te?fe(n.SCISSOR_TEST):Ee(n.SCISSOR_TEST)}function pe(Te){Te===void 0&&(Te=n.TEXTURE0+B-1),O!==Te&&(n.activeTexture(Te),O=Te)}function W(Te,_t,nt){nt===void 0&&(O===null?nt=n.TEXTURE0+B-1:nt=O);let gt=G[nt];gt===void 0&&(gt={type:void 0,texture:void 0},G[nt]=gt),(gt.type!==Te||gt.texture!==_t)&&(O!==nt&&(n.activeTexture(nt),O=nt),n.bindTexture(Te,_t||le[Te]),gt.type=Te,gt.texture=_t)}function Z(){const Te=G[O];Te!==void 0&&Te.type!==void 0&&(n.bindTexture(Te.type,null),Te.type=void 0,Te.texture=void 0)}function ve(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Ne(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Ke(){try{n.texSubImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function mt(){try{n.texSubImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function vt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function Me(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ht(){try{n.texStorage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function st(){try{n.texStorage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function $(){try{n.texImage2D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function ge(){try{n.texImage3D.apply(n,arguments)}catch(Te){console.error("THREE.WebGLState:",Te)}}function he(Te){Q.equals(Te)===!1&&(n.scissor(Te.x,Te.y,Te.z,Te.w),Q.copy(Te))}function Ae(Te){re.equals(Te)===!1&&(n.viewport(Te.x,Te.y,Te.z,Te.w),re.copy(Te))}function ye(Te,_t){let nt=c.get(_t);nt===void 0&&(nt=new WeakMap,c.set(_t,nt));let gt=nt.get(Te);gt===void 0&&(gt=n.getUniformBlockIndex(_t,Te.name),nt.set(Te,gt))}function Se(Te,_t){const gt=c.get(_t).get(Te);l.get(_t)!==gt&&(n.uniformBlockBinding(_t,gt,Te.__bindingPointIndex),l.set(_t,gt))}function ft(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},O=null,G={},d={},f=new WeakMap,h=[],p=null,m=!1,v=null,g=null,y=null,b=null,_=null,x=null,S=null,T=new ni(0,0,0),C=0,M=!1,A=null,I=null,D=null,L=null,F=null,Q.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:fe,disable:Ee,bindFramebuffer:Re,drawBuffers:He,useProgram:$e,setBlending:ie,setMaterial:Ue,setFlipSided:De,setCullFace:Ye,setLineWidth:ze,setPolygonOffset:Ve,setScissorTest:Je,activeTexture:pe,bindTexture:W,unbindTexture:Z,compressedTexImage2D:ve,compressedTexImage3D:Ne,texImage2D:$,texImage3D:ge,updateUBOMapping:ye,uniformBlockBinding:Se,texStorage2D:ht,texStorage3D:st,texSubImage2D:Ke,texSubImage3D:mt,compressedTexSubImage2D:vt,compressedTexSubImage3D:Me,scissor:he,viewport:Ae,reset:ft}}function wct(n,e,t,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Vn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(pe,W){return h?new OffscreenCanvas(pe,W):zM("canvas")}function m(pe,W,Z){let ve=1;const Ne=Je(pe);if((Ne.width>Z||Ne.height>Z)&&(ve=Z/Math.max(Ne.width,Ne.height)),ve<1)if(typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&pe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&pe instanceof ImageBitmap||typeof VideoFrame<"u"&&pe instanceof VideoFrame){const Ke=Math.floor(ve*Ne.width),mt=Math.floor(ve*Ne.height);d===void 0&&(d=p(Ke,mt));const vt=W?p(Ke,mt):d;return vt.width=Ke,vt.height=mt,vt.getContext("2d").drawImage(pe,0,0,Ke,mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ne.width+"x"+Ne.height+") to ("+Ke+"x"+mt+")."),vt}else return"data"in pe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ne.width+"x"+Ne.height+")."),pe;return pe}function v(pe){return pe.generateMipmaps}function g(pe){n.generateMipmap(pe)}function y(pe){return pe.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:pe.isWebGL3DRenderTarget?n.TEXTURE_3D:pe.isWebGLArrayRenderTarget||pe.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function b(pe,W,Z,ve,Ne=!1){if(pe!==null){if(n[pe]!==void 0)return n[pe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+pe+"'")}let Ke=W;if(W===n.RED&&(Z===n.FLOAT&&(Ke=n.R32F),Z===n.HALF_FLOAT&&(Ke=n.R16F),Z===n.UNSIGNED_BYTE&&(Ke=n.R8)),W===n.RED_INTEGER&&(Z===n.UNSIGNED_BYTE&&(Ke=n.R8UI),Z===n.UNSIGNED_SHORT&&(Ke=n.R16UI),Z===n.UNSIGNED_INT&&(Ke=n.R32UI),Z===n.BYTE&&(Ke=n.R8I),Z===n.SHORT&&(Ke=n.R16I),Z===n.INT&&(Ke=n.R32I)),W===n.RG&&(Z===n.FLOAT&&(Ke=n.RG32F),Z===n.HALF_FLOAT&&(Ke=n.RG16F),Z===n.UNSIGNED_BYTE&&(Ke=n.RG8)),W===n.RG_INTEGER&&(Z===n.UNSIGNED_BYTE&&(Ke=n.RG8UI),Z===n.UNSIGNED_SHORT&&(Ke=n.RG16UI),Z===n.UNSIGNED_INT&&(Ke=n.RG32UI),Z===n.BYTE&&(Ke=n.RG8I),Z===n.SHORT&&(Ke=n.RG16I),Z===n.INT&&(Ke=n.RG32I)),W===n.RGB_INTEGER&&(Z===n.UNSIGNED_BYTE&&(Ke=n.RGB8UI),Z===n.UNSIGNED_SHORT&&(Ke=n.RGB16UI),Z===n.UNSIGNED_INT&&(Ke=n.RGB32UI),Z===n.BYTE&&(Ke=n.RGB8I),Z===n.SHORT&&(Ke=n.RGB16I),Z===n.INT&&(Ke=n.RGB32I)),W===n.RGBA_INTEGER&&(Z===n.UNSIGNED_BYTE&&(Ke=n.RGBA8UI),Z===n.UNSIGNED_SHORT&&(Ke=n.RGBA16UI),Z===n.UNSIGNED_INT&&(Ke=n.RGBA32UI),Z===n.BYTE&&(Ke=n.RGBA8I),Z===n.SHORT&&(Ke=n.RGBA16I),Z===n.INT&&(Ke=n.RGBA32I)),W===n.RGB&&Z===n.UNSIGNED_INT_5_9_9_9_REV&&(Ke=n.RGB9_E5),W===n.RGBA){const mt=Ne?BM:ti.getTransfer(ve);Z===n.FLOAT&&(Ke=n.RGBA32F),Z===n.HALF_FLOAT&&(Ke=n.RGBA16F),Z===n.UNSIGNED_BYTE&&(Ke=mt===bi?n.SRGB8_ALPHA8:n.RGBA8),Z===n.UNSIGNED_SHORT_4_4_4_4&&(Ke=n.RGBA4),Z===n.UNSIGNED_SHORT_5_5_5_1&&(Ke=n.RGB5_A1)}return(Ke===n.R16F||Ke===n.R32F||Ke===n.RG16F||Ke===n.RG32F||Ke===n.RGBA16F||Ke===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ke}function _(pe,W){let Z;return pe?W===null||W===_l||W===Rg?Z=n.DEPTH24_STENCIL8:W===uc?Z=n.DEPTH32F_STENCIL8:W===L_&&(Z=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):W===null||W===_l||W===Rg?Z=n.DEPTH_COMPONENT24:W===uc?Z=n.DEPTH_COMPONENT32F:W===L_&&(Z=n.DEPTH_COMPONENT16),Z}function x(pe,W){return v(pe)===!0||pe.isFramebufferTexture&&pe.minFilter!==Vo&&pe.minFilter!==Xc?Math.log2(Math.max(W.width,W.height))+1:pe.mipmaps!==void 0&&pe.mipmaps.length>0?pe.mipmaps.length:pe.isCompressedTexture&&Array.isArray(pe.image)?W.mipmaps.length:1}function S(pe){const W=pe.target;W.removeEventListener("dispose",S),C(W),W.isVideoTexture&&u.delete(W)}function T(pe){const W=pe.target;W.removeEventListener("dispose",T),A(W)}function C(pe){const W=r.get(pe);if(W.__webglInit===void 0)return;const Z=pe.source,ve=f.get(Z);if(ve){const Ne=ve[W.__cacheKey];Ne.usedTimes--,Ne.usedTimes===0&&M(pe),Object.keys(ve).length===0&&f.delete(Z)}r.remove(pe)}function M(pe){const W=r.get(pe);n.deleteTexture(W.__webglTexture);const Z=pe.source,ve=f.get(Z);delete ve[W.__cacheKey],s.memory.textures--}function A(pe){const W=r.get(pe);if(pe.depthTexture&&(pe.depthTexture.dispose(),r.remove(pe.depthTexture)),pe.isWebGLCubeRenderTarget)for(let ve=0;ve<6;ve++){if(Array.isArray(W.__webglFramebuffer[ve]))for(let Ne=0;Ne<W.__webglFramebuffer[ve].length;Ne++)n.deleteFramebuffer(W.__webglFramebuffer[ve][Ne]);else n.deleteFramebuffer(W.__webglFramebuffer[ve]);W.__webglDepthbuffer&&n.deleteRenderbuffer(W.__webglDepthbuffer[ve])}else{if(Array.isArray(W.__webglFramebuffer))for(let ve=0;ve<W.__webglFramebuffer.length;ve++)n.deleteFramebuffer(W.__webglFramebuffer[ve]);else n.deleteFramebuffer(W.__webglFramebuffer);if(W.__webglDepthbuffer&&n.deleteRenderbuffer(W.__webglDepthbuffer),W.__webglMultisampledFramebuffer&&n.deleteFramebuffer(W.__webglMultisampledFramebuffer),W.__webglColorRenderbuffer)for(let ve=0;ve<W.__webglColorRenderbuffer.length;ve++)W.__webglColorRenderbuffer[ve]&&n.deleteRenderbuffer(W.__webglColorRenderbuffer[ve]);W.__webglDepthRenderbuffer&&n.deleteRenderbuffer(W.__webglDepthRenderbuffer)}const Z=pe.textures;for(let ve=0,Ne=Z.length;ve<Ne;ve++){const Ke=r.get(Z[ve]);Ke.__webglTexture&&(n.deleteTexture(Ke.__webglTexture),s.memory.textures--),r.remove(Z[ve])}r.remove(pe)}let I=0;function D(){I=0}function L(){const pe=I;return pe>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+pe+" texture units while this GPU supports only "+i.maxTextures),I+=1,pe}function F(pe){const W=[];return W.push(pe.wrapS),W.push(pe.wrapT),W.push(pe.wrapR||0),W.push(pe.magFilter),W.push(pe.minFilter),W.push(pe.anisotropy),W.push(pe.internalFormat),W.push(pe.format),W.push(pe.type),W.push(pe.generateMipmaps),W.push(pe.premultiplyAlpha),W.push(pe.flipY),W.push(pe.unpackAlignment),W.push(pe.colorSpace),W.join()}function B(pe,W){const Z=r.get(pe);if(pe.isVideoTexture&&ze(pe),pe.isRenderTargetTexture===!1&&pe.version>0&&Z.__version!==pe.version){const ve=pe.image;if(ve===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ve.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(Z,pe,W);return}}t.bindTexture(n.TEXTURE_2D,Z.__webglTexture,n.TEXTURE0+W)}function k(pe,W){const Z=r.get(pe);if(pe.version>0&&Z.__version!==pe.version){re(Z,pe,W);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Z.__webglTexture,n.TEXTURE0+W)}function H(pe,W){const Z=r.get(pe);if(pe.version>0&&Z.__version!==pe.version){re(Z,pe,W);return}t.bindTexture(n.TEXTURE_3D,Z.__webglTexture,n.TEXTURE0+W)}function z(pe,W){const Z=r.get(pe);if(pe.version>0&&Z.__version!==pe.version){de(Z,pe,W);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Z.__webglTexture,n.TEXTURE0+W)}const O={[dD]:n.REPEAT,[Op]:n.CLAMP_TO_EDGE,[fD]:n.MIRRORED_REPEAT},G={[Vo]:n.NEAREST,[Brt]:n.NEAREST_MIPMAP_NEAREST,[kS]:n.NEAREST_MIPMAP_LINEAR,[Xc]:n.LINEAR,[lI]:n.LINEAR_MIPMAP_NEAREST,[Bp]:n.LINEAR_MIPMAP_LINEAR},X={[Vrt]:n.NEVER,[Yrt]:n.ALWAYS,[$rt]:n.LESS,[Pie]:n.LEQUAL,[Grt]:n.EQUAL,[Krt]:n.GEQUAL,[Wrt]:n.GREATER,[qrt]:n.NOTEQUAL};function J(pe,W){if(W.type===uc&&e.has("OES_texture_float_linear")===!1&&(W.magFilter===Xc||W.magFilter===lI||W.magFilter===kS||W.magFilter===Bp||W.minFilter===Xc||W.minFilter===lI||W.minFilter===kS||W.minFilter===Bp)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(pe,n.TEXTURE_WRAP_S,O[W.wrapS]),n.texParameteri(pe,n.TEXTURE_WRAP_T,O[W.wrapT]),(pe===n.TEXTURE_3D||pe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(pe,n.TEXTURE_WRAP_R,O[W.wrapR]),n.texParameteri(pe,n.TEXTURE_MAG_FILTER,G[W.magFilter]),n.texParameteri(pe,n.TEXTURE_MIN_FILTER,G[W.minFilter]),W.compareFunction&&(n.texParameteri(pe,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(pe,n.TEXTURE_COMPARE_FUNC,X[W.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(W.magFilter===Vo||W.minFilter!==kS&&W.minFilter!==Bp||W.type===uc&&e.has("OES_texture_float_linear")===!1)return;if(W.anisotropy>1||r.get(W).__currentAnisotropy){const Z=e.get("EXT_texture_filter_anisotropic");n.texParameterf(pe,Z.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),r.get(W).__currentAnisotropy=W.anisotropy}}}function Q(pe,W){let Z=!1;pe.__webglInit===void 0&&(pe.__webglInit=!0,W.addEventListener("dispose",S));const ve=W.source;let Ne=f.get(ve);Ne===void 0&&(Ne={},f.set(ve,Ne));const Ke=F(W);if(Ke!==pe.__cacheKey){Ne[Ke]===void 0&&(Ne[Ke]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,Z=!0),Ne[Ke].usedTimes++;const mt=Ne[pe.__cacheKey];mt!==void 0&&(Ne[pe.__cacheKey].usedTimes--,mt.usedTimes===0&&M(W)),pe.__cacheKey=Ke,pe.__webglTexture=Ne[Ke].texture}return Z}function re(pe,W,Z){let ve=n.TEXTURE_2D;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(ve=n.TEXTURE_2D_ARRAY),W.isData3DTexture&&(ve=n.TEXTURE_3D);const Ne=Q(pe,W),Ke=W.source;t.bindTexture(ve,pe.__webglTexture,n.TEXTURE0+Z);const mt=r.get(Ke);if(Ke.version!==mt.__version||Ne===!0){t.activeTexture(n.TEXTURE0+Z);const vt=ti.getPrimaries(ti.workingColorSpace),Me=W.colorSpace===gf?null:ti.getPrimaries(W.colorSpace),ht=W.colorSpace===gf||vt===Me?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,W.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,W.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ht);let st=m(W.image,!1,i.maxTextureSize);st=Ve(W,st);const $=a.convert(W.format,W.colorSpace),ge=a.convert(W.type);let he=b(W.internalFormat,$,ge,W.colorSpace,W.isVideoTexture);J(ve,W);let Ae;const ye=W.mipmaps,Se=W.isVideoTexture!==!0,ft=mt.__version===void 0||Ne===!0,Te=Ke.dataReady,_t=x(W,st);if(W.isDepthTexture)he=_(W.format===Pg,W.type),ft&&(Se?t.texStorage2D(n.TEXTURE_2D,1,he,st.width,st.height):t.texImage2D(n.TEXTURE_2D,0,he,st.width,st.height,0,$,ge,null));else if(W.isDataTexture)if(ye.length>0){Se&&ft&&t.texStorage2D(n.TEXTURE_2D,_t,he,ye[0].width,ye[0].height);for(let nt=0,gt=ye.length;nt<gt;nt++)Ae=ye[nt],Se?Te&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Ae.width,Ae.height,$,ge,Ae.data):t.texImage2D(n.TEXTURE_2D,nt,he,Ae.width,Ae.height,0,$,ge,Ae.data);W.generateMipmaps=!1}else Se?(ft&&t.texStorage2D(n.TEXTURE_2D,_t,he,st.width,st.height),Te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,st.width,st.height,$,ge,st.data)):t.texImage2D(n.TEXTURE_2D,0,he,st.width,st.height,0,$,ge,st.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){Se&&ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,he,ye[0].width,ye[0].height,st.depth);for(let nt=0,gt=ye.length;nt<gt;nt++)if(Ae=ye[nt],W.format!==Us)if($!==null)if(Se){if(Te)if(W.layerUpdates.size>0){const Lt=tW(Ae.width,Ae.height,W.format,W.type);for(const At of W.layerUpdates){const an=Ae.data.subarray(At*Lt/Ae.data.BYTES_PER_ELEMENT,(At+1)*Lt/Ae.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,At,Ae.width,Ae.height,1,$,an)}W.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Ae.width,Ae.height,st.depth,$,Ae.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,nt,he,Ae.width,Ae.height,st.depth,0,Ae.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Se?Te&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Ae.width,Ae.height,st.depth,$,ge,Ae.data):t.texImage3D(n.TEXTURE_2D_ARRAY,nt,he,Ae.width,Ae.height,st.depth,0,$,ge,Ae.data)}else{Se&&ft&&t.texStorage2D(n.TEXTURE_2D,_t,he,ye[0].width,ye[0].height);for(let nt=0,gt=ye.length;nt<gt;nt++)Ae=ye[nt],W.format!==Us?$!==null?Se?Te&&t.compressedTexSubImage2D(n.TEXTURE_2D,nt,0,0,Ae.width,Ae.height,$,Ae.data):t.compressedTexImage2D(n.TEXTURE_2D,nt,he,Ae.width,Ae.height,0,Ae.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Se?Te&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Ae.width,Ae.height,$,ge,Ae.data):t.texImage2D(n.TEXTURE_2D,nt,he,Ae.width,Ae.height,0,$,ge,Ae.data)}else if(W.isDataArrayTexture)if(Se){if(ft&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,he,st.width,st.height,st.depth),Te)if(W.layerUpdates.size>0){const nt=tW(st.width,st.height,W.format,W.type);for(const gt of W.layerUpdates){const Lt=st.data.subarray(gt*nt/st.data.BYTES_PER_ELEMENT,(gt+1)*nt/st.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,gt,st.width,st.height,1,$,ge,Lt)}W.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,st.width,st.height,st.depth,$,ge,st.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,he,st.width,st.height,st.depth,0,$,ge,st.data);else if(W.isData3DTexture)Se?(ft&&t.texStorage3D(n.TEXTURE_3D,_t,he,st.width,st.height,st.depth),Te&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,st.width,st.height,st.depth,$,ge,st.data)):t.texImage3D(n.TEXTURE_3D,0,he,st.width,st.height,st.depth,0,$,ge,st.data);else if(W.isFramebufferTexture){if(ft)if(Se)t.texStorage2D(n.TEXTURE_2D,_t,he,st.width,st.height);else{let nt=st.width,gt=st.height;for(let Lt=0;Lt<_t;Lt++)t.texImage2D(n.TEXTURE_2D,Lt,he,nt,gt,0,$,ge,null),nt>>=1,gt>>=1}}else if(ye.length>0){if(Se&&ft){const nt=Je(ye[0]);t.texStorage2D(n.TEXTURE_2D,_t,he,nt.width,nt.height)}for(let nt=0,gt=ye.length;nt<gt;nt++)Ae=ye[nt],Se?Te&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,$,ge,Ae):t.texImage2D(n.TEXTURE_2D,nt,he,$,ge,Ae);W.generateMipmaps=!1}else if(Se){if(ft){const nt=Je(st);t.texStorage2D(n.TEXTURE_2D,_t,he,nt.width,nt.height)}Te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,$,ge,st)}else t.texImage2D(n.TEXTURE_2D,0,he,$,ge,st);v(W)&&g(ve),mt.__version=Ke.version,W.onUpdate&&W.onUpdate(W)}pe.__version=W.version}function de(pe,W,Z){if(W.image.length!==6)return;const ve=Q(pe,W),Ne=W.source;t.bindTexture(n.TEXTURE_CUBE_MAP,pe.__webglTexture,n.TEXTURE0+Z);const Ke=r.get(Ne);if(Ne.version!==Ke.__version||ve===!0){t.activeTexture(n.TEXTURE0+Z);const mt=ti.getPrimaries(ti.workingColorSpace),vt=W.colorSpace===gf?null:ti.getPrimaries(W.colorSpace),Me=W.colorSpace===gf||mt===vt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,W.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,W.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Me);const ht=W.isCompressedTexture||W.image[0].isCompressedTexture,st=W.image[0]&&W.image[0].isDataTexture,$=[];for(let gt=0;gt<6;gt++)!ht&&!st?$[gt]=m(W.image[gt],!0,i.maxCubemapSize):$[gt]=st?W.image[gt].image:W.image[gt],$[gt]=Ve(W,$[gt]);const ge=$[0],he=a.convert(W.format,W.colorSpace),Ae=a.convert(W.type),ye=b(W.internalFormat,he,Ae,W.colorSpace),Se=W.isVideoTexture!==!0,ft=Ke.__version===void 0||ve===!0,Te=Ne.dataReady;let _t=x(W,ge);J(n.TEXTURE_CUBE_MAP,W);let nt;if(ht){Se&&ft&&t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,ye,ge.width,ge.height);for(let gt=0;gt<6;gt++){nt=$[gt].mipmaps;for(let Lt=0;Lt<nt.length;Lt++){const At=nt[Lt];W.format!==Us?he!==null?Se?Te&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,0,0,At.width,At.height,he,At.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,ye,At.width,At.height,0,At.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Se?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,0,0,At.width,At.height,he,Ae,At.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,ye,At.width,At.height,0,he,Ae,At.data)}}}else{if(nt=W.mipmaps,Se&&ft){nt.length>0&&_t++;const gt=Je($[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,ye,gt.width,gt.height)}for(let gt=0;gt<6;gt++)if(st){Se?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,0,0,$[gt].width,$[gt].height,he,Ae,$[gt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,ye,$[gt].width,$[gt].height,0,he,Ae,$[gt].data);for(let Lt=0;Lt<nt.length;Lt++){const an=nt[Lt].image[gt].image;Se?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,0,0,an.width,an.height,he,Ae,an.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,ye,an.width,an.height,0,he,Ae,an.data)}}else{Se?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,0,0,he,Ae,$[gt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,ye,he,Ae,$[gt]);for(let Lt=0;Lt<nt.length;Lt++){const At=nt[Lt];Se?Te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,0,0,he,Ae,At.image[gt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,ye,he,Ae,At.image[gt])}}}v(W)&&g(n.TEXTURE_CUBE_MAP),Ke.__version=Ne.version,W.onUpdate&&W.onUpdate(W)}pe.__version=W.version}function le(pe,W,Z,ve,Ne,Ke){const mt=a.convert(Z.format,Z.colorSpace),vt=a.convert(Z.type),Me=b(Z.internalFormat,mt,vt,Z.colorSpace),ht=r.get(W),st=r.get(Z);if(st.__renderTarget=W,!ht.__hasExternalTextures){const $=Math.max(1,W.width>>Ke),ge=Math.max(1,W.height>>Ke);Ne===n.TEXTURE_3D||Ne===n.TEXTURE_2D_ARRAY?t.texImage3D(Ne,Ke,Me,$,ge,W.depth,0,mt,vt,null):t.texImage2D(Ne,Ke,Me,$,ge,0,mt,vt,null)}t.bindFramebuffer(n.FRAMEBUFFER,pe),Ye(W)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ve,Ne,st.__webglTexture,0,De(W)):(Ne===n.TEXTURE_2D||Ne>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ne<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ve,Ne,st.__webglTexture,Ke),t.bindFramebuffer(n.FRAMEBUFFER,null)}function fe(pe,W,Z){if(n.bindRenderbuffer(n.RENDERBUFFER,pe),W.depthBuffer){const ve=W.depthTexture,Ne=ve&&ve.isDepthTexture?ve.type:null,Ke=_(W.stencilBuffer,Ne),mt=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,vt=De(W);Ye(W)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,vt,Ke,W.width,W.height):Z?n.renderbufferStorageMultisample(n.RENDERBUFFER,vt,Ke,W.width,W.height):n.renderbufferStorage(n.RENDERBUFFER,Ke,W.width,W.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,mt,n.RENDERBUFFER,pe)}else{const ve=W.textures;for(let Ne=0;Ne<ve.length;Ne++){const Ke=ve[Ne],mt=a.convert(Ke.format,Ke.colorSpace),vt=a.convert(Ke.type),Me=b(Ke.internalFormat,mt,vt,Ke.colorSpace),ht=De(W);Z&&Ye(W)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ht,Me,W.width,W.height):Ye(W)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ht,Me,W.width,W.height):n.renderbufferStorage(n.RENDERBUFFER,Me,W.width,W.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ee(pe,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,pe),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ve=r.get(W.depthTexture);ve.__renderTarget=W,(!ve.__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),B(W.depthTexture,0);const Ne=ve.__webglTexture,Ke=De(W);if(W.depthTexture.format===Qp)Ye(W)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0,Ke):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ne,0);else if(W.depthTexture.format===Pg)Ye(W)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0,Ke):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ne,0);else throw new Error("Unknown depthTexture format")}function Re(pe){const W=r.get(pe),Z=pe.isWebGLCubeRenderTarget===!0;if(W.__boundDepthTexture!==pe.depthTexture){const ve=pe.depthTexture;if(W.__depthDisposeCallback&&W.__depthDisposeCallback(),ve){const Ne=()=>{delete W.__boundDepthTexture,delete W.__depthDisposeCallback,ve.removeEventListener("dispose",Ne)};ve.addEventListener("dispose",Ne),W.__depthDisposeCallback=Ne}W.__boundDepthTexture=ve}if(pe.depthTexture&&!W.__autoAllocateDepthBuffer){if(Z)throw new Error("target.depthTexture not supported in Cube render targets");Ee(W.__webglFramebuffer,pe)}else if(Z){W.__webglDepthbuffer=[];for(let ve=0;ve<6;ve++)if(t.bindFramebuffer(n.FRAMEBUFFER,W.__webglFramebuffer[ve]),W.__webglDepthbuffer[ve]===void 0)W.__webglDepthbuffer[ve]=n.createRenderbuffer(),fe(W.__webglDepthbuffer[ve],pe,!1);else{const Ne=pe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ke=W.__webglDepthbuffer[ve];n.bindRenderbuffer(n.RENDERBUFFER,Ke),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ne,n.RENDERBUFFER,Ke)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,W.__webglFramebuffer),W.__webglDepthbuffer===void 0)W.__webglDepthbuffer=n.createRenderbuffer(),fe(W.__webglDepthbuffer,pe,!1);else{const ve=pe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ne=W.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ne),n.framebufferRenderbuffer(n.FRAMEBUFFER,ve,n.RENDERBUFFER,Ne)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function He(pe,W,Z){const ve=r.get(pe);W!==void 0&&le(ve.__webglFramebuffer,pe,pe.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Z!==void 0&&Re(pe)}function $e(pe){const W=pe.texture,Z=r.get(pe),ve=r.get(W);pe.addEventListener("dispose",T);const Ne=pe.textures,Ke=pe.isWebGLCubeRenderTarget===!0,mt=Ne.length>1;if(mt||(ve.__webglTexture===void 0&&(ve.__webglTexture=n.createTexture()),ve.__version=W.version,s.memory.textures++),Ke){Z.__webglFramebuffer=[];for(let vt=0;vt<6;vt++)if(W.mipmaps&&W.mipmaps.length>0){Z.__webglFramebuffer[vt]=[];for(let Me=0;Me<W.mipmaps.length;Me++)Z.__webglFramebuffer[vt][Me]=n.createFramebuffer()}else Z.__webglFramebuffer[vt]=n.createFramebuffer()}else{if(W.mipmaps&&W.mipmaps.length>0){Z.__webglFramebuffer=[];for(let vt=0;vt<W.mipmaps.length;vt++)Z.__webglFramebuffer[vt]=n.createFramebuffer()}else Z.__webglFramebuffer=n.createFramebuffer();if(mt)for(let vt=0,Me=Ne.length;vt<Me;vt++){const ht=r.get(Ne[vt]);ht.__webglTexture===void 0&&(ht.__webglTexture=n.createTexture(),s.memory.textures++)}if(pe.samples>0&&Ye(pe)===!1){Z.__webglMultisampledFramebuffer=n.createFramebuffer(),Z.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Z.__webglMultisampledFramebuffer);for(let vt=0;vt<Ne.length;vt++){const Me=Ne[vt];Z.__webglColorRenderbuffer[vt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Z.__webglColorRenderbuffer[vt]);const ht=a.convert(Me.format,Me.colorSpace),st=a.convert(Me.type),$=b(Me.internalFormat,ht,st,Me.colorSpace,pe.isXRRenderTarget===!0),ge=De(pe);n.renderbufferStorageMultisample(n.RENDERBUFFER,ge,$,pe.width,pe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+vt,n.RENDERBUFFER,Z.__webglColorRenderbuffer[vt])}n.bindRenderbuffer(n.RENDERBUFFER,null),pe.depthBuffer&&(Z.__webglDepthRenderbuffer=n.createRenderbuffer(),fe(Z.__webglDepthRenderbuffer,pe,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ke){t.bindTexture(n.TEXTURE_CUBE_MAP,ve.__webglTexture),J(n.TEXTURE_CUBE_MAP,W);for(let vt=0;vt<6;vt++)if(W.mipmaps&&W.mipmaps.length>0)for(let Me=0;Me<W.mipmaps.length;Me++)le(Z.__webglFramebuffer[vt][Me],pe,W,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,Me);else le(Z.__webglFramebuffer[vt],pe,W,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0);v(W)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(mt){for(let vt=0,Me=Ne.length;vt<Me;vt++){const ht=Ne[vt],st=r.get(ht);t.bindTexture(n.TEXTURE_2D,st.__webglTexture),J(n.TEXTURE_2D,ht),le(Z.__webglFramebuffer,pe,ht,n.COLOR_ATTACHMENT0+vt,n.TEXTURE_2D,0),v(ht)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let vt=n.TEXTURE_2D;if((pe.isWebGL3DRenderTarget||pe.isWebGLArrayRenderTarget)&&(vt=pe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(vt,ve.__webglTexture),J(vt,W),W.mipmaps&&W.mipmaps.length>0)for(let Me=0;Me<W.mipmaps.length;Me++)le(Z.__webglFramebuffer[Me],pe,W,n.COLOR_ATTACHMENT0,vt,Me);else le(Z.__webglFramebuffer,pe,W,n.COLOR_ATTACHMENT0,vt,0);v(W)&&g(vt),t.unbindTexture()}pe.depthBuffer&&Re(pe)}function K(pe){const W=pe.textures;for(let Z=0,ve=W.length;Z<ve;Z++){const Ne=W[Z];if(v(Ne)){const Ke=y(pe),mt=r.get(Ne).__webglTexture;t.bindTexture(Ke,mt),g(Ke),t.unbindTexture()}}}const ce=[],ie=[];function Ue(pe){if(pe.samples>0){if(Ye(pe)===!1){const W=pe.textures,Z=pe.width,ve=pe.height;let Ne=n.COLOR_BUFFER_BIT;const Ke=pe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,mt=r.get(pe),vt=W.length>1;if(vt)for(let Me=0;Me<W.length;Me++)t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Me,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Me,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let Me=0;Me<W.length;Me++){if(pe.resolveDepthBuffer&&(pe.depthBuffer&&(Ne|=n.DEPTH_BUFFER_BIT),pe.stencilBuffer&&pe.resolveStencilBuffer&&(Ne|=n.STENCIL_BUFFER_BIT)),vt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,mt.__webglColorRenderbuffer[Me]);const ht=r.get(W[Me]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ht,0)}n.blitFramebuffer(0,0,Z,ve,0,0,Z,ve,Ne,n.NEAREST),l===!0&&(ce.length=0,ie.length=0,ce.push(n.COLOR_ATTACHMENT0+Me),pe.depthBuffer&&pe.resolveDepthBuffer===!1&&(ce.push(Ke),ie.push(Ke),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ie)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ce))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),vt)for(let Me=0;Me<W.length;Me++){t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Me,n.RENDERBUFFER,mt.__webglColorRenderbuffer[Me]);const ht=r.get(W[Me]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Me,n.TEXTURE_2D,ht,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(pe.depthBuffer&&pe.resolveDepthBuffer===!1&&l){const W=pe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[W])}}}function De(pe){return Math.min(i.maxSamples,pe.samples)}function Ye(pe){const W=r.get(pe);return pe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function ze(pe){const W=s.render.frame;u.get(pe)!==W&&(u.set(pe,W),pe.update())}function Ve(pe,W){const Z=pe.colorSpace,ve=pe.format,Ne=pe.type;return pe.isCompressedTexture===!0||pe.isVideoTexture===!0||Z!==Dg&&Z!==gf&&(ti.getTransfer(Z)===bi?(ve!==Us||Ne!==cu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Z)),W}function Je(pe){return typeof HTMLImageElement<"u"&&pe instanceof HTMLImageElement?(c.width=pe.naturalWidth||pe.width,c.height=pe.naturalHeight||pe.height):typeof VideoFrame<"u"&&pe instanceof VideoFrame?(c.width=pe.displayWidth,c.height=pe.displayHeight):(c.width=pe.width,c.height=pe.height),c}this.allocateTextureUnit=L,this.resetTextureUnits=D,this.setTexture2D=B,this.setTexture2DArray=k,this.setTexture3D=H,this.setTextureCube=z,this.rebindTextures=He,this.setupRenderTarget=$e,this.updateRenderTargetMipmap=K,this.updateMultisampleRenderTarget=Ue,this.setupDepthRenderbuffer=Re,this.setupFrameBufferTexture=le,this.useMultisampledRTT=Ye}function jie(n,e){function t(r,i=gf){let a;const s=ti.getTransfer(i);if(r===cu)return n.UNSIGNED_BYTE;if(r===sN)return n.UNSIGNED_SHORT_4_4_4_4;if(r===oN)return n.UNSIGNED_SHORT_5_5_5_1;if(r===Cie)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===xie)return n.BYTE;if(r===Sie)return n.SHORT;if(r===L_)return n.UNSIGNED_SHORT;if(r===aN)return n.INT;if(r===_l)return n.UNSIGNED_INT;if(r===uc)return n.FLOAT;if(r===vy)return n.HALF_FLOAT;if(r===Mie)return n.ALPHA;if(r===Tie)return n.RGB;if(r===Us)return n.RGBA;if(r===Aie)return n.LUMINANCE;if(r===Eie)return n.LUMINANCE_ALPHA;if(r===Qp)return n.DEPTH_COMPONENT;if(r===Pg)return n.DEPTH_STENCIL;if(r===Iie)return n.RED;if(r===_A)return n.RED_INTEGER;if(r===lN)return n.RG;if(r===cN)return n.RG_INTEGER;if(r===Vv)return n.RGBA_INTEGER;if(r===tC||r===nC||r===rC||r===iC)if(s===bi)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===tC)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===nC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===rC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===iC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===tC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===nC)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===rC)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===iC)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===hD||r===pD||r===mD||r===vD)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===hD)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===pD)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===mD)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===vD)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===gD||r===yD||r===bD)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===gD||r===yD)return s===bi?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===bD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===_D||r===wD||r===xD||r===SD||r===CD||r===MD||r===TD||r===AD||r===ED||r===ID||r===RD||r===PD||r===DD||r===kD)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===_D)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===wD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===xD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===SD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===CD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===MD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===TD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===AD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===ED)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===ID)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===RD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===PD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===DD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===kD)return s===bi?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===aC||r===LD||r===ND)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===aC)return s===bi?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===LD)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===ND)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===Rie||r===OD||r===BD||r===FD)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===aC)return a.COMPRESSED_RED_RGTC1_EXT;if(r===OD)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===BD)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===FD)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Rg?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const xct={type:"move"};class NI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ZS,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ZS,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new tt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new tt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ZS,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new tt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new tt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const v=t.getJointPose(m,r),g=this._getHandJoint(c,m);v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(xct)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new ZS;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const Sct=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Cct=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Mct{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Ws,a=e.properties.get(i);a.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new Go({vertexShader:Sct,fragmentShader:Cct,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new aa(new Lg(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Tct extends Om{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=new Mct,v=t.getContextAttributes();let g=null,y=null;const b=[],_=[],x=new Vn;let S=null;const T=new hl;T.viewport=new Hi;const C=new hl;C.viewport=new Hi;const M=[T,C],A=new Yit;let I=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let de=b[re];return de===void 0&&(de=new NI,b[re]=de),de.getTargetRaySpace()},this.getControllerGrip=function(re){let de=b[re];return de===void 0&&(de=new NI,b[re]=de),de.getGripSpace()},this.getHand=function(re){let de=b[re];return de===void 0&&(de=new NI,b[re]=de),de.getHandSpace()};function L(re){const de=_.indexOf(re.inputSource);if(de===-1)return;const le=b[de];le!==void 0&&(le.update(re.inputSource,re.frame,c||s),le.dispatchEvent({type:re.type,data:re.inputSource}))}function F(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",F),i.removeEventListener("inputsourceschange",B);for(let re=0;re<b.length;re++){const de=_[re];de!==null&&(_[re]=null,b[re].disconnect(de))}I=null,D=null,m.reset(),e.setRenderTarget(g),h=null,f=null,d=null,i=null,y=null,Q.stop(),r.isPresenting=!1,e.setPixelRatio(S),e.setSize(x.width,x.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){a=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){o=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(re){c=re},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(re){if(i=re,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",F),i.addEventListener("inputsourceschange",B),v.xrCompatible!==!0&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(x),i.renderState.layers===void 0){const de={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,t,de),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new uh(h.framebufferWidth,h.framebufferHeight,{format:Us,type:cu,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let de=null,le=null,fe=null;v.depth&&(fe=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,de=v.stencil?Pg:Qp,le=v.stencil?Rg:_l);const Ee={colorFormat:t.RGBA8,depthFormat:fe,scaleFactor:a};d=new XRWebGLBinding(i,t),f=d.createProjectionLayer(Ee),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),y=new uh(f.textureWidth,f.textureHeight,{format:Us,type:cu,depthTexture:new fN(f.textureWidth,f.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,de),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(o),Q.setContext(i),Q.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function B(re){for(let de=0;de<re.removed.length;de++){const le=re.removed[de],fe=_.indexOf(le);fe>=0&&(_[fe]=null,b[fe].disconnect(le))}for(let de=0;de<re.added.length;de++){const le=re.added[de];let fe=_.indexOf(le);if(fe===-1){for(let Re=0;Re<b.length;Re++)if(Re>=_.length){_.push(le),fe=Re;break}else if(_[Re]===null){_[Re]=le,fe=Re;break}if(fe===-1)break}const Ee=b[fe];Ee&&Ee.connect(le)}}const k=new tt,H=new tt;function z(re,de,le){k.setFromMatrixPosition(de.matrixWorld),H.setFromMatrixPosition(le.matrixWorld);const fe=k.distanceTo(H),Ee=de.projectionMatrix.elements,Re=le.projectionMatrix.elements,He=Ee[14]/(Ee[10]-1),$e=Ee[14]/(Ee[10]+1),K=(Ee[9]+1)/Ee[5],ce=(Ee[9]-1)/Ee[5],ie=(Ee[8]-1)/Ee[0],Ue=(Re[8]+1)/Re[0],De=He*ie,Ye=He*Ue,ze=fe/(-ie+Ue),Ve=ze*-ie;if(de.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Ve),re.translateZ(ze),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert(),Ee[10]===-1)re.projectionMatrix.copy(de.projectionMatrix),re.projectionMatrixInverse.copy(de.projectionMatrixInverse);else{const Je=He+ze,pe=$e+ze,W=De-Ve,Z=Ye+(fe-Ve),ve=K*$e/pe*Je,Ne=ce*$e/pe*Je;re.projectionMatrix.makePerspective(W,Z,ve,Ne,Je,pe),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}}function O(re,de){de===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(de.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(i===null)return;let de=re.near,le=re.far;m.texture!==null&&(m.depthNear>0&&(de=m.depthNear),m.depthFar>0&&(le=m.depthFar)),A.near=C.near=T.near=de,A.far=C.far=T.far=le,(I!==A.near||D!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),I=A.near,D=A.far),T.layers.mask=re.layers.mask|2,C.layers.mask=re.layers.mask|4,A.layers.mask=T.layers.mask|C.layers.mask;const fe=re.parent,Ee=A.cameras;O(A,fe);for(let Re=0;Re<Ee.length;Re++)O(Ee[Re],fe);Ee.length===2?z(A,T,C):A.projectionMatrix.copy(T.projectionMatrix),G(re,A,fe)};function G(re,de,le){le===null?re.matrix.copy(de.matrixWorld):(re.matrix.copy(le.matrixWorld),re.matrix.invert(),re.matrix.multiply(de.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(de.projectionMatrix),re.projectionMatrixInverse.copy(de.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=N_*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(re){l=re,f!==null&&(f.fixedFoveation=re),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=re)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(A)};let X=null;function J(re,de){if(u=de.getViewerPose(c||s),p=de,u!==null){const le=u.views;h!==null&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let fe=!1;le.length!==A.cameras.length&&(A.cameras.length=0,fe=!0);for(let Re=0;Re<le.length;Re++){const He=le[Re];let $e=null;if(h!==null)$e=h.getViewport(He);else{const ce=d.getViewSubImage(f,He);$e=ce.viewport,Re===0&&(e.setRenderTargetTextures(y,ce.colorTexture,f.ignoreDepthValues?void 0:ce.depthStencilTexture),e.setRenderTarget(y))}let K=M[Re];K===void 0&&(K=new hl,K.layers.enable(Re),K.viewport=new Hi,M[Re]=K),K.matrix.fromArray(He.transform.matrix),K.matrix.decompose(K.position,K.quaternion,K.scale),K.projectionMatrix.fromArray(He.projectionMatrix),K.projectionMatrixInverse.copy(K.projectionMatrix).invert(),K.viewport.set($e.x,$e.y,$e.width,$e.height),Re===0&&(A.matrix.copy(K.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),fe===!0&&A.cameras.push(K)}const Ee=i.enabledFeatures;if(Ee&&Ee.includes("depth-sensing")){const Re=d.getDepthInformation(le[0]);Re&&Re.isValid&&Re.texture&&m.init(e,Re,i.renderState)}}for(let le=0;le<b.length;le++){const fe=_[le],Ee=b[le];fe!==null&&Ee!==void 0&&Ee.update(fe,de,c||s)}X&&X(re,de),de.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:de}),p=null}const Q=new Wie;Q.setAnimationLoop(J),this.setAnimationLoop=function(re){X=re},this.dispose=function(){}}}const rp=new gd,Act=new ur;function Ect(n,e){function t(v,g){v.matrixAutoUpdate===!0&&v.updateMatrix(),g.value.copy(v.matrix)}function r(v,g){g.color.getRGB(v.fogColor.value,Hie(n)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)}function i(v,g,y,b,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?a(v,g):g.isMeshToonMaterial?(a(v,g),d(v,g)):g.isMeshPhongMaterial?(a(v,g),u(v,g)):g.isMeshStandardMaterial?(a(v,g),f(v,g),g.isMeshPhysicalMaterial&&h(v,g,_)):g.isMeshMatcapMaterial?(a(v,g),p(v,g)):g.isMeshDepthMaterial?a(v,g):g.isMeshDistanceMaterial?(a(v,g),m(v,g)):g.isMeshNormalMaterial?a(v,g):g.isLineBasicMaterial?(s(v,g),g.isLineDashedMaterial&&o(v,g)):g.isPointsMaterial?l(v,g,y,b):g.isSpriteMaterial?c(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function a(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,t(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,g.side===mo&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,t(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),g.side===mo&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,t(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,t(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const y=e.get(g),b=y.envMap,_=y.envMapRotation;b&&(v.envMap.value=b,rp.copy(_),rp.x*=-1,rp.y*=-1,rp.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(rp.y*=-1,rp.z*=-1),v.envMapRotation.value.setFromMatrix4(Act.makeRotationFromEuler(rp)),v.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap&&(v.lightMap.value=g.lightMap,v.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,v.lightMapTransform)),g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,v.aoMapTransform))}function s(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform))}function o(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}function l(v,g,y,b){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*y,v.scale.value=b*.5,g.map&&(v.map.value=g.map,t(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function c(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function u(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}function d(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}function f(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,v.roughnessMapTransform)),g.envMap&&(v.envMapIntensity.value=g.envMapIntensity)}function h(v,g,y){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===mo&&v.clearcoatNormalScale.value.negate())),g.dispersion>0&&(v.dispersion.value=g.dispersion),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,v.specularIntensityMapTransform))}function p(v,g){g.matcap&&(v.matcap.value=g.matcap)}function m(v,g){const y=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(y.matrixWorld),v.nearDistance.value=y.shadow.camera.near,v.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Ict(n,e,t,r){let i={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,b){const _=b.program;r.uniformBlockBinding(y,_)}function c(y,b){let _=i[y.id];_===void 0&&(p(y),_=u(y),i[y.id]=_,y.addEventListener("dispose",v));const x=b.program;r.updateUBOMapping(y,x);const S=e.render.frame;a[y.id]!==S&&(f(y),a[y.id]=S)}function u(y){const b=d();y.__bindingPointIndex=b;const _=n.createBuffer(),x=y.__size,S=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,x,S),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,b,_),_}function d(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=i[y.id],_=y.uniforms,x=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,b);for(let S=0,T=_.length;S<T;S++){const C=Array.isArray(_[S])?_[S]:[_[S]];for(let M=0,A=C.length;M<A;M++){const I=C[M];if(h(I,S,M,x)===!0){const D=I.__offset,L=Array.isArray(I.value)?I.value:[I.value];let F=0;for(let B=0;B<L.length;B++){const k=L[B],H=m(k);typeof k=="number"||typeof k=="boolean"?(I.__data[0]=k,n.bufferSubData(n.UNIFORM_BUFFER,D+F,I.__data)):k.isMatrix3?(I.__data[0]=k.elements[0],I.__data[1]=k.elements[1],I.__data[2]=k.elements[2],I.__data[3]=0,I.__data[4]=k.elements[3],I.__data[5]=k.elements[4],I.__data[6]=k.elements[5],I.__data[7]=0,I.__data[8]=k.elements[6],I.__data[9]=k.elements[7],I.__data[10]=k.elements[8],I.__data[11]=0):(k.toArray(I.__data,F),F+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,D,I.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function h(y,b,_,x){const S=y.value,T=b+"_"+_;if(x[T]===void 0)return typeof S=="number"||typeof S=="boolean"?x[T]=S:x[T]=S.clone(),!0;{const C=x[T];if(typeof S=="number"||typeof S=="boolean"){if(C!==S)return x[T]=S,!0}else if(C.equals(S)===!1)return C.copy(S),!0}return!1}function p(y){const b=y.uniforms;let _=0;const x=16;for(let T=0,C=b.length;T<C;T++){const M=Array.isArray(b[T])?b[T]:[b[T]];for(let A=0,I=M.length;A<I;A++){const D=M[A],L=Array.isArray(D.value)?D.value:[D.value];for(let F=0,B=L.length;F<B;F++){const k=L[F],H=m(k),z=_%x,O=z%H.boundary,G=z+O;_+=O,G!==0&&x-G<H.storage&&(_+=x-G),D.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=_,_+=H.storage}}}const S=_%x;return S>0&&(_+=x-S),y.__size=_,y.__cache={},this}function m(y){const b={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),b}function v(y){const b=y.target;b.removeEventListener("dispose",v);const _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function g(){for(const y in i)n.deleteBuffer(i[y]);s=[],i={},a={}}return{bind:l,update:c,dispose:g}}class Rct{constructor(e={}){const{canvas:t=fit(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const p=new Uint32Array(4),m=new Int32Array(4);let v=null,g=null;const y=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ul,this.toneMapping=zf,this.toneMappingExposure=1;const _=this;let x=!1,S=0,T=0,C=null,M=-1,A=null;const I=new Hi,D=new Hi;let L=null;const F=new ni(0);let B=0,k=t.width,H=t.height,z=1,O=null,G=null;const X=new Hi(0,0,k,H),J=new Hi(0,0,k,H);let Q=!1;const re=new Gie;let de=!1,le=!1;const fe=new ur,Ee=new ur,Re=new tt,He=new Hi,$e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let K=!1;function ce(){return C===null?z:1}let ie=r;function Ue(Pe,yt){return t.getContext(Pe,yt)}try{const Pe={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${iN}`),t.addEventListener("webglcontextlost",gt,!1),t.addEventListener("webglcontextrestored",Lt,!1),t.addEventListener("webglcontextcreationerror",At,!1),ie===null){const yt="webgl2";if(ie=Ue(yt,Pe),ie===null)throw Ue(yt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Pe){throw console.error("THREE.WebGLRenderer: "+Pe.message),Pe}let De,Ye,ze,Ve,Je,pe,W,Z,ve,Ne,Ke,mt,vt,Me,ht,st,$,ge,he,Ae,ye,Se,ft,Te;function _t(){De=new Uot(ie),De.init(),Se=new jie(ie,De),Ye=new Lot(ie,De,e,Se),ze=new _ct(ie,De),Ye.reverseDepthBuffer&&f&&ze.buffers.depth.setReversed(!0),Ve=new $ot(ie),Je=new oct,pe=new wct(ie,De,ze,Je,Ye,Se,Ve),W=new Oot(_),Z=new zot(_),ve=new jit(ie),ft=new Dot(ie,ve),Ne=new Hot(ie,ve,Ve,ft),Ke=new Wot(ie,Ne,ve,Ve),he=new Got(ie,Ye,pe),st=new Not(Je),mt=new sct(_,W,Z,De,Ye,ft,st),vt=new Ect(_,Je),Me=new cct,ht=new mct(De),ge=new Pot(_,W,Z,ze,Ke,h,l),$=new yct(_,Ke,Ye),Te=new Ict(ie,Ve,Ye,ze),Ae=new kot(ie,De,Ve),ye=new Vot(ie,De,Ve),Ve.programs=mt.programs,_.capabilities=Ye,_.extensions=De,_.properties=Je,_.renderLists=Me,_.shadowMap=$,_.state=ze,_.info=Ve}_t();const nt=new Tct(_,ie);this.xr=nt,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const Pe=De.get("WEBGL_lose_context");Pe&&Pe.loseContext()},this.forceContextRestore=function(){const Pe=De.get("WEBGL_lose_context");Pe&&Pe.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(Pe){Pe!==void 0&&(z=Pe,this.setSize(k,H,!1))},this.getSize=function(Pe){return Pe.set(k,H)},this.setSize=function(Pe,yt,Ge=!0){if(nt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=Pe,H=yt,t.width=Math.floor(Pe*z),t.height=Math.floor(yt*z),Ge===!0&&(t.style.width=Pe+"px",t.style.height=yt+"px"),this.setViewport(0,0,Pe,yt)},this.getDrawingBufferSize=function(Pe){return Pe.set(k*z,H*z).floor()},this.setDrawingBufferSize=function(Pe,yt,Ge){k=Pe,H=yt,z=Ge,t.width=Math.floor(Pe*Ge),t.height=Math.floor(yt*Ge),this.setViewport(0,0,Pe,yt)},this.getCurrentViewport=function(Pe){return Pe.copy(I)},this.getViewport=function(Pe){return Pe.copy(X)},this.setViewport=function(Pe,yt,Ge,lt){Pe.isVector4?X.set(Pe.x,Pe.y,Pe.z,Pe.w):X.set(Pe,yt,Ge,lt),ze.viewport(I.copy(X).multiplyScalar(z).round())},this.getScissor=function(Pe){return Pe.copy(J)},this.setScissor=function(Pe,yt,Ge,lt){Pe.isVector4?J.set(Pe.x,Pe.y,Pe.z,Pe.w):J.set(Pe,yt,Ge,lt),ze.scissor(D.copy(J).multiplyScalar(z).round())},this.getScissorTest=function(){return Q},this.setScissorTest=function(Pe){ze.setScissorTest(Q=Pe)},this.setOpaqueSort=function(Pe){O=Pe},this.setTransparentSort=function(Pe){G=Pe},this.getClearColor=function(Pe){return Pe.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(Pe=!0,yt=!0,Ge=!0){let lt=0;if(Pe){let it=!1;if(C!==null){const Mt=C.texture.format;it=Mt===Vv||Mt===cN||Mt===_A}if(it){const Mt=C.texture.type,tn=Mt===cu||Mt===_l||Mt===L_||Mt===Rg||Mt===sN||Mt===oN,Qt=ge.getClearColor(),mn=ge.getClearAlpha(),Gn=Qt.r,rn=Qt.g,Cn=Qt.b;tn?(p[0]=Gn,p[1]=rn,p[2]=Cn,p[3]=mn,ie.clearBufferuiv(ie.COLOR,0,p)):(m[0]=Gn,m[1]=rn,m[2]=Cn,m[3]=mn,ie.clearBufferiv(ie.COLOR,0,m))}else lt|=ie.COLOR_BUFFER_BIT}yt&&(lt|=ie.DEPTH_BUFFER_BIT),Ge&&(lt|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(lt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",gt,!1),t.removeEventListener("webglcontextrestored",Lt,!1),t.removeEventListener("webglcontextcreationerror",At,!1),ge.dispose(),Me.dispose(),ht.dispose(),Je.dispose(),W.dispose(),Z.dispose(),Ke.dispose(),ft.dispose(),Te.dispose(),mt.dispose(),nt.dispose(),nt.removeEventListener("sessionstart",Y),nt.removeEventListener("sessionend",ae),Ut.stop()};function gt(Pe){Pe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Lt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const Pe=Ve.autoReset,yt=$.enabled,Ge=$.autoUpdate,lt=$.needsUpdate,it=$.type;_t(),Ve.autoReset=Pe,$.enabled=yt,$.autoUpdate=Ge,$.needsUpdate=lt,$.type=it}function At(Pe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Pe.statusMessage)}function an(Pe){const yt=Pe.target;yt.removeEventListener("dispose",an),_n(yt)}function _n(Pe){lr(Pe),Je.remove(Pe)}function lr(Pe){const yt=Je.get(Pe).programs;yt!==void 0&&(yt.forEach(function(Ge){mt.releaseProgram(Ge)}),Pe.isShaderMaterial&&mt.releaseShaderCache(Pe))}this.renderBufferDirect=function(Pe,yt,Ge,lt,it,Mt){yt===null&&(yt=$e);const tn=it.isMesh&&it.matrixWorld.determinant()<0,Qt=yn(Pe,yt,Ge,lt,it);ze.setMaterial(lt,tn);let mn=Ge.index,Gn=1;if(lt.wireframe===!0){if(mn=Ne.getWireframeAttribute(Ge),mn===void 0)return;Gn=2}const rn=Ge.drawRange,Cn=Ge.attributes.position;let An=rn.start*Gn,ir=(rn.start+rn.count)*Gn;Mt!==null&&(An=Math.max(An,Mt.start*Gn),ir=Math.min(ir,(Mt.start+Mt.count)*Gn)),mn!==null?(An=Math.max(An,0),ir=Math.min(ir,mn.count)):Cn!=null&&(An=Math.max(An,0),ir=Math.min(ir,Cn.count));const Wr=ir-An;if(Wr<0||Wr===1/0)return;ft.setup(it,lt,Qt,Ge,mn);let vr,gr=Ae;if(mn!==null&&(vr=ve.get(mn),gr=ye,gr.setIndex(vr)),it.isMesh)lt.wireframe===!0?(ze.setLineWidth(lt.wireframeLinewidth*ce()),gr.setMode(ie.LINES)):gr.setMode(ie.TRIANGLES);else if(it.isLine){let Wn=lt.linewidth;Wn===void 0&&(Wn=1),ze.setLineWidth(Wn*ce()),it.isLineSegments?gr.setMode(ie.LINES):it.isLineLoop?gr.setMode(ie.LINE_LOOP):gr.setMode(ie.LINE_STRIP)}else it.isPoints?gr.setMode(ie.POINTS):it.isSprite&&gr.setMode(ie.TRIANGLES);if(it.isBatchedMesh)if(it._multiDrawInstances!==null)gr.renderMultiDrawInstances(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount,it._multiDrawInstances);else if(De.get("WEBGL_multi_draw"))gr.renderMultiDraw(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount);else{const Wn=it._multiDrawStarts,Ci=it._multiDrawCounts,qr=it._multiDrawCount,As=mn?ve.get(mn).bytesPerElement:1,Qs=Je.get(lt).currentProgram.getUniforms();for(let hr=0;hr<qr;hr++)Qs.setValue(ie,"_gl_DrawID",hr),gr.render(Wn[hr]/As,Ci[hr])}else if(it.isInstancedMesh)gr.renderInstances(An,Wr,it.count);else if(Ge.isInstancedBufferGeometry){const Wn=Ge._maxInstanceCount!==void 0?Ge._maxInstanceCount:1/0,Ci=Math.min(Ge.instanceCount,Wn);gr.renderInstances(An,Wr,Ci)}else gr.render(An,Wr)};function kn(Pe,yt,Ge){Pe.transparent===!0&&Pe.side===ml&&Pe.forceSinglePass===!1?(Pe.side=mo,Pe.needsUpdate=!0,et(Pe,yt,Ge),Pe.side=lu,Pe.needsUpdate=!0,et(Pe,yt,Ge),Pe.side=ml):et(Pe,yt,Ge)}this.compile=function(Pe,yt,Ge=null){Ge===null&&(Ge=Pe),g=ht.get(Ge),g.init(yt),b.push(g),Ge.traverseVisible(function(it){it.isLight&&it.layers.test(yt.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),Pe!==Ge&&Pe.traverseVisible(function(it){it.isLight&&it.layers.test(yt.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),g.setupLights();const lt=new Set;return Pe.traverse(function(it){if(!(it.isMesh||it.isPoints||it.isLine||it.isSprite))return;const Mt=it.material;if(Mt)if(Array.isArray(Mt))for(let tn=0;tn<Mt.length;tn++){const Qt=Mt[tn];kn(Qt,Ge,it),lt.add(Qt)}else kn(Mt,Ge,it),lt.add(Mt)}),b.pop(),g=null,lt},this.compileAsync=function(Pe,yt,Ge=null){const lt=this.compile(Pe,yt,Ge);return new Promise(it=>{function Mt(){if(lt.forEach(function(tn){Je.get(tn).currentProgram.isReady()&&lt.delete(tn)}),lt.size===0){it(Pe);return}setTimeout(Mt,10)}De.get("KHR_parallel_shader_compile")!==null?Mt():setTimeout(Mt,10)})};let Yr=null;function Zn(Pe){Yr&&Yr(Pe)}function Y(){Ut.stop()}function ae(){Ut.start()}const Ut=new Wie;Ut.setAnimationLoop(Zn),typeof self<"u"&&Ut.setContext(self),this.setAnimationLoop=function(Pe){Yr=Pe,nt.setAnimationLoop(Pe),Pe===null?Ut.stop():Ut.start()},nt.addEventListener("sessionstart",Y),nt.addEventListener("sessionend",ae),this.render=function(Pe,yt){if(yt!==void 0&&yt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;if(Pe.matrixWorldAutoUpdate===!0&&Pe.updateMatrixWorld(),yt.parent===null&&yt.matrixWorldAutoUpdate===!0&&yt.updateMatrixWorld(),nt.enabled===!0&&nt.isPresenting===!0&&(nt.cameraAutoUpdate===!0&&nt.updateCamera(yt),yt=nt.getCamera()),Pe.isScene===!0&&Pe.onBeforeRender(_,Pe,yt,C),g=ht.get(Pe,b.length),g.init(yt),b.push(g),Ee.multiplyMatrices(yt.projectionMatrix,yt.matrixWorldInverse),re.setFromProjectionMatrix(Ee),le=this.localClippingEnabled,de=st.init(this.clippingPlanes,le),v=Me.get(Pe,y.length),v.init(),y.push(v),nt.enabled===!0&&nt.isPresenting===!0){const Mt=_.xr.getDepthSensingMesh();Mt!==null&&Ce(Mt,yt,-1/0,_.sortObjects)}Ce(Pe,yt,0,_.sortObjects),v.finish(),_.sortObjects===!0&&v.sort(O,G),K=nt.enabled===!1||nt.isPresenting===!1||nt.hasDepthSensing()===!1,K&&ge.addToRenderList(v,Pe),this.info.render.frame++,de===!0&&st.beginShadows();const Ge=g.state.shadowsArray;$.render(Ge,Pe,yt),de===!0&&st.endShadows(),this.info.autoReset===!0&&this.info.reset();const lt=v.opaque,it=v.transmissive;if(g.setupLights(),yt.isArrayCamera){const Mt=yt.cameras;if(it.length>0)for(let tn=0,Qt=Mt.length;tn<Qt;tn++){const mn=Mt[tn];St(lt,it,Pe,mn)}K&&ge.render(Pe);for(let tn=0,Qt=Mt.length;tn<Qt;tn++){const mn=Mt[tn];oe(v,Pe,mn,mn.viewport)}}else it.length>0&&St(lt,it,Pe,yt),K&&ge.render(Pe),oe(v,Pe,yt);C!==null&&(pe.updateMultisampleRenderTarget(C),pe.updateRenderTargetMipmap(C)),Pe.isScene===!0&&Pe.onAfterRender(_,Pe,yt),ft.resetDefaultState(),M=-1,A=null,b.pop(),b.length>0?(g=b[b.length-1],de===!0&&st.setGlobalState(_.clippingPlanes,g.state.camera)):g=null,y.pop(),y.length>0?v=y[y.length-1]:v=null};function Ce(Pe,yt,Ge,lt){if(Pe.visible===!1)return;if(Pe.layers.test(yt.layers)){if(Pe.isGroup)Ge=Pe.renderOrder;else if(Pe.isLOD)Pe.autoUpdate===!0&&Pe.update(yt);else if(Pe.isLight)g.pushLight(Pe),Pe.castShadow&&g.pushShadow(Pe);else if(Pe.isSprite){if(!Pe.frustumCulled||re.intersectsSprite(Pe)){lt&&He.setFromMatrixPosition(Pe.matrixWorld).applyMatrix4(Ee);const tn=Ke.update(Pe),Qt=Pe.material;Qt.visible&&v.push(Pe,tn,Qt,Ge,He.z,null)}}else if((Pe.isMesh||Pe.isLine||Pe.isPoints)&&(!Pe.frustumCulled||re.intersectsObject(Pe))){const tn=Ke.update(Pe),Qt=Pe.material;if(lt&&(Pe.boundingSphere!==void 0?(Pe.boundingSphere===null&&Pe.computeBoundingSphere(),He.copy(Pe.boundingSphere.center)):(tn.boundingSphere===null&&tn.computeBoundingSphere(),He.copy(tn.boundingSphere.center)),He.applyMatrix4(Pe.matrixWorld).applyMatrix4(Ee)),Array.isArray(Qt)){const mn=tn.groups;for(let Gn=0,rn=mn.length;Gn<rn;Gn++){const Cn=mn[Gn],An=Qt[Cn.materialIndex];An&&An.visible&&v.push(Pe,tn,An,Ge,He.z,Cn)}}else Qt.visible&&v.push(Pe,tn,Qt,Ge,He.z,null)}}const Mt=Pe.children;for(let tn=0,Qt=Mt.length;tn<Qt;tn++)Ce(Mt[tn],yt,Ge,lt)}function oe(Pe,yt,Ge,lt){const it=Pe.opaque,Mt=Pe.transmissive,tn=Pe.transparent;g.setupLightsView(Ge),de===!0&&st.setGlobalState(_.clippingPlanes,Ge),lt&&ze.viewport(I.copy(lt)),it.length>0&&pt(it,yt,Ge),Mt.length>0&&pt(Mt,yt,Ge),tn.length>0&&pt(tn,yt,Ge),ze.buffers.depth.setTest(!0),ze.buffers.depth.setMask(!0),ze.buffers.color.setMask(!0),ze.setPolygonOffset(!1)}function St(Pe,yt,Ge,lt){if((Ge.isScene===!0?Ge.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[lt.id]===void 0&&(g.state.transmissionRenderTarget[lt.id]=new uh(1,1,{generateMipmaps:!0,type:De.has("EXT_color_buffer_half_float")||De.has("EXT_color_buffer_float")?vy:cu,minFilter:Bp,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ti.workingColorSpace}));const Mt=g.state.transmissionRenderTarget[lt.id],tn=lt.viewport||I;Mt.setSize(tn.z,tn.w);const Qt=_.getRenderTarget();_.setRenderTarget(Mt),_.getClearColor(F),B=_.getClearAlpha(),B<1&&_.setClearColor(16777215,.5),_.clear(),K&&ge.render(Ge);const mn=_.toneMapping;_.toneMapping=zf;const Gn=lt.viewport;if(lt.viewport!==void 0&&(lt.viewport=void 0),g.setupLightsView(lt),de===!0&&st.setGlobalState(_.clippingPlanes,lt),pt(Pe,Ge,lt),pe.updateMultisampleRenderTarget(Mt),pe.updateRenderTargetMipmap(Mt),De.has("WEBGL_multisampled_render_to_texture")===!1){let rn=!1;for(let Cn=0,An=yt.length;Cn<An;Cn++){const ir=yt[Cn],Wr=ir.object,vr=ir.geometry,gr=ir.material,Wn=ir.group;if(gr.side===ml&&Wr.layers.test(lt.layers)){const Ci=gr.side;gr.side=mo,gr.needsUpdate=!0,It(Wr,Ge,lt,vr,gr,Wn),gr.side=Ci,gr.needsUpdate=!0,rn=!0}}rn===!0&&(pe.updateMultisampleRenderTarget(Mt),pe.updateRenderTargetMipmap(Mt))}_.setRenderTarget(Qt),_.setClearColor(F,B),Gn!==void 0&&(lt.viewport=Gn),_.toneMapping=mn}function pt(Pe,yt,Ge){const lt=yt.isScene===!0?yt.overrideMaterial:null;for(let it=0,Mt=Pe.length;it<Mt;it++){const tn=Pe[it],Qt=tn.object,mn=tn.geometry,Gn=lt===null?tn.material:lt,rn=tn.group;Qt.layers.test(Ge.layers)&&It(Qt,yt,Ge,mn,Gn,rn)}}function It(Pe,yt,Ge,lt,it,Mt){Pe.onBeforeRender(_,yt,Ge,lt,it,Mt),Pe.modelViewMatrix.multiplyMatrices(Ge.matrixWorldInverse,Pe.matrixWorld),Pe.normalMatrix.getNormalMatrix(Pe.modelViewMatrix),it.onBeforeRender(_,yt,Ge,lt,Pe,Mt),it.transparent===!0&&it.side===ml&&it.forceSinglePass===!1?(it.side=mo,it.needsUpdate=!0,_.renderBufferDirect(Ge,yt,lt,it,Pe,Mt),it.side=lu,it.needsUpdate=!0,_.renderBufferDirect(Ge,yt,lt,it,Pe,Mt),it.side=ml):_.renderBufferDirect(Ge,yt,lt,it,Pe,Mt),Pe.onAfterRender(_,yt,Ge,lt,it,Mt)}function et(Pe,yt,Ge){yt.isScene!==!0&&(yt=$e);const lt=Je.get(Pe),it=g.state.lights,Mt=g.state.shadowsArray,tn=it.state.version,Qt=mt.getParameters(Pe,it.state,Mt,yt,Ge),mn=mt.getProgramCacheKey(Qt);let Gn=lt.programs;lt.environment=Pe.isMeshStandardMaterial?yt.environment:null,lt.fog=yt.fog,lt.envMap=(Pe.isMeshStandardMaterial?Z:W).get(Pe.envMap||lt.environment),lt.envMapRotation=lt.environment!==null&&Pe.envMap===null?yt.environmentRotation:Pe.envMapRotation,Gn===void 0&&(Pe.addEventListener("dispose",an),Gn=new Map,lt.programs=Gn);let rn=Gn.get(mn);if(rn!==void 0){if(lt.currentProgram===rn&&lt.lightsStateVersion===tn)return Kt(Pe,Qt),rn}else Qt.uniforms=mt.getUniforms(Pe),Pe.onBeforeCompile(Qt,_),rn=mt.acquireProgram(Qt,mn),Gn.set(mn,rn),lt.uniforms=Qt.uniforms;const Cn=lt.uniforms;return(!Pe.isShaderMaterial&&!Pe.isRawShaderMaterial||Pe.clipping===!0)&&(Cn.clippingPlanes=st.uniform),Kt(Pe,Qt),lt.needsLights=je(Pe),lt.lightsStateVersion=tn,lt.needsLights&&(Cn.ambientLightColor.value=it.state.ambient,Cn.lightProbe.value=it.state.probe,Cn.directionalLights.value=it.state.directional,Cn.directionalLightShadows.value=it.state.directionalShadow,Cn.spotLights.value=it.state.spot,Cn.spotLightShadows.value=it.state.spotShadow,Cn.rectAreaLights.value=it.state.rectArea,Cn.ltc_1.value=it.state.rectAreaLTC1,Cn.ltc_2.value=it.state.rectAreaLTC2,Cn.pointLights.value=it.state.point,Cn.pointLightShadows.value=it.state.pointShadow,Cn.hemisphereLights.value=it.state.hemi,Cn.directionalShadowMap.value=it.state.directionalShadowMap,Cn.directionalShadowMatrix.value=it.state.directionalShadowMatrix,Cn.spotShadowMap.value=it.state.spotShadowMap,Cn.spotLightMatrix.value=it.state.spotLightMatrix,Cn.spotLightMap.value=it.state.spotLightMap,Cn.pointShadowMap.value=it.state.pointShadowMap,Cn.pointShadowMatrix.value=it.state.pointShadowMatrix),lt.currentProgram=rn,lt.uniformsList=null,rn}function xt(Pe){if(Pe.uniformsList===null){const yt=Pe.currentProgram.getUniforms();Pe.uniformsList=sC.seqWithValue(yt.seq,Pe.uniforms)}return Pe.uniformsList}function Kt(Pe,yt){const Ge=Je.get(Pe);Ge.outputColorSpace=yt.outputColorSpace,Ge.batching=yt.batching,Ge.batchingColor=yt.batchingColor,Ge.instancing=yt.instancing,Ge.instancingColor=yt.instancingColor,Ge.instancingMorph=yt.instancingMorph,Ge.skinning=yt.skinning,Ge.morphTargets=yt.morphTargets,Ge.morphNormals=yt.morphNormals,Ge.morphColors=yt.morphColors,Ge.morphTargetsCount=yt.morphTargetsCount,Ge.numClippingPlanes=yt.numClippingPlanes,Ge.numIntersection=yt.numClipIntersection,Ge.vertexAlphas=yt.vertexAlphas,Ge.vertexTangents=yt.vertexTangents,Ge.toneMapping=yt.toneMapping}function yn(Pe,yt,Ge,lt,it){yt.isScene!==!0&&(yt=$e),pe.resetTextureUnits();const Mt=yt.fog,tn=lt.isMeshStandardMaterial?yt.environment:null,Qt=C===null?_.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:Dg,mn=(lt.isMeshStandardMaterial?Z:W).get(lt.envMap||tn),Gn=lt.vertexColors===!0&&!!Ge.attributes.color&&Ge.attributes.color.itemSize===4,rn=!!Ge.attributes.tangent&&(!!lt.normalMap||lt.anisotropy>0),Cn=!!Ge.morphAttributes.position,An=!!Ge.morphAttributes.normal,ir=!!Ge.morphAttributes.color;let Wr=zf;lt.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(Wr=_.toneMapping);const vr=Ge.morphAttributes.position||Ge.morphAttributes.normal||Ge.morphAttributes.color,gr=vr!==void 0?vr.length:0,Wn=Je.get(lt),Ci=g.state.lights;if(de===!0&&(le===!0||Pe!==A)){const ta=Pe===A&&lt.id===M;st.setState(lt,Pe,ta)}let qr=!1;lt.version===Wn.__version?(Wn.needsLights&&Wn.lightsStateVersion!==Ci.state.version||Wn.outputColorSpace!==Qt||it.isBatchedMesh&&Wn.batching===!1||!it.isBatchedMesh&&Wn.batching===!0||it.isBatchedMesh&&Wn.batchingColor===!0&&it.colorTexture===null||it.isBatchedMesh&&Wn.batchingColor===!1&&it.colorTexture!==null||it.isInstancedMesh&&Wn.instancing===!1||!it.isInstancedMesh&&Wn.instancing===!0||it.isSkinnedMesh&&Wn.skinning===!1||!it.isSkinnedMesh&&Wn.skinning===!0||it.isInstancedMesh&&Wn.instancingColor===!0&&it.instanceColor===null||it.isInstancedMesh&&Wn.instancingColor===!1&&it.instanceColor!==null||it.isInstancedMesh&&Wn.instancingMorph===!0&&it.morphTexture===null||it.isInstancedMesh&&Wn.instancingMorph===!1&&it.morphTexture!==null||Wn.envMap!==mn||lt.fog===!0&&Wn.fog!==Mt||Wn.numClippingPlanes!==void 0&&(Wn.numClippingPlanes!==st.numPlanes||Wn.numIntersection!==st.numIntersection)||Wn.vertexAlphas!==Gn||Wn.vertexTangents!==rn||Wn.morphTargets!==Cn||Wn.morphNormals!==An||Wn.morphColors!==ir||Wn.toneMapping!==Wr||Wn.morphTargetsCount!==gr)&&(qr=!0):(qr=!0,Wn.__version=lt.version);let As=Wn.currentProgram;qr===!0&&(As=et(lt,yt,it));let Qs=!1,hr=!1,zl=!1;const gi=As.getUniforms(),Va=Wn.uniforms;if(ze.useProgram(As.program)&&(Qs=!0,hr=!0,zl=!0),lt.id!==M&&(M=lt.id,hr=!0),Qs||A!==Pe){ze.buffers.depth.getReversed()?(fe.copy(Pe.projectionMatrix),pit(fe),mit(fe),gi.setValue(ie,"projectionMatrix",fe)):gi.setValue(ie,"projectionMatrix",Pe.projectionMatrix),gi.setValue(ie,"viewMatrix",Pe.matrixWorldInverse);const Wi=gi.map.cameraPosition;Wi!==void 0&&Wi.setValue(ie,Re.setFromMatrixPosition(Pe.matrixWorld)),Ye.logarithmicDepthBuffer&&gi.setValue(ie,"logDepthBufFC",2/(Math.log(Pe.far+1)/Math.LN2)),(lt.isMeshPhongMaterial||lt.isMeshToonMaterial||lt.isMeshLambertMaterial||lt.isMeshBasicMaterial||lt.isMeshStandardMaterial||lt.isShaderMaterial)&&gi.setValue(ie,"isOrthographic",Pe.isOrthographicCamera===!0),A!==Pe&&(A=Pe,hr=!0,zl=!0)}if(it.isSkinnedMesh){gi.setOptional(ie,it,"bindMatrix"),gi.setOptional(ie,it,"bindMatrixInverse");const ta=it.skeleton;ta&&(ta.boneTexture===null&&ta.computeBoneTexture(),gi.setValue(ie,"boneTexture",ta.boneTexture,pe))}it.isBatchedMesh&&(gi.setOptional(ie,it,"batchingTexture"),gi.setValue(ie,"batchingTexture",it._matricesTexture,pe),gi.setOptional(ie,it,"batchingIdTexture"),gi.setValue(ie,"batchingIdTexture",it._indirectTexture,pe),gi.setOptional(ie,it,"batchingColorTexture"),it._colorsTexture!==null&&gi.setValue(ie,"batchingColorTexture",it._colorsTexture,pe));const $a=Ge.morphAttributes;if(($a.position!==void 0||$a.normal!==void 0||$a.color!==void 0)&&he.update(it,Ge,As),(hr||Wn.receiveShadow!==it.receiveShadow)&&(Wn.receiveShadow=it.receiveShadow,gi.setValue(ie,"receiveShadow",it.receiveShadow)),lt.isMeshGouraudMaterial&&lt.envMap!==null&&(Va.envMap.value=mn,Va.flipEnvMap.value=mn.isCubeTexture&&mn.isRenderTargetTexture===!1?-1:1),lt.isMeshStandardMaterial&&lt.envMap===null&&yt.environment!==null&&(Va.envMapIntensity.value=yt.environmentIntensity),hr&&(gi.setValue(ie,"toneMappingExposure",_.toneMappingExposure),Wn.needsLights&&On(Va,zl),Mt&&lt.fog===!0&&vt.refreshFogUniforms(Va,Mt),vt.refreshMaterialUniforms(Va,lt,z,H,g.state.transmissionRenderTarget[Pe.id]),sC.upload(ie,xt(Wn),Va,pe)),lt.isShaderMaterial&&lt.uniformsNeedUpdate===!0&&(sC.upload(ie,xt(Wn),Va,pe),lt.uniformsNeedUpdate=!1),lt.isSpriteMaterial&&gi.setValue(ie,"center",it.center),gi.setValue(ie,"modelViewMatrix",it.modelViewMatrix),gi.setValue(ie,"normalMatrix",it.normalMatrix),gi.setValue(ie,"modelMatrix",it.matrixWorld),lt.isShaderMaterial||lt.isRawShaderMaterial){const ta=lt.uniformsGroups;for(let Wi=0,qi=ta.length;Wi<qi;Wi++){const wo=ta[Wi];Te.update(wo,As),Te.bind(wo,As)}}return As}function On(Pe,yt){Pe.ambientLightColor.needsUpdate=yt,Pe.lightProbe.needsUpdate=yt,Pe.directionalLights.needsUpdate=yt,Pe.directionalLightShadows.needsUpdate=yt,Pe.pointLights.needsUpdate=yt,Pe.pointLightShadows.needsUpdate=yt,Pe.spotLights.needsUpdate=yt,Pe.spotLightShadows.needsUpdate=yt,Pe.rectAreaLights.needsUpdate=yt,Pe.hemisphereLights.needsUpdate=yt}function je(Pe){return Pe.isMeshLambertMaterial||Pe.isMeshToonMaterial||Pe.isMeshPhongMaterial||Pe.isMeshStandardMaterial||Pe.isShadowMaterial||Pe.isShaderMaterial&&Pe.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(Pe,yt,Ge){Je.get(Pe.texture).__webglTexture=yt,Je.get(Pe.depthTexture).__webglTexture=Ge;const lt=Je.get(Pe);lt.__hasExternalTextures=!0,lt.__autoAllocateDepthBuffer=Ge===void 0,lt.__autoAllocateDepthBuffer||De.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),lt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Pe,yt){const Ge=Je.get(Pe);Ge.__webglFramebuffer=yt,Ge.__useDefaultFramebuffer=yt===void 0},this.setRenderTarget=function(Pe,yt=0,Ge=0){C=Pe,S=yt,T=Ge;let lt=!0,it=null,Mt=!1,tn=!1;if(Pe){const mn=Je.get(Pe);if(mn.__useDefaultFramebuffer!==void 0)ze.bindFramebuffer(ie.FRAMEBUFFER,null),lt=!1;else if(mn.__webglFramebuffer===void 0)pe.setupRenderTarget(Pe);else if(mn.__hasExternalTextures)pe.rebindTextures(Pe,Je.get(Pe.texture).__webglTexture,Je.get(Pe.depthTexture).__webglTexture);else if(Pe.depthBuffer){const Cn=Pe.depthTexture;if(mn.__boundDepthTexture!==Cn){if(Cn!==null&&Je.has(Cn)&&(Pe.width!==Cn.image.width||Pe.height!==Cn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");pe.setupDepthRenderbuffer(Pe)}}const Gn=Pe.texture;(Gn.isData3DTexture||Gn.isDataArrayTexture||Gn.isCompressedArrayTexture)&&(tn=!0);const rn=Je.get(Pe).__webglFramebuffer;Pe.isWebGLCubeRenderTarget?(Array.isArray(rn[yt])?it=rn[yt][Ge]:it=rn[yt],Mt=!0):Pe.samples>0&&pe.useMultisampledRTT(Pe)===!1?it=Je.get(Pe).__webglMultisampledFramebuffer:Array.isArray(rn)?it=rn[Ge]:it=rn,I.copy(Pe.viewport),D.copy(Pe.scissor),L=Pe.scissorTest}else I.copy(X).multiplyScalar(z).floor(),D.copy(J).multiplyScalar(z).floor(),L=Q;if(ze.bindFramebuffer(ie.FRAMEBUFFER,it)&&lt&&ze.drawBuffers(Pe,it),ze.viewport(I),ze.scissor(D),ze.setScissorTest(L),Mt){const mn=Je.get(Pe.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+yt,mn.__webglTexture,Ge)}else if(tn){const mn=Je.get(Pe.texture),Gn=yt||0;ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,mn.__webglTexture,Ge||0,Gn)}M=-1},this.readRenderTargetPixels=function(Pe,yt,Ge,lt,it,Mt,tn){if(!(Pe&&Pe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qt=Je.get(Pe).__webglFramebuffer;if(Pe.isWebGLCubeRenderTarget&&tn!==void 0&&(Qt=Qt[tn]),Qt){ze.bindFramebuffer(ie.FRAMEBUFFER,Qt);try{const mn=Pe.texture,Gn=mn.format,rn=mn.type;if(!Ye.textureFormatReadable(Gn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ye.textureTypeReadable(rn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}yt>=0&&yt<=Pe.width-lt&&Ge>=0&&Ge<=Pe.height-it&&ie.readPixels(yt,Ge,lt,it,Se.convert(Gn),Se.convert(rn),Mt)}finally{const mn=C!==null?Je.get(C).__webglFramebuffer:null;ze.bindFramebuffer(ie.FRAMEBUFFER,mn)}}},this.readRenderTargetPixelsAsync=async function(Pe,yt,Ge,lt,it,Mt,tn){if(!(Pe&&Pe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qt=Je.get(Pe).__webglFramebuffer;if(Pe.isWebGLCubeRenderTarget&&tn!==void 0&&(Qt=Qt[tn]),Qt){const mn=Pe.texture,Gn=mn.format,rn=mn.type;if(!Ye.textureFormatReadable(Gn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ye.textureTypeReadable(rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(yt>=0&&yt<=Pe.width-lt&&Ge>=0&&Ge<=Pe.height-it){ze.bindFramebuffer(ie.FRAMEBUFFER,Qt);const Cn=ie.createBuffer();ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Cn),ie.bufferData(ie.PIXEL_PACK_BUFFER,Mt.byteLength,ie.STREAM_READ),ie.readPixels(yt,Ge,lt,it,Se.convert(Gn),Se.convert(rn),0);const An=C!==null?Je.get(C).__webglFramebuffer:null;ze.bindFramebuffer(ie.FRAMEBUFFER,An);const ir=ie.fenceSync(ie.SYNC_GPU_COMMANDS_COMPLETE,0);return ie.flush(),await hit(ie,ir,4),ie.bindBuffer(ie.PIXEL_PACK_BUFFER,Cn),ie.getBufferSubData(ie.PIXEL_PACK_BUFFER,0,Mt),ie.deleteBuffer(Cn),ie.deleteSync(ir),Mt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(Pe,yt=null,Ge=0){Pe.isTexture!==!0&&(ov("WebGLRenderer: copyFramebufferToTexture function signature has changed."),yt=arguments[0]||null,Pe=arguments[1]);const lt=Math.pow(2,-Ge),it=Math.floor(Pe.image.width*lt),Mt=Math.floor(Pe.image.height*lt),tn=yt!==null?yt.x:0,Qt=yt!==null?yt.y:0;pe.setTexture2D(Pe,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,Ge,0,0,tn,Qt,it,Mt),ze.unbindTexture()};const Xn=ie.createFramebuffer(),at=ie.createFramebuffer();this.copyTextureToTexture=function(Pe,yt,Ge=null,lt=null,it=0,Mt=null){Pe.isTexture!==!0&&(ov("WebGLRenderer: copyTextureToTexture function signature has changed."),lt=arguments[0]||null,Pe=arguments[1],yt=arguments[2],Mt=arguments[3]||0,Ge=null),Mt===null&&(it!==0?(ov("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Mt=it,it=0):Mt=0);let tn,Qt,mn,Gn,rn,Cn,An,ir,Wr;const vr=Pe.isCompressedTexture?Pe.mipmaps[Mt]:Pe.image;if(Ge!==null)tn=Ge.max.x-Ge.min.x,Qt=Ge.max.y-Ge.min.y,mn=Ge.isBox3?Ge.max.z-Ge.min.z:1,Gn=Ge.min.x,rn=Ge.min.y,Cn=Ge.isBox3?Ge.min.z:0;else{const $a=Math.pow(2,-it);tn=Math.floor(vr.width*$a),Qt=Math.floor(vr.height*$a),Pe.isDataArrayTexture?mn=vr.depth:Pe.isData3DTexture?mn=Math.floor(vr.depth*$a):mn=1,Gn=0,rn=0,Cn=0}lt!==null?(An=lt.x,ir=lt.y,Wr=lt.z):(An=0,ir=0,Wr=0);const gr=Se.convert(yt.format),Wn=Se.convert(yt.type);let Ci;yt.isData3DTexture?(pe.setTexture3D(yt,0),Ci=ie.TEXTURE_3D):yt.isDataArrayTexture||yt.isCompressedArrayTexture?(pe.setTexture2DArray(yt,0),Ci=ie.TEXTURE_2D_ARRAY):(pe.setTexture2D(yt,0),Ci=ie.TEXTURE_2D),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,yt.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,yt.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,yt.unpackAlignment);const qr=ie.getParameter(ie.UNPACK_ROW_LENGTH),As=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),Qs=ie.getParameter(ie.UNPACK_SKIP_PIXELS),hr=ie.getParameter(ie.UNPACK_SKIP_ROWS),zl=ie.getParameter(ie.UNPACK_SKIP_IMAGES);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,vr.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,vr.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,Gn),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,rn),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Cn);const gi=Pe.isDataArrayTexture||Pe.isData3DTexture,Va=yt.isDataArrayTexture||yt.isData3DTexture;if(Pe.isDepthTexture){const $a=Je.get(Pe),ta=Je.get(yt),Wi=Je.get($a.__renderTarget),qi=Je.get(ta.__renderTarget);ze.bindFramebuffer(ie.READ_FRAMEBUFFER,Wi.__webglFramebuffer),ze.bindFramebuffer(ie.DRAW_FRAMEBUFFER,qi.__webglFramebuffer);for(let wo=0;wo<mn;wo++)gi&&(ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Je.get(Pe).__webglTexture,it,Cn+wo),ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,Je.get(yt).__webglTexture,Mt,Wr+wo)),ie.blitFramebuffer(Gn,rn,tn,Qt,An,ir,tn,Qt,ie.DEPTH_BUFFER_BIT,ie.NEAREST);ze.bindFramebuffer(ie.READ_FRAMEBUFFER,null),ze.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else if(it!==0||Pe.isRenderTargetTexture||Je.has(Pe)){const $a=Je.get(Pe),ta=Je.get(yt);ze.bindFramebuffer(ie.READ_FRAMEBUFFER,Xn),ze.bindFramebuffer(ie.DRAW_FRAMEBUFFER,at);for(let Wi=0;Wi<mn;Wi++)gi?ie.framebufferTextureLayer(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,$a.__webglTexture,it,Cn+Wi):ie.framebufferTexture2D(ie.READ_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,$a.__webglTexture,it),Va?ie.framebufferTextureLayer(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ta.__webglTexture,Mt,Wr+Wi):ie.framebufferTexture2D(ie.DRAW_FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_2D,ta.__webglTexture,Mt),it!==0?ie.blitFramebuffer(Gn,rn,tn,Qt,An,ir,tn,Qt,ie.COLOR_BUFFER_BIT,ie.NEAREST):Va?ie.copyTexSubImage3D(Ci,Mt,An,ir,Wr+Wi,Gn,rn,tn,Qt):ie.copyTexSubImage2D(Ci,Mt,An,ir,Gn,rn,tn,Qt);ze.bindFramebuffer(ie.READ_FRAMEBUFFER,null),ze.bindFramebuffer(ie.DRAW_FRAMEBUFFER,null)}else Va?Pe.isDataTexture||Pe.isData3DTexture?ie.texSubImage3D(Ci,Mt,An,ir,Wr,tn,Qt,mn,gr,Wn,vr.data):yt.isCompressedArrayTexture?ie.compressedTexSubImage3D(Ci,Mt,An,ir,Wr,tn,Qt,mn,gr,vr.data):ie.texSubImage3D(Ci,Mt,An,ir,Wr,tn,Qt,mn,gr,Wn,vr):Pe.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,Mt,An,ir,tn,Qt,gr,Wn,vr.data):Pe.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,Mt,An,ir,vr.width,vr.height,gr,vr.data):ie.texSubImage2D(ie.TEXTURE_2D,Mt,An,ir,tn,Qt,gr,Wn,vr);ie.pixelStorei(ie.UNPACK_ROW_LENGTH,qr),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,As),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,Qs),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,hr),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,zl),Mt===0&&yt.generateMipmaps&&ie.generateMipmap(Ci),ze.unbindTexture()},this.copyTextureToTexture3D=function(Pe,yt,Ge=null,lt=null,it=0){return Pe.isTexture!==!0&&(ov("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ge=arguments[0]||null,lt=arguments[1]||null,Pe=arguments[2],yt=arguments[3],it=arguments[4]||0),ov('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Pe,yt,Ge,lt,it)},this.initRenderTarget=function(Pe){Je.get(Pe).__webglFramebuffer===void 0&&pe.setupRenderTarget(Pe)},this.initTexture=function(Pe){Pe.isCubeTexture?pe.setTextureCube(Pe,0):Pe.isData3DTexture?pe.setTexture3D(Pe,0):Pe.isDataArrayTexture||Pe.isCompressedArrayTexture?pe.setTexture2DArray(Pe,0):pe.setTexture2D(Pe,0),ze.unbindTexture()},this.resetState=function(){S=0,T=0,C=null,ze.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Qu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=ti._getDrawingBufferColorSpace(e),t.unpackColorSpace=ti._getUnpackColorSpace()}}const _p=class _p{constructor(e,t){let r,i;this.promise=new Promise((c,u)=>{r=c,i=u});const a=r.bind(this),s=i.bind(this),o=(...c)=>{a(...c)},l=c=>{s(c)};e(o.bind(this),l.bind(this)),this.abortHandler=t,this.id=_p.idGen++}then(e){return new _p((t,r)=>{this.promise=this.promise.then((...i)=>{const a=e(...i);a instanceof Promise||a instanceof _p?a.then((...s)=>{t(...s)}):t(a)}).catch(i=>{r(i)})},this.abortHandler)}catch(e){return new _p(t=>{this.promise=this.promise.then((...r)=>{t(...r)}).catch(e)},this.abortHandler)}abort(e){this.abortHandler&&this.abortHandler(e)}};un(_p,"idGen",0);let F_=_p;class oC extends Error{constructor(e){super(e)}}(function(){const n=new Float32Array(1),e=new Int32Array(n.buffer);return function(t){n[0]=t;const r=e[0];let i=r>>16&32768,a=r>>12&2047;const s=r>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&r&8388607,i):s<113?(a|=2048,i|=(a>>114-s)+(a>>113-s&1),i):(i|=s-112<<10|a>>1,i+=a&1,i)}})();const OI=function(){const n=new Float32Array(1),e=new Int32Array(n.buffer);return function(t){return n[0]=t,e[0]}}(),Pct=function(n,e){return n[e]+(n[e+1]<<8)+(n[e+2]<<16)+(n[e+3]<<24)},vN=function(n,e,t=!0,r){const i=new AbortController,a=i.signal;let s=!1;const o=l=>{i.abort(l),s=!0};return new F_((l,c)=>{const u={signal:a};r&&(u.headers=r),fetch(n,u).then(async d=>{if(!d.ok){const g=await d.text();c(new Error(`Fetch failed: ${d.status} ${d.statusText} ${g}`));return}const f=d.body.getReader();let h=0,p=d.headers.get("Content-Length"),m=p?parseInt(p):void 0;const v=[];for(;!s;)try{const{value:g,done:y}=await f.read();if(y){if(e&&e(100,"100%",g,m),t){const x=new Blob(v).arrayBuffer();l(x)}else l();break}h+=g.length;let b,_;m!==void 0&&(b=h/m*100,_=`${b.toFixed(2)}%`),t&&v.push(g),e&&e(b,_,g,m)}catch(g){c(g);return}}).catch(d=>{c(new oC(d))})},o)},Ja=function(n,e,t){return Math.max(Math.min(n,t),e)},q0=function(){return performance.now()/1e3},lv=n=>{if(n.geometry&&(n.geometry.dispose(),n.geometry=null),n.material&&(n.material.dispose(),n.material=null),n.children)for(let e of n.children)lv(e)},dc=(n,e)=>new Promise(t=>{window.setTimeout(()=>{t(n())},e?1:50)}),Gv=(n=0)=>{switch(n){case 1:return 9;case 2:return 24}return 0},gN=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}},BI=n=>{let e,t;return n||(n=()=>{}),{promise:new F_((i,a)=>{e=i,t=a},n),resolve:e,reject:t}};class Dct{constructor(e,t,r){this.major=e,this.minor=t,this.patch=r}toString(){return`${this.major}_${this.minor}_${this.patch}`}}function yN(){const n=navigator.userAgent;return n.indexOf("iPhone")>0||n.indexOf("iPad")>0}function Zie(){if(yN()){const n=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return new Dct(parseInt(n[1]||0,10),parseInt(n[2]||0,10),parseInt(n[3]||0,10))}else return null}const kct=14,_b=class _b{constructor(e=0){this.sphericalHarmonicsDegree=e,this.sphericalHarmonicsCount=Gv(this.sphericalHarmonicsDegree),this.componentCount=this.sphericalHarmonicsCount+kct,this.defaultSphericalHarmonics=new Array(this.sphericalHarmonicsCount).fill(0),this.splats=[],this.splatCount=0}static createSplat(e=0){const t=[0,0,0,1,1,1,1,0,0,0,0,0,0,0];let r=Gv(e);for(let i=0;i<r;i++)t.push(0);return t}addSplat(e){this.splats.push(e),this.splatCount++}getSplat(e){return this.splats[e]}addDefaultSplat(){const e=_b.createSplat(this.sphericalHarmonicsDegree);return this.addSplat(e),e}addSplatFromComonents(e,t,r,i,a,s,o,l,c,u,d,f,h,p,...m){const v=[e,t,r,i,a,s,o,l,c,u,d,f,h,p,...this.defaultSphericalHarmonics];for(let g=0;g<m.length&&g<this.sphericalHarmonicsCount;g++)v[g]=m[g];return this.addSplat(v),v}addSplatFromArray(e,t){const r=e.splats[t],i=_b.createSplat(this.sphericalHarmonicsDegree);for(let a=0;a<this.componentCount&&a<r.length;a++)i[a]=r[a];this.addSplat(i)}};un(_b,"OFFSET",{X:0,Y:1,Z:2,SCALE0:3,SCALE1:4,SCALE2:5,ROTATION0:6,ROTATION1:7,ROTATION2:8,ROTATION3:9,FDC0:10,FDC1:11,FDC2:12,OPACITY:13,FRC0:14,FRC1:15,FRC2:16,FRC3:17,FRC4:18,FRC5:19,FRC6:20,FRC7:21,FRC8:22,FRC9:23,FRC10:24,FRC11:25,FRC12:26,FRC13:27,FRC14:28,FRC15:29,FRC16:30,FRC17:31,FRC18:32,FRC19:33,FRC20:34,FRC21:35,FRC22:36,FRC23:37});let Kn=_b;class zr{}un(zr,"DefaultSplatSortDistanceMapPrecision",16),un(zr,"MemoryPageSize",65536),un(zr,"BytesPerFloat",4),un(zr,"BytesPerInt",4),un(zr,"MaxScenes",32),un(zr,"ProgressiveLoadSectionSize",262144),un(zr,"ProgressiveLoadSectionDelayDuration",15),un(zr,"SphericalHarmonics8BitCompressionRange",3);const Lct=zr.SphericalHarmonics8BitCompressionRange,sf=Lct/2,ya=O_.toHalfFloat.bind(O_),bN=O_.fromHalfFloat.bind(O_),Fi=(n,e,t=!1,r,i)=>{if(e===0)return n;if(e===1||e===2&&!t)return O_.fromHalfFloat(n);if(e===2)return _N(n,r,i)},vb=(n,e,t)=>{n=Ja(n,e,t);const r=t-e;return Ja(Math.floor((n-e)/r*255),0,255)},_N=(n,e,t)=>{const r=t-e;return n/255*r+e},Qie=(n,e,t)=>vb(bN(n,e,t)),Nct=(n,e,t)=>ya(_N(n,e,t)),li=(n,e,t,r=!1)=>t===0?n.getFloat32(e*4,!0):t===1||t===2&&!r?n.getUint16(e*2,!0):n.getUint8(e,!0),Oct=function(){const n=e=>e;return function(e,t,r,i=!1){if(t===r)return e;let a=n;return t===2&&i?r===1?a=Nct:r==0&&(a=_N):t===2||t===1?r===0?a=bN:r==2&&(i?a=Qie:a=n):t===0&&(r===1?a=ya:r==2&&(i?a=vb:a=ya)),a(e)}}(),K0=(n,e,t,r,i=0)=>{const a=new Uint8Array(n,e),s=new Uint8Array(t,r);for(let o=0;o<i;o++)s[o]=a[o]},Ht=class Ht{constructor(e,t=!0){un(this,"getSplatScaleAndRotation",function(){const e=new ur,t=new ur,r=new ur,i=new tt,a=new tt,s=new Yi;return function(o,l,c,u,d){const f=this.globalSplatIndexToSectionMap[o],h=this.sections[f],p=o-h.splatCountOffset,m=h.bytesPerSplat*p+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,v=new DataView(this.bufferData,h.dataBase+m);a.set(Fi(li(v,0,this.compressionLevel),this.compressionLevel),Fi(li(v,1,this.compressionLevel),this.compressionLevel),Fi(li(v,2,this.compressionLevel),this.compressionLevel)),d&&(d.x!==void 0&&(a.x=d.x),d.y!==void 0&&(a.y=d.y),d.z!==void 0&&(a.z=d.z)),s.set(Fi(li(v,4,this.compressionLevel),this.compressionLevel),Fi(li(v,5,this.compressionLevel),this.compressionLevel),Fi(li(v,6,this.compressionLevel),this.compressionLevel),Fi(li(v,3,this.compressionLevel),this.compressionLevel)),u?(e.makeScale(a.x,a.y,a.z),t.makeRotationFromQuaternion(s),r.copy(e).multiply(t).multiply(u),r.decompose(i,c,l)):(l.copy(a),c.copy(s))}}());un(this,"fillSplatScaleRotationArray",function(){const e=new ur,t=new ur,r=new ur,i=new tt,a=new Yi,s=new tt,o=l=>{const c=l.w<0?-1:1;l.x*=c,l.y*=c,l.z*=c,l.w*=c};return function(l,c,u,d,f,h,p,m){const v=this.splatCount;d=d||0,f=f||v-1,h===void 0&&(h=d);const g=(y,b)=>(b===void 0&&(b=this.compressionLevel),Oct(y,b,p));for(let y=d;y<=f;y++){const b=this.globalSplatIndexToSectionMap[y],_=this.sections[b],x=y-_.splatCountOffset,S=_.bytesPerSplat*x+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,T=(y-d+h)*Ht.ScaleComponentCount,C=(y-d+h)*Ht.RotationComponentCount,M=new DataView(this.bufferData,_.dataBase+S),A=m&&m.x!==void 0?m.x:li(M,0,this.compressionLevel),I=m&&m.y!==void 0?m.y:li(M,1,this.compressionLevel),D=m&&m.z!==void 0?m.z:li(M,2,this.compressionLevel),L=li(M,3,this.compressionLevel),F=li(M,4,this.compressionLevel),B=li(M,5,this.compressionLevel),k=li(M,6,this.compressionLevel);i.set(Fi(A,this.compressionLevel),Fi(I,this.compressionLevel),Fi(D,this.compressionLevel)),a.set(Fi(F,this.compressionLevel),Fi(B,this.compressionLevel),Fi(k,this.compressionLevel),Fi(L,this.compressionLevel)).normalize(),u&&(s.set(0,0,0),e.makeScale(i.x,i.y,i.z),t.makeRotationFromQuaternion(a),r.identity().premultiply(e).premultiply(t),r.premultiply(u),r.decompose(s,a,i),a.normalize()),o(a),l&&(l[T]=g(i.x,0),l[T+1]=g(i.y,0),l[T+2]=g(i.z,0)),c&&(c[C]=g(a.x,0),c[C+1]=g(a.y,0),c[C+2]=g(a.z,0),c[C+3]=g(a.w,0))}}}());un(this,"fillSphericalHarmonicsArray",function(){for(let F=0;F<15;F++)new tt;const e=new cr,t=new ur,r=new tt,i=new tt,a=new Yi,s=[],o=[],l=[],c=[],u=[],d=[],f=[],h=[],p=[],m=[],v=[],g=[],y=[],b=[],_=[],x=[],S=[],T=[],C=F=>F,M=(F,B,k,H)=>{F[0]=B,F[1]=k,F[2]=H},A=(F,B,k,H,z)=>{F[0]=li(B,H,z,!0),F[1]=li(B,H+k,z,!0),F[2]=li(B,H+k+k,z,!0)},I=(F,B)=>{B[0]=F[0],B[1]=F[1],B[2]=F[2]},D=(F,B,k,H)=>{B[k]=H(F[0]),B[k+1]=H(F[1]),B[k+2]=H(F[2])},L=(F,B,k,H,z)=>(B[0]=Fi(F[0],k,!0,H,z),B[1]=Fi(F[1],k,!0,H,z),B[2]=Fi(F[2],k,!0,H,z),B);return function(F,B,k,H,z,O,G){const X=this.splatCount;H=H||0,z=z||X-1,O===void 0&&(O=H),k&&B>=1&&(t.copy(k),t.decompose(r,a,i),a.normalize(),t.makeRotationFromQuaternion(a),e.setFromMatrix4(t),M(s,e.elements[4],-e.elements[7],e.elements[1]),M(o,-e.elements[5],e.elements[8],-e.elements[2]),M(l,e.elements[3],-e.elements[6],e.elements[0]));const J=re=>Qie(re,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff),Q=re=>vb(re,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff);for(let re=H;re<=z;re++){const de=this.globalSplatIndexToSectionMap[re],le=this.sections[de];B=Math.min(B,le.sphericalHarmonicsDegree);const fe=Gv(B),Ee=re-le.splatCountOffset,Re=le.bytesPerSplat*Ee+Ht.CompressionLevels[this.compressionLevel].SphericalHarmonicsOffsetBytes,He=new DataView(this.bufferData,le.dataBase+Re),$e=(re-H+O)*fe;let K=k?0:this.compressionLevel,ce=C;K!==G&&(K===1?G===0?ce=bN:G==2&&(ce=J):K===0&&(G===1?ce=ya:G==2&&(ce=Q)));const ie=this.minSphericalHarmonicsCoeff,Ue=this.maxSphericalHarmonicsCoeff;B>=1&&(A(p,He,3,0,this.compressionLevel),A(m,He,3,1,this.compressionLevel),A(v,He,3,2,this.compressionLevel),k?(L(p,p,this.compressionLevel,ie,Ue),L(m,m,this.compressionLevel,ie,Ue),L(v,v,this.compressionLevel,ie,Ue),Ht.rotateSphericalHarmonics3(p,m,v,s,o,l,b,_,x)):(I(p,b),I(m,_),I(v,x)),D(b,F,$e,ce),D(_,F,$e+3,ce),D(x,F,$e+6,ce),B>=2&&(A(p,He,5,9,this.compressionLevel),A(m,He,5,10,this.compressionLevel),A(v,He,5,11,this.compressionLevel),A(g,He,5,12,this.compressionLevel),A(y,He,5,13,this.compressionLevel),k?(L(p,p,this.compressionLevel,ie,Ue),L(m,m,this.compressionLevel,ie,Ue),L(v,v,this.compressionLevel,ie,Ue),L(g,g,this.compressionLevel,ie,Ue),L(y,y,this.compressionLevel,ie,Ue),Ht.rotateSphericalHarmonics5(p,m,v,g,y,s,o,l,c,u,d,f,h,b,_,x,S,T)):(I(p,b),I(m,_),I(v,x),I(g,S),I(y,T)),D(b,F,$e+9,ce),D(_,F,$e+12,ce),D(x,F,$e+15,ce),D(S,F,$e+18,ce),D(T,F,$e+21,ce)))}}}());this.constructFromBuffer(e,t)}getSplatCount(){return this.splatCount}getMaxSplatCount(){return this.maxSplatCount}getMinSphericalHarmonicsDegree(){let e=0;for(let t=0;t<this.sections.length;t++){const r=this.sections[t];(t===0||r.sphericalHarmonicsDegree<e)&&(e=r.sphericalHarmonicsDegree)}return e}getBucketIndex(e,t){let r;const i=e.fullBucketCount*e.bucketSize;if(t<i)r=Math.floor(t/e.bucketSize);else{let a=i;r=e.fullBucketCount;let s=0;for(;a<e.splatCount;){let o=e.partiallyFilledBucketLengths[s];if(t>=a&&t<a+o)break;a+=o,r++,s++}}return r}getSplatCenter(e,t,r){const i=this.globalSplatIndexToSectionMap[e],a=this.sections[i],s=e-a.splatCountOffset,o=a.bytesPerSplat*s,l=new DataView(this.bufferData,a.dataBase+o),c=li(l,0,this.compressionLevel),u=li(l,1,this.compressionLevel),d=li(l,2,this.compressionLevel);if(this.compressionLevel>=1){const h=this.getBucketIndex(a,s)*Ht.BucketStorageSizeFloats,p=a.compressionScaleFactor,m=a.compressionScaleRange;t.x=(c-m)*p+a.bucketArray[h],t.y=(u-m)*p+a.bucketArray[h+1],t.z=(d-m)*p+a.bucketArray[h+2]}else t.x=c,t.y=u,t.z=d;r&&t.applyMatrix4(r)}getSplatColor(e,t){const r=this.globalSplatIndexToSectionMap[e],i=this.sections[r],a=e-i.splatCountOffset,s=i.bytesPerSplat*a+Ht.CompressionLevels[this.compressionLevel].ColorOffsetBytes,o=new Uint8Array(this.bufferData,i.dataBase+s,4);t.set(o[0],o[1],o[2],o[3])}fillSplatCenterArray(e,t,r,i,a){const s=this.splatCount;r=r||0,i=i||s-1,a===void 0&&(a=r);const o=new tt;for(let l=r;l<=i;l++){const c=this.globalSplatIndexToSectionMap[l],u=this.sections[c],d=l-u.splatCountOffset,f=(l-r+a)*Ht.CenterComponentCount,h=u.bytesPerSplat*d,p=new DataView(this.bufferData,u.dataBase+h),m=li(p,0,this.compressionLevel),v=li(p,1,this.compressionLevel),g=li(p,2,this.compressionLevel);if(this.compressionLevel>=1){const b=this.getBucketIndex(u,d)*Ht.BucketStorageSizeFloats,_=u.compressionScaleFactor,x=u.compressionScaleRange;o.x=(m-x)*_+u.bucketArray[b],o.y=(v-x)*_+u.bucketArray[b+1],o.z=(g-x)*_+u.bucketArray[b+2]}else o.x=m,o.y=v,o.z=g;t&&o.applyMatrix4(t),e[f]=o.x,e[f+1]=o.y,e[f+2]=o.z}}fillSplatCovarianceArray(e,t,r,i,a,s){const o=this.splatCount,l=new tt,c=new Yi;r=r||0,i=i||o-1,a===void 0&&(a=r);for(let u=r;u<=i;u++){const d=this.globalSplatIndexToSectionMap[u],f=this.sections[d],h=u-f.splatCountOffset,p=(u-r+a)*Ht.CovarianceComponentCount,m=f.bytesPerSplat*h+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,v=new DataView(this.bufferData,f.dataBase+m);l.set(Fi(li(v,0,this.compressionLevel),this.compressionLevel),Fi(li(v,1,this.compressionLevel),this.compressionLevel),Fi(li(v,2,this.compressionLevel),this.compressionLevel)),c.set(Fi(li(v,4,this.compressionLevel),this.compressionLevel),Fi(li(v,5,this.compressionLevel),this.compressionLevel),Fi(li(v,6,this.compressionLevel),this.compressionLevel),Fi(li(v,3,this.compressionLevel),this.compressionLevel)),Ht.computeCovariance(l,c,t,e,p,s)}}fillSplatColorArray(e,t,r,i,a){const s=this.splatCount;r=r||0,i=i||s-1,a===void 0&&(a=r);for(let o=r;o<=i;o++){const l=this.globalSplatIndexToSectionMap[o],c=this.sections[l],u=o-c.splatCountOffset,d=(o-r+a)*Ht.ColorComponentCount,f=c.bytesPerSplat*u+Ht.CompressionLevels[this.compressionLevel].ColorOffsetBytes,h=new Uint8Array(this.bufferData,c.dataBase+f);let p=h[3];p=p>=t?p:0,e[d]=h[0],e[d+1]=h[1],e[d+2]=h[2],e[d+3]=p}}static parseHeader(e){const t=new Uint8Array(e,0,Ht.HeaderSizeBytes),r=new Uint16Array(e,0,Ht.HeaderSizeBytes/2),i=new Uint32Array(e,0,Ht.HeaderSizeBytes/4),a=new Float32Array(e,0,Ht.HeaderSizeBytes/4),s=t[0],o=t[1],l=i[1],c=i[2],u=i[3],d=i[4],f=r[10],h=new tt(a[6],a[7],a[8]),p=a[9]||-sf,m=a[10]||sf;return{versionMajor:s,versionMinor:o,maxSectionCount:l,sectionCount:c,maxSplatCount:u,splatCount:d,compressionLevel:f,sceneCenter:h,minSphericalHarmonicsCoeff:p,maxSphericalHarmonicsCoeff:m}}static writeHeaderCountsToBuffer(e,t,r){const i=new Uint32Array(r,0,Ht.HeaderSizeBytes/4);i[2]=e,i[4]=t}static writeHeaderToBuffer(e,t){const r=new Uint8Array(t,0,Ht.HeaderSizeBytes),i=new Uint16Array(t,0,Ht.HeaderSizeBytes/2),a=new Uint32Array(t,0,Ht.HeaderSizeBytes/4),s=new Float32Array(t,0,Ht.HeaderSizeBytes/4);r[0]=e.versionMajor,r[1]=e.versionMinor,r[2]=0,r[3]=0,a[1]=e.maxSectionCount,a[2]=e.sectionCount,a[3]=e.maxSplatCount,a[4]=e.splatCount,i[10]=e.compressionLevel,s[6]=e.sceneCenter.x,s[7]=e.sceneCenter.y,s[8]=e.sceneCenter.z,s[9]=e.minSphericalHarmonicsCoeff||-sf,s[10]=e.maxSphericalHarmonicsCoeff||sf}static parseSectionHeaders(e,t,r=0,i){const a=e.compressionLevel,s=e.maxSectionCount,o=new Uint16Array(t,r,s*Ht.SectionHeaderSizeBytes/2),l=new Uint32Array(t,r,s*Ht.SectionHeaderSizeBytes/4),c=new Float32Array(t,r,s*Ht.SectionHeaderSizeBytes/4),u=[];let d=0,f=d/2,h=d/4,p=Ht.HeaderSizeBytes+e.maxSectionCount*Ht.SectionHeaderSizeBytes,m=0;for(let v=0;v<s;v++){const g=l[h+1],y=l[h+2],b=l[h+3],_=c[h+4],x=_/2,S=o[f+10],T=l[h+6]||Ht.CompressionLevels[a].ScaleRange,C=l[h+8],M=l[h+9],A=M*4,I=S*b+A,D=o[f+20],{bytesPerSplat:L}=Ht.calculateComponentStorage(a,D),F=L*g,B=F+I,k={bytesPerSplat:L,splatCountOffset:m,splatCount:i?g:0,maxSplatCount:g,bucketSize:y,bucketCount:b,bucketBlockSize:_,halfBucketBlockSize:x,bucketStorageSizeBytes:S,bucketsStorageSizeBytes:I,splatDataStorageSizeBytes:F,storageSizeBytes:B,compressionScaleRange:T,compressionScaleFactor:x/T,base:p,bucketsBase:p+A,dataBase:p+I,fullBucketCount:C,partiallyFilledBucketCount:M,sphericalHarmonicsDegree:D};u[v]=k,p+=B,d+=Ht.SectionHeaderSizeBytes,f=d/2,h=d/4,m+=g}return u}static writeSectionHeaderToBuffer(e,t,r,i=0){const a=new Uint16Array(r,i,Ht.SectionHeaderSizeBytes/2),s=new Uint32Array(r,i,Ht.SectionHeaderSizeBytes/4),o=new Float32Array(r,i,Ht.SectionHeaderSizeBytes/4);s[0]=e.splatCount,s[1]=e.maxSplatCount,s[2]=t>=1?e.bucketSize:0,s[3]=t>=1?e.bucketCount:0,o[4]=t>=1?e.bucketBlockSize:0,a[10]=t>=1?Ht.BucketStorageSizeBytes:0,s[6]=t>=1?e.compressionScaleRange:0,s[7]=e.storageSizeBytes,s[8]=t>=1?e.fullBucketCount:0,s[9]=t>=1?e.partiallyFilledBucketCount:0,a[20]=e.sphericalHarmonicsDegree}static writeSectionHeaderSplatCountToBuffer(e,t,r=0){const i=new Uint32Array(t,r,Ht.SectionHeaderSizeBytes/4);i[0]=e}constructFromBuffer(e,t){this.bufferData=e,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSectionMap=[];const r=Ht.parseHeader(this.bufferData);this.versionMajor=r.versionMajor,this.versionMinor=r.versionMinor,this.maxSectionCount=r.maxSectionCount,this.sectionCount=t?r.maxSectionCount:0,this.maxSplatCount=r.maxSplatCount,this.splatCount=t?r.maxSplatCount:0,this.compressionLevel=r.compressionLevel,this.sceneCenter=new tt().copy(r.sceneCenter),this.minSphericalHarmonicsCoeff=r.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff=r.maxSphericalHarmonicsCoeff,this.sections=Ht.parseSectionHeaders(r,this.bufferData,Ht.HeaderSizeBytes,t),this.linkBufferArrays(),this.buildMaps()}static calculateComponentStorage(e,t){const r=Ht.CompressionLevels[e].BytesPerCenter,i=Ht.CompressionLevels[e].BytesPerScale,a=Ht.CompressionLevels[e].BytesPerRotation,s=Ht.CompressionLevels[e].BytesPerColor,o=Gv(t),l=Ht.CompressionLevels[e].BytesPerSphericalHarmonicsComponent*o,c=r+i+a+s+l;return{bytesPerCenter:r,bytesPerScale:i,bytesPerRotation:a,bytesPerColor:s,sphericalHarmonicsComponentsPerSplat:o,sphericalHarmonicsBytesPerSplat:l,bytesPerSplat:c}}linkBufferArrays(){for(let e=0;e<this.maxSectionCount;e++){const t=this.sections[e];t.bucketArray=new Float32Array(this.bufferData,t.bucketsBase,t.bucketCount*Ht.BucketStorageSizeFloats),t.partiallyFilledBucketCount>0&&(t.partiallyFilledBucketLengths=new Uint32Array(this.bufferData,t.base,t.partiallyFilledBucketCount))}}buildMaps(){let e=0;for(let t=0;t<this.maxSectionCount;t++){const r=this.sections[t];for(let i=0;i<r.maxSplatCount;i++){const a=e+i;this.globalSplatIndexToLocalSplatIndexMap[a]=i,this.globalSplatIndexToSectionMap[a]=t}e+=r.maxSplatCount}}updateLoadedCounts(e,t){Ht.writeHeaderCountsToBuffer(e,t,this.bufferData),this.sectionCount=e,this.splatCount=t}updateSectionLoadedCounts(e,t){const r=Ht.HeaderSizeBytes+Ht.SectionHeaderSizeBytes*e;Ht.writeSectionHeaderSplatCountToBuffer(t,this.bufferData,r),this.sections[e].splatCount=t}static generateFromUncompressedSplatArrays(e,t,r,i,a,s,o=[]){let l=0;for(let x=0;x<e.length;x++){const S=e[x];l=Math.max(S.sphericalHarmonicsDegree,l)}let c,u;for(let x=0;x<e.length;x++){const S=e[x];for(let T=0;T<S.splats.length;T++){const C=S.splats[T];for(let M=Kn.OFFSET.FRC0;M<Kn.OFFSET.FRC23&&M<C.length;M++)(!c||C[M]<c)&&(c=C[M]),(!u||C[M]>u)&&(u=C[M])}}c=c||-sf,u=u||sf;const{bytesPerSplat:d}=Ht.calculateComponentStorage(r,l),f=Ht.CompressionLevels[r].ScaleRange,h=[],p=[];let m=0;for(let x=0;x<e.length;x++){const S=e[x],T=new Kn(l);for(let de=0;de<S.splatCount;de++){const le=S.splats[de];(le[Kn.OFFSET.OPACITY]||0)>=t&&T.addSplat(le)}const C=o[x]||{},M=(C.blockSizeFactor||1)*(a||Ht.BucketBlockSize),A=Math.ceil((C.bucketSizeFactor||1)*(s||Ht.BucketSize)),I=Ht.computeBucketsForUncompressedSplatArray(T,M,A),D=I.fullBuckets.length,L=I.partiallyFullBuckets.map(de=>de.splats.length),F=L.length,B=[...I.fullBuckets,...I.partiallyFullBuckets],k=T.splats.length*d,H=F*4,z=r>=1?B.length*Ht.BucketStorageSizeBytes+H:0,O=k+z,G=new ArrayBuffer(O),X=f/(M*.5),J=new tt;let Q=0;for(let de=0;de<B.length;de++){const le=B[de];J.fromArray(le.center);for(let fe=0;fe<le.splats.length;fe++){let Ee=le.splats[fe];const Re=T.splats[Ee],He=z+Q*d;Ht.writeSplatDataToSectionBuffer(Re,G,He,r,l,J,X,f,c,u),Q++}}if(m+=Q,r>=1){const de=new Uint32Array(G,0,L.length*4);for(let fe=0;fe<L.length;fe++)de[fe]=L[fe];const le=new Float32Array(G,H,B.length*Ht.BucketStorageSizeFloats);for(let fe=0;fe<B.length;fe++){const Ee=B[fe],Re=fe*3;le[Re]=Ee.center[0],le[Re+1]=Ee.center[1],le[Re+2]=Ee.center[2]}}h.push(G);const re=new ArrayBuffer(Ht.SectionHeaderSizeBytes);Ht.writeSectionHeaderToBuffer({maxSplatCount:Q,splatCount:Q,bucketSize:A,bucketCount:B.length,bucketBlockSize:M,compressionScaleRange:f,storageSizeBytes:O,fullBucketCount:D,partiallyFilledBucketCount:F,sphericalHarmonicsDegree:l},r,re,0),p.push(re)}let v=0;for(let x of h)v+=x.byteLength;const g=Ht.HeaderSizeBytes+Ht.SectionHeaderSizeBytes*h.length+v,y=new ArrayBuffer(g);Ht.writeHeaderToBuffer({versionMajor:0,versionMinor:1,maxSectionCount:h.length,sectionCount:h.length,maxSplatCount:m,splatCount:m,compressionLevel:r,sceneCenter:i,minSphericalHarmonicsCoeff:c,maxSphericalHarmonicsCoeff:u},y);let b=Ht.HeaderSizeBytes;for(let x of p)new Uint8Array(y,b,Ht.SectionHeaderSizeBytes).set(new Uint8Array(x)),b+=Ht.SectionHeaderSizeBytes;for(let x of h)new Uint8Array(y,b,x.byteLength).set(new Uint8Array(x)),b+=x.byteLength;return new Ht(y)}static computeBucketsForUncompressedSplatArray(e,t,r){let i=e.splatCount;const a=t/2,s=new tt,o=new tt;for(let m=0;m<i;m++){const v=e.splats[m],g=[v[Kn.OFFSET.X],v[Kn.OFFSET.Y],v[Kn.OFFSET.Z]];(m===0||g[0]<s.x)&&(s.x=g[0]),(m===0||g[0]>o.x)&&(o.x=g[0]),(m===0||g[1]<s.y)&&(s.y=g[1]),(m===0||g[1]>o.y)&&(o.y=g[1]),(m===0||g[2]<s.z)&&(s.z=g[2]),(m===0||g[2]>o.z)&&(o.z=g[2])}const l=new tt().copy(o).sub(s),c=Math.ceil(l.y/t),u=Math.ceil(l.z/t),d=new tt,f=[],h={};for(let m=0;m<i;m++){const v=e.splats[m],g=[v[Kn.OFFSET.X],v[Kn.OFFSET.Y],v[Kn.OFFSET.Z]],y=Math.floor((g[0]-s.x)/t),b=Math.floor((g[1]-s.y)/t),_=Math.floor((g[2]-s.z)/t);d.x=y*t+s.x+a,d.y=b*t+s.y+a,d.z=_*t+s.z+a;const x=y*(c*u)+b*u+_;let S=h[x];S||(h[x]=S={splats:[],center:d.toArray()}),S.splats.push(m),S.splats.length>=r&&(f.push(S),h[x]=null)}const p=[];for(let m in h)if(h.hasOwnProperty(m)){const v=h[m];v&&p.push(v)}return{fullBuckets:f,partiallyFullBuckets:p}}};un(Ht,"CurrentMajorVersion",0),un(Ht,"CurrentMinorVersion",1),un(Ht,"CenterComponentCount",3),un(Ht,"ScaleComponentCount",3),un(Ht,"RotationComponentCount",4),un(Ht,"ColorComponentCount",4),un(Ht,"CovarianceComponentCount",6),un(Ht,"SplatScaleOffsetFloat",3),un(Ht,"SplatRotationOffsetFloat",6),un(Ht,"CompressionLevels",{0:{BytesPerCenter:12,BytesPerScale:12,BytesPerRotation:16,BytesPerColor:4,ScaleOffsetBytes:12,RotationffsetBytes:24,ColorOffsetBytes:40,SphericalHarmonicsOffsetBytes:44,ScaleRange:1,BytesPerSphericalHarmonicsComponent:4,SphericalHarmonicsOffsetFloat:11,SphericalHarmonicsDegrees:{0:{BytesPerSplat:44},1:{BytesPerSplat:80},2:{BytesPerSplat:140}}},1:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:2,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:42},2:{BytesPerSplat:72}}},2:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:1,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:33},2:{BytesPerSplat:48}}}}),un(Ht,"CovarianceSizeFloats",6),un(Ht,"HeaderSizeBytes",4096),un(Ht,"SectionHeaderSizeBytes",1024),un(Ht,"BucketStorageSizeBytes",12),un(Ht,"BucketStorageSizeFloats",3),un(Ht,"BucketBlockSize",5),un(Ht,"BucketSize",256),un(Ht,"computeCovariance",function(){const e=new ur,t=new cr,r=new cr,i=new cr,a=new cr,s=new cr,o=new cr;return function(l,c,u,d,f=0,h){e.makeScale(l.x,l.y,l.z),t.setFromMatrix4(e),e.makeRotationFromQuaternion(c),r.setFromMatrix4(e),i.copy(r).multiply(t),a.copy(i).transpose().premultiply(i),u&&(s.setFromMatrix4(u),o.copy(s).transpose(),a.multiply(o),a.premultiply(s)),h>=1?(d[f]=ya(a.elements[0]),d[f+1]=ya(a.elements[3]),d[f+2]=ya(a.elements[6]),d[f+3]=ya(a.elements[4]),d[f+4]=ya(a.elements[7]),d[f+5]=ya(a.elements[8])):(d[f]=a.elements[0],d[f+1]=a.elements[3],d[f+2]=a.elements[6],d[f+3]=a.elements[4],d[f+4]=a.elements[7],d[f+5]=a.elements[8])}}()),un(Ht,"dot3",(e,t,r,i,a)=>{a[0]=a[1]=a[2]=0;const s=i[0],o=i[1],l=i[2];Ht.addInto3(e[0]*s,e[1]*s,e[2]*s,a),Ht.addInto3(t[0]*o,t[1]*o,t[2]*o,a),Ht.addInto3(r[0]*l,r[1]*l,r[2]*l,a)}),un(Ht,"addInto3",(e,t,r,i)=>{i[0]=i[0]+e,i[1]=i[1]+t,i[2]=i[2]+r}),un(Ht,"dot5",(e,t,r,i,a,s,o)=>{o[0]=o[1]=o[2]=0;const l=s[0],c=s[1],u=s[2],d=s[3],f=s[4];Ht.addInto3(e[0]*l,e[1]*l,e[2]*l,o),Ht.addInto3(t[0]*c,t[1]*c,t[2]*c,o),Ht.addInto3(r[0]*u,r[1]*u,r[2]*u,o),Ht.addInto3(i[0]*d,i[1]*d,i[2]*d,o),Ht.addInto3(a[0]*f,a[1]*f,a[2]*f,o)}),un(Ht,"rotateSphericalHarmonics3",(e,t,r,i,a,s,o,l,c)=>{Ht.dot3(e,t,r,i,o),Ht.dot3(e,t,r,a,l),Ht.dot3(e,t,r,s,c)}),un(Ht,"rotateSphericalHarmonics5",(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v,g,y)=>{const b=Math.sqrt(.25),_=Math.sqrt(3/4),x=Math.sqrt(1/3),S=Math.sqrt(4/3),T=Math.sqrt(1/12);c[0]=b*(l[2]*s[0]+l[0]*s[2]+(s[2]*l[0]+s[0]*l[2])),c[1]=l[1]*s[0]+s[1]*l[0],c[2]=_*(l[1]*s[1]+s[1]*l[1]),c[3]=l[1]*s[2]+s[1]*l[2],c[4]=b*(l[2]*s[2]-l[0]*s[0]+(s[2]*l[2]-s[0]*l[0])),Ht.dot5(e,t,r,i,a,c,p),u[0]=b*(o[2]*s[0]+o[0]*s[2]+(s[2]*o[0]+s[0]*o[2])),u[1]=o[1]*s[0]+s[1]*o[0],u[2]=_*(o[1]*s[1]+s[1]*o[1]),u[3]=o[1]*s[2]+s[1]*o[2],u[4]=b*(o[2]*s[2]-o[0]*s[0]+(s[2]*o[2]-s[0]*o[0])),Ht.dot5(e,t,r,i,a,u,m),d[0]=x*(o[2]*o[0]+o[0]*o[2])+-T*(l[2]*l[0]+l[0]*l[2]+(s[2]*s[0]+s[0]*s[2])),d[1]=S*o[1]*o[0]+-x*(l[1]*l[0]+s[1]*s[0]),d[2]=o[1]*o[1]+-b*(l[1]*l[1]+s[1]*s[1]),d[3]=S*o[1]*o[2]+-x*(l[1]*l[2]+s[1]*s[2]),d[4]=x*(o[2]*o[2]-o[0]*o[0])+-T*(l[2]*l[2]-l[0]*l[0]+(s[2]*s[2]-s[0]*s[0])),Ht.dot5(e,t,r,i,a,d,v),f[0]=b*(o[2]*l[0]+o[0]*l[2]+(l[2]*o[0]+l[0]*o[2])),f[1]=o[1]*l[0]+l[1]*o[0],f[2]=_*(o[1]*l[1]+l[1]*o[1]),f[3]=o[1]*l[2]+l[1]*o[2],f[4]=b*(o[2]*l[2]-o[0]*l[0]+(l[2]*o[2]-l[0]*o[0])),Ht.dot5(e,t,r,i,a,f,g),h[0]=b*(l[2]*l[0]+l[0]*l[2]-(s[2]*s[0]+s[0]*s[2])),h[1]=l[1]*l[0]-s[1]*s[0],h[2]=_*(l[1]*l[1]-s[1]*s[1]),h[3]=l[1]*l[2]-s[1]*s[2],h[4]=b*(l[2]*l[2]-l[0]*l[0]-(s[2]*s[2]-s[0]*s[0])),Ht.dot5(e,t,r,i,a,h,y)}),un(Ht,"writeSplatDataToSectionBuffer",function(){const e=new ArrayBuffer(12),t=new ArrayBuffer(12),r=new ArrayBuffer(16),i=new ArrayBuffer(4),a=new ArrayBuffer(256),s=new Yi,o=new tt,l=new tt,{X:c,Y:u,Z:d,SCALE0:f,SCALE1:h,SCALE2:p,ROTATION0:m,ROTATION1:v,ROTATION2:g,ROTATION3:y,FDC0:b,FDC1:_,FDC2:x,OPACITY:S,FRC0:T,FRC9:C}=Kn.OFFSET,M=(A,I,D)=>{const L=D*2+1;return A=Math.round(A*I)+D,Ja(A,0,L)};return function(A,I,D,L,F,B,k,H,z=-sf,O=sf){const G=Gv(F),X=Ht.CompressionLevels[L].BytesPerCenter,J=Ht.CompressionLevels[L].BytesPerScale,Q=Ht.CompressionLevels[L].BytesPerRotation,re=Ht.CompressionLevels[L].BytesPerColor,de=D,le=de+X,fe=le+J,Ee=fe+Q,Re=Ee+re;if(A[m]!==void 0?(s.set(A[m],A[v],A[g],A[y]),s.normalize()):s.set(1,0,0,0),A[f]!==void 0?o.set(A[f]||0,A[h]||0,A[p]||0):o.set(0,0,0),L===0){const $e=new Float32Array(I,de,Ht.CenterComponentCount),K=new Float32Array(I,fe,Ht.RotationComponentCount),ce=new Float32Array(I,le,Ht.ScaleComponentCount);if(K.set([s.x,s.y,s.z,s.w]),ce.set([o.x,o.y,o.z]),$e.set([A[c],A[u],A[d]]),F>0){const ie=new Float32Array(I,Re,G);if(F>=1){for(let Ue=0;Ue<9;Ue++)ie[Ue]=A[T+Ue]||0;if(F>=2)for(let Ue=0;Ue<15;Ue++)ie[Ue+9]=A[C+Ue]||0}}}else{const $e=new Uint16Array(e,0,Ht.CenterComponentCount),K=new Uint16Array(r,0,Ht.RotationComponentCount),ce=new Uint16Array(t,0,Ht.ScaleComponentCount);if(K.set([ya(s.x),ya(s.y),ya(s.z),ya(s.w)]),ce.set([ya(o.x),ya(o.y),ya(o.z)]),l.set(A[c],A[u],A[d]).sub(B),l.x=M(l.x,k,H),l.y=M(l.y,k,H),l.z=M(l.z,k,H),$e.set([l.x,l.y,l.z]),F>0){const ie=L===1?Uint16Array:Uint8Array,Ue=L===1?2:1,De=new ie(a,0,G);if(F>=1){for(let ze=0;ze<9;ze++){const Ve=A[T+ze]||0;De[ze]=L===1?ya(Ve):vb(Ve,z,O)}const Ye=9*Ue;if(K0(De.buffer,0,I,Re,Ye),F>=2){for(let ze=0;ze<15;ze++){const Ve=A[C+ze]||0;De[ze+9]=L===1?ya(Ve):vb(Ve,z,O)}K0(De.buffer,Ye,I,Re+Ye,15*Ue)}}}K0($e.buffer,0,I,de,6),K0(ce.buffer,0,I,le,6),K0(K.buffer,0,I,fe,8)}const He=new Uint8ClampedArray(i,0,4);He.set([A[b]||0,A[_]||0,A[x]||0]),He[3]=A[S]||0,K0(He.buffer,0,I,Ee,4)}}());let jn=Ht;const TW=new Uint8Array([112,108,121,10]),AW=new Uint8Array([10,101,110,100,95,104,101,97,100,101,114,10]),FI="end_header",zI=new Map([["char",Int8Array],["uchar",Uint8Array],["short",Int16Array],["ushort",Uint16Array],["int",Int32Array],["uint",Uint32Array],["float",Float32Array],["double",Float64Array]]),Zc=(n,e)=>{const t=(1<<e)-1;return(n&t)/t},EW=(n,e)=>{n.x=Zc(e>>>21,11),n.y=Zc(e>>>11,10),n.z=Zc(e,11)},Bct=(n,e)=>{n.x=Zc(e>>>24,8),n.y=Zc(e>>>16,8),n.z=Zc(e>>>8,8),n.w=Zc(e,8)},Fct=(n,e)=>{const t=1/(Math.sqrt(2)*.5),r=(Zc(e>>>20,10)-.5)*t,i=(Zc(e>>>10,10)-.5)*t,a=(Zc(e,10)-.5)*t,s=Math.sqrt(1-(r*r+i*i+a*a));switch(e>>>30){case 0:n.set(s,r,i,a);break;case 1:n.set(r,s,i,a);break;case 2:n.set(r,i,s,a);break;case 3:n.set(r,i,a,s);break}},Y0=(n,e,t)=>n*(1-t)+e*t,fs=(n,e)=>{var t;return(t=n.properties.find(r=>r.name===e&&r.storage))==null?void 0:t.storage},ms=class ms{static decodeHeaderText(e){let t,r,i;const a=e.split(`
`).filter(l=>!l.startsWith("comment "));let s=0,o=!1;for(let l=1;l<a.length;++l){const c=a[l].split(" ");switch(c[0]){case"format":if(c[1]!=="binary_little_endian")throw new Error("Unsupported ply format");break;case"element":t={name:c[1],count:parseInt(c[2],10),properties:[],storageSizeBytes:0},t.name==="chunk"?r=t:t.name==="vertex"&&(i=t);break;case"property":{if(!zI.has(c[1]))throw new Error(`Unrecognized property data type '${c[1]}' in ply header`);const u=zI.get(c[1]),d=u.BYTES_PER_ELEMENT*t.count;t.name==="vertex"&&(s+=u.BYTES_PER_ELEMENT),t.properties.push({type:c[1],name:c[2],storage:null,byteSize:u.BYTES_PER_ELEMENT,storageSizeByes:d}),t.storageSizeBytes+=d;break}case FI:o=!0;break;default:throw new Error(`Unrecognized header value '${c[0]}' in ply header`)}if(o)break}return{chunkElement:r,vertexElement:i,bytesPerSplat:s,headerSizeBytes:e.indexOf(FI)+FI.length+1,sphericalHarmonicsDegree:0}}static decodeHeader(e){const t=(u,d)=>{const f=u.length-d.length;let h,p;for(h=0;h<=f;++h){for(p=0;p<d.length&&u[h+p]===d[p];++p);if(p===d.length)return h}return-1},r=(u,d)=>{if(u.length<d.length)return!1;for(let f=0;f<d.length;++f)if(u[f]!==d[f])return!1;return!0};let i=new Uint8Array(e),a;if(i.length>=TW.length&&!r(i,TW))throw new Error("Invalid PLY header");if(a=t(i,AW),a===-1)throw new Error("End of PLY header not found");const s=new TextDecoder("ascii").decode(i.slice(0,a)),{chunkElement:o,vertexElement:l,bytesPerSplat:c}=ms.decodeHeaderText(s);return{headerSizeBytes:a+AW.length,bytesPerSplat:c,chunkElement:o,vertexElement:l}}static readElementData(e,t,r,i,a,s=null){let o=t instanceof DataView?t:new DataView(t);i=i||0,a=a||e.count-1;for(let l=i;l<=a;++l)for(let c=0;c<e.properties.length;++c){const u=e.properties[c],d=zI.get(u.type),f=d.BYTES_PER_ELEMENT*e.count;if((!u.storage||u.storage.byteLength<f)&&(!s||s(u.name))&&(u.storage=new d(e.count)),u.storage)switch(u.type){case"char":u.storage[l]=o.getInt8(r);break;case"uchar":u.storage[l]=o.getUint8(r);break;case"short":u.storage[l]=o.getInt16(r,!0);break;case"ushort":u.storage[l]=o.getUint16(r,!0);break;case"int":u.storage[l]=o.getInt32(r,!0);break;case"uint":u.storage[l]=o.getUint32(r,!0);break;case"float":u.storage[l]=o.getFloat32(r,!0);break;case"double":u.storage[l]=o.getFloat64(r,!0);break}r+=u.byteSize}return r}static readPly(e,t=null){const r=ms.decodeHeader(e);let i=ms.readElementData(r.chunkElement,e,r.headerSizeBytes,null,null,t);return ms.readElementData(r.vertexElement,e,i,null,null,t),{chunkElement:r.chunkElement,vertexElement:r.vertexElement}}static getElementStorageArrays(e,t){const r=fs(e,"min_x"),i=fs(e,"min_y"),a=fs(e,"min_z"),s=fs(e,"max_x"),o=fs(e,"max_y"),l=fs(e,"max_z"),c=fs(e,"min_scale_x"),u=fs(e,"min_scale_y"),d=fs(e,"min_scale_z"),f=fs(e,"max_scale_x"),h=fs(e,"max_scale_y"),p=fs(e,"max_scale_z"),m=fs(t,"packed_position"),v=fs(t,"packed_rotation"),g=fs(t,"packed_scale"),y=fs(t,"packed_color");return{positionExtremes:{minX:r,maxX:s,minY:i,maxY:o,minZ:a,maxZ:l},scaleExtremes:{minScaleX:c,maxScaleX:f,minScaleY:u,maxScaleY:h,minScaleZ:d,maxScaleZ:p},position:m,rotation:v,scale:g,color:y}}static parseToUncompressedSplatBufferSection(e,t,r,i,a,s,o,l,c,u=null){ms.readElementData(t,s,o,r,i,u);const d=jn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,{positionExtremes:f,scaleExtremes:h,position:p,rotation:m,scale:v,color:g}=ms.getElementStorageArrays(e,t),y=Kn.createSplat();for(let b=r;b<=i;++b){ms.decompressSplat(b,a,p,f,v,h,m,g,y);const _=b*d+c;jn.writeSplatDataToSectionBuffer(y,l,_,0,0)}}static parseToUncompressedSplatArraySection(e,t,r,i,a,s,o,l,c=null){ms.readElementData(t,s,o,r,i,c);const{positionExtremes:u,scaleExtremes:d,position:f,rotation:h,scale:p,color:m}=ms.getElementStorageArrays(e,t);for(let v=r;v<=i;++v){const g=Kn.createSplat();ms.decompressSplat(v,a,f,u,p,d,h,m,g),l.addSplat(g)}}static parseToUncompressedSplatArray(e){const{chunkElement:t,vertexElement:r}=ms.readPly(e),i=new Kn,{positionExtremes:a,scaleExtremes:s,position:o,rotation:l,scale:c,color:u}=ms.getElementStorageArrays(t,r);for(let f=0;f<r.count;++f){i.addDefaultSplat();const h=i.getSplat(i.splatCount-1);ms.decompressSplat(f,0,o,a,c,s,l,u,h)}return new ur().identity(),i}};un(ms,"decompressSplat",function(){const e=new tt,t=new Yi,r=new tt,i=new Hi,a=Kn.OFFSET;return function(s,o,l,c,u,d,f,h,p){p=p||Kn.createSplat();const m=Math.floor((o+s)/256);return EW(e,l[s]),Fct(t,f[s]),EW(r,u[s]),Bct(i,h[s]),p[a.X]=Y0(c.minX[m],c.maxX[m],e.x),p[a.Y]=Y0(c.minY[m],c.maxY[m],e.y),p[a.Z]=Y0(c.minZ[m],c.maxZ[m],e.z),p[a.ROTATION0]=t.x,p[a.ROTATION1]=t.y,p[a.ROTATION2]=t.z,p[a.ROTATION3]=t.w,p[a.SCALE0]=Math.exp(Y0(d.minScaleX[m],d.maxScaleX[m],r.x)),p[a.SCALE1]=Math.exp(Y0(d.minScaleY[m],d.maxScaleY[m],r.y)),p[a.SCALE2]=Math.exp(Y0(d.minScaleZ[m],d.maxScaleZ[m],r.z)),p[a.FDC0]=Ja(Math.floor(i.x*255),0,255),p[a.FDC1]=Ja(Math.floor(i.y*255),0,255),p[a.FDC2]=Ja(Math.floor(i.z*255),0,255),p[a.OPACITY]=Ja(Math.floor(i.w*255),0,255),p}}());let Fp=ms;const Uf={INRIAV1:0,INRIAV2:1,PlayCanvasCompressed:2},[Jie,wN,xN,SN,CN,MN,TN]=[0,1,2,3,4,5,6],IW={double:Jie,int:wN,uint:xN,float:SN,short:CN,ushort:MN,uchar:TN},zct={[Jie]:8,[wN]:4,[xN]:4,[SN]:4,[CN]:2,[MN]:2,[TN]:1},Po=class Po{constructor(){}decodeSectionHeader(e,t,r=0){const i=[];let a=!1,s=-1,o=0,l=!1,c=null;const u=[],d=[],f=[],h={};for(let g=r;g<e.length;g++){const y=e[g].trim();if(y.startsWith("element"))if(a){s--;break}else{a=!0,r=g,s=g;const b=y.split(" ");let _=0;for(let x of b){const S=x.trim();S.length>0&&(_++,_===2?c=S:_===3&&(o=parseInt(S)))}}else if(y.startsWith("property")){const b=y.match(/(\w+)\s+(\w+)\s+(\w+)/);if(b){const _=b[2],x=b[3];f.push(x);const S=t[x];h[x]=_;const T=IW[_];S!==void 0&&(u.push(S),d[S]=T)}}if(y===Po.HeaderEndToken){l=!0;break}a&&(i.push(y),s++)}const p=[];let m=0;for(let g of f){const y=h[g];if(h.hasOwnProperty(g)){const b=t[g];b!==void 0&&(p[b]=m)}m+=zct[IW[y]]}const v=this.decodeSphericalHarmonicsFromSectionHeader(f,t);return{headerLines:i,headerStartLine:r,headerEndLine:s,fieldTypes:d,fieldIds:u,fieldOffsets:p,bytesPerVertex:m,vertexCount:o,dataSizeBytes:m*o,endOfHeader:l,sectionName:c,sphericalHarmonicsDegree:v.degree,sphericalHarmonicsCoefficientsPerChannel:v.coefficientsPerChannel,sphericalHarmonicsDegree1Fields:v.degree1Fields,sphericalHarmonicsDegree2Fields:v.degree2Fields}}decodeSphericalHarmonicsFromSectionHeader(e,t){let r=0,i=0;for(let l of e)l.startsWith("f_rest")&&r++;i=r/3;let a=0;i>=3&&(a=1),i>=8&&(a=2);let s=[],o=[];for(let l=0;l<3;l++){if(a>=1)for(let c=0;c<3;c++)s.push(t["f_rest_"+(c+i*l)]);if(a>=2)for(let c=0;c<5;c++)o.push(t["f_rest_"+(c+i*l+3)])}return{degree:a,coefficientsPerChannel:i,degree1Fields:s,degree2Fields:o}}static getHeaderSectionNames(e){const t=[];for(let r of e)if(r.startsWith("element")){const i=r.split(" ");let a=0;for(let s of i){const o=s.trim();o.length>0&&(a++,a===2&&t.push(o))}}return t}static checkTextForEndHeader(e){return!!e.includes(Po.HeaderEndToken)}static checkBufferForEndHeader(e,t,r,i){const a=new Uint8Array(e,Math.max(0,t-r),r),s=i.decode(a);return Po.checkTextForEndHeader(s)}static extractHeaderFromBufferToText(e){const t=new TextDecoder;let r=0,i="";const a=100;for(;;){if(r+a>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,a);if(i+=t.decode(s),r+=a,Po.checkBufferForEndHeader(e,r,a*2,t))break}return i}readHeaderFromBuffer(e){const t=new TextDecoder;let r=0,i="";const a=100;for(;;){if(r+a>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,a);if(i+=t.decode(s),r+=a,Po.checkBufferForEndHeader(e,r,a*2,t))break}return i}static convertHeaderTextToLines(e){const t=e.split(`
`),r=[];for(let i=0;i<t.length;i++){const a=t[i].trim();if(r.push(a),a===Po.HeaderEndToken)break}return r}static determineHeaderFormatFromHeaderText(e){const t=Po.convertHeaderTextToLines(e);let r=Uf.INRIAV1;for(let i=0;i<t.length;i++){const a=t[i].trim();if(a.startsWith("element chunk")||a.match(/[A-Za-z]*packed_[A-Za-z]*/))r=Uf.PlayCanvasCompressed;else if(a.startsWith("element codebook_centers"))r=Uf.INRIAV2;else if(a===Po.HeaderEndToken)break}return r}static determineHeaderFormatFromPlyBuffer(e){const t=Po.extractHeaderFromBufferToText(e);return Po.determineHeaderFormatFromHeaderText(t)}static readVertex(e,t,r,i,a,s,o=!0){const l=r*t.bytesPerVertex+i,c=t.fieldOffsets,u=t.fieldTypes;for(let d of a){const f=u[d];f===SN?s[d]=e.getFloat32(l+c[d],!0):f===CN?s[d]=e.getInt16(l+c[d],!0):f===MN?s[d]=e.getUint16(l+c[d],!0):f===wN?s[d]=e.getInt32(l+c[d],!0):f===xN?s[d]=e.getUint32(l+c[d],!0):f===TN&&(o?s[d]=e.getUint8(l+c[d])/255:s[d]=e.getUint8(l+c[d]))}}};un(Po,"HeaderEndToken","end_header");let Xa=Po;const eae=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0"],Uct=eae.map((n,e)=>e),[RW,Hct,Vct,$ct,Gct,Wct,qct,Kct,Yct,Xct,PW,jct,Zct,DW,kW,Qct,Jct,eut]=Uct,wp=class wp{constructor(){this.plyParserutils=new Xa}decodeHeaderLines(e){let t=0;e.forEach(u=>{u.includes("f_rest_")&&t++});let r=0;t>=45?r=45:t>=24?r=24:t>=9&&(r=9);let a=Array.from(Array(Math.max(r-1,0))).map((u,d)=>`f_rest_${d+1}`);const s=[...eae,...a],o=s.map((u,d)=>d),l=o.reduce((u,d)=>(u[s[d]]=d,u),{}),c=this.plyParserutils.decodeSectionHeader(e,l,0);return c.splatCount=c.vertexCount,c.bytesPerSplat=c.bytesPerVertex,c.fieldsToReadIndexes=o,c}decodeHeaderText(e){const t=Xa.convertHeaderTextToLines(e),r=this.decodeHeaderLines(t);return r.headerText=e,r.headerSizeBytes=e.indexOf(Xa.HeaderEndToken)+Xa.HeaderEndToken.length+1,r}decodeHeaderFromBuffer(e){const t=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderText(t)}findSplatData(e,t){return new DataView(e,t.headerSizeBytes)}parseToUncompressedSplatBufferSection(e,t,r,i,a,s,o,l=0){l=Math.min(l,e.sphericalHarmonicsDegree);const c=jn.CompressionLevels[0].SphericalHarmonicsDegrees[l].BytesPerSplat;for(let u=t;u<=r;u++){const d=wp.parseToUncompressedSplat(i,u,e,a,l),f=u*c+o;jn.writeSplatDataToSectionBuffer(d,s,f,0,l)}}parseToUncompressedSplatArraySection(e,t,r,i,a,s,o=0){o=Math.min(o,e.sphericalHarmonicsDegree);for(let l=t;l<=r;l++){const c=wp.parseToUncompressedSplat(i,l,e,a,o);s.addSplat(c)}}decodeSectionSplatData(e,t,r,i){i=Math.min(i,r.sphericalHarmonicsDegree);const a=new Kn(i);for(let s=0;s<t;s++){const o=wp.parseToUncompressedSplat(e,s,r,0,i);a.addSplat(o)}return a}static readSplat(e,t,r,i,a){return Xa.readVertex(e,t,r,i,t.fieldsToReadIndexes,a,!0)}parseToUncompressedSplatArray(e,t=0){const r=this.decodeHeaderFromBuffer(e),i=r.splatCount,a=this.findSplatData(e,r);return this.decodeSectionSplatData(a,i,r,t)}};un(wp,"parseToUncompressedSplat",function(){let e=[];const t=new Yi,r=Kn.OFFSET.X,i=Kn.OFFSET.Y,a=Kn.OFFSET.Z,s=Kn.OFFSET.SCALE0,o=Kn.OFFSET.SCALE1,l=Kn.OFFSET.SCALE2,c=Kn.OFFSET.ROTATION0,u=Kn.OFFSET.ROTATION1,d=Kn.OFFSET.ROTATION2,f=Kn.OFFSET.ROTATION3,h=Kn.OFFSET.FDC0,p=Kn.OFFSET.FDC1,m=Kn.OFFSET.FDC2,v=Kn.OFFSET.OPACITY,g=[];for(let y=0;y<45;y++)g[y]=Kn.OFFSET.FRC0+y;return function(y,b,_,x=0,S=0){S=Math.min(S,_.sphericalHarmonicsDegree),wp.readSplat(y,_,b,x,e);const T=Kn.createSplat(S);if(e[RW]!==void 0?(T[s]=Math.exp(e[RW]),T[o]=Math.exp(e[Hct]),T[l]=Math.exp(e[Vct])):(T[s]=.01,T[o]=.01,T[l]=.01),e[PW]!==void 0){const C=.28209479177387814;T[h]=(.5+C*e[PW])*255,T[p]=(.5+C*e[jct])*255,T[m]=(.5+C*e[Zct])*255}else e[kW]!==void 0?(T[h]=e[kW]*255,T[p]=e[Qct]*255,T[m]=e[Jct]*255):(T[h]=0,T[p]=0,T[m]=0);if(e[DW]!==void 0&&(T[v]=1/(1+Math.exp(-e[DW]))*255),T[h]=Ja(Math.floor(T[h]),0,255),T[p]=Ja(Math.floor(T[p]),0,255),T[m]=Ja(Math.floor(T[m]),0,255),T[v]=Ja(Math.floor(T[v]),0,255),S>=1&&e[eut]!==void 0){for(let C=0;C<9;C++)T[g[C]]=e[_.sphericalHarmonicsDegree1Fields[C]];if(S>=2)for(let C=0;C<15;C++)T[g[9+C]]=e[_.sphericalHarmonicsDegree2Fields[C]]}return t.set(e[$ct],e[Gct],e[Wct],e[qct]),t.normalize(),T[c]=t.x,T[u]=t.y,T[d]=t.z,T[f]=t.w,T[r]=e[Kct],T[i]=e[Yct],T[a]=e[Xct],T}}());let HM=wp;const tae=["features_dc","features_rest_0","features_rest_1","features_rest_2","features_rest_3","features_rest_4","features_rest_5","features_rest_6","features_rest_7","features_rest_8","features_rest_9","features_rest_10","features_rest_11","features_rest_12","features_rest_13","features_rest_14","opacity","scaling","rotation_re","rotation_im"],t2=tae.map((n,e)=>e),[n2,tut,nut,LW,r2,rut,UI]=[0,1,4,16,17,18,19],nae=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0","f_rest_1","f_rest_2","f_rest_3","f_rest_4","f_rest_5","f_rest_6","f_rest_7","f_rest_8","f_rest_9","f_rest_10","f_rest_11","f_rest_12","f_rest_13","f_rest_14","f_rest_15","f_rest_16","f_rest_17","f_rest_18","f_rest_19","f_rest_20","f_rest_21","f_rest_22","f_rest_23","f_rest_24","f_rest_25","f_rest_26","f_rest_27","f_rest_28","f_rest_29","f_rest_30","f_rest_31","f_rest_32","f_rest_33","f_rest_34","f_rest_35","f_rest_36","f_rest_37","f_rest_38","f_rest_39","f_rest_40","f_rest_41","f_rest_42","f_rest_43","f_rest_44","f_rest_45"],UD=nae.map((n,e)=>e),[NW,iut,aut,sut,out,lut,cut,uut,dut,fut,HD,rae,iae,OW]=UD,BW=HD,hut=rae,put=iae,i2=n=>{const e=(31744&n)>>10,t=1023&n;return(n>>15?-1:1)*(e?e===31?t?NaN:1/0:Math.pow(2,e-15)*(1+t/1024):t/1024*6103515625e-14)},wb=class wb{constructor(){this.plyParserutils=new Xa}decodeSectionHeadersFromHeaderLines(e){const t=UD.reduce((u,d)=>(u[nae[d]]=d,u),{}),r=t2.reduce((u,d)=>(u[tae[d]]=d,u),{}),i=Xa.getHeaderSectionNames(e);let a;for(let u=0;u<i.length;u++)i[u]==="codebook_centers"&&(a=u);let s=0,o=!1;const l=[];let c=0;for(;!o;){let u;c===a?u=this.plyParserutils.decodeSectionHeader(e,r,s):u=this.plyParserutils.decodeSectionHeader(e,t,s),o=u.endOfHeader,s=u.headerEndLine+1,o||(u.splatCount=u.vertexCount,u.bytesPerSplat=u.bytesPerVertex),l.push(u),c++}return l}decodeSectionHeadersFromHeaderText(e){const t=Xa.convertHeaderTextToLines(e);return this.decodeSectionHeadersFromHeaderLines(t)}getSplatCountFromSectionHeaders(e){let t=0;for(let r of e)r.sectionName!=="codebook_centers"&&(t+=r.vertexCount);return t}decodeHeaderFromHeaderText(e){const t=e.indexOf(Xa.HeaderEndToken)+Xa.HeaderEndToken.length+1,r=this.decodeSectionHeadersFromHeaderText(e),i=this.getSplatCountFromSectionHeaders(r);return{headerSizeBytes:t,sectionHeaders:r,splatCount:i}}decodeHeaderFromBuffer(e){const t=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderFromHeaderText(t)}findVertexData(e,t,r){let i=t.headerSizeBytes;for(let a=0;a<r&&a<t.sectionHeaders.length;a++){const s=t.sectionHeaders[a];i+=s.dataSizeBytes}return new DataView(e,i,t.sectionHeaders[r].dataSizeBytes)}decodeCodeBook(e,t){const r=[],i=[];for(let a=0;a<t.vertexCount;a++){Xa.readVertex(e,t,a,0,t2,r);for(let s of t2){const o=t2[s];let l=i[o];l||(i[o]=l=[]),l.push(r[s])}}for(let a=0;a<i.length;a++){const s=i[a],o=.28209479177387814;for(let l=0;l<s.length;l++){const c=i2(s[l]);a===LW?s[l]=Math.round(1/(1+Math.exp(-c))*255):a===n2?s[l]=Math.round((.5+o*c)*255):a===r2?s[l]=Math.exp(c):s[l]=c}}return i}decodeSectionSplatData(e,t,r,i,a){a=Math.min(a,r.sphericalHarmonicsDegree);const s=new Kn(a);for(let o=0;o<t;o++){const l=wb.parseToUncompressedSplat(e,o,r,i,0,a);s.addSplat(l)}return s}static readSplat(e,t,r,i,a){return Xa.readVertex(e,t,r,i,UD,a,!1)}parseToUncompressedSplatArray(e,t=0){const r=[],i=this.decodeHeaderFromBuffer(e,t);let a;for(let o=0;o<i.sectionHeaders.length;o++){const l=i.sectionHeaders[o];if(l.sectionName==="codebook_centers"){const c=this.findVertexData(e,i,o);a=this.decodeCodeBook(c,l)}}for(let o=0;o<i.sectionHeaders.length;o++){const l=i.sectionHeaders[o];if(l.sectionName!=="codebook_centers"){const c=l.vertexCount,u=this.findVertexData(e,i,o),d=this.decodeSectionSplatData(u,c,l,a,t);r.push(d)}}const s=new Kn(t);for(let o of r)for(let l of o.splats)s.addSplat(l);return s}};un(wb,"parseToUncompressedSplat",function(){let e=[];const t=new Yi,r=Kn.OFFSET.X,i=Kn.OFFSET.Y,a=Kn.OFFSET.Z,s=Kn.OFFSET.SCALE0,o=Kn.OFFSET.SCALE1,l=Kn.OFFSET.SCALE2,c=Kn.OFFSET.ROTATION0,u=Kn.OFFSET.ROTATION1,d=Kn.OFFSET.ROTATION2,f=Kn.OFFSET.ROTATION3,h=Kn.OFFSET.FDC0,p=Kn.OFFSET.FDC1,m=Kn.OFFSET.FDC2,v=Kn.OFFSET.OPACITY,g=[];for(let y=0;y<45;y++)g[y]=Kn.OFFSET.FRC0+y;return function(y,b,_,x,S=0,T=0){T=Math.min(T,_.sphericalHarmonicsDegree),wb.readSplat(y,_,b,S,e);const C=Kn.createSplat(T);if(e[NW]!==void 0?(C[s]=x[r2][e[NW]],C[o]=x[r2][e[iut]],C[l]=x[r2][e[aut]]):(C[s]=.01,C[o]=.01,C[l]=.01),e[HD]!==void 0?(C[h]=x[n2][e[HD]],C[p]=x[n2][e[rae]],C[m]=x[n2][e[iae]]):e[BW]!==void 0?(C[h]=e[BW]*255,C[p]=e[hut]*255,C[m]=e[put]*255):(C[h]=0,C[p]=0,C[m]=0),e[OW]!==void 0&&(C[v]=x[LW][e[OW]]),C[h]=Ja(Math.floor(C[h]),0,255),C[p]=Ja(Math.floor(C[p]),0,255),C[m]=Ja(Math.floor(C[m]),0,255),C[v]=Ja(Math.floor(C[v]),0,255),T>=1&&_.sphericalHarmonicsDegree>=1){for(let L=0;L<9;L++){const F=x[tut+L%3];C[g[L]]=F[e[_.sphericalHarmonicsDegree1Fields[L]]]}if(T>=2&&_.sphericalHarmonicsDegree>=2)for(let L=0;L<15;L++){const F=x[nut+L%5];C[g[9+L]]=F[e[_.sphericalHarmonicsDegree2Fields[L]]]}}const M=x[rut][e[sut]],A=x[UI][e[out]],I=x[UI][e[lut]],D=x[UI][e[cut]];return t.set(M,A,I,D),t.normalize(),C[c]=t.x,C[u]=t.y,C[d]=t.z,C[f]=t.w,C[r]=i2(e[uut]),C[i]=i2(e[dut]),C[a]=i2(e[fut]),C}}());let VD=wb;class mut{static parseToUncompressedSplatArray(e,t=0){const r=Xa.determineHeaderFormatFromPlyBuffer(e);if(r===Uf.PlayCanvasCompressed)return Fp.parseToUncompressedSplatArray(e);if(r===Uf.INRIAV1)return new HM().parseToUncompressedSplatArray(e,t);if(r===Uf.INRIAV2)return new VD().parseToUncompressedSplatArray(e,t)}}class AN{constructor(e,t,r,i){this.sectionCount=e,this.sectionFilters=t,this.groupingParameters=r,this.partitionGenerator=i}partitionUncompressedSplatArray(e){let t,r,i;if(this.partitionGenerator){const s=this.partitionGenerator(e);t=s.groupingParameters,r=s.sectionCount,i=s.sectionFilters}else t=this.groupingParameters,r=this.sectionCount,i=this.sectionFilters;const a=[];for(let s=0;s<r;s++){const o=new Kn(e.sphericalHarmonicsDegree),l=i[s];for(let c=0;c<e.splatCount;c++)l(c)&&o.addSplat(e.splats[c]);a.push(o)}return{splatArrays:a,parameters:t}}static getStandardPartitioner(e=0,t=new tt,r=jn.BucketBlockSize,i=jn.BucketSize){const a=s=>{const o=Kn.OFFSET.X,l=Kn.OFFSET.Y,c=Kn.OFFSET.Z;e<=0&&(e=s.splatCount);const u=new tt,d=.5,f=g=>{g.x=Math.floor(g.x/d)*d,g.y=Math.floor(g.y/d)*d,g.z=Math.floor(g.z/d)*d};s.splats.forEach(g=>{u.set(g[o],g[l],g[c]).sub(t),f(u),g.centerDist=u.lengthSq()}),s.splats.sort((g,y)=>{let b=g.centerDist,_=y.centerDist;return b>_?1:-1});const h=[],p=[];e=Math.min(s.splatCount,e);const m=Math.ceil(s.splatCount/e);let v=0;for(let g=0;g<m;g++){let y=v;h.push(b=>b>=y&&b<y+e),p.push({blocksSize:r,bucketSize:i}),v+=e}return{sectionCount:h.length,sectionFilters:h,groupingParameters:p}};return new AN(void 0,void 0,void 0,a)}}class SA{constructor(e,t,r,i,a,s,o){this.splatPartitioner=e,this.alphaRemovalThreshold=t,this.compressionLevel=r,this.sectionSize=i,this.sceneCenter=a?new tt().copy(a):void 0,this.blockSize=s,this.bucketSize=o}generateFromUncompressedSplatArray(e){const t=this.splatPartitioner.partitionUncompressedSplatArray(e);return jn.generateFromUncompressedSplatArrays(t.splatArrays,this.alphaRemovalThreshold,this.compressionLevel,this.sceneCenter,this.blockSize,this.bucketSize,t.parameters)}static getStandardGenerator(e=1,t=1,r=0,i=new tt,a=jn.BucketBlockSize,s=jn.BucketSize){const o=AN.getStandardPartitioner(r,i,a,s);return new SA(o,e,t,r,i,a,s)}}const _a={Downloading:0,Processing:1,Done:2};class EN extends Error{constructor(e){super(e)}}const Zi={DirectToSplatBuffer:0,DirectToSplatArray:1,DownloadBeforeProcessing:2};function FW(n,e){let t=0;for(let i of n)t+=i.sizeBytes;(!e||e.byteLength<t)&&(e=new ArrayBuffer(t));let r=0;for(let i of n)new Uint8Array(e,r,i.sizeBytes).set(i.data),r+=i.sizeBytes;return e}function zW(n,e,t,r,i,a,s,o){return e?SA.getStandardGenerator(t,r,i,a,s,o).generateFromUncompressedSplatArray(n):jn.generateFromUncompressedSplatArrays([n],t,0,new tt)}class IN{static loadFromURL(e,t,r,i,a,s,o=!0,l=0,c,u,d,f,h){let p=r?Zi.DirectToSplatBuffer:Zi.DirectToSplatArray;o&&(p=Zi.DirectToSplatArray);const m=zr.ProgressiveLoadSectionSize,v=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes,g=1;let y,b,_,x,S=0,T=0,C=!1,M=!1,A=!1;const I=gN();let D=0,L=0,F=0,B="",k=null,H=[],z;const O=new TextDecoder,G=new HM,X=(J,Q,re)=>{const de=J>=100;if(re&&(H.push({data:re,sizeBytes:re.byteLength,startBytes:F,endBytes:F+re.byteLength}),F+=re.byteLength),p===Zi.DownloadBeforeProcessing)de&&I.resolve(H);else{if(C){if(A&&!M){const le=k.headerSizeBytes+k.chunkElement.storageSizeBytes;x=FW(H,x),x.byteLength>=le&&(Fp.readElementData(k.chunkElement,x,k.headerSizeBytes),D=le,L=le,M=!0)}}else if(B+=O.decode(re),Xa.checkTextForEndHeader(B)){const le=Xa.determineHeaderFormatFromHeaderText(B);if(le===Uf.INRIAV1)k=G.decodeHeaderText(B),S=k.splatCount,M=!0,A=!1;else if(le===Uf.PlayCanvasCompressed)k=Fp.decodeHeaderText(B),S=k.vertexElement.count,A=!0;else{if(r)throw new EN("PlyLoader.loadFromURL() -> Selected Ply format cannot be directly loaded.");p=Zi.DownloadBeforeProcessing;return}l=Math.min(l,k.sphericalHarmonicsDegree);const fe=jn.CompressionLevels[0].SphericalHarmonicsDegrees[l],Ee=v+fe.BytesPerSplat*S;p===Zi.DirectToSplatBuffer?(b=new ArrayBuffer(Ee),jn.writeHeaderToBuffer({versionMajor:jn.CurrentMajorVersion,versionMinor:jn.CurrentMinorVersion,maxSectionCount:g,sectionCount:g,maxSplatCount:S,splatCount:T,compressionLevel:0,sceneCenter:new tt},b)):z=new Kn(l),D=k.headerSizeBytes,L=k.headerSizeBytes,C=!0}if(C&&M){if(H.length>0&&(y=FW(H,y),F-D>m||de)){const fe=F-L,Ee=Math.floor(fe/k.bytesPerSplat),Re=Ee*k.bytesPerSplat,He=fe-Re,$e=T+Ee,K=L-H[0].startBytes,ce=new DataView(y,K,Re),ie=jn.CompressionLevels[0].SphericalHarmonicsDegrees[l],Ue=T*ie.BytesPerSplat+v;if(p===Zi.DirectToSplatBuffer?A?Fp.parseToUncompressedSplatBufferSection(k.chunkElement,k.vertexElement,0,Ee-1,T,ce,0,b,Ue):G.parseToUncompressedSplatBufferSection(k,0,Ee-1,ce,0,b,Ue,l):A?Fp.parseToUncompressedSplatArraySection(k.chunkElement,k.vertexElement,0,Ee-1,T,ce,0,z):G.parseToUncompressedSplatArraySection(k,0,Ee-1,ce,0,z,l),T=$e,p===Zi.DirectToSplatBuffer&&(_||(jn.writeSectionHeaderToBuffer({maxSplatCount:S,splatCount:T,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0,sphericalHarmonicsDegree:l},0,b,jn.HeaderSizeBytes),_=new jn(b,!1)),_.updateLoadedCounts(1,T),i&&i(_,de)),D+=m,L+=Re,He===0)H=[];else{let De=[],Ye=0;for(let ze=H.length-1;ze>=0;ze--){const Ve=H[ze];if(Ye+=Ve.sizeBytes,De.unshift(Ve),Ye>=He)break}H=De}}de&&(p===Zi.DirectToSplatBuffer?I.resolve(_):I.resolve(z))}}t&&t(J,Q,_a.Downloading)};return t&&t(0,"0%",_a.Downloading),vN(e,X,!1,c).then(()=>(t&&t(0,"0%",_a.Processing),I.promise.then(J=>{if(t&&t(100,"100%",_a.Done),p===Zi.DownloadBeforeProcessing){const Q=H.map(re=>re.data);return new Blob(Q).arrayBuffer().then(re=>IN.loadFromFileData(re,a,s,o,l,u,d,f,h))}else return p===Zi.DirectToSplatBuffer?J:dc(()=>zW(J,o,a,s,u,d,f,h))})))}static loadFromFileData(e,t,r,i,a=0,s,o,l,c){return dc(()=>mut.parseToUncompressedSplatArray(e,a)).then(u=>zW(u,i,t,r,s,o,l,c))}}const mi=class mi{static parseToUncompressedSplatBufferSection(e,t,r,i,a,s){const o=jn.CompressionLevels[0].BytesPerCenter,l=jn.CompressionLevels[0].BytesPerScale,c=jn.CompressionLevels[0].BytesPerRotation,u=jn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat;for(let d=e;d<=t;d++){const f=d*mi.RowSizeBytes+i,h=new Float32Array(r,f,3),p=new Float32Array(r,f+mi.CenterSizeBytes,3),m=new Uint8Array(r,f+mi.CenterSizeBytes+mi.ScaleSizeBytes,4),v=new Uint8Array(r,f+mi.CenterSizeBytes+mi.ScaleSizeBytes+mi.RotationSizeBytes,4),g=new Yi((v[1]-128)/128,(v[2]-128)/128,(v[3]-128)/128,(v[0]-128)/128);g.normalize();const y=d*u+s,b=new Float32Array(a,y,3),_=new Float32Array(a,y+o,3),x=new Float32Array(a,y+o+l,4),S=new Uint8Array(a,y+o+l+c,4);b[0]=h[0],b[1]=h[1],b[2]=h[2],_[0]=p[0],_[1]=p[1],_[2]=p[2],x[0]=g.w,x[1]=g.x,x[2]=g.y,x[3]=g.z,S[0]=m[0],S[1]=m[1],S[2]=m[2],S[3]=m[3]}}static parseToUncompressedSplatArraySection(e,t,r,i,a){for(let s=e;s<=t;s++){const o=s*mi.RowSizeBytes+i,l=new Float32Array(r,o,3),c=new Float32Array(r,o+mi.CenterSizeBytes,3),u=new Uint8Array(r,o+mi.CenterSizeBytes+mi.ScaleSizeBytes,4),d=new Uint8Array(r,o+mi.CenterSizeBytes+mi.ScaleSizeBytes+mi.RotationSizeBytes,4),f=new Yi((d[1]-128)/128,(d[2]-128)/128,(d[3]-128)/128,(d[0]-128)/128);f.normalize(),a.addSplatFromComonents(l[0],l[1],l[2],c[0],c[1],c[2],f.w,f.x,f.y,f.z,u[0],u[1],u[2],u[3])}}static parseStandardSplatToUncompressedSplatArray(e){const t=e.byteLength/mi.RowSizeBytes,r=new Kn;for(let i=0;i<t;i++){const a=i*mi.RowSizeBytes,s=new Float32Array(e,a,3),o=new Float32Array(e,a+mi.CenterSizeBytes,3),l=new Uint8Array(e,a+mi.CenterSizeBytes+mi.ScaleSizeBytes,4),c=new Uint8Array(e,a+mi.CenterSizeBytes+mi.ScaleSizeBytes+mi.ColorSizeBytes,4),u=new Yi((c[1]-128)/128,(c[2]-128)/128,(c[3]-128)/128,(c[0]-128)/128);u.normalize(),r.addSplatFromComonents(s[0],s[1],s[2],o[0],o[1],o[2],u.w,u.x,u.y,u.z,l[0],l[1],l[2],l[3])}return r}};un(mi,"RowSizeBytes",32),un(mi,"CenterSizeBytes",12),un(mi,"ScaleSizeBytes",12),un(mi,"RotationSizeBytes",4),un(mi,"ColorSizeBytes",4);let bp=mi;function UW(n,e,t,r,i,a,s,o){return e?SA.getStandardGenerator(t,r,i,a,s,o).generateFromUncompressedSplatArray(n):jn.generateFromUncompressedSplatArrays([n],t,0,new tt)}class RN{static loadFromURL(e,t,r,i,a,s,o=!0,l,c,u,d,f){let h=r?Zi.DirectToSplatBuffer:Zi.DirectToSplatArray;o&&(h=Zi.DirectToSplatArray);const p=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes,m=zr.ProgressiveLoadSectionSize,v=1;let g,y,b,_=0,x=0,S;const T=gN();let C=0,M=0,A=[];const I=(D,L,F,B)=>{const k=D>=100;if(F&&A.push(F),h===Zi.DownloadBeforeProcessing){k&&T.resolve(A);return}if(!B){if(r)throw new EN("Cannon directly load .splat because no file size info is available.");h=Zi.DownloadBeforeProcessing;return}if(!g){_=B/bp.RowSizeBytes,g=new ArrayBuffer(B);const H=jn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,z=p+H*_;h===Zi.DirectToSplatBuffer?(y=new ArrayBuffer(z),jn.writeHeaderToBuffer({versionMajor:jn.CurrentMajorVersion,versionMinor:jn.CurrentMinorVersion,maxSectionCount:v,sectionCount:v,maxSplatCount:_,splatCount:x,compressionLevel:0,sceneCenter:new tt},y)):S=new Kn(0)}if(F){new Uint8Array(g,M,F.byteLength).set(new Uint8Array(F)),M+=F.byteLength;const H=M-C;if(H>m||k){const O=(k?H:m)/bp.RowSizeBytes,G=x+O;h===Zi.DirectToSplatBuffer?bp.parseToUncompressedSplatBufferSection(x,G-1,g,0,y,p):bp.parseToUncompressedSplatArraySection(x,G-1,g,0,S),x=G,h===Zi.DirectToSplatBuffer&&(b||(jn.writeSectionHeaderToBuffer({maxSplatCount:_,splatCount:x,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0},0,y,jn.HeaderSizeBytes),b=new jn(y,!1)),b.updateLoadedCounts(1,x),i&&i(b,k)),C+=m}}k&&(h===Zi.DirectToSplatBuffer?T.resolve(b):T.resolve(S)),t&&t(D,L,_a.Downloading)};return t&&t(0,"0%",_a.Downloading),vN(e,I,!1,l).then(()=>(t&&t(0,"0%",_a.Processing),T.promise.then(D=>(t&&t(100,"100%",_a.Done),h===Zi.DownloadBeforeProcessing?new Blob(A).arrayBuffer().then(L=>RN.loadFromFileData(L,a,s,o,c,u,d,f)):h===Zi.DirectToSplatBuffer?D:dc(()=>UW(D,o,a,s,c,u,d,f))))))}static loadFromFileData(e,t,r,i,a,s,o,l){return dc(()=>{const c=bp.parseStandardSplatToUncompressedSplatArray(e);return UW(c,i,t,r,a,s,o,l)})}}const Sv=class Sv{static checkVersion(e){const t=jn.CurrentMajorVersion,r=jn.CurrentMinorVersion,i=jn.parseHeader(e);if(i.versionMajor===t&&i.versionMinor>=r||i.versionMajor>t)return!0;throw new Error(`KSplat version not supported: v${i.versionMajor}.${i.versionMinor}. Minimum required: v${t}.${r}`)}static loadFromURL(e,t,r,i,a){let s,o,l,c,u=!1,d=!1,f,h=[],p=!1,m=!1,v=0,g=0,y=0,b=!1,_=!1,x=!1,S=[];const T=gN(),C=()=>{!u&&!d&&v>=jn.HeaderSizeBytes&&(d=!0,new Blob(S).arrayBuffer().then(B=>{l=new ArrayBuffer(jn.HeaderSizeBytes),new Uint8Array(l).set(new Uint8Array(B,0,jn.HeaderSizeBytes)),Sv.checkVersion(l),d=!1,u=!0,c=jn.parseHeader(l),window.setTimeout(()=>{I()},1)}))};let M=0;const A=()=>{M===0&&(M++,window.setTimeout(()=>{M--,D()},1))},I=()=>{const F=()=>{m=!0,new Blob(S).arrayBuffer().then(k=>{m=!1,p=!0,f=new ArrayBuffer(c.maxSectionCount*jn.SectionHeaderSizeBytes),new Uint8Array(f).set(new Uint8Array(k,jn.HeaderSizeBytes,c.maxSectionCount*jn.SectionHeaderSizeBytes)),h=jn.parseSectionHeaders(c,f,0,!1);let H=0;for(let O=0;O<c.maxSectionCount;O++)H+=h[O].storageSizeBytes;const z=jn.HeaderSizeBytes+c.maxSectionCount*jn.SectionHeaderSizeBytes+H;if(!s){s=new ArrayBuffer(z);let O=0;for(let G=0;G<S.length;G++){const X=S[G];new Uint8Array(s,O,X.byteLength).set(new Uint8Array(X)),O+=X.byteLength}}y=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes*c.maxSectionCount;for(let O=0;O<=h.length&&O<c.maxSectionCount;O++)y+=h[O].storageSizeBytes;A()})};!m&&!p&&u&&v>=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes*c.maxSectionCount&&F()},D=()=>{if(x)return;x=!0;const F=()=>{if(x=!1,p){if(_)return;if(b=v>=y,v-g>zr.ProgressiveLoadSectionSize||b){g+=zr.ProgressiveLoadSectionSize,_=g>=y,o||(o=new jn(s,!1));const k=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes*c.maxSectionCount;let H=0,z=0,O=0;for(let J=0;J<c.maxSectionCount;J++){const Q=h[J],re=H+Q.partiallyFilledBucketCount*4+Q.bucketStorageSizeBytes*Q.bucketCount,de=k+re;if(g>=de){z++;const le=g-de,Re=jn.CompressionLevels[c.compressionLevel].SphericalHarmonicsDegrees[Q.sphericalHarmonicsDegree].BytesPerSplat;let He=Math.floor(le/Re);He=Math.min(He,Q.maxSplatCount),O+=He,o.updateLoadedCounts(z,O),o.updateSectionLoadedCounts(J,He)}else break;H+=Q.storageSizeBytes}i(o,_);const G=g/y*100,X=G.toFixed(2)+"%";t&&t(G,X,_a.Downloading),_?T.resolve(o):D()}}};window.setTimeout(F,zr.ProgressiveLoadSectionDelayDuration)};return vN(e,(F,B,k)=>{k&&(S.push(k),s&&new Uint8Array(s,v,k.byteLength).set(new Uint8Array(k)),v+=k.byteLength),r?(C(),I(),D()):t&&t(F,B,_a.Downloading)},!r,a).then(F=>(t&&t(0,"0%",_a.Processing),(r?T.promise:Sv.loadFromFileData(F)).then(k=>(t&&t(100,"100%",_a.Done),k))))}static loadFromFileData(e){return dc(()=>(Sv.checkVersion(e),new jn(e)))}};un(Sv,"downloadFile",function(){let e;return function(t,r){const i=new Blob([t.bufferData],{type:"application/octet-stream"});e||(e=document.createElement("a"),document.body.appendChild(e)),e.download=r,e.href=URL.createObjectURL(i),e.click()}}());let $D=Sv;const Gu={Splat:0,KSplat:1,Ply:2},HW=n=>n.endsWith(".ply")?Gu.Ply:n.endsWith(".splat")?Gu.Splat:n.endsWith(".ksplat")?Gu.KSplat:null,VW={type:"change"},HI={type:"start"},$W={type:"end"},a2=new Oie,GW=new pf,vut=Math.cos(70*Die.DEG2RAD);class s2 extends Om{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new tt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"KeyA",UP:"KeyW",RIGHT:"KeyD",BOTTOM:"KeyS"},this.mouseButtons={LEFT:R0.ROTATE,MIDDLE:R0.DOLLY,RIGHT:R0.PAN},this.touches={ONE:P0.ROTATE,TWO:P0.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function($){$.addEventListener("keydown",ve),this._domElementKeyEvents=$},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ve),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,this.clearDampedRotation(),this.clearDampedPan(),r.object.updateProjectionMatrix(),r.dispatchEvent(VW),r.update(),a=i.NONE},this.clearDampedRotation=function(){l.theta=0,l.phi=0},this.clearDampedPan=function(){u.set(0,0,0)},this.update=function(){const $=new tt,ge=new Yi().setFromUnitVectors(e.up,new tt(0,1,0)),he=ge.clone().invert(),Ae=new tt,ye=new Yi,Se=new tt,ft=2*Math.PI;return function(){ge.setFromUnitVectors(e.up,new tt(0,1,0)),he.copy(ge).invert();const _t=r.object.position;$.copy(_t).sub(r.target),$.applyQuaternion(ge),o.setFromVector3($),r.autoRotate&&a===i.NONE&&I(M()),r.enableDamping?(o.theta+=l.theta*r.dampingFactor,o.phi+=l.phi*r.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let nt=r.minAzimuthAngle,gt=r.maxAzimuthAngle;isFinite(nt)&&isFinite(gt)&&(nt<-Math.PI?nt+=ft:nt>Math.PI&&(nt-=ft),gt<-Math.PI?gt+=ft:gt>Math.PI&&(gt-=ft),nt<=gt?o.theta=Math.max(nt,Math.min(gt,o.theta)):o.theta=o.theta>(nt+gt)/2?Math.max(nt,o.theta):Math.min(gt,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),r.zoomToCursor&&S||r.object.isOrthographicCamera?o.radius=O(o.radius):o.radius=O(o.radius*c),$.setFromSpherical(o),$.applyQuaternion(he),_t.copy(r.target).add($),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),u.set(0,0,0));let Lt=!1;if(r.zoomToCursor&&S){let At=null;if(r.object.isPerspectiveCamera){const an=$.length();At=O(an*c);const _n=an-At;r.object.position.addScaledVector(_,_n),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const an=new tt(x.x,x.y,0);an.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),Lt=!0;const _n=new tt(x.x,x.y,0);_n.unproject(r.object),r.object.position.sub(_n).add(an),r.object.updateMatrixWorld(),At=$.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;At!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(At).add(r.object.position):(a2.origin.copy(r.object.position),a2.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(a2.direction))<vut?e.lookAt(r.target):(GW.setFromNormalAndCoplanarPoint(r.object.up,r.target),a2.intersectPlane(GW,r.target))))}else r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),Lt=!0);return c=1,S=!1,Lt||Ae.distanceToSquared(r.object.position)>s||8*(1-ye.dot(r.object.quaternion))>s||Se.distanceToSquared(r.target)>0?(r.dispatchEvent(VW),Ae.copy(r.object.position),ye.copy(r.object.quaternion),Se.copy(r.target),Lt=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",mt),r.domElement.removeEventListener("pointerdown",ze),r.domElement.removeEventListener("pointercancel",Je),r.domElement.removeEventListener("wheel",Z),r.domElement.removeEventListener("pointermove",Ve),r.domElement.removeEventListener("pointerup",Je),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",ve),r._domElementKeyEvents=null)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=i.NONE;const s=1e-6,o=new eW,l=new eW;let c=1;const u=new tt,d=new Vn,f=new Vn,h=new Vn,p=new Vn,m=new Vn,v=new Vn,g=new Vn,y=new Vn,b=new Vn,_=new tt,x=new Vn;let S=!1;const T=[],C={};function M(){return 2*Math.PI/60/60*r.autoRotateSpeed}function A(){return Math.pow(.95,r.zoomSpeed)}function I($){l.theta-=$}function D($){l.phi-=$}const L=function(){const $=new tt;return function(he,Ae){$.setFromMatrixColumn(Ae,0),$.multiplyScalar(-he),u.add($)}}(),F=function(){const $=new tt;return function(he,Ae){r.screenSpacePanning===!0?$.setFromMatrixColumn(Ae,1):($.setFromMatrixColumn(Ae,0),$.crossVectors(r.object.up,$)),$.multiplyScalar(he),u.add($)}}(),B=function(){const $=new tt;return function(he,Ae){const ye=r.domElement;if(r.object.isPerspectiveCamera){const Se=r.object.position;$.copy(Se).sub(r.target);let ft=$.length();ft*=Math.tan(r.object.fov/2*Math.PI/180),L(2*he*ft/ye.clientHeight,r.object.matrix),F(2*Ae*ft/ye.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(L(he*(r.object.right-r.object.left)/r.object.zoom/ye.clientWidth,r.object.matrix),F(Ae*(r.object.top-r.object.bottom)/r.object.zoom/ye.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function k($){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c/=$:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H($){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c*=$:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z($){if(!r.zoomToCursor)return;S=!0;const ge=r.domElement.getBoundingClientRect(),he=$.clientX-ge.left,Ae=$.clientY-ge.top,ye=ge.width,Se=ge.height;x.x=he/ye*2-1,x.y=-(Ae/Se)*2+1,_.set(x.x,x.y,1).unproject(e).sub(e.position).normalize()}function O($){return Math.max(r.minDistance,Math.min(r.maxDistance,$))}function G($){d.set($.clientX,$.clientY)}function X($){z($),g.set($.clientX,$.clientY)}function J($){p.set($.clientX,$.clientY)}function Q($){f.set($.clientX,$.clientY),h.subVectors(f,d).multiplyScalar(r.rotateSpeed);const ge=r.domElement;I(2*Math.PI*h.x/ge.clientHeight),D(2*Math.PI*h.y/ge.clientHeight),d.copy(f),r.update()}function re($){y.set($.clientX,$.clientY),b.subVectors(y,g),b.y>0?k(A()):b.y<0&&H(A()),g.copy(y),r.update()}function de($){m.set($.clientX,$.clientY),v.subVectors(m,p).multiplyScalar(r.panSpeed),B(v.x,v.y),p.copy(m),r.update()}function le($){z($),$.deltaY<0?H(A()):$.deltaY>0&&k(A()),r.update()}function fe($){let ge=!1;switch($.code){case r.keys.UP:$.ctrlKey||$.metaKey||$.shiftKey?D(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(0,r.keyPanSpeed),ge=!0;break;case r.keys.BOTTOM:$.ctrlKey||$.metaKey||$.shiftKey?D(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(0,-r.keyPanSpeed),ge=!0;break;case r.keys.LEFT:$.ctrlKey||$.metaKey||$.shiftKey?I(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(r.keyPanSpeed,0),ge=!0;break;case r.keys.RIGHT:$.ctrlKey||$.metaKey||$.shiftKey?I(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(-r.keyPanSpeed,0),ge=!0;break}ge&&($.preventDefault(),r.update())}function Ee(){if(T.length===1)d.set(T[0].pageX,T[0].pageY);else{const $=.5*(T[0].pageX+T[1].pageX),ge=.5*(T[0].pageY+T[1].pageY);d.set($,ge)}}function Re(){if(T.length===1)p.set(T[0].pageX,T[0].pageY);else{const $=.5*(T[0].pageX+T[1].pageX),ge=.5*(T[0].pageY+T[1].pageY);p.set($,ge)}}function He(){const $=T[0].pageX-T[1].pageX,ge=T[0].pageY-T[1].pageY,he=Math.sqrt($*$+ge*ge);g.set(0,he)}function $e(){r.enableZoom&&He(),r.enablePan&&Re()}function K(){r.enableZoom&&He(),r.enableRotate&&Ee()}function ce($){if(T.length==1)f.set($.pageX,$.pageY);else{const he=st($),Ae=.5*($.pageX+he.x),ye=.5*($.pageY+he.y);f.set(Ae,ye)}h.subVectors(f,d).multiplyScalar(r.rotateSpeed);const ge=r.domElement;I(2*Math.PI*h.x/ge.clientHeight),D(2*Math.PI*h.y/ge.clientHeight),d.copy(f)}function ie($){if(T.length===1)m.set($.pageX,$.pageY);else{const ge=st($),he=.5*($.pageX+ge.x),Ae=.5*($.pageY+ge.y);m.set(he,Ae)}v.subVectors(m,p).multiplyScalar(r.panSpeed),B(v.x,v.y),p.copy(m)}function Ue($){const ge=st($),he=$.pageX-ge.x,Ae=$.pageY-ge.y,ye=Math.sqrt(he*he+Ae*Ae);y.set(0,ye),b.set(0,Math.pow(y.y/g.y,r.zoomSpeed)),k(b.y),g.copy(y)}function De($){r.enableZoom&&Ue($),r.enablePan&&ie($)}function Ye($){r.enableZoom&&Ue($),r.enableRotate&&ce($)}function ze($){r.enabled!==!1&&(T.length===0&&(r.domElement.setPointerCapture($.pointerId),r.domElement.addEventListener("pointermove",Ve),r.domElement.addEventListener("pointerup",Je)),vt($),$.pointerType==="touch"?Ne($):pe($))}function Ve($){r.enabled!==!1&&($.pointerType==="touch"?Ke($):W($))}function Je($){Me($),T.length===0&&(r.domElement.releasePointerCapture($.pointerId),r.domElement.removeEventListener("pointermove",Ve),r.domElement.removeEventListener("pointerup",Je)),r.dispatchEvent($W),a=i.NONE}function pe($){let ge;switch($.button){case 0:ge=r.mouseButtons.LEFT;break;case 1:ge=r.mouseButtons.MIDDLE;break;case 2:ge=r.mouseButtons.RIGHT;break;default:ge=-1}switch(ge){case R0.DOLLY:if(r.enableZoom===!1)return;X($),a=i.DOLLY;break;case R0.ROTATE:if($.ctrlKey||$.metaKey||$.shiftKey){if(r.enablePan===!1)return;J($),a=i.PAN}else{if(r.enableRotate===!1)return;G($),a=i.ROTATE}break;case R0.PAN:if($.ctrlKey||$.metaKey||$.shiftKey){if(r.enableRotate===!1)return;G($),a=i.ROTATE}else{if(r.enablePan===!1)return;J($),a=i.PAN}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(HI)}function W($){switch(a){case i.ROTATE:if(r.enableRotate===!1)return;Q($);break;case i.DOLLY:if(r.enableZoom===!1)return;re($);break;case i.PAN:if(r.enablePan===!1)return;de($);break}}function Z($){r.enabled===!1||r.enableZoom===!1||a!==i.NONE||($.preventDefault(),r.dispatchEvent(HI),le($),r.dispatchEvent($W))}function ve($){r.enabled===!1||r.enablePan===!1||fe($)}function Ne($){switch(ht($),T.length){case 1:switch(r.touches.ONE){case P0.ROTATE:if(r.enableRotate===!1)return;Ee(),a=i.TOUCH_ROTATE;break;case P0.PAN:if(r.enablePan===!1)return;Re(),a=i.TOUCH_PAN;break;default:a=i.NONE}break;case 2:switch(r.touches.TWO){case P0.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;$e(),a=i.TOUCH_DOLLY_PAN;break;case P0.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;K(),a=i.TOUCH_DOLLY_ROTATE;break;default:a=i.NONE}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(HI)}function Ke($){switch(ht($),a){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;ce($),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;ie($),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;De($),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ye($),r.update();break;default:a=i.NONE}}function mt($){r.enabled!==!1&&$.preventDefault()}function vt($){T.push($)}function Me($){delete C[$.pointerId];for(let ge=0;ge<T.length;ge++)if(T[ge].pointerId==$.pointerId){T.splice(ge,1);return}}function ht($){let ge=C[$.pointerId];ge===void 0&&(ge=new Vn,C[$.pointerId]=ge),ge.set($.pageX,$.pageY)}function st($){const ge=$.pointerId===T[0].pointerId?T[1]:T[0];return C[ge.pointerId]}r.domElement.addEventListener("contextmenu",mt),r.domElement.addEventListener("pointerdown",ze),r.domElement.addEventListener("pointercancel",Je),r.domElement.addEventListener("wheel",Z,{passive:!1}),this.update()}}const gut=(n,e,t,r,i)=>{const a=performance.now();let s=n.style.display==="none"?0:parseFloat(n.style.opacity);isNaN(s)&&(s=1);const o=window.setInterval(()=>{const c=performance.now()-a;let u=Math.min(c/r,1);u>.999&&(u=1);let d;e?(d=(1-u)*s,d<1e-4&&(d=0)):d=(1-s)*u+s,d>0?(n.style.display=t,n.style.opacity=d):n.style.display="none",u>=1&&(i&&i(),window.clearInterval(o))},16);return o},yut=500,GM=class GM{constructor(e,t){this.taskIDGen=0,this.elementID=GM.elementIDGen++,this.tasks=[],this.message=e||"Loading...",this.container=t||document.body,this.spinnerContainerOuter=document.createElement("div"),this.spinnerContainerOuter.className=`spinnerOuterContainer${this.elementID}`,this.spinnerContainerOuter.style.display="none",this.spinnerContainerPrimary=document.createElement("div"),this.spinnerContainerPrimary.className=`spinnerContainerPrimary${this.elementID}`,this.spinnerPrimary=document.createElement("div"),this.spinnerPrimary.classList.add(`spinner${this.elementID}`,`spinnerPrimary${this.elementID}`),this.messageContainerPrimary=document.createElement("div"),this.messageContainerPrimary.classList.add(`messageContainer${this.elementID}`,`messageContainerPrimary${this.elementID}`),this.messageContainerPrimary.innerHTML=this.message,this.spinnerContainerMin=document.createElement("div"),this.spinnerContainerMin.className=`spinnerContainerMin${this.elementID}`,this.spinnerMin=document.createElement("div"),this.spinnerMin.classList.add(`spinner${this.elementID}`,`spinnerMin${this.elementID}`),this.messageContainerMin=document.createElement("div"),this.messageContainerMin.classList.add(`messageContainer${this.elementID}`,`messageContainerMin${this.elementID}`),this.messageContainerMin.innerHTML=this.message,this.spinnerContainerPrimary.appendChild(this.spinnerPrimary),this.spinnerContainerPrimary.appendChild(this.messageContainerPrimary),this.spinnerContainerOuter.appendChild(this.spinnerContainerPrimary),this.spinnerContainerMin.appendChild(this.spinnerMin),this.spinnerContainerMin.appendChild(this.messageContainerMin),this.spinnerContainerOuter.appendChild(this.spinnerContainerMin);const r=document.createElement("style");r.innerHTML=`

            .spinnerOuterContainer${this.elementID} {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .messageContainer${this.elementID} {
                height: 20px;
                font-family: arial;
                font-size: 12pt;
                color: #ffffff;
                text-align: center;
                vertical-align: middle;
            }

            .spinner${this.elementID} {
                padding: 15px;
                background: #07e8d6;
                z-index:99999;
            
                aspect-ratio: 1;
                border-radius: 50%;
                --_m: 
                    conic-gradient(#0000,#000),
                    linear-gradient(#000 0 0) content-box;
                -webkit-mask: var(--_m);
                    mask: var(--_m);
                -webkit-mask-composite: source-out;
                    mask-composite: subtract;
                box-sizing: border-box;
                animation: load 1s linear infinite;
            }

            .spinnerContainerPrimary${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 10px;
                margin: 0;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-80px, -80px);
                width: 180px;
                pointer-events: auto;
            }

            .spinnerPrimary${this.elementID} {
                width: 120px;
                margin-left: 30px;
            }

            .messageContainerPrimary${this.elementID} {
                padding-top: 15px;
            }

            .spinnerContainerMin${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                display: flex;
                flex-direction: left;
                pointer-events: auto;
                min-width: 250px;
            }

            .messageContainerMin${this.elementID} {
                margin-right: 15px;
            }

            .spinnerMin${this.elementID} {
                width: 50px;
                height: 50px;
                margin-left: 15px;
                margin-right: 25px;
            }

            .messageContainerMin${this.elementID} {
                padding-top: 15px;
            }
            
            @keyframes load {
                to{transform: rotate(1turn)}
            }

        `,this.spinnerContainerOuter.appendChild(r),this.container.appendChild(this.spinnerContainerOuter),this.setMinimized(!1,!0),this.fadeTransitions=[]}addTask(e){const t={message:e,id:this.taskIDGen++};return this.tasks.push(t),this.update(),t.id}removeTask(e){let t=0;for(let r of this.tasks){if(r.id===e){this.tasks.splice(t,1);break}t++}this.update()}removeAllTasks(){this.tasks=[],this.update()}setMessageForTask(e,t){for(let r of this.tasks)if(r.id===e){r.message=t;break}this.update()}update(){this.tasks.length>0?(this.show(),this.setMessage(this.tasks[this.tasks.length-1].message)):this.hide()}show(){this.spinnerContainerOuter.style.display="block",this.visible=!0}hide(){this.spinnerContainerOuter.style.display="none",this.visible=!1}setContainer(e){this.container&&this.spinnerContainerOuter.parentElement===this.container&&this.container.removeChild(this.spinnerContainerOuter),e&&(this.container=e,this.container.appendChild(this.spinnerContainerOuter),this.spinnerContainerOuter.style.zIndex=this.container.style.zIndex+1)}setMinimized(e,t){const r=(i,a,s,o,l)=>{s?i.style.display=a?o:"none":this.fadeTransitions[l]=gut(i,!a,o,yut,()=>{this.fadeTransitions[l]=null})};r(this.spinnerContainerPrimary,!e,t,"block",0),r(this.spinnerContainerMin,e,t,"flex",1),this.minimized=e}setMessage(e){this.messageContainerPrimary.innerHTML=e,this.messageContainerMin.innerHTML=e}};un(GM,"elementIDGen",0);let GD=GM;class but{constructor(e){this.idGen=0,this.tasks=[],this.container=e||document.body,this.progressBarContainerOuter=document.createElement("div"),this.progressBarContainerOuter.className="progressBarOuterContainer",this.progressBarContainerOuter.style.display="none",this.progressBarBox=document.createElement("div"),this.progressBarBox.className="progressBarBox",this.progressBarBackground=document.createElement("div"),this.progressBarBackground.className="progressBarBackground",this.progressBar=document.createElement("div"),this.progressBar.className="progressBar",this.progressBarBackground.appendChild(this.progressBar),this.progressBarBox.appendChild(this.progressBarBackground),this.progressBarContainerOuter.appendChild(this.progressBarBox);const t=document.createElement("style");t.innerHTML=`

            .progressBarOuterContainer {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .progressBarBox {
                z-index:99999;
                padding: 7px 9px 5px 7px;
                background-color: rgba(190, 190, 190, 0.75);
                border: #555555 1px solid;
                border-radius: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                width: 180px;
                height: 30px;
                pointer-events: auto;
            }

            .progressBarBackground {
                width: 100%;
                height: 25px;
                border-radius:10px;
                background-color: rgba(128, 128, 128, 0.75);
                border: #444444 1px solid;
                box-shadow: inset 0 0 10px #333333;
            }

            .progressBar {
                height: 25px;
                width: 0px;
                border-radius:10px;
                background-color: rgba(0, 200, 0, 0.75);
                box-shadow: inset 0 0 10px #003300;
            }

        `,this.progressBarContainerOuter.appendChild(t),this.container.appendChild(this.progressBarContainerOuter)}show(){this.progressBarContainerOuter.style.display="block"}hide(){this.progressBarContainerOuter.style.display="none"}setProgress(e){this.progressBar.style.width=e+"%"}setContainer(e){this.container&&this.progressBarContainerOuter.parentElement===this.container&&this.container.removeChild(this.progressBarContainerOuter),e&&(this.container=e,this.container.appendChild(this.progressBarContainerOuter),this.progressBarContainerOuter.style.zIndex=this.container.style.zIndex+1)}}class _ut{constructor(e){un(this,"update",function(e,t,r,i,a,s,o,l,c,u,d,f,h,p){const m=`${t.x.toFixed(5)}, ${t.y.toFixed(5)}, ${t.z.toFixed(5)}`;if(this.infoCells.cameraPosition.innerHTML!==m&&(this.infoCells.cameraPosition.innerHTML=m),r){const g=r,y=`${g.x.toFixed(5)}, ${g.y.toFixed(5)}, ${g.z.toFixed(5)}`;this.infoCells.cameraLookAt.innerHTML!==y&&(this.infoCells.cameraLookAt.innerHTML=y)}const v=`${i.x.toFixed(5)}, ${i.y.toFixed(5)}, ${i.z.toFixed(5)}`;if(this.infoCells.cameraUp.innerHTML!==v&&(this.infoCells.cameraUp.innerHTML=v),this.infoCells.orthographicCamera.innerHTML=a?"Orthographic":"Perspective",s){const g=s,y=`${g.x.toFixed(5)}, ${g.y.toFixed(5)}, ${g.z.toFixed(5)}`;this.infoCells.cursorPosition.innerHTML=y}else this.infoCells.cursorPosition.innerHTML="N/A";this.infoCells.fps.innerHTML=o,this.infoCells.renderWindow.innerHTML=`${e.x} x ${e.y}`,this.infoCells.renderSplatCount.innerHTML=`${c} splats out of ${l} (${u.toFixed(2)}%)`,this.infoCells.sortTime.innerHTML=`${d.toFixed(3)} ms`,this.infoCells.focalAdjustment.innerHTML=`${f.toFixed(3)}`,this.infoCells.splatScale.innerHTML=`${h.toFixed(3)}`,this.infoCells.pointCloudMode.innerHTML=`${p}`});this.container=e||document.body,this.infoCells={};const t=[["Camera position","cameraPosition"],["Camera look-at","cameraLookAt"],["Camera up","cameraUp"],["Camera mode","orthographicCamera"],["Cursor position","cursorPosition"],["FPS","fps"],["Rendering:","renderSplatCount"],["Sort time","sortTime"],["Render window","renderWindow"],["Focal adjustment","focalAdjustment"],["Splat scale","splatScale"],["Point cloud mode","pointCloudMode"]];this.infoPanelContainer=document.createElement("div");const r=document.createElement("style");r.innerHTML=`

            .infoPanel {
                width: 430px;
                padding: 10px;
                background-color: rgba(50, 50, 50, 0.85);
                border: #555555 2px solid;
                color: #dddddd;
                border-radius: 10px;
                z-index: 9999;
                font-family: arial;
                font-size: 11pt;
                text-align: left;
                margin: 0;
                top: 10px;
                left:10px;
                position: absolute;
                pointer-events: auto;
            }

            .info-panel-cell {
                margin-bottom: 5px;
                padding-bottom: 2px;
            }

            .label-cell {
                font-weight: bold;
                font-size: 12pt;
                width: 140px;
            }

        `,this.infoPanelContainer.append(r),this.infoPanel=document.createElement("div"),this.infoPanel.className="infoPanel";const i=document.createElement("div");i.style.display="table";for(let a of t){const s=document.createElement("div");s.style.display="table-row",s.className="info-panel-row";const o=document.createElement("div");o.style.display="table-cell",o.innerHTML=`${a[0]}: `,o.classList.add("info-panel-cell","label-cell");const l=document.createElement("div");l.style.display="table-cell",l.style.width="10px",l.innerHTML=" ",l.className="info-panel-cell";const c=document.createElement("div");c.style.display="table-cell",c.innerHTML="",c.className="info-panel-cell",this.infoCells[a[1]]=c,s.appendChild(o),s.appendChild(l),s.appendChild(c),i.appendChild(s)}this.infoPanel.appendChild(i),this.infoPanelContainer.append(this.infoPanel),this.infoPanelContainer.style.display="none",this.container.appendChild(this.infoPanelContainer),this.visible=!1}setContainer(e){this.container&&this.infoPanelContainer.parentElement===this.container&&this.container.removeChild(this.infoPanelContainer),e&&(this.container=e,this.container.appendChild(this.infoPanelContainer),this.infoPanelContainer.style.zIndex=this.container.style.zIndex+1)}show(){this.infoPanelContainer.style.display="block",this.visible=!0}hide(){this.infoPanelContainer.style.display="none",this.visible=!1}}const WW=new tt;class wut extends Ma{constructor(e=new tt(0,0,1),t=new tt(0,0,0),r=1,i=.1,a=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper";const l=new B_(i,i,r,32);l.translate(0,r/2,0);const c=new B_(0,o,s,32);c.translate(0,r,0),this.position.copy(t),this.line=new aa(l,new wm({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new aa(c,new wm({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{WW.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(WW,t)}}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class gb{constructor(e){un(this,"updateFocusMarker",function(){const e=new tt,t=new ur,r=new tt;return function(i,a,s){t.copy(a.matrixWorld).invert(),e.copy(i).applyMatrix4(t),e.normalize().multiplyScalar(10),e.applyMatrix4(a.matrixWorld),r.copy(a.position).sub(i);const o=r.length();this.focusMarker.position.copy(i),this.focusMarker.scale.set(o,o,o),this.focusMarker.material.uniforms.realFocusPosition.value.copy(i),this.focusMarker.material.uniforms.viewport.value.copy(s),this.focusMarker.material.uniformsNeedUpdate=!0}}());un(this,"positionAndOrientControlPlane",function(){const e=new Yi,t=new tt(0,1,0);return function(r,i){e.setFromUnitVectors(t,i),this.controlPlane.position.copy(r),this.controlPlane.quaternion.copy(e)}}());this.threeScene=e,this.splatRenderTarget=null,this.renderTargetCopyQuad=null,this.renderTargetCopyCamera=null,this.meshCursor=null,this.focusMarker=null,this.controlPlane=null,this.debugRoot=null,this.secondaryDebugRoot=null}updateSplatRenderTargetForRenderDimensions(e,t){this.destroySplatRendertarget(),this.splatRenderTarget=new uh(e,t,{format:Us,stencilBuffer:!1,depthBuffer:!0}),this.splatRenderTarget.depthTexture=new fN(e,t),this.splatRenderTarget.depthTexture.format=Qp,this.splatRenderTarget.depthTexture.type=_l}destroySplatRendertarget(){this.splatRenderTarget&&(this.splatRenderTarget=null)}setupRenderTargetCopyObjects(){const e={sourceColorTexture:{type:"t",value:null},sourceDepthTexture:{type:"t",value:null}},t=new Go({vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = vec4( position.xy, 0.0, 1.0 );    
                }
            `,fragmentShader:`
                #include <common>
                #include <packing>
                varying vec2 vUv;
                uniform sampler2D sourceColorTexture;
                uniform sampler2D sourceDepthTexture;
                void main() {
                    vec4 color = texture2D(sourceColorTexture, vUv);
                    float fragDepth = texture2D(sourceDepthTexture, vUv).x;
                    gl_FragDepth = fragDepth;
                    gl_FragColor = vec4(color.rgb, color.a * 2.0);
              }
            `,uniforms:e,depthWrite:!1,depthTest:!1,transparent:!0,blending:bie,blendSrc:D_,blendSrcAlpha:D_,blendDst:k_,blendDstAlpha:k_});t.extensions.fragDepth=!0,this.renderTargetCopyQuad=new aa(new Lg(2,2),t),this.renderTargetCopyCamera=new pN(-1,1,1,-1,0,1)}destroyRenderTargetCopyObjects(){this.renderTargetCopyQuad&&(lv(this.renderTargetCopyQuad),this.renderTargetCopyQuad=null)}setupMeshCursor(){if(!this.meshCursor){const e=new hN(.5,1.5,32),t=new wm({color:16777215}),r=new aa(e,t);r.rotation.set(0,0,Math.PI),r.position.set(0,1,0);const i=new aa(e,t);i.position.set(0,-1,0);const a=new aa(e,t);a.rotation.set(0,0,Math.PI/2),a.position.set(1,0,0);const s=new aa(e,t);s.rotation.set(0,0,-Math.PI/2),s.position.set(-1,0,0),this.meshCursor=new Ma,this.meshCursor.add(r),this.meshCursor.add(i),this.meshCursor.add(a),this.meshCursor.add(s),this.meshCursor.scale.set(.1,.1,.1),this.threeScene.add(this.meshCursor),this.meshCursor.visible=!1}}destroyMeshCursor(){this.meshCursor&&(lv(this.meshCursor),this.threeScene.remove(this.meshCursor),this.meshCursor=null)}setMeshCursorVisibility(e){this.meshCursor.visible=e}getMeschCursorVisibility(){return this.meshCursor.visible}setMeshCursorPosition(e){this.meshCursor.position.copy(e)}positionAndOrientMeshCursor(e,t){this.meshCursor.position.copy(e),this.meshCursor.up.copy(t.up),this.meshCursor.lookAt(t.position)}setupFocusMarker(){if(!this.focusMarker){const e=new UM(.5,32,32),t=gb.buildFocusMarkerMaterial();t.depthTest=!1,t.depthWrite=!1,t.transparent=!0,this.focusMarker=new aa(e,t)}}destroyFocusMarker(){this.focusMarker&&(lv(this.focusMarker),this.focusMarker=null)}setFocusMarkerVisibility(e){this.focusMarker.visible=e}setFocusMarkerOpacity(e){this.focusMarker.material.uniforms.opacity.value=e,this.focusMarker.material.uniformsNeedUpdate=!0}getFocusMarkerOpacity(){return this.focusMarker.material.uniforms.opacity.value}setupControlPlane(){if(!this.controlPlane){const e=new Lg(1,1);e.rotateX(-Math.PI/2);const t=new wm({color:16777215});t.transparent=!0,t.opacity=.6,t.depthTest=!1,t.depthWrite=!1,t.side=ml;const r=new aa(e,t),i=new tt(0,1,0);i.normalize();const a=new tt(0,0,0),s=.5,o=.01,l=56576,c=new wut(i,a,s,o,l,.1,.03);this.controlPlane=new Ma,this.controlPlane.add(r),this.controlPlane.add(c)}}destroyControlPlane(){this.controlPlane&&(lv(this.controlPlane),this.controlPlane=null)}setControlPlaneVisibility(e){this.controlPlane.visible=e}addDebugMeshes(){this.debugRoot=this.createDebugMeshes(),this.secondaryDebugRoot=this.createSecondaryDebugMeshes(),this.threeScene.add(this.debugRoot),this.threeScene.add(this.secondaryDebugRoot)}destroyDebugMeshes(){for(let e of[this.debugRoot,this.secondaryDebugRoot])e&&(lv(e),this.threeScene.remove(e));this.debugRoot=null,this.secondaryDebugRoot=null}createDebugMeshes(e){const t=new UM(1,32,32),r=new Ma,i=(a,s)=>{let o=new aa(t,gb.buildDebugMaterial(a));o.renderOrder=e,r.add(o),o.position.fromArray(s)};return i(16711680,[-50,0,0]),i(16711680,[50,0,0]),i(65280,[0,0,-50]),i(65280,[0,0,50]),i(16755200,[5,0,5]),r}createSecondaryDebugMeshes(e){const t=new yy(3,3,3),r=new Ma;let i=12303291;const a=o=>{let l=new aa(t,gb.buildDebugMaterial(i));l.renderOrder=e,r.add(l),l.position.fromArray(o)};let s=10;return a([-s,0,-s]),a([-s,0,s]),a([s,0,-s]),a([s,0,s]),r}static buildDebugMaterial(e){const t=`
            #include <common>
            varying float ndcDepth;

            void main() {
                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position.xyz, 1.0);
                ndcDepth = gl_Position.z / gl_Position.w;
                gl_Position.x = gl_Position.x / gl_Position.w;
                gl_Position.y = gl_Position.y / gl_Position.w;
                gl_Position.z = 0.0;
                gl_Position.w = 1.0;
    
            }
        `,r=`
            #include <common>
            uniform vec3 color;
            varying float ndcDepth;
            void main() {
                gl_FragDepth = (ndcDepth + 1.0) / 2.0;
                gl_FragColor = vec4(color.rgb, 0.0);
            }
        `,i={color:{type:"v3",value:new ni(e)}},a=new Go({uniforms:i,vertexShader:t,fragmentShader:r,transparent:!1,depthTest:!0,depthWrite:!0,side:lu});return a.extensions.fragDepth=!0,a}static buildFocusMarkerMaterial(e){const t=`
            #include <common>

            uniform vec2 viewport;
            uniform vec3 realFocusPosition;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                float radius = 0.01;

                vec4 viewPosition = modelViewMatrix * vec4(position.xyz, 1.0);
                vec4 viewCenter = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);

                vec4 viewFocusPosition = modelViewMatrix * vec4(realFocusPosition, 1.0);

                ndcPosition = projectionMatrix * viewPosition;
                ndcPosition = ndcPosition * vec4(1.0 / ndcPosition.w);
                ndcCenter = projectionMatrix * viewCenter;
                ndcCenter = ndcCenter * vec4(1.0 / ndcCenter.w);

                ndcFocusPosition = projectionMatrix * viewFocusPosition;
                ndcFocusPosition = ndcFocusPosition * vec4(1.0 / ndcFocusPosition.w);

                gl_Position = projectionMatrix * viewPosition;

            }
        `,r=`
            #include <common>
            uniform vec3 color;
            uniform vec2 viewport;
            uniform float opacity;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                vec2 screenPosition = vec2(ndcPosition) * viewport;
                vec2 screenCenter = vec2(ndcCenter) * viewport;

                vec2 screenVec = screenPosition - screenCenter;

                float projectedRadius = length(screenVec);

                float lineWidth = 0.0005 * viewport.y;
                float aaRange = 0.0025 * viewport.y;
                float radius = 0.06 * viewport.y;
                float radDiff = abs(projectedRadius - radius) - lineWidth;
                float alpha = 1.0 - clamp(radDiff / 5.0, 0.0, 1.0); 

                gl_FragColor = vec4(color.rgb, alpha * opacity);
            }
        `,i={color:{type:"v3",value:new ni(e)},realFocusPosition:{type:"v3",value:new tt},viewport:{type:"v2",value:new Vn},opacity:{value:0}};return new Go({uniforms:i,vertexShader:t,fragmentShader:r,transparent:!0,depthTest:!1,depthWrite:!1,side:lu})}dispose(){this.destroyMeshCursor(),this.destroyFocusMarker(),this.destroyDebugMeshes(),this.destroyControlPlane(),this.destroyRenderTargetCopyObjects(),this.destroySplatRendertarget()}}const xut=new tt(1,0,0),Sut=new tt(0,1,0),Cut=new tt(0,0,1);class VI{constructor(e=new tt,t=new tt){un(this,"intersectBox",function(){const e=new tt,t=[],r=[],i=[];return function(a,s){if(r[0]=this.origin.x,r[1]=this.origin.y,r[2]=this.origin.z,i[0]=this.direction.x,i[1]=this.direction.y,i[2]=this.direction.z,this.boxContainsPoint(a,this.origin,1e-4))return s&&(s.origin.copy(this.origin),s.normal.set(0,0,0),s.distance=-1),!0;for(let o=0;o<3;o++){if(i[o]==0)continue;const l=o==0?xut:o==1?Sut:Cut,c=i[o]<0?a.max:a.min;let u=-Math.sign(i[o]);t[0]=o==0?c.x:o==1?c.y:c.z;let d=t[0]-r[o];if(d*u<0){const f=(o+1)%3,h=(o+2)%3;if(t[2]=i[f]/i[o]*d+r[f],t[1]=i[h]/i[o]*d+r[h],e.set(t[o],t[h],t[f]),this.boxContainsPoint(a,e,1e-4))return s&&(s.origin.copy(e),s.normal.copy(l).multiplyScalar(u),s.distance=e.sub(this.origin).length()),!0}}return!1}}());un(this,"intersectSphere",function(){const e=new tt;return function(t,r,i){e.copy(t).sub(this.origin);const a=e.dot(this.direction),s=a*a,l=e.dot(e)-s,c=r*r;if(l>c)return!1;const u=Math.sqrt(c-l),d=a-u,f=a+u;if(f<0)return!1;let h=d<0?f:d;return i&&(i.origin.copy(this.origin).addScaledVector(this.direction,h),i.normal.copy(i.origin).sub(t).normalize(),i.distance=h),!0}}());this.origin=new tt,this.direction=new tt,this.setParameters(e,t)}setParameters(e,t){this.origin.copy(e),this.direction.copy(t).normalize()}boxContainsPoint(e,t,r){return!(t.x<e.min.x-r||t.x>e.max.x+r||t.y<e.min.y-r||t.y>e.max.y+r||t.z<e.min.z-r||t.z>e.max.z+r)}}class PN{constructor(){this.origin=new tt,this.normal=new tt,this.distance=0,this.splatIndex=0}set(e,t,r,i){this.origin.copy(e),this.normal.copy(t),this.distance=r,this.splatIndex=i}clone(){const e=new PN;return e.origin.copy(this.origin),e.normal.copy(this.normal),e.distance=this.distance,e.splatIndex=this.splatIndex,e}}const Wu={ThreeD:0,TwoD:1};class Mut{constructor(e,t,r=!1){un(this,"setFromCameraAndScreenPosition",function(){const e=new Vn;return function(t,r,i){if(e.x=r.x/i.x*2-1,e.y=(i.y-r.y)/i.y*2-1,t.isPerspectiveCamera)this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t;else if(t.isOrthographicCamera)this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t;else throw new Error("Raycaster::setFromCameraAndScreenPosition() -> Unsupported camera type")}}());un(this,"intersectSplatMesh",function(){const e=new ur,t=new ur,r=new ur,i=new VI,a=new tt;return function(s,o=[]){const l=s.getSplatTree();if(l){for(let c=0;c<l.subTrees.length;c++){const u=l.subTrees[c];t.copy(s.matrixWorld),s.dynamicMode&&(s.getSceneTransform(c,r),t.multiply(r)),e.copy(t).invert(),i.origin.copy(this.ray.origin).applyMatrix4(e),i.direction.copy(this.ray.origin).add(this.ray.direction),i.direction.applyMatrix4(e).sub(i.origin).normalize();const d=[];u.rootNode&&this.castRayAtSplatTreeNode(i,l,u.rootNode,d),d.forEach(f=>{f.origin.applyMatrix4(t),f.normal.applyMatrix4(t).normalize(),f.distance=a.copy(f.origin).sub(this.ray.origin).length()}),o.push(...d)}return o.sort((c,u)=>c.distance>u.distance?1:-1),o}}}());un(this,"castRayAtSplatTreeNode",function(){const e=new Hi,t=new tt,r=new tt,i=new Yi,a=new PN,s=1e-7,o=new tt(0,0,0),l=new ur,c=new ur,u=new ur,d=new ur,f=new ur,h=new VI;return function(p,m,v,g=[]){if(p.intersectBox(v.boundingBox)){if(v.data&&v.data.indexes&&v.data.indexes.length>0)for(let y=0;y<v.data.indexes.length;y++){const b=v.data.indexes[y],_=m.splatMesh.getSceneIndexForSplat(b);if(m.splatMesh.getScene(_).visible&&(m.splatMesh.getSplatColor(b,e),m.splatMesh.getSplatCenter(b,t),m.splatMesh.getSplatScaleAndRotation(b,r,i),!(r.x<=s||r.y<=s||m.splatMesh.splatRenderMode===Wu.ThreeD&&r.z<=s)))if(this.raycastAgainstTrueSplatEllipsoid){c.makeScale(r.x,r.y,r.z),u.makeRotationFromQuaternion(i);const S=Math.log10(e.w)*2;if(l.makeScale(S,S,S),f.copy(l).multiply(u).multiply(c),d.copy(f).invert(),h.origin.copy(p.origin).sub(t).applyMatrix4(d),h.direction.copy(p.origin).add(p.direction).sub(t),h.direction.applyMatrix4(d).sub(h.origin).normalize(),h.intersectSphere(o,1,a)){const T=a.clone();T.splatIndex=b,T.origin.applyMatrix4(f).add(t),g.push(T)}}else{let S=r.x+r.y,T=2;if(m.splatMesh.splatRenderMode===Wu.ThreeD&&(S+=r.z,T=3),S=S/T,p.intersectSphere(t,S,a)){const C=a.clone();C.splatIndex=b,g.push(C)}}}if(v.children&&v.children.length>0)for(let y of v.children)this.castRayAtSplatTreeNode(p,m,y,g);return g}}}());this.ray=new VI(e,t),this.raycastAgainstTrueSplatEllipsoid=r}}class Wv{static buildVertexShaderBase(e=!1,t=!1,r=0,i=""){let a=`
        precision highp float;
        #include <common>

        attribute uint splatIndex;
        uniform highp usampler2D centersColorsTexture;
        uniform highp sampler2D sphericalHarmonicsTexture;
        uniform highp sampler2D sphericalHarmonicsTextureR;
        uniform highp sampler2D sphericalHarmonicsTextureG;
        uniform highp sampler2D sphericalHarmonicsTextureB;

        uniform highp usampler2D sceneIndexesTexture;
        uniform vec2 sceneIndexesTextureSize;
        uniform int sceneCount;
    `;return t&&(a+=`
            uniform float sceneOpacity[${zr.MaxScenes}];
            uniform int sceneVisibility[${zr.MaxScenes}];
        `),e&&(a+=`
            uniform highp mat4 transforms[${zr.MaxScenes}];
        `),a+=`
        ${i}
        uniform vec2 focal;
        uniform float orthoZoom;
        uniform int orthographicMode;
        uniform int pointCloudModeEnabled;
        uniform float inverseFocalAdjustment;
        uniform vec2 viewport;
        uniform vec2 basisViewport;
        uniform vec2 centersColorsTextureSize;
        uniform int sphericalHarmonicsDegree;
        uniform vec2 sphericalHarmonicsTextureSize;
        uniform int sphericalHarmonics8BitMode;
        uniform int sphericalHarmonicsMultiTextureMode;
        uniform float visibleRegionRadius;
        uniform float visibleRegionFadeStartRadius;
        uniform float firstRenderTime;
        uniform float currentTime;
        uniform int fadeInComplete;
        uniform vec3 sceneCenter;
        uniform float splatScale;
        uniform float sphericalHarmonics8BitCompressionRangeMin[${zr.MaxScenes}];
        uniform float sphericalHarmonics8BitCompressionRangeMax[${zr.MaxScenes}];

        varying vec4 vColor;
        varying vec2 vUv;
        varying vec2 vPosition;

        mat3 quaternionToRotationMatrix(float x, float y, float z, float w) {
            float s = 1.0 / sqrt(w * w + x * x + y * y + z * z);
        
            return mat3(
                1. - 2. * (y * y + z * z),
                2. * (x * y + w * z),
                2. * (x * z - w * y),
                2. * (x * y - w * z),
                1. - 2. * (x * x + z * z),
                2. * (y * z + w * x),
                2. * (x * z + w * y),
                2. * (y * z - w * x),
                1. - 2. * (x * x + y * y)
            );
        }

        const float sqrt8 = sqrt(8.0);
        const float minAlpha = 1.0 / 255.0;

        const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
        const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
        const uvec4 shift4 = uvec4(0, 8, 16, 24);
        vec4 uintToRGBAVec (uint u) {
           uvec4 urgba = mask4 & u;
           urgba = urgba >> shift4;
           vec4 rgba = vec4(urgba) * encodeNorm4;
           return rgba;
        }

        vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        vec2 getDataUVF(in uint sIndex, in float stride, in uint offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(uint(float(sIndex) * stride) + offset) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        const float SH_C1 = 0.4886025119029199f;
        const float[5] SH_C2 = float[](1.0925484, -1.0925484, 0.3153916, -1.0925484, 0.5462742);

        void main () {

            uint oddOffset = splatIndex & uint(0x00000001);
            uint doubleOddOffset = oddOffset * uint(2);
            bool isEven = oddOffset == uint(0);
            uint nearestEvenIndex = splatIndex - oddOffset;
            float fOddOffset = float(oddOffset);

            uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
            vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));

            uint sceneIndex = uint(0);
            if (sceneCount > 1) {
                sceneIndex = texture(sceneIndexesTexture, getDataUV(1, 0, sceneIndexesTextureSize)).r;
            }
            `,t&&(a+=`
                float splatOpacityFromScene = sceneOpacity[sceneIndex];
                int sceneVisible = sceneVisibility[sceneIndex];
                if (splatOpacityFromScene <= 0.01 || sceneVisible == 0) {
                    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                    return;
                }
            `),e?a+=`
                mat4 transform = transforms[sceneIndex];
                mat4 transformModelViewMatrix = viewMatrix * transform;
            `:a+="mat4 transformModelViewMatrix = modelViewMatrix;",a+=`
            float sh8BitCompressionRangeMinForScene = sphericalHarmonics8BitCompressionRangeMin[sceneIndex];
            float sh8BitCompressionRangeMaxForScene = sphericalHarmonics8BitCompressionRangeMax[sceneIndex];
            float sh8BitCompressionRangeForScene = sh8BitCompressionRangeMaxForScene - sh8BitCompressionRangeMinForScene;
            float sh8BitCompressionHalfRangeForScene = sh8BitCompressionRangeForScene / 2.0;
            vec3 vec8BitSHShift = vec3(sh8BitCompressionRangeMinForScene);

            vec4 viewCenter = transformModelViewMatrix * vec4(splatCenter, 1.0);

            vec4 clipCenter = projectionMatrix * viewCenter;

            float clip = 1.2 * clipCenter.w;
            if (clipCenter.z < -clip || clipCenter.x < -clip || clipCenter.x > clip || clipCenter.y < -clip || clipCenter.y > clip) {
                gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                return;
            }

            vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

            vPosition = position.xy;
            vColor = uintToRGBAVec(sampledCenterColor.r);
        `,r>=1&&(a+=`   
            if (sphericalHarmonicsDegree >= 1) {
            `,e?a+=`
                    vec3 worldViewDir = normalize(splatCenter - vec3(inverse(transform) * vec4(cameraPosition, 1.0)));
                `:a+=`
                    vec3 worldViewDir = normalize(splatCenter - cameraPosition);
                `,a+=`
                vec3 sh1;
                vec3 sh2;
                vec3 sh3;
            `,r>=2&&(a+=`
                    vec3 sh4;
                    vec3 sh5;
                    vec3 sh6;
                    vec3 sh7;
                    vec3 sh8;
                `),r===1?a+=`
                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        vec2 shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset, sphericalHarmonicsTextureSize);
                        vec4 sampledSH0123 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(1), sphericalHarmonicsTextureSize);
                        vec4 sampledSH4567 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(2), sphericalHarmonicsTextureSize);
                        vec4 sampledSH891011 = texture(sphericalHarmonicsTexture, shUV);
                        sh1 = vec3(sampledSH0123.rgb) * (1.0 - fOddOffset) + vec3(sampledSH0123.ba, sampledSH4567.r) * fOddOffset;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg) * (1.0 - fOddOffset) + vec3(sampledSH4567.gba) * fOddOffset;
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r) * (1.0 - fOddOffset) + vec3(sampledSH891011.rgb) * fOddOffset;
                    } else {
                        vec2 sampledSH01R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        sh1 = vec3(sampledSH01R.rg, sampledSH23R.r);
                        sh2 = vec3(sampledSH01G.rg, sampledSH23G.r);
                        sh3 = vec3(sampledSH01B.rg, sampledSH23B.r);
                    }
                `:r===2&&(a+=`
                    vec4 sampledSH0123;
                    vec4 sampledSH4567;
                    vec4 sampledSH891011;

                    vec4 sampledSH0123R;
                    vec4 sampledSH0123G;
                    vec4 sampledSH0123B;

                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        sampledSH0123 = texture(sphericalHarmonicsTexture, getDataUV(6, 0, sphericalHarmonicsTextureSize));
                        sampledSH4567 = texture(sphericalHarmonicsTexture, getDataUV(6, 1, sphericalHarmonicsTextureSize));
                        sampledSH891011 = texture(sphericalHarmonicsTexture, getDataUV(6, 2, sphericalHarmonicsTextureSize));
                        sh1 = sampledSH0123.rgb;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg);
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r);
                    } else {
                        sampledSH0123R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sh1 = vec3(sampledSH0123R.rgb);
                        sh2 = vec3(sampledSH0123G.rgb);
                        sh3 = vec3(sampledSH0123B.rgb);
                    }
                `),a+=`
                    if (sphericalHarmonics8BitMode == 1) {
                        sh1 = sh1 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh2 = sh2 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh3 = sh3 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                    }
                    float x = worldViewDir.x;
                    float y = worldViewDir.y;
                    float z = worldViewDir.z;
                    vColor.rgb += SH_C1 * (-sh1 * y + sh2 * z - sh3 * x);
            `,r>=2&&(a+=`
                    if (sphericalHarmonicsDegree >= 2) {
                        float xx = x * x;
                        float yy = y * y;
                        float zz = z * z;
                        float xy = x * y;
                        float yz = y * z;
                        float xz = x * z;
                `,r===2&&(a+=`
                        if (sphericalHarmonicsMultiTextureMode == 0) {
                            vec4 sampledSH12131415 = texture(sphericalHarmonicsTexture, getDataUV(6, 3, sphericalHarmonicsTextureSize));
                            vec4 sampledSH16171819 = texture(sphericalHarmonicsTexture, getDataUV(6, 4, sphericalHarmonicsTextureSize));
                            vec4 sampledSH20212223 = texture(sphericalHarmonicsTexture, getDataUV(6, 5, sphericalHarmonicsTextureSize));
                            sh4 = sampledSH891011.gba;
                            sh5 = sampledSH12131415.rgb;
                            sh6 = vec3(sampledSH12131415.a, sampledSH16171819.rg);
                            sh7 = vec3(sampledSH16171819.ba, sampledSH20212223.r);
                            sh8 = sampledSH20212223.gba;
                        } else {
                            vec4 sampledSH4567R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            sh4 = vec3(sampledSH0123R.a, sampledSH4567R.rg);
                            sh5 = vec3(sampledSH4567R.ba, sampledSH0123G.a);
                            sh6 = vec3(sampledSH4567G.rgb);
                            sh7 = vec3(sampledSH4567G.a, sampledSH0123B.a, sampledSH4567B.r);
                            sh8 = vec3(sampledSH4567B.gba);
                        }
                    `),a+=`
                        if (sphericalHarmonics8BitMode == 1) {
                            sh4 = sh4 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh5 = sh5 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh6 = sh6 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh7 = sh7 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh8 = sh8 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        }

                        vColor.rgb +=
                            (SH_C2[0] * xy) * sh4 +
                            (SH_C2[1] * yz) * sh5 +
                            (SH_C2[2] * (2.0 * zz - xx - yy)) * sh6 +
                            (SH_C2[3] * xz) * sh7 +
                            (SH_C2[4] * (xx - yy)) * sh8;
                    }
                `),a+=`

                vColor.rgb = clamp(vColor.rgb, vec3(0.), vec3(1.));

            }

            `),a}static getVertexShaderFadeIn(){return`
            if (fadeInComplete == 0) {
                float opacityAdjust = 1.0;
                float centerDist = length(splatCenter - sceneCenter);
                float renderTime = max(currentTime - firstRenderTime, 0.0);

                float fadeDistance = 0.75;
                float distanceLoadFadeInFactor = step(visibleRegionFadeStartRadius, centerDist);
                distanceLoadFadeInFactor = (1.0 - distanceLoadFadeInFactor) +
                                        (1.0 - clamp((centerDist - visibleRegionFadeStartRadius) / fadeDistance, 0.0, 1.0)) *
                                        distanceLoadFadeInFactor;
                opacityAdjust *= distanceLoadFadeInFactor;
                vColor.a *= opacityAdjust;
            }
        `}static getUniforms(e=!1,t=!1,r=0,i=1,a=!1){const s={sceneCenter:{type:"v3",value:new tt},fadeInComplete:{type:"i",value:0},orthographicMode:{type:"i",value:0},visibleRegionFadeStartRadius:{type:"f",value:0},visibleRegionRadius:{type:"f",value:0},currentTime:{type:"f",value:0},firstRenderTime:{type:"f",value:0},centersColorsTexture:{type:"t",value:null},sphericalHarmonicsTexture:{type:"t",value:null},sphericalHarmonicsTextureR:{type:"t",value:null},sphericalHarmonicsTextureG:{type:"t",value:null},sphericalHarmonicsTextureB:{type:"t",value:null},sphericalHarmonics8BitCompressionRangeMin:{type:"f",value:[]},sphericalHarmonics8BitCompressionRangeMax:{type:"f",value:[]},focal:{type:"v2",value:new Vn},orthoZoom:{type:"f",value:1},inverseFocalAdjustment:{type:"f",value:1},viewport:{type:"v2",value:new Vn},basisViewport:{type:"v2",value:new Vn},debugColor:{type:"v3",value:new ni},centersColorsTextureSize:{type:"v2",value:new Vn(1024,1024)},sphericalHarmonicsDegree:{type:"i",value:r},sphericalHarmonicsTextureSize:{type:"v2",value:new Vn(1024,1024)},sphericalHarmonics8BitMode:{type:"i",value:0},sphericalHarmonicsMultiTextureMode:{type:"i",value:0},splatScale:{type:"f",value:i},pointCloudModeEnabled:{type:"i",value:a?1:0},sceneIndexesTexture:{type:"t",value:null},sceneIndexesTextureSize:{type:"v2",value:new Vn(1024,1024)},sceneCount:{type:"i",value:1}};for(let o=0;o<zr.MaxScenes;o++)s.sphericalHarmonics8BitCompressionRangeMin.value.push(-zr.SphericalHarmonics8BitCompressionRange/2),s.sphericalHarmonics8BitCompressionRangeMax.value.push(zr.SphericalHarmonics8BitCompressionRange/2);if(t){const o=[];for(let c=0;c<zr.MaxScenes;c++)o.push(1);s.sceneOpacity={type:"f",value:o};const l=[];for(let c=0;c<zr.MaxScenes;c++)l.push(1);s.sceneVisibility={type:"i",value:l}}if(e){const o=[];for(let l=0;l<zr.MaxScenes;l++)o.push(new ur);s.transforms={type:"mat4",value:o}}return s}}class VM{static build(e=!1,t=!1,r=!1,i=2048,a=1,s=!1,o=0,l=.3){const c=`
            uniform vec2 covariancesTextureSize;
            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D covariancesTextureHalfFloat;
            uniform int covariancesAreHalfFloat;

            void fromCovarianceHalfFloatV4(uvec4 val, out vec4 first, out vec4 second) {
                vec2 r = unpackHalf2x16(val.r);
                vec2 g = unpackHalf2x16(val.g);
                vec2 b = unpackHalf2x16(val.b);

                first = vec4(r.x, r.y, g.x, g.y);
                second = vec4(b.x, b.y, 0.0, 0.0);
            }
        `;let u=Wv.buildVertexShaderBase(e,t,o,c);u+=VM.buildVertexShaderProjection(r,t,i,l);const d=VM.buildFragmentShader(),f=Wv.getUniforms(e,t,o,a,s);return f.covariancesTextureSize={type:"v2",value:new Vn(1024,1024)},f.covariancesTexture={type:"t",value:null},f.covariancesTextureHalfFloat={type:"t",value:null},f.covariancesAreHalfFloat={type:"i",value:0},new Go({uniforms:f,vertexShader:u,fragmentShader:d,transparent:!0,alphaTest:1,blending:Ff,depthTest:!0,depthWrite:!1,side:ml})}static buildVertexShaderProjection(e,t,r,i){let a=`

            vec4 sampledCovarianceA;
            vec4 sampledCovarianceB;
            vec3 cov3D_M11_M12_M13;
            vec3 cov3D_M22_M23_M33;
            if (covariancesAreHalfFloat == 0) {
                sampledCovarianceA = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset,
                                                                            covariancesTextureSize));
                sampledCovarianceB = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset + uint(1),
                                                                            covariancesTextureSize));

                cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rgb) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceA.ba, sampledCovarianceB.r) * fOddOffset;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceB.gba) * fOddOffset;
            } else {
                uvec4 sampledCovarianceU = texture(covariancesTextureHalfFloat, getDataUV(1, 0, covariancesTextureSize));
                fromCovarianceHalfFloatV4(sampledCovarianceU, sampledCovarianceA, sampledCovarianceB);
                cov3D_M11_M12_M13 = sampledCovarianceA.rgb;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg);
            }
        
            // Construct the 3D covariance matrix
            mat3 Vrk = mat3(
                cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
            );

            mat3 J;
            if (orthographicMode == 1) {
                // Since the projection is linear, we don't need an approximation
                J = transpose(mat3(orthoZoom, 0.0, 0.0,
                                0.0, orthoZoom, 0.0,
                                0.0, 0.0, 0.0));
            } else {
                // Construct the Jacobian of the affine approximation of the projection matrix. It will be used to transform the
                // 3D covariance matrix instead of using the actual projection matrix because that transformation would
                // require a non-linear component (perspective division) which would yield a non-gaussian result.
                float s = 1.0 / (viewCenter.z * viewCenter.z);
                J = mat3(
                    focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
                    0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
                    0., 0., 0.
                );
            }

            // Concatenate the projection approximation with the model-view transformation
            mat3 W = transpose(mat3(transformModelViewMatrix));
            mat3 T = W * J;

            // Transform the 3D covariance matrix (Vrk) to compute the 2D covariance matrix
            mat3 cov2Dm = transpose(T) * Vrk * T;
            `;return e?a+=`
                float detOrig = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                cov2Dm[0][0] += ${i};
                cov2Dm[1][1] += ${i};
                float detBlur = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                vColor.a *= sqrt(max(detOrig / detBlur, 0.0));
                if (vColor.a < minAlpha) return;
            `:a+=`
                cov2Dm[0][0] += ${i};
                cov2Dm[1][1] += ${i};
            `,a+=`

            // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
            // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
            // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
            // need cov2Dm[1][0] because it is a symetric matrix.
            vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

            // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
            // so that we can determine the 2D basis for the splat. This is done using the method described
            // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
            // After calculating the eigen-values and eigen-vectors, we calculate the basis for rendering the splat
            // by normalizing the eigen-vectors and then multiplying them by (sqrt(8) * sqrt(eigen-value)), which is
            // equal to scaling them by sqrt(8) standard deviations.
            //
            // This is a different approach than in the original work at INRIA. In that work they compute the
            // max extents of the projected splat in screen space to form a screen-space aligned bounding rectangle
            // which forms the geometry that is actually rasterized. The dimensions of that bounding box are 3.0
            // times the square root of the maximum eigen-value, or 3 standard deviations. They then use the inverse
            // 2D covariance matrix (called 'conic') in the CUDA rendering thread to determine fragment opacity by
            // calculating the full gaussian: exp(-0.5 * (X - mean) * conic * (X - mean)) * splat opacity
            float a = cov2Dv.x;
            float d = cov2Dv.z;
            float b = cov2Dv.y;
            float D = a * d - b * b;
            float trace = a + d;
            float traceOver2 = 0.5 * trace;
            float term2 = sqrt(max(0.1f, traceOver2 * traceOver2 - D));
            float eigenValue1 = traceOver2 + term2;
            float eigenValue2 = traceOver2 - term2;

            if (pointCloudModeEnabled == 1) {
                eigenValue1 = eigenValue2 = 0.2;
            }

            if (eigenValue2 <= 0.0) return;

            vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
            // since the eigen vectors are orthogonal, we derive the second one from the first
            vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);

            // We use sqrt(8) standard deviations instead of 3 to eliminate more of the splat with a very low opacity.
            vec2 basisVector1 = eigenVector1 * splatScale * min(sqrt8 * sqrt(eigenValue1), ${parseInt(r)}.0);
            vec2 basisVector2 = eigenVector2 * splatScale * min(sqrt8 * sqrt(eigenValue2), ${parseInt(r)}.0);
            `,t&&(a+=`
                vColor.a *= splatOpacityFromScene;
            `),a+=`
            vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) *
                             basisViewport * 2.0 * inverseFocalAdjustment;

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            // Scale the position data we send to the fragment shader
            vPosition *= sqrt8;
        `,a+=Wv.getVertexShaderFadeIn(),a+="}",a}static buildFragmentShader(){let e=`
            precision highp float;
            #include <common>
 
            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
        `;return e+=`
            void main () {
                // Compute the positional squared distance from the center of the splat to the current fragment.
                float A = dot(vPosition, vPosition);
                // Since the positional data in vPosition has been scaled by sqrt(8), the squared result will be
                // scaled by a factor of 8. If the squared result is larger than 8, it means it is outside the ellipse
                // defined by the rectangle formed by vPosition. It also means it's farther
                // away than sqrt(8) standard deviations from the mean.
                if (A > 8.0) discard;
                vec3 color = vColor.rgb;

                // Since the rendered splat is scaled by sqrt(8), the inverse covariance matrix that is part of
                // the gaussian formula becomes the identity matrix. We're then left with (X - mean) * (X - mean),
                // and since 'mean' is zero, we have X * X, which is the same as A:
                float opacity = exp(-0.5 * A) * vColor.a;

                gl_FragColor = vec4(color.rgb, opacity);
            }
        `,e}}class $M{static build(e=!1,t=!1,r=1,i=!1,a=0){const s=`
            uniform vec2 scaleRotationsTextureSize;
            uniform highp sampler2D scaleRotationsTexture;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;
        `;let o=Wv.buildVertexShaderBase(e,t,a,s);o+=$M.buildVertexShaderProjection();const l=$M.buildFragmentShader(),c=Wv.getUniforms(e,t,a,r,i);return c.scaleRotationsTexture={type:"t",value:null},c.scaleRotationsTextureSize={type:"v2",value:new Vn(1024,1024)},new Go({uniforms:c,vertexShader:o,fragmentShader:l,transparent:!0,alphaTest:1,blending:Ff,depthTest:!0,depthWrite:!1,side:ml})}static buildVertexShaderProjection(){let e=`

            vec4 scaleRotationA = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset, scaleRotationsTextureSize));
            vec4 scaleRotationB = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset + uint(1), scaleRotationsTextureSize));

            vec3 scaleRotation123 = vec3(scaleRotationA.rgb) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationA.ba, scaleRotationB.r) * fOddOffset;
            vec3 scaleRotation456 = vec3(scaleRotationA.a, scaleRotationB.rg) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationB.gba) * fOddOffset;

            float missingW = sqrt(1.0 - scaleRotation456.x * scaleRotation456.x - scaleRotation456.y *
                                    scaleRotation456.y - scaleRotation456.z * scaleRotation456.z);
            mat3 R = quaternionToRotationMatrix(scaleRotation456.r, scaleRotation456.g, scaleRotation456.b, missingW);
            mat3 S = mat3(scaleRotation123.r, 0.0, 0.0,
                            0.0, scaleRotation123.g, 0.0,
                            0.0, 0.0, scaleRotation123.b);
            
            mat3 L = R * S;

            mat3x4 splat2World = mat3x4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

            mat4 world2ndc = transpose(projectionMatrix * transformModelViewMatrix);

            mat3x4 ndc2pix = mat3x4(vec4(viewport.x / 2.0, 0.0, 0.0, (viewport.x - 1.0) / 2.0),
                                    vec4(0.0, viewport.y / 2.0, 0.0, (viewport.y - 1.0) / 2.0),
                                    vec4(0.0, 0.0, 0.0, 1.0));

            mat3 T = transpose(splat2World) * world2ndc * ndc2pix;
            vec3 normal = vec3(viewMatrix * vec4(L[0][2], L[1][2], L[2][2], 0.0));
        `;return e+=`

                mat4 splat2World4 = mat4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(L[2], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

                mat4 Tt = transpose(transpose(splat2World4) * world2ndc);

                vec4 tempPoint1 = Tt * vec4(1.0, 0.0, 0.0, 1.0);
                tempPoint1 /= tempPoint1.w;

                vec4 tempPoint2 = Tt * vec4(0.0, 1.0, 0.0, 1.0);
                tempPoint2 /= tempPoint2.w;

                vec4 center = Tt * vec4(0.0, 0.0, 0.0, 1.0);
                center /= center.w;

                vec2 basisVector1 = tempPoint1.xy - center.xy;
                vec2 basisVector2 = tempPoint2.xy - center.xy;

                vec2 basisVector1Screen = basisVector1 * 0.5 * viewport;
                vec2 basisVector2Screen = basisVector2 * 0.5 * viewport;

                const float minPix = 1.;
                if (length(basisVector1Screen) < minPix || length(basisVector2Screen) < minPix) {
                    
            vec3 T0 = vec3(T[0][0], T[0][1], T[0][2]);
            vec3 T1 = vec3(T[1][0], T[1][1], T[1][2]);
            vec3 T3 = vec3(T[2][0], T[2][1], T[2][2]);

            vec3 tempPoint = vec3(1.0, 1.0, -1.0);
            float distance = (T3.x * T3.x * tempPoint.x) + (T3.y * T3.y * tempPoint.y) + (T3.z * T3.z * tempPoint.z);
            vec3 f = (1.0 / distance) * tempPoint;
            if (abs(distance) < 0.00001) return;

            float pointImageX = (T0.x * T3.x * f.x) + (T0.y * T3.y * f.y) + (T0.z * T3.z * f.z);
            float pointImageY = (T1.x * T3.x * f.x) + (T1.y * T3.y * f.y) + (T1.z * T3.z * f.z);
            vec2 pointImage = vec2(pointImageX, pointImageY);

            float tempX = (T0.x * T0.x * f.x) + (T0.y * T0.y * f.y) + (T0.z * T0.z * f.z);
            float tempY = (T1.x * T1.x * f.x) + (T1.y * T1.y * f.y) + (T1.z * T1.z * f.z);
            vec2 temp = vec2(tempX, tempY);

            vec2 halfExtend = pointImage * pointImage - temp;
            vec2 extent = sqrt(max(vec2(0.0001), halfExtend));
            float radius = max(extent.x, extent.y);

            vec2 ndcOffset = ((position.xy * radius * 3.0) * basisViewport * 2.0);

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            vT = T;
            vQuadCenter = pointImage;
            vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
        
                } else {
                    vec2 ndcOffset = vec2(position.x * basisVector1 + position.y * basisVector2) * 3.0 * inverseFocalAdjustment;
                    vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
                    gl_Position = quadPos;

                    vT = T;
                    vQuadCenter = center.xy;
                    vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
                }
            `,e+=Wv.getVertexShaderFadeIn(),e+="}",e}static buildFragmentShader(){return`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;

            void main () {

                const float FilterInvSquare = 2.0;
                const float near_n = 0.2;
                const float T = 1.0;

                vec2 xy = vQuadCenter;
                vec3 Tu = vT[0];
                vec3 Tv = vT[1];
                vec3 Tw = vT[2];
                vec3 k = vFragCoord.x * Tw - Tu;
                vec3 l = vFragCoord.y * Tw - Tv;
                vec3 p = cross(k, l);
                if (p.z == 0.0) discard;
                vec2 s = vec2(p.x / p.z, p.y / p.z);
                float rho3d = (s.x * s.x + s.y * s.y); 
                vec2 d = vec2(xy.x - vFragCoord.x, xy.y - vFragCoord.y);
                float rho2d = FilterInvSquare * (d.x * d.x + d.y * d.y); 

                // compute intersection and depth
                float rho = min(rho3d, rho2d);
                float depth = (rho3d <= rho2d) ? (s.x * Tw.x + s.y * Tw.y) + Tw.z : Tw.z; 
                if (depth < near_n) discard;
                //  vec4 nor_o = collected_normal_opacity[j];
                //  float normal[3] = {nor_o.x, nor_o.y, nor_o.z};
                float opa = vColor.a;

                float power = -0.5f * rho;
                if (power > 0.0f) discard;

                // Eq. (2) from 3D Gaussian splatting paper.
                // Obtain alpha by multiplying with Gaussian opacity
                // and its exponential falloff from mean.
                // Avoid numerical instabilities (see paper appendix). 
                float alpha = min(0.99f, opa * exp(power));
                if (alpha < 1.0f / 255.0f) discard;
                float test_T = T * (1.0 - alpha);
                if (test_T < 0.0001)discard;

                float w = alpha * T;
                gl_FragColor = vec4(vColor.rgb, w);
            }
        `}}class Tut{static build(e){const t=new Fl;t.setIndex([0,1,2,0,2,3]);const r=new Float32Array(4*3),i=new Al(r,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;const a=new Kit().copy(t),s=new Uint32Array(e),o=new Vit(s,1,!1);return o.setUsage(Xrt),a.setAttribute("splatIndex",o),a.instanceCount=0,a}}class Aut extends Ma{constructor(e,t=new tt,r=new Yi,i=new tt(1,1,1),a=1,s=1,o=!0){super(),this.splatBuffer=e,this.position.copy(t),this.quaternion.copy(r),this.scale.copy(i),this.transform=new ur,this.minimumAlpha=a,this.opacity=s,this.visible=o}copyTransformData(e){this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.transform.copy(e.transform)}updateTransform(e){e?(this.matrixWorldAutoUpdate&&this.updateWorldMatrix(!0,!1),this.transform.copy(this.matrixWorld)):(this.matrixAutoUpdate&&this.updateMatrix(),this.transform.copy(this.matrix))}}const WM=class WM{constructor(e,t,r,i){this.min=new tt().copy(e),this.max=new tt().copy(t),this.boundingBox=new jc(this.min,this.max),this.center=new tt().copy(this.max).sub(this.min).multiplyScalar(.5).add(this.min),this.depth=r,this.children=[],this.data=null,this.id=i||WM.idGen++}};un(WM,"idGen",0);let WD=WM;class yb{constructor(e,t){this.maxDepth=e,this.maxCentersPerNode=t,this.sceneDimensions=new tt,this.sceneMin=new tt,this.sceneMax=new tt,this.rootNode=null,this.nodesWithIndexes=[],this.splatMesh=null}static convertWorkerSubTreeNode(e){const t=new tt().fromArray(e.min),r=new tt().fromArray(e.max),i=new WD(t,r,e.depth,e.id);if(e.data.indexes){i.data={indexes:[]};for(let a of e.data.indexes)i.data.indexes.push(a)}if(e.children)for(let a of e.children)i.children.push(yb.convertWorkerSubTreeNode(a));return i}static convertWorkerSubTree(e,t){const r=new yb(e.maxDepth,e.maxCentersPerNode);r.sceneMin=new tt().fromArray(e.sceneMin),r.sceneMax=new tt().fromArray(e.sceneMax),r.splatMesh=t,r.rootNode=yb.convertWorkerSubTreeNode(e.rootNode);const i=(a,s)=>{a.children.length===0&&s(a);for(let o of a.children)i(o,s)};return r.nodesWithIndexes=[],i(r.rootNode,a=>{a.data&&a.data.indexes&&a.data.indexes.length>0&&r.nodesWithIndexes.push(a)}),r}}function Eut(n){let e=0;class t{constructor(l,c){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]]}containsPoint(l){return l[0]>=this.min[0]&&l[0]<=this.max[0]&&l[1]>=this.min[1]&&l[1]<=this.max[1]&&l[2]>=this.min[2]&&l[2]<=this.max[2]}}class r{constructor(l,c){this.maxDepth=l,this.maxCentersPerNode=c,this.sceneDimensions=[],this.sceneMin=[],this.sceneMax=[],this.rootNode=null,this.addedIndexes={},this.nodesWithIndexes=[],this.splatMesh=null,this.disposed=!1}}class i{constructor(l,c,u,d){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]],this.center=[(c[0]-l[0])*.5+l[0],(c[1]-l[1])*.5+l[1],(c[2]-l[2])*.5+l[2]],this.depth=u,this.children=[],this.data=null,this.id=d||e++}}processSplatTreeNode=function(o,l,c,u){const d=l.data.indexes.length;if(d<o.maxCentersPerNode||l.depth>o.maxDepth){const y=[];for(let b=0;b<l.data.indexes.length;b++)o.addedIndexes[l.data.indexes[b]]||(y.push(l.data.indexes[b]),o.addedIndexes[l.data.indexes[b]]=!0);l.data.indexes=y,l.data.indexes.sort((b,_)=>b>_?1:-1),o.nodesWithIndexes.push(l);return}const f=[l.max[0]-l.min[0],l.max[1]-l.min[1],l.max[2]-l.min[2]],h=[f[0]*.5,f[1]*.5,f[2]*.5],p=[l.min[0]+h[0],l.min[1]+h[1],l.min[2]+h[2]],m=[new t([p[0]-h[0],p[1],p[2]-h[2]],[p[0],p[1]+h[1],p[2]]),new t([p[0],p[1],p[2]-h[2]],[p[0]+h[0],p[1]+h[1],p[2]]),new t([p[0],p[1],p[2]],[p[0]+h[0],p[1]+h[1],p[2]+h[2]]),new t([p[0]-h[0],p[1],p[2]],[p[0],p[1]+h[1],p[2]+h[2]]),new t([p[0]-h[0],p[1]-h[1],p[2]-h[2]],[p[0],p[1],p[2]]),new t([p[0],p[1]-h[1],p[2]-h[2]],[p[0]+h[0],p[1],p[2]]),new t([p[0],p[1]-h[1],p[2]],[p[0]+h[0],p[1],p[2]+h[2]]),new t([p[0]-h[0],p[1]-h[1],p[2]],[p[0],p[1],p[2]+h[2]])],v=[];for(let y=0;y<m.length;y++)v[y]=[];const g=[0,0,0];for(let y=0;y<d;y++){const b=l.data.indexes[y],_=c[b];g[0]=u[_],g[1]=u[_+1],g[2]=u[_+2];for(let x=0;x<m.length;x++)m[x].containsPoint(g)&&v[x].push(b)}for(let y=0;y<m.length;y++){const b=new i(m[y].min,m[y].max,l.depth+1);b.data={indexes:v[y]},l.children.push(b)}l.data={};for(let y of l.children)processSplatTreeNode(o,y,c,u)};const a=(o,l,c)=>{const u=[0,0,0],d=[0,0,0],f=[],h=Math.floor(o.length/4);for(let m=0;m<h;m++){const v=m*4,g=o[v],y=o[v+1],b=o[v+2],_=Math.round(o[v+3]);(m===0||g<u[0])&&(u[0]=g),(m===0||g>d[0])&&(d[0]=g),(m===0||y<u[1])&&(u[1]=y),(m===0||y>d[1])&&(d[1]=y),(m===0||b<u[2])&&(u[2]=b),(m===0||b>d[2])&&(d[2]=b),f.push(_)}const p=new r(l,c);return p.sceneMin=u,p.sceneMax=d,p.rootNode=new i(p.sceneMin,p.sceneMax,0),p.rootNode.data={indexes:f},p};function s(o,l,c){const u=[];for(let f of o){const h=Math.floor(f.length/4);for(let p=0;p<h;p++){const m=p*4,v=Math.round(f[m+3]);u[v]=m}}const d=[];for(let f of o){const h=a(f,l,c);d.push(h),processSplatTreeNode(h,h.rootNode,u,f)}n.postMessage({subTrees:d})}n.onmessage=o=>{o.data.process&&s(o.data.process.centers,o.data.process.maxDepth,o.data.process.maxCentersPerNode)}}function Iut(n,e,t,r,i){n.postMessage({process:{centers:e,maxDepth:r,maxCentersPerNode:i}},t)}function Rut(){return new Worker(URL.createObjectURL(new Blob(["(",Eut.toString(),")(self)"],{type:"application/javascript"})))}class Put{constructor(e,t){un(this,"processSplatMesh",function(e,t=()=>!0,r,i){this.splatTreeWorker||(this.splatTreeWorker=Rut()),this.splatMesh=e,this.subTrees=[];const a=new tt,s=(o,l)=>{const c=new Float32Array(l*4);let u=0;for(let d=0;d<l;d++){const f=d+o;if(t(f)){e.getSplatCenter(f,a);const h=u*4;c[h]=a.x,c[h+1]=a.y,c[h+2]=a.z,c[h+3]=f,u++}}return c};return new Promise(o=>{const l=()=>this.disposed?(this.diposeSplatTreeWorker(),o(),!0):!1;r&&r(!1),dc(()=>{if(l())return;const c=[];if(e.dynamicMode){let u=0;for(let d=0;d<e.scenes.length;d++){const h=e.getScene(d).splatBuffer.getSplatCount(),p=s(u,h);c.push(p),u+=h}}else{const u=s(0,e.getSplatCount());c.push(u)}this.splatTreeWorker.onmessage=u=>{l()||u.data.subTrees&&(i&&i(!1),dc(()=>{if(!l()){for(let d of u.data.subTrees){const f=yb.convertWorkerSubTree(d,e);this.subTrees.push(f)}this.diposeSplatTreeWorker(),i&&i(!0),dc(()=>{o()})}}))},dc(()=>{if(l())return;r&&r(!0);const u=c.map(d=>d.buffer);Iut(this.splatTreeWorker,c,u,this.maxDepth,this.maxCentersPerNode)})})})});this.maxDepth=e,this.maxCentersPerNode=t,this.subTrees=[],this.splatMesh=null}dispose(){this.diposeSplatTreeWorker(),this.disposed=!0}diposeSplatTreeWorker(){this.splatTreeWorker&&this.splatTreeWorker.terminate(),this.splatTreeWorker=null}countLeaves(){let e=0;return this.visitLeaves(()=>{e++}),e}visitLeaves(e){const t=(r,i)=>{r.children.length===0&&i(r);for(let a of r.children)t(a,i)};for(let r of this.subTrees)t(r.rootNode,e)}}function Dut(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function kut(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let o=t.precision!==void 0?t.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=f>0,_=s||e.has("OES_texture_float"),x=b&&_,S=s?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:S}}const bb={Default:0,Gradual:1,Instant:2},qv={None:0,Error:1,Warning:2,Info:3,Debug:4},qW=new Fl,Lut=new wm,o2=6,Nut=4,Out=4,But=4,Fut=6,zut=8,$I=4,GI=4,KW=1,Uut=.012,Hut=.003,YW=1,XW=16777216;class Wa extends aa{constructor(t=Wu.ThreeD,r=!1,i=!1,a=!1,s=1,o=!0,l=!1,c=!1,u=1024,d=qv.None,f=0,h=1,p=.3){super(qW,Lut);un(this,"buildSplatTree",function(t=[],r,i){return new Promise(a=>{this.disposeSplatTree(),this.baseSplatTree=new Put(8,1e3);const s=performance.now(),o=new Hi;this.baseSplatTree.processSplatMesh(this,l=>{this.getSplatColor(l,o);const c=this.getSceneIndexForSplat(l),u=t[c]||1;return o.w>=u},r,i).then(()=>{const l=performance.now()-s;if(this.logLevel>=qv.Info&&console.log("SplatTree build: "+l+" ms"),this.disposed)a();else{this.splatTree=this.baseSplatTree,this.baseSplatTree=null;let c=0,u=0,d=0;this.splatTree.visitLeaves(f=>{const h=f.data.indexes.length;h>0&&(u+=h,d++,c++)}),this.logLevel>=qv.Info&&(console.log(`SplatTree leaves: ${this.splatTree.countLeaves()}`),console.log(`SplatTree leaves with splats:${c}`),u=u/d,console.log(`Avg splat count per node: ${u}`),console.log(`Total splat count: ${this.getSplatCount()}`)),a()}})})});un(this,"updateUniforms",function(){const t=new Vn;return function(r,i,a,s,o,l){if(this.getSplatCount()>0){if(t.set(r.x*this.devicePixelRatio,r.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(t),this.material.uniforms.basisViewport.value.set(1/t.x,1/t.y),this.material.uniforms.focal.value.set(i,a),this.material.uniforms.orthographicMode.value=s?1:0,this.material.uniforms.orthoZoom.value=o,this.material.uniforms.inverseFocalAdjustment.value=l,this.dynamicMode)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.transforms.value[u].copy(this.getScene(u).transform);if(this.enableOptionalEffects)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.sceneOpacity.value[u]=Ja(this.getScene(u).opacity,0,1),this.material.uniforms.sceneVisibility.value[u]=this.getScene(u).visible?1:0,this.material.uniformsNeedUpdate=!0;this.material.uniformsNeedUpdate=!0}}}());un(this,"setupDistancesComputationTransformFeedback",function(){let t;return function(){const r=this.getMaxSplatCount();if(!this.renderer)return;const i=this.lastRenderer!==this.renderer,a=t!==r;if(!i&&!a)return;i?this.disposeDistancesComputationGPUResources():a&&this.disposeDistancesComputationGPUBufferResources();const s=this.renderer.getContext(),o=(h,p,m)=>{const v=h.createShader(p);if(!v)return console.error("Fatal error: gl could not create a shader object."),null;if(h.shaderSource(v,m),h.compileShader(v),!h.getShaderParameter(v,h.COMPILE_STATUS)){let y="unknown";p===h.VERTEX_SHADER?y="vertex shader":p===h.FRAGMENT_SHADER&&(y="fragement shader");const b=h.getShaderInfoLog(v);return console.error("Failed to compile "+y+" with these errors:"+b),h.deleteShader(v),null}return v};let l;this.integerBasedDistancesComputation?(l=`#version 300 es
                in ivec4 center;
                flat out int distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform ivec4 transforms[${zr.MaxScenes}];
                        void main(void) {
                            ivec4 transform = transforms[sceneIndex];
                            distance = center.x * transform.x + center.y * transform.y + center.z * transform.z + transform.w * center.w;
                        }
                    `:l+=`
                        uniform ivec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `):(l=`#version 300 es
                in vec4 center;
                flat out float distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform mat4 transforms[${zr.MaxScenes}];
                        void main(void) {
                            vec4 transformedCenter = transforms[sceneIndex] * vec4(center.xyz, 1.0);
                            distance = transformedCenter.z;
                        }
                    `:l+=`
                        uniform vec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `);const c=`#version 300 es
                precision lowp float;
                out vec4 fragColor;
                void main(){}
            `,u=s.getParameter(s.VERTEX_ARRAY_BINDING),d=s.getParameter(s.CURRENT_PROGRAM),f=d?s.getProgramParameter(d,s.DELETE_STATUS):!1;if(i&&(this.distancesTransformFeedback.vao=s.createVertexArray()),s.bindVertexArray(this.distancesTransformFeedback.vao),i){const h=s.createProgram(),p=o(s,s.VERTEX_SHADER,l),m=o(s,s.FRAGMENT_SHADER,c);if(!p||!m)throw new Error("Could not compile shaders for distances computation on GPU.");if(s.attachShader(h,p),s.attachShader(h,m),s.transformFeedbackVaryings(h,["distance"],s.SEPARATE_ATTRIBS),s.linkProgram(h),!s.getProgramParameter(h,s.LINK_STATUS)){const g=s.getProgramInfoLog(h);throw console.error("Fatal error: Failed to link program: "+g),s.deleteProgram(h),s.deleteShader(m),s.deleteShader(p),new Error("Could not link shaders for distances computation on GPU.")}this.distancesTransformFeedback.program=h,this.distancesTransformFeedback.vertexShader=p,this.distancesTransformFeedback.vertexShader=m}if(s.useProgram(this.distancesTransformFeedback.program),this.distancesTransformFeedback.centersLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"center"),this.dynamicMode){this.distancesTransformFeedback.sceneIndexesLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"sceneIndex");for(let h=0;h<this.scenes.length;h++)this.distancesTransformFeedback.transformsLocs[h]=s.getUniformLocation(this.distancesTransformFeedback.program,`transforms[${h}]`)}else this.distancesTransformFeedback.modelViewProjLoc=s.getUniformLocation(this.distancesTransformFeedback.program,"modelViewProj");(i||a)&&(this.distancesTransformFeedback.centersBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?s.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,s.INT,0,0):s.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,s.FLOAT,!1,0,0),this.dynamicMode&&(this.distancesTransformFeedback.sceneIndexesBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),s.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,s.UNSIGNED_INT,0,0))),(i||a)&&(this.distancesTransformFeedback.outDistancesBuffer=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),s.bufferData(s.ARRAY_BUFFER,r*4,s.STATIC_READ),i&&(this.distancesTransformFeedback.id=s.createTransformFeedback()),s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),s.bindBufferBase(s.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),d&&f!==!0&&s.useProgram(d),u&&s.bindVertexArray(u),this.lastRenderer=this.renderer,t=r}}());un(this,"fillTransformsArray",function(){const t=[];return function(r){t.length!==r.length&&(t.length=r.length);for(let i=0;i<this.scenes.length;i++){const s=this.getScene(i).transform.elements;for(let o=0;o<16;o++)t[i*16+o]=s[o]}r.set(t)}}());un(this,"computeDistancesOnGPU",function(){const t=new ur;return function(r,i){if(!this.renderer)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING),o=a.getParameter(a.CURRENT_PROGRAM),l=o?a.getProgramParameter(o,a.DELETE_STATUS):!1;if(a.bindVertexArray(this.distancesTransformFeedback.vao),a.useProgram(this.distancesTransformFeedback.program),a.enable(a.RASTERIZER_DISCARD),this.dynamicMode)for(let d=0;d<this.scenes.length;d++)if(t.copy(this.getScene(d).transform),t.premultiply(r),this.integerBasedDistancesComputation){const f=Wa.getIntegerMatrixArray(t),h=[f[2],f[6],f[10],f[14]];a.uniform4i(this.distancesTransformFeedback.transformsLocs[d],h[0],h[1],h[2],h[3])}else a.uniformMatrix4fv(this.distancesTransformFeedback.transformsLocs[d],!1,t.elements);else if(this.integerBasedDistancesComputation){const d=Wa.getIntegerMatrixArray(r),f=[d[2],d[6],d[10]];a.uniform3i(this.distancesTransformFeedback.modelViewProjLoc,f[0],f[1],f[2])}else{const d=[r.elements[2],r.elements[6],r.elements[10]];a.uniform3f(this.distancesTransformFeedback.modelViewProjLoc,d[0],d[1],d[2])}a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?a.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,a.INT,0,0):a.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,a.FLOAT,!1,0,0),this.dynamicMode&&(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),a.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,a.UNSIGNED_INT,0,0)),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),a.beginTransformFeedback(a.POINTS),a.drawArrays(a.POINTS,0,this.getSplatCount()),a.endTransformFeedback(),a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER,0,null),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,null),a.disable(a.RASTERIZER_DISCARD);const c=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);a.flush();const u=new Promise(d=>{const f=()=>{if(this.disposed)d();else switch(a.clientWaitSync(c,0,0)){case a.TIMEOUT_EXPIRED:return this.computeDistancesOnGPUSyncTimeout=setTimeout(f),this.computeDistancesOnGPUSyncTimeout;case a.WAIT_FAILED:throw new Error("should never get here");default:this.computeDistancesOnGPUSyncTimeout=null,a.deleteSync(c);const v=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao),a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),a.getBufferSubData(a.ARRAY_BUFFER,0,i),a.bindBuffer(a.ARRAY_BUFFER,null),v&&a.bindVertexArray(v),d()}};this.computeDistancesOnGPUSyncTimeout=setTimeout(f)});return o&&l!==!0&&a.useProgram(o),s&&a.bindVertexArray(s),u}}());un(this,"getSplatCenter",function(){const t={};return function(r,i,a){this.getLocalSplatParameters(r,t,a),t.splatBuffer.getSplatCenter(t.localIndex,i,t.sceneTransform)}}());un(this,"getSplatScaleAndRotation",function(){const t={},r=new tt;return function(i,a,s,o){this.getLocalSplatParameters(i,t,o),r.x=void 0,r.y=void 0,r.z=void 0,this.splatRenderMode===Wu.TwoD&&(r.z=0),t.splatBuffer.getSplatScaleAndRotation(t.localIndex,a,s,t.sceneTransform,r)}}());un(this,"getSplatColor",function(){const t={};return function(r,i){this.getLocalSplatParameters(r,t),t.splatBuffer.getSplatColor(t.localIndex,i)}}());this.renderer=void 0,this.splatRenderMode=t,this.dynamicMode=r,this.enableOptionalEffects=i,this.halfPrecisionCovariancesOnGPU=a,this.devicePixelRatio=s,this.enableDistancesComputationOnGPU=o,this.integerBasedDistancesComputation=l,this.antialiased=c,this.kernel2DSize=p,this.maxScreenSpaceSplatSize=u,this.logLevel=d,this.sphericalHarmonicsDegree=f,this.minSphericalHarmonicsDegree=0,this.sceneFadeInRateMultiplier=h,this.scenes=[],this.splatTree=null,this.baseSplatTree=null,this.splatDataTextures={},this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new jc,this.calculatedSceneCenter=new tt,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!1,this.lastRenderer=null,this.visible=!1}static buildScenes(t,r,i){const a=[];a.length=r.length;for(let s=0;s<r.length;s++){const o=r[s],l=i[s]||{};let c=l.position||[0,0,0],u=l.rotation||[0,0,0,1],d=l.scale||[1,1,1];const f=new tt().fromArray(c),h=new Yi().fromArray(u),p=new tt().fromArray(d),m=Wa.createScene(o,f,h,p,l.splatAlphaRemovalThreshold||1,l.opacity,l.visible);t.add(m),a[s]=m}return a}static createScene(t,r,i,a,s,o=1,l=!0){return new Aut(t,r,i,a,s,o,l)}static buildSplatIndexMaps(t){const r=[],i=[];let a=0;for(let s=0;s<t.length;s++){const l=t[s].getMaxSplatCount();for(let c=0;c<l;c++)r[a]=c,i[a]=s,a++}return{localSplatIndexMap:r,sceneIndexMap:i}}build(t,r,i=!0,a=!1,s,o,l=!0){this.sceneOptions=r,this.finalBuild=a;const c=Wa.getTotalMaxSplatCountForSplatBuffers(t),u=Wa.buildScenes(this,t,r);if(i)for(let v=0;v<this.scenes.length&&v<u.length;v++){const g=u[v],y=this.getScene(v);g.copyTransformData(y)}this.scenes=u;let d=3;for(let v of t){const g=v.getMinSphericalHarmonicsDegree();g<d&&(d=g)}this.minSphericalHarmonicsDegree=Math.min(d,this.sphericalHarmonicsDegree);let f=!1;if(t.length!==this.lastBuildScenes.length)f=!0;else for(let v=0;v<t.length;v++)if(t[v]!==this.lastBuildScenes[v].splatBuffer){f=!0;break}let h=!0;if((this.scenes.length!==1||this.lastBuildSceneCount!==this.scenes.length||this.lastBuildMaxSplatCount!==c||f)&&(h=!1),!h){this.boundingBox=new jc,l||(this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.firstRenderTime=-1),this.lastBuildScenes=[],this.lastBuildSplatCount=0,this.lastBuildMaxSplatCount=0,this.disposeMeshData(),this.geometry=Tut.build(c),this.splatRenderMode===Wu.ThreeD?this.material=VM.build(this.dynamicMode,this.enableOptionalEffects,this.antialiased,this.maxScreenSpaceSplatSize,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree,this.kernel2DSize):this.material=$M.build(this.dynamicMode,this.enableOptionalEffects,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree);const v=Wa.buildSplatIndexMaps(t);this.globalSplatIndexToLocalSplatIndexMap=v.localSplatIndexMap,this.globalSplatIndexToSceneIndexMap=v.sceneIndexMap}const p=this.getSplatCount(!0);this.enableDistancesComputationOnGPU&&this.setupDistancesComputationTransformFeedback();const m=this.refreshGPUDataFromSplatBuffers(h);for(let v=0;v<this.scenes.length;v++)this.lastBuildScenes[v]=this.scenes[v];return this.lastBuildSplatCount=p,this.lastBuildMaxSplatCount=this.getMaxSplatCount(),this.lastBuildSceneCount=this.scenes.length,a&&this.scenes.length>0&&this.buildSplatTree(r.map(v=>v.splatAlphaRemovalThreshold||1),s,o).then(()=>{this.onSplatTreeReadyCallback&&this.onSplatTreeReadyCallback(this.splatTree),this.onSplatTreeReadyCallback=null}),this.visible=this.scenes.length>0,m}freeIntermediateSplatData(){const t=r=>{delete r.source.data,delete r.image,r.onUpdate=null};delete this.splatDataTextures.baseData.covariances,delete this.splatDataTextures.baseData.centers,delete this.splatDataTextures.baseData.colors,delete this.splatDataTextures.baseData.sphericalHarmonics,delete this.splatDataTextures.centerColors.data,delete this.splatDataTextures.covariances.data,this.splatDataTextures.sphericalHarmonics&&delete this.splatDataTextures.sphericalHarmonics.data,this.splatDataTextures.sceneIndexes&&delete this.splatDataTextures.sceneIndexes.data,this.splatDataTextures.centerColors.texture.needsUpdate=!0,this.splatDataTextures.centerColors.texture.onUpdate=()=>{t(this.splatDataTextures.centerColors.texture)},this.splatDataTextures.covariances.texture.needsUpdate=!0,this.splatDataTextures.covariances.texture.onUpdate=()=>{t(this.splatDataTextures.covariances.texture)},this.splatDataTextures.sphericalHarmonics&&(this.splatDataTextures.sphericalHarmonics.texture?(this.splatDataTextures.sphericalHarmonics.texture.needsUpdate=!0,this.splatDataTextures.sphericalHarmonics.texture.onUpdate=()=>{t(this.splatDataTextures.sphericalHarmonics.texture)}):this.splatDataTextures.sphericalHarmonics.textures.forEach(r=>{r.needsUpdate=!0,r.onUpdate=()=>{t(r)}})),this.splatDataTextures.sceneIndexes&&(this.splatDataTextures.sceneIndexes.texture.needsUpdate=!0,this.splatDataTextures.sceneIndexes.texture.onUpdate=()=>{t(this.splatDataTextures.sceneIndexes.texture)})}dispose(){this.disposeMeshData(),this.disposeTextures(),this.disposeSplatTree(),this.enableDistancesComputationOnGPU&&(this.computeDistancesOnGPUSyncTimeout&&(clearTimeout(this.computeDistancesOnGPUSyncTimeout),this.computeDistancesOnGPUSyncTimeout=null),this.disposeDistancesComputationGPUResources()),this.scenes=[],this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.renderer=null,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new jc,this.calculatedSceneCenter=new tt,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!0,this.lastRenderer=null,this.visible=!1}disposeMeshData(){this.geometry&&this.geometry!==qW&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null)}disposeTextures(){for(let t in this.splatDataTextures)if(this.splatDataTextures.hasOwnProperty(t)){const r=this.splatDataTextures[t];r.texture&&(r.texture.dispose(),r.texture=null)}this.splatDataTextures=null}disposeSplatTree(){this.splatTree&&(this.splatTree.dispose(),this.splatTree=null),this.baseSplatTree&&(this.baseSplatTree.dispose(),this.baseSplatTree=null)}getSplatTree(){return this.splatTree}onSplatTreeReady(t){this.onSplatTreeReadyCallback=t}getDataForDistancesComputation(t,r){const i=this.integerBasedDistancesComputation?this.getIntegerCenters(t,r,!0):this.getFloatCenters(t,r,!0),a=this.getSceneIndexes(t,r);return{centers:i,sceneIndexes:a}}refreshGPUDataFromSplatBuffers(t){const r=this.getSplatCount(!0);this.refreshDataTexturesFromSplatBuffers(t);const i=t?this.lastBuildSplatCount:0,{centers:a,sceneIndexes:s}=this.getDataForDistancesComputation(i,r-1);return this.enableDistancesComputationOnGPU&&this.refreshGPUBuffersForDistancesComputation(a,s,t),{from:i,to:r-1,count:r-i,centers:a,sceneIndexes:s}}refreshGPUBuffersForDistancesComputation(t,r,i=!1){const a=i?this.lastBuildSplatCount:0;this.updateGPUCentersBufferForDistancesComputation(i,t,a),this.updateGPUTransformIndexesBufferForDistancesComputation(i,r,a)}refreshDataTexturesFromSplatBuffers(t){const r=this.getSplatCount(!0),i=this.lastBuildSplatCount,a=r-1;t?this.updateBaseDataFromSplatBuffers(i,a):(this.setupDataTextures(),this.updateBaseDataFromSplatBuffers()),this.updateDataTexturesFromBaseData(i,a),this.updateVisibleRegion(t)}setupDataTextures(){const t=this.getMaxSplatCount(),r=this.getSplatCount(!0);this.disposeTextures();const i=(C,M)=>{const A=new Vn(4096,1024);for(;A.x*A.y*C<t*M;)A.y*=2;return A},a=C=>C>=1?Fut:Out,s=C=>{const M=a(C),A=i(M,6);return{elementsPerTexelStored:M,texSize:A}};let o=this.getTargetCovarianceCompressionLevel();const l=0,c=this.getTargetSphericalHarmonicsCompressionLevel();let u,d,f;if(this.splatRenderMode===Wu.ThreeD){const C=s(o);C.texSize.x*C.texSize.y>XW&&o===0&&(o=1),u=new Float32Array(t*o2)}else d=new Float32Array(t*3),f=new Float32Array(t*4);const h=new Float32Array(t*3),p=new Uint8Array(t*4);let m=Float32Array;c===1?m=Uint16Array:c===2&&(m=Uint8Array);const v=Gv(this.minSphericalHarmonicsDegree),g=this.minSphericalHarmonicsDegree?new m(t*v):void 0,y=i(GI,4),b=new Uint32Array(y.x*y.y*GI);Wa.updateCenterColorsPaddedData(0,r-1,h,p,b);const _=new af(b,y.x,y.y,Vv,_l);if(_.internalFormat="RGBA32UI",_.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=_,this.material.uniforms.centersColorsTextureSize.value.copy(y),this.material.uniformsNeedUpdate=!0,this.splatDataTextures={baseData:{covariances:u,scales:d,rotations:f,centers:h,colors:p,sphericalHarmonics:g},centerColors:{data:b,texture:_,size:y}},this.splatRenderMode===Wu.ThreeD){const C=s(o),M=C.elementsPerTexelStored,A=C.texSize;let I=o>=1?Uint32Array:Float32Array;const D=o>=1?zut:But,L=new I(A.x*A.y*D);o===0?L.set(u):Wa.updatePaddedCompressedCovariancesTextureData(u,L,0,0,u.length);let F;if(o>=1)F=new af(L,A.x,A.y,Vv,_l),F.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=F;else{F=new af(L,A.x,A.y,Us,uc),this.material.uniforms.covariancesTexture.value=F;const B=new af(new Uint32Array(32),2,2,Vv,_l);B.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=B,B.needsUpdate=!0}F.needsUpdate=!0,this.material.uniforms.covariancesAreHalfFloat.value=o>=1?1:0,this.material.uniforms.covariancesTextureSize.value.copy(A),this.splatDataTextures.covariances={data:L,texture:F,size:A,compressionLevel:o,elementsPerTexelStored:M,elementsPerTexelAllocated:D}}else{const M=i($I,6);let A=Float32Array,I=uc;const D=new A(M.x*M.y*$I);Wa.updateScaleRotationsPaddedData(0,r-1,d,f,D);const L=new af(D,M.x,M.y,Us,I);L.needsUpdate=!0,this.material.uniforms.scaleRotationsTexture.value=L,this.material.uniforms.scaleRotationsTextureSize.value.copy(M),this.splatDataTextures.scaleRotations={data:D,texture:L,size:M,compressionLevel:l}}if(g){const C=c===2?cu:vy;let M=v;M%2!==0&&M++;const A=this.minSphericalHarmonicsDegree===2?4:2,I=A===4?Us:lN;let D=i(A,M);if(D.x*D.y<=XW){const L=D.x*D.y*A,F=new m(L);for(let k=0;k<r;k++){const H=v*k,z=M*k;for(let O=0;O<v;O++)F[z+O]=g[H+O]}const B=new af(F,D.x,D.y,I,C);B.needsUpdate=!0,this.material.uniforms.sphericalHarmonicsTexture.value=B,this.splatDataTextures.sphericalHarmonics={componentCount:v,paddedComponentCount:M,data:F,textureCount:1,texture:B,size:D,compressionLevel:c,elementsPerTexel:A}}else{const L=v/3;M=L,M%2!==0&&M++,D=i(A,M);const F=D.x*D.y*A,B=[this.material.uniforms.sphericalHarmonicsTextureR,this.material.uniforms.sphericalHarmonicsTextureG,this.material.uniforms.sphericalHarmonicsTextureB],k=[],H=[];for(let z=0;z<3;z++){const O=new m(F);k.push(O);for(let X=0;X<r;X++){const J=v*X,Q=M*X;if(L>=3){for(let re=0;re<3;re++)O[Q+re]=g[J+z*3+re];if(L>=8)for(let re=0;re<5;re++)O[Q+3+re]=g[J+9+z*5+re]}}const G=new af(O,D.x,D.y,I,C);H.push(G),G.needsUpdate=!0,B[z].value=G}this.material.uniforms.sphericalHarmonicsMultiTextureMode.value=1,this.splatDataTextures.sphericalHarmonics={componentCount:v,componentCountPerChannel:L,paddedComponentCount:M,data:k,textureCount:3,textures:H,size:D,compressionLevel:c,elementsPerTexel:A}}this.material.uniforms.sphericalHarmonicsTextureSize.value.copy(D),this.material.uniforms.sphericalHarmonics8BitMode.value=c===2?1:0;for(let L=0;L<this.scenes.length;L++){const F=this.scenes[L].splatBuffer;this.material.uniforms.sphericalHarmonics8BitCompressionRangeMin.value[L]=F.minSphericalHarmonicsCoeff,this.material.uniforms.sphericalHarmonics8BitCompressionRangeMax.value[L]=F.maxSphericalHarmonicsCoeff}this.material.uniformsNeedUpdate=!0}const x=i(KW,4),S=new Uint32Array(x.x*x.y*KW);for(let C=0;C<r;C++)S[C]=this.globalSplatIndexToSceneIndexMap[C];const T=new af(S,x.x,x.y,_A,_l);T.internalFormat="R32UI",T.needsUpdate=!0,this.material.uniforms.sceneIndexesTexture.value=T,this.material.uniforms.sceneIndexesTextureSize.value.copy(x),this.material.uniformsNeedUpdate=!0,this.splatDataTextures.sceneIndexes={data:S,texture:T,size:x},this.material.uniforms.sceneCount.value=this.scenes.length}updateBaseDataFromSplatBuffers(t,r){const i=this.splatDataTextures.covariances,a=i?i.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,o=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0;this.fillSplatDataArrays(this.splatDataTextures.baseData.covariances,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,this.splatDataTextures.baseData.sphericalHarmonics,void 0,a,o,c,t,r,t)}updateDataTexturesFromBaseData(t,r){const i=this.splatDataTextures.covariances,a=i?i.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,o=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0,u=this.splatDataTextures.centerColors,d=u.data,f=u.texture;Wa.updateCenterColorsPaddedData(t,r,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,d);const h=this.renderer?this.renderer.properties.get(f):null;if(!h||!h.__webglTexture?f.needsUpdate=!0:this.updateDataTexture(d,u.texture,u.size,h,GI,Nut,4,t,r),i){const b=i.texture,_=t*o2,x=r*o2;if(a===0)for(let T=_;T<=x;T++){const C=this.splatDataTextures.baseData.covariances[T];i.data[T]=C}else Wa.updatePaddedCompressedCovariancesTextureData(this.splatDataTextures.baseData.covariances,i.data,t*i.elementsPerTexelAllocated,_,x);const S=this.renderer?this.renderer.properties.get(b):null;!S||!S.__webglTexture?b.needsUpdate=!0:a===0?this.updateDataTexture(i.data,i.texture,i.size,S,i.elementsPerTexelStored,o2,4,t,r):this.updateDataTexture(i.data,i.texture,i.size,S,i.elementsPerTexelAllocated,i.elementsPerTexelAllocated,2,t,r)}if(s){const b=s.data,_=s.texture,x=6,S=o===0?4:2;Wa.updateScaleRotationsPaddedData(t,r,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,b);const T=this.renderer?this.renderer.properties.get(_):null;!T||!T.__webglTexture?_.needsUpdate=!0:this.updateDataTexture(b,s.texture,s.size,T,$I,x,S,t,r)}const p=this.splatDataTextures.baseData.sphericalHarmonics;if(p){let b=4;c===1?b=2:c===2&&(b=1);const _=(T,C,M,A,I)=>{const D=this.renderer?this.renderer.properties.get(T):null;!D||!D.__webglTexture?T.needsUpdate=!0:this.updateDataTexture(A,T,C,D,M,I,b,t,r)},x=l.componentCount,S=l.paddedComponentCount;if(l.textureCount===1){const T=l.data;for(let C=t;C<=r;C++){const M=x*C,A=S*C;for(let I=0;I<x;I++)T[A+I]=p[M+I]}_(l.texture,l.size,l.elementsPerTexel,T,S)}else{const T=l.componentCountPerChannel;for(let C=0;C<3;C++){const M=l.data[C];for(let A=t;A<=r;A++){const I=x*A,D=S*A;if(T>=3){for(let L=0;L<3;L++)M[D+L]=p[I+C*3+L];if(T>=8)for(let L=0;L<5;L++)M[D+3+L]=p[I+9+C*5+L]}}_(l.textures[C],l.size,l.elementsPerTexel,M,S)}}}const m=this.splatDataTextures.sceneIndexes,v=m.data;for(let b=this.lastBuildSplatCount;b<=r;b++)v[b]=this.globalSplatIndexToSceneIndexMap[b];const g=m.texture,y=this.renderer?this.renderer.properties.get(g):null;!y||!y.__webglTexture?g.needsUpdate=!0:this.updateDataTexture(v,m.texture,m.size,y,1,1,1,this.lastBuildSplatCount,r)}getTargetCovarianceCompressionLevel(){return this.halfPrecisionCovariancesOnGPU?1:0}getTargetSphericalHarmonicsCompressionLevel(){return Math.max(1,this.getMaximumSplatBufferCompressionLevel())}getMaximumSplatBufferCompressionLevel(){let t;for(let r=0;r<this.scenes.length;r++){const a=this.getScene(r).splatBuffer;(r===0||a.compressionLevel>t)&&(t=a.compressionLevel)}return t}getMinimumSplatBufferCompressionLevel(){let t;for(let r=0;r<this.scenes.length;r++){const a=this.getScene(r).splatBuffer;(r===0||a.compressionLevel<t)&&(t=a.compressionLevel)}return t}static computeTextureUpdateRegion(t,r,i,a,s){const o=s/a,l=t*o,c=Math.floor(l/i),u=c*i*a,d=r*o,f=Math.floor(d/i),h=f*i*a+i*a;return{dataStart:u,dataEnd:h,startRow:c,endRow:f}}updateDataTexture(t,r,i,a,s,o,l,c,u){const d=this.renderer.getContext(),f=Wa.computeTextureUpdateRegion(c,u,i.x,s,o),h=f.dataEnd-f.dataStart,p=new t.constructor(t.buffer,f.dataStart*l,h),m=f.endRow-f.startRow+1,v=this.webGLUtils.convert(r.type),g=this.webGLUtils.convert(r.format,r.colorSpace),y=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,a.__webglTexture),d.texSubImage2D(d.TEXTURE_2D,0,0,f.startRow,i.x,m,g,v,p),d.bindTexture(d.TEXTURE_2D,y)}static updatePaddedCompressedCovariancesTextureData(t,r,i,a,s){let o=new DataView(r.buffer),l=i,c=0;for(let u=a;u<=s;u+=2)o.setUint16(l*2,t[u],!0),o.setUint16(l*2+2,t[u+1],!0),l+=2,c++,c>=3&&(l+=2,c=0)}static updateCenterColorsPaddedData(t,r,i,a,s){for(let o=t;o<=r;o++){const l=o*4,c=o*3,u=o*4;s[u]=Pct(a,l),s[u+1]=OI(i[c]),s[u+2]=OI(i[c+1]),s[u+3]=OI(i[c+2])}}static updateScaleRotationsPaddedData(t,r,i,a,s){for(let l=t;l<=r;l++){const c=l*3,u=l*4,d=l*6;s[d]=i[c],s[d+1]=i[c+1],s[d+2]=i[c+2],s[d+3]=a[u],s[d+4]=a[u+1],s[d+5]=a[u+2]}}updateVisibleRegion(t){const r=this.getSplatCount(!0),i=new tt;if(!t){const s=new tt;this.scenes.forEach(o=>{s.add(o.splatBuffer.sceneCenter)}),s.multiplyScalar(1/this.scenes.length),this.calculatedSceneCenter.copy(s),this.material.uniforms.sceneCenter.value.copy(this.calculatedSceneCenter),this.material.uniformsNeedUpdate=!0}const a=t?this.lastBuildSplatCount:0;for(let s=a;s<r;s++){this.getSplatCenter(s,i,!0);const o=i.sub(this.calculatedSceneCenter).length();o>this.maxSplatDistanceFromSceneCenter&&(this.maxSplatDistanceFromSceneCenter=o)}this.maxSplatDistanceFromSceneCenter-this.visibleRegionBufferRadius>YW&&(this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter,this.visibleRegionRadius=Math.max(this.visibleRegionBufferRadius-YW,0)),this.finalBuild&&(this.visibleRegionRadius=this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter),this.updateVisibleRegionFadeDistance()}updateVisibleRegionFadeDistance(t=bb.Default){const r=Uut*this.sceneFadeInRateMultiplier,i=Hut*this.sceneFadeInRateMultiplier,a=this.finalBuild?r:i,s=t===bb.Default?a:i;this.visibleRegionFadeStartRadius=(this.visibleRegionRadius-this.visibleRegionFadeStartRadius)*s+this.visibleRegionFadeStartRadius;const l=(this.visibleRegionBufferRadius>0?this.visibleRegionFadeStartRadius/this.visibleRegionBufferRadius:0)>.99,c=l||t===bb.Instant?1:0;this.material.uniforms.visibleRegionFadeStartRadius.value=this.visibleRegionFadeStartRadius,this.material.uniforms.visibleRegionRadius.value=this.visibleRegionRadius,this.material.uniforms.firstRenderTime.value=this.firstRenderTime,this.material.uniforms.currentTime.value=performance.now(),this.material.uniforms.fadeInComplete.value=c,this.material.uniformsNeedUpdate=!0,this.visibleRegionChanging=!l}updateRenderIndexes(t,r){const i=this.geometry;i.attributes.splatIndex.set(t),i.attributes.splatIndex.needsUpdate=!0,r>0&&this.firstRenderTime===-1&&(this.firstRenderTime=performance.now()),i.instanceCount=r,i.setDrawRange(0,r)}updateTransforms(){for(let t=0;t<this.scenes.length;t++)this.getScene(t).updateTransform(this.dynamicMode)}setSplatScale(t=1){this.splatScale=t,this.material.uniforms.splatScale.value=t,this.material.uniformsNeedUpdate=!0}getSplatScale(){return this.splatScale}setPointCloudModeEnabled(t){this.pointCloudModeEnabled=t,this.material.uniforms.pointCloudModeEnabled.value=t?1:0,this.material.uniformsNeedUpdate=!0}getPointCloudModeEnabled(){return this.pointCloudModeEnabled}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(t=!1){return t?Wa.getTotalSplatCountForScenes(this.scenes):this.lastBuildSplatCount}static getTotalSplatCountForScenes(t){let r=0;for(let i of t)i&&i.splatBuffer&&(r+=i.splatBuffer.getSplatCount());return r}static getTotalSplatCountForSplatBuffers(t){let r=0;for(let i of t)r+=i.getSplatCount();return r}getMaxSplatCount(){return Wa.getTotalMaxSplatCountForScenes(this.scenes)}static getTotalMaxSplatCountForScenes(t){let r=0;for(let i of t)i&&i.splatBuffer&&(r+=i.splatBuffer.getMaxSplatCount());return r}static getTotalMaxSplatCountForSplatBuffers(t){let r=0;for(let i of t)r+=i.getMaxSplatCount();return r}disposeDistancesComputationGPUResources(){if(!this.renderer)return;const t=this.renderer.getContext();this.distancesTransformFeedback.vao&&(t.deleteVertexArray(this.distancesTransformFeedback.vao),this.distancesTransformFeedback.vao=null),this.distancesTransformFeedback.program&&(t.deleteProgram(this.distancesTransformFeedback.program),t.deleteShader(this.distancesTransformFeedback.vertexShader),t.deleteShader(this.distancesTransformFeedback.fragmentShader),this.distancesTransformFeedback.program=null,this.distancesTransformFeedback.vertexShader=null,this.distancesTransformFeedback.fragmentShader=null),this.disposeDistancesComputationGPUBufferResources(),this.distancesTransformFeedback.id&&(t.deleteTransformFeedback(this.distancesTransformFeedback.id),this.distancesTransformFeedback.id=null)}disposeDistancesComputationGPUBufferResources(){if(!this.renderer)return;const t=this.renderer.getContext();this.distancesTransformFeedback.centersBuffer&&(this.distancesTransformFeedback.centersBuffer=null,t.deleteBuffer(this.distancesTransformFeedback.centersBuffer)),this.distancesTransformFeedback.outDistancesBuffer&&(t.deleteBuffer(this.distancesTransformFeedback.outDistancesBuffer),this.distancesTransformFeedback.outDistancesBuffer=null)}setRenderer(t){if(t!==this.renderer){this.renderer=t;const r=this.renderer.getContext(),i=new Dut(r),a=new kut(r,i,{});if(i.init(a),this.webGLUtils=new jie(r,i),this.enableDistancesComputationOnGPU&&this.getSplatCount()>0){this.setupDistancesComputationTransformFeedback();const{centers:s,sceneIndexes:o}=this.getDataForDistancesComputation(0,this.getSplatCount()-1);this.refreshGPUBuffersForDistancesComputation(s,o)}}}updateGPUCentersBufferForDistancesComputation(t,r,i){if(!this.renderer)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao);const o=this.integerBasedDistancesComputation?Uint32Array:Float32Array,l=16,c=i*l;if(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),t)a.bufferSubData(a.ARRAY_BUFFER,c,r);else{const u=new o(this.getMaxSplatCount()*l);u.set(r),a.bufferData(a.ARRAY_BUFFER,u,a.STATIC_DRAW)}a.bindBuffer(a.ARRAY_BUFFER,null),s&&a.bindVertexArray(s)}updateGPUTransformIndexesBufferForDistancesComputation(t,r,i){if(!this.renderer||!this.dynamicMode)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao);const o=i*4;if(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),t)a.bufferSubData(a.ARRAY_BUFFER,o,r);else{const l=new Uint32Array(this.getMaxSplatCount()*4);l.set(r),a.bufferData(a.ARRAY_BUFFER,l,a.STATIC_DRAW)}a.bindBuffer(a.ARRAY_BUFFER,null),s&&a.bindVertexArray(s)}getSceneIndexes(t,r){let i;const a=r-t+1;i=new Uint32Array(a);for(let s=t;s<=r;s++)i[s]=this.globalSplatIndexToSceneIndexMap[s];return i}getLocalSplatParameters(t,r,i){i==null&&(i=!this.dynamicMode),r.splatBuffer=this.getSplatBufferForSplat(t),r.localIndex=this.getSplatLocalIndex(t),r.sceneTransform=i?this.getSceneTransformForSplat(t):null}fillSplatDataArrays(t,r,i,a,s,o,l,c=0,u=0,d=1,f,h,p=0,m){const v=new tt;v.x=void 0,v.y=void 0,this.splatRenderMode===Wu.ThreeD?v.z=void 0:v.z=1;const g=new ur;let y=0,b=this.scenes.length-1;m!=null&&m>=0&&m<=this.scenes.length&&(y=m,b=m);for(let _=y;_<=b;_++){l==null&&(l=!this.dynamicMode);const x=this.getScene(_),S=x.splatBuffer;let T;if(l&&(this.getSceneTransform(_,g),T=g),t&&S.fillSplatCovarianceArray(t,T,f,h,p,c),r||i){if(!r||!i)throw new Error('SplatMesh::fillSplatDataArrays() -> "scales" and "rotations" must both be valid.');S.fillSplatScaleRotationArray(r,i,T,f,h,p,u,v)}a&&S.fillSplatCenterArray(a,T,f,h,p),s&&S.fillSplatColorArray(s,x.minimumAlpha,f,h,p),o&&S.fillSphericalHarmonicsArray(o,this.minSphericalHarmonicsDegree,T,f,h,p,d),p+=S.getSplatCount()}}getIntegerCenters(t,r,i=!1){const a=r-t+1,s=new Float32Array(a*3);this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,t);let o,l=i?4:3;o=new Int32Array(a*l);for(let c=0;c<a;c++){for(let u=0;u<3;u++)o[c*l+u]=Math.round(s[c*3+u]*1e3);i&&(o[c*l+3]=1e3)}return o}getFloatCenters(t,r,i=!1){const a=r-t+1,s=new Float32Array(a*3);if(this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,t),!i)return s;let o=new Float32Array(a*4);for(let l=0;l<a;l++){for(let c=0;c<3;c++)o[l*4+c]=s[l*3+c];o[l*4+3]=1}return o}getSceneTransform(t,r){const i=this.getScene(t);i.updateTransform(this.dynamicMode),r.copy(i.transform)}getScene(t){if(t<0||t>=this.scenes.length)throw new Error("SplatMesh::getScene() -> Invalid scene index.");return this.scenes[t]}getSceneCount(){return this.scenes.length}getSplatBufferForSplat(t){return this.getScene(this.globalSplatIndexToSceneIndexMap[t]).splatBuffer}getSceneIndexForSplat(t){return this.globalSplatIndexToSceneIndexMap[t]}getSceneTransformForSplat(t){return this.getScene(this.globalSplatIndexToSceneIndexMap[t]).transform}getSplatLocalIndex(t){return this.globalSplatIndexToLocalSplatIndexMap[t]}static getIntegerMatrixArray(t){const r=t.elements,i=[];for(let a=0;a<16;a++)i[a]=Math.round(r[a]*1e3);return i}computeBoundingBox(t=!1,r){let i=this.getSplatCount();if(r!=null){if(r<0||r>=this.scenes.length)throw new Error("SplatMesh::computeBoundingBox() -> Invalid scene index.");i=this.scenes[r].splatBuffer.getSplatCount()}const a=new Float32Array(i*3);this.fillSplatDataArrays(null,null,null,a,null,null,t,void 0,void 0,void 0,void 0,r);const s=new tt,o=new tt;for(let l=0;l<i;l++){const c=l*3,u=a[c],d=a[c+1],f=a[c+2];(l===0||u<s.x)&&(s.x=u),(l===0||d<s.y)&&(s.y=d),(l===0||f<s.z)&&(s.z=f),(l===0||u>o.x)&&(o.x=u),(l===0||d>o.y)&&(o.y=d),(l===0||f>o.z)&&(o.z=f)}return new jc(s,o)}}var Vut="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEbA2AAAGAQf39/f39/f39/f39/f39/fwBgAAF/AhIBA2VudgZtZW1vcnkCAwCAgAQDBAMAAQIHVAQRX193YXNtX2NhbGxfY3RvcnMAABhfX3dhc21fYXBwbHlfZGF0YV9yZWxvY3MAAAtzb3J0SW5kZXhlcwABE2Vtc2NyaXB0ZW5fdGxzX2luaXQAAgqWEAMDAAELihAEAXwDewN/A30gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEBA0AgAyABQQJ0IgVqIAIgACAFaigCAEECdGooAgAiBTYCACAFIAogBSAKSBshCiAFIA0gBSANShshDSABQQFqIgEgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiFWooAgAiFkECdGooAgAiFEcEQAJ/IAX9CQI4IAggFEEGdGoiDv0JAgwgDioCHP0gASAOKgIs/SACIA4qAjz9IAP95gEgBf0JAiggDv0JAgggDioCGP0gASAOKgIo/SACIA4qAjj9IAP95gEgBf0JAgggDv0JAgAgDioCEP0gASAOKgIg/SACIA4qAjD9IAP95gEgBf0JAhggDv0JAgQgDioCFP0gASAOKgIk/SACIA4qAjT9IAP95gH95AH95AH95AEiEf1f/QwAAAAAAECPQAAAAAAAQI9AIhL98gEiE/0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBP9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/REgDv0cAQJ/IBEgEf0NCAkKCwwNDg8AAAAAAAAAAP1fIBL98gEiEf0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9HAICfyAR/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAyESIBQhDwsgAyAVaiABIBZBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmogEf0bA2oiDjYCACAOIAogCiAOShshCiAOIA0gDSAOSBshDSACQQFqIgIgC0cNAAsMAwsCfyAFKgIIu/0UIAUqAhi7/SIB/QwAAAAAAECPQAAAAAAAQI9A/fIBIhH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIQ4CfyAR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyECAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQIgAv0RIA79HAEgBf0cAiESIAwhBQNAIAMgBUECdCICaiABIAAgAmooAgBBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmoiAjYCACACIAogAiAKSBshCiACIA0gAiANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEBA0AgAyABQQJ0IgVqAn8gAiAAIAVqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAFBAWoiASALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIRcgBSoCGCEYIAUqAgghGUH4////ByEKQYiAgIB4IQ0gDCEFA0ACfyAXIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCAZIAIqAgCUIBggAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIUaigCAEECdCIVaigCACIORwRAIAX9CQI4IAggDkEGdGoiD/0JAgwgDyoCHP0gASAPKgIs/SACIA8qAjz9IAP95gEgBf0JAiggD/0JAgggDyoCGP0gASAPKgIo/SACIA8qAjj9IAP95gEgBf0JAgggD/0JAgAgDyoCEP0gASAPKgIg/SACIA8qAjD9IAP95gEgBf0JAhggD/0JAgQgDyoCFP0gASAPKgIk/SACIA8qAjT9IAP95gH95AH95AH95AEhESAOIQ8LIAMgFGoCfyAR/R8DIAEgFUECdCIOQQxyaioCAJQgEf0fAiABIA5BCHJqKgIAlCAR/R8AIAEgDmoqAgCUIBH9HwEgASAOQQRyaioCAJSSkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSACQQFqIgIgC0cNAAsMAQtBiICAgHghDUH4////ByEKCyALIAxLBEAgCUEBa7MgDbIgCrKTlSEXIAwhDQNAAn8gFyADIA1BAnRqIgEoAgAgCmuylCIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEOIAEgDjYCACAEIA5BAnRqIgEgASgCAEEBajYCACANQQFqIg0gC0cNAAsLIAlBAk8EQCAEKAIAIQ1BASEKA0AgBCAKQQJ0aiIBIAEoAgAgDWoiDTYCACAKQQFqIgogCUcNAAsLIAxBAEoEQCAMIQoDQCAGIApBAWsiAUECdCICaiAAIAJqKAIANgIAIApBAUshAiABIQogAg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCwsEAEEACw==",jW="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACEgEDZW52Bm1lbW9yeQIDAICABAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=",$ut="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQrrDwICAAvlDwQBfAN7B30DfyALIAprIQwCQAJAIA4EQCANBEBB+P///wchCkGIgICAeCENIAsgDE0NAyAMIQUDQCADIAVBAnQiAWogAiAAIAFqKAIAQQJ0aigCACIBNgIAIAEgCiABIApIGyEKIAEgDSABIA1KGyENIAVBAWoiBSALRw0ACwwDCyAPBEAgCyAMTQ0CQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIcaigCACIdQQJ0aigCACIbRwRAAn8gBf0JAjggCCAbQQZ0aiIO/QkCDCAOKgIc/SABIA4qAiz9IAIgDioCPP0gA/3mASAF/QkCKCAO/QkCCCAOKgIY/SABIA4qAij9IAIgDioCOP0gA/3mASAF/QkCCCAO/QkCACAOKgIQ/SABIA4qAiD9IAIgDioCMP0gA/3mASAF/QkCGCAO/QkCBCAOKgIU/SABIA4qAiT9IAIgDioCNP0gA/3mAf3kAf3kAf3kASIR/V/9DAAAAAAAQI9AAAAAAABAj0AiEv3yASIT/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOAn8gE/0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9ESAO/RwBAn8gESAR/Q0ICQoLDA0ODwABAgMAAQID/V8gEv3yASIR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAgJ/IBH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/RwDIRIgGyEPCyADIBxqIAEgHUEEdGr9AAAAIBL9tQEiEf0bACAR/RsBaiAR/RsCaiAR/RsDaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAgi7/RQgBSoCGLv9IgH9DAAAAAAAQI9AAAAAAABAj0D98gEiEf0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBH9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQL9ESAO/RwBIAX9HAIhEiAMIQUDQCADIAVBAnQiAmogASAAIAJqKAIAQQR0av0AAAAgEv21ASIR/RsAIBH9GwFqIBH9GwJqIgI2AgAgAiAKIAIgCkgbIQogAiANIAIgDUobIQ0gBUEBaiIFIAtHDQALDAILIA0EQEH4////ByEKQYiAgIB4IQ0gCyAMTQ0CIAwhBQNAIAMgBUECdCIBagJ/IAIgACABaigCAEECdGoqAgC7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgD0UEQCALIAxNDQEgBSoCKCEUIAUqAhghFSAFKgIIIRZB+P///wchCkGIgICAeCENIAwhBQNAAn8gFCABIAAgBUECdCIHaigCAEEEdGoiAioCCJQgFiACKgIAlCAVIAIqAgSUkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDiADIAdqIA42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gBUEBaiIFIAtHDQALDAILIAsgDE0NAEF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiG2ooAgBBAnQiHGooAgAiDkcEQCAFKgI4IhQgCCAOQQZ0aiIPKgI8lCAFKgIoIhUgDyoCOJQgBSoCCCIWIA8qAjCUIAUqAhgiFyAPKgI0lJKSkiEYIBQgDyoCLJQgFSAPKgIolCAWIA8qAiCUIBcgDyoCJJSSkpIhGSAUIA8qAhyUIBUgDyoCGJQgFiAPKgIQlCAXIA8qAhSUkpKSIRogFCAPKgIMlCAVIA8qAgiUIBYgDyoCAJQgFyAPKgIElJKSkiEUIA4hDwsgAyAbagJ/IBggASAcQQJ0aiIOKgIMlCAZIA4qAgiUIBQgDioCAJQgGiAOKgIElJKSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAJBAWoiAiALRw0ACwwBC0GIgICAeCENQfj///8HIQoLIAsgDEsEQCAJQQFrsyANsiAKspOVIRQgDCENA0ACfyAUIAMgDUECdGoiASgCACAKa7KUIhWLQwAAAE9dBEAgFagMAQtBgICAgHgLIQ4gASAONgIAIAQgDkECdGoiASABKAIAQQFqNgIAIA1BAWoiDSALRw0ACwsgCUECTwRAIAQoAgAhDUEBIQoDQCAEIApBAnRqIgEgASgCACANaiINNgIAIApBAWoiCiAJRw0ACwsgDEEASgRAIAwhCgNAIAYgCkEBayIBQQJ0IgJqIAAgAmooAgA2AgAgCkEBSyABIQoNAAsLIAsgDEoEQCALIQoDQCAGIAsgBCADIApBAWsiCkECdCIBaigCAEECdGoiAigCACIFa0ECdGogACABaigCADYCACACIAVBAWs2AgAgCiAMSg0ACwsL",Gut="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=";function Wut(n){let e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v,g,y,b,_;function x(S,T,C,M,A,I,D){const L=performance.now();if(!r&&(new Uint32Array(t,o,A.byteLength/_.BytesPerInt).set(A),new Float32Array(t,u,D.byteLength/_.BytesPerFloat).set(D),M)){let z;i?z=new Int32Array(t,d,I.byteLength/_.BytesPerInt):z=new Float32Array(t,d,I.byteLength/_.BytesPerFloat),z.set(I)}v||(v=new Uint32Array(y)),new Float32Array(t,m,16).set(C),new Uint32Array(t,h,y).set(v),e.exports.sortIndexes(o,p,d,f,h,m,l,c,u,y,S,T,s,M,i,a);const F={sortDone:!0,splatSortCount:S,splatRenderCount:T,sortTime:0};if(!r){const k=new Uint32Array(t,l,T);(!g||g.length<T)&&(g=new Uint32Array(T)),g.set(k),F.sortedIndexes=g}const B=performance.now();F.sortTime=B-L,n.postMessage(F)}n.onmessage=S=>{if(S.data.centers)centers=S.data.centers,sceneIndexes=S.data.sceneIndexes,i?new Int32Array(t,p+S.data.range.from*_.BytesPerInt*4,S.data.range.count*4).set(new Int32Array(centers)):new Float32Array(t,p+S.data.range.from*_.BytesPerFloat*4,S.data.range.count*4).set(new Float32Array(centers)),a&&new Uint32Array(t,c+S.data.range.from*4,S.data.range.count).set(new Uint32Array(sceneIndexes)),b=S.data.range.from+S.data.range.count;else if(S.data.sort){const T=Math.min(S.data.sort.splatRenderCount||0,b),C=Math.min(S.data.sort.splatSortCount||0,b),M=S.data.sort.usePrecomputedDistances;let A,I,D;r||(A=S.data.sort.indexesToSort,D=S.data.sort.transforms,M&&(I=S.data.sort.precomputedDistances)),x(C,T,S.data.sort.modelViewProj,M,A,I,D)}else if(S.data.init){_=S.data.init.Constants,s=S.data.init.splatCount,r=S.data.init.useSharedMemory,i=S.data.init.integerBasedSort,a=S.data.init.dynamicMode,y=S.data.init.distanceMapRange,b=0;const T=i?_.BytesPerInt*4:_.BytesPerFloat*4,C=new Uint8Array(S.data.init.sorterWasmBytes),M=16*_.BytesPerFloat,A=s*_.BytesPerInt,I=s*T,D=M,L=i?s*_.BytesPerInt:s*_.BytesPerFloat,F=s*_.BytesPerInt,B=s*_.BytesPerInt,k=i?y*_.BytesPerInt*2:y*_.BytesPerFloat*2,H=a?s*_.BytesPerInt:0,z=a?_.MaxScenes*M:0,O=_.MemoryPageSize*32,G=A+I+D+L+F+k+B+H+z+O,X=Math.floor(G/_.MemoryPageSize)+1,J={module:{},env:{memory:new WebAssembly.Memory({initial:X,maximum:X,shared:!0})}};WebAssembly.compile(C).then(Q=>WebAssembly.instantiate(Q,J)).then(Q=>{e=Q,o=0,p=o+A,m=p+I,d=m+D,f=d+L,h=f+F,l=h+k,c=l+B,u=c+H,t=J.env.memory.buffer,r?n.postMessage({sortSetupPhase1Complete:!0,indexesToSortBuffer:t,indexesToSortOffset:o,sortedIndexesBuffer:t,sortedIndexesOffset:l,precomputedDistancesBuffer:t,precomputedDistancesOffset:d,transformsBuffer:t,transformsOffset:u}):n.postMessage({sortSetupPhase1Complete:!0})})}}}function qut(n,e,t,r,i,a=zr.DefaultSplatSortDistanceMapPrecision){const s=new Worker(URL.createObjectURL(new Blob(["(",Wut.toString(),")(self)"],{type:"application/javascript"})));let o=Vut;const l=yN()?Zie():null;!t&&!e?(o=jW,l&&l.major<=16&&l.minor<4&&(o=Gut)):t?e||l&&l.major<=16&&l.minor<4&&(o=$ut):o=jW;const c=atob(o),u=new Uint8Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d);return s.postMessage({init:{sorterWasmBytes:u.buffer,splatCount:n,useSharedMemory:e,integerBasedSort:r,dynamicMode:i,distanceMapRange:1<<a,Constants:{BytesPerFloat:zr.BytesPerFloat,BytesPerInt:zr.BytesPerInt,MemoryPageSize:zr.MemoryPageSize,MaxScenes:zr.MaxScenes}}}),s}const X0={None:0,VR:1,AR:2};class Ng{static createButton(e,t={}){const r=document.createElement("button");function i(){let c=null;async function u(h){h.addEventListener("end",d),await e.xr.setSession(h),r.textContent="EXIT VR",c=h}function d(){c.removeEventListener("end",d),r.textContent="ENTER VR",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR";const f={...t,optionalFeatures:["local-floor","bounded-floor","layers",...t.optionalFeatures||[]]};r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-vr",f).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",f).then(u).catch(h=>{console.warn(h)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",f).then(u).catch(h=>{console.warn(h)})}function a(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){a(),r.textContent="VR NOT SUPPORTED"}function o(c){a(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="VR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="VRButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-vr").then(function(c){c?i():s(),c&&Ng.xrSessionIsGranted&&r.click()}).catch(o),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}static registerSessionGrantedListener(){if(typeof navigator<"u"&&"xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{Ng.xrSessionIsGranted=!0})}}}Ng.xrSessionIsGranted=!1;Ng.registerSessionGrantedListener();class Kut{static createButton(e,t={}){const r=document.createElement("button");function i(){if(t.domOverlay===void 0){const f=document.createElement("div");f.style.display="none",document.body.appendChild(f);const h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width",38),h.setAttribute("height",38),h.style.position="absolute",h.style.right="20px",h.style.top="20px",h.addEventListener("click",function(){c.end()}),f.appendChild(h);const p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),p.setAttribute("stroke","#fff"),p.setAttribute("stroke-width",2),h.appendChild(p),t.optionalFeatures===void 0&&(t.optionalFeatures=[]),t.optionalFeatures.push("dom-overlay"),t.domOverlay={root:f}}let c=null;async function u(f){f.addEventListener("end",d),e.xr.setReferenceSpaceType("local"),await e.xr.setSession(f),r.textContent="STOP AR",t.domOverlay.root.style.display="",c=f}function d(){c.removeEventListener("end",d),r.textContent="START AR",t.domOverlay.root.style.display="none",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="START AR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-ar",t).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",t).then(u).catch(f=>{console.warn(f)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",t).then(u).catch(f=>{console.warn(f)})}function a(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){a(),r.textContent="AR NOT SUPPORTED"}function o(c){a(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="AR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="ARButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-ar").then(function(c){c?i():s()}).catch(o),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}}const WI={Always:0,OnChange:1,Never:2},Yut=50,Xut=.75,jut=15e5,Zut=10,Qut=2.5,Jut=60,mf=class mf{constructor(e={}){un(this,"onKeyDown",function(){const e=new tt,t=new ur,r=new ur;return function(i){switch(e.set(0,0,-1),e.transformDirection(this.camera.matrixWorld),t.makeRotationAxis(e,Math.PI/128),r.makeRotationAxis(e,-Math.PI/128),i.code){case"KeyG":this.focalAdjustment+=.02,this.forceRenderNextFrame();break;case"KeyF":this.focalAdjustment-=.02,this.forceRenderNextFrame();break;case"ArrowLeft":this.camera.up.transformDirection(t);break;case"ArrowRight":this.camera.up.transformDirection(r);break;case"KeyC":this.showMeshCursor=!this.showMeshCursor;break;case"KeyU":this.showControlPlane=!this.showControlPlane;break;case"KeyI":this.showInfo=!this.showInfo,this.showInfo?this.infoPanel.show():this.infoPanel.hide();break;case"KeyO":this.usingExternalCamera||this.setOrthographicMode(!this.camera.isOrthographicCamera);break;case"KeyP":this.usingExternalCamera||this.splatMesh.setPointCloudModeEnabled(!this.splatMesh.getPointCloudModeEnabled());break;case"Equal":this.usingExternalCamera||this.splatMesh.setSplatScale(this.splatMesh.getSplatScale()+.05);break;case"Minus":this.usingExternalCamera||this.splatMesh.setSplatScale(Math.max(this.splatMesh.getSplatScale()-.05,0));break}}}());un(this,"onMouseUp",function(){const e=new Vn;return function(t){e.copy(this.mousePosition).sub(this.mouseDownPosition),q0()-this.mouseDownTime<.5&&e.length()<2&&this.onMouseClick(t)}}());un(this,"checkForFocalPointChange",function(){const e=new Vn,t=new tt,r=[];return function(){if(!this.transitioningCameraTarget&&(this.getRenderDimensions(e),r.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,e),this.raycaster.intersectSplatMesh(this.splatMesh,r),r.length>0)){const a=r[0].origin;t.copy(a).sub(this.camera.position),t.length()>Xut&&(this.previousCameraTarget.copy(this.controls.target),this.nextCameraTarget.copy(a),this.transitioningCameraTarget=!0,this.transitioningCameraTargetStartTime=q0())}}}());un(this,"updateSplatMesh",function(){const e=new Vn;return function(){if(!this.splatMesh)return;if(this.splatMesh.getSplatCount()>0){this.splatMesh.updateVisibleRegionFadeDistance(this.sceneRevealMode),this.splatMesh.updateTransforms(),this.getRenderDimensions(e);const r=this.camera.projectionMatrix.elements[0]*.5*this.devicePixelRatio*e.x,i=this.camera.projectionMatrix.elements[5]*.5*this.devicePixelRatio*e.y,a=this.camera.isOrthographicCamera?1/this.devicePixelRatio:1,s=this.focalAdjustment*a,o=1/s;this.adjustForWebXRStereo(e),this.splatMesh.updateUniforms(e,r*s,i*s,this.camera.isOrthographicCamera,this.camera.zoom||1,o)}}}());un(this,"addSplatBuffers",function(){return function(e,t=[],r=!0,i=!0,a=!0,s=!1,o=!1,l=!0){if(this.isDisposingOrDisposed())return Promise.resolve();let c=null;const u=()=>{c!==null&&(this.loadingSpinner.removeTask(c),c=null)};return this.splatRenderReady=!1,new Promise(d=>{i&&(c=this.loadingSpinner.addTask("Processing splats...")),dc(()=>{if(this.isDisposingOrDisposed())d();else{const f=this.addSplatBuffersToMesh(e,t,r,a,s,l),h=this.splatMesh.getMaxSplatCount();this.sortWorker&&this.sortWorker.maxSplatCount!==h&&this.disposeSortWorker(),this.gpuAcceleratedSort||this.preSortMessages.push({centers:f.centers.buffer,sceneIndexes:f.sceneIndexes.buffer,range:{from:f.from,to:f.to,count:f.count}}),(!this.sortWorker&&h>0?this.setupSortWorker(this.splatMesh):Promise.resolve()).then(()=>{this.isDisposingOrDisposed()||this.runSplatSort(!0,!0).then(m=>{!this.sortWorker||!m?(this.splatRenderReady=!0,u(),d()):(o?this.splatRenderReady=!0:this.runAfterNextSort.push(()=>{this.splatRenderReady=!0}),this.runAfterNextSort.push(()=>{u(),d()}))})})}},!0)})}}());un(this,"addSplatBuffersToMesh",function(){let e;return function(t,r,i=!0,a=!1,s=!1,o=!0){if(this.isDisposingOrDisposed())return;let l=[],c=[];s||(l=this.splatMesh.scenes.map(h=>h.splatBuffer)||[],c=this.splatMesh.sceneOptions?this.splatMesh.sceneOptions.map(h=>h):[]),l.push(...t),c.push(...r),this.renderer&&this.splatMesh.setRenderer(this.renderer);const u=h=>{if(this.isDisposingOrDisposed())return;const p=this.splatMesh.getSplatCount();a&&p>=jut&&!h&&!e&&(this.loadingSpinner.setMinimized(!0,!0),e=this.loadingSpinner.addTask("Optimizing data structures..."))},d=h=>{this.isDisposingOrDisposed()||h&&e&&(this.loadingSpinner.removeTask(e),e=null)},f=this.splatMesh.build(l,c,!0,i,u,d,o);return i&&this.freeIntermediateSplatData&&this.splatMesh.freeIntermediateSplatData(),f}}());un(this,"shouldRender",function(){let e=0;const t=new tt,r=new Yi,i=1e-4;return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return!1;let a=!1,s=!1;if(this.camera){const o=this.camera.position,l=this.camera.quaternion;s=Math.abs(o.x-t.x)>i||Math.abs(o.y-t.y)>i||Math.abs(o.z-t.z)>i||Math.abs(l.x-r.x)>i||Math.abs(l.y-r.y)>i||Math.abs(l.z-r.z)>i||Math.abs(l.w-r.w)>i}return a=this.renderMode!==WI.Never&&(e===0||this.splatMesh.visibleRegionChanging||s||this.renderMode===WI.Always||this.dynamicMode===!0||this.renderNextFrame),this.camera&&(t.copy(this.camera.position),r.copy(this.camera.quaternion)),e++,a}}());un(this,"render",function(){return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return;const e=r=>{for(let i of r.children)if(i.visible)return!0;return!1},t=this.renderer.autoClear;e(this.threeScene)&&(this.renderer.render(this.threeScene,this.camera),this.renderer.autoClear=!1),this.renderer.render(this.splatMesh,this.camera),this.renderer.autoClear=!1,this.sceneHelper.getFocusMarkerOpacity()>0&&this.renderer.render(this.sceneHelper.focusMarker,this.camera),this.showControlPlane&&this.renderer.render(this.sceneHelper.controlPlane,this.camera),this.renderer.autoClear=t}}());un(this,"updateFPS",function(){let e=q0(),t=0;return function(){if(this.consecutiveRenderFrames>Jut){const r=q0();r-e>=1?(this.currentFPS=t,t=0,e=r):t++}else this.currentFPS=null}}());un(this,"updateForRendererSizeChanges",function(){const e=new Vn,t=new Vn;let r;return function(){this.usingExternalCamera||(this.renderer.getSize(t),(r===void 0||r!==this.camera.isOrthographicCamera||t.x!==e.x||t.y!==e.y)&&(this.camera.isOrthographicCamera?(this.camera.left=-t.x/2,this.camera.right=t.x/2,this.camera.top=t.y/2,this.camera.bottom=-t.y/2):this.camera.aspect=t.x/t.y,this.camera.updateProjectionMatrix(),e.copy(t),r=this.camera.isOrthographicCamera))}}());un(this,"timingSensitiveUpdates",function(){let e;return function(){const t=q0();e||(e=t);const r=t-e;this.updateCameraTransition(t),this.updateFocusMarker(r),e=t}}());un(this,"updateCameraTransition",function(){let e=new tt,t=new tt,r=new tt;return function(i){if(this.transitioningCameraTarget){t.copy(this.previousCameraTarget).sub(this.camera.position).normalize(),r.copy(this.nextCameraTarget).sub(this.camera.position).normalize();const a=Math.acos(t.dot(r)),o=(a/(Math.PI/3)*.65+.3)/a*(i-this.transitioningCameraTargetStartTime);e.copy(this.previousCameraTarget).lerp(this.nextCameraTarget,o),this.camera.lookAt(e),this.controls.target.copy(e),o>=1&&(this.transitioningCameraTarget=!1)}}}());un(this,"updateFocusMarker",function(){const e=new Vn;let t=!1;return function(r){if(this.getRenderDimensions(e),this.transitioningCameraTarget){this.sceneHelper.setFocusMarkerVisibility(!0);const i=Math.max(this.sceneHelper.getFocusMarkerOpacity(),0);let a=Math.min(i+Zut*r,1);this.sceneHelper.setFocusMarkerOpacity(a),this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e),t=!0,this.forceRenderNextFrame()}else{let i;if(t?i=1:i=Math.min(this.sceneHelper.getFocusMarkerOpacity(),1),i>0){this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e);let a=Math.max(i-Qut*r,0);this.sceneHelper.setFocusMarkerOpacity(a),a===0&&this.sceneHelper.setFocusMarkerVisibility(!1)}i>0&&this.forceRenderNextFrame(),t=!1}}}());un(this,"updateMeshCursor",function(){const e=[],t=new Vn;return function(){this.showMeshCursor?(this.forceRenderNextFrame(),this.getRenderDimensions(t),e.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,t),this.raycaster.intersectSplatMesh(this.splatMesh,e),e.length>0?(this.sceneHelper.setMeshCursorVisibility(!0),this.sceneHelper.positionAndOrientMeshCursor(e[0].origin,this.camera)):this.sceneHelper.setMeshCursorVisibility(!1)):(this.sceneHelper.getMeschCursorVisibility()&&this.forceRenderNextFrame(),this.sceneHelper.setMeshCursorVisibility(!1))}}());un(this,"updateInfoPanel",function(){const e=new Vn;return function(){if(!this.showInfo)return;const t=this.splatMesh.getSplatCount();this.getRenderDimensions(e);const r=this.controls?this.controls.target:null,i=this.showMeshCursor?this.sceneHelper.meshCursor.position:null,a=t>0?this.splatRenderCount/t*100:0;this.infoPanel.update(e,this.camera.position,r,this.camera.up,this.camera.isOrthographicCamera,i,this.currentFPS||"N/A",t,this.splatRenderCount,a,this.lastSortTime,this.focalAdjustment,this.splatMesh.getSplatScale(),this.splatMesh.getPointCloudModeEnabled())}}());un(this,"runSplatSort",function(){const e=new ur,t=[],r=new tt(0,0,-1),i=new tt(0,0,-1),a=new tt,s=new tt,o=[],l=[{angleThreshold:.55,sortFractions:[.125,.33333,.75]},{angleThreshold:.65,sortFractions:[.33333,.66667]},{angleThreshold:.8,sortFractions:[.5]}];return function(c=!1,u=!1){if(!this.initialized)return Promise.resolve(!1);if(this.sortRunning)return Promise.resolve(!0);if(this.splatMesh.getSplatCount()<=0)return this.splatRenderCount=0,Promise.resolve(!1);let d=0,f=0,h=!1,p=!1;if(i.set(0,0,-1).applyQuaternion(this.camera.quaternion),d=i.dot(r),f=s.copy(this.camera.position).sub(a).length(),!c&&!this.splatMesh.dynamicMode&&o.length===0&&(d<=.99&&(h=!0),f>=1&&(p=!0),!h&&!p))return Promise.resolve(!1);this.sortRunning=!0;let{splatRenderCount:m,shouldSortAll:v}=this.gatherSceneNodesForSort();v=v||u,this.splatRenderCount=m,e.copy(this.camera.matrixWorld).invert();const g=this.perspectiveCamera||this.camera;e.premultiply(g.projectionMatrix),this.splatMesh.dynamicMode||e.multiply(this.splatMesh.matrixWorld);let y=Promise.resolve(!0);return this.gpuAcceleratedSort&&(o.length<=1||o.length%2===0)&&(y=this.splatMesh.computeDistancesOnGPU(e,this.sortWorkerPrecomputedDistances)),y.then(()=>{if(o.length===0)if(this.splatMesh.dynamicMode||v)o.push(this.splatRenderCount);else{for(let x of l)if(d<x.angleThreshold){for(let S of x.sortFractions)o.push(Math.floor(this.splatRenderCount*S));break}o.push(this.splatRenderCount)}let b=Math.min(o.shift(),this.splatRenderCount);this.splatSortCount=b,t[0]=this.camera.position.x,t[1]=this.camera.position.y,t[2]=this.camera.position.z;const _={modelViewProj:e.elements,cameraPosition:t,splatRenderCount:this.splatRenderCount,splatSortCount:b,usePrecomputedDistances:this.gpuAcceleratedSort};return this.splatMesh.dynamicMode&&this.splatMesh.fillTransformsArray(this.sortWorkerTransforms),this.sharedMemoryForWorkers||(_.indexesToSort=this.sortWorkerIndexesToSort,_.transforms=this.sortWorkerTransforms,this.gpuAcceleratedSort&&(_.precomputedDistances=this.sortWorkerPrecomputedDistances)),this.sortPromise=new Promise(x=>{this.sortPromiseResolver=x}),this.preSortMessages.length>0&&(this.preSortMessages.forEach(x=>{this.sortWorker.postMessage(x)}),this.preSortMessages=[]),this.sortWorker.postMessage({sort:_}),o.length===0&&(a.copy(this.camera.position),r.copy(i)),!0}),y}}());un(this,"gatherSceneNodesForSort",function(){const e=[];let t=null;const r=new tt,i=new tt,a=new tt,s=new ur,o=new ur,l=new ur,c=new tt,u=new tt(0,0,-1),d=new tt,f=h=>d.copy(h.max).sub(h.min).length();return function(h=!1){this.getRenderDimensions(c);const p=c.y/2/Math.tan(this.camera.fov/2*Die.DEG2RAD),m=Math.atan(c.x/2/p),v=Math.atan(c.y/2/p),g=Math.cos(m),y=Math.cos(v),b=this.splatMesh.getSplatTree();if(b){o.copy(this.camera.matrixWorld).invert(),this.splatMesh.dynamicMode||o.multiply(this.splatMesh.matrixWorld);let _=0,x=0;for(let T=0;T<b.subTrees.length;T++){const C=b.subTrees[T];s.copy(o),this.splatMesh.dynamicMode&&(this.splatMesh.getSceneTransform(T,l),s.multiply(l));const M=C.nodesWithIndexes.length;for(let A=0;A<M;A++){const I=C.nodesWithIndexes[A];if(!I.data||!I.data.indexes||I.data.indexes.length===0)continue;a.copy(I.center).applyMatrix4(s);const D=a.length();a.normalize(),r.copy(a).setX(0).normalize(),i.copy(a).setY(0).normalize();const L=u.dot(i),F=u.dot(r),B=f(I),k=F<y-.6,H=L<g-.6;!h&&(H||k)&&D>B||(x+=I.data.indexes.length,e[_]=I,I.data.distanceToNode=D,_++)}}e.length=_,e.sort((T,C)=>T.data.distanceToNode<C.data.distanceToNode?-1:1);let S=x*zr.BytesPerInt;for(let T=0;T<_;T++){const C=e[T],M=C.data.indexes.length,A=M*zr.BytesPerInt;new Uint32Array(this.sortWorkerIndexesToSort.buffer,S-A,M).set(C.data.indexes),S-=A}return{splatRenderCount:x,shouldSortAll:!1}}else{const _=this.splatMesh.getSplatCount();if(!t||t.length!==_){t=new Uint32Array(_);for(let x=0;x<_;x++)t[x]=x}return this.sortWorkerIndexesToSort.set(t),{splatRenderCount:_,shouldSortAll:!0}}}}());if(e.cameraUp||(e.cameraUp=[0,1,0]),this.cameraUp=new tt().fromArray(e.cameraUp),e.initialCameraPosition||(e.initialCameraPosition=[0,10,15]),this.initialCameraPosition=new tt().fromArray(e.initialCameraPosition),e.initialCameraLookAt||(e.initialCameraLookAt=[0,0,0]),this.initialCameraLookAt=new tt().fromArray(e.initialCameraLookAt),this.dropInMode=e.dropInMode||!1,(e.selfDrivenMode===void 0||e.selfDrivenMode===null)&&(e.selfDrivenMode=!0),this.selfDrivenMode=e.selfDrivenMode&&!this.dropInMode,this.selfDrivenUpdateFunc=this.selfDrivenUpdate.bind(this),e.useBuiltInControls===void 0&&(e.useBuiltInControls=!0),this.useBuiltInControls=e.useBuiltInControls,this.rootElement=e.rootElement,this.ignoreDevicePixelRatio=e.ignoreDevicePixelRatio||!1,this.devicePixelRatio=this.ignoreDevicePixelRatio?1:window.devicePixelRatio||1,this.halfPrecisionCovariancesOnGPU=e.halfPrecisionCovariancesOnGPU||!1,this.threeScene=e.threeScene,this.renderer=e.renderer,this.camera=e.camera,this.gpuAcceleratedSort=e.gpuAcceleratedSort||!1,(e.integerBasedSort===void 0||e.integerBasedSort===null)&&(e.integerBasedSort=!0),this.integerBasedSort=e.integerBasedSort,(e.sharedMemoryForWorkers===void 0||e.sharedMemoryForWorkers===null)&&(e.sharedMemoryForWorkers=!0),this.sharedMemoryForWorkers=e.sharedMemoryForWorkers,this.dynamicScene=!!e.dynamicScene,this.antialiased=e.antialiased||!1,this.kernel2DSize=e.kernel2DSize===void 0?.3:e.kernel2DSize,this.webXRMode=e.webXRMode||X0.None,this.webXRMode!==X0.None&&(this.gpuAcceleratedSort=!1),this.webXRActive=!1,this.webXRSessionInit=e.webXRSessionInit||{},this.renderMode=e.renderMode||WI.Always,this.sceneRevealMode=e.sceneRevealMode||bb.Default,this.focalAdjustment=e.focalAdjustment||1,this.maxScreenSpaceSplatSize=e.maxScreenSpaceSplatSize||1024,this.logLevel=e.logLevel||qv.None,this.sphericalHarmonicsDegree=e.sphericalHarmonicsDegree||0,this.enableOptionalEffects=e.enableOptionalEffects||!1,(e.enableSIMDInSort===void 0||e.enableSIMDInSort===null)&&(e.enableSIMDInSort=!0),this.enableSIMDInSort=e.enableSIMDInSort,(e.inMemoryCompressionLevel===void 0||e.inMemoryCompressionLevel===null)&&(e.inMemoryCompressionLevel=0),this.inMemoryCompressionLevel=e.inMemoryCompressionLevel,(e.optimizeSplatData===void 0||e.optimizeSplatData===null)&&(e.optimizeSplatData=!0),this.optimizeSplatData=e.optimizeSplatData,(e.freeIntermediateSplatData===void 0||e.freeIntermediateSplatData===null)&&(e.freeIntermediateSplatData=!1),this.freeIntermediateSplatData=e.freeIntermediateSplatData,yN()){const r=Zie();r.major<17&&(this.enableSIMDInSort=!1),r.major<16&&(this.sharedMemoryForWorkers=!1)}(e.splatRenderMode===void 0||e.splatRenderMode===null)&&(e.splatRenderMode=Wu.ThreeD),this.splatRenderMode=e.splatRenderMode,this.sceneFadeInRateMultiplier=e.sceneFadeInRateMultiplier||1,this.splatSortDistanceMapPrecision=e.splatSortDistanceMapPrecision||zr.DefaultSplatSortDistanceMapPrecision;const t=this.integerBasedSort?20:24;this.splatSortDistanceMapPrecision=Ja(this.splatSortDistanceMapPrecision,10,t),this.onSplatMeshChangedCallback=null,this.createSplatMesh(),this.controls=null,this.perspectiveControls=null,this.orthographicControls=null,this.orthographicCamera=null,this.perspectiveCamera=null,this.showMeshCursor=!1,this.showControlPlane=!1,this.showInfo=!1,this.sceneHelper=null,this.sortWorker=null,this.sortRunning=!1,this.splatRenderCount=0,this.splatSortCount=0,this.lastSplatSortCount=0,this.sortWorkerIndexesToSort=null,this.sortWorkerSortedIndexes=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.preSortMessages=[],this.runAfterNextSort=[],this.selfDrivenModeRunning=!1,this.splatRenderReady=!1,this.raycaster=new Mut,this.infoPanel=null,this.startInOrthographicMode=!1,this.currentFPS=0,this.lastSortTime=0,this.consecutiveRenderFrames=0,this.previousCameraTarget=new tt,this.nextCameraTarget=new tt,this.mousePosition=new Vn,this.mouseDownPosition=new Vn,this.mouseDownTime=null,this.resizeObserver=null,this.mouseMoveListener=null,this.mouseDownListener=null,this.mouseUpListener=null,this.keyDownListener=null,this.sortPromise=null,this.sortPromiseResolver=null,this.splatSceneDownloadPromises={},this.splatSceneDownloadAndBuildPromise=null,this.splatSceneRemovalPromise=null,this.loadingSpinner=new GD(null,this.rootElement||document.body),this.loadingSpinner.hide(),this.loadingProgressBar=new but(this.rootElement||document.body),this.loadingProgressBar.hide(),this.infoPanel=new _ut(this.rootElement||document.body),this.infoPanel.hide(),this.usingExternalCamera=!!(this.dropInMode||this.camera),this.usingExternalRenderer=!!(this.dropInMode||this.renderer),this.initialized=!1,this.disposing=!1,this.disposed=!1,this.disposePromise=null,this.dropInMode||this.init()}createSplatMesh(){this.splatMesh=new Wa(this.splatRenderMode,this.dynamicScene,this.enableOptionalEffects,this.halfPrecisionCovariancesOnGPU,this.devicePixelRatio,this.gpuAcceleratedSort,this.integerBasedSort,this.antialiased,this.maxScreenSpaceSplatSize,this.logLevel,this.sphericalHarmonicsDegree,this.sceneFadeInRateMultiplier,this.kernel2DSize),this.splatMesh.frustumCulled=!1,this.onSplatMeshChangedCallback&&this.onSplatMeshChangedCallback()}init(){this.initialized||(this.rootElement||(this.usingExternalRenderer?this.rootElement=this.renderer.domElement||document.body:(this.rootElement=document.createElement("div"),this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.position="absolute",document.body.appendChild(this.rootElement))),this.setupCamera(),this.setupRenderer(),this.setupWebXR(this.webXRSessionInit),this.setupControls(),this.setupEventHandlers(),this.threeScene=this.threeScene||new Hit,this.sceneHelper=new gb(this.threeScene),this.sceneHelper.setupMeshCursor(),this.sceneHelper.setupFocusMarker(),this.sceneHelper.setupControlPlane(),this.loadingProgressBar.setContainer(this.rootElement),this.loadingSpinner.setContainer(this.rootElement),this.infoPanel.setContainer(this.rootElement),this.initialized=!0)}setupCamera(){if(!this.usingExternalCamera){const e=new Vn;this.getRenderDimensions(e),this.perspectiveCamera=new hl(Yut,e.x/e.y,.1,1e3),this.orthographicCamera=new pN(e.x/-2,e.x/2,e.y/2,e.y/-2,.1,1e3),this.camera=this.startInOrthographicMode?this.orthographicCamera:this.perspectiveCamera,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt)}}setupRenderer(){if(!this.usingExternalRenderer){const e=new Vn;this.getRenderDimensions(e),this.renderer=new Rct({antialias:!1,precision:"highp"}),this.renderer.setPixelRatio(this.devicePixelRatio),this.renderer.autoClear=!0,this.renderer.setClearColor(new ni(0),0),this.renderer.setSize(e.x,e.y),this.resizeObserver=new ResizeObserver(()=>{this.getRenderDimensions(e),this.renderer.setSize(e.x,e.y),this.forceRenderNextFrame()}),this.resizeObserver.observe(this.rootElement),this.rootElement.appendChild(this.renderer.domElement)}}setupWebXR(e){this.webXRMode&&(this.webXRMode===X0.VR?this.rootElement.appendChild(Ng.createButton(this.renderer,e)):this.webXRMode===X0.AR&&this.rootElement.appendChild(Kut.createButton(this.renderer,e)),this.renderer.xr.addEventListener("sessionstart",t=>{this.webXRActive=!0}),this.renderer.xr.addEventListener("sessionend",t=>{this.webXRActive=!1}),this.renderer.xr.enabled=!0,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt))}setupControls(){if(this.useBuiltInControls&&this.webXRMode===X0.None){this.usingExternalCamera?this.camera.isOrthographicCamera?this.orthographicControls=new s2(this.camera,this.renderer.domElement):this.perspectiveControls=new s2(this.camera,this.renderer.domElement):(this.perspectiveControls=new s2(this.perspectiveCamera,this.renderer.domElement),this.orthographicControls=new s2(this.orthographicCamera,this.renderer.domElement));for(let e of[this.orthographicControls,this.perspectiveControls])e&&(e.listenToKeyEvents(window),e.rotateSpeed=.5,e.maxPolarAngle=Math.PI*.75,e.minPolarAngle=.1,e.enableDamping=!0,e.dampingFactor=.05,e.target.copy(this.initialCameraLookAt),e.update());this.controls=this.camera.isOrthographicCamera?this.orthographicControls:this.perspectiveControls,this.controls.update()}}setupEventHandlers(){this.useBuiltInControls&&this.webXRMode===X0.None&&(this.mouseMoveListener=this.onMouseMove.bind(this),this.renderer.domElement.addEventListener("pointermove",this.mouseMoveListener,!1),this.mouseDownListener=this.onMouseDown.bind(this),this.renderer.domElement.addEventListener("pointerdown",this.mouseDownListener,!1),this.mouseUpListener=this.onMouseUp.bind(this),this.renderer.domElement.addEventListener("pointerup",this.mouseUpListener,!1),this.keyDownListener=this.onKeyDown.bind(this),window.addEventListener("keydown",this.keyDownListener,!1))}removeEventHandlers(){this.useBuiltInControls&&(this.renderer.domElement.removeEventListener("pointermove",this.mouseMoveListener),this.mouseMoveListener=null,this.renderer.domElement.removeEventListener("pointerdown",this.mouseDownListener),this.mouseDownListener=null,this.renderer.domElement.removeEventListener("pointerup",this.mouseUpListener),this.mouseUpListener=null,window.removeEventListener("keydown",this.keyDownListener),this.keyDownListener=null)}setRenderMode(e){this.renderMode=e}setActiveSphericalHarmonicsDegrees(e){this.splatMesh.material.uniforms.sphericalHarmonicsDegree.value=e,this.splatMesh.material.uniformsNeedUpdate=!0}onSplatMeshChanged(e){this.onSplatMeshChangedCallback=e}onMouseMove(e){this.mousePosition.set(e.offsetX,e.offsetY)}onMouseDown(){this.mouseDownPosition.copy(this.mousePosition),this.mouseDownTime=q0()}onMouseClick(e){this.mousePosition.set(e.offsetX,e.offsetY),this.checkForFocalPointChange()}getRenderDimensions(e){this.rootElement?(e.x=this.rootElement.offsetWidth,e.y=this.rootElement.offsetHeight):this.renderer.getSize(e)}setOrthographicMode(e){if(e===this.camera.isOrthographicCamera)return;const t=this.camera,r=e?this.orthographicCamera:this.perspectiveCamera;if(r.position.copy(t.position),r.up.copy(t.up),r.rotation.copy(t.rotation),r.quaternion.copy(t.quaternion),r.matrix.copy(t.matrix),this.camera=r,this.controls){const i=o=>{o.saveState(),o.reset()},a=this.controls,s=e?this.orthographicControls:this.perspectiveControls;i(s),i(a),s.target.copy(a.target),e?mf.setCameraZoomFromPosition(r,t,a):mf.setCameraPositionFromZoom(r,t,s),this.controls=s,this.camera.lookAt(this.controls.target)}}adjustForWebXRStereo(e){if(this.camera&&this.webXRActive){const r=this.renderer.xr.getCamera().projectionMatrix.elements[0],i=this.camera.projectionMatrix.elements[0];e.x*=i/r}}isLoadingOrUnloading(){return Object.keys(this.splatSceneDownloadPromises).length>0||this.splatSceneDownloadAndBuildPromise!==null||this.splatSceneRemovalPromise!==null}isDisposingOrDisposed(){return this.disposing||this.disposed}addSplatSceneDownloadPromise(e){this.splatSceneDownloadPromises[e.id]=e}removeSplatSceneDownloadPromise(e){delete this.splatSceneDownloadPromises[e.id]}setSplatSceneDownloadAndBuildPromise(e){this.splatSceneDownloadAndBuildPromise=e}clearSplatSceneDownloadAndBuildPromise(){this.splatSceneDownloadAndBuildPromise=null}addSplatScene(e,t={}){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");t.progressiveLoad&&this.splatMesh.scenes&&this.splatMesh.scenes.length>0&&(console.log('addSplatScene(): "progressiveLoad" option ignore because there are multiple splat scenes'),t.progressiveLoad=!1);const r=t.format!==void 0&&t.format!==null?t.format:HW(e),i=mf.isProgressivelyLoadable(r)&&t.progressiveLoad,a=t.showLoadingUI!==void 0&&t.showLoadingUI!==null?t.showLoadingUI:!0;let s=null;a&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const o=()=>{this.loadingProgressBar.hide(),this.loadingSpinner.removeAllTasks()},l=(m,v,g)=>{if(a)if(g===_a.Downloading)if(m==100)this.loadingSpinner.setMessageForTask(s,"Download complete!");else if(i)this.loadingSpinner.setMessageForTask(s,"Downloading splats...");else{const y=v?`: ${v}`:"...";this.loadingSpinner.setMessageForTask(s,`Downloading${y}`)}else g===_a.Processing&&this.loadingSpinner.setMessageForTask(s,"Processing splats...")};let c=!1,u=0;const d=(m,v)=>{a&&((m&&i||v&&!i)&&(this.loadingSpinner.removeTask(s),!v&&!c&&this.loadingProgressBar.show()),i&&(v?(c=!0,this.loadingProgressBar.hide()):this.loadingProgressBar.setProgress(u)))},f=(m,v,g)=>{u=m,l(m,v,g),t.onProgress&&t.onProgress(m,v,g)},h=(m,v,g)=>{!i&&t.onProgress&&t.onProgress(0,"0%",_a.Processing);const y={rotation:t.rotation||t.orientation,position:t.position,scale:t.scale,splatAlphaRemovalThreshold:t.splatAlphaRemovalThreshold};return this.addSplatBuffers([m],[y],g,v&&a,a,i,i).then(()=>{!i&&t.onProgress&&t.onProgress(100,"100%",_a.Processing),d(v,g)})};return(i?this.downloadAndBuildSingleSplatSceneProgressiveLoad.bind(this):this.downloadAndBuildSingleSplatSceneStandardLoad.bind(this))(e,r,t.splatAlphaRemovalThreshold,h.bind(this),f,o.bind(this),t.headers)}downloadAndBuildSingleSplatSceneStandardLoad(e,t,r,i,a,s,o){const l=this.downloadSplatSceneToSplatBuffer(e,r,a,!1,void 0,t,o),c=BI(l.abortHandler);return l.then(u=>(this.removeSplatSceneDownloadPromise(l),i(u,!0,!0).then(()=>{c.resolve(),this.clearSplatSceneDownloadAndBuildPromise()}))).catch(u=>{s&&s(),this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(l);const d=u instanceof oC?u:new Error(`Viewer::addSplatScene -> Could not load file ${e}`);c.reject(d)}),this.addSplatSceneDownloadPromise(l),this.setSplatSceneDownloadAndBuildPromise(c.promise),c.promise}downloadAndBuildSingleSplatSceneProgressiveLoad(e,t,r,i,a,s,o){let l=0,c=!1;const u=[],d=()=>{if(u.length>0&&!c&&!this.isDisposingOrDisposed()){c=!0;const v=u.shift();i(v.splatBuffer,v.firstBuild,v.finalBuild).then(()=>{c=!1,v.firstBuild?p.resolve():v.finalBuild&&(m.resolve(),this.clearSplatSceneDownloadAndBuildPromise()),u.length>0&&dc(()=>d())})}},f=(v,g)=>{this.isDisposingOrDisposed()||(g||u.length===0||v.getSplatCount()>u[0].splatBuffer.getSplatCount())&&(u.push({splatBuffer:v,firstBuild:l===0,finalBuild:g}),l++,d())},h=this.downloadSplatSceneToSplatBuffer(e,r,a,!0,f,t,o),p=BI(h.abortHandler),m=BI();return this.addSplatSceneDownloadPromise(h),this.setSplatSceneDownloadAndBuildPromise(m.promise),h.then(()=>{this.removeSplatSceneDownloadPromise(h)}).catch(v=>{this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(h);const g=v instanceof oC?v:new Error("Viewer::addSplatScene -> Could not load one or more scenes");p.reject(g),s&&s(g)}),p.promise}addSplatScenes(e,t=!0,r=void 0){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");const i=e.length,a=[];let s;t&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const o=(d,f,h,p)=>{a[d]=f;let m=0;for(let v=0;v<i;v++)m+=a[v]||0;m=m/i,h=`${m.toFixed(2)}%`,t&&p===_a.Downloading&&this.loadingSpinner.setMessageForTask(s,m==100?"Download complete!":`Downloading: ${h}`),r&&r(m,h,p)},l=[],c=[];for(let d=0;d<e.length;d++){const f=e[d],h=f.format!==void 0&&f.format!==null?f.format:HW(f.path),p=this.downloadSplatSceneToSplatBuffer(f.path,f.splatAlphaRemovalThreshold,o.bind(this,d),!1,void 0,h,f.headers);l.push(p),c.push(p.promise)}const u=new F_((d,f)=>{Promise.all(c).then(h=>{t&&this.loadingSpinner.removeTask(s),r&&r(0,"0%",_a.Processing),this.addSplatBuffers(h,e,!0,t,t,!1,!1).then(()=>{r&&r(100,"100%",_a.Processing),this.clearSplatSceneDownloadAndBuildPromise(),d()})}).catch(h=>{t&&this.loadingSpinner.removeTask(s),this.clearSplatSceneDownloadAndBuildPromise();const p=h instanceof oC?h:new Error("Viewer::addSplatScenes -> Could not load one or more splat scenes.");f(p)}).finally(()=>{this.removeSplatSceneDownloadPromise(u)})},d=>{for(let f of l)f.abort(d)});return this.addSplatSceneDownloadPromise(u),this.setSplatSceneDownloadAndBuildPromise(u),u}downloadSplatSceneToSplatBuffer(e,t=1,r=void 0,i=!1,a=void 0,s,o){const l=i?!1:this.optimizeSplatData;try{if(s===Gu.Splat)return RN.loadFromURL(e,r,i,a,t,this.inMemoryCompressionLevel,l,o);if(s===Gu.KSplat)return $D.loadFromURL(e,r,i,a,o);if(s===Gu.Ply)return IN.loadFromURL(e,r,i,a,t,this.inMemoryCompressionLevel,l,this.sphericalHarmonicsDegree,o)}catch(c){throw c instanceof EN?new Error("File type or server does not support progressive loading."):c}throw new Error(`Viewer::downloadSplatSceneToSplatBuffer -> File format not supported: ${e}`)}static isProgressivelyLoadable(e){return e===Gu.Splat||e===Gu.KSplat||e===Gu.Ply}setupSortWorker(e){if(!this.isDisposingOrDisposed())return new Promise(t=>{const r=this.integerBasedSort?Int32Array:Float32Array,i=e.getSplatCount(),a=e.getMaxSplatCount();this.sortWorker=qut(a,this.sharedMemoryForWorkers,this.enableSIMDInSort,this.integerBasedSort,this.splatMesh.dynamicMode,this.splatSortDistanceMapPrecision),this.sortWorker.onmessage=s=>{if(s.data.sortDone){if(this.sortRunning=!1,this.sharedMemoryForWorkers)this.splatMesh.updateRenderIndexes(this.sortWorkerSortedIndexes,s.data.splatRenderCount);else{const o=new Uint32Array(s.data.sortedIndexes.buffer,0,s.data.splatRenderCount);this.splatMesh.updateRenderIndexes(o,s.data.splatRenderCount)}this.lastSplatSortCount=this.splatSortCount,this.lastSortTime=s.data.sortTime,this.sortPromiseResolver(),this.sortPromiseResolver=null,this.forceRenderNextFrame(),this.runAfterNextSort.length>0&&(this.runAfterNextSort.forEach(o=>{o()}),this.runAfterNextSort.length=0)}else if(s.data.sortCanceled)this.sortRunning=!1;else if(s.data.sortSetupPhase1Complete){this.logLevel>=qv.Info&&console.log("Sorting web worker WASM setup complete."),this.sharedMemoryForWorkers?(this.sortWorkerSortedIndexes=new Uint32Array(s.data.sortedIndexesBuffer,s.data.sortedIndexesOffset,a),this.sortWorkerIndexesToSort=new Uint32Array(s.data.indexesToSortBuffer,s.data.indexesToSortOffset,a),this.sortWorkerPrecomputedDistances=new r(s.data.precomputedDistancesBuffer,s.data.precomputedDistancesOffset,a),this.sortWorkerTransforms=new Float32Array(s.data.transformsBuffer,s.data.transformsOffset,zr.MaxScenes*16)):(this.sortWorkerIndexesToSort=new Uint32Array(a),this.sortWorkerPrecomputedDistances=new r(a),this.sortWorkerTransforms=new Float32Array(zr.MaxScenes*16));for(let o=0;o<i;o++)this.sortWorkerIndexesToSort[o]=o;if(this.sortWorker.maxSplatCount=a,this.logLevel>=qv.Info){console.log("Sorting web worker ready.");const o=this.splatMesh.getSplatDataTextures(),l=o.covariances.size,c=o.centerColors.size;console.log("Covariances texture size: "+l.x+" x "+l.y),console.log("Centers/colors texture size: "+c.x+" x "+c.y)}t()}}})}disposeSortWorker(){this.sortWorker&&this.sortWorker.terminate(),this.sortWorker=null,this.sortPromise=null,this.sortPromiseResolver&&(this.sortPromiseResolver(),this.sortPromiseResolver=null),this.preSortMessages=[],this.sortRunning=!1}removeSplatScene(e,t=!0){return this.removeSplatScenes([e],t)}removeSplatScenes(e,t=!0){if(this.isLoadingOrUnloading())throw new Error("Cannot remove splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot remove splat scene after dispose() is called.");let r;return this.splatSceneRemovalPromise=new Promise((i,a)=>{let s;t&&(this.loadingSpinner.removeAllTasks(),this.loadingSpinner.show(),s=this.loadingSpinner.addTask("Removing splat scene..."));const o=()=>{t&&(this.loadingSpinner.hide(),this.loadingSpinner.removeTask(s))},l=u=>{o(),this.splatSceneRemovalPromise=null,u?a(u):i()},c=()=>this.isDisposingOrDisposed()?(l(),!0):!1;r=this.sortPromise||Promise.resolve(),r.then(()=>{if(c())return;const u=[],d=[],f=[];for(let h=0;h<this.splatMesh.scenes.length;h++){let p=!1;for(let m of e)if(m===h){p=!0;break}if(!p){const m=this.splatMesh.scenes[h];u.push(m.splatBuffer),d.push(this.splatMesh.sceneOptions[h]),f.push({position:m.position.clone(),quaternion:m.quaternion.clone(),scale:m.scale.clone()})}}this.disposeSortWorker(),this.splatMesh.dispose(),this.sceneRevealMode=bb.Instant,this.createSplatMesh(),this.addSplatBuffers(u,d,!0,!1,!0).then(()=>{c()||(o(),this.splatMesh.scenes.forEach((h,p)=>{h.position.copy(f[p].position),h.quaternion.copy(f[p].quaternion),h.scale.copy(f[p].scale)}),this.splatMesh.updateTransforms(),this.splatRenderReady=!1,this.runSplatSort(!0).then(()=>{if(c()){this.splatRenderReady=!0;return}r=this.sortPromise||Promise.resolve(),r.then(()=>{this.splatRenderReady=!0,l()})}))}).catch(h=>{l(h)})})}),this.splatSceneRemovalPromise}start(){if(this.selfDrivenMode)this.webXRMode?this.renderer.setAnimationLoop(this.selfDrivenUpdateFunc):this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc),this.selfDrivenModeRunning=!0;else throw new Error("Cannot start viewer unless it is in self driven mode.")}stop(){this.selfDrivenMode&&this.selfDrivenModeRunning&&(this.webXRMode?this.renderer.setAnimationLoop(null):cancelAnimationFrame(this.requestFrameId),this.selfDrivenModeRunning=!1)}async dispose(){if(this.isDisposingOrDisposed())return this.disposePromise;let e=[],t=[];for(let r in this.splatSceneDownloadPromises)if(this.splatSceneDownloadPromises.hasOwnProperty(r)){const i=this.splatSceneDownloadPromises[r];t.push(i),e.push(i.promise)}return this.sortPromise&&e.push(this.sortPromise),this.disposing=!0,this.disposePromise=Promise.all(e).finally(()=>{this.stop(),this.orthographicControls&&(this.orthographicControls.dispose(),this.orthographicControls=null),this.perspectiveControls&&(this.perspectiveControls.dispose(),this.perspectiveControls=null),this.controls=null,this.splatMesh&&(this.splatMesh.dispose(),this.splatMesh=null),this.sceneHelper&&(this.sceneHelper.dispose(),this.sceneHelper=null),this.resizeObserver&&(this.resizeObserver.unobserve(this.rootElement),this.resizeObserver=null),this.disposeSortWorker(),this.removeEventHandlers(),this.loadingSpinner.removeAllTasks(),this.loadingSpinner.setContainer(null),this.loadingProgressBar.hide(),this.loadingProgressBar.setContainer(null),this.infoPanel.setContainer(null),this.camera=null,this.threeScene=null,this.splatRenderReady=!1,this.initialized=!1,this.renderer&&(this.usingExternalRenderer||(this.rootElement.removeChild(this.renderer.domElement),this.renderer.dispose()),this.renderer=null),this.usingExternalRenderer||document.body.removeChild(this.rootElement),this.sortWorkerSortedIndexes=null,this.sortWorkerIndexesToSort=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.disposed=!0,this.disposing=!1,this.disposePromise=null}),t.forEach(r=>{r.abort("Scene disposed")}),this.disposePromise}selfDrivenUpdate(){this.selfDrivenMode&&!this.webXRMode&&(this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc)),this.update(),this.shouldRender()?(this.render(),this.consecutiveRenderFrames++):this.consecutiveRenderFrames=0,this.renderNextFrame=!1}forceRenderNextFrame(){this.renderNextFrame=!0}update(e,t){this.dropInMode&&this.updateForDropInMode(e,t),!(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())&&(this.controls&&(this.controls.update(),this.camera.isOrthographicCamera&&!this.usingExternalCamera&&mf.setCameraPositionFromZoom(this.camera,this.camera,this.controls)),this.runSplatSort(),this.updateForRendererSizeChanges(),this.updateSplatMesh(),this.updateMeshCursor(),this.updateFPS(),this.timingSensitiveUpdates(),this.updateInfoPanel(),this.updateControlPlane())}updateForDropInMode(e,t){this.renderer=e,this.splatMesh&&this.splatMesh.setRenderer(this.renderer),this.camera=t,this.controls&&(this.controls.object=t),this.init()}updateControlPlane(){this.showControlPlane?(this.sceneHelper.setControlPlaneVisibility(!0),this.sceneHelper.positionAndOrientControlPlane(this.controls.target,this.camera.up)):this.sceneHelper.setControlPlaneVisibility(!1)}getSplatMesh(){return this.splatMesh}getSplatScene(e){return this.splatMesh.getScene(e)}getSceneCount(){return this.splatMesh.getSceneCount()}isMobile(){return navigator.userAgent.includes("Mobi")}};un(mf,"setCameraPositionFromZoom",function(){const e=new tt;return function(t,r,i){const a=1/(r.zoom*.001);e.copy(i.target).sub(t.position).normalize().multiplyScalar(a).negate(),t.position.copy(i.target).add(e)}}()),un(mf,"setCameraZoomFromPosition",function(){const e=new tt;return function(t,r,i){const a=e.copy(i.target).sub(r.position).length();t.zoom=1/(a*.001)}}());let qD=mf;const edt=me("h1",{class:"section-title"},"3DGS Model",-1),tdt=me("p",null,[dn(" Thanks to "),me("a",{href:"https://github.com/mkkellogg/GaussianSplats3D",target:"_blank"},"GaussianSplats3D"),dn(", we can visualize 3DGS models here. ")],-1),ndt=me("div",{id:"gs",class:"gs-container"},null,-1),rdt=Ie({__name:"GaussianSplats3D",setup(n){return pn(()=>{const e=document.getElementById("gs");if(e){const t=new qD({rootElement:e,cameraUp:[0,-1,0],initialCameraPosition:[-2.13,-.5,-4.63],initialCameraLookAt:[-.08,.89,-1.36],sharedMemoryForWorkers:!1});t.addSplatScene("./3dgs/cotton-mirror.splat",{splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,1,-1],rotation:[0,0,0,1],scale:[.18,.18,.18]}).then(()=>{t.start(),t.perspectiveControls.stopListenToKeyEvents(),t.orthographicControls.stopListenToKeyEvents()})}}),(e,t)=>{const r=Et("el-divider"),i=Et("el-row"),a=Et("el-col");return V(),ue("div",null,[se(r),se(i,{justify:"center"},{default:be(()=>[edt]),_:1}),se(i,{justify:"center"},{default:be(()=>[se(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[tdt,se(a,{xs:16,sm:21,style:{margin:"0px auto"}},{default:be(()=>[ndt]),_:1})]),_:1})]),_:1})])}}}),idt={components:{Title:yLe,Introduction:_Le,Statistic:aGe,Examples:bGe,Markdown:wGe,BibTeX:EGe,Carousel:iqe,Video:fqe,ImageSlider:Iqe,ImageSliderInner:zqe,ImageSelector:Gqe,Echart:Xqe,Collapse:oKe,Table:Jqe,SeletionForComparison:yKe,Comment:SKe,Latex:DKe,Model3D:ort,GaussianSplats3D:rdt}};function adt(n,e,t,r,i,a){const s=Et("Title"),o=Et("Carousel"),l=Et("Introduction"),c=Et("Statistic"),u=Et("Examples"),d=Et("BibTeX");return V(),ue(zt,null,[se(s),se(o),se(l),se(c),se(u),se(d)],64)}const sdt=Ha(idt,[["render",adt]]),odt=n=>(yc("data-v-4685e5f7"),n=n(),bc(),n),ldt={class:"bg"},cdt={class:"footer"},udt=["href"],ddt=["href"],fdt=["href"],hdt=odt(()=>me("br",null,null,-1)),pdt=["href"],mdt=Ie({__name:"Footer",setup(n){const e={Nerfies:"https://github.com/nerfies/nerfies.github.io",Vue:"https://cn.vuejs.org/",Vite:"https://cn.vitejs.dev/",ElementPlus:"https://element-plus.org/zh-CN/",template:"https://github.com/JunyaoHu/academic-project-page-template-vue"};return(t,r)=>{const i=Et("el-row"),a=Et("el-watermark");return V(),ue("div",ldt,[se(a,{content:["News-M3C"],gap:["60","0"],"z-index":0},{default:be(()=>[se(i,{justify:"center"},{default:be(()=>[me("p",cdt,[dn(" powered by "),me("a",{href:e.Vue},"Vue",8,udt),dn(", "),me("a",{href:e.Vite},"Vite",8,ddt),dn(", and "),me("a",{href:e.ElementPlus},"Element Plus",8,fdt),dn("."),hdt,dn(" inspired by "),me("a",{href:e.template}," template ",8,pdt),dn(" . ")])]),_:1})]),_:1})])}}}),vdt=Ha(mdt,[["__scopeId","data-v-4685e5f7"]]),gdt={components:{Header:nLe,Main:sdt,Footer:vdt}};function ydt(n,e,t,r,i,a){const s=Et("Header"),o=Et("el-header"),l=Et("Main"),c=Et("el-main"),u=Et("Footer"),d=Et("el-footer"),f=Et("el-container"),h=Et("el-backtop");return V(),ue("div",null,[se(f,null,{default:be(()=>[se(o,null,{default:be(()=>[se(s)]),_:1}),se(c,null,{default:be(()=>[se(l)]),_:1}),se(d,null,{default:be(()=>[se(u)]),_:1})]),_:1}),se(h,{right:40,bottom:80})])}const bdt=Ha(gdt,[["render",ydt]]),aae=iK(bdt);aae.use(Jke);aae.mount("#app")});export default _dt();
