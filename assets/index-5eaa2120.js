var $se=Object.defineProperty;var Gse=(n,e,t)=>e in n?$se(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Wse=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var un=(n,e,t)=>(Gse(n,typeof e!="symbol"?e+"":e,t),t);var cft=Wse((zo,Uo)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();function uk(n,e){const t=Object.create(null),r=n.split(",");for(let i=0;i<r.length;i++)t[r[i]]=!0;return e?i=>!!t[i.toLowerCase()]:i=>!!t[i]}const Oi={},Rv=[],Cr=()=>{},qse=()=>!1,Kse=/^on[^a-z]/,aT=n=>Kse.test(n),dk=n=>n.startsWith("onUpdate:"),ca=Object.assign,fk=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},Yse=Object.prototype.hasOwnProperty,sr=(n,e)=>Yse.call(n,e),Tt=Array.isArray,Pv=n=>W_(n)==="[object Map]",sT=n=>W_(n)==="[object Set]",Yf=n=>W_(n)==="[object Date]",Zt=n=>typeof n=="function",qt=n=>typeof n=="string",Ib=n=>typeof n=="symbol",Pn=n=>n!==null&&typeof n=="object",Rb=n=>Pn(n)&&Zt(n.then)&&Zt(n.catch),gq=Object.prototype.toString,W_=n=>gq.call(n),Xse=n=>W_(n).slice(8,-1),Pb=n=>W_(n)==="[object Object]",hk=n=>qt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,g2=uk(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),oT=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},jse=/-(\w)/g,Ko=oT(n=>n.replace(jse,(e,t)=>t?t.toUpperCase():"")),Zse=/\B([A-Z])/g,gh=oT(n=>n.replace(Zse,"-$1").toLowerCase()),q_=oT(n=>n.charAt(0).toUpperCase()+n.slice(1)),H1=oT(n=>n?`on${q_(n)}`:""),Db=(n,e)=>!Object.is(n,e),y2=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},gC=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},u5=n=>{const e=parseFloat(n);return isNaN(e)?n:e},Qse=n=>{const e=qt(n)?Number(n):NaN;return isNaN(e)?n:e};let oB;const d5=()=>oB||(oB=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bt(n){if(Tt(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],i=qt(r)?noe(r):Bt(r);if(i)for(const a in i)e[a]=i[a]}return e}else{if(qt(n))return n;if(Pn(n))return n}}const Jse=/;(?![^(]*\))/g,eoe=/:([^]+)/,toe=/\/\*[^]*?\*\//g;function noe(n){const e={};return n.replace(toe,"").split(Jse).forEach(t=>{if(t){const r=t.split(eoe);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Z(n){let e="";if(qt(n))e=n;else if(Tt(n))for(let t=0;t<n.length;t++){const r=Z(n[t]);r&&(e+=r+" ")}else if(Pn(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function oc(n){if(!n)return null;let{class:e,style:t}=n;return e&&!qt(e)&&(n.class=Z(e)),t&&(n.style=Bt(t)),n}const roe="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ioe=uk(roe);function yq(n){return!!n||n===""}function aoe(n,e){if(n.length!==e.length)return!1;let t=!0;for(let r=0;t&&r<n.length;r++)t=eg(n[r],e[r]);return t}function eg(n,e){if(n===e)return!0;let t=Yf(n),r=Yf(e);if(t||r)return t&&r?n.getTime()===e.getTime():!1;if(t=Ib(n),r=Ib(e),t||r)return n===e;if(t=Tt(n),r=Tt(e),t||r)return t&&r?aoe(n,e):!1;if(t=Pn(n),r=Pn(e),t||r){if(!t||!r)return!1;const i=Object.keys(n).length,a=Object.keys(e).length;if(i!==a)return!1;for(const s in n){const o=n.hasOwnProperty(s),l=e.hasOwnProperty(s);if(o&&!l||!o&&l||!eg(n[s],e[s]))return!1}}return String(n)===String(e)}function bq(n,e){return n.findIndex(t=>eg(t,e))}const Ct=n=>qt(n)?n:n==null?"":Tt(n)||Pn(n)&&(n.toString===gq||!Zt(n.toString))?JSON.stringify(n,_q,2):String(n),_q=(n,e)=>e&&e.__v_isRef?_q(n,e.value):Pv(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,i])=>(t[`${r} =>`]=i,t),{})}:sT(e)?{[`Set(${e.size})`]:[...e.values()]}:Pn(e)&&!Tt(e)&&!Pb(e)?String(e):e;let Lo;class wq{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Lo,!e&&Lo&&(this.index=(Lo.scopes||(Lo.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=Lo;try{return Lo=this,e()}finally{Lo=t}}}on(){Lo=this}off(){Lo=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function soe(n){return new wq(n)}function ooe(n,e=Lo){e&&e.active&&e.effects.push(n)}function xq(){return Lo}function Sq(n){Lo&&Lo.cleanups.push(n)}const pk=n=>{const e=new Set(n);return e.w=0,e.n=0,e},Cq=n=>(n.w&Xf)>0,Mq=n=>(n.n&Xf)>0,loe=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=Xf},coe=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const i=e[r];Cq(i)&&!Mq(i)?i.delete(n):e[t++]=i,i.w&=~Xf,i.n&=~Xf}e.length=t}},yC=new WeakMap;let C1=0,Xf=1;const f5=30;let ac;const Wp=Symbol(""),h5=Symbol("");class mk{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,ooe(this,r)}run(){if(!this.active)return this.fn();let e=ac,t=Lf;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ac,ac=this,Lf=!0,Xf=1<<++C1,C1<=f5?loe(this):lB(this),this.fn()}finally{C1<=f5&&coe(this),Xf=1<<--C1,ac=this.parent,Lf=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ac===this?this.deferStop=!0:this.active&&(lB(this),this.onStop&&this.onStop(),this.active=!1)}}function lB(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}let Lf=!0;const Tq=[];function $g(){Tq.push(Lf),Lf=!1}function Gg(){const n=Tq.pop();Lf=n===void 0?!0:n}function yo(n,e,t){if(Lf&&ac){let r=yC.get(n);r||yC.set(n,r=new Map);let i=r.get(t);i||r.set(t,i=pk()),Aq(i)}}function Aq(n,e){let t=!1;C1<=f5?Mq(n)||(n.n|=Xf,t=!Cq(n)):t=!n.has(ac),t&&(n.add(ac),ac.deps.push(n))}function pd(n,e,t,r,i,a){const s=yC.get(n);if(!s)return;let o=[];if(e==="clear")o=[...s.values()];else if(t==="length"&&Tt(n)){const l=Number(r);s.forEach((c,u)=>{(u==="length"||u>=l)&&o.push(c)})}else switch(t!==void 0&&o.push(s.get(t)),e){case"add":Tt(n)?hk(t)&&o.push(s.get("length")):(o.push(s.get(Wp)),Pv(n)&&o.push(s.get(h5)));break;case"delete":Tt(n)||(o.push(s.get(Wp)),Pv(n)&&o.push(s.get(h5)));break;case"set":Pv(n)&&o.push(s.get(Wp));break}if(o.length===1)o[0]&&p5(o[0]);else{const l=[];for(const c of o)c&&l.push(...c);p5(pk(l))}}function p5(n,e){const t=Tt(n)?n:[...n];for(const r of t)r.computed&&cB(r);for(const r of t)r.computed||cB(r)}function cB(n,e){(n!==ac||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function uoe(n,e){var t;return(t=yC.get(n))==null?void 0:t.get(e)}const doe=uk("__proto__,__v_isRef,__isVue"),Eq=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ib)),foe=vk(),hoe=vk(!1,!0),poe=vk(!0),uB=moe();function moe(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=Lr(this);for(let a=0,s=this.length;a<s;a++)yo(r,"get",a+"");const i=r[e](...t);return i===-1||i===!1?r[e](...t.map(Lr)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){$g();const r=Lr(this)[e].apply(this,t);return Gg(),r}}),n}function voe(n){const e=Lr(this);return yo(e,"has",n),e.hasOwnProperty(n)}function vk(n=!1,e=!1){return function(r,i,a){if(i==="__v_isReactive")return!n;if(i==="__v_isReadonly")return n;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&a===(n?e?Doe:kq:e?Dq:Pq).get(r))return r;const s=Tt(r);if(!n){if(s&&sr(uB,i))return Reflect.get(uB,i,a);if(i==="hasOwnProperty")return voe}const o=Reflect.get(r,i,a);return(Ib(i)?Eq.has(i):doe(i))||(n||yo(r,"get",i),e)?o:Yr(o)?s&&hk(i)?o:o.value:Pn(o)?n?Wg(o):mr(o):o}}const goe=Iq(),yoe=Iq(!0);function Iq(n=!1){return function(t,r,i,a){let s=t[r];if(tg(s)&&Yr(s)&&!Yr(i))return!1;if(!n&&(!bC(i)&&!tg(i)&&(s=Lr(s),i=Lr(i)),!Tt(t)&&Yr(s)&&!Yr(i)))return s.value=i,!0;const o=Tt(t)&&hk(r)?Number(r)<t.length:sr(t,r),l=Reflect.set(t,r,i,a);return t===Lr(a)&&(o?Db(i,s)&&pd(t,"set",r,i):pd(t,"add",r,i)),l}}function boe(n,e){const t=sr(n,e);n[e];const r=Reflect.deleteProperty(n,e);return r&&t&&pd(n,"delete",e,void 0),r}function _oe(n,e){const t=Reflect.has(n,e);return(!Ib(e)||!Eq.has(e))&&yo(n,"has",e),t}function woe(n){return yo(n,"iterate",Tt(n)?"length":Wp),Reflect.ownKeys(n)}const Rq={get:foe,set:goe,deleteProperty:boe,has:_oe,ownKeys:woe},xoe={get:poe,set(n,e){return!0},deleteProperty(n,e){return!0}},Soe=ca({},Rq,{get:hoe,set:yoe}),gk=n=>n,lT=n=>Reflect.getPrototypeOf(n);function Fw(n,e,t=!1,r=!1){n=n.__v_raw;const i=Lr(n),a=Lr(e);t||(e!==a&&yo(i,"get",e),yo(i,"get",a));const{has:s}=lT(i),o=r?gk:t?_k:kb;if(s.call(i,e))return o(n.get(e));if(s.call(i,a))return o(n.get(a));n!==i&&n.get(e)}function zw(n,e=!1){const t=this.__v_raw,r=Lr(t),i=Lr(n);return e||(n!==i&&yo(r,"has",n),yo(r,"has",i)),n===i?t.has(n):t.has(n)||t.has(i)}function Uw(n,e=!1){return n=n.__v_raw,!e&&yo(Lr(n),"iterate",Wp),Reflect.get(n,"size",n)}function dB(n){n=Lr(n);const e=Lr(this);return lT(e).has.call(e,n)||(e.add(n),pd(e,"add",n,n)),this}function fB(n,e){e=Lr(e);const t=Lr(this),{has:r,get:i}=lT(t);let a=r.call(t,n);a||(n=Lr(n),a=r.call(t,n));const s=i.call(t,n);return t.set(n,e),a?Db(e,s)&&pd(t,"set",n,e):pd(t,"add",n,e),this}function hB(n){const e=Lr(this),{has:t,get:r}=lT(e);let i=t.call(e,n);i||(n=Lr(n),i=t.call(e,n)),r&&r.call(e,n);const a=e.delete(n);return i&&pd(e,"delete",n,void 0),a}function pB(){const n=Lr(this),e=n.size!==0,t=n.clear();return e&&pd(n,"clear",void 0,void 0),t}function Hw(n,e){return function(r,i){const a=this,s=a.__v_raw,o=Lr(s),l=e?gk:n?_k:kb;return!n&&yo(o,"iterate",Wp),s.forEach((c,u)=>r.call(i,l(c),l(u),a))}}function Vw(n,e,t){return function(...r){const i=this.__v_raw,a=Lr(i),s=Pv(a),o=n==="entries"||n===Symbol.iterator&&s,l=n==="keys"&&s,c=i[n](...r),u=t?gk:e?_k:kb;return!e&&yo(a,"iterate",l?h5:Wp),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:o?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Vd(n){return function(...e){return n==="delete"?!1:this}}function Coe(){const n={get(a){return Fw(this,a)},get size(){return Uw(this)},has:zw,add:dB,set:fB,delete:hB,clear:pB,forEach:Hw(!1,!1)},e={get(a){return Fw(this,a,!1,!0)},get size(){return Uw(this)},has:zw,add:dB,set:fB,delete:hB,clear:pB,forEach:Hw(!1,!0)},t={get(a){return Fw(this,a,!0)},get size(){return Uw(this,!0)},has(a){return zw.call(this,a,!0)},add:Vd("add"),set:Vd("set"),delete:Vd("delete"),clear:Vd("clear"),forEach:Hw(!0,!1)},r={get(a){return Fw(this,a,!0,!0)},get size(){return Uw(this,!0)},has(a){return zw.call(this,a,!0)},add:Vd("add"),set:Vd("set"),delete:Vd("delete"),clear:Vd("clear"),forEach:Hw(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=Vw(a,!1,!1),t[a]=Vw(a,!0,!1),e[a]=Vw(a,!1,!0),r[a]=Vw(a,!0,!0)}),[n,t,e,r]}const[Moe,Toe,Aoe,Eoe]=Coe();function yk(n,e){const t=e?n?Eoe:Aoe:n?Toe:Moe;return(r,i,a)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(sr(t,i)&&i in r?t:r,i,a)}const Ioe={get:yk(!1,!1)},Roe={get:yk(!1,!0)},Poe={get:yk(!0,!1)},Pq=new WeakMap,Dq=new WeakMap,kq=new WeakMap,Doe=new WeakMap;function koe(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Loe(n){return n.__v_skip||!Object.isExtensible(n)?0:koe(Xse(n))}function mr(n){return tg(n)?n:bk(n,!1,Rq,Ioe,Pq)}function Lq(n){return bk(n,!1,Soe,Roe,Dq)}function Wg(n){return bk(n,!0,xoe,Poe,kq)}function bk(n,e,t,r,i){if(!Pn(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const a=i.get(n);if(a)return a;const s=Loe(n);if(s===0)return n;const o=new Proxy(n,s===2?r:t);return i.set(n,o),o}function Dv(n){return tg(n)?Dv(n.__v_raw):!!(n&&n.__v_isReactive)}function tg(n){return!!(n&&n.__v_isReadonly)}function bC(n){return!!(n&&n.__v_isShallow)}function Nq(n){return Dv(n)||tg(n)}function Lr(n){const e=n&&n.__v_raw;return e?Lr(e):n}function ud(n){return gC(n,"__v_skip",!0),n}const kb=n=>Pn(n)?mr(n):n,_k=n=>Pn(n)?Wg(n):n;function wk(n){Lf&&ac&&(n=Lr(n),Aq(n.dep||(n.dep=pk())))}function xk(n,e){n=Lr(n);const t=n.dep;t&&p5(t)}function Yr(n){return!!(n&&n.__v_isRef===!0)}function ne(n){return Oq(n,!1)}function Ir(n){return Oq(n,!0)}function Oq(n,e){return Yr(n)?n:new Noe(n,e)}class Noe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Lr(e),this._value=t?e:kb(e)}get value(){return wk(this),this._value}set value(e){const t=this.__v_isShallow||bC(e)||tg(e);e=t?e:Lr(e),Db(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:kb(e),xk(this))}}function w(n){return Yr(n)?n.value:n}const Ooe={get:(n,e,t)=>w(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const i=n[e];return Yr(i)&&!Yr(t)?(i.value=t,!0):Reflect.set(n,e,t,r)}};function Bq(n){return Dv(n)?n:new Proxy(n,Ooe)}class Boe{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:r}=e(()=>wk(this),()=>xk(this));this._get=t,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function Foe(n){return new Boe(n)}function ua(n){const e=Tt(n)?new Array(n.length):{};for(const t in n)e[t]=Fq(n,t);return e}class zoe{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return uoe(Lr(this._object),this._key)}}class Uoe{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _r(n,e,t){return Yr(n)?n:Zt(n)?new Uoe(n):Pn(n)&&arguments.length>1?Fq(n,e,t):ne(n)}function Fq(n,e,t){const r=n[e];return Yr(r)?r:new zoe(n,e,t)}class Hoe{constructor(e,t,r,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new mk(e,()=>{this._dirty||(this._dirty=!0,xk(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Lr(this);return wk(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Voe(n,e,t=!1){let r,i;const a=Zt(n);return a?(r=n,i=Cr):(r=n.get,i=n.set),new Hoe(r,i,a||!i,t)}function $oe(n,...e){}function Nf(n,e,t,r){let i;try{i=r?n(...r):n()}catch(a){cT(a,e,t)}return i}function Sl(n,e,t,r){if(Zt(n)){const a=Nf(n,e,t,r);return a&&Rb(a)&&a.catch(s=>{cT(s,e,t)}),a}const i=[];for(let a=0;a<n.length;a++)i.push(Sl(n[a],e,t,r));return i}function cT(n,e,t,r=!0){const i=e?e.vnode:null;if(e){let a=e.parent;const s=e.proxy,o=t;for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](n,s,o)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){Nf(l,null,10,[n,s,o]);return}}Goe(n,t,i,r)}function Goe(n,e,t,r=!0){console.error(n)}let Lb=!1,m5=!1;const _s=[];let Wc=0;const kv=[];let Yu=null,gp=0;const zq=Promise.resolve();let Sk=null;function Yt(n){const e=Sk||zq;return n?e.then(this?n.bind(this):n):e}function Woe(n){let e=Wc+1,t=_s.length;for(;e<t;){const r=e+t>>>1;Nb(_s[r])<n?e=r+1:t=r}return e}function Ck(n){(!_s.length||!_s.includes(n,Lb&&n.allowRecurse?Wc+1:Wc))&&(n.id==null?_s.push(n):_s.splice(Woe(n.id),0,n),Uq())}function Uq(){!Lb&&!m5&&(m5=!0,Sk=zq.then(Vq))}function qoe(n){const e=_s.indexOf(n);e>Wc&&_s.splice(e,1)}function Koe(n){Tt(n)?kv.push(...n):(!Yu||!Yu.includes(n,n.allowRecurse?gp+1:gp))&&kv.push(n),Uq()}function mB(n,e=Lb?Wc+1:0){for(;e<_s.length;e++){const t=_s[e];t&&t.pre&&(_s.splice(e,1),e--,t())}}function Hq(n){if(kv.length){const e=[...new Set(kv)];if(kv.length=0,Yu){Yu.push(...e);return}for(Yu=e,Yu.sort((t,r)=>Nb(t)-Nb(r)),gp=0;gp<Yu.length;gp++)Yu[gp]();Yu=null,gp=0}}const Nb=n=>n.id==null?1/0:n.id,Yoe=(n,e)=>{const t=Nb(n)-Nb(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function Vq(n){m5=!1,Lb=!0,_s.sort(Yoe);const e=Cr;try{for(Wc=0;Wc<_s.length;Wc++){const t=_s[Wc];t&&t.active!==!1&&Nf(t,null,14)}}finally{Wc=0,_s.length=0,Hq(),Lb=!1,Sk=null,(_s.length||kv.length)&&Vq()}}function Xoe(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||Oi;let i=t;const a=e.startsWith("update:"),s=a&&e.slice(7);if(s&&s in r){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:f}=r[u]||Oi;f&&(i=t.map(h=>qt(h)?h.trim():h)),d&&(i=t.map(u5))}let o,l=r[o=H1(e)]||r[o=H1(Ko(e))];!l&&a&&(l=r[o=H1(gh(e))]),l&&Sl(l,n,6,i);const c=r[o+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[o])return;n.emitted[o]=!0,Sl(c,n,6,i)}}function $q(n,e,t=!1){const r=e.emitsCache,i=r.get(n);if(i!==void 0)return i;const a=n.emits;let s={},o=!1;if(!Zt(n)){const l=c=>{const u=$q(c,e,!0);u&&(o=!0,ca(s,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!a&&!o?(Pn(n)&&r.set(n,null),null):(Tt(a)?a.forEach(l=>s[l]=null):ca(s,a),Pn(n)&&r.set(n,s),s)}function uT(n,e){return!n||!aT(e)?!1:(e=e.slice(2).replace(/Once$/,""),sr(n,e[0].toLowerCase()+e.slice(1))||sr(n,gh(e))||sr(n,e))}let Qa=null,dT=null;function _C(n){const e=Qa;return Qa=n,dT=n&&n.type.__scopeId||null,e}function xc(n){dT=n}function Sc(){dT=null}function be(n,e=Qa,t){if(!e||n._n)return n;const r=(...i)=>{r._d&&EB(-1);const a=_C(e);let s;try{s=n(...i)}finally{_C(a),r._d&&EB(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function _3(n){const{type:e,vnode:t,proxy:r,withProxy:i,props:a,propsOptions:[s],slots:o,attrs:l,emit:c,render:u,renderCache:d,data:f,setupState:h,ctx:p,inheritAttrs:m}=n;let v,g;const y=_C(n);try{if(t.shapeFlag&4){const _=i||r;v=Vc(u.call(_,_,d,a,h,f,p)),g=l}else{const _=e;v=Vc(_.length>1?_(a,{attrs:l,slots:o,emit:c}):_(a,null)),g=e.props?l:joe(l)}}catch(_){W1.length=0,cT(_,n,1),v=ue(Ms)}let b=v;if(g&&m!==!1){const _=Object.keys(g),{shapeFlag:x}=b;_.length&&x&7&&(s&&_.some(dk)&&(g=Zoe(g,s)),b=md(b,g))}return t.dirs&&(b=md(b),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&(b.transition=t.transition),v=b,_C(y),v}const joe=n=>{let e;for(const t in n)(t==="class"||t==="style"||aT(t))&&((e||(e={}))[t]=n[t]);return e},Zoe=(n,e)=>{const t={};for(const r in n)(!dk(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function Qoe(n,e,t){const{props:r,children:i,component:a}=n,{props:s,children:o,patchFlag:l}=e,c=a.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return r?vB(r,s,c):!!s;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(s[f]!==r[f]&&!uT(c,f))return!0}}}else return(i||o)&&(!o||!o.$stable)?!0:r===s?!1:r?s?vB(r,s,c):!0:!!s;return!1}function vB(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let i=0;i<r.length;i++){const a=r[i];if(e[a]!==n[a]&&!uT(t,a))return!0}return!1}function Joe({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const ele=n=>n.__isSuspense;function tle(n,e){e&&e.pendingBranch?Tt(n)?e.effects.push(...n):e.effects.push(n):Koe(n)}function Ea(n,e){return Mk(n,null,e)}const $w={};function dt(n,e,t){return Mk(n,e,t)}function Mk(n,e,{immediate:t,deep:r,flush:i,onTrack:a,onTrigger:s}=Oi){var o;const l=xq()===((o=Fa)==null?void 0:o.scope)?Fa:null;let c,u=!1,d=!1;if(Yr(n)?(c=()=>n.value,u=bC(n)):Dv(n)?(c=()=>n,r=!0):Tt(n)?(d=!0,u=n.some(_=>Dv(_)||bC(_)),c=()=>n.map(_=>{if(Yr(_))return _.value;if(Dv(_))return Ip(_);if(Zt(_))return Nf(_,l,2)})):Zt(n)?e?c=()=>Nf(n,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Sl(n,l,3,[h])}:c=Cr,e&&r){const _=c;c=()=>Ip(_())}let f,h=_=>{f=y.onStop=()=>{Nf(_,l,4)}},p;if(zb)if(h=Cr,e?t&&Sl(e,l,3,[c(),d?[]:void 0,h]):c(),i==="sync"){const _=$le();p=_.__watcherHandles||(_.__watcherHandles=[])}else return Cr;let m=d?new Array(n.length).fill($w):$w;const v=()=>{if(y.active)if(e){const _=y.run();(r||u||(d?_.some((x,S)=>Db(x,m[S])):Db(_,m)))&&(f&&f(),Sl(e,l,3,[_,m===$w?void 0:d&&m[0]===$w?[]:m,h]),m=_)}else y.run()};v.allowRecurse=!!e;let g;i==="sync"?g=v:i==="post"?g=()=>io(v,l&&l.suspense):(v.pre=!0,l&&(v.id=l.uid),g=()=>Ck(v));const y=new mk(c,g);e?t?v():m=y.run():i==="post"?io(y.run.bind(y),l&&l.suspense):y.run();const b=()=>{y.stop(),l&&l.scope&&fk(l.scope.effects,y)};return p&&p.push(b),b}function nle(n,e,t){const r=this.proxy,i=qt(n)?n.includes(".")?Gq(r,n):()=>r[n]:n.bind(r,r);let a;Zt(e)?a=e:(a=e.handler,t=e);const s=Fa;ng(this);const o=Mk(i,a.bind(r),t);return s?ng(s):qp(),o}function Gq(n,e){const t=e.split(".");return()=>{let r=n;for(let i=0;i<t.length&&r;i++)r=r[t[i]];return r}}function Ip(n,e){if(!Pn(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),Yr(n))Ip(n.value,e);else if(Tt(n))for(let t=0;t<n.length;t++)Ip(n[t],e);else if(sT(n)||Pv(n))n.forEach(t=>{Ip(t,e)});else if(Pb(n))for(const t in n)Ip(n[t],e);return n}function Cn(n,e){const t=Qa;if(t===null)return n;const r=gT(t)||t.proxy,i=n.dirs||(n.dirs=[]);for(let a=0;a<e.length;a++){let[s,o,l,c=Oi]=e[a];s&&(Zt(s)&&(s={mounted:s,updated:s}),s.deep&&Ip(o),i.push({dir:s,instance:r,value:o,oldValue:void 0,arg:l,modifiers:c}))}return n}function Eh(n,e,t,r){const i=n.dirs,a=e&&e.dirs;for(let s=0;s<i.length;s++){const o=i[s];a&&(o.oldValue=a[s].value);let l=o.dir[r];l&&($g(),Sl(l,t,8,[n.el,o,n,e]),Gg())}}function Wq(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pn(()=>{n.isMounted=!0}),yr(()=>{n.isUnmounting=!0}),n}const Qo=[Function,Array],qq={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Qo,onEnter:Qo,onAfterEnter:Qo,onEnterCancelled:Qo,onBeforeLeave:Qo,onLeave:Qo,onAfterLeave:Qo,onLeaveCancelled:Qo,onBeforeAppear:Qo,onAppear:Qo,onAfterAppear:Qo,onAppearCancelled:Qo},rle={name:"BaseTransition",props:qq,setup(n,{slots:e}){const t=kn(),r=Wq();let i;return()=>{const a=e.default&&Tk(e.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const m of a)if(m.type!==Ms){s=m;break}}const o=Lr(n),{mode:l}=o;if(r.isLeaving)return w3(s);const c=gB(s);if(!c)return w3(s);const u=Ob(c,o,r,t);Bb(c,u);const d=t.subTree,f=d&&gB(d);let h=!1;const{getTransitionKey:p}=c.type;if(p){const m=p();i===void 0?i=m:m!==i&&(i=m,h=!0)}if(f&&f.type!==Ms&&(!yp(c,f)||h)){const m=Ob(f,o,r,t);if(Bb(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,t.update.active!==!1&&t.update()},w3(s);l==="in-out"&&c.type!==Ms&&(m.delayLeave=(v,g,y)=>{const b=Kq(r,f);b[String(f.key)]=f,v._leaveCb=()=>{g(),v._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=y})}return s}}},ile=rle;function Kq(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function Ob(n,e,t,r){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:m,onAppear:v,onAfterAppear:g,onAppearCancelled:y}=e,b=String(n.key),_=Kq(t,n),x=(C,M)=>{C&&Sl(C,r,9,M)},S=(C,M)=>{const A=M[1];x(C,M),Tt(C)?C.every(I=>I.length<=1)&&A():C.length<=1&&A()},T={mode:a,persisted:s,beforeEnter(C){let M=o;if(!t.isMounted)if(i)M=m||o;else return;C._leaveCb&&C._leaveCb(!0);const A=_[b];A&&yp(n,A)&&A.el._leaveCb&&A.el._leaveCb(),x(M,[C])},enter(C){let M=l,A=c,I=u;if(!t.isMounted)if(i)M=v||l,A=g||c,I=y||u;else return;let D=!1;const L=C._enterCb=F=>{D||(D=!0,F?x(I,[C]):x(A,[C]),T.delayedLeave&&T.delayedLeave(),C._enterCb=void 0)};M?S(M,[C,L]):L()},leave(C,M){const A=String(n.key);if(C._enterCb&&C._enterCb(!0),t.isUnmounting)return M();x(d,[C]);let I=!1;const D=C._leaveCb=L=>{I||(I=!0,M(),L?x(p,[C]):x(h,[C]),C._leaveCb=void 0,_[A]===n&&delete _[A])};_[A]=n,f?S(f,[C,D]):D()},clone(C){return Ob(C,e,t,r)}};return T}function w3(n){if(fT(n))return n=md(n),n.children=null,n}function gB(n){return fT(n)?n.children?n.children[0]:void 0:n}function Bb(n,e){n.shapeFlag&6&&n.component?Bb(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Tk(n,e=!1,t){let r=[],i=0;for(let a=0;a<n.length;a++){let s=n[a];const o=t==null?s.key:String(t)+String(s.key!=null?s.key:a);s.type===zt?(s.patchFlag&128&&i++,r=r.concat(Tk(s.children,e,o))):(e||s.type!==Ms)&&r.push(o!=null?md(s,{key:o}):s)}if(i>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}function Re(n,e){return Zt(n)?(()=>ca({name:n.name},e,{setup:n}))():n}const V1=n=>!!n.type.__asyncLoader,fT=n=>n.type.__isKeepAlive;function Ak(n,e){Xq(n,"a",e)}function Yq(n,e){Xq(n,"da",e)}function Xq(n,e,t=Fa){const r=n.__wdc||(n.__wdc=()=>{let i=t;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(hT(e,r,t),t){let i=t.parent;for(;i&&i.parent;)fT(i.parent.vnode)&&ale(r,e,t,i),i=i.parent}}function ale(n,e,t,r){const i=hT(e,n,r,!0);yh(()=>{fk(r[e],i)},t)}function hT(n,e,t=Fa,r=!1){if(t){const i=t[n]||(t[n]=[]),a=e.__weh||(e.__weh=(...s)=>{if(t.isUnmounted)return;$g(),ng(t);const o=Sl(e,t,n,s);return qp(),Gg(),o});return r?i.unshift(a):i.push(a),a}}const Ad=n=>(e,t=Fa)=>(!zb||n==="sp")&&hT(n,(...r)=>e(...r),t),pT=Ad("bm"),pn=Ad("m"),Ek=Ad("bu"),Bl=Ad("u"),yr=Ad("bum"),yh=Ad("um"),sle=Ad("sp"),ole=Ad("rtg"),lle=Ad("rtc");function cle(n,e=Fa){hT("ec",n,e)}const Ik="components",ule="directives";function Et(n,e){return Rk(Ik,n,!0,e)||n}const jq=Symbol.for("v-ndc");function Nn(n){return qt(n)?Rk(Ik,n,!1)||n:n||jq}function mT(n){return Rk(ule,n)}function Rk(n,e,t=!0,r=!1){const i=Qa||Fa;if(i){const a=i.type;if(n===Ik){const o=Ule(a,!1);if(o&&(o===e||o===Ko(e)||o===q_(Ko(e))))return a}const s=yB(i[n]||a[n],e)||yB(i.appContext[n],e);return!s&&r?a:s}}function yB(n,e){return n&&(n[e]||n[Ko(e)]||n[q_(Ko(e))])}function In(n,e,t,r){let i;const a=t&&t[r];if(Tt(n)||qt(n)){i=new Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=e(n[s],s,void 0,a&&a[s])}else if(typeof n=="number"){i=new Array(n);for(let s=0;s<n;s++)i[s]=e(s+1,s,void 0,a&&a[s])}else if(Pn(n))if(n[Symbol.iterator])i=Array.from(n,(s,o)=>e(s,o,void 0,a&&a[o]));else{const s=Object.keys(n);i=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const c=s[o];i[o]=e(n[c],c,o,a&&a[o])}}else i=[];return t&&(t[r]=i),i}function Rl(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(Tt(r))for(let i=0;i<r.length;i++)n[r[i].name]=r[i].fn;else r&&(n[r.name]=r.key?(...i)=>{const a=r.fn(...i);return a&&(a.key=r.key),a}:r.fn)}return n}function Qe(n,e,t={},r,i){if(Qa.isCE||Qa.parent&&V1(Qa.parent)&&Qa.parent.isCE)return e!=="default"&&(t.name=e),ue("slot",t,r&&r());let a=n[e];a&&a._c&&(a._d=!1),V();const s=a&&Zq(a(t)),o=rt(zt,{key:t.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&n._===1?64:-2);return!i&&o.scopeId&&(o.slotScopeIds=[o.scopeId+"-s"]),a&&a._c&&(a._d=!0),o}function Zq(n){return n.some(e=>_i(e)?!(e.type===Ms||e.type===zt&&!Zq(e.children)):!0)?n:null}function dle(n,e){const t={};for(const r in n)t[e&&/[A-Z]/.test(r)?`on:${r}`:H1(r)]=n[r];return t}const v5=n=>n?cK(n)?gT(n)||n.proxy:v5(n.parent):null,$1=ca(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>v5(n.parent),$root:n=>v5(n.root),$emit:n=>n.emit,$options:n=>Pk(n),$forceUpdate:n=>n.f||(n.f=()=>Ck(n.update)),$nextTick:n=>n.n||(n.n=Yt.bind(n.proxy)),$watch:n=>nle.bind(n)}),x3=(n,e)=>n!==Oi&&!n.__isScriptSetup&&sr(n,e),fle={get({_:n},e){const{ctx:t,setupState:r,data:i,props:a,accessCache:s,type:o,appContext:l}=n;let c;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return t[e];case 3:return a[e]}else{if(x3(r,e))return s[e]=1,r[e];if(i!==Oi&&sr(i,e))return s[e]=2,i[e];if((c=n.propsOptions[0])&&sr(c,e))return s[e]=3,a[e];if(t!==Oi&&sr(t,e))return s[e]=4,t[e];g5&&(s[e]=0)}}const u=$1[e];let d,f;if(u)return e==="$attrs"&&yo(n,"get",e),u(n);if((d=o.__cssModules)&&(d=d[e]))return d;if(t!==Oi&&sr(t,e))return s[e]=4,t[e];if(f=l.config.globalProperties,sr(f,e))return f[e]},set({_:n},e,t){const{data:r,setupState:i,ctx:a}=n;return x3(i,e)?(i[e]=t,!0):r!==Oi&&sr(r,e)?(r[e]=t,!0):sr(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(a[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:i,propsOptions:a}},s){let o;return!!t[s]||n!==Oi&&sr(n,s)||x3(e,s)||(o=a[0])&&sr(o,s)||sr(r,s)||sr($1,s)||sr(i.config.globalProperties,s)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:sr(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function na(){return Qq().slots}function bh(){return Qq().attrs}function Qq(){const n=kn();return n.setupContext||(n.setupContext=dK(n))}function bB(n){return Tt(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}let g5=!0;function hle(n){const e=Pk(n),t=n.proxy,r=n.ctx;g5=!1,e.beforeCreate&&_B(e.beforeCreate,n,"bc");const{data:i,computed:a,methods:s,watch:o,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:m,deactivated:v,beforeDestroy:g,beforeUnmount:y,destroyed:b,unmounted:_,render:x,renderTracked:S,renderTriggered:T,errorCaptured:C,serverPrefetch:M,expose:A,inheritAttrs:I,components:D,directives:L,filters:F}=e;if(c&&ple(c,r,null),s)for(const H in s){const z=s[H];Zt(z)&&(r[H]=z.bind(t))}if(i){const H=i.call(t,t);Pn(H)&&(n.data=mr(H))}if(g5=!0,a)for(const H in a){const z=a[H],O=Zt(z)?z.bind(t,t):Zt(z.get)?z.get.bind(t,t):Cr,W=!Zt(z)&&Zt(z.set)?z.set.bind(t):Cr,j=U({get:O,set:W});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>j.value,set:ee=>j.value=ee})}if(o)for(const H in o)Jq(o[H],r,t,H);if(l){const H=Zt(l)?l.call(t):l;Reflect.ownKeys(H).forEach(z=>{$n(z,H[z])})}u&&_B(u,n,"c");function k(H,z){Tt(z)?z.forEach(O=>H(O.bind(t))):z&&H(z.bind(t))}if(k(pT,d),k(pn,f),k(Ek,h),k(Bl,p),k(Ak,m),k(Yq,v),k(cle,C),k(lle,S),k(ole,T),k(yr,y),k(yh,_),k(sle,M),Tt(A))if(A.length){const H=n.exposed||(n.exposed={});A.forEach(z=>{Object.defineProperty(H,z,{get:()=>t[z],set:O=>t[z]=O})})}else n.exposed||(n.exposed={});x&&n.render===Cr&&(n.render=x),I!=null&&(n.inheritAttrs=I),D&&(n.components=D),L&&(n.directives=L)}function ple(n,e,t=Cr){Tt(n)&&(n=y5(n));for(const r in n){const i=n[r];let a;Pn(i)?"default"in i?a=Ot(i.from||r,i.default,!0):a=Ot(i.from||r):a=Ot(i),Yr(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[r]=a}}function _B(n,e,t){Sl(Tt(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function Jq(n,e,t,r){const i=r.includes(".")?Gq(t,r):()=>t[r];if(qt(n)){const a=e[n];Zt(a)&&dt(i,a)}else if(Zt(n))dt(i,n.bind(t));else if(Pn(n))if(Tt(n))n.forEach(a=>Jq(a,e,t,r));else{const a=Zt(n.handler)?n.handler.bind(t):e[n.handler];Zt(a)&&dt(i,a,n)}}function Pk(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:i,optionsCache:a,config:{optionMergeStrategies:s}}=n.appContext,o=a.get(e);let l;return o?l=o:!i.length&&!t&&!r?l=e:(l={},i.length&&i.forEach(c=>wC(l,c,s,!0)),wC(l,e,s)),Pn(e)&&a.set(e,l),l}function wC(n,e,t,r=!1){const{mixins:i,extends:a}=e;a&&wC(n,a,t,!0),i&&i.forEach(s=>wC(n,s,t,!0));for(const s in e)if(!(r&&s==="expose")){const o=mle[s]||t&&t[s];n[s]=o?o(n[s],e[s]):e[s]}return n}const mle={data:wB,props:xB,emits:xB,methods:M1,computed:M1,beforeCreate:Ls,created:Ls,beforeMount:Ls,mounted:Ls,beforeUpdate:Ls,updated:Ls,beforeDestroy:Ls,beforeUnmount:Ls,destroyed:Ls,unmounted:Ls,activated:Ls,deactivated:Ls,errorCaptured:Ls,serverPrefetch:Ls,components:M1,directives:M1,watch:gle,provide:wB,inject:vle};function wB(n,e){return e?n?function(){return ca(Zt(n)?n.call(this,this):n,Zt(e)?e.call(this,this):e)}:e:n}function vle(n,e){return M1(y5(n),y5(e))}function y5(n){if(Tt(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function Ls(n,e){return n?[...new Set([].concat(n,e))]:e}function M1(n,e){return n?ca(Object.create(null),n,e):e}function xB(n,e){return n?Tt(n)&&Tt(e)?[...new Set([...n,...e])]:ca(Object.create(null),bB(n),bB(e??{})):e}function gle(n,e){if(!n)return e;if(!e)return n;const t=ca(Object.create(null),n);for(const r in e)t[r]=Ls(n[r],e[r]);return t}function eK(){return{app:null,config:{isNativeTag:qse,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yle=0;function ble(n,e){return function(r,i=null){Zt(r)||(r=ca({},r)),i!=null&&!Pn(i)&&(i=null);const a=eK(),s=new Set;let o=!1;const l=a.app={_uid:yle++,_component:r,_props:i,_container:null,_context:a,_instance:null,version:Gle,get config(){return a.config},set config(c){},use(c,...u){return s.has(c)||(c&&Zt(c.install)?(s.add(c),c.install(l,...u)):Zt(c)&&(s.add(c),c(l,...u))),l},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),l},component(c,u){return u?(a.components[c]=u,l):a.components[c]},directive(c,u){return u?(a.directives[c]=u,l):a.directives[c]},mount(c,u,d){if(!o){const f=ue(r,i);return f.appContext=a,u&&e?e(f,c):n(f,c,d),o=!0,l._container=c,c.__vue_app__=l,gT(f.component)||f.component.proxy}},unmount(){o&&(n(null,l._container),delete l._container.__vue_app__)},provide(c,u){return a.provides[c]=u,l},runWithContext(c){xC=l;try{return c()}finally{xC=null}}};return l}}let xC=null;function $n(n,e){if(Fa){let t=Fa.provides;const r=Fa.parent&&Fa.parent.provides;r===t&&(t=Fa.provides=Object.create(r)),t[n]=e}}function Ot(n,e,t=!1){const r=Fa||Qa;if(r||xC){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:xC._context.provides;if(i&&n in i)return i[n];if(arguments.length>1)return t&&Zt(e)?e.call(r&&r.proxy):e}}function _le(n,e,t,r=!1){const i={},a={};gC(a,vT,1),n.propsDefaults=Object.create(null),tK(n,e,i,a);for(const s in n.propsOptions[0])s in i||(i[s]=void 0);t?n.props=r?i:Lq(i):n.type.props?n.props=i:n.props=a,n.attrs=a}function wle(n,e,t,r){const{props:i,attrs:a,vnode:{patchFlag:s}}=n,o=Lr(i),[l]=n.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(uT(n.emitsOptions,f))continue;const h=e[f];if(l)if(sr(a,f))h!==a[f]&&(a[f]=h,c=!0);else{const p=Ko(f);i[p]=b5(l,o,p,h,n,!1)}else h!==a[f]&&(a[f]=h,c=!0)}}}else{tK(n,e,i,a)&&(c=!0);let u;for(const d in o)(!e||!sr(e,d)&&((u=gh(d))===d||!sr(e,u)))&&(l?t&&(t[d]!==void 0||t[u]!==void 0)&&(i[d]=b5(l,o,d,void 0,n,!0)):delete i[d]);if(a!==o)for(const d in a)(!e||!sr(e,d))&&(delete a[d],c=!0)}c&&pd(n,"set","$attrs")}function tK(n,e,t,r){const[i,a]=n.propsOptions;let s=!1,o;if(e)for(let l in e){if(g2(l))continue;const c=e[l];let u;i&&sr(i,u=Ko(l))?!a||!a.includes(u)?t[u]=c:(o||(o={}))[u]=c:uT(n.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(a){const l=Lr(t),c=o||Oi;for(let u=0;u<a.length;u++){const d=a[u];t[d]=b5(i,l,d,c[d],n,!sr(c,d))}}return s}function b5(n,e,t,r,i,a){const s=n[t];if(s!=null){const o=sr(s,"default");if(o&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Zt(l)){const{propsDefaults:c}=i;t in c?r=c[t]:(ng(i),r=c[t]=l.call(null,e),qp())}else r=l}s[0]&&(a&&!o?r=!1:s[1]&&(r===""||r===gh(t))&&(r=!0))}return r}function nK(n,e,t=!1){const r=e.propsCache,i=r.get(n);if(i)return i;const a=n.props,s={},o=[];let l=!1;if(!Zt(n)){const u=d=>{l=!0;const[f,h]=nK(d,e,!0);ca(s,f),h&&o.push(...h)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!a&&!l)return Pn(n)&&r.set(n,Rv),Rv;if(Tt(a))for(let u=0;u<a.length;u++){const d=Ko(a[u]);SB(d)&&(s[d]=Oi)}else if(a)for(const u in a){const d=Ko(u);if(SB(d)){const f=a[u],h=s[d]=Tt(f)||Zt(f)?{type:f}:ca({},f);if(h){const p=TB(Boolean,h.type),m=TB(String,h.type);h[0]=p>-1,h[1]=m<0||p<m,(p>-1||sr(h,"default"))&&o.push(d)}}}const c=[s,o];return Pn(n)&&r.set(n,c),c}function SB(n){return n[0]!=="$"}function CB(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function MB(n,e){return CB(n)===CB(e)}function TB(n,e){return Tt(e)?e.findIndex(t=>MB(t,n)):Zt(e)&&MB(e,n)?0:-1}const rK=n=>n[0]==="_"||n==="$stable",Dk=n=>Tt(n)?n.map(Vc):[Vc(n)],xle=(n,e,t)=>{if(e._n)return e;const r=be((...i)=>Dk(e(...i)),t);return r._c=!1,r},iK=(n,e,t)=>{const r=n._ctx;for(const i in n){if(rK(i))continue;const a=n[i];if(Zt(a))e[i]=xle(i,a,r);else if(a!=null){const s=Dk(a);e[i]=()=>s}}},aK=(n,e)=>{const t=Dk(e);n.slots.default=()=>t},Sle=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=Lr(e),gC(e,"_",t)):iK(e,n.slots={})}else n.slots={},e&&aK(n,e);gC(n.slots,vT,1)},Cle=(n,e,t)=>{const{vnode:r,slots:i}=n;let a=!0,s=Oi;if(r.shapeFlag&32){const o=e._;o?t&&o===1?a=!1:(ca(i,e),!t&&o===1&&delete i._):(a=!e.$stable,iK(e,i)),s=e}else e&&(aK(n,e),s={default:1});if(a)for(const o in i)!rK(o)&&!(o in s)&&delete i[o]};function _5(n,e,t,r,i=!1){if(Tt(n)){n.forEach((f,h)=>_5(f,e&&(Tt(e)?e[h]:e),t,r,i));return}if(V1(r)&&!i)return;const a=r.shapeFlag&4?gT(r.component)||r.component.proxy:r.el,s=i?null:a,{i:o,r:l}=n,c=e&&e.r,u=o.refs===Oi?o.refs={}:o.refs,d=o.setupState;if(c!=null&&c!==l&&(qt(c)?(u[c]=null,sr(d,c)&&(d[c]=null)):Yr(c)&&(c.value=null)),Zt(l))Nf(l,o,12,[s,u]);else{const f=qt(l),h=Yr(l);if(f||h){const p=()=>{if(n.f){const m=f?sr(d,l)?d[l]:u[l]:l.value;i?Tt(m)&&fk(m,a):Tt(m)?m.includes(a)||m.push(a):f?(u[l]=[a],sr(d,l)&&(d[l]=u[l])):(l.value=[a],n.k&&(u[n.k]=l.value))}else f?(u[l]=s,sr(d,l)&&(d[l]=s)):h&&(l.value=s,n.k&&(u[n.k]=s))};s?(p.id=-1,io(p,t)):p()}}}const io=tle;function Mle(n){return Tle(n)}function Tle(n,e){const t=d5();t.__VUE__=!0;const{insert:r,remove:i,patchProp:a,createElement:s,createText:o,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:h=Cr,insertStaticContent:p}=n,m=(q,ce,re,Ne=null,Pe=null,$e=null,Ue=!1,Ve=null,je=!!ce.dynamicChildren)=>{if(q===ce)return;q&&!yp(q,ce)&&(Ne=le(q),ee(q,Pe,$e,!0),q=null),ce.patchFlag===-2&&(je=!1,ce.dynamicChildren=null);const{type:fe,ref:$,shapeFlag:X}=ce;switch(fe){case qg:v(q,ce,re,Ne);break;case Ms:g(q,ce,re,Ne);break;case S3:q==null&&y(ce,re,Ne,Ue);break;case zt:D(q,ce,re,Ne,Pe,$e,Ue,Ve,je);break;default:X&1?x(q,ce,re,Ne,Pe,$e,Ue,Ve,je):X&6?L(q,ce,re,Ne,Pe,$e,Ue,Ve,je):(X&64||X&128)&&fe.process(q,ce,re,Ne,Pe,$e,Ue,Ve,je,Ae)}$!=null&&Pe&&_5($,q&&q.ref,$e,ce||q,!ce)},v=(q,ce,re,Ne)=>{if(q==null)r(ce.el=o(ce.children),re,Ne);else{const Pe=ce.el=q.el;ce.children!==q.children&&c(Pe,ce.children)}},g=(q,ce,re,Ne)=>{q==null?r(ce.el=l(ce.children||""),re,Ne):ce.el=q.el},y=(q,ce,re,Ne)=>{[q.el,q.anchor]=p(q.children,ce,re,Ne,q.el,q.anchor)},b=({el:q,anchor:ce},re,Ne)=>{let Pe;for(;q&&q!==ce;)Pe=f(q),r(q,re,Ne),q=Pe;r(ce,re,Ne)},_=({el:q,anchor:ce})=>{let re;for(;q&&q!==ce;)re=f(q),i(q),q=re;i(ce)},x=(q,ce,re,Ne,Pe,$e,Ue,Ve,je)=>{Ue=Ue||ce.type==="svg",q==null?S(ce,re,Ne,Pe,$e,Ue,Ve,je):M(q,ce,Pe,$e,Ue,Ve,je)},S=(q,ce,re,Ne,Pe,$e,Ue,Ve)=>{let je,fe;const{type:$,props:X,shapeFlag:me,transition:Oe,dirs:qe}=q;if(je=q.el=s(q.type,$e,X&&X.is,X),me&8?u(je,q.children):me&16&&C(q.children,je,null,Ne,Pe,$e&&$!=="foreignObject",Ue,Ve),qe&&Eh(q,null,Ne,"created"),T(je,q,q.scopeId,Ue,Ne),X){for(const pt in X)pt!=="value"&&!g2(pt)&&a(je,pt,null,X[pt],$e,q.children,Ne,Pe,ie);"value"in X&&a(je,"value",null,X.value),(fe=X.onVnodeBeforeMount)&&Nc(fe,Ne,q)}qe&&Eh(q,null,Ne,"beforeMount");const mt=(!Pe||Pe&&!Pe.pendingBranch)&&Oe&&!Oe.persisted;mt&&Oe.beforeEnter(je),r(je,ce,re),((fe=X&&X.onVnodeMounted)||mt||qe)&&io(()=>{fe&&Nc(fe,Ne,q),mt&&Oe.enter(je),qe&&Eh(q,null,Ne,"mounted")},Pe)},T=(q,ce,re,Ne,Pe)=>{if(re&&h(q,re),Ne)for(let $e=0;$e<Ne.length;$e++)h(q,Ne[$e]);if(Pe){let $e=Pe.subTree;if(ce===$e){const Ue=Pe.vnode;T(q,Ue,Ue.scopeId,Ue.slotScopeIds,Pe.parent)}}},C=(q,ce,re,Ne,Pe,$e,Ue,Ve,je=0)=>{for(let fe=je;fe<q.length;fe++){const $=q[fe]=Ve?xf(q[fe]):Vc(q[fe]);m(null,$,ce,re,Ne,Pe,$e,Ue,Ve)}},M=(q,ce,re,Ne,Pe,$e,Ue)=>{const Ve=ce.el=q.el;let{patchFlag:je,dynamicChildren:fe,dirs:$}=ce;je|=q.patchFlag&16;const X=q.props||Oi,me=ce.props||Oi;let Oe;re&&Ih(re,!1),(Oe=me.onVnodeBeforeUpdate)&&Nc(Oe,re,ce,q),$&&Eh(ce,q,re,"beforeUpdate"),re&&Ih(re,!0);const qe=Pe&&ce.type!=="foreignObject";if(fe?A(q.dynamicChildren,fe,Ve,re,Ne,qe,$e):Ue||z(q,ce,Ve,null,re,Ne,qe,$e,!1),je>0){if(je&16)I(Ve,ce,X,me,re,Ne,Pe);else if(je&2&&X.class!==me.class&&a(Ve,"class",null,me.class,Pe),je&4&&a(Ve,"style",X.style,me.style,Pe),je&8){const mt=ce.dynamicProps;for(let pt=0;pt<mt.length;pt++){const Ce=mt[pt],ft=X[Ce],at=me[Ce];(at!==ft||Ce==="value")&&a(Ve,Ce,ft,at,Pe,q.children,re,Ne,ie)}}je&1&&q.children!==ce.children&&u(Ve,ce.children)}else!Ue&&fe==null&&I(Ve,ce,X,me,re,Ne,Pe);((Oe=me.onVnodeUpdated)||$)&&io(()=>{Oe&&Nc(Oe,re,ce,q),$&&Eh(ce,q,re,"updated")},Ne)},A=(q,ce,re,Ne,Pe,$e,Ue)=>{for(let Ve=0;Ve<ce.length;Ve++){const je=q[Ve],fe=ce[Ve],$=je.el&&(je.type===zt||!yp(je,fe)||je.shapeFlag&70)?d(je.el):re;m(je,fe,$,null,Ne,Pe,$e,Ue,!0)}},I=(q,ce,re,Ne,Pe,$e,Ue)=>{if(re!==Ne){if(re!==Oi)for(const Ve in re)!g2(Ve)&&!(Ve in Ne)&&a(q,Ve,re[Ve],null,Ue,ce.children,Pe,$e,ie);for(const Ve in Ne){if(g2(Ve))continue;const je=Ne[Ve],fe=re[Ve];je!==fe&&Ve!=="value"&&a(q,Ve,fe,je,Ue,ce.children,Pe,$e,ie)}"value"in Ne&&a(q,"value",re.value,Ne.value)}},D=(q,ce,re,Ne,Pe,$e,Ue,Ve,je)=>{const fe=ce.el=q?q.el:o(""),$=ce.anchor=q?q.anchor:o("");let{patchFlag:X,dynamicChildren:me,slotScopeIds:Oe}=ce;Oe&&(Ve=Ve?Ve.concat(Oe):Oe),q==null?(r(fe,re,Ne),r($,re,Ne),C(ce.children,re,$,Pe,$e,Ue,Ve,je)):X>0&&X&64&&me&&q.dynamicChildren?(A(q.dynamicChildren,me,re,Pe,$e,Ue,Ve),(ce.key!=null||Pe&&ce===Pe.subTree)&&kk(q,ce,!0)):z(q,ce,re,$,Pe,$e,Ue,Ve,je)},L=(q,ce,re,Ne,Pe,$e,Ue,Ve,je)=>{ce.slotScopeIds=Ve,q==null?ce.shapeFlag&512?Pe.ctx.activate(ce,re,Ne,Ue,je):F(ce,re,Ne,Pe,$e,Ue,je):B(q,ce,je)},F=(q,ce,re,Ne,Pe,$e,Ue)=>{const Ve=q.component=Ole(q,Ne,Pe);if(fT(q)&&(Ve.ctx.renderer=Ae),Ble(Ve),Ve.asyncDep){if(Pe&&Pe.registerDep(Ve,k),!q.el){const je=Ve.subTree=ue(Ms);g(null,je,ce,re)}return}k(Ve,q,ce,re,Pe,$e,Ue)},B=(q,ce,re)=>{const Ne=ce.component=q.component;if(Qoe(q,ce,re))if(Ne.asyncDep&&!Ne.asyncResolved){H(Ne,ce,re);return}else Ne.next=ce,qoe(Ne.update),Ne.update();else ce.el=q.el,Ne.vnode=ce},k=(q,ce,re,Ne,Pe,$e,Ue)=>{const Ve=()=>{if(q.isMounted){let{next:$,bu:X,u:me,parent:Oe,vnode:qe}=q,mt=$,pt;Ih(q,!1),$?($.el=qe.el,H(q,$,Ue)):$=qe,X&&y2(X),(pt=$.props&&$.props.onVnodeBeforeUpdate)&&Nc(pt,Oe,$,qe),Ih(q,!0);const Ce=_3(q),ft=q.subTree;q.subTree=Ce,m(ft,Ce,d(ft.el),le(ft),q,Pe,$e),$.el=Ce.el,mt===null&&Joe(q,Ce.el),me&&io(me,Pe),(pt=$.props&&$.props.onVnodeUpdated)&&io(()=>Nc(pt,Oe,$,qe),Pe)}else{let $;const{el:X,props:me}=ce,{bm:Oe,m:qe,parent:mt}=q,pt=V1(ce);if(Ih(q,!1),Oe&&y2(Oe),!pt&&($=me&&me.onVnodeBeforeMount)&&Nc($,mt,ce),Ih(q,!0),X&&Fe){const Ce=()=>{q.subTree=_3(q),Fe(X,q.subTree,q,Pe,null)};pt?ce.type.__asyncLoader().then(()=>!q.isUnmounted&&Ce()):Ce()}else{const Ce=q.subTree=_3(q);m(null,Ce,re,Ne,q,Pe,$e),ce.el=Ce.el}if(qe&&io(qe,Pe),!pt&&($=me&&me.onVnodeMounted)){const Ce=ce;io(()=>Nc($,mt,Ce),Pe)}(ce.shapeFlag&256||mt&&V1(mt.vnode)&&mt.vnode.shapeFlag&256)&&q.a&&io(q.a,Pe),q.isMounted=!0,ce=re=Ne=null}},je=q.effect=new mk(Ve,()=>Ck(fe),q.scope),fe=q.update=()=>je.run();fe.id=q.uid,Ih(q,!0),fe()},H=(q,ce,re)=>{ce.component=q;const Ne=q.vnode.props;q.vnode=ce,q.next=null,wle(q,ce.props,Ne,re),Cle(q,ce.children,re),$g(),mB(),Gg()},z=(q,ce,re,Ne,Pe,$e,Ue,Ve,je=!1)=>{const fe=q&&q.children,$=q?q.shapeFlag:0,X=ce.children,{patchFlag:me,shapeFlag:Oe}=ce;if(me>0){if(me&128){W(fe,X,re,Ne,Pe,$e,Ue,Ve,je);return}else if(me&256){O(fe,X,re,Ne,Pe,$e,Ue,Ve,je);return}}Oe&8?($&16&&ie(fe,Pe,$e),X!==fe&&u(re,X)):$&16?Oe&16?W(fe,X,re,Ne,Pe,$e,Ue,Ve,je):ie(fe,Pe,$e,!0):($&8&&u(re,""),Oe&16&&C(X,re,Ne,Pe,$e,Ue,Ve,je))},O=(q,ce,re,Ne,Pe,$e,Ue,Ve,je)=>{q=q||Rv,ce=ce||Rv;const fe=q.length,$=ce.length,X=Math.min(fe,$);let me;for(me=0;me<X;me++){const Oe=ce[me]=je?xf(ce[me]):Vc(ce[me]);m(q[me],Oe,re,null,Pe,$e,Ue,Ve,je)}fe>$?ie(q,Pe,$e,!0,!1,X):C(ce,re,Ne,Pe,$e,Ue,Ve,je,X)},W=(q,ce,re,Ne,Pe,$e,Ue,Ve,je)=>{let fe=0;const $=ce.length;let X=q.length-1,me=$-1;for(;fe<=X&&fe<=me;){const Oe=q[fe],qe=ce[fe]=je?xf(ce[fe]):Vc(ce[fe]);if(yp(Oe,qe))m(Oe,qe,re,null,Pe,$e,Ue,Ve,je);else break;fe++}for(;fe<=X&&fe<=me;){const Oe=q[X],qe=ce[me]=je?xf(ce[me]):Vc(ce[me]);if(yp(Oe,qe))m(Oe,qe,re,null,Pe,$e,Ue,Ve,je);else break;X--,me--}if(fe>X){if(fe<=me){const Oe=me+1,qe=Oe<$?ce[Oe].el:Ne;for(;fe<=me;)m(null,ce[fe]=je?xf(ce[fe]):Vc(ce[fe]),re,qe,Pe,$e,Ue,Ve,je),fe++}}else if(fe>me)for(;fe<=X;)ee(q[fe],Pe,$e,!0),fe++;else{const Oe=fe,qe=fe,mt=new Map;for(fe=qe;fe<=me;fe++){const Ie=ce[fe]=je?xf(ce[fe]):Vc(ce[fe]);Ie.key!=null&&mt.set(Ie.key,fe)}let pt,Ce=0;const ft=me-qe+1;let at=!1,G=0;const ge=new Array(ft);for(fe=0;fe<ft;fe++)ge[fe]=0;for(fe=Oe;fe<=X;fe++){const Ie=q[fe];if(Ce>=ft){ee(Ie,Pe,$e,!0);continue}let ye;if(Ie.key!=null)ye=mt.get(Ie.key);else for(pt=qe;pt<=me;pt++)if(ge[pt-qe]===0&&yp(Ie,ce[pt])){ye=pt;break}ye===void 0?ee(Ie,Pe,$e,!0):(ge[ye-qe]=fe+1,ye>=G?G=ye:at=!0,m(Ie,ce[ye],re,null,Pe,$e,Ue,Ve,je),Ce++)}const pe=at?Ale(ge):Rv;for(pt=pe.length-1,fe=ft-1;fe>=0;fe--){const Ie=qe+fe,ye=ce[Ie],Me=Ie+1<$?ce[Ie+1].el:Ne;ge[fe]===0?m(null,ye,re,Me,Pe,$e,Ue,Ve,je):at&&(pt<0||fe!==pe[pt]?j(ye,re,Me,2):pt--)}}},j=(q,ce,re,Ne,Pe=null)=>{const{el:$e,type:Ue,transition:Ve,children:je,shapeFlag:fe}=q;if(fe&6){j(q.component.subTree,ce,re,Ne);return}if(fe&128){q.suspense.move(ce,re,Ne);return}if(fe&64){Ue.move(q,ce,re,Ae);return}if(Ue===zt){r($e,ce,re);for(let X=0;X<je.length;X++)j(je[X],ce,re,Ne);r(q.anchor,ce,re);return}if(Ue===S3){b(q,ce,re);return}if(Ne!==2&&fe&1&&Ve)if(Ne===0)Ve.beforeEnter($e),r($e,ce,re),io(()=>Ve.enter($e),Pe);else{const{leave:X,delayLeave:me,afterLeave:Oe}=Ve,qe=()=>r($e,ce,re),mt=()=>{X($e,()=>{qe(),Oe&&Oe()})};me?me($e,qe,mt):mt()}else r($e,ce,re)},ee=(q,ce,re,Ne=!1,Pe=!1)=>{const{type:$e,props:Ue,ref:Ve,children:je,dynamicChildren:fe,shapeFlag:$,patchFlag:X,dirs:me}=q;if(Ve!=null&&_5(Ve,null,re,q,!0),$&256){ce.ctx.deactivate(q);return}const Oe=$&1&&me,qe=!V1(q);let mt;if(qe&&(mt=Ue&&Ue.onVnodeBeforeUnmount)&&Nc(mt,ce,q),$&6)Q(q.component,re,Ne);else{if($&128){q.suspense.unmount(re,Ne);return}Oe&&Eh(q,null,ce,"beforeUnmount"),$&64?q.type.remove(q,ce,re,Pe,Ae,Ne):fe&&($e!==zt||X>0&&X&64)?ie(fe,ce,re,!1,!0):($e===zt&&X&384||!Pe&&$&16)&&ie(je,ce,re),Ne&&te(q)}(qe&&(mt=Ue&&Ue.onVnodeUnmounted)||Oe)&&io(()=>{mt&&Nc(mt,ce,q),Oe&&Eh(q,null,ce,"unmounted")},re)},te=q=>{const{type:ce,el:re,anchor:Ne,transition:Pe}=q;if(ce===zt){J(re,Ne);return}if(ce===S3){_(q);return}const $e=()=>{i(re),Pe&&!Pe.persisted&&Pe.afterLeave&&Pe.afterLeave()};if(q.shapeFlag&1&&Pe&&!Pe.persisted){const{leave:Ue,delayLeave:Ve}=Pe,je=()=>Ue(re,$e);Ve?Ve(q.el,$e,je):je()}else $e()},J=(q,ce)=>{let re;for(;q!==ce;)re=f(q),i(q),q=re;i(ce)},Q=(q,ce,re)=>{const{bum:Ne,scope:Pe,update:$e,subTree:Ue,um:Ve}=q;Ne&&y2(Ne),Pe.stop(),$e&&($e.active=!1,ee(Ue,q,ce,re)),Ve&&io(Ve,ce),io(()=>{q.isUnmounted=!0},ce),ce&&ce.pendingBranch&&!ce.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===ce.pendingId&&(ce.deps--,ce.deps===0&&ce.resolve())},ie=(q,ce,re,Ne=!1,Pe=!1,$e=0)=>{for(let Ue=$e;Ue<q.length;Ue++)ee(q[Ue],ce,re,Ne,Pe)},le=q=>q.shapeFlag&6?le(q.component.subTree):q.shapeFlag&128?q.suspense.next():f(q.anchor||q.el),we=(q,ce,re)=>{q==null?ce._vnode&&ee(ce._vnode,null,null,!0):m(ce._vnode||null,q,ce,null,null,null,re),mB(),Hq(),ce._vnode=q},Ae={p:m,um:ee,m:j,r:te,mt:F,mc:C,pc:z,pbc:A,n:le,o:n};let ke,Fe;return e&&([ke,Fe]=e(Ae)),{render:we,hydrate:ke,createApp:ble(we,ke)}}function Ih({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function kk(n,e,t=!1){const r=n.children,i=e.children;if(Tt(r)&&Tt(i))for(let a=0;a<r.length;a++){const s=r[a];let o=i[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=i[a]=xf(i[a]),o.el=s.el),t||kk(s,o)),o.type===qg&&(o.el=s.el)}}function Ale(n){const e=n.slice(),t=[0];let r,i,a,s,o;const l=n.length;for(r=0;r<l;r++){const c=n[r];if(c!==0){if(i=t[t.length-1],n[i]<c){e[r]=i,t.push(r);continue}for(a=0,s=t.length-1;a<s;)o=a+s>>1,n[t[o]]<c?a=o+1:s=o;c<n[t[a]]&&(a>0&&(e[r]=t[a-1]),t[a]=r)}}for(a=t.length,s=t[a-1];a-- >0;)t[a]=s,s=e[s];return t}const Ele=n=>n.__isTeleport,G1=n=>n&&(n.disabled||n.disabled===""),AB=n=>typeof SVGElement<"u"&&n instanceof SVGElement,w5=(n,e)=>{const t=n&&n.to;return qt(t)?e?e(t):null:t},Ile={__isTeleport:!0,process(n,e,t,r,i,a,s,o,l,c){const{mc:u,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:m,createComment:v}}=c,g=G1(e.props);let{shapeFlag:y,children:b,dynamicChildren:_}=e;if(n==null){const x=e.el=m(""),S=e.anchor=m("");h(x,t,r),h(S,t,r);const T=e.target=w5(e.props,p),C=e.targetAnchor=m("");T&&(h(C,T),s=s||AB(T));const M=(A,I)=>{y&16&&u(b,A,I,i,a,s,o,l)};g?M(t,S):T&&M(T,C)}else{e.el=n.el;const x=e.anchor=n.anchor,S=e.target=n.target,T=e.targetAnchor=n.targetAnchor,C=G1(n.props),M=C?t:S,A=C?x:T;if(s=s||AB(S),_?(f(n.dynamicChildren,_,M,i,a,s,o),kk(n,e,!0)):l||d(n,e,M,A,i,a,s,o,!1),g)C||Gw(e,t,x,c,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const I=e.target=w5(e.props,p);I&&Gw(e,I,null,c,0)}else C&&Gw(e,S,T,c,1)}sK(e)},remove(n,e,t,r,{um:i,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:c,targetAnchor:u,target:d,props:f}=n;if(d&&a(u),(s||!G1(f))&&(a(c),o&16))for(let h=0;h<l.length;h++){const p=l[h];i(p,e,t,!0,!!p.dynamicChildren)}},move:Gw,hydrate:Rle};function Gw(n,e,t,{o:{insert:r},m:i},a=2){a===0&&r(n.targetAnchor,e,t);const{el:s,anchor:o,shapeFlag:l,children:c,props:u}=n,d=a===2;if(d&&r(s,e,t),(!d||G1(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,t,2);d&&r(o,e,t)}function Rle(n,e,t,r,i,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},c){const u=e.target=w5(e.props,l);if(u){const d=u._lpa||u.firstChild;if(e.shapeFlag&16)if(G1(e.props))e.anchor=c(s(n),e,o(n),t,r,i,a),e.targetAnchor=d;else{e.anchor=s(n);let f=d;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&s(e.targetAnchor);break}c(d,e,u,t,r,i,a)}sK(e)}return e.anchor&&s(e.anchor)}const Ple=Ile;function sK(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const zt=Symbol.for("v-fgt"),qg=Symbol.for("v-txt"),Ms=Symbol.for("v-cmt"),S3=Symbol.for("v-stc"),W1=[];let lc=null;function V(n=!1){W1.push(lc=n?null:[])}function Dle(){W1.pop(),lc=W1[W1.length-1]||null}let Fb=1;function EB(n){Fb+=n}function oK(n){return n.dynamicChildren=Fb>0?lc||Rv:null,Dle(),Fb>0&&lc&&lc.push(n),n}function he(n,e,t,r,i,a){return oK(ve(n,e,t,r,i,a,!0))}function rt(n,e,t,r,i){return oK(ue(n,e,t,r,i,!0))}function _i(n){return n?n.__v_isVNode===!0:!1}function yp(n,e){return n.type===e.type&&n.key===e.key}const vT="__vInternal",lK=({key:n})=>n??null,b2=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?qt(n)||Yr(n)||Zt(n)?{i:Qa,r:n,k:e,f:!!t}:n:null);function ve(n,e=null,t=null,r=0,i=null,a=n===zt?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&lK(e),ref:e&&b2(e),scopeId:dT,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Qa};return o?(Lk(l,t),a&128&&n.normalize(l)):t&&(l.shapeFlag|=qt(t)?8:16),Fb>0&&!s&&lc&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&lc.push(l),l}const ue=kle;function kle(n,e=null,t=null,r=0,i=null,a=!1){if((!n||n===jq)&&(n=Ms),_i(n)){const o=md(n,e,!0);return t&&Lk(o,t),Fb>0&&!a&&lc&&(o.shapeFlag&6?lc[lc.indexOf(n)]=o:lc.push(o)),o.patchFlag|=-2,o}if(Hle(n)&&(n=n.__vccOpts),e){e=jf(e);let{class:o,style:l}=e;o&&!qt(o)&&(e.class=Z(o)),Pn(l)&&(Nq(l)&&!Tt(l)&&(l=ca({},l)),e.style=Bt(l))}const s=qt(n)?1:ele(n)?128:Ele(n)?64:Pn(n)?4:Zt(n)?2:0;return ve(n,e,t,r,i,s,a,!0)}function jf(n){return n?Nq(n)||vT in n?ca({},n):n:null}function md(n,e,t=!1){const{props:r,ref:i,patchFlag:a,children:s}=n,o=e?Hn(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:o,key:o&&lK(o),ref:e&&e.ref?t&&i?Tt(i)?i.concat(b2(e)):[i,b2(e)]:b2(e):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==zt?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&md(n.ssContent),ssFallback:n.ssFallback&&md(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function dn(n=" ",e=0){return ue(qg,null,n,e)}function Je(n="",e=!1){return e?(V(),rt(Ms,null,n)):ue(Ms,null,n)}function Vc(n){return n==null||typeof n=="boolean"?ue(Ms):Tt(n)?ue(zt,null,n.slice()):typeof n=="object"?xf(n):ue(qg,null,String(n))}function xf(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:md(n)}function Lk(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(Tt(e))t=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Lk(n,i()),i._c&&(i._d=!0));return}else{t=32;const i=e._;!i&&!(vT in e)?e._ctx=Qa:i===3&&Qa&&(Qa.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else Zt(e)?(e={default:e,_ctx:Qa},t=32):(e=String(e),r&64?(t=16,e=[dn(e)]):t=8);n.children=e,n.shapeFlag|=t}function Hn(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Z([e.class,r.class]));else if(i==="style")e.style=Bt([e.style,r.style]);else if(aT(i)){const a=e[i],s=r[i];s&&a!==s&&!(Tt(a)&&a.includes(s))&&(e[i]=a?[].concat(a,s):s)}else i!==""&&(e[i]=r[i])}return e}function Nc(n,e,t,r=null){Sl(n,e,7,[t,r])}const Lle=eK();let Nle=0;function Ole(n,e,t){const r=n.type,i=(e?e.appContext:n.appContext)||Lle,a={uid:Nle++,vnode:n,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new wq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nK(r,i),emitsOptions:$q(r,i),emit:null,emitted:null,propsDefaults:Oi,inheritAttrs:r.inheritAttrs,ctx:Oi,data:Oi,props:Oi,attrs:Oi,slots:Oi,refs:Oi,setupState:Oi,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Xoe.bind(null,a),n.ce&&n.ce(a),a}let Fa=null;const kn=()=>Fa||Qa;let Nk,Km,IB="__VUE_INSTANCE_SETTERS__";(Km=d5()[IB])||(Km=d5()[IB]=[]),Km.push(n=>Fa=n),Nk=n=>{Km.length>1?Km.forEach(e=>e(n)):Km[0](n)};const ng=n=>{Nk(n),n.scope.on()},qp=()=>{Fa&&Fa.scope.off(),Nk(null)};function cK(n){return n.vnode.shapeFlag&4}let zb=!1;function Ble(n,e=!1){zb=e;const{props:t,children:r}=n.vnode,i=cK(n);_le(n,t,i,e),Sle(n,r);const a=i?Fle(n,e):void 0;return zb=!1,a}function Fle(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=ud(new Proxy(n.ctx,fle));const{setup:r}=t;if(r){const i=n.setupContext=r.length>1?dK(n):null;ng(n),$g();const a=Nf(r,n,0,[n.props,i]);if(Gg(),qp(),Rb(a)){if(a.then(qp,qp),e)return a.then(s=>{RB(n,s,e)}).catch(s=>{cT(s,n,0)});n.asyncDep=a}else RB(n,a,e)}else uK(n,e)}function RB(n,e,t){Zt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:Pn(e)&&(n.setupState=Bq(e)),uK(n,t)}let PB;function uK(n,e,t){const r=n.type;if(!n.render){if(!e&&PB&&!r.render){const i=r.template||Pk(n).template;if(i){const{isCustomElement:a,compilerOptions:s}=n.appContext.config,{delimiters:o,compilerOptions:l}=r,c=ca(ca({isCustomElement:a,delimiters:o},s),l);r.render=PB(i,c)}}n.render=r.render||Cr}ng(n),$g(),hle(n),Gg(),qp()}function zle(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return yo(n,"get","$attrs"),e[t]}}))}function dK(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return zle(n)},slots:n.slots,emit:n.emit,expose:e}}function gT(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(Bq(ud(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in $1)return $1[t](n)},has(e,t){return t in e||t in $1}}))}function Ule(n,e=!0){return Zt(n)?n.displayName||n.name:n.name||e&&n.__name}function Hle(n){return Zt(n)&&"__vccOpts"in n}const U=(n,e)=>Voe(n,e,zb);function Gt(n,e,t){const r=arguments.length;return r===2?Pn(e)&&!Tt(e)?_i(e)?ue(n,null,[e]):ue(n,e):ue(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&_i(t)&&(t=[t]),ue(n,e,t))}const Vle=Symbol.for("v-scx"),$le=()=>Ot(Vle),Gle="3.3.4",Wle="http://www.w3.org/2000/svg",bp=typeof document<"u"?document:null,DB=bp&&bp.createElement("template"),qle={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const i=e?bp.createElementNS(Wle,n):bp.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:n=>bp.createTextNode(n),createComment:n=>bp.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>bp.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,i,a){const s=t?t.previousSibling:e.lastChild;if(i&&(i===a||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),t),!(i===a||!(i=i.nextSibling)););else{DB.innerHTML=r?`<svg>${n}</svg>`:n;const o=DB.content;if(r){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[s?s.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function Kle(n,e,t){const r=n._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}function Yle(n,e,t){const r=n.style,i=qt(t);if(t&&!i){if(e&&!qt(e))for(const a in e)t[a]==null&&x5(r,a,"");for(const a in t)x5(r,a,t[a])}else{const a=r.display;i?e!==t&&(r.cssText=t):e&&n.removeAttribute("style"),"_vod"in n&&(r.display=a)}}const kB=/\s*!important$/;function x5(n,e,t){if(Tt(t))t.forEach(r=>x5(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=Xle(n,e);kB.test(t)?n.setProperty(gh(r),t.replace(kB,""),"important"):n[r]=t}}const LB=["Webkit","Moz","ms"],C3={};function Xle(n,e){const t=C3[e];if(t)return t;let r=Ko(e);if(r!=="filter"&&r in n)return C3[e]=r;r=q_(r);for(let i=0;i<LB.length;i++){const a=LB[i]+r;if(a in n)return C3[e]=a}return e}const NB="http://www.w3.org/1999/xlink";function jle(n,e,t,r,i){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(NB,e.slice(6,e.length)):n.setAttributeNS(NB,e,t);else{const a=ioe(e);t==null||a&&!yq(t)?n.removeAttribute(e):n.setAttribute(e,a?"":t)}}function Zle(n,e,t,r,i,a,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,a),n[e]=t??"";return}const o=n.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){n._value=t;const c=o==="OPTION"?n.getAttribute("value"):n.value,u=t??"";c!==u&&(n.value=u),t==null&&n.removeAttribute(e);return}let l=!1;if(t===""||t==null){const c=typeof n[e];c==="boolean"?t=yq(t):t==null&&c==="string"?(t="",l=!0):c==="number"&&(t=0,l=!0)}try{n[e]=t}catch{}l&&n.removeAttribute(e)}function Mf(n,e,t,r){n.addEventListener(e,t,r)}function Qle(n,e,t,r){n.removeEventListener(e,t,r)}function Jle(n,e,t,r,i=null){const a=n._vei||(n._vei={}),s=a[e];if(r&&s)s.value=r;else{const[o,l]=ece(e);if(r){const c=a[e]=rce(r,i);Mf(n,o,c,l)}else s&&(Qle(n,o,s,l),a[e]=void 0)}}const OB=/(?:Once|Passive|Capture)$/;function ece(n){let e;if(OB.test(n)){e={};let r;for(;r=n.match(OB);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):gh(n.slice(2)),e]}let M3=0;const tce=Promise.resolve(),nce=()=>M3||(tce.then(()=>M3=0),M3=Date.now());function rce(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;Sl(ice(r,t.value),e,5,[r])};return t.value=n,t.attached=nce(),t}function ice(n,e){if(Tt(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const BB=/^on[a-z]/,ace=(n,e,t,r,i=!1,a,s,o,l)=>{e==="class"?Kle(n,r,i):e==="style"?Yle(n,t,r):aT(e)?dk(e)||Jle(n,e,t,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sce(n,e,r,i))?Zle(n,e,r,a,s,o,l):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),jle(n,e,r,i))};function sce(n,e,t,r){return r?!!(e==="innerHTML"||e==="textContent"||e in n&&BB.test(e)&&Zt(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||BB.test(e)&&qt(t)?!1:e in n}const $d="transition",Dy="animation",da=(n,{slots:e})=>Gt(ile,hK(n),e);da.displayName="Transition";const fK={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},oce=da.props=ca({},qq,fK),Rh=(n,e=[])=>{Tt(n)?n.forEach(t=>t(...e)):n&&n(...e)},FB=n=>n?Tt(n)?n.some(e=>e.length>1):n.length>1:!1;function hK(n){const e={};for(const D in n)D in fK||(e[D]=n[D]);if(n.css===!1)return e;const{name:t="v",type:r,duration:i,enterFromClass:a=`${t}-enter-from`,enterActiveClass:s=`${t}-enter-active`,enterToClass:o=`${t}-enter-to`,appearFromClass:l=a,appearActiveClass:c=s,appearToClass:u=o,leaveFromClass:d=`${t}-leave-from`,leaveActiveClass:f=`${t}-leave-active`,leaveToClass:h=`${t}-leave-to`}=n,p=lce(i),m=p&&p[0],v=p&&p[1],{onBeforeEnter:g,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:x,onBeforeAppear:S=g,onAppear:T=y,onAppearCancelled:C=b}=e,M=(D,L,F)=>{vf(D,L?u:o),vf(D,L?c:s),F&&F()},A=(D,L)=>{D._isLeaving=!1,vf(D,d),vf(D,h),vf(D,f),L&&L()},I=D=>(L,F)=>{const B=D?T:y,k=()=>M(L,D,F);Rh(B,[L,k]),zB(()=>{vf(L,D?l:a),Wu(L,D?u:o),FB(B)||UB(L,r,m,k)})};return ca(e,{onBeforeEnter(D){Rh(g,[D]),Wu(D,a),Wu(D,s)},onBeforeAppear(D){Rh(S,[D]),Wu(D,l),Wu(D,c)},onEnter:I(!1),onAppear:I(!0),onLeave(D,L){D._isLeaving=!0;const F=()=>A(D,L);Wu(D,d),mK(),Wu(D,f),zB(()=>{D._isLeaving&&(vf(D,d),Wu(D,h),FB(_)||UB(D,r,v,F))}),Rh(_,[D,F])},onEnterCancelled(D){M(D,!1),Rh(b,[D])},onAppearCancelled(D){M(D,!0),Rh(C,[D])},onLeaveCancelled(D){A(D),Rh(x,[D])}})}function lce(n){if(n==null)return null;if(Pn(n))return[T3(n.enter),T3(n.leave)];{const e=T3(n);return[e,e]}}function T3(n){return Qse(n)}function Wu(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n._vtc||(n._vtc=new Set)).add(e)}function vf(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const{_vtc:t}=n;t&&(t.delete(e),t.size||(n._vtc=void 0))}function zB(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let cce=0;function UB(n,e,t,r){const i=n._endId=++cce,a=()=>{i===n._endId&&r()};if(t)return setTimeout(a,t);const{type:s,timeout:o,propCount:l}=pK(n,e);if(!s)return r();const c=s+"end";let u=0;const d=()=>{n.removeEventListener(c,f),a()},f=h=>{h.target===n&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},o+1),n.addEventListener(c,f)}function pK(n,e){const t=window.getComputedStyle(n),r=p=>(t[p]||"").split(", "),i=r(`${$d}Delay`),a=r(`${$d}Duration`),s=HB(i,a),o=r(`${Dy}Delay`),l=r(`${Dy}Duration`),c=HB(o,l);let u=null,d=0,f=0;e===$d?s>0&&(u=$d,d=s,f=a.length):e===Dy?c>0&&(u=Dy,d=c,f=l.length):(d=Math.max(s,c),u=d>0?s>c?$d:Dy:null,f=u?u===$d?a.length:l.length:0);const h=u===$d&&/\b(transform|all)(,|$)/.test(r(`${$d}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:h}}function HB(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>VB(t)+VB(n[r])))}function VB(n){return Number(n.slice(0,-1).replace(",","."))*1e3}function mK(){return document.body.offsetHeight}const vK=new WeakMap,gK=new WeakMap,yK={name:"TransitionGroup",props:ca({},oce,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=kn(),r=Wq();let i,a;return Bl(()=>{if(!i.length)return;const s=n.moveClass||`${n.name||"v"}-move`;if(!pce(i[0].el,t.vnode.el,s))return;i.forEach(dce),i.forEach(fce);const o=i.filter(hce);mK(),o.forEach(l=>{const c=l.el,u=c.style;Wu(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,vf(c,s))};c.addEventListener("transitionend",d)})}),()=>{const s=Lr(n),o=hK(s);let l=s.tag||zt;i=a,a=e.default?Tk(e.default()):[];for(let c=0;c<a.length;c++){const u=a[c];u.key!=null&&Bb(u,Ob(u,o,r,t))}if(i)for(let c=0;c<i.length;c++){const u=i[c];Bb(u,Ob(u,o,r,t)),vK.set(u,u.el.getBoundingClientRect())}return ue(l,null,a)}}},uce=n=>delete n.mode;yK.props;const bK=yK;function dce(n){const e=n.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function fce(n){gK.set(n,n.el.getBoundingClientRect())}function hce(n){const e=vK.get(n),t=gK.get(n),r=e.left-t.left,i=e.top-t.top;if(r||i){const a=n.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${i}px)`,a.transitionDuration="0s",n}}function pce(n,e,t){const r=n.cloneNode();n._vtc&&n._vtc.forEach(s=>{s.split(/\s+/).forEach(o=>o&&r.classList.remove(o))}),t.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:a}=pK(r);return i.removeChild(r),a}const rg=n=>{const e=n.props["onUpdate:modelValue"]||!1;return Tt(e)?t=>y2(e,t):e};function mce(n){n.target.composing=!0}function $B(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const yT={created(n,{modifiers:{lazy:e,trim:t,number:r}},i){n._assign=rg(i);const a=r||i.props&&i.props.type==="number";Mf(n,e?"change":"input",s=>{if(s.target.composing)return;let o=n.value;t&&(o=o.trim()),a&&(o=u5(o)),n._assign(o)}),t&&Mf(n,"change",()=>{n.value=n.value.trim()}),e||(Mf(n,"compositionstart",mce),Mf(n,"compositionend",$B),Mf(n,"change",$B))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:r,number:i}},a){if(n._assign=rg(a),n.composing||document.activeElement===n&&n.type!=="range"&&(t||r&&n.value.trim()===e||(i||n.type==="number")&&u5(n.value)===e))return;const s=e??"";n.value!==s&&(n.value=s)}},SC={deep:!0,created(n,e,t){n._assign=rg(t),Mf(n,"change",()=>{const r=n._modelValue,i=wK(n),a=n.checked,s=n._assign;if(Tt(r)){const o=bq(r,i),l=o!==-1;if(a&&!l)s(r.concat(i));else if(!a&&l){const c=[...r];c.splice(o,1),s(c)}}else if(sT(r)){const o=new Set(r);a?o.add(i):o.delete(i),s(o)}else s(xK(n,a))})},mounted:GB,beforeUpdate(n,e,t){n._assign=rg(t),GB(n,e,t)}};function GB(n,{value:e,oldValue:t},r){n._modelValue=e,Tt(e)?n.checked=bq(e,r.props.value)>-1:sT(e)?n.checked=e.has(r.props.value):e!==t&&(n.checked=eg(e,xK(n,!0)))}const _K={created(n,{value:e},t){n.checked=eg(e,t.props.value),n._assign=rg(t),Mf(n,"change",()=>{n._assign(wK(n))})},beforeUpdate(n,{value:e,oldValue:t},r){n._assign=rg(r),e!==t&&(n.checked=eg(e,r.props.value))}};function wK(n){return"_value"in n?n._value:n.value}function xK(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const vce=["ctrl","shift","alt","meta"],gce={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>vce.some(t=>n[`${t}Key`]&&!e.includes(t))},sn=(n,e)=>(t,...r)=>{for(let i=0;i<e.length;i++){const a=gce[e[i]];if(a&&a(t,e))return}return n(t,...r)},yce={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ur=(n,e)=>t=>{if(!("key"in t))return;const r=gh(t.key);if(e.some(i=>i===r||yce[i]===r))return n(t)},fr={beforeMount(n,{value:e},{transition:t}){n._vod=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):ky(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),ky(n,!0),r.enter(n)):r.leave(n,()=>{ky(n,!1)}):ky(n,e))},beforeUnmount(n,{value:e}){ky(n,e)}};function ky(n,e){n.style.display=e?n._vod:"none"}const bce=ca({patchProp:ace},qle);let WB;function SK(){return WB||(WB=Mle(bce))}const Zf=(...n)=>{SK().render(...n)},CK=(...n)=>{const e=SK().createApp(...n),{mount:t}=e;return e.mount=r=>{const i=_ce(r);if(!i)return;const a=e._component;!Zt(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const s=t(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function _ce(n){return qt(n)?document.querySelector(n):n}const wce="2.9.1",qB=Symbol("INSTALLED_KEY"),MK=Symbol(),q1="el",xce="is-",Ph=(n,e,t,r,i)=>{let a=`${n}-${e}`;return t&&(a+=`-${t}`),r&&(a+=`__${r}`),i&&(a+=`--${i}`),a},TK=Symbol("namespaceContextKey"),Ok=n=>{const e=n||(kn()?Ot(TK,ne(q1)):ne(q1));return U(()=>w(e)||q1)},bt=(n,e)=>{const t=Ok(e);return{namespace:t,b:(m="")=>Ph(t.value,n,m,"",""),e:m=>m?Ph(t.value,n,"",m,""):"",m:m=>m?Ph(t.value,n,"","",m):"",be:(m,v)=>m&&v?Ph(t.value,n,m,v,""):"",em:(m,v)=>m&&v?Ph(t.value,n,"",m,v):"",bm:(m,v)=>m&&v?Ph(t.value,n,m,"",v):"",bem:(m,v,g)=>m&&v&&g?Ph(t.value,n,m,v,g):"",is:(m,...v)=>{const g=v.length>=1?v[0]:!0;return m&&g?`${xce}${m}`:""},cssVar:m=>{const v={};for(const g in m)m[g]&&(v[`--${t.value}-${g}`]=m[g]);return v},cssVarName:m=>`--${t.value}-${m}`,cssVarBlock:m=>{const v={};for(const g in m)m[g]&&(v[`--${t.value}-${n}-${g}`]=m[g]);return v},cssVarBlockName:m=>`--${t.value}-${n}-${m}`}};var Sce=typeof global=="object"&&global&&global.Object===Object&&global;const AK=Sce;var Cce=typeof self=="object"&&self&&self.Object===Object&&self,Mce=AK||Cce||Function("return this")();const Cc=Mce;var Tce=Cc.Symbol;const Pl=Tce;var EK=Object.prototype,Ace=EK.hasOwnProperty,Ece=EK.toString,Ly=Pl?Pl.toStringTag:void 0;function Ice(n){var e=Ace.call(n,Ly),t=n[Ly];try{n[Ly]=void 0;var r=!0}catch{}var i=Ece.call(n);return r&&(e?n[Ly]=t:delete n[Ly]),i}var Rce=Object.prototype,Pce=Rce.toString;function Dce(n){return Pce.call(n)}var kce="[object Null]",Lce="[object Undefined]",KB=Pl?Pl.toStringTag:void 0;function Am(n){return n==null?n===void 0?Lce:kce:KB&&KB in Object(n)?Ice(n):Dce(n)}function ou(n){return n!=null&&typeof n=="object"}var Nce="[object Symbol]";function bT(n){return typeof n=="symbol"||ou(n)&&Am(n)==Nce}function Bk(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var Oce=Array.isArray;const Xs=Oce;var Bce=1/0,YB=Pl?Pl.prototype:void 0,XB=YB?YB.toString:void 0;function IK(n){if(typeof n=="string")return n;if(Xs(n))return Bk(n,IK)+"";if(bT(n))return XB?XB.call(n):"";var e=n+"";return e=="0"&&1/n==-Bce?"-0":e}var Fce=/\s/;function zce(n){for(var e=n.length;e--&&Fce.test(n.charAt(e)););return e}var Uce=/^\s+/;function Hce(n){return n&&n.slice(0,zce(n)+1).replace(Uce,"")}function js(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var jB=0/0,Vce=/^[-+]0x[0-9a-f]+$/i,$ce=/^0b[01]+$/i,Gce=/^0o[0-7]+$/i,Wce=parseInt;function S5(n){if(typeof n=="number")return n;if(bT(n))return jB;if(js(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=js(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=Hce(n);var t=$ce.test(n);return t||Gce.test(n)?Wce(n.slice(2),t?2:8):Vce.test(n)?jB:+n}var ZB=1/0,qce=17976931348623157e292;function Kce(n){if(!n)return n===0?n:0;if(n=S5(n),n===ZB||n===-ZB){var e=n<0?-1:1;return e*qce}return n===n?n:0}function Yce(n){var e=Kce(n),t=e%1;return e===e?t?e-t:e:0}function Fk(n){return n}var Xce="[object AsyncFunction]",jce="[object Function]",Zce="[object GeneratorFunction]",Qce="[object Proxy]";function zk(n){if(!js(n))return!1;var e=Am(n);return e==jce||e==Zce||e==Xce||e==Qce}var Jce=Cc["__core-js_shared__"];const A3=Jce;var QB=function(){var n=/[^.]+$/.exec(A3&&A3.keys&&A3.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function eue(n){return!!QB&&QB in n}var tue=Function.prototype,nue=tue.toString;function Em(n){if(n!=null){try{return nue.call(n)}catch{}try{return n+""}catch{}}return""}var rue=/[\\^$.*+?()[\]{}|]/g,iue=/^\[object .+?Constructor\]$/,aue=Function.prototype,sue=Object.prototype,oue=aue.toString,lue=sue.hasOwnProperty,cue=RegExp("^"+oue.call(lue).replace(rue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uue(n){if(!js(n)||eue(n))return!1;var e=zk(n)?cue:iue;return e.test(Em(n))}function due(n,e){return n==null?void 0:n[e]}function Im(n,e){var t=due(n,e);return uue(t)?t:void 0}var fue=Im(Cc,"WeakMap");const C5=fue;var JB=Object.create,hue=function(){function n(){}return function(e){if(!js(e))return{};if(JB)return JB(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const pue=hue;function mue(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function vue(){}function RK(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var gue=800,yue=16,bue=Date.now;function _ue(n){var e=0,t=0;return function(){var r=bue(),i=yue-(r-t);if(t=r,i>0){if(++e>=gue)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function wue(n){return function(){return n}}var xue=function(){try{var n=Im(Object,"defineProperty");return n({},"",{}),n}catch{}}();const CC=xue;var Sue=CC?function(n,e){return CC(n,"toString",{configurable:!0,enumerable:!1,value:wue(e),writable:!0})}:Fk;const Cue=Sue;var Mue=_ue(Cue);const PK=Mue;function Tue(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}function DK(n,e,t,r){for(var i=n.length,a=t+(r?1:-1);r?a--:++a<i;)if(e(n[a],a,n))return a;return-1}function Aue(n){return n!==n}function Eue(n,e,t){for(var r=t-1,i=n.length;++r<i;)if(n[r]===e)return r;return-1}function Iue(n,e,t){return e===e?Eue(n,e,t):DK(n,Aue,t)}function Rue(n,e){var t=n==null?0:n.length;return!!t&&Iue(n,e,0)>-1}var Pue=9007199254740991,Due=/^(?:0|[1-9]\d*)$/;function _T(n,e){var t=typeof n;return e=e??Pue,!!e&&(t=="number"||t!="symbol"&&Due.test(n))&&n>-1&&n%1==0&&n<e}function Uk(n,e,t){e=="__proto__"&&CC?CC(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function K_(n,e){return n===e||n!==n&&e!==e}var kue=Object.prototype,Lue=kue.hasOwnProperty;function Hk(n,e,t){var r=n[e];(!(Lue.call(n,e)&&K_(r,t))||t===void 0&&!(e in n))&&Uk(n,e,t)}function Kg(n,e,t,r){var i=!t;t||(t={});for(var a=-1,s=e.length;++a<s;){var o=e[a],l=r?r(t[o],n[o],o,t,n):void 0;l===void 0&&(l=n[o]),i?Uk(t,o,l):Hk(t,o,l)}return t}var e7=Math.max;function kK(n,e,t){return e=e7(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,a=e7(r.length-e,0),s=Array(a);++i<a;)s[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=t(s),mue(n,this,o)}}function LK(n,e){return PK(kK(n,e,Fk),n+"")}var Nue=9007199254740991;function Vk(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Nue}function Yg(n){return n!=null&&Vk(n.length)&&!zk(n)}function Oue(n,e,t){if(!js(t))return!1;var r=typeof e;return(r=="number"?Yg(t)&&_T(e,t.length):r=="string"&&e in t)?K_(t[e],n):!1}function Bue(n){return LK(function(e,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,s=i>2?t[2]:void 0;for(a=n.length>3&&typeof a=="function"?(i--,a):void 0,s&&Oue(t[0],t[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var o=t[r];o&&n(e,o,r,a)}return e})}var Fue=Object.prototype;function $k(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||Fue;return n===t}function zue(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var Uue="[object Arguments]";function t7(n){return ou(n)&&Am(n)==Uue}var NK=Object.prototype,Hue=NK.hasOwnProperty,Vue=NK.propertyIsEnumerable,$ue=t7(function(){return arguments}())?t7:function(n){return ou(n)&&Hue.call(n,"callee")&&!Vue.call(n,"callee")};const Ub=$ue;function Gue(){return!1}var OK=typeof zo=="object"&&zo&&!zo.nodeType&&zo,n7=OK&&typeof Uo=="object"&&Uo&&!Uo.nodeType&&Uo,Wue=n7&&n7.exports===OK,r7=Wue?Cc.Buffer:void 0,que=r7?r7.isBuffer:void 0,Kue=que||Gue;const Hb=Kue;var Yue="[object Arguments]",Xue="[object Array]",jue="[object Boolean]",Zue="[object Date]",Que="[object Error]",Jue="[object Function]",ede="[object Map]",tde="[object Number]",nde="[object Object]",rde="[object RegExp]",ide="[object Set]",ade="[object String]",sde="[object WeakMap]",ode="[object ArrayBuffer]",lde="[object DataView]",cde="[object Float32Array]",ude="[object Float64Array]",dde="[object Int8Array]",fde="[object Int16Array]",hde="[object Int32Array]",pde="[object Uint8Array]",mde="[object Uint8ClampedArray]",vde="[object Uint16Array]",gde="[object Uint32Array]",Li={};Li[cde]=Li[ude]=Li[dde]=Li[fde]=Li[hde]=Li[pde]=Li[mde]=Li[vde]=Li[gde]=!0;Li[Yue]=Li[Xue]=Li[ode]=Li[jue]=Li[lde]=Li[Zue]=Li[Que]=Li[Jue]=Li[ede]=Li[tde]=Li[nde]=Li[rde]=Li[ide]=Li[ade]=Li[sde]=!1;function yde(n){return ou(n)&&Vk(n.length)&&!!Li[Am(n)]}function Gk(n){return function(e){return n(e)}}var BK=typeof zo=="object"&&zo&&!zo.nodeType&&zo,K1=BK&&typeof Uo=="object"&&Uo&&!Uo.nodeType&&Uo,bde=K1&&K1.exports===BK,E3=bde&&AK.process,_de=function(){try{var n=K1&&K1.require&&K1.require("util").types;return n||E3&&E3.binding&&E3.binding("util")}catch{}}();const ig=_de;var i7=ig&&ig.isTypedArray,wde=i7?Gk(i7):yde;const Wk=wde;var xde=Object.prototype,Sde=xde.hasOwnProperty;function FK(n,e){var t=Xs(n),r=!t&&Ub(n),i=!t&&!r&&Hb(n),a=!t&&!r&&!i&&Wk(n),s=t||r||i||a,o=s?zue(n.length,String):[],l=o.length;for(var c in n)(e||Sde.call(n,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||_T(c,l)))&&o.push(c);return o}function zK(n,e){return function(t){return n(e(t))}}var Cde=zK(Object.keys,Object);const Mde=Cde;var Tde=Object.prototype,Ade=Tde.hasOwnProperty;function Ede(n){if(!$k(n))return Mde(n);var e=[];for(var t in Object(n))Ade.call(n,t)&&t!="constructor"&&e.push(t);return e}function Y_(n){return Yg(n)?FK(n):Ede(n)}function Ide(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Rde=Object.prototype,Pde=Rde.hasOwnProperty;function Dde(n){if(!js(n))return Ide(n);var e=$k(n),t=[];for(var r in n)r=="constructor"&&(e||!Pde.call(n,r))||t.push(r);return t}function X_(n){return Yg(n)?FK(n,!0):Dde(n)}var kde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lde=/^\w*$/;function qk(n,e){if(Xs(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||bT(n)?!0:Lde.test(n)||!kde.test(n)||e!=null&&n in Object(e)}var Nde=Im(Object,"create");const Vb=Nde;function Ode(){this.__data__=Vb?Vb(null):{},this.size=0}function Bde(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Fde="__lodash_hash_undefined__",zde=Object.prototype,Ude=zde.hasOwnProperty;function Hde(n){var e=this.__data__;if(Vb){var t=e[n];return t===Fde?void 0:t}return Ude.call(e,n)?e[n]:void 0}var Vde=Object.prototype,$de=Vde.hasOwnProperty;function Gde(n){var e=this.__data__;return Vb?e[n]!==void 0:$de.call(e,n)}var Wde="__lodash_hash_undefined__";function qde(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Vb&&e===void 0?Wde:e,this}function am(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}am.prototype.clear=Ode;am.prototype.delete=Bde;am.prototype.get=Hde;am.prototype.has=Gde;am.prototype.set=qde;function Kde(){this.__data__=[],this.size=0}function wT(n,e){for(var t=n.length;t--;)if(K_(n[t][0],e))return t;return-1}var Yde=Array.prototype,Xde=Yde.splice;function jde(n){var e=this.__data__,t=wT(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Xde.call(e,t,1),--this.size,!0}function Zde(n){var e=this.__data__,t=wT(e,n);return t<0?void 0:e[t][1]}function Qde(n){return wT(this.__data__,n)>-1}function Jde(n,e){var t=this.__data__,r=wT(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Ed(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ed.prototype.clear=Kde;Ed.prototype.delete=jde;Ed.prototype.get=Zde;Ed.prototype.has=Qde;Ed.prototype.set=Jde;var efe=Im(Cc,"Map");const $b=efe;function tfe(){this.size=0,this.__data__={hash:new am,map:new($b||Ed),string:new am}}function nfe(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function xT(n,e){var t=n.__data__;return nfe(e)?t[typeof e=="string"?"string":"hash"]:t.map}function rfe(n){var e=xT(this,n).delete(n);return this.size-=e?1:0,e}function ife(n){return xT(this,n).get(n)}function afe(n){return xT(this,n).has(n)}function sfe(n,e){var t=xT(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Id(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Id.prototype.clear=tfe;Id.prototype.delete=rfe;Id.prototype.get=ife;Id.prototype.has=afe;Id.prototype.set=sfe;var ofe="Expected a function";function ST(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(ofe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var s=n.apply(this,r);return t.cache=a.set(i,s)||a,s};return t.cache=new(ST.Cache||Id),t}ST.Cache=Id;var lfe=500;function cfe(n){var e=ST(n,function(r){return t.size===lfe&&t.clear(),r}),t=e.cache;return e}var ufe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dfe=/\\(\\)?/g,ffe=cfe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(ufe,function(t,r,i,a){e.push(i?a.replace(dfe,"$1"):r||t)}),e});const hfe=ffe;function pfe(n){return n==null?"":IK(n)}function Xg(n,e){return Xs(n)?n:qk(n,e)?[n]:hfe(pfe(n))}var mfe=1/0;function jg(n){if(typeof n=="string"||bT(n))return n;var e=n+"";return e=="0"&&1/n==-mfe?"-0":e}function CT(n,e){e=Xg(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[jg(e[t++])];return t&&t==r?n:void 0}function Gi(n,e,t){var r=n==null?void 0:CT(n,e);return r===void 0?t:r}function Kk(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var a7=Pl?Pl.isConcatSpreadable:void 0;function vfe(n){return Xs(n)||Ub(n)||!!(a7&&n&&n[a7])}function j_(n,e,t,r,i){var a=-1,s=n.length;for(t||(t=vfe),i||(i=[]);++a<s;){var o=n[a];e>0&&t(o)?e>1?j_(o,e-1,t,r,i):Kk(i,o):r||(i[i.length]=o)}return i}function UK(n){var e=n==null?0:n.length;return e?j_(n,1):[]}function HK(n){return PK(kK(n,void 0,UK),n+"")}var gfe=zK(Object.getPrototypeOf,Object);const Yk=gfe;var yfe="[object Object]",bfe=Function.prototype,_fe=Object.prototype,VK=bfe.toString,wfe=_fe.hasOwnProperty,xfe=VK.call(Object);function $K(n){if(!ou(n)||Am(n)!=yfe)return!1;var e=Yk(n);if(e===null)return!0;var t=wfe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&VK.call(t)==xfe}function Sfe(n,e,t){var r=-1,i=n.length;e<0&&(e=-e>i?0:i+e),t=t>i?i:t,t<0&&(t+=i),i=e>t?0:t-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=n[r+e];return a}function ws(){if(!arguments.length)return[];var n=arguments[0];return Xs(n)?n:[n]}function Cfe(){this.__data__=new Ed,this.size=0}function Mfe(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Tfe(n){return this.__data__.get(n)}function Afe(n){return this.__data__.has(n)}var Efe=200;function Ife(n,e){var t=this.__data__;if(t instanceof Ed){var r=t.__data__;if(!$b||r.length<Efe-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Id(r)}return t.set(n,e),this.size=t.size,this}function vc(n){var e=this.__data__=new Ed(n);this.size=e.size}vc.prototype.clear=Cfe;vc.prototype.delete=Mfe;vc.prototype.get=Tfe;vc.prototype.has=Afe;vc.prototype.set=Ife;function Rfe(n,e){return n&&Kg(e,Y_(e),n)}function Pfe(n,e){return n&&Kg(e,X_(e),n)}var GK=typeof zo=="object"&&zo&&!zo.nodeType&&zo,s7=GK&&typeof Uo=="object"&&Uo&&!Uo.nodeType&&Uo,Dfe=s7&&s7.exports===GK,o7=Dfe?Cc.Buffer:void 0,l7=o7?o7.allocUnsafe:void 0;function WK(n,e){if(e)return n.slice();var t=n.length,r=l7?l7(t):new n.constructor(t);return n.copy(r),r}function kfe(n,e){for(var t=-1,r=n==null?0:n.length,i=0,a=[];++t<r;){var s=n[t];e(s,t,n)&&(a[i++]=s)}return a}function qK(){return[]}var Lfe=Object.prototype,Nfe=Lfe.propertyIsEnumerable,c7=Object.getOwnPropertySymbols,Ofe=c7?function(n){return n==null?[]:(n=Object(n),kfe(c7(n),function(e){return Nfe.call(n,e)}))}:qK;const Xk=Ofe;function Bfe(n,e){return Kg(n,Xk(n),e)}var Ffe=Object.getOwnPropertySymbols,zfe=Ffe?function(n){for(var e=[];n;)Kk(e,Xk(n)),n=Yk(n);return e}:qK;const KK=zfe;function Ufe(n,e){return Kg(n,KK(n),e)}function YK(n,e,t){var r=e(n);return Xs(n)?r:Kk(r,t(n))}function M5(n){return YK(n,Y_,Xk)}function XK(n){return YK(n,X_,KK)}var Hfe=Im(Cc,"DataView");const T5=Hfe;var Vfe=Im(Cc,"Promise");const A5=Vfe;var $fe=Im(Cc,"Set");const Lv=$fe;var u7="[object Map]",Gfe="[object Object]",d7="[object Promise]",f7="[object Set]",h7="[object WeakMap]",p7="[object DataView]",Wfe=Em(T5),qfe=Em($b),Kfe=Em(A5),Yfe=Em(Lv),Xfe=Em(C5),dp=Am;(T5&&dp(new T5(new ArrayBuffer(1)))!=p7||$b&&dp(new $b)!=u7||A5&&dp(A5.resolve())!=d7||Lv&&dp(new Lv)!=f7||C5&&dp(new C5)!=h7)&&(dp=function(n){var e=Am(n),t=e==Gfe?n.constructor:void 0,r=t?Em(t):"";if(r)switch(r){case Wfe:return p7;case qfe:return u7;case Kfe:return d7;case Yfe:return f7;case Xfe:return h7}return e});const Gb=dp;var jfe=Object.prototype,Zfe=jfe.hasOwnProperty;function Qfe(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&Zfe.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Jfe=Cc.Uint8Array;const MC=Jfe;function jk(n){var e=new n.constructor(n.byteLength);return new MC(e).set(new MC(n)),e}function ehe(n,e){var t=e?jk(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var the=/\w*$/;function nhe(n){var e=new n.constructor(n.source,the.exec(n));return e.lastIndex=n.lastIndex,e}var m7=Pl?Pl.prototype:void 0,v7=m7?m7.valueOf:void 0;function rhe(n){return v7?Object(v7.call(n)):{}}function jK(n,e){var t=e?jk(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var ihe="[object Boolean]",ahe="[object Date]",she="[object Map]",ohe="[object Number]",lhe="[object RegExp]",che="[object Set]",uhe="[object String]",dhe="[object Symbol]",fhe="[object ArrayBuffer]",hhe="[object DataView]",phe="[object Float32Array]",mhe="[object Float64Array]",vhe="[object Int8Array]",ghe="[object Int16Array]",yhe="[object Int32Array]",bhe="[object Uint8Array]",_he="[object Uint8ClampedArray]",whe="[object Uint16Array]",xhe="[object Uint32Array]";function She(n,e,t){var r=n.constructor;switch(e){case fhe:return jk(n);case ihe:case ahe:return new r(+n);case hhe:return ehe(n,t);case phe:case mhe:case vhe:case ghe:case yhe:case bhe:case _he:case whe:case xhe:return jK(n,t);case she:return new r;case ohe:case uhe:return new r(n);case lhe:return nhe(n);case che:return new r;case dhe:return rhe(n)}}function ZK(n){return typeof n.constructor=="function"&&!$k(n)?pue(Yk(n)):{}}var Che="[object Map]";function Mhe(n){return ou(n)&&Gb(n)==Che}var g7=ig&&ig.isMap,The=g7?Gk(g7):Mhe;const Ahe=The;var Ehe="[object Set]";function Ihe(n){return ou(n)&&Gb(n)==Ehe}var y7=ig&&ig.isSet,Rhe=y7?Gk(y7):Ihe;const Phe=Rhe;var Dhe=1,khe=2,Lhe=4,QK="[object Arguments]",Nhe="[object Array]",Ohe="[object Boolean]",Bhe="[object Date]",Fhe="[object Error]",JK="[object Function]",zhe="[object GeneratorFunction]",Uhe="[object Map]",Hhe="[object Number]",eY="[object Object]",Vhe="[object RegExp]",$he="[object Set]",Ghe="[object String]",Whe="[object Symbol]",qhe="[object WeakMap]",Khe="[object ArrayBuffer]",Yhe="[object DataView]",Xhe="[object Float32Array]",jhe="[object Float64Array]",Zhe="[object Int8Array]",Qhe="[object Int16Array]",Jhe="[object Int32Array]",epe="[object Uint8Array]",tpe="[object Uint8ClampedArray]",npe="[object Uint16Array]",rpe="[object Uint32Array]",Ri={};Ri[QK]=Ri[Nhe]=Ri[Khe]=Ri[Yhe]=Ri[Ohe]=Ri[Bhe]=Ri[Xhe]=Ri[jhe]=Ri[Zhe]=Ri[Qhe]=Ri[Jhe]=Ri[Uhe]=Ri[Hhe]=Ri[eY]=Ri[Vhe]=Ri[$he]=Ri[Ghe]=Ri[Whe]=Ri[epe]=Ri[tpe]=Ri[npe]=Ri[rpe]=!0;Ri[Fhe]=Ri[JK]=Ri[qhe]=!1;function Nv(n,e,t,r,i,a){var s,o=e&Dhe,l=e&khe,c=e&Lhe;if(t&&(s=i?t(n,r,i,a):t(n)),s!==void 0)return s;if(!js(n))return n;var u=Xs(n);if(u){if(s=Qfe(n),!o)return RK(n,s)}else{var d=Gb(n),f=d==JK||d==zhe;if(Hb(n))return WK(n,o);if(d==eY||d==QK||f&&!i){if(s=l||f?{}:ZK(n),!o)return l?Ufe(n,Pfe(s,n)):Bfe(n,Rfe(s,n))}else{if(!Ri[d])return i?n:{};s=She(n,d,o)}}a||(a=new vc);var h=a.get(n);if(h)return h;a.set(n,s),Phe(n)?n.forEach(function(v){s.add(Nv(v,e,t,v,n,a))}):Ahe(n)&&n.forEach(function(v,g){s.set(g,Nv(v,e,t,g,n,a))});var p=c?l?XK:M5:l?X_:Y_,m=u?void 0:p(n);return Tue(m||n,function(v,g){m&&(g=v,v=n[g]),Hk(s,g,Nv(v,e,t,g,n,a))}),s}var ipe=4;function b7(n){return Nv(n,ipe)}var ape=1,spe=4;function TC(n){return Nv(n,ape|spe)}var ope="__lodash_hash_undefined__";function lpe(n){return this.__data__.set(n,ope),this}function cpe(n){return this.__data__.has(n)}function Wb(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Id;++e<t;)this.add(n[e])}Wb.prototype.add=Wb.prototype.push=lpe;Wb.prototype.has=cpe;function upe(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function tY(n,e){return n.has(e)}var dpe=1,fpe=2;function nY(n,e,t,r,i,a){var s=t&dpe,o=n.length,l=e.length;if(o!=l&&!(s&&l>o))return!1;var c=a.get(n),u=a.get(e);if(c&&u)return c==e&&u==n;var d=-1,f=!0,h=t&fpe?new Wb:void 0;for(a.set(n,e),a.set(e,n);++d<o;){var p=n[d],m=e[d];if(r)var v=s?r(m,p,d,e,n,a):r(p,m,d,n,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!upe(e,function(g,y){if(!tY(h,y)&&(p===g||i(p,g,t,r,a)))return h.push(y)})){f=!1;break}}else if(!(p===m||i(p,m,t,r,a))){f=!1;break}}return a.delete(n),a.delete(e),f}function hpe(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function Zk(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var ppe=1,mpe=2,vpe="[object Boolean]",gpe="[object Date]",ype="[object Error]",bpe="[object Map]",_pe="[object Number]",wpe="[object RegExp]",xpe="[object Set]",Spe="[object String]",Cpe="[object Symbol]",Mpe="[object ArrayBuffer]",Tpe="[object DataView]",_7=Pl?Pl.prototype:void 0,I3=_7?_7.valueOf:void 0;function Ape(n,e,t,r,i,a,s){switch(t){case Tpe:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case Mpe:return!(n.byteLength!=e.byteLength||!a(new MC(n),new MC(e)));case vpe:case gpe:case _pe:return K_(+n,+e);case ype:return n.name==e.name&&n.message==e.message;case wpe:case Spe:return n==e+"";case bpe:var o=hpe;case xpe:var l=r&ppe;if(o||(o=Zk),n.size!=e.size&&!l)return!1;var c=s.get(n);if(c)return c==e;r|=mpe,s.set(n,e);var u=nY(o(n),o(e),r,i,a,s);return s.delete(n),u;case Cpe:if(I3)return I3.call(n)==I3.call(e)}return!1}var Epe=1,Ipe=Object.prototype,Rpe=Ipe.hasOwnProperty;function Ppe(n,e,t,r,i,a){var s=t&Epe,o=M5(n),l=o.length,c=M5(e),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var f=o[d];if(!(s?f in e:Rpe.call(e,f)))return!1}var h=a.get(n),p=a.get(e);if(h&&p)return h==e&&p==n;var m=!0;a.set(n,e),a.set(e,n);for(var v=s;++d<l;){f=o[d];var g=n[f],y=e[f];if(r)var b=s?r(y,g,f,e,n,a):r(g,y,f,n,e,a);if(!(b===void 0?g===y||i(g,y,t,r,a):b)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var _=n.constructor,x=e.constructor;_!=x&&"constructor"in n&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof x=="function"&&x instanceof x)&&(m=!1)}return a.delete(n),a.delete(e),m}var Dpe=1,w7="[object Arguments]",x7="[object Array]",Ww="[object Object]",kpe=Object.prototype,S7=kpe.hasOwnProperty;function Lpe(n,e,t,r,i,a){var s=Xs(n),o=Xs(e),l=s?x7:Gb(n),c=o?x7:Gb(e);l=l==w7?Ww:l,c=c==w7?Ww:c;var u=l==Ww,d=c==Ww,f=l==c;if(f&&Hb(n)){if(!Hb(e))return!1;s=!0,u=!1}if(f&&!u)return a||(a=new vc),s||Wk(n)?nY(n,e,t,r,i,a):Ape(n,e,l,t,r,i,a);if(!(t&Dpe)){var h=u&&S7.call(n,"__wrapped__"),p=d&&S7.call(e,"__wrapped__");if(h||p){var m=h?n.value():n,v=p?e.value():e;return a||(a=new vc),i(m,v,t,r,a)}}return f?(a||(a=new vc),Ppe(n,e,t,r,i,a)):!1}function MT(n,e,t,r,i){return n===e?!0:n==null||e==null||!ou(n)&&!ou(e)?n!==n&&e!==e:Lpe(n,e,t,r,MT,i)}var Npe=1,Ope=2;function Bpe(n,e,t,r){var i=t.length,a=i,s=!r;if(n==null)return!a;for(n=Object(n);i--;){var o=t[i];if(s&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++i<a;){o=t[i];var l=o[0],c=n[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in n))return!1}else{var d=new vc;if(r)var f=r(c,u,l,n,e,d);if(!(f===void 0?MT(u,c,Npe|Ope,r,d):f))return!1}}return!0}function rY(n){return n===n&&!js(n)}function Fpe(n){for(var e=Y_(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,rY(i)]}return e}function iY(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}function zpe(n){var e=Fpe(n);return e.length==1&&e[0][2]?iY(e[0][0],e[0][1]):function(t){return t===n||Bpe(t,n,e)}}function Upe(n,e){return n!=null&&e in Object(n)}function Hpe(n,e,t){e=Xg(e,n);for(var r=-1,i=e.length,a=!1;++r<i;){var s=jg(e[r]);if(!(a=n!=null&&t(n,s)))break;n=n[s]}return a||++r!=i?a:(i=n==null?0:n.length,!!i&&Vk(i)&&_T(s,i)&&(Xs(n)||Ub(n)))}function aY(n,e){return n!=null&&Hpe(n,e,Upe)}var Vpe=1,$pe=2;function Gpe(n,e){return qk(n)&&rY(e)?iY(jg(n),e):function(t){var r=Gi(t,n);return r===void 0&&r===e?aY(t,n):MT(e,r,Vpe|$pe)}}function Wpe(n){return function(e){return e==null?void 0:e[n]}}function qpe(n){return function(e){return CT(e,n)}}function Kpe(n){return qk(n)?Wpe(jg(n)):qpe(n)}function sY(n){return typeof n=="function"?n:n==null?Fk:typeof n=="object"?Xs(n)?Gpe(n[0],n[1]):zpe(n):Kpe(n)}function Ype(n){return function(e,t,r){for(var i=-1,a=Object(e),s=r(e),o=s.length;o--;){var l=s[n?o:++i];if(t(a[l],l,a)===!1)break}return e}}var Xpe=Ype();const oY=Xpe;function jpe(n,e){return n&&oY(n,e,Y_)}function Zpe(n,e){return function(t,r){if(t==null)return t;if(!Yg(t))return n(t,r);for(var i=t.length,a=e?i:-1,s=Object(t);(e?a--:++a<i)&&r(s[a],a,s)!==!1;);return t}}var Qpe=Zpe(jpe);const Jpe=Qpe;var eme=function(){return Cc.Date.now()};const R3=eme;var tme="Expected a function",nme=Math.max,rme=Math.min;function bo(n,e,t){var r,i,a,s,o,l,c=0,u=!1,d=!1,f=!0;if(typeof n!="function")throw new TypeError(tme);e=S5(e)||0,js(t)&&(u=!!t.leading,d="maxWait"in t,a=d?nme(S5(t.maxWait)||0,e):a,f="trailing"in t?!!t.trailing:f);function h(S){var T=r,C=i;return r=i=void 0,c=S,s=n.apply(C,T),s}function p(S){return c=S,o=setTimeout(g,e),u?h(S):s}function m(S){var T=S-l,C=S-c,M=e-T;return d?rme(M,a-C):M}function v(S){var T=S-l,C=S-c;return l===void 0||T>=e||T<0||d&&C>=a}function g(){var S=R3();if(v(S))return y(S);o=setTimeout(g,m(S))}function y(S){return o=void 0,f&&r?h(S):(r=i=void 0,s)}function b(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function _(){return o===void 0?s:y(R3())}function x(){var S=R3(),T=v(S);if(r=arguments,i=this,l=S,T){if(o===void 0)return p(l);if(d)return clearTimeout(o),o=setTimeout(g,e),h(l)}return o===void 0&&(o=setTimeout(g,e)),s}return x.cancel=b,x.flush=_,x}function E5(n,e,t){(t!==void 0&&!K_(n[e],t)||t===void 0&&!(e in n))&&Uk(n,e,t)}function lY(n){return ou(n)&&Yg(n)}function I5(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function ime(n){return Kg(n,X_(n))}function ame(n,e,t,r,i,a,s){var o=I5(n,t),l=I5(e,t),c=s.get(l);if(c){E5(n,t,c);return}var u=a?a(o,l,t+"",n,e,s):void 0,d=u===void 0;if(d){var f=Xs(l),h=!f&&Hb(l),p=!f&&!h&&Wk(l);u=l,f||h||p?Xs(o)?u=o:lY(o)?u=RK(o):h?(d=!1,u=WK(l,!0)):p?(d=!1,u=jK(l,!0)):u=[]:$K(l)||Ub(l)?(u=o,Ub(o)?u=ime(o):(!js(o)||zk(o))&&(u=ZK(l))):d=!1}d&&(s.set(l,u),i(u,l,r,a,s),s.delete(l)),E5(n,t,u)}function cY(n,e,t,r,i){n!==e&&oY(e,function(a,s){if(i||(i=new vc),js(a))ame(n,e,s,t,cY,r,i);else{var o=r?r(I5(n,s),a,s+"",n,e,i):void 0;o===void 0&&(o=a),E5(n,s,o)}},X_)}function sme(n,e,t){for(var r=-1,i=n==null?0:n.length;++r<i;)if(t(e,n[r]))return!0;return!1}function ome(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var lme=Math.max,cme=Math.min;function uY(n,e,t){var r=n==null?0:n.length;if(!r)return-1;var i=r-1;return t!==void 0&&(i=Yce(t),i=t<0?lme(r+i,0):cme(i,r-1)),DK(n,sY(e),i,!0)}function ume(n,e){var t=-1,r=Yg(n)?Array(n.length):[];return Jpe(n,function(i,a,s){r[++t]=e(i,a,s)}),r}function dme(n,e){var t=Xs(n)?Bk:ume;return t(n,sY(e))}function fme(n,e){return j_(dme(n,e),1)}var hme=1/0;function pme(n){var e=n==null?0:n.length;return e?j_(n,hme):[]}function qb(n){for(var e=-1,t=n==null?0:n.length,r={};++e<t;){var i=n[e];r[i[0]]=i[1]}return r}function mme(n,e){return e.length<2?n:CT(n,Sfe(e,0,-1))}function Ua(n,e){return MT(n,e)}function ga(n){return n==null}function dY(n){return n===void 0}var vme=Bue(function(n,e,t){cY(n,e,t)});const fY=vme;function gme(n,e){return e=Xg(e,n),n=mme(n,e),n==null||delete n[jg(ome(e))]}function yme(n){return $K(n)?void 0:n}var bme=1,_me=2,wme=4,xme=HK(function(n,e){var t={};if(n==null)return t;var r=!1;e=Bk(e,function(a){return a=Xg(a,n),r||(r=a.length>1),a}),Kg(n,XK(n),t),r&&(t=Nv(t,bme|_me|wme,yme));for(var i=e.length;i--;)gme(t,e[i]);return t});const Sme=xme;function hY(n,e,t,r){if(!js(n))return n;e=Xg(e,n);for(var i=-1,a=e.length,s=a-1,o=n;o!=null&&++i<a;){var l=jg(e[i]),c=t;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(i!=s){var u=o[l];c=r?r(u,l,o):void 0,c===void 0&&(c=js(u)?u:_T(e[i+1])?[]:{})}Hk(o,l,c),o=o[l]}return n}function Cme(n,e,t){for(var r=-1,i=e.length,a={};++r<i;){var s=e[r],o=CT(n,s);t(o,s)&&hY(a,Xg(s,n),o)}return a}function Mme(n,e){return Cme(n,e,function(t,r){return aY(n,r)})}var Tme=HK(function(n,e){return n==null?{}:Mme(n,e)});const cc=Tme;function Ame(n,e,t){return n==null?n:hY(n,e,t)}var Eme="Expected a function";function Kp(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(Eme);return js(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),bo(n,e,{leading:r,maxWait:e,trailing:i})}var Ime=1/0,Rme=Lv&&1/Zk(new Lv([,-0]))[1]==Ime?function(n){return new Lv(n)}:vue;const Pme=Rme;var Dme=200;function kme(n,e,t){var r=-1,i=Rue,a=n.length,s=!0,o=[],l=o;if(t)s=!1,i=sme;else if(a>=Dme){var c=e?null:Pme(n);if(c)return Zk(c);s=!1,i=tY,l=new Wb}else l=e?[]:o;e:for(;++r<a;){var u=n[r],d=e?e(u):u;if(u=t||u!==0?u:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,t)||(l!==o&&l.push(d),o.push(u))}return o}var Lme=LK(function(n){return kme(j_(n,1,lY,!0))});const P3=Lme,Tr=n=>n===void 0,Vr=n=>typeof n=="boolean",en=n=>typeof n=="number",Oo=n=>!n&&n!==0||Tt(n)&&n.length===0||Pn(n)&&!Object.keys(n).length,Ho=n=>typeof Element>"u"?!1:n instanceof Element,sm=n=>ga(n),Nme=n=>qt(n)?!Number.isNaN(Number(n)):!1,TT=n=>n===window;var Ome=Object.defineProperty,Bme=Object.defineProperties,Fme=Object.getOwnPropertyDescriptors,C7=Object.getOwnPropertySymbols,zme=Object.prototype.hasOwnProperty,Ume=Object.prototype.propertyIsEnumerable,M7=(n,e,t)=>e in n?Ome(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Hme=(n,e)=>{for(var t in e||(e={}))zme.call(e,t)&&M7(n,t,e[t]);if(C7)for(var t of C7(e))Ume.call(e,t)&&M7(n,t,e[t]);return n},Vme=(n,e)=>Bme(n,Fme(e));function R5(n,e){var t;const r=Ir();return Ea(()=>{r.value=n()},Vme(Hme({},e),{flush:(t=e==null?void 0:e.flush)!=null?t:"sync"})),Wg(r)}var T7;const nr=typeof window<"u",$me=n=>typeof n<"u",P5=n=>typeof n=="function",Gme=n=>typeof n=="string",ag=()=>{},D5=nr&&((T7=window==null?void 0:window.navigator)==null?void 0:T7.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Qf(n){return typeof n=="function"?n():w(n)}function pY(n,e){function t(...r){return new Promise((i,a)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(i).catch(a)})}return t}function Wme(n,e={}){let t,r,i=ag;const a=o=>{clearTimeout(o),i(),i=ag};return o=>{const l=Qf(n),c=Qf(e.maxWait);return t&&a(t),l<=0||c!==void 0&&c<=0?(r&&(a(r),r=null),Promise.resolve(o())):new Promise((u,d)=>{i=e.rejectOnCancel?d:u,c&&!r&&(r=setTimeout(()=>{t&&a(t),r=null,u(o())},c)),t=setTimeout(()=>{r&&a(r),r=null,u(o())},l)})}}function qme(n,e=!0,t=!0,r=!1){let i=0,a,s=!0,o=ag,l;const c=()=>{a&&(clearTimeout(a),a=void 0,o(),o=ag)};return d=>{const f=Qf(n),h=Date.now()-i,p=()=>l=d();return c(),f<=0?(i=Date.now(),p()):(h>f&&(t||!s)?(i=Date.now(),p()):e&&(l=new Promise((m,v)=>{o=r?v:m,a=setTimeout(()=>{i=Date.now(),s=!0,m(p()),c()},Math.max(0,f-h))})),!t&&!a&&(a=setTimeout(()=>s=!0,f)),s=!1,l)}}function Kme(n){return n}function Yme(n,e){let t,r,i;const a=ne(!0),s=()=>{a.value=!0,i()};dt(n,s,{flush:"sync"});const o=P5(e)?e:e.get,l=P5(e)?void 0:e.set,c=Foe((u,d)=>(r=u,i=d,{get(){return a.value&&(t=o(),a.value=!1),r(),t},set(f){l==null||l(f)}}));return Object.isExtensible(c)&&(c.trigger=s),c}function Z_(n){return xq()?(Sq(n),!0):!1}function Xme(n,e=200,t={}){return pY(Wme(e,t),n)}function jme(n,e=200,t={}){const r=ne(n.value),i=Xme(()=>{r.value=n.value},e,t);return dt(n,()=>i()),r}function mY(n,e=200,t=!1,r=!0,i=!1){return pY(qme(e,t,r,i),n)}function Qk(n,e=!0){kn()?pn(n):e?n():Yt(n)}function om(n,e,t={}){const{immediate:r=!0}=t,i=ne(!1);let a=null;function s(){a&&(clearTimeout(a),a=null)}function o(){i.value=!1,s()}function l(...c){s(),i.value=!0,a=setTimeout(()=>{i.value=!1,a=null,n(...c)},Qf(e))}return r&&(i.value=!0,nr&&l()),Z_(o),{isPending:Wg(i),start:l,stop:o}}function Vs(n){var e;const t=Qf(n);return(e=t==null?void 0:t.$el)!=null?e:t}const _h=nr?window:void 0,Zme=nr?window.document:void 0;function Ar(...n){let e,t,r,i;if(Gme(n[0])||Array.isArray(n[0])?([t,r,i]=n,e=_h):[e,t,r,i]=n,!e)return ag;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const a=[],s=()=>{a.forEach(u=>u()),a.length=0},o=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),l=dt(()=>[Vs(e),Qf(i)],([u,d])=>{s(),u&&a.push(...t.flatMap(f=>r.map(h=>o(u,f,h,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};return Z_(c),c}let A7=!1;function Jk(n,e,t={}){const{window:r=_h,ignore:i=[],capture:a=!0,detectIframe:s=!1}=t;if(!r)return;D5&&!A7&&(A7=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",ag)));let o=!0;const l=f=>i.some(h=>{if(typeof h=="string")return Array.from(r.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Vs(h);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Ar(r,"click",f=>{const h=Vs(n);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(o=!l(f)),!o){o=!0;return}e(f)}},{passive:!0,capture:a}),Ar(r,"pointerdown",f=>{const h=Vs(n);h&&(o=!f.composedPath().includes(h)&&!l(f))},{passive:!0}),s&&Ar(r,"blur",f=>{var h;const p=Vs(n);((h=r.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(r.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function Qme(n={}){var e;const{window:t=_h}=n,r=(e=n.document)!=null?e:t==null?void 0:t.document,i=Yme(()=>null,()=>r==null?void 0:r.activeElement);return t&&(Ar(t,"blur",a=>{a.relatedTarget===null&&i.trigger()},!0),Ar(t,"focus",i.trigger,!0)),i}function vY(n,e=!1){const t=ne(),r=()=>t.value=!!n();return r(),Qk(r,e),t}function Jme(n){return JSON.parse(JSON.stringify(n))}const E7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},I7="__vueuse_ssr_handlers__";E7[I7]=E7[I7]||{};function e0e(n,e,{window:t=_h,initialValue:r=""}={}){const i=ne(r),a=U(()=>{var s;return Vs(e)||((s=t==null?void 0:t.document)==null?void 0:s.documentElement)});return dt([a,()=>Qf(n)],([s,o])=>{var l;if(s&&t){const c=(l=t.getComputedStyle(s).getPropertyValue(o))==null?void 0:l.trim();i.value=c||r}},{immediate:!0}),dt(i,s=>{var o;(o=a.value)!=null&&o.style&&a.value.style.setProperty(Qf(n),s)}),i}function t0e({document:n=Zme}={}){if(!n)return ne("visible");const e=ne(n.visibilityState);return Ar(n,"visibilitychange",()=>{e.value=n.visibilityState}),e}var R7=Object.getOwnPropertySymbols,n0e=Object.prototype.hasOwnProperty,r0e=Object.prototype.propertyIsEnumerable,i0e=(n,e)=>{var t={};for(var r in n)n0e.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&R7)for(var r of R7(n))e.indexOf(r)<0&&r0e.call(n,r)&&(t[r]=n[r]);return t};function ui(n,e,t={}){const r=t,{window:i=_h}=r,a=i0e(r,["window"]);let s;const o=vY(()=>i&&"ResizeObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},c=dt(()=>Vs(n),d=>{l(),o.value&&i&&d&&(s=new ResizeObserver(e),s.observe(d,a))},{immediate:!0,flush:"post"}),u=()=>{l(),c()};return Z_(u),{isSupported:o,stop:u}}function P7(n,e={}){const{reset:t=!0,windowResize:r=!0,windowScroll:i=!0,immediate:a=!0}=e,s=ne(0),o=ne(0),l=ne(0),c=ne(0),u=ne(0),d=ne(0),f=ne(0),h=ne(0);function p(){const m=Vs(n);if(!m){t&&(s.value=0,o.value=0,l.value=0,c.value=0,u.value=0,d.value=0,f.value=0,h.value=0);return}const v=m.getBoundingClientRect();s.value=v.height,o.value=v.bottom,l.value=v.left,c.value=v.right,u.value=v.top,d.value=v.width,f.value=v.x,h.value=v.y}return ui(n,p),dt(()=>Vs(n),m=>!m&&p()),i&&Ar("scroll",p,{capture:!0,passive:!0}),r&&Ar("resize",p,{passive:!0}),Qk(()=>{a&&p()}),{height:s,bottom:o,left:l,right:c,top:u,width:d,x:f,y:h,update:p}}var D7=Object.getOwnPropertySymbols,a0e=Object.prototype.hasOwnProperty,s0e=Object.prototype.propertyIsEnumerable,o0e=(n,e)=>{var t={};for(var r in n)a0e.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&D7)for(var r of D7(n))e.indexOf(r)<0&&s0e.call(n,r)&&(t[r]=n[r]);return t};function gY(n,e,t={}){const r=t,{window:i=_h}=r,a=o0e(r,["window"]);let s;const o=vY(()=>i&&"MutationObserver"in i),l=()=>{s&&(s.disconnect(),s=void 0)},c=dt(()=>Vs(n),d=>{l(),o.value&&i&&d&&(s=new MutationObserver(e),s.observe(d,a))},{immediate:!0}),u=()=>{l(),c()};return Z_(u),{isSupported:o,stop:u}}var k7;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(k7||(k7={}));var l0e=Object.defineProperty,L7=Object.getOwnPropertySymbols,c0e=Object.prototype.hasOwnProperty,u0e=Object.prototype.propertyIsEnumerable,N7=(n,e,t)=>e in n?l0e(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,d0e=(n,e)=>{for(var t in e||(e={}))c0e.call(e,t)&&N7(n,t,e[t]);if(L7)for(var t of L7(e))u0e.call(e,t)&&N7(n,t,e[t]);return n};const f0e={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};d0e({linear:Kme},f0e);function yY(n,e,t,r={}){var i,a,s;const{clone:o=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=r,f=kn(),h=t||(f==null?void 0:f.emit)||((i=f==null?void 0:f.$emit)==null?void 0:i.bind(f))||((s=(a=f==null?void 0:f.proxy)==null?void 0:a.$emit)==null?void 0:s.bind(f==null?void 0:f.proxy));let p=c;e||(e="modelValue"),p=c||p||`update:${e.toString()}`;const m=g=>o?P5(o)?o(g):Jme(g):g,v=()=>$me(n[e])?m(n[e]):d;if(l){const g=v(),y=ne(g);return dt(()=>n[e],b=>y.value=m(b)),dt(y,b=>{(b!==n[e]||u)&&h(p,b)},{deep:u}),y}else return U({get(){return v()},set(g){h(p,g)}})}function h0e({window:n=_h}={}){if(!n)return ne(!1);const e=ne(n.document.hasFocus());return Ar(n,"blur",()=>{e.value=!1}),Ar(n,"focus",()=>{e.value=!0}),e}function p0e(n={}){const{window:e=_h,initialWidth:t=1/0,initialHeight:r=1/0,listenOrientation:i=!0,includeScrollbar:a=!0}=n,s=ne(t),o=ne(r),l=()=>{e&&(a?(s.value=e.innerWidth,o.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,o.value=e.document.documentElement.clientHeight))};return l(),Qk(l),Ar("resize",l,{passive:!0}),i&&Ar("orientationchange",l,{passive:!0}),{width:s,height:o}}class m0e extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function fa(n,e){throw new m0e(`[${n}] ${e}`)}const O7={current:0},B7=ne(0),bY=2e3,F7=Symbol("elZIndexContextKey"),_Y=Symbol("zIndexContextKey"),Zg=n=>{const e=kn()?Ot(F7,O7):O7,t=n||(kn()?Ot(_Y,void 0):void 0),r=U(()=>{const s=w(t);return en(s)?s:bY}),i=U(()=>r.value+B7.value),a=()=>(e.current++,B7.value=e.current,i.value);return!nr&&Ot(F7),{initialZIndex:r,currentZIndex:i,nextZIndex:a}};var v0e={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const g0e=n=>(e,t)=>y0e(e,t,w(n)),y0e=(n,e,t)=>Gi(t,n,n).replace(/\{(\w+)\}/g,(r,i)=>{var a;return`${(a=e==null?void 0:e[i])!=null?a:`{${i}}`}`}),b0e=n=>{const e=U(()=>w(n).name),t=Yr(n)?n:ne(n);return{lang:e,locale:t,t:g0e(n)}},wY=Symbol("localeContextKey"),rr=n=>{const e=n||Ot(wY,ne());return b0e(U(()=>e.value||v0e))},xY="__epPropKey",Ke=n=>n,_0e=n=>Pn(n)&&!!n[xY],Mc=(n,e)=>{if(!Pn(n)||_0e(n))return n;const{values:t,required:r,default:i,type:a,validator:s}=n,l={type:a,required:!!r,validator:t||s?c=>{let u=!1,d=[];if(t&&(d=Array.from(t),sr(n,"default")&&d.push(i),u||(u=d.includes(c))),s&&(u||(u=s(c))),!u&&d.length>0){const f=[...new Set(d)].map(h=>JSON.stringify(h)).join(", ");$oe(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${f}], got value ${JSON.stringify(c)}.`)}return u}:void 0,[xY]:!0};return sr(n,"default")&&(l.default=i),l},Rt=n=>qb(Object.entries(n).map(([e,t])=>[e,Mc(t,e)])),bu=["","default","small","large"],ta=Mc({type:String,values:bu,required:!1}),SY=Symbol("size"),CY=()=>{const n=Ot(SY,{});return U(()=>w(n.size)||"")},MY=Symbol("emptyValuesContextKey"),w0e=["",void 0,null],x0e=void 0,Qg=Rt({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:n=>Zt(n)?!n():!n}}),AT=(n,e)=>{const t=kn()?Ot(MY,ne({})):ne({}),r=U(()=>n.emptyValues||t.value.emptyValues||w0e),i=U(()=>Zt(n.valueOnClear)?n.valueOnClear():n.valueOnClear!==void 0?n.valueOnClear:Zt(t.value.valueOnClear)?t.value.valueOnClear():t.value.valueOnClear!==void 0?t.value.valueOnClear:e!==void 0?e:x0e),a=s=>r.value.includes(s);return r.value.includes(i.value),{emptyValues:r,valueOnClear:i,isEmptyValue:a}},sg=n=>Object.keys(n),TY=n=>Object.entries(n),_2=(n,e,t)=>({get value(){return Gi(n,e,t)},set value(r){Ame(n,e,r)}}),AC=ne();function ET(n,e=void 0){const t=kn()?Ot(MK,AC):AC;return n?U(()=>{var r,i;return(i=(r=t.value)==null?void 0:r[n])!=null?i:e}):t}function IT(n,e){const t=ET(),r=bt(n,U(()=>{var o;return((o=t.value)==null?void 0:o.namespace)||q1})),i=rr(U(()=>{var o;return(o=t.value)==null?void 0:o.locale})),a=Zg(U(()=>{var o;return((o=t.value)==null?void 0:o.zIndex)||bY})),s=U(()=>{var o;return w(e)||((o=t.value)==null?void 0:o.size)||""});return eL(U(()=>w(t)||{})),{ns:r,locale:i,zIndex:a,size:s}}const eL=(n,e,t=!1)=>{var r;const i=!!kn(),a=i?ET():void 0,s=(r=e==null?void 0:e.provide)!=null?r:i?$n:void 0;if(!s)return;const o=U(()=>{const l=w(n);return a!=null&&a.value?S0e(a.value,l):l});return s(MK,o),s(wY,U(()=>o.value.locale)),s(TK,U(()=>o.value.namespace)),s(_Y,U(()=>o.value.zIndex)),s(SY,{size:U(()=>o.value.size||"")}),s(MY,U(()=>({emptyValues:o.value.emptyValues,valueOnClear:o.value.valueOnClear}))),(t||!AC.value)&&(AC.value=o.value),o},S0e=(n,e)=>{const t=[...new Set([...sg(n),...sg(e)])],r={};for(const i of t)r[i]=e[i]!==void 0?e[i]:n[i];return r},C0e=(n=[])=>({version:wce,install:(t,r)=>{t[qB]||(t[qB]=!0,n.forEach(i=>t.use(i)),r&&eL(r,t,!0))}}),Tn="update:modelValue",Rr="change",ns="input",M0e=Rt({zIndex:{type:Ke([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),T0e={scroll:({scrollTop:n,fixed:e})=>en(n)&&Vr(e),[Rr]:n=>Vr(n)};var Pt=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t};function A0e(n,e,t,r){const i=t-e;return n/=r/2,n<1?i/2*n*n*n+e:i/2*((n-=2)*n*n+2)+e}const Jf=n=>nr?window.requestAnimationFrame(n):setTimeout(n,16),lm=n=>nr?window.cancelAnimationFrame(n):clearTimeout(n),AY=(n="")=>n.split(" ").filter(e=>!!e.trim()),co=(n,e)=>{if(!n||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return n.classList.contains(e)},yl=(n,e)=>{!n||!e.trim()||n.classList.add(...AY(e))},Ts=(n,e)=>{!n||!e.trim()||n.classList.remove(...AY(e))},td=(n,e)=>{var t;if(!nr||!n||!e)return"";let r=Ko(e);r==="float"&&(r="cssFloat");try{const i=n.style[r];if(i)return i;const a=(t=document.defaultView)==null?void 0:t.getComputedStyle(n,"");return a?a[r]:""}catch{return n.style[r]}},EY=(n,e,t)=>{if(!(!n||!e))if(Pn(e))TY(e).forEach(([r,i])=>EY(n,r,i));else{const r=Ko(e);n.style[r]=t}};function Di(n,e="px"){if(!n)return"";if(en(n)||Nme(n))return`${n}${e}`;if(qt(n))return n}const E0e=(n,e)=>{if(!nr)return!1;const t={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],r=td(n,t);return["scroll","auto","overlay"].some(i=>r.includes(i))},tL=(n,e)=>{if(!nr)return;let t=n;for(;t;){if([window,document,document.documentElement].includes(t))return window;if(E0e(t,e))return t;t=t.parentNode}return t};let qw;const IY=n=>{var e;if(!nr)return 0;if(qw!==void 0)return qw;const t=document.createElement("div");t.className=`${n}-scrollbar__wrap`,t.style.visibility="hidden",t.style.width="100px",t.style.position="absolute",t.style.top="-9999px",document.body.appendChild(t);const r=t.offsetWidth;t.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",t.appendChild(i);const a=i.offsetWidth;return(e=t.parentNode)==null||e.removeChild(t),qw=r-a,qw};function nL(n,e){if(!nr)return;if(!e){n.scrollTop=0;return}const t=[];let r=e.offsetParent;for(;r!==null&&n!==r&&n.contains(r);)t.push(r),r=r.offsetParent;const i=e.offsetTop+t.reduce((l,c)=>l+c.offsetTop,0),a=i+e.offsetHeight,s=n.scrollTop,o=s+n.clientHeight;i<s?n.scrollTop=i:a>o&&(n.scrollTop=a-n.clientHeight)}function I0e(n,e,t,r,i){const a=Date.now();let s;const o=()=>{const c=Date.now()-a,u=A0e(c>r?r:c,e,t,r);TT(n)?n.scrollTo(window.pageXOffset,u):n.scrollTop=u,c<r?s=Jf(o):Zt(i)&&i()};return o(),()=>{s&&lm(s)}}const z7=(n,e)=>TT(e)?n.ownerDocument.documentElement:e,U7=n=>TT(n)?window.scrollY:n.scrollTop,RY="ElAffix",R0e=Re({name:RY}),P0e=Re({...R0e,props:M0e,emits:T0e,setup(n,{expose:e,emit:t}){const r=n,i=bt("affix"),a=Ir(),s=Ir(),o=Ir(),{height:l}=p0e(),{height:c,width:u,top:d,bottom:f,update:h}=P7(s,{windowScroll:!1}),p=P7(a),m=ne(!1),v=ne(0),g=ne(0),y=U(()=>({height:m.value?`${c.value}px`:"",width:m.value?`${u.value}px`:""})),b=U(()=>{if(!m.value)return{};const S=r.offset?Di(r.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:r.position==="top"?S:"",bottom:r.position==="bottom"?S:"",transform:g.value?`translateY(${g.value}px)`:"",zIndex:r.zIndex}}),_=()=>{if(!o.value)return;v.value=o.value instanceof Window?document.documentElement.scrollTop:o.value.scrollTop||0;const{position:S,target:T,offset:C}=r,M=C+c.value;if(S==="top")if(T){const A=p.bottom.value-M;m.value=C>d.value&&p.bottom.value>0,g.value=A<0?A:0}else m.value=C>d.value;else if(T){const A=l.value-p.top.value-M;m.value=l.value-C<f.value&&l.value>p.top.value,g.value=A<0?-A:0}else m.value=l.value-C<f.value},x=()=>{h(),t("scroll",{scrollTop:v.value,fixed:m.value})};return dt(m,S=>t("change",S)),pn(()=>{var S;r.target?(a.value=(S=document.querySelector(r.target))!=null?S:void 0,a.value||fa(RY,`Target does not exist: ${r.target}`)):a.value=document.documentElement,o.value=tL(s.value,!0),h()}),Ar(o,"scroll",x),Ea(_),e({update:_,updateRoot:h}),(S,T)=>(V(),he("div",{ref_key:"root",ref:s,class:Z(w(i).b()),style:Bt(w(y))},[ve("div",{class:Z({[w(i).m("fixed")]:m.value}),style:Bt(w(b))},[Qe(S.$slots,"default")],6)],6))}});var D0e=Pt(P0e,[["__file","affix.vue"]]);const gn=(n,e)=>{if(n.install=t=>{for(const r of[n,...Object.values(e??{})])t.component(r.name,r)},e)for(const[t,r]of Object.entries(e))n[t]=r;return n},PY=(n,e)=>(n.install=t=>{n._context=t._context,t.config.globalProperties[e]=n},n),k0e=(n,e)=>(n.install=t=>{t.directive(e,n)},n),Ti=n=>(n.install=Cr,n),L0e=gn(D0e),N0e=Rt({size:{type:Ke([Number,String])},color:{type:String}}),O0e=Re({name:"ElIcon",inheritAttrs:!1}),B0e=Re({...O0e,props:N0e,setup(n){const e=n,t=bt("icon"),r=U(()=>{const{size:i,color:a}=e;return!i&&!a?{}:{fontSize:Tr(i)?void 0:Di(i),"--color":a}});return(i,a)=>(V(),he("i",Hn({class:w(t).b(),style:w(r)},i.$attrs),[Qe(i.$slots,"default")],16))}});var F0e=Pt(B0e,[["__file","icon.vue"]]);const Vt=gn(F0e);/*! Element Plus Icons Vue v2.3.1 */var z0e=Re({name:"ArrowDown",__name:"arrow-down",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),Rd=z0e,U0e=Re({name:"ArrowLeft",__name:"arrow-left",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),eh=U0e,H0e=Re({name:"ArrowRight",__name:"arrow-right",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),Gs=H0e,V0e=Re({name:"ArrowUp",__name:"arrow-up",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),rL=V0e,$0e=Re({name:"Back",__name:"back",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),ve("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),G0e=$0e,W0e=Re({name:"Calendar",__name:"calendar",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),q0e=W0e,K0e=Re({name:"CaretRight",__name:"caret-right",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),DY=K0e,Y0e=Re({name:"CaretTop",__name:"caret-top",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),X0e=Y0e,j0e=Re({name:"Check",__name:"check",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Q_=j0e,Z0e=Re({name:"CircleCheckFilled",__name:"circle-check-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),Q0e=Z0e,J0e=Re({name:"CircleCheck",__name:"circle-check",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ve("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),iL=J0e,eve=Re({name:"CircleCloseFilled",__name:"circle-close-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),aL=eve,tve=Re({name:"CircleClose",__name:"circle-close",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),Pd=tve,nve=Re({name:"Clock",__name:"clock",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),ve("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),ve("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),kY=nve,rve=Re({name:"Close",__name:"close",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),_c=rve,ive=Re({name:"DArrowLeft",__name:"d-arrow-left",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),th=ive,ave=Re({name:"DArrowRight",__name:"d-arrow-right",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),nh=ave,sve=Re({name:"Delete",__name:"delete",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),ove=sve,lve=Re({name:"Document",__name:"document",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),LY=lve,cve=Re({name:"Files",__name:"files",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M128 384v448h768V384zm-32-64h832a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32m64-128h704v64H160zm96-128h512v64H256z"})]))}}),uve=cve,dve=Re({name:"FullScreen",__name:"full-screen",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),fve=dve,hve=Re({name:"Hide",__name:"hide",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),ve("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),pve=hve,mve=Re({name:"InfoFilled",__name:"info-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),sL=mve,vve=Re({name:"Loading",__name:"loading",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),lu=vve,gve=Re({name:"MagicStick",__name:"magic-stick",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64h64v192h-64zm0 576h64v192h-64zM160 480v-64h192v64zm576 0v-64h192v64zM249.856 199.04l45.248-45.184L430.848 289.6 385.6 334.848 249.856 199.104zM657.152 606.4l45.248-45.248 135.744 135.744-45.248 45.248zM114.048 923.2 68.8 877.952l316.8-316.8 45.248 45.248zM702.4 334.848 657.152 289.6l135.744-135.744 45.248 45.248z"})]))}}),yve=gve,bve=Re({name:"Minus",__name:"minus",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),_ve=bve,wve=Re({name:"MoreFilled",__name:"more-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),H7=wve,xve=Re({name:"More",__name:"more",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),Sve=xve,Cve=Re({name:"PictureFilled",__name:"picture-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),Mve=Cve,Tve=Re({name:"Plus",__name:"plus",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),NY=Tve,Ave=Re({name:"QuestionFilled",__name:"question-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),Eve=Ave,Ive=Re({name:"RefreshLeft",__name:"refresh-left",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),Rve=Ive,Pve=Re({name:"RefreshRight",__name:"refresh-right",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),Dve=Pve,kve=Re({name:"ScaleToOriginal",__name:"scale-to-original",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),Lve=kve,Nve=Re({name:"Search",__name:"search",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),Ove=Nve,Bve=Re({name:"SortDown",__name:"sort-down",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),Fve=Bve,zve=Re({name:"SortUp",__name:"sort-up",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),Uve=zve,Hve=Re({name:"StarFilled",__name:"star-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),Kw=Hve,Vve=Re({name:"Star",__name:"star",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),$ve=Vve,Gve=Re({name:"SuccessFilled",__name:"success-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),oL=Gve,Wve=Re({name:"View",__name:"view",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),qve=Wve,Kve=Re({name:"WarningFilled",__name:"warning-filled",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),RT=Kve,Yve=Re({name:"ZoomIn",__name:"zoom-in",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),OY=Yve,Xve=Re({name:"ZoomOut",__name:"zoom-out",setup(n){return(e,t)=>(V(),he("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[ve("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),jve=Xve;const kr=Ke([String,Object,Function]),lL={Close:_c},cL={Close:_c,SuccessFilled:oL,InfoFilled:sL,WarningFilled:RT,CircleCloseFilled:aL},rh={success:oL,warning:RT,error:aL,info:sL},PT={validating:lu,success:iL,error:Pd},Zve=["light","dark"],Qve=Rt({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:sg(rh),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:Zve,default:"light"}}),Jve={close:n=>n instanceof MouseEvent},ege=Re({name:"ElAlert"}),tge=Re({...ege,props:Qve,emits:Jve,setup(n,{emit:e}){const t=n,{Close:r}=cL,i=na(),a=bt("alert"),s=ne(!0),o=U(()=>rh[t.type]),l=U(()=>!!(t.description||i.default)),c=u=>{s.value=!1,e("close",u)};return(u,d)=>(V(),rt(da,{name:w(a).b("fade"),persisted:""},{default:be(()=>[Cn(ve("div",{class:Z([w(a).b(),w(a).m(u.type),w(a).is("center",u.center),w(a).is(u.effect)]),role:"alert"},[u.showIcon&&w(o)?(V(),rt(w(Vt),{key:0,class:Z([w(a).e("icon"),{[w(a).is("big")]:w(l)}])},{default:be(()=>[(V(),rt(Nn(w(o))))]),_:1},8,["class"])):Je("v-if",!0),ve("div",{class:Z(w(a).e("content"))},[u.title||u.$slots.title?(V(),he("span",{key:0,class:Z([w(a).e("title"),{"with-description":w(l)}])},[Qe(u.$slots,"title",{},()=>[dn(Ct(u.title),1)])],2)):Je("v-if",!0),w(l)?(V(),he("p",{key:1,class:Z(w(a).e("description"))},[Qe(u.$slots,"default",{},()=>[dn(Ct(u.description),1)])],2)):Je("v-if",!0),u.closable?(V(),he(zt,{key:2},[u.closeText?(V(),he("div",{key:0,class:Z([w(a).e("close-btn"),w(a).is("customed")]),onClick:c},Ct(u.closeText),3)):(V(),rt(w(Vt),{key:1,class:Z(w(a).e("close-btn")),onClick:c},{default:be(()=>[ue(w(r))]),_:1},8,["class"]))],64)):Je("v-if",!0)],2)],2),[[fr,s.value]])]),_:3},8,["name"]))}});var nge=Pt(tge,[["__file","alert.vue"]]);const rge=gn(nge),DT=()=>nr&&/firefox/i.test(window.navigator.userAgent);let $l;const ige=`
  height:0 !important;
  visibility:hidden !important;
  ${DT()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,age=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function sge(n){const e=window.getComputedStyle(n),t=e.getPropertyValue("box-sizing"),r=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),i=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:age.map(s=>`${s}:${e.getPropertyValue(s)}`).join(";"),paddingSize:r,borderSize:i,boxSizing:t}}function V7(n,e=1,t){var r;$l||($l=document.createElement("textarea"),document.body.appendChild($l));const{paddingSize:i,borderSize:a,boxSizing:s,contextStyle:o}=sge(n);$l.setAttribute("style",`${o};${ige}`),$l.value=n.value||n.placeholder||"";let l=$l.scrollHeight;const c={};s==="border-box"?l=l+a:s==="content-box"&&(l=l-i),$l.value="";const u=$l.scrollHeight-i;if(en(e)){let d=u*e;s==="border-box"&&(d=d+i+a),l=Math.max(d,l),c.minHeight=`${d}px`}if(en(t)){let d=u*t;s==="border-box"&&(d=d+i+a),l=Math.min(d,l)}return c.height=`${l}px`,(r=$l.parentNode)==null||r.removeChild($l),$l=void 0,c}const Mi=n=>n,oge=Rt({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),$a=n=>cc(oge,n),uL=Rt({id:{type:String,default:void 0},size:ta,disabled:Boolean,modelValue:{type:Ke([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:Ke([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:kr},prefixIcon:{type:kr},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:Ke([Object,Array,String]),default:()=>Mi({})},autofocus:Boolean,rows:{type:Number,default:2},...$a(["ariaLabel"])}),lge={[Tn]:n=>qt(n),input:n=>qt(n),change:n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,mouseleave:n=>n instanceof MouseEvent,mouseenter:n=>n instanceof MouseEvent,keydown:n=>n instanceof Event,compositionstart:n=>n instanceof CompositionEvent,compositionupdate:n=>n instanceof CompositionEvent,compositionend:n=>n instanceof CompositionEvent},cge=["class","style"],uge=/^on[A-Z]/,J_=(n={})=>{const{excludeListeners:e=!1,excludeKeys:t}=n,r=U(()=>((t==null?void 0:t.value)||[]).concat(cge)),i=kn();return U(i?()=>{var a;return qb(Object.entries((a=i.proxy)==null?void 0:a.$attrs).filter(([s])=>!r.value.includes(s)&&!(e&&uge.test(s))))}:()=>({}))},Rm=Symbol("formContextKey"),cu=Symbol("formItemContextKey"),$7={prefix:Math.floor(Math.random()*1e4),current:0},dge=Symbol("elIdInjection"),dL=()=>kn()?Ot(dge,$7):$7,Ha=n=>{const e=dL(),t=Ok();return R5(()=>w(n)||`${t.value}-id-${e.prefix}-${e.current++}`)},ss=()=>{const n=Ot(Rm,void 0),e=Ot(cu,void 0);return{form:n,formItem:e}},Fl=(n,{formItemContext:e,disableIdGeneration:t,disableIdManagement:r})=>{t||(t=ne(!1)),r||(r=ne(!1));const i=ne();let a;const s=U(()=>{var o;return!!(!(n.label||n.ariaLabel)&&e&&e.inputIds&&((o=e.inputIds)==null?void 0:o.length)<=1)});return pn(()=>{a=dt([_r(n,"id"),t],([o,l])=>{const c=o??(l?void 0:Ha().value);c!==i.value&&(e!=null&&e.removeInputId&&(i.value&&e.removeInputId(i.value),!(r!=null&&r.value)&&!l&&c&&e.addInputId(c)),i.value=c)},{immediate:!0})}),yh(()=>{a&&a(),e!=null&&e.removeInputId&&i.value&&e.removeInputId(i.value)}),{isLabeledByFormItem:s,inputId:i}},BY=n=>{const e=kn();return U(()=>{var t,r;return(r=(t=e==null?void 0:e.proxy)==null?void 0:t.$props)==null?void 0:r[n]})},Zi=(n,e={})=>{const t=ne(void 0),r=e.prop?t:BY("size"),i=e.global?t:CY(),a=e.form?{size:void 0}:Ot(Rm,void 0),s=e.formItem?{size:void 0}:Ot(cu,void 0);return U(()=>r.value||w(n)||(s==null?void 0:s.size)||(a==null?void 0:a.size)||i.value||"")},os=n=>{const e=BY("disabled"),t=Ot(Rm,void 0);return U(()=>e.value||w(n)||(t==null?void 0:t.disabled)||!1)};function wh(n,{beforeFocus:e,afterFocus:t,beforeBlur:r,afterBlur:i}={}){const a=kn(),{emit:s}=a,o=Ir(),l=ne(!1),c=f=>{Zt(e)&&e(f)||l.value||(l.value=!0,s("focus",f),t==null||t())},u=f=>{var h;Zt(r)&&r(f)||f.relatedTarget&&((h=o.value)!=null&&h.contains(f.relatedTarget))||(l.value=!1,s("blur",f),i==null||i())},d=()=>{var f,h;(f=o.value)!=null&&f.contains(document.activeElement)&&o.value!==document.activeElement||(h=n.value)==null||h.focus()};return dt(o,f=>{f&&f.setAttribute("tabindex","-1")}),Ar(o,"focus",c,!0),Ar(o,"blur",u,!0),Ar(o,"click",d,!0),{isFocused:l,wrapperRef:o,handleFocus:c,handleBlur:u}}const fge=n=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(n);function ew({afterComposition:n,emit:e}){const t=ne(!1),r=o=>{e==null||e("compositionstart",o),t.value=!0},i=o=>{var l;e==null||e("compositionupdate",o);const c=(l=o.target)==null?void 0:l.value,u=c[c.length-1]||"";t.value=!fge(u)},a=o=>{e==null||e("compositionend",o),t.value&&(t.value=!1,Yt(()=>n(o)))};return{isComposing:t,handleComposition:o=>{o.type==="compositionend"?a(o):i(o)},handleCompositionStart:r,handleCompositionUpdate:i,handleCompositionEnd:a}}function hge(n){let e;function t(){if(n.value==null)return;const{selectionStart:i,selectionEnd:a,value:s}=n.value;if(i==null||a==null)return;const o=s.slice(0,Math.max(0,i)),l=s.slice(Math.max(0,a));e={selectionStart:i,selectionEnd:a,value:s,beforeTxt:o,afterTxt:l}}function r(){if(n.value==null||e==null)return;const{value:i}=n.value,{beforeTxt:a,afterTxt:s,selectionStart:o}=e;if(a==null||s==null||o==null)return;let l=i.length;if(i.endsWith(s))l=i.length-s.length;else if(i.startsWith(a))l=a.length;else{const c=a[o-1],u=i.indexOf(c,o-1);u!==-1&&(l=u+1)}n.value.setSelectionRange(l,l)}return[t,r]}const pge=Re({name:"ElInput",inheritAttrs:!1}),mge=Re({...pge,props:uL,emits:lge,setup(n,{expose:e,emit:t}){const r=n,i=bh(),a=J_(),s=na(),o=U(()=>[r.type==="textarea"?m.b():p.b(),p.m(f.value),p.is("disabled",h.value),p.is("exceed",ee.value),{[p.b("group")]:s.prepend||s.append,[p.m("prefix")]:s.prefix||r.prefixIcon,[p.m("suffix")]:s.suffix||r.suffixIcon||r.clearable||r.showPassword,[p.bm("suffix","password-clear")]:z.value&&O.value,[p.b("hidden")]:r.type==="hidden"},i.class]),l=U(()=>[p.e("wrapper"),p.is("focus",C.value)]),{form:c,formItem:u}=ss(),{inputId:d}=Fl(r,{formItemContext:u}),f=Zi(),h=os(),p=bt("input"),m=bt("textarea"),v=Ir(),g=Ir(),y=ne(!1),b=ne(!1),_=ne(),x=Ir(r.inputStyle),S=U(()=>v.value||g.value),{wrapperRef:T,isFocused:C,handleFocus:M,handleBlur:A}=wh(S,{beforeFocus(){return h.value},afterBlur(){var me;r.validateEvent&&((me=u==null?void 0:u.validate)==null||me.call(u,"blur").catch(Oe=>void 0))}}),I=U(()=>{var me;return(me=c==null?void 0:c.statusIcon)!=null?me:!1}),D=U(()=>(u==null?void 0:u.validateState)||""),L=U(()=>D.value&&PT[D.value]),F=U(()=>b.value?qve:pve),B=U(()=>[i.style]),k=U(()=>[r.inputStyle,x.value,{resize:r.resize}]),H=U(()=>ga(r.modelValue)?"":String(r.modelValue)),z=U(()=>r.clearable&&!h.value&&!r.readonly&&!!H.value&&(C.value||y.value)),O=U(()=>r.showPassword&&!h.value&&!!H.value&&(!!H.value||C.value)),W=U(()=>r.showWordLimit&&!!r.maxlength&&(r.type==="text"||r.type==="textarea")&&!h.value&&!r.readonly&&!r.showPassword),j=U(()=>H.value.length),ee=U(()=>!!W.value&&j.value>Number(r.maxlength)),te=U(()=>!!s.suffix||!!r.suffixIcon||z.value||r.showPassword||W.value||!!D.value&&I.value),[J,Q]=hge(v);ui(g,me=>{if(we(),!W.value||r.resize!=="both")return;const Oe=me[0],{width:qe}=Oe.contentRect;_.value={right:`calc(100% - ${qe+15+6}px)`}});const ie=()=>{const{type:me,autosize:Oe}=r;if(!(!nr||me!=="textarea"||!g.value))if(Oe){const qe=Pn(Oe)?Oe.minRows:void 0,mt=Pn(Oe)?Oe.maxRows:void 0,pt=V7(g.value,qe,mt);x.value={overflowY:"hidden",...pt},Yt(()=>{g.value.offsetHeight,x.value=pt})}else x.value={minHeight:V7(g.value).minHeight}},we=(me=>{let Oe=!1;return()=>{var qe;if(Oe||!r.autosize)return;((qe=g.value)==null?void 0:qe.offsetParent)===null||(me(),Oe=!0)}})(ie),Ae=()=>{const me=S.value,Oe=r.formatter?r.formatter(H.value):H.value;!me||me.value===Oe||(me.value=Oe)},ke=async me=>{J();let{value:Oe}=me.target;if(r.formatter&&(Oe=r.parser?r.parser(Oe):Oe),!q.value){if(Oe===H.value){Ae();return}t(Tn,Oe),t("input",Oe),await Yt(),Ae(),Q()}},Fe=me=>{t("change",me.target.value)},{isComposing:q,handleCompositionStart:ce,handleCompositionUpdate:re,handleCompositionEnd:Ne}=ew({emit:t,afterComposition:ke}),Pe=()=>{J(),b.value=!b.value,setTimeout(Q)},$e=()=>{var me;return(me=S.value)==null?void 0:me.focus()},Ue=()=>{var me;return(me=S.value)==null?void 0:me.blur()},Ve=me=>{y.value=!1,t("mouseleave",me)},je=me=>{y.value=!0,t("mouseenter",me)},fe=me=>{t("keydown",me)},$=()=>{var me;(me=S.value)==null||me.select()},X=()=>{t(Tn,""),t("change",""),t("clear"),t("input","")};return dt(()=>r.modelValue,()=>{var me;Yt(()=>ie()),r.validateEvent&&((me=u==null?void 0:u.validate)==null||me.call(u,"change").catch(Oe=>void 0))}),dt(H,()=>Ae()),dt(()=>r.type,async()=>{await Yt(),Ae(),ie()}),pn(()=>{!r.formatter&&r.parser,Ae(),Yt(ie)}),e({input:v,textarea:g,ref:S,textareaStyle:k,autosize:_r(r,"autosize"),isComposing:q,focus:$e,blur:Ue,select:$,clear:X,resizeTextarea:ie}),(me,Oe)=>(V(),he("div",{class:Z([w(o),{[w(p).bm("group","append")]:me.$slots.append,[w(p).bm("group","prepend")]:me.$slots.prepend}]),style:Bt(w(B)),onMouseenter:je,onMouseleave:Ve},[Je(" input "),me.type!=="textarea"?(V(),he(zt,{key:0},[Je(" prepend slot "),me.$slots.prepend?(V(),he("div",{key:0,class:Z(w(p).be("group","prepend"))},[Qe(me.$slots,"prepend")],2)):Je("v-if",!0),ve("div",{ref_key:"wrapperRef",ref:T,class:Z(w(l))},[Je(" prefix slot "),me.$slots.prefix||me.prefixIcon?(V(),he("span",{key:0,class:Z(w(p).e("prefix"))},[ve("span",{class:Z(w(p).e("prefix-inner"))},[Qe(me.$slots,"prefix"),me.prefixIcon?(V(),rt(w(Vt),{key:0,class:Z(w(p).e("icon"))},{default:be(()=>[(V(),rt(Nn(me.prefixIcon)))]),_:1},8,["class"])):Je("v-if",!0)],2)],2)):Je("v-if",!0),ve("input",Hn({id:w(d),ref_key:"input",ref:v,class:w(p).e("inner")},w(a),{minlength:me.minlength,maxlength:me.maxlength,type:me.showPassword?b.value?"text":"password":me.type,disabled:w(h),readonly:me.readonly,autocomplete:me.autocomplete,tabindex:me.tabindex,"aria-label":me.ariaLabel,placeholder:me.placeholder,style:me.inputStyle,form:me.form,autofocus:me.autofocus,role:me.containerRole,onCompositionstart:w(ce),onCompositionupdate:w(re),onCompositionend:w(Ne),onInput:ke,onChange:Fe,onKeydown:fe}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Je(" suffix slot "),w(te)?(V(),he("span",{key:1,class:Z(w(p).e("suffix"))},[ve("span",{class:Z(w(p).e("suffix-inner"))},[!w(z)||!w(O)||!w(W)?(V(),he(zt,{key:0},[Qe(me.$slots,"suffix"),me.suffixIcon?(V(),rt(w(Vt),{key:0,class:Z(w(p).e("icon"))},{default:be(()=>[(V(),rt(Nn(me.suffixIcon)))]),_:1},8,["class"])):Je("v-if",!0)],64)):Je("v-if",!0),w(z)?(V(),rt(w(Vt),{key:1,class:Z([w(p).e("icon"),w(p).e("clear")]),onMousedown:sn(w(Cr),["prevent"]),onClick:X},{default:be(()=>[ue(w(Pd))]),_:1},8,["class","onMousedown"])):Je("v-if",!0),w(O)?(V(),rt(w(Vt),{key:2,class:Z([w(p).e("icon"),w(p).e("password")]),onClick:Pe},{default:be(()=>[(V(),rt(Nn(w(F))))]),_:1},8,["class"])):Je("v-if",!0),w(W)?(V(),he("span",{key:3,class:Z(w(p).e("count"))},[ve("span",{class:Z(w(p).e("count-inner"))},Ct(w(j))+" / "+Ct(me.maxlength),3)],2)):Je("v-if",!0),w(D)&&w(L)&&w(I)?(V(),rt(w(Vt),{key:4,class:Z([w(p).e("icon"),w(p).e("validateIcon"),w(p).is("loading",w(D)==="validating")])},{default:be(()=>[(V(),rt(Nn(w(L))))]),_:1},8,["class"])):Je("v-if",!0)],2)],2)):Je("v-if",!0)],2),Je(" append slot "),me.$slots.append?(V(),he("div",{key:1,class:Z(w(p).be("group","append"))},[Qe(me.$slots,"append")],2)):Je("v-if",!0)],64)):(V(),he(zt,{key:1},[Je(" textarea "),ve("textarea",Hn({id:w(d),ref_key:"textarea",ref:g,class:[w(m).e("inner"),w(p).is("focus",w(C))]},w(a),{minlength:me.minlength,maxlength:me.maxlength,tabindex:me.tabindex,disabled:w(h),readonly:me.readonly,autocomplete:me.autocomplete,style:w(k),"aria-label":me.ariaLabel,placeholder:me.placeholder,form:me.form,autofocus:me.autofocus,rows:me.rows,role:me.containerRole,onCompositionstart:w(ce),onCompositionupdate:w(re),onCompositionend:w(Ne),onInput:ke,onFocus:w(M),onBlur:w(A),onChange:Fe,onKeydown:fe}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),w(W)?(V(),he("span",{key:0,style:Bt(_.value),class:Z(w(p).e("count"))},Ct(w(j))+" / "+Ct(me.maxlength),7)):Je("v-if",!0)],64))],38))}});var vge=Pt(mge,[["__file","input.vue"]]);const Cs=gn(vge),Ym=4,FY={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},gge=({move:n,size:e,bar:t})=>({[t.size]:e,transform:`translate${t.axis}(${n}%)`}),fL=Symbol("scrollbarContextKey"),yge=Rt({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),bge="Thumb",_ge=Re({__name:"thumb",props:yge,setup(n){const e=n,t=Ot(fL),r=bt("scrollbar");t||fa(bge,"can not inject scrollbar context");const i=ne(),a=ne(),s=ne({}),o=ne(!1);let l=!1,c=!1,u=nr?document.onselectstart:null;const d=U(()=>FY[e.vertical?"vertical":"horizontal"]),f=U(()=>gge({size:e.size,move:e.move,bar:d.value})),h=U(()=>i.value[d.value.offset]**2/t.wrapElement[d.value.scrollSize]/e.ratio/a.value[d.value.offset]),p=S=>{var T;if(S.stopPropagation(),S.ctrlKey||[1,2].includes(S.button))return;(T=window.getSelection())==null||T.removeAllRanges(),v(S);const C=S.currentTarget;C&&(s.value[d.value.axis]=C[d.value.offset]-(S[d.value.client]-C.getBoundingClientRect()[d.value.direction]))},m=S=>{if(!a.value||!i.value||!t.wrapElement)return;const T=Math.abs(S.target.getBoundingClientRect()[d.value.direction]-S[d.value.client]),C=a.value[d.value.offset]/2,M=(T-C)*100*h.value/i.value[d.value.offset];t.wrapElement[d.value.scroll]=M*t.wrapElement[d.value.scrollSize]/100},v=S=>{S.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),u=document.onselectstart,document.onselectstart=()=>!1},g=S=>{if(!i.value||!a.value||l===!1)return;const T=s.value[d.value.axis];if(!T)return;const C=(i.value.getBoundingClientRect()[d.value.direction]-S[d.value.client])*-1,M=a.value[d.value.offset]-T,A=(C-M)*100*h.value/i.value[d.value.offset];t.wrapElement[d.value.scroll]=A*t.wrapElement[d.value.scrollSize]/100},y=()=>{l=!1,s.value[d.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),x(),c&&(o.value=!1)},b=()=>{c=!1,o.value=!!e.size},_=()=>{c=!0,o.value=l};yr(()=>{x(),document.removeEventListener("mouseup",y)});const x=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return Ar(_r(t,"scrollbarElement"),"mousemove",b),Ar(_r(t,"scrollbarElement"),"mouseleave",_),(S,T)=>(V(),rt(da,{name:w(r).b("fade"),persisted:""},{default:be(()=>[Cn(ve("div",{ref_key:"instance",ref:i,class:Z([w(r).e("bar"),w(r).is(w(d).key)]),onMousedown:m},[ve("div",{ref_key:"thumb",ref:a,class:Z(w(r).e("thumb")),style:Bt(w(f)),onMousedown:p},null,38)],34),[[fr,S.always||o.value]])]),_:1},8,["name"]))}});var G7=Pt(_ge,[["__file","thumb.vue"]]);const wge=Rt({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),xge=Re({__name:"bar",props:wge,setup(n,{expose:e}){const t=n,r=Ot(fL),i=ne(0),a=ne(0),s=ne(""),o=ne(""),l=ne(1),c=ne(1);return e({handleScroll:f=>{if(f){const h=f.offsetHeight-Ym,p=f.offsetWidth-Ym;a.value=f.scrollTop*100/h*l.value,i.value=f.scrollLeft*100/p*c.value}},update:()=>{const f=r==null?void 0:r.wrapElement;if(!f)return;const h=f.offsetHeight-Ym,p=f.offsetWidth-Ym,m=h**2/f.scrollHeight,v=p**2/f.scrollWidth,g=Math.max(m,t.minSize),y=Math.max(v,t.minSize);l.value=m/(h-m)/(g/(h-g)),c.value=v/(p-v)/(y/(p-y)),o.value=g+Ym<h?`${g}px`:"",s.value=y+Ym<p?`${y}px`:""}}),(f,h)=>(V(),he(zt,null,[ue(G7,{move:i.value,ratio:c.value,size:s.value,always:f.always},null,8,["move","ratio","size","always"]),ue(G7,{move:a.value,ratio:l.value,size:o.value,vertical:"",always:f.always},null,8,["move","ratio","size","always"])],64))}});var Sge=Pt(xge,[["__file","bar.vue"]]);const Cge=Rt({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:Ke([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...$a(["ariaLabel","ariaOrientation"])}),Mge={scroll:({scrollTop:n,scrollLeft:e})=>[n,e].every(en)},Tge="ElScrollbar",Age=Re({name:Tge}),Ege=Re({...Age,props:Cge,emits:Mge,setup(n,{expose:e,emit:t}){const r=n,i=bt("scrollbar");let a,s,o=0,l=0;const c=ne(),u=ne(),d=ne(),f=ne(),h=U(()=>{const x={};return r.height&&(x.height=Di(r.height)),r.maxHeight&&(x.maxHeight=Di(r.maxHeight)),[r.wrapStyle,x]}),p=U(()=>[r.wrapClass,i.e("wrap"),{[i.em("wrap","hidden-default")]:!r.native}]),m=U(()=>[i.e("view"),r.viewClass]),v=()=>{var x;u.value&&((x=f.value)==null||x.handleScroll(u.value),o=u.value.scrollTop,l=u.value.scrollLeft,t("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};function g(x,S){Pn(x)?u.value.scrollTo(x):en(x)&&en(S)&&u.value.scrollTo(x,S)}const y=x=>{en(x)&&(u.value.scrollTop=x)},b=x=>{en(x)&&(u.value.scrollLeft=x)},_=()=>{var x;(x=f.value)==null||x.update()};return dt(()=>r.noresize,x=>{x?(a==null||a(),s==null||s()):({stop:a}=ui(d,_),s=Ar("resize",_))},{immediate:!0}),dt(()=>[r.maxHeight,r.height],()=>{r.native||Yt(()=>{var x;_(),u.value&&((x=f.value)==null||x.handleScroll(u.value))})}),$n(fL,mr({scrollbarElement:c,wrapElement:u})),Ak(()=>{u.value&&(u.value.scrollTop=o,u.value.scrollLeft=l)}),pn(()=>{r.native||Yt(()=>{_()})}),Bl(()=>_()),e({wrapRef:u,update:_,scrollTo:g,setScrollTop:y,setScrollLeft:b,handleScroll:v}),(x,S)=>(V(),he("div",{ref_key:"scrollbarRef",ref:c,class:Z(w(i).b())},[ve("div",{ref_key:"wrapRef",ref:u,class:Z(w(p)),style:Bt(w(h)),tabindex:x.tabindex,onScroll:v},[(V(),rt(Nn(x.tag),{id:x.id,ref_key:"resizeRef",ref:d,class:Z(w(m)),style:Bt(x.viewStyle),role:x.role,"aria-label":x.ariaLabel,"aria-orientation":x.ariaOrientation},{default:be(()=>[Qe(x.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),x.native?Je("v-if",!0):(V(),rt(Sge,{key:0,ref_key:"barRef",ref:f,always:x.always,"min-size":x.minSize},null,8,["always","min-size"]))],2))}});var Ige=Pt(Ege,[["__file","scrollbar.vue"]]);const _u=gn(Ige),hL=Symbol("popper"),zY=Symbol("popperContent"),Rge=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],UY=Rt({role:{type:String,values:Rge,default:"tooltip"}}),Pge=Re({name:"ElPopper",inheritAttrs:!1}),Dge=Re({...Pge,props:UY,setup(n,{expose:e}){const t=n,r=ne(),i=ne(),a=ne(),s=ne(),o=U(()=>t.role),l={triggerRef:r,popperInstanceRef:i,contentRef:a,referenceRef:s,role:o};return e(l),$n(hL,l),(c,u)=>Qe(c.$slots,"default")}});var kge=Pt(Dge,[["__file","popper.vue"]]);const HY=Rt({arrowOffset:{type:Number,default:5}}),Lge=Re({name:"ElPopperArrow",inheritAttrs:!1}),Nge=Re({...Lge,props:HY,setup(n,{expose:e}){const t=n,r=bt("popper"),{arrowOffset:i,arrowRef:a,arrowStyle:s}=Ot(zY,void 0);return dt(()=>t.arrowOffset,o=>{i.value=o}),yr(()=>{a.value=void 0}),e({arrowRef:a}),(o,l)=>(V(),he("span",{ref_key:"arrowRef",ref:a,class:Z(w(r).e("arrow")),style:Bt(w(s)),"data-popper-arrow":""},null,6))}});var Oge=Pt(Nge,[["__file","arrow.vue"]]);const VY=Rt({virtualRef:{type:Ke(Object)},virtualTriggering:Boolean,onMouseenter:{type:Ke(Function)},onMouseleave:{type:Ke(Function)},onClick:{type:Ke(Function)},onKeydown:{type:Ke(Function)},onFocus:{type:Ke(Function)},onBlur:{type:Ke(Function)},onContextmenu:{type:Ke(Function)},id:String,open:Boolean}),$Y=Symbol("elForwardRef"),Bge=n=>{$n($Y,{setForwardRef:t=>{n.value=t}})},Fge=n=>({mounted(e){n(e)},updated(e){n(e)},unmounted(){n(null)}}),zge='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Uge=n=>getComputedStyle(n).position==="fixed"?!1:n.offsetParent!==null,W7=n=>Array.from(n.querySelectorAll(zge)).filter(e=>k5(e)&&Uge(e)),k5=n=>{if(n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null)return!0;if(n.tabIndex<0||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true")return!1;switch(n.nodeName){case"A":return!!n.href&&n.rel!=="ignore";case"INPUT":return!(n.type==="hidden"||n.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},w2=function(n,e,...t){let r;e.includes("mouse")||e.includes("click")?r="MouseEvents":e.includes("key")?r="KeyboardEvent":r="HTMLEvents";const i=document.createEvent(r);return i.initEvent(e,...t),n.dispatchEvent(i),n},GY=n=>!n.getAttribute("aria-owns"),WY=(n,e,t)=>{const{parentNode:r}=n;if(!r)return null;const i=r.querySelectorAll(t),a=Array.prototype.indexOf.call(i,n);return i[a+e]||null},x2=n=>{n&&(n.focus(),!GY(n)&&n.click())},Hge="ElOnlyChild",qY=Re({name:Hge,setup(n,{slots:e,attrs:t}){var r;const i=Ot($Y),a=Fge((r=i==null?void 0:i.setForwardRef)!=null?r:Cr);return()=>{var s;const o=(s=e.default)==null?void 0:s.call(e,t);if(!o||o.length>1)return null;const l=KY(o);return l?Cn(md(l,t),[[a]]):null}}});function KY(n){if(!n)return null;const e=n;for(const t of e){if(Pn(t))switch(t.type){case Ms:continue;case qg:case"svg":return q7(t);case zt:return KY(t.children);default:return t}return q7(t)}return null}function q7(n){const e=bt("only-child");return ue("span",{class:e.e("content")},[n])}const Vge=Re({name:"ElPopperTrigger",inheritAttrs:!1}),$ge=Re({...Vge,props:VY,setup(n,{expose:e}){const t=n,{role:r,triggerRef:i}=Ot(hL,void 0);Bge(i);const a=U(()=>o.value?t.id:void 0),s=U(()=>{if(r&&r.value==="tooltip")return t.open&&t.id?t.id:void 0}),o=U(()=>{if(r&&r.value!=="tooltip")return r.value}),l=U(()=>o.value?`${t.open}`:void 0);let c;const u=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return pn(()=>{dt(()=>t.virtualRef,d=>{d&&(i.value=Vs(d))},{immediate:!0}),dt(i,(d,f)=>{c==null||c(),c=void 0,Ho(d)&&(u.forEach(h=>{var p;const m=t[h];m&&(d.addEventListener(h.slice(2).toLowerCase(),m),(p=f==null?void 0:f.removeEventListener)==null||p.call(f,h.slice(2).toLowerCase(),m))}),k5(d)&&(c=dt([a,s,o,l],h=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((p,m)=>{ga(h[m])?d.removeAttribute(p):d.setAttribute(p,h[m])})},{immediate:!0}))),Ho(f)&&k5(f)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(h=>f.removeAttribute(h))},{immediate:!0})}),yr(()=>{if(c==null||c(),c=void 0,i.value&&Ho(i.value)){const d=i.value;u.forEach(f=>{const h=t[f];h&&d.removeEventListener(f.slice(2).toLowerCase(),h)}),i.value=void 0}}),e({triggerRef:i}),(d,f)=>d.virtualTriggering?Je("v-if",!0):(V(),rt(w(qY),Hn({key:0},d.$attrs,{"aria-controls":w(a),"aria-describedby":w(s),"aria-expanded":w(l),"aria-haspopup":w(o)}),{default:be(()=>[Qe(d.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var Gge=Pt($ge,[["__file","trigger.vue"]]);const D3="focus-trap.focus-after-trapped",k3="focus-trap.focus-after-released",Wge="focus-trap.focusout-prevented",K7={cancelable:!0,bubbles:!1},qge={cancelable:!0,bubbles:!1},Y7="focusAfterTrapped",X7="focusAfterReleased",pL=Symbol("elFocusTrap"),mL=ne(),kT=ne(0),vL=ne(0);let Yw=0;const YY=n=>{const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0||r===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e},j7=(n,e)=>{for(const t of n)if(!Kge(t,e))return t},Kge=(n,e)=>{if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1},Yge=n=>{const e=YY(n),t=j7(e,n),r=j7(e.reverse(),n);return[t,r]},Xge=n=>n instanceof HTMLInputElement&&"select"in n,gf=(n,e)=>{if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),vL.value=window.performance.now(),n!==t&&Xge(n)&&e&&n.select()}};function Z7(n,e){const t=[...n],r=n.indexOf(e);return r!==-1&&t.splice(r,1),t}const jge=()=>{let n=[];return{push:r=>{const i=n[0];i&&r!==i&&i.pause(),n=Z7(n,r),n.unshift(r)},remove:r=>{var i,a;n=Z7(n,r),(a=(i=n[0])==null?void 0:i.resume)==null||a.call(i)}}},Zge=(n,e=!1)=>{const t=document.activeElement;for(const r of n)if(gf(r,e),document.activeElement!==t)return},Q7=jge(),Qge=()=>kT.value>vL.value,Xw=()=>{mL.value="pointer",kT.value=window.performance.now()},J7=()=>{mL.value="keyboard",kT.value=window.performance.now()},Jge=()=>(pn(()=>{Yw===0&&(document.addEventListener("mousedown",Xw),document.addEventListener("touchstart",Xw),document.addEventListener("keydown",J7)),Yw++}),yr(()=>{Yw--,Yw<=0&&(document.removeEventListener("mousedown",Xw),document.removeEventListener("touchstart",Xw),document.removeEventListener("keydown",J7))}),{focusReason:mL,lastUserFocusTimestamp:kT,lastAutomatedFocusTimestamp:vL}),jw=n=>new CustomEvent(Wge,{...qge,detail:n}),Nt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let nv=[];const eF=n=>{n.code===Nt.esc&&nv.forEach(e=>e(n))},eye=n=>{pn(()=>{nv.length===0&&document.addEventListener("keydown",eF),nr&&nv.push(n)}),yr(()=>{nv=nv.filter(e=>e!==n),nv.length===0&&nr&&document.removeEventListener("keydown",eF)})},tye=Re({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Y7,X7,"focusin","focusout","focusout-prevented","release-requested"],setup(n,{emit:e}){const t=ne();let r,i;const{focusReason:a}=Jge();eye(p=>{n.trapped&&!s.paused&&e("release-requested",p)});const s={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},o=p=>{if(!n.loop&&!n.trapped||s.paused)return;const{code:m,altKey:v,ctrlKey:g,metaKey:y,currentTarget:b,shiftKey:_}=p,{loop:x}=n,S=m===Nt.tab&&!v&&!g&&!y,T=document.activeElement;if(S&&T){const C=b,[M,A]=Yge(C);if(M&&A){if(!_&&T===A){const D=jw({focusReason:a.value});e("focusout-prevented",D),D.defaultPrevented||(p.preventDefault(),x&&gf(M,!0))}else if(_&&[M,C].includes(T)){const D=jw({focusReason:a.value});e("focusout-prevented",D),D.defaultPrevented||(p.preventDefault(),x&&gf(A,!0))}}else if(T===C){const D=jw({focusReason:a.value});e("focusout-prevented",D),D.defaultPrevented||p.preventDefault()}}};$n(pL,{focusTrapRef:t,onKeydown:o}),dt(()=>n.focusTrapEl,p=>{p&&(t.value=p)},{immediate:!0}),dt([t],([p],[m])=>{p&&(p.addEventListener("keydown",o),p.addEventListener("focusin",u),p.addEventListener("focusout",d)),m&&(m.removeEventListener("keydown",o),m.removeEventListener("focusin",u),m.removeEventListener("focusout",d))});const l=p=>{e(Y7,p)},c=p=>e(X7,p),u=p=>{const m=w(t);if(!m)return;const v=p.target,g=p.relatedTarget,y=v&&m.contains(v);n.trapped||g&&m.contains(g)||(r=g),y&&e("focusin",p),!s.paused&&n.trapped&&(y?i=v:gf(i,!0))},d=p=>{const m=w(t);if(!(s.paused||!m))if(n.trapped){const v=p.relatedTarget;!ga(v)&&!m.contains(v)&&setTimeout(()=>{if(!s.paused&&n.trapped){const g=jw({focusReason:a.value});e("focusout-prevented",g),g.defaultPrevented||gf(i,!0)}},0)}else{const v=p.target;v&&m.contains(v)||e("focusout",p)}};async function f(){await Yt();const p=w(t);if(p){Q7.push(s);const m=p.contains(document.activeElement)?r:document.activeElement;if(r=m,!p.contains(m)){const g=new Event(D3,K7);p.addEventListener(D3,l),p.dispatchEvent(g),g.defaultPrevented||Yt(()=>{let y=n.focusStartEl;qt(y)||(gf(y),document.activeElement!==y&&(y="first")),y==="first"&&Zge(YY(p),!0),(document.activeElement===m||y==="container")&&gf(p)})}}}function h(){const p=w(t);if(p){p.removeEventListener(D3,l);const m=new CustomEvent(k3,{...K7,detail:{focusReason:a.value}});p.addEventListener(k3,c),p.dispatchEvent(m),!m.defaultPrevented&&(a.value=="keyboard"||!Qge()||p.contains(document.activeElement))&&gf(r??document.body),p.removeEventListener(k3,c),Q7.remove(s)}}return pn(()=>{n.trapped&&f(),dt(()=>n.trapped,p=>{p?f():h()})}),yr(()=>{n.trapped&&h(),t.value&&(t.value.removeEventListener("keydown",o),t.value.removeEventListener("focusin",u),t.value.removeEventListener("focusout",d),t.value=void 0)}),{onKeydown:o}}});function nye(n,e,t,r,i,a){return Qe(n.$slots,"default",{handleKeydown:n.onKeydown})}var Jg=Pt(tye,[["render",nye],["__file","focus-trap.vue"]]),ho="top",Dl="bottom",kl="right",po="left",gL="auto",tw=[ho,Dl,kl,po],og="start",Kb="end",rye="clippingParents",XY="viewport",Ny="popper",iye="reference",tF=tw.reduce(function(n,e){return n.concat([e+"-"+og,e+"-"+Kb])},[]),Dd=[].concat(tw,[gL]).reduce(function(n,e){return n.concat([e,e+"-"+og,e+"-"+Kb])},[]),aye="beforeRead",sye="read",oye="afterRead",lye="beforeMain",cye="main",uye="afterMain",dye="beforeWrite",fye="write",hye="afterWrite",pye=[aye,sye,oye,lye,cye,uye,dye,fye,hye];function uu(n){return n?(n.nodeName||"").toLowerCase():null}function Tc(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function lg(n){var e=Tc(n).Element;return n instanceof e||n instanceof Element}function Cl(n){var e=Tc(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function yL(n){if(typeof ShadowRoot>"u")return!1;var e=Tc(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function mye(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},a=e.elements[t];!Cl(a)||!uu(a)||(Object.assign(a.style,r),Object.keys(i).forEach(function(s){var o=i[s];o===!1?a.removeAttribute(s):a.setAttribute(s,o===!0?"":o)}))})}function vye(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],a=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),o=s.reduce(function(l,c){return l[c]="",l},{});!Cl(i)||!uu(i)||(Object.assign(i.style,o),Object.keys(a).forEach(function(l){i.removeAttribute(l)}))})}}var jY={name:"applyStyles",enabled:!0,phase:"write",fn:mye,effect:vye,requires:["computeStyles"]};function ru(n){return n.split("-")[0]}var Yp=Math.max,EC=Math.min,cg=Math.round;function ug(n,e){e===void 0&&(e=!1);var t=n.getBoundingClientRect(),r=1,i=1;if(Cl(n)&&e){var a=n.offsetHeight,s=n.offsetWidth;s>0&&(r=cg(t.width)/s||1),a>0&&(i=cg(t.height)/a||1)}return{width:t.width/r,height:t.height/i,top:t.top/i,right:t.right/r,bottom:t.bottom/i,left:t.left/r,x:t.left/r,y:t.top/i}}function bL(n){var e=ug(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function ZY(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&yL(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function vd(n){return Tc(n).getComputedStyle(n)}function gye(n){return["table","td","th"].indexOf(uu(n))>=0}function xh(n){return((lg(n)?n.ownerDocument:n.document)||window.document).documentElement}function LT(n){return uu(n)==="html"?n:n.assignedSlot||n.parentNode||(yL(n)?n.host:null)||xh(n)}function nF(n){return!Cl(n)||vd(n).position==="fixed"?null:n.offsetParent}function yye(n){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,t=navigator.userAgent.indexOf("Trident")!==-1;if(t&&Cl(n)){var r=vd(n);if(r.position==="fixed")return null}var i=LT(n);for(yL(i)&&(i=i.host);Cl(i)&&["html","body"].indexOf(uu(i))<0;){var a=vd(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function nw(n){for(var e=Tc(n),t=nF(n);t&&gye(t)&&vd(t).position==="static";)t=nF(t);return t&&(uu(t)==="html"||uu(t)==="body"&&vd(t).position==="static")?e:t||yye(n)||e}function _L(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Y1(n,e,t){return Yp(n,EC(e,t))}function bye(n,e,t){var r=Y1(n,e,t);return r>t?t:r}function QY(){return{top:0,right:0,bottom:0,left:0}}function JY(n){return Object.assign({},QY(),n)}function eX(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var _ye=function(n,e){return n=typeof n=="function"?n(Object.assign({},e.rects,{placement:e.placement})):n,JY(typeof n!="number"?n:eX(n,tw))};function wye(n){var e,t=n.state,r=n.name,i=n.options,a=t.elements.arrow,s=t.modifiersData.popperOffsets,o=ru(t.placement),l=_L(o),c=[po,kl].indexOf(o)>=0,u=c?"height":"width";if(!(!a||!s)){var d=_ye(i.padding,t),f=bL(a),h=l==="y"?ho:po,p=l==="y"?Dl:kl,m=t.rects.reference[u]+t.rects.reference[l]-s[l]-t.rects.popper[u],v=s[l]-t.rects.reference[l],g=nw(a),y=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,b=m/2-v/2,_=d[h],x=y-f[u]-d[p],S=y/2-f[u]/2+b,T=Y1(_,S,x),C=l;t.modifiersData[r]=(e={},e[C]=T,e.centerOffset=T-S,e)}}function xye(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!ZY(e.elements.popper,i)||(e.elements.arrow=i))}var Sye={name:"arrow",enabled:!0,phase:"main",fn:wye,effect:xye,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function dg(n){return n.split("-")[1]}var Cye={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mye(n){var e=n.x,t=n.y,r=window,i=r.devicePixelRatio||1;return{x:cg(e*i)/i||0,y:cg(t*i)/i||0}}function rF(n){var e,t=n.popper,r=n.popperRect,i=n.placement,a=n.variation,s=n.offsets,o=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,d=n.isFixed,f=s.x,h=f===void 0?0:f,p=s.y,m=p===void 0?0:p,v=typeof u=="function"?u({x:h,y:m}):{x:h,y:m};h=v.x,m=v.y;var g=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=po,_=ho,x=window;if(c){var S=nw(t),T="clientHeight",C="clientWidth";if(S===Tc(t)&&(S=xh(t),vd(S).position!=="static"&&o==="absolute"&&(T="scrollHeight",C="scrollWidth")),S=S,i===ho||(i===po||i===kl)&&a===Kb){_=Dl;var M=d&&S===x&&x.visualViewport?x.visualViewport.height:S[T];m-=M-r.height,m*=l?1:-1}if(i===po||(i===ho||i===Dl)&&a===Kb){b=kl;var A=d&&S===x&&x.visualViewport?x.visualViewport.width:S[C];h-=A-r.width,h*=l?1:-1}}var I=Object.assign({position:o},c&&Cye),D=u===!0?Mye({x:h,y:m}):{x:h,y:m};if(h=D.x,m=D.y,l){var L;return Object.assign({},I,(L={},L[_]=y?"0":"",L[b]=g?"0":"",L.transform=(x.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",L))}return Object.assign({},I,(e={},e[_]=y?m+"px":"",e[b]=g?h+"px":"",e.transform="",e))}function Tye(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,a=t.adaptive,s=a===void 0?!0:a,o=t.roundOffsets,l=o===void 0?!0:o,c={placement:ru(e.placement),variation:dg(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,rF(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,rF(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var tX={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Tye,data:{}},Zw={passive:!0};function Aye(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,a=i===void 0?!0:i,s=r.resize,o=s===void 0?!0:s,l=Tc(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",t.update,Zw)}),o&&l.addEventListener("resize",t.update,Zw),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",t.update,Zw)}),o&&l.removeEventListener("resize",t.update,Zw)}}var nX={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Aye,data:{}},Eye={left:"right",right:"left",bottom:"top",top:"bottom"};function S2(n){return n.replace(/left|right|bottom|top/g,function(e){return Eye[e]})}var Iye={start:"end",end:"start"};function iF(n){return n.replace(/start|end/g,function(e){return Iye[e]})}function wL(n){var e=Tc(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function xL(n){return ug(xh(n)).left+wL(n).scrollLeft}function Rye(n){var e=Tc(n),t=xh(n),r=e.visualViewport,i=t.clientWidth,a=t.clientHeight,s=0,o=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,o=r.offsetTop)),{width:i,height:a,x:s+xL(n),y:o}}function Pye(n){var e,t=xh(n),r=wL(n),i=(e=n.ownerDocument)==null?void 0:e.body,a=Yp(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Yp(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-r.scrollLeft+xL(n),l=-r.scrollTop;return vd(i||t).direction==="rtl"&&(o+=Yp(t.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function SL(n){var e=vd(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function rX(n){return["html","body","#document"].indexOf(uu(n))>=0?n.ownerDocument.body:Cl(n)&&SL(n)?n:rX(LT(n))}function X1(n,e){var t;e===void 0&&(e=[]);var r=rX(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Tc(r),s=i?[a].concat(a.visualViewport||[],SL(r)?r:[]):r,o=e.concat(s);return i?o:o.concat(X1(LT(s)))}function L5(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Dye(n){var e=ug(n);return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function aF(n,e){return e===XY?L5(Rye(n)):lg(e)?Dye(e):L5(Pye(xh(n)))}function kye(n){var e=X1(LT(n)),t=["absolute","fixed"].indexOf(vd(n).position)>=0,r=t&&Cl(n)?nw(n):n;return lg(r)?e.filter(function(i){return lg(i)&&ZY(i,r)&&uu(i)!=="body"}):[]}function Lye(n,e,t){var r=e==="clippingParents"?kye(n):[].concat(e),i=[].concat(r,[t]),a=i[0],s=i.reduce(function(o,l){var c=aF(n,l);return o.top=Yp(c.top,o.top),o.right=EC(c.right,o.right),o.bottom=EC(c.bottom,o.bottom),o.left=Yp(c.left,o.left),o},aF(n,a));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function iX(n){var e=n.reference,t=n.element,r=n.placement,i=r?ru(r):null,a=r?dg(r):null,s=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(i){case ho:l={x:s,y:e.y-t.height};break;case Dl:l={x:s,y:e.y+e.height};break;case kl:l={x:e.x+e.width,y:o};break;case po:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var c=i?_L(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case og:l[c]=l[c]-(e[u]/2-t[u]/2);break;case Kb:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function Yb(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,a=t.boundary,s=a===void 0?rye:a,o=t.rootBoundary,l=o===void 0?XY:o,c=t.elementContext,u=c===void 0?Ny:c,d=t.altBoundary,f=d===void 0?!1:d,h=t.padding,p=h===void 0?0:h,m=JY(typeof p!="number"?p:eX(p,tw)),v=u===Ny?iye:Ny,g=n.rects.popper,y=n.elements[f?v:u],b=Lye(lg(y)?y:y.contextElement||xh(n.elements.popper),s,l),_=ug(n.elements.reference),x=iX({reference:_,element:g,strategy:"absolute",placement:i}),S=L5(Object.assign({},g,x)),T=u===Ny?S:_,C={top:b.top-T.top+m.top,bottom:T.bottom-b.bottom+m.bottom,left:b.left-T.left+m.left,right:T.right-b.right+m.right},M=n.modifiersData.offset;if(u===Ny&&M){var A=M[i];Object.keys(C).forEach(function(I){var D=[kl,Dl].indexOf(I)>=0?1:-1,L=[ho,Dl].indexOf(I)>=0?"y":"x";C[I]+=A[L]*D})}return C}function Nye(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,a=t.rootBoundary,s=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?Dd:l,u=dg(r),d=u?o?tF:tF.filter(function(p){return dg(p)===u}):tw,f=d.filter(function(p){return c.indexOf(p)>=0});f.length===0&&(f=d);var h=f.reduce(function(p,m){return p[m]=Yb(n,{placement:m,boundary:i,rootBoundary:a,padding:s})[ru(m)],p},{});return Object.keys(h).sort(function(p,m){return h[p]-h[m]})}function Oye(n){if(ru(n)===gL)return[];var e=S2(n);return[iF(n),e,iF(e)]}function Bye(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!0:s,l=t.fallbackPlacements,c=t.padding,u=t.boundary,d=t.rootBoundary,f=t.altBoundary,h=t.flipVariations,p=h===void 0?!0:h,m=t.allowedAutoPlacements,v=e.options.placement,g=ru(v),y=g===v,b=l||(y||!p?[S2(v)]:Oye(v)),_=[v].concat(b).reduce(function(J,Q){return J.concat(ru(Q)===gL?Nye(e,{placement:Q,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):Q)},[]),x=e.rects.reference,S=e.rects.popper,T=new Map,C=!0,M=_[0],A=0;A<_.length;A++){var I=_[A],D=ru(I),L=dg(I)===og,F=[ho,Dl].indexOf(D)>=0,B=F?"width":"height",k=Yb(e,{placement:I,boundary:u,rootBoundary:d,altBoundary:f,padding:c}),H=F?L?kl:po:L?Dl:ho;x[B]>S[B]&&(H=S2(H));var z=S2(H),O=[];if(a&&O.push(k[D]<=0),o&&O.push(k[H]<=0,k[z]<=0),O.every(function(J){return J})){M=I,C=!1;break}T.set(I,O)}if(C)for(var W=p?3:1,j=function(J){var Q=_.find(function(ie){var le=T.get(ie);if(le)return le.slice(0,J).every(function(we){return we})});if(Q)return M=Q,"break"},ee=W;ee>0;ee--){var te=j(ee);if(te==="break")break}e.placement!==M&&(e.modifiersData[r]._skip=!0,e.placement=M,e.reset=!0)}}var Fye={name:"flip",enabled:!0,phase:"main",fn:Bye,requiresIfExists:["offset"],data:{_skip:!1}};function sF(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function oF(n){return[ho,kl,Dl,po].some(function(e){return n[e]>=0})}function zye(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,a=e.modifiersData.preventOverflow,s=Yb(e,{elementContext:"reference"}),o=Yb(e,{altBoundary:!0}),l=sF(s,r),c=sF(o,i,a),u=oF(l),d=oF(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}var Uye={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:zye};function Hye(n,e,t){var r=ru(n),i=[po,ho].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[po,kl].indexOf(r)>=0?{x:o,y:s}:{x:s,y:o}}function Vye(n){var e=n.state,t=n.options,r=n.name,i=t.offset,a=i===void 0?[0,0]:i,s=Dd.reduce(function(u,d){return u[d]=Hye(d,e.rects,a),u},{}),o=s[e.placement],l=o.x,c=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}var $ye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Vye};function Gye(n){var e=n.state,t=n.name;e.modifiersData[t]=iX({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var aX={name:"popperOffsets",enabled:!0,phase:"read",fn:Gye,data:{}};function Wye(n){return n==="x"?"y":"x"}function qye(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,a=i===void 0?!0:i,s=t.altAxis,o=s===void 0?!1:s,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,d=t.padding,f=t.tether,h=f===void 0?!0:f,p=t.tetherOffset,m=p===void 0?0:p,v=Yb(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=ru(e.placement),y=dg(e.placement),b=!y,_=_L(g),x=Wye(_),S=e.modifiersData.popperOffsets,T=e.rects.reference,C=e.rects.popper,M=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,A=typeof M=="number"?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),I=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,D={x:0,y:0};if(S){if(a){var L,F=_==="y"?ho:po,B=_==="y"?Dl:kl,k=_==="y"?"height":"width",H=S[_],z=H+v[F],O=H-v[B],W=h?-C[k]/2:0,j=y===og?T[k]:C[k],ee=y===og?-C[k]:-T[k],te=e.elements.arrow,J=h&&te?bL(te):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:QY(),ie=Q[F],le=Q[B],we=Y1(0,T[k],J[k]),Ae=b?T[k]/2-W-we-ie-A.mainAxis:j-we-ie-A.mainAxis,ke=b?-T[k]/2+W+we+le+A.mainAxis:ee+we+le+A.mainAxis,Fe=e.elements.arrow&&nw(e.elements.arrow),q=Fe?_==="y"?Fe.clientTop||0:Fe.clientLeft||0:0,ce=(L=I==null?void 0:I[_])!=null?L:0,re=H+Ae-ce-q,Ne=H+ke-ce,Pe=Y1(h?EC(z,re):z,H,h?Yp(O,Ne):O);S[_]=Pe,D[_]=Pe-H}if(o){var $e,Ue=_==="x"?ho:po,Ve=_==="x"?Dl:kl,je=S[x],fe=x==="y"?"height":"width",$=je+v[Ue],X=je-v[Ve],me=[ho,po].indexOf(g)!==-1,Oe=($e=I==null?void 0:I[x])!=null?$e:0,qe=me?$:je-T[fe]-C[fe]-Oe+A.altAxis,mt=me?je+T[fe]+C[fe]-Oe-A.altAxis:X,pt=h&&me?bye(qe,je,mt):Y1(h?qe:$,je,h?mt:X);S[x]=pt,D[x]=pt-je}e.modifiersData[r]=D}}var Kye={name:"preventOverflow",enabled:!0,phase:"main",fn:qye,requiresIfExists:["offset"]};function Yye(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function Xye(n){return n===Tc(n)||!Cl(n)?wL(n):Yye(n)}function jye(n){var e=n.getBoundingClientRect(),t=cg(e.width)/n.offsetWidth||1,r=cg(e.height)/n.offsetHeight||1;return t!==1||r!==1}function Zye(n,e,t){t===void 0&&(t=!1);var r=Cl(e),i=Cl(e)&&jye(e),a=xh(e),s=ug(n,i),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!t)&&((uu(e)!=="body"||SL(a))&&(o=Xye(e)),Cl(e)?(l=ug(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=xL(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Qye(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function i(a){t.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&i(l)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||i(a)}),r}function Jye(n){var e=Qye(n);return pye.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function e1e(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function t1e(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var lF={placement:"bottom",modifiers:[],strategy:"absolute"};function cF(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function CL(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,a=i===void 0?lF:i;return function(s,o,l){l===void 0&&(l=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},lF,a),modifiersData:{},elements:{reference:s,popper:o},attributes:{},styles:{}},u=[],d=!1,f={state:c,setOptions:function(m){var v=typeof m=="function"?m(c.options):m;p(),c.options=Object.assign({},a,c.options,v),c.scrollParents={reference:lg(s)?X1(s):s.contextElement?X1(s.contextElement):[],popper:X1(o)};var g=Jye(t1e([].concat(r,c.options.modifiers)));return c.orderedModifiers=g.filter(function(y){return y.enabled}),h(),f.update()},forceUpdate:function(){if(!d){var m=c.elements,v=m.reference,g=m.popper;if(cF(v,g)){c.rects={reference:Zye(v,nw(g),c.options.strategy==="fixed"),popper:bL(g)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(C){return c.modifiersData[C.name]=Object.assign({},C.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var b=c.orderedModifiers[y],_=b.fn,x=b.options,S=x===void 0?{}:x,T=b.name;typeof _=="function"&&(c=_({state:c,options:S,name:T,instance:f})||c)}}}},update:e1e(function(){return new Promise(function(m){f.forceUpdate(),m(c)})}),destroy:function(){p(),d=!0}};if(!cF(s,o))return f;f.setOptions(l).then(function(m){!d&&l.onFirstUpdate&&l.onFirstUpdate(m)});function h(){c.orderedModifiers.forEach(function(m){var v=m.name,g=m.options,y=g===void 0?{}:g,b=m.effect;if(typeof b=="function"){var _=b({state:c,name:v,instance:f,options:y}),x=function(){};u.push(_||x)}})}function p(){u.forEach(function(m){return m()}),u=[]}return f}}CL();var n1e=[nX,aX,tX,jY];CL({defaultModifiers:n1e});var r1e=[nX,aX,tX,jY,$ye,Fye,Kye,Sye,Uye],i1e=CL({defaultModifiers:r1e});const a1e=["fixed","absolute"],s1e=Rt({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Ke(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Dd,default:"bottom"},popperOptions:{type:Ke(Object),default:()=>({})},strategy:{type:String,values:a1e,default:"absolute"}}),sX=Rt({...s1e,id:String,style:{type:Ke([String,Array,Object])},className:{type:Ke([String,Array,Object])},effect:{type:Ke(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:Ke([String,Array,Object])},popperStyle:{type:Ke([String,Array,Object])},referenceEl:{type:Ke(Object)},triggerTargetEl:{type:Ke(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...$a(["ariaLabel"])}),o1e={mouseenter:n=>n instanceof MouseEvent,mouseleave:n=>n instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},l1e=(n,e)=>{const t=ne(!1),r=ne();return{focusStartRef:r,trapped:t,onFocusAfterReleased:c=>{var u;((u=c.detail)==null?void 0:u.focusReason)!=="pointer"&&(r.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{n.visible&&!t.value&&(c.target&&(r.value=c.target),t.value=!0)},onFocusoutPrevented:c=>{n.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),t.value=!1)},onReleaseRequested:()=>{t.value=!1,e("close")}}},c1e=(n,e=[])=>{const{placement:t,strategy:r,popperOptions:i}=n,a={placement:t,strategy:r,...i,modifiers:[...d1e(n),...e]};return f1e(a,i==null?void 0:i.modifiers),a},u1e=n=>{if(nr)return Vs(n)};function d1e(n){const{offset:e,gpuAcceleration:t,fallbackPlacements:r}=n;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:r}},{name:"computeStyles",options:{gpuAcceleration:t}}]}function f1e(n,e){e&&(n.modifiers=[...n.modifiers,...e??[]])}const h1e=(n,e,t={})=>{const r={name:"updateState",enabled:!0,phase:"write",fn:({state:l})=>{const c=p1e(l);Object.assign(s.value,c)},requires:["computeStyles"]},i=U(()=>{const{onFirstUpdate:l,placement:c,strategy:u,modifiers:d}=w(t);return{onFirstUpdate:l,placement:c||"bottom",strategy:u||"absolute",modifiers:[...d||[],r,{name:"applyStyles",enabled:!1}]}}),a=Ir(),s=ne({styles:{popper:{position:w(i).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return dt(i,l=>{const c=w(a);c&&c.setOptions(l)},{deep:!0}),dt([n,e],([l,c])=>{o(),!(!l||!c)&&(a.value=i1e(l,c,w(i)))}),yr(()=>{o()}),{state:U(()=>{var l;return{...((l=w(a))==null?void 0:l.state)||{}}}),styles:U(()=>w(s).styles),attributes:U(()=>w(s).attributes),update:()=>{var l;return(l=w(a))==null?void 0:l.update()},forceUpdate:()=>{var l;return(l=w(a))==null?void 0:l.forceUpdate()},instanceRef:U(()=>w(a))}};function p1e(n){const e=Object.keys(n.elements),t=qb(e.map(i=>[i,n.styles[i]||{}])),r=qb(e.map(i=>[i,n.attributes[i]]));return{styles:t,attributes:r}}const m1e=0,v1e=n=>{const{popperInstanceRef:e,contentRef:t,triggerRef:r,role:i}=Ot(hL,void 0),a=ne(),s=ne(),o=U(()=>({name:"eventListeners",enabled:!!n.visible})),l=U(()=>{var g;const y=w(a),b=(g=w(s))!=null?g:m1e;return{name:"arrow",enabled:!dY(y),options:{element:y,padding:b}}}),c=U(()=>({onFirstUpdate:()=>{p()},...c1e(n,[w(l),w(o)])})),u=U(()=>u1e(n.referenceEl)||w(r)),{attributes:d,state:f,styles:h,update:p,forceUpdate:m,instanceRef:v}=h1e(u,t,c);return dt(v,g=>e.value=g),pn(()=>{dt(()=>{var g;return(g=w(u))==null?void 0:g.getBoundingClientRect()},()=>{p()})}),{attributes:d,arrowRef:a,contentRef:t,instanceRef:v,state:f,styles:h,role:i,forceUpdate:m,update:p}},g1e=(n,{attributes:e,styles:t,role:r})=>{const{nextZIndex:i}=Zg(),a=bt("popper"),s=U(()=>w(e).popper),o=ne(en(n.zIndex)?n.zIndex:i()),l=U(()=>[a.b(),a.is("pure",n.pure),a.is(n.effect),n.popperClass]),c=U(()=>[{zIndex:w(o)},w(t).popper,n.popperStyle||{}]),u=U(()=>r.value==="dialog"?"false":void 0),d=U(()=>w(t).arrow||{});return{ariaModal:u,arrowStyle:d,contentAttrs:s,contentClass:l,contentStyle:c,contentZIndex:o,updateZIndex:()=>{o.value=en(n.zIndex)?n.zIndex:i()}}},y1e=Re({name:"ElPopperContent"}),b1e=Re({...y1e,props:sX,emits:o1e,setup(n,{expose:e,emit:t}){const r=n,{focusStartRef:i,trapped:a,onFocusAfterReleased:s,onFocusAfterTrapped:o,onFocusInTrap:l,onFocusoutPrevented:c,onReleaseRequested:u}=l1e(r,t),{attributes:d,arrowRef:f,contentRef:h,styles:p,instanceRef:m,role:v,update:g}=v1e(r),{ariaModal:y,arrowStyle:b,contentAttrs:_,contentClass:x,contentStyle:S,updateZIndex:T}=g1e(r,{styles:p,attributes:d,role:v}),C=Ot(cu,void 0),M=ne();$n(zY,{arrowStyle:b,arrowRef:f,arrowOffset:M}),C&&$n(cu,{...C,addInputId:Cr,removeInputId:Cr});let A;const I=(L=!0)=>{g(),L&&T()},D=()=>{I(!1),r.visible&&r.focusOnShow?a.value=!0:r.visible===!1&&(a.value=!1)};return pn(()=>{dt(()=>r.triggerTargetEl,(L,F)=>{A==null||A(),A=void 0;const B=w(L||h.value),k=w(F||h.value);Ho(B)&&(A=dt([v,()=>r.ariaLabel,y,()=>r.id],H=>{["role","aria-label","aria-modal","id"].forEach((z,O)=>{ga(H[O])?B.removeAttribute(z):B.setAttribute(z,H[O])})},{immediate:!0})),k!==B&&Ho(k)&&["role","aria-label","aria-modal","id"].forEach(H=>{k.removeAttribute(H)})},{immediate:!0}),dt(()=>r.visible,D,{immediate:!0})}),yr(()=>{A==null||A(),A=void 0}),e({popperContentRef:h,popperInstanceRef:m,updatePopper:I,contentStyle:S}),(L,F)=>(V(),he("div",Hn({ref_key:"contentRef",ref:h},w(_),{style:w(S),class:w(x),tabindex:"-1",onMouseenter:B=>L.$emit("mouseenter",B),onMouseleave:B=>L.$emit("mouseleave",B)}),[ue(w(Jg),{trapped:w(a),"trap-on-focus-in":!0,"focus-trap-el":w(h),"focus-start-el":w(i),onFocusAfterTrapped:w(o),onFocusAfterReleased:w(s),onFocusin:w(l),onFocusoutPrevented:w(c),onReleaseRequested:w(u)},{default:be(()=>[Qe(L.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var _1e=Pt(b1e,[["__file","content.vue"]]);const oX=gn(kge),NT=Symbol("elTooltip");function uF(){let n;const e=(r,i)=>{t(),n=window.setTimeout(r,i)},t=()=>window.clearTimeout(n);return Z_(()=>t()),{registerTimeout:e,cancelTimeout:t}}const w1e=Rt({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),x1e=({showAfter:n,hideAfter:e,autoClose:t,open:r,close:i})=>{const{registerTimeout:a}=uF(),{registerTimeout:s,cancelTimeout:o}=uF();return{onOpen:u=>{a(()=>{r(u);const d=w(t);en(d)&&d>0&&s(()=>{i(u)},d)},w(n))},onClose:u=>{o(),a(()=>{i(u)},w(e))}}},wa=Rt({...w1e,...sX,appendTo:{type:Ke([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Ke(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...$a(["ariaLabel"])}),Xb=Rt({...VY,disabled:Boolean,trigger:{type:Ke([String,Array]),default:"hover"},triggerKeys:{type:Ke(Array),default:()=>[Nt.enter,Nt.numpadEnter,Nt.space]}}),S1e=Mc({type:Ke(Boolean),default:null}),C1e=Mc({type:Ke(Function)}),lX=n=>{const e=`update:${n}`,t=`onUpdate:${n}`,r=[e],i={[n]:S1e,[t]:C1e};return{useModelToggle:({indicator:s,toggleReason:o,shouldHideWhenRouteChanges:l,shouldProceed:c,onShow:u,onHide:d})=>{const f=kn(),{emit:h}=f,p=f.props,m=U(()=>Zt(p[t])),v=U(()=>p[n]===null),g=T=>{s.value!==!0&&(s.value=!0,o&&(o.value=T),Zt(u)&&u(T))},y=T=>{s.value!==!1&&(s.value=!1,o&&(o.value=T),Zt(d)&&d(T))},b=T=>{if(p.disabled===!0||Zt(c)&&!c())return;const C=m.value&&nr;C&&h(e,!0),(v.value||!C)&&g(T)},_=T=>{if(p.disabled===!0||!nr)return;const C=m.value&&nr;C&&h(e,!1),(v.value||!C)&&y(T)},x=T=>{Vr(T)&&(p.disabled&&T?m.value&&h(e,!1):s.value!==T&&(T?g():y()))},S=()=>{s.value?_():b()};return dt(()=>p[n],x),l&&f.appContext.config.globalProperties.$route!==void 0&&dt(()=>({...f.proxy.$route}),()=>{l.value&&s.value&&_()}),pn(()=>{x(p[n])}),{hide:_,show:b,toggle:S,hasUpdateHandler:m}},useModelToggleProps:i,useModelToggleEmits:r}};lX("modelValue");const{useModelToggleProps:M1e,useModelToggleEmits:T1e,useModelToggle:A1e}=lX("visible"),E1e=Rt({...UY,...M1e,...wa,...Xb,...HY,showArrow:{type:Boolean,default:!0}}),I1e=[...T1e,"before-show","before-hide","show","hide","open","close"],R1e=(n,e)=>Tt(n)?n.includes(e):n===e,Xm=(n,e,t)=>r=>{R1e(w(n),e)&&t(r)},Pi=(n,e,{checkForDefaultPrevented:t=!0}={})=>i=>{const a=n==null?void 0:n(i);if(t===!1||!a)return e==null?void 0:e(i)},dF=n=>e=>e.pointerType==="mouse"?n(e):void 0,P1e=Re({name:"ElTooltipTrigger"}),D1e=Re({...P1e,props:Xb,setup(n,{expose:e}){const t=n,r=bt("tooltip"),{controlled:i,id:a,open:s,onOpen:o,onClose:l,onToggle:c}=Ot(NT,void 0),u=ne(null),d=()=>{if(w(i)||t.disabled)return!0},f=_r(t,"trigger"),h=Pi(d,Xm(f,"hover",o)),p=Pi(d,Xm(f,"hover",l)),m=Pi(d,Xm(f,"click",_=>{_.button===0&&c(_)})),v=Pi(d,Xm(f,"focus",o)),g=Pi(d,Xm(f,"focus",l)),y=Pi(d,Xm(f,"contextmenu",_=>{_.preventDefault(),c(_)})),b=Pi(d,_=>{const{code:x}=_;t.triggerKeys.includes(x)&&(_.preventDefault(),c(_))});return e({triggerRef:u}),(_,x)=>(V(),rt(w(Gge),{id:w(a),"virtual-ref":_.virtualRef,open:w(s),"virtual-triggering":_.virtualTriggering,class:Z(w(r).e("trigger")),onBlur:w(g),onClick:w(m),onContextmenu:w(y),onFocus:w(v),onMouseenter:w(h),onMouseleave:w(p),onKeydown:w(b)},{default:be(()=>[Qe(_.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var k1e=Pt(D1e,[["__file","trigger.vue"]]);const L1e=Rt({to:{type:Ke([String,Object]),required:!0},disabled:Boolean}),N1e=Re({__name:"teleport",props:L1e,setup(n){return(e,t)=>e.disabled?Qe(e.$slots,"default",{key:0}):(V(),rt(Ple,{key:1,to:e.to},[Qe(e.$slots,"default")],8,["to"]))}});var O1e=Pt(N1e,[["__file","teleport.vue"]]);const ey=gn(O1e),cX=()=>{const n=Ok(),e=dL(),t=U(()=>`${n.value}-popper-container-${e.prefix}`),r=U(()=>`#${t.value}`);return{id:t,selector:r}},B1e=n=>{const e=document.createElement("div");return e.id=n,document.body.appendChild(e),e},F1e=()=>{const{id:n,selector:e}=cX();return pT(()=>{nr&&(document.body.querySelector(e.value)||B1e(n.value))}),{id:n,selector:e}},z1e=Re({name:"ElTooltipContent",inheritAttrs:!1}),U1e=Re({...z1e,props:wa,setup(n,{expose:e}){const t=n,{selector:r}=cX(),i=bt("tooltip"),a=ne();let s;const{controlled:o,id:l,open:c,trigger:u,onClose:d,onOpen:f,onShow:h,onHide:p,onBeforeShow:m,onBeforeHide:v}=Ot(NT,void 0),g=U(()=>t.transition||`${i.namespace.value}-fade-in-linear`),y=U(()=>t.persistent);yr(()=>{s==null||s()});const b=U(()=>w(y)?!0:w(c)),_=U(()=>t.disabled?!1:w(c)),x=U(()=>t.appendTo||r.value),S=U(()=>{var k;return(k=t.style)!=null?k:{}}),T=ne(!0),C=()=>{p(),T.value=!0},M=()=>{if(w(o))return!0},A=Pi(M,()=>{t.enterable&&w(u)==="hover"&&f()}),I=Pi(M,()=>{w(u)==="hover"&&d()}),D=()=>{var k,H;(H=(k=a.value)==null?void 0:k.updatePopper)==null||H.call(k),m==null||m()},L=()=>{v==null||v()},F=()=>{h(),s=Jk(U(()=>{var k;return(k=a.value)==null?void 0:k.popperContentRef}),()=>{if(w(o))return;w(u)!=="hover"&&d()})},B=()=>{t.virtualTriggering||d()};return dt(()=>w(c),k=>{k?T.value=!1:s==null||s()},{flush:"post"}),dt(()=>t.content,()=>{var k,H;(H=(k=a.value)==null?void 0:k.updatePopper)==null||H.call(k)}),e({contentRef:a}),(k,H)=>(V(),rt(w(ey),{disabled:!k.teleported,to:w(x)},{default:be(()=>[ue(da,{name:w(g),onAfterLeave:C,onBeforeEnter:D,onAfterEnter:F,onBeforeLeave:L},{default:be(()=>[w(b)?Cn((V(),rt(w(_1e),Hn({key:0,id:w(l),ref_key:"contentRef",ref:a},k.$attrs,{"aria-label":k.ariaLabel,"aria-hidden":T.value,"boundaries-padding":k.boundariesPadding,"fallback-placements":k.fallbackPlacements,"gpu-acceleration":k.gpuAcceleration,offset:k.offset,placement:k.placement,"popper-options":k.popperOptions,strategy:k.strategy,effect:k.effect,enterable:k.enterable,pure:k.pure,"popper-class":k.popperClass,"popper-style":[k.popperStyle,w(S)],"reference-el":k.referenceEl,"trigger-target-el":k.triggerTargetEl,visible:w(_),"z-index":k.zIndex,onMouseenter:w(A),onMouseleave:w(I),onBlur:B,onClose:w(d)}),{default:be(()=>[Qe(k.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[fr,w(_)]]):Je("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var H1e=Pt(U1e,[["__file","content.vue"]]);const V1e=Re({name:"ElTooltip"}),$1e=Re({...V1e,props:E1e,emits:I1e,setup(n,{expose:e,emit:t}){const r=n;F1e();const i=Ha(),a=ne(),s=ne(),o=()=>{var g;const y=w(a);y&&((g=y.popperInstanceRef)==null||g.update())},l=ne(!1),c=ne(),{show:u,hide:d,hasUpdateHandler:f}=A1e({indicator:l,toggleReason:c}),{onOpen:h,onClose:p}=x1e({showAfter:_r(r,"showAfter"),hideAfter:_r(r,"hideAfter"),autoClose:_r(r,"autoClose"),open:u,close:d}),m=U(()=>Vr(r.visible)&&!f.value);$n(NT,{controlled:m,id:i,open:Wg(l),trigger:_r(r,"trigger"),onOpen:g=>{h(g)},onClose:g=>{p(g)},onToggle:g=>{w(l)?p(g):h(g)},onShow:()=>{t("show",c.value)},onHide:()=>{t("hide",c.value)},onBeforeShow:()=>{t("before-show",c.value)},onBeforeHide:()=>{t("before-hide",c.value)},updatePopper:o}),dt(()=>r.disabled,g=>{g&&l.value&&(l.value=!1)});const v=g=>{var y,b;const _=(b=(y=s.value)==null?void 0:y.contentRef)==null?void 0:b.popperContentRef,x=(g==null?void 0:g.relatedTarget)||document.activeElement;return _&&_.contains(x)};return Yq(()=>l.value&&d()),e({popperRef:a,contentRef:s,isFocusInsideContent:v,updatePopper:o,onOpen:h,onClose:p,hide:d}),(g,y)=>(V(),rt(w(oX),{ref_key:"popperRef",ref:a,role:g.role},{default:be(()=>[ue(k1e,{disabled:g.disabled,trigger:g.trigger,"trigger-keys":g.triggerKeys,"virtual-ref":g.virtualRef,"virtual-triggering":g.virtualTriggering},{default:be(()=>[g.$slots.default?Qe(g.$slots,"default",{key:0}):Je("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),ue(H1e,{ref_key:"contentRef",ref:s,"aria-label":g.ariaLabel,"boundaries-padding":g.boundariesPadding,content:g.content,disabled:g.disabled,effect:g.effect,enterable:g.enterable,"fallback-placements":g.fallbackPlacements,"hide-after":g.hideAfter,"gpu-acceleration":g.gpuAcceleration,offset:g.offset,persistent:g.persistent,"popper-class":g.popperClass,"popper-style":g.popperStyle,placement:g.placement,"popper-options":g.popperOptions,pure:g.pure,"raw-content":g.rawContent,"reference-el":g.referenceEl,"trigger-target-el":g.triggerTargetEl,"show-after":g.showAfter,strategy:g.strategy,teleported:g.teleported,transition:g.transition,"virtual-triggering":g.virtualTriggering,"z-index":g.zIndex,"append-to":g.appendTo},{default:be(()=>[Qe(g.$slots,"content",{},()=>[g.rawContent?(V(),he("span",{key:0,innerHTML:g.content},null,8,["innerHTML"])):(V(),he("span",{key:1},Ct(g.content),1))]),g.showArrow?(V(),rt(w(Oge),{key:0,"arrow-offset":g.arrowOffset},null,8,["arrow-offset"])):Je("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var G1e=Pt($1e,[["__file","tooltip.vue"]]);const is=gn(G1e),W1e=Rt({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:Ke(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:Ke([Function,Array]),default:Cr},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:wa.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...$a(["ariaLabel"])}),q1e={[Tn]:n=>qt(n),[ns]:n=>qt(n),[Rr]:n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,select:n=>Pn(n)},uX="ElAutocomplete",K1e=Re({name:uX,inheritAttrs:!1}),Y1e=Re({...K1e,props:W1e,emits:q1e,setup(n,{expose:e,emit:t}){const r=n,i=J_(),a=bh(),s=os(),o=bt("autocomplete"),l=ne(),c=ne(),u=ne(),d=ne();let f=!1,h=!1;const p=ne([]),m=ne(-1),v=ne(""),g=ne(!1),y=ne(!1),b=ne(!1),_=Ha(),x=U(()=>a.style),S=U(()=>(p.value.length>0||b.value)&&g.value),T=U(()=>!r.hideLoading&&b.value),C=U(()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[]),M=()=>{S.value&&(v.value=`${l.value.$el.offsetWidth}px`)},A=()=>{m.value=-1},I=async le=>{if(y.value)return;const we=Ae=>{b.value=!1,!y.value&&(Tt(Ae)?(p.value=Ae,m.value=r.highlightFirstItem?0:-1):fa(uX,"autocomplete suggestions must be an array"))};if(b.value=!0,Tt(r.fetchSuggestions))we(r.fetchSuggestions);else{const Ae=await r.fetchSuggestions(le,we);Tt(Ae)&&we(Ae)}},D=bo(I,r.debounce),L=le=>{const we=!!le;if(t(ns,le),t(Tn,le),y.value=!1,g.value||(g.value=we),!r.triggerOnFocus&&!le){y.value=!0,p.value=[];return}D(le)},F=le=>{var we;s.value||(((we=le.target)==null?void 0:we.tagName)!=="INPUT"||C.value.includes(document.activeElement))&&(g.value=!0)},B=le=>{t(Rr,le)},k=le=>{h?h=!1:(g.value=!0,t("focus",le),r.triggerOnFocus&&!f&&D(String(r.modelValue)))},H=le=>{setTimeout(()=>{var we;if((we=u.value)!=null&&we.isFocusInsideContent()){h=!0;return}g.value&&j(),t("blur",le)})},z=()=>{g.value=!1,t(Tn,""),t("clear")},O=async()=>{S.value&&m.value>=0&&m.value<p.value.length?J(p.value[m.value]):r.selectWhenUnmatched&&(t("select",{value:r.modelValue}),p.value=[],m.value=-1)},W=le=>{S.value&&(le.preventDefault(),le.stopPropagation(),j())},j=()=>{g.value=!1},ee=()=>{var le;(le=l.value)==null||le.focus()},te=()=>{var le;(le=l.value)==null||le.blur()},J=async le=>{t(ns,le[r.valueKey]),t(Tn,le[r.valueKey]),t("select",le),p.value=[],m.value=-1},Q=le=>{if(!S.value||b.value)return;if(le<0){m.value=-1;return}le>=p.value.length&&(le=p.value.length-1);const we=c.value.querySelector(`.${o.be("suggestion","wrap")}`),ke=we.querySelectorAll(`.${o.be("suggestion","list")} li`)[le],Fe=we.scrollTop,{offsetTop:q,scrollHeight:ce}=ke;q+ce>Fe+we.clientHeight&&(we.scrollTop+=ce),q<Fe&&(we.scrollTop-=ce),m.value=le,l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`)},ie=Jk(d,()=>{S.value&&j()});return yr(()=>{ie==null||ie()}),pn(()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${m.value}`),f=l.value.ref.hasAttribute("readonly")}),e({highlightedIndex:m,activated:g,loading:b,inputRef:l,popperRef:u,suggestions:p,handleSelect:J,handleKeyEnter:O,focus:ee,blur:te,close:j,highlight:Q,getData:I}),(le,we)=>(V(),rt(w(is),{ref_key:"popperRef",ref:u,visible:w(S),placement:le.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[w(o).e("popper"),le.popperClass],teleported:le.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${w(o).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:M,onHide:A},{content:be(()=>[ve("div",{ref_key:"regionRef",ref:c,class:Z([w(o).b("suggestion"),w(o).is("loading",w(T))]),style:Bt({[le.fitInputWidth?"width":"minWidth"]:v.value,outline:"none"}),role:"region"},[ue(w(_u),{id:w(_),tag:"ul","wrap-class":w(o).be("suggestion","wrap"),"view-class":w(o).be("suggestion","list"),role:"listbox"},{default:be(()=>[w(T)?(V(),he("li",{key:0},[Qe(le.$slots,"loading",{},()=>[ue(w(Vt),{class:Z(w(o).is("loading"))},{default:be(()=>[ue(w(lu))]),_:1},8,["class"])])])):(V(!0),he(zt,{key:1},In(p.value,(Ae,ke)=>(V(),he("li",{id:`${w(_)}-item-${ke}`,key:ke,class:Z({highlighted:m.value===ke}),role:"option","aria-selected":m.value===ke,onClick:Fe=>J(Ae)},[Qe(le.$slots,"default",{item:Ae},()=>[dn(Ct(Ae[le.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:be(()=>[ve("div",{ref_key:"listboxRef",ref:d,class:Z([w(o).b(),le.$attrs.class]),style:Bt(w(x)),role:"combobox","aria-haspopup":"listbox","aria-expanded":w(S),"aria-owns":w(_)},[ue(w(Cs),Hn({ref_key:"inputRef",ref:l},w(i),{clearable:le.clearable,disabled:w(s),name:le.name,"model-value":le.modelValue,"aria-label":le.ariaLabel,onInput:L,onChange:B,onFocus:k,onBlur:H,onClear:z,onKeydown:[Ur(sn(Ae=>Q(m.value-1),["prevent"]),["up"]),Ur(sn(Ae=>Q(m.value+1),["prevent"]),["down"]),Ur(O,["enter"]),Ur(j,["tab"]),Ur(W,["esc"])],onMousedown:F}),Rl({_:2},[le.$slots.prepend?{name:"prepend",fn:be(()=>[Qe(le.$slots,"prepend")])}:void 0,le.$slots.append?{name:"append",fn:be(()=>[Qe(le.$slots,"append")])}:void 0,le.$slots.prefix?{name:"prefix",fn:be(()=>[Qe(le.$slots,"prefix")])}:void 0,le.$slots.suffix?{name:"suffix",fn:be(()=>[Qe(le.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var X1e=Pt(Y1e,[["__file","autocomplete.vue"]]);const j1e=gn(X1e),Z1e=Rt({size:{type:[Number,String],values:bu,default:"",validator:n=>en(n)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:kr},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:Ke(String),default:"cover"}}),Q1e={error:n=>n instanceof Event},J1e=Re({name:"ElAvatar"}),ebe=Re({...J1e,props:Z1e,emits:Q1e,setup(n,{emit:e}){const t=n,r=bt("avatar"),i=ne(!1),a=U(()=>{const{size:c,icon:u,shape:d}=t,f=[r.b()];return qt(c)&&f.push(r.m(c)),u&&f.push(r.m("icon")),d&&f.push(r.m(d)),f}),s=U(()=>{const{size:c}=t;return en(c)?r.cssVarBlock({size:Di(c)||""}):void 0}),o=U(()=>({objectFit:t.fit}));dt(()=>t.src,()=>i.value=!1);function l(c){i.value=!0,e("error",c)}return(c,u)=>(V(),he("span",{class:Z(w(a)),style:Bt(w(s))},[(c.src||c.srcSet)&&!i.value?(V(),he("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:Bt(w(o)),onError:l},null,44,["src","alt","srcset"])):c.icon?(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(c.icon)))]),_:1})):Qe(c.$slots,"default",{key:2})],6))}});var tbe=Pt(ebe,[["__file","avatar.vue"]]);const nbe=gn(tbe),rbe={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},ibe={click:n=>n instanceof MouseEvent},abe=(n,e,t)=>{const r=Ir(),i=Ir(),a=ne(!1),s=()=>{r.value&&(a.value=r.value.scrollTop>=n.visibilityHeight)},o=c=>{var u;(u=r.value)==null||u.scrollTo({top:0,behavior:"smooth"}),e("click",c)},l=mY(s,300,!0);return Ar(i,"scroll",l),pn(()=>{var c;i.value=document,r.value=document.documentElement,n.target&&(r.value=(c=document.querySelector(n.target))!=null?c:void 0,r.value||fa(t,`target does not exist: ${n.target}`),i.value=r.value),s()}),{visible:a,handleClick:o}},dX="ElBacktop",sbe=Re({name:dX}),obe=Re({...sbe,props:rbe,emits:ibe,setup(n,{emit:e}){const t=n,r=bt("backtop"),{handleClick:i,visible:a}=abe(t,e,dX),s=U(()=>({right:`${t.right}px`,bottom:`${t.bottom}px`}));return(o,l)=>(V(),rt(da,{name:`${w(r).namespace.value}-fade-in`},{default:be(()=>[w(a)?(V(),he("div",{key:0,style:Bt(w(s)),class:Z(w(r).b()),onClick:sn(w(i),["stop"])},[Qe(o.$slots,"default",{},()=>[ue(w(Vt),{class:Z(w(r).e("icon"))},{default:be(()=>[ue(w(X0e))]),_:1},8,["class"])])],14,["onClick"])):Je("v-if",!0)]),_:3},8,["name"]))}});var lbe=Pt(obe,[["__file","backtop.vue"]]);const cbe=gn(lbe),ube=Rt({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:Ke([String,Object,Array])},offset:{type:Ke(Array),default:[0,0]},badgeClass:{type:String}}),dbe=Re({name:"ElBadge"}),fbe=Re({...dbe,props:ube,setup(n,{expose:e}){const t=n,r=bt("badge"),i=U(()=>t.isDot?"":en(t.value)&&en(t.max)?t.max<t.value?`${t.max}+`:`${t.value}`:`${t.value}`),a=U(()=>{var s,o,l,c,u;return[{backgroundColor:t.color,marginRight:Di(-((o=(s=t.offset)==null?void 0:s[0])!=null?o:0)),marginTop:Di((c=(l=t.offset)==null?void 0:l[1])!=null?c:0)},(u=t.badgeStyle)!=null?u:{}]});return e({content:i}),(s,o)=>(V(),he("div",{class:Z(w(r).b())},[Qe(s.$slots,"default"),ue(da,{name:`${w(r).namespace.value}-zoom-in-center`,persisted:""},{default:be(()=>[Cn(ve("sup",{class:Z([w(r).e("content"),w(r).em("content",s.type),w(r).is("fixed",!!s.$slots.default),w(r).is("dot",s.isDot),w(r).is("hide-zero",!s.showZero&&t.value===0),s.badgeClass]),style:Bt(w(a))},[Qe(s.$slots,"content",{value:w(i)},()=>[dn(Ct(w(i)),1)])],6),[[fr,!s.hidden&&(w(i)||s.isDot||s.$slots.content)]])]),_:3},8,["name"])],2))}});var hbe=Pt(fbe,[["__file","badge.vue"]]);const fX=gn(hbe),hX=Symbol("breadcrumbKey"),pbe=Rt({separator:{type:String,default:"/"},separatorIcon:{type:kr}}),mbe=Re({name:"ElBreadcrumb"}),vbe=Re({...mbe,props:pbe,setup(n){const e=n,{t}=rr(),r=bt("breadcrumb"),i=ne();return $n(hX,e),pn(()=>{const a=i.value.querySelectorAll(`.${r.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,s)=>(V(),he("div",{ref_key:"breadcrumb",ref:i,class:Z(w(r).b()),"aria-label":w(t)("el.breadcrumb.label"),role:"navigation"},[Qe(a.$slots,"default")],10,["aria-label"]))}});var gbe=Pt(vbe,[["__file","breadcrumb.vue"]]);const ybe=Rt({to:{type:Ke([String,Object]),default:""},replace:Boolean}),bbe=Re({name:"ElBreadcrumbItem"}),_be=Re({...bbe,props:ybe,setup(n){const e=n,t=kn(),r=Ot(hX,void 0),i=bt("breadcrumb"),a=t.appContext.config.globalProperties.$router,s=ne(),o=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(l,c)=>{var u,d;return V(),he("span",{class:Z(w(i).e("item"))},[ve("span",{ref_key:"link",ref:s,class:Z([w(i).e("inner"),w(i).is("link",!!l.to)]),role:"link",onClick:o},[Qe(l.$slots,"default")],2),(u=w(r))!=null&&u.separatorIcon?(V(),rt(w(Vt),{key:0,class:Z(w(i).e("separator"))},{default:be(()=>[(V(),rt(Nn(w(r).separatorIcon)))]),_:1},8,["class"])):(V(),he("span",{key:1,class:Z(w(i).e("separator")),role:"presentation"},Ct((d=w(r))==null?void 0:d.separator),3))],2)}}});var pX=Pt(_be,[["__file","breadcrumb-item.vue"]]);const wbe=gn(gbe,{BreadcrumbItem:pX}),xbe=Ti(pX),mX=Symbol("buttonGroupContextKey"),Of=({from:n,replacement:e,scope:t,version:r,ref:i,type:a="API"},s)=>{dt(()=>w(s),o=>{},{immediate:!0})},Sbe=(n,e)=>{Of({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},U(()=>n.type==="text"));const t=Ot(mX,void 0),r=ET("button"),{form:i}=ss(),a=Zi(U(()=>t==null?void 0:t.size)),s=os(),o=ne(),l=na(),c=U(()=>n.type||(t==null?void 0:t.type)||""),u=U(()=>{var p,m,v;return(v=(m=n.autoInsertSpace)!=null?m:(p=r.value)==null?void 0:p.autoInsertSpace)!=null?v:!1}),d=U(()=>n.tag==="button"?{ariaDisabled:s.value||n.loading,disabled:s.value||n.loading,autofocus:n.autofocus,type:n.nativeType}:{}),f=U(()=>{var p;const m=(p=l.default)==null?void 0:p.call(l);if(u.value&&(m==null?void 0:m.length)===1){const v=m[0];if((v==null?void 0:v.type)===qg){const g=v.children;return/^\p{Unified_Ideograph}{2}$/u.test(g.trim())}}return!1});return{_disabled:s,_size:a,_type:c,_ref:o,_props:d,shouldAddSpace:f,handleClick:p=>{if(s.value||n.loading){p.stopPropagation();return}n.nativeType==="reset"&&(i==null||i.resetFields()),e("click",p)}}},N5=["default","primary","success","warning","info","danger","text",""],Cbe=["button","submit","reset"],O5=Rt({size:ta,disabled:Boolean,type:{type:String,values:N5,default:""},icon:{type:kr},nativeType:{type:String,values:Cbe,default:"button"},loading:Boolean,loadingIcon:{type:kr,default:()=>lu},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:Ke([String,Object]),default:"button"}}),Mbe={click:n=>n instanceof MouseEvent};function rs(n,e){Tbe(n)&&(n="100%");var t=Abe(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Qw(n){return Math.min(1,Math.max(0,n))}function Tbe(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Abe(n){return typeof n=="string"&&n.indexOf("%")!==-1}function vX(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Jw(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Rp(n){return n.length===1?"0"+n:String(n)}function Ebe(n,e,t){return{r:rs(n,255)*255,g:rs(e,255)*255,b:rs(t,255)*255}}function fF(n,e,t){n=rs(n,255),e=rs(e,255),t=rs(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,s=0,o=(r+i)/2;if(r===i)s=0,a=0;else{var l=r-i;switch(s=o>.5?l/(2-r-i):l/(r+i),r){case n:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-n)/l+2;break;case t:a=(n-e)/l+4;break}a/=6}return{h:a,s,l:o}}function L3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ibe(n,e,t){var r,i,a;if(n=rs(n,360),e=rs(e,100),t=rs(t,100),e===0)i=t,a=t,r=t;else{var s=t<.5?t*(1+e):t+e-t*e,o=2*t-s;r=L3(o,s,n+1/3),i=L3(o,s,n),a=L3(o,s,n-1/3)}return{r:r*255,g:i*255,b:a*255}}function hF(n,e,t){n=rs(n,255),e=rs(e,255),t=rs(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,s=r,o=r-i,l=r===0?0:o/r;if(r===i)a=0;else{switch(r){case n:a=(e-t)/o+(e<t?6:0);break;case e:a=(t-n)/o+2;break;case t:a=(n-e)/o+4;break}a/=6}return{h:a,s:l,v:s}}function Rbe(n,e,t){n=rs(n,360)*6,e=rs(e,100),t=rs(t,100);var r=Math.floor(n),i=n-r,a=t*(1-e),s=t*(1-i*e),o=t*(1-(1-i)*e),l=r%6,c=[t,s,a,a,o,t][l],u=[o,t,t,s,a,a][l],d=[a,a,o,t,t,s][l];return{r:c*255,g:u*255,b:d*255}}function pF(n,e,t,r){var i=[Rp(Math.round(n).toString(16)),Rp(Math.round(e).toString(16)),Rp(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Pbe(n,e,t,r,i){var a=[Rp(Math.round(n).toString(16)),Rp(Math.round(e).toString(16)),Rp(Math.round(t).toString(16)),Rp(Dbe(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Dbe(n){return Math.round(parseFloat(n)*255).toString(16)}function mF(n){return Do(n)/255}function Do(n){return parseInt(n,16)}function kbe(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var B5={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Lbe(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,a=null,s=!1,o=!1;return typeof n=="string"&&(n=Bbe(n)),typeof n=="object"&&(Ru(n.r)&&Ru(n.g)&&Ru(n.b)?(e=Ebe(n.r,n.g,n.b),s=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Ru(n.h)&&Ru(n.s)&&Ru(n.v)?(r=Jw(n.s),i=Jw(n.v),e=Rbe(n.h,r,i),s=!0,o="hsv"):Ru(n.h)&&Ru(n.s)&&Ru(n.l)&&(r=Jw(n.s),a=Jw(n.l),e=Ibe(n.h,r,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=vX(t),{ok:s,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var Nbe="[-\\+]?\\d+%?",Obe="[-\\+]?\\d*\\.\\d+%?",Af="(?:".concat(Obe,")|(?:").concat(Nbe,")"),N3="[\\s|\\(]+(".concat(Af,")[,|\\s]+(").concat(Af,")[,|\\s]+(").concat(Af,")\\s*\\)?"),O3="[\\s|\\(]+(".concat(Af,")[,|\\s]+(").concat(Af,")[,|\\s]+(").concat(Af,")[,|\\s]+(").concat(Af,")\\s*\\)?"),Jl={CSS_UNIT:new RegExp(Af),rgb:new RegExp("rgb"+N3),rgba:new RegExp("rgba"+O3),hsl:new RegExp("hsl"+N3),hsla:new RegExp("hsla"+O3),hsv:new RegExp("hsv"+N3),hsva:new RegExp("hsva"+O3),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Bbe(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(B5[n])n=B5[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=Jl.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Jl.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Jl.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=Jl.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Jl.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=Jl.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Jl.hex8.exec(n),t?{r:Do(t[1]),g:Do(t[2]),b:Do(t[3]),a:mF(t[4]),format:e?"name":"hex8"}:(t=Jl.hex6.exec(n),t?{r:Do(t[1]),g:Do(t[2]),b:Do(t[3]),format:e?"name":"hex"}:(t=Jl.hex4.exec(n),t?{r:Do(t[1]+t[1]),g:Do(t[2]+t[2]),b:Do(t[3]+t[3]),a:mF(t[4]+t[4]),format:e?"name":"hex8"}:(t=Jl.hex3.exec(n),t?{r:Do(t[1]+t[1]),g:Do(t[2]+t[2]),b:Do(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Ru(n){return!!Jl.CSS_UNIT.exec(String(n))}var gX=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=kbe(e)),this.originalInput=e;var i=Lbe(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,a=e.r/255,s=e.g/255,o=e.b/255;return a<=.03928?t=a/12.92:t=Math.pow((a+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),o<=.03928?i=o/12.92:i=Math.pow((o+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=vX(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=hF(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=hF(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=fF(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=fF(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),pF(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),Pbe(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(rs(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(rs(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+pF(this.r,this.g,this.b,!1),t=0,r=Object.entries(B5);t<r.length;t++){var i=r[t],a=i[0],s=i[1];if(e===s)return a}return!1},n.prototype.toString=function(e){var t=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,a=!t&&i&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Qw(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Qw(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Qw(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Qw(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),a=t/100,s={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return new n(s)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,a=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(new n(r));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,a=t.v,s=[],o=1/e;e--;)s.push(new n({h:r,s:i,v:a})),a=(a+o)%1;return s},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],a=360/e,s=1;s<e;s++)i.push(new n({h:(r+s*a)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}();function Gd(n,e=20){return n.mix("#141414",e).toString()}function Fbe(n){const e=os(),t=bt("button");return U(()=>{let r={},i=n.color;if(i){const a=i.match(/var\((.*?)\)/);a&&(i=window.getComputedStyle(window.document.documentElement).getPropertyValue(a[1]));const s=new gX(i),o=n.dark?s.tint(20).toString():Gd(s,20);if(n.plain)r=t.cssVarBlock({"bg-color":n.dark?Gd(s,90):s.tint(90).toString(),"text-color":i,"border-color":n.dark?Gd(s,50):s.tint(50).toString(),"hover-text-color":`var(${t.cssVarName("color-white")})`,"hover-bg-color":i,"hover-border-color":i,"active-bg-color":o,"active-text-color":`var(${t.cssVarName("color-white")})`,"active-border-color":o}),e.value&&(r[t.cssVarBlockName("disabled-bg-color")]=n.dark?Gd(s,90):s.tint(90).toString(),r[t.cssVarBlockName("disabled-text-color")]=n.dark?Gd(s,50):s.tint(50).toString(),r[t.cssVarBlockName("disabled-border-color")]=n.dark?Gd(s,80):s.tint(80).toString());else{const l=n.dark?Gd(s,30):s.tint(30).toString(),c=s.isDark()?`var(${t.cssVarName("color-white")})`:`var(${t.cssVarName("color-black")})`;if(r=t.cssVarBlock({"bg-color":i,"text-color":c,"border-color":i,"hover-bg-color":l,"hover-text-color":c,"hover-border-color":l,"active-bg-color":o,"active-border-color":o}),e.value){const u=n.dark?Gd(s,50):s.tint(50).toString();r[t.cssVarBlockName("disabled-bg-color")]=u,r[t.cssVarBlockName("disabled-text-color")]=n.dark?"rgba(255, 255, 255, 0.5)":`var(${t.cssVarName("color-white")})`,r[t.cssVarBlockName("disabled-border-color")]=u}}}return r})}const zbe=Re({name:"ElButton"}),Ube=Re({...zbe,props:O5,emits:Mbe,setup(n,{expose:e,emit:t}){const r=n,i=Fbe(r),a=bt("button"),{_ref:s,_size:o,_type:l,_disabled:c,_props:u,shouldAddSpace:d,handleClick:f}=Sbe(r,t),h=U(()=>[a.b(),a.m(l.value),a.m(o.value),a.is("disabled",c.value),a.is("loading",r.loading),a.is("plain",r.plain),a.is("round",r.round),a.is("circle",r.circle),a.is("text",r.text),a.is("link",r.link),a.is("has-bg",r.bg)]);return e({ref:s,size:o,type:l,disabled:c,shouldAddSpace:d}),(p,m)=>(V(),rt(Nn(p.tag),Hn({ref_key:"_ref",ref:s},w(u),{class:w(h),style:w(i),onClick:w(f)}),{default:be(()=>[p.loading?(V(),he(zt,{key:0},[p.$slots.loading?Qe(p.$slots,"loading",{key:0}):(V(),rt(w(Vt),{key:1,class:Z(w(a).is("loading"))},{default:be(()=>[(V(),rt(Nn(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(V(),rt(w(Vt),{key:1},{default:be(()=>[p.icon?(V(),rt(Nn(p.icon),{key:0})):Qe(p.$slots,"icon",{key:1})]),_:3})):Je("v-if",!0),p.$slots.default?(V(),he("span",{key:2,class:Z({[w(a).em("text","expand")]:w(d)})},[Qe(p.$slots,"default")],2)):Je("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Hbe=Pt(Ube,[["__file","button.vue"]]);const Vbe={size:O5.size,type:O5.type},$be=Re({name:"ElButtonGroup"}),Gbe=Re({...$be,props:Vbe,setup(n){const e=n;$n(mX,mr({size:_r(e,"size"),type:_r(e,"type")}));const t=bt("button");return(r,i)=>(V(),he("div",{class:Z(w(t).b("group"))},[Qe(r.$slots,"default")],2))}});var yX=Pt(Gbe,[["__file","button-group.vue"]]);const Ia=gn(Hbe,{ButtonGroup:yX}),bX=Ti(yX);var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _X={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){var t=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",u="week",d="month",f="quarter",h="year",p="date",m="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var B=["th","st","nd","rd"],k=F%100;return"["+F+(B[(k-20)%10]||B[k]||B[0])+"]"}},b=function(F,B,k){var H=String(F);return!H||H.length>=B?F:""+Array(B+1-H.length).join(k)+F},_={s:b,z:function(F){var B=-F.utcOffset(),k=Math.abs(B),H=Math.floor(k/60),z=k%60;return(B<=0?"+":"-")+b(H,2,"0")+":"+b(z,2,"0")},m:function F(B,k){if(B.date()<k.date())return-F(k,B);var H=12*(k.year()-B.year())+(k.month()-B.month()),z=B.clone().add(H,d),O=k-z<0,W=B.clone().add(H+(O?-1:1),d);return+(-(H+(k-z)/(O?z-W:W-z))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:d,y:h,w:u,d:c,D:p,h:l,m:o,s,ms:a,Q:f}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},x="en",S={};S[x]=y;var T="$isDayjsObject",C=function(F){return F instanceof D||!(!F||!F[T])},M=function F(B,k,H){var z;if(!B)return x;if(typeof B=="string"){var O=B.toLowerCase();S[O]&&(z=O),k&&(S[O]=k,z=O);var W=B.split("-");if(!z&&W.length>1)return F(W[0])}else{var j=B.name;S[j]=B,z=j}return!H&&z&&(x=z),z||!H&&x},A=function(F,B){if(C(F))return F.clone();var k=typeof B=="object"?B:{};return k.date=F,k.args=arguments,new D(k)},I=_;I.l=M,I.i=C,I.w=function(F,B){return A(F,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var D=function(){function F(k){this.$L=M(k.locale,null,!0),this.parse(k),this.$x=this.$x||k.x||{},this[T]=!0}var B=F.prototype;return B.parse=function(k){this.$d=function(H){var z=H.date,O=H.utc;if(z===null)return new Date(NaN);if(I.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var W=z.match(v);if(W){var j=W[2]-1||0,ee=(W[7]||"0").substring(0,3);return O?new Date(Date.UTC(W[1],j,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ee)):new Date(W[1],j,W[3]||1,W[4]||0,W[5]||0,W[6]||0,ee)}}return new Date(z)}(k),this.init()},B.init=function(){var k=this.$d;this.$y=k.getFullYear(),this.$M=k.getMonth(),this.$D=k.getDate(),this.$W=k.getDay(),this.$H=k.getHours(),this.$m=k.getMinutes(),this.$s=k.getSeconds(),this.$ms=k.getMilliseconds()},B.$utils=function(){return I},B.isValid=function(){return this.$d.toString()!==m},B.isSame=function(k,H){var z=A(k);return this.startOf(H)<=z&&z<=this.endOf(H)},B.isAfter=function(k,H){return A(k)<this.startOf(H)},B.isBefore=function(k,H){return this.endOf(H)<A(k)},B.$g=function(k,H,z){return I.u(k)?this[H]:this.set(z,k)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(k,H){var z=this,O=!!I.u(H)||H,W=I.p(k),j=function(Ae,ke){var Fe=I.w(z.$u?Date.UTC(z.$y,ke,Ae):new Date(z.$y,ke,Ae),z);return O?Fe:Fe.endOf(c)},ee=function(Ae,ke){return I.w(z.toDate()[Ae].apply(z.toDate("s"),(O?[0,0,0,0]:[23,59,59,999]).slice(ke)),z)},te=this.$W,J=this.$M,Q=this.$D,ie="set"+(this.$u?"UTC":"");switch(W){case h:return O?j(1,0):j(31,11);case d:return O?j(1,J):j(0,J+1);case u:var le=this.$locale().weekStart||0,we=(te<le?te+7:te)-le;return j(O?Q-we:Q+(6-we),J);case c:case p:return ee(ie+"Hours",0);case l:return ee(ie+"Minutes",1);case o:return ee(ie+"Seconds",2);case s:return ee(ie+"Milliseconds",3);default:return this.clone()}},B.endOf=function(k){return this.startOf(k,!1)},B.$set=function(k,H){var z,O=I.p(k),W="set"+(this.$u?"UTC":""),j=(z={},z[c]=W+"Date",z[p]=W+"Date",z[d]=W+"Month",z[h]=W+"FullYear",z[l]=W+"Hours",z[o]=W+"Minutes",z[s]=W+"Seconds",z[a]=W+"Milliseconds",z)[O],ee=O===c?this.$D+(H-this.$W):H;if(O===d||O===h){var te=this.clone().set(p,1);te.$d[j](ee),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else j&&this.$d[j](ee);return this.init(),this},B.set=function(k,H){return this.clone().$set(k,H)},B.get=function(k){return this[I.p(k)]()},B.add=function(k,H){var z,O=this;k=Number(k);var W=I.p(H),j=function(J){var Q=A(O);return I.w(Q.date(Q.date()+Math.round(J*k)),O)};if(W===d)return this.set(d,this.$M+k);if(W===h)return this.set(h,this.$y+k);if(W===c)return j(1);if(W===u)return j(7);var ee=(z={},z[o]=r,z[l]=i,z[s]=t,z)[W]||1,te=this.$d.getTime()+k*ee;return I.w(te,this)},B.subtract=function(k,H){return this.add(-1*k,H)},B.format=function(k){var H=this,z=this.$locale();if(!this.isValid())return z.invalidDate||m;var O=k||"YYYY-MM-DDTHH:mm:ssZ",W=I.z(this),j=this.$H,ee=this.$m,te=this.$M,J=z.weekdays,Q=z.months,ie=z.meridiem,le=function(ke,Fe,q,ce){return ke&&(ke[Fe]||ke(H,O))||q[Fe].slice(0,ce)},we=function(ke){return I.s(j%12||12,ke,"0")},Ae=ie||function(ke,Fe,q){var ce=ke<12?"AM":"PM";return q?ce.toLowerCase():ce};return O.replace(g,function(ke,Fe){return Fe||function(q){switch(q){case"YY":return String(H.$y).slice(-2);case"YYYY":return I.s(H.$y,4,"0");case"M":return te+1;case"MM":return I.s(te+1,2,"0");case"MMM":return le(z.monthsShort,te,Q,3);case"MMMM":return le(Q,te);case"D":return H.$D;case"DD":return I.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return le(z.weekdaysMin,H.$W,J,2);case"ddd":return le(z.weekdaysShort,H.$W,J,3);case"dddd":return J[H.$W];case"H":return String(j);case"HH":return I.s(j,2,"0");case"h":return we(1);case"hh":return we(2);case"a":return Ae(j,ee,!0);case"A":return Ae(j,ee,!1);case"m":return String(ee);case"mm":return I.s(ee,2,"0");case"s":return String(H.$s);case"ss":return I.s(H.$s,2,"0");case"SSS":return I.s(H.$ms,3,"0");case"Z":return W}return null}(ke)||W.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(k,H,z){var O,W=this,j=I.p(H),ee=A(k),te=(ee.utcOffset()-this.utcOffset())*r,J=this-ee,Q=function(){return I.m(W,ee)};switch(j){case h:O=Q()/12;break;case d:O=Q();break;case f:O=Q()/3;break;case u:O=(J-te)/6048e5;break;case c:O=(J-te)/864e5;break;case l:O=J/i;break;case o:O=J/r;break;case s:O=J/t;break;default:O=J}return z?O:I.a(O)},B.daysInMonth=function(){return this.endOf(d).$D},B.$locale=function(){return S[this.$L]},B.locale=function(k,H){if(!k)return this.$L;var z=this.clone(),O=M(k,H,!0);return O&&(z.$L=O),z},B.clone=function(){return I.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},F}(),L=D.prototype;return A.prototype=L,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",d],["$y",h],["$D",p]].forEach(function(F){L[F[1]]=function(B){return this.$g(B,F[0],F[1])}}),A.extend=function(F,B){return F.$i||(F(B,D,A),F.$i=!0),A},A.locale=M,A.isDayjs=C,A.unix=function(F){return A(1e3*F)},A.en=S[x],A.Ls=S,A.p={},A})})(_X);var Wbe=_X.exports;const hn=xu(Wbe),B3=(n,e)=>[n>0?n-1:void 0,n,n<e?n+1:void 0],Bf=n=>Array.from(Array.from({length:n}).keys()),wX=n=>n.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),xX=n=>n.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),vF=function(n,e){const t=Yf(n),r=Yf(e);return t&&r?n.getTime()===e.getTime():!t&&!r?n===e:!1},gF=function(n,e){const t=Tt(n),r=Tt(e);return t&&r?n.length!==e.length?!1:n.every((i,a)=>vF(i,e[a])):!t&&!r?vF(n,e):!1},yF=function(n,e,t){const r=Oo(e)||e==="x"?hn(n).locale(t):hn(n,e).locale(t);return r.isValid()?r:void 0},bF=function(n,e,t){return Oo(e)?n:e==="x"?+n:hn(n).locale(t).format(e)},F3=(n,e)=>{var t;const r=[],i=e==null?void 0:e();for(let a=0;a<n;a++)r.push((t=i==null?void 0:i.includes(a))!=null?t:!1);return r},ex=n=>Tt(n)?n.map(e=>e.toDate()):n.toDate(),qbe=(n,e)=>{const t=n.subtract(1,"month").endOf("month").date();return Bf(e).map((r,i)=>t-(e-i-1))},Kbe=n=>{const e=n.daysInMonth();return Bf(e).map((t,r)=>r+1)},Ybe=n=>Bf(n.length/7).map(e=>{const t=e*7;return n.slice(t,t+7)}),Xbe=Rt({selectedDay:{type:Ke(Object)},range:{type:Ke(Array)},date:{type:Ke(Object),required:!0},hideHeader:{type:Boolean}}),jbe={pick:n=>Pn(n)};var SX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){return function(t,r,i){var a=r.prototype,s=function(d){return d&&(d.indexOf?d:d.s)},o=function(d,f,h,p,m){var v=d.name?d:d.$locale(),g=s(v[f]),y=s(v[h]),b=g||y.map(function(x){return x.slice(0,p)});if(!m)return b;var _=v.weekStart;return b.map(function(x,S){return b[(S+(_||0))%7]})},l=function(){return i.Ls[i.locale()]},c=function(d,f){return d.formats[f]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,m,v){return m||v.slice(1)})}(d.formats[f.toUpperCase()])},u=function(){var d=this;return{months:function(f){return f?f.format("MMMM"):o(d,"months")},monthsShort:function(f){return f?f.format("MMM"):o(d,"monthsShort","months",3)},firstDayOfWeek:function(){return d.$locale().weekStart||0},weekdays:function(f){return f?f.format("dddd"):o(d,"weekdays")},weekdaysMin:function(f){return f?f.format("dd"):o(d,"weekdaysMin","weekdays",2)},weekdaysShort:function(f){return f?f.format("ddd"):o(d,"weekdaysShort","weekdays",3)},longDateFormat:function(f){return c(d.$locale(),f)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return u.bind(this)()},i.localeData=function(){var d=l();return{firstDayOfWeek:function(){return d.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(f){return c(d,f)},meridiem:d.meridiem,ordinal:d.ordinal}},i.months=function(){return o(l(),"months")},i.monthsShort=function(){return o(l(),"monthsShort","months",3)},i.weekdays=function(d){return o(l(),"weekdays",null,null,d)},i.weekdaysShort=function(d){return o(l(),"weekdaysShort","weekdays",3,d)},i.weekdaysMin=function(d){return o(l(),"weekdaysMin","weekdays",2,d)}}})})(SX);var Zbe=SX.exports;const CX=xu(Zbe),Qbe=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],z3=["sun","mon","tue","wed","thu","fri","sat"],Jbe=(n,e)=>{hn.extend(CX);const t=hn.localeData().firstDayOfWeek(),{t:r,lang:i}=rr(),a=hn().locale(i.value),s=U(()=>!!n.range&&!!n.range.length),o=U(()=>{let f=[];if(s.value){const[h,p]=n.range,m=Bf(p.date()-h.date()+1).map(y=>({text:h.date()+y,type:"current"}));let v=m.length%7;v=v===0?0:7-v;const g=Bf(v).map((y,b)=>({text:b+1,type:"next"}));f=m.concat(g)}else{const h=n.date.startOf("month").day(),p=qbe(n.date,(h-t+7)%7).map(y=>({text:y,type:"prev"})),m=Kbe(n.date).map(y=>({text:y,type:"current"}));f=[...p,...m];const v=7-(f.length%7||7),g=Bf(v).map((y,b)=>({text:b+1,type:"next"}));f=f.concat(g)}return Ybe(f)}),l=U(()=>{const f=t;return f===0?z3.map(h=>r(`el.datepicker.weeks.${h}`)):z3.slice(f).concat(z3.slice(0,f)).map(h=>r(`el.datepicker.weeks.${h}`))}),c=(f,h)=>{switch(h){case"prev":return n.date.startOf("month").subtract(1,"month").date(f);case"next":return n.date.startOf("month").add(1,"month").date(f);case"current":return n.date.date(f)}};return{now:a,isInRange:s,rows:o,weekDays:l,getFormattedDate:c,handlePickDay:({text:f,type:h})=>{const p=c(f,h);e("pick",p)},getSlotData:({text:f,type:h})=>{const p=c(f,h);return{isSelected:p.isSame(n.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},e_e=Re({name:"DateTable"}),t_e=Re({...e_e,props:Xbe,emits:jbe,setup(n,{expose:e,emit:t}){const r=n,{isInRange:i,now:a,rows:s,weekDays:o,getFormattedDate:l,handlePickDay:c,getSlotData:u}=Jbe(r,t),d=bt("calendar-table"),f=bt("calendar-day"),h=({text:p,type:m})=>{const v=[m];if(m==="current"){const g=l(p,m);g.isSame(r.selectedDay,"day")&&v.push(f.is("selected")),g.isSame(a,"day")&&v.push(f.is("today"))}return v};return e({getFormattedDate:l}),(p,m)=>(V(),he("table",{class:Z([w(d).b(),w(d).is("range",w(i))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?Je("v-if",!0):(V(),he("thead",{key:0},[ve("tr",null,[(V(!0),he(zt,null,In(w(o),v=>(V(),he("th",{key:v,scope:"col"},Ct(v),1))),128))])])),ve("tbody",null,[(V(!0),he(zt,null,In(w(s),(v,g)=>(V(),he("tr",{key:g,class:Z({[w(d).e("row")]:!0,[w(d).em("row","hide-border")]:g===0&&p.hideHeader})},[(V(!0),he(zt,null,In(v,(y,b)=>(V(),he("td",{key:b,class:Z(h(y)),onClick:_=>w(c)(y)},[ve("div",{class:Z(w(f).b())},[Qe(p.$slots,"date-cell",{data:w(u)(y)},()=>[ve("span",null,Ct(y.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var _F=Pt(t_e,[["__file","date-table.vue"]]);const n_e=(n,e)=>{const t=n.endOf("month"),r=e.startOf("month"),a=t.isSame(r,"week")?r.add(1,"week"):r;return[[n,t],[a.startOf("week"),e]]},r_e=(n,e)=>{const t=n.endOf("month"),r=n.add(1,"month").startOf("month"),i=t.isSame(r,"week")?r.add(1,"week"):r,a=i.endOf("month"),s=e.startOf("month"),o=a.isSame(s,"week")?s.add(1,"week"):s;return[[n,t],[i.startOf("week"),a],[o.startOf("week"),e]]},i_e=(n,e,t)=>{const{lang:r}=rr(),i=ne(),a=hn().locale(r.value),s=U({get(){return n.modelValue?l.value:i.value},set(v){if(!v)return;i.value=v;const g=v.toDate();e(ns,g),e(Tn,g)}}),o=U(()=>{if(!n.range||!Tt(n.range)||n.range.length!==2||n.range.some(b=>!Yf(b)))return[];const v=n.range.map(b=>hn(b).locale(r.value)),[g,y]=v;return g.isAfter(y)?[]:g.isSame(y,"month")?h(g,y):g.add(1,"month").month()!==y.month()?[]:h(g,y)}),l=U(()=>n.modelValue?hn(n.modelValue).locale(r.value):s.value||(o.value.length?o.value[0][0]:a)),c=U(()=>l.value.subtract(1,"month").date(1)),u=U(()=>l.value.add(1,"month").date(1)),d=U(()=>l.value.subtract(1,"year").date(1)),f=U(()=>l.value.add(1,"year").date(1)),h=(v,g)=>{const y=v.startOf("week"),b=g.endOf("week"),_=y.get("month"),x=b.get("month");return _===x?[[y,b]]:(_+1)%12===x?n_e(y,b):_+2===x||(_+1)%11===x?r_e(y,b):[]},p=v=>{s.value=v};return{calculateValidatedDateRange:h,date:l,realSelectedDay:s,pickDay:p,selectDate:v=>{const y={"prev-month":c.value,"next-month":u.value,"prev-year":d.value,"next-year":f.value,today:a}[v];y.isSame(l.value,"day")||p(y)},validatedRange:o}},a_e=n=>Tt(n)&&n.length===2&&n.every(e=>Yf(e)),s_e=Rt({modelValue:{type:Date},range:{type:Ke(Array),validator:a_e}}),o_e={[Tn]:n=>Yf(n),[ns]:n=>Yf(n)},l_e="ElCalendar",c_e=Re({name:l_e}),u_e=Re({...c_e,props:s_e,emits:o_e,setup(n,{expose:e,emit:t}){const r=n,i=bt("calendar"),{calculateValidatedDateRange:a,date:s,pickDay:o,realSelectedDay:l,selectDate:c,validatedRange:u}=i_e(r,t),{t:d}=rr(),f=U(()=>{const h=`el.datepicker.month${s.value.format("M")}`;return`${s.value.year()} ${d("el.datepicker.year")} ${d(h)}`});return e({selectedDay:l,pickDay:o,selectDate:c,calculateValidatedDateRange:a}),(h,p)=>(V(),he("div",{class:Z(w(i).b())},[ve("div",{class:Z(w(i).e("header"))},[Qe(h.$slots,"header",{date:w(f)},()=>[ve("div",{class:Z(w(i).e("title"))},Ct(w(f)),3),w(u).length===0?(V(),he("div",{key:0,class:Z(w(i).e("button-group"))},[ue(w(bX),null,{default:be(()=>[ue(w(Ia),{size:"small",onClick:m=>w(c)("prev-month")},{default:be(()=>[dn(Ct(w(d)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),ue(w(Ia),{size:"small",onClick:m=>w(c)("today")},{default:be(()=>[dn(Ct(w(d)("el.datepicker.today")),1)]),_:1},8,["onClick"]),ue(w(Ia),{size:"small",onClick:m=>w(c)("next-month")},{default:be(()=>[dn(Ct(w(d)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):Je("v-if",!0)])],2),w(u).length===0?(V(),he("div",{key:0,class:Z(w(i).e("body"))},[ue(_F,{date:w(s),"selected-day":w(l),onPick:w(o)},Rl({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:be(m=>[Qe(h.$slots,"date-cell",oc(jf(m)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(V(),he("div",{key:1,class:Z(w(i).e("body"))},[(V(!0),he(zt,null,In(w(u),(m,v)=>(V(),rt(_F,{key:v,date:m[0],"selected-day":w(l),range:m,"hide-header":v!==0,onPick:w(o)},Rl({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:be(g=>[Qe(h.$slots,"date-cell",oc(jf(g)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var d_e=Pt(u_e,[["__file","calendar.vue"]]);const f_e=gn(d_e),h_e=Rt({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Ke([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),p_e=Re({name:"ElCard"}),m_e=Re({...p_e,props:h_e,setup(n){const e=bt("card");return(t,r)=>(V(),he("div",{class:Z([w(e).b(),w(e).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?(V(),he("div",{key:0,class:Z(w(e).e("header"))},[Qe(t.$slots,"header",{},()=>[dn(Ct(t.header),1)])],2)):Je("v-if",!0),ve("div",{class:Z([w(e).e("body"),t.bodyClass]),style:Bt(t.bodyStyle)},[Qe(t.$slots,"default")],6),t.$slots.footer||t.footer?(V(),he("div",{key:1,class:Z(w(e).e("footer"))},[Qe(t.$slots,"footer",{},()=>[dn(Ct(t.footer),1)])],2)):Je("v-if",!0)],2))}});var v_e=Pt(m_e,[["__file","card.vue"]]);const g_e=gn(v_e),y_e=Rt({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),b_e={change:(n,e)=>[n,e].every(en)},MX=Symbol("carouselContextKey"),F5="ElCarouselItem";var cl=(n=>(n[n.TEXT=1]="TEXT",n[n.CLASS=2]="CLASS",n[n.STYLE=4]="STYLE",n[n.PROPS=8]="PROPS",n[n.FULL_PROPS=16]="FULL_PROPS",n[n.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",n[n.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",n[n.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",n[n.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",n[n.NEED_PATCH=512]="NEED_PATCH",n[n.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",n[n.HOISTED=-1]="HOISTED",n[n.BAIL=-2]="BAIL",n))(cl||{});function z5(n){return _i(n)&&n.type===zt}function __e(n){return _i(n)&&n.type===Ms}function w_e(n){return _i(n)&&!z5(n)&&!__e(n)}const x_e=n=>{if(!_i(n))return{};const e=n.props||{},t=(_i(n.type)?n.type.props:void 0)||{},r={};return Object.keys(t).forEach(i=>{sr(t[i],"default")&&(r[i]=t[i].default)}),Object.keys(e).forEach(i=>{r[Ko(i)]=e[i]}),r},S_e=n=>{if(!Tt(n)||n.length>1)throw new Error("expect to receive a single Vue element child");return n[0]},Ff=n=>{const e=Tt(n)?n:[n],t=[];return e.forEach(r=>{var i;Tt(r)?t.push(...Ff(r)):_i(r)&&((i=r.component)!=null&&i.subTree)?t.push(r,...Ff(r.component.subTree)):_i(r)&&Tt(r.children)?t.push(...Ff(r.children)):t.push(r)}),t},C_e=(n,e,t)=>Ff(n.subTree).filter(a=>{var s;return _i(a)&&((s=a.type)==null?void 0:s.name)===e&&!!a.component}).map(a=>a.component.uid).map(a=>t[a]).filter(a=>!!a),ML=(n,e)=>{const t={},r=Ir([]);return{children:r,addChild:s=>{t[s.uid]=s,r.value=C_e(n,e,t)},removeChild:s=>{delete t[s],r.value=r.value.filter(o=>o.uid!==s)}}},wF=300,M_e=(n,e,t)=>{const{children:r,addChild:i,removeChild:a}=ML(kn(),F5),s=na(),o=ne(-1),l=ne(null),c=ne(!1),u=ne(),d=ne(0),f=ne(!0),h=ne(!0),p=ne(!1),m=U(()=>n.arrow!=="never"&&!w(y)),v=U(()=>r.value.some(ie=>ie.props.label.toString().length>0)),g=U(()=>n.type==="card"),y=U(()=>n.direction==="vertical"),b=U(()=>n.height!=="auto"?{height:n.height}:{height:`${d.value}px`,overflow:"hidden"}),_=Kp(ie=>{A(ie)},wF,{trailing:!0}),x=Kp(ie=>{O(ie)},wF),S=ie=>f.value?o.value<=1?ie<=1:ie>1:!0;function T(){l.value&&(clearInterval(l.value),l.value=null)}function C(){n.interval<=0||!n.autoplay||l.value||(l.value=setInterval(()=>M(),n.interval))}const M=()=>{h.value||(p.value=!0),h.value=!1,o.value<r.value.length-1?o.value=o.value+1:n.loop?o.value=0:p.value=!1};function A(ie){if(h.value||(p.value=!0),h.value=!1,qt(ie)){const Ae=r.value.filter(ke=>ke.props.name===ie);Ae.length>0&&(ie=r.value.indexOf(Ae[0]))}if(ie=Number(ie),Number.isNaN(ie)||ie!==Math.floor(ie))return;const le=r.value.length,we=o.value;ie<0?o.value=n.loop?le-1:0:ie>=le?o.value=n.loop?0:le-1:o.value=ie,we===o.value&&I(we),ee()}function I(ie){r.value.forEach((le,we)=>{le.translateItem(we,o.value,ie)})}function D(ie,le){var we,Ae,ke,Fe;const q=w(r),ce=q.length;if(ce===0||!ie.states.inStage)return!1;const re=le+1,Ne=le-1,Pe=ce-1,$e=q[Pe].states.active,Ue=q[0].states.active,Ve=(Ae=(we=q[re])==null?void 0:we.states)==null?void 0:Ae.active,je=(Fe=(ke=q[Ne])==null?void 0:ke.states)==null?void 0:Fe.active;return le===Pe&&Ue||Ve?"left":le===0&&$e||je?"right":!1}function L(){c.value=!0,n.pauseOnHover&&T()}function F(){c.value=!1,C()}function B(){p.value=!1}function k(ie){w(y)||r.value.forEach((le,we)=>{ie===D(le,we)&&(le.states.hover=!0)})}function H(){w(y)||r.value.forEach(ie=>{ie.states.hover=!1})}function z(ie){ie!==o.value&&(h.value||(p.value=!0)),o.value=ie}function O(ie){n.trigger==="hover"&&ie!==o.value&&(o.value=ie,h.value||(p.value=!0))}function W(){A(o.value-1)}function j(){A(o.value+1)}function ee(){T(),n.pauseOnHover||C()}function te(ie){n.height==="auto"&&(d.value=ie)}function J(){var ie;const le=(ie=s.default)==null?void 0:ie.call(s);if(!le)return null;const Ae=Ff(le).filter(ke=>_i(ke)&&ke.type.name===F5);return(Ae==null?void 0:Ae.length)===2&&n.loop&&!g.value?(f.value=!0,Ae):(f.value=!1,null)}dt(()=>o.value,(ie,le)=>{I(le),f.value&&(ie=ie%2,le=le%2),le>-1&&e("change",ie,le)}),dt(()=>n.autoplay,ie=>{ie?C():T()}),dt(()=>n.loop,()=>{A(o.value)}),dt(()=>n.interval,()=>{ee()});const Q=Ir();return pn(()=>{dt(()=>r.value,()=>{r.value.length>0&&A(n.initialIndex)},{immediate:!0}),Q.value=ui(u.value,()=>{I()}),C()}),yr(()=>{T(),u.value&&Q.value&&Q.value.stop()}),$n(MX,{root:u,isCardType:g,isVertical:y,items:r,loop:n.loop,cardScale:n.cardScale,addItem:i,removeItem:a,setActiveItem:A,setContainerHeight:te}),{root:u,activeIndex:o,arrowDisplay:m,hasLabel:v,hover:c,isCardType:g,isTransitioning:p,items:r,isVertical:y,containerStyle:b,isItemsTwoLength:f,handleButtonEnter:k,handleTransitionEnd:B,handleButtonLeave:H,handleIndicatorClick:z,handleMouseEnter:L,handleMouseLeave:F,setActiveItem:A,prev:W,next:j,PlaceholderItem:J,isTwoLengthShow:S,throttledArrowClick:_,throttledIndicatorHover:x}},T_e="ElCarousel",A_e=Re({name:T_e}),E_e=Re({...A_e,props:y_e,emits:b_e,setup(n,{expose:e,emit:t}){const r=n,{root:i,activeIndex:a,arrowDisplay:s,hasLabel:o,hover:l,isCardType:c,items:u,isVertical:d,containerStyle:f,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:m,handleIndicatorClick:v,handleMouseEnter:g,handleMouseLeave:y,handleTransitionEnd:b,setActiveItem:_,prev:x,next:S,PlaceholderItem:T,isTwoLengthShow:C,throttledArrowClick:M,throttledIndicatorHover:A}=M_e(r,t),I=bt("carousel"),{t:D}=rr(),L=U(()=>{const k=[I.b(),I.m(r.direction)];return w(c)&&k.push(I.m("card")),k}),F=U(()=>{const k=[I.e("container")];return r.motionBlur&&w(m)&&u.value.length>1&&k.push(w(d)?`${I.namespace.value}-transitioning-vertical`:`${I.namespace.value}-transitioning`),k}),B=U(()=>{const k=[I.e("indicators"),I.em("indicators",r.direction)];return w(o)&&k.push(I.em("indicators","labels")),r.indicatorPosition==="outside"&&k.push(I.em("indicators","outside")),w(d)&&k.push(I.em("indicators","right")),k});return e({activeIndex:a,setActiveItem:_,prev:x,next:S}),(k,H)=>(V(),he("div",{ref_key:"root",ref:i,class:Z(w(L)),onMouseenter:sn(w(g),["stop"]),onMouseleave:sn(w(y),["stop"])},[w(s)?(V(),rt(da,{key:0,name:"carousel-arrow-left",persisted:""},{default:be(()=>[Cn(ve("button",{type:"button",class:Z([w(I).e("arrow"),w(I).em("arrow","left")]),"aria-label":w(D)("el.carousel.leftArrow"),onMouseenter:z=>w(h)("left"),onMouseleave:w(p),onClick:sn(z=>w(M)(w(a)-1),["stop"])},[ue(w(Vt),null,{default:be(()=>[ue(w(eh))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[fr,(k.arrow==="always"||w(l))&&(r.loop||w(a)>0)]])]),_:1})):Je("v-if",!0),w(s)?(V(),rt(da,{key:1,name:"carousel-arrow-right",persisted:""},{default:be(()=>[Cn(ve("button",{type:"button",class:Z([w(I).e("arrow"),w(I).em("arrow","right")]),"aria-label":w(D)("el.carousel.rightArrow"),onMouseenter:z=>w(h)("right"),onMouseleave:w(p),onClick:sn(z=>w(M)(w(a)+1),["stop"])},[ue(w(Vt),null,{default:be(()=>[ue(w(Gs))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[fr,(k.arrow==="always"||w(l))&&(r.loop||w(a)<w(u).length-1)]])]),_:1})):Je("v-if",!0),ve("div",{class:Z(w(F)),style:Bt(w(f)),onTransitionend:w(b)},[ue(w(T)),Qe(k.$slots,"default")],46,["onTransitionend"]),k.indicatorPosition!=="none"?(V(),he("ul",{key:2,class:Z(w(B))},[(V(!0),he(zt,null,In(w(u),(z,O)=>Cn((V(),he("li",{key:O,class:Z([w(I).e("indicator"),w(I).em("indicator",k.direction),w(I).is("active",O===w(a))]),onMouseenter:W=>w(A)(O),onClick:sn(W=>w(v)(O),["stop"])},[ve("button",{class:Z(w(I).e("button")),"aria-label":w(D)("el.carousel.indicator",{index:O+1})},[w(o)?(V(),he("span",{key:0},Ct(z.props.label),1)):Je("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[fr,w(C)(O)]])),128))],2)):Je("v-if",!0),r.motionBlur?(V(),he("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[ve("defs",null,[ve("filter",{id:"elCarouselHorizontal"},[ve("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),ve("filter",{id:"elCarouselVertical"},[ve("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Je("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var I_e=Pt(E_e,[["__file","carousel.vue"]]);const R_e=Rt({name:{type:String,default:""},label:{type:[String,Number],default:""}}),P_e=n=>{const e=Ot(MX),t=kn(),r=ne(),i=ne(!1),a=ne(0),s=ne(1),o=ne(!1),l=ne(!1),c=ne(!1),u=ne(!1),{isCardType:d,isVertical:f,cardScale:h}=e;function p(b,_,x){const S=x-1,T=_-1,C=_+1,M=x/2;return _===0&&b===S?-1:_===S&&b===0?x:b<T&&_-b>=M?x+1:b>C&&b-_>=M?-2:b}function m(b,_){var x,S;const T=w(f)?((x=e.root.value)==null?void 0:x.offsetHeight)||0:((S=e.root.value)==null?void 0:S.offsetWidth)||0;return c.value?T*((2-h)*(b-_)+1)/4:b<_?-(1+h)*T/4:(3+h)*T/4}function v(b,_,x){const S=e.root.value;return S?((x?S.offsetHeight:S.offsetWidth)||0)*(b-_):0}const g=(b,_,x)=>{var S;const T=w(d),C=(S=e.items.value.length)!=null?S:Number.NaN,M=b===_;!T&&!Tr(x)&&(u.value=M||b===x),!M&&C>2&&e.loop&&(b=p(b,_,C));const A=w(f);o.value=M,T?(c.value=Math.round(Math.abs(b-_))<=1,a.value=m(b,_),s.value=w(o)?1:h):a.value=v(b,_,A),l.value=!0,M&&r.value&&e.setContainerHeight(r.value.offsetHeight)};function y(){if(e&&w(d)){const b=e.items.value.findIndex(({uid:_})=>_===t.uid);e.setActiveItem(b)}}return pn(()=>{e.addItem({props:n,states:mr({hover:i,translate:a,scale:s,active:o,ready:l,inStage:c,animating:u}),uid:t.uid,translateItem:g})}),yh(()=>{e.removeItem(t.uid)}),{carouselItemRef:r,active:o,animating:u,hover:i,inStage:c,isVertical:f,translate:a,isCardType:d,scale:s,ready:l,handleItemClick:y}},D_e=Re({name:F5}),k_e=Re({...D_e,props:R_e,setup(n){const e=n,t=bt("carousel"),{carouselItemRef:r,active:i,animating:a,hover:s,inStage:o,isVertical:l,translate:c,isCardType:u,scale:d,ready:f,handleItemClick:h}=P_e(e),p=U(()=>[t.e("item"),t.is("active",i.value),t.is("in-stage",o.value),t.is("hover",s.value),t.is("animating",a.value),{[t.em("item","card")]:u.value,[t.em("item","card-vertical")]:u.value&&l.value}]),m=U(()=>{const g=`${`translate${w(l)?"Y":"X"}`}(${w(c)}px)`,y=`scale(${w(d)})`;return{transform:[g,y].join(" ")}});return(v,g)=>Cn((V(),he("div",{ref_key:"carouselItemRef",ref:r,class:Z(w(p)),style:Bt(w(m)),onClick:w(h)},[w(u)?Cn((V(),he("div",{key:0,class:Z(w(t).e("mask"))},null,2)),[[fr,!w(i)]]):Je("v-if",!0),Qe(v.$slots,"default")],14,["onClick"])),[[fr,w(f)]])}});var TX=Pt(k_e,[["__file","carousel-item.vue"]]);const L_e=gn(I_e,{CarouselItem:TX}),N_e=Ti(TX),AX={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:ta,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...$a(["ariaControls"])},EX={[Tn]:n=>qt(n)||en(n)||Vr(n),change:n=>qt(n)||en(n)||Vr(n)},ty=Symbol("checkboxGroupContextKey"),O_e=({model:n,isChecked:e})=>{const t=Ot(ty,void 0),r=U(()=>{var a,s;const o=(a=t==null?void 0:t.max)==null?void 0:a.value,l=(s=t==null?void 0:t.min)==null?void 0:s.value;return!Tr(o)&&n.value.length>=o&&!e.value||!Tr(l)&&n.value.length<=l&&e.value});return{isDisabled:os(U(()=>(t==null?void 0:t.disabled.value)||r.value)),isLimitDisabled:r}},B_e=(n,{model:e,isLimitExceeded:t,hasOwnLabel:r,isDisabled:i,isLabeledByFormItem:a})=>{const s=Ot(ty,void 0),{formItem:o}=ss(),{emit:l}=kn();function c(p){var m,v,g,y;return[!0,n.trueValue,n.trueLabel].includes(p)?(v=(m=n.trueValue)!=null?m:n.trueLabel)!=null?v:!0:(y=(g=n.falseValue)!=null?g:n.falseLabel)!=null?y:!1}function u(p,m){l("change",c(p),m)}function d(p){if(t.value)return;const m=p.target;l("change",c(m.checked),p)}async function f(p){t.value||!r.value&&!i.value&&a.value&&(p.composedPath().some(g=>g.tagName==="LABEL")||(e.value=c([!1,n.falseValue,n.falseLabel].includes(e.value)),await Yt(),u(e.value,p)))}const h=U(()=>(s==null?void 0:s.validateEvent)||n.validateEvent);return dt(()=>n.modelValue,()=>{h.value&&(o==null||o.validate("change").catch(p=>void 0))}),{handleChange:d,onClickRoot:f}},F_e=n=>{const e=ne(!1),{emit:t}=kn(),r=Ot(ty,void 0),i=U(()=>Tr(r)===!1),a=ne(!1),s=U({get(){var o,l;return i.value?(o=r==null?void 0:r.modelValue)==null?void 0:o.value:(l=n.modelValue)!=null?l:e.value},set(o){var l,c;i.value&&Tt(o)?(a.value=((l=r==null?void 0:r.max)==null?void 0:l.value)!==void 0&&o.length>(r==null?void 0:r.max.value)&&o.length>s.value.length,a.value===!1&&((c=r==null?void 0:r.changeEvent)==null||c.call(r,o))):(t(Tn,o),e.value=o)}});return{model:s,isGroup:i,isLimitExceeded:a}},z_e=(n,e,{model:t})=>{const r=Ot(ty,void 0),i=ne(!1),a=U(()=>sm(n.value)?n.label:n.value),s=U(()=>{const u=t.value;return Vr(u)?u:Tt(u)?Pn(a.value)?u.map(Lr).some(d=>Ua(d,a.value)):u.map(Lr).includes(a.value):u!=null?u===n.trueValue||u===n.trueLabel:!!u}),o=Zi(U(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value}),{prop:!0}),l=Zi(U(()=>{var u;return(u=r==null?void 0:r.size)==null?void 0:u.value})),c=U(()=>!!e.default||!sm(a.value));return{checkboxButtonSize:o,isChecked:s,isFocused:i,checkboxSize:l,hasOwnLabel:c,actualValue:a}},IX=(n,e)=>{const{formItem:t}=ss(),{model:r,isGroup:i,isLimitExceeded:a}=F_e(n),{isFocused:s,isChecked:o,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:d}=z_e(n,e,{model:r}),{isDisabled:f}=O_e({model:r,isChecked:o}),{inputId:h,isLabeledByFormItem:p}=Fl(n,{formItemContext:t,disableIdGeneration:u,disableIdManagement:i}),{handleChange:m,onClickRoot:v}=B_e(n,{model:r,isLimitExceeded:a,hasOwnLabel:u,isDisabled:f,isLabeledByFormItem:p});return(()=>{function y(){var b,_;Tt(r.value)&&!r.value.includes(d.value)?r.value.push(d.value):r.value=(_=(b=n.trueValue)!=null?b:n.trueLabel)!=null?_:!0}n.checked&&y()})(),Of({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>i.value&&sm(n.value))),Of({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!n.trueLabel)),Of({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},U(()=>!!n.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:o,isDisabled:f,isFocused:s,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:r,actualValue:d,handleChange:m,onClickRoot:v}},U_e=Re({name:"ElCheckbox"}),H_e=Re({...U_e,props:AX,emits:EX,setup(n){const e=n,t=na(),{inputId:r,isLabeledByFormItem:i,isChecked:a,isDisabled:s,isFocused:o,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:d,handleChange:f,onClickRoot:h}=IX(e,t),p=bt("checkbox"),m=U(()=>[p.b(),p.m(l.value),p.is("disabled",s.value),p.is("bordered",e.border),p.is("checked",a.value)]),v=U(()=>[p.e("input"),p.is("disabled",s.value),p.is("checked",a.value),p.is("indeterminate",e.indeterminate),p.is("focus",o.value)]);return(g,y)=>(V(),rt(Nn(!w(c)&&w(i)?"span":"label"),{class:Z(w(m)),"aria-controls":g.indeterminate?g.ariaControls:null,onClick:w(h)},{default:be(()=>{var b,_,x,S;return[ve("span",{class:Z(w(v))},[g.trueValue||g.falseValue||g.trueLabel||g.falseLabel?Cn((V(),he("input",{key:0,id:w(r),"onUpdate:modelValue":T=>Yr(u)?u.value=T:null,class:Z(w(p).e("original")),type:"checkbox",indeterminate:g.indeterminate,name:g.name,tabindex:g.tabindex,disabled:w(s),"true-value":(_=(b=g.trueValue)!=null?b:g.trueLabel)!=null?_:!0,"false-value":(S=(x=g.falseValue)!=null?x:g.falseLabel)!=null?S:!1,onChange:w(f),onFocus:T=>o.value=!0,onBlur:T=>o.value=!1,onClick:sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[SC,w(u)]]):Cn((V(),he("input",{key:1,id:w(r),"onUpdate:modelValue":T=>Yr(u)?u.value=T:null,class:Z(w(p).e("original")),type:"checkbox",indeterminate:g.indeterminate,disabled:w(s),value:w(d),name:g.name,tabindex:g.tabindex,onChange:w(f),onFocus:T=>o.value=!0,onBlur:T=>o.value=!1,onClick:sn(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[SC,w(u)]]),ve("span",{class:Z(w(p).e("inner"))},null,2)],2),w(c)?(V(),he("span",{key:0,class:Z(w(p).e("label"))},[Qe(g.$slots,"default"),g.$slots.default?Je("v-if",!0):(V(),he(zt,{key:0},[dn(Ct(g.label),1)],64))],2)):Je("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var V_e=Pt(H_e,[["__file","checkbox.vue"]]);const $_e=Re({name:"ElCheckboxButton"}),G_e=Re({...$_e,props:AX,emits:EX,setup(n){const e=n,t=na(),{isFocused:r,isChecked:i,isDisabled:a,checkboxButtonSize:s,model:o,actualValue:l,handleChange:c}=IX(e,t),u=Ot(ty,void 0),d=bt("checkbox"),f=U(()=>{var p,m,v,g;const y=(m=(p=u==null?void 0:u.fill)==null?void 0:p.value)!=null?m:"";return{backgroundColor:y,borderColor:y,color:(g=(v=u==null?void 0:u.textColor)==null?void 0:v.value)!=null?g:"",boxShadow:y?`-1px 0 0 0 ${y}`:void 0}}),h=U(()=>[d.b("button"),d.bm("button",s.value),d.is("disabled",a.value),d.is("checked",i.value),d.is("focus",r.value)]);return(p,m)=>{var v,g,y,b;return V(),he("label",{class:Z(w(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?Cn((V(),he("input",{key:0,"onUpdate:modelValue":_=>Yr(o)?o.value=_:null,class:Z(w(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(a),"true-value":(g=(v=p.trueValue)!=null?v:p.trueLabel)!=null?g:!0,"false-value":(b=(y=p.falseValue)!=null?y:p.falseLabel)!=null?b:!1,onChange:w(c),onFocus:_=>r.value=!0,onBlur:_=>r.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[SC,w(o)]]):Cn((V(),he("input",{key:1,"onUpdate:modelValue":_=>Yr(o)?o.value=_:null,class:Z(w(d).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:w(a),value:w(l),onChange:w(c),onFocus:_=>r.value=!0,onBlur:_=>r.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[SC,w(o)]]),p.$slots.default||p.label?(V(),he("span",{key:2,class:Z(w(d).be("button","inner")),style:Bt(w(i)?w(f):void 0)},[Qe(p.$slots,"default",{},()=>[dn(Ct(p.label),1)])],6)):Je("v-if",!0)],2)}}});var RX=Pt(G_e,[["__file","checkbox-button.vue"]]);const W_e=Rt({modelValue:{type:Ke(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ta,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...$a(["ariaLabel"])}),q_e={[Tn]:n=>Tt(n),change:n=>Tt(n)},K_e=Re({name:"ElCheckboxGroup"}),Y_e=Re({...K_e,props:W_e,emits:q_e,setup(n,{emit:e}){const t=n,r=bt("checkbox"),{formItem:i}=ss(),{inputId:a,isLabeledByFormItem:s}=Fl(t,{formItemContext:i}),o=async c=>{e(Tn,c),await Yt(),e("change",c)},l=U({get(){return t.modelValue},set(c){o(c)}});return $n(ty,{...cc(ua(t),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:o}),dt(()=>t.modelValue,()=>{t.validateEvent&&(i==null||i.validate("change").catch(c=>void 0))}),(c,u)=>{var d;return V(),rt(Nn(c.tag),{id:w(a),class:Z(w(r).b("group")),role:"group","aria-label":w(s)?void 0:c.ariaLabel||"checkbox-group","aria-labelledby":w(s)?(d=w(i))==null?void 0:d.labelId:void 0},{default:be(()=>[Qe(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var PX=Pt(Y_e,[["__file","checkbox-group.vue"]]);const Ll=gn(V_e,{CheckboxButton:RX,CheckboxGroup:PX}),X_e=Ti(RX),DX=Ti(PX),kX=Rt({modelValue:{type:[String,Number,Boolean],default:void 0},size:ta,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),j_e=Rt({...kX,border:Boolean}),LX={[Tn]:n=>qt(n)||en(n)||Vr(n),[Rr]:n=>qt(n)||en(n)||Vr(n)},NX=Symbol("radioGroupKey"),OX=(n,e)=>{const t=ne(),r=Ot(NX,void 0),i=U(()=>!!r),a=U(()=>sm(n.value)?n.label:n.value),s=U({get(){return i.value?r.modelValue:n.modelValue},set(d){i.value?r.changeEvent(d):e&&e(Tn,d),t.value.checked=n.modelValue===a.value}}),o=Zi(U(()=>r==null?void 0:r.size)),l=os(U(()=>r==null?void 0:r.disabled)),c=ne(!1),u=U(()=>l.value||i.value&&s.value!==a.value?-1:0);return Of({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},U(()=>i.value&&sm(n.value))),{radioRef:t,isGroup:i,radioGroup:r,focus:c,size:o,disabled:l,tabIndex:u,modelValue:s,actualValue:a}},Z_e=Re({name:"ElRadio"}),Q_e=Re({...Z_e,props:j_e,emits:LX,setup(n,{emit:e}){const t=n,r=bt("radio"),{radioRef:i,radioGroup:a,focus:s,size:o,disabled:l,modelValue:c,actualValue:u}=OX(t,e);function d(){Yt(()=>e("change",c.value))}return(f,h)=>{var p;return V(),he("label",{class:Z([w(r).b(),w(r).is("disabled",w(l)),w(r).is("focus",w(s)),w(r).is("bordered",f.border),w(r).is("checked",w(c)===w(u)),w(r).m(w(o))])},[ve("span",{class:Z([w(r).e("input"),w(r).is("disabled",w(l)),w(r).is("checked",w(c)===w(u))])},[Cn(ve("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":m=>Yr(c)?c.value=m:null,class:Z(w(r).e("original")),value:w(u),name:f.name||((p=w(a))==null?void 0:p.name),disabled:w(l),checked:w(c)===w(u),type:"radio",onFocus:m=>s.value=!0,onBlur:m=>s.value=!1,onChange:d,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[_K,w(c)]]),ve("span",{class:Z(w(r).e("inner"))},null,2)],2),ve("span",{class:Z(w(r).e("label")),onKeydown:sn(()=>{},["stop"])},[Qe(f.$slots,"default",{},()=>[dn(Ct(f.label),1)])],42,["onKeydown"])],2)}}});var J_e=Pt(Q_e,[["__file","radio.vue"]]);const ewe=Rt({...kX}),twe=Re({name:"ElRadioButton"}),nwe=Re({...twe,props:ewe,setup(n){const e=n,t=bt("radio"),{radioRef:r,focus:i,size:a,disabled:s,modelValue:o,radioGroup:l,actualValue:c}=OX(e),u=U(()=>({backgroundColor:(l==null?void 0:l.fill)||"",borderColor:(l==null?void 0:l.fill)||"",boxShadow:l!=null&&l.fill?`-1px 0 0 0 ${l.fill}`:"",color:(l==null?void 0:l.textColor)||""}));return(d,f)=>{var h;return V(),he("label",{class:Z([w(t).b("button"),w(t).is("active",w(o)===w(c)),w(t).is("disabled",w(s)),w(t).is("focus",w(i)),w(t).bm("button",w(a))])},[Cn(ve("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":p=>Yr(o)?o.value=p:null,class:Z(w(t).be("button","original-radio")),value:w(c),type:"radio",name:d.name||((h=w(l))==null?void 0:h.name),disabled:w(s),onFocus:p=>i.value=!0,onBlur:p=>i.value=!1,onClick:sn(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[_K,w(o)]]),ve("span",{class:Z(w(t).be("button","inner")),style:Bt(w(o)===w(c)?w(u):{}),onKeydown:sn(()=>{},["stop"])},[Qe(d.$slots,"default",{},()=>[dn(Ct(d.label),1)])],46,["onKeydown"])],2)}}});var BX=Pt(nwe,[["__file","radio-button.vue"]]);const rwe=Rt({id:{type:String,default:void 0},size:ta,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...$a(["ariaLabel"])}),iwe=LX,awe=Re({name:"ElRadioGroup"}),swe=Re({...awe,props:rwe,emits:iwe,setup(n,{emit:e}){const t=n,r=bt("radio"),i=Ha(),a=ne(),{formItem:s}=ss(),{inputId:o,isLabeledByFormItem:l}=Fl(t,{formItemContext:s}),c=d=>{e(Tn,d),Yt(()=>e("change",d))};pn(()=>{const d=a.value.querySelectorAll("[type=radio]"),f=d[0];!Array.from(d).some(h=>h.checked)&&f&&(f.tabIndex=0)});const u=U(()=>t.name||i.value);return $n(NX,mr({...ua(t),changeEvent:c,name:u})),dt(()=>t.modelValue,()=>{t.validateEvent&&(s==null||s.validate("change").catch(d=>void 0))}),(d,f)=>(V(),he("div",{id:w(o),ref_key:"radioGroupRef",ref:a,class:Z(w(r).b("group")),role:"radiogroup","aria-label":w(l)?void 0:d.ariaLabel||"radio-group","aria-labelledby":w(l)?w(s).labelId:void 0},[Qe(d.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var FX=Pt(swe,[["__file","radio-group.vue"]]);const zX=gn(J_e,{RadioButton:BX,RadioGroup:FX}),owe=Ti(FX),lwe=Ti(BX);var cwe=Re({name:"NodeContent",setup(){return{ns:bt("cascader-node")}},render(){const{ns:n}=this,{node:e,panel:t}=this.$parent,{data:r,label:i}=e,{renderLabelFn:a}=t;return Gt("span",{class:n.e("label")},a?a({node:e,data:r}):i)}});const TL=Symbol(),uwe=Re({name:"ElCascaderNode",components:{ElCheckbox:Ll,ElRadio:zX,NodeContent:cwe,ElIcon:Vt,Check:Q_,Loading:lu,ArrowRight:Gs},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(n,{emit:e}){const t=Ot(TL),r=bt("cascader-node"),i=U(()=>t.isHoverMenu),a=U(()=>t.config.multiple),s=U(()=>t.config.checkStrictly),o=U(()=>{var S;return(S=t.checkedNodes[0])==null?void 0:S.uid}),l=U(()=>n.node.isDisabled),c=U(()=>n.node.isLeaf),u=U(()=>s.value&&!c.value||!l.value),d=U(()=>h(t.expandingNode)),f=U(()=>s.value&&t.checkedNodes.some(h)),h=S=>{var T;const{level:C,uid:M}=n.node;return((T=S==null?void 0:S.pathNodes[C-1])==null?void 0:T.uid)===M},p=()=>{d.value||t.expandNode(n.node)},m=S=>{const{node:T}=n;S!==T.checked&&t.handleCheckChange(T,S)},v=()=>{t.lazyLoad(n.node,()=>{c.value||p()})},g=S=>{i.value&&(y(),!c.value&&e("expand",S))},y=()=>{const{node:S}=n;!u.value||S.loading||(S.loaded?p():v())},b=()=>{i.value&&!c.value||(c.value&&!l.value&&!s.value&&!a.value?x(!0):y())},_=S=>{s.value?(m(S),n.node.loaded&&p()):x(S)},x=S=>{n.node.loaded?(m(S),!s.value&&p()):v()};return{panel:t,isHoverMenu:i,multiple:a,checkStrictly:s,checkedNodeId:o,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:f,ns:r,handleHoverExpand:g,handleExpand:y,handleClick:b,handleCheck:x,handleSelectCheck:_}}});function dwe(n,e,t,r,i,a){const s=Et("el-checkbox"),o=Et("el-radio"),l=Et("check"),c=Et("el-icon"),u=Et("node-content"),d=Et("loading"),f=Et("arrow-right");return V(),he("li",{id:`${n.menuId}-${n.node.uid}`,role:"menuitem","aria-haspopup":!n.isLeaf,"aria-owns":n.isLeaf?null:n.menuId,"aria-expanded":n.inExpandingPath,tabindex:n.expandable?-1:void 0,class:Z([n.ns.b(),n.ns.is("selectable",n.checkStrictly),n.ns.is("active",n.node.checked),n.ns.is("disabled",!n.expandable),n.inExpandingPath&&"in-active-path",n.inCheckedPath&&"in-checked-path"]),onMouseenter:n.handleHoverExpand,onFocus:n.handleHoverExpand,onClick:n.handleClick},[Je(" prefix "),n.multiple?(V(),rt(s,{key:0,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:n.isDisabled,onClick:sn(()=>{},["stop"]),"onUpdate:modelValue":n.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):n.checkStrictly?(V(),rt(o,{key:1,"model-value":n.checkedNodeId,label:n.node.uid,disabled:n.isDisabled,"onUpdate:modelValue":n.handleSelectCheck,onClick:sn(()=>{},["stop"])},{default:be(()=>[Je(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),ve("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):n.isLeaf&&n.node.checked?(V(),rt(c,{key:2,class:Z(n.ns.e("prefix"))},{default:be(()=>[ue(l)]),_:1},8,["class"])):Je("v-if",!0),Je(" content "),ue(u),Je(" postfix "),n.isLeaf?Je("v-if",!0):(V(),he(zt,{key:3},[n.node.loading?(V(),rt(c,{key:0,class:Z([n.ns.is("loading"),n.ns.e("postfix")])},{default:be(()=>[ue(d)]),_:1},8,["class"])):(V(),rt(c,{key:1,class:Z(["arrow-right",n.ns.e("postfix")])},{default:be(()=>[ue(f)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var fwe=Pt(uwe,[["render",dwe],["__file","node.vue"]]);const hwe=Re({name:"ElCascaderMenu",components:{Loading:lu,ElIcon:Vt,ElScrollbar:_u,ElCascaderNode:fwe},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(n){const e=kn(),t=bt("cascader-menu"),{t:r}=rr(),i=Ha();let a=null,s=null;const o=Ot(TL),l=ne(null),c=U(()=>!n.nodes.length),u=U(()=>!o.initialLoaded),d=U(()=>`${i.value}-${n.index}`),f=v=>{a=v.target},h=v=>{if(!(!o.isHoverMenu||!a||!l.value))if(a.contains(v.target)){p();const g=e.vnode.el,{left:y}=g.getBoundingClientRect(),{offsetWidth:b,offsetHeight:_}=g,x=v.clientX-y,S=a.offsetTop,T=S+a.offsetHeight;l.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${S} L${b} 0 V${S} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${x} ${T} L${b} ${_} V${T} Z" />
        `}else s||(s=window.setTimeout(m,o.config.hoverThreshold))},p=()=>{s&&(clearTimeout(s),s=null)},m=()=>{l.value&&(l.value.innerHTML="",p())};return{ns:t,panel:o,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:r,handleExpand:f,handleMouseMove:h,clearHoverZone:m}}});function pwe(n,e,t,r,i,a){const s=Et("el-cascader-node"),o=Et("loading"),l=Et("el-icon"),c=Et("el-scrollbar");return V(),rt(c,{key:n.menuId,tag:"ul",role:"menu",class:Z(n.ns.b()),"wrap-class":n.ns.e("wrap"),"view-class":[n.ns.e("list"),n.ns.is("empty",n.isEmpty)],onMousemove:n.handleMouseMove,onMouseleave:n.clearHoverZone},{default:be(()=>{var u;return[(V(!0),he(zt,null,In(n.nodes,d=>(V(),rt(s,{key:d.uid,node:d,"menu-id":n.menuId,onExpand:n.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),n.isLoading?(V(),he("div",{key:0,class:Z(n.ns.e("empty-text"))},[ue(l,{size:"14",class:Z(n.ns.is("loading"))},{default:be(()=>[ue(o)]),_:1},8,["class"]),dn(" "+Ct(n.t("el.cascader.loading")),1)],2)):n.isEmpty?(V(),he("div",{key:1,class:Z(n.ns.e("empty-text"))},[Qe(n.$slots,"empty",{},()=>[dn(Ct(n.t("el.cascader.noData")),1)])],2)):(u=n.panel)!=null&&u.isHoverMenu?(V(),he("svg",{key:2,ref:"hoverZone",class:Z(n.ns.e("hover-zone"))},null,2)):Je("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var mwe=Pt(hwe,[["render",pwe],["__file","menu.vue"]]);const AL=(n="")=>n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),qc=n=>q_(n);let vwe=0;const gwe=n=>{const e=[n];let{parent:t}=n;for(;t;)e.unshift(t),t=t.parent;return e};let U5=class H5{constructor(e,t,r,i=!1){this.data=e,this.config=t,this.parent=r,this.root=i,this.uid=vwe++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:s,children:o}=t,l=e[o],c=gwe(this);this.level=i?0:r?r.level+1:1,this.value=e[a],this.label=e[s],this.pathNodes=c,this.pathValues=c.map(u=>u.value),this.pathLabels=c.map(u=>u.label),this.childrenData=l,this.children=(l||[]).map(u=>new H5(u,t,this)),this.loaded=!t.lazy||this.isLeaf||!Oo(l)}get isDisabled(){const{data:e,parent:t,config:r}=this,{disabled:i,checkStrictly:a}=r;return(Zt(i)?i(e,this):!!e[i])||!a&&(t==null?void 0:t.isDisabled)}get isLeaf(){const{data:e,config:t,childrenData:r,loaded:i}=this,{lazy:a,leaf:s}=t,o=Zt(s)?s(e,this):e[s];return Tr(o)?a&&!i?!1:!(Tt(r)&&r.length):!!o}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:t,children:r}=this,i=new H5(e,this.config,this);return Tt(t)?t.push(e):this.childrenData=[e],r.push(i),i}calcText(e,t){const r=e?this.pathLabels.join(t):this.label;return this.text=r,r}broadcast(e,...t){const r=`onParent${qc(e)}`;this.children.forEach(i=>{i&&(i.broadcast(e,...t),i[r]&&i[r](...t))})}emit(e,...t){const{parent:r}=this,i=`onChild${qc(e)}`;r&&(r[i]&&r[i](...t),r.emit(e,...t))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,t=e.filter(i=>!i.isDisabled),r=t.length?t.every(i=>i.checked):!1;this.setCheckState(r)}setCheckState(e){const t=this.children.length,r=this.children.reduce((i,a)=>{const s=a.checked?1:a.indeterminate?.5:0;return i+s},0);this.checked=this.loaded&&this.children.filter(i=>!i.isDisabled).every(i=>i.loaded&&i.checked)&&e,this.indeterminate=this.loaded&&r!==t&&r>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:t,multiple:r}=this.config;t||!r?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const V5=(n,e)=>n.reduce((t,r)=>(r.isLeaf?t.push(r):(!e&&t.push(r),t=t.concat(V5(r.children,e))),t),[]);class xF{constructor(e,t){this.config=t;const r=(e||[]).map(i=>new U5(i,this.config));this.nodes=r,this.allNodes=V5(r,!1),this.leafNodes=V5(r,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,t){const r=t?t.appendChild(e):new U5(e,this.config);t||this.nodes.push(r),this.allNodes.push(r),r.isLeaf&&this.leafNodes.push(r)}appendNodes(e,t){e.forEach(r=>this.appendNode(r,t))}getNodeByValue(e,t=!1){return!e&&e!==0?null:this.getFlattedNodes(t).find(i=>Ua(i.value,e)||Ua(i.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:r,level:i})=>Ua(e.value,r)&&e.level===i)||null}}const UX=Rt({modelValue:{type:Ke([Number,String,Array])},options:{type:Ke(Array),default:()=>[]},props:{type:Ke(Object),default:()=>({})}}),ywe={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Cr,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},bwe=n=>U(()=>({...ywe,...n.props})),SF=n=>{if(!n)return 0;const e=n.id.split("-");return Number(e[e.length-2])},_we=n=>{if(!n)return;const e=n.querySelector("input");e?e.click():GY(n)&&n.click()},wwe=(n,e)=>{const t=e.slice(0),r=t.map(a=>a.uid),i=n.reduce((a,s)=>{const o=r.indexOf(s.uid);return o>-1&&(a.push(s),t.splice(o,1),r.splice(o,1)),a},[]);return i.push(...t),i},CF=n=>[...new Set(n)],Us=n=>!n&&n!==0?[]:Tt(n)?n:[n],xwe=Re({name:"ElCascaderPanel",components:{ElCascaderMenu:mwe},props:{...UX,border:{type:Boolean,default:!0},renderLabel:Function},emits:[Tn,Rr,"close","expand-change"],setup(n,{emit:e,slots:t}){let r=!1;const i=bt("cascader"),a=bwe(n);let s=null;const o=ne(!0),l=ne([]),c=ne(null),u=ne([]),d=ne(null),f=ne([]),h=U(()=>a.value.expandTrigger==="hover"),p=U(()=>n.renderLabel||t.default),m=()=>{const{options:D}=n,L=a.value;r=!1,s=new xF(D,L),u.value=[s.getNodes()],L.lazy&&Oo(n.options)?(o.value=!1,v(void 0,F=>{F&&(s=new xF(F,L),u.value=[s.getNodes()]),o.value=!0,C(!1,!0)})):C(!1,!0)},v=(D,L)=>{const F=a.value;D=D||new U5({},F,void 0,!0),D.loading=!0;const B=k=>{const H=D,z=H.root?null:H;k&&(s==null||s.appendNodes(k,z)),H.loading=!1,H.loaded=!0,H.childrenData=H.childrenData||[],L&&L(k)};F.lazyLoad(D,B)},g=(D,L)=>{var F;const{level:B}=D,k=u.value.slice(0,B);let H;D.isLeaf?H=D.pathNodes[B-2]:(H=D,k.push(D.children)),((F=d.value)==null?void 0:F.uid)!==(H==null?void 0:H.uid)&&(d.value=D,u.value=k,!L&&e("expand-change",(D==null?void 0:D.pathValues)||[]))},y=(D,L,F=!0)=>{const{checkStrictly:B,multiple:k}=a.value,H=f.value[0];r=!0,!k&&(H==null||H.doCheck(!1)),D.doCheck(L),T(),F&&!k&&!B&&e("close"),!F&&!k&&!B&&b(D)},b=D=>{D&&(D=D.parent,b(D),D&&g(D))},_=D=>s==null?void 0:s.getFlattedNodes(D),x=D=>{var L;return(L=_(D))==null?void 0:L.filter(F=>F.checked!==!1)},S=()=>{f.value.forEach(D=>D.doCheck(!1)),T(),u.value=u.value.slice(0,1),d.value=null,e("expand-change",[])},T=()=>{var D;const{checkStrictly:L,multiple:F}=a.value,B=f.value,k=x(!L),H=wwe(B,k),z=H.map(O=>O.valueByOption);f.value=H,c.value=F?z:(D=z[0])!=null?D:null},C=(D=!1,L=!1)=>{const{modelValue:F}=n,{lazy:B,multiple:k,checkStrictly:H}=a.value,z=!H;if(!(!o.value||r||!L&&Ua(F,c.value)))if(B&&!D){const W=CF(pme(Us(F))).map(j=>s==null?void 0:s.getNodeByValue(j)).filter(j=>!!j&&!j.loaded&&!j.loading);W.length?W.forEach(j=>{v(j,()=>C(!1,L))}):C(!0,L)}else{const O=k?Us(F):[F],W=CF(O.map(j=>s==null?void 0:s.getNodeByValue(j,z)));M(W,L),c.value=TC(F)}},M=(D,L=!0)=>{const{checkStrictly:F}=a.value,B=f.value,k=D.filter(O=>!!O&&(F||O.isLeaf)),H=s==null?void 0:s.getSameNode(d.value),z=L&&H||k[0];z?z.pathNodes.forEach(O=>g(O,!0)):d.value=null,B.forEach(O=>O.doCheck(!1)),mr(k).forEach(O=>O.doCheck(!0)),f.value=k,Yt(A)},A=()=>{nr&&l.value.forEach(D=>{const L=D==null?void 0:D.$el;if(L){const F=L.querySelector(`.${i.namespace.value}-scrollbar__wrap`),B=L.querySelector(`.${i.b("node")}.${i.is("active")}`)||L.querySelector(`.${i.b("node")}.in-active-path`);nL(F,B)}})},I=D=>{const L=D.target,{code:F}=D;switch(F){case Nt.up:case Nt.down:{D.preventDefault();const B=F===Nt.up?-1:1;x2(WY(L,B,`.${i.b("node")}[tabindex="-1"]`));break}case Nt.left:{D.preventDefault();const B=l.value[SF(L)-1],k=B==null?void 0:B.$el.querySelector(`.${i.b("node")}[aria-expanded="true"]`);x2(k);break}case Nt.right:{D.preventDefault();const B=l.value[SF(L)+1],k=B==null?void 0:B.$el.querySelector(`.${i.b("node")}[tabindex="-1"]`);x2(k);break}case Nt.enter:case Nt.numpadEnter:_we(L);break}};return $n(TL,mr({config:a,expandingNode:d,checkedNodes:f,isHoverMenu:h,initialLoaded:o,renderLabelFn:p,lazyLoad:v,expandNode:g,handleCheckChange:y})),dt([a,()=>n.options],m,{deep:!0,immediate:!0}),dt(()=>n.modelValue,()=>{r=!1,C()},{deep:!0}),dt(()=>c.value,D=>{Ua(D,n.modelValue)||(e(Tn,D),e(Rr,D))}),Ek(()=>l.value=[]),pn(()=>!Oo(n.modelValue)&&C()),{ns:i,menuList:l,menus:u,checkedNodes:f,handleKeyDown:I,handleCheckChange:y,getFlattedNodes:_,getCheckedNodes:x,clearCheckedNodes:S,calculateCheckedValue:T,scrollToExpandingNode:A}}});function Swe(n,e,t,r,i,a){const s=Et("el-cascader-menu");return V(),he("div",{class:Z([n.ns.b("panel"),n.ns.is("bordered",n.border)]),onKeydown:n.handleKeyDown},[(V(!0),he(zt,null,In(n.menus,(o,l)=>(V(),rt(s,{key:l,ref_for:!0,ref:c=>n.menuList[l]=c,index:l,nodes:[...o]},{empty:be(()=>[Qe(n.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var Cwe=Pt(xwe,[["render",Swe],["__file","index.vue"]]);const HX=gn(Cwe),gd=Rt({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:bu},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Mwe={close:n=>n instanceof MouseEvent,click:n=>n instanceof MouseEvent},Twe=Re({name:"ElTag"}),Awe=Re({...Twe,props:gd,emits:Mwe,setup(n,{emit:e}){const t=n,r=Zi(),i=bt("tag"),a=U(()=>{const{type:c,hit:u,effect:d,closable:f,round:h}=t;return[i.b(),i.is("closable",f),i.m(c||"primary"),i.m(r.value),i.m(d),i.is("hit",u),i.is("round",h)]}),s=c=>{e("close",c)},o=c=>{e("click",c)},l=c=>{var u,d,f;(f=(d=(u=c==null?void 0:c.component)==null?void 0:u.subTree)==null?void 0:d.component)!=null&&f.bum&&(c.component.subTree.component.bum=null)};return(c,u)=>c.disableTransitions?(V(),he("span",{key:0,class:Z(w(a)),style:Bt({backgroundColor:c.color}),onClick:o},[ve("span",{class:Z(w(i).e("content"))},[Qe(c.$slots,"default")],2),c.closable?(V(),rt(w(Vt),{key:0,class:Z(w(i).e("close")),onClick:sn(s,["stop"])},{default:be(()=>[ue(w(_c))]),_:1},8,["class","onClick"])):Je("v-if",!0)],6)):(V(),rt(da,{key:1,name:`${w(i).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:be(()=>[ve("span",{class:Z(w(a)),style:Bt({backgroundColor:c.color}),onClick:o},[ve("span",{class:Z(w(i).e("content"))},[Qe(c.$slots,"default")],2),c.closable?(V(),rt(w(Vt),{key:0,class:Z(w(i).e("close")),onClick:sn(s,["stop"])},{default:be(()=>[ue(w(_c))]),_:1},8,["class","onClick"])):Je("v-if",!0)],6)]),_:3},8,["name"]))}});var Ewe=Pt(Awe,[["__file","tag.vue"]]);const fg=gn(Ewe),Iwe=Rt({...UX,size:ta,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Ke(Function),default:(n,e)=>n.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Ke(Function),default:()=>!0},placement:{type:Ke(String),values:Dd,default:"bottom-start"},fallbackPlacements:{type:Ke(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:wa.teleported,tagType:{...gd.type,default:"info"},tagEffect:{...gd.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Qg}),Rwe={[Tn]:n=>!0,[Rr]:n=>!0,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0,visibleChange:n=>Vr(n),expandChange:n=>!!n,removeTag:n=>!!n},yf=new Map;if(nr){let n;document.addEventListener("mousedown",e=>n=e),document.addEventListener("mouseup",e=>{if(n){for(const t of yf.values())for(const{documentHandler:r}of t)r(e,n);n=void 0}})}function MF(n,e){let t=[];return Tt(e.arg)?t=e.arg:Ho(e.arg)&&t.push(e.arg),function(r,i){const a=e.instance.popperRef,s=r.target,o=i==null?void 0:i.target,l=!e||!e.instance,c=!s||!o,u=n.contains(s)||n.contains(o),d=n===s,f=t.length&&t.some(p=>p==null?void 0:p.contains(s))||t.length&&t.includes(o),h=a&&(a.contains(s)||a.contains(o));l||c||u||d||f||h||e.value(r,i)}}const yd={beforeMount(n,e){yf.has(n)||yf.set(n,[]),yf.get(n).push({documentHandler:MF(n,e),bindingFn:e.value})},updated(n,e){yf.has(n)||yf.set(n,[]);const t=yf.get(n),r=t.findIndex(a=>a.bindingFn===e.oldValue),i={documentHandler:MF(n,e),bindingFn:e.value};r>=0?t.splice(r,1,i):t.push(i)},unmounted(n){yf.delete(n)}},Pwe="ElCascader",Dwe=Re({name:Pwe}),kwe=Re({...Dwe,props:Iwe,emits:Rwe,setup(n,{expose:e,emit:t}){const r=n,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:pe})=>{const{modifiersData:Ie,placement:ye}=pe;["right","left","bottom","top"].includes(ye)||(Ie.arrow.x=35)},requires:["arrow"]}]},a=bh();let s=0,o=0;const l=bt("cascader"),c=bt("input"),{t:u}=rr(),{form:d,formItem:f}=ss(),{valueOnClear:h}=AT(r),{isComposing:p,handleComposition:m}=ew({afterComposition(pe){var Ie;const ye=(Ie=pe.target)==null?void 0:Ie.value;G(ye)}}),v=ne(null),g=ne(null),y=ne(null),b=ne(null),_=ne(null),x=ne(!1),S=ne(!1),T=ne(!1),C=ne(!1),M=ne(""),A=ne(""),I=ne([]),D=ne([]),L=ne([]),F=U(()=>a.style),B=U(()=>r.disabled||(d==null?void 0:d.disabled)),k=U(()=>r.placeholder||u("el.cascader.placeholder")),H=U(()=>A.value||I.value.length>0||p.value?"":k.value),z=Zi(),O=U(()=>z.value==="small"?"small":"default"),W=U(()=>!!r.props.multiple),j=U(()=>!r.filterable||W.value),ee=U(()=>W.value?A.value:M.value),te=U(()=>{var pe;return((pe=b.value)==null?void 0:pe.checkedNodes)||[]}),J=U(()=>!r.clearable||B.value||T.value||!S.value?!1:!!te.value.length),Q=U(()=>{const{showAllLevels:pe,separator:Ie}=r,ye=te.value;return ye.length?W.value?"":ye[0].calcText(pe,Ie):""}),ie=U(()=>(f==null?void 0:f.validateState)||""),le=U({get(){return TC(r.modelValue)},set(pe){const Ie=pe??h.value;t(Tn,Ie),t(Rr,Ie),r.validateEvent&&(f==null||f.validate("change").catch(ye=>void 0))}}),we=U(()=>[l.b(),l.m(z.value),l.is("disabled",B.value),a.class]),Ae=U(()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",x.value)]),ke=U(()=>l.is("focus",x.value||C.value)),Fe=U(()=>{var pe,Ie;return(Ie=(pe=v.value)==null?void 0:pe.popperRef)==null?void 0:Ie.contentRef}),q=pe=>{var Ie,ye,Me;B.value||(pe=pe??!x.value,pe!==x.value&&(x.value=pe,(ye=(Ie=g.value)==null?void 0:Ie.input)==null||ye.setAttribute("aria-expanded",`${pe}`),pe?(ce(),Yt((Me=b.value)==null?void 0:Me.scrollToExpandingNode)):r.filterable&&Oe(),t("visibleChange",pe)))},ce=()=>{Yt(()=>{var pe;(pe=v.value)==null||pe.updatePopper()})},re=()=>{T.value=!1},Ne=pe=>{const{showAllLevels:Ie,separator:ye}=r;return{node:pe,key:pe.uid,text:pe.calcText(Ie,ye),hitState:!1,closable:!B.value&&!pe.isDisabled,isCollapseTag:!1}},Pe=pe=>{var Ie;const ye=pe.node;ye.doCheck(!1),(Ie=b.value)==null||Ie.calculateCheckedValue(),t("removeTag",ye.valueByOption)},$e=()=>{if(!W.value)return;const pe=te.value,Ie=[],ye=[];if(pe.forEach(Me=>ye.push(Ne(Me))),D.value=ye,pe.length){pe.slice(0,r.maxCollapseTags).forEach(Ee=>Ie.push(Ne(Ee)));const Me=pe.slice(r.maxCollapseTags),ht=Me.length;ht&&(r.collapseTags?Ie.push({key:-1,text:`+ ${ht}`,closable:!1,isCollapseTag:!0}):Me.forEach(Ee=>Ie.push(Ne(Ee))))}I.value=Ie},Ue=()=>{var pe,Ie;const{filterMethod:ye,showAllLevels:Me,separator:ht}=r,Ee=(Ie=(pe=b.value)==null?void 0:pe.getFlattedNodes(!r.props.checkStrictly))==null?void 0:Ie.filter(_t=>_t.isDisabled?!1:(_t.calcText(Me,ht),ye(_t,ee.value)));W.value&&(I.value.forEach(_t=>{_t.hitState=!1}),D.value.forEach(_t=>{_t.hitState=!1})),T.value=!0,L.value=Ee,ce()},Ve=()=>{var pe;let Ie;T.value&&_.value?Ie=_.value.$el.querySelector(`.${l.e("suggestion-item")}`):Ie=(pe=b.value)==null?void 0:pe.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),Ie&&(Ie.focus(),!T.value&&Ie.click())},je=()=>{var pe,Ie;const ye=(pe=g.value)==null?void 0:pe.input,Me=y.value,ht=(Ie=_.value)==null?void 0:Ie.$el;if(!(!nr||!ye)){if(ht){const Ee=ht.querySelector(`.${l.e("suggestion-list")}`);Ee.style.minWidth=`${ye.offsetWidth}px`}if(Me){const{offsetHeight:Ee}=Me,_t=I.value.length>0?`${Math.max(Ee,s)-2}px`:`${s}px`;ye.style.height=_t,ce()}}},fe=pe=>{var Ie;return(Ie=b.value)==null?void 0:Ie.getCheckedNodes(pe)},$=pe=>{ce(),t("expandChange",pe)},X=pe=>{if(!p.value)switch(pe.code){case Nt.enter:case Nt.numpadEnter:q();break;case Nt.down:q(!0),Yt(Ve),pe.preventDefault();break;case Nt.esc:x.value===!0&&(pe.preventDefault(),pe.stopPropagation(),q(!1));break;case Nt.tab:q(!1);break}},me=()=>{var pe;(pe=b.value)==null||pe.clearCheckedNodes(),!x.value&&r.filterable&&Oe(),q(!1),t("clear")},Oe=()=>{const{value:pe}=Q;M.value=pe,A.value=pe},qe=pe=>{var Ie,ye;const{checked:Me}=pe;W.value?(Ie=b.value)==null||Ie.handleCheckChange(pe,!Me,!1):(!Me&&((ye=b.value)==null||ye.handleCheckChange(pe,!0,!1)),q(!1))},mt=pe=>{const Ie=pe.target,{code:ye}=pe;switch(ye){case Nt.up:case Nt.down:{const Me=ye===Nt.up?-1:1;x2(WY(Ie,Me,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case Nt.enter:case Nt.numpadEnter:Ie.click();break}},pt=()=>{const pe=I.value,Ie=pe[pe.length-1];o=A.value?0:o+1,!(!Ie||!o||r.collapseTags&&pe.length>1)&&(Ie.hitState?Pe(Ie):Ie.hitState=!0)},Ce=pe=>{const Ie=pe.target,ye=l.e("search-input");Ie.className===ye&&(C.value=!0),t("focus",pe)},ft=pe=>{C.value=!1,t("blur",pe)},at=bo(()=>{const{value:pe}=ee;if(!pe)return;const Ie=r.beforeFilter(pe);Rb(Ie)?Ie.then(Ue).catch(()=>{}):Ie!==!1?Ue():re()},r.debounce),G=(pe,Ie)=>{!x.value&&q(!0),!(Ie!=null&&Ie.isComposing)&&(pe?at():re())},ge=pe=>Number.parseFloat(e0e(c.cssVarName("input-height"),pe).value)-2;return dt(T,ce),dt([te,B,()=>r.collapseTags],$e),dt(I,()=>{Yt(()=>je())}),dt(z,async()=>{await Yt();const pe=g.value.input;s=ge(pe)||s,je()}),dt(Q,Oe,{immediate:!0}),pn(()=>{const pe=g.value.input,Ie=ge(pe);s=pe.offsetHeight||Ie,ui(pe,je)}),e({getCheckedNodes:fe,cascaderPanelRef:b,togglePopperVisible:q,contentRef:Fe,presentText:Q}),(pe,Ie)=>(V(),rt(w(is),{ref_key:"tooltipRef",ref:v,visible:x.value,teleported:pe.teleported,"popper-class":[w(l).e("dropdown"),pe.popperClass],"popper-options":i,"fallback-placements":pe.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:pe.placement,transition:`${w(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:pe.persistent,onHide:re},{default:be(()=>[Cn((V(),he("div",{class:Z(w(we)),style:Bt(w(F)),onClick:()=>q(w(j)?void 0:!0),onKeydown:X,onMouseenter:ye=>S.value=!0,onMouseleave:ye=>S.value=!1},[ue(w(Cs),{ref_key:"input",ref:g,modelValue:M.value,"onUpdate:modelValue":ye=>M.value=ye,placeholder:w(H),readonly:w(j),disabled:w(B),"validate-event":!1,size:w(z),class:Z(w(ke)),tabindex:w(W)&&pe.filterable&&!w(B)?-1:void 0,onCompositionstart:w(m),onCompositionupdate:w(m),onCompositionend:w(m),onFocus:Ce,onBlur:ft,onInput:G},{suffix:be(()=>[w(J)?(V(),rt(w(Vt),{key:"clear",class:Z([w(c).e("icon"),"icon-circle-close"]),onClick:sn(me,["stop"])},{default:be(()=>[ue(w(Pd))]),_:1},8,["class","onClick"])):(V(),rt(w(Vt),{key:"arrow-down",class:Z(w(Ae)),onClick:sn(ye=>q(),["stop"])},{default:be(()=>[ue(w(Rd))]),_:1},8,["class","onClick"]))]),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),w(W)?(V(),he("div",{key:0,ref_key:"tagWrapper",ref:y,class:Z([w(l).e("tags"),w(l).is("validate",!!w(ie))])},[(V(!0),he(zt,null,In(I.value,ye=>(V(),rt(w(fg),{key:ye.key,type:pe.tagType,size:w(O),effect:pe.tagEffect,hit:ye.hitState,closable:ye.closable,"disable-transitions":"",onClose:Me=>Pe(ye)},{default:be(()=>[ye.isCollapseTag===!1?(V(),he("span",{key:0},Ct(ye.text),1)):(V(),rt(w(is),{key:1,disabled:x.value||!pe.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:be(()=>[ve("span",null,Ct(ye.text),1)]),content:be(()=>[ve("div",{class:Z(w(l).e("collapse-tags"))},[(V(!0),he(zt,null,In(D.value.slice(pe.maxCollapseTags),(Me,ht)=>(V(),he("div",{key:ht,class:Z(w(l).e("collapse-tag"))},[(V(),rt(w(fg),{key:Me.key,class:"in-tooltip",type:pe.tagType,size:w(O),effect:pe.tagEffect,hit:Me.hitState,closable:Me.closable,"disable-transitions":"",onClose:Ee=>Pe(Me)},{default:be(()=>[ve("span",null,Ct(Me.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),pe.filterable&&!w(B)?Cn((V(),he("input",{key:0,"onUpdate:modelValue":ye=>A.value=ye,type:"text",class:Z(w(l).e("search-input")),placeholder:w(Q)?"":w(k),onInput:ye=>G(A.value,ye),onClick:sn(ye=>q(!0),["stop"]),onKeydown:Ur(pt,["delete"]),onCompositionstart:w(m),onCompositionupdate:w(m),onCompositionend:w(m),onFocus:Ce,onBlur:ft},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[yT,A.value]]):Je("v-if",!0)],2)):Je("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[w(yd),()=>q(!1),w(Fe)]])]),content:be(()=>[Cn(ue(w(HX),{ref_key:"cascaderPanelRef",ref:b,modelValue:w(le),"onUpdate:modelValue":ye=>Yr(le)?le.value=ye:null,options:pe.options,props:r.props,border:!1,"render-label":pe.$slots.default,onExpandChange:$,onClose:ye=>pe.$nextTick(()=>q(!1))},{empty:be(()=>[Qe(pe.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[fr,!T.value]]),pe.filterable?Cn((V(),rt(w(_u),{key:0,ref_key:"suggestionPanel",ref:_,tag:"ul",class:Z(w(l).e("suggestion-panel")),"view-class":w(l).e("suggestion-list"),onKeydown:mt},{default:be(()=>[L.value.length?(V(!0),he(zt,{key:0},In(L.value,ye=>(V(),he("li",{key:ye.uid,class:Z([w(l).e("suggestion-item"),w(l).is("checked",ye.checked)]),tabindex:-1,onClick:Me=>qe(ye)},[ve("span",null,Ct(ye.text),1),ye.checked?(V(),rt(w(Vt),{key:0},{default:be(()=>[ue(w(Q_))]),_:1})):Je("v-if",!0)],10,["onClick"]))),128)):Qe(pe.$slots,"empty",{key:1},()=>[ve("li",{class:Z(w(l).e("empty-text"))},Ct(w(u)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[fr,T.value]]):Je("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var Lwe=Pt(kwe,[["__file","cascader.vue"]]);const Nwe=gn(Lwe),Owe=Rt({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Bwe={"update:checked":n=>Vr(n),[Rr]:n=>Vr(n)},Fwe=Re({name:"ElCheckTag"}),zwe=Re({...Fwe,props:Owe,emits:Bwe,setup(n,{emit:e}){const t=n,r=bt("check-tag"),i=U(()=>t.disabled),a=U(()=>[r.b(),r.is("checked",t.checked),r.is("disabled",i.value),r.m(t.type||"primary")]),s=()=>{if(i.value)return;const o=!t.checked;e(Rr,o),e("update:checked",o)};return(o,l)=>(V(),he("span",{class:Z(w(a)),onClick:s},[Qe(o.$slots,"default")],2))}});var Uwe=Pt(zwe,[["__file","check-tag.vue"]]);const Hwe=gn(Uwe),Vwe=Rt({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:Ke([Number,Object]),default:()=>Mi({})},sm:{type:Ke([Number,Object]),default:()=>Mi({})},md:{type:Ke([Number,Object]),default:()=>Mi({})},lg:{type:Ke([Number,Object]),default:()=>Mi({})},xl:{type:Ke([Number,Object]),default:()=>Mi({})}}),VX=Symbol("rowContextKey"),$we=Re({name:"ElCol"}),Gwe=Re({...$we,props:Vwe,setup(n){const e=n,{gutter:t}=Ot(VX,{gutter:U(()=>0)}),r=bt("col"),i=U(()=>{const s={};return t.value&&(s.paddingLeft=s.paddingRight=`${t.value/2}px`),s}),a=U(()=>{const s=[];return["span","offset","pull","push"].forEach(c=>{const u=e[c];en(u)&&(c==="span"?s.push(r.b(`${e[c]}`)):u>0&&s.push(r.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{en(e[c])?s.push(r.b(`${c}-${e[c]}`)):Pn(e[c])&&Object.entries(e[c]).forEach(([u,d])=>{s.push(u!=="span"?r.b(`${c}-${u}-${d}`):r.b(`${c}-${d}`))})}),t.value&&s.push(r.is("guttered")),[r.b(),s]});return(s,o)=>(V(),rt(Nn(s.tag),{class:Z(w(a)),style:Bt(w(i))},{default:be(()=>[Qe(s.$slots,"default")]),_:3},8,["class","style"]))}});var Wwe=Pt(Gwe,[["__file","col.vue"]]);const qwe=gn(Wwe),TF=n=>en(n)||qt(n)||Tt(n),Kwe=Rt({accordion:Boolean,modelValue:{type:Ke([Array,String,Number]),default:()=>Mi([])}}),Ywe={[Tn]:TF,[Rr]:TF},$X=Symbol("collapseContextKey"),Xwe=(n,e)=>{const t=ne(ws(n.modelValue)),r=a=>{t.value=a;const s=n.accordion?t.value[0]:t.value;e(Tn,s),e(Rr,s)},i=a=>{if(n.accordion)r([t.value[0]===a?"":a]);else{const s=[...t.value],o=s.indexOf(a);o>-1?s.splice(o,1):s.push(a),r(s)}};return dt(()=>n.modelValue,()=>t.value=ws(n.modelValue),{deep:!0}),$n($X,{activeNames:t,handleItemClick:i}),{activeNames:t,setActiveNames:r}},jwe=()=>{const n=bt("collapse");return{rootKls:U(()=>n.b())}},Zwe=Re({name:"ElCollapse"}),Qwe=Re({...Zwe,props:Kwe,emits:Ywe,setup(n,{expose:e,emit:t}){const r=n,{activeNames:i,setActiveNames:a}=Xwe(r,t),{rootKls:s}=jwe();return e({activeNames:i,setActiveNames:a}),(o,l)=>(V(),he("div",{class:Z(w(s))},[Qe(o.$slots,"default")],2))}});var Jwe=Pt(Qwe,[["__file","collapse.vue"]]);const exe=Re({name:"ElCollapseTransition"}),txe=Re({...exe,setup(n){const e=bt("collapse-transition"),t=i=>{i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom},r={beforeEnter(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.style.height&&(i.dataset.elExistsHeight=i.style.height),i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0},enter(i){requestAnimationFrame(()=>{i.dataset.oldOverflow=i.style.overflow,i.dataset.elExistsHeight?i.style.maxHeight=i.dataset.elExistsHeight:i.scrollHeight!==0?i.style.maxHeight=`${i.scrollHeight}px`:i.style.maxHeight=0,i.style.paddingTop=i.dataset.oldPaddingTop,i.style.paddingBottom=i.dataset.oldPaddingBottom,i.style.overflow="hidden"})},afterEnter(i){i.style.maxHeight="",i.style.overflow=i.dataset.oldOverflow},enterCancelled(i){t(i)},beforeLeave(i){i.dataset||(i.dataset={}),i.dataset.oldPaddingTop=i.style.paddingTop,i.dataset.oldPaddingBottom=i.style.paddingBottom,i.dataset.oldOverflow=i.style.overflow,i.style.maxHeight=`${i.scrollHeight}px`,i.style.overflow="hidden"},leave(i){i.scrollHeight!==0&&(i.style.maxHeight=0,i.style.paddingTop=0,i.style.paddingBottom=0)},afterLeave(i){t(i)},leaveCancelled(i){t(i)}};return(i,a)=>(V(),rt(da,Hn({name:w(e).b()},dle(r)),{default:be(()=>[Qe(i.$slots,"default")]),_:3},16,["name"]))}});var nxe=Pt(txe,[["__file","collapse-transition.vue"]]);const OT=gn(nxe),rxe=Rt({title:{type:String,default:""},name:{type:Ke([String,Number]),default:void 0},icon:{type:kr,default:Gs},disabled:Boolean}),ixe=n=>{const e=Ot($X),{namespace:t}=bt("collapse"),r=ne(!1),i=ne(!1),a=dL(),s=U(()=>a.current++),o=U(()=>{var f;return(f=n.name)!=null?f:`${t.value}-id-${a.prefix}-${w(s)}`}),l=U(()=>e==null?void 0:e.activeNames.value.includes(w(o)));return{focusing:r,id:s,isActive:l,handleFocus:()=>{setTimeout(()=>{i.value?i.value=!1:r.value=!0},50)},handleHeaderClick:()=>{n.disabled||(e==null||e.handleItemClick(w(o)),r.value=!1,i.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(w(o))}}},axe=(n,{focusing:e,isActive:t,id:r})=>{const i=bt("collapse"),a=U(()=>[i.b("item"),i.is("active",w(t)),i.is("disabled",n.disabled)]),s=U(()=>[i.be("item","header"),i.is("active",w(t)),{focusing:w(e)&&!n.disabled}]),o=U(()=>[i.be("item","arrow"),i.is("active",w(t))]),l=U(()=>i.be("item","wrap")),c=U(()=>i.be("item","content")),u=U(()=>i.b(`content-${w(r)}`)),d=U(()=>i.b(`head-${w(r)}`));return{arrowKls:o,headKls:s,rootKls:a,itemWrapperKls:l,itemContentKls:c,scopedContentId:u,scopedHeadId:d}},sxe=Re({name:"ElCollapseItem"}),oxe=Re({...sxe,props:rxe,setup(n,{expose:e}){const t=n,{focusing:r,id:i,isActive:a,handleFocus:s,handleHeaderClick:o,handleEnterClick:l}=ixe(t),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:f,itemContentKls:h,scopedContentId:p,scopedHeadId:m}=axe(t,{focusing:r,isActive:a,id:i});return e({isActive:a}),(v,g)=>(V(),he("div",{class:Z(w(d))},[ve("button",{id:w(m),class:Z(w(u)),"aria-expanded":w(a),"aria-controls":w(p),"aria-describedby":w(p),tabindex:v.disabled?-1:0,type:"button",onClick:w(o),onKeydown:Ur(sn(w(l),["stop","prevent"]),["space","enter"]),onFocus:w(s),onBlur:y=>r.value=!1},[Qe(v.$slots,"title",{},()=>[dn(Ct(v.title),1)]),Qe(v.$slots,"icon",{isActive:w(a)},()=>[ue(w(Vt),{class:Z(w(c))},{default:be(()=>[(V(),rt(Nn(v.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),ue(w(OT),null,{default:be(()=>[Cn(ve("div",{id:w(p),role:"region",class:Z(w(f)),"aria-hidden":!w(a),"aria-labelledby":w(m)},[ve("div",{class:Z(w(h))},[Qe(v.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[fr,w(a)]])]),_:3})],2))}});var GX=Pt(oxe,[["__file","collapse-item.vue"]]);const lxe=gn(Jwe,{CollapseItem:GX}),cxe=Ti(GX),uxe=Rt({color:{type:Ke(Object),required:!0},vertical:{type:Boolean,default:!1}});let U3=!1;function jb(n,e){if(!nr)return;const t=function(a){var s;(s=e.drag)==null||s.call(e,a)},r=function(a){var s;document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",r),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",r),document.onselectstart=null,document.ondragstart=null,U3=!1,(s=e.end)==null||s.call(e,a)},i=function(a){var s;U3||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",t),document.addEventListener("mouseup",r),document.addEventListener("touchmove",t),document.addEventListener("touchend",r),U3=!0,(s=e.start)==null||s.call(e,a))};n.addEventListener("mousedown",i),n.addEventListener("touchstart",i,{passive:!1})}const dxe=(n,e)=>{if(!nr||!n||!e)return!1;const t=n.getBoundingClientRect();let r;return e instanceof Element?r=e.getBoundingClientRect():r={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},t.top<r.bottom&&t.bottom>r.top&&t.right>r.left&&t.left<r.right},AF=n=>{let e=0,t=n;for(;t;)e+=t.offsetTop,t=t.offsetParent;return e},$5=(n,e)=>Math.abs(AF(n)-AF(e)),EL=n=>{let e,t;return n.type==="touchend"?(t=n.changedTouches[0].clientY,e=n.changedTouches[0].clientX):n.type.startsWith("touch")?(t=n.touches[0].clientY,e=n.touches[0].clientX):(t=n.clientY,e=n.clientX),{clientX:e,clientY:t}},fxe=n=>{const e=kn(),{t}=rr(),r=Ir(),i=Ir(),a=U(()=>n.color.get("alpha")),s=U(()=>t("el.colorpicker.alphaLabel"));function o(d){var f;d.target!==r.value&&l(d),(f=r.value)==null||f.focus()}function l(d){if(!i.value||!r.value)return;const h=e.vnode.el.getBoundingClientRect(),{clientX:p,clientY:m}=EL(d);if(n.vertical){let v=m-h.top;v=Math.max(r.value.offsetHeight/2,v),v=Math.min(v,h.height-r.value.offsetHeight/2),n.color.set("alpha",Math.round((v-r.value.offsetHeight/2)/(h.height-r.value.offsetHeight)*100))}else{let v=p-h.left;v=Math.max(r.value.offsetWidth/2,v),v=Math.min(v,h.width-r.value.offsetWidth/2),n.color.set("alpha",Math.round((v-r.value.offsetWidth/2)/(h.width-r.value.offsetWidth)*100))}}function c(d){const{code:f,shiftKey:h}=d,p=h?10:1;switch(f){case Nt.left:case Nt.down:d.preventDefault(),d.stopPropagation(),u(-p);break;case Nt.right:case Nt.up:d.preventDefault(),d.stopPropagation(),u(p);break}}function u(d){let f=a.value+d;f=f<0?0:f>100?100:f,n.color.set("alpha",f)}return{thumb:r,bar:i,alpha:a,alphaLabel:s,handleDrag:l,handleClick:o,handleKeydown:c}},hxe=(n,{bar:e,thumb:t,handleDrag:r})=>{const i=kn(),a=bt("color-alpha-slider"),s=ne(0),o=ne(0),l=ne();function c(){if(!t.value||n.vertical)return 0;const y=i.vnode.el,b=n.color.get("alpha");return y?Math.round(b*(y.offsetWidth-t.value.offsetWidth/2)/100):0}function u(){if(!t.value)return 0;const y=i.vnode.el;if(!n.vertical)return 0;const b=n.color.get("alpha");return y?Math.round(b*(y.offsetHeight-t.value.offsetHeight/2)/100):0}function d(){if(n.color&&n.color.value){const{r:y,g:b,b:_}=n.color.toRgb();return`linear-gradient(to right, rgba(${y}, ${b}, ${_}, 0) 0%, rgba(${y}, ${b}, ${_}, 1) 100%)`}return""}function f(){s.value=c(),o.value=u(),l.value=d()}pn(()=>{if(!e.value||!t.value)return;const y={drag:b=>{r(b)},end:b=>{r(b)}};jb(e.value,y),jb(t.value,y),f()}),dt(()=>n.color.get("alpha"),()=>f()),dt(()=>n.color.value,()=>f());const h=U(()=>[a.b(),a.is("vertical",n.vertical)]),p=U(()=>a.e("bar")),m=U(()=>a.e("thumb")),v=U(()=>({background:l.value})),g=U(()=>({left:Di(s.value),top:Di(o.value)}));return{rootKls:h,barKls:p,barStyle:v,thumbKls:m,thumbStyle:g,update:f}},pxe="ElColorAlphaSlider",mxe=Re({name:pxe}),vxe=Re({...mxe,props:uxe,setup(n,{expose:e}){const t=n,{alpha:r,alphaLabel:i,bar:a,thumb:s,handleDrag:o,handleClick:l,handleKeydown:c}=fxe(t),{rootKls:u,barKls:d,barStyle:f,thumbKls:h,thumbStyle:p,update:m}=hxe(t,{bar:a,thumb:s,handleDrag:o});return e({update:m,bar:a,thumb:s}),(v,g)=>(V(),he("div",{class:Z(w(u))},[ve("div",{ref_key:"bar",ref:a,class:Z(w(d)),style:Bt(w(f)),onClick:w(l)},null,14,["onClick"]),ve("div",{ref_key:"thumb",ref:s,class:Z(w(h)),style:Bt(w(p)),"aria-label":w(i),"aria-valuenow":w(r),"aria-orientation":v.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:w(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var gxe=Pt(vxe,[["__file","alpha-slider.vue"]]);const yxe=Re({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(n){const e=bt("color-hue-slider"),t=kn(),r=ne(),i=ne(),a=ne(0),s=ne(0),o=U(()=>n.color.get("hue"));dt(()=>o.value,()=>{f()});function l(h){h.target!==r.value&&c(h)}function c(h){if(!i.value||!r.value)return;const m=t.vnode.el.getBoundingClientRect(),{clientX:v,clientY:g}=EL(h);let y;if(n.vertical){let b=g-m.top;b=Math.min(b,m.height-r.value.offsetHeight/2),b=Math.max(r.value.offsetHeight/2,b),y=Math.round((b-r.value.offsetHeight/2)/(m.height-r.value.offsetHeight)*360)}else{let b=v-m.left;b=Math.min(b,m.width-r.value.offsetWidth/2),b=Math.max(r.value.offsetWidth/2,b),y=Math.round((b-r.value.offsetWidth/2)/(m.width-r.value.offsetWidth)*360)}n.color.set("hue",y)}function u(){if(!r.value)return 0;const h=t.vnode.el;if(n.vertical)return 0;const p=n.color.get("hue");return h?Math.round(p*(h.offsetWidth-r.value.offsetWidth/2)/360):0}function d(){if(!r.value)return 0;const h=t.vnode.el;if(!n.vertical)return 0;const p=n.color.get("hue");return h?Math.round(p*(h.offsetHeight-r.value.offsetHeight/2)/360):0}function f(){a.value=u(),s.value=d()}return pn(()=>{if(!i.value||!r.value)return;const h={drag:p=>{c(p)},end:p=>{c(p)}};jb(i.value,h),jb(r.value,h),f()}),{bar:i,thumb:r,thumbLeft:a,thumbTop:s,hueValue:o,handleClick:l,update:f,ns:e}}});function bxe(n,e,t,r,i,a){return V(),he("div",{class:Z([n.ns.b(),n.ns.is("vertical",n.vertical)])},[ve("div",{ref:"bar",class:Z(n.ns.e("bar")),onClick:n.handleClick},null,10,["onClick"]),ve("div",{ref:"thumb",class:Z(n.ns.e("thumb")),style:Bt({left:n.thumbLeft+"px",top:n.thumbTop+"px"})},null,6)],2)}var _xe=Pt(yxe,[["render",bxe],["__file","hue-slider.vue"]]);const wxe=Rt({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:ta,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:wa.teleported,predefine:{type:Ke(Array)},validateEvent:{type:Boolean,default:!0},...$a(["ariaLabel"])}),xxe={[Tn]:n=>qt(n)||ga(n),[Rr]:n=>qt(n)||ga(n),activeChange:n=>qt(n)||ga(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},WX=Symbol("colorPickerContextKey"),EF=function(n,e,t){return[n,e*t/((n=(2-e)*t)<1?n:2-n)||0,n/2]},Sxe=function(n){return qt(n)&&n.includes(".")&&Number.parseFloat(n)===1},Cxe=function(n){return qt(n)&&n.includes("%")},Ov=function(n,e){Sxe(n)&&(n="100%");const t=Cxe(n);return n=Math.min(e,Math.max(0,Number.parseFloat(`${n}`))),t&&(n=Number.parseInt(`${n*e}`,10)/100),Math.abs(n-e)<1e-6?1:n%e/Number.parseFloat(e)},IF={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},C2=n=>{n=Math.min(Math.round(n),255);const e=Math.floor(n/16),t=n%16;return`${IF[e]||e}${IF[t]||t}`},RF=function({r:n,g:e,b:t}){return Number.isNaN(+n)||Number.isNaN(+e)||Number.isNaN(+t)?"":`#${C2(n)}${C2(e)}${C2(t)}`},H3={A:10,B:11,C:12,D:13,E:14,F:15},Dh=function(n){return n.length===2?(H3[n[0].toUpperCase()]||+n[0])*16+(H3[n[1].toUpperCase()]||+n[1]):H3[n[1].toUpperCase()]||+n[1]},Mxe=function(n,e,t){e=e/100,t=t/100;let r=e;const i=Math.max(t,.01);t*=2,e*=t<=1?t:2-t,r*=i<=1?i:2-i;const a=(t+e)/2,s=t===0?2*r/(i+r):2*e/(t+e);return{h:n,s:s*100,v:a*100}},PF=(n,e,t)=>{n=Ov(n,255),e=Ov(e,255),t=Ov(t,255);const r=Math.max(n,e,t),i=Math.min(n,e,t);let a;const s=r,o=r-i,l=r===0?0:o/r;if(r===i)a=0;else{switch(r){case n:{a=(e-t)/o+(e<t?6:0);break}case e:{a=(t-n)/o+2;break}case t:{a=(n-e)/o+4;break}}a/=6}return{h:a*360,s:l*100,v:s*100}},Oy=function(n,e,t){n=Ov(n,360)*6,e=Ov(e,100),t=Ov(t,100);const r=Math.floor(n),i=n-r,a=t*(1-e),s=t*(1-i*e),o=t*(1-(1-i)*e),l=r%6,c=[t,s,a,a,o,t][l],u=[o,t,t,s,a,a][l],d=[a,a,o,t,t,s][l];return{r:Math.round(c*255),g:Math.round(u*255),b:Math.round(d*255)}};let j1=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const t in e)sr(e,t)&&(this[t]=e[t]);e.value?this.fromString(e.value):this.doOnChange()}set(e,t){if(arguments.length===1&&typeof e=="object"){for(const r in e)sr(e,r)&&this.set(r,e[r]);return}this[`_${e}`]=t,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Oy(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const t=(r,i,a)=>{this._hue=Math.max(0,Math.min(360,r)),this._saturation=Math.max(0,Math.min(100,i)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const r=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:s}=Mxe(r[0],r[1],r[2]);t(i,a,s)}}else if(e.includes("hsv")){const r=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3&&t(r[0],r[1],r[2])}else if(e.includes("rgb")){const r=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(i=>i!=="").map((i,a)=>a>2?Number.parseFloat(i):Number.parseInt(i,10));if(r.length===4?this._alpha=Number.parseFloat(r[3])*100:r.length===3&&(this._alpha=100),r.length>=3){const{h:i,s:a,v:s}=PF(r[0],r[1],r[2]);t(i,a,s)}}else if(e.includes("#")){const r=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(r))return;let i,a,s;r.length===3?(i=Dh(r[0]+r[0]),a=Dh(r[1]+r[1]),s=Dh(r[2]+r[2])):(r.length===6||r.length===8)&&(i=Dh(r.slice(0,2)),a=Dh(r.slice(2,4)),s=Dh(r.slice(4,6))),r.length===8?this._alpha=Dh(r.slice(6))/255*100:(r.length===3||r.length===6)&&(this._alpha=100);const{h:o,s:l,v:c}=PF(i,a,s);t(o,l,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:t,_value:r,_alpha:i,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const s=EF(e,t/100,r/100);this.value=`hsla(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(t)}%, ${Math.round(r)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${RF(Oy(e,t,r))}${C2(i*255/100)}`;break}default:{const{r:s,g:o,b:l}=Oy(e,t,r);this.value=`rgba(${s}, ${o}, ${l}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const s=EF(e,t/100,r/100);this.value=`hsl(${e}, ${Math.round(s[1]*100)}%, ${Math.round(s[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(t)}%, ${Math.round(r)}%)`;break}case"rgb":{const{r:s,g:o,b:l}=Oy(e,t,r);this.value=`rgb(${s}, ${o}, ${l})`;break}default:this.value=RF(Oy(e,t,r))}}};const Txe=Re({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(n){const e=bt("color-predefine"),{currentColor:t}=Ot(WX),r=ne(a(n.colors,n.color));dt(()=>t.value,s=>{const o=new j1;o.fromString(s),r.value.forEach(l=>{l.selected=o.compare(l)})}),Ea(()=>{r.value=a(n.colors,n.color)});function i(s){n.color.fromString(n.colors[s])}function a(s,o){return s.map(l=>{const c=new j1;return c.enableAlpha=n.enableAlpha,c.format="rgba",c.fromString(l),c.selected=c.value===o.value,c})}return{rgbaColors:r,handleSelect:i,ns:e}}});function Axe(n,e,t,r,i,a){return V(),he("div",{class:Z(n.ns.b())},[ve("div",{class:Z(n.ns.e("colors"))},[(V(!0),he(zt,null,In(n.rgbaColors,(s,o)=>(V(),he("div",{key:n.colors[o],class:Z([n.ns.e("color-selector"),n.ns.is("alpha",s._alpha<100),{selected:s.selected}]),onClick:l=>n.handleSelect(o)},[ve("div",{style:Bt({backgroundColor:s.value})},null,4)],10,["onClick"]))),128))],2)],2)}var Exe=Pt(Txe,[["render",Axe],["__file","predefine.vue"]]);const Ixe=Re({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(n){const e=bt("color-svpanel"),t=kn(),r=ne(0),i=ne(0),a=ne("hsl(0, 100%, 50%)"),s=U(()=>{const c=n.color.get("hue"),u=n.color.get("value");return{hue:c,value:u}});function o(){const c=n.color.get("saturation"),u=n.color.get("value"),d=t.vnode.el,{clientWidth:f,clientHeight:h}=d;i.value=c*f/100,r.value=(100-u)*h/100,a.value=`hsl(${n.color.get("hue")}, 100%, 50%)`}function l(c){const d=t.vnode.el.getBoundingClientRect(),{clientX:f,clientY:h}=EL(c);let p=f-d.left,m=h-d.top;p=Math.max(0,p),p=Math.min(p,d.width),m=Math.max(0,m),m=Math.min(m,d.height),i.value=p,r.value=m,n.color.set({saturation:p/d.width*100,value:100-m/d.height*100})}return dt(()=>s.value,()=>{o()}),pn(()=>{jb(t.vnode.el,{drag:c=>{l(c)},end:c=>{l(c)}}),o()}),{cursorTop:r,cursorLeft:i,background:a,colorValue:s,handleDrag:l,update:o,ns:e}}});function Rxe(n,e,t,r,i,a){return V(),he("div",{class:Z(n.ns.b()),style:Bt({backgroundColor:n.background})},[ve("div",{class:Z(n.ns.e("white"))},null,2),ve("div",{class:Z(n.ns.e("black"))},null,2),ve("div",{class:Z(n.ns.e("cursor")),style:Bt({top:n.cursorTop+"px",left:n.cursorLeft+"px"})},[ve("div")],6)],6)}var Pxe=Pt(Ixe,[["render",Rxe],["__file","sv-panel.vue"]]);const Dxe=Re({name:"ElColorPicker"}),kxe=Re({...Dxe,props:wxe,emits:xxe,setup(n,{expose:e,emit:t}){const r=n,{t:i}=rr(),a=bt("color"),{formItem:s}=ss(),o=Zi(),l=os(),{inputId:c,isLabeledByFormItem:u}=Fl(r,{formItemContext:s}),d=ne(),f=ne(),h=ne(),p=ne(),m=ne(),v=ne(),{isFocused:g,handleFocus:y,handleBlur:b}=wh(m,{beforeFocus(){return l.value},beforeBlur(Ae){var ke;return(ke=p.value)==null?void 0:ke.isFocusInsideContent(Ae)},afterBlur(){B(!1),O()}});let _=!0;const x=mr(new j1({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue})),S=ne(!1),T=ne(!1),C=ne(""),M=U(()=>!r.modelValue&&!T.value?"transparent":F(x,r.showAlpha)),A=U(()=>!r.modelValue&&!T.value?"":x.value),I=U(()=>u.value?void 0:r.ariaLabel||i("el.colorpicker.defaultLabel")),D=U(()=>u.value?s==null?void 0:s.labelId:void 0),L=U(()=>[a.b("picker"),a.is("disabled",l.value),a.bm("picker",o.value),a.is("focused",g.value)]);function F(Ae,ke){if(!(Ae instanceof j1))throw new TypeError("color should be instance of _color Class");const{r:Fe,g:q,b:ce}=Ae.toRgb();return ke?`rgba(${Fe}, ${q}, ${ce}, ${Ae.get("alpha")/100})`:`rgb(${Fe}, ${q}, ${ce})`}function B(Ae){S.value=Ae}const k=bo(B,100,{leading:!0});function H(){l.value||B(!0)}function z(){k(!1),O()}function O(){Yt(()=>{r.modelValue?x.fromString(r.modelValue):(x.value="",Yt(()=>{T.value=!1}))})}function W(){l.value||k(!S.value)}function j(){x.fromString(C.value)}function ee(){const Ae=x.value;t(Tn,Ae),t("change",Ae),r.validateEvent&&(s==null||s.validate("change").catch(ke=>void 0)),k(!1),Yt(()=>{const ke=new j1({enableAlpha:r.showAlpha,format:r.colorFormat||"",value:r.modelValue});x.compare(ke)||O()})}function te(){k(!1),t(Tn,null),t("change",null),r.modelValue!==null&&r.validateEvent&&(s==null||s.validate("change").catch(Ae=>void 0)),O()}function J(){S.value&&(z(),g.value&&le())}function Q(Ae){Ae.preventDefault(),Ae.stopPropagation(),B(!1),O()}function ie(Ae){switch(Ae.code){case Nt.enter:case Nt.numpadEnter:case Nt.space:Ae.preventDefault(),Ae.stopPropagation(),H(),v.value.focus();break;case Nt.esc:Q(Ae);break}}function le(){m.value.focus()}function we(){m.value.blur()}return pn(()=>{r.modelValue&&(C.value=A.value)}),dt(()=>r.modelValue,Ae=>{Ae?Ae&&Ae!==x.value&&(_=!1,x.fromString(Ae)):T.value=!1}),dt(()=>[r.colorFormat,r.showAlpha],()=>{x.enableAlpha=r.showAlpha,x.format=r.colorFormat||x.format,x.doOnChange(),t(Tn,x.value)}),dt(()=>A.value,Ae=>{C.value=Ae,_&&t("activeChange",Ae),_=!0}),dt(()=>x.value,()=>{!r.modelValue&&!T.value&&(T.value=!0)}),dt(()=>S.value,()=>{Yt(()=>{var Ae,ke,Fe;(Ae=d.value)==null||Ae.update(),(ke=f.value)==null||ke.update(),(Fe=h.value)==null||Fe.update()})}),$n(WX,{currentColor:A}),e({color:x,show:H,hide:z,focus:le,blur:we}),(Ae,ke)=>(V(),rt(w(is),{ref_key:"popper",ref:p,visible:S.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[w(a).be("picker","panel"),w(a).b("dropdown"),Ae.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Ae.teleported,transition:`${w(a).namespace.value}-zoom-in-top`,persistent:"",onHide:Fe=>B(!1)},{content:be(()=>[Cn((V(),he("div",{onKeydown:Ur(Q,["esc"])},[ve("div",{class:Z(w(a).be("dropdown","main-wrapper"))},[ue(_xe,{ref_key:"hue",ref:d,class:"hue-slider",color:w(x),vertical:""},null,8,["color"]),ue(Pxe,{ref_key:"sv",ref:f,color:w(x)},null,8,["color"])],2),Ae.showAlpha?(V(),rt(gxe,{key:0,ref_key:"alpha",ref:h,color:w(x)},null,8,["color"])):Je("v-if",!0),Ae.predefine?(V(),rt(Exe,{key:1,ref:"predefine","enable-alpha":Ae.showAlpha,color:w(x),colors:Ae.predefine},null,8,["enable-alpha","color","colors"])):Je("v-if",!0),ve("div",{class:Z(w(a).be("dropdown","btns"))},[ve("span",{class:Z(w(a).be("dropdown","value"))},[ue(w(Cs),{ref_key:"inputRef",ref:v,modelValue:C.value,"onUpdate:modelValue":Fe=>C.value=Fe,"validate-event":!1,size:"small",onKeyup:Ur(j,["enter"]),onBlur:j},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),ue(w(Ia),{class:Z(w(a).be("dropdown","link-btn")),text:"",size:"small",onClick:te},{default:be(()=>[dn(Ct(w(i)("el.colorpicker.clear")),1)]),_:1},8,["class"]),ue(w(Ia),{plain:"",size:"small",class:Z(w(a).be("dropdown","btn")),onClick:ee},{default:be(()=>[dn(Ct(w(i)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[w(yd),J]])]),default:be(()=>[ve("div",Hn({id:w(c),ref_key:"triggerRef",ref:m},Ae.$attrs,{class:w(L),role:"button","aria-label":w(I),"aria-labelledby":w(D),"aria-description":w(i)("el.colorpicker.description",{color:Ae.modelValue||""}),"aria-disabled":w(l),tabindex:w(l)?-1:Ae.tabindex,onKeydown:ie,onFocus:w(y),onBlur:w(b)}),[w(l)?(V(),he("div",{key:0,class:Z(w(a).be("picker","mask"))},null,2)):Je("v-if",!0),ve("div",{class:Z(w(a).be("picker","trigger")),onClick:W},[ve("span",{class:Z([w(a).be("picker","color"),w(a).is("alpha",Ae.showAlpha)])},[ve("span",{class:Z(w(a).be("picker","color-inner")),style:Bt({backgroundColor:w(M)})},[Cn(ue(w(Vt),{class:Z([w(a).be("picker","icon"),w(a).is("icon-arrow-down")])},{default:be(()=>[ue(w(Rd))]),_:1},8,["class"]),[[fr,Ae.modelValue||T.value]]),Cn(ue(w(Vt),{class:Z([w(a).be("picker","empty"),w(a).is("icon-close")])},{default:be(()=>[ue(w(_c))]),_:1},8,["class"]),[[fr,!Ae.modelValue&&!T.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var Lxe=Pt(kxe,[["__file","color-picker.vue"]]);const Nxe=gn(Lxe),Oxe=Rt({a11y:{type:Boolean,default:!0},locale:{type:Ke(Object)},size:ta,button:{type:Ke(Object)},experimentalFeatures:{type:Ke(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:Ke(Object)},zIndex:Number,namespace:{type:String,default:"el"},...Qg}),rc={},Bxe=Re({name:"ElConfigProvider",props:Oxe,setup(n,{slots:e}){dt(()=>n.message,r=>{Object.assign(rc,r??{})},{immediate:!0,deep:!0});const t=eL(n);return()=>Qe(e,"default",{config:t==null?void 0:t.value})}}),Fxe=gn(Bxe),zxe=Re({name:"ElContainer"}),Uxe=Re({...zxe,props:{direction:{type:String}},setup(n){const e=n,t=na(),r=bt("container"),i=U(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:t&&t.default?t.default().some(s=>{const o=s.type.name;return o==="ElHeader"||o==="ElFooter"}):!1);return(a,s)=>(V(),he("section",{class:Z([w(r).b(),w(r).is("vertical",w(i))])},[Qe(a.$slots,"default")],2))}});var Hxe=Pt(Uxe,[["__file","container.vue"]]);const Vxe=Re({name:"ElAside"}),$xe=Re({...Vxe,props:{width:{type:String,default:null}},setup(n){const e=n,t=bt("aside"),r=U(()=>e.width?t.cssVarBlock({width:e.width}):{});return(i,a)=>(V(),he("aside",{class:Z(w(t).b()),style:Bt(w(r))},[Qe(i.$slots,"default")],6))}});var qX=Pt($xe,[["__file","aside.vue"]]);const Gxe=Re({name:"ElFooter"}),Wxe=Re({...Gxe,props:{height:{type:String,default:null}},setup(n){const e=n,t=bt("footer"),r=U(()=>e.height?t.cssVarBlock({height:e.height}):{});return(i,a)=>(V(),he("footer",{class:Z(w(t).b()),style:Bt(w(r))},[Qe(i.$slots,"default")],6))}});var KX=Pt(Wxe,[["__file","footer.vue"]]);const qxe=Re({name:"ElHeader"}),Kxe=Re({...qxe,props:{height:{type:String,default:null}},setup(n){const e=n,t=bt("header"),r=U(()=>e.height?t.cssVarBlock({height:e.height}):{});return(i,a)=>(V(),he("header",{class:Z(w(t).b()),style:Bt(w(r))},[Qe(i.$slots,"default")],6))}});var YX=Pt(Kxe,[["__file","header.vue"]]);const Yxe=Re({name:"ElMain"}),Xxe=Re({...Yxe,setup(n){const e=bt("main");return(t,r)=>(V(),he("main",{class:Z(w(e).b())},[Qe(t.$slots,"default")],2))}});var XX=Pt(Xxe,[["__file","main.vue"]]);const jxe=gn(Hxe,{Aside:qX,Footer:KX,Header:YX,Main:XX}),Zxe=Ti(qX),Qxe=Ti(KX),Jxe=Ti(YX),eSe=Ti(XX);var jX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d/,a=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,l={},c=function(v){return(v=+v)+(v>68?1900:2e3)},u=function(v){return function(g){this[v]=+g}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(v){(this.zone||(this.zone={})).offset=function(g){if(!g||g==="Z")return 0;var y=g.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(v)}],f=function(v){var g=l[v];return g&&(g.indexOf?g:g.s.concat(g.f))},h=function(v,g){var y,b=l.meridiem;if(b){for(var _=1;_<=24;_+=1)if(v.indexOf(b(_,0,g))>-1){y=_>12;break}}else y=v===(g?"pm":"PM");return y},p={A:[o,function(v){this.afternoon=h(v,!1)}],a:[o,function(v){this.afternoon=h(v,!0)}],Q:[i,function(v){this.month=3*(v-1)+1}],S:[i,function(v){this.milliseconds=100*+v}],SS:[a,function(v){this.milliseconds=10*+v}],SSS:[/\d{3}/,function(v){this.milliseconds=+v}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[a,u("day")],Do:[o,function(v){var g=l.ordinal,y=v.match(/\d+/);if(this.day=y[0],g)for(var b=1;b<=31;b+=1)g(b).replace(/\[|\]/g,"")===v&&(this.day=b)}],w:[s,u("week")],ww:[a,u("week")],M:[s,u("month")],MM:[a,u("month")],MMM:[o,function(v){var g=f("months"),y=(f("monthsShort")||g.map(function(b){return b.slice(0,3)})).indexOf(v)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[o,function(v){var g=f("months").indexOf(v)+1;if(g<1)throw new Error;this.month=g%12||g}],Y:[/[+-]?\d+/,u("year")],YY:[a,function(v){this.year=c(v)}],YYYY:[/\d{4}/,u("year")],Z:d,ZZ:d};function m(v){var g,y;g=v,y=l&&l.formats;for(var b=(v=g.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,I,D){var L=D&&D.toUpperCase();return I||y[D]||t[D]||y[L].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,B,k){return B||k.slice(1)})})).match(r),_=b.length,x=0;x<_;x+=1){var S=b[x],T=p[S],C=T&&T[0],M=T&&T[1];b[x]=M?{regex:C,parser:M}:S.replace(/^\[|\]$/g,"")}return function(A){for(var I={},D=0,L=0;D<_;D+=1){var F=b[D];if(typeof F=="string")L+=F.length;else{var B=F.regex,k=F.parser,H=A.slice(L),z=B.exec(H)[0];k.call(I,z),A=A.replace(z,"")}}return function(O){var W=O.afternoon;if(W!==void 0){var j=O.hours;W?j<12&&(O.hours+=12):j===12&&(O.hours=0),delete O.afternoon}}(I),I}}return function(v,g,y){y.p.customParseFormat=!0,v&&v.parseTwoDigitYear&&(c=v.parseTwoDigitYear);var b=g.prototype,_=b.parse;b.parse=function(x){var S=x.date,T=x.utc,C=x.args;this.$u=T;var M=C[1];if(typeof M=="string"){var A=C[2]===!0,I=C[3]===!0,D=A||I,L=C[2];I&&(L=C[2]),l=this.$locale(),!A&&L&&(l=y.Ls[L]),this.$d=function(H,z,O,W){try{if(["x","X"].indexOf(z)>-1)return new Date((z==="X"?1e3:1)*H);var j=m(z)(H),ee=j.year,te=j.month,J=j.day,Q=j.hours,ie=j.minutes,le=j.seconds,we=j.milliseconds,Ae=j.zone,ke=j.week,Fe=new Date,q=J||(ee||te?1:Fe.getDate()),ce=ee||Fe.getFullYear(),re=0;ee&&!te||(re=te>0?te-1:Fe.getMonth());var Ne,Pe=Q||0,$e=ie||0,Ue=le||0,Ve=we||0;return Ae?new Date(Date.UTC(ce,re,q,Pe,$e,Ue,Ve+60*Ae.offset*1e3)):O?new Date(Date.UTC(ce,re,q,Pe,$e,Ue,Ve)):(Ne=new Date(ce,re,q,Pe,$e,Ue,Ve),ke&&(Ne=W(Ne).week(ke).toDate()),Ne)}catch{return new Date("")}}(S,M,T,y),this.init(),L&&L!==!0&&(this.$L=this.locale(L).$L),D&&S!=this.format(M)&&(this.$d=new Date("")),l={}}else if(M instanceof Array)for(var F=M.length,B=1;B<=F;B+=1){C[1]=M[B-1];var k=y.apply(this,C);if(k.isValid()){this.$d=k.$d,this.$L=k.$L,this.init();break}B===F&&(this.$d=new Date(""))}else _.call(this,x)}}})})(jX);var tSe=jX.exports;const IL=xu(tSe);var ZX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){return function(t,r){var i=r.prototype,a=i.format;i.format=function(s){var o=this,l=this.$locale();if(!this.isValid())return a.bind(this)(s);var c=this.$utils(),u=(s||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(d){switch(d){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return l.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return l.ordinal(o.week(),"W");case"w":case"ww":return c.s(o.week(),d==="w"?1:2,"0");case"W":case"WW":return c.s(o.isoWeek(),d==="W"?1:2,"0");case"k":case"kk":return c.s(String(o.$H===0?24:o.$H),d==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return d}});return a.bind(this)(u)}}})})(ZX);var nSe=ZX.exports;const rSe=xu(nSe);var QX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){var t="week",r="year";return function(i,a,s){var o=a.prototype;o.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var u=s(this).startOf(r).add(1,r).date(c),d=s(this).endOf(t);if(u.isBefore(d))return 1}var f=s(this).startOf(r).date(c).startOf(t).subtract(1,"millisecond"),h=this.diff(f,t,!0);return h<0?s(this).startOf("week").week():Math.ceil(h)},o.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(QX);var iSe=QX.exports;const aSe=xu(iSe);var JX={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){return function(t,r){r.prototype.weekYear=function(){var i=this.month(),a=this.week(),s=this.year();return a===1&&i===11?s+1:i===0&&a>=52?s-1:s}}})})(JX);var sSe=JX.exports;const oSe=xu(sSe);var ej={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){return function(t,r,i){r.prototype.dayOfYear=function(a){var s=Math.round((i(this).startOf("day")-i(this).startOf("year"))/864e5)+1;return a==null?s:this.add(a-s,"day")}}})})(ej);var lSe=ej.exports;const cSe=xu(lSe);var tj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){return function(t,r){r.prototype.isSameOrAfter=function(i,a){return this.isSame(i,a)||this.isAfter(i,a)}}})})(tj);var uSe=tj.exports;const dSe=xu(uSe);var nj={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(wu,function(){return function(t,r){r.prototype.isSameOrBefore=function(i,a){return this.isSame(i,a)||this.isBefore(i,a)}}})})(nj);var fSe=nj.exports;const hSe=xu(fSe),DF=["hours","minutes","seconds"],G5="HH:mm:ss",rv="YYYY-MM-DD",pSe={date:rv,dates:rv,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${rv} ${G5}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:rv,datetimerange:`${rv} ${G5}`},rj=Rt({disabledHours:{type:Ke(Function)},disabledMinutes:{type:Ke(Function)},disabledSeconds:{type:Ke(Function)}}),ij=Rt({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),RL=Rt({id:{type:Ke([Array,String])},name:{type:Ke([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:Ke([String,Object]),default:Pd},editable:{type:Boolean,default:!0},prefixIcon:{type:Ke([String,Object]),default:""},size:ta,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})},modelValue:{type:Ke([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:Ke([Date,Array])},defaultTime:{type:Ke([Date,Array])},isRange:Boolean,...rj,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:Ke([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:Ke(String),values:Dd,default:"bottom"},fallbackPlacements:{type:Ke(Array),default:["bottom","top","right","left"]},...Qg,...$a(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),mSe=Rt({id:{type:Ke(Array)},name:{type:Ke(Array)},modelValue:{type:Ke([Array,String])},startPlaceholder:String,endPlaceholder:String}),vSe=Re({name:"PickerRangeTrigger",inheritAttrs:!1}),gSe=Re({...vSe,props:mSe,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(n,{expose:e,emit:t}){const r=J_(),i=bt("date"),a=bt("range"),s=ne(),o=ne(),{wrapperRef:l,isFocused:c}=wh(s),u=_=>{t("click",_)},d=_=>{t("mouseenter",_)},f=_=>{t("mouseleave",_)},h=_=>{t("mouseenter",_)},p=_=>{t("startInput",_)},m=_=>{t("endInput",_)},v=_=>{t("startChange",_)},g=_=>{t("endChange",_)};return e({focus:()=>{var _;(_=s.value)==null||_.focus()},blur:()=>{var _,x;(_=s.value)==null||_.blur(),(x=o.value)==null||x.blur()}}),(_,x)=>(V(),he("div",{ref_key:"wrapperRef",ref:l,class:Z([w(i).is("active",w(c)),_.$attrs.class]),style:Bt(_.$attrs.style),onClick:u,onMouseenter:d,onMouseleave:f,onTouchstartPassive:h},[Qe(_.$slots,"prefix"),ve("input",Hn(w(r),{id:_.id&&_.id[0],ref_key:"inputRef",ref:s,name:_.name&&_.name[0],placeholder:_.startPlaceholder,value:_.modelValue&&_.modelValue[0],class:w(a).b("input"),onInput:p,onChange:v}),null,16,["id","name","placeholder","value"]),Qe(_.$slots,"range-separator"),ve("input",Hn(w(r),{id:_.id&&_.id[1],ref_key:"endInputRef",ref:o,name:_.name&&_.name[1],placeholder:_.endPlaceholder,value:_.modelValue&&_.modelValue[1],class:w(a).b("input"),onInput:m,onChange:g}),null,16,["id","name","placeholder","value"]),Qe(_.$slots,"suffix")],38))}});var ySe=Pt(gSe,[["__file","picker-range-trigger.vue"]]);const bSe=Re({name:"Picker"}),_Se=Re({...bSe,props:RL,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(n,{expose:e,emit:t}){const r=n,i=bh(),{lang:a}=rr(),s=bt("date"),o=bt("input"),l=bt("range"),{form:c,formItem:u}=ss(),d=Ot("ElPopperOptions",{}),{valueOnClear:f}=AT(r,null),h=ne(),p=ne(),m=ne(!1),v=ne(!1),g=ne(null);let y=!1;const{isFocused:b,handleFocus:_,handleBlur:x}=wh(p,{beforeFocus(){return r.readonly||O.value},afterFocus(){m.value=!0},beforeBlur(ye){var Me;return!y&&((Me=h.value)==null?void 0:Me.isFocusInsideContent(ye))},afterBlur(){je(),m.value=!1,y=!1,r.validateEvent&&(u==null||u.validate("blur").catch(ye=>void 0))}}),S=U(()=>[s.b("editor"),s.bm("editor",r.type),o.e("wrapper"),s.is("disabled",O.value),s.is("active",m.value),l.b("editor"),Pe?l.bm("editor",Pe.value):"",i.class]),T=U(()=>[o.e("icon"),l.e("close-icon"),we.value?"":l.e("close-icon--hidden")]);dt(m,ye=>{ye?Yt(()=>{ye&&(g.value=r.modelValue)}):(Ve.value=null,Yt(()=>{C(r.modelValue)}))});const C=(ye,Me)=>{(Me||!gF(ye,g.value))&&(t("change",ye),r.validateEvent&&(u==null||u.validate("change").catch(ht=>void 0)))},M=ye=>{if(!gF(r.modelValue,ye)){let Me;Tt(ye)?Me=ye.map(ht=>bF(ht,r.valueFormat,a.value)):ye&&(Me=bF(ye,r.valueFormat,a.value)),t("update:modelValue",ye&&Me,a.value)}},A=ye=>{t("keydown",ye)},I=U(()=>p.value?Array.from(p.value.$el.querySelectorAll("input")):[]),D=(ye,Me,ht)=>{const Ee=I.value;Ee.length&&(!ht||ht==="min"?(Ee[0].setSelectionRange(ye,Me),Ee[0].focus()):ht==="max"&&(Ee[1].setSelectionRange(ye,Me),Ee[1].focus()))},L=(ye="",Me=!1)=>{m.value=Me;let ht;Tt(ye)?ht=ye.map(Ee=>Ee.toDate()):ht=ye&&ye.toDate(),Ve.value=null,M(ht)},F=()=>{v.value=!0},B=()=>{t("visible-change",!0)},k=()=>{v.value=!1,m.value=!1,t("visible-change",!1)},H=()=>{m.value=!0},z=()=>{m.value=!1},O=U(()=>r.disabled||(c==null?void 0:c.disabled)),W=U(()=>{let ye;if(ke.value?ft.value.getDefaultValue&&(ye=ft.value.getDefaultValue()):Tt(r.modelValue)?ye=r.modelValue.map(Me=>yF(Me,r.valueFormat,a.value)):ye=yF(r.modelValue,r.valueFormat,a.value),ft.value.getRangeAvailableTime){const Me=ft.value.getRangeAvailableTime(ye);Ua(Me,ye)||(ye=Me,ke.value||M(ex(ye)))}return Tt(ye)&&ye.some(Me=>!Me)&&(ye=[]),ye}),j=U(()=>{if(!ft.value.panelReady)return"";const ye=$(W.value);return Tt(Ve.value)?[Ve.value[0]||ye&&ye[0]||"",Ve.value[1]||ye&&ye[1]||""]:Ve.value!==null?Ve.value:!te.value&&ke.value||!m.value&&ke.value?"":ye?J.value||Q.value||ie.value?ye.join(", "):ye:""}),ee=U(()=>r.type.includes("time")),te=U(()=>r.type.startsWith("time")),J=U(()=>r.type==="dates"),Q=U(()=>r.type==="months"),ie=U(()=>r.type==="years"),le=U(()=>r.prefixIcon||(ee.value?kY:q0e)),we=ne(!1),Ae=ye=>{r.readonly||O.value||(we.value&&(ye.stopPropagation(),ft.value.handleClear?ft.value.handleClear():M(f.value),C(f.value,!0),we.value=!1,k()),t("clear"))},ke=U(()=>{const{modelValue:ye}=r;return!ye||Tt(ye)&&!ye.filter(Boolean).length}),Fe=async ye=>{var Me;r.readonly||O.value||(((Me=ye.target)==null?void 0:Me.tagName)!=="INPUT"||b.value)&&(m.value=!0)},q=()=>{r.readonly||O.value||!ke.value&&r.clearable&&(we.value=!0)},ce=()=>{we.value=!1},re=ye=>{var Me;r.readonly||O.value||(((Me=ye.touches[0].target)==null?void 0:Me.tagName)!=="INPUT"||b.value)&&(m.value=!0)},Ne=U(()=>r.type.includes("range")),Pe=Zi(),$e=U(()=>{var ye,Me;return(Me=(ye=w(h))==null?void 0:ye.popperRef)==null?void 0:Me.contentRef}),Ue=Jk(p,ye=>{const Me=w($e),ht=Vs(p);Me&&(ye.target===Me||ye.composedPath().includes(Me))||ye.target===ht||ht&&ye.composedPath().includes(ht)||(m.value=!1)});yr(()=>{Ue==null||Ue()});const Ve=ne(null),je=()=>{if(Ve.value){const ye=fe(j.value);ye&&X(ye)&&(M(ex(ye)),Ve.value=null)}Ve.value===""&&(M(f.value),C(f.value),Ve.value=null)},fe=ye=>ye?ft.value.parseUserInput(ye):null,$=ye=>ye?ft.value.formatToString(ye):null,X=ye=>ft.value.isValidValue(ye),me=async ye=>{if(r.readonly||O.value)return;const{code:Me}=ye;if(A(ye),Me===Nt.esc){m.value===!0&&(m.value=!1,ye.preventDefault(),ye.stopPropagation());return}if(Me===Nt.down&&(ft.value.handleFocusPicker&&(ye.preventDefault(),ye.stopPropagation()),m.value===!1&&(m.value=!0,await Yt()),ft.value.handleFocusPicker)){ft.value.handleFocusPicker();return}if(Me===Nt.tab){y=!0;return}if(Me===Nt.enter||Me===Nt.numpadEnter){(Ve.value===null||Ve.value===""||X(fe(j.value)))&&(je(),m.value=!1),ye.stopPropagation();return}if(Ve.value){ye.stopPropagation();return}ft.value.handleKeydownInput&&ft.value.handleKeydownInput(ye)},Oe=ye=>{Ve.value=ye,m.value||(m.value=!0)},qe=ye=>{const Me=ye.target;Ve.value?Ve.value=[Me.value,Ve.value[1]]:Ve.value=[Me.value,null]},mt=ye=>{const Me=ye.target;Ve.value?Ve.value=[Ve.value[0],Me.value]:Ve.value=[null,Me.value]},pt=()=>{var ye;const Me=Ve.value,ht=fe(Me&&Me[0]),Ee=w(W);if(ht&&ht.isValid()){Ve.value=[$(ht),((ye=j.value)==null?void 0:ye[1])||null];const _t=[ht,Ee&&(Ee[1]||null)];X(_t)&&(M(ex(_t)),Ve.value=null)}},Ce=()=>{var ye;const Me=w(Ve),ht=fe(Me&&Me[1]),Ee=w(W);if(ht&&ht.isValid()){Ve.value=[((ye=w(j))==null?void 0:ye[0])||null,$(ht)];const _t=[Ee&&Ee[0],ht];X(_t)&&(M(ex(_t)),Ve.value=null)}},ft=ne({}),at=ye=>{ft.value[ye[0]]=ye[1],ft.value.panelReady=!0},G=ye=>{t("calendar-change",ye)},ge=(ye,Me,ht)=>{t("panel-change",ye,Me,ht)},pe=()=>{var ye;(ye=p.value)==null||ye.focus()},Ie=()=>{var ye;(ye=p.value)==null||ye.blur()};return $n("EP_PICKER_BASE",{props:r}),e({focus:pe,blur:Ie,handleOpen:H,handleClose:z,onPick:L}),(ye,Me)=>(V(),rt(w(is),Hn({ref_key:"refPopper",ref:h,visible:m.value,effect:"light",pure:"",trigger:"click"},ye.$attrs,{role:"dialog",teleported:"",transition:`${w(s).namespace.value}-zoom-in-top`,"popper-class":[`${w(s).namespace.value}-picker__popper`,ye.popperClass],"popper-options":w(d),"fallback-placements":ye.fallbackPlacements,"gpu-acceleration":!1,placement:ye.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:F,onShow:B,onHide:k}),{default:be(()=>[w(Ne)?(V(),rt(ySe,{key:1,id:ye.id,ref_key:"inputRef",ref:p,"model-value":w(j),name:ye.name,disabled:w(O),readonly:!ye.editable||ye.readonly,"start-placeholder":ye.startPlaceholder,"end-placeholder":ye.endPlaceholder,class:Z(w(S)),style:Bt(ye.$attrs.style),"aria-label":ye.ariaLabel,tabindex:ye.tabindex,autocomplete:"off",role:"combobox",onClick:Fe,onFocus:w(_),onBlur:w(x),onStartInput:qe,onStartChange:pt,onEndInput:mt,onEndChange:Ce,onMousedown:Fe,onMouseenter:q,onMouseleave:ce,onTouchstartPassive:re,onKeydown:me},{prefix:be(()=>[w(le)?(V(),rt(w(Vt),{key:0,class:Z([w(o).e("icon"),w(l).e("icon")])},{default:be(()=>[(V(),rt(Nn(w(le))))]),_:1},8,["class"])):Je("v-if",!0)]),"range-separator":be(()=>[Qe(ye.$slots,"range-separator",{},()=>[ve("span",{class:Z(w(l).b("separator"))},Ct(ye.rangeSeparator),3)])]),suffix:be(()=>[ye.clearIcon?(V(),rt(w(Vt),{key:0,class:Z(w(T)),onMousedown:sn(w(Cr),["prevent"]),onClick:Ae},{default:be(()=>[(V(),rt(Nn(ye.clearIcon)))]),_:1},8,["class","onMousedown"])):Je("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(V(),rt(w(Cs),{key:0,id:ye.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":w(j),name:ye.name,size:w(Pe),disabled:w(O),placeholder:ye.placeholder,class:Z([w(s).b("editor"),w(s).bm("editor",ye.type),ye.$attrs.class]),style:Bt(ye.$attrs.style),readonly:!ye.editable||ye.readonly||w(J)||w(Q)||w(ie)||ye.type==="week","aria-label":ye.ariaLabel,tabindex:ye.tabindex,"validate-event":!1,onInput:Oe,onFocus:w(_),onBlur:w(x),onKeydown:me,onChange:je,onMousedown:Fe,onMouseenter:q,onMouseleave:ce,onTouchstartPassive:re,onClick:sn(()=>{},["stop"])},{prefix:be(()=>[w(le)?(V(),rt(w(Vt),{key:0,class:Z(w(o).e("icon")),onMousedown:sn(Fe,["prevent"]),onTouchstartPassive:re},{default:be(()=>[(V(),rt(Nn(w(le))))]),_:1},8,["class","onMousedown"])):Je("v-if",!0)]),suffix:be(()=>[we.value&&ye.clearIcon?(V(),rt(w(Vt),{key:0,class:Z(`${w(o).e("icon")} clear-icon`),onMousedown:sn(w(Cr),["prevent"]),onClick:Ae},{default:be(()=>[(V(),rt(Nn(ye.clearIcon)))]),_:1},8,["class","onMousedown"])):Je("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:be(()=>[Qe(ye.$slots,"default",{visible:m.value,actualVisible:v.value,parsedValue:w(W),format:ye.format,dateFormat:ye.dateFormat,timeFormat:ye.timeFormat,unlinkPanels:ye.unlinkPanels,type:ye.type,defaultValue:ye.defaultValue,showNow:ye.showNow,onPick:L,onSelectRange:D,onSetPickerOption:at,onCalendarChange:G,onPanelChange:ge,onMousedown:sn(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var aj=Pt(_Se,[["__file","picker.vue"]]);const wSe=Rt({...ij,datetimeRole:String,parsedValue:{type:Ke(Object)}}),sj=({getAvailableHours:n,getAvailableMinutes:e,getAvailableSeconds:t})=>{const r=(s,o,l,c)=>{const u={hour:n,minute:e,second:t};let d=s;return["hour","minute","second"].forEach(f=>{if(u[f]){let h;const p=u[f];switch(f){case"minute":{h=p(d.hour(),o,c);break}case"second":{h=p(d.hour(),d.minute(),o,c);break}default:{h=p(o,c);break}}if(h!=null&&h.length&&!h.includes(d[f]())){const m=l?0:h.length-1;d=d[f](h[m])}}}),d},i={};return{timePickerOptions:i,getAvailableTime:r,onSetOption:([s,o])=>{i[s]=o}}},V3=n=>{const e=(r,i)=>r||i,t=r=>r!==!0;return n.map(e).filter(t)},oj=(n,e,t)=>({getHoursList:(s,o)=>F3(24,n&&(()=>n==null?void 0:n(s,o))),getMinutesList:(s,o,l)=>F3(60,e&&(()=>e==null?void 0:e(s,o,l))),getSecondsList:(s,o,l,c)=>F3(60,t&&(()=>t==null?void 0:t(s,o,l,c)))}),lj=(n,e,t)=>{const{getHoursList:r,getMinutesList:i,getSecondsList:a}=oj(n,e,t);return{getAvailableHours:(c,u)=>V3(r(c,u)),getAvailableMinutes:(c,u,d)=>V3(i(c,u,d)),getAvailableSeconds:(c,u,d,f)=>V3(a(c,u,d,f))}},cj=n=>{const e=ne(n.parsedValue);return dt(()=>n.visible,t=>{t||(e.value=n.parsedValue)}),e},xSe=Rt({role:{type:String,required:!0},spinnerDate:{type:Ke(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:Ke(String),default:""},...rj}),SSe=100,CSe=600,IC={beforeMount(n,e){const t=e.value,{interval:r=SSe,delay:i=CSe}=Zt(t)?{}:t;let a,s;const o=()=>Zt(t)?t():t.handler(),l=()=>{s&&(clearTimeout(s),s=void 0),a&&(clearInterval(a),a=void 0)};n.addEventListener("mousedown",c=>{c.button===0&&(l(),o(),document.addEventListener("mouseup",()=>l(),{once:!0}),s=setTimeout(()=>{a=setInterval(()=>{o()},r)},i))})}},MSe=Re({__name:"basic-time-spinner",props:xSe,emits:["change","select-range","set-option"],setup(n,{emit:e}){const t=n,r=Ot("EP_PICKER_BASE"),{isRange:i}=r.props,a=bt("time"),{getHoursList:s,getMinutesList:o,getSecondsList:l}=oj(t.disabledHours,t.disabledMinutes,t.disabledSeconds);let c=!1;const u=ne(),d=ne(),f=ne(),h=ne(),p={hours:d,minutes:f,seconds:h},m=U(()=>t.showSeconds?DF:DF.slice(0,2)),v=U(()=>{const{spinnerDate:j}=t,ee=j.hour(),te=j.minute(),J=j.second();return{hours:ee,minutes:te,seconds:J}}),g=U(()=>{const{hours:j,minutes:ee}=w(v),{role:te,spinnerDate:J}=t,Q=i?void 0:J;return{hours:s(te,Q),minutes:o(j,te,Q),seconds:l(j,ee,te,Q)}}),y=U(()=>{const{hours:j,minutes:ee,seconds:te}=w(v);return{hours:B3(j,23),minutes:B3(ee,59),seconds:B3(te,59)}}),b=bo(j=>{c=!1,S(j)},200),_=j=>{if(!!!t.amPmMode)return"";const te=t.amPmMode==="A";let J=j<12?" am":" pm";return te&&(J=J.toUpperCase()),J},x=j=>{let ee;switch(j){case"hours":ee=[0,2];break;case"minutes":ee=[3,5];break;case"seconds":ee=[6,8];break}const[te,J]=ee;e("select-range",te,J),u.value=j},S=j=>{M(j,w(v)[j])},T=()=>{S("hours"),S("minutes"),S("seconds")},C=j=>j.querySelector(`.${a.namespace.value}-scrollbar__wrap`),M=(j,ee)=>{if(t.arrowControl)return;const te=w(p[j]);te&&te.$el&&(C(te.$el).scrollTop=Math.max(0,ee*A(j)))},A=j=>{const ee=w(p[j]),te=ee==null?void 0:ee.$el.querySelector("li");return te&&Number.parseFloat(td(te,"height"))||0},I=()=>{L(1)},D=()=>{L(-1)},L=j=>{u.value||x("hours");const ee=u.value,te=w(v)[ee],J=u.value==="hours"?24:60,Q=F(ee,te,j,J);B(ee,Q),M(ee,Q),Yt(()=>x(ee))},F=(j,ee,te,J)=>{let Q=(ee+te+J)%J;const ie=w(g)[j];for(;ie[Q]&&Q!==ee;)Q=(Q+te+J)%J;return Q},B=(j,ee)=>{if(w(g)[j][ee])return;const{hours:Q,minutes:ie,seconds:le}=w(v);let we;switch(j){case"hours":we=t.spinnerDate.hour(ee).minute(ie).second(le);break;case"minutes":we=t.spinnerDate.hour(Q).minute(ee).second(le);break;case"seconds":we=t.spinnerDate.hour(Q).minute(ie).second(ee);break}e("change",we)},k=(j,{value:ee,disabled:te})=>{te||(B(j,ee),x(j),M(j,ee))},H=j=>{const ee=w(p[j]);if(!ee)return;c=!0,b(j);const te=Math.min(Math.round((C(ee.$el).scrollTop-(z(j)*.5-10)/A(j)+3)/A(j)),j==="hours"?23:59);B(j,te)},z=j=>w(p[j]).$el.offsetHeight,O=()=>{const j=ee=>{const te=w(p[ee]);te&&te.$el&&(C(te.$el).onscroll=()=>{H(ee)})};j("hours"),j("minutes"),j("seconds")};pn(()=>{Yt(()=>{!t.arrowControl&&O(),T(),t.role==="start"&&x("hours")})});const W=(j,ee)=>{p[ee].value=j??void 0};return e("set-option",[`${t.role}_scrollDown`,L]),e("set-option",[`${t.role}_emitSelectRange`,x]),dt(()=>t.spinnerDate,()=>{c||T()}),(j,ee)=>(V(),he("div",{class:Z([w(a).b("spinner"),{"has-seconds":j.showSeconds}])},[j.arrowControl?Je("v-if",!0):(V(!0),he(zt,{key:0},In(w(m),te=>(V(),rt(w(_u),{key:te,ref_for:!0,ref:J=>W(J,te),class:Z(w(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":w(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:J=>x(te),onMousemove:J=>S(te)},{default:be(()=>[(V(!0),he(zt,null,In(w(g)[te],(J,Q)=>(V(),he("li",{key:Q,class:Z([w(a).be("spinner","item"),w(a).is("active",Q===w(v)[te]),w(a).is("disabled",J)]),onClick:ie=>k(te,{value:Q,disabled:J})},[te==="hours"?(V(),he(zt,{key:0},[dn(Ct(("0"+(j.amPmMode?Q%12||12:Q)).slice(-2))+Ct(_(Q)),1)],64)):(V(),he(zt,{key:1},[dn(Ct(("0"+Q).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),j.arrowControl?(V(!0),he(zt,{key:1},In(w(m),te=>(V(),he("div",{key:te,class:Z([w(a).be("spinner","wrapper"),w(a).is("arrow")]),onMouseenter:J=>x(te)},[Cn((V(),rt(w(Vt),{class:Z(["arrow-up",w(a).be("spinner","arrow")])},{default:be(()=>[ue(w(rL))]),_:1},8,["class"])),[[w(IC),D]]),Cn((V(),rt(w(Vt),{class:Z(["arrow-down",w(a).be("spinner","arrow")])},{default:be(()=>[ue(w(Rd))]),_:1},8,["class"])),[[w(IC),I]]),ve("ul",{class:Z(w(a).be("spinner","list"))},[(V(!0),he(zt,null,In(w(y)[te],(J,Q)=>(V(),he("li",{key:Q,class:Z([w(a).be("spinner","item"),w(a).is("active",J===w(v)[te]),w(a).is("disabled",w(g)[te][J])])},[w(en)(J)?(V(),he(zt,{key:0},[te==="hours"?(V(),he(zt,{key:0},[dn(Ct(("0"+(j.amPmMode?J%12||12:J)).slice(-2))+Ct(_(J)),1)],64)):(V(),he(zt,{key:1},[dn(Ct(("0"+J).slice(-2)),1)],64))],64)):Je("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):Je("v-if",!0)],2))}});var W5=Pt(MSe,[["__file","basic-time-spinner.vue"]]);const TSe=Re({__name:"panel-time-pick",props:wSe,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,r=Ot("EP_PICKER_BASE"),{arrowControl:i,disabledHours:a,disabledMinutes:s,disabledSeconds:o,defaultValue:l}=r.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=lj(a,s,o),f=bt("time"),{t:h,lang:p}=rr(),m=ne([0,2]),v=cj(t),g=U(()=>Tr(t.actualVisible)?`${f.namespace.value}-zoom-in-top`:""),y=U(()=>t.format.includes("ss")),b=U(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),_=z=>{const O=hn(z).locale(p.value),W=F(O);return O.isSame(W)},x=()=>{e("pick",v.value,!1)},S=(z=!1,O=!1)=>{O||e("pick",t.parsedValue,z)},T=z=>{if(!t.visible)return;const O=F(z).millisecond(0);e("pick",O,!0)},C=(z,O)=>{e("select-range",z,O),m.value=[z,O]},M=z=>{const O=[0,3].concat(y.value?[6]:[]),W=["hours","minutes"].concat(y.value?["seconds"]:[]),ee=(O.indexOf(m.value[0])+z+O.length)%O.length;I.start_emitSelectRange(W[ee])},A=z=>{const O=z.code,{left:W,right:j,up:ee,down:te}=Nt;if([W,j].includes(O)){M(O===W?-1:1),z.preventDefault();return}if([ee,te].includes(O)){const J=O===ee?-1:1;I.start_scrollDown(J),z.preventDefault();return}},{timePickerOptions:I,onSetOption:D,getAvailableTime:L}=sj({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),F=z=>L(z,t.datetimeRole||"",!0),B=z=>z?hn(z,t.format).locale(p.value):null,k=z=>z?z.format(t.format):null,H=()=>hn(l).locale(p.value);return e("set-picker-option",["isValidValue",_]),e("set-picker-option",["formatToString",k]),e("set-picker-option",["parseUserInput",B]),e("set-picker-option",["handleKeydownInput",A]),e("set-picker-option",["getRangeAvailableTime",F]),e("set-picker-option",["getDefaultValue",H]),(z,O)=>(V(),rt(da,{name:w(g)},{default:be(()=>[z.actualVisible||z.visible?(V(),he("div",{key:0,class:Z(w(f).b("panel"))},[ve("div",{class:Z([w(f).be("panel","content"),{"has-seconds":w(y)}])},[ue(W5,{ref:"spinner",role:z.datetimeRole||"start","arrow-control":w(i),"show-seconds":w(y),"am-pm-mode":w(b),"spinner-date":z.parsedValue,"disabled-hours":w(a),"disabled-minutes":w(s),"disabled-seconds":w(o),onChange:T,onSetOption:w(D),onSelectRange:C},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),ve("div",{class:Z(w(f).be("panel","footer"))},[ve("button",{type:"button",class:Z([w(f).be("panel","btn"),"cancel"]),onClick:x},Ct(w(h)("el.datepicker.cancel")),3),ve("button",{type:"button",class:Z([w(f).be("panel","btn"),"confirm"]),onClick:W=>S()},Ct(w(h)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Je("v-if",!0)]),_:1},8,["name"]))}});var RC=Pt(TSe,[["__file","panel-time-pick.vue"]]);const ASe=Rt({...ij,parsedValue:{type:Ke(Array)}}),ESe=Re({__name:"panel-time-range",props:ASe,emits:["pick","select-range","set-picker-option"],setup(n,{emit:e}){const t=n,r=(Fe,q)=>{const ce=[];for(let re=Fe;re<=q;re++)ce.push(re);return ce},{t:i,lang:a}=rr(),s=bt("time"),o=bt("picker"),l=Ot("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:d,disabledSeconds:f,defaultValue:h}=l.props,p=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),_.value?"has-seconds":""]),m=U(()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),_.value?"has-seconds":""]),v=U(()=>t.parsedValue[0]),g=U(()=>t.parsedValue[1]),y=cj(t),b=()=>{e("pick",y.value,!1)},_=U(()=>t.format.includes("ss")),x=U(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),S=(Fe=!1)=>{e("pick",[v.value,g.value],Fe)},T=Fe=>{A(Fe.millisecond(0),g.value)},C=Fe=>{A(v.value,Fe.millisecond(0))},M=Fe=>{const q=Fe.map(re=>hn(re).locale(a.value)),ce=j(q);return q[0].isSame(ce[0])&&q[1].isSame(ce[1])},A=(Fe,q)=>{t.visible&&e("pick",[Fe,q],!0)},I=U(()=>v.value>g.value),D=ne([0,2]),L=(Fe,q)=>{e("select-range",Fe,q,"min"),D.value=[Fe,q]},F=U(()=>_.value?11:8),B=(Fe,q)=>{e("select-range",Fe,q,"max");const ce=w(F);D.value=[Fe+ce,q+ce]},k=Fe=>{const q=_.value?[0,3,6,11,14,17]:[0,3,8,11],ce=["hours","minutes"].concat(_.value?["seconds"]:[]),Ne=(q.indexOf(D.value[0])+Fe+q.length)%q.length,Pe=q.length/2;Ne<Pe?Q.start_emitSelectRange(ce[Ne]):Q.end_emitSelectRange(ce[Ne-Pe])},H=Fe=>{const q=Fe.code,{left:ce,right:re,up:Ne,down:Pe}=Nt;if([ce,re].includes(q)){k(q===ce?-1:1),Fe.preventDefault();return}if([Ne,Pe].includes(q)){const $e=q===Ne?-1:1,Ue=D.value[0]<F.value?"start":"end";Q[`${Ue}_scrollDown`]($e),Fe.preventDefault();return}},z=(Fe,q)=>{const ce=u?u(Fe):[],re=Fe==="start",Pe=(q||(re?g.value:v.value)).hour(),$e=re?r(Pe+1,23):r(0,Pe-1);return P3(ce,$e)},O=(Fe,q,ce)=>{const re=d?d(Fe,q):[],Ne=q==="start",Pe=ce||(Ne?g.value:v.value),$e=Pe.hour();if(Fe!==$e)return re;const Ue=Pe.minute(),Ve=Ne?r(Ue+1,59):r(0,Ue-1);return P3(re,Ve)},W=(Fe,q,ce,re)=>{const Ne=f?f(Fe,q,ce):[],Pe=ce==="start",$e=re||(Pe?g.value:v.value),Ue=$e.hour(),Ve=$e.minute();if(Fe!==Ue||q!==Ve)return Ne;const je=$e.second(),fe=Pe?r(je+1,59):r(0,je-1);return P3(Ne,fe)},j=([Fe,q])=>[ie(Fe,"start",!0,q),ie(q,"end",!1,Fe)],{getAvailableHours:ee,getAvailableMinutes:te,getAvailableSeconds:J}=lj(z,O,W),{timePickerOptions:Q,getAvailableTime:ie,onSetOption:le}=sj({getAvailableHours:ee,getAvailableMinutes:te,getAvailableSeconds:J}),we=Fe=>Fe?Tt(Fe)?Fe.map(q=>hn(q,t.format).locale(a.value)):hn(Fe,t.format).locale(a.value):null,Ae=Fe=>Fe?Tt(Fe)?Fe.map(q=>q.format(t.format)):Fe.format(t.format):null,ke=()=>{if(Tt(h))return h.map(q=>hn(q).locale(a.value));const Fe=hn(h).locale(a.value);return[Fe,Fe.add(60,"m")]};return e("set-picker-option",["formatToString",Ae]),e("set-picker-option",["parseUserInput",we]),e("set-picker-option",["isValidValue",M]),e("set-picker-option",["handleKeydownInput",H]),e("set-picker-option",["getDefaultValue",ke]),e("set-picker-option",["getRangeAvailableTime",j]),(Fe,q)=>Fe.actualVisible?(V(),he("div",{key:0,class:Z([w(s).b("range-picker"),w(o).b("panel")])},[ve("div",{class:Z(w(s).be("range-picker","content"))},[ve("div",{class:Z(w(s).be("range-picker","cell"))},[ve("div",{class:Z(w(s).be("range-picker","header"))},Ct(w(i)("el.datepicker.startTime")),3),ve("div",{class:Z(w(p))},[ue(W5,{ref:"minSpinner",role:"start","show-seconds":w(_),"am-pm-mode":w(x),"arrow-control":w(c),"spinner-date":w(v),"disabled-hours":z,"disabled-minutes":O,"disabled-seconds":W,onChange:T,onSetOption:w(le),onSelectRange:L},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),ve("div",{class:Z(w(s).be("range-picker","cell"))},[ve("div",{class:Z(w(s).be("range-picker","header"))},Ct(w(i)("el.datepicker.endTime")),3),ve("div",{class:Z(w(m))},[ue(W5,{ref:"maxSpinner",role:"end","show-seconds":w(_),"am-pm-mode":w(x),"arrow-control":w(c),"spinner-date":w(g),"disabled-hours":z,"disabled-minutes":O,"disabled-seconds":W,onChange:C,onSetOption:w(le),onSelectRange:B},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),ve("div",{class:Z(w(s).be("panel","footer"))},[ve("button",{type:"button",class:Z([w(s).be("panel","btn"),"cancel"]),onClick:ce=>b()},Ct(w(i)("el.datepicker.cancel")),11,["onClick"]),ve("button",{type:"button",class:Z([w(s).be("panel","btn"),"confirm"]),disabled:w(I),onClick:ce=>S()},Ct(w(i)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Je("v-if",!0)}});var ISe=Pt(ESe,[["__file","panel-time-range.vue"]]);hn.extend(IL);var RSe=Re({name:"ElTimePicker",install:null,props:{...RL,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(n,e){const t=ne(),[r,i]=n.isRange?["timerange",ISe]:["time",RC],a=s=>e.emit("update:modelValue",s);return $n("ElPopperOptions",n.popperOptions),e.expose({focus:()=>{var s;(s=t.value)==null||s.focus()},blur:()=>{var s;(s=t.value)==null||s.blur()},handleOpen:()=>{var s;(s=t.value)==null||s.handleOpen()},handleClose:()=>{var s;(s=t.value)==null||s.handleClose()}}),()=>{var s;const o=(s=n.format)!=null?s:G5;return ue(aj,Hn(n,{ref:t,type:r,format:o,"onUpdate:modelValue":a}),{default:l=>ue(i,l,null)})}}});const PSe=gn(RSe),BT=Symbol(),DSe=Rt({...RL,type:{type:Ke(String),default:"date"}}),kSe=["date","dates","year","years","month","months","week","range"],PL=Rt({disabledDate:{type:Ke(Function)},date:{type:Ke(Object),required:!0},minDate:{type:Ke(Object)},maxDate:{type:Ke(Object)},parsedValue:{type:Ke([Object,Array])},rangeState:{type:Ke(Object),default:()=>({endDate:null,selecting:!1})}}),uj=Rt({type:{type:Ke(String),required:!0,values:Qbe},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),DL=Rt({unlinkPanels:Boolean,parsedValue:{type:Ke(Array)}}),kL=n=>({type:String,values:kSe,default:n}),LSe=Rt({...uj,parsedValue:{type:Ke([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),hg=n=>{if(!Tt(n))return!1;const[e,t]=n;return hn.isDayjs(e)&&hn.isDayjs(t)&&e.isSameOrBefore(t)},LL=(n,{lang:e,unit:t,unlinkPanels:r})=>{let i;if(Tt(n)){let[a,s]=n.map(o=>hn(o).locale(e));return r||(s=a.add(1,t)),[a,s]}else n?i=hn(n):i=hn();return i=i.locale(e),[i,i.add(1,t)]},NSe=(n,e,{columnIndexOffset:t,startDate:r,nextEndDate:i,now:a,unit:s,relativeDateGetter:o,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<n.row;u++){const d=e[u];for(let f=0;f<n.column;f++){let h=d[f+t];h||(h={row:u,column:f,type:"normal",inRange:!1,start:!1,end:!1});const p=u*n.column+f,m=o(p);h.dayjs=m,h.date=m.toDate(),h.timestamp=m.valueOf(),h.type="normal",h.inRange=!!(r&&m.isSameOrAfter(r,s)&&i&&m.isSameOrBefore(i,s))||!!(r&&m.isSameOrBefore(r,s)&&i&&m.isSameOrAfter(i,s)),r!=null&&r.isSameOrAfter(i)?(h.start=!!i&&m.isSame(i,s),h.end=r&&m.isSame(r,s)):(h.start=!!r&&m.isSame(r,s),h.end=!!i&&m.isSame(i,s)),m.isSame(a,s)&&(h.type="today"),l==null||l(h,{rowIndex:u,columnIndex:f}),d[f+t]=h}c==null||c(d)}},PC=(n,e,t)=>{const r=hn().locale(t).startOf("month").month(e).year(n),i=r.daysInMonth();return Bf(i).map(a=>r.add(a,"day").toDate())},Zb=(n,e,t,r)=>{const i=hn().year(n).month(e).startOf("month"),a=PC(n,e,t).find(s=>!(r!=null&&r(s)));return a?hn(a).locale(t):i.locale(t)},q5=(n,e,t)=>{const r=n.year();if(!(t!=null&&t(n.toDate())))return n.locale(e);const i=n.month();if(!PC(r,i,e).every(t))return Zb(r,i,e,t);for(let a=0;a<12;a++)if(!PC(r,a,e).every(t))return Zb(r,a,e,t);return n},OSe=Rt({...PL,cellClassName:{type:Ke(Function)},showWeekNumber:Boolean,selectionMode:kL("date")}),BSe=["changerange","pick","select"],K5=(n="")=>["normal","today"].includes(n),FSe=(n,e)=>{const{lang:t}=rr(),r=ne(),i=ne(),a=ne(),s=ne(),o=ne([[],[],[],[],[],[]]);let l=!1;const c=n.date.$locale().weekStart||7,u=n.date.locale("en").localeData().weekdaysShort().map(O=>O.toLowerCase()),d=U(()=>c>3?7-c:-c),f=U(()=>{const O=n.date.startOf("month");return O.subtract(O.day()||7,"day")}),h=U(()=>u.concat(u).slice(c,c+7)),p=U(()=>UK(w(_)).some(O=>O.isCurrent)),m=U(()=>{const O=n.date.startOf("month"),W=O.day()||7,j=O.daysInMonth(),ee=O.subtract(1,"month").daysInMonth();return{startOfMonthDay:W,dateCountOfMonth:j,dateCountOfLastMonth:ee}}),v=U(()=>n.selectionMode==="dates"?Us(n.parsedValue):[]),g=(O,{count:W,rowIndex:j,columnIndex:ee})=>{const{startOfMonthDay:te,dateCountOfMonth:J,dateCountOfLastMonth:Q}=w(m),ie=w(d);if(j>=0&&j<=1){const le=te+ie<0?7+te+ie:te+ie;if(ee+j*7>=le)return O.text=W,!0;O.text=Q-(le-ee%7)+1+j*7,O.type="prev-month"}else return W<=J?O.text=W:(O.text=W-J,O.type="next-month"),!0;return!1},y=(O,{columnIndex:W,rowIndex:j},ee)=>{const{disabledDate:te,cellClassName:J}=n,Q=w(v),ie=g(O,{count:ee,rowIndex:j,columnIndex:W}),le=O.dayjs.toDate();return O.selected=Q.find(we=>we.isSame(O.dayjs,"day")),O.isSelected=!!O.selected,O.isCurrent=S(O),O.disabled=te==null?void 0:te(le),O.customClass=J==null?void 0:J(le),ie},b=O=>{if(n.selectionMode==="week"){const[W,j]=n.showWeekNumber?[1,7]:[0,6],ee=z(O[W+1]);O[W].inRange=ee,O[W].start=ee,O[j].inRange=ee,O[j].end=ee}},_=U(()=>{const{minDate:O,maxDate:W,rangeState:j,showWeekNumber:ee}=n,te=w(d),J=w(o),Q="day";let ie=1;if(ee)for(let le=0;le<6;le++)J[le][0]||(J[le][0]={type:"week",text:w(f).add(le*7+1,Q).week()});return NSe({row:6,column:7},J,{startDate:O,columnIndexOffset:ee?1:0,nextEndDate:j.endDate||W||j.selecting&&O||null,now:hn().locale(w(t)).startOf(Q),unit:Q,relativeDateGetter:le=>w(f).add(le-te,Q),setCellMetadata:(...le)=>{y(...le,ie)&&(ie+=1)},setRowMetadata:b}),J});dt(()=>n.date,async()=>{var O;(O=w(r))!=null&&O.contains(document.activeElement)&&(await Yt(),await x())});const x=async()=>{var O;return(O=w(i))==null?void 0:O.focus()},S=O=>n.selectionMode==="date"&&K5(O.type)&&T(O,n.parsedValue),T=(O,W)=>W?hn(W).locale(w(t)).isSame(n.date.date(Number(O.text)),"day"):!1,C=(O,W)=>{const j=O*7+(W-(n.showWeekNumber?1:0))-w(d);return w(f).add(j,"day")},M=O=>{var W;if(!n.rangeState.selecting)return;let j=O.target;if(j.tagName==="SPAN"&&(j=(W=j.parentNode)==null?void 0:W.parentNode),j.tagName==="DIV"&&(j=j.parentNode),j.tagName!=="TD")return;const ee=j.parentNode.rowIndex-1,te=j.cellIndex;w(_)[ee][te].disabled||(ee!==w(a)||te!==w(s))&&(a.value=ee,s.value=te,e("changerange",{selecting:!0,endDate:C(ee,te)}))},A=O=>!w(p)&&(O==null?void 0:O.text)===1&&O.type==="normal"||O.isCurrent,I=O=>{l||w(p)||n.selectionMode!=="date"||H(O,!0)},D=O=>{O.target.closest("td")&&(l=!0)},L=O=>{O.target.closest("td")&&(l=!1)},F=O=>{!n.rangeState.selecting||!n.minDate?(e("pick",{minDate:O,maxDate:null}),e("select",!0)):(O>=n.minDate?e("pick",{minDate:n.minDate,maxDate:O}):e("pick",{minDate:O,maxDate:n.minDate}),e("select",!1))},B=O=>{const W=O.week(),j=`${O.year()}w${W}`;e("pick",{year:O.year(),week:W,value:j,date:O.startOf("week")})},k=(O,W)=>{const j=W?Us(n.parsedValue).filter(ee=>(ee==null?void 0:ee.valueOf())!==O.valueOf()):Us(n.parsedValue).concat([O]);e("pick",j)},H=(O,W=!1)=>{const j=O.target.closest("td");if(!j)return;const ee=j.parentNode.rowIndex-1,te=j.cellIndex,J=w(_)[ee][te];if(J.disabled||J.type==="week")return;const Q=C(ee,te);switch(n.selectionMode){case"range":{F(Q);break}case"date":{e("pick",Q,W);break}case"week":{B(Q);break}case"dates":{k(Q,!!J.selected);break}}},z=O=>{if(n.selectionMode!=="week")return!1;let W=n.date.startOf("day");if(O.type==="prev-month"&&(W=W.subtract(1,"month")),O.type==="next-month"&&(W=W.add(1,"month")),W=W.date(Number.parseInt(O.text,10)),n.parsedValue&&!Tt(n.parsedValue)){const j=(n.parsedValue.day()-c+7)%7-1;return n.parsedValue.subtract(j,"day").isSame(W,"day")}return!1};return{WEEKS:h,rows:_,tbodyRef:r,currentCellRef:i,focus:x,isCurrent:S,isWeekActive:z,isSelectedCell:A,handlePickDate:H,handleMouseUp:L,handleMouseDown:D,handleMouseMove:M,handleFocus:I}},zSe=(n,{isCurrent:e,isWeekActive:t})=>{const r=bt("date-table"),{t:i}=rr(),a=U(()=>[r.b(),{"is-week-mode":n.selectionMode==="week"}]),s=U(()=>i("el.datepicker.dateTablePrompt")),o=U(()=>i("el.datepicker.week"));return{tableKls:a,tableLabel:s,weekLabel:o,getCellClasses:u=>{const d=[];return K5(u.type)&&!u.disabled?(d.push("available"),u.type==="today"&&d.push("today")):d.push(u.type),e(u)&&d.push("current"),u.inRange&&(K5(u.type)||n.selectionMode==="week")&&(d.push("in-range"),u.start&&d.push("start-date"),u.end&&d.push("end-date")),u.disabled&&d.push("disabled"),u.selected&&d.push("selected"),u.customClass&&d.push(u.customClass),d.join(" ")},getRowKls:u=>[r.e("row"),{current:t(u)}],t:i}},USe=Rt({cell:{type:Ke(Object)}});var NL=Re({name:"ElDatePickerCell",props:USe,setup(n){const e=bt("date-table-cell"),{slots:t}=Ot(BT);return()=>{const{cell:r}=n;return Qe(t,"default",{...r},()=>{var i;return[ue("div",{class:e.b()},[ue("span",{class:e.e("text")},[(i=r==null?void 0:r.renderText)!=null?i:r==null?void 0:r.text])])]})}}});const HSe=Re({__name:"basic-date-table",props:OSe,emits:BSe,setup(n,{expose:e,emit:t}){const r=n,{WEEKS:i,rows:a,tbodyRef:s,currentCellRef:o,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:f,handleMouseUp:h,handleMouseDown:p,handleMouseMove:m,handleFocus:v}=FSe(r,t),{tableLabel:g,tableKls:y,weekLabel:b,getCellClasses:_,getRowKls:x,t:S}=zSe(r,{isCurrent:c,isWeekActive:u});return e({focus:l}),(T,C)=>(V(),he("table",{"aria-label":w(g),class:Z(w(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:w(f),onMousemove:w(m),onMousedown:sn(w(p),["prevent"]),onMouseup:w(h)},[ve("tbody",{ref_key:"tbodyRef",ref:s},[ve("tr",null,[T.showWeekNumber?(V(),he("th",{key:0,scope:"col"},Ct(w(b)),1)):Je("v-if",!0),(V(!0),he(zt,null,In(w(i),(M,A)=>(V(),he("th",{key:A,"aria-label":w(S)("el.datepicker.weeksFull."+M),scope:"col"},Ct(w(S)("el.datepicker.weeks."+M)),9,["aria-label"]))),128))]),(V(!0),he(zt,null,In(w(a),(M,A)=>(V(),he("tr",{key:A,class:Z(w(x)(M[1]))},[(V(!0),he(zt,null,In(M,(I,D)=>(V(),he("td",{key:`${A}.${D}`,ref_for:!0,ref:L=>w(d)(I)&&(o.value=L),class:Z(w(_)(I)),"aria-current":I.isCurrent?"date":void 0,"aria-selected":I.isCurrent,tabindex:w(d)(I)?0:-1,onFocus:w(v)},[ue(w(NL),{cell:I},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var Y5=Pt(HSe,[["__file","basic-date-table.vue"]]);const VSe=Rt({...PL,selectionMode:kL("month")}),$Se=Re({__name:"basic-month-table",props:VSe,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const r=n,i=bt("month-table"),{t:a,lang:s}=rr(),o=ne(),l=ne(),c=ne(r.date.locale("en").localeData().monthsShort().map(b=>b.toLowerCase())),u=ne([[],[],[]]),d=ne(),f=ne(),h=U(()=>{var b,_;const x=u.value,S=hn().locale(s.value).startOf("month");for(let T=0;T<3;T++){const C=x[T];for(let M=0;M<4;M++){const A=C[M]||(C[M]={row:T,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});A.type="normal";const I=T*4+M,D=r.date.startOf("year").month(I),L=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"month")&&L&&D.isSameOrBefore(L,"month"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"month")&&L&&D.isSameOrAfter(L,"month")),(b=r.minDate)!=null&&b.isSameOrAfter(L)?(A.start=!!(L&&D.isSame(L,"month")),A.end=r.minDate&&D.isSame(r.minDate,"month")):(A.start=!!(r.minDate&&D.isSame(r.minDate,"month")),A.end=!!(L&&D.isSame(L,"month"))),S.isSame(D)&&(A.type="today"),A.text=I,A.disabled=((_=r.disabledDate)==null?void 0:_.call(r,D.toDate()))||!1}}return x}),p=()=>{var b;(b=l.value)==null||b.focus()},m=b=>{const _={},x=r.date.year(),S=new Date,T=b.text;return _.disabled=r.disabledDate?PC(x,T,s.value).every(r.disabledDate):!1,_.current=Us(r.parsedValue).findIndex(C=>hn.isDayjs(C)&&C.year()===x&&C.month()===T)>=0,_.today=S.getFullYear()===x&&S.getMonth()===T,b.inRange&&(_["in-range"]=!0,b.start&&(_["start-date"]=!0),b.end&&(_["end-date"]=!0)),_},v=b=>{const _=r.date.year(),x=b.text;return Us(r.date).findIndex(S=>S.year()===_&&S.month()===x)>=0},g=b=>{var _;if(!r.rangeState.selecting)return;let x=b.target;if(x.tagName==="SPAN"&&(x=(_=x.parentNode)==null?void 0:_.parentNode),x.tagName==="DIV"&&(x=x.parentNode),x.tagName!=="TD")return;const S=x.parentNode.rowIndex,T=x.cellIndex;h.value[S][T].disabled||(S!==d.value||T!==f.value)&&(d.value=S,f.value=T,t("changerange",{selecting:!0,endDate:r.date.startOf("year").month(S*4+T)}))},y=b=>{var _;const x=(_=b.target)==null?void 0:_.closest("td");if((x==null?void 0:x.tagName)!=="TD"||co(x,"disabled"))return;const S=x.cellIndex,C=x.parentNode.rowIndex*4+S,M=r.date.startOf("year").month(C);if(r.selectionMode==="months"){if(b.type==="keydown"){t("pick",Us(r.parsedValue),!1);return}const A=Zb(r.date.year(),C,s.value,r.disabledDate),I=co(x,"current")?Us(r.parsedValue).filter(D=>(D==null?void 0:D.month())!==A.month()):Us(r.parsedValue).concat([hn(A)]);t("pick",I)}else r.selectionMode==="range"?r.rangeState.selecting?(r.minDate&&M>=r.minDate?t("pick",{minDate:r.minDate,maxDate:M}):t("pick",{minDate:M,maxDate:r.minDate}),t("select",!1)):(t("pick",{minDate:M,maxDate:null}),t("select",!0)):t("pick",C)};return dt(()=>r.date,async()=>{var b,_;(b=o.value)!=null&&b.contains(document.activeElement)&&(await Yt(),(_=l.value)==null||_.focus())}),e({focus:p}),(b,_)=>(V(),he("table",{role:"grid","aria-label":w(a)("el.datepicker.monthTablePrompt"),class:Z(w(i).b()),onClick:y,onMousemove:g},[ve("tbody",{ref_key:"tbodyRef",ref:o},[(V(!0),he(zt,null,In(w(h),(x,S)=>(V(),he("tr",{key:S},[(V(!0),he(zt,null,In(x,(T,C)=>(V(),he("td",{key:C,ref_for:!0,ref:M=>v(T)&&(l.value=M),class:Z(m(T)),"aria-selected":`${v(T)}`,"aria-label":w(a)(`el.datepicker.month${+T.text+1}`),tabindex:v(T)?0:-1,onKeydown:[Ur(sn(y,["prevent","stop"]),["space"]),Ur(sn(y,["prevent","stop"]),["enter"])]},[ue(w(NL),{cell:{...T,renderText:w(a)("el.datepicker.months."+c.value[T.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var X5=Pt($Se,[["__file","basic-month-table.vue"]]);const GSe=Rt({...PL,selectionMode:kL("year")}),WSe=Re({__name:"basic-year-table",props:GSe,emits:["changerange","pick","select"],setup(n,{expose:e,emit:t}){const r=n,i=(_,x)=>{const S=hn(String(_)).locale(x).startOf("year"),C=S.endOf("year").dayOfYear();return Bf(C).map(M=>S.add(M,"day").toDate())},a=bt("year-table"),{t:s,lang:o}=rr(),l=ne(),c=ne(),u=U(()=>Math.floor(r.date.year()/10)*10),d=ne([[],[],[]]),f=ne(),h=ne(),p=U(()=>{var _;const x=d.value,S=hn().locale(o.value).startOf("year");for(let T=0;T<3;T++){const C=x[T];for(let M=0;M<4&&!(T*4+M>=10);M++){let A=C[M];A||(A={row:T,column:M,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),A.type="normal";const I=T*4+M+u.value,D=hn().year(I),L=r.rangeState.endDate||r.maxDate||r.rangeState.selecting&&r.minDate||null;A.inRange=!!(r.minDate&&D.isSameOrAfter(r.minDate,"year")&&L&&D.isSameOrBefore(L,"year"))||!!(r.minDate&&D.isSameOrBefore(r.minDate,"year")&&L&&D.isSameOrAfter(L,"year")),(_=r.minDate)!=null&&_.isSameOrAfter(L)?(A.start=!!(L&&D.isSame(L,"year")),A.end=!!(r.minDate&&D.isSame(r.minDate,"year"))):(A.start=!!(r.minDate&&D.isSame(r.minDate,"year")),A.end=!!(L&&D.isSame(L,"year"))),S.isSame(D)&&(A.type="today"),A.text=I;const B=D.toDate();A.disabled=r.disabledDate&&r.disabledDate(B)||!1,C[M]=A}}return x}),m=()=>{var _;(_=c.value)==null||_.focus()},v=_=>{const x={},S=hn().locale(o.value),T=_.text;return x.disabled=r.disabledDate?i(T,o.value).every(r.disabledDate):!1,x.today=S.year()===T,x.current=Us(r.parsedValue).findIndex(C=>C.year()===T)>=0,_.inRange&&(x["in-range"]=!0,_.start&&(x["start-date"]=!0),_.end&&(x["end-date"]=!0)),x},g=_=>{const x=_.text;return Us(r.date).findIndex(S=>S.year()===x)>=0},y=_=>{var x;const S=(x=_.target)==null?void 0:x.closest("td");if(!S||!S.textContent||co(S,"disabled"))return;const T=S.cellIndex,M=S.parentNode.rowIndex*4+T+u.value,A=hn().year(M);if(r.selectionMode==="range")r.rangeState.selecting?(r.minDate&&A>=r.minDate?t("pick",{minDate:r.minDate,maxDate:A}):t("pick",{minDate:A,maxDate:r.minDate}),t("select",!1)):(t("pick",{minDate:A,maxDate:null}),t("select",!0));else if(r.selectionMode==="years"){if(_.type==="keydown"){t("pick",Us(r.parsedValue),!1);return}const I=q5(A.startOf("year"),o.value,r.disabledDate),D=co(S,"current")?Us(r.parsedValue).filter(L=>(L==null?void 0:L.year())!==M):Us(r.parsedValue).concat([I]);t("pick",D)}else t("pick",M)},b=_=>{var x;if(!r.rangeState.selecting)return;const S=(x=_.target)==null?void 0:x.closest("td");if(!S)return;const T=S.parentNode.rowIndex,C=S.cellIndex;p.value[T][C].disabled||(T!==f.value||C!==h.value)&&(f.value=T,h.value=C,t("changerange",{selecting:!0,endDate:hn().year(u.value).add(T*4+C,"year")}))};return dt(()=>r.date,async()=>{var _,x;(_=l.value)!=null&&_.contains(document.activeElement)&&(await Yt(),(x=c.value)==null||x.focus())}),e({focus:m}),(_,x)=>(V(),he("table",{role:"grid","aria-label":w(s)("el.datepicker.yearTablePrompt"),class:Z(w(a).b()),onClick:y,onMousemove:b},[ve("tbody",{ref_key:"tbodyRef",ref:l},[(V(!0),he(zt,null,In(w(p),(S,T)=>(V(),he("tr",{key:T},[(V(!0),he(zt,null,In(S,(C,M)=>(V(),he("td",{key:`${T}_${M}`,ref_for:!0,ref:A=>g(C)&&(c.value=A),class:Z(["available",v(C)]),"aria-selected":g(C),"aria-label":String(C.text),tabindex:g(C)?0:-1,onKeydown:[Ur(sn(y,["prevent","stop"]),["space"]),Ur(sn(y,["prevent","stop"]),["enter"])]},[ue(w(NL),{cell:C},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var j5=Pt(WSe,[["__file","basic-year-table.vue"]]);const qSe=Re({__name:"panel-date-pick",props:LSe,emits:["pick","set-picker-option","panel-change"],setup(n,{emit:e}){const t=n,r=(G,ge,pe)=>!0,i=bt("picker-panel"),a=bt("date-picker"),s=bh(),o=na(),{t:l,lang:c}=rr(),u=Ot("EP_PICKER_BASE"),d=Ot(NT),{shortcuts:f,disabledDate:h,cellClassName:p,defaultTime:m}=u.props,v=_r(u.props,"defaultValue"),g=ne(),y=ne(hn().locale(c.value)),b=ne(!1);let _=!1;const x=U(()=>hn(m).locale(c.value)),S=U(()=>y.value.month()),T=U(()=>y.value.year()),C=ne([]),M=ne(null),A=ne(null),I=G=>C.value.length>0?r(G,C.value,t.format||"HH:mm:ss"):!0,D=G=>m&&!Ne.value&&!b.value&&!_?x.value.year(G.year()).month(G.month()).date(G.date()):le.value?G.millisecond(0):G.startOf("day"),L=(G,...ge)=>{if(!G)e("pick",G,...ge);else if(Tt(G)){const pe=G.map(D);e("pick",pe,...ge)}else e("pick",D(G),...ge);M.value=null,A.value=null,b.value=!1,_=!1},F=async(G,ge)=>{if(W.value==="date"){G=G;let pe=t.parsedValue?t.parsedValue.year(G.year()).month(G.month()).date(G.date()):G;I(pe)||(pe=C.value[0][0].year(G.year()).month(G.month()).date(G.date())),y.value=pe,L(pe,le.value||ge),t.type==="datetime"&&(await Yt(),pt())}else W.value==="week"?L(G.date):W.value==="dates"&&L(G,!0)},B=G=>{const ge=G?"add":"subtract";y.value=y.value[ge](1,"month"),at("month")},k=G=>{const ge=y.value,pe=G?"add":"subtract";y.value=H.value==="year"?ge[pe](10,"year"):ge[pe](1,"year"),at("year")},H=ne("date"),z=U(()=>{const G=l("el.datepicker.year");if(H.value==="year"){const ge=Math.floor(T.value/10)*10;return G?`${ge} ${G} - ${ge+9} ${G}`:`${ge} - ${ge+9}`}return`${T.value} ${G}`}),O=G=>{const ge=Zt(G.value)?G.value():G.value;if(ge){_=!0,L(hn(ge).locale(c.value));return}G.onClick&&G.onClick({attrs:s,slots:o,emit:e})},W=U(()=>{const{type:G}=t;return["week","month","months","year","years","dates"].includes(G)?G:"date"}),j=U(()=>W.value==="dates"||W.value==="months"||W.value==="years"),ee=U(()=>W.value==="date"?H.value:W.value),te=U(()=>!!f.length),J=async(G,ge)=>{W.value==="month"?(y.value=Zb(y.value.year(),G,c.value,h),L(y.value,!1)):W.value==="months"?L(G,ge??!0):(y.value=Zb(y.value.year(),G,c.value,h),H.value="date",["month","year","date","week"].includes(W.value)&&(L(y.value,!0),await Yt(),pt())),at("month")},Q=async(G,ge)=>{if(W.value==="year"){const pe=y.value.startOf("year").year(G);y.value=q5(pe,c.value,h),L(y.value,!1)}else if(W.value==="years")L(G,ge??!0);else{const pe=y.value.year(G);y.value=q5(pe,c.value,h),H.value="month",["month","year","date","week"].includes(W.value)&&(L(y.value,!0),await Yt(),pt())}at("year")},ie=async G=>{H.value=G,await Yt(),pt()},le=U(()=>t.type==="datetime"||t.type==="datetimerange"),we=U(()=>{const G=le.value||W.value==="dates",ge=W.value==="years",pe=W.value==="months",Ie=H.value==="date",ye=H.value==="year",Me=H.value==="month";return G&&Ie||ge&&ye||pe&&Me}),Ae=U(()=>h?t.parsedValue?Tt(t.parsedValue)?h(t.parsedValue[0].toDate()):h(t.parsedValue.toDate()):!0:!1),ke=()=>{if(j.value)L(t.parsedValue);else{let G=t.parsedValue;if(!G){const ge=hn(m).locale(c.value),pe=mt();G=ge.year(pe.year()).month(pe.month()).date(pe.date())}y.value=G,L(G)}},Fe=U(()=>h?h(hn().locale(c.value).toDate()):!1),q=()=>{const ge=hn().locale(c.value).toDate();b.value=!0,(!h||!h(ge))&&I(ge)&&(y.value=hn().locale(c.value),L(y.value))},ce=U(()=>t.timeFormat||xX(t.format)),re=U(()=>t.dateFormat||wX(t.format)),Ne=U(()=>{if(A.value)return A.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||y.value).format(ce.value)}),Pe=U(()=>{if(M.value)return M.value;if(!(!t.parsedValue&&!v.value))return(t.parsedValue||y.value).format(re.value)}),$e=ne(!1),Ue=()=>{$e.value=!0},Ve=()=>{$e.value=!1},je=G=>({hour:G.hour(),minute:G.minute(),second:G.second(),year:G.year(),month:G.month(),date:G.date()}),fe=(G,ge,pe)=>{const{hour:Ie,minute:ye,second:Me}=je(G),ht=t.parsedValue?t.parsedValue.hour(Ie).minute(ye).second(Me):G;y.value=ht,L(y.value,!0),pe||($e.value=ge)},$=G=>{const ge=hn(G,ce.value).locale(c.value);if(ge.isValid()&&I(ge)){const{year:pe,month:Ie,date:ye}=je(y.value);y.value=ge.year(pe).month(Ie).date(ye),A.value=null,$e.value=!1,L(y.value,!0)}},X=G=>{const ge=hn(G,re.value).locale(c.value);if(ge.isValid()){if(h&&h(ge.toDate()))return;const{hour:pe,minute:Ie,second:ye}=je(y.value);y.value=ge.hour(pe).minute(Ie).second(ye),M.value=null,L(y.value,!0)}},me=G=>hn.isDayjs(G)&&G.isValid()&&(h?!h(G.toDate()):!0),Oe=G=>Tt(G)?G.map(ge=>ge.format(t.format)):G.format(t.format),qe=G=>hn(G,t.format).locale(c.value),mt=()=>{const G=hn(v.value).locale(c.value);if(!v.value){const ge=x.value;return hn().hour(ge.hour()).minute(ge.minute()).second(ge.second()).locale(c.value)}return G},pt=async()=>{var G;["week","month","year","date"].includes(W.value)&&((G=g.value)==null||G.focus(),W.value==="week"&&ft(Nt.down))},Ce=G=>{const{code:ge}=G;[Nt.up,Nt.down,Nt.left,Nt.right,Nt.home,Nt.end,Nt.pageUp,Nt.pageDown].includes(ge)&&(ft(ge),G.stopPropagation(),G.preventDefault()),[Nt.enter,Nt.space,Nt.numpadEnter].includes(ge)&&M.value===null&&A.value===null&&(G.preventDefault(),L(y.value,!1))},ft=G=>{var ge;const{up:pe,down:Ie,left:ye,right:Me,home:ht,end:Ee,pageUp:_t,pageDown:nt}=Nt,gt={year:{[pe]:-4,[Ie]:4,[ye]:-1,[Me]:1,offset:(At,an)=>At.setFullYear(At.getFullYear()+an)},month:{[pe]:-4,[Ie]:4,[ye]:-1,[Me]:1,offset:(At,an)=>At.setMonth(At.getMonth()+an)},week:{[pe]:-1,[Ie]:1,[ye]:-1,[Me]:1,offset:(At,an)=>At.setDate(At.getDate()+an*7)},date:{[pe]:-7,[Ie]:7,[ye]:-1,[Me]:1,[ht]:At=>-At.getDay(),[Ee]:At=>-At.getDay()+6,[_t]:At=>-new Date(At.getFullYear(),At.getMonth(),0).getDate(),[nt]:At=>new Date(At.getFullYear(),At.getMonth()+1,0).getDate(),offset:(At,an)=>At.setDate(At.getDate()+an)}},Lt=y.value.toDate();for(;Math.abs(y.value.diff(Lt,"year",!0))<1;){const At=gt[ee.value];if(!At)return;if(At.offset(Lt,Zt(At[G])?At[G](Lt):(ge=At[G])!=null?ge:0),h&&h(Lt))break;const an=hn(Lt).locale(c.value);y.value=an,e("pick",an,!0);break}},at=G=>{e("panel-change",y.value.toDate(),G,H.value)};return dt(()=>W.value,G=>{if(["month","year"].includes(G)){H.value=G;return}else if(G==="years"){H.value="year";return}else if(G==="months"){H.value="month";return}H.value="date"},{immediate:!0}),dt(()=>H.value,()=>{d==null||d.updatePopper()}),dt(()=>v.value,G=>{G&&(y.value=mt())},{immediate:!0}),dt(()=>t.parsedValue,G=>{if(G){if(j.value||Tt(G))return;y.value=G}else y.value=mt()},{immediate:!0}),e("set-picker-option",["isValidValue",me]),e("set-picker-option",["formatToString",Oe]),e("set-picker-option",["parseUserInput",qe]),e("set-picker-option",["handleFocusPicker",pt]),(G,ge)=>(V(),he("div",{class:Z([w(i).b(),w(a).b(),{"has-sidebar":G.$slots.sidebar||w(te),"has-time":w(le)}])},[ve("div",{class:Z(w(i).e("body-wrapper"))},[Qe(G.$slots,"sidebar",{class:Z(w(i).e("sidebar"))}),w(te)?(V(),he("div",{key:0,class:Z(w(i).e("sidebar"))},[(V(!0),he(zt,null,In(w(f),(pe,Ie)=>(V(),he("button",{key:Ie,type:"button",class:Z(w(i).e("shortcut")),onClick:ye=>O(pe)},Ct(pe.text),11,["onClick"]))),128))],2)):Je("v-if",!0),ve("div",{class:Z(w(i).e("body"))},[w(le)?(V(),he("div",{key:0,class:Z(w(a).e("time-header"))},[ve("span",{class:Z(w(a).e("editor-wrap"))},[ue(w(Cs),{placeholder:w(l)("el.datepicker.selectDate"),"model-value":w(Pe),size:"small","validate-event":!1,onInput:pe=>M.value=pe,onChange:X},null,8,["placeholder","model-value","onInput"])],2),Cn((V(),he("span",{class:Z(w(a).e("editor-wrap"))},[ue(w(Cs),{placeholder:w(l)("el.datepicker.selectTime"),"model-value":w(Ne),size:"small","validate-event":!1,onFocus:Ue,onInput:pe=>A.value=pe,onChange:$},null,8,["placeholder","model-value","onInput"]),ue(w(RC),{visible:$e.value,format:w(ce),"parsed-value":y.value,onPick:fe},null,8,["visible","format","parsed-value"])],2)),[[w(yd),Ve]])],2)):Je("v-if",!0),Cn(ve("div",{class:Z([w(a).e("header"),(H.value==="year"||H.value==="month")&&w(a).e("header--bordered")])},[ve("span",{class:Z(w(a).e("prev-btn"))},[ve("button",{type:"button","aria-label":w(l)("el.datepicker.prevYear"),class:Z(["d-arrow-left",w(i).e("icon-btn")]),onClick:pe=>k(!1)},[Qe(G.$slots,"prev-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(th))]),_:1})])],10,["aria-label","onClick"]),Cn(ve("button",{type:"button","aria-label":w(l)("el.datepicker.prevMonth"),class:Z([w(i).e("icon-btn"),"arrow-left"]),onClick:pe=>B(!1)},[Qe(G.$slots,"prev-month",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(eh))]),_:1})])],10,["aria-label","onClick"]),[[fr,H.value==="date"]])],2),ve("span",{role:"button",class:Z(w(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Ur(pe=>ie("year"),["enter"]),onClick:pe=>ie("year")},Ct(w(z)),43,["onKeydown","onClick"]),Cn(ve("span",{role:"button","aria-live":"polite",tabindex:"0",class:Z([w(a).e("header-label"),{active:H.value==="month"}]),onKeydown:Ur(pe=>ie("month"),["enter"]),onClick:pe=>ie("month")},Ct(w(l)(`el.datepicker.month${w(S)+1}`)),43,["onKeydown","onClick"]),[[fr,H.value==="date"]]),ve("span",{class:Z(w(a).e("next-btn"))},[Cn(ve("button",{type:"button","aria-label":w(l)("el.datepicker.nextMonth"),class:Z([w(i).e("icon-btn"),"arrow-right"]),onClick:pe=>B(!0)},[Qe(G.$slots,"next-month",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(Gs))]),_:1})])],10,["aria-label","onClick"]),[[fr,H.value==="date"]]),ve("button",{type:"button","aria-label":w(l)("el.datepicker.nextYear"),class:Z([w(i).e("icon-btn"),"d-arrow-right"]),onClick:pe=>k(!0)},[Qe(G.$slots,"next-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(nh))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[fr,H.value!=="time"]]),ve("div",{class:Z(w(i).e("content")),onKeydown:Ce},[H.value==="date"?(V(),rt(Y5,{key:0,ref_key:"currentViewRef",ref:g,"selection-mode":w(W),date:y.value,"parsed-value":G.parsedValue,"disabled-date":w(h),"cell-class-name":w(p),onPick:F},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Je("v-if",!0),H.value==="year"?(V(),rt(j5,{key:1,ref_key:"currentViewRef",ref:g,"selection-mode":w(W),date:y.value,"disabled-date":w(h),"parsed-value":G.parsedValue,onPick:Q},null,8,["selection-mode","date","disabled-date","parsed-value"])):Je("v-if",!0),H.value==="month"?(V(),rt(X5,{key:2,ref_key:"currentViewRef",ref:g,"selection-mode":w(W),date:y.value,"parsed-value":G.parsedValue,"disabled-date":w(h),onPick:J},null,8,["selection-mode","date","parsed-value","disabled-date"])):Je("v-if",!0)],34)],2)],2),Cn(ve("div",{class:Z(w(i).e("footer"))},[Cn(ue(w(Ia),{text:"",size:"small",class:Z(w(i).e("link-btn")),disabled:w(Fe),onClick:q},{default:be(()=>[dn(Ct(w(l)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[fr,!w(j)&&G.showNow]]),ue(w(Ia),{plain:"",size:"small",class:Z(w(i).e("link-btn")),disabled:w(Ae),onClick:ke},{default:be(()=>[dn(Ct(w(l)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[fr,w(we)]])],2))}});var KSe=Pt(qSe,[["__file","panel-date-pick.vue"]]);const YSe=Rt({...uj,...DL,visible:Boolean}),dj=n=>{const{emit:e}=kn(),t=bh(),r=na();return a=>{const s=Zt(a.value)?a.value():a.value;if(s){e("pick",[hn(s[0]).locale(n.value),hn(s[1]).locale(n.value)]);return}a.onClick&&a.onClick({attrs:t,slots:r,emit:e})}},fj=(n,{defaultValue:e,leftDate:t,rightDate:r,unit:i,onParsedValueChanged:a})=>{const{emit:s}=kn(),{pickerNs:o}=Ot(BT),l=bt("date-range-picker"),{t:c,lang:u}=rr(),d=dj(u),f=ne(),h=ne(),p=ne({endDate:null,selecting:!1}),m=_=>{p.value=_},v=(_=!1)=>{const x=w(f),S=w(h);hg([x,S])&&s("pick",[x,S],_)},g=_=>{p.value.selecting=_,_||(p.value.endDate=null)},y=_=>{if(Tt(_)&&_.length===2){const[x,S]=_;f.value=x,t.value=x,h.value=S,a(w(f),w(h))}else b()},b=()=>{const[_,x]=LL(w(e),{lang:w(u),unit:i,unlinkPanels:n.unlinkPanels});f.value=void 0,h.value=void 0,t.value=_,r.value=x};return dt(e,_=>{_&&b()},{immediate:!0}),dt(()=>n.parsedValue,y,{immediate:!0}),{minDate:f,maxDate:h,rangeState:p,lang:u,ppNs:o,drpNs:l,handleChangeRange:m,handleRangeConfirm:v,handleShortcutClick:d,onSelect:g,onReset:y,t:c}},tx="month",XSe=Re({__name:"panel-date-range",props:YSe,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(n,{emit:e}){const t=n,r=Ot("EP_PICKER_BASE"),{disabledDate:i,cellClassName:a,defaultTime:s,clearable:o}=r.props,l=_r(r.props,"format"),c=_r(r.props,"shortcuts"),u=_r(r.props,"defaultValue"),{lang:d}=rr(),f=ne(hn().locale(d.value)),h=ne(hn().locale(d.value).add(1,tx)),{minDate:p,maxDate:m,rangeState:v,ppNs:g,drpNs:y,handleChangeRange:b,handleRangeConfirm:_,handleShortcutClick:x,onSelect:S,onReset:T,t:C}=fj(t,{defaultValue:u,leftDate:f,rightDate:h,unit:tx,onParsedValueChanged:ge});dt(()=>t.visible,pe=>{!pe&&v.value.selecting&&(T(t.parsedValue),S(!1))});const M=ne({min:null,max:null}),A=ne({min:null,max:null}),I=U(()=>`${f.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${f.value.month()+1}`)}`),D=U(()=>`${h.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${h.value.month()+1}`)}`),L=U(()=>f.value.year()),F=U(()=>f.value.month()),B=U(()=>h.value.year()),k=U(()=>h.value.month()),H=U(()=>!!c.value.length),z=U(()=>M.value.min!==null?M.value.min:p.value?p.value.format(te.value):""),O=U(()=>M.value.max!==null?M.value.max:m.value||p.value?(m.value||p.value).format(te.value):""),W=U(()=>A.value.min!==null?A.value.min:p.value?p.value.format(ee.value):""),j=U(()=>A.value.max!==null?A.value.max:m.value||p.value?(m.value||p.value).format(ee.value):""),ee=U(()=>t.timeFormat||xX(l.value)),te=U(()=>t.dateFormat||wX(l.value)),J=pe=>hg(pe)&&(i?!i(pe[0].toDate())&&!i(pe[1].toDate()):!0),Q=()=>{f.value=f.value.subtract(1,"year"),t.unlinkPanels||(h.value=f.value.add(1,"month")),ce("year")},ie=()=>{f.value=f.value.subtract(1,"month"),t.unlinkPanels||(h.value=f.value.add(1,"month")),ce("month")},le=()=>{t.unlinkPanels?h.value=h.value.add(1,"year"):(f.value=f.value.add(1,"year"),h.value=f.value.add(1,"month")),ce("year")},we=()=>{t.unlinkPanels?h.value=h.value.add(1,"month"):(f.value=f.value.add(1,"month"),h.value=f.value.add(1,"month")),ce("month")},Ae=()=>{f.value=f.value.add(1,"year"),ce("year")},ke=()=>{f.value=f.value.add(1,"month"),ce("month")},Fe=()=>{h.value=h.value.subtract(1,"year"),ce("year")},q=()=>{h.value=h.value.subtract(1,"month"),ce("month")},ce=pe=>{e("panel-change",[f.value.toDate(),h.value.toDate()],pe)},re=U(()=>{const pe=(F.value+1)%12,Ie=F.value+1>=12?1:0;return t.unlinkPanels&&new Date(L.value+Ie,pe)<new Date(B.value,k.value)}),Ne=U(()=>t.unlinkPanels&&B.value*12+k.value-(L.value*12+F.value+1)>=12),Pe=U(()=>!(p.value&&m.value&&!v.value.selecting&&hg([p.value,m.value]))),$e=U(()=>t.type==="datetime"||t.type==="datetimerange"),Ue=(pe,Ie)=>{if(pe)return s?hn(s[Ie]||s).locale(d.value).year(pe.year()).month(pe.month()).date(pe.date()):pe},Ve=(pe,Ie=!0)=>{const ye=pe.minDate,Me=pe.maxDate,ht=Ue(ye,0),Ee=Ue(Me,1);m.value===Ee&&p.value===ht||(e("calendar-change",[ye.toDate(),Me&&Me.toDate()]),m.value=Ee,p.value=ht,!(!Ie||$e.value)&&_())},je=ne(!1),fe=ne(!1),$=()=>{je.value=!1},X=()=>{fe.value=!1},me=(pe,Ie)=>{M.value[Ie]=pe;const ye=hn(pe,te.value).locale(d.value);if(ye.isValid()){if(i&&i(ye.toDate()))return;Ie==="min"?(f.value=ye,p.value=(p.value||f.value).year(ye.year()).month(ye.month()).date(ye.date()),!t.unlinkPanels&&(!m.value||m.value.isBefore(p.value))&&(h.value=ye.add(1,"month"),m.value=p.value.add(1,"month"))):(h.value=ye,m.value=(m.value||h.value).year(ye.year()).month(ye.month()).date(ye.date()),!t.unlinkPanels&&(!p.value||p.value.isAfter(m.value))&&(f.value=ye.subtract(1,"month"),p.value=m.value.subtract(1,"month")))}},Oe=(pe,Ie)=>{M.value[Ie]=null},qe=(pe,Ie)=>{A.value[Ie]=pe;const ye=hn(pe,ee.value).locale(d.value);ye.isValid()&&(Ie==="min"?(je.value=!0,p.value=(p.value||f.value).hour(ye.hour()).minute(ye.minute()).second(ye.second())):(fe.value=!0,m.value=(m.value||h.value).hour(ye.hour()).minute(ye.minute()).second(ye.second()),h.value=m.value))},mt=(pe,Ie)=>{A.value[Ie]=null,Ie==="min"?(f.value=p.value,je.value=!1,(!m.value||m.value.isBefore(p.value))&&(m.value=p.value)):(h.value=m.value,fe.value=!1,m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},pt=(pe,Ie,ye)=>{A.value.min||(pe&&(f.value=pe,p.value=(p.value||f.value).hour(pe.hour()).minute(pe.minute()).second(pe.second())),ye||(je.value=Ie),(!m.value||m.value.isBefore(p.value))&&(m.value=p.value,h.value=pe))},Ce=(pe,Ie,ye)=>{A.value.max||(pe&&(h.value=pe,m.value=(m.value||h.value).hour(pe.hour()).minute(pe.minute()).second(pe.second())),ye||(fe.value=Ie),m.value&&m.value.isBefore(p.value)&&(p.value=m.value))},ft=()=>{f.value=LL(w(u),{lang:w(d),unit:"month",unlinkPanels:t.unlinkPanels})[0],h.value=f.value.add(1,"month"),m.value=void 0,p.value=void 0,e("pick",null)},at=pe=>Tt(pe)?pe.map(Ie=>Ie.format(l.value)):pe.format(l.value),G=pe=>Tt(pe)?pe.map(Ie=>hn(Ie,l.value).locale(d.value)):hn(pe,l.value).locale(d.value);function ge(pe,Ie){if(t.unlinkPanels&&Ie){const ye=(pe==null?void 0:pe.year())||0,Me=(pe==null?void 0:pe.month())||0,ht=Ie.year(),Ee=Ie.month();h.value=ye===ht&&Me===Ee?Ie.add(1,tx):Ie}else h.value=f.value.add(1,tx),Ie&&(h.value=h.value.hour(Ie.hour()).minute(Ie.minute()).second(Ie.second()))}return e("set-picker-option",["isValidValue",J]),e("set-picker-option",["parseUserInput",G]),e("set-picker-option",["formatToString",at]),e("set-picker-option",["handleClear",ft]),(pe,Ie)=>(V(),he("div",{class:Z([w(g).b(),w(y).b(),{"has-sidebar":pe.$slots.sidebar||w(H),"has-time":w($e)}])},[ve("div",{class:Z(w(g).e("body-wrapper"))},[Qe(pe.$slots,"sidebar",{class:Z(w(g).e("sidebar"))}),w(H)?(V(),he("div",{key:0,class:Z(w(g).e("sidebar"))},[(V(!0),he(zt,null,In(w(c),(ye,Me)=>(V(),he("button",{key:Me,type:"button",class:Z(w(g).e("shortcut")),onClick:ht=>w(x)(ye)},Ct(ye.text),11,["onClick"]))),128))],2)):Je("v-if",!0),ve("div",{class:Z(w(g).e("body"))},[w($e)?(V(),he("div",{key:0,class:Z(w(y).e("time-header"))},[ve("span",{class:Z(w(y).e("editors-wrap"))},[ve("span",{class:Z(w(y).e("time-picker-wrap"))},[ue(w(Cs),{size:"small",disabled:w(v).selecting,placeholder:w(C)("el.datepicker.startDate"),class:Z(w(y).e("editor")),"model-value":w(z),"validate-event":!1,onInput:ye=>me(ye,"min"),onChange:ye=>Oe(ye,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),Cn((V(),he("span",{class:Z(w(y).e("time-picker-wrap"))},[ue(w(Cs),{size:"small",class:Z(w(y).e("editor")),disabled:w(v).selecting,placeholder:w(C)("el.datepicker.startTime"),"model-value":w(W),"validate-event":!1,onFocus:ye=>je.value=!0,onInput:ye=>qe(ye,"min"),onChange:ye=>mt(ye,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),ue(w(RC),{visible:je.value,format:w(ee),"datetime-role":"start","parsed-value":f.value,onPick:pt},null,8,["visible","format","parsed-value"])],2)),[[w(yd),$]])],2),ve("span",null,[ue(w(Vt),null,{default:be(()=>[ue(w(Gs))]),_:1})]),ve("span",{class:Z([w(y).e("editors-wrap"),"is-right"])},[ve("span",{class:Z(w(y).e("time-picker-wrap"))},[ue(w(Cs),{size:"small",class:Z(w(y).e("editor")),disabled:w(v).selecting,placeholder:w(C)("el.datepicker.endDate"),"model-value":w(O),readonly:!w(p),"validate-event":!1,onInput:ye=>me(ye,"max"),onChange:ye=>Oe(ye,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),Cn((V(),he("span",{class:Z(w(y).e("time-picker-wrap"))},[ue(w(Cs),{size:"small",class:Z(w(y).e("editor")),disabled:w(v).selecting,placeholder:w(C)("el.datepicker.endTime"),"model-value":w(j),readonly:!w(p),"validate-event":!1,onFocus:ye=>w(p)&&(fe.value=!0),onInput:ye=>qe(ye,"max"),onChange:ye=>mt(ye,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),ue(w(RC),{"datetime-role":"end",visible:fe.value,format:w(ee),"parsed-value":h.value,onPick:Ce},null,8,["visible","format","parsed-value"])],2)),[[w(yd),X]])],2)],2)):Je("v-if",!0),ve("div",{class:Z([[w(g).e("content"),w(y).e("content")],"is-left"])},[ve("div",{class:Z(w(y).e("header"))},[ve("button",{type:"button",class:Z([w(g).e("icon-btn"),"d-arrow-left"]),"aria-label":w(C)("el.datepicker.prevYear"),onClick:Q},[Qe(pe.$slots,"prev-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(th))]),_:1})])],10,["aria-label"]),ve("button",{type:"button",class:Z([w(g).e("icon-btn"),"arrow-left"]),"aria-label":w(C)("el.datepicker.prevMonth"),onClick:ie},[Qe(pe.$slots,"prev-month",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(eh))]),_:1})])],10,["aria-label"]),pe.unlinkPanels?(V(),he("button",{key:0,type:"button",disabled:!w(Ne),class:Z([[w(g).e("icon-btn"),{"is-disabled":!w(Ne)}],"d-arrow-right"]),"aria-label":w(C)("el.datepicker.nextYear"),onClick:Ae},[Qe(pe.$slots,"next-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(nh))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),pe.unlinkPanels?(V(),he("button",{key:1,type:"button",disabled:!w(re),class:Z([[w(g).e("icon-btn"),{"is-disabled":!w(re)}],"arrow-right"]),"aria-label":w(C)("el.datepicker.nextMonth"),onClick:ke},[Qe(pe.$slots,"next-month",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(Gs))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),ve("div",null,Ct(w(I)),1)],2),ue(Y5,{"selection-mode":"range",date:f.value,"min-date":w(p),"max-date":w(m),"range-state":w(v),"disabled-date":w(i),"cell-class-name":w(a),onChangerange:w(b),onPick:Ve,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),ve("div",{class:Z([[w(g).e("content"),w(y).e("content")],"is-right"])},[ve("div",{class:Z(w(y).e("header"))},[pe.unlinkPanels?(V(),he("button",{key:0,type:"button",disabled:!w(Ne),class:Z([[w(g).e("icon-btn"),{"is-disabled":!w(Ne)}],"d-arrow-left"]),"aria-label":w(C)("el.datepicker.prevYear"),onClick:Fe},[Qe(pe.$slots,"prev-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(th))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),pe.unlinkPanels?(V(),he("button",{key:1,type:"button",disabled:!w(re),class:Z([[w(g).e("icon-btn"),{"is-disabled":!w(re)}],"arrow-left"]),"aria-label":w(C)("el.datepicker.prevMonth"),onClick:q},[Qe(pe.$slots,"prev-month",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(eh))]),_:1})])],10,["disabled","aria-label"])):Je("v-if",!0),ve("button",{type:"button","aria-label":w(C)("el.datepicker.nextYear"),class:Z([w(g).e("icon-btn"),"d-arrow-right"]),onClick:le},[Qe(pe.$slots,"next-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(nh))]),_:1})])],10,["aria-label"]),ve("button",{type:"button",class:Z([w(g).e("icon-btn"),"arrow-right"]),"aria-label":w(C)("el.datepicker.nextMonth"),onClick:we},[Qe(pe.$slots,"next-month",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(Gs))]),_:1})])],10,["aria-label"]),ve("div",null,Ct(w(D)),1)],2),ue(Y5,{"selection-mode":"range",date:h.value,"min-date":w(p),"max-date":w(m),"range-state":w(v),"disabled-date":w(i),"cell-class-name":w(a),onChangerange:w(b),onPick:Ve,onSelect:w(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),w($e)?(V(),he("div",{key:0,class:Z(w(g).e("footer"))},[w(o)?(V(),rt(w(Ia),{key:0,text:"",size:"small",class:Z(w(g).e("link-btn")),onClick:ft},{default:be(()=>[dn(Ct(w(C)("el.datepicker.clear")),1)]),_:1},8,["class"])):Je("v-if",!0),ue(w(Ia),{plain:"",size:"small",class:Z(w(g).e("link-btn")),disabled:w(Pe),onClick:ye=>w(_)(!1)},{default:be(()=>[dn(Ct(w(C)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):Je("v-if",!0)],2))}});var jSe=Pt(XSe,[["__file","panel-date-range.vue"]]);const ZSe=Rt({...DL}),QSe=["pick","set-picker-option","calendar-change"],JSe=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const{t:r}=rr(),i=()=>{e.value=e.value.subtract(1,"year"),n.value||(t.value=t.value.subtract(1,"year"))},a=()=>{n.value||(e.value=e.value.add(1,"year")),t.value=t.value.add(1,"year")},s=()=>{e.value=e.value.add(1,"year")},o=()=>{t.value=t.value.subtract(1,"year")},l=U(()=>`${e.value.year()} ${r("el.datepicker.year")}`),c=U(()=>`${t.value.year()} ${r("el.datepicker.year")}`),u=U(()=>e.value.year()),d=U(()=>t.value.year()===e.value.year()?e.value.year()+1:t.value.year());return{leftPrevYear:i,rightNextYear:a,leftNextYear:s,rightPrevYear:o,leftLabel:l,rightLabel:c,leftYear:u,rightYear:d}},nx="year",e2e=Re({name:"DatePickerMonthRange"}),t2e=Re({...e2e,props:ZSe,emits:QSe,setup(n,{emit:e}){const t=n,{lang:r}=rr(),i=Ot("EP_PICKER_BASE"),{shortcuts:a,disabledDate:s}=i.props,o=_r(i.props,"format"),l=_r(i.props,"defaultValue"),c=ne(hn().locale(r.value)),u=ne(hn().locale(r.value).add(1,nx)),{minDate:d,maxDate:f,rangeState:h,ppNs:p,drpNs:m,handleChangeRange:v,handleRangeConfirm:g,handleShortcutClick:y,onSelect:b}=fj(t,{defaultValue:l,leftDate:c,rightDate:u,unit:nx,onParsedValueChanged:z}),_=U(()=>!!a.length),{leftPrevYear:x,rightNextYear:S,leftNextYear:T,rightPrevYear:C,leftLabel:M,rightLabel:A,leftYear:I,rightYear:D}=JSe({unlinkPanels:_r(t,"unlinkPanels"),leftDate:c,rightDate:u}),L=U(()=>t.unlinkPanels&&D.value>I.value+1),F=(O,W=!0)=>{const j=O.minDate,ee=O.maxDate;f.value===ee&&d.value===j||(e("calendar-change",[j.toDate(),ee&&ee.toDate()]),f.value=ee,d.value=j,W&&g())},B=()=>{c.value=LL(w(l),{lang:w(r),unit:"year",unlinkPanels:t.unlinkPanels})[0],u.value=c.value.add(1,"year"),e("pick",null)},k=O=>Tt(O)?O.map(W=>W.format(o.value)):O.format(o.value),H=O=>Tt(O)?O.map(W=>hn(W,o.value).locale(r.value)):hn(O,o.value).locale(r.value);function z(O,W){if(t.unlinkPanels&&W){const j=(O==null?void 0:O.year())||0,ee=W.year();u.value=j===ee?W.add(1,nx):W}else u.value=c.value.add(1,nx)}return e("set-picker-option",["isValidValue",hg]),e("set-picker-option",["formatToString",k]),e("set-picker-option",["parseUserInput",H]),e("set-picker-option",["handleClear",B]),(O,W)=>(V(),he("div",{class:Z([w(p).b(),w(m).b(),{"has-sidebar":!!O.$slots.sidebar||w(_)}])},[ve("div",{class:Z(w(p).e("body-wrapper"))},[Qe(O.$slots,"sidebar",{class:Z(w(p).e("sidebar"))}),w(_)?(V(),he("div",{key:0,class:Z(w(p).e("sidebar"))},[(V(!0),he(zt,null,In(w(a),(j,ee)=>(V(),he("button",{key:ee,type:"button",class:Z(w(p).e("shortcut")),onClick:te=>w(y)(j)},Ct(j.text),11,["onClick"]))),128))],2)):Je("v-if",!0),ve("div",{class:Z(w(p).e("body"))},[ve("div",{class:Z([[w(p).e("content"),w(m).e("content")],"is-left"])},[ve("div",{class:Z(w(m).e("header"))},[ve("button",{type:"button",class:Z([w(p).e("icon-btn"),"d-arrow-left"]),onClick:w(x)},[Qe(O.$slots,"prev-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(th))]),_:1})])],10,["onClick"]),O.unlinkPanels?(V(),he("button",{key:0,type:"button",disabled:!w(L),class:Z([[w(p).e("icon-btn"),{[w(p).is("disabled")]:!w(L)}],"d-arrow-right"]),onClick:w(T)},[Qe(O.$slots,"next-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(nh))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),ve("div",null,Ct(w(M)),1)],2),ue(X5,{"selection-mode":"range",date:c.value,"min-date":w(d),"max-date":w(f),"range-state":w(h),"disabled-date":w(s),onChangerange:w(v),onPick:F,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),ve("div",{class:Z([[w(p).e("content"),w(m).e("content")],"is-right"])},[ve("div",{class:Z(w(m).e("header"))},[O.unlinkPanels?(V(),he("button",{key:0,type:"button",disabled:!w(L),class:Z([[w(p).e("icon-btn"),{"is-disabled":!w(L)}],"d-arrow-left"]),onClick:w(C)},[Qe(O.$slots,"prev-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(th))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),ve("button",{type:"button",class:Z([w(p).e("icon-btn"),"d-arrow-right"]),onClick:w(S)},[Qe(O.$slots,"next-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(nh))]),_:1})])],10,["onClick"]),ve("div",null,Ct(w(A)),1)],2),ue(X5,{"selection-mode":"range",date:u.value,"min-date":w(d),"max-date":w(f),"range-state":w(h),"disabled-date":w(s),onChangerange:w(v),onPick:F,onSelect:w(b)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var n2e=Pt(t2e,[["__file","panel-month-range.vue"]]);const r2e=Rt({...DL}),i2e=["pick","set-picker-option","calendar-change"],a2e=({unlinkPanels:n,leftDate:e,rightDate:t})=>{const r=()=>{e.value=e.value.subtract(10,"year"),n.value||(t.value=t.value.subtract(10,"year"))},i=()=>{n.value||(e.value=e.value.add(10,"year")),t.value=t.value.add(10,"year")},a=()=>{e.value=e.value.add(10,"year")},s=()=>{t.value=t.value.subtract(10,"year")},o=U(()=>{const d=Math.floor(e.value.year()/10)*10;return`${d}-${d+9}`}),l=U(()=>{const d=Math.floor(t.value.year()/10)*10;return`${d}-${d+9}`}),c=U(()=>Math.floor(e.value.year()/10)*10+9),u=U(()=>Math.floor(t.value.year()/10)*10);return{leftPrevYear:r,rightNextYear:i,leftNextYear:a,rightPrevYear:s,leftLabel:o,rightLabel:l,leftYear:c,rightYear:u}},kF="year",s2e=Re({name:"DatePickerYearRange"}),o2e=Re({...s2e,props:r2e,emits:i2e,setup(n,{emit:e}){const t=n,{lang:r}=rr(),i=ne(hn().locale(r.value)),a=ne(i.value.add(10,"year")),{pickerNs:s}=Ot(BT),o=bt("date-range-picker"),l=U(()=>!!F.length),c=U(()=>[s.b(),o.b(),{"has-sidebar":!!na().sidebar||l.value}]),u=U(()=>({content:[s.e("content"),o.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!x.value},"d-arrow-right"]})),d=U(()=>({content:[s.e("content"),o.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!x.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]})),f=dj(r),{leftPrevYear:h,rightNextYear:p,leftNextYear:m,rightPrevYear:v,leftLabel:g,rightLabel:y,leftYear:b,rightYear:_}=a2e({unlinkPanels:_r(t,"unlinkPanels"),leftDate:i,rightDate:a}),x=U(()=>t.unlinkPanels&&_.value>b.value+1),S=ne(),T=ne(),C=ne({endDate:null,selecting:!1}),M=te=>{C.value=te},A=(te,J=!0)=>{const Q=te.minDate,ie=te.maxDate;T.value===ie&&S.value===Q||(e("calendar-change",[Q.toDate(),ie&&ie.toDate()]),T.value=ie,S.value=Q,J&&I())},I=(te=!1)=>{hg([S.value,T.value])&&e("pick",[S.value,T.value],te)},D=te=>{C.value.selecting=te,te||(C.value.endDate=null)},L=Ot("EP_PICKER_BASE"),{shortcuts:F,disabledDate:B}=L.props,k=_r(L.props,"format"),H=_r(L.props,"defaultValue"),z=()=>{let te;if(Tt(H.value)){const J=hn(H.value[0]);let Q=hn(H.value[1]);return t.unlinkPanels||(Q=J.add(10,kF)),[J,Q]}else H.value?te=hn(H.value):te=hn();return te=te.locale(r.value),[te,te.add(10,kF)]};dt(()=>H.value,te=>{if(te){const J=z();i.value=J[0],a.value=J[1]}},{immediate:!0}),dt(()=>t.parsedValue,te=>{if(te&&te.length===2)if(S.value=te[0],T.value=te[1],i.value=S.value,t.unlinkPanels&&T.value){const J=S.value.year(),Q=T.value.year();a.value=J===Q?T.value.add(10,"year"):T.value}else a.value=i.value.add(10,"year");else{const J=z();S.value=void 0,T.value=void 0,i.value=J[0],a.value=J[1]}},{immediate:!0});const O=te=>Tt(te)?te.map(J=>hn(J,k.value).locale(r.value)):hn(te,k.value).locale(r.value),W=te=>Tt(te)?te.map(J=>J.format(k.value)):te.format(k.value),j=te=>hg(te)&&(B?!B(te[0].toDate())&&!B(te[1].toDate()):!0),ee=()=>{const te=z();i.value=te[0],a.value=te[1],T.value=void 0,S.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",j]),e("set-picker-option",["parseUserInput",O]),e("set-picker-option",["formatToString",W]),e("set-picker-option",["handleClear",ee]),(te,J)=>(V(),he("div",{class:Z(w(c))},[ve("div",{class:Z(w(s).e("body-wrapper"))},[Qe(te.$slots,"sidebar",{class:Z(w(s).e("sidebar"))}),w(l)?(V(),he("div",{key:0,class:Z(w(s).e("sidebar"))},[(V(!0),he(zt,null,In(w(F),(Q,ie)=>(V(),he("button",{key:ie,type:"button",class:Z(w(s).e("shortcut")),onClick:le=>w(f)(Q)},Ct(Q.text),11,["onClick"]))),128))],2)):Je("v-if",!0),ve("div",{class:Z(w(s).e("body"))},[ve("div",{class:Z(w(u).content)},[ve("div",{class:Z(w(o).e("header"))},[ve("button",{type:"button",class:Z(w(u).arrowLeftBtn),onClick:w(h)},[Qe(te.$slots,"prev-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(th))]),_:1})])],10,["onClick"]),te.unlinkPanels?(V(),he("button",{key:0,type:"button",disabled:!w(x),class:Z(w(u).arrowRightBtn),onClick:w(m)},[Qe(te.$slots,"next-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(nh))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),ve("div",null,Ct(w(g)),1)],2),ue(j5,{"selection-mode":"range",date:i.value,"min-date":S.value,"max-date":T.value,"range-state":C.value,"disabled-date":w(B),onChangerange:M,onPick:A,onSelect:D},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),ve("div",{class:Z(w(d).content)},[ve("div",{class:Z(w(o).e("header"))},[te.unlinkPanels?(V(),he("button",{key:0,type:"button",disabled:!w(x),class:Z(w(d).arrowLeftBtn),onClick:w(v)},[Qe(te.$slots,"prev-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(th))]),_:1})])],10,["disabled","onClick"])):Je("v-if",!0),ve("button",{type:"button",class:Z(w(d).arrowRightBtn),onClick:w(p)},[Qe(te.$slots,"next-year",{},()=>[ue(w(Vt),null,{default:be(()=>[ue(w(nh))]),_:1})])],10,["onClick"]),ve("div",null,Ct(w(y)),1)],2),ue(j5,{"selection-mode":"range",date:a.value,"min-date":S.value,"max-date":T.value,"range-state":C.value,"disabled-date":w(B),onChangerange:M,onPick:A,onSelect:D},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}});var l2e=Pt(o2e,[["__file","panel-year-range.vue"]]);const c2e=function(n){switch(n){case"daterange":case"datetimerange":return jSe;case"monthrange":return n2e;case"yearrange":return l2e;default:return KSe}};hn.extend(CX);hn.extend(rSe);hn.extend(IL);hn.extend(aSe);hn.extend(oSe);hn.extend(cSe);hn.extend(dSe);hn.extend(hSe);var u2e=Re({name:"ElDatePicker",install:null,props:DSe,emits:["update:modelValue"],setup(n,{expose:e,emit:t,slots:r}){const i=bt("picker-panel");$n("ElPopperOptions",mr(_r(n,"popperOptions"))),$n(BT,{slots:r,pickerNs:i});const a=ne();e({focus:()=>{var l;(l=a.value)==null||l.focus()},blur:()=>{var l;(l=a.value)==null||l.blur()},handleOpen:()=>{var l;(l=a.value)==null||l.handleOpen()},handleClose:()=>{var l;(l=a.value)==null||l.handleClose()}});const o=l=>{t("update:modelValue",l)};return()=>{var l;const c=(l=n.format)!=null?l:pSe[n.type]||rv,u=c2e(n.type);return ue(aj,Hn(n,{format:c,type:n.type,ref:a,"onUpdate:modelValue":o}),{default:d=>ue(u,d,{"prev-month":r["prev-month"],"next-month":r["next-month"],"prev-year":r["prev-year"],"next-year":r["next-year"]}),"range-separator":r["range-separator"]})}}});const d2e=gn(u2e),OL=Symbol("elDescriptions");var By=Re({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Ot(OL,{})}},render(){var n;const e=x_e(this.cell),t=(((n=this.cell)==null?void 0:n.dirs)||[]).map(g=>{const{dir:y,arg:b,modifiers:_,value:x}=g;return[y,x,b,_]}),{border:r,direction:i}=this.descriptions,a=i==="vertical",s=()=>{var g,y,b;return((b=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.label)==null?void 0:b.call(y))||e.label},o=()=>{var g,y,b;return(b=(y=(g=this.cell)==null?void 0:g.children)==null?void 0:y.default)==null?void 0:b.call(y)},l=e.span,c=e.rowspan,u=e.align?`is-${e.align}`:"",d=e.labelAlign?`is-${e.labelAlign}`:u,f=e.className,h=e.labelClassName,p=this.type==="label"&&(e.labelWidth||this.descriptions.labelWidth)||e.width,m={width:Di(p),minWidth:Di(e.minWidth)},v=bt("descriptions");switch(this.type){case"label":return Cn(Gt(this.tag,{style:m,class:[v.e("cell"),v.e("label"),v.is("bordered-label",r),v.is("vertical-label",a),d,h],colSpan:a?l:1,rowspan:a?1:c},s()),t);case"content":return Cn(Gt(this.tag,{style:m,class:[v.e("cell"),v.e("content"),v.is("bordered-content",r),v.is("vertical-content",a),u,f],colSpan:a?l:l*2-1,rowspan:a?c*2-1:c},o()),t);default:{const g=s();return Cn(Gt("td",{style:m,class:[v.e("cell"),u],colSpan:l,rowspan:c},[ga(g)?void 0:Gt("span",{class:[v.e("label"),h]},g),Gt("span",{class:[v.e("content"),f]},o())]),t)}}}});const f2e=Rt({row:{type:Ke(Array),default:()=>[]}}),h2e=Re({name:"ElDescriptionsRow"}),p2e=Re({...h2e,props:f2e,setup(n){const e=Ot(OL,{});return(t,r)=>w(e).direction==="vertical"?(V(),he(zt,{key:0},[ve("tr",null,[(V(!0),he(zt,null,In(t.row,(i,a)=>(V(),rt(w(By),{key:`tr1-${a}`,cell:i,tag:"th",type:"label"},null,8,["cell"]))),128))]),ve("tr",null,[(V(!0),he(zt,null,In(t.row,(i,a)=>(V(),rt(w(By),{key:`tr2-${a}`,cell:i,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(V(),he("tr",{key:1},[(V(!0),he(zt,null,In(t.row,(i,a)=>(V(),he(zt,{key:`tr3-${a}`},[w(e).border?(V(),he(zt,{key:0},[ue(w(By),{cell:i,tag:"td",type:"label"},null,8,["cell"]),ue(w(By),{cell:i,tag:"td",type:"content"},null,8,["cell"])],64)):(V(),rt(w(By),{key:1,cell:i,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var m2e=Pt(p2e,[["__file","descriptions-row.vue"]]);const v2e=Rt({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ta,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),g2e=Re({name:"ElDescriptions"}),y2e=Re({...g2e,props:v2e,setup(n){const e=n,t=bt("descriptions"),r=Zi(),i=na();$n(OL,e);const a=U(()=>[t.b(),t.m(r.value)]),s=(l,c,u,d=!1)=>(l.props||(l.props={}),c>u&&(l.props.span=u),d&&(l.props.span=c),l),o=()=>{if(!i.default)return[];const l=Ff(i.default()).filter(p=>{var m;return((m=p==null?void 0:p.type)==null?void 0:m.name)==="ElDescriptionsItem"}),c=[];let u=[],d=e.column,f=0;const h=[];return l.forEach((p,m)=>{var v,g,y;const b=((v=p.props)==null?void 0:v.span)||1,_=((g=p.props)==null?void 0:g.rowspan)||1,x=c.length;if(h[x]||(h[x]=0),_>1)for(let S=1;S<_;S++)h[y=x+S]||(h[y]=0),h[x+S]++,f++;if(h[x]>0&&(d-=h[x],h[x]=0),m<l.length-1&&(f+=b>d?d:b),m===l.length-1){const S=e.column-f%e.column;u.push(s(p,S,d,!0)),c.push(u);return}b<d?(d-=b,u.push(p)):(u.push(s(p,b,d)),c.push(u),d=e.column,u=[])}),c};return(l,c)=>(V(),he("div",{class:Z(w(a))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(V(),he("div",{key:0,class:Z(w(t).e("header"))},[ve("div",{class:Z(w(t).e("title"))},[Qe(l.$slots,"title",{},()=>[dn(Ct(l.title),1)])],2),ve("div",{class:Z(w(t).e("extra"))},[Qe(l.$slots,"extra",{},()=>[dn(Ct(l.extra),1)])],2)],2)):Je("v-if",!0),ve("div",{class:Z(w(t).e("body"))},[ve("table",{class:Z([w(t).e("table"),w(t).is("bordered",l.border)])},[ve("tbody",null,[(V(!0),he(zt,null,In(o(),(u,d)=>(V(),rt(m2e,{key:d,row:u},null,8,["row"]))),128))])],2)],2)],2))}});var b2e=Pt(y2e,[["__file","description.vue"]]);const _2e=Rt({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),hj=Re({name:"ElDescriptionsItem",props:_2e}),w2e=gn(b2e,{DescriptionsItem:hj}),x2e=Ti(hj),BL=n=>{if(!n)return{onClick:Cr,onMousedown:Cr,onMouseup:Cr};let e=!1,t=!1;return{onClick:s=>{e&&t&&n(s),e=t=!1},onMousedown:s=>{e=s.target===s.currentTarget},onMouseup:s=>{t=s.target===s.currentTarget}}},S2e=Rt({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:Ke([String,Array,Object])},zIndex:{type:Ke([String,Number])}}),C2e={click:n=>n instanceof MouseEvent},M2e="overlay";var T2e=Re({name:"ElOverlay",props:S2e,emits:C2e,setup(n,{slots:e,emit:t}){const r=bt(M2e),i=l=>{t("click",l)},{onClick:a,onMousedown:s,onMouseup:o}=BL(n.customMaskEvent?void 0:i);return()=>n.mask?ue("div",{class:[r.b(),n.overlayClass],style:{zIndex:n.zIndex},onClick:a,onMousedown:s,onMouseup:o},[Qe(e,"default")],cl.STYLE|cl.CLASS|cl.PROPS,["onClick","onMouseup","onMousedown"]):Gt("div",{class:n.overlayClass,style:{zIndex:n.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Qe(e,"default")])}});const FL=T2e,pj=Symbol("dialogInjectionKey"),mj=Rt({center:Boolean,alignCenter:Boolean,closeIcon:{type:kr},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),A2e={close:()=>!0},vj=(n,e,t,r)=>{let i={offsetX:0,offsetY:0};const a=c=>{const u=c.clientX,d=c.clientY,{offsetX:f,offsetY:h}=i,p=n.value.getBoundingClientRect(),m=p.left,v=p.top,g=p.width,y=p.height,b=document.documentElement.clientWidth,_=document.documentElement.clientHeight,x=-m+f,S=-v+h,T=b-m-g+f,C=_-v-y+h,M=I=>{let D=f+I.clientX-u,L=h+I.clientY-d;r!=null&&r.value||(D=Math.min(Math.max(D,x),T),L=Math.min(Math.max(L,S),C)),i={offsetX:D,offsetY:L},n.value&&(n.value.style.transform=`translate(${Di(D)}, ${Di(L)})`)},A=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",A)},s=()=>{e.value&&n.value&&e.value.addEventListener("mousedown",a)},o=()=>{e.value&&n.value&&e.value.removeEventListener("mousedown",a)},l=()=>{i={offsetX:0,offsetY:0},n.value&&(n.value.style.transform="none")};return pn(()=>{Ea(()=>{t.value?s():o()})}),yr(()=>{o()}),{resetPosition:l}},FT=(...n)=>e=>{n.forEach(t=>{Zt(t)?t(e):t.value=e})},E2e=Re({name:"ElDialogContent"}),I2e=Re({...E2e,props:mj,emits:A2e,setup(n,{expose:e}){const t=n,{t:r}=rr(),{Close:i}=lL,{dialogRef:a,headerRef:s,bodyId:o,ns:l,style:c}=Ot(pj),{focusTrapRef:u}=Ot(pL),d=U(()=>[l.b(),l.is("fullscreen",t.fullscreen),l.is("draggable",t.draggable),l.is("align-center",t.alignCenter),{[l.m("center")]:t.center}]),f=FT(u,a),h=U(()=>t.draggable),p=U(()=>t.overflow),{resetPosition:m}=vj(a,s,h,p);return e({resetPosition:m}),(v,g)=>(V(),he("div",{ref:w(f),class:Z(w(d)),style:Bt(w(c)),tabindex:"-1"},[ve("header",{ref_key:"headerRef",ref:s,class:Z([w(l).e("header"),{"show-close":v.showClose}])},[Qe(v.$slots,"header",{},()=>[ve("span",{role:"heading","aria-level":v.ariaLevel,class:Z(w(l).e("title"))},Ct(v.title),11,["aria-level"])]),v.showClose?(V(),he("button",{key:0,"aria-label":w(r)("el.dialog.close"),class:Z(w(l).e("headerbtn")),type:"button",onClick:y=>v.$emit("close")},[ue(w(Vt),{class:Z(w(l).e("close"))},{default:be(()=>[(V(),rt(Nn(v.closeIcon||w(i))))]),_:1},8,["class"])],10,["aria-label","onClick"])):Je("v-if",!0)],2),ve("div",{id:w(o),class:Z(w(l).e("body"))},[Qe(v.$slots,"default")],10,["id"]),v.$slots.footer?(V(),he("footer",{key:0,class:Z(w(l).e("footer"))},[Qe(v.$slots,"footer")],2)):Je("v-if",!0)],6))}});var R2e=Pt(I2e,[["__file","dialog-content.vue"]]);const gj=Rt({...mj,appendToBody:Boolean,appendTo:{type:Ke([String,Object]),default:"body"},beforeClose:{type:Ke(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),yj={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[Tn]:n=>Vr(n),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},zL=(n,e={})=>{Yr(n)||fa("[useLockscreen]","You need to pass a ref param to this function");const t=e.ns||bt("popup"),r=U(()=>t.bm("parent","hidden"));if(!nr||co(document.body,r.value))return;let i=0,a=!1,s="0";const o=()=>{setTimeout(()=>{typeof document>"u"||(Ts(document==null?void 0:document.body,r.value),a&&document&&(document.body.style.width=s))},200)};dt(n,l=>{if(!l){o();return}a=!co(document.body,r.value),a&&(s=document.body.style.width),i=IY(t.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,u=td(document.body,"overflowY");i>0&&(c||u==="scroll")&&a&&(document.body.style.width=`calc(100% - ${i}px)`),yl(document.body,r.value)}),Sq(()=>o())},bj=(n,e)=>{var t;const i=kn().emit,{nextZIndex:a}=Zg();let s="";const o=Ha(),l=Ha(),c=ne(!1),u=ne(!1),d=ne(!1),f=ne((t=n.zIndex)!=null?t:a());let h,p;const m=ET("namespace",q1),v=U(()=>{const B={},k=`--${m.value}-dialog`;return n.fullscreen||(n.top&&(B[`${k}-margin-top`]=n.top),n.width&&(B[`${k}-width`]=Di(n.width))),B}),g=U(()=>n.alignCenter?{display:"flex"}:{});function y(){i("opened")}function b(){i("closed"),i(Tn,!1),n.destroyOnClose&&(d.value=!1)}function _(){i("close")}function x(){p==null||p(),h==null||h(),n.openDelay&&n.openDelay>0?{stop:h}=om(()=>M(),n.openDelay):M()}function S(){h==null||h(),p==null||p(),n.closeDelay&&n.closeDelay>0?{stop:p}=om(()=>A(),n.closeDelay):A()}function T(){function B(k){k||(u.value=!0,c.value=!1)}n.beforeClose?n.beforeClose(B):S()}function C(){n.closeOnClickModal&&T()}function M(){nr&&(c.value=!0)}function A(){c.value=!1}function I(){i("openAutoFocus")}function D(){i("closeAutoFocus")}function L(B){var k;((k=B.detail)==null?void 0:k.focusReason)==="pointer"&&B.preventDefault()}n.lockScroll&&zL(c);function F(){n.closeOnPressEscape&&T()}return dt(()=>n.modelValue,B=>{B?(u.value=!1,x(),d.value=!0,f.value=dY(n.zIndex)?a():f.value++,Yt(()=>{i("open"),e.value&&(e.value.scrollTop=0)})):c.value&&S()}),dt(()=>n.fullscreen,B=>{e.value&&(B?(s=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=s)}),pn(()=>{n.modelValue&&(c.value=!0,d.value=!0,x())}),{afterEnter:y,afterLeave:b,beforeLeave:_,handleClose:T,onModalClick:C,close:S,doClose:A,onOpenAutoFocus:I,onCloseAutoFocus:D,onCloseRequested:F,onFocusoutPrevented:L,titleId:o,bodyId:l,closed:u,style:v,overlayDialogStyle:g,rendered:d,visible:c,zIndex:f}},P2e=Re({name:"ElDialog",inheritAttrs:!1}),D2e=Re({...P2e,props:gj,emits:yj,setup(n,{expose:e}){const t=n,r=na();Of({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},U(()=>!!r.title));const i=bt("dialog"),a=ne(),s=ne(),o=ne(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:f,rendered:h,zIndex:p,afterEnter:m,afterLeave:v,beforeLeave:g,handleClose:y,onModalClick:b,onOpenAutoFocus:_,onCloseAutoFocus:x,onCloseRequested:S,onFocusoutPrevented:T}=bj(t,a);$n(pj,{dialogRef:a,headerRef:s,bodyId:u,ns:i,rendered:h,style:d});const C=BL(b),M=U(()=>t.draggable&&!t.fullscreen);return e({visible:l,dialogContentRef:o,resetPosition:()=>{var I;(I=o.value)==null||I.resetPosition()}}),(I,D)=>(V(),rt(w(ey),{to:I.appendTo,disabled:I.appendTo!=="body"?!1:!I.appendToBody},{default:be(()=>[ue(da,{name:"dialog-fade",onAfterEnter:w(m),onAfterLeave:w(v),onBeforeLeave:w(g),persisted:""},{default:be(()=>[Cn(ue(w(FL),{"custom-mask-event":"",mask:I.modal,"overlay-class":I.modalClass,"z-index":w(p)},{default:be(()=>[ve("div",{role:"dialog","aria-modal":"true","aria-label":I.title||void 0,"aria-labelledby":I.title?void 0:w(c),"aria-describedby":w(u),class:Z(`${w(i).namespace.value}-overlay-dialog`),style:Bt(w(f)),onClick:w(C).onClick,onMousedown:w(C).onMousedown,onMouseup:w(C).onMouseup},[ue(w(Jg),{loop:"",trapped:w(l),"focus-start-el":"container",onFocusAfterTrapped:w(_),onFocusAfterReleased:w(x),onFocusoutPrevented:w(T),onReleaseRequested:w(S)},{default:be(()=>[w(h)?(V(),rt(R2e,Hn({key:0,ref_key:"dialogContentRef",ref:o},I.$attrs,{center:I.center,"align-center":I.alignCenter,"close-icon":I.closeIcon,draggable:w(M),overflow:I.overflow,fullscreen:I.fullscreen,"show-close":I.showClose,title:I.title,"aria-level":I.headerAriaLevel,onClose:w(y)}),Rl({header:be(()=>[I.$slots.title?Qe(I.$slots,"title",{key:1}):Qe(I.$slots,"header",{key:0,close:w(y),titleId:w(c),titleClass:w(i).e("title")})]),default:be(()=>[Qe(I.$slots,"default")]),_:2},[I.$slots.footer?{name:"footer",fn:be(()=>[Qe(I.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Je("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[fr,w(l)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var k2e=Pt(D2e,[["__file","dialog.vue"]]);const L2e=gn(k2e),N2e=Rt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:Ke(String),default:"solid"}}),O2e=Re({name:"ElDivider"}),B2e=Re({...O2e,props:N2e,setup(n){const e=n,t=bt("divider"),r=U(()=>t.cssVar({"border-style":e.borderStyle}));return(i,a)=>(V(),he("div",{class:Z([w(t).b(),w(t).m(i.direction)]),style:Bt(w(r)),role:"separator"},[i.$slots.default&&i.direction!=="vertical"?(V(),he("div",{key:0,class:Z([w(t).e("text"),w(t).is(i.contentPosition)])},[Qe(i.$slots,"default")],2)):Je("v-if",!0)],6))}});var F2e=Pt(B2e,[["__file","divider.vue"]]);const _j=gn(F2e),z2e=Rt({...gj,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),U2e=yj,H2e=Re({name:"ElDrawer",inheritAttrs:!1}),V2e=Re({...H2e,props:z2e,emits:U2e,setup(n,{expose:e}){const t=n,r=na();Of({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},U(()=>!!r.title));const i=ne(),a=ne(),s=bt("drawer"),{t:o}=rr(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:f,titleId:h,bodyId:p,zIndex:m,onModalClick:v,onOpenAutoFocus:g,onCloseAutoFocus:y,onFocusoutPrevented:b,onCloseRequested:_,handleClose:x}=bj(t,i),S=U(()=>t.direction==="rtl"||t.direction==="ltr"),T=U(()=>Di(t.size));return e({handleClose:x,afterEnter:l,afterLeave:c}),(C,M)=>(V(),rt(w(ey),{to:C.appendTo,disabled:C.appendTo!=="body"?!1:!C.appendToBody},{default:be(()=>[ue(da,{name:w(s).b("fade"),onAfterEnter:w(l),onAfterLeave:w(c),onBeforeLeave:w(u),persisted:""},{default:be(()=>[Cn(ue(w(FL),{mask:C.modal,"overlay-class":C.modalClass,"z-index":w(m),onClick:w(v)},{default:be(()=>[ue(w(Jg),{loop:"",trapped:w(d),"focus-trap-el":i.value,"focus-start-el":a.value,onFocusAfterTrapped:w(g),onFocusAfterReleased:w(y),onFocusoutPrevented:w(b),onReleaseRequested:w(_)},{default:be(()=>[ve("div",Hn({ref_key:"drawerRef",ref:i,"aria-modal":"true","aria-label":C.title||void 0,"aria-labelledby":C.title?void 0:w(h),"aria-describedby":w(p)},C.$attrs,{class:[w(s).b(),C.direction,w(d)&&"open"],style:w(S)?"width: "+w(T):"height: "+w(T),role:"dialog",onClick:sn(()=>{},["stop"])}),[ve("span",{ref_key:"focusStartRef",ref:a,class:Z(w(s).e("sr-focus")),tabindex:"-1"},null,2),C.withHeader?(V(),he("header",{key:0,class:Z(w(s).e("header"))},[C.$slots.title?Qe(C.$slots,"title",{key:1},()=>[Je(" DEPRECATED SLOT ")]):Qe(C.$slots,"header",{key:0,close:w(x),titleId:w(h),titleClass:w(s).e("title")},()=>[C.$slots.title?Je("v-if",!0):(V(),he("span",{key:0,id:w(h),role:"heading","aria-level":C.headerAriaLevel,class:Z(w(s).e("title"))},Ct(C.title),11,["id","aria-level"]))]),C.showClose?(V(),he("button",{key:2,"aria-label":w(o)("el.drawer.close"),class:Z(w(s).e("close-btn")),type:"button",onClick:w(x)},[ue(w(Vt),{class:Z(w(s).e("close"))},{default:be(()=>[ue(w(_c))]),_:1},8,["class"])],10,["aria-label","onClick"])):Je("v-if",!0)],2)):Je("v-if",!0),w(f)?(V(),he("div",{key:1,id:w(p),class:Z(w(s).e("body"))},[Qe(C.$slots,"default")],10,["id"])):Je("v-if",!0),C.$slots.footer?(V(),he("div",{key:2,class:Z(w(s).e("footer"))},[Qe(C.$slots,"footer")],2)):Je("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[fr,w(d)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var $2e=Pt(V2e,[["__file","drawer.vue"]]);const G2e=gn($2e),W2e=Re({inheritAttrs:!1});function q2e(n,e,t,r,i,a){return Qe(n.$slots,"default")}var K2e=Pt(W2e,[["render",q2e],["__file","collection.vue"]]);const Y2e=Re({name:"ElCollectionItem",inheritAttrs:!1});function X2e(n,e,t,r,i,a){return Qe(n.$slots,"default")}var j2e=Pt(Y2e,[["render",X2e],["__file","collection-item.vue"]]);const wj="data-el-collection-item",xj=n=>{const e=`El${n}Collection`,t=`${e}Item`,r=Symbol(e),i=Symbol(t),a={...K2e,name:e,setup(){const o=ne(null),l=new Map;$n(r,{itemMap:l,getItems:()=>{const u=w(o);if(!u)return[];const d=Array.from(u.querySelectorAll(`[${wj}]`));return[...l.values()].sort((h,p)=>d.indexOf(h.ref)-d.indexOf(p.ref))},collectionRef:o})}},s={...j2e,name:t,setup(o,{attrs:l}){const c=ne(null),u=Ot(r,void 0);$n(i,{collectionItemRef:c}),pn(()=>{const d=w(c);d&&u.itemMap.set(d,{ref:d,...l})}),yr(()=>{const d=w(c);u.itemMap.delete(d)})}};return{COLLECTION_INJECTION_KEY:r,COLLECTION_ITEM_INJECTION_KEY:i,ElCollection:a,ElCollectionItem:s}},Z2e=Rt({style:{type:Ke([String,Array,Object])},currentTabId:{type:Ke(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:Ke(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Q2e,ElCollectionItem:J2e,COLLECTION_INJECTION_KEY:UL,COLLECTION_ITEM_INJECTION_KEY:eCe}=xj("RovingFocusGroup"),HL=Symbol("elRovingFocusGroup"),Sj=Symbol("elRovingFocusGroupItem"),tCe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},nCe=(n,e)=>{if(e!=="rtl")return n;switch(n){case Nt.right:return Nt.left;case Nt.left:return Nt.right;default:return n}},rCe=(n,e,t)=>{const r=nCe(n.code,t);if(!(e==="vertical"&&[Nt.left,Nt.right].includes(r))&&!(e==="horizontal"&&[Nt.up,Nt.down].includes(r)))return tCe[r]},iCe=(n,e)=>n.map((t,r)=>n[(r+e)%n.length]),VL=n=>{const{activeElement:e}=document;for(const t of n)if(t===e||(t.focus(),e!==document.activeElement))return},LF="currentTabIdChange",NF="rovingFocusGroup.entryFocus",aCe={bubbles:!1,cancelable:!0},sCe=Re({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Z2e,emits:[LF,"entryFocus"],setup(n,{emit:e}){var t;const r=ne((t=n.currentTabId||n.defaultCurrentTabId)!=null?t:null),i=ne(!1),a=ne(!1),s=ne(null),{getItems:o}=Ot(UL,void 0),l=U(()=>[{outline:"none"},n.style]),c=m=>{e(LF,m)},u=()=>{i.value=!0},d=Pi(m=>{var v;(v=n.onMousedown)==null||v.call(n,m)},()=>{a.value=!0}),f=Pi(m=>{var v;(v=n.onFocus)==null||v.call(n,m)},m=>{const v=!w(a),{target:g,currentTarget:y}=m;if(g===y&&v&&!w(i)){const b=new Event(NF,aCe);if(y==null||y.dispatchEvent(b),!b.defaultPrevented){const _=o().filter(M=>M.focusable),x=_.find(M=>M.active),S=_.find(M=>M.id===w(r)),C=[x,S,..._].filter(Boolean).map(M=>M.ref);VL(C)}}a.value=!1}),h=Pi(m=>{var v;(v=n.onBlur)==null||v.call(n,m)},()=>{i.value=!1}),p=(...m)=>{e("entryFocus",...m)};$n(HL,{currentTabbedId:Wg(r),loop:_r(n,"loop"),tabIndex:U(()=>w(i)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:l,orientation:_r(n,"orientation"),dir:_r(n,"dir"),onItemFocus:c,onItemShiftTab:u,onBlur:h,onFocus:f,onMousedown:d}),dt(()=>n.currentTabId,m=>{r.value=m??null}),Ar(s,NF,p)}});function oCe(n,e,t,r,i,a){return Qe(n.$slots,"default")}var lCe=Pt(sCe,[["render",oCe],["__file","roving-focus-group-impl.vue"]]);const cCe=Re({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Q2e,ElRovingFocusGroupImpl:lCe}});function uCe(n,e,t,r,i,a){const s=Et("el-roving-focus-group-impl"),o=Et("el-focus-group-collection");return V(),rt(o,null,{default:be(()=>[ue(s,oc(jf(n.$attrs)),{default:be(()=>[Qe(n.$slots,"default")]),_:3},16)]),_:3})}var dCe=Pt(cCe,[["render",uCe],["__file","roving-focus-group.vue"]]);const M2=Rt({trigger:Xb.trigger,triggerKeys:{type:Ke(Array),default:()=>[Nt.enter,Nt.numpadEnter,Nt.space,Nt.down]},effect:{...wa.effect,default:"light"},type:{type:Ke(String)},placement:{type:Ke(String),default:"bottom"},popperOptions:{type:Ke(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:Ke([Number,String]),default:0},maxHeight:{type:Ke([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,default:"menu"},buttonProps:{type:Ke(Object)},teleported:wa.teleported}),Cj=Rt({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:kr}}),fCe=Rt({onKeydown:{type:Ke(Function)}}),hCe=[Nt.down,Nt.pageDown,Nt.home],Mj=[Nt.up,Nt.pageUp,Nt.end],pCe=[...hCe,...Mj],{ElCollection:mCe,ElCollectionItem:vCe,COLLECTION_INJECTION_KEY:gCe,COLLECTION_ITEM_INJECTION_KEY:yCe}=xj("Dropdown"),zT=Symbol("elDropdown"),{ButtonGroup:bCe}=Ia,_Ce=Re({name:"ElDropdown",components:{ElButton:Ia,ElButtonGroup:bCe,ElScrollbar:_u,ElDropdownCollection:mCe,ElTooltip:is,ElRovingFocusGroup:dCe,ElOnlyChild:qY,ElIcon:Vt,ArrowDown:Rd},props:M2,emits:["visible-change","click","command"],setup(n,{emit:e}){const t=kn(),r=bt("dropdown"),{t:i}=rr(),a=ne(),s=ne(),o=ne(null),l=ne(null),c=ne(null),u=ne(null),d=ne(!1),f=U(()=>({maxHeight:Di(n.maxHeight)})),h=U(()=>[r.m(_.value)]),p=U(()=>ws(n.trigger)),m=Ha().value,v=U(()=>n.id||m);dt([a,p],([k,H],[z])=>{var O,W,j;(O=z==null?void 0:z.$el)!=null&&O.removeEventListener&&z.$el.removeEventListener("pointerenter",S),(W=k==null?void 0:k.$el)!=null&&W.removeEventListener&&k.$el.removeEventListener("pointerenter",S),(j=k==null?void 0:k.$el)!=null&&j.addEventListener&&H.includes("hover")&&k.$el.addEventListener("pointerenter",S)},{immediate:!0}),yr(()=>{var k,H;(H=(k=a.value)==null?void 0:k.$el)!=null&&H.removeEventListener&&a.value.$el.removeEventListener("pointerenter",S)});function g(){y()}function y(){var k;(k=o.value)==null||k.onClose()}function b(){var k;(k=o.value)==null||k.onOpen()}const _=Zi();function x(...k){e("command",...k)}function S(){var k,H;(H=(k=a.value)==null?void 0:k.$el)==null||H.focus()}function T(){}function C(){const k=w(l);p.value.includes("hover")&&(k==null||k.focus()),u.value=null}function M(k){u.value=k}function A(k){d.value||(k.preventDefault(),k.stopImmediatePropagation())}function I(){e("visible-change",!0)}function D(k){(k==null?void 0:k.type)==="keydown"&&l.value.focus()}function L(){e("visible-change",!1)}return $n(zT,{contentRef:l,role:U(()=>n.role),triggerId:v,isUsingKeyboard:d,onItemEnter:T,onItemLeave:C}),$n("elDropdown",{instance:t,dropdownSize:_,handleClick:g,commandHandler:x,trigger:_r(n,"trigger"),hideOnClick:_r(n,"hideOnClick")}),{t:i,ns:r,scrollbar:c,wrapStyle:f,dropdownTriggerKls:h,dropdownSize:_,triggerId:v,currentTabId:u,handleCurrentTabIdChange:M,handlerMainButtonClick:k=>{e("click",k)},handleEntryFocus:A,handleClose:y,handleOpen:b,handleBeforeShowTooltip:I,handleShowTooltip:D,handleBeforeHideTooltip:L,onFocusAfterTrapped:k=>{var H,z;k.preventDefault(),(z=(H=l.value)==null?void 0:H.focus)==null||z.call(H,{preventScroll:!0})},popperRef:o,contentRef:l,triggeringElementRef:a,referenceElementRef:s}}});function wCe(n,e,t,r,i,a){var s;const o=Et("el-dropdown-collection"),l=Et("el-roving-focus-group"),c=Et("el-scrollbar"),u=Et("el-only-child"),d=Et("el-tooltip"),f=Et("el-button"),h=Et("arrow-down"),p=Et("el-icon"),m=Et("el-button-group");return V(),he("div",{class:Z([n.ns.b(),n.ns.is("disabled",n.disabled)])},[ue(d,{ref:"popperRef",role:n.role,effect:n.effect,"fallback-placements":["bottom","top"],"popper-options":n.popperOptions,"gpu-acceleration":!1,"hide-after":n.trigger==="hover"?n.hideTimeout:0,"manual-mode":!0,placement:n.placement,"popper-class":[n.ns.e("popper"),n.popperClass],"reference-element":(s=n.referenceElementRef)==null?void 0:s.$el,trigger:n.trigger,"trigger-keys":n.triggerKeys,"trigger-target-el":n.contentRef,"show-after":n.trigger==="hover"?n.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":n.triggeringElementRef,"virtual-triggering":n.splitButton,disabled:n.disabled,transition:`${n.ns.namespace.value}-zoom-in-top`,teleported:n.teleported,pure:"",persistent:"",onBeforeShow:n.handleBeforeShowTooltip,onShow:n.handleShowTooltip,onBeforeHide:n.handleBeforeHideTooltip},Rl({content:be(()=>[ue(c,{ref:"scrollbar","wrap-style":n.wrapStyle,tag:"div","view-class":n.ns.e("list")},{default:be(()=>[ue(l,{loop:n.loop,"current-tab-id":n.currentTabId,orientation:"horizontal",onCurrentTabIdChange:n.handleCurrentTabIdChange,onEntryFocus:n.handleEntryFocus},{default:be(()=>[ue(o,null,{default:be(()=>[Qe(n.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[n.splitButton?void 0:{name:"default",fn:be(()=>[ue(u,{id:n.triggerId,ref:"triggeringElementRef",role:"button",tabindex:n.tabindex},{default:be(()=>[Qe(n.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),n.splitButton?(V(),rt(m,{key:0},{default:be(()=>[ue(f,Hn({ref:"referenceElementRef"},n.buttonProps,{size:n.dropdownSize,type:n.type,disabled:n.disabled,tabindex:n.tabindex,onClick:n.handlerMainButtonClick}),{default:be(()=>[Qe(n.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),ue(f,Hn({id:n.triggerId,ref:"triggeringElementRef"},n.buttonProps,{role:"button",size:n.dropdownSize,type:n.type,class:n.ns.e("caret-button"),disabled:n.disabled,tabindex:n.tabindex,"aria-label":n.t("el.dropdown.toggleDropdown")}),{default:be(()=>[ue(p,{class:Z(n.ns.e("icon"))},{default:be(()=>[ue(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Je("v-if",!0)],2)}var xCe=Pt(_Ce,[["render",wCe],["__file","dropdown.vue"]]);const SCe=Re({components:{ElRovingFocusCollectionItem:J2e},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(n,{emit:e}){const{currentTabbedId:t,loop:r,onItemFocus:i,onItemShiftTab:a}=Ot(HL,void 0),{getItems:s}=Ot(UL,void 0),o=Ha(),l=ne(null),c=Pi(h=>{e("mousedown",h)},h=>{n.focusable?i(w(o)):h.preventDefault()}),u=Pi(h=>{e("focus",h)},()=>{i(w(o))}),d=Pi(h=>{e("keydown",h)},h=>{const{code:p,shiftKey:m,target:v,currentTarget:g}=h;if(p===Nt.tab&&m){a();return}if(v!==g)return;const y=rCe(h);if(y){h.preventDefault();let _=s().filter(x=>x.focusable).map(x=>x.ref);switch(y){case"last":{_.reverse();break}case"prev":case"next":{y==="prev"&&_.reverse();const x=_.indexOf(g);_=r.value?iCe(_,x+1):_.slice(x+1);break}}Yt(()=>{VL(_)})}}),f=U(()=>t.value===w(o));return $n(Sj,{rovingFocusGroupItemRef:l,tabIndex:U(()=>w(f)?0:-1),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:o,handleKeydown:d,handleFocus:u,handleMousedown:c}}});function CCe(n,e,t,r,i,a){const s=Et("el-roving-focus-collection-item");return V(),rt(s,{id:n.id,focusable:n.focusable,active:n.active},{default:be(()=>[Qe(n.$slots,"default")]),_:3},8,["id","focusable","active"])}var MCe=Pt(SCe,[["render",CCe],["__file","roving-focus-item.vue"]]);const TCe=Re({name:"DropdownItemImpl",components:{ElIcon:Vt},props:Cj,emits:["pointermove","pointerleave","click","clickimpl"],setup(n,{emit:e}){const t=bt("dropdown"),{role:r}=Ot(zT,void 0),{collectionItemRef:i}=Ot(yCe,void 0),{collectionItemRef:a}=Ot(eCe,void 0),{rovingFocusGroupItemRef:s,tabIndex:o,handleFocus:l,handleKeydown:c,handleMousedown:u}=Ot(Sj,void 0),d=FT(i,a,s),f=U(()=>r.value==="menu"?"menuitem":r.value==="navigation"?"link":"button"),h=Pi(p=>{if([Nt.enter,Nt.numpadEnter,Nt.space].includes(p.code))return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},c);return{ns:t,itemRef:d,dataset:{[wj]:""},role:f,tabIndex:o,handleFocus:l,handleKeydown:h,handleMousedown:u}}});function ACe(n,e,t,r,i,a){const s=Et("el-icon");return V(),he(zt,null,[n.divided?(V(),he("li",{key:0,role:"separator",class:Z(n.ns.bem("menu","item","divided"))},null,2)):Je("v-if",!0),ve("li",Hn({ref:n.itemRef},{...n.dataset,...n.$attrs},{"aria-disabled":n.disabled,class:[n.ns.be("menu","item"),n.ns.is("disabled",n.disabled)],tabindex:n.tabIndex,role:n.role,onClick:o=>n.$emit("clickimpl",o),onFocus:n.handleFocus,onKeydown:sn(n.handleKeydown,["self"]),onMousedown:n.handleMousedown,onPointermove:o=>n.$emit("pointermove",o),onPointerleave:o=>n.$emit("pointerleave",o)}),[n.icon?(V(),rt(s,{key:0},{default:be(()=>[(V(),rt(Nn(n.icon)))]),_:1})):Je("v-if",!0),Qe(n.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var ECe=Pt(TCe,[["render",ACe],["__file","dropdown-item-impl.vue"]]);const Tj=()=>{const n=Ot("elDropdown",{}),e=U(()=>n==null?void 0:n.dropdownSize);return{elDropdown:n,_elDropdownSize:e}},ICe=Re({name:"ElDropdownItem",components:{ElDropdownCollectionItem:vCe,ElRovingFocusItem:MCe,ElDropdownItemImpl:ECe},inheritAttrs:!1,props:Cj,emits:["pointermove","pointerleave","click"],setup(n,{emit:e,attrs:t}){const{elDropdown:r}=Tj(),i=kn(),a=ne(null),s=U(()=>{var h,p;return(p=(h=w(a))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:o,onItemLeave:l}=Ot(zT,void 0),c=Pi(h=>(e("pointermove",h),h.defaultPrevented),dF(h=>{if(n.disabled){l(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(o(h),h.defaultPrevented||p==null||p.focus())})),u=Pi(h=>(e("pointerleave",h),h.defaultPrevented),dF(l)),d=Pi(h=>{if(!n.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,m,v;if(n.disabled){h.stopImmediatePropagation();return}(p=r==null?void 0:r.hideOnClick)!=null&&p.value&&((m=r.handleClick)==null||m.call(r)),(v=r.commandHandler)==null||v.call(r,n.command,i,h)}),f=U(()=>({...n,...t}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:s,propsAndAttrs:f}}});function RCe(n,e,t,r,i,a){var s;const o=Et("el-dropdown-item-impl"),l=Et("el-roving-focus-item"),c=Et("el-dropdown-collection-item");return V(),rt(c,{disabled:n.disabled,"text-value":(s=n.textValue)!=null?s:n.textContent},{default:be(()=>[ue(l,{focusable:!n.disabled},{default:be(()=>[ue(o,Hn(n.propsAndAttrs,{onPointerleave:n.handlePointerLeave,onPointermove:n.handlePointerMove,onClickimpl:n.handleClick}),{default:be(()=>[Qe(n.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Aj=Pt(ICe,[["render",RCe],["__file","dropdown-item.vue"]]);const PCe=Re({name:"ElDropdownMenu",props:fCe,setup(n){const e=bt("dropdown"),{_elDropdownSize:t}=Tj(),r=t.value,{focusTrapRef:i,onKeydown:a}=Ot(pL,void 0),{contentRef:s,role:o,triggerId:l}=Ot(zT,void 0),{collectionRef:c,getItems:u}=Ot(gCe,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:f,tabIndex:h,onBlur:p,onFocus:m,onMousedown:v}=Ot(HL,void 0),{collectionRef:g}=Ot(UL,void 0),y=U(()=>[e.b("menu"),e.bm("menu",r==null?void 0:r.value)]),b=FT(s,c,i,d,g),_=Pi(S=>{var T;(T=n.onKeydown)==null||T.call(n,S)},S=>{const{currentTarget:T,code:C,target:M}=S;if(T.contains(M),Nt.tab===C&&S.stopImmediatePropagation(),S.preventDefault(),M!==w(s)||!pCe.includes(C))return;const I=u().filter(D=>!D.disabled).map(D=>D.ref);Mj.includes(C)&&I.reverse(),VL(I)});return{size:r,rovingFocusGroupRootStyle:f,tabIndex:h,dropdownKls:y,role:o,triggerId:l,dropdownListWrapperRef:b,handleKeydown:S=>{_(S),a(S)},onBlur:p,onFocus:m,onMousedown:v}}});function DCe(n,e,t,r,i,a){return V(),he("ul",{ref:n.dropdownListWrapperRef,class:Z(n.dropdownKls),style:Bt(n.rovingFocusGroupRootStyle),tabindex:-1,role:n.role,"aria-labelledby":n.triggerId,onBlur:n.onBlur,onFocus:n.onFocus,onKeydown:sn(n.handleKeydown,["self"]),onMousedown:sn(n.onMousedown,["self"])},[Qe(n.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var Ej=Pt(PCe,[["render",DCe],["__file","dropdown-menu.vue"]]);const kCe=gn(xCe,{DropdownItem:Aj,DropdownMenu:Ej}),LCe=Ti(Aj),NCe=Ti(Ej),OCe=Re({name:"ImgEmpty"}),BCe=Re({...OCe,setup(n){const e=bt("empty"),t=Ha();return(r,i)=>(V(),he("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[ve("defs",null,[ve("linearGradient",{id:`linearGradient-1-${w(t)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[ve("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),ve("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),ve("linearGradient",{id:`linearGradient-2-${w(t)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[ve("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),ve("stop",{"stop-color":`var(${w(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),ve("rect",{id:`path-3-${w(t)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),ve("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[ve("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[ve("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[ve("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${w(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),ve("polygon",{id:"Rectangle-Copy-14",fill:`var(${w(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),ve("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[ve("polygon",{id:"Rectangle-Copy-10",fill:`var(${w(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),ve("polygon",{id:"Rectangle-Copy-11",fill:`var(${w(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),ve("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${w(t)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),ve("polygon",{id:"Rectangle-Copy-13",fill:`var(${w(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),ve("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${w(t)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),ve("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[ve("use",{id:"Mask",fill:`var(${w(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${w(t)}`},null,8,["fill","xlink:href"]),ve("polygon",{id:"Rectangle-Copy",fill:`var(${w(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${w(t)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),ve("polygon",{id:"Rectangle-Copy-18",fill:`var(${w(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var FCe=Pt(BCe,[["__file","img-empty.vue"]]);const zCe=Rt({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),UCe=Re({name:"ElEmpty"}),HCe=Re({...UCe,props:zCe,setup(n){const e=n,{t}=rr(),r=bt("empty"),i=U(()=>e.description||t("el.table.emptyText")),a=U(()=>({width:Di(e.imageSize)}));return(s,o)=>(V(),he("div",{class:Z(w(r).b())},[ve("div",{class:Z(w(r).e("image")),style:Bt(w(a))},[s.image?(V(),he("img",{key:0,src:s.image,ondragstart:"return false"},null,8,["src"])):Qe(s.$slots,"image",{key:1},()=>[ue(FCe)])],6),ve("div",{class:Z(w(r).e("description"))},[s.$slots.description?Qe(s.$slots,"description",{key:0}):(V(),he("p",{key:1},Ct(w(i)),1))],2),s.$slots.default?(V(),he("div",{key:0,class:Z(w(r).e("bottom"))},[Qe(s.$slots,"default")],2)):Je("v-if",!0)],2))}});var VCe=Pt(HCe,[["__file","empty.vue"]]);const Ij=gn(VCe),$Ce=Rt({size:{type:String,values:bu},disabled:Boolean}),GCe=Rt({...$Ce,model:Object,rules:{type:Ke(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),WCe={validate:(n,e,t)=>(Tt(n)||qt(n))&&Vr(e)&&qt(t)};function qCe(){const n=ne([]),e=U(()=>{if(!n.value.length)return"0";const a=Math.max(...n.value);return a?`${a}px`:""});function t(a){const s=n.value.indexOf(a);return s===-1&&e.value,s}function r(a,s){if(a&&s){const o=t(s);n.value.splice(o,1,a)}else a&&n.value.push(a)}function i(a){const s=t(a);s>-1&&n.value.splice(s,1)}return{autoLabelWidth:e,registerLabelWidth:r,deregisterLabelWidth:i}}const rx=(n,e)=>{const t=ws(e);return t.length>0?n.filter(r=>r.prop&&t.includes(r.prop)):n},KCe="ElForm",YCe=Re({name:KCe}),XCe=Re({...YCe,props:GCe,emits:WCe,setup(n,{expose:e,emit:t}){const r=n,i=[],a=Zi(),s=bt("form"),o=U(()=>{const{labelPosition:b,inline:_}=r;return[s.b(),s.m(a.value||"default"),{[s.m(`label-${b}`)]:b,[s.m("inline")]:_}]}),l=b=>i.find(_=>_.prop===b),c=b=>{i.push(b)},u=b=>{b.prop&&i.splice(i.indexOf(b),1)},d=(b=[])=>{r.model&&rx(i,b).forEach(_=>_.resetField())},f=(b=[])=>{rx(i,b).forEach(_=>_.clearValidate())},h=U(()=>!!r.model),p=b=>{if(i.length===0)return[];const _=rx(i,b);return _.length?_:[]},m=async b=>g(void 0,b),v=async(b=[])=>{if(!h.value)return!1;const _=p(b);if(_.length===0)return!0;let x={};for(const S of _)try{await S.validate("")}catch(T){x={...x,...T}}return Object.keys(x).length===0?!0:Promise.reject(x)},g=async(b=[],_)=>{const x=!Zt(_);try{const S=await v(b);return S===!0&&await(_==null?void 0:_(S)),S}catch(S){if(S instanceof Error)throw S;const T=S;return r.scrollToError&&y(Object.keys(T)[0]),await(_==null?void 0:_(!1,T)),x&&Promise.reject(T)}},y=b=>{var _;const x=rx(i,b)[0];x&&((_=x.$el)==null||_.scrollIntoView(r.scrollIntoViewOptions))};return dt(()=>r.rules,()=>{r.validateOnRuleChange&&m().catch(b=>void 0)},{deep:!0}),$n(Rm,mr({...ua(r),emit:t,resetFields:d,clearValidate:f,validateField:g,getField:l,addField:c,removeField:u,...qCe()})),e({validate:m,validateField:g,resetFields:d,clearValidate:f,scrollToField:y,fields:i}),(b,_)=>(V(),he("form",{class:Z(w(o))},[Qe(b.$slots,"default")],2))}});var jCe=Pt(XCe,[["__file","form.vue"]]);function Pp(){return Pp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pp.apply(this,arguments)}function ZCe(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Qb(n,e)}function Z5(n){return Z5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Z5(n)}function Qb(n,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(n,e)}function QCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T2(n,e,t){return QCe()?T2=Reflect.construct.bind():T2=function(i,a,s){var o=[null];o.push.apply(o,a);var l=Function.bind.apply(i,o),c=new l;return s&&Qb(c,s.prototype),c},T2.apply(null,arguments)}function JCe(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function Q5(n){var e=typeof Map=="function"?new Map:void 0;return Q5=function(r){if(r===null||!JCe(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return T2(r,arguments,Z5(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Qb(i,r)},Q5(n)}var eMe=/%[sdj%]/g,tMe=function(){};typeof process<"u"&&process.env;function J5(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function Fo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=0,a=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var s=n.replace(eMe,function(o){if(o==="%%")return"%";if(i>=a)return o;switch(o){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch{return"[Circular]"}break;default:return o}});return s}return n}function nMe(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"}function Pa(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||nMe(e)&&typeof n=="string"&&!n)}function rMe(n,e,t){var r=[],i=0,a=n.length;function s(o){r.push.apply(r,o||[]),i++,i===a&&t(r)}n.forEach(function(o){e(o,s)})}function OF(n,e,t){var r=0,i=n.length;function a(s){if(s&&s.length){t(s);return}var o=r;r=r+1,o<i?e(n[o],a):t([])}a([])}function iMe(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,n[t]||[])}),e}var BF=function(n){ZCe(e,n);function e(t,r){var i;return i=n.call(this,"Async Validation Error")||this,i.errors=t,i.fields=r,i}return e}(Q5(Error));function aMe(n,e,t,r,i){if(e.first){var a=new Promise(function(f,h){var p=function(g){return r(g),g.length?h(new BF(g,J5(g))):f(i)},m=iMe(n);OF(m,t,p)});return a.catch(function(f){return f}),a}var s=e.firstFields===!0?Object.keys(n):e.firstFields||[],o=Object.keys(n),l=o.length,c=0,u=[],d=new Promise(function(f,h){var p=function(v){if(u.push.apply(u,v),c++,c===l)return r(u),u.length?h(new BF(u,J5(u))):f(i)};o.length||(r(u),f(i)),o.forEach(function(m){var v=n[m];s.indexOf(m)!==-1?OF(v,t,p):rMe(v,t,p)})});return d.catch(function(f){return f}),d}function sMe(n){return!!(n&&n.message!==void 0)}function oMe(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function FF(n,e){return function(t){var r;return n.fullFields?r=oMe(e,n.fullFields):r=e[t.field||n.fullField],sMe(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function zF(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];typeof r=="object"&&typeof n[t]=="object"?n[t]=Pp({},n[t],r):n[t]=r}}return n}var Rj=function(e,t,r,i,a,s){e.required&&(!r.hasOwnProperty(e.field)||Pa(t,s||e.type))&&i.push(Fo(a.messages.required,e.fullField))},lMe=function(e,t,r,i,a){(/^\s+$/.test(t)||t==="")&&i.push(Fo(a.messages.whitespace,e.fullField))},ix,cMe=function(){if(ix)return ix;var n="[a-fA-F\\d:]",e=function(_){return _&&_.includeBoundaries?"(?:(?<=\\s|^)(?="+n+")|(?<="+n+")(?=\\s|$))":""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+t+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+t+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+t+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+t+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+t+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+t+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+t+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+t+"$)|(?:^"+i+"$)"),s=new RegExp("^"+t+"$"),o=new RegExp("^"+i+"$"),l=function(_){return _&&_.exact?a:new RegExp("(?:"+e(_)+t+e(_)+")|(?:"+e(_)+i+e(_)+")","g")};l.v4=function(b){return b&&b.exact?s:new RegExp(""+e(b)+t+e(b),"g")},l.v6=function(b){return b&&b.exact?o:new RegExp(""+e(b)+i+e(b),"g")};var c="(?:(?:[a-z]+:)?//)",u="(?:\\S+(?::\\S*)?@)?",d=l.v4().source,f=l.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",m="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",g='(?:[/?#][^\\s"]*)?',y="(?:"+c+"|www\\.)"+u+"(?:localhost|"+d+"|"+f+"|"+h+p+m+")"+v+g;return ix=new RegExp("(?:^"+y+"$)","i"),ix},UF={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},T1={integer:function(e){return T1.number(e)&&parseInt(e,10)===e},float:function(e){return T1.number(e)&&!T1.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!T1.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(UF.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(cMe())},hex:function(e){return typeof e=="string"&&!!e.match(UF.hex)}},uMe=function(e,t,r,i,a){if(e.required&&t===void 0){Rj(e,t,r,i,a);return}var s=["integer","float","array","regexp","object","method","email","number","date","url","hex"],o=e.type;s.indexOf(o)>-1?T1[o](t)||i.push(Fo(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&i.push(Fo(a.messages.types[o],e.fullField,e.type))},dMe=function(e,t,r,i,a){var s=typeof e.len=="number",o=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=t,d=null,f=typeof t=="number",h=typeof t=="string",p=Array.isArray(t);if(f?d="number":h?d="string":p&&(d="array"),!d)return!1;p&&(u=t.length),h&&(u=t.replace(c,"_").length),s?u!==e.len&&i.push(Fo(a.messages[d].len,e.fullField,e.len)):o&&!l&&u<e.min?i.push(Fo(a.messages[d].min,e.fullField,e.min)):l&&!o&&u>e.max?i.push(Fo(a.messages[d].max,e.fullField,e.max)):o&&l&&(u<e.min||u>e.max)&&i.push(Fo(a.messages[d].range,e.fullField,e.min,e.max))},jm="enum",fMe=function(e,t,r,i,a){e[jm]=Array.isArray(e[jm])?e[jm]:[],e[jm].indexOf(t)===-1&&i.push(Fo(a.messages[jm],e.fullField,e[jm].join(", ")))},hMe=function(e,t,r,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(Fo(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var s=new RegExp(e.pattern);s.test(t)||i.push(Fo(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},$r={required:Rj,whitespace:lMe,type:uMe,range:dMe,enum:fMe,pattern:hMe},pMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t,"string")&&!e.required)return r();$r.required(e,t,i,s,a,"string"),Pa(t,"string")||($r.type(e,t,i,s,a),$r.range(e,t,i,s,a),$r.pattern(e,t,i,s,a),e.whitespace===!0&&$r.whitespace(e,t,i,s,a))}r(s)},mMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},vMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(t===""&&(t=void 0),Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},gMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},yMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),Pa(t)||$r.type(e,t,i,s,a)}r(s)},bMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},_Me=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},wMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(t==null&&!e.required)return r();$r.required(e,t,i,s,a,"array"),t!=null&&($r.type(e,t,i,s,a),$r.range(e,t,i,s,a))}r(s)},xMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r.type(e,t,i,s,a)}r(s)},SMe="enum",CMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a),t!==void 0&&$r[SMe](e,t,i,s,a)}r(s)},MMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t,"string")&&!e.required)return r();$r.required(e,t,i,s,a),Pa(t,"string")||$r.pattern(e,t,i,s,a)}r(s)},TMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t,"date")&&!e.required)return r();if($r.required(e,t,i,s,a),!Pa(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),$r.type(e,l,i,s,a),l&&$r.range(e,l.getTime(),i,s,a)}}r(s)},AMe=function(e,t,r,i,a){var s=[],o=Array.isArray(t)?"array":typeof t;$r.required(e,t,i,s,a,o),r(s)},$3=function(e,t,r,i,a){var s=e.type,o=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(Pa(t,s)&&!e.required)return r();$r.required(e,t,i,o,a,s),Pa(t,s)||$r.type(e,t,i,o,a)}r(o)},EMe=function(e,t,r,i,a){var s=[],o=e.required||!e.required&&i.hasOwnProperty(e.field);if(o){if(Pa(t)&&!e.required)return r();$r.required(e,t,i,s,a)}r(s)},Z1={string:pMe,method:mMe,number:vMe,boolean:gMe,regexp:yMe,integer:bMe,float:_Me,array:wMe,object:xMe,enum:CMe,pattern:MMe,date:TMe,url:$3,hex:$3,email:$3,required:AMe,any:EMe};function eR(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var tR=eR(),rw=function(){function n(t){this.rules=null,this._messages=tR,this.define(t)}var e=n.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var s=r[a];i.rules[a]=Array.isArray(s)?s:[s]})},e.messages=function(r){return r&&(this._messages=zF(eR(),r)),this._messages},e.validate=function(r,i,a){var s=this;i===void 0&&(i={}),a===void 0&&(a=function(){});var o=r,l=i,c=a;if(typeof l=="function"&&(c=l,l={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,o),Promise.resolve(o);function u(m){var v=[],g={};function y(_){if(Array.isArray(_)){var x;v=(x=v).concat.apply(x,_)}else v.push(_)}for(var b=0;b<m.length;b++)y(m[b]);v.length?(g=J5(v),c(v,g)):c(null,o)}if(l.messages){var d=this.messages();d===tR&&(d=eR()),zF(d,l.messages),l.messages=d}else l.messages=this.messages();var f={},h=l.keys||Object.keys(this.rules);h.forEach(function(m){var v=s.rules[m],g=o[m];v.forEach(function(y){var b=y;typeof b.transform=="function"&&(o===r&&(o=Pp({},o)),g=o[m]=b.transform(g)),typeof b=="function"?b={validator:b}:b=Pp({},b),b.validator=s.getValidationMethod(b),b.validator&&(b.field=m,b.fullField=b.fullField||m,b.type=s.getType(b),f[m]=f[m]||[],f[m].push({rule:b,value:g,source:o,field:m}))})});var p={};return aMe(f,l,function(m,v){var g=m.rule,y=(g.type==="object"||g.type==="array")&&(typeof g.fields=="object"||typeof g.defaultField=="object");y=y&&(g.required||!g.required&&m.value),g.field=m.field;function b(S,T){return Pp({},T,{fullField:g.fullField+"."+S,fullFields:g.fullFields?[].concat(g.fullFields,[S]):[S]})}function _(S){S===void 0&&(S=[]);var T=Array.isArray(S)?S:[S];!l.suppressWarning&&T.length&&n.warning("async-validator:",T),T.length&&g.message!==void 0&&(T=[].concat(g.message));var C=T.map(FF(g,o));if(l.first&&C.length)return p[g.field]=1,v(C);if(!y)v(C);else{if(g.required&&!m.value)return g.message!==void 0?C=[].concat(g.message).map(FF(g,o)):l.error&&(C=[l.error(g,Fo(l.messages.required,g.field))]),v(C);var M={};g.defaultField&&Object.keys(m.value).map(function(D){M[D]=g.defaultField}),M=Pp({},M,m.rule.fields);var A={};Object.keys(M).forEach(function(D){var L=M[D],F=Array.isArray(L)?L:[L];A[D]=F.map(b.bind(null,D))});var I=new n(A);I.messages(l.messages),m.rule.options&&(m.rule.options.messages=l.messages,m.rule.options.error=l.error),I.validate(m.value,m.rule.options||l,function(D){var L=[];C&&C.length&&L.push.apply(L,C),D&&D.length&&L.push.apply(L,D),v(L.length?L:null)})}}var x;if(g.asyncValidator)x=g.asyncValidator(g,m.value,_,m.source,l);else if(g.validator){try{x=g.validator(g,m.value,_,m.source,l)}catch(S){console.error==null||console.error(S),l.suppressValidatorError||setTimeout(function(){throw S},0),_(S.message)}x===!0?_():x===!1?_(typeof g.message=="function"?g.message(g.fullField||g.field):g.message||(g.fullField||g.field)+" fails"):x instanceof Array?_(x):x instanceof Error&&_(x.message)}x&&x.then&&x.then(function(){return _()},function(S){return _(S)})},function(m){u(m)},o)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Z1.hasOwnProperty(r.type))throw new Error(Fo("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),a=i.indexOf("message");return a!==-1&&i.splice(a,1),i.length===1&&i[0]==="required"?Z1.required:Z1[this.getType(r)]||void 0},n}();rw.register=function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");Z1[e]=t};rw.warning=tMe;rw.messages=tR;rw.validators=Z1;const IMe=["","error","validating","success"],RMe=Rt({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:Ke([String,Array])},required:{type:Boolean,default:void 0},rules:{type:Ke([Object,Array])},error:String,validateStatus:{type:String,values:IMe},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:bu}}),HF="ElLabelWrap";var PMe=Re({name:HF,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(n,{slots:e}){const t=Ot(Rm,void 0),r=Ot(cu);r||fa(HF,"usage: <el-form-item><label-wrap /></el-form-item>");const i=bt("form"),a=ne(),s=ne(0),o=()=>{var u;if((u=a.value)!=null&&u.firstElementChild){const d=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(d))}else return 0},l=(u="update")=>{Yt(()=>{e.default&&n.isAutoWidth&&(u==="update"?s.value=o():u==="remove"&&(t==null||t.deregisterLabelWidth(s.value)))})},c=()=>l("update");return pn(()=>{c()}),yr(()=>{l("remove")}),Bl(()=>c()),dt(s,(u,d)=>{n.updateAll&&(t==null||t.registerLabelWidth(u,d))}),ui(U(()=>{var u,d;return(d=(u=a.value)==null?void 0:u.firstElementChild)!=null?d:null}),c),()=>{var u,d;if(!e)return null;const{isAutoWidth:f}=n;if(f){const h=t==null?void 0:t.autoLabelWidth,p=r==null?void 0:r.hasLabel,m={};if(p&&h&&h!=="auto"){const v=Math.max(0,Number.parseInt(h,10)-s.value),y=(r.labelPosition||t.labelPosition)==="left"?"marginRight":"marginLeft";v&&(m[y]=`${v}px`)}return ue("div",{ref:a,class:[i.be("item","label-wrap")],style:m},[(u=e.default)==null?void 0:u.call(e)])}else return ue(zt,{ref:a},[(d=e.default)==null?void 0:d.call(e)])}}});const DMe=Re({name:"ElFormItem"}),kMe=Re({...DMe,props:RMe,setup(n,{expose:e}){const t=n,r=na(),i=Ot(Rm,void 0),a=Ot(cu,void 0),s=Zi(void 0,{formItem:!1}),o=bt("form-item"),l=Ha().value,c=ne([]),u=ne(""),d=jme(u,100),f=ne(""),h=ne();let p,m=!1;const v=U(()=>t.labelPosition||(i==null?void 0:i.labelPosition)),g=U(()=>{if(v.value==="top")return{};const we=Di(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return we?{width:we}:{}}),y=U(()=>{if(v.value==="top"||i!=null&&i.inline)return{};if(!t.label&&!t.labelWidth&&A)return{};const we=Di(t.labelWidth||(i==null?void 0:i.labelWidth)||"");return!t.label&&!r.label?{marginLeft:we}:{}}),b=U(()=>[o.b(),o.m(s.value),o.is("error",u.value==="error"),o.is("validating",u.value==="validating"),o.is("success",u.value==="success"),o.is("required",B.value||t.required),o.is("no-asterisk",i==null?void 0:i.hideRequiredAsterisk),(i==null?void 0:i.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[o.m("feedback")]:i==null?void 0:i.statusIcon,[o.m(`label-${v.value}`)]:v.value}]),_=U(()=>Vr(t.inlineMessage)?t.inlineMessage:(i==null?void 0:i.inlineMessage)||!1),x=U(()=>[o.e("error"),{[o.em("error","inline")]:_.value}]),S=U(()=>t.prop?qt(t.prop)?t.prop:t.prop.join("."):""),T=U(()=>!!(t.label||r.label)),C=U(()=>t.for||(c.value.length===1?c.value[0]:void 0)),M=U(()=>!C.value&&T.value),A=!!a,I=U(()=>{const we=i==null?void 0:i.model;if(!(!we||!t.prop))return _2(we,t.prop).value}),D=U(()=>{const{required:we}=t,Ae=[];t.rules&&Ae.push(...ws(t.rules));const ke=i==null?void 0:i.rules;if(ke&&t.prop){const Fe=_2(ke,t.prop).value;Fe&&Ae.push(...ws(Fe))}if(we!==void 0){const Fe=Ae.map((q,ce)=>[q,ce]).filter(([q])=>Object.keys(q).includes("required"));if(Fe.length>0)for(const[q,ce]of Fe)q.required!==we&&(Ae[ce]={...q,required:we});else Ae.push({required:we})}return Ae}),L=U(()=>D.value.length>0),F=we=>D.value.filter(ke=>!ke.trigger||!we?!0:Tt(ke.trigger)?ke.trigger.includes(we):ke.trigger===we).map(({trigger:ke,...Fe})=>Fe),B=U(()=>D.value.some(we=>we.required)),k=U(()=>{var we;return d.value==="error"&&t.showMessage&&((we=i==null?void 0:i.showMessage)!=null?we:!0)}),H=U(()=>`${t.label||""}${(i==null?void 0:i.labelSuffix)||""}`),z=we=>{u.value=we},O=we=>{var Ae,ke;const{errors:Fe,fields:q}=we;(!Fe||!q)&&console.error(we),z("error"),f.value=Fe?(ke=(Ae=Fe==null?void 0:Fe[0])==null?void 0:Ae.message)!=null?ke:`${t.prop} is required`:"",i==null||i.emit("validate",t.prop,!1,f.value)},W=()=>{z("success"),i==null||i.emit("validate",t.prop,!0,"")},j=async we=>{const Ae=S.value;return new rw({[Ae]:we}).validate({[Ae]:I.value},{firstFields:!0}).then(()=>(W(),!0)).catch(Fe=>(O(Fe),Promise.reject(Fe)))},ee=async(we,Ae)=>{if(m||!t.prop)return!1;const ke=Zt(Ae);if(!L.value)return Ae==null||Ae(!1),!1;const Fe=F(we);return Fe.length===0?(Ae==null||Ae(!0),!0):(z("validating"),j(Fe).then(()=>(Ae==null||Ae(!0),!0)).catch(q=>{const{fields:ce}=q;return Ae==null||Ae(!1,ce),ke?!1:Promise.reject(ce)}))},te=()=>{z(""),f.value="",m=!1},J=async()=>{const we=i==null?void 0:i.model;if(!we||!t.prop)return;const Ae=_2(we,t.prop);m=!0,Ae.value=b7(p),await Yt(),te(),m=!1},Q=we=>{c.value.includes(we)||c.value.push(we)},ie=we=>{c.value=c.value.filter(Ae=>Ae!==we)};dt(()=>t.error,we=>{f.value=we||"",z(we?"error":"")},{immediate:!0}),dt(()=>t.validateStatus,we=>z(we||""));const le=mr({...ua(t),$el:h,size:s,validateState:u,labelId:l,inputIds:c,isGroup:M,hasLabel:T,fieldValue:I,addInputId:Q,removeInputId:ie,resetField:J,clearValidate:te,validate:ee});return $n(cu,le),pn(()=>{t.prop&&(i==null||i.addField(le),p=b7(I.value))}),yr(()=>{i==null||i.removeField(le)}),e({size:s,validateMessage:f,validateState:u,validate:ee,clearValidate:te,resetField:J}),(we,Ae)=>{var ke;return V(),he("div",{ref_key:"formItemRef",ref:h,class:Z(w(b)),role:w(M)?"group":void 0,"aria-labelledby":w(M)?w(l):void 0},[ue(w(PMe),{"is-auto-width":w(g).width==="auto","update-all":((ke=w(i))==null?void 0:ke.labelWidth)==="auto"},{default:be(()=>[w(T)?(V(),rt(Nn(w(C)?"label":"div"),{key:0,id:w(l),for:w(C),class:Z(w(o).e("label")),style:Bt(w(g))},{default:be(()=>[Qe(we.$slots,"label",{label:w(H)},()=>[dn(Ct(w(H)),1)])]),_:3},8,["id","for","class","style"])):Je("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),ve("div",{class:Z(w(o).e("content")),style:Bt(w(y))},[Qe(we.$slots,"default"),ue(bK,{name:`${w(o).namespace.value}-zoom-in-top`},{default:be(()=>[w(k)?Qe(we.$slots,"error",{key:0,error:f.value},()=>[ve("div",{class:Z(w(x))},Ct(f.value),3)]):Je("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var Pj=Pt(kMe,[["__file","form-item.vue"]]);const LMe=gn(jCe,{FormItem:Pj}),NMe=Ti(Pj),OMe=Rt({urlList:{type:Ke(Array),default:()=>Mi([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ke(String)}}),BMe={close:()=>!0,switch:n=>en(n),rotate:n=>en(n)},FMe=Re({name:"ElImageViewer"}),zMe=Re({...FMe,props:OMe,emits:BMe,setup(n,{expose:e,emit:t}){var r;const i=n,a={CONTAIN:{name:"contain",icon:ud(fve)},ORIGINAL:{name:"original",icon:ud(Lve)}},{t:s}=rr(),o=bt("image-viewer"),{nextZIndex:l}=Zg(),c=ne(),u=ne([]),d=soe(),f=ne(!0),h=ne(i.initialIndex),p=Ir(a.CONTAIN),m=ne({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),v=ne((r=i.zIndex)!=null?r:l()),g=U(()=>{const{urlList:ee}=i;return ee.length<=1}),y=U(()=>h.value===0),b=U(()=>h.value===i.urlList.length-1),_=U(()=>i.urlList[h.value]),x=U(()=>[o.e("btn"),o.e("prev"),o.is("disabled",!i.infinite&&y.value)]),S=U(()=>[o.e("btn"),o.e("next"),o.is("disabled",!i.infinite&&b.value)]),T=U(()=>{const{scale:ee,deg:te,offsetX:J,offsetY:Q,enableTransition:ie}=m.value;let le=J/ee,we=Q/ee;const Ae=te*Math.PI/180,ke=Math.cos(Ae),Fe=Math.sin(Ae);le=le*ke+we*Fe,we=we*ke-J/ee*Fe;const q={transform:`scale(${ee}) rotate(${te}deg) translate(${le}px, ${we}px)`,transition:ie?"transform .3s":""};return p.value.name===a.CONTAIN.name&&(q.maxWidth=q.maxHeight="100%"),q});function C(){A(),t("close")}function M(){const ee=Kp(J=>{switch(J.code){case Nt.esc:i.closeOnPressEscape&&C();break;case Nt.space:B();break;case Nt.left:H();break;case Nt.up:O("zoomIn");break;case Nt.right:z();break;case Nt.down:O("zoomOut");break}}),te=Kp(J=>{const Q=J.deltaY||J.deltaX;O(Q<0?"zoomIn":"zoomOut",{zoomRate:i.zoomRate,enableTransition:!1})});d.run(()=>{Ar(document,"keydown",ee),Ar(document,"wheel",te)})}function A(){d.stop()}function I(){f.value=!1}function D(ee){f.value=!1,ee.target.alt=s("el.image.error")}function L(ee){if(f.value||ee.button!==0||!c.value)return;m.value.enableTransition=!1;const{offsetX:te,offsetY:J}=m.value,Q=ee.pageX,ie=ee.pageY,le=Kp(Ae=>{m.value={...m.value,offsetX:te+Ae.pageX-Q,offsetY:J+Ae.pageY-ie}}),we=Ar(document,"mousemove",le);Ar(document,"mouseup",()=>{we()}),ee.preventDefault()}function F(){m.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function B(){if(f.value)return;const ee=sg(a),te=Object.values(a),J=p.value.name,ie=(te.findIndex(le=>le.name===J)+1)%ee.length;p.value=a[ee[ie]],F()}function k(ee){const te=i.urlList.length;h.value=(ee+te)%te}function H(){y.value&&!i.infinite||k(h.value-1)}function z(){b.value&&!i.infinite||k(h.value+1)}function O(ee,te={}){if(f.value)return;const{minScale:J,maxScale:Q}=i,{zoomRate:ie,rotateDeg:le,enableTransition:we}={zoomRate:i.zoomRate,rotateDeg:90,enableTransition:!0,...te};switch(ee){case"zoomOut":m.value.scale>J&&(m.value.scale=Number.parseFloat((m.value.scale/ie).toFixed(3)));break;case"zoomIn":m.value.scale<Q&&(m.value.scale=Number.parseFloat((m.value.scale*ie).toFixed(3)));break;case"clockwise":m.value.deg+=le,t("rotate",m.value.deg);break;case"anticlockwise":m.value.deg-=le,t("rotate",m.value.deg);break}m.value.enableTransition=we}function W(ee){var te;((te=ee.detail)==null?void 0:te.focusReason)==="pointer"&&ee.preventDefault()}function j(){i.closeOnPressEscape&&C()}return dt(_,()=>{Yt(()=>{const ee=u.value[0];ee!=null&&ee.complete||(f.value=!0)})}),dt(h,ee=>{F(),t("switch",ee)}),pn(()=>{M()}),e({setActiveItem:k}),(ee,te)=>(V(),rt(w(ey),{to:"body",disabled:!ee.teleported},{default:be(()=>[ue(da,{name:"viewer-fade",appear:""},{default:be(()=>[ve("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:Z(w(o).e("wrapper")),style:Bt({zIndex:v.value})},[ue(w(Jg),{loop:"",trapped:"","focus-trap-el":c.value,"focus-start-el":"container",onFocusoutPrevented:W,onReleaseRequested:j},{default:be(()=>[ve("div",{class:Z(w(o).e("mask")),onClick:sn(J=>ee.hideOnClickModal&&C(),["self"])},null,10,["onClick"]),Je(" CLOSE "),ve("span",{class:Z([w(o).e("btn"),w(o).e("close")]),onClick:C},[ue(w(Vt),null,{default:be(()=>[ue(w(_c))]),_:1})],2),Je(" ARROW "),w(g)?Je("v-if",!0):(V(),he(zt,{key:0},[ve("span",{class:Z(w(x)),onClick:H},[ue(w(Vt),null,{default:be(()=>[ue(w(eh))]),_:1})],2),ve("span",{class:Z(w(S)),onClick:z},[ue(w(Vt),null,{default:be(()=>[ue(w(Gs))]),_:1})],2)],64)),Je(" ACTIONS "),ve("div",{class:Z([w(o).e("btn"),w(o).e("actions")])},[ve("div",{class:Z(w(o).e("actions__inner"))},[ue(w(Vt),{onClick:J=>O("zoomOut")},{default:be(()=>[ue(w(jve))]),_:1},8,["onClick"]),ue(w(Vt),{onClick:J=>O("zoomIn")},{default:be(()=>[ue(w(OY))]),_:1},8,["onClick"]),ve("i",{class:Z(w(o).e("actions__divider"))},null,2),ue(w(Vt),{onClick:B},{default:be(()=>[(V(),rt(Nn(w(p).icon)))]),_:1}),ve("i",{class:Z(w(o).e("actions__divider"))},null,2),ue(w(Vt),{onClick:J=>O("anticlockwise")},{default:be(()=>[ue(w(Rve))]),_:1},8,["onClick"]),ue(w(Vt),{onClick:J=>O("clockwise")},{default:be(()=>[ue(w(Dve))]),_:1},8,["onClick"])],2)],2),Je(" CANVAS "),ve("div",{class:Z(w(o).e("canvas"))},[(V(!0),he(zt,null,In(ee.urlList,(J,Q)=>Cn((V(),he("img",{ref_for:!0,ref:ie=>u.value[Q]=ie,key:J,src:J,style:Bt(w(T)),class:Z(w(o).e("img")),crossorigin:ee.crossorigin,onLoad:I,onError:D,onMousedown:L},null,46,["src","crossorigin"])),[[fr,Q===h.value]])),128))],2),Qe(ee.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var UMe=Pt(zMe,[["__file","image-viewer.vue"]]);const Dj=gn(UMe),HMe=Rt({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:Ke([String,Object])},previewSrcList:{type:Ke(Array),default:()=>Mi([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:Ke(String)}}),VMe={load:n=>n instanceof Event,error:n=>n instanceof Event,switch:n=>en(n),close:()=>!0,show:()=>!0},$Me=Re({name:"ElImage",inheritAttrs:!1}),GMe=Re({...$Me,props:HMe,emits:VMe,setup(n,{emit:e}){const t=n;let r="";const{t:i}=rr(),a=bt("image"),s=bh(),o=U(()=>qb(Object.entries(s).filter(([z])=>/^(data-|on[A-Z])/i.test(z)||["id","style"].includes(z)))),l=J_({excludeListeners:!0,excludeKeys:U(()=>Object.keys(o.value))}),c=ne(),u=ne(!1),d=ne(!0),f=ne(!1),h=ne(),p=ne(),m=nr&&"loading"in HTMLImageElement.prototype;let v,g;const y=U(()=>[a.e("inner"),_.value&&a.e("preview"),d.value&&a.is("loading")]),b=U(()=>{const{fit:z}=t;return nr&&z?{objectFit:z}:{}}),_=U(()=>{const{previewSrcList:z}=t;return Tt(z)&&z.length>0}),x=U(()=>{const{previewSrcList:z,initialIndex:O}=t;let W=O;return O>z.length-1&&(W=0),W}),S=U(()=>t.loading==="eager"?!1:!m&&t.loading==="lazy"||t.lazy),T=()=>{nr&&(d.value=!0,u.value=!1,c.value=t.src)};function C(z){d.value=!1,u.value=!1,e("load",z)}function M(z){d.value=!1,u.value=!0,e("error",z)}function A(){dxe(h.value,p.value)&&(T(),L())}const I=mY(A,200,!0);async function D(){var z;if(!nr)return;await Yt();const{scrollContainer:O}=t;Ho(O)?p.value=O:qt(O)&&O!==""?p.value=(z=document.querySelector(O))!=null?z:void 0:h.value&&(p.value=tL(h.value)),p.value&&(v=Ar(p,"scroll",I),setTimeout(()=>A(),100))}function L(){!nr||!p.value||!I||(v==null||v(),p.value=void 0)}function F(z){if(z.ctrlKey){if(z.deltaY<0)return z.preventDefault(),!1;if(z.deltaY>0)return z.preventDefault(),!1}}function B(){_.value&&(g=Ar("wheel",F,{passive:!1}),r=document.body.style.overflow,document.body.style.overflow="hidden",f.value=!0,e("show"))}function k(){g==null||g(),document.body.style.overflow=r,f.value=!1,e("close")}function H(z){e("switch",z)}return dt(()=>t.src,()=>{S.value?(d.value=!0,u.value=!1,L(),D()):T()}),pn(()=>{S.value?D():T()}),(z,O)=>(V(),he("div",Hn({ref_key:"container",ref:h},w(o),{class:[w(a).b(),z.$attrs.class]}),[u.value?Qe(z.$slots,"error",{key:0},()=>[ve("div",{class:Z(w(a).e("error"))},Ct(w(i)("el.image.error")),3)]):(V(),he(zt,{key:1},[c.value!==void 0?(V(),he("img",Hn({key:0},w(l),{src:c.value,loading:z.loading,style:w(b),class:w(y),crossorigin:z.crossorigin,onClick:B,onLoad:C,onError:M}),null,16,["src","loading","crossorigin"])):Je("v-if",!0),d.value?(V(),he("div",{key:1,class:Z(w(a).e("wrapper"))},[Qe(z.$slots,"placeholder",{},()=>[ve("div",{class:Z(w(a).e("placeholder"))},null,2)])],2)):Je("v-if",!0)],64)),w(_)?(V(),he(zt,{key:2},[f.value?(V(),rt(w(Dj),{key:0,"z-index":z.zIndex,"initial-index":w(x),infinite:z.infinite,"zoom-rate":z.zoomRate,"min-scale":z.minScale,"max-scale":z.maxScale,"url-list":z.previewSrcList,crossorigin:z.crossorigin,"hide-on-click-modal":z.hideOnClickModal,teleported:z.previewTeleported,"close-on-press-escape":z.closeOnPressEscape,onClose:k,onSwitch:H},{default:be(()=>[z.$slots.viewer?(V(),he("div",{key:0},[Qe(z.$slots,"viewer")])):Je("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Je("v-if",!0)],64)):Je("v-if",!0)],16))}});var WMe=Pt(GMe,[["__file","image.vue"]]);const qMe=gn(WMe),KMe=Rt({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:ta,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:n=>n===null||en(n)||["min","max"].includes(n),default:null},name:String,placeholder:String,precision:{type:Number,validator:n=>n>=0&&n===Number.parseInt(`${n}`,10)},validateEvent:{type:Boolean,default:!0},...$a(["ariaLabel"])}),YMe={[Rr]:(n,e)=>e!==n,blur:n=>n instanceof FocusEvent,focus:n=>n instanceof FocusEvent,[ns]:n=>en(n)||ga(n),[Tn]:n=>en(n)||ga(n)},XMe=Re({name:"ElInputNumber"}),jMe=Re({...XMe,props:KMe,emits:YMe,setup(n,{expose:e,emit:t}){const r=n,{t:i}=rr(),a=bt("input-number"),s=ne(),o=mr({currentValue:r.modelValue,userInput:null}),{formItem:l}=ss(),c=U(()=>en(r.modelValue)&&r.modelValue<=r.min),u=U(()=>en(r.modelValue)&&r.modelValue>=r.max),d=U(()=>{const B=g(r.step);return Tr(r.precision)?Math.max(g(r.modelValue),B):(B>r.precision,r.precision)}),f=U(()=>r.controls&&r.controlsPosition==="right"),h=Zi(),p=os(),m=U(()=>{if(o.userInput!==null)return o.userInput;let B=o.currentValue;if(ga(B))return"";if(en(B)){if(Number.isNaN(B))return"";Tr(r.precision)||(B=B.toFixed(r.precision))}return B}),v=(B,k)=>{if(Tr(k)&&(k=d.value),k===0)return Math.round(B);let H=String(B);const z=H.indexOf(".");if(z===-1||!H.replace(".","").split("")[z+k])return B;const j=H.length;return H.charAt(j-1)==="5"&&(H=`${H.slice(0,Math.max(0,j-1))}6`),Number.parseFloat(Number(H).toFixed(k))},g=B=>{if(ga(B))return 0;const k=B.toString(),H=k.indexOf(".");let z=0;return H!==-1&&(z=k.length-H-1),z},y=(B,k=1)=>en(B)?v(B+r.step*k):o.currentValue,b=()=>{if(r.readonly||p.value||u.value)return;const B=Number(m.value)||0,k=y(B);S(k),t(ns,o.currentValue),L()},_=()=>{if(r.readonly||p.value||c.value)return;const B=Number(m.value)||0,k=y(B,-1);S(k),t(ns,o.currentValue),L()},x=(B,k)=>{const{max:H,min:z,step:O,precision:W,stepStrictly:j,valueOnClear:ee}=r;H<z&&fa("InputNumber","min should not be greater than max.");let te=Number(B);if(ga(B)||Number.isNaN(te))return null;if(B===""){if(ee===null)return null;te=qt(ee)?{min:z,max:H}[ee]:ee}return j&&(te=v(Math.round(te/O)*O,W),te!==B&&k&&t(Tn,te)),Tr(W)||(te=v(te,W)),(te>H||te<z)&&(te=te>H?H:z,k&&t(Tn,te)),te},S=(B,k=!0)=>{var H;const z=o.currentValue,O=x(B);if(!k){t(Tn,O);return}z===O&&B||(o.userInput=null,t(Tn,O),z!==O&&t(Rr,O,z),r.validateEvent&&((H=l==null?void 0:l.validate)==null||H.call(l,"change").catch(W=>void 0)),o.currentValue=O)},T=B=>{o.userInput=B;const k=B===""?null:Number(B);t(ns,k),S(k,!1)},C=B=>{const k=B!==""?Number(B):"";(en(k)&&!Number.isNaN(k)||B==="")&&S(k),L(),o.userInput=null},M=()=>{var B,k;(k=(B=s.value)==null?void 0:B.focus)==null||k.call(B)},A=()=>{var B,k;(k=(B=s.value)==null?void 0:B.blur)==null||k.call(B)},I=B=>{t("focus",B)},D=B=>{var k,H;o.userInput=null,DT()&&o.currentValue===null&&((k=s.value)!=null&&k.input)&&(s.value.input.value=""),t("blur",B),r.validateEvent&&((H=l==null?void 0:l.validate)==null||H.call(l,"blur").catch(z=>void 0))},L=()=>{o.currentValue!==r.modelValue&&(o.currentValue=r.modelValue)},F=B=>{document.activeElement===B.target&&B.preventDefault()};return dt(()=>r.modelValue,(B,k)=>{const H=x(B,!0);o.userInput===null&&H!==k&&(o.currentValue=H)},{immediate:!0}),pn(()=>{var B;const{min:k,max:H,modelValue:z}=r,O=(B=s.value)==null?void 0:B.input;if(O.setAttribute("role","spinbutton"),Number.isFinite(H)?O.setAttribute("aria-valuemax",String(H)):O.removeAttribute("aria-valuemax"),Number.isFinite(k)?O.setAttribute("aria-valuemin",String(k)):O.removeAttribute("aria-valuemin"),O.setAttribute("aria-valuenow",o.currentValue||o.currentValue===0?String(o.currentValue):""),O.setAttribute("aria-disabled",String(p.value)),!en(z)&&z!=null){let W=Number(z);Number.isNaN(W)&&(W=null),t(Tn,W)}O.addEventListener("wheel",F,{passive:!1})}),Bl(()=>{var B,k;const H=(B=s.value)==null?void 0:B.input;H==null||H.setAttribute("aria-valuenow",`${(k=o.currentValue)!=null?k:""}`)}),e({focus:M,blur:A}),(B,k)=>(V(),he("div",{class:Z([w(a).b(),w(a).m(w(h)),w(a).is("disabled",w(p)),w(a).is("without-controls",!B.controls),w(a).is("controls-right",w(f))]),onDragstart:sn(()=>{},["prevent"])},[B.controls?Cn((V(),he("span",{key:0,role:"button","aria-label":w(i)("el.inputNumber.decrease"),class:Z([w(a).e("decrease"),w(a).is("disabled",w(c))]),onKeydown:Ur(_,["enter"])},[Qe(B.$slots,"decrease-icon",{},()=>[ue(w(Vt),null,{default:be(()=>[w(f)?(V(),rt(w(Rd),{key:0})):(V(),rt(w(_ve),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(IC),_]]):Je("v-if",!0),B.controls?Cn((V(),he("span",{key:1,role:"button","aria-label":w(i)("el.inputNumber.increase"),class:Z([w(a).e("increase"),w(a).is("disabled",w(u))]),onKeydown:Ur(b,["enter"])},[Qe(B.$slots,"increase-icon",{},()=>[ue(w(Vt),null,{default:be(()=>[w(f)?(V(),rt(w(rL),{key:0})):(V(),rt(w(NY),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[w(IC),b]]):Je("v-if",!0),ue(w(Cs),{id:B.id,ref_key:"input",ref:s,type:"number",step:B.step,"model-value":w(m),placeholder:B.placeholder,readonly:B.readonly,disabled:w(p),size:w(h),max:B.max,min:B.min,name:B.name,"aria-label":B.ariaLabel,"validate-event":!1,onKeydown:[Ur(sn(b,["prevent"]),["up"]),Ur(sn(_,["prevent"]),["down"])],onBlur:D,onFocus:I,onInput:T,onChange:C},Rl({_:2},[B.$slots.prefix?{name:"prefix",fn:be(()=>[Qe(B.$slots,"prefix")])}:void 0,B.$slots.suffix?{name:"suffix",fn:be(()=>[Qe(B.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var ZMe=Pt(jMe,[["__file","input-number.vue"]]);const kj=gn(ZMe),QMe=Rt({modelValue:{type:Ke(Array)},max:Number,tagType:{...gd.type,default:"info"},tagEffect:gd.effect,trigger:{type:Ke(String),default:Nt.enter},draggable:{type:Boolean,default:!1},size:ta,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),JMe={[Tn]:n=>Tt(n)||Tr(n),[Rr]:n=>Tt(n)||Tr(n),[ns]:n=>qt(n),"add-tag":n=>qt(n),"remove-tag":n=>qt(n),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0};function eTe({props:n,emit:e,formItem:t}){const r=os(),i=Zi(),a=Ir(),s=ne(),o=U(()=>["small"].includes(i.value)?"small":"default"),l=U(()=>{var M;return(M=n.modelValue)!=null&&M.length?void 0:n.placeholder}),c=U(()=>!(n.readonly||r.value)),u=U(()=>{var M,A;return Tr(n.max)?!1:((A=(M=n.modelValue)==null?void 0:M.length)!=null?A:0)>=n.max}),d=M=>{if(u.value){s.value=void 0;return}x.value||e(ns,M.target.value)},f=M=>{var A;if(!x.value)switch(M.code){case n.trigger:M.preventDefault(),M.stopPropagation(),h();break;case Nt.numpadEnter:n.trigger===Nt.enter&&(M.preventDefault(),M.stopPropagation(),h());break;case Nt.backspace:!s.value&&((A=n.modelValue)!=null&&A.length)&&(M.preventDefault(),M.stopPropagation(),p(n.modelValue.length-1));break}},h=()=>{var M,A;const I=(M=s.value)==null?void 0:M.trim();if(!I||u.value)return;const D=[...(A=n.modelValue)!=null?A:[],I];e(Tn,D),e(Rr,D),e("add-tag",I),s.value=void 0},p=M=>{var A;const I=((A=n.modelValue)!=null?A:[]).slice(),[D]=I.splice(M,1);e(Tn,I),e(Rr,I),e("remove-tag",D)},m=()=>{s.value=void 0,e(Tn,void 0),e(Rr,void 0),e("clear")},v=(M,A,I)=>{var D;const L=((D=n.modelValue)!=null?D:[]).slice(),[F]=L.splice(M,1),B=A>M&&I==="before"?-1:A<M&&I==="after"?1:0;L.splice(A+B,0,F),e(Tn,L),e(Rr,L)},g=()=>{var M;(M=a.value)==null||M.focus()},y=()=>{var M;(M=a.value)==null||M.blur()},{wrapperRef:b,isFocused:_}=wh(a,{beforeFocus(){return r.value},afterBlur(){var M;h(),n.validateEvent&&((M=t==null?void 0:t.validate)==null||M.call(t,"blur").catch(A=>void 0))}}),{isComposing:x,handleCompositionStart:S,handleCompositionUpdate:T,handleCompositionEnd:C}=ew({afterComposition:d});return dt(()=>n.modelValue,()=>{var M;n.validateEvent&&((M=t==null?void 0:t.validate)==null||M.call(t,Rr).catch(A=>void 0))}),{inputRef:a,wrapperRef:b,isFocused:_,isComposing:x,inputValue:s,size:i,tagSize:o,placeholder:l,closable:c,disabled:r,inputLimit:u,handleDragged:v,handleInput:d,handleKeydown:f,handleAddTag:h,handleRemoveTag:p,handleClear:m,handleCompositionStart:S,handleCompositionUpdate:T,handleCompositionEnd:C,focus:g,blur:y}}function tTe(){const n=ne(!1);return{hovering:n,handleMouseEnter:()=>{n.value=!0},handleMouseLeave:()=>{n.value=!1}}}function nTe(){const n=Ir(),e=ne(0),t=11,r=U(()=>({minWidth:`${Math.max(e.value,t)}px`}));return ui(n,()=>{var a,s;e.value=(s=(a=n.value)==null?void 0:a.getBoundingClientRect().width)!=null?s:0}),{calculatorRef:n,calculatorWidth:e,inputStyle:r}}function rTe({wrapperRef:n,handleDragged:e,afterDragged:t}){const r=bt("input-tag"),i=Ir(),a=ne(!1);let s,o,l,c;function u(p){return`.${r.e("inner")} .${r.namespace.value}-tag:nth-child(${p+1})`}function d(p,m){s=m,o=n.value.querySelector(u(m)),o&&(o.style.opacity="0.5"),p.dataTransfer.effectAllowed="move"}function f(p,m){if(l=m,p.preventDefault(),p.dataTransfer.dropEffect="move",Tr(s)||s===m){a.value=!1;return}const v=n.value.querySelector(u(m)).getBoundingClientRect(),g=s+1!==m,y=s-1!==m,b=p.clientX-v.left,_=g?y?.5:1:-1,x=y?g?.5:0:1;b<=v.width*_?c="before":b>v.width*x?c="after":c=void 0;const S=n.value.querySelector(`.${r.e("inner")}`),T=S.getBoundingClientRect(),C=Number.parseFloat(td(S,"gap"))/2,M=v.top-T.top;let A=-9999;if(c==="before")A=Math.max(v.left-T.left-C,Math.floor(-C/2));else if(c==="after"){const I=v.right-T.left;A=I+(T.width===I?Math.floor(C/2):C)}EY(i.value,{top:`${M}px`,left:`${A}px`}),a.value=!!c}function h(p){p.preventDefault(),o&&(o.style.opacity=""),c&&!Tr(s)&&!Tr(l)&&s!==l&&e(s,l,c),a.value=!1,s=void 0,o=null,l=void 0,c=void 0,t==null||t()}return{dropIndicatorRef:i,showDropIndicator:a,handleDragStart:d,handleDragOver:f,handleDragEnd:h}}function iTe({props:n,isFocused:e,hovering:t,disabled:r,inputValue:i,size:a,validateState:s,validateIcon:o,needStatusIcon:l}){const c=bh(),u=na(),d=bt("input-tag"),f=bt("input"),h=U(()=>[d.b(),d.is("focused",e.value),d.is("hovering",t.value),d.is("disabled",r.value),d.m(a.value),d.e("wrapper"),c.class]),p=U(()=>[c.style]),m=U(()=>{var y,b;return[d.e("inner"),d.is("draggable",n.draggable),d.is("left-space",!((y=n.modelValue)!=null&&y.length)&&!u.prefix),d.is("right-space",!((b=n.modelValue)!=null&&b.length)&&!g.value)]}),v=U(()=>{var y;return n.clearable&&!r.value&&!n.readonly&&(((y=n.modelValue)==null?void 0:y.length)||i.value)&&(e.value||t.value)}),g=U(()=>u.suffix||v.value||s.value&&o.value&&l.value);return{ns:d,nsInput:f,containerKls:h,containerStyle:p,innerKls:m,showClear:v,showSuffix:g}}const aTe=Re({name:"ElInputTag",inheritAttrs:!1}),sTe=Re({...aTe,props:QMe,emits:JMe,setup(n,{expose:e,emit:t}){const r=n,i=J_(),a=na(),{form:s,formItem:o}=ss(),{inputId:l}=Fl(r,{formItemContext:o}),c=U(()=>{var q;return(q=s==null?void 0:s.statusIcon)!=null?q:!1}),u=U(()=>(o==null?void 0:o.validateState)||""),d=U(()=>u.value&&PT[u.value]),{inputRef:f,wrapperRef:h,isFocused:p,inputValue:m,size:v,tagSize:g,placeholder:y,closable:b,disabled:_,handleDragged:x,handleInput:S,handleKeydown:T,handleRemoveTag:C,handleClear:M,handleCompositionStart:A,handleCompositionUpdate:I,handleCompositionEnd:D,focus:L,blur:F}=eTe({props:r,emit:t,formItem:o}),{hovering:B,handleMouseEnter:k,handleMouseLeave:H}=tTe(),{calculatorRef:z,inputStyle:O}=nTe(),{dropIndicatorRef:W,showDropIndicator:j,handleDragStart:ee,handleDragOver:te,handleDragEnd:J}=rTe({wrapperRef:h,handleDragged:x,afterDragged:L}),{ns:Q,nsInput:ie,containerKls:le,containerStyle:we,innerKls:Ae,showClear:ke,showSuffix:Fe}=iTe({props:r,hovering:B,isFocused:p,inputValue:m,disabled:_,size:v,validateState:u,validateIcon:d,needStatusIcon:c});return e({focus:L,blur:F}),(q,ce)=>(V(),he("div",{ref_key:"wrapperRef",ref:h,class:Z(w(le)),style:Bt(w(we)),onMouseenter:w(k),onMouseleave:w(H)},[w(a).prefix?(V(),he("div",{key:0,class:Z(w(Q).e("prefix"))},[Qe(q.$slots,"prefix")],2)):Je("v-if",!0),ve("div",{class:Z(w(Ae))},[(V(!0),he(zt,null,In(q.modelValue,(re,Ne)=>(V(),rt(w(fg),{key:Ne,size:w(g),closable:w(b),type:q.tagType,effect:q.tagEffect,draggable:w(b)&&q.draggable,"disable-transitions":"",onClose:Pe=>w(C)(Ne),onDragstart:Pe=>w(ee)(Pe,Ne),onDragover:Pe=>w(te)(Pe,Ne),onDragend:w(J),onDrop:sn(()=>{},["stop"])},{default:be(()=>[Qe(q.$slots,"tag",{value:re,index:Ne},()=>[dn(Ct(re),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),ve("div",{class:Z(w(Q).e("input-wrapper"))},[Cn(ve("input",Hn({id:w(l),ref_key:"inputRef",ref:f,"onUpdate:modelValue":re=>Yr(m)?m.value=re:null},w(i),{type:"text",minlength:q.minlength,maxlength:q.maxlength,disabled:w(_),readonly:q.readonly,autocomplete:q.autocomplete,tabindex:q.tabindex,placeholder:w(y),autofocus:q.autofocus,ariaLabel:q.ariaLabel,class:w(Q).e("input"),style:w(O),onCompositionstart:w(A),onCompositionupdate:w(I),onCompositionend:w(D),onInput:w(S),onKeydown:w(T)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[yT,w(m)]]),ve("span",{ref_key:"calculatorRef",ref:z,"aria-hidden":"true",class:Z(w(Q).e("input-calculator")),textContent:Ct(w(m))},null,10,["textContent"])],2),Cn(ve("div",{ref_key:"dropIndicatorRef",ref:W,class:Z(w(Q).e("drop-indicator"))},null,2),[[fr,w(j)]])],2),w(Fe)?(V(),he("div",{key:1,class:Z(w(Q).e("suffix"))},[Qe(q.$slots,"suffix"),w(ke)?(V(),rt(w(Vt),{key:0,class:Z([w(Q).e("icon"),w(Q).e("clear")]),onMousedown:sn(w(Cr),["prevent"]),onClick:w(M)},{default:be(()=>[ue(w(Pd))]),_:1},8,["class","onMousedown","onClick"])):Je("v-if",!0),w(u)&&w(d)&&w(c)?(V(),rt(w(Vt),{key:1,class:Z([w(ie).e("icon"),w(ie).e("validateIcon"),w(ie).is("loading",w(u)==="validating")])},{default:be(()=>[(V(),rt(Nn(w(d))))]),_:1},8,["class"])):Je("v-if",!0)],2)):Je("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var oTe=Pt(sTe,[["__file","input-tag.vue"]]);const lTe=gn(oTe),cTe=Rt({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:kr}}),uTe={click:n=>n instanceof MouseEvent},dTe=Re({name:"ElLink"}),fTe=Re({...dTe,props:cTe,emits:uTe,setup(n,{emit:e}){const t=n,r=bt("link"),i=U(()=>[r.b(),r.m(t.type),r.is("disabled",t.disabled),r.is("underline",t.underline&&!t.disabled)]);function a(s){t.disabled||e("click",s)}return(s,o)=>(V(),he("a",{class:Z(w(i)),href:s.disabled||!s.href?void 0:s.href,target:s.disabled||!s.href?void 0:s.target,onClick:a},[s.icon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(s.icon)))]),_:1})):Je("v-if",!0),s.$slots.default?(V(),he("span",{key:1,class:Z(w(r).e("inner"))},[Qe(s.$slots,"default")],2)):Je("v-if",!0),s.$slots.icon?Qe(s.$slots,"icon",{key:2}):Je("v-if",!0)],10,["href","target"]))}});var hTe=Pt(fTe,[["__file","link.vue"]]);const pTe=gn(hTe);let mTe=class{constructor(e,t){this.parent=e,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",r=>{let i=!1;switch(r.code){case Nt.down:{this.gotoSubIndex(this.subIndex+1),i=!0;break}case Nt.up:{this.gotoSubIndex(this.subIndex-1),i=!0;break}case Nt.tab:{w2(e,"mouseleave");break}case Nt.enter:case Nt.numpadEnter:case Nt.space:{i=!0,r.currentTarget.click();break}}return i&&(r.preventDefault(),r.stopPropagation()),!1})})}},vTe=class{constructor(e,t){this.domNode=e,this.submenu=null,this.submenu=null,this.init(t)}init(e){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${e}-menu`);t&&(this.submenu=new mTe(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let t=!1;switch(e.code){case Nt.down:{w2(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case Nt.up:{w2(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case Nt.tab:{w2(e.currentTarget,"mouseleave");break}case Nt.enter:case Nt.numpadEnter:case Nt.space:{t=!0,e.currentTarget.click();break}}t&&e.preventDefault()})}},gTe=class{constructor(e,t){this.domNode=e,this.init(t)}init(e){const t=this.domNode.childNodes;Array.from(t).forEach(r=>{r.nodeType===1&&new vTe(r,e)})}};const yTe=Re({name:"ElMenuCollapseTransition",setup(){const n=bt("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,r){yl(t,`${n.namespace.value}-opacity-transition`),t.style.opacity="1",r()},onAfterEnter(t){Ts(t,`${n.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),co(t,n.m("collapse"))?(Ts(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),yl(t,n.m("collapse"))):(yl(t,n.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Ts(t,n.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){yl(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function bTe(n,e,t,r,i,a){return V(),rt(da,Hn({mode:"out-in"},n.listeners),{default:be(()=>[Qe(n.$slots,"default")]),_:3},16)}var _Te=Pt(yTe,[["render",bTe],["__file","menu-collapse-transition.vue"]]);function Lj(n,e){const t=U(()=>{let i=n.parent;const a=[e.value];for(;i.type.name!=="ElMenu";)i.props.index&&a.unshift(i.props.index),i=i.parent;return a});return{parentMenu:U(()=>{let i=n.parent;for(;i&&!["ElMenu","ElSubMenu"].includes(i.type.name);)i=i.parent;return i}),indexPath:t}}function wTe(n){return U(()=>{const t=n.backgroundColor;return t?new gX(t).shade(20).toString():""})}const Nj=(n,e)=>{const t=bt("menu");return U(()=>t.cssVarBlock({"text-color":n.textColor||"","hover-text-color":n.textColor||"","bg-color":n.backgroundColor||"","hover-bg-color":wTe(n).value||"","active-color":n.activeTextColor||"",level:`${e}`}))},xTe=Rt({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:kr},expandOpenIcon:{type:kr},collapseCloseIcon:{type:kr},collapseOpenIcon:{type:kr}}),G3="ElSubMenu";var $L=Re({name:G3,props:xTe,setup(n,{slots:e,expose:t}){const r=kn(),{indexPath:i,parentMenu:a}=Lj(r,U(()=>n.index)),s=bt("menu"),o=bt("sub-menu"),l=Ot("rootMenu");l||fa(G3,"can not inject root menu");const c=Ot(`subMenu:${a.value.uid}`);c||fa(G3,"can not inject sub menu");const u=ne({}),d=ne({});let f;const h=ne(!1),p=ne(),m=ne(null),v=U(()=>C.value==="horizontal"&&y.value?"bottom-start":"right-start"),g=U(()=>C.value==="horizontal"&&y.value||C.value==="vertical"&&!l.props.collapse?n.expandCloseIcon&&n.expandOpenIcon?S.value?n.expandOpenIcon:n.expandCloseIcon:Rd:n.collapseCloseIcon&&n.collapseOpenIcon?S.value?n.collapseOpenIcon:n.collapseCloseIcon:Gs),y=U(()=>c.level===0),b=U(()=>{const W=n.teleported;return W===void 0?y.value:W}),_=U(()=>l.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),x=U(()=>C.value==="horizontal"&&y.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),S=U(()=>l.openedMenus.includes(n.index)),T=U(()=>{let W=!1;return Object.values(u.value).forEach(j=>{j.active&&(W=!0)}),Object.values(d.value).forEach(j=>{j.active&&(W=!0)}),W}),C=U(()=>l.props.mode),M=mr({index:n.index,indexPath:i,active:T}),A=Nj(l.props,c.level+1),I=U(()=>{var W;return(W=n.popperOffset)!=null?W:l.props.popperOffset}),D=U(()=>{var W;return(W=n.popperClass)!=null?W:l.props.popperClass}),L=U(()=>{var W;return(W=n.showTimeout)!=null?W:l.props.showTimeout}),F=U(()=>{var W;return(W=n.hideTimeout)!=null?W:l.props.hideTimeout}),B=()=>{var W,j,ee;return(ee=(j=(W=m.value)==null?void 0:W.popperRef)==null?void 0:j.popperInstanceRef)==null?void 0:ee.destroy()},k=W=>{W||B()},H=()=>{l.props.menuTrigger==="hover"&&l.props.mode==="horizontal"||l.props.collapse&&l.props.mode==="vertical"||n.disabled||l.handleSubMenuClick({index:n.index,indexPath:i.value,active:T.value})},z=(W,j=L.value)=>{var ee;if(W.type!=="focus"){if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"||n.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,f==null||f(),{stop:f}=om(()=>{l.openMenu(n.index,i.value)},j),b.value&&((ee=a.value.vnode.el)==null||ee.dispatchEvent(new MouseEvent("mouseenter")))}},O=(W=!1)=>{var j;if(l.props.menuTrigger==="click"&&l.props.mode==="horizontal"||!l.props.collapse&&l.props.mode==="vertical"){c.mouseInChild.value=!1;return}f==null||f(),c.mouseInChild.value=!1,{stop:f}=om(()=>!h.value&&l.closeMenu(n.index,i.value),F.value),b.value&&W&&((j=c.handleMouseleave)==null||j.call(c,!0))};dt(()=>l.props.collapse,W=>k(!!W));{const W=ee=>{d.value[ee.index]=ee},j=ee=>{delete d.value[ee.index]};$n(`subMenu:${r.uid}`,{addSubMenu:W,removeSubMenu:j,handleMouseleave:O,mouseInChild:h,level:c.level+1})}return t({opened:S}),pn(()=>{l.addSubMenu(M),c.addSubMenu(M)}),yr(()=>{c.removeSubMenu(M),l.removeSubMenu(M)}),()=>{var W;const j=[(W=e.title)==null?void 0:W.call(e),Gt(Vt,{class:o.e("icon-arrow"),style:{transform:S.value?n.expandCloseIcon&&n.expandOpenIcon||n.collapseCloseIcon&&n.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>qt(g.value)?Gt(r.appContext.components[g.value]):Gt(g.value)})],ee=l.isMenuPopup?Gt(is,{ref:m,visible:S.value,effect:"light",pure:!0,offset:I.value,showArrow:!1,persistent:!0,popperClass:D.value,placement:v.value,teleported:b.value,fallbackPlacements:x.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var te;return Gt("div",{class:[s.m(C.value),s.m("popup-container"),D.value],onMouseenter:J=>z(J,100),onMouseleave:()=>O(!0),onFocus:J=>z(J,100)},[Gt("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${v.value}`)],style:A.value},[(te=e.default)==null?void 0:te.call(e)])])},default:()=>Gt("div",{class:o.e("title"),onClick:H},j)}):Gt(zt,{},[Gt("div",{class:o.e("title"),ref:p,onClick:H},j),Gt(OT,{},{default:()=>{var te;return Cn(Gt("ul",{role:"menu",class:[s.b(),s.m("inline")],style:A.value},[(te=e.default)==null?void 0:te.call(e)]),[[fr,S.value]])}})]);return Gt("li",{class:[o.b(),o.is("active",T.value),o.is("opened",S.value),o.is("disabled",n.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:z,onMouseleave:()=>O(),onFocus:z},[ee])}}});const STe=Rt({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Ke(Array),default:()=>Mi([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:kr,default:()=>Sve},popperEffect:{type:Ke(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),W3=n=>Tt(n)&&n.every(e=>qt(e)),CTe={close:(n,e)=>qt(n)&&W3(e),open:(n,e)=>qt(n)&&W3(e),select:(n,e,t,r)=>qt(n)&&W3(e)&&Pn(t)&&(r===void 0||r instanceof Promise)};var MTe=Re({name:"ElMenu",props:STe,emits:CTe,setup(n,{emit:e,slots:t,expose:r}){const i=kn(),a=i.appContext.config.globalProperties.$router,s=ne(),o=bt("menu"),l=bt("sub-menu"),c=ne(-1),u=ne(n.defaultOpeneds&&!n.collapse?n.defaultOpeneds.slice(0):[]),d=ne(n.defaultActive),f=ne({}),h=ne({}),p=U(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse),m=()=>{const B=d.value&&f.value[d.value];if(!B||n.mode==="horizontal"||n.collapse)return;B.indexPath.forEach(H=>{const z=h.value[H];z&&v(H,z.indexPath)})},v=(B,k)=>{u.value.includes(B)||(n.uniqueOpened&&(u.value=u.value.filter(H=>k.includes(H))),u.value.push(B),e("open",B,k))},g=B=>{const k=u.value.indexOf(B);k!==-1&&u.value.splice(k,1)},y=(B,k)=>{g(B),e("close",B,k)},b=({index:B,indexPath:k})=>{u.value.includes(B)?y(B,k):v(B,k)},_=B=>{(n.mode==="horizontal"||n.collapse)&&(u.value=[]);const{index:k,indexPath:H}=B;if(!(ga(k)||ga(H)))if(n.router&&a){const z=B.route||k,O=a.push(z).then(W=>(W||(d.value=k),W));e("select",k,H,{index:k,indexPath:H,route:z},O)}else d.value=k,e("select",k,H,{index:k,indexPath:H})},x=B=>{const k=f.value,H=k[B]||d.value&&k[d.value]||k[n.defaultActive];H?d.value=H.index:d.value=B},S=B=>{const k=getComputedStyle(B),H=Number.parseInt(k.marginLeft,10),z=Number.parseInt(k.marginRight,10);return B.offsetWidth+H+z||0},T=()=>{var B,k;if(!s.value)return-1;const H=Array.from((k=(B=s.value)==null?void 0:B.childNodes)!=null?k:[]).filter(Q=>Q.nodeName!=="#comment"&&(Q.nodeName!=="#text"||Q.nodeValue)),z=64,O=getComputedStyle(s.value),W=Number.parseInt(O.paddingLeft,10),j=Number.parseInt(O.paddingRight,10),ee=s.value.clientWidth-W-j;let te=0,J=0;return H.forEach((Q,ie)=>{te+=S(Q),te<=ee-z&&(J=ie+1)}),J===H.length?-1:J},C=B=>h.value[B].indexPath,M=(B,k=33.34)=>{let H;return()=>{H&&clearTimeout(H),H=setTimeout(()=>{B()},k)}};let A=!0;const I=()=>{if(c.value===T())return;const B=()=>{c.value=-1,Yt(()=>{c.value=T()})};A?B():M(B)(),A=!1};dt(()=>n.defaultActive,B=>{f.value[B]||(d.value=""),x(B)}),dt(()=>n.collapse,B=>{B&&(u.value=[])}),dt(f.value,m);let D;Ea(()=>{n.mode==="horizontal"&&n.ellipsis?D=ui(s,I).stop:D==null||D()});const L=ne(!1);{const B=O=>{h.value[O.index]=O},k=O=>{delete h.value[O.index]};$n("rootMenu",mr({props:n,openedMenus:u,items:f,subMenus:h,activeIndex:d,isMenuPopup:p,addMenuItem:O=>{f.value[O.index]=O},removeMenuItem:O=>{delete f.value[O.index]},addSubMenu:B,removeSubMenu:k,openMenu:v,closeMenu:y,handleMenuItemClick:_,handleSubMenuClick:b})),$n(`subMenu:${i.uid}`,{addSubMenu:B,removeSubMenu:k,mouseInChild:L,level:0})}pn(()=>{n.mode==="horizontal"&&new gTe(i.vnode.el,o.namespace.value)}),r({open:k=>{const{indexPath:H}=h.value[k];H.forEach(z=>v(z,H))},close:g,handleResize:I});const F=Nj(n,0);return()=>{var B,k;let H=(k=(B=t.default)==null?void 0:B.call(t))!=null?k:[];const z=[];if(n.mode==="horizontal"&&s.value){const j=Ff(H),ee=c.value===-1?j:j.slice(0,c.value),te=c.value===-1?[]:j.slice(c.value);te!=null&&te.length&&n.ellipsis&&(H=ee,z.push(Gt($L,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:n.popperOffset},{title:()=>Gt(Vt,{class:l.e("icon-more")},{default:()=>Gt(n.ellipsisIcon)}),default:()=>te})))}const O=n.closeOnClickOutside?[[yd,()=>{u.value.length&&(L.value||(u.value.forEach(j=>e("close",j,C(j))),u.value=[]))}]]:[],W=Cn(Gt("ul",{key:String(n.collapse),role:"menubar",ref:s,style:F.value,class:{[o.b()]:!0,[o.m(n.mode)]:!0,[o.m("collapse")]:n.collapse}},[...H,...z]),O);return n.collapseTransition&&n.mode==="vertical"?Gt(_Te,()=>W):W}}});const TTe=Rt({index:{type:Ke([String,null]),default:null},route:{type:Ke([String,Object])},disabled:Boolean}),ATe={click:n=>qt(n.index)&&Tt(n.indexPath)},q3="ElMenuItem",ETe=Re({name:q3,components:{ElTooltip:is},props:TTe,emits:ATe,setup(n,{emit:e}){const t=kn(),r=Ot("rootMenu"),i=bt("menu"),a=bt("menu-item");r||fa(q3,"can not inject root menu");const{parentMenu:s,indexPath:o}=Lj(t,_r(n,"index")),l=Ot(`subMenu:${s.value.uid}`);l||fa(q3,"can not inject sub menu");const c=U(()=>n.index===r.activeIndex),u=mr({index:n.index,indexPath:o,active:c}),d=()=>{n.disabled||(r.handleMenuItemClick({index:n.index,indexPath:o.value,route:n.route}),e("click",u))};return pn(()=>{l.addSubMenu(u),r.addMenuItem(u)}),yr(()=>{l.removeSubMenu(u),r.removeMenuItem(u)}),{parentMenu:s,rootMenu:r,active:c,nsMenu:i,nsMenuItem:a,handleClick:d}}});function ITe(n,e,t,r,i,a){const s=Et("el-tooltip");return V(),he("li",{class:Z([n.nsMenuItem.b(),n.nsMenuItem.is("active",n.active),n.nsMenuItem.is("disabled",n.disabled)]),role:"menuitem",tabindex:"-1",onClick:n.handleClick},[n.parentMenu.type.name==="ElMenu"&&n.rootMenu.props.collapse&&n.$slots.title?(V(),rt(s,{key:0,effect:n.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:be(()=>[Qe(n.$slots,"title")]),default:be(()=>[ve("div",{class:Z(n.nsMenu.be("tooltip","trigger"))},[Qe(n.$slots,"default")],2)]),_:3},8,["effect"])):(V(),he(zt,{key:1},[Qe(n.$slots,"default"),Qe(n.$slots,"title")],64))],10,["onClick"])}var Oj=Pt(ETe,[["render",ITe],["__file","menu-item.vue"]]);const RTe={title:String},PTe="ElMenuItemGroup",DTe=Re({name:PTe,props:RTe,setup(){return{ns:bt("menu-item-group")}}});function kTe(n,e,t,r,i,a){return V(),he("li",{class:Z(n.ns.b())},[ve("div",{class:Z(n.ns.e("title"))},[n.$slots.title?Qe(n.$slots,"title",{key:1}):(V(),he(zt,{key:0},[dn(Ct(n.title),1)],64))],2),ve("ul",null,[Qe(n.$slots,"default")])],2)}var Bj=Pt(DTe,[["render",kTe],["__file","menu-item-group.vue"]]);const LTe=gn(MTe,{MenuItem:Oj,MenuItemGroup:Bj,SubMenu:$L}),NTe=Ti(Oj),OTe=Ti(Bj),BTe=Ti($L),FTe=Rt({icon:{type:kr,default:()=>G0e},title:String,content:{type:String,default:""}}),zTe={back:()=>!0},UTe=Re({name:"ElPageHeader"}),HTe=Re({...UTe,props:FTe,emits:zTe,setup(n,{emit:e}){const t=na(),{t:r}=rr(),i=bt("page-header"),a=U(()=>[i.b(),{[i.m("has-breadcrumb")]:!!t.breadcrumb,[i.m("has-extra")]:!!t.extra,[i.is("contentful")]:!!t.default}]);function s(){e("back")}return(o,l)=>(V(),he("div",{class:Z(w(a))},[o.$slots.breadcrumb?(V(),he("div",{key:0,class:Z(w(i).e("breadcrumb"))},[Qe(o.$slots,"breadcrumb")],2)):Je("v-if",!0),ve("div",{class:Z(w(i).e("header"))},[ve("div",{class:Z(w(i).e("left"))},[ve("div",{class:Z(w(i).e("back")),role:"button",tabindex:"0",onClick:s},[o.icon||o.$slots.icon?(V(),he("div",{key:0,"aria-label":o.title||w(r)("el.pageHeader.title"),class:Z(w(i).e("icon"))},[Qe(o.$slots,"icon",{},()=>[o.icon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(o.icon)))]),_:1})):Je("v-if",!0)])],10,["aria-label"])):Je("v-if",!0),ve("div",{class:Z(w(i).e("title"))},[Qe(o.$slots,"title",{},()=>[dn(Ct(o.title||w(r)("el.pageHeader.title")),1)])],2)],2),ue(w(_j),{direction:"vertical"}),ve("div",{class:Z(w(i).e("content"))},[Qe(o.$slots,"content",{},()=>[dn(Ct(o.content),1)])],2)],2),o.$slots.extra?(V(),he("div",{key:0,class:Z(w(i).e("extra"))},[Qe(o.$slots,"extra")],2)):Je("v-if",!0)],2),o.$slots.default?(V(),he("div",{key:1,class:Z(w(i).e("main"))},[Qe(o.$slots,"default")],2)):Je("v-if",!0)],2))}});var VTe=Pt(HTe,[["__file","page-header.vue"]]);const $Te=gn(VTe),Fj=Symbol("elPaginationKey"),GTe=Rt({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:kr}}),WTe={click:n=>n instanceof MouseEvent},qTe=Re({name:"ElPaginationPrev"}),KTe=Re({...qTe,props:GTe,emits:WTe,setup(n){const e=n,{t}=rr(),r=U(()=>e.disabled||e.currentPage<=1);return(i,a)=>(V(),he("button",{type:"button",class:"btn-prev",disabled:w(r),"aria-label":i.prevText||w(t)("el.pagination.prev"),"aria-disabled":w(r),onClick:s=>i.$emit("click",s)},[i.prevText?(V(),he("span",{key:0},Ct(i.prevText),1)):(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(i.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var YTe=Pt(KTe,[["__file","prev.vue"]]);const XTe=Rt({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:kr}}),jTe=Re({name:"ElPaginationNext"}),ZTe=Re({...jTe,props:XTe,emits:["click"],setup(n){const e=n,{t}=rr(),r=U(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(i,a)=>(V(),he("button",{type:"button",class:"btn-next",disabled:w(r),"aria-label":i.nextText||w(t)("el.pagination.next"),"aria-disabled":w(r),onClick:s=>i.$emit("click",s)},[i.nextText?(V(),he("span",{key:0},Ct(i.nextText),1)):(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(i.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var QTe=Pt(ZTe,[["__file","next.vue"]]);const zj=Symbol("ElSelectGroup"),ny=Symbol("ElSelect");function JTe(n,e){const t=Ot(ny),r=Ot(zj,{disabled:!1}),i=U(()=>u(ws(t.props.modelValue),n.value)),a=U(()=>{var h;if(t.props.multiple){const p=ws((h=t.props.modelValue)!=null?h:[]);return!i.value&&p.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),s=U(()=>n.label||(Pn(n.value)?"":n.value)),o=U(()=>n.value||n.label||""),l=U(()=>n.disabled||e.groupDisabled||a.value),c=kn(),u=(h=[],p)=>{if(Pn(n.value)){const m=t.props.valueKey;return h&&h.some(v=>Lr(Gi(v,m))===Gi(p,m))}else return h&&h.includes(p)},d=()=>{!n.disabled&&!r.disabled&&(t.states.hoveringIndex=t.optionsArray.indexOf(c.proxy))},f=h=>{const p=new RegExp(AL(h),"i");e.visible=p.test(s.value)||n.created};return dt(()=>s.value,()=>{!n.created&&!t.props.remote&&t.setSelected()}),dt(()=>n.value,(h,p)=>{const{remote:m,valueKey:v}=t.props;if(h!==p&&(t.onOptionDestroy(p,c.proxy),t.onOptionCreate(c.proxy)),!n.created&&!m){if(v&&Pn(h)&&Pn(p)&&h[v]===p[v])return;t.setSelected()}}),dt(()=>r.disabled,()=>{e.groupDisabled=r.disabled},{immediate:!0}),{select:t,currentLabel:s,currentValue:o,itemSelected:i,isDisabled:l,hoverItem:d,updateOption:f}}const eAe=Re({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(n){const e=bt("select"),t=Ha(),r=U(()=>[e.be("dropdown","item"),e.is("disabled",w(o)),e.is("selected",w(s)),e.is("hovering",w(f))]),i=mr({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:s,isDisabled:o,select:l,hoverItem:c,updateOption:u}=JTe(n,i),{visible:d,hover:f}=ua(i),h=kn().proxy;l.onOptionCreate(h),yr(()=>{const m=h.value,{selected:v}=l.states,g=v.some(y=>y.value===h.value);Yt(()=>{l.states.cachedOptions.get(m)===h&&!g&&l.states.cachedOptions.delete(m)}),l.onOptionDestroy(m,h)});function p(){o.value||l.handleOptionSelect(h)}return{ns:e,id:t,containerKls:r,currentLabel:a,itemSelected:s,isDisabled:o,select:l,hoverItem:c,updateOption:u,visible:d,hover:f,selectOptionClick:p,states:i}}});function tAe(n,e,t,r,i,a){return Cn((V(),he("li",{id:n.id,class:Z(n.containerKls),role:"option","aria-disabled":n.isDisabled||void 0,"aria-selected":n.itemSelected,onMousemove:n.hoverItem,onClick:sn(n.selectOptionClick,["stop"])},[Qe(n.$slots,"default",{},()=>[ve("span",null,Ct(n.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[fr,n.visible]])}var GL=Pt(eAe,[["render",tAe],["__file","option.vue"]]);const nAe=Re({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const n=Ot(ny),e=bt("select"),t=U(()=>n.props.popperClass),r=U(()=>n.props.multiple),i=U(()=>n.props.fitInputWidth),a=ne("");function s(){var o;a.value=`${(o=n.selectRef)==null?void 0:o.offsetWidth}px`}return pn(()=>{s(),ui(n.selectRef,s)}),{ns:e,minWidth:a,popperClass:t,isMultiple:r,isFitInputWidth:i}}});function rAe(n,e,t,r,i,a){return V(),he("div",{class:Z([n.ns.b("dropdown"),n.ns.is("multiple",n.isMultiple),n.popperClass]),style:Bt({[n.isFitInputWidth?"width":"minWidth"]:n.minWidth})},[n.$slots.header?(V(),he("div",{key:0,class:Z(n.ns.be("dropdown","header"))},[Qe(n.$slots,"header")],2)):Je("v-if",!0),Qe(n.$slots,"default"),n.$slots.footer?(V(),he("div",{key:1,class:Z(n.ns.be("dropdown","footer"))},[Qe(n.$slots,"footer")],2)):Je("v-if",!0)],6)}var iAe=Pt(nAe,[["render",rAe],["__file","select-dropdown.vue"]]);const aAe=11,sAe=(n,e)=>{const{t}=rr(),r=Ha(),i=bt("select"),a=bt("input"),s=mr({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),o=ne(null),l=ne(null),c=ne(null),u=ne(null),d=ne(null),f=ne(null),h=ne(null),p=ne(null),m=ne(null),v=ne(null),g=ne(null),y=ne(null),{isComposing:b,handleCompositionStart:_,handleCompositionUpdate:x,handleCompositionEnd:S}=ew({afterComposition:et=>Ce(et)}),{wrapperRef:T,isFocused:C,handleBlur:M}=wh(d,{beforeFocus(){return H.value},afterFocus(){n.automaticDropdown&&!A.value&&(A.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(et){var xt,Kt;return((xt=c.value)==null?void 0:xt.isFocusInsideContent(et))||((Kt=u.value)==null?void 0:Kt.isFocusInsideContent(et))},afterBlur(){A.value=!1,s.menuVisibleOnFocus=!1}}),A=ne(!1),I=ne(),{form:D,formItem:L}=ss(),{inputId:F}=Fl(n,{formItemContext:L}),{valueOnClear:B,isEmptyValue:k}=AT(n),H=U(()=>n.disabled||(D==null?void 0:D.disabled)),z=U(()=>Tt(n.modelValue)?n.modelValue.length>0:!k(n.modelValue)),O=U(()=>{var et;return(et=D==null?void 0:D.statusIcon)!=null?et:!1}),W=U(()=>n.clearable&&!H.value&&s.inputHovering&&z.value),j=U(()=>n.remote&&n.filterable&&!n.remoteShowSuffix?"":n.suffixIcon),ee=U(()=>i.is("reverse",j.value&&A.value)),te=U(()=>(L==null?void 0:L.validateState)||""),J=U(()=>PT[te.value]),Q=U(()=>n.remote?300:0),ie=U(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!s.inputValue&&s.options.size===0?!1:n.filterable&&s.inputValue&&s.options.size>0&&le.value===0?n.noMatchText||t("el.select.noMatch"):s.options.size===0?n.noDataText||t("el.select.noData"):null),le=U(()=>we.value.filter(et=>et.visible).length),we=U(()=>{const et=Array.from(s.options.values()),xt=[];return s.optionValues.forEach(Kt=>{const yn=et.findIndex(On=>On.value===Kt);yn>-1&&xt.push(et[yn])}),xt.length>=et.length?xt:et}),Ae=U(()=>Array.from(s.cachedOptions.values())),ke=U(()=>{const et=we.value.filter(xt=>!xt.created).some(xt=>xt.currentLabel===s.inputValue);return n.filterable&&n.allowCreate&&s.inputValue!==""&&!et}),Fe=()=>{n.filterable&&Zt(n.filterMethod)||n.filterable&&n.remote&&Zt(n.remoteMethod)||we.value.forEach(et=>{var xt;(xt=et.updateOption)==null||xt.call(et,s.inputValue)})},q=Zi(),ce=U(()=>["small"].includes(q.value)?"small":"default"),re=U({get(){return A.value&&ie.value!==!1},set(et){A.value=et}}),Ne=U(()=>{if(n.multiple&&!Tr(n.modelValue))return ws(n.modelValue).length===0&&!s.inputValue;const et=Tt(n.modelValue)?n.modelValue[0]:n.modelValue;return n.filterable||Tr(et)?!s.inputValue:!0}),Pe=U(()=>{var et;const xt=(et=n.placeholder)!=null?et:t("el.select.placeholder");return n.multiple||!z.value?xt:s.selectedLabel}),$e=U(()=>D5?null:"mouseenter");dt(()=>n.modelValue,(et,xt)=>{n.multiple&&n.filterable&&!n.reserveKeyword&&(s.inputValue="",Ue("")),je(),!Ua(et,xt)&&n.validateEvent&&(L==null||L.validate("change").catch(Kt=>void 0))},{flush:"post",deep:!0}),dt(()=>A.value,et=>{et?Ue(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),e("visible-change",et)}),dt(()=>s.options.entries(),()=>{nr&&(je(),n.defaultFirstOption&&(n.filterable||n.remote)&&le.value&&Ve())},{flush:"post"}),dt(()=>s.hoveringIndex,et=>{en(et)&&et>-1?I.value=we.value[et]||{}:I.value={},we.value.forEach(xt=>{xt.hover=I.value===xt})}),Ea(()=>{s.isBeforeHide||Fe()});const Ue=et=>{s.previousQuery===et||b.value||(s.previousQuery=et,n.filterable&&Zt(n.filterMethod)?n.filterMethod(et):n.filterable&&n.remote&&Zt(n.remoteMethod)&&n.remoteMethod(et),n.defaultFirstOption&&(n.filterable||n.remote)&&le.value?Yt(Ve):Yt($))},Ve=()=>{const et=we.value.filter(On=>On.visible&&!On.disabled&&!On.states.groupDisabled),xt=et.find(On=>On.created),Kt=et[0],yn=we.value.map(On=>On.value);s.hoveringIndex=Me(yn,xt||Kt)},je=()=>{if(n.multiple)s.selectedLabel="";else{const xt=Tt(n.modelValue)?n.modelValue[0]:n.modelValue,Kt=fe(xt);s.selectedLabel=Kt.currentLabel,s.selected=[Kt];return}const et=[];Tr(n.modelValue)||ws(n.modelValue).forEach(xt=>{et.push(fe(xt))}),s.selected=et},fe=et=>{let xt;const Kt=Pb(et);for(let Ze=s.cachedOptions.size-1;Ze>=0;Ze--){const Xn=Ae.value[Ze];if(Kt?Gi(Xn.value,n.valueKey)===Gi(et,n.valueKey):Xn.value===et){xt={value:et,currentLabel:Xn.currentLabel,get isDisabled(){return Xn.isDisabled}};break}}if(xt)return xt;const yn=Kt?et.label:et??"";return{value:et,currentLabel:yn}},$=()=>{s.hoveringIndex=we.value.findIndex(et=>s.selected.some(xt=>Zn(xt)===Zn(et)))},X=()=>{s.selectionWidth=l.value.getBoundingClientRect().width},me=()=>{s.calculatorWidth=f.value.getBoundingClientRect().width},Oe=()=>{s.collapseItemWidth=g.value.getBoundingClientRect().width},qe=()=>{var et,xt;(xt=(et=c.value)==null?void 0:et.updatePopper)==null||xt.call(et)},mt=()=>{var et,xt;(xt=(et=u.value)==null?void 0:et.updatePopper)==null||xt.call(et)},pt=()=>{s.inputValue.length>0&&!A.value&&(A.value=!0),Ue(s.inputValue)},Ce=et=>{if(s.inputValue=et.target.value,n.remote)ft();else return pt()},ft=bo(()=>{pt()},Q.value),at=et=>{Ua(n.modelValue,et)||e(Rr,et)},G=et=>uY(et,xt=>{const Kt=s.cachedOptions.get(xt);return Kt&&!Kt.disabled&&!Kt.states.groupDisabled}),ge=et=>{if(n.multiple&&et.code!==Nt.delete&&et.target.value.length<=0){const xt=ws(n.modelValue).slice(),Kt=G(xt);if(Kt<0)return;const yn=xt[Kt];xt.splice(Kt,1),e(Tn,xt),at(xt),e("remove-tag",yn)}},pe=(et,xt)=>{const Kt=s.selected.indexOf(xt);if(Kt>-1&&!H.value){const yn=ws(n.modelValue).slice();yn.splice(Kt,1),e(Tn,yn),at(yn),e("remove-tag",xt.value)}et.stopPropagation(),Lt()},Ie=et=>{et.stopPropagation();const xt=n.multiple?[]:B.value;if(n.multiple)for(const Kt of s.selected)Kt.isDisabled&&xt.push(Kt.value);e(Tn,xt),at(xt),s.hoveringIndex=-1,A.value=!1,e("clear"),Lt()},ye=et=>{var xt;if(n.multiple){const Kt=ws((xt=n.modelValue)!=null?xt:[]).slice(),yn=Me(Kt,et);yn>-1?Kt.splice(yn,1):(n.multipleLimit<=0||Kt.length<n.multipleLimit)&&Kt.push(et.value),e(Tn,Kt),at(Kt),et.created&&Ue(""),n.filterable&&!n.reserveKeyword&&(s.inputValue="")}else e(Tn,et.value),at(et.value),A.value=!1;Lt(),!A.value&&Yt(()=>{ht(et)})},Me=(et=[],xt)=>Tr(xt)?-1:Pn(xt.value)?et.findIndex(Kt=>Ua(Gi(Kt,n.valueKey),Zn(xt))):et.indexOf(xt.value),ht=et=>{var xt,Kt,yn,On,Ze;const Xn=Tt(et)?et[0]:et;let st=null;if(Xn!=null&&Xn.value){const De=we.value.filter(yt=>yt.value===Xn.value);De.length>0&&(st=De[0].$el)}if(c.value&&st){const De=(On=(yn=(Kt=(xt=c.value)==null?void 0:xt.popperRef)==null?void 0:Kt.contentRef)==null?void 0:yn.querySelector)==null?void 0:On.call(yn,`.${i.be("dropdown","wrap")}`);De&&nL(De,st)}(Ze=y.value)==null||Ze.handleScroll()},Ee=et=>{s.options.set(et.value,et),s.cachedOptions.set(et.value,et)},_t=(et,xt)=>{s.options.get(et)===xt&&s.options.delete(et)},nt=U(()=>{var et,xt;return(xt=(et=c.value)==null?void 0:et.popperRef)==null?void 0:xt.contentRef}),gt=()=>{s.isBeforeHide=!1,Yt(()=>ht(s.selected))},Lt=()=>{var et;(et=d.value)==null||et.focus()},At=()=>{var et;if(A.value){A.value=!1,Yt(()=>{var xt;return(xt=d.value)==null?void 0:xt.blur()});return}(et=d.value)==null||et.blur()},an=et=>{Ie(et)},_n=et=>{if(A.value=!1,C.value){const xt=new FocusEvent("focus",et);Yt(()=>M(xt))}},lr=()=>{s.inputValue.length>0?s.inputValue="":A.value=!1},Ln=()=>{H.value||(D5&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:A.value=!A.value)},jr=()=>{if(!A.value)Ln();else{const et=we.value[s.hoveringIndex];et&&!et.isDisabled&&ye(et)}},Zn=et=>Pn(et.value)?Gi(et.value,n.valueKey):et.value,Y=U(()=>we.value.filter(et=>et.visible).every(et=>et.isDisabled)),oe=U(()=>n.multiple?n.collapseTags?s.selected.slice(0,n.maxCollapseTags):s.selected:[]),Ut=U(()=>n.multiple?n.collapseTags?s.selected.slice(n.maxCollapseTags):[]:[]),Te=et=>{if(!A.value){A.value=!0;return}if(!(s.options.size===0||le.value===0||b.value)&&!Y.value){et==="next"?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):et==="prev"&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const xt=we.value[s.hoveringIndex];(xt.isDisabled||!xt.visible)&&Te(et),Yt(()=>ht(I.value))}},de=()=>{if(!l.value)return 0;const et=window.getComputedStyle(l.value);return Number.parseFloat(et.gap||"6px")},St=U(()=>{const et=de();return{maxWidth:`${g.value&&n.maxCollapseTags===1?s.selectionWidth-s.collapseItemWidth-et:s.selectionWidth}px`}}),vt=U(()=>({maxWidth:`${s.selectionWidth}px`})),It=U(()=>({width:`${Math.max(s.calculatorWidth,aAe)}px`}));return ui(l,X),ui(f,me),ui(m,qe),ui(T,qe),ui(v,mt),ui(g,Oe),pn(()=>{je()}),{inputId:F,contentId:r,nsSelect:i,nsInput:a,states:s,isFocused:C,expanded:A,optionsArray:we,hoverOption:I,selectSize:q,filteredOptionsCount:le,resetCalculatorWidth:me,updateTooltip:qe,updateTagTooltip:mt,debouncedOnInputChange:ft,onInput:Ce,deletePrevTag:ge,deleteTag:pe,deleteSelected:Ie,handleOptionSelect:ye,scrollToOption:ht,hasModelValue:z,shouldShowPlaceholder:Ne,currentPlaceholder:Pe,mouseEnterEventName:$e,needStatusIcon:O,showClose:W,iconComponent:j,iconReverse:ee,validateState:te,validateIcon:J,showNewOption:ke,updateOptions:Fe,collapseTagSize:ce,setSelected:je,selectDisabled:H,emptyText:ie,handleCompositionStart:_,handleCompositionUpdate:x,handleCompositionEnd:S,onOptionCreate:Ee,onOptionDestroy:_t,handleMenuEnter:gt,focus:Lt,blur:At,handleClearClick:an,handleClickOutside:_n,handleEsc:lr,toggleMenu:Ln,selectOption:jr,getValueKey:Zn,navigateOptions:Te,dropdownMenuVisible:re,showTagList:oe,collapseTagList:Ut,tagStyle:St,collapseTagStyle:vt,inputStyle:It,popperRef:nt,inputRef:d,tooltipRef:c,tagTooltipRef:u,calculatorRef:f,prefixRef:h,suffixRef:p,selectRef:o,wrapperRef:T,selectionRef:l,scrollbarRef:y,menuRef:m,tagMenuRef:v,collapseItemRef:g}};var oAe=Re({name:"ElOptions",setup(n,{slots:e}){const t=Ot(ny);let r=[];return()=>{var i,a;const s=(i=e.default)==null?void 0:i.call(e),o=[];function l(c){Tt(c)&&c.forEach(u=>{var d,f,h,p;const m=(d=(u==null?void 0:u.type)||{})==null?void 0:d.name;m==="ElOptionGroup"?l(!qt(u.children)&&!Tt(u.children)&&Zt((f=u.children)==null?void 0:f.default)?(h=u.children)==null?void 0:h.default():u.children):m==="ElOption"?o.push((p=u.props)==null?void 0:p.value):Tt(u.children)&&l(u.children)})}return s.length&&l((a=s[0])==null?void 0:a.children),Ua(o,r)||(r=o,t&&(t.states.optionValues=o)),s}}});const lAe=Rt({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:ta,effect:{type:Ke(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:wa.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:kr,default:Pd},fitInputWidth:Boolean,suffixIcon:{type:kr,default:Rd},tagType:{...gd.type,default:"info"},tagEffect:{...gd.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:Ke(String),values:Dd,default:"bottom-start"},fallbackPlacements:{type:Ke(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Qg,...$a(["ariaLabel"])}),VF="ElSelect",cAe=Re({name:VF,componentName:VF,components:{ElSelectMenu:iAe,ElOption:GL,ElOptions:oAe,ElTag:fg,ElScrollbar:_u,ElTooltip:is,ElIcon:Vt},directives:{ClickOutside:yd},props:lAe,emits:[Tn,Rr,"remove-tag","clear","visible-change","focus","blur"],setup(n,{emit:e}){const t=U(()=>{const{modelValue:s,multiple:o}=n,l=o?[]:void 0;return Tt(s)?o?s:l:o?l:s}),r=mr({...ua(n),modelValue:t}),i=sAe(r,e);$n(ny,mr({props:r,states:i.states,optionsArray:i.optionsArray,handleOptionSelect:i.handleOptionSelect,onOptionCreate:i.onOptionCreate,onOptionDestroy:i.onOptionDestroy,selectRef:i.selectRef,setSelected:i.setSelected}));const a=U(()=>n.multiple?i.states.selected.map(s=>s.currentLabel):i.states.selectedLabel);return{...i,modelValue:t,selectedLabel:a}}});function uAe(n,e,t,r,i,a){const s=Et("el-tag"),o=Et("el-tooltip"),l=Et("el-icon"),c=Et("el-option"),u=Et("el-options"),d=Et("el-scrollbar"),f=Et("el-select-menu"),h=mT("click-outside");return Cn((V(),he("div",{ref:"selectRef",class:Z([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),[H1(n.mouseEnterEventName)]:p=>n.states.inputHovering=!0,onMouseleave:p=>n.states.inputHovering=!1},[ue(o,{ref:"tooltipRef",visible:n.dropdownMenuVisible,placement:n.placement,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,pure:"",trigger:"click",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:n.persistent,"append-to":n.appendTo,"show-arrow":n.showArrow,offset:n.offset,onBeforeShow:n.handleMenuEnter,onHide:p=>n.states.isBeforeHide=!1},{default:be(()=>{var p;return[ve("div",{ref:"wrapperRef",class:Z([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)]),onClick:sn(n.toggleMenu,["prevent"])},[n.$slots.prefix?(V(),he("div",{key:0,ref:"prefixRef",class:Z(n.nsSelect.e("prefix"))},[Qe(n.$slots,"prefix")],2)):Je("v-if",!0),ve("div",{ref:"selectionRef",class:Z([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.states.selected.length)])},[n.multiple?Qe(n.$slots,"tag",{key:0},()=>[(V(!0),he(zt,null,In(n.showTagList,m=>(V(),he("div",{key:n.getValueKey(m),class:Z(n.nsSelect.e("selected-item"))},[ue(s,{closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Bt(n.tagStyle),onClose:v=>n.deleteTag(v,m)},{default:be(()=>[ve("span",{class:Z(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:m.currentLabel,value:m.value},()=>[dn(Ct(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),n.collapseTags&&n.states.selected.length>n.maxCollapseTags?(V(),rt(o,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:be(()=>[ve("div",{ref:"collapseItemRef",class:Z(n.nsSelect.e("selected-item"))},[ue(s,{closable:!1,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Bt(n.collapseTagStyle)},{default:be(()=>[ve("span",{class:Z(n.nsSelect.e("tags-text"))}," + "+Ct(n.states.selected.length-n.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:be(()=>[ve("div",{ref:"tagMenuRef",class:Z(n.nsSelect.e("selection"))},[(V(!0),he(zt,null,In(n.collapseTagList,m=>(V(),he("div",{key:n.getValueKey(m),class:Z(n.nsSelect.e("selected-item"))},[ue(s,{class:"in-tooltip",closable:!n.selectDisabled&&!m.isDisabled,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",onClose:v=>n.deleteTag(v,m)},{default:be(()=>[ve("span",{class:Z(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:m.currentLabel,value:m.value},()=>[dn(Ct(m.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Je("v-if",!0)]):Je("v-if",!0),ve("div",{class:Z([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[Cn(ve("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":m=>n.states.inputValue=m,type:"text",name:n.name,class:Z([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,autocomplete:n.autocomplete,style:Bt(n.inputStyle),tabindex:n.tabindex,role:"combobox",readonly:!n.filterable,spellcheck:"false","aria-activedescendant":((p=n.hoverOption)==null?void 0:p.id)||"","aria-controls":n.contentId,"aria-expanded":n.dropdownMenuVisible,"aria-label":n.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Ur(sn(m=>n.navigateOptions("next"),["stop","prevent"]),["down"]),Ur(sn(m=>n.navigateOptions("prev"),["stop","prevent"]),["up"]),Ur(sn(n.handleEsc,["stop","prevent"]),["esc"]),Ur(sn(n.selectOption,["stop","prevent"]),["enter"]),Ur(sn(n.deletePrevTag,["stop"]),["delete"])],onCompositionstart:n.handleCompositionStart,onCompositionupdate:n.handleCompositionUpdate,onCompositionend:n.handleCompositionEnd,onInput:n.onInput,onClick:sn(n.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[yT,n.states.inputValue]]),n.filterable?(V(),he("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z(n.nsSelect.e("input-calculator")),textContent:Ct(n.states.inputValue)},null,10,["textContent"])):Je("v-if",!0)],2),n.shouldShowPlaceholder?(V(),he("div",{key:1,class:Z([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[n.hasModelValue?Qe(n.$slots,"label",{key:0,label:n.currentPlaceholder,value:n.modelValue},()=>[ve("span",null,Ct(n.currentPlaceholder),1)]):(V(),he("span",{key:1},Ct(n.currentPlaceholder),1))],2)):Je("v-if",!0)],2),ve("div",{ref:"suffixRef",class:Z(n.nsSelect.e("suffix"))},[n.iconComponent&&!n.showClose?(V(),rt(l,{key:0,class:Z([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.iconReverse])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])):Je("v-if",!0),n.showClose&&n.clearIcon?(V(),rt(l,{key:1,class:Z([n.nsSelect.e("caret"),n.nsSelect.e("icon"),n.nsSelect.e("clear")]),onClick:n.handleClearClick},{default:be(()=>[(V(),rt(Nn(n.clearIcon)))]),_:1},8,["class","onClick"])):Je("v-if",!0),n.validateState&&n.validateIcon&&n.needStatusIcon?(V(),rt(l,{key:2,class:Z([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:be(()=>[(V(),rt(Nn(n.validateIcon)))]),_:1},8,["class"])):Je("v-if",!0)],2)],10,["onClick"])]}),content:be(()=>[ue(f,{ref:"menuRef"},{default:be(()=>[n.$slots.header?(V(),he("div",{key:0,class:Z(n.nsSelect.be("dropdown","header")),onClick:sn(()=>{},["stop"])},[Qe(n.$slots,"header")],10,["onClick"])):Je("v-if",!0),Cn(ue(d,{id:n.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":n.nsSelect.be("dropdown","wrap"),"view-class":n.nsSelect.be("dropdown","list"),class:Z([n.nsSelect.is("empty",n.filteredOptionsCount===0)]),role:"listbox","aria-label":n.ariaLabel,"aria-orientation":"vertical"},{default:be(()=>[n.showNewOption?(V(),rt(c,{key:0,value:n.states.inputValue,created:!0},null,8,["value"])):Je("v-if",!0),ue(u,null,{default:be(()=>[Qe(n.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[fr,n.states.options.size>0&&!n.loading]]),n.$slots.loading&&n.loading?(V(),he("div",{key:1,class:Z(n.nsSelect.be("dropdown","loading"))},[Qe(n.$slots,"loading")],2)):n.loading||n.filteredOptionsCount===0?(V(),he("div",{key:2,class:Z(n.nsSelect.be("dropdown","empty"))},[Qe(n.$slots,"empty",{},()=>[ve("span",null,Ct(n.emptyText),1)])],2)):Je("v-if",!0),n.$slots.footer?(V(),he("div",{key:3,class:Z(n.nsSelect.be("dropdown","footer")),onClick:sn(()=>{},["stop"])},[Qe(n.$slots,"footer")],10,["onClick"])):Je("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[h,n.handleClickOutside,n.popperRef]])}var dAe=Pt(cAe,[["render",uAe],["__file","select.vue"]]);const fAe=Re({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(n){const e=bt("select"),t=ne(null),r=kn(),i=ne([]);$n(zj,mr({...ua(n)}));const a=U(()=>i.value.some(c=>c.visible===!0)),s=c=>{var u,d;return((u=c.type)==null?void 0:u.name)==="ElOption"&&!!((d=c.component)!=null&&d.proxy)},o=c=>{const u=ws(c),d=[];return u.forEach(f=>{var h,p;s(f)?d.push(f.component.proxy):(h=f.children)!=null&&h.length?d.push(...o(f.children)):(p=f.component)!=null&&p.subTree&&d.push(...o(f.component.subTree))}),d},l=()=>{i.value=o(r.subTree)};return pn(()=>{l()}),gY(t,l,{attributes:!0,subtree:!0,childList:!0}),{groupRef:t,visible:a,ns:e}}});function hAe(n,e,t,r,i,a){return Cn((V(),he("ul",{ref:"groupRef",class:Z(n.ns.be("group","wrap"))},[ve("li",{class:Z(n.ns.be("group","title"))},Ct(n.label),3),ve("li",null,[ve("ul",{class:Z(n.ns.b("group"))},[Qe(n.$slots,"default")],2)])],2)),[[fr,n.visible]])}var Uj=Pt(fAe,[["render",hAe],["__file","option-group.vue"]]);const cm=gn(dAe,{Option:GL,OptionGroup:Uj}),DC=Ti(GL),pAe=Ti(Uj),WL=()=>Ot(Fj,{}),mAe=Rt({pageSize:{type:Number,required:!0},pageSizes:{type:Ke(Array),default:()=>Mi([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:bu},appendSizeTo:String}),vAe=Re({name:"ElPaginationSizes"}),gAe=Re({...vAe,props:mAe,emits:["page-size-change"],setup(n,{emit:e}){const t=n,{t:r}=rr(),i=bt("pagination"),a=WL(),s=ne(t.pageSize);dt(()=>t.pageSizes,(c,u)=>{if(!Ua(c,u)&&Tt(c)){const d=c.includes(t.pageSize)?t.pageSize:t.pageSizes[0];e("page-size-change",d)}}),dt(()=>t.pageSize,c=>{s.value=c});const o=U(()=>t.pageSizes);function l(c){var u;c!==s.value&&(s.value=c,(u=a.handleSizeChange)==null||u.call(a,Number(c)))}return(c,u)=>(V(),he("span",{class:Z(w(i).e("sizes"))},[ue(w(cm),{"model-value":s.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,"append-to":c.appendSizeTo,onChange:l},{default:be(()=>[(V(!0),he(zt,null,In(w(o),d=>(V(),rt(w(DC),{key:d,value:d,label:d+w(r)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var yAe=Pt(gAe,[["__file","sizes.vue"]]);const bAe=Rt({size:{type:String,values:bu}}),_Ae=Re({name:"ElPaginationJumper"}),wAe=Re({..._Ae,props:bAe,setup(n){const{t:e}=rr(),t=bt("pagination"),{pageCount:r,disabled:i,currentPage:a,changeEvent:s}=WL(),o=ne(),l=U(()=>{var d;return(d=o.value)!=null?d:a==null?void 0:a.value});function c(d){o.value=d?+d:""}function u(d){d=Math.trunc(+d),s==null||s(d),o.value=void 0}return(d,f)=>(V(),he("span",{class:Z(w(t).e("jump")),disabled:w(i)},[ve("span",{class:Z([w(t).e("goto")])},Ct(w(e)("el.pagination.goto")),3),ue(w(Cs),{size:d.size,class:Z([w(t).e("editor"),w(t).is("in-pagination")]),min:1,max:w(r),disabled:w(i),"model-value":w(l),"validate-event":!1,"aria-label":w(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","aria-label"]),ve("span",{class:Z([w(t).e("classifier")])},Ct(w(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var xAe=Pt(wAe,[["__file","jumper.vue"]]);const SAe=Rt({total:{type:Number,default:1e3}}),CAe=Re({name:"ElPaginationTotal"}),MAe=Re({...CAe,props:SAe,setup(n){const{t:e}=rr(),t=bt("pagination"),{disabled:r}=WL();return(i,a)=>(V(),he("span",{class:Z(w(t).e("total")),disabled:w(r)},Ct(w(e)("el.pagination.total",{total:i.total})),11,["disabled"]))}});var TAe=Pt(MAe,[["__file","total.vue"]]);const AAe=Rt({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),EAe=Re({name:"ElPaginationPager"}),IAe=Re({...EAe,props:AAe,emits:["change"],setup(n,{emit:e}){const t=n,r=bt("pager"),i=bt("icon"),{t:a}=rr(),s=ne(!1),o=ne(!1),l=ne(!1),c=ne(!1),u=ne(!1),d=ne(!1),f=U(()=>{const _=t.pagerCount,x=(_-1)/2,S=Number(t.currentPage),T=Number(t.pageCount);let C=!1,M=!1;T>_&&(S>_-x&&(C=!0),S<T-x&&(M=!0));const A=[];if(C&&!M){const I=T-(_-2);for(let D=I;D<T;D++)A.push(D)}else if(!C&&M)for(let I=2;I<_;I++)A.push(I);else if(C&&M){const I=Math.floor(_/2)-1;for(let D=S-I;D<=S+I;D++)A.push(D)}else for(let I=2;I<T;I++)A.push(I);return A}),h=U(()=>["more","btn-quickprev",i.b(),r.is("disabled",t.disabled)]),p=U(()=>["more","btn-quicknext",i.b(),r.is("disabled",t.disabled)]),m=U(()=>t.disabled?-1:0);Ea(()=>{const _=(t.pagerCount-1)/2;s.value=!1,o.value=!1,t.pageCount>t.pagerCount&&(t.currentPage>t.pagerCount-_&&(s.value=!0),t.currentPage<t.pageCount-_&&(o.value=!0))});function v(_=!1){t.disabled||(_?l.value=!0:c.value=!0)}function g(_=!1){_?u.value=!0:d.value=!0}function y(_){const x=_.target;if(x.tagName.toLowerCase()==="li"&&Array.from(x.classList).includes("number")){const S=Number(x.textContent);S!==t.currentPage&&e("change",S)}else x.tagName.toLowerCase()==="li"&&Array.from(x.classList).includes("more")&&b(_)}function b(_){const x=_.target;if(x.tagName.toLowerCase()==="ul"||t.disabled)return;let S=Number(x.textContent);const T=t.pageCount,C=t.currentPage,M=t.pagerCount-2;x.className.includes("more")&&(x.className.includes("quickprev")?S=C-M:x.className.includes("quicknext")&&(S=C+M)),Number.isNaN(+S)||(S<1&&(S=1),S>T&&(S=T)),S!==C&&e("change",S)}return(_,x)=>(V(),he("ul",{class:Z(w(r).b()),onClick:b,onKeyup:Ur(y,["enter"])},[_.pageCount>0?(V(),he("li",{key:0,class:Z([[w(r).is("active",_.currentPage===1),w(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===1,"aria-label":w(a)("el.pagination.currentPage",{pager:1}),tabindex:w(m)}," 1 ",10,["aria-current","aria-label","tabindex"])):Je("v-if",!0),s.value?(V(),he("li",{key:1,class:Z(w(h)),tabindex:w(m),"aria-label":w(a)("el.pagination.prevPages",{pager:_.pagerCount-2}),onMouseenter:S=>v(!0),onMouseleave:S=>l.value=!1,onFocus:S=>g(!0),onBlur:S=>u.value=!1},[(l.value||u.value)&&!_.disabled?(V(),rt(w(th),{key:0})):(V(),rt(w(H7),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Je("v-if",!0),(V(!0),he(zt,null,In(w(f),S=>(V(),he("li",{key:S,class:Z([[w(r).is("active",_.currentPage===S),w(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===S,"aria-label":w(a)("el.pagination.currentPage",{pager:S}),tabindex:w(m)},Ct(S),11,["aria-current","aria-label","tabindex"]))),128)),o.value?(V(),he("li",{key:2,class:Z(w(p)),tabindex:w(m),"aria-label":w(a)("el.pagination.nextPages",{pager:_.pagerCount-2}),onMouseenter:S=>v(),onMouseleave:S=>c.value=!1,onFocus:S=>g(),onBlur:S=>d.value=!1},[(c.value||d.value)&&!_.disabled?(V(),rt(w(nh),{key:0})):(V(),rt(w(H7),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Je("v-if",!0),_.pageCount>1?(V(),he("li",{key:3,class:Z([[w(r).is("active",_.currentPage===_.pageCount),w(r).is("disabled",_.disabled)],"number"]),"aria-current":_.currentPage===_.pageCount,"aria-label":w(a)("el.pagination.currentPage",{pager:_.pageCount}),tabindex:w(m)},Ct(_.pageCount),11,["aria-current","aria-label","tabindex"])):Je("v-if",!0)],42,["onKeyup"]))}});var RAe=Pt(IAe,[["__file","pager.vue"]]);const Ps=n=>typeof n!="number",PAe=Rt({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:n=>en(n)&&Math.trunc(n)===n&&n>4&&n<22&&n%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Ke(Array),default:()=>Mi([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:kr,default:()=>eh},nextText:{type:String,default:""},nextIcon:{type:kr,default:()=>Gs},teleported:{type:Boolean,default:!0},small:Boolean,size:ta,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),DAe={"update:current-page":n=>en(n),"update:page-size":n=>en(n),"size-change":n=>en(n),change:(n,e)=>en(n)&&en(e),"current-change":n=>en(n),"prev-click":n=>en(n),"next-click":n=>en(n)},$F="ElPagination";var kAe=Re({name:$F,props:PAe,emits:DAe,setup(n,{emit:e,slots:t}){const{t:r}=rr(),i=bt("pagination"),a=kn().vnode.props||{},s=CY(),o=U(()=>{var x;return n.small?"small":(x=n.size)!=null?x:s.value});Of({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},U(()=>!!n.small));const l="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,c="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,u=U(()=>{if(Ps(n.total)&&Ps(n.pageCount)||!Ps(n.currentPage)&&!l)return!1;if(n.layout.includes("sizes")){if(Ps(n.pageCount)){if(!Ps(n.total)&&!Ps(n.pageSize)&&!c)return!1}else if(!c)return!1}return!0}),d=ne(Ps(n.defaultPageSize)?10:n.defaultPageSize),f=ne(Ps(n.defaultCurrentPage)?1:n.defaultCurrentPage),h=U({get(){return Ps(n.pageSize)?d.value:n.pageSize},set(x){Ps(n.pageSize)&&(d.value=x),c&&(e("update:page-size",x),e("size-change",x))}}),p=U(()=>{let x=0;return Ps(n.pageCount)?Ps(n.total)||(x=Math.max(1,Math.ceil(n.total/h.value))):x=n.pageCount,x}),m=U({get(){return Ps(n.currentPage)?f.value:n.currentPage},set(x){let S=x;x<1?S=1:x>p.value&&(S=p.value),Ps(n.currentPage)&&(f.value=S),l&&(e("update:current-page",S),e("current-change",S))}});dt(p,x=>{m.value>x&&(m.value=x)}),dt([m,h],x=>{e("change",...x)},{flush:"post"});function v(x){m.value=x}function g(x){h.value=x;const S=p.value;m.value>S&&(m.value=S)}function y(){n.disabled||(m.value-=1,e("prev-click",m.value))}function b(){n.disabled||(m.value+=1,e("next-click",m.value))}function _(x,S){x&&(x.props||(x.props={}),x.props.class=[x.props.class,S].join(" "))}return $n(Fj,{pageCount:p,disabled:U(()=>n.disabled),currentPage:m,changeEvent:v,handleSizeChange:g}),()=>{var x,S;if(!u.value)return r("el.pagination.deprecationWarning"),null;if(!n.layout||n.hideOnSinglePage&&p.value<=1)return null;const T=[],C=[],M=Gt("div",{class:i.e("rightwrapper")},C),A={prev:Gt(YTe,{disabled:n.disabled,currentPage:m.value,prevText:n.prevText,prevIcon:n.prevIcon,onClick:y}),jumper:Gt(xAe,{size:o.value}),pager:Gt(RAe,{currentPage:m.value,pageCount:p.value,pagerCount:n.pagerCount,onChange:v,disabled:n.disabled}),next:Gt(QTe,{disabled:n.disabled,currentPage:m.value,pageCount:p.value,nextText:n.nextText,nextIcon:n.nextIcon,onClick:b}),sizes:Gt(yAe,{pageSize:h.value,pageSizes:n.pageSizes,popperClass:n.popperClass,disabled:n.disabled,teleported:n.teleported,size:o.value,appendSizeTo:n.appendSizeTo}),slot:(S=(x=t==null?void 0:t.default)==null?void 0:x.call(t))!=null?S:null,total:Gt(TAe,{total:Ps(n.total)?0:n.total})},I=n.layout.split(",").map(L=>L.trim());let D=!1;return I.forEach(L=>{if(L==="->"){D=!0;return}D?C.push(A[L]):T.push(A[L])}),_(T[0],i.is("first")),_(T[T.length-1],i.is("last")),D&&C.length>0&&(_(C[0],i.is("first")),_(C[C.length-1],i.is("last")),T.push(M)),Gt("div",{class:[i.b(),i.is("background",n.background),i.m(o.value)]},T)}}});const LAe=gn(kAe),NAe=Rt({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:N5,default:"primary"},cancelButtonType:{type:String,values:N5,default:"text"},icon:{type:kr,default:()=>Eve},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:wa.teleported,persistent:wa.persistent,width:{type:[String,Number],default:150}}),OAe={confirm:n=>n instanceof MouseEvent,cancel:n=>n instanceof MouseEvent},BAe=Re({name:"ElPopconfirm"}),FAe=Re({...BAe,props:NAe,emits:OAe,setup(n,{emit:e}){const t=n,{t:r}=rr(),i=bt("popconfirm"),a=ne(),s=()=>{var f,h;(h=(f=a.value)==null?void 0:f.onClose)==null||h.call(f)},o=U(()=>({width:Di(t.width)})),l=f=>{e("confirm",f),s()},c=f=>{e("cancel",f),s()},u=U(()=>t.confirmButtonText||r("el.popconfirm.confirmButtonText")),d=U(()=>t.cancelButtonText||r("el.popconfirm.cancelButtonText"));return(f,h)=>(V(),rt(w(is),Hn({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},f.$attrs,{"popper-class":`${w(i).namespace.value}-popover`,"popper-style":w(o),teleported:f.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":f.hideAfter,persistent:f.persistent}),{content:be(()=>[ve("div",{class:Z(w(i).b())},[ve("div",{class:Z(w(i).e("main"))},[!f.hideIcon&&f.icon?(V(),rt(w(Vt),{key:0,class:Z(w(i).e("icon")),style:Bt({color:f.iconColor})},{default:be(()=>[(V(),rt(Nn(f.icon)))]),_:1},8,["class","style"])):Je("v-if",!0),dn(" "+Ct(f.title),1)],2),ve("div",{class:Z(w(i).e("action"))},[Qe(f.$slots,"actions",{confirm:l,cancel:c},()=>[ue(w(Ia),{size:"small",type:f.cancelButtonType==="text"?"":f.cancelButtonType,text:f.cancelButtonType==="text",onClick:c},{default:be(()=>[dn(Ct(w(d)),1)]),_:1},8,["type","text"]),ue(w(Ia),{size:"small",type:f.confirmButtonType==="text"?"":f.confirmButtonType,text:f.confirmButtonType==="text",onClick:l},{default:be(()=>[dn(Ct(w(u)),1)]),_:1},8,["type","text"])])],2)],2)]),default:be(()=>[f.$slots.reference?Qe(f.$slots,"reference",{key:0}):Je("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var zAe=Pt(FAe,[["__file","popconfirm.vue"]]);const UAe=gn(zAe),HAe=Rt({trigger:Xb.trigger,placement:M2.placement,disabled:Xb.disabled,visible:wa.visible,transition:wa.transition,popperOptions:M2.popperOptions,tabindex:M2.tabindex,content:wa.content,popperStyle:wa.popperStyle,popperClass:wa.popperClass,enterable:{...wa.enterable,default:!0},effect:{...wa.effect,default:"light"},teleported:wa.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),VAe={"update:visible":n=>Vr(n),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},$Ae="onUpdate:visible",GAe=Re({name:"ElPopover"}),WAe=Re({...GAe,props:HAe,emits:VAe,setup(n,{expose:e,emit:t}){const r=n,i=U(()=>r[$Ae]),a=bt("popover"),s=ne(),o=U(()=>{var v;return(v=w(s))==null?void 0:v.popperRef}),l=U(()=>[{width:Di(r.width)},r.popperStyle]),c=U(()=>[a.b(),r.popperClass,{[a.m("plain")]:!!r.content}]),u=U(()=>r.transition===`${a.namespace.value}-fade-in-linear`),d=()=>{var v;(v=s.value)==null||v.hide()},f=()=>{t("before-enter")},h=()=>{t("before-leave")},p=()=>{t("after-enter")},m=()=>{t("update:visible",!1),t("after-leave")};return e({popperRef:o,hide:d}),(v,g)=>(V(),rt(w(is),Hn({ref_key:"tooltipRef",ref:s},v.$attrs,{trigger:v.trigger,placement:v.placement,disabled:v.disabled,visible:v.visible,transition:v.transition,"popper-options":v.popperOptions,tabindex:v.tabindex,content:v.content,offset:v.offset,"show-after":v.showAfter,"hide-after":v.hideAfter,"auto-close":v.autoClose,"show-arrow":v.showArrow,"aria-label":v.title,effect:v.effect,enterable:v.enterable,"popper-class":w(c),"popper-style":w(l),teleported:v.teleported,persistent:v.persistent,"gpu-acceleration":w(u),"onUpdate:visible":w(i),onBeforeShow:f,onBeforeHide:h,onShow:p,onHide:m}),{content:be(()=>[v.title?(V(),he("div",{key:0,class:Z(w(a).e("title")),role:"title"},Ct(v.title),3)):Je("v-if",!0),Qe(v.$slots,"default",{},()=>[dn(Ct(v.content),1)])]),default:be(()=>[v.$slots.reference?Qe(v.$slots,"reference",{key:0}):Je("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var qAe=Pt(WAe,[["__file","popover.vue"]]);const GF=(n,e)=>{const t=e.arg||e.value,r=t==null?void 0:t.popperRef;r&&(r.triggerRef=n)};var KAe={mounted(n,e){GF(n,e)},updated(n,e){GF(n,e)}};const YAe="popover",Hj=k0e(KAe,YAe),XAe=gn(qAe,{directive:Hj}),jAe=Rt({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:n=>n>=0&&n<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:Ke(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:Ke([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Ke(Function),default:n=>`${n}%`}}),ZAe=Re({name:"ElProgress"}),QAe=Re({...ZAe,props:jAe,setup(n){const e=n,t={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},r=bt("progress"),i=U(()=>{const b={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},_=y(e.percentage);return _.includes("gradient")?b.background=_:b.backgroundColor=_,b}),a=U(()=>(e.strokeWidth/e.width*100).toFixed(1)),s=U(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),o=U(()=>{const b=s.value,_=e.type==="dashboard";return`
          M 50 50
          m 0 ${_?"":"-"}${b}
          a ${b} ${b} 0 1 1 0 ${_?"-":""}${b*2}
          a ${b} ${b} 0 1 1 0 ${_?"":"-"}${b*2}
          `}),l=U(()=>2*Math.PI*s.value),c=U(()=>e.type==="dashboard"?.75:1),u=U(()=>`${-1*l.value*(1-c.value)/2}px`),d=U(()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value})),f=U(()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=U(()=>{let b;return e.color?b=y(e.percentage):b=t[e.status]||t.default,b}),p=U(()=>e.status==="warning"?RT:e.type==="line"?e.status==="success"?iL:Pd:e.status==="success"?Q_:_c),m=U(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),v=U(()=>e.format(e.percentage));function g(b){const _=100/b.length;return b.map((S,T)=>qt(S)?{color:S,percentage:(T+1)*_}:S).sort((S,T)=>S.percentage-T.percentage)}const y=b=>{var _;const{color:x}=e;if(Zt(x))return x(b);if(qt(x))return x;{const S=g(x);for(const T of S)if(T.percentage>b)return T.color;return(_=S[S.length-1])==null?void 0:_.color}};return(b,_)=>(V(),he("div",{class:Z([w(r).b(),w(r).m(b.type),w(r).is(b.status),{[w(r).m("without-text")]:!b.showText,[w(r).m("text-inside")]:b.textInside}]),role:"progressbar","aria-valuenow":b.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[b.type==="line"?(V(),he("div",{key:0,class:Z(w(r).b("bar"))},[ve("div",{class:Z(w(r).be("bar","outer")),style:Bt({height:`${b.strokeWidth}px`})},[ve("div",{class:Z([w(r).be("bar","inner"),{[w(r).bem("bar","inner","indeterminate")]:b.indeterminate},{[w(r).bem("bar","inner","striped")]:b.striped},{[w(r).bem("bar","inner","striped-flow")]:b.stripedFlow}]),style:Bt(w(i))},[(b.showText||b.$slots.default)&&b.textInside?(V(),he("div",{key:0,class:Z(w(r).be("bar","innerText"))},[Qe(b.$slots,"default",{percentage:b.percentage},()=>[ve("span",null,Ct(w(v)),1)])],2)):Je("v-if",!0)],6)],6)],2)):(V(),he("div",{key:1,class:Z(w(r).b("circle")),style:Bt({height:`${b.width}px`,width:`${b.width}px`})},[(V(),he("svg",{viewBox:"0 0 100 100"},[ve("path",{class:Z(w(r).be("circle","track")),d:w(o),stroke:`var(${w(r).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":b.strokeLinecap,"stroke-width":w(a),fill:"none",style:Bt(w(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),ve("path",{class:Z(w(r).be("circle","path")),d:w(o),stroke:w(h),fill:"none",opacity:b.percentage?1:0,"stroke-linecap":b.strokeLinecap,"stroke-width":w(a),style:Bt(w(f))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(b.showText||b.$slots.default)&&!b.textInside?(V(),he("div",{key:2,class:Z(w(r).e("text")),style:Bt({fontSize:`${w(m)}px`})},[Qe(b.$slots,"default",{percentage:b.percentage},()=>[b.status?(V(),rt(w(Vt),{key:1},{default:be(()=>[(V(),rt(Nn(w(p))))]),_:1})):(V(),he("span",{key:0},Ct(w(v)),1))])],6)):Je("v-if",!0)],10,["aria-valuenow"]))}});var JAe=Pt(QAe,[["__file","progress.vue"]]);const Vj=gn(JAe),e3e=Rt({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:Ke([Array,Object]),default:()=>Mi(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:Ke([Array,Object]),default:()=>[Kw,Kw,Kw]},voidIcon:{type:kr,default:()=>$ve},disabledVoidIcon:{type:kr,default:()=>Kw},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Ke(Array),default:()=>Mi(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:ta,clearable:Boolean,...$a(["ariaLabel"])}),t3e={[Rr]:n=>en(n),[Tn]:n=>en(n)},n3e=Re({name:"ElRate"}),r3e=Re({...n3e,props:e3e,emits:t3e,setup(n,{expose:e,emit:t}){const r=n;function i(k,H){const z=j=>Pn(j),O=Object.keys(H).map(j=>+j).filter(j=>{const ee=H[j];return(z(ee)?ee.excluded:!1)?k<j:k<=j}).sort((j,ee)=>j-ee),W=H[O[0]];return z(W)&&W.value||W}const a=Ot(Rm,void 0),s=Ot(cu,void 0),o=Zi(),l=bt("rate"),{inputId:c,isLabeledByFormItem:u}=Fl(r,{formItemContext:s}),d=ne(r.modelValue),f=ne(-1),h=ne(!0),p=U(()=>[l.b(),l.m(o.value)]),m=U(()=>r.disabled||(a==null?void 0:a.disabled)),v=U(()=>l.cssVarBlock({"void-color":r.voidColor,"disabled-void-color":r.disabledVoidColor,"fill-color":_.value})),g=U(()=>{let k="";return r.showScore?k=r.scoreTemplate.replace(/\{\s*value\s*\}/,m.value?`${r.modelValue}`:`${d.value}`):r.showText&&(k=r.texts[Math.ceil(d.value)-1]),k}),y=U(()=>r.modelValue*100-Math.floor(r.modelValue)*100),b=U(()=>Tt(r.colors)?{[r.lowThreshold]:r.colors[0],[r.highThreshold]:{value:r.colors[1],excluded:!0},[r.max]:r.colors[2]}:r.colors),_=U(()=>{const k=i(d.value,b.value);return Pn(k)?"":k}),x=U(()=>{let k="";return m.value?k=`${y.value}%`:r.allowHalf&&(k="50%"),{color:_.value,width:k}}),S=U(()=>{let k=Tt(r.icons)?[...r.icons]:{...r.icons};return k=ud(k),Tt(k)?{[r.lowThreshold]:k[0],[r.highThreshold]:{value:k[1],excluded:!0},[r.max]:k[2]}:k}),T=U(()=>i(r.modelValue,S.value)),C=U(()=>m.value?qt(r.disabledVoidIcon)?r.disabledVoidIcon:ud(r.disabledVoidIcon):qt(r.voidIcon)?r.voidIcon:ud(r.voidIcon)),M=U(()=>i(d.value,S.value));function A(k){const H=m.value&&y.value>0&&k-1<r.modelValue&&k>r.modelValue,z=r.allowHalf&&h.value&&k-.5<=d.value&&k>d.value;return H||z}function I(k){r.clearable&&k===r.modelValue&&(k=0),t(Tn,k),r.modelValue!==k&&t("change",k)}function D(k){m.value||(r.allowHalf&&h.value?I(d.value):I(k))}function L(k){if(m.value)return;let H=d.value;const z=k.code;return z===Nt.up||z===Nt.right?(r.allowHalf?H+=.5:H+=1,k.stopPropagation(),k.preventDefault()):(z===Nt.left||z===Nt.down)&&(r.allowHalf?H-=.5:H-=1,k.stopPropagation(),k.preventDefault()),H=H<0?0:H,H=H>r.max?r.max:H,t(Tn,H),t("change",H),H}function F(k,H){if(!m.value){if(r.allowHalf&&H){let z=H.target;co(z,l.e("item"))&&(z=z.querySelector(`.${l.e("icon")}`)),(z.clientWidth===0||co(z,l.e("decimal")))&&(z=z.parentNode),h.value=H.offsetX*2<=z.clientWidth,d.value=h.value?k-.5:k}else d.value=k;f.value=k}}function B(){m.value||(r.allowHalf&&(h.value=r.modelValue!==Math.floor(r.modelValue)),d.value=r.modelValue,f.value=-1)}return dt(()=>r.modelValue,k=>{d.value=k,h.value=r.modelValue!==Math.floor(r.modelValue)}),r.modelValue||t(Tn,0),e({setCurrentValue:F,resetCurrentValue:B}),(k,H)=>{var z;return V(),he("div",{id:w(c),class:Z([w(p),w(l).is("disabled",w(m))]),role:"slider","aria-label":w(u)?void 0:k.ariaLabel||"rating","aria-labelledby":w(u)?(z=w(s))==null?void 0:z.labelId:void 0,"aria-valuenow":d.value,"aria-valuetext":w(g)||void 0,"aria-valuemin":"0","aria-valuemax":k.max,tabindex:"0",style:Bt(w(v)),onKeydown:L},[(V(!0),he(zt,null,In(k.max,(O,W)=>(V(),he("span",{key:W,class:Z(w(l).e("item")),onMousemove:j=>F(O,j),onMouseleave:B,onClick:j=>D(O)},[ue(w(Vt),{class:Z([w(l).e("icon"),{hover:f.value===O},w(l).is("active",O<=d.value)])},{default:be(()=>[A(O)?Je("v-if",!0):(V(),he(zt,{key:0},[Cn((V(),rt(Nn(w(M)),null,null,512)),[[fr,O<=d.value]]),Cn((V(),rt(Nn(w(C)),null,null,512)),[[fr,!(O<=d.value)]])],64)),A(O)?(V(),he(zt,{key:1},[(V(),rt(Nn(w(C)),{class:Z([w(l).em("decimal","box")])},null,8,["class"])),ue(w(Vt),{style:Bt(w(x)),class:Z([w(l).e("icon"),w(l).e("decimal")])},{default:be(()=>[(V(),rt(Nn(w(T))))]),_:1},8,["style","class"])],64)):Je("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),k.showText||k.showScore?(V(),he("span",{key:0,class:Z(w(l).e("text")),style:Bt({color:k.textColor})},Ct(w(g)),7)):Je("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var i3e=Pt(r3e,[["__file","rate.vue"]]);const a3e=gn(i3e),mv={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},WF={[mv.success]:Q0e,[mv.warning]:RT,[mv.error]:aL,[mv.info]:sL},s3e=Rt({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),o3e=Re({name:"ElResult"}),l3e=Re({...o3e,props:s3e,setup(n){const e=n,t=bt("result"),r=U(()=>{const i=e.icon,a=i&&mv[i]?mv[i]:"icon-info",s=WF[a]||WF["icon-info"];return{class:a,component:s}});return(i,a)=>(V(),he("div",{class:Z(w(t).b())},[ve("div",{class:Z(w(t).e("icon"))},[Qe(i.$slots,"icon",{},()=>[w(r).component?(V(),rt(Nn(w(r).component),{key:0,class:Z(w(r).class)},null,8,["class"])):Je("v-if",!0)])],2),i.title||i.$slots.title?(V(),he("div",{key:0,class:Z(w(t).e("title"))},[Qe(i.$slots,"title",{},()=>[ve("p",null,Ct(i.title),1)])],2)):Je("v-if",!0),i.subTitle||i.$slots["sub-title"]?(V(),he("div",{key:1,class:Z(w(t).e("subtitle"))},[Qe(i.$slots,"sub-title",{},()=>[ve("p",null,Ct(i.subTitle),1)])],2)):Je("v-if",!0),i.$slots.extra?(V(),he("div",{key:2,class:Z(w(t).e("extra"))},[Qe(i.$slots,"extra")],2)):Je("v-if",!0)],2))}});var c3e=Pt(l3e,[["__file","result.vue"]]);const u3e=gn(c3e),d3e=["start","center","end","space-around","space-between","space-evenly"],f3e=["top","middle","bottom"],h3e=Rt({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:d3e,default:"start"},align:{type:String,values:f3e}}),p3e=Re({name:"ElRow"}),m3e=Re({...p3e,props:h3e,setup(n){const e=n,t=bt("row"),r=U(()=>e.gutter);$n(VX,{gutter:r});const i=U(()=>{const s={};return e.gutter&&(s.marginRight=s.marginLeft=`-${e.gutter/2}px`),s}),a=U(()=>[t.b(),t.is(`justify-${e.justify}`,e.justify!=="start"),t.is(`align-${e.align}`,!!e.align)]);return(s,o)=>(V(),rt(Nn(s.tag),{class:Z(w(a)),style:Bt(w(i))},{default:be(()=>[Qe(s.$slots,"default")]),_:3},8,["class","style"]))}});var v3e=Pt(m3e,[["__file","row.vue"]]);const g3e=gn(v3e),y3e=Re({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:bt("select")}}});function b3e(n,e,t,r,i,a){return V(),he("div",{class:Z(n.ns.be("group","title")),style:Bt({...n.style,lineHeight:`${n.height}px`})},Ct(n.item.label),7)}var _3e=Pt(y3e,[["render",b3e],["__file","group-item.vue"]]);function w3e(n,{emit:e}){return{hoverItem:()=>{n.disabled||e("hover",n.index)},selectOptionClick:()=>{n.disabled||e("select",n.item,n.index)}}}const $j={label:"label",value:"value",disabled:"disabled",options:"options"};function UT(n){const e=U(()=>({...$j,...n.props}));return{aliasProps:e,getLabel:s=>Gi(s,e.value.label),getValue:s=>Gi(s,e.value.value),getDisabled:s=>Gi(s,e.value.disabled),getOptions:s=>Gi(s,e.value.options)}}const x3e=Rt({allowCreate:Boolean,autocomplete:{type:Ke(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:kr,default:Pd},effect:{type:Ke(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:Ke([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Ke(Array),required:!0},placeholder:{type:String},teleported:wa.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})},remote:Boolean,size:ta,props:{type:Ke(Object),default:()=>$j},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:Ke(String),values:Dd,default:"bottom-start"},fallbackPlacements:{type:Ke(Array),default:["bottom-start","top-start","right","left"]},tagType:{...gd.type,default:"info"},tagEffect:{...gd.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,...Qg,...$a(["ariaLabel"])}),S3e=Rt({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Ke(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),C3e={[Tn]:n=>!0,[Rr]:n=>!0,"remove-tag":n=>!0,"visible-change":n=>!0,focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent,clear:()=>!0},M3e={hover:n=>en(n),select:(n,e)=>!0},qL=Symbol("ElSelectV2Injection"),T3e=Re({props:S3e,emits:M3e,setup(n,{emit:e}){const t=Ot(qL),r=bt("select"),{hoverItem:i,selectOptionClick:a}=w3e(n,{emit:e}),{getLabel:s}=UT(t.props);return{ns:r,hoverItem:i,selectOptionClick:a,getLabel:s}}});function A3e(n,e,t,r,i,a){return V(),he("li",{"aria-selected":n.selected,style:Bt(n.style),class:Z([n.ns.be("dropdown","item"),n.ns.is("selected",n.selected),n.ns.is("disabled",n.disabled),n.ns.is("created",n.created),n.ns.is("hovering",n.hovering)]),onMousemove:n.hoverItem,onClick:sn(n.selectOptionClick,["stop"])},[Qe(n.$slots,"default",{item:n.item,index:n.index,disabled:n.disabled},()=>[ve("span",null,Ct(n.getLabel(n.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var E3e=Pt(T3e,[["render",A3e],["__file","option-item.vue"]]),qF=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function I3e(n,e){return!!(n===e||qF(n)&&qF(e))}function R3e(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!I3e(n[t],e[t]))return!1;return!0}function P3e(n,e){e===void 0&&(e=R3e);var t=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var s=n.apply(this,i);return t={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){t=null},r}const Gj=()=>{const e=kn().proxy.$props;return U(()=>{const t=(r,i,a)=>({});return e.perfMode?ST(t):P3e(t)})},nR=50,kC="itemRendered",LC="scroll",vv="forward",NC="backward",bl="auto",HT="smart",Jb="start",Xc="center",e_="end",pg="horizontal",KL="vertical",D3e="ltr",Bv="rtl",t_="negative",YL="positive-ascending",XL="positive-descending",k3e={[pg]:"left",[KL]:"top"},L3e=20,N3e={[pg]:"deltaX",[KL]:"deltaY"},O3e=({atEndEdge:n,atStartEdge:e,layout:t},r)=>{let i,a=0;const s=l=>l<0&&e.value||l>0&&n.value;return{hasReachedEdge:s,onWheel:l=>{lm(i);const c=l[N3e[t.value]];s(a)&&s(a+c)||(a+=c,DT()||l.preventDefault(),i=Jf(()=>{r(a),a=0}))}}},rR=Mc({type:Ke([Number,Function]),required:!0}),iR=Mc({type:Number}),aR=Mc({type:Number,default:2}),B3e=Mc({type:String,values:["ltr","rtl"],default:"ltr"}),sR=Mc({type:Number,default:0}),OC=Mc({type:Number,required:!0}),Wj=Mc({type:String,values:["horizontal","vertical"],default:KL}),qj=Rt({className:{type:String,default:""},containerElement:{type:Ke([String,Object]),default:"div"},data:{type:Ke(Array),default:()=>Mi([])},direction:B3e,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:Ke([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),Kj=Rt({cache:aR,estimatedItemSize:iR,layout:Wj,initScrollOffset:sR,total:OC,itemSize:rR,...qj}),oR={type:Number,default:6},Yj={type:Number,default:0},Xj={type:Number,default:2},Xp=Rt({columnCache:aR,columnWidth:rR,estimatedColumnWidth:iR,estimatedRowHeight:iR,initScrollLeft:sR,initScrollTop:sR,itemKey:{type:Ke(Function),default:({columnIndex:n,rowIndex:e})=>`${e}:${n}`},rowCache:aR,rowHeight:rR,totalColumn:OC,totalRow:OC,hScrollbarSize:oR,vScrollbarSize:oR,scrollbarStartGap:Yj,scrollbarEndGap:Xj,role:String,...qj}),jj=Rt({alwaysOn:Boolean,class:String,layout:Wj,total:OC,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:oR,startGap:Yj,endGap:Xj,visible:Boolean}),Dp=(n,e)=>n<e?vv:NC,n_=n=>n===D3e||n===Bv||n===pg,KF=n=>n===Bv;let Zm=null;function BC(n=!1){if(Zm===null||n){const e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";const r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?Zm=XL:(e.scrollLeft=1,e.scrollLeft===0?Zm=t_:Zm=YL),document.body.removeChild(e),Zm}return Zm}function F3e({move:n,size:e,bar:t},r){const i={},a=`translate${t.axis}(${n}px)`;return i[t.size]=e,i.transform=a,i.msTransform=a,i.webkitTransform=a,r==="horizontal"?i.height="100%":i.width="100%",i}const lR=Re({name:"ElVirtualScrollBar",props:jj,emits:["scroll","start-move","stop-move"],setup(n,{emit:e}){const t=U(()=>n.startGap+n.endGap),r=bt("virtual-scrollbar"),i=bt("scrollbar"),a=ne(),s=ne();let o=null,l=null;const c=mr({isDragging:!1,traveled:0}),u=U(()=>FY[n.layout]),d=U(()=>n.clientSize-w(t)),f=U(()=>({position:"absolute",width:`${pg===n.layout?d.value:n.scrollbarSize}px`,height:`${pg===n.layout?n.scrollbarSize:d.value}px`,[k3e[n.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=U(()=>{const S=n.ratio,T=n.clientSize;if(S>=100)return Number.POSITIVE_INFINITY;if(S>=50)return S*T/100;const C=T/3;return Math.floor(Math.min(Math.max(S*T,L3e),C))}),p=U(()=>{if(!Number.isFinite(h.value))return{display:"none"};const S=`${h.value}px`;return F3e({bar:u.value,size:S,move:c.traveled},n.layout)}),m=U(()=>Math.floor(n.clientSize-h.value-w(t))),v=()=>{window.addEventListener("mousemove",_),window.addEventListener("mouseup",b);const S=w(s);S&&(l=document.onselectstart,document.onselectstart=()=>!1,S.addEventListener("touchmove",_,{passive:!0}),S.addEventListener("touchend",b))},g=()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",b),document.onselectstart=l,l=null;const S=w(s);S&&(S.removeEventListener("touchmove",_),S.removeEventListener("touchend",b))},y=S=>{S.stopImmediatePropagation(),!(S.ctrlKey||[1,2].includes(S.button))&&(c.isDragging=!0,c[u.value.axis]=S.currentTarget[u.value.offset]-(S[u.value.client]-S.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),v())},b=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),g()},_=S=>{const{isDragging:T}=c;if(!T||!s.value||!a.value)return;const C=c[u.value.axis];if(!C)return;lm(o);const M=(a.value.getBoundingClientRect()[u.value.direction]-S[u.value.client])*-1,A=s.value[u.value.offset]-C,I=M-A;o=Jf(()=>{c.traveled=Math.max(n.startGap,Math.min(I,m.value)),e("scroll",I,m.value)})},x=S=>{const T=Math.abs(S.target.getBoundingClientRect()[u.value.direction]-S[u.value.client]),C=s.value[u.value.offset]/2,M=T-C;c.traveled=Math.max(0,Math.min(M,m.value)),e("scroll",M,m.value)};return dt(()=>n.scrollFrom,S=>{c.isDragging||(c.traveled=Math.ceil(S*m.value))}),yr(()=>{g()}),()=>Gt("div",{role:"presentation",ref:a,class:[r.b(),n.class,(n.alwaysOn||c.isDragging)&&"always-on"],style:f.value,onMousedown:sn(x,["stop","prevent"]),onTouchstartPrevent:y},Gt("div",{ref:s,class:i.e("thumb"),style:p.value,onMousedown:y},[]))}}),Zj=({name:n,getOffset:e,getItemSize:t,getItemOffset:r,getEstimatedTotalSize:i,getStartIndexForOffset:a,getStopIndexForStartIndex:s,initCache:o,clearCache:l,validateProps:c})=>Re({name:n??"ElVirtualList",props:Kj,emits:[kC,LC],setup(u,{emit:d,expose:f}){c(u);const h=kn(),p=bt("vl"),m=ne(o(u,h)),v=Gj(),g=ne(),y=ne(),b=ne(),_=ne({isScrolling:!1,scrollDir:"forward",scrollOffset:en(u.initScrollOffset)?u.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:u.scrollbarAlwaysOn}),x=U(()=>{const{total:te,cache:J}=u,{isScrolling:Q,scrollDir:ie,scrollOffset:le}=w(_);if(te===0)return[0,0,0,0];const we=a(u,le,w(m)),Ae=s(u,we,le,w(m)),ke=!Q||ie===NC?Math.max(1,J):1,Fe=!Q||ie===vv?Math.max(1,J):1;return[Math.max(0,we-ke),Math.max(0,Math.min(te-1,Ae+Fe)),we,Ae]}),S=U(()=>i(u,w(m))),T=U(()=>n_(u.layout)),C=U(()=>[{position:"relative",[`overflow-${T.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:u.direction,height:en(u.height)?`${u.height}px`:u.height,width:en(u.width)?`${u.width}px`:u.width},u.style]),M=U(()=>{const te=w(S),J=w(T);return{height:J?"100%":`${te}px`,pointerEvents:w(_).isScrolling?"none":void 0,width:J?`${te}px`:"100%"}}),A=U(()=>T.value?u.width:u.height),{onWheel:I}=O3e({atStartEdge:U(()=>_.value.scrollOffset<=0),atEndEdge:U(()=>_.value.scrollOffset>=S.value),layout:U(()=>u.layout)},te=>{var J,Q;(Q=(J=b.value).onMouseUp)==null||Q.call(J),H(Math.min(_.value.scrollOffset+te,S.value-A.value))});Ar(g,"wheel",I,{passive:!1});const D=()=>{const{total:te}=u;if(te>0){const[le,we,Ae,ke]=w(x);d(kC,le,we,Ae,ke)}const{scrollDir:J,scrollOffset:Q,updateRequested:ie}=w(_);d(LC,J,Q,ie)},L=te=>{const{clientHeight:J,scrollHeight:Q,scrollTop:ie}=te.currentTarget,le=w(_);if(le.scrollOffset===ie)return;const we=Math.max(0,Math.min(ie,Q-J));_.value={...le,isScrolling:!0,scrollDir:Dp(le.scrollOffset,we),scrollOffset:we,updateRequested:!1},Yt(W)},F=te=>{const{clientWidth:J,scrollLeft:Q,scrollWidth:ie}=te.currentTarget,le=w(_);if(le.scrollOffset===Q)return;const{direction:we}=u;let Ae=Q;if(we===Bv)switch(BC()){case t_:{Ae=-Q;break}case XL:{Ae=ie-J-Q;break}}Ae=Math.max(0,Math.min(Ae,ie-J)),_.value={...le,isScrolling:!0,scrollDir:Dp(le.scrollOffset,Ae),scrollOffset:Ae,updateRequested:!1},Yt(W)},B=te=>{w(T)?F(te):L(te),D()},k=(te,J)=>{const Q=(S.value-A.value)/J*te;H(Math.min(S.value-A.value,Q))},H=te=>{te=Math.max(te,0),te!==w(_).scrollOffset&&(_.value={...w(_),scrollOffset:te,scrollDir:Dp(w(_).scrollOffset,te),updateRequested:!0},Yt(W))},z=(te,J=bl)=>{const{scrollOffset:Q}=w(_);te=Math.max(0,Math.min(te,u.total-1)),H(e(u,te,J,Q,w(m)))},O=te=>{const{direction:J,itemSize:Q,layout:ie}=u,le=v.value(l&&Q,l&&ie,l&&J);let we;if(sr(le,String(te)))we=le[te];else{const Ae=r(u,te,w(m)),ke=t(u,te,w(m)),Fe=w(T),q=J===Bv,ce=Fe?Ae:0;le[te]=we={position:"absolute",left:q?void 0:`${ce}px`,right:q?`${ce}px`:void 0,top:Fe?0:`${Ae}px`,height:Fe?"100%":`${ke}px`,width:Fe?`${ke}px`:"100%"}}return we},W=()=>{_.value.isScrolling=!1,Yt(()=>{v.value(-1,null,null)})},j=()=>{const te=g.value;te&&(te.scrollTop=0)};pn(()=>{if(!nr)return;const{initScrollOffset:te}=u,J=w(g);en(te)&&J&&(w(T)?J.scrollLeft=te:J.scrollTop=te),D()}),Bl(()=>{const{direction:te,layout:J}=u,{scrollOffset:Q,updateRequested:ie}=w(_),le=w(g);if(ie&&le)if(J===pg)if(te===Bv)switch(BC()){case t_:{le.scrollLeft=-Q;break}case YL:{le.scrollLeft=Q;break}default:{const{clientWidth:we,scrollWidth:Ae}=le;le.scrollLeft=Ae-we-Q;break}}else le.scrollLeft=Q;else le.scrollTop=Q}),Ak(()=>{w(g).scrollTop=w(_).scrollOffset});const ee={ns:p,clientSize:A,estimatedTotalSize:S,windowStyle:C,windowRef:g,innerRef:y,innerStyle:M,itemsToRender:x,scrollbarRef:b,states:_,getItemStyle:O,onScroll:B,onScrollbarScroll:k,onWheel:I,scrollTo:H,scrollToItem:z,resetScrollTop:j};return f({windowRef:g,innerRef:y,getItemStyleCache:v,scrollTo:H,scrollToItem:z,resetScrollTop:j,states:_}),ee},render(u){var d;const{$slots:f,className:h,clientSize:p,containerElement:m,data:v,getItemStyle:g,innerElement:y,itemsToRender:b,innerStyle:_,layout:x,total:S,onScroll:T,onScrollbarScroll:C,states:M,useIsScrolling:A,windowStyle:I,ns:D}=u,[L,F]=b,B=Nn(m),k=Nn(y),H=[];if(S>0)for(let j=L;j<=F;j++)H.push(Gt(zt,{key:j},(d=f.default)==null?void 0:d.call(f,{data:v,index:j,isScrolling:A?M.isScrolling:void 0,style:g(j)})));const z=[Gt(k,{style:_,ref:"innerRef"},qt(k)?H:{default:()=>H})],O=Gt(lR,{ref:"scrollbarRef",clientSize:p,layout:x,onScroll:C,ratio:p*100/this.estimatedTotalSize,scrollFrom:M.scrollOffset/(this.estimatedTotalSize-p),total:S}),W=Gt(B,{class:[D.e("window"),h],style:I,onScroll:T,ref:"windowRef",key:0},qt(B)?[z]:{default:()=>[z]});return Gt("div",{key:0,class:[D.e("wrapper"),M.scrollbarAlwaysOn?"always-on":""]},[W,O])}}),Qj=Zj({name:"ElFixedSizeList",getItemOffset:({itemSize:n},e)=>e*n,getItemSize:({itemSize:n})=>n,getEstimatedTotalSize:({total:n,itemSize:e})=>e*n,getOffset:({height:n,total:e,itemSize:t,layout:r,width:i},a,s,o)=>{const l=n_(r)?i:n,c=Math.max(0,e*t-l),u=Math.min(c,a*t),d=Math.max(0,(a+1)*t-l);switch(s===HT&&(o>=d-l&&o<=u+l?s=bl:s=Xc),s){case Jb:return u;case e_:return d;case Xc:{const f=Math.round(d+(u-d)/2);return f<Math.ceil(l/2)?0:f>c+Math.floor(l/2)?c:f}case bl:default:return o>=d&&o<=u?o:o<d?d:u}},getStartIndexForOffset:({total:n,itemSize:e},t)=>Math.max(0,Math.min(n-1,Math.floor(t/e))),getStopIndexForStartIndex:({height:n,total:e,itemSize:t,layout:r,width:i},a,s)=>{const o=a*t,l=n_(r)?i:n,c=Math.ceil((l+s-o)/t);return Math.max(0,Math.min(e-1,a+c-1))},initCache(){},clearCache:!0,validateProps(){}}),gv=(n,e,t)=>{const{itemSize:r}=n,{items:i,lastVisitedIndex:a}=t;if(e>a){let s=0;if(a>=0){const o=i[a];s=o.offset+o.size}for(let o=a+1;o<=e;o++){const l=r(o);i[o]={offset:s,size:l},s+=l}t.lastVisitedIndex=e}return i[e]},z3e=(n,e,t)=>{const{items:r,lastVisitedIndex:i}=e;return(i>0?r[i].offset:0)>=t?Jj(n,e,0,i,t):U3e(n,e,Math.max(0,i),t)},Jj=(n,e,t,r,i)=>{for(;t<=r;){const a=t+Math.floor((r-t)/2),s=gv(n,a,e).offset;if(s===i)return a;s<i?t=a+1:s>i&&(r=a-1)}return Math.max(0,t-1)},U3e=(n,e,t,r)=>{const{total:i}=n;let a=1;for(;t<i&&gv(n,t,e).offset<r;)t+=a,a*=2;return Jj(n,e,Math.floor(t/2),Math.min(t,i-1),r)},YF=({total:n},{items:e,estimatedItemSize:t,lastVisitedIndex:r})=>{let i=0;if(r>=n&&(r=n-1),r>=0){const o=e[r];i=o.offset+o.size}const s=(n-r-1)*t;return i+s},H3e=Zj({name:"ElDynamicSizeList",getItemOffset:(n,e,t)=>gv(n,e,t).offset,getItemSize:(n,e,{items:t})=>t[e].size,getEstimatedTotalSize:YF,getOffset:(n,e,t,r,i)=>{const{height:a,layout:s,width:o}=n,l=n_(s)?o:a,c=gv(n,e,i),u=YF(n,i),d=Math.max(0,Math.min(u-l,c.offset)),f=Math.max(0,c.offset-l+c.size);switch(t===HT&&(r>=f-l&&r<=d+l?t=bl:t=Xc),t){case Jb:return d;case e_:return f;case Xc:return Math.round(f+(d-f)/2);case bl:default:return r>=f&&r<=d?r:r<f?f:d}},getStartIndexForOffset:(n,e,t)=>z3e(n,t,e),getStopIndexForStartIndex:(n,e,t,r)=>{const{height:i,total:a,layout:s,width:o}=n,l=n_(s)?o:i,c=gv(n,e,r),u=t+l;let d=c.offset+c.size,f=e;for(;f<a-1&&d<u;)f++,d+=gv(n,f,r).size;return f},initCache({estimatedItemSize:n=nR},e){const t={items:{},estimatedItemSize:n,lastVisitedIndex:-1};return t.clearCacheAfterIndex=(r,i=!0)=>{var a,s;t.lastVisitedIndex=Math.min(t.lastVisitedIndex,r-1),(a=e.exposed)==null||a.getItemStyleCache(-1),i&&((s=e.proxy)==null||s.$forceUpdate())},t},clearCache:!1,validateProps:({itemSize:n})=>{}}),V3e={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var $3e=Re({name:"ElSelectDropdown",props:V3e,setup(n,{slots:e,expose:t}){const r=Ot(qL),i=bt("select"),{getLabel:a,getValue:s,getDisabled:o}=UT(r.props),l=ne([]),c=ne(),u=U(()=>n.data.length);dt(()=>u.value,()=>{var I,D;(D=(I=r.tooltipRef.value).updatePopper)==null||D.call(I)});const d=U(()=>Tr(r.props.estimatedOptionHeight)),f=U(()=>d.value?{itemSize:r.props.itemHeight}:{estimatedSize:r.props.estimatedOptionHeight,itemSize:I=>l.value[I]}),h=(I=[],D)=>{const{props:{valueKey:L}}=r;return Pn(D)?I&&I.some(F=>Lr(Gi(F,L))===Gi(D,L)):I.includes(D)},p=(I,D)=>{if(Pn(D)){const{valueKey:L}=r.props;return Gi(I,L)===Gi(D,L)}else return I===D},m=(I,D)=>r.props.multiple?h(I,s(D)):p(I,s(D)),v=(I,D)=>{const{disabled:L,multiple:F,multipleLimit:B}=r.props;return L||!D&&(F?B>0&&I.length>=B:!1)},g=I=>n.hoveringIndex===I;t({listRef:c,isSized:d,isItemDisabled:v,isItemHovering:g,isItemSelected:m,scrollToItem:I=>{const D=c.value;D&&D.scrollToItem(I)},resetScrollTop:()=>{const I=c.value;I&&I.resetScrollTop()}});const x=I=>{const{index:D,data:L,style:F}=I,B=w(d),{itemSize:k,estimatedSize:H}=w(f),{modelValue:z}=r.props,{onSelect:O,onHover:W}=r,j=L[D];if(j.type==="Group")return ue(_3e,{item:j,style:F,height:B?k:H},null);const ee=m(z,j),te=v(z,ee),J=g(D);return ue(E3e,Hn(I,{selected:ee,disabled:o(j)||te,created:!!j.created,hovering:J,item:j,onSelect:O,onHover:W}),{default:Q=>{var ie;return((ie=e.default)==null?void 0:ie.call(e,Q))||ue("span",null,[a(j)])}})},{onKeyboardNavigate:S,onKeyboardSelect:T}=r,C=()=>{S("forward")},M=()=>{S("backward")},A=I=>{const{code:D}=I,{tab:L,esc:F,down:B,up:k,enter:H,numpadEnter:z}=Nt;switch(D!==L&&(I.preventDefault(),I.stopPropagation()),D){case L:case F:break;case B:C();break;case k:M();break;case H:case z:T();break}};return()=>{var I,D,L,F;const{data:B,width:k}=n,{height:H,multiple:z,scrollbarAlwaysOn:O}=r.props,W=w(d)?Qj:H3e;return ue("div",{class:[i.b("dropdown"),i.is("multiple",z)],style:{width:`${k}px`}},[(I=e.header)==null?void 0:I.call(e),((D=e.loading)==null?void 0:D.call(e))||((L=e.empty)==null?void 0:L.call(e))||ue(W,Hn({ref:c},w(f),{className:i.be("dropdown","list"),scrollbarAlwaysOn:O,data:B,height:H,width:k,total:B.length,onKeydown:A}),{default:j=>ue(x,j,null)}),(F=e.footer)==null?void 0:F.call(e)])}}});function G3e(n,e){const{aliasProps:t,getLabel:r,getValue:i}=UT(n),a=ne(0),s=ne(),o=U(()=>n.allowCreate&&n.filterable);function l(h){const p=m=>r(m)===h;return n.options&&n.options.some(p)||e.createdOptions.some(p)}function c(h){o.value&&(n.multiple&&h.created?a.value++:s.value=h)}function u(h){if(o.value)if(h&&h.length>0){if(l(h))return;const p={[t.value.value]:h,[t.value.label]:h,created:!0,[t.value.disabled]:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=p:e.createdOptions.push(p)}else if(n.multiple)e.createdOptions.length=a.value;else{const p=s.value;e.createdOptions.length=0,p&&p.created&&e.createdOptions.push(p)}}function d(h){if(!o.value||!h||!h.created||h.created&&n.reserveKeyword&&e.inputValue===r(h))return;const p=e.createdOptions.findIndex(m=>i(m)===i(h));~p&&(e.createdOptions.splice(p,1),a.value--)}function f(){o.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:u,removeNewOption:d,selectNewOption:c,clearAllNewOption:f}}const W3e=11,q3e=(n,e)=>{const{t}=rr(),r=bt("select"),i=bt("input"),{form:a,formItem:s}=ss(),{inputId:o}=Fl(n,{formItemContext:s}),{aliasProps:l,getLabel:c,getValue:u,getDisabled:d,getOptions:f}=UT(n),{valueOnClear:h,isEmptyValue:p}=AT(n),m=mr({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),v=ne(-1),g=ne(),y=ne(),b=ne(),_=ne(),x=ne(),S=ne(),T=ne(),C=ne(),M=ne(),A=ne(),I=ne(),{isComposing:D,handleCompositionStart:L,handleCompositionEnd:F,handleCompositionUpdate:B}=ew({afterComposition:We=>On(We)}),{wrapperRef:k,isFocused:H,handleBlur:z}=wh(x,{beforeFocus(){return ee.value},afterFocus(){n.automaticDropdown&&!j.value&&(j.value=!0,m.menuVisibleOnFocus=!0)},beforeBlur(We){var lt,it;return((lt=b.value)==null?void 0:lt.isFocusInsideContent(We))||((it=_.value)==null?void 0:it.isFocusInsideContent(We))},afterBlur(){j.value=!1,m.menuVisibleOnFocus=!1}}),O=ne([]),W=ne([]),j=ne(!1),ee=U(()=>n.disabled||(a==null?void 0:a.disabled)),te=U(()=>{var We;return(We=a==null?void 0:a.statusIcon)!=null?We:!1}),J=U(()=>{const We=W.value.length*n.itemHeight;return We>n.height?n.height:We}),Q=U(()=>n.multiple?Tt(n.modelValue)&&n.modelValue.length>0:!p(n.modelValue)),ie=U(()=>n.clearable&&!ee.value&&m.inputHovering&&Q.value),le=U(()=>n.remote&&n.filterable?"":Rd),we=U(()=>le.value&&r.is("reverse",j.value)),Ae=U(()=>(s==null?void 0:s.validateState)||""),ke=U(()=>{if(Ae.value)return PT[Ae.value]}),Fe=U(()=>n.remote?300:0),q=U(()=>n.loading?n.loadingText||t("el.select.loading"):n.remote&&!m.inputValue&&O.value.length===0?!1:n.filterable&&m.inputValue&&O.value.length>0&&W.value.length===0?n.noMatchText||t("el.select.noMatch"):O.value.length===0?n.noDataText||t("el.select.noData"):null),ce=We=>{const lt=it=>{if(n.filterable&&Zt(n.filterMethod)||n.filterable&&n.remote&&Zt(n.remoteMethod))return!0;const Mt=new RegExp(AL(We),"i");return We?Mt.test(c(it)||""):!0};return n.loading?[]:[...m.createdOptions,...n.options].reduce((it,Mt)=>{const tn=f(Mt);if(Tt(tn)){const Qt=tn.filter(lt);Qt.length>0&&it.push({label:c(Mt),type:"Group"},...Qt)}else(n.remote||lt(Mt))&&it.push(Mt);return it},[])},re=()=>{O.value=ce(""),W.value=ce(m.inputValue)},Ne=U(()=>{const We=new Map;return O.value.forEach((lt,it)=>{We.set(At(u(lt)),{option:lt,index:it})}),We}),Pe=U(()=>{const We=new Map;return W.value.forEach((lt,it)=>{We.set(At(u(lt)),{option:lt,index:it})}),We}),$e=U(()=>W.value.every(We=>d(We))),Ue=Zi(),Ve=U(()=>Ue.value==="small"?"small":"default"),je=()=>{var We;v.value=((We=g.value)==null?void 0:We.offsetWidth)||200},fe=()=>{if(!y.value)return 0;const We=window.getComputedStyle(y.value);return Number.parseFloat(We.gap||"6px")},$=U(()=>{const We=fe();return{maxWidth:`${I.value&&n.maxCollapseTags===1?m.selectionWidth-m.collapseItemWidth-We:m.selectionWidth}px`}}),X=U(()=>({maxWidth:`${m.selectionWidth}px`})),me=U(()=>({width:`${Math.max(m.calculatorWidth,W3e)}px`})),Oe=U(()=>Tt(n.modelValue)?n.modelValue.length===0&&!m.inputValue:n.filterable?!m.inputValue:!0),qe=U(()=>{var We;const lt=(We=n.placeholder)!=null?We:t("el.select.placeholder");return n.multiple||!Q.value?lt:m.selectedLabel}),mt=U(()=>{var We,lt;return(lt=(We=b.value)==null?void 0:We.popperRef)==null?void 0:lt.contentRef}),pt=U(()=>{if(n.multiple){const We=n.modelValue.length;if(n.modelValue.length>0&&Pe.value.has(n.modelValue[We-1])){const{index:lt}=Pe.value.get(n.modelValue[We-1]);return lt}}else if(!p(n.modelValue)&&Pe.value.has(n.modelValue)){const{index:We}=Pe.value.get(n.modelValue);return We}return-1}),Ce=U({get(){return j.value&&q.value!==!1},set(We){j.value=We}}),ft=U(()=>n.multiple?n.collapseTags?m.cachedOptions.slice(0,n.maxCollapseTags):m.cachedOptions:[]),at=U(()=>n.multiple?n.collapseTags?m.cachedOptions.slice(n.maxCollapseTags):[]:[]),{createNewOption:G,removeNewOption:ge,selectNewOption:pe,clearAllNewOption:Ie}=G3e(n,m),ye=()=>{ee.value||(m.menuVisibleOnFocus?m.menuVisibleOnFocus=!1:j.value=!j.value)},Me=()=>{m.inputValue.length>0&&!j.value&&(j.value=!0),G(m.inputValue),Ee(m.inputValue)},ht=bo(Me,Fe.value),Ee=We=>{m.previousQuery===We||D.value||(m.previousQuery=We,n.filterable&&Zt(n.filterMethod)?n.filterMethod(We):n.filterable&&n.remote&&Zt(n.remoteMethod)&&n.remoteMethod(We),n.defaultFirstOption&&(n.filterable||n.remote)&&W.value.length?Yt(_t):Yt(yn))},_t=()=>{const We=W.value.filter(Mt=>!Mt.disabled&&Mt.type!=="Group"),lt=We.find(Mt=>Mt.created),it=We[0];m.hoveringIndex=Lt(W.value,lt||it)},nt=We=>{Ua(n.modelValue,We)||e(Rr,We)},gt=We=>{e(Tn,We),nt(We),m.previousValue=n.multiple?String(We):We},Lt=(We=[],lt)=>{if(!Pn(lt))return We.indexOf(lt);const it=n.valueKey;let Mt=-1;return We.some((tn,Qt)=>Gi(tn,it)===Gi(lt,it)?(Mt=Qt,!0):!1),Mt},At=We=>Pn(We)?Gi(We,n.valueKey):We,an=()=>{je()},_n=()=>{m.selectionWidth=y.value.getBoundingClientRect().width},lr=()=>{m.calculatorWidth=S.value.getBoundingClientRect().width},Ln=()=>{m.collapseItemWidth=I.value.getBoundingClientRect().width},jr=()=>{var We,lt;(lt=(We=b.value)==null?void 0:We.updatePopper)==null||lt.call(We)},Zn=()=>{var We,lt;(lt=(We=_.value)==null?void 0:We.updatePopper)==null||lt.call(We)},Y=We=>{if(n.multiple){let lt=n.modelValue.slice();const it=Lt(lt,u(We));it>-1?(lt=[...lt.slice(0,it),...lt.slice(it+1)],m.cachedOptions.splice(it,1),ge(We)):(n.multipleLimit<=0||lt.length<n.multipleLimit)&&(lt=[...lt,u(We)],m.cachedOptions.push(We),pe(We)),gt(lt),We.created&&Ee(""),n.filterable&&!n.reserveKeyword&&(m.inputValue="")}else m.selectedLabel=c(We),gt(u(We)),j.value=!1,pe(We),We.created||Ie();Ut()},oe=(We,lt)=>{let it=n.modelValue.slice();const Mt=Lt(it,u(lt));Mt>-1&&!ee.value&&(it=[...n.modelValue.slice(0,Mt),...n.modelValue.slice(Mt+1)],m.cachedOptions.splice(Mt,1),gt(it),e("remove-tag",u(lt)),ge(lt)),We.stopPropagation(),Ut()},Ut=()=>{var We;(We=x.value)==null||We.focus()},Te=()=>{var We;if(j.value){j.value=!1,Yt(()=>{var lt;return(lt=x.value)==null?void 0:lt.blur()});return}(We=x.value)==null||We.blur()},de=()=>{m.inputValue.length>0?m.inputValue="":j.value=!1},St=We=>uY(We,lt=>!m.cachedOptions.some(it=>u(it)===lt&&d(it))),vt=We=>{if(n.multiple&&We.code!==Nt.delete&&m.inputValue.length===0){We.preventDefault();const lt=n.modelValue.slice(),it=St(lt);if(it<0)return;const Mt=lt[it];lt.splice(it,1);const tn=m.cachedOptions[it];m.cachedOptions.splice(it,1),ge(tn),gt(lt),e("remove-tag",Mt)}},It=()=>{let We;Tt(n.modelValue)?We=[]:We=h.value,n.multiple?m.cachedOptions=[]:m.selectedLabel="",j.value=!1,gt(We),e("clear"),Ie(),Ut()},et=(We,lt=void 0)=>{const it=W.value;if(!["forward","backward"].includes(We)||ee.value||it.length<=0||$e.value||D.value)return;if(!j.value)return ye();lt===void 0&&(lt=m.hoveringIndex);let Mt=-1;We==="forward"?(Mt=lt+1,Mt>=it.length&&(Mt=0)):We==="backward"&&(Mt=lt-1,(Mt<0||Mt>=it.length)&&(Mt=it.length-1));const tn=it[Mt];if(d(tn)||tn.type==="Group")return et(We,Mt);m.hoveringIndex=Mt,st(Mt)},xt=()=>{if(j.value)~m.hoveringIndex&&W.value[m.hoveringIndex]&&Y(W.value[m.hoveringIndex]);else return ye()},Kt=We=>{m.hoveringIndex=We??-1},yn=()=>{n.multiple?m.hoveringIndex=W.value.findIndex(We=>n.modelValue.some(lt=>At(lt)===At(We))):m.hoveringIndex=W.value.findIndex(We=>At(We)===At(n.modelValue))},On=We=>{if(m.inputValue=We.target.value,n.remote)ht();else return Me()},Ze=We=>{if(j.value=!1,H.value){const lt=new FocusEvent("focus",We);z(lt)}},Xn=()=>(m.isBeforeHide=!1,Yt(()=>{~pt.value&&st(m.hoveringIndex)})),st=We=>{M.value.scrollToItem(We)},De=(We,lt)=>{const it=At(We);if(Ne.value.has(it)){const{option:Mt}=Ne.value.get(it);return Mt}if(lt&&lt.length){const Mt=lt.find(tn=>At(u(tn))===it);if(Mt)return Mt}return{[l.value.value]:We,[l.value.label]:We}},yt=(We=!1)=>{if(n.multiple)if(n.modelValue.length>0){const lt=m.cachedOptions.slice();m.cachedOptions.length=0,m.previousValue=n.modelValue.toString();for(const it of n.modelValue){const Mt=De(it,lt);m.cachedOptions.push(Mt)}}else m.cachedOptions=[],m.previousValue=void 0;else if(Q.value){m.previousValue=n.modelValue;const lt=W.value,it=lt.findIndex(Mt=>At(u(Mt))===At(n.modelValue));~it?m.selectedLabel=c(lt[it]):(!m.selectedLabel||We)&&(m.selectedLabel=At(n.modelValue))}else m.selectedLabel="",m.previousValue=void 0;Ie(),je()};return dt(j,We=>{We?Ee(""):(m.inputValue="",m.previousQuery=null,m.isBeforeHide=!0,G("")),e("visible-change",We)}),dt(()=>n.modelValue,(We,lt)=>{var it;(!We||Tt(We)&&We.length===0||n.multiple&&!Ua(We.toString(),m.previousValue)||!n.multiple&&At(We)!==At(m.previousValue))&&yt(!0),!Ua(We,lt)&&n.validateEvent&&((it=s==null?void 0:s.validate)==null||it.call(s,"change").catch(tn=>void 0))},{deep:!0}),dt(()=>n.options,()=>{const We=x.value;(!We||We&&document.activeElement!==We)&&yt()},{deep:!0,flush:"post"}),dt(()=>W.value,()=>M.value&&Yt(M.value.resetScrollTop)),Ea(()=>{m.isBeforeHide||re()}),Ea(()=>{const{valueKey:We,options:lt}=n,it=new Map;for(const Mt of lt){const tn=u(Mt);let Qt=tn;if(Pn(Qt)&&(Qt=Gi(tn,We)),it.get(Qt))break;it.set(Qt,!0)}}),pn(()=>{yt()}),ui(g,an),ui(y,_n),ui(S,lr),ui(M,jr),ui(k,jr),ui(A,Zn),ui(I,Ln),{inputId:o,collapseTagSize:Ve,currentPlaceholder:qe,expanded:j,emptyText:q,popupHeight:J,debounce:Fe,allOptions:O,filteredOptions:W,iconComponent:le,iconReverse:we,tagStyle:$,collapseTagStyle:X,inputStyle:me,popperSize:v,dropdownMenuVisible:Ce,hasModelValue:Q,shouldShowPlaceholder:Oe,selectDisabled:ee,selectSize:Ue,needStatusIcon:te,showClearBtn:ie,states:m,isFocused:H,nsSelect:r,nsInput:i,calculatorRef:S,inputRef:x,menuRef:M,tagMenuRef:A,tooltipRef:b,tagTooltipRef:_,selectRef:g,wrapperRef:k,selectionRef:y,prefixRef:T,suffixRef:C,collapseItemRef:I,popperRef:mt,validateState:Ae,validateIcon:ke,showTagList:ft,collapseTagList:at,debouncedOnInputChange:ht,deleteTag:oe,getLabel:c,getValue:u,getDisabled:d,getValueKey:At,handleClear:It,handleClickOutside:Ze,handleDel:vt,handleEsc:de,focus:Ut,blur:Te,handleMenuEnter:Xn,handleResize:an,resetSelectionWidth:_n,resetCalculatorWidth:lr,updateTooltip:jr,updateTagTooltip:Zn,updateOptions:re,toggleMenu:ye,scrollTo:st,onInput:On,onKeyboardNavigate:et,onKeyboardSelect:xt,onSelect:Y,onHover:Kt,handleCompositionStart:L,handleCompositionEnd:F,handleCompositionUpdate:B}},K3e=Re({name:"ElSelectV2",components:{ElSelectMenu:$3e,ElTag:fg,ElTooltip:is,ElIcon:Vt},directives:{ClickOutside:yd},props:x3e,emits:C3e,setup(n,{emit:e}){const t=U(()=>{const{modelValue:a,multiple:s}=n,o=s?[]:void 0;return Tt(a)?s?a:o:s?o:a}),r=q3e(mr({...ua(n),modelValue:t}),e);$n(qL,{props:mr({...ua(n),height:r.popupHeight,modelValue:t}),expanded:r.expanded,tooltipRef:r.tooltipRef,onSelect:r.onSelect,onHover:r.onHover,onKeyboardNavigate:r.onKeyboardNavigate,onKeyboardSelect:r.onKeyboardSelect});const i=U(()=>n.multiple?r.states.cachedOptions.map(a=>a.label):r.states.selectedLabel);return{...r,modelValue:t,selectedLabel:i}}});function Y3e(n,e,t,r,i,a){const s=Et("el-tag"),o=Et("el-tooltip"),l=Et("el-icon"),c=Et("el-select-menu"),u=mT("click-outside");return Cn((V(),he("div",{ref:"selectRef",class:Z([n.nsSelect.b(),n.nsSelect.m(n.selectSize)]),onMouseenter:d=>n.states.inputHovering=!0,onMouseleave:d=>n.states.inputHovering=!1},[ue(o,{ref:"tooltipRef",visible:n.dropdownMenuVisible,teleported:n.teleported,"popper-class":[n.nsSelect.e("popper"),n.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":n.popperOptions,"fallback-placements":n.fallbackPlacements,effect:n.effect,placement:n.placement,pure:"",transition:`${n.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:n.persistent,"append-to":n.appendTo,"show-arrow":n.showArrow,offset:n.offset,onBeforeShow:n.handleMenuEnter,onHide:d=>n.states.isBeforeHide=!1},{default:be(()=>[ve("div",{ref:"wrapperRef",class:Z([n.nsSelect.e("wrapper"),n.nsSelect.is("focused",n.isFocused),n.nsSelect.is("hovering",n.states.inputHovering),n.nsSelect.is("filterable",n.filterable),n.nsSelect.is("disabled",n.selectDisabled)]),onClick:sn(n.toggleMenu,["prevent"])},[n.$slots.prefix?(V(),he("div",{key:0,ref:"prefixRef",class:Z(n.nsSelect.e("prefix"))},[Qe(n.$slots,"prefix")],2)):Je("v-if",!0),ve("div",{ref:"selectionRef",class:Z([n.nsSelect.e("selection"),n.nsSelect.is("near",n.multiple&&!n.$slots.prefix&&!!n.modelValue.length)])},[n.multiple?Qe(n.$slots,"tag",{key:0},()=>[(V(!0),he(zt,null,In(n.showTagList,d=>(V(),he("div",{key:n.getValueKey(n.getValue(d)),class:Z(n.nsSelect.e("selected-item"))},[ue(s,{closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",style:Bt(n.tagStyle),onClose:f=>n.deleteTag(f,d)},{default:be(()=>[ve("span",{class:Z(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:n.getLabel(d),value:n.getValue(d)},()=>[dn(Ct(n.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),n.collapseTags&&n.modelValue.length>n.maxCollapseTags?(V(),rt(o,{key:0,ref:"tagTooltipRef",disabled:n.dropdownMenuVisible||!n.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:n.effect,placement:"bottom",teleported:n.teleported},{default:be(()=>[ve("div",{ref:"collapseItemRef",class:Z(n.nsSelect.e("selected-item"))},[ue(s,{closable:!1,size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,style:Bt(n.collapseTagStyle),"disable-transitions":""},{default:be(()=>[ve("span",{class:Z(n.nsSelect.e("tags-text"))}," + "+Ct(n.modelValue.length-n.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:be(()=>[ve("div",{ref:"tagMenuRef",class:Z(n.nsSelect.e("selection"))},[(V(!0),he(zt,null,In(n.collapseTagList,d=>(V(),he("div",{key:n.getValueKey(n.getValue(d)),class:Z(n.nsSelect.e("selected-item"))},[ue(s,{class:"in-tooltip",closable:!n.selectDisabled&&!n.getDisabled(d),size:n.collapseTagSize,type:n.tagType,effect:n.tagEffect,"disable-transitions":"",onClose:f=>n.deleteTag(f,d)},{default:be(()=>[ve("span",{class:Z(n.nsSelect.e("tags-text"))},[Qe(n.$slots,"label",{label:n.getLabel(d),value:n.getValue(d)},()=>[dn(Ct(n.getLabel(d)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):Je("v-if",!0)]):Je("v-if",!0),ve("div",{class:Z([n.nsSelect.e("selected-item"),n.nsSelect.e("input-wrapper"),n.nsSelect.is("hidden",!n.filterable)])},[Cn(ve("input",{id:n.inputId,ref:"inputRef","onUpdate:modelValue":d=>n.states.inputValue=d,style:Bt(n.inputStyle),autocomplete:n.autocomplete,tabindex:n.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":n.expanded,"aria-label":n.ariaLabel,class:Z([n.nsSelect.e("input"),n.nsSelect.is(n.selectSize)]),disabled:n.selectDisabled,role:"combobox",readonly:!n.filterable,spellcheck:"false",type:"text",name:n.name,onInput:n.onInput,onCompositionstart:n.handleCompositionStart,onCompositionupdate:n.handleCompositionUpdate,onCompositionend:n.handleCompositionEnd,onKeydown:[Ur(sn(d=>n.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),Ur(sn(d=>n.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),Ur(sn(n.onKeyboardSelect,["stop","prevent"]),["enter"]),Ur(sn(n.handleEsc,["stop","prevent"]),["esc"]),Ur(sn(n.handleDel,["stop"]),["delete"])],onClick:sn(n.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[yT,n.states.inputValue]]),n.filterable?(V(),he("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:Z(n.nsSelect.e("input-calculator")),textContent:Ct(n.states.inputValue)},null,10,["textContent"])):Je("v-if",!0)],2),n.shouldShowPlaceholder?(V(),he("div",{key:1,class:Z([n.nsSelect.e("selected-item"),n.nsSelect.e("placeholder"),n.nsSelect.is("transparent",!n.hasModelValue||n.expanded&&!n.states.inputValue)])},[n.hasModelValue?Qe(n.$slots,"label",{key:0,label:n.currentPlaceholder,value:n.modelValue},()=>[ve("span",null,Ct(n.currentPlaceholder),1)]):(V(),he("span",{key:1},Ct(n.currentPlaceholder),1))],2)):Je("v-if",!0)],2),ve("div",{ref:"suffixRef",class:Z(n.nsSelect.e("suffix"))},[n.iconComponent?Cn((V(),rt(l,{key:0,class:Z([n.nsSelect.e("caret"),n.nsInput.e("icon"),n.iconReverse])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])),[[fr,!n.showClearBtn]]):Je("v-if",!0),n.showClearBtn&&n.clearIcon?(V(),rt(l,{key:1,class:Z([n.nsSelect.e("caret"),n.nsInput.e("icon"),n.nsSelect.e("clear")]),onClick:sn(n.handleClear,["prevent","stop"])},{default:be(()=>[(V(),rt(Nn(n.clearIcon)))]),_:1},8,["class","onClick"])):Je("v-if",!0),n.validateState&&n.validateIcon&&n.needStatusIcon?(V(),rt(l,{key:2,class:Z([n.nsInput.e("icon"),n.nsInput.e("validateIcon")])},{default:be(()=>[(V(),rt(Nn(n.validateIcon)))]),_:1},8,["class"])):Je("v-if",!0)],2)],10,["onClick"])]),content:be(()=>[ue(c,{ref:"menuRef",data:n.filteredOptions,width:n.popperSize,"hovering-index":n.states.hoveringIndex,"scrollbar-always-on":n.scrollbarAlwaysOn},Rl({default:be(d=>[Qe(n.$slots,"default",oc(jf(d)))]),_:2},[n.$slots.header?{name:"header",fn:be(()=>[ve("div",{class:Z(n.nsSelect.be("dropdown","header"))},[Qe(n.$slots,"header")],2)])}:void 0,n.$slots.loading&&n.loading?{name:"loading",fn:be(()=>[ve("div",{class:Z(n.nsSelect.be("dropdown","loading"))},[Qe(n.$slots,"loading")],2)])}:n.loading||n.filteredOptions.length===0?{name:"empty",fn:be(()=>[ve("div",{class:Z(n.nsSelect.be("dropdown","empty"))},[Qe(n.$slots,"empty",{},()=>[ve("span",null,Ct(n.emptyText),1)])],2)])}:void 0,n.$slots.footer?{name:"footer",fn:be(()=>[ve("div",{class:Z(n.nsSelect.be("dropdown","footer"))},[Qe(n.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[u,n.handleClickOutside,n.popperRef]])}var X3e=Pt(K3e,[["render",Y3e],["__file","select.vue"]]);const j3e=gn(X3e),Z3e=Rt({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Ke([Number,Object])}}),Q3e=Rt({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),J3e=Re({name:"ElSkeletonItem"}),eEe=Re({...J3e,props:Q3e,setup(n){const e=bt("skeleton");return(t,r)=>(V(),he("div",{class:Z([w(e).e("item"),w(e).e(t.variant)])},[t.variant==="image"?(V(),rt(w(Mve),{key:0})):Je("v-if",!0)],2))}});var FC=Pt(eEe,[["__file","skeleton-item.vue"]]);const tEe=(n,e=0)=>{if(e===0)return n;const t=Pn(e)&&!!e.initVal,r=ne(t);let i=null;const a=o=>{if(Tr(o)){r.value=n.value;return}i&&clearTimeout(i),i=setTimeout(()=>{r.value=n.value},o)},s=o=>{o==="leading"?en(e)?a(e):a(e.leading):Pn(e)?a(e.trailing):r.value=!1};return pn(()=>s("leading")),dt(()=>n.value,o=>{s(o?"leading":"trailing")}),r},nEe=Re({name:"ElSkeleton"}),rEe=Re({...nEe,props:Z3e,setup(n,{expose:e}){const t=n,r=bt("skeleton"),i=tEe(_r(t,"loading"),t.throttle);return e({uiLoading:i}),(a,s)=>w(i)?(V(),he("div",Hn({key:0,class:[w(r).b(),w(r).is("animated",a.animated)]},a.$attrs),[(V(!0),he(zt,null,In(a.count,o=>(V(),he(zt,{key:o},[w(i)?Qe(a.$slots,"template",{key:o},()=>[ue(FC,{class:Z(w(r).is("first")),variant:"p"},null,8,["class"]),(V(!0),he(zt,null,In(a.rows,l=>(V(),rt(FC,{key:l,class:Z([w(r).e("paragraph"),w(r).is("last",l===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Je("v-if",!0)],64))),128))],16)):Qe(a.$slots,"default",oc(Hn({key:1},a.$attrs)))}});var iEe=Pt(rEe,[["__file","skeleton.vue"]]);const aEe=gn(iEe,{SkeletonItem:FC}),sEe=Ti(FC),eZ=Symbol("sliderContextKey"),oEe=Rt({modelValue:{type:Ke([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:ta,inputSize:ta,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Ke(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Ke(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Dd,default:"top"},marks:{type:Ke(Object)},validateEvent:{type:Boolean,default:!0},...$a(["ariaLabel"])}),K3=n=>en(n)||Tt(n)&&n.every(en),lEe={[Tn]:K3,[ns]:K3,[Rr]:K3},cEe=Rt({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Dd,default:"top"}}),uEe={[Tn]:n=>en(n)},dEe=(n,e,t)=>{const r=ne(),i=ne(!1),a=U(()=>e.value instanceof Function),s=U(()=>a.value&&e.value(n.modelValue)||n.modelValue),o=bo(()=>{t.value&&(i.value=!0)},50),l=bo(()=>{t.value&&(i.value=!1)},50);return{tooltip:r,tooltipVisible:i,formatValue:s,displayTooltip:o,hideTooltip:l}},fEe=(n,e,t)=>{const{disabled:r,min:i,max:a,step:s,showTooltip:o,precision:l,sliderSize:c,formatTooltip:u,emitChange:d,resetSize:f,updateDragging:h}=Ot(eZ),{tooltip:p,tooltipVisible:m,formatValue:v,displayTooltip:g,hideTooltip:y}=dEe(n,u,o),b=ne(),_=U(()=>`${(n.modelValue-i.value)/(a.value-i.value)*100}%`),x=U(()=>n.vertical?{bottom:_.value}:{left:_.value}),S=()=>{e.hovering=!0,g()},T=()=>{e.hovering=!1,e.dragging||y()},C=ee=>{r.value||(ee.preventDefault(),z(ee),window.addEventListener("mousemove",O),window.addEventListener("touchmove",O),window.addEventListener("mouseup",W),window.addEventListener("touchend",W),window.addEventListener("contextmenu",W),b.value.focus())},M=ee=>{r.value||(e.newPosition=Number.parseFloat(_.value)+ee/(a.value-i.value)*100,j(e.newPosition),d())},A=()=>{M(-s.value)},I=()=>{M(s.value)},D=()=>{M(-s.value*4)},L=()=>{M(s.value*4)},F=()=>{r.value||(j(0),d())},B=()=>{r.value||(j(100),d())},k=ee=>{let te=!0;switch(ee.code){case Nt.left:case Nt.down:A();break;case Nt.right:case Nt.up:I();break;case Nt.home:F();break;case Nt.end:B();break;case Nt.pageDown:D();break;case Nt.pageUp:L();break;default:te=!1;break}te&&ee.preventDefault()},H=ee=>{let te,J;return ee.type.startsWith("touch")?(J=ee.touches[0].clientY,te=ee.touches[0].clientX):(J=ee.clientY,te=ee.clientX),{clientX:te,clientY:J}},z=ee=>{e.dragging=!0,e.isClick=!0;const{clientX:te,clientY:J}=H(ee);n.vertical?e.startY=J:e.startX=te,e.startPosition=Number.parseFloat(_.value),e.newPosition=e.startPosition},O=ee=>{if(e.dragging){e.isClick=!1,g(),f();let te;const{clientX:J,clientY:Q}=H(ee);n.vertical?(e.currentY=Q,te=(e.startY-e.currentY)/c.value*100):(e.currentX=J,te=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+te,j(e.newPosition)}},W=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||y(),e.isClick||j(e.newPosition),d()},0),window.removeEventListener("mousemove",O),window.removeEventListener("touchmove",O),window.removeEventListener("mouseup",W),window.removeEventListener("touchend",W),window.removeEventListener("contextmenu",W))},j=async ee=>{if(ee===null||Number.isNaN(+ee))return;ee<0?ee=0:ee>100&&(ee=100);const te=100/((a.value-i.value)/s.value);let Q=Math.round(ee/te)*te*(a.value-i.value)*.01+i.value;Q=Number.parseFloat(Q.toFixed(l.value)),Q!==n.modelValue&&t(Tn,Q),!e.dragging&&n.modelValue!==e.oldValue&&(e.oldValue=n.modelValue),await Yt(),e.dragging&&g(),p.value.updatePopper()};return dt(()=>e.dragging,ee=>{h(ee)}),Ar(b,"touchstart",C,{passive:!1}),{disabled:r,button:b,tooltip:p,tooltipVisible:m,showTooltip:o,wrapperStyle:x,formatValue:v,handleMouseEnter:S,handleMouseLeave:T,onButtonDown:C,onKeyDown:k,setPosition:j}},hEe=Re({name:"ElSliderButton"}),pEe=Re({...hEe,props:cEe,emits:uEe,setup(n,{expose:e,emit:t}){const r=n,i=bt("slider"),a=mr({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:r.modelValue}),{disabled:s,button:o,tooltip:l,showTooltip:c,tooltipVisible:u,wrapperStyle:d,formatValue:f,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:m,onKeyDown:v,setPosition:g}=fEe(r,a,t),{hovering:y,dragging:b}=ua(a);return e({onButtonDown:m,onKeyDown:v,setPosition:g,hovering:y,dragging:b}),(_,x)=>(V(),he("div",{ref_key:"button",ref:o,class:Z([w(i).e("button-wrapper"),{hover:w(y),dragging:w(b)}]),style:Bt(w(d)),tabindex:w(s)?-1:0,onMouseenter:w(h),onMouseleave:w(p),onMousedown:w(m),onFocus:w(h),onBlur:w(p),onKeydown:w(v)},[ue(w(is),{ref_key:"tooltip",ref:l,visible:w(u),placement:_.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":_.tooltipClass,disabled:!w(c),persistent:w(c)},{content:be(()=>[ve("span",null,Ct(w(f)),1)]),default:be(()=>[ve("div",{class:Z([w(i).e("button"),{hover:w(y),dragging:w(b)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var XF=Pt(pEe,[["__file","button.vue"]]);const mEe=Rt({mark:{type:Ke([String,Object]),default:void 0}});var vEe=Re({name:"ElSliderMarker",props:mEe,setup(n){const e=bt("slider"),t=U(()=>qt(n.mark)?n.mark:n.mark.label),r=U(()=>qt(n.mark)?void 0:n.mark.style);return()=>Gt("div",{class:e.e("marks-text"),style:r.value},t.value)}});const gEe=(n,e,t)=>{const{form:r,formItem:i}=ss(),a=Ir(),s=ne(),o=ne(),l={firstButton:s,secondButton:o},c=U(()=>n.disabled||(r==null?void 0:r.disabled)||!1),u=U(()=>Math.min(e.firstValue,e.secondValue)),d=U(()=>Math.max(e.firstValue,e.secondValue)),f=U(()=>n.range?`${100*(d.value-u.value)/(n.max-n.min)}%`:`${100*(e.firstValue-n.min)/(n.max-n.min)}%`),h=U(()=>n.range?`${100*(u.value-n.min)/(n.max-n.min)}%`:"0%"),p=U(()=>n.vertical?{height:n.height}:{}),m=U(()=>n.vertical?{height:f.value,bottom:h.value}:{width:f.value,left:h.value}),v=()=>{a.value&&(e.sliderSize=a.value[`client${n.vertical?"Height":"Width"}`])},g=D=>{const L=n.min+D*(n.max-n.min)/100;if(!n.range)return s;let F;return Math.abs(u.value-L)<Math.abs(d.value-L)?F=e.firstValue<e.secondValue?"firstButton":"secondButton":F=e.firstValue>e.secondValue?"firstButton":"secondButton",l[F]},y=D=>{const L=g(D);return L.value.setPosition(D),L},b=D=>{e.firstValue=D??n.min,x(n.range?[u.value,d.value]:D??n.min)},_=D=>{e.secondValue=D,n.range&&x([u.value,d.value])},x=D=>{t(Tn,D),t(ns,D)},S=async()=>{await Yt(),t(Rr,n.range?[u.value,d.value]:n.modelValue)},T=D=>{var L,F,B,k,H,z;if(c.value||e.dragging)return;v();let O=0;if(n.vertical){const W=(B=(F=(L=D.touches)==null?void 0:L.item(0))==null?void 0:F.clientY)!=null?B:D.clientY;O=(a.value.getBoundingClientRect().bottom-W)/e.sliderSize*100}else{const W=(z=(H=(k=D.touches)==null?void 0:k.item(0))==null?void 0:H.clientX)!=null?z:D.clientX,j=a.value.getBoundingClientRect().left;O=(W-j)/e.sliderSize*100}if(!(O<0||O>100))return y(O)};return{elFormItem:i,slider:a,firstButton:s,secondButton:o,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:p,barStyle:m,resetSize:v,setPosition:y,emitChange:S,onSliderWrapperPrevent:D=>{var L,F;((L=l.firstButton.value)!=null&&L.dragging||(F=l.secondButton.value)!=null&&F.dragging)&&D.preventDefault()},onSliderClick:D=>{T(D)&&S()},onSliderDown:async D=>{const L=T(D);L&&(await Yt(),L.value.onButtonDown(D))},onSliderMarkerDown:D=>{c.value||e.dragging||y(D)},setFirstValue:b,setSecondValue:_}},yEe=(n,e,t,r)=>({stops:U(()=>{if(!n.showStops||n.min>n.max)return[];if(n.step===0)return[];const s=(n.max-n.min)/n.step,o=100*n.step/(n.max-n.min),l=Array.from({length:s-1}).map((c,u)=>(u+1)*o);return n.range?l.filter(c=>c<100*(t.value-n.min)/(n.max-n.min)||c>100*(r.value-n.min)/(n.max-n.min)):l.filter(c=>c>100*(e.firstValue-n.min)/(n.max-n.min))}),getStopStyle:s=>n.vertical?{bottom:`${s}%`}:{left:`${s}%`}}),bEe=n=>U(()=>n.marks?Object.keys(n.marks).map(Number.parseFloat).sort((t,r)=>t-r).filter(t=>t<=n.max&&t>=n.min).map(t=>({point:t,position:(t-n.min)*100/(n.max-n.min),mark:n.marks[t]})):[]),_Ee=(n,e,t,r,i,a)=>{const s=c=>{i(Tn,c),i(ns,c)},o=()=>n.range?![t.value,r.value].every((c,u)=>c===e.oldValue[u]):n.modelValue!==e.oldValue,l=()=>{var c,u;n.min>n.max&&fa("Slider","min should not be greater than max.");const d=n.modelValue;n.range&&Tt(d)?d[1]<n.min?s([n.min,n.min]):d[0]>n.max?s([n.max,n.max]):d[0]<n.min?s([n.min,d[1]]):d[1]>n.max?s([d[0],n.max]):(e.firstValue=d[0],e.secondValue=d[1],o()&&(n.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(f=>void 0)),e.oldValue=d.slice())):!n.range&&en(d)&&!Number.isNaN(d)&&(d<n.min?s(n.min):d>n.max?s(n.max):(e.firstValue=d,o()&&(n.validateEvent&&((u=a==null?void 0:a.validate)==null||u.call(a,"change").catch(f=>void 0)),e.oldValue=d)))};l(),dt(()=>e.dragging,c=>{c||l()}),dt(()=>n.modelValue,(c,u)=>{e.dragging||Tt(c)&&Tt(u)&&c.every((d,f)=>d===u[f])&&e.firstValue===c[0]&&e.secondValue===c[1]||l()},{deep:!0}),dt(()=>[n.min,n.max],()=>{l()})},wEe=(n,e,t)=>{const r=ne();return pn(async()=>{n.range?(Tt(n.modelValue)?(e.firstValue=Math.max(n.min,n.modelValue[0]),e.secondValue=Math.min(n.max,n.modelValue[1])):(e.firstValue=n.min,e.secondValue=n.max),e.oldValue=[e.firstValue,e.secondValue]):(!en(n.modelValue)||Number.isNaN(n.modelValue)?e.firstValue=n.min:e.firstValue=Math.min(n.max,Math.max(n.min,n.modelValue)),e.oldValue=e.firstValue),Ar(window,"resize",t),await Yt(),t()}),{sliderWrapper:r}},xEe=Re({name:"ElSlider"}),SEe=Re({...xEe,props:oEe,emits:lEe,setup(n,{expose:e,emit:t}){const r=n,i=bt("slider"),{t:a}=rr(),s=mr({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:o,slider:l,firstButton:c,secondButton:u,sliderDisabled:d,minValue:f,maxValue:h,runwayStyle:p,barStyle:m,resetSize:v,emitChange:g,onSliderWrapperPrevent:y,onSliderClick:b,onSliderDown:_,onSliderMarkerDown:x,setFirstValue:S,setSecondValue:T}=gEe(r,s,t),{stops:C,getStopStyle:M}=yEe(r,s,f,h),{inputId:A,isLabeledByFormItem:I}=Fl(r,{formItemContext:o}),D=Zi(),L=U(()=>r.inputSize||D.value),F=U(()=>r.ariaLabel||a("el.slider.defaultLabel",{min:r.min,max:r.max})),B=U(()=>r.range?r.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):F.value),k=U(()=>r.formatValueText?r.formatValueText(te.value):`${te.value}`),H=U(()=>r.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),z=U(()=>r.formatValueText?r.formatValueText(J.value):`${J.value}`),O=U(()=>[i.b(),i.m(D.value),i.is("vertical",r.vertical),{[i.m("with-input")]:r.showInput}]),W=bEe(r);_Ee(r,s,f,h,t,o);const j=U(()=>{const le=[r.min,r.max,r.step].map(we=>{const Ae=`${we}`.split(".")[1];return Ae?Ae.length:0});return Math.max.apply(null,le)}),{sliderWrapper:ee}=wEe(r,s,v),{firstValue:te,secondValue:J,sliderSize:Q}=ua(s),ie=le=>{s.dragging=le};return Ar(ee,"touchstart",y,{passive:!1}),Ar(ee,"touchmove",y,{passive:!1}),$n(eZ,{...ua(r),sliderSize:Q,disabled:d,precision:j,emitChange:g,resetSize:v,updateDragging:ie}),e({onSliderClick:b}),(le,we)=>{var Ae,ke;return V(),he("div",{id:le.range?w(A):void 0,ref_key:"sliderWrapper",ref:ee,class:Z(w(O)),role:le.range?"group":void 0,"aria-label":le.range&&!w(I)?w(F):void 0,"aria-labelledby":le.range&&w(I)?(Ae=w(o))==null?void 0:Ae.labelId:void 0},[ve("div",{ref_key:"slider",ref:l,class:Z([w(i).e("runway"),{"show-input":le.showInput&&!le.range},w(i).is("disabled",w(d))]),style:Bt(w(p)),onMousedown:w(_),onTouchstartPassive:w(_)},[ve("div",{class:Z(w(i).e("bar")),style:Bt(w(m))},null,6),ue(XF,{id:le.range?void 0:w(A),ref_key:"firstButton",ref:c,"model-value":w(te),vertical:le.vertical,"tooltip-class":le.tooltipClass,placement:le.placement,role:"slider","aria-label":le.range||!w(I)?w(B):void 0,"aria-labelledby":!le.range&&w(I)?(ke=w(o))==null?void 0:ke.labelId:void 0,"aria-valuemin":le.min,"aria-valuemax":le.range?w(J):le.max,"aria-valuenow":w(te),"aria-valuetext":w(k),"aria-orientation":le.vertical?"vertical":"horizontal","aria-disabled":w(d),"onUpdate:modelValue":w(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),le.range?(V(),rt(XF,{key:0,ref_key:"secondButton",ref:u,"model-value":w(J),vertical:le.vertical,"tooltip-class":le.tooltipClass,placement:le.placement,role:"slider","aria-label":w(H),"aria-valuemin":w(te),"aria-valuemax":le.max,"aria-valuenow":w(J),"aria-valuetext":w(z),"aria-orientation":le.vertical?"vertical":"horizontal","aria-disabled":w(d),"onUpdate:modelValue":w(T)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Je("v-if",!0),le.showStops?(V(),he("div",{key:1},[(V(!0),he(zt,null,In(w(C),(Fe,q)=>(V(),he("div",{key:q,class:Z(w(i).e("stop")),style:Bt(w(M)(Fe))},null,6))),128))])):Je("v-if",!0),w(W).length>0?(V(),he(zt,{key:2},[ve("div",null,[(V(!0),he(zt,null,In(w(W),(Fe,q)=>(V(),he("div",{key:q,style:Bt(w(M)(Fe.position)),class:Z([w(i).e("stop"),w(i).e("marks-stop")])},null,6))),128))]),ve("div",{class:Z(w(i).e("marks"))},[(V(!0),he(zt,null,In(w(W),(Fe,q)=>(V(),rt(w(vEe),{key:q,mark:Fe.mark,style:Bt(w(M)(Fe.position)),onMousedown:sn(ce=>w(x)(Fe.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):Je("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),le.showInput&&!le.range?(V(),rt(w(kj),{key:0,ref:"input","model-value":w(te),class:Z(w(i).e("input")),step:le.step,disabled:w(d),controls:le.showInputControls,min:le.min,max:le.max,precision:w(j),debounce:le.debounce,size:w(L),"onUpdate:modelValue":w(S),onChange:w(g)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Je("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var CEe=Pt(SEe,[["__file","slider.vue"]]);const MEe=gn(CEe),TEe=Rt({prefixCls:{type:String}}),jF=Re({name:"ElSpaceItem",props:TEe,setup(n,{slots:e}){const t=bt("space"),r=U(()=>`${n.prefixCls||t.b()}__item`);return()=>Gt("div",{class:r.value},Qe(e,"default"))}}),ZF={small:8,default:12,large:16};function AEe(n){const e=bt("space"),t=U(()=>[e.b(),e.m(n.direction),n.class]),r=ne(0),i=ne(0),a=U(()=>{const o=n.wrap||n.fill?{flexWrap:"wrap"}:{},l={alignItems:n.alignment},c={rowGap:`${i.value}px`,columnGap:`${r.value}px`};return[o,l,c,n.style]}),s=U(()=>n.fill?{flexGrow:1,minWidth:`${n.fillRatio}%`}:{});return Ea(()=>{const{size:o="small",wrap:l,direction:c,fill:u}=n;if(Tt(o)){const[d=0,f=0]=o;r.value=d,i.value=f}else{let d;en(o)?d=o:d=ZF[o||"small"]||ZF.small,(l||u)&&c==="horizontal"?r.value=i.value=d:c==="horizontal"?(r.value=d,i.value=0):(i.value=d,r.value=0)}}),{classes:t,containerStyle:a,itemStyle:s}}const EEe=Rt({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:Ke([String,Object,Array]),default:""},style:{type:Ke([String,Array,Object]),default:""},alignment:{type:Ke(String),default:"center"},prefixCls:{type:String},spacer:{type:Ke([Object,String,Number,Array]),default:null,validator:n=>_i(n)||en(n)||qt(n)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:bu,validator:n=>en(n)||Tt(n)&&n.length===2&&n.every(en)}}),IEe=Re({name:"ElSpace",props:EEe,setup(n,{slots:e}){const{classes:t,containerStyle:r,itemStyle:i}=AEe(n);function a(s,o="",l=[]){const{prefixCls:c}=n;return s.forEach((u,d)=>{z5(u)?Tt(u.children)&&u.children.forEach((f,h)=>{z5(f)&&Tt(f.children)?a(f.children,`${o+h}-`,l):l.push(ue(jF,{style:i.value,prefixCls:c,key:`nested-${o+h}`},{default:()=>[f]},cl.PROPS|cl.STYLE,["style","prefixCls"]))}):w_e(u)&&l.push(ue(jF,{style:i.value,prefixCls:c,key:`LoopKey${o+d}`},{default:()=>[u]},cl.PROPS|cl.STYLE,["style","prefixCls"]))}),l}return()=>{var s;const{spacer:o,direction:l}=n,c=Qe(e,"default",{key:0},()=>[]);if(((s=c.children)!=null?s:[]).length===0)return null;if(Tt(c.children)){let u=a(c.children);if(o){const d=u.length-1;u=u.reduce((f,h,p)=>{const m=[...f,h];return p!==d&&m.push(ue("span",{style:[i.value,l==="vertical"?"width: 100%":null],key:p},[_i(o)?o:dn(o,cl.TEXT)],cl.STYLE)),m},[])}return ue("div",{class:t.value,style:r.value},u,cl.STYLE|cl.CLASS)}return c.children}}}),REe=gn(IEe),PEe=Rt({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:Ke([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:Ke([String,Object,Array])}}),DEe=Re({name:"ElStatistic"}),kEe=Re({...DEe,props:PEe,setup(n,{expose:e}){const t=n,r=bt("statistic"),i=U(()=>{const{value:a,formatter:s,precision:o,decimalSeparator:l,groupSeparator:c}=t;if(Zt(s))return s(a);if(!en(a)||Number.isNaN(a))return a;let[u,d=""]=String(a).split(".");return d=d.padEnd(o,"0").slice(0,o>0?o:0),u=u.replace(/\B(?=(\d{3})+(?!\d))/g,c),[u,d].join(d?l:"")});return e({displayValue:i}),(a,s)=>(V(),he("div",{class:Z(w(r).b())},[a.$slots.title||a.title?(V(),he("div",{key:0,class:Z(w(r).e("head"))},[Qe(a.$slots,"title",{},()=>[dn(Ct(a.title),1)])],2)):Je("v-if",!0),ve("div",{class:Z(w(r).e("content"))},[a.$slots.prefix||a.prefix?(V(),he("div",{key:0,class:Z(w(r).e("prefix"))},[Qe(a.$slots,"prefix",{},()=>[ve("span",null,Ct(a.prefix),1)])],2)):Je("v-if",!0),ve("span",{class:Z(w(r).e("number")),style:Bt(a.valueStyle)},Ct(w(i)),7),a.$slots.suffix||a.suffix?(V(),he("div",{key:1,class:Z(w(r).e("suffix"))},[Qe(a.$slots,"suffix",{},()=>[ve("span",null,Ct(a.suffix),1)])],2)):Je("v-if",!0)],2)],2))}});var LEe=Pt(kEe,[["__file","statistic.vue"]]);const tZ=gn(LEe),NEe=Rt({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:Ke([Number,Object]),default:0},valueStyle:{type:Ke([String,Object,Array])}}),OEe={finish:()=>!0,[Rr]:n=>en(n)},BEe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],QF=n=>en(n)?new Date(n).getTime():n.valueOf(),JF=(n,e)=>{let t=n;const r=/\[([^\]]*)]/g;return BEe.reduce((a,[s,o])=>{const l=new RegExp(`${s}+(?![^\\[\\]]*\\])`,"g");if(l.test(a)){const c=Math.floor(t/o);return t-=c*o,a.replace(l,u=>String(c).padStart(u.length,"0"))}return a},e).replace(r,"$1")},FEe=Re({name:"ElCountdown"}),zEe=Re({...FEe,props:NEe,emits:OEe,setup(n,{expose:e,emit:t}){const r=n;let i;const a=ne(0),s=U(()=>JF(a.value,r.format)),o=u=>JF(u,r.format),l=()=>{i&&(lm(i),i=void 0)},c=()=>{const u=QF(r.value),d=()=>{let f=u-Date.now();t("change",f),f<=0?(f=0,l(),t("finish")):i=Jf(d),a.value=f};i=Jf(d)};return pn(()=>{a.value=QF(r.value)-Date.now(),dt(()=>[r.value,r.format],()=>{l(),c()},{immediate:!0})}),yr(()=>{l()}),e({displayValue:s}),(u,d)=>(V(),rt(w(tZ),{value:a.value,title:u.title,prefix:u.prefix,suffix:u.suffix,"value-style":u.valueStyle,formatter:o},Rl({_:2},[In(u.$slots,(f,h)=>({name:h,fn:be(()=>[Qe(u.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var UEe=Pt(zEe,[["__file","countdown.vue"]]);const HEe=gn(UEe),VEe=Rt({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),$Ee={[Rr]:(n,e)=>[n,e].every(en)},GEe=Re({name:"ElSteps"}),WEe=Re({...GEe,props:VEe,emits:$Ee,setup(n,{emit:e}){const t=n,r=bt("steps"),{children:i,addChild:a,removeChild:s}=ML(kn(),"ElStep");return dt(i,()=>{i.value.forEach((o,l)=>{o.setIndex(l)})}),$n("ElSteps",{props:t,steps:i,addStep:a,removeStep:s}),dt(()=>t.active,(o,l)=>{e(Rr,o,l)}),(o,l)=>(V(),he("div",{class:Z([w(r).b(),w(r).m(o.simple?"simple":o.direction)])},[Qe(o.$slots,"default")],2))}});var qEe=Pt(WEe,[["__file","steps.vue"]]);const KEe=Rt({title:{type:String,default:""},icon:{type:kr},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),YEe=Re({name:"ElStep"}),XEe=Re({...YEe,props:KEe,setup(n){const e=n,t=bt("step"),r=ne(-1),i=ne({}),a=ne(""),s=Ot("ElSteps"),o=kn();pn(()=>{dt([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],([S])=>{_(S)},{immediate:!0})}),yr(()=>{s.removeStep(x.uid)});const l=U(()=>e.status||a.value),c=U(()=>{const S=s.steps.value[r.value-1];return S?S.currentStatus:"wait"}),u=U(()=>s.props.alignCenter),d=U(()=>s.props.direction==="vertical"),f=U(()=>s.props.simple),h=U(()=>s.steps.value.length),p=U(()=>{var S;return((S=s.steps.value[h.value-1])==null?void 0:S.uid)===(o==null?void 0:o.uid)}),m=U(()=>f.value?"":s.props.space),v=U(()=>[t.b(),t.is(f.value?"simple":s.props.direction),t.is("flex",p.value&&!m.value&&!u.value),t.is("center",u.value&&!d.value&&!f.value)]),g=U(()=>{const S={flexBasis:en(m.value)?`${m.value}px`:m.value?m.value:`${100/(h.value-(u.value?0:1))}%`};return d.value||p.value&&(S.maxWidth=`${100/h.value}%`),S}),y=S=>{r.value=S},b=S=>{const T=S==="wait",C={transitionDelay:`${T?"-":""}${150*r.value}ms`},M=S===s.props.processStatus||T?0:100;C.borderWidth=M&&!f.value?"1px":0,C[s.props.direction==="vertical"?"height":"width"]=`${M}%`,i.value=C},_=S=>{S>r.value?a.value=s.props.finishStatus:S===r.value&&c.value!=="error"?a.value=s.props.processStatus:a.value="wait";const T=s.steps.value[r.value-1];T&&T.calcProgress(a.value)},x=mr({uid:o.uid,currentStatus:l,setIndex:y,calcProgress:b});return s.addStep(x),(S,T)=>(V(),he("div",{style:Bt(w(g)),class:Z(w(v))},[Je(" icon & line "),ve("div",{class:Z([w(t).e("head"),w(t).is(w(l))])},[w(f)?Je("v-if",!0):(V(),he("div",{key:0,class:Z(w(t).e("line"))},[ve("i",{class:Z(w(t).e("line-inner")),style:Bt(i.value)},null,6)],2)),ve("div",{class:Z([w(t).e("icon"),w(t).is(S.icon||S.$slots.icon?"icon":"text")])},[Qe(S.$slots,"icon",{},()=>[S.icon?(V(),rt(w(Vt),{key:0,class:Z(w(t).e("icon-inner"))},{default:be(()=>[(V(),rt(Nn(S.icon)))]),_:1},8,["class"])):w(l)==="success"?(V(),rt(w(Vt),{key:1,class:Z([w(t).e("icon-inner"),w(t).is("status")])},{default:be(()=>[ue(w(Q_))]),_:1},8,["class"])):w(l)==="error"?(V(),rt(w(Vt),{key:2,class:Z([w(t).e("icon-inner"),w(t).is("status")])},{default:be(()=>[ue(w(_c))]),_:1},8,["class"])):w(f)?Je("v-if",!0):(V(),he("div",{key:3,class:Z(w(t).e("icon-inner"))},Ct(r.value+1),3))])],2)],2),Je(" title & description "),ve("div",{class:Z(w(t).e("main"))},[ve("div",{class:Z([w(t).e("title"),w(t).is(w(l))])},[Qe(S.$slots,"title",{},()=>[dn(Ct(S.title),1)])],2),w(f)?(V(),he("div",{key:0,class:Z(w(t).e("arrow"))},null,2)):(V(),he("div",{key:1,class:Z([w(t).e("description"),w(t).is(w(l))])},[Qe(S.$slots,"description",{},()=>[dn(Ct(S.description),1)])],2))],2)],6))}});var nZ=Pt(XEe,[["__file","item.vue"]]);const jEe=gn(qEe,{Step:nZ}),ZEe=Ti(nZ),rZ=n=>["",...bu].includes(n),QEe=Rt({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:rZ},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:kr},activeActionIcon:{type:kr},activeIcon:{type:kr},inactiveIcon:{type:kr},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Ke(Function)},id:String,tabindex:{type:[String,Number]},...$a(["ariaLabel"])}),JEe={[Tn]:n=>Vr(n)||qt(n)||en(n),[Rr]:n=>Vr(n)||qt(n)||en(n),[ns]:n=>Vr(n)||qt(n)||en(n)},iZ="ElSwitch",e4e=Re({name:iZ}),t4e=Re({...e4e,props:QEe,emits:JEe,setup(n,{expose:e,emit:t}){const r=n,{formItem:i}=ss(),a=Zi(),s=bt("switch"),{inputId:o}=Fl(r,{formItemContext:i}),l=os(U(()=>r.loading)),c=ne(r.modelValue!==!1),u=ne(),d=ne(),f=U(()=>[s.b(),s.m(a.value),s.is("disabled",l.value),s.is("checked",g.value)]),h=U(()=>[s.e("label"),s.em("label","left"),s.is("active",!g.value)]),p=U(()=>[s.e("label"),s.em("label","right"),s.is("active",g.value)]),m=U(()=>({width:Di(r.width)}));dt(()=>r.modelValue,()=>{c.value=!0});const v=U(()=>c.value?r.modelValue:!1),g=U(()=>v.value===r.activeValue);[r.activeValue,r.inactiveValue].includes(v.value)||(t(Tn,r.inactiveValue),t(Rr,r.inactiveValue),t(ns,r.inactiveValue)),dt(g,x=>{var S;u.value.checked=x,r.validateEvent&&((S=i==null?void 0:i.validate)==null||S.call(i,"change").catch(T=>void 0))});const y=()=>{const x=g.value?r.inactiveValue:r.activeValue;t(Tn,x),t(Rr,x),t(ns,x),Yt(()=>{u.value.checked=g.value})},b=()=>{if(l.value)return;const{beforeChange:x}=r;if(!x){y();return}const S=x();[Rb(S),Vr(S)].includes(!0)||fa(iZ,"beforeChange must return type `Promise<boolean>` or `boolean`"),Rb(S)?S.then(C=>{C&&y()}).catch(C=>{}):S&&y()},_=()=>{var x,S;(S=(x=u.value)==null?void 0:x.focus)==null||S.call(x)};return pn(()=>{u.value.checked=g.value}),e({focus:_,checked:g}),(x,S)=>(V(),he("div",{class:Z(w(f)),onClick:sn(b,["prevent"])},[ve("input",{id:w(o),ref_key:"input",ref:u,class:Z(w(s).e("input")),type:"checkbox",role:"switch","aria-checked":w(g),"aria-disabled":w(l),"aria-label":x.ariaLabel,name:x.name,"true-value":x.activeValue,"false-value":x.inactiveValue,disabled:w(l),tabindex:x.tabindex,onChange:y,onKeydown:Ur(b,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!x.inlinePrompt&&(x.inactiveIcon||x.inactiveText)?(V(),he("span",{key:0,class:Z(w(h))},[x.inactiveIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.inactiveIcon)))]),_:1})):Je("v-if",!0),!x.inactiveIcon&&x.inactiveText?(V(),he("span",{key:1,"aria-hidden":w(g)},Ct(x.inactiveText),9,["aria-hidden"])):Je("v-if",!0)],2)):Je("v-if",!0),ve("span",{ref_key:"core",ref:d,class:Z(w(s).e("core")),style:Bt(w(m))},[x.inlinePrompt?(V(),he("div",{key:0,class:Z(w(s).e("inner"))},[x.activeIcon||x.inactiveIcon?(V(),rt(w(Vt),{key:0,class:Z(w(s).is("icon"))},{default:be(()=>[(V(),rt(Nn(w(g)?x.activeIcon:x.inactiveIcon)))]),_:1},8,["class"])):x.activeText||x.inactiveText?(V(),he("span",{key:1,class:Z(w(s).is("text")),"aria-hidden":!w(g)},Ct(w(g)?x.activeText:x.inactiveText),11,["aria-hidden"])):Je("v-if",!0)],2)):Je("v-if",!0),ve("div",{class:Z(w(s).e("action"))},[x.loading?(V(),rt(w(Vt),{key:0,class:Z(w(s).is("loading"))},{default:be(()=>[ue(w(lu))]),_:1},8,["class"])):w(g)?Qe(x.$slots,"active-action",{key:1},()=>[x.activeActionIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.activeActionIcon)))]),_:1})):Je("v-if",!0)]):w(g)?Je("v-if",!0):Qe(x.$slots,"inactive-action",{key:2},()=>[x.inactiveActionIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.inactiveActionIcon)))]),_:1})):Je("v-if",!0)])],2)],6),!x.inlinePrompt&&(x.activeIcon||x.activeText)?(V(),he("span",{key:1,class:Z(w(p))},[x.activeIcon?(V(),rt(w(Vt),{key:0},{default:be(()=>[(V(),rt(Nn(x.activeIcon)))]),_:1})):Je("v-if",!0),!x.activeIcon&&x.activeText?(V(),he("span",{key:1,"aria-hidden":!w(g)},Ct(x.activeText),9,["aria-hidden"])):Je("v-if",!0)],2)):Je("v-if",!0)],10,["onClick"]))}});var n4e=Pt(t4e,[["__file","switch.vue"]]);const r4e=gn(n4e),Y3=function(n){var e;return(e=n.target)==null?void 0:e.closest("td")},i4e=function(n,e,t,r,i){if(!e&&!r&&(!i||Tt(i)&&!i.length))return n;qt(t)?t=t==="descending"?-1:1:t=t&&t<0?-1:1;const a=r?null:function(o,l){return i?(Tt(i)||(i=[i]),i.map(c=>qt(c)?Gi(o,c):c(o,l,n))):(e!=="$key"&&Pn(o)&&"$value"in o&&(o=o.$value),[Pn(o)?Gi(o,e):o])},s=function(o,l){if(r)return r(o.value,l.value);for(let c=0,u=o.key.length;c<u;c++){if(o.key[c]<l.key[c])return-1;if(o.key[c]>l.key[c])return 1}return 0};return n.map((o,l)=>({value:o,index:l,key:a?a(o,l):null})).sort((o,l)=>{let c=s(o,l);return c||(c=o.index-l.index),c*+t}).map(o=>o.value)},aZ=function(n,e){let t=null;return n.columns.forEach(r=>{r.id===e&&(t=r)}),t},a4e=function(n,e){let t=null;for(let r=0;r<n.columns.length;r++){const i=n.columns[r];if(i.columnKey===e){t=i;break}}return t||fa("ElTable",`No column matching with column-key: ${e}`),t},e9=function(n,e,t){const r=(e.className||"").match(new RegExp(`${t}-table_[^\\s]+`,"gm"));return r?aZ(n,r[0]):null},xs=(n,e)=>{if(!n)throw new Error("Row is required when get row identity");if(qt(e)){if(!e.includes("."))return`${n[e]}`;const t=e.split(".");let r=n;for(const i of t)r=r[i];return`${r}`}else if(Zt(e))return e.call(null,n)},kp=function(n,e){const t={};return(n||[]).forEach((r,i)=>{t[xs(r,e)]={row:r,index:i}}),t};function s4e(n,e){const t={};let r;for(r in n)t[r]=n[r];for(r in e)if(sr(e,r)){const i=e[r];typeof i<"u"&&(t[r]=i)}return t}function jL(n){return n===""||n!==void 0&&(n=Number.parseInt(n,10),Number.isNaN(n)&&(n="")),n}function sZ(n){return n===""||n!==void 0&&(n=jL(n),Number.isNaN(n)&&(n=80)),n}function o4e(n){return en(n)?n:qt(n)?/^\d+(?:px)?$/.test(n)?Number.parseInt(n,10):n:null}function l4e(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function zC(n,e,t,r,i,a){let s=a??0,o=!1;const l=n.indexOf(e),c=l!==-1,u=i==null?void 0:i.call(null,e,a),d=h=>{h==="add"?n.push(e):n.splice(l,1),o=!0},f=h=>{let p=0;const m=(r==null?void 0:r.children)&&h[r.children];return m&&Tt(m)&&(p+=m.length,m.forEach(v=>{p+=f(v)})),p};return(!i||u)&&(Vr(t)?t&&!c?d("add"):!t&&c&&d("remove"):d(c?"remove":"add")),!(r!=null&&r.checkStrictly)&&(r!=null&&r.children)&&Tt(e[r.children])&&e[r.children].forEach(h=>{zC(n,h,t??!c,r,i,s+1),s+=f(h)+1}),o}function c4e(n,e,t="children",r="hasChildren"){const i=s=>!(Tt(s)&&s.length);function a(s,o,l){e(s,o,l),o.forEach(c=>{if(c[r]){e(c,null,l+1);return}const u=c[t];i(u)||a(c,u,l+1)})}n.forEach(s=>{if(s[r]){e(s,null,0);return}const o=s[t];i(o)||a(s,o,0)})}const t9=(n,e)=>({content:e,...n,popperOptions:{strategy:"fixed",...n.popperOptions}});let il=null;function u4e(n,e,t,r){if((il==null?void 0:il.trigger)===t){fY(il.vm.component.props,t9(n,e));return}il==null||il();const i=r==null?void 0:r.refs.tableWrapper,a=i==null?void 0:i.dataset.prefix,s=ue(is,{virtualTriggering:!0,virtualRef:t,appendTo:i,placement:"top",transition:"none",offset:0,hideAfter:0,...t9(n,e)});s.appContext={...r.appContext,...r};const o=document.createElement("div");Zf(s,o),s.component.exposed.onOpen();const l=i==null?void 0:i.querySelector(`.${a}-scrollbar__wrap`);il=()=>{Zf(null,o),l==null||l.removeEventListener("scroll",il),il=null},il.trigger=t,il.vm=s,l==null||l.addEventListener("scroll",il)}function oZ(n){return n.children?fme(n.children,oZ):[n]}function n9(n,e){return n+e.colSpan}const lZ=(n,e,t,r)=>{let i=0,a=n;const s=t.states.columns.value;if(r){const l=oZ(r[n]);i=s.slice(0,s.indexOf(l[0])).reduce(n9,0),a=i+l.reduce(n9,0)-1}else i=n;let o;switch(e){case"left":a<t.states.fixedLeafColumnsLength.value&&(o="left");break;case"right":i>=s.length-t.states.rightFixedLeafColumnsLength.value&&(o="right");break;default:a<t.states.fixedLeafColumnsLength.value?o="left":i>=s.length-t.states.rightFixedLeafColumnsLength.value&&(o="right")}return o?{direction:o,start:i,after:a}:{}},ZL=(n,e,t,r,i,a=0)=>{const s=[],{direction:o,start:l,after:c}=lZ(e,t,r,i);if(o){const u=o==="left";s.push(`${n}-fixed-column--${o}`),u&&c+a===r.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):!u&&l-a===r.states.columns.value.length-r.states.rightFixedLeafColumnsLength.value&&s.push("is-first-column")}return s};function r9(n,e){return n+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const QL=(n,e,t,r)=>{const{direction:i,start:a=0,after:s=0}=lZ(n,e,t,r);if(!i)return;const o={},l=i==="left",c=t.states.columns.value;return l?o.left=c.slice(0,a).reduce(r9,0):o.right=c.slice(s+1).reverse().reduce(r9,0),o},mg=(n,e)=>{n&&(Number.isNaN(n[e])||(n[e]=`${n[e]}px`))};function d4e(n){const e=kn(),t=ne(!1),r=ne([]);return{updateExpandRows:()=>{const l=n.data.value||[],c=n.rowKey.value;if(t.value)r.value=l.slice();else if(c){const u=kp(r.value,c);r.value=l.reduce((d,f)=>{const h=xs(f,c);return u[h]&&d.push(f),d},[])}else r.value=[]},toggleRowExpansion:(l,c)=>{zC(r.value,l,c)&&e.emit("expand-change",l,r.value.slice())},setExpandRowKeys:l=>{e.store.assertRowKey();const c=n.data.value||[],u=n.rowKey.value,d=kp(c,u);r.value=l.reduce((f,h)=>{const p=d[h];return p&&f.push(p.row),f},[])},isRowExpanded:l=>{const c=n.rowKey.value;return c?!!kp(r.value,c)[xs(l,c)]:r.value.includes(l)},states:{expandRows:r,defaultExpandAll:t}}}function f4e(n){const e=kn(),t=ne(null),r=ne(null),i=c=>{e.store.assertRowKey(),t.value=c,s(c)},a=()=>{t.value=null},s=c=>{const{data:u,rowKey:d}=n;let f=null;d.value&&(f=(w(u)||[]).find(h=>xs(h,d.value)===c)),r.value=f,e.emit("current-change",r.value,null)};return{setCurrentRowKey:i,restoreCurrentRowKey:a,setCurrentRowByKey:s,updateCurrentRow:c=>{const u=r.value;if(c&&c!==u){r.value=c,e.emit("current-change",r.value,u);return}!c&&u&&(r.value=null,e.emit("current-change",null,u))},updateCurrentRowData:()=>{const c=n.rowKey.value,u=n.data.value||[],d=r.value;if(!u.includes(d)&&d){if(c){const f=xs(d,c);s(f)}else r.value=null;r.value===null&&e.emit("current-change",null,d)}else t.value&&(s(t.value),a())},states:{_currentRowKey:t,currentRow:r}}}function h4e(n){const e=ne([]),t=ne({}),r=ne(16),i=ne(!1),a=ne({}),s=ne("hasChildren"),o=ne("children"),l=ne(!1),c=kn(),u=U(()=>{if(!n.rowKey.value)return{};const b=n.data.value||[];return f(b)}),d=U(()=>{const b=n.rowKey.value,_=Object.keys(a.value),x={};return _.length&&_.forEach(S=>{if(a.value[S].length){const T={children:[]};a.value[S].forEach(C=>{const M=xs(C,b);T.children.push(M),C[s.value]&&!x[M]&&(x[M]={children:[]})}),x[S]=T}}),x}),f=b=>{const _=n.rowKey.value,x={};return c4e(b,(S,T,C)=>{const M=xs(S,_);Tt(T)?x[M]={children:T.map(A=>xs(A,_)),level:C}:i.value&&(x[M]={children:[],lazy:!0,level:C})},o.value,s.value),x},h=(b=!1,_=(x=>(x=c.store)==null?void 0:x.states.defaultExpandAll.value)())=>{var x;const S=u.value,T=d.value,C=Object.keys(S),M={};if(C.length){const A=w(t),I=[],D=(F,B)=>{if(b)return e.value?_||e.value.includes(B):!!(_||F!=null&&F.expanded);{const k=_||e.value&&e.value.includes(B);return!!(F!=null&&F.expanded||k)}};C.forEach(F=>{const B=A[F],k={...S[F]};if(k.expanded=D(B,F),k.lazy){const{loaded:H=!1,loading:z=!1}=B||{};k.loaded=!!H,k.loading=!!z,I.push(F)}M[F]=k});const L=Object.keys(T);i.value&&L.length&&I.length&&L.forEach(F=>{const B=A[F],k=T[F].children;if(I.includes(F)){if(M[F].children.length!==0)throw new Error("[ElTable]children must be an empty array.");M[F].children=k}else{const{loaded:H=!1,loading:z=!1}=B||{};M[F]={lazy:!0,loaded:!!H,loading:!!z,expanded:D(B,F),children:k,level:""}}})}t.value=M,(x=c.store)==null||x.updateTableScrollY()};dt(()=>e.value,()=>{h(!0)}),dt(()=>u.value,()=>{h()}),dt(()=>d.value,()=>{h()});const p=b=>{e.value=b,h()},m=(b,_)=>{c.store.assertRowKey();const x=n.rowKey.value,S=xs(b,x),T=S&&t.value[S];if(S&&T&&"expanded"in T){const C=T.expanded;_=Tr(_)?!T.expanded:_,t.value[S].expanded=_,C!==_&&c.emit("expand-change",b,_),c.store.updateTableScrollY()}},v=b=>{c.store.assertRowKey();const _=n.rowKey.value,x=xs(b,_),S=t.value[x];i.value&&S&&"loaded"in S&&!S.loaded?g(b,x,S):m(b,void 0)},g=(b,_,x)=>{const{load:S}=c.props;S&&!t.value[_].loaded&&(t.value[_].loading=!0,S(b,x,T=>{if(!Tt(T))throw new TypeError("[ElTable] data must be an array");t.value[_].loading=!1,t.value[_].loaded=!0,t.value[_].expanded=!0,T.length&&(a.value[_]=T),c.emit("expand-change",b,!0)}))};return{loadData:g,loadOrToggle:v,toggleTreeExpansion:m,updateTreeExpandKeys:p,updateTreeData:h,updateKeyChildren:(b,_)=>{const{lazy:x,rowKey:S}=c.props;if(x){if(!S)throw new Error("[Table] rowKey is required in updateKeyChild");a.value[b]&&(a.value[b]=_)}},normalize:f,states:{expandRowKeys:e,treeData:t,indent:r,lazy:i,lazyTreeNodeMap:a,lazyColumnIdentifier:s,childrenColumnName:o,checkStrictly:l}}}const p4e=(n,e)=>{const t=e.sortingColumn;return!t||qt(t.sortable)?n:i4e(n,e.sortProp,e.sortOrder,t.sortMethod,t.sortBy)},A2=n=>{const e=[];return n.forEach(t=>{t.children&&t.children.length>0?e.push.apply(e,A2(t.children)):e.push(t)}),e};function m4e(){var n;const e=kn(),{size:t}=ua((n=e.proxy)==null?void 0:n.$props),r=ne(null),i=ne([]),a=ne([]),s=ne(!1),o=ne([]),l=ne([]),c=ne([]),u=ne([]),d=ne([]),f=ne([]),h=ne([]),p=ne([]),m=[],v=ne(0),g=ne(0),y=ne(0),b=ne(!1),_=ne([]),x=ne(!1),S=ne(!1),T=ne(null),C=ne({}),M=ne(null),A=ne(null),I=ne(null),D=ne(null),L=ne(null);dt(i,()=>{var G;e.state&&(z(!1),e.props.tableLayout==="auto"&&((G=e.refs.tableHeaderRef)==null||G.updateFixedColumnStyle()))},{deep:!0});const F=()=>{if(!r.value)throw new Error("[ElTable] prop row-key is required")},B=G=>{var ge;(ge=G.children)==null||ge.forEach(pe=>{pe.fixed=G.fixed,B(pe)})};let k;const H=()=>{o.value.forEach(ye=>{B(ye)}),u.value=o.value.filter(ye=>ye.fixed===!0||ye.fixed==="left"),d.value=o.value.filter(ye=>ye.fixed==="right"),Tr(k)&&o.value[0]&&o.value[0].type==="selection"&&(k=!!o.value[0].fixed),u.value.length>0&&o.value[0]&&o.value[0].type==="selection"&&(o.value[0].fixed?u.value.some(Me=>Me.type!=="selection")?k=void 0:(o.value[0].fixed=k,k||u.value.shift()):(o.value[0].fixed=!0,u.value.unshift(o.value[0])));const G=o.value.filter(ye=>!ye.fixed);l.value=[].concat(u.value).concat(G).concat(d.value);const ge=A2(G),pe=A2(u.value),Ie=A2(d.value);v.value=ge.length,g.value=pe.length,y.value=Ie.length,c.value=[].concat(pe).concat(ge).concat(Ie),s.value=u.value.length>0||d.value.length>0},z=(G,ge=!1)=>{G&&H(),ge?e.state.doLayout():e.state.debouncedUpdateLayout()},O=G=>_.value.some(ge=>Ua(ge,G)),W=()=>{b.value=!1;const G=_.value;_.value=[],G.length&&e.emit("selection-change",[])},j=()=>{let G;if(r.value){G=[];const ge=kp(_.value,r.value),pe=kp(i.value,r.value);for(const Ie in ge)sr(ge,Ie)&&!pe[Ie]&&G.push(ge[Ie].row)}else G=_.value.filter(ge=>!i.value.includes(ge));if(G.length){const ge=_.value.filter(pe=>!G.includes(pe));_.value=ge,e.emit("selection-change",ge.slice())}},ee=()=>(_.value||[]).slice(),te=(G,ge,pe=!0,Ie=!1)=>{var ye,Me,ht,Ee;const _t={children:(Me=(ye=e==null?void 0:e.store)==null?void 0:ye.states)==null?void 0:Me.childrenColumnName.value,checkStrictly:(Ee=(ht=e==null?void 0:e.store)==null?void 0:ht.states)==null?void 0:Ee.checkStrictly.value};if(zC(_.value,G,ge,_t,Ie?void 0:T.value)){const gt=(_.value||[]).slice();pe&&e.emit("select",gt,G),e.emit("selection-change",gt)}},J=()=>{var G,ge;const pe=S.value?!b.value:!(b.value||_.value.length);b.value=pe;let Ie=!1,ye=0;const Me=(ge=(G=e==null?void 0:e.store)==null?void 0:G.states)==null?void 0:ge.rowKey.value,{childrenColumnName:ht}=e.store.states,Ee={children:ht.value,checkStrictly:!1};i.value.forEach((_t,nt)=>{const gt=nt+ye;zC(_.value,_t,pe,Ee,T.value,gt)&&(Ie=!0),ye+=le(xs(_t,Me))}),Ie&&e.emit("selection-change",_.value?_.value.slice():[]),e.emit("select-all",(_.value||[]).slice())},Q=()=>{const G=kp(_.value,r.value);i.value.forEach(ge=>{const pe=xs(ge,r.value),Ie=G[pe];Ie&&(_.value[Ie.index]=ge)})},ie=()=>{var G;if(((G=i.value)==null?void 0:G.length)===0){b.value=!1;return}const{childrenColumnName:ge}=e.store.states,pe=r.value?kp(_.value,r.value):void 0;let Ie=0,ye=0;const Me=_t=>pe?!!pe[xs(_t,r.value)]:_.value.includes(_t),ht=_t=>{var nt;for(const gt of _t){const Lt=T.value&&T.value.call(null,gt,Ie);if(Me(gt))ye++;else if(!T.value||Lt)return!1;if(Ie++,(nt=gt[ge.value])!=null&&nt.length&&!ht(gt[ge.value]))return!1}return!0},Ee=ht(i.value||[]);b.value=ye===0?!1:Ee},le=G=>{var ge;if(!e||!e.store)return 0;const{treeData:pe}=e.store.states;let Ie=0;const ye=(ge=pe.value[G])==null?void 0:ge.children;return ye&&(Ie+=ye.length,ye.forEach(Me=>{Ie+=le(Me)})),Ie},we=(G,ge)=>{Tt(G)||(G=[G]);const pe={};return G.forEach(Ie=>{C.value[Ie.id]=ge,pe[Ie.columnKey||Ie.id]=ge}),pe},Ae=(G,ge,pe)=>{A.value&&A.value!==G&&(A.value.order=null),A.value=G,I.value=ge,D.value=pe},ke=()=>{let G=w(a);Object.keys(C.value).forEach(ge=>{const pe=C.value[ge];if(!pe||pe.length===0)return;const Ie=aZ({columns:c.value},ge);Ie&&Ie.filterMethod&&(G=G.filter(ye=>pe.some(Me=>Ie.filterMethod.call(null,Me,ye,Ie))))}),M.value=G},Fe=()=>{i.value=p4e(M.value,{sortingColumn:A.value,sortProp:I.value,sortOrder:D.value})},q=(G=void 0)=>{G&&G.filter||ke(),Fe()},ce=G=>{const{tableHeaderRef:ge}=e.refs;if(!ge)return;const pe=Object.assign({},ge.filterPanels),Ie=Object.keys(pe);if(Ie.length)if(qt(G)&&(G=[G]),Tt(G)){const ye=G.map(Me=>a4e({columns:c.value},Me));Ie.forEach(Me=>{const ht=ye.find(Ee=>Ee.id===Me);ht&&(ht.filteredValue=[])}),e.store.commit("filterChange",{column:ye,values:[],silent:!0,multi:!0})}else Ie.forEach(ye=>{const Me=c.value.find(ht=>ht.id===ye);Me&&(Me.filteredValue=[])}),C.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},re=()=>{A.value&&(Ae(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Ne,toggleRowExpansion:Pe,updateExpandRows:$e,states:Ue,isRowExpanded:Ve}=d4e({data:i,rowKey:r}),{updateTreeExpandKeys:je,toggleTreeExpansion:fe,updateTreeData:$,updateKeyChildren:X,loadOrToggle:me,states:Oe}=h4e({data:i,rowKey:r}),{updateCurrentRowData:qe,updateCurrentRow:mt,setCurrentRowKey:pt,states:Ce}=f4e({data:i,rowKey:r});return{assertRowKey:F,updateColumns:H,scheduleLayout:z,isSelected:O,clearSelection:W,cleanSelection:j,getSelectionRows:ee,toggleRowSelection:te,_toggleAllSelection:J,toggleAllSelection:null,updateSelectionByRowKey:Q,updateAllSelected:ie,updateFilters:we,updateCurrentRow:mt,updateSort:Ae,execFilter:ke,execSort:Fe,execQuery:q,clearFilter:ce,clearSort:re,toggleRowExpansion:Pe,setExpandRowKeysAdapter:G=>{Ne(G),je(G)},setCurrentRowKey:pt,toggleRowExpansionAdapter:(G,ge)=>{c.value.some(({type:Ie})=>Ie==="expand")?Pe(G,ge):fe(G,ge)},isRowExpanded:Ve,updateExpandRows:$e,updateCurrentRowData:qe,loadOrToggle:me,updateTreeData:$,updateKeyChildren:X,states:{tableSize:t,rowKey:r,data:i,_data:a,isComplex:s,_columns:o,originColumns:l,columns:c,fixedColumns:u,rightFixedColumns:d,leafColumns:f,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:m,leafColumnsLength:v,fixedLeafColumnsLength:g,rightFixedLeafColumnsLength:y,isAllSelected:b,selection:_,reserveSelection:x,selectOnIndeterminate:S,selectable:T,filters:C,filteredData:M,sortingColumn:A,sortProp:I,sortOrder:D,hoverRow:L,...Ue,...Oe,...Ce}}}function cR(n,e){return n.map(t=>{var r;return t.id===e.id?e:((r=t.children)!=null&&r.length&&(t.children=cR(t.children,e)),t)})}function uR(n){n.forEach(e=>{var t,r;e.no=(t=e.getColumnIndex)==null?void 0:t.call(e),(r=e.children)!=null&&r.length&&uR(e.children)}),n.sort((e,t)=>e.no-t.no)}function v4e(){const n=kn(),e=m4e();return{ns:bt("table"),...e,mutations:{setData(s,o){const l=w(s._data)!==o;s.data.value=o,s._data.value=o,n.store.execQuery(),n.store.updateCurrentRowData(),n.store.updateExpandRows(),n.store.updateTreeData(n.store.states.defaultExpandAll.value),w(s.reserveSelection)?(n.store.assertRowKey(),n.store.updateSelectionByRowKey()):l?n.store.clearSelection():n.store.cleanSelection(),n.store.updateAllSelected(),n.$ready&&n.store.scheduleLayout()},insertColumn(s,o,l,c){const u=w(s._columns);let d=[];l?(l&&!l.children&&(l.children=[]),l.children.push(o),d=cR(u,l)):(u.push(o),d=u),uR(d),s._columns.value=d,s.updateOrderFns.push(c),o.type==="selection"&&(s.selectable.value=o.selectable,s.reserveSelection.value=o.reserveSelection),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},updateColumnOrder(s,o){var l;((l=o.getColumnIndex)==null?void 0:l.call(o))!==o.no&&(uR(s._columns.value),n.$ready&&n.store.updateColumns())},removeColumn(s,o,l,c){const u=w(s._columns)||[];if(l)l.children.splice(l.children.findIndex(f=>f.id===o.id),1),Yt(()=>{var f;((f=l.children)==null?void 0:f.length)===0&&delete l.children}),s._columns.value=cR(u,l);else{const f=u.indexOf(o);f>-1&&(u.splice(f,1),s._columns.value=u)}const d=s.updateOrderFns.indexOf(c);d>-1&&s.updateOrderFns.splice(d,1),n.$ready&&(n.store.updateColumns(),n.store.scheduleLayout())},sort(s,o){const{prop:l,order:c,init:u}=o;if(l){const d=w(s.columns).find(f=>f.property===l);d&&(d.order=c,n.store.updateSort(d,l,c),n.store.commit("changeSortCondition",{init:u}))}},changeSortCondition(s,o){const{sortingColumn:l,sortProp:c,sortOrder:u}=s,d=w(l),f=w(c),h=w(u);h===null&&(s.sortingColumn.value=null,s.sortProp.value=null);const p={filter:!0};n.store.execQuery(p),(!o||!(o.silent||o.init))&&n.emit("sort-change",{column:d,prop:f,order:h}),n.store.updateTableScrollY()},filterChange(s,o){const{column:l,values:c,silent:u}=o,d=n.store.updateFilters(l,c);n.store.execQuery(),u||n.emit("filter-change",d),n.store.updateTableScrollY()},toggleAllSelection(){n.store.toggleAllSelection()},rowSelectedChanged(s,o){n.store.toggleRowSelection(o),n.store.updateAllSelected()},setHoverRow(s,o){s.hoverRow.value=o},setCurrentRow(s,o){n.store.updateCurrentRow(o)}},commit:function(s,...o){const l=n.store.mutations;if(l[s])l[s].apply(n,[n.store.states].concat(o));else throw new Error(`Action not found: ${s}`)},updateTableScrollY:function(){Yt(()=>n.layout.updateScrollY.apply(n.layout))}}}const Q1={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function g4e(n,e){if(!n)throw new Error("Table is required.");const t=v4e();return t.toggleAllSelection=bo(t._toggleAllSelection,10),Object.keys(Q1).forEach(r=>{cZ(uZ(e,r),r,t)}),y4e(t,e),t}function y4e(n,e){Object.keys(Q1).forEach(t=>{dt(()=>uZ(e,t),r=>{cZ(r,t,n)})})}function cZ(n,e,t){let r=n,i=Q1[e];typeof Q1[e]=="object"&&(i=i.key,r=r||Q1[e].default),t.states[i].value=r}function uZ(n,e){if(e.includes(".")){const t=e.split(".");let r=n;return t.forEach(i=>{r=r[i]}),r}else return n[e]}class b4e{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ne(null),this.scrollX=ne(!1),this.scrollY=ne(!1),this.bodyWidth=ne(null),this.fixedWidth=ne(null),this.rightFixedWidth=ne(null),this.gutterWidth=0;for(const t in e)sr(e,t)&&(Yr(this[t])?this[t].value=e[t]:this[t]=e[t]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(t!=null&&t.wrapRef)){let r=!0;const i=this.scrollY.value;return r=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=r,i!==r}return!1}setHeight(e,t="height"){if(!nr)return;const r=this.table.vnode.el;if(e=o4e(e),this.height.value=Number(e),!r&&(e||e===0))return Yt(()=>this.setHeight(e,t));en(e)?(r.style[t]=`${e}px`,this.updateElsHeight()):qt(e)&&(r.style[t]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(r=>{r.isColumnGroup?e.push.apply(e,r.columns):e.push(r)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let t=e;for(;t.tagName!=="DIV";){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}updateColumnsWidth(){if(!nr)return;const e=this.fit,t=this.table.vnode.el.clientWidth;let r=0;const i=this.getFlattenColumns(),a=i.filter(l=>!en(l.width));if(i.forEach(l=>{en(l.width)&&l.realWidth&&(l.realWidth=null)}),a.length>0&&e){if(i.forEach(l=>{r+=Number(l.width||l.minWidth||80)}),r<=t){this.scrollX.value=!1;const l=t-r;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+l;else{const c=a.reduce((f,h)=>f+Number(h.minWidth||80),0),u=l/c;let d=0;a.forEach((f,h)=>{if(h===0)return;const p=Math.floor(Number(f.minWidth||80)*u);d+=p,f.realWidth=Number(f.minWidth||80)+p}),a[0].realWidth=Number(a[0].minWidth||80)+l-d}}else this.scrollX.value=!0,a.forEach(l=>{l.realWidth=Number(l.minWidth)});this.bodyWidth.value=Math.max(r,t),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach(l=>{!l.width&&!l.minWidth?l.realWidth=80:l.realWidth=Number(l.width||l.minWidth),r+=l.realWidth}),this.scrollX.value=r>t,this.bodyWidth.value=r;const s=this.store.states.fixedColumns.value;if(s.length>0){let l=0;s.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.fixedWidth.value=l}const o=this.store.states.rightFixedColumns.value;if(o.length>0){let l=0;o.forEach(c=>{l+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=l}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const t=this.observers.indexOf(e);t!==-1&&this.observers.splice(t,1)}notifyObservers(e){this.observers.forEach(r=>{var i,a;switch(e){case"columns":(i=r.state)==null||i.onColumnsChange(this);break;case"scrollable":(a=r.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:_4e}=Ll,w4e=Re({name:"ElTableFilterPanel",components:{ElCheckbox:Ll,ElCheckboxGroup:_4e,ElScrollbar:_u,ElTooltip:is,ElIcon:Vt,ArrowDown:Rd,ArrowUp:rL},directives:{ClickOutside:yd},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(n){const e=kn(),{t}=rr(),r=bt("table-filter"),i=e==null?void 0:e.parent;i.filterPanels.value[n.column.id]||(i.filterPanels.value[n.column.id]=e);const a=ne(!1),s=ne(null),o=U(()=>n.column&&n.column.filters),l=U(()=>n.column.filterClassName?`${r.b()} ${n.column.filterClassName}`:r.b()),c=U({get:()=>{var x;return(((x=n.column)==null?void 0:x.filteredValue)||[])[0]},set:x=>{u.value&&(typeof x<"u"&&x!==null?u.value.splice(0,1,x):u.value.splice(0,1))}}),u=U({get(){return n.column?n.column.filteredValue||[]:[]},set(x){n.column&&n.upDataColumn("filteredValue",x)}}),d=U(()=>n.column?n.column.filterMultiple:!0),f=x=>x.value===c.value,h=()=>{a.value=!1},p=x=>{x.stopPropagation(),a.value=!a.value},m=()=>{a.value=!1},v=()=>{b(u.value),h()},g=()=>{u.value=[],b(u.value),h()},y=x=>{c.value=x,b(typeof x<"u"&&x!==null?u.value:[]),h()},b=x=>{n.store.commit("filterChange",{column:n.column,values:x}),n.store.updateAllSelected()};dt(a,x=>{n.column&&n.upDataColumn("filterOpened",x)},{immediate:!0});const _=U(()=>{var x,S;return(S=(x=s.value)==null?void 0:x.popperRef)==null?void 0:S.contentRef});return{tooltipVisible:a,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:o,handleConfirm:v,handleReset:g,handleSelect:y,isActive:f,t,ns:r,showFilterPanel:p,hideFilterPanel:m,popperPaneRef:_,tooltip:s}}});function x4e(n,e,t,r,i,a){const s=Et("el-checkbox"),o=Et("el-checkbox-group"),l=Et("el-scrollbar"),c=Et("arrow-up"),u=Et("arrow-down"),d=Et("el-icon"),f=Et("el-tooltip"),h=mT("click-outside");return V(),rt(f,{ref:"tooltip",visible:n.tooltipVisible,offset:0,placement:n.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":n.filterClassName,persistent:"","append-to":n.appendTo},{content:be(()=>[n.multiple?(V(),he("div",{key:0},[ve("div",{class:Z(n.ns.e("content"))},[ue(l,{"wrap-class":n.ns.e("wrap")},{default:be(()=>[ue(o,{modelValue:n.filteredValue,"onUpdate:modelValue":p=>n.filteredValue=p,class:Z(n.ns.e("checkbox-group"))},{default:be(()=>[(V(!0),he(zt,null,In(n.filters,p=>(V(),rt(s,{key:p.value,value:p.value},{default:be(()=>[dn(Ct(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),ve("div",{class:Z(n.ns.e("bottom"))},[ve("button",{class:Z({[n.ns.is("disabled")]:n.filteredValue.length===0}),disabled:n.filteredValue.length===0,type:"button",onClick:n.handleConfirm},Ct(n.t("el.table.confirmFilter")),11,["disabled","onClick"]),ve("button",{type:"button",onClick:n.handleReset},Ct(n.t("el.table.resetFilter")),9,["onClick"])],2)])):(V(),he("ul",{key:1,class:Z(n.ns.e("list"))},[ve("li",{class:Z([n.ns.e("list-item"),{[n.ns.is("active")]:n.filterValue===void 0||n.filterValue===null}]),onClick:p=>n.handleSelect(null)},Ct(n.t("el.table.clearFilter")),11,["onClick"]),(V(!0),he(zt,null,In(n.filters,p=>(V(),he("li",{key:p.value,class:Z([n.ns.e("list-item"),n.ns.is("active",n.isActive(p))]),label:p.value,onClick:m=>n.handleSelect(p.value)},Ct(p.text),11,["label","onClick"]))),128))],2))]),default:be(()=>[Cn((V(),he("span",{class:Z([`${n.ns.namespace.value}-table__column-filter-trigger`,`${n.ns.namespace.value}-none-outline`]),onClick:n.showFilterPanel},[ue(d,null,{default:be(()=>[Qe(n.$slots,"filter-icon",{},()=>[n.column.filterOpened?(V(),rt(c,{key:0})):(V(),rt(u,{key:1}))])]),_:3})],10,["onClick"])),[[h,n.hideFilterPanel,n.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var S4e=Pt(w4e,[["render",x4e],["__file","filter-panel.vue"]]);function dZ(n){const e=kn();pT(()=>{t.value.addObserver(e)}),pn(()=>{r(t.value),i(t.value)}),Bl(()=>{r(t.value),i(t.value)}),yh(()=>{t.value.removeObserver(e)});const t=U(()=>{const a=n.layout;if(!a)throw new Error("Can not find table layout.");return a}),r=a=>{var s;const o=((s=n.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col"))||[];if(!o.length)return;const l=a.getFlattenColumns(),c={};l.forEach(u=>{c[u.id]=u});for(let u=0,d=o.length;u<d;u++){const f=o[u],h=f.getAttribute("name"),p=c[h];p&&f.setAttribute("width",p.realWidth||p.width)}},i=a=>{var s,o;const l=((s=n.vnode.el)==null?void 0:s.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let u=0,d=l.length;u<d;u++)l[u].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const c=((o=n.vnode.el)==null?void 0:o.querySelectorAll("th.gutter"))||[];for(let u=0,d=c.length;u<d;u++){const f=c[u];f.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",f.style.display=a.scrollY.value?"":"none"}};return{tableLayout:t.value,onColumnsChange:r,onScrollableChange:i}}const Su=Symbol("ElTable");function C4e(n,e){const t=kn(),r=Ot(Su),i=m=>{m.stopPropagation()},a=(m,v)=>{!v.filters&&v.sortable?p(m,v,!1):v.filterable&&!v.sortable&&i(m),r==null||r.emit("header-click",v,m)},s=(m,v)=>{r==null||r.emit("header-contextmenu",v,m)},o=ne(null),l=ne(!1),c=ne({}),u=(m,v)=>{if(nr&&!(v.children&&v.children.length>0)&&o.value&&n.border){l.value=!0;const g=r;e("set-drag-visible",!0);const b=(g==null?void 0:g.vnode.el).getBoundingClientRect().left,_=t.vnode.el.querySelector(`th.${v.id}`),x=_.getBoundingClientRect(),S=x.left-b+30;yl(_,"noclick"),c.value={startMouseLeft:m.clientX,startLeft:x.right-b,startColumnLeft:x.left-b,tableLeft:b};const T=g==null?void 0:g.refs.resizeProxy;T.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const C=A=>{const I=A.clientX-c.value.startMouseLeft,D=c.value.startLeft+I;T.style.left=`${Math.max(S,D)}px`},M=()=>{if(l.value){const{startColumnLeft:A,startLeft:I}=c.value,L=Number.parseInt(T.style.left,10)-A;v.width=v.realWidth=L,g==null||g.emit("header-dragend",v.width,I-A,v,m),requestAnimationFrame(()=>{n.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",l.value=!1,o.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",C),document.removeEventListener("mouseup",M),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{Ts(_,"noclick")},0)};document.addEventListener("mousemove",C),document.addEventListener("mouseup",M)}},d=(m,v)=>{var g;if(v.children&&v.children.length>0)return;const y=m.target;if(!Ho(y))return;const b=y==null?void 0:y.closest("th");if(!(!v||!v.resizable||!b)&&!l.value&&n.border){const _=b.getBoundingClientRect(),x=document.body.style,S=((g=b.parentNode)==null?void 0:g.lastElementChild)===b;_.width>12&&_.right-m.pageX<8&&!S?(x.cursor="col-resize",co(b,"is-sortable")&&(b.style.cursor="col-resize"),o.value=v):l.value||(x.cursor="",co(b,"is-sortable")&&(b.style.cursor="pointer"),o.value=null)}},f=()=>{nr&&(document.body.style.cursor="")},h=({order:m,sortOrders:v})=>{if(m==="")return v[0];const g=v.indexOf(m||null);return v[g>v.length-2?0:g+1]},p=(m,v,g)=>{var y;m.stopPropagation();const b=v.order===g?null:g||h(v),_=(y=m.target)==null?void 0:y.closest("th");if(_&&co(_,"noclick")){Ts(_,"noclick");return}if(!v.sortable)return;const x=m.currentTarget;if(["ascending","descending"].some(A=>co(x,A)&&!v.sortOrders.includes(A)))return;const S=n.store.states;let T=S.sortProp.value,C;const M=S.sortingColumn.value;(M!==v||M===v&&M.order===null)&&(M&&(M.order=null),S.sortingColumn.value=v,T=v.property),b?C=v.order=b:C=v.order=null,S.sortProp.value=T,S.sortOrder.value=C,r==null||r.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:s,handleMouseDown:u,handleMouseMove:d,handleMouseOut:f,handleSortClick:p,handleFilterClick:i}}function M4e(n){const e=Ot(Su),t=bt("table");return{getHeaderRowStyle:o=>{const l=e==null?void 0:e.props.headerRowStyle;return Zt(l)?l.call(null,{rowIndex:o}):l},getHeaderRowClass:o=>{const l=[],c=e==null?void 0:e.props.headerRowClassName;return qt(c)?l.push(c):Zt(c)&&l.push(c.call(null,{rowIndex:o})),l.join(" ")},getHeaderCellStyle:(o,l,c,u)=>{var d;let f=(d=e==null?void 0:e.props.headerCellStyle)!=null?d:{};Zt(f)&&(f=f.call(null,{rowIndex:o,columnIndex:l,row:c,column:u}));const h=QL(l,u.fixed,n.store,c);return mg(h,"left"),mg(h,"right"),Object.assign({},f,h)},getHeaderCellClass:(o,l,c,u)=>{const d=ZL(t.b(),l,u.fixed,n.store,c),f=[u.id,u.order,u.headerAlign,u.className,u.labelClassName,...d];u.children||f.push("is-leaf"),u.sortable&&f.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return qt(h)?f.push(h):Zt(h)&&f.push(h.call(null,{rowIndex:o,columnIndex:l,row:c,column:u})),f.push(t.e("cell")),f.filter(p=>!!p).join(" ")}}}const fZ=n=>{const e=[];return n.forEach(t=>{t.children?(e.push(t),e.push.apply(e,fZ(t.children))):e.push(t)}),e},hZ=n=>{let e=1;const t=(a,s)=>{if(s&&(a.level=s.level+1,e<a.level&&(e=a.level)),a.children){let o=0;a.children.forEach(l=>{t(l,a),o+=l.colSpan}),a.colSpan=o}else a.colSpan=1};n.forEach(a=>{a.level=1,t(a,void 0)});const r=[];for(let a=0;a<e;a++)r.push([]);return fZ(n).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(s=>s.isSubColumn=!0)):a.rowSpan=e-a.level+1,r[a.level-1].push(a)}),r};function T4e(n){const e=Ot(Su),t=U(()=>hZ(n.store.states.originColumns.value));return{isGroup:U(()=>{const a=t.value.length>1;return a&&e&&(e.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:t}}var A4e=Re({name:"ElTableHeader",components:{ElCheckbox:Ll},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String}},setup(n,{emit:e}){const t=kn(),r=Ot(Su),i=bt("table"),a=ne({}),{onColumnsChange:s,onScrollableChange:o}=dZ(r),l=(r==null?void 0:r.props.tableLayout)==="auto",c=mr(new Map),u=ne(),d=()=>{setTimeout(()=>{c.size>0&&(c.forEach((A,I)=>{const D=u.value.querySelector(`.${I.replace(/\s/g,".")}`);if(D){const L=D.getBoundingClientRect().width;A.width=L}}),c.clear())})};dt(c,d),pn(async()=>{await Yt(),await Yt();const{prop:A,order:I}=n.defaultSort;r==null||r.store.commit("sort",{prop:A,order:I,init:!0}),d()});const{handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:m,handleMouseOut:v,handleSortClick:g,handleFilterClick:y}=C4e(n,e),{getHeaderRowStyle:b,getHeaderRowClass:_,getHeaderCellStyle:x,getHeaderCellClass:S}=M4e(n),{isGroup:T,toggleAllSelection:C,columnRows:M}=T4e(n);return t.state={onColumnsChange:s,onScrollableChange:o},t.filterPanels=a,{ns:i,filterPanels:a,onColumnsChange:s,onScrollableChange:o,columnRows:M,getHeaderRowClass:_,getHeaderRowStyle:b,getHeaderCellClass:S,getHeaderCellStyle:x,handleHeaderClick:f,handleHeaderContextMenu:h,handleMouseDown:p,handleMouseMove:m,handleMouseOut:v,handleSortClick:g,handleFilterClick:y,isGroup:T,toggleAllSelection:C,saveIndexSelection:c,isTableLayoutAuto:l,theadRef:u,updateFixedColumnStyle:d}},render(){const{ns:n,isGroup:e,columnRows:t,getHeaderCellStyle:r,getHeaderCellClass:i,getHeaderRowClass:a,getHeaderRowStyle:s,handleHeaderClick:o,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:f,store:h,$parent:p,saveIndexSelection:m,isTableLayoutAuto:v}=this;let g=1;return Gt("thead",{ref:"theadRef",class:{[n.is("group")]:e}},t.map((y,b)=>Gt("tr",{class:a(b),key:b,style:s(b)},y.map((_,x)=>{_.rowSpan>g&&(g=_.rowSpan);const S=i(b,x,y,_);return v&&_.fixed&&m.set(S,_),Gt("th",{class:S,colspan:_.colSpan,key:`${_.id}-thead`,rowspan:_.rowSpan,style:r(b,x,y,_),onClick:T=>{T.currentTarget.classList.contains("noclick")||o(T,_)},onContextmenu:T=>l(T,_),onMousedown:T=>c(T,_),onMousemove:T=>u(T,_),onMouseout:f},[Gt("div",{class:["cell",_.filteredValue&&_.filteredValue.length>0?"highlight":""]},[_.renderHeader?_.renderHeader({column:_,$index:x,store:h,_self:p}):_.label,_.sortable&&Gt("span",{onClick:T=>d(T,_),class:"caret-wrapper"},[Gt("i",{onClick:T=>d(T,_,"ascending"),class:"sort-caret ascending"}),Gt("i",{onClick:T=>d(T,_,"descending"),class:"sort-caret descending"})]),_.filterable&&Gt(S4e,{store:h,placement:_.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:_,upDataColumn:(T,C)=>{_[T]=C}},{"filter-icon":()=>_.renderFilterIcon?_.renderFilterIcon({filterOpened:_.filterOpened}):null})])])}))))}});function X3(n,e,t=.03){return n-e>t}function E4e(n){const e=Ot(Su),t=ne(""),r=ne(Gt("div")),i=(p,m,v)=>{var g;const y=e,b=Y3(p);let _;const x=(g=y==null?void 0:y.vnode.el)==null?void 0:g.dataset.prefix;b&&(_=e9({columns:n.store.states.columns.value},b,x),_&&(y==null||y.emit(`cell-${v}`,m,_,b,p))),y==null||y.emit(`row-${v}`,m,_,p)},a=(p,m)=>{i(p,m,"dblclick")},s=(p,m)=>{n.store.commit("setCurrentRow",m),i(p,m,"click")},o=(p,m)=>{i(p,m,"contextmenu")},l=bo(p=>{n.store.commit("setHoverRow",p)},30),c=bo(()=>{n.store.commit("setHoverRow",null)},30),u=p=>{const m=window.getComputedStyle(p,null),v=Number.parseInt(m.paddingLeft,10)||0,g=Number.parseInt(m.paddingRight,10)||0,y=Number.parseInt(m.paddingTop,10)||0,b=Number.parseInt(m.paddingBottom,10)||0;return{left:v,right:g,top:y,bottom:b}},d=(p,m,v)=>{let g=m.target.parentNode;for(;p>1&&(g=g==null?void 0:g.nextSibling,!(!g||g.nodeName!=="TR"));)v(g,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:a,handleClick:s,handleContextMenu:o,handleMouseEnter:l,handleMouseLeave:c,handleCellMouseEnter:(p,m,v)=>{var g;const y=e,b=Y3(p),_=(g=y==null?void 0:y.vnode.el)==null?void 0:g.dataset.prefix;if(b){const H=e9({columns:n.store.states.columns.value},b,_);b.rowSpan>1&&d(b.rowSpan,p,yl);const z=y.hoverState={cell:b,column:H,row:m};y==null||y.emit("cell-mouse-enter",z.row,z.column,z.cell,p)}if(!v)return;const x=p.target.querySelector(".cell");if(!(co(x,`${_}-tooltip`)&&x.childNodes.length))return;const S=document.createRange();S.setStart(x,0),S.setEnd(x,x.childNodes.length);const{width:T,height:C}=S.getBoundingClientRect(),{width:M,height:A}=x.getBoundingClientRect(),{top:I,left:D,right:L,bottom:F}=u(x),B=D+L,k=I+F;(X3(T+B,M)||X3(C+k,A)||X3(x.scrollWidth,M))&&u4e(v,b.innerText||b.textContent,b,y)},handleCellMouseLeave:p=>{const m=Y3(p);if(!m)return;m.rowSpan>1&&d(m.rowSpan,p,Ts);const v=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",v==null?void 0:v.row,v==null?void 0:v.column,v==null?void 0:v.cell,p)},tooltipContent:t,tooltipTrigger:r}}function I4e(n){const e=Ot(Su),t=bt("table");return{getRowStyle:(c,u)=>{const d=e==null?void 0:e.props.rowStyle;return Zt(d)?d.call(null,{row:c,rowIndex:u}):d||null},getRowClass:(c,u)=>{const d=[t.e("row")];e!=null&&e.props.highlightCurrentRow&&c===n.store.states.currentRow.value&&d.push("current-row"),n.stripe&&u%2===1&&d.push(t.em("row","striped"));const f=e==null?void 0:e.props.rowClassName;return qt(f)?d.push(f):Zt(f)&&d.push(f.call(null,{row:c,rowIndex:u})),d},getCellStyle:(c,u,d,f)=>{const h=e==null?void 0:e.props.cellStyle;let p=h??{};Zt(h)&&(p=h.call(null,{rowIndex:c,columnIndex:u,row:d,column:f}));const m=QL(u,n==null?void 0:n.fixed,n.store);return mg(m,"left"),mg(m,"right"),Object.assign({},p,m)},getCellClass:(c,u,d,f,h)=>{const p=ZL(t.b(),u,n==null?void 0:n.fixed,n.store,void 0,h),m=[f.id,f.align,f.className,...p],v=e==null?void 0:e.props.cellClassName;return qt(v)?m.push(v):Zt(v)&&m.push(v.call(null,{rowIndex:c,columnIndex:u,row:d,column:f})),m.push(t.e("cell")),m.filter(g=>!!g).join(" ")},getSpan:(c,u,d,f)=>{let h=1,p=1;const m=e==null?void 0:e.props.spanMethod;if(Zt(m)){const v=m({row:c,column:u,rowIndex:d,columnIndex:f});Tt(v)?(h=v[0],p=v[1]):typeof v=="object"&&(h=v.rowspan,p=v.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(c,u,d)=>{if(u<1)return c[d].realWidth;const f=c.map(({realWidth:h,width:p})=>h||p).slice(d,d+u);return Number(f.reduce((h,p)=>Number(h)+Number(p),-1))}}}const R4e=Re({name:"TableTdWrapper"}),P4e=Re({...R4e,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(n){return(e,t)=>(V(),he("td",{colspan:n.colspan,rowspan:n.rowspan},[Qe(e.$slots,"default")],8,["colspan","rowspan"]))}});var D4e=Pt(P4e,[["__file","td-wrapper.vue"]]);function k4e(n){const e=Ot(Su),t=bt("table"),{handleDoubleClick:r,handleClick:i,handleContextMenu:a,handleMouseEnter:s,handleMouseLeave:o,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:d}=E4e(n),{getRowStyle:f,getRowClass:h,getCellStyle:p,getCellClass:m,getSpan:v,getColspanRealWidth:g}=I4e(n),y=U(()=>n.store.states.columns.value.findIndex(({type:T})=>T==="default")),b=(T,C)=>{const M=e.props.rowKey;return M?xs(T,M):C},_=(T,C,M,A=!1)=>{const{tooltipEffect:I,tooltipOptions:D,store:L}=n,{indent:F,columns:B}=L.states,k=h(T,C);let H=!0;return M&&(k.push(t.em("row",`level-${M.level}`)),H=M.display),Gt("tr",{style:[H?null:{display:"none"},f(T,C)],class:k,key:b(T,C),onDblclick:O=>r(O,T),onClick:O=>i(O,T),onContextmenu:O=>a(O,T),onMouseenter:()=>s(C),onMouseleave:o},B.value.map((O,W)=>{const{rowspan:j,colspan:ee}=v(T,O,C,W);if(!j||!ee)return null;const te=Object.assign({},O);te.realWidth=g(B.value,ee,W);const J={store:n.store,_self:n.context||e,column:te,row:T,$index:C,cellIndex:W,expanded:A};W===y.value&&M&&(J.treeNode={indent:M.level*F.value,level:M.level},Vr(M.expanded)&&(J.treeNode.expanded=M.expanded,"loading"in M&&(J.treeNode.loading=M.loading),"noLazyChildren"in M&&(J.treeNode.noLazyChildren=M.noLazyChildren)));const Q=`${b(T,C)},${W}`,ie=te.columnKey||te.rawColumnKey||"",le=O.showOverflowTooltip&&fY({effect:I},D,O.showOverflowTooltip);return Gt(D4e,{style:p(C,W,T,O),class:m(C,W,T,O,ee-1),key:`${ie}${Q}`,rowspan:j,colspan:ee,onMouseenter:we=>l(we,T,le),onMouseleave:c},{default:()=>x(W,O,J)})}))},x=(T,C,M)=>C.renderCell(M);return{wrappedRowRender:(T,C)=>{const M=n.store,{isRowExpanded:A,assertRowKey:I}=M,{treeData:D,lazyTreeNodeMap:L,childrenColumnName:F,rowKey:B}=M.states,k=M.states.columns.value;if(k.some(({type:z})=>z==="expand")){const z=A(T),O=_(T,C,void 0,z),W=e.renderExpanded;return z?W?[[O,Gt("tr",{key:`expanded-row__${O.key}`},[Gt("td",{colspan:k.length,class:`${t.e("cell")} ${t.e("expanded-cell")}`},[W({row:T,$index:C,store:M,expanded:z})])])]]:(console.error("[Element Error]renderExpanded is required."),O):[[O]]}else if(Object.keys(D.value).length){I();const z=xs(T,B.value);let O=D.value[z],W=null;O&&(W={expanded:O.expanded,level:O.level,display:!0},Vr(O.lazy)&&(Vr(O.loaded)&&O.loaded&&(W.noLazyChildren=!(O.children&&O.children.length)),W.loading=O.loading));const j=[_(T,C,W)];if(O){let ee=0;const te=(Q,ie)=>{Q&&Q.length&&ie&&Q.forEach(le=>{const we={display:ie.display&&ie.expanded,level:ie.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Ae=xs(le,B.value);if(Ae==null)throw new Error("For nested data item, row-key is required.");if(O={...D.value[Ae]},O&&(we.expanded=O.expanded,O.level=O.level||we.level,O.display=!!(O.expanded&&we.display),Vr(O.lazy)&&(Vr(O.loaded)&&O.loaded&&(we.noLazyChildren=!(O.children&&O.children.length)),we.loading=O.loading)),ee++,j.push(_(le,C+ee,we)),O){const ke=L.value[Ae]||le[F.value];te(ke,O)}})};O.display=!0;const J=L.value[z]||T[F.value];te(J,O)}return j}else return _(T,C,void 0)},tooltipContent:u,tooltipTrigger:d}}const L4e={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var N4e=Re({name:"ElTableBody",props:L4e,setup(n){const e=kn(),t=Ot(Su),r=bt("table"),{wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}=k4e(n),{onColumnsChange:o,onScrollableChange:l}=dZ(t),c=[];return dt(n.store.states.hoverRow,(u,d)=>{var f;const h=e==null?void 0:e.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(g=>g==null?void 0:g.classList.contains(`${r.e("row")}`));let m=u;const v=(f=p[m])==null?void 0:f.childNodes;if(v!=null&&v.length){let g=0;Array.from(v).reduce((b,_,x)=>{var S,T;return((S=v[x])==null?void 0:S.colSpan)>1&&(g=(T=v[x])==null?void 0:T.colSpan),_.nodeName!=="TD"&&g===0&&b.push(x),g>0&&g--,b},[]).forEach(b=>{var _;for(m=u;m>0;){const x=(_=p[m-1])==null?void 0:_.childNodes;if(x[b]&&x[b].nodeName==="TD"&&x[b].rowSpan>1){yl(x[b],"hover-cell"),c.push(x[b]);break}m--}})}else c.forEach(g=>Ts(g,"hover-cell")),c.length=0;!n.store.states.isComplex.value||!nr||Jf(()=>{const g=p[d],y=p[u];g&&!g.classList.contains("hover-fixed-row")&&Ts(g,"hover-row"),y&&yl(y,"hover-row")})}),yh(()=>{var u;(u=il)==null||u()}),{ns:r,onColumnsChange:o,onScrollableChange:l,wrappedRowRender:i,tooltipContent:a,tooltipTrigger:s}},render(){const{wrappedRowRender:n,store:e}=this,t=e.states.data.value||[];return Gt("tbody",{tabIndex:-1},[t.reduce((r,i)=>r.concat(n(i,r.length)),[])])}});function O4e(){const n=Ot(Su),e=n==null?void 0:n.store,t=U(()=>e.states.fixedLeafColumnsLength.value),r=U(()=>e.states.rightFixedColumns.value.length),i=U(()=>e.states.columns.value.length),a=U(()=>e.states.fixedColumns.value.length),s=U(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:t,rightFixedLeafCount:r,columnsCount:i,leftFixedCount:a,rightFixedCount:s,columns:e.states.columns}}function B4e(n){const{columns:e}=O4e(),t=bt("table");return{getCellClasses:(a,s)=>{const o=a[s],l=[t.e("cell"),o.id,o.align,o.labelClassName,...ZL(t.b(),s,o.fixed,n.store)];return o.className&&l.push(o.className),o.children||l.push(t.is("leaf")),l},getCellStyles:(a,s)=>{const o=QL(s,a.fixed,n.store);return mg(o,"left"),mg(o,"right"),o},columns:e}}var F4e=Re({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(n){const{getCellClasses:e,getCellStyles:t,columns:r}=B4e(n);return{ns:bt("table"),getCellClasses:e,getCellStyles:t,columns:r}},render(){const{columns:n,getCellStyles:e,getCellClasses:t,summaryMethod:r,sumText:i}=this,a=this.store.states.data.value;let s=[];return r?s=r({columns:n,data:a}):n.forEach((o,l)=>{if(l===0){s[l]=i;return}const c=a.map(h=>Number(h[o.property])),u=[];let d=!0;c.forEach(h=>{if(!Number.isNaN(+h)){d=!1;const p=`${h}`.split(".")[1];u.push(p?p.length:0)}});const f=Math.max.apply(null,u);d?s[l]="":s[l]=c.reduce((h,p)=>{const m=Number(p);return Number.isNaN(+m)?h:Number.parseFloat((h+p).toFixed(Math.min(f,20)))},0)}),Gt(Gt("tfoot",[Gt("tr",{},[...n.map((o,l)=>Gt("td",{key:l,colspan:o.colSpan,rowspan:o.rowSpan,class:t(n,l),style:e(o,l)},[Gt("div",{class:["cell",o.labelClassName]},[s[l]])]))])]))}});function z4e(n){return{setCurrentRow:d=>{n.commit("setCurrentRow",d)},getSelectionRows:()=>n.getSelectionRows(),toggleRowSelection:(d,f,h=!0)=>{n.toggleRowSelection(d,f,!1,h),n.updateAllSelected()},clearSelection:()=>{n.clearSelection()},clearFilter:d=>{n.clearFilter(d)},toggleAllSelection:()=>{n.commit("toggleAllSelection")},toggleRowExpansion:(d,f)=>{n.toggleRowExpansionAdapter(d,f)},clearSort:()=>{n.clearSort()},sort:(d,f)=>{n.commit("sort",{prop:d,order:f})},updateKeyChildren:(d,f)=>{n.updateKeyChildren(d,f)}}}function U4e(n,e,t,r){const i=ne(!1),a=ne(null),s=ne(!1),o=z=>{s.value=z},l=ne({width:null,height:null,headerHeight:null}),c=ne(!1),u={display:"inline-block",verticalAlign:"middle"},d=ne(),f=ne(0),h=ne(0),p=ne(0),m=ne(0),v=ne(0);Ea(()=>{e.setHeight(n.height)}),Ea(()=>{e.setMaxHeight(n.maxHeight)}),dt(()=>[n.currentRowKey,t.states.rowKey],([z,O])=>{!w(O)||!w(z)||t.setCurrentRowKey(`${z}`)},{immediate:!0}),dt(()=>n.data,z=>{r.store.commit("setData",z)},{immediate:!0,deep:!0}),Ea(()=>{n.expandRowKeys&&t.setExpandRowKeysAdapter(n.expandRowKeys)});const g=()=>{r.store.commit("setHoverRow",null),r.hoverState&&(r.hoverState=null)},y=(z,O)=>{const{pixelX:W,pixelY:j}=O;Math.abs(W)>=Math.abs(j)&&(r.refs.bodyWrapper.scrollLeft+=O.pixelX/5)},b=U(()=>n.height||n.maxHeight||t.states.fixedColumns.value.length>0||t.states.rightFixedColumns.value.length>0),_=U(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),x=()=>{b.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(M)};pn(async()=>{await Yt(),t.updateColumns(),A(),requestAnimationFrame(x);const z=r.vnode.el,O=r.refs.headerWrapper;n.flexible&&z&&z.parentElement&&(z.parentElement.style.minWidth="0"),l.value={width:d.value=z.offsetWidth,height:z.offsetHeight,headerHeight:n.showHeader&&O?O.offsetHeight:null},t.states.columns.value.forEach(W=>{W.filteredValue&&W.filteredValue.length&&r.store.commit("filterChange",{column:W,values:W.filteredValue,silent:!0})}),r.$ready=!0});const S=(z,O)=>{if(!z)return;const W=Array.from(z.classList).filter(j=>!j.startsWith("is-scrolling-"));W.push(e.scrollX.value?O:"is-scrolling-none"),z.className=W.join(" ")},T=z=>{const{tableWrapper:O}=r.refs;S(O,z)},C=z=>{const{tableWrapper:O}=r.refs;return!!(O&&O.classList.contains(z))},M=function(){if(!r.refs.scrollBarRef)return;if(!e.scrollX.value){const Q="is-scrolling-none";C(Q)||T(Q);return}const z=r.refs.scrollBarRef.wrapRef;if(!z)return;const{scrollLeft:O,offsetWidth:W,scrollWidth:j}=z,{headerWrapper:ee,footerWrapper:te}=r.refs;ee&&(ee.scrollLeft=O),te&&(te.scrollLeft=O);const J=j-W-1;O>=J?T("is-scrolling-right"):T(O===0?"is-scrolling-left":"is-scrolling-middle")},A=()=>{r.refs.scrollBarRef&&(r.refs.scrollBarRef.wrapRef&&Ar(r.refs.scrollBarRef.wrapRef,"scroll",M,{passive:!0}),n.fit?ui(r.vnode.el,I):Ar(window,"resize",I),ui(r.refs.bodyWrapper,()=>{var z,O;I(),(O=(z=r.refs)==null?void 0:z.scrollBarRef)==null||O.update()}))},I=()=>{var z,O,W,j;const ee=r.vnode.el;if(!r.$ready||!ee)return;let te=!1;const{width:J,height:Q,headerHeight:ie}=l.value,le=d.value=ee.offsetWidth;J!==le&&(te=!0);const we=ee.offsetHeight;(n.height||b.value)&&Q!==we&&(te=!0);const Ae=n.tableLayout==="fixed"?r.refs.headerWrapper:(z=r.refs.tableHeaderRef)==null?void 0:z.$el;n.showHeader&&(Ae==null?void 0:Ae.offsetHeight)!==ie&&(te=!0),f.value=((O=r.refs.tableWrapper)==null?void 0:O.scrollHeight)||0,p.value=(Ae==null?void 0:Ae.scrollHeight)||0,m.value=((W=r.refs.footerWrapper)==null?void 0:W.offsetHeight)||0,v.value=((j=r.refs.appendWrapper)==null?void 0:j.offsetHeight)||0,h.value=f.value-p.value-m.value-v.value,te&&(l.value={width:le,height:we,headerHeight:n.showHeader&&(Ae==null?void 0:Ae.offsetHeight)||0},x())},D=Zi(),L=U(()=>{const{bodyWidth:z,scrollY:O,gutterWidth:W}=e;return z.value?`${z.value-(O.value?W:0)}px`:""}),F=U(()=>n.maxHeight?"fixed":n.tableLayout),B=U(()=>{if(n.data&&n.data.length)return null;let z="100%";n.height&&h.value&&(z=`${h.value}px`);const O=d.value;return{width:O?`${O}px`:"",height:z}}),k=U(()=>n.height?{height:"100%"}:n.maxHeight?Number.isNaN(Number(n.maxHeight))?{maxHeight:`calc(${n.maxHeight} - ${p.value+m.value}px)`}:{maxHeight:`${n.maxHeight-p.value-m.value}px`}:{});return{isHidden:i,renderExpanded:a,setDragVisible:o,isGroup:c,handleMouseLeave:g,handleHeaderFooterMousewheel:y,tableSize:D,emptyBlockStyle:B,handleFixedMousewheel:(z,O)=>{const W=r.refs.bodyWrapper;if(Math.abs(O.spinY)>0){const j=W.scrollTop;O.pixelY<0&&j!==0&&z.preventDefault(),O.pixelY>0&&W.scrollHeight-W.clientHeight>j&&z.preventDefault(),W.scrollTop+=Math.ceil(O.pixelY/5)}else W.scrollLeft+=Math.ceil(O.pixelX/5)},resizeProxyVisible:s,bodyWidth:L,resizeState:l,doLayout:x,tableBodyStyles:_,tableLayout:F,scrollbarViewStyle:u,scrollbarStyle:k}}function H4e(n){const e=ne(),t=()=>{const i=n.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},s=n.store.states.updateOrderFns;e.value=new MutationObserver(()=>{s.forEach(o=>o())}),e.value.observe(i,a)};pn(()=>{t()}),yh(()=>{var r;(r=e.value)==null||r.disconnect()})}var V4e={data:{type:Array,default:()=>[]},size:ta,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}};function pZ(n){const e=n.tableLayout==="auto";let t=n.columns||[];e&&t.every(i=>i.width===void 0)&&(t=[]);const r=i=>{const a={key:`${n.tableLayout}_${i.id}`,style:{},name:void 0};return e?a.style={width:`${i.width}px`}:a.name=i.id,a};return Gt("colgroup",{},t.map(i=>Gt("col",r(i))))}pZ.props=["columns","tableLayout"];const $4e=()=>{const n=ne(),e=(a,s)=>{const o=n.value;o&&o.scrollTo(a,s)},t=(a,s)=>{const o=n.value;o&&en(s)&&["Top","Left"].includes(a)&&o[`setScroll${a}`](s)};return{scrollBarRef:n,scrollTo:e,setScrollTop:a=>t("Top",a),setScrollLeft:a=>t("Left",a)}};var i9=!1,_p,dR,fR,E2,I2,mZ,R2,hR,pR,mR,vZ,vR,gR,gZ,yZ;function eo(){if(!i9){i9=!0;var n=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(n),t=/(Mac OS X)|(Windows)|(Linux)/.exec(n);if(vR=/\b(iPhone|iP[ao]d)/.exec(n),gR=/\b(iP[ao]d)/.exec(n),mR=/Android/i.exec(n),gZ=/FBAN\/\w+;/i.exec(n),yZ=/Mobile/i.exec(n),vZ=!!/Win64/.exec(n),e){_p=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,_p&&document&&document.documentMode&&(_p=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(n);mZ=r?parseFloat(r[1])+4:_p,dR=e[2]?parseFloat(e[2]):NaN,fR=e[3]?parseFloat(e[3]):NaN,E2=e[4]?parseFloat(e[4]):NaN,E2?(e=/(?:Chrome\/(\d+\.\d+))/.exec(n),I2=e&&e[1]?parseFloat(e[1]):NaN):I2=NaN}else _p=dR=fR=I2=E2=NaN;if(t){if(t[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(n);R2=i?parseFloat(i[1].replace("_",".")):!0}else R2=!1;hR=!!t[2],pR=!!t[3]}else R2=hR=pR=!1}}var yR={ie:function(){return eo()||_p},ieCompatibilityMode:function(){return eo()||mZ>_p},ie64:function(){return yR.ie()&&vZ},firefox:function(){return eo()||dR},opera:function(){return eo()||fR},webkit:function(){return eo()||E2},safari:function(){return yR.webkit()},chrome:function(){return eo()||I2},windows:function(){return eo()||hR},osx:function(){return eo()||R2},linux:function(){return eo()||pR},iphone:function(){return eo()||vR},mobile:function(){return eo()||vR||gR||mR||yZ},nativeApp:function(){return eo()||gZ},android:function(){return eo()||mR},ipad:function(){return eo()||gR}},G4e=yR,ax=!!(typeof window<"u"&&window.document&&window.document.createElement),W4e={canUseDOM:ax,canUseWorkers:typeof Worker<"u",canUseEventListeners:ax&&!!(window.addEventListener||window.attachEvent),canUseViewport:ax&&!!window.screen,isInWorker:!ax},bZ=W4e,_Z;bZ.canUseDOM&&(_Z=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function q4e(n,e){if(!bZ.canUseDOM||e&&!("addEventListener"in document))return!1;var t="on"+n,r=t in document;if(!r){var i=document.createElement("div");i.setAttribute(t,"return;"),r=typeof i[t]=="function"}return!r&&_Z&&n==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var K4e=q4e,a9=10,s9=40,o9=800;function wZ(n){var e=0,t=0,r=0,i=0;return"detail"in n&&(t=n.detail),"wheelDelta"in n&&(t=-n.wheelDelta/120),"wheelDeltaY"in n&&(t=-n.wheelDeltaY/120),"wheelDeltaX"in n&&(e=-n.wheelDeltaX/120),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(e=t,t=0),r=e*a9,i=t*a9,"deltaY"in n&&(i=n.deltaY),"deltaX"in n&&(r=n.deltaX),(r||i)&&n.deltaMode&&(n.deltaMode==1?(r*=s9,i*=s9):(r*=o9,i*=o9)),r&&!e&&(e=r<1?-1:1),i&&!t&&(t=i<1?-1:1),{spinX:e,spinY:t,pixelX:r,pixelY:i}}wZ.getEventType=function(){return G4e.firefox()?"DOMMouseScroll":K4e("wheel")?"wheel":"mousewheel"};var Y4e=wZ;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const X4e=function(n,e){if(n&&n.addEventListener){const t=function(r){const i=Y4e(r);e&&Reflect.apply(e,this,[r,i])};n.addEventListener("wheel",t,{passive:!0})}},j4e={beforeMount(n,e){X4e(n,e.value)}};let Z4e=1;const Q4e=Re({name:"ElTable",directives:{Mousewheel:j4e},components:{TableHeader:A4e,TableBody:N4e,TableFooter:F4e,ElScrollbar:_u,hColgroup:pZ},props:V4e,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(n){const{t:e}=rr(),t=bt("table"),r=kn();$n(Su,r);const i=g4e(r,n);r.store=i;const a=new b4e({store:r.store,table:r,fit:n.fit,showHeader:n.showHeader});r.layout=a;const s=U(()=>(i.states.data.value||[]).length===0),{setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,sort:m,updateKeyChildren:v}=z4e(i),{isHidden:g,renderExpanded:y,setDragVisible:b,isGroup:_,handleMouseLeave:x,handleHeaderFooterMousewheel:S,tableSize:T,emptyBlockStyle:C,handleFixedMousewheel:M,resizeProxyVisible:A,bodyWidth:I,resizeState:D,doLayout:L,tableBodyStyles:F,tableLayout:B,scrollbarViewStyle:k,scrollbarStyle:H}=U4e(n,a,i,r),{scrollBarRef:z,scrollTo:O,setScrollLeft:W,setScrollTop:j}=$4e(),ee=bo(L,50),te=`${t.namespace.value}-table_${Z4e++}`;r.tableId=te,r.state={isGroup:_,resizeState:D,doLayout:L,debouncedUpdateLayout:ee};const J=U(()=>{var le;return(le=n.sumText)!=null?le:e("el.table.sumText")}),Q=U(()=>{var le;return(le=n.emptyText)!=null?le:e("el.table.emptyText")}),ie=U(()=>hZ(i.states.originColumns.value)[0]);return H4e(r),yr(()=>{ee.cancel()}),{ns:t,layout:a,store:i,columns:ie,handleHeaderFooterMousewheel:S,handleMouseLeave:x,tableId:te,tableSize:T,isHidden:g,isEmpty:s,renderExpanded:y,resizeProxyVisible:A,resizeState:D,isGroup:_,bodyWidth:I,tableBodyStyles:F,emptyBlockStyle:C,debouncedUpdateLayout:ee,handleFixedMousewheel:M,setCurrentRow:o,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:f,toggleRowExpansion:h,clearSort:p,doLayout:L,sort:m,updateKeyChildren:v,t:e,setDragVisible:b,context:r,computedSumText:J,computedEmptyText:Q,tableLayout:B,scrollbarViewStyle:k,scrollbarStyle:H,scrollBarRef:z,scrollTo:O,setScrollLeft:W,setScrollTop:j}}});function J4e(n,e,t,r,i,a){const s=Et("hColgroup"),o=Et("table-header"),l=Et("table-body"),c=Et("table-footer"),u=Et("el-scrollbar"),d=mT("mousewheel");return V(),he("div",{ref:"tableWrapper",class:Z([{[n.ns.m("fit")]:n.fit,[n.ns.m("striped")]:n.stripe,[n.ns.m("border")]:n.border||n.isGroup,[n.ns.m("hidden")]:n.isHidden,[n.ns.m("group")]:n.isGroup,[n.ns.m("fluid-height")]:n.maxHeight,[n.ns.m("scrollable-x")]:n.layout.scrollX.value,[n.ns.m("scrollable-y")]:n.layout.scrollY.value,[n.ns.m("enable-row-hover")]:!n.store.states.isComplex.value,[n.ns.m("enable-row-transition")]:(n.store.states.data.value||[]).length!==0&&(n.store.states.data.value||[]).length<100,"has-footer":n.showSummary},n.ns.m(n.tableSize),n.className,n.ns.b(),n.ns.m(`layout-${n.tableLayout}`)]),style:Bt(n.style),"data-prefix":n.ns.namespace.value,onMouseleave:n.handleMouseLeave},[ve("div",{class:Z(n.ns.e("inner-wrapper"))},[ve("div",{ref:"hiddenColumns",class:"hidden-columns"},[Qe(n.$slots,"default")],512),n.showHeader&&n.tableLayout==="fixed"?Cn((V(),he("div",{key:0,ref:"headerWrapper",class:Z(n.ns.e("header-wrapper"))},[ve("table",{ref:"tableHeader",class:Z(n.ns.e("header")),style:Bt(n.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[ue(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),ue(o,{ref:"tableHeaderRef",border:n.border,"default-sort":n.defaultSort,store:n.store,"append-filter-panel-to":n.appendFilterPanelTo,onSetDragVisible:n.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","onSetDragVisible"])],6)],2)),[[d,n.handleHeaderFooterMousewheel]]):Je("v-if",!0),ve("div",{ref:"bodyWrapper",class:Z(n.ns.e("body-wrapper"))},[ue(u,{ref:"scrollBarRef","view-style":n.scrollbarViewStyle,"wrap-style":n.scrollbarStyle,always:n.scrollbarAlwaysOn,tabindex:n.scrollbarTabindex,onScroll:f=>n.$emit("scroll",f)},{default:be(()=>[ve("table",{ref:"tableBody",class:Z(n.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Bt({width:n.bodyWidth,tableLayout:n.tableLayout})},[ue(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),n.showHeader&&n.tableLayout==="auto"?(V(),rt(o,{key:0,ref:"tableHeaderRef",class:Z(n.ns.e("body-header")),border:n.border,"default-sort":n.defaultSort,store:n.store,"append-filter-panel-to":n.appendFilterPanelTo,onSetDragVisible:n.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Je("v-if",!0),ue(l,{context:n.context,highlight:n.highlightCurrentRow,"row-class-name":n.rowClassName,"tooltip-effect":n.tooltipEffect,"tooltip-options":n.tooltipOptions,"row-style":n.rowStyle,store:n.store,stripe:n.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),n.showSummary&&n.tableLayout==="auto"?(V(),rt(c,{key:1,class:Z(n.ns.e("body-footer")),border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Je("v-if",!0)],6),n.isEmpty?(V(),he("div",{key:0,ref:"emptyBlock",style:Bt(n.emptyBlockStyle),class:Z(n.ns.e("empty-block"))},[ve("span",{class:Z(n.ns.e("empty-text"))},[Qe(n.$slots,"empty",{},()=>[dn(Ct(n.computedEmptyText),1)])],2)],6)):Je("v-if",!0),n.$slots.append?(V(),he("div",{key:1,ref:"appendWrapper",class:Z(n.ns.e("append-wrapper"))},[Qe(n.$slots,"append")],2)):Je("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),n.showSummary&&n.tableLayout==="fixed"?Cn((V(),he("div",{key:1,ref:"footerWrapper",class:Z(n.ns.e("footer-wrapper"))},[ve("table",{class:Z(n.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Bt(n.tableBodyStyles)},[ue(s,{columns:n.store.states.columns.value,"table-layout":n.tableLayout},null,8,["columns","table-layout"]),ue(c,{border:n.border,"default-sort":n.defaultSort,store:n.store,"sum-text":n.computedSumText,"summary-method":n.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[fr,!n.isEmpty],[d,n.handleHeaderFooterMousewheel]]):Je("v-if",!0),n.border||n.isGroup?(V(),he("div",{key:2,class:Z(n.ns.e("border-left-patch"))},null,2)):Je("v-if",!0)],2),Cn(ve("div",{ref:"resizeProxy",class:Z(n.ns.e("column-resize-proxy"))},null,2),[[fr,n.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var eIe=Pt(Q4e,[["render",J4e],["__file","table.vue"]]);const tIe={selection:"table-column--selection",expand:"table__expand-column"},nIe={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},rIe=n=>tIe[n]||"",iIe={selection:{renderHeader({store:n,column:e}){function t(){return n.states.data.value&&n.states.data.value.length===0}return Gt(Ll,{disabled:t(),size:n.states.tableSize.value,indeterminate:n.states.selection.value.length>0&&!n.states.isAllSelected.value,"onUpdate:modelValue":n.toggleAllSelection,modelValue:n.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:n,column:e,store:t,$index:r}){return Gt(Ll,{disabled:e.selectable?!e.selectable.call(null,n,r):!1,size:t.states.tableSize.value,onChange:()=>{t.commit("rowSelectedChanged",n)},onClick:i=>i.stopPropagation(),modelValue:t.isSelected(n),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:n}){return n.label||"#"},renderCell({column:n,$index:e}){let t=e+1;const r=n.index;return en(r)?t=e+r:Zt(r)&&(t=r(e)),Gt("div",{},[t])},sortable:!1},expand:{renderHeader({column:n}){return n.label||""},renderCell({row:n,store:e,expanded:t}){const{ns:r}=e,i=[r.e("expand-icon")];return t&&i.push(r.em("expand-icon","expanded")),Gt("div",{class:i,onClick:function(s){s.stopPropagation(),e.toggleRowExpansion(n)}},{default:()=>[Gt(Vt,null,{default:()=>[Gt(Gs)]})]})},sortable:!1,resizable:!1}};function aIe({row:n,column:e,$index:t}){var r;const i=e.property,a=i&&_2(n,i).value;return e&&e.formatter?e.formatter(n,e,a,t):((r=a==null?void 0:a.toString)==null?void 0:r.call(a))||""}function sIe({row:n,treeNode:e,store:t},r=!1){const{ns:i}=t;if(!e)return r?[Gt("span",{class:i.e("placeholder")})]:null;const a=[],s=function(o){o.stopPropagation(),!e.loading&&t.loadOrToggle(n)};if(e.indent&&a.push(Gt("span",{class:i.e("indent"),style:{"padding-left":`${e.indent}px`}})),Vr(e.expanded)&&!e.noLazyChildren){const o=[i.e("expand-icon"),e.expanded?i.em("expand-icon","expanded"):""];let l=Gs;e.loading&&(l=lu),a.push(Gt("div",{class:o,onClick:s},{default:()=>[Gt(Vt,{class:{[i.is("loading")]:e.loading}},{default:()=>[Gt(l)]})]}))}else a.push(Gt("span",{class:i.e("placeholder")}));return a}function l9(n,e){return n.reduce((t,r)=>(t[r]=r,t),e)}function oIe(n,e){const t=kn();return{registerComplexWatchers:()=>{const a=["fixed"],s={realWidth:"width",realMinWidth:"minWidth"},o=l9(a,s);Object.keys(o).forEach(l=>{const c=s[l];sr(e,c)&&dt(()=>e[c],u=>{let d=u;c==="width"&&l==="realWidth"&&(d=jL(u)),c==="minWidth"&&l==="realMinWidth"&&(d=sZ(u)),t.columnConfig.value[c]=d,t.columnConfig.value[l]=d;const f=c==="fixed";n.value.store.scheduleLayout(f)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],s={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},o=l9(a,s);Object.keys(o).forEach(l=>{const c=s[l];sr(e,c)&&dt(()=>e[c],u=>{t.columnConfig.value[l]=u})})}}}function lIe(n,e,t){const r=kn(),i=ne(""),a=ne(!1),s=ne(),o=ne(),l=bt("table");Ea(()=>{s.value=n.align?`is-${n.align}`:null,s.value}),Ea(()=>{o.value=n.headerAlign?`is-${n.headerAlign}`:s.value,o.value});const c=U(()=>{let _=r.vnode.vParent||r.parent;for(;_&&!_.tableId&&!_.columnId;)_=_.vnode.vParent||_.parent;return _}),u=U(()=>{const{store:_}=r.parent;if(!_)return!1;const{treeData:x}=_.states,S=x.value;return S&&Object.keys(S).length>0}),d=ne(jL(n.width)),f=ne(sZ(n.minWidth)),h=_=>(d.value&&(_.width=d.value),f.value&&(_.minWidth=f.value),!d.value&&f.value&&(_.width=void 0),_.minWidth||(_.minWidth=80),_.realWidth=Number(_.width===void 0?_.minWidth:_.width),_),p=_=>{const x=_.type,S=iIe[x]||{};Object.keys(S).forEach(C=>{const M=S[C];C!=="className"&&M!==void 0&&(_[C]=M)});const T=rIe(x);if(T){const C=`${w(l.namespace)}-${T}`;_.className=_.className?`${_.className} ${C}`:C}return _},m=_=>{Tt(_)?_.forEach(S=>x(S)):x(_);function x(S){var T;((T=S==null?void 0:S.type)==null?void 0:T.name)==="ElTableColumn"&&(S.vParent=r)}};return{columnId:i,realAlign:s,isSubColumn:a,realHeaderAlign:o,columnOrTableParent:c,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:_=>{n.renderHeader||_.type!=="selection"&&(_.renderHeader=S=>(r.columnConfig.value.label,Qe(e,"header",S,()=>[_.label]))),e["filter-icon"]&&(_.renderFilterIcon=S=>Qe(e,"filter-icon",S));let x=_.renderCell;return _.type==="expand"?(_.renderCell=S=>Gt("div",{class:"cell"},[x(S)]),t.value.renderExpanded=S=>e.default?e.default(S):e.default):(x=x||aIe,_.renderCell=S=>{let T=null;if(e.default){const L=e.default(S);T=L.some(F=>F.type!==Ms)?L:x(S)}else T=x(S);const{columns:C}=t.value.store.states,M=C.value.findIndex(L=>L.type==="default"),A=u.value&&S.cellIndex===M,I=sIe(S,A),D={class:"cell",style:{}};return _.showOverflowTooltip&&(D.class=`${D.class} ${w(l.namespace)}-tooltip`,D.style={width:`${(S.column.realWidth||Number(S.column.width))-1}px`}),m(T),Gt("div",D,[I,T])}),_},getPropsData:(..._)=>_.reduce((x,S)=>(Tt(S)&&S.forEach(T=>{x[T]=n[T]}),x),{}),getColumnElIndex:(_,x)=>Array.prototype.indexOf.call(_,x),updateColumnOrder:()=>{t.value.store.commit("updateColumnOrder",r.columnConfig.value)}}}var cIe={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:n=>n.every(e=>["ascending","descending",null].includes(e))}};let uIe=1;var xZ=Re({name:"ElTableColumn",components:{ElCheckbox:Ll},props:cIe,setup(n,{slots:e}){const t=kn(),r=ne({}),i=U(()=>{let b=t.parent;for(;b&&!b.tableId;)b=b.parent;return b}),{registerNormalWatchers:a,registerComplexWatchers:s}=oIe(i,n),{columnId:o,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:u,setColumnWidth:d,setColumnForcedProps:f,setColumnRenders:h,getPropsData:p,getColumnElIndex:m,realAlign:v,updateColumnOrder:g}=lIe(n,e,i),y=u.value;o.value=`${y.tableId||y.columnId}_column_${uIe++}`,pT(()=>{l.value=i.value!==y;const b=n.type||"default",_=n.sortable===""?!0:n.sortable,x=Tr(n.showOverflowTooltip)?y.props.showOverflowTooltip:n.showOverflowTooltip,S={...nIe[b],id:o.value,type:b,property:n.prop||n.property,align:v,headerAlign:c,showOverflowTooltip:x,filterable:n.filters||n.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:_,index:n.index,rawColumnKey:t.vnode.key};let I=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);I=s4e(S,I),I=l4e(h,d,f)(I),r.value=I,a(),s()}),pn(()=>{var b;const _=u.value,x=l.value?_.vnode.el.children:(b=_.refs.hiddenColumns)==null?void 0:b.children,S=()=>m(x||[],t.vnode.el);r.value.getColumnIndex=S,S()>-1&&i.value.store.commit("insertColumn",r.value,l.value?_.columnConfig.value:null,g)}),yr(()=>{const b=r.value.getColumnIndex;(b?b():-1)>-1&&i.value.store.commit("removeColumn",r.value,l.value?y.columnConfig.value:null,g)}),t.columnId=o.value,t.columnConfig=r},render(){var n,e,t;try{const r=(e=(n=this.$slots).default)==null?void 0:e.call(n,{row:{},column:{},$index:-1}),i=[];if(Tt(r))for(const s of r)((t=s.type)==null?void 0:t.name)==="ElTableColumn"||s.shapeFlag&2?i.push(s):s.type===zt&&Tt(s.children)&&s.children.forEach(o=>{(o==null?void 0:o.patchFlag)!==1024&&!qt(o==null?void 0:o.children)&&i.push(o)});return Gt("div",i)}catch{return Gt("div",[])}}});const dIe=gn(eIe,{TableColumn:xZ}),fIe=Ti(xZ);var r_=(n=>(n.ASC="asc",n.DESC="desc",n))(r_||{}),i_=(n=>(n.CENTER="center",n.RIGHT="right",n))(i_||{}),SZ=(n=>(n.LEFT="left",n.RIGHT="right",n))(SZ||{});const bR={asc:"desc",desc:"asc"},a_=Symbol("placeholder"),hIe=(n,e,t)=>{var r;const i={flexGrow:0,flexShrink:0,...t?{}:{flexGrow:n.flexGrow||0,flexShrink:n.flexShrink||1}};t||(i.flexShrink=1);const a={...(r=n.style)!=null?r:{},...i,flexBasis:"auto",width:n.width};return e||(n.maxWidth&&(a.maxWidth=n.maxWidth),n.minWidth&&(a.minWidth=n.minWidth)),a};function pIe(n,e,t){const r=U(()=>w(e).map((v,g)=>{var y,b;return{...v,key:(b=(y=v.key)!=null?y:v.dataKey)!=null?b:g}})),i=U(()=>w(r).filter(v=>!v.hidden)),a=U(()=>w(i).filter(v=>v.fixed==="left"||v.fixed===!0)),s=U(()=>w(i).filter(v=>v.fixed==="right")),o=U(()=>w(i).filter(v=>!v.fixed)),l=U(()=>{const v=[];return w(a).forEach(g=>{v.push({...g,placeholderSign:a_})}),w(o).forEach(g=>{v.push(g)}),w(s).forEach(g=>{v.push({...g,placeholderSign:a_})}),v}),c=U(()=>w(a).length||w(s).length),u=U(()=>w(r).reduce((v,g)=>(v[g.key]=hIe(g,w(t),n.fixed),v),{})),d=U(()=>w(i).reduce((v,g)=>v+g.width,0)),f=v=>w(r).find(g=>g.key===v),h=v=>w(u)[v],p=(v,g)=>{v.width=g};function m(v){var g;const{key:y}=v.currentTarget.dataset;if(!y)return;const{sortState:b,sortBy:_}=n;let x=r_.ASC;Pn(b)?x=bR[b[y]]:x=bR[_.order],(g=n.onColumnSort)==null||g.call(n,{column:f(y),key:y,order:x})}return{columns:r,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,hasFixedColumns:c,mainColumns:l,normalColumns:o,visibleColumns:i,getColumn:f,getColumnStyle:h,updateColumnWidth:p,onColumnSorted:m}}const mIe=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,onMaybeEndReached:i})=>{const a=ne({scrollLeft:0,scrollTop:0});function s(h){var p,m,v;const{scrollTop:g}=h;(p=e.value)==null||p.scrollTo(h),(m=t.value)==null||m.scrollToTop(g),(v=r.value)==null||v.scrollToTop(g)}function o(h){a.value=h,s(h)}function l(h){a.value.scrollTop=h,s(w(a))}function c(h){var p,m;a.value.scrollLeft=h,(m=(p=e.value)==null?void 0:p.scrollTo)==null||m.call(p,w(a))}function u(h){var p;o(h),(p=n.onScroll)==null||p.call(n,h)}function d({scrollTop:h}){const{scrollTop:p}=w(a);h!==p&&l(h)}function f(h,p="auto"){var m;(m=e.value)==null||m.scrollToRow(h,p)}return dt(()=>w(a).scrollTop,(h,p)=>{h>p&&i()}),{scrollPos:a,scrollTo:o,scrollToLeft:c,scrollToTop:l,scrollToRow:f,onScroll:u,onVerticalScroll:d}},vIe=(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,tableInstance:i,ns:a,isScrolling:s})=>{const o=kn(),{emit:l}=o,c=Ir(!1),u=ne(n.defaultExpandedRowKeys||[]),d=ne(-1),f=Ir(null),h=ne({}),p=ne({}),m=Ir({}),v=Ir({}),g=Ir({}),y=U(()=>en(n.estimatedRowHeight));function b(A){var I;(I=n.onRowsRendered)==null||I.call(n,A),A.rowCacheEnd>w(d)&&(d.value=A.rowCacheEnd)}function _({hovered:A,rowKey:I}){if(s.value)return;i.vnode.el.querySelectorAll(`[rowkey="${String(I)}"]`).forEach(F=>{A?F.classList.add(a.is("hovered")):F.classList.remove(a.is("hovered"))})}function x({expanded:A,rowData:I,rowIndex:D,rowKey:L}){var F,B;const k=[...w(u)],H=k.indexOf(L);A?H===-1&&k.push(L):H>-1&&k.splice(H,1),u.value=k,l("update:expandedRowKeys",k),(F=n.onRowExpand)==null||F.call(n,{expanded:A,rowData:I,rowIndex:D,rowKey:L}),(B=n.onExpandedRowsChange)==null||B.call(n,k)}const S=bo(()=>{var A,I,D,L;c.value=!0,h.value={...w(h),...w(p)},T(w(f),!1),p.value={},f.value=null,(A=e.value)==null||A.forceUpdate(),(I=t.value)==null||I.forceUpdate(),(D=r.value)==null||D.forceUpdate(),(L=o.proxy)==null||L.$forceUpdate(),c.value=!1},0);function T(A,I=!1){w(y)&&[e,t,r].forEach(D=>{const L=w(D);L&&L.resetAfterRowIndex(A,I)})}function C(A,I,D){const L=w(f);(L===null||L>D)&&(f.value=D),p.value[A]=I}function M({rowKey:A,height:I,rowIndex:D},L){L?L===SZ.RIGHT?g.value[A]=I:m.value[A]=I:v.value[A]=I;const F=Math.max(...[m,g,v].map(B=>B.value[A]||0));w(h)[A]!==F&&(C(A,F,D),S())}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:y,isResetting:c,rowHeights:h,resetAfterIndex:T,onRowExpanded:x,onRowHovered:_,onRowsRendered:b,onRowHeightChange:M}},gIe=(n,{expandedRowKeys:e,lastRenderedRowIndex:t,resetAfterIndex:r})=>{const i=ne({}),a=U(()=>{const o={},{data:l,rowKey:c}=n,u=w(e);if(!u||!u.length)return l;const d=[],f=new Set;u.forEach(p=>f.add(p));let h=l.slice();for(h.forEach(p=>o[p[c]]=0);h.length>0;){const p=h.shift();d.push(p),f.has(p[c])&&Tt(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(m=>o[m[c]]=o[p[c]]+1))}return i.value=o,d}),s=U(()=>{const{data:o,expandColumnKey:l}=n;return l?w(a):o});return dt(s,(o,l)=>{o!==l&&(t.value=-1,r(0,!0))}),{data:s,depthMap:i}},yIe=(n,e)=>n+e,P2=n=>Tt(n)?n.reduce(yIe,0):n,um=(n,e,t={})=>Zt(n)?n(e):n??t,Ef=n=>(["width","maxWidth","minWidth","height"].forEach(e=>{n[e]=Di(n[e])}),n),CZ=n=>_i(n)?e=>Gt(n,e):n,bIe=(n,{columnsTotalWidth:e,rowsHeight:t,fixedColumnsOnLeft:r,fixedColumnsOnRight:i})=>{const a=U(()=>{const{fixed:y,width:b,vScrollbarSize:_}=n,x=b-_;return y?Math.max(Math.round(w(e)),x):x}),s=U(()=>w(a)+n.vScrollbarSize),o=U(()=>{const{height:y=0,maxHeight:b=0,footerHeight:_,hScrollbarSize:x}=n;if(b>0){const S=w(h),T=w(t),M=w(f)+S+T+x;return Math.min(M,b-_)}return y-_}),l=U(()=>{const{maxHeight:y}=n,b=w(o);if(en(y)&&y>0)return b;const _=w(t)+w(f)+w(h);return Math.min(b,_)}),c=y=>y.width,u=U(()=>P2(w(r).map(c))),d=U(()=>P2(w(i).map(c))),f=U(()=>P2(n.headerHeight)),h=U(()=>{var y;return(((y=n.fixedData)==null?void 0:y.length)||0)*n.rowHeight}),p=U(()=>w(o)-w(f)-w(h)),m=U(()=>{const{style:y={},height:b,width:_}=n;return Ef({...y,height:b,width:_})}),v=U(()=>Ef({height:n.footerHeight})),g=U(()=>({top:Di(w(f)),bottom:Di(n.footerHeight),width:Di(n.width)}));return{bodyWidth:a,fixedTableHeight:l,mainTableHeight:o,leftTableWidth:u,rightTableWidth:d,headerWidth:s,windowHeight:p,footerHeight:v,emptyStyle:g,rootStyle:m,headerHeight:f}};function _Ie(n){const e=ne(),t=ne(),r=ne(),{columns:i,columnsStyles:a,columnsTotalWidth:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:d}=pIe(n,_r(n,"columns"),_r(n,"fixed")),{scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:v,onVerticalScroll:g,scrollPos:y}=mIe(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,onMaybeEndReached:ce}),b=bt("table-v2"),_=kn(),x=Ir(!1),{expandedRowKeys:S,lastRenderedRowIndex:T,isDynamic:C,isResetting:M,rowHeights:A,resetAfterIndex:I,onRowExpanded:D,onRowHeightChange:L,onRowHovered:F,onRowsRendered:B}=vIe(n,{mainTableRef:e,leftTableRef:t,rightTableRef:r,tableInstance:_,ns:b,isScrolling:x}),{data:k,depthMap:H}=gIe(n,{expandedRowKeys:S,lastRenderedRowIndex:T,resetAfterIndex:I}),z=U(()=>{const{estimatedRowHeight:re,rowHeight:Ne}=n,Pe=w(k);return en(re)?Object.values(w(A)).reduce(($e,Ue)=>$e+Ue,0):Pe.length*Ne}),{bodyWidth:O,fixedTableHeight:W,mainTableHeight:j,leftTableWidth:ee,rightTableWidth:te,headerWidth:J,windowHeight:Q,footerHeight:ie,emptyStyle:le,rootStyle:we,headerHeight:Ae}=bIe(n,{columnsTotalWidth:s,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,rowsHeight:z}),ke=ne(),Fe=U(()=>{const re=w(k).length===0;return Tt(n.fixedData)?n.fixedData.length===0&&re:re});function q(re){const{estimatedRowHeight:Ne,rowHeight:Pe,rowKey:$e}=n;return Ne?w(A)[w(k)[re][$e]]||Ne:Pe}function ce(){const{onEndReached:re}=n;if(!re)return;const{scrollTop:Ne}=w(y),Pe=w(z),$e=w(Q),Ue=Pe-(Ne+$e)+n.hScrollbarSize;w(T)>=0&&Pe===Ne+w(j)-w(Ae)&&re(Ue)}return dt(()=>n.expandedRowKeys,re=>S.value=re,{deep:!0}),{columns:i,containerRef:ke,mainTableRef:e,leftTableRef:t,rightTableRef:r,isDynamic:C,isResetting:M,isScrolling:x,hasFixedColumns:c,columnsStyles:a,columnsTotalWidth:s,data:k,expandedRowKeys:S,depthMap:H,fixedColumnsOnLeft:o,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:O,emptyStyle:le,rootStyle:we,headerWidth:J,footerHeight:ie,mainTableHeight:j,fixedTableHeight:W,leftTableWidth:ee,rightTableWidth:te,showEmpty:Fe,getRowHeight:q,onColumnSorted:d,onRowHovered:F,onRowExpanded:D,onRowsRendered:B,onRowHeightChange:L,scrollTo:f,scrollToLeft:h,scrollToTop:p,scrollToRow:m,onScroll:v,onVerticalScroll:g}}const JL=Symbol("tableV2"),MZ=String,iw={type:Ke(Array),required:!0},e6={type:Ke(Array)},TZ={...e6,required:!0},wIe=String,c9={type:Ke(Array),default:()=>Mi([])},wp={type:Number,required:!0},AZ={type:Ke([String,Number,Symbol]),default:"id"},u9={type:Ke(Object)},Lp=Rt({class:String,columns:iw,columnsStyles:{type:Ke(Object),required:!0},depth:Number,expandColumnKey:wIe,estimatedRowHeight:{...Xp.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Ke(Function)},onRowHover:{type:Ke(Function)},onRowHeightChange:{type:Ke(Function)},rowData:{type:Ke(Object),required:!0},rowEventHandlers:{type:Ke(Object)},rowIndex:{type:Number,required:!0},rowKey:AZ,style:{type:Ke(Object)}}),j3={type:Number,required:!0},t6=Rt({class:String,columns:iw,fixedHeaderData:{type:Ke(Array)},headerData:{type:Ke(Array),required:!0},headerHeight:{type:Ke([Number,Array]),default:50},rowWidth:j3,rowHeight:{type:Number,default:50},height:j3,width:j3}),D2=Rt({columns:iw,data:TZ,fixedData:e6,estimatedRowHeight:Lp.estimatedRowHeight,width:wp,height:wp,headerWidth:wp,headerHeight:t6.headerHeight,bodyWidth:wp,rowHeight:wp,cache:Kj.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:Xp.scrollbarAlwaysOn,scrollbarStartGap:Xp.scrollbarStartGap,scrollbarEndGap:Xp.scrollbarEndGap,class:MZ,style:u9,containerStyle:u9,getRowHeight:{type:Ke(Function),required:!0},rowKey:Lp.rowKey,onRowsRendered:{type:Ke(Function)},onScroll:{type:Ke(Function)}}),xIe=Rt({cache:D2.cache,estimatedRowHeight:Lp.estimatedRowHeight,rowKey:AZ,headerClass:{type:Ke([String,Function])},headerProps:{type:Ke([Object,Function])},headerCellProps:{type:Ke([Object,Function])},headerHeight:t6.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:Ke([String,Function])},rowProps:{type:Ke([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:Ke([Object,Function])},columns:iw,data:TZ,dataGetter:{type:Ke(Function)},fixedData:e6,expandColumnKey:Lp.expandColumnKey,expandedRowKeys:c9,defaultExpandedRowKeys:c9,class:MZ,fixed:Boolean,style:{type:Ke(Object)},width:wp,height:wp,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:Xp.hScrollbarSize,vScrollbarSize:Xp.vScrollbarSize,scrollbarAlwaysOn:jj.alwaysOn,sortBy:{type:Ke(Object),default:()=>({})},sortState:{type:Ke(Object),default:void 0},onColumnSort:{type:Ke(Function)},onExpandedRowsChange:{type:Ke(Function)},onEndReached:{type:Ke(Function)},onRowExpand:Lp.onRowExpand,onScroll:D2.onScroll,onRowsRendered:D2.onRowsRendered,rowEventHandlers:Lp.rowEventHandlers}),SIe="ElTableV2Header",CIe=Re({name:SIe,props:t6,setup(n,{slots:e,expose:t}){const r=bt("table-v2"),i=Ot("tableV2GridScrollLeft"),a=ne(),s=U(()=>Ef({width:n.width,height:n.height})),o=U(()=>Ef({width:n.rowWidth,height:n.height})),l=U(()=>ws(w(n.headerHeight))),c=f=>{const h=w(a);Yt(()=>{h!=null&&h.scroll&&h.scroll({left:f})})},u=()=>{const f=r.e("fixed-header-row"),{columns:h,fixedHeaderData:p,rowHeight:m}=n;return p==null?void 0:p.map((v,g)=>{var y;const b=Ef({height:m,width:"100%"});return(y=e.fixed)==null?void 0:y.call(e,{class:f,columns:h,rowData:v,rowIndex:-(g+1),style:b})})},d=()=>{const f=r.e("dynamic-header-row"),{columns:h}=n;return w(l).map((p,m)=>{var v;const g=Ef({width:"100%",height:p});return(v=e.dynamic)==null?void 0:v.call(e,{class:f,columns:h,headerIndex:m,style:g})})};return Bl(()=>{i!=null&&i.value&&c(i.value)}),t({scrollToLeft:c}),()=>{if(!(n.height<=0))return ue("div",{ref:a,class:n.class,style:w(s),role:"rowgroup"},[ue("div",{style:w(o),class:r.e("header")},[d(),u()])])}}});var MIe=CIe;const TIe=({atXEndEdge:n,atXStartEdge:e,atYEndEdge:t,atYStartEdge:r},i)=>{let a=null,s=0,o=0;const l=(u,d)=>{const f=u<=0&&e.value||u>=0&&n.value,h=d<=0&&r.value||d>=0&&t.value;return f&&h};return{hasReachedEdge:l,onWheel:u=>{lm(a);let d=u.deltaX,f=u.deltaY;Math.abs(d)>Math.abs(f)?f=0:d=0,u.shiftKey&&f!==0&&(d=f,f=0),!(l(s,o)&&l(s+d,o+f))&&(s+=d,o+=f,u.preventDefault(),a=Jf(()=>{i(s,o),s=0,o=0}))}}},EZ=({name:n,clearCache:e,getColumnPosition:t,getColumnStartIndexForOffset:r,getColumnStopIndexForStartIndex:i,getEstimatedTotalHeight:a,getEstimatedTotalWidth:s,getColumnOffset:o,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:u,getRowStopIndexForStartIndex:d,initCache:f,injectToInstance:h,validateProps:p})=>Re({name:n??"ElVirtualList",props:Xp,emits:[kC,LC],setup(m,{emit:v,expose:g,slots:y}){const b=bt("vl");p(m);const _=kn(),x=ne(f(m,_));h==null||h(_,x);const S=ne(),T=ne(),C=ne(),M=ne(null),A=ne({isScrolling:!1,scrollLeft:en(m.initScrollLeft)?m.initScrollLeft:0,scrollTop:en(m.initScrollTop)?m.initScrollTop:0,updateRequested:!1,xAxisScrollDir:vv,yAxisScrollDir:vv}),I=Gj(),D=U(()=>Number.parseInt(`${m.height}`,10)),L=U(()=>Number.parseInt(`${m.width}`,10)),F=U(()=>{const{totalColumn:$e,totalRow:Ue,columnCache:Ve}=m,{isScrolling:je,xAxisScrollDir:fe,scrollLeft:$}=w(A);if($e===0||Ue===0)return[0,0,0,0];const X=r(m,$,w(x)),me=i(m,X,$,w(x)),Oe=!je||fe===NC?Math.max(1,Ve):1,qe=!je||fe===vv?Math.max(1,Ve):1;return[Math.max(0,X-Oe),Math.max(0,Math.min($e-1,me+qe)),X,me]}),B=U(()=>{const{totalColumn:$e,totalRow:Ue,rowCache:Ve}=m,{isScrolling:je,yAxisScrollDir:fe,scrollTop:$}=w(A);if($e===0||Ue===0)return[0,0,0,0];const X=u(m,$,w(x)),me=d(m,X,$,w(x)),Oe=!je||fe===NC?Math.max(1,Ve):1,qe=!je||fe===vv?Math.max(1,Ve):1;return[Math.max(0,X-Oe),Math.max(0,Math.min(Ue-1,me+qe)),X,me]}),k=U(()=>a(m,w(x))),H=U(()=>s(m,w(x))),z=U(()=>{var $e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:m.direction,height:en(m.height)?`${m.height}px`:m.height,width:en(m.width)?`${m.width}px`:m.width},($e=m.style)!=null?$e:{}]}),O=U(()=>{const $e=`${w(H)}px`;return{height:`${w(k)}px`,pointerEvents:w(A).isScrolling?"none":void 0,width:$e}}),W=()=>{const{totalColumn:$e,totalRow:Ue}=m;if($e>0&&Ue>0){const[me,Oe,qe,mt]=w(F),[pt,Ce,ft,at]=w(B);v(kC,{columnCacheStart:me,columnCacheEnd:Oe,rowCacheStart:pt,rowCacheEnd:Ce,columnVisibleStart:qe,columnVisibleEnd:mt,rowVisibleStart:ft,rowVisibleEnd:at})}const{scrollLeft:Ve,scrollTop:je,updateRequested:fe,xAxisScrollDir:$,yAxisScrollDir:X}=w(A);v(LC,{xAxisScrollDir:$,scrollLeft:Ve,yAxisScrollDir:X,scrollTop:je,updateRequested:fe})},j=$e=>{const{clientHeight:Ue,clientWidth:Ve,scrollHeight:je,scrollLeft:fe,scrollTop:$,scrollWidth:X}=$e.currentTarget,me=w(A);if(me.scrollTop===$&&me.scrollLeft===fe)return;let Oe=fe;if(KF(m.direction))switch(BC()){case t_:Oe=-fe;break;case XL:Oe=X-Ve-fe;break}A.value={...me,isScrolling:!0,scrollLeft:Oe,scrollTop:Math.max(0,Math.min($,je-Ue)),updateRequested:!0,xAxisScrollDir:Dp(me.scrollLeft,Oe),yAxisScrollDir:Dp(me.scrollTop,$)},Yt(()=>we()),Ae(),W()},ee=($e,Ue)=>{const Ve=w(D),je=(k.value-Ve)/Ue*$e;Q({scrollTop:Math.min(k.value-Ve,je)})},te=($e,Ue)=>{const Ve=w(L),je=(H.value-Ve)/Ue*$e;Q({scrollLeft:Math.min(H.value-Ve,je)})},{onWheel:J}=TIe({atXStartEdge:U(()=>A.value.scrollLeft<=0),atXEndEdge:U(()=>A.value.scrollLeft>=H.value-w(L)),atYStartEdge:U(()=>A.value.scrollTop<=0),atYEndEdge:U(()=>A.value.scrollTop>=k.value-w(D))},($e,Ue)=>{var Ve,je,fe,$;(je=(Ve=T.value)==null?void 0:Ve.onMouseUp)==null||je.call(Ve),($=(fe=C.value)==null?void 0:fe.onMouseUp)==null||$.call(fe);const X=w(L),me=w(D);Q({scrollLeft:Math.min(A.value.scrollLeft+$e,H.value-X),scrollTop:Math.min(A.value.scrollTop+Ue,k.value-me)})});Ar(S,"wheel",J,{passive:!1});const Q=({scrollLeft:$e=A.value.scrollLeft,scrollTop:Ue=A.value.scrollTop})=>{$e=Math.max($e,0),Ue=Math.max(Ue,0);const Ve=w(A);Ue===Ve.scrollTop&&$e===Ve.scrollLeft||(A.value={...Ve,xAxisScrollDir:Dp(Ve.scrollLeft,$e),yAxisScrollDir:Dp(Ve.scrollTop,Ue),scrollLeft:$e,scrollTop:Ue,updateRequested:!0},Yt(()=>we()),Ae(),W())},ie=($e=0,Ue=0,Ve=bl)=>{const je=w(A);Ue=Math.max(0,Math.min(Ue,m.totalColumn-1)),$e=Math.max(0,Math.min($e,m.totalRow-1));const fe=IY(b.namespace.value),$=w(x),X=a(m,$),me=s(m,$);Q({scrollLeft:o(m,Ue,Ve,je.scrollLeft,$,me>m.width?fe:0),scrollTop:l(m,$e,Ve,je.scrollTop,$,X>m.height?fe:0)})},le=($e,Ue)=>{const{columnWidth:Ve,direction:je,rowHeight:fe}=m,$=I.value(e&&Ve,e&&fe,e&&je),X=`${$e},${Ue}`;if(sr($,X))return $[X];{const[,me]=t(m,Ue,w(x)),Oe=w(x),qe=KF(je),[mt,pt]=c(m,$e,Oe),[Ce]=t(m,Ue,Oe);return $[X]={position:"absolute",left:qe?void 0:`${me}px`,right:qe?`${me}px`:void 0,top:`${pt}px`,height:`${mt}px`,width:`${Ce}px`},$[X]}},we=()=>{A.value.isScrolling=!1,Yt(()=>{I.value(-1,null,null)})};pn(()=>{if(!nr)return;const{initScrollLeft:$e,initScrollTop:Ue}=m,Ve=w(S);Ve&&(en($e)&&(Ve.scrollLeft=$e),en(Ue)&&(Ve.scrollTop=Ue)),W()});const Ae=()=>{const{direction:$e}=m,{scrollLeft:Ue,scrollTop:Ve,updateRequested:je}=w(A),fe=w(S);if(je&&fe){if($e===Bv)switch(BC()){case t_:{fe.scrollLeft=-Ue;break}case YL:{fe.scrollLeft=Ue;break}default:{const{clientWidth:$,scrollWidth:X}=fe;fe.scrollLeft=X-$-Ue;break}}else fe.scrollLeft=Math.max(0,Ue);fe.scrollTop=Math.max(0,Ve)}},{resetAfterColumnIndex:ke,resetAfterRowIndex:Fe,resetAfter:q}=_.proxy;g({windowRef:S,innerRef:M,getItemStyleCache:I,scrollTo:Q,scrollToItem:ie,states:A,resetAfterColumnIndex:ke,resetAfterRowIndex:Fe,resetAfter:q});const ce=()=>{const{scrollbarAlwaysOn:$e,scrollbarStartGap:Ue,scrollbarEndGap:Ve,totalColumn:je,totalRow:fe}=m,$=w(L),X=w(D),me=w(H),Oe=w(k),{scrollLeft:qe,scrollTop:mt}=w(A),pt=Gt(lR,{ref:T,alwaysOn:$e,startGap:Ue,endGap:Ve,class:b.e("horizontal"),clientSize:$,layout:"horizontal",onScroll:te,ratio:$*100/me,scrollFrom:qe/(me-$),total:fe,visible:!0}),Ce=Gt(lR,{ref:C,alwaysOn:$e,startGap:Ue,endGap:Ve,class:b.e("vertical"),clientSize:X,layout:"vertical",onScroll:ee,ratio:X*100/Oe,scrollFrom:mt/(Oe-X),total:je,visible:!0});return{horizontalScrollbar:pt,verticalScrollbar:Ce}},re=()=>{var $e;const[Ue,Ve]=w(F),[je,fe]=w(B),{data:$,totalColumn:X,totalRow:me,useIsScrolling:Oe,itemKey:qe}=m,mt=[];if(me>0&&X>0)for(let pt=je;pt<=fe;pt++)for(let Ce=Ue;Ce<=Ve;Ce++){const ft=qe({columnIndex:Ce,data:$,rowIndex:pt});mt.push(Gt(zt,{key:ft},($e=y.default)==null?void 0:$e.call(y,{columnIndex:Ce,data:$,isScrolling:Oe?w(A).isScrolling:void 0,style:le(pt,Ce),rowIndex:pt})))}return mt},Ne=()=>{const $e=Nn(m.innerElement),Ue=re();return[Gt($e,{style:w(O),ref:M},qt($e)?Ue:{default:()=>Ue})]};return()=>{const $e=Nn(m.containerElement),{horizontalScrollbar:Ue,verticalScrollbar:Ve}=ce(),je=Ne();return Gt("div",{key:0,class:b.e("wrapper"),role:m.role},[Gt($e,{class:m.className,style:w(z),onScroll:j,ref:S},qt($e)?je:{default:()=>je}),Ue,Ve])}}}),{max:UC,min:IZ,floor:RZ}=Math,AIe={column:"columnWidth",row:"rowHeight"},_R={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},Qu=(n,e,t,r)=>{const[i,a,s]=[t[r],n[AIe[r]],t[_R[r]]];if(e>s){let o=0;if(s>=0){const l=i[s];o=l.offset+l.size}for(let l=s+1;l<=e;l++){const c=a(l);i[l]={offset:o,size:c},o+=c}t[_R[r]]=e}return i[e]},PZ=(n,e,t,r,i,a)=>{for(;t<=r;){const s=t+RZ((r-t)/2),o=Qu(n,s,e,a).offset;if(o===i)return s;o<i?t=s+1:r=s-1}return UC(0,t-1)},EIe=(n,e,t,r,i)=>{const a=i==="column"?n.totalColumn:n.totalRow;let s=1;for(;t<a&&Qu(n,t,e,i).offset<r;)t+=s,s*=2;return PZ(n,e,RZ(t/2),IZ(t,a-1),r,i)},d9=(n,e,t,r)=>{const[i,a]=[e[r],e[_R[r]]];return(a>0?i[a].offset:0)>=t?PZ(n,e,0,a,t,r):EIe(n,e,UC(0,a),t,r)},DZ=({totalRow:n},{estimatedRowHeight:e,lastVisitedRowIndex:t,row:r})=>{let i=0;if(t>=n&&(t=n-1),t>=0){const o=r[t];i=o.offset+o.size}const s=(n-t-1)*e;return i+s},kZ=({totalColumn:n},{column:e,estimatedColumnWidth:t,lastVisitedColumnIndex:r})=>{let i=0;if(r>n&&(r=n-1),r>=0){const o=e[r];i=o.offset+o.size}const s=(n-r-1)*t;return i+s},IIe={column:kZ,row:DZ},f9=(n,e,t,r,i,a,s)=>{const[o,l]=[a==="row"?n.height:n.width,IIe[a]],c=Qu(n,e,i,a),u=l(n,i),d=UC(0,IZ(u-o,c.offset)),f=UC(0,c.offset-o+s+c.size);switch(t===HT&&(r>=f-o&&r<=d+o?t=bl:t=Xc),t){case Jb:return d;case e_:return f;case Xc:return Math.round(f+(d-f)/2);case bl:default:return r>=f&&r<=d?r:f>d||r<f?f:d}},RIe=EZ({name:"ElDynamicSizeGrid",getColumnPosition:(n,e,t)=>{const r=Qu(n,e,t,"column");return[r.size,r.offset]},getRowPosition:(n,e,t)=>{const r=Qu(n,e,t,"row");return[r.size,r.offset]},getColumnOffset:(n,e,t,r,i,a)=>f9(n,e,t,r,i,"column",a),getRowOffset:(n,e,t,r,i,a)=>f9(n,e,t,r,i,"row",a),getColumnStartIndexForOffset:(n,e,t)=>d9(n,t,e,"column"),getColumnStopIndexForStartIndex:(n,e,t,r)=>{const i=Qu(n,e,r,"column"),a=t+n.width;let s=i.offset+i.size,o=e;for(;o<n.totalColumn-1&&s<a;)o++,s+=Qu(n,e,r,"column").size;return o},getEstimatedTotalHeight:DZ,getEstimatedTotalWidth:kZ,getRowStartIndexForOffset:(n,e,t)=>d9(n,t,e,"row"),getRowStopIndexForStartIndex:(n,e,t,r)=>{const{totalRow:i,height:a}=n,s=Qu(n,e,r,"row"),o=t+a;let l=s.size+s.offset,c=e;for(;c<i-1&&l<o;)c++,l+=Qu(n,c,r,"row").size;return c},injectToInstance:(n,e)=>{const t=({columnIndex:a,rowIndex:s},o)=>{var l,c;o=Tr(o)?!0:o,en(a)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,a-1)),en(s)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,s-1)),(l=n.exposed)==null||l.getItemStyleCache.value(-1,null,null),o&&((c=n.proxy)==null||c.$forceUpdate())},r=(a,s)=>{t({columnIndex:a},s)},i=(a,s)=>{t({rowIndex:a},s)};Object.assign(n.proxy,{resetAfterColumnIndex:r,resetAfterRowIndex:i,resetAfter:t})},initCache:({estimatedColumnWidth:n=nR,estimatedRowHeight:e=nR})=>({column:{},estimatedColumnWidth:n,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:n,rowHeight:e})=>{}}),PIe=EZ({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:n},e)=>[n,e*n],getRowPosition:({rowHeight:n},e)=>[n,e*n],getEstimatedTotalHeight:({totalRow:n,rowHeight:e})=>e*n,getEstimatedTotalWidth:({totalColumn:n,columnWidth:e})=>e*n,getColumnOffset:({totalColumn:n,columnWidth:e,width:t},r,i,a,s,o)=>{t=Number(t);const l=Math.max(0,n*e-t),c=Math.min(l,r*e),u=Math.max(0,r*e-t+o+e);switch(i==="smart"&&(a>=u-t&&a<=c+t?i=bl:i=Xc),i){case Jb:return c;case e_:return u;case Xc:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(t/2)?0:d>l+Math.floor(t/2)?l:d}case bl:default:return a>=u&&a<=c?a:u>c||a<u?u:c}},getRowOffset:({rowHeight:n,height:e,totalRow:t},r,i,a,s,o)=>{e=Number(e);const l=Math.max(0,t*n-e),c=Math.min(l,r*n),u=Math.max(0,r*n-e+o+n);switch(i===HT&&(a>=u-e&&a<=c+e?i=bl:i=Xc),i){case Jb:return c;case e_:return u;case Xc:{const d=Math.round(u+(c-u)/2);return d<Math.ceil(e/2)?0:d>l+Math.floor(e/2)?l:d}case bl:default:return a>=u&&a<=c?a:u>c||a<u?u:c}},getColumnStartIndexForOffset:({columnWidth:n,totalColumn:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getColumnStopIndexForStartIndex:({columnWidth:n,totalColumn:e,width:t},r,i)=>{const a=r*n,s=Math.ceil((t+i-a)/n);return Math.max(0,Math.min(e-1,r+s-1))},getRowStartIndexForOffset:({rowHeight:n,totalRow:e},t)=>Math.max(0,Math.min(e-1,Math.floor(t/n))),getRowStopIndexForStartIndex:({rowHeight:n,totalRow:e,height:t},r,i)=>{const a=r*n,s=Math.ceil((t+i-a)/n);return Math.max(0,Math.min(e-1,r+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:n,rowHeight:e})=>{}}),DIe="ElTableV2Grid",kIe=n=>{const e=ne(),t=ne(),r=ne(0),i=U(()=>{const{data:v,rowHeight:g,estimatedRowHeight:y}=n;if(!y)return v.length*g}),a=U(()=>{const{fixedData:v,rowHeight:g}=n;return((v==null?void 0:v.length)||0)*g}),s=U(()=>P2(n.headerHeight)),o=U(()=>{const{height:v}=n;return Math.max(0,v-w(s)-w(a))}),l=U(()=>w(s)+w(a)>0),c=({data:v,rowIndex:g})=>v[g][n.rowKey];function u({rowCacheStart:v,rowCacheEnd:g,rowVisibleStart:y,rowVisibleEnd:b}){var _;(_=n.onRowsRendered)==null||_.call(n,{rowCacheStart:v,rowCacheEnd:g,rowVisibleStart:y,rowVisibleEnd:b})}function d(v,g){var y;(y=t.value)==null||y.resetAfterRowIndex(v,g)}function f(v,g){const y=w(e),b=w(t);Pn(v)?(y==null||y.scrollToLeft(v.scrollLeft),r.value=v.scrollLeft,b==null||b.scrollTo(v)):(y==null||y.scrollToLeft(v),r.value=v,b==null||b.scrollTo({scrollLeft:v,scrollTop:g}))}function h(v){var g;(g=w(t))==null||g.scrollTo({scrollTop:v})}function p(v,g){var y;(y=w(t))==null||y.scrollToItem(v,1,g)}function m(){var v,g;(v=w(t))==null||v.$forceUpdate(),(g=w(e))==null||g.$forceUpdate()}return{bodyRef:t,forceUpdate:m,fixedRowHeight:a,gridHeight:o,hasHeader:l,headerHeight:s,headerRef:e,totalHeight:i,itemKey:c,onItemRendered:u,resetAfterRowIndex:d,scrollTo:f,scrollToTop:h,scrollToRow:p,scrollLeft:r}},LIe=Re({name:DIe,props:D2,setup(n,{slots:e,expose:t}){const{ns:r}=Ot(JL),{bodyRef:i,fixedRowHeight:a,gridHeight:s,hasHeader:o,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:f,onItemRendered:h,resetAfterRowIndex:p,scrollTo:m,scrollToTop:v,scrollToRow:g,scrollLeft:y}=kIe(n);$n("tableV2GridScrollLeft",y),t({forceUpdate:d,totalHeight:u,scrollTo:m,scrollToTop:v,scrollToRow:g,resetAfterRowIndex:p});const b=()=>n.bodyWidth;return()=>{const{cache:_,columns:x,data:S,fixedData:T,useIsScrolling:C,scrollbarAlwaysOn:M,scrollbarEndGap:A,scrollbarStartGap:I,style:D,rowHeight:L,bodyWidth:F,estimatedRowHeight:B,headerWidth:k,height:H,width:z,getRowHeight:O,onScroll:W}=n,j=en(B),ee=j?RIe:PIe,te=w(c);return ue("div",{role:"table",class:[r.e("table"),n.class],style:D},[ue(ee,{ref:i,data:S,useIsScrolling:C,itemKey:f,columnCache:0,columnWidth:j?b:F,totalColumn:1,totalRow:S.length,rowCache:_,rowHeight:j?O:L,width:z,height:w(s),class:r.e("body"),role:"rowgroup",scrollbarStartGap:I,scrollbarEndGap:A,scrollbarAlwaysOn:M,onScroll:W,onItemRendered:h,perfMode:!1},{default:J=>{var Q;const ie=S[J.rowIndex];return(Q=e.row)==null?void 0:Q.call(e,{...J,columns:x,rowData:ie})}}),w(o)&&ue(MIe,{ref:l,class:r.e("header-wrapper"),columns:x,headerData:S,headerHeight:n.headerHeight,fixedHeaderData:T,rowWidth:k,rowHeight:L,width:z,height:Math.min(te+w(a),H)},{dynamic:e.header,fixed:e.row})])}}});var n6=LIe;function NIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!_i(n)}const OIe=(n,{slots:e})=>{const{mainTableRef:t,...r}=n;return ue(n6,Hn({ref:t},r),NIe(e)?e:{default:()=>[e]})};var BIe=OIe;function FIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!_i(n)}const zIe=(n,{slots:e})=>{if(!n.columns.length)return;const{leftTableRef:t,...r}=n;return ue(n6,Hn({ref:t},r),FIe(e)?e:{default:()=>[e]})};var UIe=zIe;function HIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!_i(n)}const VIe=(n,{slots:e})=>{if(!n.columns.length)return;const{rightTableRef:t,...r}=n;return ue(n6,Hn({ref:t},r),HIe(e)?e:{default:()=>[e]})};var $Ie=VIe;const GIe=n=>{const{isScrolling:e}=Ot(JL),t=ne(!1),r=ne(),i=U(()=>en(n.estimatedRowHeight)&&n.rowIndex>=0),a=(l=!1)=>{const c=w(r);if(!c)return;const{columns:u,onRowHeightChange:d,rowKey:f,rowIndex:h,style:p}=n,{height:m}=c.getBoundingClientRect();t.value=!0,Yt(()=>{if(l||m!==Number.parseInt(p.height)){const v=u[0],g=(v==null?void 0:v.placeholderSign)===a_;d==null||d({rowKey:f,height:m,rowIndex:h},v&&!g&&v.fixed)}})},s=U(()=>{const{rowData:l,rowIndex:c,rowKey:u,onRowHover:d}=n,f=n.rowEventHandlers||{},h={};return Object.entries(f).forEach(([p,m])=>{Zt(m)&&(h[p]=v=>{m({event:v,rowData:l,rowIndex:c,rowKey:u})})}),d&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:m})=>{const v=h[p];h[p]=g=>{d({event:g,hovered:m,rowData:l,rowIndex:c,rowKey:u}),v==null||v(g)}}),h}),o=l=>{const{onRowExpand:c,rowData:u,rowIndex:d,rowKey:f}=n;c==null||c({expanded:l,rowData:u,rowIndex:d,rowKey:f})};return pn(()=>{w(i)&&a(!0)}),{isScrolling:e,measurable:i,measured:t,rowRef:r,eventHandlers:s,onExpand:o}},WIe="ElTableV2TableRow",qIe=Re({name:WIe,props:Lp,setup(n,{expose:e,slots:t,attrs:r}){const{eventHandlers:i,isScrolling:a,measurable:s,measured:o,rowRef:l,onExpand:c}=GIe(n);return e({onExpand:c}),()=>{const{columns:u,columnsStyles:d,expandColumnKey:f,depth:h,rowData:p,rowIndex:m,style:v}=n;let g=u.map((y,b)=>{const _=Tt(p.children)&&p.children.length>0&&y.key===f;return t.cell({column:y,columns:u,columnIndex:b,depth:h,style:d[y.key],rowData:p,rowIndex:m,isScrolling:w(a),expandIconProps:_?{rowData:p,rowIndex:m,onExpand:c}:void 0})});if(t.row&&(g=t.row({cells:g.map(y=>Tt(y)&&y.length===1?y[0]:y),style:v,columns:u,depth:h,rowData:p,rowIndex:m,isScrolling:w(a)})),w(s)){const{height:y,...b}=v||{},_=w(o);return ue("div",Hn({ref:l,class:n.class,style:_?v:b,role:"row"},r,w(i)),[g])}return ue("div",Hn(r,{ref:l,class:n.class,style:v,role:"row"},w(i)),[g])}}});var KIe=qIe;function YIe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!_i(n)}const XIe=(n,{slots:e})=>{const{columns:t,columnsStyles:r,depthMap:i,expandColumnKey:a,expandedRowKeys:s,estimatedRowHeight:o,hasFixedColumns:l,rowData:c,rowIndex:u,style:d,isScrolling:f,rowProps:h,rowClass:p,rowKey:m,rowEventHandlers:v,ns:g,onRowHovered:y,onRowExpanded:b}=n,_=um(p,{columns:t,rowData:c,rowIndex:u},""),x=um(h,{columns:t,rowData:c,rowIndex:u}),S=c[m],T=i[S]||0,C=!!a,M=u<0,A=[g.e("row"),_,{[g.e(`row-depth-${T}`)]:C&&u>=0,[g.is("expanded")]:C&&s.includes(S),[g.is("fixed")]:!T&&M,[g.is("customized")]:!!e.row}],I=l?y:void 0,D={...x,columns:t,columnsStyles:r,class:A,depth:T,expandColumnKey:a,estimatedRowHeight:M?void 0:o,isScrolling:f,rowIndex:u,rowData:c,rowKey:S,rowEventHandlers:v,style:d};return ue(KIe,Hn(D,{onRowExpand:b,onMouseenter:B=>{I==null||I({hovered:!0,rowKey:S,event:B,rowData:c,rowIndex:u})},onMouseleave:B=>{I==null||I({hovered:!1,rowKey:S,event:B,rowData:c,rowIndex:u})},rowkey:S}),YIe(e)?e:{default:()=>[e]})};var jIe=XIe;const r6=(n,{slots:e})=>{var t;const{cellData:r,style:i}=n,a=((t=r==null?void 0:r.toString)==null?void 0:t.call(r))||"",s=Qe(e,"default",n,()=>[a]);return ue("div",{class:n.class,title:a,style:i},[s])};r6.displayName="ElTableV2Cell";r6.inheritAttrs=!1;var ZIe=r6;const QIe=n=>{const{expanded:e,expandable:t,onExpand:r,style:i,size:a}=n,s={onClick:t?()=>r(!e):void 0,class:n.class};return ue(Vt,Hn(s,{size:a,style:i}),{default:()=>[ue(Gs,null,null)]})};var JIe=QIe;const LZ=({columns:n,column:e,columnIndex:t,depth:r,expandIconProps:i,isScrolling:a,rowData:s,rowIndex:o,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:f,indentSize:h,iconSize:p,rowKey:m},{slots:v})=>{const g=Ef(l);if(e.placeholderSign===a_)return ue("div",{class:u.em("row-cell","placeholder"),style:g},null);const{cellRenderer:y,dataKey:b,dataGetter:_}=e,x=Zt(_)?_({columns:n,column:e,columnIndex:t,rowData:s,rowIndex:o}):Gi(s,b??""),S=um(d,{cellData:x,columns:n,column:e,columnIndex:t,rowIndex:o,rowData:s}),T={class:u.e("cell-text"),columns:n,column:e,columnIndex:t,cellData:x,isScrolling:a,rowData:s,rowIndex:o},C=CZ(y),M=C?C(T):Qe(v,"default",T,()=>[ue(ZIe,T,null)]),A=[u.e("row-cell"),e.class,e.align===i_.CENTER&&u.is("align-center"),e.align===i_.RIGHT&&u.is("align-right")],I=o>=0&&f&&e.key===f,D=o>=0&&c.includes(s[m]);let L;const F=`margin-inline-start: ${r*h}px;`;return I&&(Pn(i)?L=ue(JIe,Hn(i,{class:[u.e("expand-icon"),u.is("expanded",D)],size:p,expanded:D,style:F,expandable:!0}),null):L=ue("div",{style:[F,`width: ${p}px; height: ${p}px;`].join(" ")},null)),ue("div",Hn({class:A,style:g},S,{role:"cell"}),[L,M])};LZ.inheritAttrs=!1;var h9=LZ;const e5e=Rt({class:String,columns:iw,columnsStyles:{type:Ke(Object),required:!0},headerIndex:Number,style:{type:Ke(Object)}}),t5e=Re({name:"ElTableV2HeaderRow",props:e5e,setup(n,{slots:e}){return()=>{const{columns:t,columnsStyles:r,headerIndex:i,style:a}=n;let s=t.map((o,l)=>e.cell({columns:t,column:o,columnIndex:l,headerIndex:i,style:r[o.key]}));return e.header&&(s=e.header({cells:s.map(o=>Tt(o)&&o.length===1?o[0]:o),columns:t,headerIndex:i})),ue("div",{class:n.class,style:a,role:"row"},[s])}}});var n5e=t5e;function r5e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!_i(n)}const i5e=({columns:n,columnsStyles:e,headerIndex:t,style:r,headerClass:i,headerProps:a,ns:s},{slots:o})=>{const l={columns:n,headerIndex:t},c=[s.e("header-row"),um(i,l,""),{[s.is("customized")]:!!o.header}],u={...um(a,l),columnsStyles:e,class:c,columns:n,headerIndex:t,style:r};return ue(n5e,u,r5e(o)?o:{default:()=>[o]})};var a5e=i5e;const i6=(n,{slots:e})=>Qe(e,"default",n,()=>{var t,r;return[ue("div",{class:n.class,title:(t=n.column)==null?void 0:t.title},[(r=n.column)==null?void 0:r.title])]});i6.displayName="ElTableV2HeaderCell";i6.inheritAttrs=!1;var s5e=i6;const o5e=n=>{const{sortOrder:e}=n;return ue(Vt,{size:14,class:n.class},{default:()=>[e===r_.ASC?ue(Uve,null,null):ue(Fve,null,null)]})};var l5e=o5e;const c5e=(n,{slots:e})=>{const{column:t,ns:r,style:i,onColumnSorted:a}=n,s=Ef(i);if(t.placeholderSign===a_)return ue("div",{class:r.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:o,headerClass:l,sortable:c}=t,u={...n,class:r.e("header-cell-text")},d=CZ(o),f=d?d(u):Qe(e,"default",u,()=>[ue(s5e,u,null)]),{sortBy:h,sortState:p,headerCellProps:m}=n;let v,g;if(p){const _=p[t.key];v=!!bR[_],g=v?_:r_.ASC}else v=t.key===h.key,g=v?h.order:r_.ASC;const y=[r.e("header-cell"),um(l,n,""),t.align===i_.CENTER&&r.is("align-center"),t.align===i_.RIGHT&&r.is("align-right"),c&&r.is("sortable")],b={...um(m,n),onClick:t.sortable?a:void 0,class:y,style:s,"data-key":t.key};return ue("div",Hn(b,{role:"columnheader"}),[f,c&&ue(l5e,{class:[r.e("sort-icon"),v&&r.is("sorting")],sortOrder:g},null)])};var p9=c5e;const NZ=(n,{slots:e})=>{var t;return ue("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};NZ.displayName="ElTableV2Footer";var u5e=NZ;const OZ=(n,{slots:e})=>{const t=Qe(e,"default",{},()=>[ue(Ij,null,null)]);return ue("div",{class:n.class,style:n.style},[t])};OZ.displayName="ElTableV2Empty";var d5e=OZ;const BZ=(n,{slots:e})=>{var t;return ue("div",{class:n.class,style:n.style},[(t=e.default)==null?void 0:t.call(e)])};BZ.displayName="ElTableV2Overlay";var f5e=BZ;function Fy(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!_i(n)}const h5e="ElTableV2",p5e=Re({name:h5e,props:xIe,setup(n,{slots:e,expose:t}){const r=bt("table-v2"),{columnsStyles:i,fixedColumnsOnLeft:a,fixedColumnsOnRight:s,mainColumns:o,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:f,depthMap:h,expandedRowKeys:p,hasFixedColumns:m,mainTableRef:v,leftTableRef:g,rightTableRef:y,isDynamic:b,isResetting:_,isScrolling:x,bodyWidth:S,emptyStyle:T,rootStyle:C,headerWidth:M,footerHeight:A,showEmpty:I,scrollTo:D,scrollToLeft:L,scrollToTop:F,scrollToRow:B,getRowHeight:k,onColumnSorted:H,onRowHeightChange:z,onRowHovered:O,onRowExpanded:W,onRowsRendered:j,onScroll:ee,onVerticalScroll:te}=_Ie(n);return t({scrollTo:D,scrollToLeft:L,scrollToTop:F,scrollToRow:B}),$n(JL,{ns:r,isResetting:_,isScrolling:x}),()=>{const{cache:J,cellProps:Q,estimatedRowHeight:ie,expandColumnKey:le,fixedData:we,headerHeight:Ae,headerClass:ke,headerProps:Fe,headerCellProps:q,sortBy:ce,sortState:re,rowHeight:Ne,rowClass:Pe,rowEventHandlers:$e,rowKey:Ue,rowProps:Ve,scrollbarAlwaysOn:je,indentSize:fe,iconSize:$,useIsScrolling:X,vScrollbarSize:me,width:Oe}=n,qe=w(f),mt={cache:J,class:r.e("main"),columns:w(o),data:qe,fixedData:we,estimatedRowHeight:ie,bodyWidth:w(S)+me,headerHeight:Ae,headerWidth:w(M),height:w(l),mainTableRef:v,rowKey:Ue,rowHeight:Ne,scrollbarAlwaysOn:je,scrollbarStartGap:2,scrollbarEndGap:me,useIsScrolling:X,width:Oe,getRowHeight:k,onRowsRendered:j,onScroll:ee},pt=w(u),Ce=w(c),ft={cache:J,class:r.e("left"),columns:w(a),data:qe,estimatedRowHeight:ie,leftTableRef:g,rowHeight:Ne,bodyWidth:pt,headerWidth:pt,headerHeight:Ae,height:Ce,rowKey:Ue,scrollbarAlwaysOn:je,scrollbarStartGap:2,scrollbarEndGap:me,useIsScrolling:X,width:pt,getRowHeight:k,onScroll:te},G=w(d)+me,ge={cache:J,class:r.e("right"),columns:w(s),data:qe,estimatedRowHeight:ie,rightTableRef:y,rowHeight:Ne,bodyWidth:G,headerWidth:G,headerHeight:Ae,height:Ce,rowKey:Ue,scrollbarAlwaysOn:je,scrollbarStartGap:2,scrollbarEndGap:me,width:G,style:`--${w(r.namespace)}-table-scrollbar-size: ${me}px`,useIsScrolling:X,getRowHeight:k,onScroll:te},pe=w(i),Ie={ns:r,depthMap:w(h),columnsStyles:pe,expandColumnKey:le,expandedRowKeys:w(p),estimatedRowHeight:ie,hasFixedColumns:w(m),rowProps:Ve,rowClass:Pe,rowKey:Ue,rowEventHandlers:$e,onRowHovered:O,onRowExpanded:W,onRowHeightChange:z},ye={cellProps:Q,expandColumnKey:le,indentSize:fe,iconSize:$,rowKey:Ue,expandedRowKeys:w(p),ns:r},Me={ns:r,headerClass:ke,headerProps:Fe,columnsStyles:pe},ht={ns:r,sortBy:ce,sortState:re,headerCellProps:q,onColumnSorted:H},Ee={row:gt=>ue(jIe,Hn(gt,Ie),{row:e.row,cell:Lt=>{let At;return e.cell?ue(h9,Hn(Lt,ye,{style:pe[Lt.column.key]}),Fy(At=e.cell(Lt))?At:{default:()=>[At]}):ue(h9,Hn(Lt,ye,{style:pe[Lt.column.key]}),null)}}),header:gt=>ue(a5e,Hn(gt,Me),{header:e.header,cell:Lt=>{let At;return e["header-cell"]?ue(p9,Hn(Lt,ht,{style:pe[Lt.column.key]}),Fy(At=e["header-cell"](Lt))?At:{default:()=>[At]}):ue(p9,Hn(Lt,ht,{style:pe[Lt.column.key]}),null)}})},_t=[n.class,r.b(),r.e("root"),{[r.is("dynamic")]:w(b)}],nt={class:r.e("footer"),style:w(A)};return ue("div",{class:_t,style:w(C)},[ue(BIe,mt,Fy(Ee)?Ee:{default:()=>[Ee]}),ue(UIe,ft,Fy(Ee)?Ee:{default:()=>[Ee]}),ue($Ie,ge,Fy(Ee)?Ee:{default:()=>[Ee]}),e.footer&&ue(u5e,nt,{default:e.footer}),w(I)&&ue(d5e,{class:r.e("empty"),style:w(T)},{default:e.empty}),e.overlay&&ue(f5e,{class:r.e("overlay")},{default:e.overlay})])}}});var m5e=p5e;const v5e=Rt({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Ke(Function)}}),g5e=n=>{const e=ne(),t=ne(0),r=ne(0);let i;return pn(()=>{i=ui(e,([a])=>{const{width:s,height:o}=a.contentRect,{paddingLeft:l,paddingRight:c,paddingTop:u,paddingBottom:d}=getComputedStyle(a.target),f=Number.parseInt(l)||0,h=Number.parseInt(c)||0,p=Number.parseInt(u)||0,m=Number.parseInt(d)||0;t.value=s-f-h,r.value=o-p-m}).stop}),yr(()=>{i==null||i()}),dt([t,r],([a,s])=>{var o;(o=n.onResize)==null||o.call(n,{width:a,height:s})}),{sizer:e,width:t,height:r}},y5e=Re({name:"ElAutoResizer",props:v5e,setup(n,{slots:e}){const t=bt("auto-resizer"),{height:r,width:i,sizer:a}=g5e(n),s={width:"100%",height:"100%"};return()=>{var o;return ue("div",{ref:a,class:t.b(),style:s},[(o=e.default)==null?void 0:o.call(e,{height:r.value,width:i.value})])}}});var b5e=y5e;const _5e=gn(m5e),w5e=gn(b5e),VT=Symbol("tabsRootContextKey"),x5e=Rt({tabs:{type:Ke(Array),default:()=>Mi([])}}),FZ="ElTabBar",S5e=Re({name:FZ}),C5e=Re({...S5e,props:x5e,setup(n,{expose:e}){const t=n,r=kn(),i=Ot(VT);i||fa(FZ,"<el-tabs><el-tab-bar /></el-tabs>");const a=bt("tabs"),s=ne(),o=ne(),l=()=>{let h=0,p=0;const m=["top","bottom"].includes(i.props.tabPosition)?"width":"height",v=m==="width"?"x":"y",g=v==="x"?"left":"top";return t.tabs.every(y=>{var b,_;const x=(_=(b=r.parent)==null?void 0:b.refs)==null?void 0:_[`tab-${y.uid}`];if(!x)return!1;if(!y.active)return!0;h=x[`offset${qc(g)}`],p=x[`client${qc(m)}`];const S=window.getComputedStyle(x);return m==="width"&&(p-=Number.parseFloat(S.paddingLeft)+Number.parseFloat(S.paddingRight),h+=Number.parseFloat(S.paddingLeft)),!1}),{[m]:`${p}px`,transform:`translate${qc(v)}(${h}px)`}},c=()=>o.value=l(),u=[],d=()=>{var h;u.forEach(m=>m.stop()),u.length=0;const p=(h=r.parent)==null?void 0:h.refs;if(p){for(const m in p)if(m.startsWith("tab-")){const v=p[m];v&&u.push(ui(v,c))}}};dt(()=>t.tabs,async()=>{await Yt(),c(),d()},{immediate:!0});const f=ui(s,()=>c());return yr(()=>{u.forEach(h=>h.stop()),u.length=0,f.stop()}),e({ref:s,update:c}),(h,p)=>(V(),he("div",{ref_key:"barRef",ref:s,class:Z([w(a).e("active-bar"),w(a).is(w(i).props.tabPosition)]),style:Bt(o.value)},null,6))}});var M5e=Pt(C5e,[["__file","tab-bar.vue"]]);const T5e=Rt({panes:{type:Ke(Array),default:()=>Mi([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),A5e={tabClick:(n,e,t)=>t instanceof Event,tabRemove:(n,e)=>e instanceof Event},m9="ElTabNav",E5e=Re({name:m9,props:T5e,emits:A5e,setup(n,{expose:e,emit:t}){const r=Ot(VT);r||fa(m9,"<el-tabs><tab-nav /></el-tabs>");const i=bt("tabs"),a=t0e(),s=h0e(),o=ne(),l=ne(),c=ne(),u=ne(),d=ne(!1),f=ne(0),h=ne(!1),p=ne(!0),m=U(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),v=U(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${f.value}px)`})),g=()=>{if(!o.value)return;const C=o.value[`offset${qc(m.value)}`],M=f.value;if(!M)return;const A=M>C?M-C:0;f.value=A},y=()=>{if(!o.value||!l.value)return;const C=l.value[`offset${qc(m.value)}`],M=o.value[`offset${qc(m.value)}`],A=f.value;if(C-A<=M)return;const I=C-A>M*2?A+M:C-M;f.value=I},b=async()=>{const C=l.value;if(!d.value||!c.value||!o.value||!C)return;await Yt();const M=c.value.querySelector(".is-active");if(!M)return;const A=o.value,I=["top","bottom"].includes(r.props.tabPosition),D=M.getBoundingClientRect(),L=A.getBoundingClientRect(),F=I?C.offsetWidth-L.width:C.offsetHeight-L.height,B=f.value;let k=B;I?(D.left<L.left&&(k=B-(L.left-D.left)),D.right>L.right&&(k=B+D.right-L.right)):(D.top<L.top&&(k=B-(L.top-D.top)),D.bottom>L.bottom&&(k=B+(D.bottom-L.bottom))),k=Math.max(k,0),f.value=Math.min(k,F)},_=()=>{var C;if(!l.value||!o.value)return;n.stretch&&((C=u.value)==null||C.update());const M=l.value[`offset${qc(m.value)}`],A=o.value[`offset${qc(m.value)}`],I=f.value;A<M?(d.value=d.value||{},d.value.prev=I,d.value.next=I+A<M,M-I<A&&(f.value=M-A)):(d.value=!1,I>0&&(f.value=0))},x=C=>{let M=0;switch(C.code){case Nt.left:case Nt.up:M=-1;break;case Nt.right:case Nt.down:M=1;break;default:return}const A=Array.from(C.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let D=A.indexOf(C.target)+M;D<0?D=A.length-1:D>=A.length&&(D=0),A[D].focus({preventScroll:!0}),A[D].click(),S()},S=()=>{p.value&&(h.value=!0)},T=()=>h.value=!1;return dt(a,C=>{C==="hidden"?p.value=!1:C==="visible"&&setTimeout(()=>p.value=!0,50)}),dt(s,C=>{C?setTimeout(()=>p.value=!0,50):p.value=!1}),ui(c,_),pn(()=>setTimeout(()=>b(),0)),Bl(()=>_()),e({scrollToActiveTab:b,removeFocus:T}),()=>{const C=d.value?[ue("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:g},[ue(Vt,null,{default:()=>[ue(eh,null,null)]})]),ue("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:y},[ue(Vt,null,{default:()=>[ue(Gs,null,null)]})])]:null,M=n.panes.map((A,I)=>{var D,L,F,B;const k=A.uid,H=A.props.disabled,z=(L=(D=A.props.name)!=null?D:A.index)!=null?L:`${I}`,O=!H&&(A.isClosable||n.editable);A.index=`${I}`;const W=O?ue(Vt,{class:"is-icon-close",onClick:te=>t("tabRemove",A,te)},{default:()=>[ue(_c,null,null)]}):null,j=((B=(F=A.slots).label)==null?void 0:B.call(F))||A.props.label,ee=!H&&A.active?0:-1;return ue("div",{ref:`tab-${k}`,class:[i.e("item"),i.is(r.props.tabPosition),i.is("active",A.active),i.is("disabled",H),i.is("closable",O),i.is("focus",h.value)],id:`tab-${z}`,key:`tab-${k}`,"aria-controls":`pane-${z}`,role:"tab","aria-selected":A.active,tabindex:ee,onFocus:()=>S(),onBlur:()=>T(),onClick:te=>{T(),t("tabClick",A,z,te)},onKeydown:te=>{O&&(te.code===Nt.delete||te.code===Nt.backspace)&&t("tabRemove",A,te)}},[j,W])});return ue("div",{ref:c,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(r.props.tabPosition)]},[C,ue("div",{class:i.e("nav-scroll"),ref:o},[ue("div",{class:[i.e("nav"),i.is(r.props.tabPosition),i.is("stretch",n.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:l,style:v.value,role:"tablist",onKeydown:x},[n.type?null:ue(M5e,{ref:u,tabs:[...n.panes]},null),M])])])}}}),I5e=Rt({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Ke(Function),default:()=>!0},stretch:Boolean}),Z3=n=>qt(n)||en(n),R5e={[Tn]:n=>Z3(n),tabClick:(n,e)=>e instanceof Event,tabChange:n=>Z3(n),edit:(n,e)=>["remove","add"].includes(e),tabRemove:n=>Z3(n),tabAdd:()=>!0},P5e=Re({name:"ElTabs",props:I5e,emits:R5e,setup(n,{emit:e,slots:t,expose:r}){var i;const a=bt("tabs"),s=U(()=>["left","right"].includes(n.tabPosition)),{children:o,addChild:l,removeChild:c}=ML(kn(),"ElTabPane"),u=ne(),d=ne((i=n.modelValue)!=null?i:"0"),f=async(g,y=!1)=>{var b,_,x;if(!(d.value===g||Tr(g)))try{await((b=n.beforeLeave)==null?void 0:b.call(n,g,d.value))!==!1&&(d.value=g,y&&(e(Tn,g),e("tabChange",g)),(x=(_=u.value)==null?void 0:_.removeFocus)==null||x.call(_))}catch{}},h=(g,y,b)=>{g.props.disabled||(f(y,!0),e("tabClick",g,b))},p=(g,y)=>{g.props.disabled||Tr(g.props.name)||(y.stopPropagation(),e("edit",g.props.name,"remove"),e("tabRemove",g.props.name))},m=()=>{e("edit",void 0,"add"),e("tabAdd")};dt(()=>n.modelValue,g=>f(g)),dt(d,async()=>{var g;await Yt(),(g=u.value)==null||g.scrollToActiveTab()}),$n(VT,{props:n,currentName:d,registerPane:g=>{o.value.push(g)},sortPane:l,unregisterPane:c}),r({currentName:d});const v=({render:g})=>g();return()=>{const g=t["add-icon"],y=n.editable||n.addable?ue("div",{class:[a.e("new-tab"),s.value&&a.e("new-tab-vertical")],tabindex:"0",onClick:m,onKeydown:x=>{[Nt.enter,Nt.numpadEnter].includes(x.code)&&m()}},[g?Qe(t,"add-icon"):ue(Vt,{class:a.is("icon-plus")},{default:()=>[ue(NY,null,null)]})]):null,b=ue("div",{class:[a.e("header"),s.value&&a.e("header-vertical"),a.is(n.tabPosition)]},[ue(v,{render:()=>{const x=o.value.some(S=>S.slots.label);return ue(E5e,{ref:u,currentName:d.value,editable:n.editable,type:n.type,panes:o.value,stretch:n.stretch,onTabClick:h,onTabRemove:p},{$stable:!x})}},null),y]),_=ue("div",{class:a.e("content")},[Qe(t,"default")]);return ue("div",{class:[a.b(),a.m(n.tabPosition),{[a.m("card")]:n.type==="card",[a.m("border-card")]:n.type==="border-card"}]},[_,b])}}});var D5e=P5e;const k5e=Rt({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),zZ="ElTabPane",L5e=Re({name:zZ}),N5e=Re({...L5e,props:k5e,setup(n){const e=n,t=kn(),r=na(),i=Ot(VT);i||fa(zZ,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=bt("tab-pane"),s=ne(),o=U(()=>e.closable||i.props.closable),l=R5(()=>{var h;return i.currentName.value===((h=e.name)!=null?h:s.value)}),c=ne(l.value),u=U(()=>{var h;return(h=e.name)!=null?h:s.value}),d=R5(()=>!e.lazy||c.value||l.value);dt(l,h=>{h&&(c.value=!0)});const f=mr({uid:t.uid,slots:r,props:e,paneName:u,active:l,index:s,isClosable:o});return i.registerPane(f),pn(()=>{i.sortPane(f)}),yh(()=>{i.unregisterPane(f.uid)}),(h,p)=>w(d)?Cn((V(),he("div",{key:0,id:`pane-${w(u)}`,class:Z(w(a).b()),role:"tabpanel","aria-hidden":!w(l),"aria-labelledby":`tab-${w(u)}`},[Qe(h.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[fr,w(l)]]):Je("v-if",!0)}});var UZ=Pt(N5e,[["__file","tab-pane.vue"]]);const O5e=gn(D5e,{TabPane:UZ}),B5e=Ti(UZ),F5e=Rt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:bu,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),z5e=Re({name:"ElText"}),U5e=Re({...z5e,props:F5e,setup(n){const e=n,t=Zi(),r=bt("text"),i=U(()=>[r.b(),r.m(e.type),r.m(t.value),r.is("truncated",e.truncated),r.is("line-clamp",!Tr(e.lineClamp))]);return(a,s)=>(V(),rt(Nn(a.tag),{class:Z(w(i)),style:Bt({"-webkit-line-clamp":a.lineClamp})},{default:be(()=>[Qe(a.$slots,"default")]),_:3},8,["class","style"]))}});var H5e=Pt(U5e,[["__file","text.vue"]]);const V5e=gn(H5e),$5e=Rt({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:Ke(String),default:"light"},clearable:{type:Boolean,default:!0},size:ta,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:Ke([String,Object]),default:()=>kY},clearIcon:{type:Ke([String,Object]),default:()=>Pd},...Qg}),nd=n=>{const e=(n||"").split(":");if(e.length>=2){let t=Number.parseInt(e[0],10);const r=Number.parseInt(e[1],10),i=n.toUpperCase();return i.includes("AM")&&t===12?t=0:i.includes("PM")&&t!==12&&(t+=12),{hours:t,minutes:r}}return null},Q3=(n,e)=>{const t=nd(n);if(!t)return-1;const r=nd(e);if(!r)return-1;const i=t.minutes+t.hours*60,a=r.minutes+r.hours*60;return i===a?0:i>a?1:-1},v9=n=>`${n}`.padStart(2,"0"),iv=n=>`${v9(n.hours)}:${v9(n.minutes)}`,G5e=(n,e)=>{const t=nd(n);if(!t)return"";const r=nd(e);if(!r)return"";const i={hours:t.hours,minutes:t.minutes};return i.minutes+=r.minutes,i.hours+=r.hours,i.hours+=Math.floor(i.minutes/60),i.minutes=i.minutes%60,iv(i)},W5e=Re({name:"ElTimeSelect"}),q5e=Re({...W5e,props:$5e,emits:["change","blur","focus","clear","update:modelValue"],setup(n,{expose:e}){const t=n;hn.extend(IL);const{Option:r}=cm,i=bt("input"),a=ne(),s=os(),{lang:o}=rr(),l=U(()=>t.modelValue),c=U(()=>{const g=nd(t.start);return g?iv(g):null}),u=U(()=>{const g=nd(t.end);return g?iv(g):null}),d=U(()=>{const g=nd(t.step);return g?iv(g):null}),f=U(()=>{const g=nd(t.minTime||"");return g?iv(g):null}),h=U(()=>{const g=nd(t.maxTime||"");return g?iv(g):null}),p=U(()=>{const g=[];if(t.start&&t.end&&t.step){let y=c.value,b;for(;y&&u.value&&Q3(y,u.value)<=0;)b=hn(y,"HH:mm").locale(o.value).format(t.format),g.push({value:b,disabled:Q3(y,f.value||"-1:-1")<=0||Q3(y,h.value||"100:100")>=0}),y=G5e(y,d.value)}return g});return e({blur:()=>{var g,y;(y=(g=a.value)==null?void 0:g.blur)==null||y.call(g)},focus:()=>{var g,y;(y=(g=a.value)==null?void 0:g.focus)==null||y.call(g)}}),(g,y)=>(V(),rt(w(cm),{ref_key:"select",ref:a,"model-value":w(l),disabled:w(s),clearable:g.clearable,"clear-icon":g.clearIcon,size:g.size,effect:g.effect,placeholder:g.placeholder,"default-first-option":"",filterable:g.editable,"empty-values":g.emptyValues,"value-on-clear":g.valueOnClear,"onUpdate:modelValue":b=>g.$emit("update:modelValue",b),onChange:b=>g.$emit("change",b),onBlur:b=>g.$emit("blur",b),onFocus:b=>g.$emit("focus",b),onClear:()=>g.$emit("clear")},{prefix:be(()=>[g.prefixIcon?(V(),rt(w(Vt),{key:0,class:Z(w(i).e("prefix-icon"))},{default:be(()=>[(V(),rt(Nn(g.prefixIcon)))]),_:1},8,["class"])):Je("v-if",!0)]),default:be(()=>[(V(!0),he(zt,null,In(w(p),b=>(V(),rt(w(r),{key:b.value,label:b.value,value:b.value,disabled:b.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var K5e=Pt(q5e,[["__file","time-select.vue"]]);const Y5e=gn(K5e),X5e=Re({name:"ElTimeline",setup(n,{slots:e}){const t=bt("timeline");return $n("timeline",e),()=>Gt("ul",{class:[t.b()]},[Qe(e,"default")])}}),j5e=Rt({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:kr},hollow:Boolean}),Z5e=Re({name:"ElTimelineItem"}),Q5e=Re({...Z5e,props:j5e,setup(n){const e=n,t=bt("timeline-item"),r=U(()=>[t.e("node"),t.em("node",e.size||""),t.em("node",e.type||""),t.is("hollow",e.hollow)]);return(i,a)=>(V(),he("li",{class:Z([w(t).b(),{[w(t).e("center")]:i.center}])},[ve("div",{class:Z(w(t).e("tail"))},null,2),i.$slots.dot?Je("v-if",!0):(V(),he("div",{key:0,class:Z(w(r)),style:Bt({backgroundColor:i.color})},[i.icon?(V(),rt(w(Vt),{key:0,class:Z(w(t).e("icon"))},{default:be(()=>[(V(),rt(Nn(i.icon)))]),_:1},8,["class"])):Je("v-if",!0)],6)),i.$slots.dot?(V(),he("div",{key:1,class:Z(w(t).e("dot"))},[Qe(i.$slots,"dot")],2)):Je("v-if",!0),ve("div",{class:Z(w(t).e("wrapper"))},[!i.hideTimestamp&&i.placement==="top"?(V(),he("div",{key:0,class:Z([w(t).e("timestamp"),w(t).is("top")])},Ct(i.timestamp),3)):Je("v-if",!0),ve("div",{class:Z(w(t).e("content"))},[Qe(i.$slots,"default")],2),!i.hideTimestamp&&i.placement==="bottom"?(V(),he("div",{key:1,class:Z([w(t).e("timestamp"),w(t).is("bottom")])},Ct(i.timestamp),3)):Je("v-if",!0)],2)],2))}});var HZ=Pt(Q5e,[["__file","timeline-item.vue"]]);const J5e=gn(X5e,{TimelineItem:HZ}),eRe=Ti(HZ),VZ=Rt({nowrap:Boolean});var $Z=(n=>(n.top="top",n.bottom="bottom",n.left="left",n.right="right",n))($Z||{});const tRe=Object.values($Z),a6=Rt({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Ke(Object),default:null}}),nRe=Rt({side:{type:Ke(String),values:tRe,required:!0}}),rRe=["absolute","fixed"],iRe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],s6=Rt({arrowPadding:{type:Ke(Number),default:5},effect:{type:Ke(String),default:"light"},contentClass:String,placement:{type:Ke(String),values:iRe,default:"bottom"},reference:{type:Ke(Object),default:null},offset:{type:Number,default:8},strategy:{type:Ke(String),values:rRe,default:"absolute"},showArrow:Boolean,...$a(["ariaLabel"])}),o6=Rt({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Ke(Function)},"onUpdate:open":{type:Ke(Function)}}),Qm={type:Ke(Function)},l6=Rt({onBlur:Qm,onClick:Qm,onFocus:Qm,onMouseDown:Qm,onMouseEnter:Qm,onMouseLeave:Qm}),aRe=Rt({...o6,...a6,...l6,...s6,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Ke(Object),default:null},teleported:Boolean,to:{type:Ke(String),default:"body"}}),$T=Symbol("tooltipV2"),GZ=Symbol("tooltipV2Content"),J3="tooltip_v2.open",sRe=Re({name:"ElTooltipV2Root"}),oRe=Re({...sRe,props:o6,setup(n,{expose:e}){const t=n,r=ne(t.defaultOpen),i=ne(null),a=U({get:()=>sm(t.open)?r.value:t.open,set:v=>{var g;r.value=v,(g=t["onUpdate:open"])==null||g.call(t,v)}}),s=U(()=>en(t.delayDuration)&&t.delayDuration>0),{start:o,stop:l}=om(()=>{a.value=!0},U(()=>t.delayDuration),{immediate:!1}),c=bt("tooltip-v2"),u=Ha(),d=()=>{l(),a.value=!0},f=()=>{w(s)?o():d()},h=d,p=()=>{l(),a.value=!1};return dt(a,v=>{var g;v&&(document.dispatchEvent(new CustomEvent(J3)),h()),(g=t.onOpenChange)==null||g.call(t,v)}),pn(()=>{document.addEventListener(J3,p)}),yr(()=>{l(),document.removeEventListener(J3,p)}),$n($T,{contentId:u,triggerRef:i,ns:c,onClose:p,onDelayOpen:f,onOpen:h}),e({onOpen:h,onClose:p}),(v,g)=>Qe(v.$slots,"default",{open:w(a)})}});var lRe=Pt(oRe,[["__file","root.vue"]]);const cRe=Re({name:"ElTooltipV2Arrow"}),uRe=Re({...cRe,props:{...a6,...nRe},setup(n){const e=n,{ns:t}=Ot($T),{arrowRef:r}=Ot(GZ),i=U(()=>{const{style:a,width:s,height:o}=e,l=t.namespace.value;return{[`--${l}-tooltip-v2-arrow-width`]:`${s}px`,[`--${l}-tooltip-v2-arrow-height`]:`${o}px`,[`--${l}-tooltip-v2-arrow-border-width`]:`${s/2}px`,[`--${l}-tooltip-v2-arrow-cover-width`]:s/2-1,...a||{}}});return(a,s)=>(V(),he("span",{ref_key:"arrowRef",ref:r,style:Bt(w(i)),class:Z(w(t).e("arrow"))},null,6))}});var g9=Pt(uRe,[["__file","arrow.vue"]]);const vg=Math.min,jp=Math.max,HC=Math.round,sx=Math.floor,ih=n=>({x:n,y:n}),dRe={left:"right",right:"left",bottom:"top",top:"bottom"},fRe={start:"end",end:"start"};function wR(n,e,t){return jp(n,vg(e,t))}function aw(n,e){return typeof n=="function"?n(e):n}function dm(n){return n.split("-")[0]}function sw(n){return n.split("-")[1]}function WZ(n){return n==="x"?"y":"x"}function c6(n){return n==="y"?"height":"width"}function GT(n){return["top","bottom"].includes(dm(n))?"y":"x"}function u6(n){return WZ(GT(n))}function hRe(n,e,t){t===void 0&&(t=!1);const r=sw(n),i=u6(n),a=c6(i);let s=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=VC(s)),[s,VC(s)]}function pRe(n){const e=VC(n);return[xR(n),e,xR(e)]}function xR(n){return n.replace(/start|end/g,e=>fRe[e])}function mRe(n,e,t){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function vRe(n,e,t,r){const i=sw(n);let a=mRe(dm(n),t==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(xR)))),a}function VC(n){return n.replace(/left|right|bottom|top/g,e=>dRe[e])}function gRe(n){return{top:0,right:0,bottom:0,left:0,...n}}function qZ(n){return typeof n!="number"?gRe(n):{top:n,right:n,bottom:n,left:n}}function $C(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function y9(n,e,t){let{reference:r,floating:i}=n;const a=GT(e),s=u6(e),o=c6(s),l=dm(e),c=a==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(sw(e)){case"start":h[s]-=f*(t&&c?-1:1);break;case"end":h[s]+=f*(t&&c?-1:1);break}return h}const yRe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=t,o=a.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:d}=y9(c,r,l),f=r,h={},p=0;for(let m=0;m<o.length;m++){const{name:v,fn:g}=o[m],{x:y,y:b,data:_,reset:x}=await g({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:n,floating:e}});if(u=y??u,d=b??d,h={...h,[v]:{...h[v],..._}},x&&p<=50){p++,typeof x=="object"&&(x.placement&&(f=x.placement),x.rects&&(c=x.rects===!0?await s.getElementRects({reference:n,floating:e,strategy:i}):x.rects),{x:u,y:d}=y9(c,f,l)),m=-1;continue}}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function d6(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=aw(e,n),p=qZ(h),v=o[f?d==="floating"?"reference":"floating":d],g=$C(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(v)))==null||t?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),y=d==="floating"?{...s.floating,x:r,y:i}:s.reference,b=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),_=await(a.isElement==null?void 0:a.isElement(b))?await(a.getScale==null?void 0:a.getScale(b))||{x:1,y:1}:{x:1,y:1},x=$C(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:b,strategy:l}):y);return{top:(g.top-x.top+p.top)/_.y,bottom:(x.bottom-g.bottom+p.bottom)/_.y,left:(g.left-x.left+p.left)/_.x,right:(x.right-g.right+p.right)/_.x}}const KZ=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:a,platform:s,elements:o}=e,{element:l,padding:c=0}=aw(n,e)||{};if(l==null)return{};const u=qZ(c),d={x:t,y:r},f=u6(i),h=c6(f),p=await s.getDimensions(l),m=f==="y",v=m?"top":"left",g=m?"bottom":"right",y=m?"clientHeight":"clientWidth",b=a.reference[h]+a.reference[f]-d[f]-a.floating[h],_=d[f]-a.reference[f],x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let S=x?x[y]:0;(!S||!await(s.isElement==null?void 0:s.isElement(x)))&&(S=o.floating[y]||a.floating[h]);const T=b/2-_/2,C=S/2-p[h]/2-1,M=vg(u[v],C),A=vg(u[g],C),I=M,D=S-p[h]-A,L=S/2-p[h]/2+T,F=wR(I,L,D),k=sw(i)!=null&&L!=F&&a.reference[h]/2-(L<I?M:A)-p[h]/2<0?L<I?I-L:D-L:0;return{[f]:d[f]-k,data:{[f]:F,centerOffset:L-F+k}}}}),bRe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t;const{placement:r,middlewareData:i,rects:a,initialPlacement:s,platform:o,elements:l}=e,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...m}=aw(n,e),v=dm(r),g=dm(s)===s,y=await(o.isRTL==null?void 0:o.isRTL(l.floating)),b=d||(g||!p?[VC(s)]:pRe(s));!d&&h!=="none"&&b.push(...vRe(s,p,h,y));const _=[s,...b],x=await d6(e,m),S=[];let T=((t=i.flip)==null?void 0:t.overflows)||[];if(c&&S.push(x[v]),u){const I=hRe(r,a,y);S.push(x[I[0]],x[I[1]])}if(T=[...T,{placement:r,overflows:S}],!S.every(I=>I<=0)){var C,M;const I=(((C=i.flip)==null?void 0:C.index)||0)+1,D=_[I];if(D)return{data:{index:I,overflows:T},reset:{placement:D}};let L=(M=T.filter(F=>F.overflows[0]<=0).sort((F,B)=>F.overflows[1]-B.overflows[1])[0])==null?void 0:M.placement;if(!L)switch(f){case"bestFit":{var A;const F=(A=T.map(B=>[B.placement,B.overflows.filter(k=>k>0).reduce((k,H)=>k+H,0)]).sort((B,k)=>B[1]-k[1])[0])==null?void 0:A[0];F&&(L=F);break}case"initialPlacement":L=s;break}if(r!==L)return{reset:{placement:L}}}return{}}}};async function _Re(n,e){const{placement:t,platform:r,elements:i}=n,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=dm(t),o=sw(t),l=GT(t)==="y",c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=aw(e,n);let{mainAxis:f,crossAxis:h,alignmentAxis:p}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return o&&typeof p=="number"&&(h=o==="end"?p*-1:p),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const YZ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){const{x:t,y:r}=e,i=await _Re(e,n);return{x:t+i.x,y:r+i.y,data:i}}}},wRe=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:v=>{let{x:g,y}=v;return{x:g,y}}},...l}=aw(n,e),c={x:t,y:r},u=await d6(e,l),d=GT(dm(i)),f=WZ(d);let h=c[f],p=c[d];if(a){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",y=h+u[v],b=h-u[g];h=wR(y,h,b)}if(s){const v=d==="y"?"top":"left",g=d==="y"?"bottom":"right",y=p+u[v],b=p-u[g];p=wR(y,p,b)}const m=o.fn({...e,[f]:h,[d]:p});return{...m,data:{x:m.x-t,y:m.y-r}}}}};function ah(n){return XZ(n)?(n.nodeName||"").toLowerCase():"#document"}function Vo(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function kd(n){var e;return(e=(XZ(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function XZ(n){return n instanceof Node||n instanceof Vo(n).Node}function bd(n){return n instanceof Element||n instanceof Vo(n).Element}function du(n){return n instanceof HTMLElement||n instanceof Vo(n).HTMLElement}function b9(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Vo(n).ShadowRoot}function ow(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Nl(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function xRe(n){return["table","td","th"].includes(ah(n))}function f6(n){const e=h6(),t=Nl(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function h6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function WT(n){return["html","body","#document"].includes(ah(n))}function Nl(n){return Vo(n).getComputedStyle(n)}function qT(n){return bd(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function gg(n){if(ah(n)==="html")return n;const e=n.assignedSlot||n.parentNode||b9(n)&&n.host||kd(n);return b9(e)?e.host:e}function jZ(n){const e=gg(n);return WT(e)?n.ownerDocument?n.ownerDocument.body:n.body:du(e)&&ow(e)?e:jZ(e)}function GC(n,e){var t;e===void 0&&(e=[]);const r=jZ(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),a=Vo(r);return i?e.concat(a,a.visualViewport||[],ow(r)?r:[]):e.concat(r,GC(r))}function ZZ(n){const e=Nl(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=du(n),a=i?n.offsetWidth:t,s=i?n.offsetHeight:r,o=HC(t)!==a||HC(r)!==s;return o&&(t=a,r=s),{width:t,height:r,$:o}}function p6(n){return bd(n)?n:n.contextElement}function Fv(n){const e=p6(n);if(!du(e))return ih(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:a}=ZZ(e);let s=(a?HC(t.width):t.width)/r,o=(a?HC(t.height):t.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const SRe=ih(0);function QZ(n){const e=Vo(n);return!h6()||!e.visualViewport?SRe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function CRe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Vo(n)?!1:e}function fm(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),a=p6(n);let s=ih(1);e&&(r?bd(r)&&(s=Fv(r)):s=Fv(n));const o=CRe(a,t,r)?QZ(a):ih(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(a){const f=Vo(a),h=r&&bd(r)?Vo(r):r;let p=f.frameElement;for(;p&&r&&h!==f;){const m=Fv(p),v=p.getBoundingClientRect(),g=Nl(p),y=v.left+(p.clientLeft+parseFloat(g.paddingLeft))*m.x,b=v.top+(p.clientTop+parseFloat(g.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,d*=m.y,l+=y,c+=b,p=Vo(p).frameElement}}return $C({width:u,height:d,x:l,y:c})}function MRe(n){let{rect:e,offsetParent:t,strategy:r}=n;const i=du(t),a=kd(t);if(t===a)return e;let s={scrollLeft:0,scrollTop:0},o=ih(1);const l=ih(0);if((i||!i&&r!=="fixed")&&((ah(t)!=="body"||ow(a))&&(s=qT(t)),du(t))){const c=fm(t);o=Fv(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-s.scrollLeft*o.x+l.x,y:e.y*o.y-s.scrollTop*o.y+l.y}}function TRe(n){return Array.from(n.getClientRects())}function JZ(n){return fm(kd(n)).left+qT(n).scrollLeft}function ARe(n){const e=kd(n),t=qT(n),r=n.ownerDocument.body,i=jp(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=jp(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-t.scrollLeft+JZ(n);const o=-t.scrollTop;return Nl(r).direction==="rtl"&&(s+=jp(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function ERe(n,e){const t=Vo(n),r=kd(n),i=t.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const c=h6();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}function IRe(n,e){const t=fm(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,a=du(n)?Fv(n):ih(1),s=n.clientWidth*a.x,o=n.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:s,height:o,x:l,y:c}}function _9(n,e,t){let r;if(e==="viewport")r=ERe(n,t);else if(e==="document")r=ARe(kd(n));else if(bd(e))r=IRe(e,t);else{const i=QZ(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return $C(r)}function eQ(n,e){const t=gg(n);return t===e||!bd(t)||WT(t)?!1:Nl(t).position==="fixed"||eQ(t,e)}function RRe(n,e){const t=e.get(n);if(t)return t;let r=GC(n).filter(o=>bd(o)&&ah(o)!=="body"),i=null;const a=Nl(n).position==="fixed";let s=a?gg(n):n;for(;bd(s)&&!WT(s);){const o=Nl(s),l=f6(s);!l&&o.position==="fixed"&&(i=null),(a?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ow(s)&&!l&&eQ(n,s))?r=r.filter(u=>u!==s):i=o,s=gg(s)}return e.set(n,r),r}function PRe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const s=[...t==="clippingAncestors"?RRe(e,this._c):[].concat(t),r],o=s[0],l=s.reduce((c,u)=>{const d=_9(e,u,i);return c.top=jp(d.top,c.top),c.right=vg(d.right,c.right),c.bottom=vg(d.bottom,c.bottom),c.left=jp(d.left,c.left),c},_9(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function DRe(n){return ZZ(n)}function kRe(n,e,t){const r=du(e),i=kd(e),a=t==="fixed",s=fm(n,!0,a,e);let o={scrollLeft:0,scrollTop:0};const l=ih(0);if(r||!r&&!a)if((ah(e)!=="body"||ow(i))&&(o=qT(e)),r){const c=fm(e,!0,a,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=JZ(i));return{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function w9(n,e){return!du(n)||Nl(n).position==="fixed"?null:e?e(n):n.offsetParent}function LRe(n){let e=gg(n);for(;du(e)&&!WT(e);){if(f6(e))return e;e=gg(e)}return null}function tQ(n,e){const t=Vo(n);if(!du(n))return t;let r=w9(n,e);for(;r&&xRe(r)&&Nl(r).position==="static";)r=w9(r,e);return r&&(ah(r)==="html"||ah(r)==="body"&&Nl(r).position==="static"&&!f6(r))?t:r||LRe(n)||t}const NRe=async function(n){let{reference:e,floating:t,strategy:r}=n;const i=this.getOffsetParent||tQ,a=this.getDimensions;return{reference:kRe(e,await i(t),r),floating:{x:0,y:0,...await a(t)}}};function ORe(n){return Nl(n).direction==="rtl"}const BRe={convertOffsetParentRelativeRectToViewportRelativeRect:MRe,getDocumentElement:kd,getClippingRect:PRe,getOffsetParent:tQ,getElementRects:NRe,getClientRects:TRe,getDimensions:DRe,getScale:Fv,isElement:bd,isRTL:ORe};function FRe(n,e){let t=null,r;const i=kd(n);function a(){clearTimeout(r),t&&t.disconnect(),t=null}function s(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),a();const{left:c,top:u,width:d,height:f}=n.getBoundingClientRect();if(o||e(),!d||!f)return;const h=sx(u),p=sx(i.clientWidth-(c+d)),m=sx(i.clientHeight-(u+f)),v=sx(c),y={rootMargin:-h+"px "+-p+"px "+-m+"px "+-v+"px",threshold:jp(0,vg(1,l))||1};let b=!0;function _(x){const S=x[0].intersectionRatio;if(S!==l){if(!b)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}b=!1}try{t=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{t=new IntersectionObserver(_,y)}t.observe(n)}return s(!0),a}function zRe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=p6(n),u=i||a?[...c?GC(c):[],...GC(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",t,{passive:!0}),a&&g.addEventListener("resize",t)});const d=c&&o?FRe(c,t):null;let f=-1,h=null;s&&(h=new ResizeObserver(g=>{let[y]=g;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{h&&h.observe(e)})),t()}),c&&!l&&h.observe(c),h.observe(e));let p,m=l?fm(n):null;l&&v();function v(){const g=fm(n);m&&(g.x!==m.x||g.y!==m.y||g.width!==m.width||g.height!==m.height)&&t(),m=g,p=requestAnimationFrame(v)}return t(),()=>{u.forEach(g=>{i&&g.removeEventListener("scroll",t),a&&g.removeEventListener("resize",t)}),d&&d(),h&&h.disconnect(),h=null,l&&cancelAnimationFrame(p)}}const nQ=(n,e,t)=>{const r=new Map,i={platform:BRe,...t},a={...i.platform,_c:r};return yRe(n,e,{...i,platform:a})},URe=Rt({style:{type:Ke([String,Object,Array]),default:()=>({})}}),HRe=Re({name:"ElVisuallyHidden"}),VRe=Re({...HRe,props:URe,setup(n){const e=n,t=U(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(r,i)=>(V(),he("span",Hn(r.$attrs,{style:w(t)}),[Qe(r.$slots,"default")],16))}});var $Re=Pt(VRe,[["__file","visual-hidden.vue"]]);Rt({});const GRe=n=>{if(!nr)return;if(!n)return n;const e=Vs(n);return e||(Yr(n)?e:n)},WRe=({middleware:n,placement:e,strategy:t})=>{const r=ne(),i=ne(),a=ne(),s=ne(),o=ne({}),l={x:a,y:s,placement:e,strategy:t,middlewareData:o},c=async()=>{if(!nr)return;const u=GRe(r),d=Vs(i);if(!u||!d)return;const f=await nQ(u,d,{placement:w(e),strategy:w(t),middleware:w(n)});sg(l).forEach(h=>{l[h].value=f[h]})};return pn(()=>{Ea(()=>{c()})}),{...l,update:c,referenceRef:r,contentRef:i}},qRe=({arrowRef:n,padding:e})=>({name:"arrow",options:{element:n,padding:e},fn(t){const r=w(n);return r?KZ({element:r,padding:e}).fn(t):{}}}),KRe=Re({name:"ElTooltipV2Content"}),YRe=Re({...KRe,props:{...s6,...VZ},setup(n){const e=n,{triggerRef:t,contentId:r}=Ot($T),i=ne(e.placement),a=ne(e.strategy),s=ne(null),{referenceRef:o,contentRef:l,middlewareData:c,x:u,y:d,update:f}=WRe({placement:i,strategy:a,middleware:U(()=>{const b=[YZ(e.offset)];return e.showArrow&&b.push(qRe({arrowRef:s})),b})}),h=Zg().nextZIndex(),p=bt("tooltip-v2"),m=U(()=>i.value.split("-")[0]),v=U(()=>({position:w(a),top:`${w(d)||0}px`,left:`${w(u)||0}px`,zIndex:h})),g=U(()=>{if(!e.showArrow)return{};const{arrow:b}=w(c);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${b==null?void 0:b.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${b==null?void 0:b.y}px`||""}}),y=U(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(w(a)),e.contentClass]);return dt(s,()=>f()),dt(()=>e.placement,b=>i.value=b),pn(()=>{dt(()=>e.reference||t.value,b=>{o.value=b||void 0},{immediate:!0})}),$n(GZ,{arrowRef:s}),(b,_)=>(V(),he("div",{ref_key:"contentRef",ref:l,style:Bt(w(v)),"data-tooltip-v2-root":""},[b.nowrap?Je("v-if",!0):(V(),he("div",{key:0,"data-side":w(m),class:Z(w(y))},[Qe(b.$slots,"default",{contentStyle:w(v),contentClass:w(y)}),ue(w($Re),{id:w(r),role:"tooltip"},{default:be(()=>[b.ariaLabel?(V(),he(zt,{key:0},[dn(Ct(b.ariaLabel),1)],64)):Qe(b.$slots,"default",{key:1})]),_:3},8,["id"]),Qe(b.$slots,"arrow",{style:Bt(w(g)),side:w(m)})],10,["data-side"]))],4))}});var x9=Pt(YRe,[["__file","content.vue"]]);const XRe=Rt({setRef:{type:Ke(Function),required:!0},onlyChild:Boolean});var jRe=Re({props:XRe,setup(n,{slots:e}){const t=ne(),r=FT(t,i=>{i?n.setRef(i.nextElementSibling):n.setRef(null)});return()=>{var i;const[a]=((i=e.default)==null?void 0:i.call(e))||[],s=n.onlyChild?S_e(a.children):a.children;return ue(zt,{ref:r},[s])}}});const ZRe=Re({name:"ElTooltipV2Trigger"}),QRe=Re({...ZRe,props:{...VZ,...l6},setup(n){const e=n,{onClose:t,onOpen:r,onDelayOpen:i,triggerRef:a,contentId:s}=Ot($T);let o=!1;const l=y=>{a.value=y},c=()=>{o=!1},u=Pi(e.onMouseEnter,i),d=Pi(e.onMouseLeave,t),f=Pi(e.onMouseDown,()=>{t(),o=!0,document.addEventListener("mouseup",c,{once:!0})}),h=Pi(e.onFocus,()=>{o||r()}),p=Pi(e.onBlur,t),m=Pi(e.onClick,y=>{y.detail===0&&t()}),v={blur:p,click:m,focus:h,mousedown:f,mouseenter:u,mouseleave:d},g=(y,b,_)=>{y&&Object.entries(b).forEach(([x,S])=>{y[_](x,S)})};return dt(a,(y,b)=>{g(y,v,"addEventListener"),g(b,v,"removeEventListener"),y&&y.setAttribute("aria-describedby",s.value)}),yr(()=>{g(a.value,v,"removeEventListener"),document.removeEventListener("mouseup",c)}),(y,b)=>y.nowrap?(V(),rt(w(jRe),{key:0,"set-ref":l,"only-child":""},{default:be(()=>[Qe(y.$slots,"default")]),_:3})):(V(),he("button",Hn({key:1,ref_key:"triggerRef",ref:a},y.$attrs),[Qe(y.$slots,"default")],16))}});var JRe=Pt(QRe,[["__file","trigger.vue"]]);const ePe=Re({name:"ElTooltipV2"}),tPe=Re({...ePe,props:aRe,setup(n){const t=ua(n),r=mr(cc(t,Object.keys(a6))),i=mr(cc(t,Object.keys(s6))),a=mr(cc(t,Object.keys(o6))),s=mr(cc(t,Object.keys(l6)));return(o,l)=>(V(),rt(lRe,oc(jf(a)),{default:be(({open:c})=>[ue(JRe,Hn(s,{nowrap:""}),{default:be(()=>[Qe(o.$slots,"trigger")]),_:3},16),ue(w(ey),{to:o.to,disabled:!o.teleported},{default:be(()=>[o.fullTransition?(V(),rt(da,oc(Hn({key:0},o.transitionProps)),{default:be(()=>[o.alwaysOn||c?(V(),rt(x9,oc(Hn({key:0},i)),{arrow:be(({style:u,side:d})=>[o.showArrow?(V(),rt(g9,Hn({key:0},r,{style:u,side:d}),null,16,["style","side"])):Je("v-if",!0)]),default:be(()=>[Qe(o.$slots,"default")]),_:3},16)):Je("v-if",!0)]),_:2},1040)):(V(),he(zt,{key:1},[o.alwaysOn||c?(V(),rt(x9,oc(Hn({key:0},i)),{arrow:be(({style:u,side:d})=>[o.showArrow?(V(),rt(g9,Hn({key:0},r,{style:u,side:d}),null,16,["style","side"])):Je("v-if",!0)]),default:be(()=>[Qe(o.$slots,"default")]),_:3},16)):Je("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var nPe=Pt(tPe,[["__file","tooltip.vue"]]);const rPe=gn(nPe),rQ="left-check-change",iQ="right-check-change",av=Rt({data:{type:Ke(Array),default:()=>[]},titles:{type:Ke(Array),default:()=>[]},buttonTexts:{type:Ke(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:Ke(Function)},leftDefaultChecked:{type:Ke(Array),default:()=>[]},rightDefaultChecked:{type:Ke(Array),default:()=>[]},renderContent:{type:Ke(Function)},modelValue:{type:Ke(Array),default:()=>[]},format:{type:Ke(Object),default:()=>({})},filterable:Boolean,props:{type:Ke(Object),default:()=>Mi({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),SR=(n,e)=>[n,e].every(Tt)||Tt(n)&&ga(e),iPe={[Rr]:(n,e,t)=>[n,t].every(Tt)&&["left","right"].includes(e),[Tn]:n=>Tt(n),[rQ]:SR,[iQ]:SR},CR="checked-change",aPe=Rt({data:av.data,optionRender:{type:Ke(Function)},placeholder:String,title:String,filterable:Boolean,format:av.format,filterMethod:av.filterMethod,defaultChecked:av.leftDefaultChecked,props:av.props}),sPe={[CR]:SR},lw=n=>{const e={label:"label",key:"key",disabled:"disabled"};return U(()=>({...e,...n.props}))},oPe=(n,e,t)=>{const r=lw(n),i=U(()=>n.data.filter(u=>Zt(n.filterMethod)?n.filterMethod(e.query,u):String(u[r.value.label]||u[r.value.key]).toLowerCase().includes(e.query.toLowerCase()))),a=U(()=>i.value.filter(u=>!u[r.value.disabled])),s=U(()=>{const u=e.checked.length,d=n.data.length,{noChecked:f,hasChecked:h}=n.format;return f&&h?u>0?h.replace(/\${checked}/g,u.toString()).replace(/\${total}/g,d.toString()):f.replace(/\${total}/g,d.toString()):`${u}/${d}`}),o=U(()=>{const u=e.checked.length;return u>0&&u<a.value.length}),l=()=>{const u=a.value.map(d=>d[r.value.key]);e.allChecked=u.length>0&&u.every(d=>e.checked.includes(d))},c=u=>{e.checked=u?a.value.map(d=>d[r.value.key]):[]};return dt(()=>e.checked,(u,d)=>{if(l(),e.checkChangeByUser){const f=u.concat(d).filter(h=>!u.includes(h)||!d.includes(h));t(CR,u,f)}else t(CR,u),e.checkChangeByUser=!0}),dt(a,()=>{l()}),dt(()=>n.data,()=>{const u=[],d=i.value.map(f=>f[r.value.key]);e.checked.forEach(f=>{d.includes(f)&&u.push(f)}),e.checkChangeByUser=!1,e.checked=u}),dt(()=>n.defaultChecked,(u,d)=>{if(d&&u.length===d.length&&u.every(p=>d.includes(p)))return;const f=[],h=a.value.map(p=>p[r.value.key]);u.forEach(p=>{h.includes(p)&&f.push(p)}),e.checkChangeByUser=!1,e.checked=f},{immediate:!0}),{filteredData:i,checkableData:a,checkedSummary:s,isIndeterminate:o,updateAllChecked:l,handleAllCheckedChange:c}},lPe=Re({name:"ElTransferPanel"}),cPe=Re({...lPe,props:aPe,emits:sPe,setup(n,{expose:e,emit:t}){const r=n,i=na(),a=({option:b})=>b,{t:s}=rr(),o=bt("transfer"),l=mr({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=lw(r),{filteredData:u,checkedSummary:d,isIndeterminate:f,handleAllCheckedChange:h}=oPe(r,l,t),p=U(()=>!Oo(l.query)&&Oo(u.value)),m=U(()=>!Oo(i.default()[0].children)),{checked:v,allChecked:g,query:y}=ua(l);return e({query:y}),(b,_)=>(V(),he("div",{class:Z(w(o).b("panel"))},[ve("p",{class:Z(w(o).be("panel","header"))},[ue(w(Ll),{modelValue:w(g),"onUpdate:modelValue":x=>Yr(g)?g.value=x:null,indeterminate:w(f),"validate-event":!1,onChange:w(h)},{default:be(()=>[dn(Ct(b.title)+" ",1),ve("span",null,Ct(w(d)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),ve("div",{class:Z([w(o).be("panel","body"),w(o).is("with-footer",w(m))])},[b.filterable?(V(),rt(w(Cs),{key:0,modelValue:w(y),"onUpdate:modelValue":x=>Yr(y)?y.value=x:null,class:Z(w(o).be("panel","filter")),size:"default",placeholder:b.placeholder,"prefix-icon":w(Ove),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Je("v-if",!0),Cn(ue(w(DX),{modelValue:w(v),"onUpdate:modelValue":x=>Yr(v)?v.value=x:null,"validate-event":!1,class:Z([w(o).is("filterable",b.filterable),w(o).be("panel","list")])},{default:be(()=>[(V(!0),he(zt,null,In(w(u),x=>(V(),rt(w(Ll),{key:x[w(c).key],class:Z(w(o).be("panel","item")),value:x[w(c).key],disabled:x[w(c).disabled],"validate-event":!1},{default:be(()=>{var S;return[ue(a,{option:(S=b.optionRender)==null?void 0:S.call(b,x)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[fr,!w(p)&&!w(Oo)(b.data)]]),Cn(ve("div",{class:Z(w(o).be("panel","empty"))},[Qe(b.$slots,"empty",{},()=>[dn(Ct(w(p)?w(s)("el.transfer.noMatch"):w(s)("el.transfer.noData")),1)])],2),[[fr,w(p)||w(Oo)(b.data)]])],2),w(m)?(V(),he("p",{key:0,class:Z(w(o).be("panel","footer"))},[Qe(b.$slots,"default")],2)):Je("v-if",!0)],2))}});var S9=Pt(cPe,[["__file","transfer-panel.vue"]]);const uPe=n=>{const e=lw(n),t=U(()=>n.data.reduce((a,s)=>(a[s[e.value.key]]=s)&&a,{})),r=U(()=>n.data.filter(a=>!n.modelValue.includes(a[e.value.key]))),i=U(()=>n.targetOrder==="original"?n.data.filter(a=>n.modelValue.includes(a[e.value.key])):n.modelValue.reduce((a,s)=>{const o=t.value[s];return o&&a.push(o),a},[]));return{sourceData:r,targetData:i}},dPe=(n,e,t)=>{const r=lw(n),i=(o,l,c)=>{t(Tn,o),t(Rr,o,l,c)};return{addToLeft:()=>{const o=n.modelValue.slice();e.rightChecked.forEach(l=>{const c=o.indexOf(l);c>-1&&o.splice(c,1)}),i(o,"left",e.rightChecked)},addToRight:()=>{let o=n.modelValue.slice();const l=n.data.filter(c=>{const u=c[r.value.key];return e.leftChecked.includes(u)&&!n.modelValue.includes(u)}).map(c=>c[r.value.key]);o=n.targetOrder==="unshift"?l.concat(o):o.concat(l),n.targetOrder==="original"&&(o=n.data.filter(c=>o.includes(c[r.value.key])).map(c=>c[r.value.key])),i(o,"right",e.leftChecked)}}},fPe=(n,e)=>({onSourceCheckedChange:(i,a)=>{n.leftChecked=i,a&&e(rQ,i,a)},onTargetCheckedChange:(i,a)=>{n.rightChecked=i,a&&e(iQ,i,a)}}),hPe=Re({name:"ElTransfer"}),pPe=Re({...hPe,props:av,emits:iPe,setup(n,{expose:e,emit:t}){const r=n,i=na(),{t:a}=rr(),s=bt("transfer"),{formItem:o}=ss(),l=mr({leftChecked:[],rightChecked:[]}),c=lw(r),{sourceData:u,targetData:d}=uPe(r),{onSourceCheckedChange:f,onTargetCheckedChange:h}=fPe(l,t),{addToLeft:p,addToRight:m}=dPe(r,l,t),v=ne(),g=ne(),y=C=>{switch(C){case"left":v.value.query="";break;case"right":g.value.query="";break}},b=U(()=>r.buttonTexts.length===2),_=U(()=>r.titles[0]||a("el.transfer.titles.0")),x=U(()=>r.titles[1]||a("el.transfer.titles.1")),S=U(()=>r.filterPlaceholder||a("el.transfer.filterPlaceholder"));dt(()=>r.modelValue,()=>{var C;r.validateEvent&&((C=o==null?void 0:o.validate)==null||C.call(o,"change").catch(M=>void 0))});const T=U(()=>C=>{var M;if(r.renderContent)return r.renderContent(Gt,C);const A=(((M=i.default)==null?void 0:M.call(i,{option:C}))||[]).filter(I=>I.type!==Ms);return A.length?A:Gt("span",C[c.value.label]||C[c.value.key])});return e({clearQuery:y,leftPanel:v,rightPanel:g}),(C,M)=>(V(),he("div",{class:Z(w(s).b())},[ue(S9,{ref_key:"leftPanel",ref:v,data:w(u),"option-render":w(T),placeholder:w(S),title:w(_),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,"default-checked":C.leftDefaultChecked,props:r.props,onCheckedChange:w(f)},{empty:be(()=>[Qe(C.$slots,"left-empty")]),default:be(()=>[Qe(C.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),ve("div",{class:Z(w(s).e("buttons"))},[ue(w(Ia),{type:"primary",class:Z([w(s).e("button"),w(s).is("with-texts",w(b))]),disabled:w(Oo)(l.rightChecked),onClick:w(p)},{default:be(()=>[ue(w(Vt),null,{default:be(()=>[ue(w(eh))]),_:1}),w(Tr)(C.buttonTexts[0])?Je("v-if",!0):(V(),he("span",{key:0},Ct(C.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),ue(w(Ia),{type:"primary",class:Z([w(s).e("button"),w(s).is("with-texts",w(b))]),disabled:w(Oo)(l.leftChecked),onClick:w(m)},{default:be(()=>[w(Tr)(C.buttonTexts[1])?Je("v-if",!0):(V(),he("span",{key:0},Ct(C.buttonTexts[1]),1)),ue(w(Vt),null,{default:be(()=>[ue(w(Gs))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),ue(S9,{ref_key:"rightPanel",ref:g,data:w(d),"option-render":w(T),placeholder:w(S),filterable:C.filterable,format:C.format,"filter-method":C.filterMethod,title:w(x),"default-checked":C.rightDefaultChecked,props:r.props,onCheckedChange:w(h)},{empty:be(()=>[Qe(C.$slots,"right-empty")]),default:be(()=>[Qe(C.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var mPe=Pt(pPe,[["__file","transfer.vue"]]);const vPe=gn(mPe),zv="$treeNodeId",C9=function(n,e){!e||e[zv]||Object.defineProperty(e,zv,{value:n.id,enumerable:!1,configurable:!1,writable:!1})},m6=function(n,e){return n?e[n]:e[zv]},MR=(n,e,t)=>{const r=n.value.currentNode;t();const i=n.value.currentNode;r!==i&&e("current-change",i?i.data:null,i)},TR=n=>{let e=!0,t=!0,r=!0;for(let i=0,a=n.length;i<a;i++){const s=n[i];(s.checked!==!0||s.indeterminate)&&(e=!1,s.disabled||(r=!1)),(s.checked!==!1||s.indeterminate)&&(t=!1)}return{all:e,none:t,allWithoutDisable:r,half:!e&&!t}},A1=function(n){if(n.childNodes.length===0||n.loading)return;const{all:e,none:t,half:r}=TR(n.childNodes);e?(n.checked=!0,n.indeterminate=!1):r?(n.checked=!1,n.indeterminate=!0):t&&(n.checked=!1,n.indeterminate=!1);const i=n.parent;!i||i.level===0||n.store.checkStrictly||A1(i)},ox=function(n,e){const t=n.store.props,r=n.data||{},i=t[e];if(Zt(i))return i(r,n);if(qt(i))return r[i];if(Tr(i)){const a=r[e];return a===void 0?"":a}};let gPe=0,AR=class k2{constructor(e){this.id=gPe++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const t in e)sr(e,t)&&(this[t]=e[t]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const t=e.props;if(t&&typeof t.isLeaf<"u"){const a=ox(this,"isLeaf");Vr(a)&&(this.isLeafByUser=a)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&!this.isLeafByUser&&this.expand(),Tt(this.data)||C9(this,this.data),!this.data)return;const r=e.defaultExpandedKeys,i=e.key;i&&r&&r.includes(this.key)&&this.expand(null,e.autoExpandParent),i&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Tt(e)||C9(this,e),this.data=e,this.childNodes=[];let t;this.level===0&&Tt(this.data)?t=this.data:t=ox(this,"children")||[];for(let r=0,i=t.length;r<i;r++)this.insertChild({data:t[r]})}get label(){return ox(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return ox(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return e.childNodes[t+1]}return null}get previousSibling(){const e=this.parent;if(e){const t=e.childNodes.indexOf(this);if(t>-1)return t>0?e.childNodes[t-1]:null}return null}contains(e,t=!0){return(this.childNodes||[]).some(r=>r===e||t&&r.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,t,r){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof k2)){if(!r){const i=this.getChildren(!0);i.includes(e.data)||(Tr(t)||t<0?i.push(e.data):i.splice(t,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=mr(new k2(e)),e instanceof k2&&e.initialize()}e.level=this.level+1,Tr(t)||t<0?this.childNodes.push(e):this.childNodes.splice(t,0,e),this.updateLeafState()}insertBefore(e,t){let r;t&&(r=this.childNodes.indexOf(t)),this.insertChild(e,r)}insertAfter(e,t){let r;t&&(r=this.childNodes.indexOf(t),r!==-1&&(r+=1)),this.insertChild(e,r)}removeChild(e){const t=this.getChildren()||[],r=t.indexOf(e.data);r>-1&&t.splice(r,1);const i=this.childNodes.indexOf(e);i>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(e){let t=null;for(let r=0;r<this.childNodes.length;r++)if(this.childNodes[r].data===e){t=this.childNodes[r];break}t&&this.removeChild(t)}expand(e,t){const r=()=>{if(t){let i=this.parent;for(;i.level>0;)i.expanded=!0,i=i.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(i=>{i.canFocus=!0})};this.shouldLoadData()?this.loadData(i=>{Tt(i)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||A1(this),r())}):r()}doCreateChildren(e,t={}){e.forEach(r=>{this.insertChild(Object.assign({data:r},t),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,t,r,i){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:o}=TR(this.childNodes);!this.isLeaf&&!s&&o&&(this.checked=!1,e=!1);const l=()=>{if(t){const c=this.childNodes;for(let f=0,h=c.length;f<h;f++){const p=c[f];i=i||e!==!1;const m=p.disabled?p.checked:i;p.setChecked(m,t,!0,i)}const{half:u,all:d}=TR(c);d||(this.checked=d,this.indeterminate=u)}};if(this.shouldLoadData()){this.loadData(()=>{l(),A1(this)},{checked:e!==!1});return}else l()}const a=this.parent;!a||a.level===0||r||A1(a)}getChildren(e=!1){if(this.level===0)return this.data;const t=this.data;if(!t)return null;const r=this.store.props;let i="children";return r&&(i=r.children||"children"),t[i]===void 0&&(t[i]=null),e&&!t[i]&&(t[i]=[]),t[i]}updateChildren(){const e=this.getChildren()||[],t=this.childNodes.map(a=>a.data),r={},i=[];e.forEach((a,s)=>{const o=a[zv];!!o&&t.findIndex(c=>c[zv]===o)>=0?r[o]={index:s,data:a}:i.push({index:s,data:a})}),this.store.lazy||t.forEach(a=>{r[a[zv]]||this.removeChildByData(a)}),i.forEach(({index:a,data:s})=>{this.insertChild({data:s},a)}),this.updateLeafState()}loadData(e,t={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(t).length)){this.loading=!0;const r=a=>{this.childNodes=[],this.doCreateChildren(a,t),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},i=()=>{this.loading=!1};this.store.load(this,r,i)}else e&&e.call(this)}eachNode(e){const t=[this];for(;t.length;){const r=t.shift();t.unshift(...r.childNodes),e(r)}}reInitChecked(){this.store.checkStrictly||A1(this)}};class yPe{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const t in e)sr(e,t)&&(this[t]=e[t]);this.nodesMap={}}initialize(){if(this.root=new AR({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,t=>{this.root.doCreateChildren(t),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const t=this.filterNodeMethod,r=this.lazy,i=function(a){const s=a.root?a.root.childNodes:a.childNodes;if(s.forEach(o=>{o.visible=t.call(o,e,o.data,o),i(o)}),!a.visible&&s.length){let o=!0;o=!s.some(l=>l.visible),a.root?a.root.visible=o===!1:a.visible=o===!1}e&&a.visible&&!a.isLeaf&&(!r||a.loaded)&&a.expand()};i(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof AR)return e;const t=Pn(e)?m6(this.key,e):e;return this.nodesMap[t]||null}insertBefore(e,t){const r=this.getNode(t);r.parent.insertBefore({data:e},r)}insertAfter(e,t){const r=this.getNode(t);r.parent.insertAfter({data:e},r)}remove(e){const t=this.getNode(e);t&&t.parent&&(t===this.currentNode&&(this.currentNode=null),t.parent.removeChild(t))}append(e,t){const r=sm(t)?this.root:this.getNode(t);r&&r.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],t=this.nodesMap;e.forEach(r=>{const i=t[r];i&&i.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const t=this.key;!e||!e.data||(t?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(r=>{this.deregisterNode(r)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,t=!1){const r=[],i=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(o=>{(o.checked||t&&o.indeterminate)&&(!e||e&&o.isLeaf)&&r.push(o.data),i(o)})};return i(this),r}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(t=>(t||{})[this.key])}getHalfCheckedNodes(){const e=[],t=function(r){(r.root?r.root.childNodes:r.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),t(a)})};return t(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],t=this.nodesMap;for(const r in t)sr(t,r)&&e.push(t[r]);return e}updateChildren(e,t){const r=this.nodesMap[e];if(!r)return;const i=r.childNodes;for(let a=i.length-1;a>=0;a--){const s=i[a];this.remove(s.data)}for(let a=0,s=t.length;a<s;a++){const o=t[a];this.append(o,r.data)}}_setCheckedKeys(e,t=!1,r){const i=this._getAllNodes().sort((l,c)=>l.level-c.level),a=Object.create(null),s=Object.keys(r);i.forEach(l=>l.setChecked(!1,!1));const o=l=>{l.childNodes.forEach(c=>{var u;a[c.data[e]]=!0,(u=c.childNodes)!=null&&u.length&&o(c)})};for(let l=0,c=i.length;l<c;l++){const u=i[l],d=u.data[e].toString();if(!s.includes(d)){u.checked&&!a[d]&&u.setChecked(!1,!1);continue}if(u.childNodes.length&&o(u),u.isLeaf||this.checkStrictly){u.setChecked(!0,!1);continue}if(u.setChecked(!0,!0),t){u.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(v=>{v.isLeaf||v.setChecked(!1,!1),h(v)})};h(u)}}}setCheckedNodes(e,t=!1){const r=this.key,i={};e.forEach(a=>{i[(a||{})[r]]=!0}),this._setCheckedKeys(r,t,i)}setCheckedKeys(e,t=!1){this.defaultCheckedKeys=e;const r=this.key,i={};e.forEach(a=>{i[a]=!0}),this._setCheckedKeys(r,t,i)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(t=>{const r=this.getNode(t);r&&r.expand(null,this.autoExpandParent)})}setChecked(e,t,r){const i=this.getNode(e);i&&i.setChecked(!!t,r)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const t=this.currentNode;t&&(t.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,t=!0){const r=e[this.key],i=this.nodesMap[r];this.setCurrentNode(i),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,t=!0){if(this.currentNodeKey=e,e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const r=this.getNode(e);r&&(this.setCurrentNode(r),t&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const bPe=Re({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(n){const e=bt("tree"),t=Ot("NodeInstance"),r=Ot("RootTree");return()=>{const i=n.node,{data:a,store:s}=i;return n.renderContent?n.renderContent(Gt,{_self:t,node:i,data:a,store:s}):Qe(r.ctx.slots,"default",{node:i,data:a},()=>[Gt("span",{class:e.be("node","label")},[i.label])])}}});var _Pe=Pt(bPe,[["__file","tree-node-content.vue"]]);function aQ(n){const e=Ot("TreeNodeMap",null),t={treeNodeExpand:r=>{n.node!==r&&n.node.collapse()},children:[]};return e&&e.children.push(t),$n("TreeNodeMap",t),{broadcastExpanded:r=>{if(n.accordion)for(const i of t.children)i.treeNodeExpand(r)}}}const sQ=Symbol("dragEvents");function wPe({props:n,ctx:e,el$:t,dropIndicator$:r,store:i}){const a=bt("tree"),s=ne({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return $n(sQ,{treeNodeDragStart:({event:u,treeNode:d})=>{if(Zt(n.allowDrag)&&!n.allowDrag(d.node))return u.preventDefault(),!1;u.dataTransfer.effectAllowed="move";try{u.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=d,e.emit("node-drag-start",d.node,u)},treeNodeDragOver:({event:u,treeNode:d})=>{const f=d,h=s.value.dropNode;h&&h.node.id!==f.node.id&&Ts(h.$el,a.is("drop-inner"));const p=s.value.draggingNode;if(!p||!f)return;let m=!0,v=!0,g=!0,y=!0;Zt(n.allowDrop)&&(m=n.allowDrop(p.node,f.node,"prev"),y=v=n.allowDrop(p.node,f.node,"inner"),g=n.allowDrop(p.node,f.node,"next")),u.dataTransfer.dropEffect=v||m||g?"move":"none",(m||v||g)&&(h==null?void 0:h.node.id)!==f.node.id&&(h&&e.emit("node-drag-leave",p.node,h.node,u),e.emit("node-drag-enter",p.node,f.node,u)),m||v||g?s.value.dropNode=f:s.value.dropNode=null,f.node.nextSibling===p.node&&(g=!1),f.node.previousSibling===p.node&&(m=!1),f.node.contains(p.node,!1)&&(v=!1),(p.node===f.node||p.node.contains(f.node))&&(m=!1,v=!1,g=!1);const b=f.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),_=t.value.getBoundingClientRect();let x;const S=m?v?.25:g?.45:1:-1,T=g?v?.75:m?.55:0:1;let C=-9999;const M=u.clientY-b.top;M<b.height*S?x="before":M>b.height*T?x="after":v?x="inner":x="none";const A=f.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),I=r.value;x==="before"?C=A.top-_.top:x==="after"&&(C=A.bottom-_.top),I.style.top=`${C}px`,I.style.left=`${A.right-_.left}px`,x==="inner"?yl(f.$el,a.is("drop-inner")):Ts(f.$el,a.is("drop-inner")),s.value.showDropIndicator=x==="before"||x==="after",s.value.allowDrop=s.value.showDropIndicator||y,s.value.dropType=x,e.emit("node-drag-over",p.node,f.node,u)},treeNodeDragEnd:u=>{const{draggingNode:d,dropType:f,dropNode:h}=s.value;if(u.preventDefault(),u.dataTransfer&&(u.dataTransfer.dropEffect="move"),d&&h){const p={data:d.node.data};f!=="none"&&d.node.remove(),f==="before"?h.node.parent.insertBefore(p,h.node):f==="after"?h.node.parent.insertAfter(p,h.node):f==="inner"&&h.node.insertChild(p),f!=="none"&&(i.value.registerNode(p),i.value.key&&d.node.eachNode(m=>{var v;(v=i.value.nodesMap[m.data[i.value.key]])==null||v.setChecked(m.checked,!i.value.checkStrictly)})),Ts(h.$el,a.is("drop-inner")),e.emit("node-drag-end",d.node,h.node,f,u),f!=="none"&&e.emit("node-drop",d.node,h.node,f,u)}d&&!h&&e.emit("node-drag-end",d.node,null,f,u),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const xPe=Re({name:"ElTreeNode",components:{ElCollapseTransition:OT,ElCheckbox:Ll,NodeContent:_Pe,ElIcon:Vt,Loading:lu},props:{node:{type:AR,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(n,e){const t=bt("tree"),{broadcastExpanded:r}=aQ(n),i=Ot("RootTree"),a=ne(!1),s=ne(!1),o=ne(null),l=ne(null),c=ne(null),u=Ot(sQ),d=kn();$n("NodeInstance",d),n.node.expanded&&(a.value=!0,s.value=!0);const f=i.props.props.children||"children";dt(()=>{const M=n.node.data[f];return M&&[...M]},()=>{n.node.updateChildren()}),dt(()=>n.node.indeterminate,M=>{m(n.node.checked,M)}),dt(()=>n.node.checked,M=>{m(M,n.node.indeterminate)}),dt(()=>n.node.childNodes.length,()=>n.node.reInitChecked()),dt(()=>n.node.expanded,M=>{Yt(()=>a.value=M),M&&(s.value=!0)});const h=M=>m6(i.props.nodeKey,M.data),p=M=>{const A=n.props.class;if(!A)return{};let I;if(Zt(A)){const{data:D}=M;I=A(D,M)}else I=A;return qt(I)?{[I]:!0}:I},m=(M,A)=>{(o.value!==M||l.value!==A)&&i.ctx.emit("check-change",n.node.data,M,A),o.value=M,l.value=A},v=M=>{MR(i.store,i.ctx.emit,()=>{var A;if((A=i==null?void 0:i.props)==null?void 0:A.nodeKey){const D=h(n.node);i.store.value.setCurrentNodeKey(D)}else i.store.value.setCurrentNode(n.node)}),i.currentNode.value=n.node,i.props.expandOnClickNode&&y(),i.props.checkOnClickNode&&!n.node.disabled&&b(null,{target:{checked:!n.node.checked}}),i.ctx.emit("node-click",n.node.data,n.node,d,M)},g=M=>{i.instance.vnode.props.onNodeContextmenu&&(M.stopPropagation(),M.preventDefault()),i.ctx.emit("node-contextmenu",M,n.node.data,n.node,d)},y=()=>{n.node.isLeaf||(a.value?(i.ctx.emit("node-collapse",n.node.data,n.node,d),n.node.collapse()):n.node.expand(()=>{e.emit("node-expand",n.node.data,n.node,d)}))},b=(M,A)=>{n.node.setChecked(A.target.checked,!i.props.checkStrictly),Yt(()=>{const I=i.store.value;i.ctx.emit("check",n.node.data,{checkedNodes:I.getCheckedNodes(),checkedKeys:I.getCheckedKeys(),halfCheckedNodes:I.getHalfCheckedNodes(),halfCheckedKeys:I.getHalfCheckedKeys()})})};return{ns:t,node$:c,tree:i,expanded:a,childNodeRendered:s,oldChecked:o,oldIndeterminate:l,getNodeKey:h,getNodeClass:p,handleSelectChange:m,handleClick:v,handleContextMenu:g,handleExpandIconClick:y,handleCheckChange:b,handleChildNodeExpand:(M,A,I)=>{r(A),i.ctx.emit("node-expand",M,A,I)},handleDragStart:M=>{i.props.draggable&&u.treeNodeDragStart({event:M,treeNode:n})},handleDragOver:M=>{M.preventDefault(),i.props.draggable&&u.treeNodeDragOver({event:M,treeNode:{$el:c.value,node:n.node}})},handleDrop:M=>{M.preventDefault()},handleDragEnd:M=>{i.props.draggable&&u.treeNodeDragEnd(M)},CaretRight:DY}}});function SPe(n,e,t,r,i,a){const s=Et("el-icon"),o=Et("el-checkbox"),l=Et("loading"),c=Et("node-content"),u=Et("el-tree-node"),d=Et("el-collapse-transition");return Cn((V(),he("div",{ref:"node$",class:Z([n.ns.b("node"),n.ns.is("expanded",n.expanded),n.ns.is("current",n.node.isCurrent),n.ns.is("hidden",!n.node.visible),n.ns.is("focusable",!n.node.disabled),n.ns.is("checked",!n.node.disabled&&n.node.checked),n.getNodeClass(n.node)]),role:"treeitem",tabindex:"-1","aria-expanded":n.expanded,"aria-disabled":n.node.disabled,"aria-checked":n.node.checked,draggable:n.tree.props.draggable,"data-key":n.getNodeKey(n.node),onClick:sn(n.handleClick,["stop"]),onContextmenu:n.handleContextMenu,onDragstart:sn(n.handleDragStart,["stop"]),onDragover:sn(n.handleDragOver,["stop"]),onDragend:sn(n.handleDragEnd,["stop"]),onDrop:sn(n.handleDrop,["stop"])},[ve("div",{class:Z(n.ns.be("node","content")),style:Bt({paddingLeft:(n.node.level-1)*n.tree.props.indent+"px"})},[n.tree.props.icon||n.CaretRight?(V(),rt(s,{key:0,class:Z([n.ns.be("node","expand-icon"),n.ns.is("leaf",n.node.isLeaf),{expanded:!n.node.isLeaf&&n.expanded}]),onClick:sn(n.handleExpandIconClick,["stop"])},{default:be(()=>[(V(),rt(Nn(n.tree.props.icon||n.CaretRight)))]),_:1},8,["class","onClick"])):Je("v-if",!0),n.showCheckbox?(V(),rt(o,{key:1,"model-value":n.node.checked,indeterminate:n.node.indeterminate,disabled:!!n.node.disabled,onClick:sn(()=>{},["stop"]),onChange:n.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Je("v-if",!0),n.node.loading?(V(),rt(s,{key:2,class:Z([n.ns.be("node","loading-icon"),n.ns.is("loading")])},{default:be(()=>[ue(l)]),_:1},8,["class"])):Je("v-if",!0),ue(c,{node:n.node,"render-content":n.renderContent},null,8,["node","render-content"])],6),ue(d,null,{default:be(()=>[!n.renderAfterExpand||n.childNodeRendered?Cn((V(),he("div",{key:0,class:Z(n.ns.be("node","children")),role:"group","aria-expanded":n.expanded},[(V(!0),he(zt,null,In(n.node.childNodes,f=>(V(),rt(u,{key:n.getNodeKey(f),"render-content":n.renderContent,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,node:f,accordion:n.accordion,props:n.props,onNodeExpand:n.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded"])),[[fr,n.expanded]]):Je("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[fr,n.node.visible]])}var CPe=Pt(xPe,[["render",SPe],["__file","tree-node.vue"]]);function MPe({el$:n},e){const t=bt("tree"),r=Ir([]),i=Ir([]);pn(()=>{s()}),Bl(()=>{r.value=Array.from(n.value.querySelectorAll("[role=treeitem]")),i.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"))}),dt(i,o=>{o.forEach(l=>{l.setAttribute("tabindex","-1")})}),Ar(n,"keydown",o=>{const l=o.target;if(!l.className.includes(t.b("node")))return;const c=o.code;r.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`));const u=r.value.indexOf(l);let d;if([Nt.up,Nt.down].includes(c)){if(o.preventDefault(),c===Nt.up){d=u===-1?0:u!==0?u-1:r.value.length-1;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d--,d===h){d=-1;break}d<0&&(d=r.value.length-1)}}else{d=u===-1?0:u<r.value.length-1?u+1:0;const h=d;for(;!e.value.getNode(r.value[d].dataset.key).canFocus;){if(d++,d===h){d=-1;break}d>=r.value.length&&(d=0)}}d!==-1&&r.value[d].focus()}[Nt.left,Nt.right].includes(c)&&(o.preventDefault(),l.click());const f=l.querySelector('[type="checkbox"]');[Nt.enter,Nt.numpadEnter,Nt.space].includes(c)&&f&&(o.preventDefault(),f.click())});const s=()=>{var o;r.value=Array.from(n.value.querySelectorAll(`.${t.is("focusable")}[role=treeitem]`)),i.value=Array.from(n.value.querySelectorAll("input[type=checkbox]"));const l=n.value.querySelectorAll(`.${t.is("checked")}[role=treeitem]`);if(l.length){l[0].setAttribute("tabindex","0");return}(o=r.value[0])==null||o.setAttribute("tabindex","0")}}const TPe=Re({name:"ElTree",components:{ElTreeNode:CPe},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:kr}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(n,e){const{t}=rr(),r=bt("tree"),i=Ot(ny,null),a=ne(new yPe({key:n.nodeKey,data:n.data,lazy:n.lazy,props:n.props,load:n.load,currentNodeKey:n.currentNodeKey,checkStrictly:n.checkStrictly,checkDescendants:n.checkDescendants,defaultCheckedKeys:n.defaultCheckedKeys,defaultExpandedKeys:n.defaultExpandedKeys,autoExpandParent:n.autoExpandParent,defaultExpandAll:n.defaultExpandAll,filterNodeMethod:n.filterNodeMethod}));a.value.initialize();const s=ne(a.value.root),o=ne(null),l=ne(null),c=ne(null),{broadcastExpanded:u}=aQ(n),{dragState:d}=wPe({props:n,ctx:e,el$:l,dropIndicator$:c,store:a});MPe({el$:l},a);const f=U(()=>{const{childNodes:z}=s.value,O=i?i.hasFilteredOptions!==0:!1;return(!z||z.length===0||z.every(({visible:W})=>!W))&&!O});dt(()=>n.currentNodeKey,z=>{a.value.setCurrentNodeKey(z)}),dt(()=>n.defaultCheckedKeys,z=>{a.value.setDefaultCheckedKey(z)}),dt(()=>n.defaultExpandedKeys,z=>{a.value.setDefaultExpandedKeys(z)}),dt(()=>n.data,z=>{a.value.setData(z)},{deep:!0}),dt(()=>n.checkStrictly,z=>{a.value.checkStrictly=z});const h=z=>{if(!n.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");a.value.filter(z)},p=z=>m6(n.nodeKey,z.data),m=z=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const O=a.value.getNode(z);if(!O)return[];const W=[O.data];let j=O.parent;for(;j&&j!==s.value;)W.push(j.data),j=j.parent;return W.reverse()},v=(z,O)=>a.value.getCheckedNodes(z,O),g=z=>a.value.getCheckedKeys(z),y=()=>{const z=a.value.getCurrentNode();return z?z.data:null},b=()=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const z=y();return z?z[n.nodeKey]:null},_=(z,O)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");a.value.setCheckedNodes(z,O)},x=(z,O)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");a.value.setCheckedKeys(z,O)},S=(z,O,W)=>{a.value.setChecked(z,O,W)},T=()=>a.value.getHalfCheckedNodes(),C=()=>a.value.getHalfCheckedKeys(),M=(z,O=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");MR(a,e.emit,()=>{u(z),a.value.setUserCurrentNode(z,O)})},A=(z,O=!0)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");MR(a,e.emit,()=>{u(),a.value.setCurrentNodeKey(z,O)})},I=z=>a.value.getNode(z),D=z=>{a.value.remove(z)},L=(z,O)=>{a.value.append(z,O)},F=(z,O)=>{a.value.insertBefore(z,O)},B=(z,O)=>{a.value.insertAfter(z,O)},k=(z,O,W)=>{u(O),e.emit("node-expand",z,O,W)},H=(z,O)=>{if(!n.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");a.value.updateChildren(z,O)};return $n("RootTree",{ctx:e,props:n,store:a,root:s,currentNode:o,instance:kn()}),$n(cu,void 0),{ns:r,store:a,root:s,currentNode:o,dragState:d,el$:l,dropIndicator$:c,isEmpty:f,filter:h,getNodeKey:p,getNodePath:m,getCheckedNodes:v,getCheckedKeys:g,getCurrentNode:y,getCurrentKey:b,setCheckedNodes:_,setCheckedKeys:x,setChecked:S,getHalfCheckedNodes:T,getHalfCheckedKeys:C,setCurrentNode:M,setCurrentKey:A,t,getNode:I,remove:D,append:L,insertBefore:F,insertAfter:B,handleNodeExpand:k,updateKeyChildren:H}}});function APe(n,e,t,r,i,a){const s=Et("el-tree-node");return V(),he("div",{ref:"el$",class:Z([n.ns.b(),n.ns.is("dragging",!!n.dragState.draggingNode),n.ns.is("drop-not-allow",!n.dragState.allowDrop),n.ns.is("drop-inner",n.dragState.dropType==="inner"),{[n.ns.m("highlight-current")]:n.highlightCurrent}]),role:"tree"},[(V(!0),he(zt,null,In(n.root.childNodes,o=>(V(),rt(s,{key:n.getNodeKey(o),node:o,props:n.props,accordion:n.accordion,"render-after-expand":n.renderAfterExpand,"show-checkbox":n.showCheckbox,"render-content":n.renderContent,onNodeExpand:n.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),n.isEmpty?(V(),he("div",{key:0,class:Z(n.ns.e("empty-block"))},[Qe(n.$slots,"empty",{},()=>{var o;return[ve("span",{class:Z(n.ns.e("empty-text"))},Ct((o=n.emptyText)!=null?o:n.t("el.tree.emptyText")),3)]})],2)):Je("v-if",!0),Cn(ve("div",{ref:"dropIndicator$",class:Z(n.ns.e("drop-indicator"))},null,2),[[fr,n.dragState.showDropIndicator]])],2)}var EPe=Pt(TPe,[["render",APe],["__file","tree.vue"]]);const WC=gn(EPe),IPe=(n,{attrs:e,emit:t},{select:r,tree:i,key:a})=>{const s=bt("tree-select");return dt(()=>n.data,()=>{n.filterable&&Yt(()=>{var l,c;(c=i.value)==null||c.filter((l=r.value)==null?void 0:l.states.inputValue)})},{flush:"post"}),{...cc(ua(n),Object.keys(cm.props)),...e,"onUpdate:modelValue":l=>t(Tn,l),valueKey:a,popperClass:U(()=>{const l=[s.e("popper")];return n.popperClass&&l.push(n.popperClass),l.join(" ")}),filterMethod:(l="")=>{var c;n.filterMethod?n.filterMethod(l):n.remoteMethod?n.remoteMethod(l):(c=i.value)==null||c.filter(l)}}},RPe=Re({extends:DC,setup(n,e){const t=DC.setup(n,e);delete t.selectOptionClick;const r=kn().proxy;return Yt(()=>{t.select.states.cachedOptions.get(r.value)||t.select.onOptionCreate(r)}),dt(()=>e.attrs.visible,i=>{t.states.visible=i},{immediate:!0}),t},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function ER(n){return n||n===0}function v6(n){return Tt(n)&&n.length}function Jm(n){return Tt(n)?n:ER(n)?[n]:[]}function L2(n,e,t,r,i){for(let a=0;a<n.length;a++){const s=n[a];if(e(s,a,n,i))return r?r(s,a,n,i):s;{const o=t(s);if(v6(o)){const l=L2(o,e,t,r,s);if(l)return l}}}}function N2(n,e,t,r){for(let i=0;i<n.length;i++){const a=n[i];e(a,i,n,r);const s=t(a);v6(s)&&N2(s,e,t,a)}}const PPe=(n,{attrs:e,slots:t,emit:r},{select:i,tree:a,key:s})=>{dt(()=>n.modelValue,()=>{n.showCheckbox&&Yt(()=>{const f=a.value;f&&!Ua(f.getCheckedKeys(),Jm(n.modelValue))&&f.setCheckedKeys(Jm(n.modelValue))})},{immediate:!0,deep:!0});const o=U(()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...n.props})),l=(f,h)=>{var p;const m=o.value[f];return Zt(m)?m(h,(p=a.value)==null?void 0:p.getNode(l("value",h))):h[m]},c=Jm(n.modelValue).map(f=>L2(n.data||[],h=>l("value",h)===f,h=>l("children",h),(h,p,m,v)=>v&&l("value",v))).filter(f=>ER(f)),u=U(()=>{if(!n.renderAfterExpand&&!n.lazy)return[];const f=[];return N2(n.data.concat(n.cacheData),h=>{const p=l("value",h);f.push({value:p,currentLabel:l("label",h),isDisabled:l("disabled",h)})},h=>l("children",h)),f}),d=()=>{var f;return(f=a.value)==null?void 0:f.getCheckedKeys().filter(h=>{var p;const m=(p=a.value)==null?void 0:p.getNode(h);return!ga(m)&&Oo(m.childNodes)})};return{...cc(ua(n),Object.keys(WC.props)),...e,nodeKey:s,expandOnClickNode:U(()=>!n.checkStrictly&&n.expandOnClickNode),defaultExpandedKeys:U(()=>n.defaultExpandedKeys?n.defaultExpandedKeys.concat(c):c),renderContent:(f,{node:h,data:p,store:m})=>f(RPe,{value:l("value",p),label:l("label",p),disabled:l("disabled",p),visible:h.visible},n.renderContent?()=>n.renderContent(f,{node:h,data:p,store:m}):t.default?()=>t.default({node:h,data:p,store:m}):void 0),filterNodeMethod:(f,h,p)=>n.filterNodeMethod?n.filterNodeMethod(f,h,p):f?new RegExp(AL(f),"i").test(l("label",h)||""):!0,onNodeClick:(f,h,p)=>{var m,v,g,y;if((m=e.onNodeClick)==null||m.call(e,f,h,p),!(n.showCheckbox&&n.checkOnClickNode)){if(!n.showCheckbox&&(n.checkStrictly||h.isLeaf)){if(!l("disabled",f)){const b=(v=i.value)==null?void 0:v.states.options.get(l("value",f));(g=i.value)==null||g.handleOptionSelect(b)}}else n.expandOnClickNode&&p.proxy.handleExpandIconClick();(y=i.value)==null||y.focus()}},onCheck:(f,h)=>{var p;if(!n.showCheckbox)return;const m=l("value",f),v={};N2([a.value.store.root],_=>v[_.key]=_,_=>_.childNodes);const g=h.checkedKeys,y=n.multiple?Jm(n.modelValue).filter(_=>!(_ in v)&&!g.includes(_)):[],b=y.concat(g);if(n.checkStrictly)r(Tn,n.multiple?b:b.includes(m)?m:void 0);else if(n.multiple){const _=d();r(Tn,y.concat(_))}else{const _=L2([f],T=>!v6(l("children",T))&&!l("disabled",T),T=>l("children",T)),x=_?l("value",_):void 0,S=ER(n.modelValue)&&!!L2([f],T=>l("value",T)===n.modelValue,T=>l("children",T));r(Tn,x===n.modelValue||S?void 0:x)}Yt(()=>{var _;const x=Jm(n.modelValue);a.value.setCheckedKeys(x),(_=e.onCheck)==null||_.call(e,f,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(p=i.value)==null||p.focus()},onNodeExpand:(f,h,p)=>{var m;(m=e.onNodeExpand)==null||m.call(e,f,h,p),Yt(()=>{if(!n.checkStrictly&&n.lazy&&n.multiple&&h.checked){const v={},g=a.value.getCheckedKeys();N2([a.value.store.root],_=>v[_.key]=_,_=>_.childNodes);const y=Jm(n.modelValue).filter(_=>!(_ in v)&&!g.includes(_)),b=d();r(Tn,y.concat(b))}})},cacheOptions:u}};var DPe=Re({props:{data:{type:Array,default:()=>[]}},setup(n){const e=Ot(ny);return dt(()=>n.data,()=>{var t;n.data.forEach(i=>{e.states.cachedOptions.has(i.value)||e.states.cachedOptions.set(i.value,i)});const r=((t=e.selectRef)==null?void 0:t.querySelectorAll("input"))||[];nr&&!Array.from(r).includes(document.activeElement)&&e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const kPe=Re({name:"ElTreeSelect",inheritAttrs:!1,props:{...cm.props,...WC.props,cacheData:{type:Array,default:()=>[]}},setup(n,e){const{slots:t,expose:r}=e,i=ne(),a=ne(),s=U(()=>n.nodeKey||n.valueKey||"value"),o=IPe(n,e,{select:i,tree:a,key:s}),{cacheOptions:l,...c}=PPe(n,e,{select:i,tree:a,key:s}),u=mr({});return r(u),pn(()=>{Object.assign(u,{...cc(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...cc(i.value,["focus","blur","selectedLabel"])})}),()=>Gt(cm,mr({...o,ref:d=>i.value=d}),{...t,default:()=>[Gt(DPe,{data:l.value}),Gt(WC,mr({...c,ref:d=>a.value=d}))]})}});var LPe=Pt(kPe,[["__file","tree-select.vue"]]);const NPe=gn(LPe),g6=Symbol(),OPe={key:-1,level:-1,data:{}};var E1=(n=>(n.KEY="id",n.LABEL="label",n.CHILDREN="children",n.DISABLED="disabled",n.CLASS="",n))(E1||{}),IR=(n=>(n.ADD="add",n.DELETE="delete",n))(IR||{});const oQ={type:Number,default:26},BPe=Rt({data:{type:Ke(Array),default:()=>Mi([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:Ke(Object),default:()=>Mi({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Ke(Array),default:()=>Mi([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Ke(Array),default:()=>Mi([])},indent:{type:Number,default:16},itemSize:oQ,icon:{type:kr},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:Ke([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:Ke(Function)},perfMode:{type:Boolean,default:!0}}),FPe=Rt({node:{type:Ke(Object),default:()=>Mi(OPe)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:oQ}),zPe=Rt({node:{type:Ke(Object),required:!0}}),lQ="node-click",cQ="node-drop",uQ="node-expand",dQ="node-collapse",fQ="current-change",hQ="check",pQ="check-change",mQ="node-contextmenu",UPe={[lQ]:(n,e,t)=>n&&e&&t,[cQ]:(n,e,t)=>n&&e&&t,[uQ]:(n,e)=>n&&e,[dQ]:(n,e)=>n&&e,[fQ]:(n,e)=>n&&e,[hQ]:(n,e)=>n&&e,[pQ]:(n,e)=>n&&Vr(e),[mQ]:(n,e,t)=>n&&e&&t},HPe={click:(n,e)=>!!(n&&e),drop:(n,e)=>!!(n&&e),toggle:n=>!!n,check:(n,e)=>n&&Vr(e)};function VPe(n,e){const t=ne(new Set),r=ne(new Set),{emit:i}=kn();dt([()=>e.value,()=>n.defaultCheckedKeys],()=>Yt(()=>{y(n.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!e.value||!n.showCheckbox||n.checkStrictly)return;const{levelTreeNodeMap:b,maxLevel:_}=e.value,x=t.value,S=new Set;for(let T=_-1;T>=1;--T){const C=b.get(T);C&&C.forEach(M=>{const A=M.children;if(A){let I=!0,D=!1;for(const L of A){const F=L.key;if(x.has(F))D=!0;else if(S.has(F)){I=!1,D=!0;break}else I=!1}I?x.add(M.key):D?(S.add(M.key),x.delete(M.key)):(x.delete(M.key),S.delete(M.key))}})}r.value=S},s=b=>t.value.has(b.key),o=b=>r.value.has(b.key),l=(b,_,x=!0,S=!0)=>{const T=t.value,C=(M,A)=>{T[A?IR.ADD:IR.DELETE](M.key);const I=M.children;!n.checkStrictly&&I&&I.forEach(D=>{D.disabled||C(D,A)})};C(b,_),S&&a(),x&&c(b,_)},c=(b,_)=>{const{checkedNodes:x,checkedKeys:S}=p(),{halfCheckedNodes:T,halfCheckedKeys:C}=m();i(hQ,b.data,{checkedKeys:S,checkedNodes:x,halfCheckedKeys:C,halfCheckedNodes:T}),i(pQ,b.data,_)};function u(b=!1){return p(b).checkedKeys}function d(b=!1){return p(b).checkedNodes}function f(){return m().halfCheckedKeys}function h(){return m().halfCheckedNodes}function p(b=!1){const _=[],x=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:S}=e.value;t.value.forEach(T=>{const C=S.get(T);C&&(!b||b&&C.isLeaf)&&(x.push(T),_.push(C.data))})}return{checkedKeys:x,checkedNodes:_}}function m(){const b=[],_=[];if(e!=null&&e.value&&n.showCheckbox){const{treeNodeMap:x}=e.value;r.value.forEach(S=>{const T=x.get(S);T&&(_.push(S),b.push(T.data))})}return{halfCheckedNodes:b,halfCheckedKeys:_}}function v(b){t.value.clear(),r.value.clear(),Yt(()=>{y(b)})}function g(b,_){if(e!=null&&e.value&&n.showCheckbox){const x=e.value.treeNodeMap.get(b);x&&l(x,_,!1)}}function y(b){if(e!=null&&e.value){const{treeNodeMap:_}=e.value;if(n.showCheckbox&&_&&(b==null?void 0:b.length)>0){for(const x of b){const S=_.get(x);S&&!s(S)&&l(S,!0,!1,!1)}a()}}}return{updateCheckedKeys:a,toggleCheckbox:l,isChecked:s,isIndeterminate:o,getCheckedKeys:u,getCheckedNodes:d,getHalfCheckedKeys:f,getHalfCheckedNodes:h,setChecked:g,setCheckedKeys:v}}function $Pe(n,e){const t=ne(new Set([])),r=ne(new Set([])),i=U(()=>Zt(n.filterMethod));function a(o){var l;if(!i.value)return;const c=new Set,u=r.value,d=t.value,f=[],h=((l=e.value)==null?void 0:l.treeNodes)||[],p=n.filterMethod;d.clear();function m(v){v.forEach(g=>{f.push(g),p!=null&&p(o,g.data,g)?f.forEach(b=>{c.add(b.key)}):g.isLeaf&&d.add(g.key);const y=g.children;if(y&&m(y),!g.isLeaf){if(!c.has(g.key))d.add(g.key);else if(y){let b=!0;for(const _ of y)if(!d.has(_.key)){b=!1;break}b?u.add(g.key):u.delete(g.key)}}f.pop()})}return m(h),c}function s(o){return r.value.has(o.key)}return{hiddenExpandIconKeySet:r,hiddenNodeKeySet:t,doFilter:a,isForceHiddenExpandIcon:s}}function GPe(n,e){const t=ne(new Set(n.defaultExpandedKeys)),r=ne(),i=Ir(),a=ne();dt(()=>n.currentNodeKey,q=>{r.value=q},{immediate:!0}),dt(()=>n.data,q=>{we(q)},{immediate:!0});const{isIndeterminate:s,isChecked:o,toggleCheckbox:l,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p}=VPe(n,i),{doFilter:m,hiddenNodeKeySet:v,isForceHiddenExpandIcon:g}=$Pe(n,i),y=U(()=>{var q;return((q=n.props)==null?void 0:q.value)||E1.KEY}),b=U(()=>{var q;return((q=n.props)==null?void 0:q.children)||E1.CHILDREN}),_=U(()=>{var q;return((q=n.props)==null?void 0:q.disabled)||E1.DISABLED}),x=U(()=>{var q;return((q=n.props)==null?void 0:q.label)||E1.LABEL}),S=U(()=>{var q;const ce=t.value,re=v.value,Ne=[],Pe=((q=i.value)==null?void 0:q.treeNodes)||[],$e=[];for(let Ue=Pe.length-1;Ue>=0;--Ue)$e.push(Pe[Ue]);for(;$e.length;){const Ue=$e.pop();if(!re.has(Ue.key)&&(Ne.push(Ue),Ue.children&&ce.has(Ue.key)))for(let Ve=Ue.children.length-1;Ve>=0;--Ve)$e.push(Ue.children[Ve])}return Ne}),T=U(()=>S.value.length>0);function C(q){const ce=new Map,re=new Map;let Ne=1;function Pe(Ue,Ve=1,je=void 0){var fe;const $=[];for(const X of Ue){const me=I(X),Oe={level:Ve,key:me,data:X};Oe.label=L(X),Oe.parent=je;const qe=A(X);Oe.disabled=D(X),Oe.isLeaf=!qe||qe.length===0,qe&&qe.length&&(Oe.children=Pe(qe,Ve+1,Oe)),$.push(Oe),ce.set(me,Oe),re.has(Ve)||re.set(Ve,[]),(fe=re.get(Ve))==null||fe.push(Oe)}return Ve>Ne&&(Ne=Ve),$}const $e=Pe(q);return{treeNodeMap:ce,levelTreeNodeMap:re,maxLevel:Ne,treeNodes:$e}}function M(q){const ce=m(q);ce&&(t.value=ce)}function A(q){return q[b.value]}function I(q){return q?q[y.value]:""}function D(q){return q[_.value]}function L(q){return q[x.value]}function F(q){t.value.has(q.key)?j(q):W(q)}function B(q){const ce=new Set,re=i.value.treeNodeMap;q.forEach(Ne=>{let Pe=re.get(Ne);for(;Pe&&!ce.has(Pe.key);)ce.add(Pe.key),Pe=Pe.parent}),t.value=ce}function k(q,ce){e(lQ,q.data,q,ce),z(q),n.expandOnClickNode&&F(q),n.showCheckbox&&n.checkOnClickNode&&!q.disabled&&l(q,!o(q),!0)}function H(q,ce){e(cQ,q.data,q,ce)}function z(q){J(q)||(r.value=q.key,e(fQ,q.data,q))}function O(q,ce){l(q,ce)}function W(q){const ce=t.value;if(i.value&&n.accordion){const{treeNodeMap:re}=i.value;ce.forEach(Ne=>{const Pe=re.get(Ne);q&&q.level===(Pe==null?void 0:Pe.level)&&ce.delete(Ne)})}ce.add(q.key),e(uQ,q.data,q)}function j(q){t.value.delete(q.key),e(dQ,q.data,q)}function ee(q){return t.value.has(q.key)}function te(q){return!!q.disabled}function J(q){const ce=r.value;return ce!==void 0&&ce===q.key}function Q(){var q,ce;if(r.value)return(ce=(q=i.value)==null?void 0:q.treeNodeMap.get(r.value))==null?void 0:ce.data}function ie(){return r.value}function le(q){r.value=q}function we(q){Yt(()=>i.value=C(q))}function Ae(q){var ce;const re=Pn(q)?I(q):q;return(ce=i.value)==null?void 0:ce.treeNodeMap.get(re)}function ke(q,ce="auto"){const re=Ae(q);re&&a.value&&a.value.scrollToItem(S.value.indexOf(re),ce)}function Fe(q){var ce;(ce=a.value)==null||ce.scrollTo(q)}return{tree:i,flattenTree:S,isNotEmpty:T,listRef:a,getKey:I,getChildren:A,toggleExpand:F,toggleCheckbox:l,isExpanded:ee,isChecked:o,isIndeterminate:s,isDisabled:te,isCurrent:J,isForceHiddenExpandIcon:g,handleNodeClick:k,handleNodeDrop:H,handleNodeCheck:O,getCurrentNode:Q,getCurrentKey:ie,setCurrentKey:le,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:f,setChecked:h,setCheckedKeys:p,filter:M,setData:we,getNode:Ae,expandNode:W,collapseNode:j,setExpandedKeys:B,scrollToNode:ke,scrollTo:Fe}}var WPe=Re({name:"ElTreeNodeContent",props:zPe,setup(n){const e=Ot(g6),t=bt("tree");return()=>{const r=n.node,{data:i}=r;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:r,data:i}):Gt("span",{class:t.be("node","label")},[r==null?void 0:r.label])}}});const qPe=Re({name:"ElTreeNode"}),KPe=Re({...qPe,props:FPe,emits:HPe,setup(n,{emit:e}){const t=n,r=Ot(g6),i=bt("tree"),a=U(()=>{var h;return(h=r==null?void 0:r.props.indent)!=null?h:16}),s=U(()=>{var h;return(h=r==null?void 0:r.props.icon)!=null?h:DY}),o=h=>{const p=r==null?void 0:r.props.props.class;if(!p)return{};let m;if(Zt(p)){const{data:v}=h;m=p(v,h)}else m=p;return qt(m)?{[m]:!0}:m},l=h=>{e("click",t.node,h)},c=h=>{e("drop",t.node,h)},u=()=>{e("toggle",t.node)},d=h=>{e("check",t.node,h)},f=h=>{var p,m,v,g;(v=(m=(p=r==null?void 0:r.instance)==null?void 0:p.vnode)==null?void 0:m.props)!=null&&v.onNodeContextmenu&&(h.stopPropagation(),h.preventDefault()),r==null||r.ctx.emit(mQ,h,(g=t.node)==null?void 0:g.data,t.node)};return(h,p)=>{var m,v,g;return V(),he("div",{ref:"node$",class:Z([w(i).b("node"),w(i).is("expanded",h.expanded),w(i).is("current",h.current),w(i).is("focusable",!h.disabled),w(i).is("checked",!h.disabled&&h.checked),o(h.node)]),role:"treeitem",tabindex:"-1","aria-expanded":h.expanded,"aria-disabled":h.disabled,"aria-checked":h.checked,"data-key":(m=h.node)==null?void 0:m.key,onClick:sn(l,["stop"]),onContextmenu:f,onDragover:sn(()=>{},["prevent"]),onDragenter:sn(()=>{},["prevent"]),onDrop:sn(c,["stop"])},[ve("div",{class:Z(w(i).be("node","content")),style:Bt({paddingLeft:`${(h.node.level-1)*w(a)}px`,height:h.itemSize+"px"})},[w(s)?(V(),rt(w(Vt),{key:0,class:Z([w(i).is("leaf",!!((v=h.node)!=null&&v.isLeaf)),w(i).is("hidden",h.hiddenExpandIcon),{expanded:!((g=h.node)!=null&&g.isLeaf)&&h.expanded},w(i).be("node","expand-icon")]),onClick:sn(u,["stop"])},{default:be(()=>[(V(),rt(Nn(w(s))))]),_:1},8,["class","onClick"])):Je("v-if",!0),h.showCheckbox?(V(),rt(w(Ll),{key:1,"model-value":h.checked,indeterminate:h.indeterminate,disabled:h.disabled,onChange:d,onClick:sn(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Je("v-if",!0),ue(w(WPe),{node:h.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var YPe=Pt(KPe,[["__file","tree-node.vue"]]);const XPe=Re({name:"ElTreeV2"}),jPe=Re({...XPe,props:BPe,emits:UPe,setup(n,{expose:e,emit:t}){const r=n,i=na(),a=U(()=>r.itemSize);$n(g6,{ctx:{emit:t,slots:i},props:r,instance:kn()}),$n(cu,void 0);const{t:s}=rr(),o=bt("tree"),{flattenTree:l,isNotEmpty:c,listRef:u,toggleExpand:d,isExpanded:f,isIndeterminate:h,isChecked:p,isDisabled:m,isCurrent:v,isForceHiddenExpandIcon:g,handleNodeClick:y,handleNodeDrop:b,handleNodeCheck:_,toggleCheckbox:x,getCurrentNode:S,getCurrentKey:T,setCurrentKey:C,getCheckedKeys:M,getCheckedNodes:A,getHalfCheckedKeys:I,getHalfCheckedNodes:D,setChecked:L,setCheckedKeys:F,filter:B,setData:k,getNode:H,expandNode:z,collapseNode:O,setExpandedKeys:W,scrollToNode:j,scrollTo:ee}=GPe(r,t);return e({toggleCheckbox:x,getCurrentNode:S,getCurrentKey:T,setCurrentKey:C,getCheckedKeys:M,getCheckedNodes:A,getHalfCheckedKeys:I,getHalfCheckedNodes:D,setChecked:L,setCheckedKeys:F,filter:B,setData:k,getNode:H,expandNode:z,collapseNode:O,setExpandedKeys:W,scrollToNode:j,scrollTo:ee}),(te,J)=>(V(),he("div",{class:Z([w(o).b(),{[w(o).m("highlight-current")]:te.highlightCurrent}]),role:"tree"},[w(c)?(V(),rt(w(Qj),{key:0,ref_key:"listRef",ref:u,"class-name":w(o).b("virtual-list"),data:w(l),total:w(l).length,height:te.height,"item-size":w(a),"perf-mode":te.perfMode},{default:be(({data:Q,index:ie,style:le})=>[(V(),rt(YPe,{key:Q[ie].key,style:Bt(le),node:Q[ie],expanded:w(f)(Q[ie]),"show-checkbox":te.showCheckbox,checked:w(p)(Q[ie]),indeterminate:w(h)(Q[ie]),"item-size":w(a),disabled:w(m)(Q[ie]),current:w(v)(Q[ie]),"hidden-expand-icon":w(g)(Q[ie]),onClick:w(y),onToggle:w(d),onCheck:w(_),onDrop:w(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(V(),he("div",{key:1,class:Z(w(o).e("empty-block"))},[Qe(te.$slots,"empty",{},()=>{var Q;return[ve("span",{class:Z(w(o).e("empty-text"))},Ct((Q=te.emptyText)!=null?Q:w(s)("el.tree.emptyText")),3)]})],2))],2))}});var ZPe=Pt(jPe,[["__file","tree.vue"]]);const QPe=gn(ZPe),vQ=Symbol("uploadContextKey"),JPe="ElUpload";class eDe extends Error{constructor(e,t,r,i){super(e),this.name="UploadAjaxError",this.status=t,this.method=r,this.url=i}}function M9(n,e,t){let r;return t.response?r=`${t.response.error||t.response}`:t.responseText?r=`${t.responseText}`:r=`fail to ${e.method} ${n} ${t.status}`,new eDe(r,t.status,e.method,n)}function tDe(n){const e=n.responseText||n.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const nDe=n=>{typeof XMLHttpRequest>"u"&&fa(JPe,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,t=n.action;e.upload&&e.upload.addEventListener("progress",a=>{const s=a;s.percent=a.total>0?a.loaded/a.total*100:0,n.onProgress(s)});const r=new FormData;if(n.data)for(const[a,s]of Object.entries(n.data))Tt(s)&&s.length?r.append(a,...s):r.append(a,s);r.append(n.filename,n.file,n.file.name),e.addEventListener("error",()=>{n.onError(M9(t,n,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return n.onError(M9(t,n,e));n.onSuccess(tDe(e))}),e.open(n.method,t,!0),n.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const i=n.headers||{};if(i instanceof Headers)i.forEach((a,s)=>e.setRequestHeader(s,a));else for(const[a,s]of Object.entries(i))ga(s)||e.setRequestHeader(a,String(s));return e.send(r),e},gQ=["text","picture","picture-card"];let rDe=1;const RR=()=>Date.now()+rDe++,yQ=Rt({action:{type:String,default:"#"},headers:{type:Ke(Object)},method:{type:String,default:"post"},data:{type:Ke([Object,Function,Promise]),default:()=>Mi({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Ke(Array),default:()=>Mi([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:gQ,default:"text"},httpRequest:{type:Ke(Function),default:nDe},disabled:Boolean,limit:Number}),iDe=Rt({...yQ,beforeUpload:{type:Ke(Function),default:Cr},beforeRemove:{type:Ke(Function)},onRemove:{type:Ke(Function),default:Cr},onChange:{type:Ke(Function),default:Cr},onPreview:{type:Ke(Function),default:Cr},onSuccess:{type:Ke(Function),default:Cr},onProgress:{type:Ke(Function),default:Cr},onError:{type:Ke(Function),default:Cr},onExceed:{type:Ke(Function),default:Cr},crossorigin:{type:Ke(String)}}),aDe=Rt({files:{type:Ke(Array),default:()=>Mi([])},disabled:{type:Boolean,default:!1},handlePreview:{type:Ke(Function),default:Cr},listType:{type:String,values:gQ,default:"text"},crossorigin:{type:Ke(String)}}),sDe={remove:n=>!!n},oDe=Re({name:"ElUploadList"}),lDe=Re({...oDe,props:aDe,emits:sDe,setup(n,{emit:e}){const t=n,{t:r}=rr(),i=bt("upload"),a=bt("icon"),s=bt("list"),o=os(),l=ne(!1),c=U(()=>[i.b("list"),i.bm("list",t.listType),i.is("disabled",t.disabled)]),u=d=>{e("remove",d)};return(d,f)=>(V(),rt(bK,{tag:"ul",class:Z(w(c)),name:w(s).b()},{default:be(()=>[(V(!0),he(zt,null,In(d.files,(h,p)=>(V(),he("li",{key:h.uid||h.name,class:Z([w(i).be("list","item"),w(i).is(h.status),{focusing:l.value}]),tabindex:"0",onKeydown:Ur(m=>!w(o)&&u(h),["delete"]),onFocus:m=>l.value=!0,onBlur:m=>l.value=!1,onClick:m=>l.value=!1},[Qe(d.$slots,"default",{file:h,index:p},()=>[d.listType==="picture"||h.status!=="uploading"&&d.listType==="picture-card"?(V(),he("img",{key:0,class:Z(w(i).be("list","item-thumbnail")),src:h.url,crossorigin:d.crossorigin,alt:""},null,10,["src","crossorigin"])):Je("v-if",!0),h.status==="uploading"||d.listType!=="picture-card"?(V(),he("div",{key:1,class:Z(w(i).be("list","item-info"))},[ve("a",{class:Z(w(i).be("list","item-name")),onClick:sn(m=>d.handlePreview(h),["prevent"])},[ue(w(Vt),{class:Z(w(a).m("document"))},{default:be(()=>[ue(w(LY))]),_:1},8,["class"]),ve("span",{class:Z(w(i).be("list","item-file-name")),title:h.name},Ct(h.name),11,["title"])],10,["onClick"]),h.status==="uploading"?(V(),rt(w(Vj),{key:0,type:d.listType==="picture-card"?"circle":"line","stroke-width":d.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:Bt(d.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Je("v-if",!0)],2)):Je("v-if",!0),ve("label",{class:Z(w(i).be("list","item-status-label"))},[d.listType==="text"?(V(),rt(w(Vt),{key:0,class:Z([w(a).m("upload-success"),w(a).m("circle-check")])},{default:be(()=>[ue(w(iL))]),_:1},8,["class"])):["picture-card","picture"].includes(d.listType)?(V(),rt(w(Vt),{key:1,class:Z([w(a).m("upload-success"),w(a).m("check")])},{default:be(()=>[ue(w(Q_))]),_:1},8,["class"])):Je("v-if",!0)],2),w(o)?Je("v-if",!0):(V(),rt(w(Vt),{key:2,class:Z(w(a).m("close")),onClick:m=>u(h)},{default:be(()=>[ue(w(_c))]),_:2},1032,["class","onClick"])),Je(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Je(" This is a bug which needs to be fixed "),Je(" TODO: Fix the incorrect navigation interaction "),w(o)?Je("v-if",!0):(V(),he("i",{key:3,class:Z(w(a).m("close-tip"))},Ct(w(r)("el.upload.deleteTip")),3)),d.listType==="picture-card"?(V(),he("span",{key:4,class:Z(w(i).be("list","item-actions"))},[ve("span",{class:Z(w(i).be("list","item-preview")),onClick:m=>d.handlePreview(h)},[ue(w(Vt),{class:Z(w(a).m("zoom-in"))},{default:be(()=>[ue(w(OY))]),_:1},8,["class"])],10,["onClick"]),w(o)?Je("v-if",!0):(V(),he("span",{key:0,class:Z(w(i).be("list","item-delete")),onClick:m=>u(h)},[ue(w(Vt),{class:Z(w(a).m("delete"))},{default:be(()=>[ue(w(ove))]),_:1},8,["class"])],10,["onClick"]))],2)):Je("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),Qe(d.$slots,"append")]),_:3},8,["class","name"]))}});var T9=Pt(lDe,[["__file","upload-list.vue"]]);const cDe=Rt({disabled:{type:Boolean,default:!1}}),uDe={file:n=>Tt(n)},bQ="ElUploadDrag",dDe=Re({name:bQ}),fDe=Re({...dDe,props:cDe,emits:uDe,setup(n,{emit:e}){Ot(vQ)||fa(bQ,"usage: <el-upload><el-upload-dragger /></el-upload>");const r=bt("upload"),i=ne(!1),a=os(),s=l=>{if(a.value)return;i.value=!1,l.stopPropagation();const c=Array.from(l.dataTransfer.files);e("file",c)},o=()=>{a.value||(i.value=!0)};return(l,c)=>(V(),he("div",{class:Z([w(r).b("dragger"),w(r).is("dragover",i.value)]),onDrop:sn(s,["prevent"]),onDragover:sn(o,["prevent"]),onDragleave:sn(u=>i.value=!1,["prevent"])},[Qe(l.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var hDe=Pt(fDe,[["__file","upload-dragger.vue"]]);const pDe=Rt({...yQ,beforeUpload:{type:Ke(Function),default:Cr},onRemove:{type:Ke(Function),default:Cr},onStart:{type:Ke(Function),default:Cr},onSuccess:{type:Ke(Function),default:Cr},onProgress:{type:Ke(Function),default:Cr},onError:{type:Ke(Function),default:Cr},onExceed:{type:Ke(Function),default:Cr}}),mDe=Re({name:"ElUploadContent",inheritAttrs:!1}),vDe=Re({...mDe,props:pDe,setup(n,{expose:e}){const t=n,r=bt("upload"),i=os(),a=Ir({}),s=Ir(),o=m=>{if(m.length===0)return;const{autoUpload:v,limit:g,fileList:y,multiple:b,onStart:_,onExceed:x}=t;if(g&&y.length+m.length>g){x(m,y);return}b||(m=m.slice(0,1));for(const S of m){const T=S;T.uid=RR(),_(T),v&&l(T)}},l=async m=>{if(s.value.value="",!t.beforeUpload)return u(m);let v,g={};try{const b=t.data,_=t.beforeUpload(m);g=Pb(t.data)?TC(t.data):t.data,v=await _,Pb(t.data)&&Ua(b,g)&&(g=TC(t.data))}catch{v=!1}if(v===!1){t.onRemove(m);return}let y=m;v instanceof Blob&&(v instanceof File?y=v:y=new File([v],m.name,{type:m.type})),u(Object.assign(y,{uid:m.uid}),g)},c=async(m,v)=>Zt(m)?m(v):m,u=async(m,v)=>{const{headers:g,data:y,method:b,withCredentials:_,name:x,action:S,onProgress:T,onSuccess:C,onError:M,httpRequest:A}=t;try{v=await c(v??y,m)}catch{t.onRemove(m);return}const{uid:I}=m,D={headers:g||{},withCredentials:_,file:m,data:v,method:b,filename:x,action:S,onProgress:F=>{T(F,m)},onSuccess:F=>{C(F,m),delete a.value[I]},onError:F=>{M(F,m),delete a.value[I]}},L=A(D);a.value[I]=L,L instanceof Promise&&L.then(D.onSuccess,D.onError)},d=m=>{const v=m.target.files;v&&o(Array.from(v))},f=()=>{i.value||(s.value.value="",s.value.click())},h=()=>{f()};return e({abort:m=>{TY(a.value).filter(m?([g])=>String(m.uid)===g:()=>!0).forEach(([g,y])=>{y instanceof XMLHttpRequest&&y.abort(),delete a.value[g]})},upload:l}),(m,v)=>(V(),he("div",{class:Z([w(r).b(),w(r).m(m.listType),w(r).is("drag",m.drag),w(r).is("disabled",w(i))]),tabindex:w(i)?"-1":"0",onClick:f,onKeydown:Ur(sn(h,["self"]),["enter","space"])},[m.drag?(V(),rt(hDe,{key:0,disabled:w(i),onFile:o},{default:be(()=>[Qe(m.$slots,"default")]),_:3},8,["disabled"])):Qe(m.$slots,"default",{key:1}),ve("input",{ref_key:"inputRef",ref:s,class:Z(w(r).e("input")),name:m.name,disabled:w(i),multiple:m.multiple,accept:m.accept,type:"file",onChange:d,onClick:sn(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var A9=Pt(vDe,[["__file","upload-content.vue"]]);const E9="ElUpload",I9=n=>{var e;(e=n.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(n.url)},gDe=(n,e)=>{const t=yY(n,"fileList",void 0,{passive:!0}),r=h=>t.value.find(p=>p.uid===h.uid);function i(h){var p;(p=e.value)==null||p.abort(h)}function a(h=["ready","uploading","success","fail"]){t.value=t.value.filter(p=>!h.includes(p.status))}function s(h){t.value=t.value.filter(p=>p!==h)}const o=(h,p)=>{const m=r(p);m&&(console.error(h),m.status="fail",s(m),n.onError(h,m,t.value),n.onChange(m,t.value))},l=(h,p)=>{const m=r(p);m&&(n.onProgress(h,m,t.value),m.status="uploading",m.percentage=Math.round(h.percent))},c=(h,p)=>{const m=r(p);m&&(m.status="success",m.response=h,n.onSuccess(h,m,t.value),n.onChange(m,t.value))},u=h=>{ga(h.uid)&&(h.uid=RR());const p={name:h.name,percentage:0,status:"ready",size:h.size,raw:h,uid:h.uid};if(n.listType==="picture-card"||n.listType==="picture")try{p.url=URL.createObjectURL(h)}catch(m){m.message,n.onError(m,p,t.value)}t.value=[...t.value,p],n.onChange(p,t.value)},d=async h=>{const p=h instanceof File?r(h):h;p||fa(E9,"file to be removed not found");const m=v=>{i(v),s(v),n.onRemove(v,t.value),I9(v)};n.beforeRemove?await n.beforeRemove(p,t.value)!==!1&&m(p):m(p)};function f(){t.value.filter(({status:h})=>h==="ready").forEach(({raw:h})=>{var p;return h&&((p=e.value)==null?void 0:p.upload(h))})}return dt(()=>n.listType,h=>{h!=="picture-card"&&h!=="picture"||(t.value=t.value.map(p=>{const{raw:m,url:v}=p;if(!v&&m)try{p.url=URL.createObjectURL(m)}catch(g){n.onError(g,p,t.value)}return p}))}),dt(t,h=>{for(const p of h)p.uid||(p.uid=RR()),p.status||(p.status="success")},{immediate:!0,deep:!0}),{uploadFiles:t,abort:i,clearFiles:a,handleError:o,handleProgress:l,handleStart:u,handleSuccess:c,handleRemove:d,submit:f,revokeFileObjectURL:I9}},yDe=Re({name:"ElUpload"}),bDe=Re({...yDe,props:iDe,setup(n,{expose:e}){const t=n,r=os(),i=Ir(),{abort:a,submit:s,clearFiles:o,uploadFiles:l,handleStart:c,handleError:u,handleRemove:d,handleSuccess:f,handleProgress:h,revokeFileObjectURL:p}=gDe(t,i),m=U(()=>t.listType==="picture-card"),v=U(()=>({...t,fileList:l.value,onStart:c,onProgress:h,onSuccess:f,onError:u,onRemove:d}));return yr(()=>{l.value.forEach(p)}),$n(vQ,{accept:_r(t,"accept")}),e({abort:a,submit:s,clearFiles:o,handleStart:c,handleRemove:d}),(g,y)=>(V(),he("div",null,[w(m)&&g.showFileList?(V(),rt(T9,{key:0,disabled:w(r),"list-type":g.listType,files:w(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:w(d)},Rl({append:be(()=>[ue(A9,Hn({ref_key:"uploadRef",ref:i},w(v)),{default:be(()=>[g.$slots.trigger?Qe(g.$slots,"trigger",{key:0}):Je("v-if",!0),!g.$slots.trigger&&g.$slots.default?Qe(g.$slots,"default",{key:1}):Je("v-if",!0)]),_:3},16)]),_:2},[g.$slots.file?{name:"default",fn:be(({file:b,index:_})=>[Qe(g.$slots,"file",{file:b,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Je("v-if",!0),!w(m)||w(m)&&!g.showFileList?(V(),rt(A9,Hn({key:1,ref_key:"uploadRef",ref:i},w(v)),{default:be(()=>[g.$slots.trigger?Qe(g.$slots,"trigger",{key:0}):Je("v-if",!0),!g.$slots.trigger&&g.$slots.default?Qe(g.$slots,"default",{key:1}):Je("v-if",!0)]),_:3},16)):Je("v-if",!0),g.$slots.trigger?Qe(g.$slots,"default",{key:2}):Je("v-if",!0),Qe(g.$slots,"tip"),!w(m)&&g.showFileList?(V(),rt(T9,{key:3,disabled:w(r),"list-type":g.listType,files:w(l),crossorigin:g.crossorigin,"handle-preview":g.onPreview,onRemove:w(d)},Rl({_:2},[g.$slots.file?{name:"default",fn:be(({file:b,index:_})=>[Qe(g.$slots,"file",{file:b,index:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Je("v-if",!0)]))}});var _De=Pt(bDe,[["__file","upload.vue"]]);const wDe=gn(_De),xDe=Rt({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:Ke([String,Array]),default:"Element Plus"},font:{type:Ke(Object)},gap:{type:Ke(Array),default:()=>[100,100]},offset:{type:Ke(Array)}});function SDe(n){return n.replace(/([A-Z])/g,"-$1").toLowerCase()}function CDe(n){return Object.keys(n).map(e=>`${SDe(e)}: ${n[e]};`).join(" ")}function MDe(){return window.devicePixelRatio||1}const TDe=(n,e)=>{let t=!1;return n.removedNodes.length&&e&&(t=Array.from(n.removedNodes).includes(e)),n.type==="attributes"&&n.target===e&&(t=!0),t},_Q=3;function eE(n,e,t=1){const r=document.createElement("canvas"),i=r.getContext("2d"),a=n*t,s=e*t;return r.setAttribute("width",`${a}px`),r.setAttribute("height",`${s}px`),i.save(),[i,r,a,s]}function ADe(){function n(e,t,r,i,a,s,o,l){const[c,u,d,f]=eE(i,a,r);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,d,f);else{const{color:j,fontSize:ee,fontStyle:te,fontWeight:J,fontFamily:Q,textAlign:ie,textBaseline:le}=s,we=Number(ee)*r;c.font=`${te} normal ${J} ${we}px/${a}px ${Q}`,c.fillStyle=j,c.textAlign=ie,c.textBaseline=le;const Ae=Tt(e)?e:[e];Ae==null||Ae.forEach((ke,Fe)=>{c.fillText(ke??"",d/2,Fe*(we+_Q*r))})}const h=Math.PI/180*Number(t),p=Math.max(i,a),[m,v,g]=eE(p,p,r);m.translate(g/2,g/2),m.rotate(h),d>0&&f>0&&m.drawImage(u,-d/2,-f/2);function y(j,ee){const te=j*Math.cos(h)-ee*Math.sin(h),J=j*Math.sin(h)+ee*Math.cos(h);return[te,J]}let b=0,_=0,x=0,S=0;const T=d/2,C=f/2;[[0-T,0-C],[0+T,0-C],[0+T,0+C],[0-T,0+C]].forEach(([j,ee])=>{const[te,J]=y(j,ee);b=Math.min(b,te),_=Math.max(_,te),x=Math.min(x,J),S=Math.max(S,J)});const A=b+g/2,I=x+g/2,D=_-b,L=S-x,F=o*r,B=l*r,k=(D+F)*2,H=L+B,[z,O]=eE(k,H);function W(j=0,ee=0){z.drawImage(v,A,I,D,L,j,ee,D,L)}return W(),W(D+F,-L/2-B/2),W(D+F,+L/2+B/2),[O.toDataURL(),k/r,H/r]}return n}const EDe=Re({name:"ElWatermark"}),IDe=Re({...EDe,props:xDe,setup(n){const e=n,t={position:"relative"},r=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.color)!=null?I:"rgba(0,0,0,.15)"}),i=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontSize)!=null?I:16}),a=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontWeight)!=null?I:"normal"}),s=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontStyle)!=null?I:"normal"}),o=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.fontFamily)!=null?I:"sans-serif"}),l=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.textAlign)!=null?I:"center"}),c=U(()=>{var A,I;return(I=(A=e.font)==null?void 0:A.textBaseline)!=null?I:"hanging"}),u=U(()=>e.gap[0]),d=U(()=>e.gap[1]),f=U(()=>u.value/2),h=U(()=>d.value/2),p=U(()=>{var A,I;return(I=(A=e.offset)==null?void 0:A[0])!=null?I:f.value}),m=U(()=>{var A,I;return(I=(A=e.offset)==null?void 0:A[1])!=null?I:h.value}),v=()=>{const A={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let I=p.value-f.value,D=m.value-h.value;return I>0&&(A.left=`${I}px`,A.width=`calc(100% - ${I}px)`,I=0),D>0&&(A.top=`${D}px`,A.height=`calc(100% - ${D}px)`,D=0),A.backgroundPosition=`${I}px ${D}px`,A},g=Ir(null),y=Ir(),b=ne(!1),_=()=>{y.value&&(y.value.remove(),y.value=void 0)},x=(A,I)=>{var D;g.value&&y.value&&(b.value=!0,y.value.setAttribute("style",CDe({...v(),backgroundImage:`url('${A}')`,backgroundSize:`${Math.floor(I)}px`})),(D=g.value)==null||D.append(y.value),setTimeout(()=>{b.value=!1}))},S=A=>{let I=120,D=64;const L=e.image,F=e.content,B=e.width,k=e.height;if(!L&&A.measureText){A.font=`${Number(i.value)}px ${o.value}`;const H=Tt(F)?F:[F],z=H.map(O=>{const W=A.measureText(O);return[W.width,W.fontBoundingBoxAscent!==void 0?W.fontBoundingBoxAscent+W.fontBoundingBoxDescent:W.actualBoundingBoxAscent+W.actualBoundingBoxDescent]});I=Math.ceil(Math.max(...z.map(O=>O[0]))),D=Math.ceil(Math.max(...z.map(O=>O[1])))*H.length+(H.length-1)*_Q}return[B??I,k??D]},T=ADe(),C=()=>{const I=document.createElement("canvas").getContext("2d"),D=e.image,L=e.content,F=e.rotate;if(I){y.value||(y.value=document.createElement("div"));const B=MDe(),[k,H]=S(I),z=O=>{const[W,j]=T(O||"",F,B,k,H,{color:r.value,fontSize:i.value,fontStyle:s.value,fontWeight:a.value,fontFamily:o.value,textAlign:l.value,textBaseline:c.value},u.value,d.value);x(W,j)};if(D){const O=new Image;O.onload=()=>{z(O)},O.onerror=()=>{z(L)},O.crossOrigin="anonymous",O.referrerPolicy="no-referrer",O.src=D}else z(L)}};return pn(()=>{C()}),dt(()=>e,()=>{C()},{deep:!0,flush:"post"}),yr(()=>{_()}),gY(g,A=>{b.value||A.forEach(I=>{TDe(I,y.value)&&(_(),C())})},{attributes:!0,subtree:!0,childList:!0}),(A,I)=>(V(),he("div",{ref_key:"containerRef",ref:g,style:Bt([t])},[Qe(A.$slots,"default")],4))}});var RDe=Pt(IDe,[["__file","watermark.vue"]]);const PDe=gn(RDe),DDe=Rt({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Ke(Object)},targetAreaClickable:{type:Boolean,default:!0}}),kDe=(n,e,t,r,i)=>{const a=ne(null),s=()=>{let d;return qt(n.value)?d=document.querySelector(n.value):Zt(n.value)?d=n.value():d=n.value,d},o=()=>{const d=s();if(!d||!e.value){a.value=null;return}LDe(d)||d.scrollIntoView(i.value);const{left:f,top:h,width:p,height:m}=d.getBoundingClientRect();a.value={left:f,top:h,width:p,height:m,radius:0}};pn(()=>{dt([e,n],()=>{o()},{immediate:!0}),window.addEventListener("resize",o)}),yr(()=>{window.removeEventListener("resize",o)});const l=d=>{var f;return(f=Tt(t.value.offset)?t.value.offset[d]:t.value.offset)!=null?f:6},c=U(()=>{var d;if(!a.value)return a.value;const f=l(0),h=l(1),p=((d=t.value)==null?void 0:d.radius)||2;return{left:a.value.left-f,top:a.value.top-h,width:a.value.width+f*2,height:a.value.height+h*2,radius:p}}),u=U(()=>{const d=s();return!r.value||!d||!window.DOMRect?d||void 0:{getBoundingClientRect(){var f,h,p,m;return window.DOMRect.fromRect({width:((f=c.value)==null?void 0:f.width)||0,height:((h=c.value)==null?void 0:h.height)||0,x:((p=c.value)==null?void 0:p.left)||0,y:((m=c.value)==null?void 0:m.top)||0})}}});return{mergedPosInfo:c,triggerTarget:u}},KT=Symbol("ElTour");function LDe(n){const e=window.innerWidth||document.documentElement.clientWidth,t=window.innerHeight||document.documentElement.clientHeight,{top:r,right:i,bottom:a,left:s}=n.getBoundingClientRect();return r>=0&&s>=0&&i<=e&&a<=t}const NDe=(n,e,t,r,i,a,s,o)=>{const l=ne(),c=ne(),u=ne({}),d={x:l,y:c,placement:r,strategy:i,middlewareData:u},f=U(()=>{const g=[YZ(w(a)),bRe(),wRe(),ODe()];return w(o)&&w(t)&&g.push(KZ({element:w(t)})),g}),h=async()=>{if(!nr)return;const g=w(n),y=w(e);if(!g||!y)return;const b=await nQ(g,y,{placement:w(r),strategy:w(i),middleware:w(f)});sg(d).forEach(_=>{d[_].value=b[_]})},p=U(()=>{if(!w(n))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:w(s)};const{overflow:g}=w(u);return{position:w(i),zIndex:w(s),top:w(c)!=null?`${w(c)}px`:"",left:w(l)!=null?`${w(l)}px`:"",maxWidth:g!=null&&g.maxWidth?`${g==null?void 0:g.maxWidth}px`:""}}),m=U(()=>{if(!w(o))return{};const{arrow:g}=w(u);return{left:(g==null?void 0:g.x)!=null?`${g==null?void 0:g.x}px`:"",top:(g==null?void 0:g.y)!=null?`${g==null?void 0:g.y}px`:""}});let v;return pn(()=>{const g=w(n),y=w(e);g&&y&&(v=zRe(g,y,h)),Ea(()=>{h()})}),yr(()=>{v&&v()}),{update:h,contentStyle:p,arrowStyle:m}},ODe=()=>({name:"overflow",async fn(n){const e=await d6(n);let t=0;return e.left>0&&(t=e.left),e.right>0&&(t=e.right),{data:{maxWidth:n.rects.floating.width-t}}}}),BDe=Re({name:"ElTourMask",inheritAttrs:!1}),FDe=Re({...BDe,props:DDe,setup(n){const e=n,{ns:t}=Ot(KT),r=U(()=>{var o,l;return(l=(o=e.pos)==null?void 0:o.radius)!=null?l:2}),i=U(()=>{const o=r.value,l=`a${o},${o} 0 0 1`;return{topRight:`${l} ${o},${o}`,bottomRight:`${l} ${-o},${o}`,bottomLeft:`${l} ${-o},${-o}`,topLeft:`${l} ${o},${-o}`}}),a=U(()=>{const o=window.innerWidth,l=window.innerHeight,c=i.value,u=`M${o},0 L0,0 L0,${l} L${o},${l} L${o},0 Z`,d=r.value;return e.pos?`${u} M${e.pos.left+d},${e.pos.top} h${e.pos.width-d*2} ${c.topRight} v${e.pos.height-d*2} ${c.bottomRight} h${-e.pos.width+d*2} ${c.bottomLeft} v${-e.pos.height+d*2} ${c.topLeft} z`:u}),s=U(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return zL(_r(e,"visible"),{ns:t}),(o,l)=>o.visible?(V(),he("div",Hn({key:0,class:w(t).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:o.zIndex,pointerEvents:o.pos&&o.targetAreaClickable?"none":"auto"}},o.$attrs),[(V(),he("svg",{style:{width:"100%",height:"100%"}},[ve("path",{class:Z(w(t).e("hollow")),style:Bt(w(s)),d:w(a)},null,14,["d"])]))],16)):Je("v-if",!0)}});var zDe=Pt(FDe,[["__file","mask.vue"]]);const UDe=["absolute","fixed"],HDe=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],y6=Rt({placement:{type:Ke(String),values:HDe,default:"bottom"},reference:{type:Ke(Object),default:null},strategy:{type:Ke(String),values:UDe,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),VDe={close:()=>!0},$De=Re({name:"ElTourContent"}),GDe=Re({...$De,props:y6,emits:VDe,setup(n,{emit:e}){const t=n,r=ne(t.placement),i=ne(t.strategy),a=ne(null),s=ne(null);dt(()=>t.placement,()=>{r.value=t.placement});const{contentStyle:o,arrowStyle:l}=NDe(_r(t,"reference"),a,s,r,i,_r(t,"offset"),_r(t,"zIndex"),_r(t,"showArrow")),c=U(()=>r.value.split("-")[0]),{ns:u}=Ot(KT),d=()=>{e("close")},f=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(V(),he("div",{ref_key:"contentRef",ref:a,style:Bt(w(o)),class:Z(w(u).e("content")),"data-side":w(c),tabindex:"-1"},[ue(w(Jg),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:d,onFocusoutPrevented:f},{default:be(()=>[Qe(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(V(),he("span",{key:0,ref_key:"arrowRef",ref:s,style:Bt(w(l)),class:Z(w(u).e("arrow"))},null,6)):Je("v-if",!0)],14,["data-side"]))}});var WDe=Pt(GDe,[["__file","content.vue"]]),qDe=Re({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(n,{slots:e,emit:t}){let r=0;return()=>{var i,a;const s=(i=e.default)==null?void 0:i.call(e),o=[];let l=0;function c(u){Tt(u)&&u.forEach(d=>{var f;((f=(d==null?void 0:d.type)||{})==null?void 0:f.name)==="ElTourStep"&&(o.push(d),l+=1)})}return s.length&&c(Ff((a=s[0])==null?void 0:a.children)),r!==l&&(r=l,t("update-total",l)),o.length?o[n.current]:null}}});const KDe=Rt({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:kr},placement:y6.placement,contentStyle:{type:Ke([Object])},mask:{type:Ke([Boolean,Object]),default:!0},gap:{type:Ke(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:Ke([Boolean,Object]),default:()=>({block:"center"})},type:{type:Ke(String)},appendTo:{type:Ke([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),YDe={[Tn]:n=>Vr(n),"update:current":n=>en(n),close:n=>en(n),finish:()=>!0,change:n=>en(n)},XDe=Re({name:"ElTour"}),jDe=Re({...XDe,props:KDe,emits:YDe,setup(n,{emit:e}){const t=n,r=bt("tour"),i=ne(0),a=ne(),s=yY(t,"current",e,{passive:!0}),o=U(()=>{var M;return(M=a.value)==null?void 0:M.target}),l=U(()=>[r.b(),v.value==="primary"?r.m("primary"):""]),c=U(()=>{var M;return((M=a.value)==null?void 0:M.placement)||t.placement}),u=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.contentStyle)!=null?A:t.contentStyle}),d=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.mask)!=null?A:t.mask}),f=U(()=>!!d.value&&t.modelValue),h=U(()=>Vr(d.value)?void 0:d.value),p=U(()=>{var M,A;return!!o.value&&((A=(M=a.value)==null?void 0:M.showArrow)!=null?A:t.showArrow)}),m=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.scrollIntoViewOptions)!=null?A:t.scrollIntoViewOptions}),v=U(()=>{var M,A;return(A=(M=a.value)==null?void 0:M.type)!=null?A:t.type}),{nextZIndex:g}=Zg(),y=g(),b=U(()=>{var M;return(M=t.zIndex)!=null?M:y}),{mergedPosInfo:_,triggerTarget:x}=kDe(o,_r(t,"modelValue"),_r(t,"gap"),d,m);dt(()=>t.modelValue,M=>{M||(s.value=0)});const S=()=>{t.closeOnPressEscape&&(e("update:modelValue",!1),e("close",s.value))},T=M=>{i.value=M},C=na();return $n(KT,{currentStep:a,current:s,total:i,showClose:_r(t,"showClose"),closeIcon:_r(t,"closeIcon"),mergedType:v,ns:r,slots:C,updateModelValue(M){e("update:modelValue",M)},onClose(){e("close",s.value)},onFinish(){e("finish")},onChange(){e("change",s.value)}}),(M,A)=>(V(),he(zt,null,[ue(w(ey),{to:M.appendTo},{default:be(()=>{var I,D;return[ve("div",Hn({class:w(l)},M.$attrs),[ue(zDe,{visible:w(f),fill:(I=w(h))==null?void 0:I.color,style:Bt((D=w(h))==null?void 0:D.style),pos:w(_),"z-index":w(b),"target-area-clickable":M.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),M.modelValue?(V(),rt(WDe,{key:w(s),reference:w(x),placement:w(c),"show-arrow":w(p),"z-index":w(b),style:Bt(w(u)),onClose:S},{default:be(()=>[ue(w(qDe),{current:w(s),onUpdateTotal:T},{default:be(()=>[Qe(M.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Je("v-if",!0)],16)]}),_:3},8,["to"]),Je(" just for IDE "),Je("v-if",!0)],64))}});var ZDe=Pt(jDe,[["__file","tour.vue"]]);const QDe=Rt({target:{type:Ke([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:kr},showArrow:{type:Boolean,default:void 0},placement:y6.placement,mask:{type:Ke([Boolean,Object]),default:void 0},contentStyle:{type:Ke([Object])},prevButtonProps:{type:Ke(Object)},nextButtonProps:{type:Ke(Object)},scrollIntoViewOptions:{type:Ke([Boolean,Object]),default:void 0},type:{type:Ke(String)}}),JDe={close:()=>!0},eke=Re({name:"ElTourStep"}),tke=Re({...eke,props:QDe,emits:JDe,setup(n,{emit:e}){const t=n,{Close:r}=lL,{t:i}=rr(),{currentStep:a,current:s,total:o,showClose:l,closeIcon:c,mergedType:u,ns:d,slots:f,updateModelValue:h,onClose:p,onFinish:m,onChange:v}=Ot(KT);dt(t,C=>{a.value=C},{immediate:!0});const g=U(()=>{var C;return(C=t.showClose)!=null?C:l.value}),y=U(()=>{var C,M;return(M=(C=t.closeIcon)!=null?C:c.value)!=null?M:r}),b=C=>{if(C)return Sme(C,["children","onClick"])},_=()=>{var C,M;s.value-=1,(C=t.prevButtonProps)!=null&&C.onClick&&((M=t.prevButtonProps)==null||M.onClick()),v()},x=()=>{var C;s.value>=o.value-1?S():s.value+=1,(C=t.nextButtonProps)!=null&&C.onClick&&t.nextButtonProps.onClick(),v()},S=()=>{T(),m()},T=()=>{h(!1),p(),e("close")};return(C,M)=>(V(),he(zt,null,[w(g)?(V(),he("button",{key:0,"aria-label":"Close",class:Z(w(d).e("closebtn")),type:"button",onClick:T},[ue(w(Vt),{class:Z(w(d).e("close"))},{default:be(()=>[(V(),rt(Nn(w(y))))]),_:1},8,["class"])],2)):Je("v-if",!0),ve("header",{class:Z([w(d).e("header"),{"show-close":w(l)}])},[Qe(C.$slots,"header",{},()=>[ve("span",{role:"heading",class:Z(w(d).e("title"))},Ct(C.title),3)])],2),ve("div",{class:Z(w(d).e("body"))},[Qe(C.$slots,"default",{},()=>[ve("span",null,Ct(C.description),1)])],2),ve("footer",{class:Z(w(d).e("footer"))},[ve("div",{class:Z(w(d).b("indicators"))},[w(f).indicators?(V(),rt(Nn(w(f).indicators),{key:0,current:w(s),total:w(o)},null,8,["current","total"])):(V(!0),he(zt,{key:1},In(w(o),(A,I)=>(V(),he("span",{key:A,class:Z([w(d).b("indicator"),I===w(s)?"is-active":""])},null,2))),128))],2),ve("div",{class:Z(w(d).b("buttons"))},[w(s)>0?(V(),rt(w(Ia),Hn({key:0,size:"small",type:w(u)},b(C.prevButtonProps),{onClick:_}),{default:be(()=>{var A,I;return[dn(Ct((I=(A=C.prevButtonProps)==null?void 0:A.children)!=null?I:w(i)("el.tour.previous")),1)]}),_:1},16,["type"])):Je("v-if",!0),w(s)<=w(o)-1?(V(),rt(w(Ia),Hn({key:1,size:"small",type:w(u)==="primary"?"default":"primary"},b(C.nextButtonProps),{onClick:x}),{default:be(()=>{var A,I;return[dn(Ct((I=(A=C.nextButtonProps)==null?void 0:A.children)!=null?I:w(s)===w(o)-1?w(i)("el.tour.finish"):w(i)("el.tour.next")),1)]}),_:1},16,["type"])):Je("v-if",!0)],2)],2)],64))}});var wQ=Pt(tke,[["__file","step.vue"]]);const nke=gn(ZDe,{TourStep:wQ}),rke=Ti(wQ),ike=Rt({container:{type:Ke([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:Ke(String),default:"default"},direction:{type:Ke(String),default:"vertical"}}),ake={change:n=>qt(n),click:(n,e)=>n instanceof MouseEvent&&(qt(e)||Tr(e))},xQ=Symbol("anchor"),lx=n=>{if(!nr||n==="")return null;if(qt(n))try{return document.querySelector(n)}catch{return null}return n};function ske(n){let e=0;const t=(...r)=>{e&&lm(e),e=Jf(()=>{n(...r),e=0})};return t.cancel=()=>{lm(e),e=0},t}const oke=Re({name:"ElAnchor"}),lke=Re({...oke,props:ike,emits:ake,setup(n,{expose:e,emit:t}){const r=n,i=ne(""),a=ne(null),s=ne(null),o=ne(),l={};let c=!1,u=0;const d=bt("anchor"),f=U(()=>[d.b(),r.type==="underline"?d.m("underline"):"",d.m(r.direction)]),h=C=>{l[C.href]=C.el},p=C=>{delete l[C]},m=C=>{i.value!==C&&(i.value=C,t("change",C))};let v=null;const g=C=>{if(!o.value)return;const M=lx(C);if(!M)return;v&&v(),c=!0;const A=z7(M,o.value),I=$5(M,A),D=A.scrollHeight-A.clientHeight,L=Math.min(I-r.offset,D);v=I0e(o.value,u,L,r.duration,()=>{setTimeout(()=>{c=!1},20)})},y=C=>{C&&(m(C),g(C))},b=(C,M)=>{t("click",C,M),y(M)},_=ske(()=>{o.value&&(u=U7(o.value));const C=x();c||Tr(C)||m(C)}),x=()=>{if(!o.value)return;const C=U7(o.value),M=[];for(const A of Object.keys(l)){const I=lx(A);if(!I)continue;const D=z7(I,o.value),L=$5(I,D);M.push({top:L-r.offset-r.bound,href:A})}M.sort((A,I)=>A.top-I.top);for(let A=0;A<M.length;A++){const I=M[A],D=M[A+1];if(A===0&&C===0)return"";if(I.top<=C&&(!D||D.top>C))return I.href}},S=()=>{const C=lx(r.container);!C||TT(C)?o.value=window:o.value=C};Ar(o,"scroll",_);const T=U(()=>{if(!a.value||!s.value||!i.value)return{};const C=l[i.value];if(!C)return{};const M=a.value.getBoundingClientRect(),A=s.value.getBoundingClientRect(),I=C.getBoundingClientRect();return r.direction==="horizontal"?{left:`${I.left-M.left}px`,width:`${I.width}px`,opacity:1}:{top:`${I.top-M.top+(I.height-A.height)/2}px`,opacity:1}});return pn(()=>{S();const C=decodeURIComponent(window.location.hash);lx(C)?y(C):_()}),dt(()=>r.container,()=>{S()}),$n(xQ,{ns:d,direction:r.direction,currentAnchor:i,addLink:h,removeLink:p,handleClick:b}),e({scrollTo:y}),(C,M)=>(V(),he("div",{ref_key:"anchorRef",ref:a,class:Z(w(f))},[C.marker?(V(),he("div",{key:0,ref_key:"markerRef",ref:s,class:Z(w(d).e("marker")),style:Bt(w(T))},null,6)):Je("v-if",!0),ve("div",{class:Z(w(d).e("list"))},[Qe(C.$slots,"default")],2)],2))}});var cke=Pt(lke,[["__file","anchor.vue"]]);const uke=Rt({title:String,href:String}),dke=Re({name:"ElAnchorLink"}),fke=Re({...dke,props:uke,setup(n){const e=n,t=ne(null),{ns:r,direction:i,currentAnchor:a,addLink:s,removeLink:o,handleClick:l}=Ot(xQ),c=U(()=>[r.e("link"),r.is("active",a.value===e.href)]),u=d=>{l(d,e.href)};return dt(()=>e.href,(d,f)=>{Yt(()=>{f&&o(f),d&&s({href:d,el:t.value})})}),pn(()=>{const{href:d}=e;d&&s({href:d,el:t.value})}),yr(()=>{const{href:d}=e;d&&o(d)}),(d,f)=>(V(),he("div",{class:Z(w(r).e("item"))},[ve("a",{ref_key:"linkRef",ref:t,class:Z(w(c)),href:d.href,onClick:u},[Qe(d.$slots,"default",{},()=>[dn(Ct(d.title),1)])],10,["href"]),d.$slots["sub-link"]&&w(i)==="vertical"?(V(),he("div",{key:0,class:Z(w(r).e("list"))},[Qe(d.$slots,"sub-link")],2)):Je("v-if",!0)],2))}});var SQ=Pt(fke,[["__file","anchor-link.vue"]]);const hke=gn(cke,{AnchorLink:SQ}),pke=Ti(SQ),mke=Rt({direction:{type:Ke(String),default:"horizontal"},options:{type:Ke(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:ta,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...$a(["ariaLabel"])}),vke={[Tn]:n=>qt(n)||en(n)||Vr(n),[Rr]:n=>qt(n)||en(n)||Vr(n)},gke=Re({name:"ElSegmented"}),yke=Re({...gke,props:mke,emits:vke,setup(n,{emit:e}){const t=n,r=bt("segmented"),i=Ha(),a=Zi(),s=os(),{formItem:o}=ss(),{inputId:l,isLabeledByFormItem:c}=Fl(t,{formItemContext:o}),u=ne(null),d=Qme(),f=mr({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),h=M=>{const A=p(M);e(Tn,A),e(Rr,A)},p=M=>Pn(M)?M.value:M,m=M=>Pn(M)?M.label:M,v=M=>!!(s.value||Pn(M)&&M.disabled),g=M=>t.modelValue===p(M),y=M=>t.options.find(A=>p(A)===M),b=M=>[r.e("item"),r.is("selected",g(M)),r.is("disabled",v(M))],_=()=>{if(!u.value)return;const M=u.value.querySelector(".is-selected"),A=u.value.querySelector(".is-selected input");if(!M||!A){f.width=0,f.height=0,f.translateX=0,f.translateY=0,f.focusVisible=!1;return}const I=M.getBoundingClientRect();f.isInit=!0,t.direction==="vertical"?(f.height=I.height,f.translateY=M.offsetTop):(f.width=I.width,f.translateX=M.offsetLeft);try{f.focusVisible=A.matches(":focus-visible")}catch{}},x=U(()=>[r.b(),r.m(a.value),r.is("block",t.block)]),S=U(()=>({width:t.direction==="vertical"?"100%":`${f.width}px`,height:t.direction==="vertical"?`${f.height}px`:"100%",transform:t.direction==="vertical"?`translateY(${f.translateY}px)`:`translateX(${f.translateX}px)`,display:f.isInit?"block":"none"})),T=U(()=>[r.e("item-selected"),r.is("disabled",v(y(t.modelValue))),r.is("focus-visible",f.focusVisible)]),C=U(()=>t.name||i.value);return ui(u,_),dt(d,_),dt(()=>t.modelValue,()=>{var M;_(),t.validateEvent&&((M=o==null?void 0:o.validate)==null||M.call(o,"change").catch(A=>void 0))},{flush:"post"}),(M,A)=>M.options.length?(V(),he("div",{key:0,id:w(l),ref_key:"segmentedRef",ref:u,class:Z(w(x)),role:"radiogroup","aria-label":w(c)?void 0:M.ariaLabel||"segmented","aria-labelledby":w(c)?w(o).labelId:void 0},[ve("div",{class:Z([w(r).e("group"),w(r).m(t.direction)])},[ve("div",{style:Bt(w(S)),class:Z(w(T))},null,6),(V(!0),he(zt,null,In(M.options,(I,D)=>(V(),he("label",{key:D,class:Z(b(I))},[ve("input",{class:Z(w(r).e("item-input")),type:"radio",name:w(C),disabled:v(I),checked:g(I),onChange:L=>h(I)},null,42,["name","disabled","checked","onChange"]),ve("div",{class:Z(w(r).e("item-label"))},[Qe(M.$slots,"default",{item:I},()=>[dn(Ct(m(I)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):Je("v-if",!0)}});var bke=Pt(yke,[["__file","segmented.vue"]]);const _ke=gn(bke),wke=(n,e)=>{const t=n.toLowerCase();return(e.label||e.value).toLowerCase().includes(t)},xke=(n,e,t)=>{const{selectionEnd:r}=n;if(r===null)return;const i=n.value,a=ws(e);let s=-1,o;for(let l=r-1;l>=0;--l){const c=i[l];if(c===t||c===`
`||c==="\r"){s=l;continue}if(a.includes(c)){const u=s===-1?r:s;o={pattern:i.slice(l+1,u),start:l+1,end:u,prefix:c,prefixIndex:l,splitIndex:s,selectionEnd:r};break}}return o},Ske=(n,e={debug:!1,useSelectionEnd:!1})=>{const t=n.selectionStart!==null?n.selectionStart:0,r=n.selectionEnd!==null?n.selectionEnd:0,i=e.useSelectionEnd?r:t,a=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(e.debug){const f=document.querySelector("#input-textarea-caret-position-mirror-div");f!=null&&f.parentNode&&f.parentNode.removeChild(f)}const s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);const o=s.style,l=window.getComputedStyle(n),c=n.nodeName==="INPUT";o.whiteSpace=c?"nowrap":"pre-wrap",c||(o.wordWrap="break-word"),o.position="absolute",e.debug||(o.visibility="hidden"),a.forEach(f=>{if(c&&f==="lineHeight")if(l.boxSizing==="border-box"){const h=Number.parseInt(l.height),p=Number.parseInt(l.paddingTop)+Number.parseInt(l.paddingBottom)+Number.parseInt(l.borderTopWidth)+Number.parseInt(l.borderBottomWidth),m=p+Number.parseInt(l.lineHeight);h>m?o.lineHeight=`${h-p}px`:h===m?o.lineHeight=l.lineHeight:o.lineHeight="0"}else o.lineHeight=l.height;else o[f]=l[f]}),DT()?n.scrollHeight>Number.parseInt(l.height)&&(o.overflowY="scroll"):o.overflow="hidden",s.textContent=n.value.slice(0,Math.max(0,i)),c&&s.textContent&&(s.textContent=s.textContent.replace(/\s/g," "));const u=document.createElement("span");u.textContent=n.value.slice(Math.max(0,i))||".",u.style.position="relative",u.style.left=`${-n.scrollLeft}px`,u.style.top=`${-n.scrollTop}px`,s.appendChild(u);const d={top:u.offsetTop+Number.parseInt(l.borderTopWidth),left:u.offsetLeft+Number.parseInt(l.borderLeftWidth),height:Number.parseInt(l.fontSize)*1.5};return e.debug?u.style.backgroundColor="#aaa":document.body.removeChild(s),d.left>=n.clientWidth&&(d.left=n.clientWidth),d},Cke=Rt({...uL,options:{type:Ke(Array),default:()=>[]},prefix:{type:Ke([String,Array]),default:"@",validator:n=>qt(n)?n.length===1:n.every(e=>qt(e)&&e.length===1)},split:{type:String,default:" ",validator:n=>n.length===1},filterOption:{type:Ke([Boolean,Function]),default:()=>wke,validator:n=>n===!1?!0:Zt(n)},placement:{type:Ke(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Ke(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Ke(Object),default:()=>({})}}),Mke={[Tn]:n=>qt(n),search:(n,e)=>qt(n)&&qt(e),select:(n,e)=>qt(n.value)&&qt(e),focus:n=>n instanceof FocusEvent,blur:n=>n instanceof FocusEvent},Tke=Rt({options:{type:Ke(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),Ake={select:n=>qt(n.value)},Eke=Re({name:"ElMentionDropdown"}),Ike=Re({...Eke,props:Tke,emits:Ake,setup(n,{expose:e,emit:t}){const r=n,i=bt("mention"),{t:a}=rr(),s=ne(-1),o=ne(),l=ne(),c=ne(),u=(b,_)=>[i.be("dropdown","item"),i.is("hovering",s.value===_),i.is("disabled",b.disabled||r.disabled)],d=b=>{b.disabled||r.disabled||t("select",b)},f=b=>{s.value=b},h=U(()=>r.disabled||r.options.every(b=>b.disabled)),p=U(()=>r.options[s.value]),m=()=>{p.value&&t("select",p.value)},v=b=>{const{options:_}=r;if(_.length===0||h.value)return;b==="next"?(s.value++,s.value===_.length&&(s.value=0)):b==="prev"&&(s.value--,s.value<0&&(s.value=_.length-1));const x=_[s.value];if(x.disabled){v(b);return}Yt(()=>g(x))},g=b=>{var _,x,S,T;const{options:C}=r,M=C.findIndex(I=>I.value===b.value),A=(_=l.value)==null?void 0:_[M];if(A){const I=(S=(x=c.value)==null?void 0:x.querySelector)==null?void 0:S.call(x,`.${i.be("dropdown","wrap")}`);I&&nL(I,A)}(T=o.value)==null||T.handleScroll()};return dt(()=>r.options,()=>{h.value||r.options.length===0?s.value=-1:s.value=0},{immediate:!0}),e({hoveringIndex:s,navigateOptions:v,selectHoverOption:m,hoverOption:p}),(b,_)=>(V(),he("div",{ref_key:"dropdownRef",ref:c,class:Z(w(i).b("dropdown"))},[b.$slots.header?(V(),he("div",{key:0,class:Z(w(i).be("dropdown","header"))},[Qe(b.$slots,"header")],2)):Je("v-if",!0),Cn(ue(w(_u),{id:b.contentId,ref_key:"scrollbarRef",ref:o,tag:"ul","wrap-class":w(i).be("dropdown","wrap"),"view-class":w(i).be("dropdown","list"),role:"listbox","aria-label":b.ariaLabel,"aria-orientation":"vertical"},{default:be(()=>[(V(!0),he(zt,null,In(b.options,(x,S)=>(V(),he("li",{id:`${b.contentId}-${S}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:S,class:Z(u(x,S)),role:"option","aria-disabled":x.disabled||b.disabled||void 0,"aria-selected":s.value===S,onMousemove:T=>f(S),onClick:sn(T=>d(x),["stop"])},[Qe(b.$slots,"label",{item:x,index:S},()=>{var T;return[ve("span",null,Ct((T=x.label)!=null?T:x.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[fr,b.options.length>0&&!b.loading]]),b.loading?(V(),he("div",{key:1,class:Z(w(i).be("dropdown","loading"))},[Qe(b.$slots,"loading",{},()=>[dn(Ct(w(a)("el.mention.loading")),1)])],2)):Je("v-if",!0),b.$slots.footer?(V(),he("div",{key:2,class:Z(w(i).be("dropdown","footer"))},[Qe(b.$slots,"footer")],2)):Je("v-if",!0)],2))}});var Rke=Pt(Ike,[["__file","mention-dropdown.vue"]]);const Pke=Re({name:"ElMention",inheritAttrs:!1}),Dke=Re({...Pke,props:Cke,emits:Mke,setup(n,{expose:e,emit:t}){const r=n,i=U(()=>cc(r,Object.keys(uL))),a=bt("mention"),s=os(),o=Ha(),l=ne(),c=ne(),u=ne(),d=ne(!1),f=ne(),h=ne(),p=U(()=>r.showArrow?r.placement:`${r.placement}-start`),m=U(()=>r.showArrow?["bottom","top"]:["bottom-start","top-start"]),v=U(()=>{const{filterOption:D,options:L}=r;return!h.value||!D?L:L.filter(F=>D(h.value.pattern,F))}),g=U(()=>d.value&&(!!v.value.length||r.loading)),y=U(()=>{var D;return`${o.value}-${(D=u.value)==null?void 0:D.hoveringIndex}`}),b=D=>{t("update:modelValue",D),M()},_=D=>{var L,F,B,k;if(!(!("code"in D)||(L=l.value)!=null&&L.isComposing))switch(D.code){case Nt.left:case Nt.right:M();break;case Nt.up:case Nt.down:if(!d.value)return;D.preventDefault(),(F=u.value)==null||F.navigateOptions(D.code===Nt.up?"prev":"next");break;case Nt.enter:case Nt.numpadEnter:if(!d.value)return;D.preventDefault(),(B=u.value)!=null&&B.hoverOption?(k=u.value)==null||k.selectHoverOption():d.value=!1;break;case Nt.esc:if(!d.value)return;D.preventDefault(),d.value=!1;break;case Nt.backspace:if(r.whole&&h.value){const{splitIndex:H,selectionEnd:z,pattern:O,prefixIndex:W,prefix:j}=h.value,ee=C();if(!ee)return;const te=ee.value,J=r.options.find(ie=>ie.value===O);if((Zt(r.checkIsWhole)?r.checkIsWhole(O,j):J)&&H!==-1&&H+1===z){D.preventDefault();const ie=te.slice(0,W)+te.slice(H+1);t(Tn,ie);const le=W;Yt(()=>{ee.selectionStart=le,ee.selectionEnd=le,I()})}}}},{wrapperRef:x}=wh(l,{beforeFocus(){return s.value},afterFocus(){M()},beforeBlur(D){var L;return(L=c.value)==null?void 0:L.isFocusInsideContent(D)},afterBlur(){d.value=!1}}),S=()=>{M()},T=D=>{if(!h.value)return;const L=C();if(!L)return;const F=L.value,{split:B}=r,k=F.slice(h.value.end),H=k.startsWith(B),z=`${D.value}${H?"":B}`,O=F.slice(0,h.value.start)+z+k;t(Tn,O),t("select",D,h.value.prefix);const W=h.value.start+z.length+(H?1:0);Yt(()=>{L.selectionStart=W,L.selectionEnd=W,L.focus(),I()})},C=()=>{var D,L;return r.type==="textarea"?(D=l.value)==null?void 0:D.textarea:(L=l.value)==null?void 0:L.input},M=()=>{setTimeout(()=>{A(),I(),Yt(()=>{var D;return(D=c.value)==null?void 0:D.updatePopper()})},0)},A=()=>{const D=C();if(!D)return;const L=Ske(D),F=D.getBoundingClientRect(),B=l.value.$el.getBoundingClientRect();f.value={position:"absolute",width:0,height:`${L.height}px`,left:`${L.left+F.left-B.left}px`,top:`${L.top+F.top-B.top}px`}},I=()=>{const D=C();if(document.activeElement!==D){d.value=!1;return}const{prefix:L,split:F}=r;if(h.value=xke(D,L,F),h.value&&h.value.splitIndex===-1){d.value=!0,t("search",h.value.pattern,h.value.prefix);return}d.value=!1};return e({input:l,tooltip:c,dropdownVisible:g}),(D,L)=>(V(),he("div",{ref_key:"wrapperRef",ref:x,class:Z(w(a).b())},[ue(w(Cs),Hn(Hn(w(i),D.$attrs),{ref_key:"elInputRef",ref:l,"model-value":D.modelValue,disabled:w(s),role:w(g)?"combobox":void 0,"aria-activedescendant":w(g)?w(y)||"":void 0,"aria-controls":w(g)?w(o):void 0,"aria-expanded":w(g)||void 0,"aria-label":D.ariaLabel,"aria-autocomplete":w(g)?"none":void 0,"aria-haspopup":w(g)?"listbox":void 0,onInput:b,onKeydown:_,onMousedown:S}),Rl({_:2},[In(D.$slots,(F,B)=>({name:B,fn:be(k=>[Qe(D.$slots,B,oc(jf(k)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),ue(w(is),{ref_key:"tooltipRef",ref:c,visible:w(g),"popper-class":[w(a).e("popper"),D.popperClass],"popper-options":D.popperOptions,placement:w(p),"fallback-placements":w(m),effect:"light",pure:"",offset:D.offset,"show-arrow":D.showArrow},{default:be(()=>[ve("div",{style:Bt(f.value)},null,4)]),content:be(()=>{var F;return[ue(Rke,{ref_key:"dropdownRef",ref:u,options:w(v),disabled:w(s),loading:D.loading,"content-id":w(o),"aria-label":D.ariaLabel,onSelect:T,onClick:sn((F=l.value)==null?void 0:F.focus,["stop"])},Rl({_:2},[In(D.$slots,(B,k)=>({name:k,fn:be(H=>[Qe(D.$slots,k,oc(jf(H)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var kke=Pt(Dke,[["__file","mention.vue"]]);const Lke=gn(kke);var Nke=[L0e,rge,j1e,w5e,nbe,cbe,fX,wbe,xbe,Ia,bX,f_e,g_e,L_e,N_e,Nwe,HX,Hwe,Ll,X_e,DX,qwe,lxe,cxe,OT,Nxe,Fxe,jxe,Zxe,Qxe,Jxe,eSe,d2e,w2e,x2e,L2e,_j,G2e,kCe,LCe,NCe,Ij,LMe,NMe,Vt,qMe,Dj,Cs,kj,lTe,pTe,LTe,NTe,OTe,BTe,$Te,LAe,UAe,XAe,oX,Vj,zX,lwe,owe,a3e,u3e,g3e,_u,cm,DC,pAe,j3e,aEe,sEe,MEe,REe,tZ,HEe,jEe,ZEe,r4e,dIe,fIe,_5e,O5e,B5e,fg,V5e,PSe,Y5e,J5e,eRe,is,rPe,vPe,WC,NPe,QPe,wDe,PDe,nke,rke,hke,pke,_ke,Lke];const dl="ElInfiniteScroll",Oke=50,Bke=200,Fke=0,zke={delay:{type:Number,default:Bke},distance:{type:Number,default:Fke},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},b6=(n,e)=>Object.entries(zke).reduce((t,[r,i])=>{var a,s;const{type:o,default:l}=i,c=n.getAttribute(`infinite-scroll-${r}`);let u=(s=(a=e[c])!=null?a:c)!=null?s:l;return u=u==="false"?!1:u,u=o(u),t[r]=Number.isNaN(u)?l:u,t},{}),CQ=n=>{const{observer:e}=n[dl];e&&(e.disconnect(),delete n[dl].observer)},Uke=(n,e)=>{const{container:t,containerEl:r,instance:i,observer:a,lastScrollTop:s}=n[dl],{disabled:o,distance:l}=b6(n,i),{clientHeight:c,scrollHeight:u,scrollTop:d}=r,f=d-s;if(n[dl].lastScrollTop=d,a||o||f<0)return;let h=!1;if(t===n)h=u-(c+d)<=l;else{const{clientTop:p,scrollHeight:m}=n,v=$5(n,r);h=d+c>=v+p+m-l}h&&e.call(i)};function tE(n,e){const{containerEl:t,instance:r}=n[dl],{disabled:i}=b6(n,r);i||t.clientHeight===0||(t.scrollHeight<=t.clientHeight?e.call(r):CQ(n))}const Hke={async mounted(n,e){const{instance:t,value:r}=e;Zt(r)||fa(dl,"'v-infinite-scroll' binding value must be a function"),await Yt();const{delay:i,immediate:a}=b6(n,t),s=tL(n,!0),o=s===window?document.documentElement:s,l=Kp(Uke.bind(null,n,r),i);if(s){if(n[dl]={instance:t,container:s,containerEl:o,delay:i,cb:r,onScroll:l,lastScrollTop:o.scrollTop},a){const c=new MutationObserver(Kp(tE.bind(null,n,r),Oke));n[dl].observer=c,c.observe(n,{childList:!0,subtree:!0}),tE(n,r)}s.addEventListener("scroll",l)}},unmounted(n){if(!n[dl])return;const{container:e,onScroll:t}=n[dl];e==null||e.removeEventListener("scroll",t),CQ(n)},async updated(n){if(!n[dl])await Yt();else{const{containerEl:e,cb:t,observer:r}=n[dl];e.clientHeight&&r&&tE(n,t)}}},PR=Hke;PR.install=n=>{n.directive("InfiniteScroll",PR)};const Vke=PR;function $ke(n){let e;const t=ne(!1),r=mr({...n,originalPosition:"",originalOverflow:"",visible:!1});function i(f){r.text=f}function a(){const f=r.parent,h=d.ns;if(!f.vLoadingAddClassList){let p=f.getAttribute("loading-number");p=Number.parseInt(p)-1,p?f.setAttribute("loading-number",p.toString()):(Ts(f,h.bm("parent","relative")),f.removeAttribute("loading-number")),Ts(f,h.bm("parent","hidden"))}s(),u.unmount()}function s(){var f,h;(h=(f=d.$el)==null?void 0:f.parentNode)==null||h.removeChild(d.$el)}function o(){var f;n.beforeClose&&!n.beforeClose()||(t.value=!0,clearTimeout(e),e=setTimeout(l,400),r.visible=!1,(f=n.closed)==null||f.call(n))}function l(){if(!t.value)return;const f=r.parent;t.value=!1,f.vLoadingAddClassList=void 0,a()}const c=Re({name:"ElLoading",setup(f,{expose:h}){const{ns:p,zIndex:m}=IT("loading");return h({ns:p,zIndex:m}),()=>{const v=r.spinner||r.svg,g=Gt("svg",{class:"circular",viewBox:r.svgViewBox?r.svgViewBox:"0 0 50 50",...v?{innerHTML:v}:{}},[Gt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),y=r.text?Gt("p",{class:p.b("text")},[r.text]):void 0;return Gt(da,{name:p.b("fade"),onAfterLeave:l},{default:be(()=>[Cn(ue("div",{style:{backgroundColor:r.background||""},class:[p.b("mask"),r.customClass,r.fullscreen?"is-fullscreen":""]},[Gt("div",{class:p.b("spinner")},[g,y])]),[[fr,r.visible]])])})}}}),u=CK(c),d=u.mount(document.createElement("div"));return{...ua(r),setText:i,removeElLoadingChild:s,close:o,handleAfterLeave:l,vm:d,get $el(){return d.$el}}}let cx;const DR=function(n={}){if(!nr)return;const e=Gke(n);if(e.fullscreen&&cx)return cx;const t=$ke({...e,closed:()=>{var i;(i=e.closed)==null||i.call(e),e.fullscreen&&(cx=void 0)}});Wke(e,e.parent,t),R9(e,e.parent,t),e.parent.vLoadingAddClassList=()=>R9(e,e.parent,t);let r=e.parent.getAttribute("loading-number");return r?r=`${Number.parseInt(r)+1}`:r="1",e.parent.setAttribute("loading-number",r),e.parent.appendChild(t.$el),Yt(()=>t.visible.value=e.visible),e.fullscreen&&(cx=t),t},Gke=n=>{var e,t,r,i;let a;return qt(n.target)?a=(e=document.querySelector(n.target))!=null?e:document.body:a=n.target||document.body,{parent:a===document.body||n.body?document.body:a,background:n.background||"",svg:n.svg||"",svgViewBox:n.svgViewBox||"",spinner:n.spinner||!1,text:n.text||"",fullscreen:a===document.body&&((t=n.fullscreen)!=null?t:!0),lock:(r=n.lock)!=null?r:!1,customClass:n.customClass||"",visible:(i=n.visible)!=null?i:!0,beforeClose:n.beforeClose,closed:n.closed,target:a}},Wke=async(n,e,t)=>{const{nextZIndex:r}=t.vm.zIndex||t.vm._.exposed.zIndex,i={};if(n.fullscreen)t.originalPosition.value=td(document.body,"position"),t.originalOverflow.value=td(document.body,"overflow"),i.zIndex=r();else if(n.parent===document.body){t.originalPosition.value=td(document.body,"position"),await Yt();for(const a of["top","left"]){const s=a==="top"?"scrollTop":"scrollLeft";i[a]=`${n.target.getBoundingClientRect()[a]+document.body[s]+document.documentElement[s]-Number.parseInt(td(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])i[a]=`${n.target.getBoundingClientRect()[a]}px`}else t.originalPosition.value=td(e,"position");for(const[a,s]of Object.entries(i))t.$el.style[a]=s},R9=(n,e,t)=>{const r=t.vm.ns||t.vm._.exposed.ns;["absolute","fixed","sticky"].includes(t.originalPosition.value)?Ts(e,r.bm("parent","relative")):yl(e,r.bm("parent","relative")),n.fullscreen&&n.lock?yl(e,r.bm("parent","hidden")):Ts(e,r.bm("parent","hidden"))},O2=Symbol("ElLoading"),P9=(n,e)=>{var t,r,i,a;const s=e.instance,o=f=>Pn(e.value)?e.value[f]:void 0,l=f=>{const h=qt(f)&&(s==null?void 0:s[f])||f;return h&&ne(h)},c=f=>l(o(f)||n.getAttribute(`element-loading-${gh(f)}`)),u=(t=o("fullscreen"))!=null?t:e.modifiers.fullscreen,d={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:u,target:(r=o("target"))!=null?r:u?void 0:n,body:(i=o("body"))!=null?i:e.modifiers.body,lock:(a=o("lock"))!=null?a:e.modifiers.lock};n[O2]={options:d,instance:DR(d)}},qke=(n,e)=>{for(const t of Object.keys(e))Yr(e[t])&&(e[t].value=n[t])},D9={mounted(n,e){e.value&&P9(n,e)},updated(n,e){const t=n[O2];e.oldValue!==e.value&&(e.value&&!e.oldValue?P9(n,e):e.value&&e.oldValue?Pn(e.value)&&qke(e.value,t.options):t==null||t.instance.close())},unmounted(n){var e;(e=n[O2])==null||e.instance.close(),n[O2]=null}},Kke={install(n){n.directive("loading",D9),n.config.globalProperties.$loading=DR},directive:D9,service:DR},MQ=["success","info","warning","error"],ms=Mi({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:nr?document.body:void 0}),Yke=Rt({customClass:{type:String,default:ms.customClass},center:{type:Boolean,default:ms.center},dangerouslyUseHTMLString:{type:Boolean,default:ms.dangerouslyUseHTMLString},duration:{type:Number,default:ms.duration},icon:{type:kr,default:ms.icon},id:{type:String,default:ms.id},message:{type:Ke([String,Object,Function]),default:ms.message},onClose:{type:Ke(Function),default:ms.onClose},showClose:{type:Boolean,default:ms.showClose},type:{type:String,values:MQ,default:ms.type},plain:{type:Boolean,default:ms.plain},offset:{type:Number,default:ms.offset},zIndex:{type:Number,default:ms.zIndex},grouping:{type:Boolean,default:ms.grouping},repeatNum:{type:Number,default:ms.repeatNum}}),Xke={destroy:()=>!0},uc=Lq([]),jke=n=>{const e=uc.findIndex(i=>i.id===n),t=uc[e];let r;return e>0&&(r=uc[e-1]),{current:t,prev:r}},Zke=n=>{const{prev:e}=jke(n);return e?e.vm.exposed.bottom.value:0},Qke=(n,e)=>uc.findIndex(r=>r.id===n)>0?16:e,Jke=Re({name:"ElMessage"}),eLe=Re({...Jke,props:Yke,emits:Xke,setup(n,{expose:e}){const t=n,{Close:r}=cL,{ns:i,zIndex:a}=IT("message"),{currentZIndex:s,nextZIndex:o}=a,l=ne(),c=ne(!1),u=ne(0);let d;const f=U(()=>t.type?t.type==="error"?"danger":t.type:"info"),h=U(()=>{const T=t.type;return{[i.bm("icon",T)]:T&&rh[T]}}),p=U(()=>t.icon||rh[t.type]||""),m=U(()=>Zke(t.id)),v=U(()=>Qke(t.id,t.offset)+m.value),g=U(()=>u.value+v.value),y=U(()=>({top:`${v.value}px`,zIndex:s.value}));function b(){t.duration!==0&&({stop:d}=om(()=>{x()},t.duration))}function _(){d==null||d()}function x(){c.value=!1}function S({code:T}){T===Nt.esc&&x()}return pn(()=>{b(),o(),c.value=!0}),dt(()=>t.repeatNum,()=>{_(),b()}),Ar(document,"keydown",S),ui(l,()=>{u.value=l.value.getBoundingClientRect().height}),e({visible:c,bottom:g,close:x}),(T,C)=>(V(),rt(da,{name:w(i).b("fade"),onBeforeLeave:T.onClose,onAfterLeave:M=>T.$emit("destroy"),persisted:""},{default:be(()=>[Cn(ve("div",{id:T.id,ref_key:"messageRef",ref:l,class:Z([w(i).b(),{[w(i).m(T.type)]:T.type},w(i).is("center",T.center),w(i).is("closable",T.showClose),w(i).is("plain",T.plain),T.customClass]),style:Bt(w(y)),role:"alert",onMouseenter:_,onMouseleave:b},[T.repeatNum>1?(V(),rt(w(fX),{key:0,value:T.repeatNum,type:w(f),class:Z(w(i).e("badge"))},null,8,["value","type","class"])):Je("v-if",!0),w(p)?(V(),rt(w(Vt),{key:1,class:Z([w(i).e("icon"),w(h)])},{default:be(()=>[(V(),rt(Nn(w(p))))]),_:1},8,["class"])):Je("v-if",!0),Qe(T.$slots,"default",{},()=>[T.dangerouslyUseHTMLString?(V(),he(zt,{key:1},[Je(" Caution here, message could've been compromised, never use user's input as message "),ve("p",{class:Z(w(i).e("content")),innerHTML:T.message},null,10,["innerHTML"])],2112)):(V(),he("p",{key:0,class:Z(w(i).e("content"))},Ct(T.message),3))]),T.showClose?(V(),rt(w(Vt),{key:2,class:Z(w(i).e("closeBtn")),onClick:sn(x,["stop"])},{default:be(()=>[ue(w(r))]),_:1},8,["class","onClick"])):Je("v-if",!0)],46,["id"]),[[fr,c.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var tLe=Pt(eLe,[["__file","message.vue"]]);let nLe=1;const TQ=n=>{const e=!n||qt(n)||_i(n)||Zt(n)?{message:n}:n,t={...ms,...e};if(!t.appendTo)t.appendTo=document.body;else if(qt(t.appendTo)){let r=document.querySelector(t.appendTo);Ho(r)||(r=document.body),t.appendTo=r}return Vr(rc.grouping)&&!t.grouping&&(t.grouping=rc.grouping),en(rc.duration)&&t.duration===3e3&&(t.duration=rc.duration),en(rc.offset)&&t.offset===16&&(t.offset=rc.offset),Vr(rc.showClose)&&!t.showClose&&(t.showClose=rc.showClose),t},rLe=n=>{const e=uc.indexOf(n);if(e===-1)return;uc.splice(e,1);const{handler:t}=n;t.close()},iLe=({appendTo:n,...e},t)=>{const r=`message_${nLe++}`,i=e.onClose,a=document.createElement("div"),s={...e,id:r,onClose:()=>{i==null||i(),rLe(u)},onDestroy:()=>{Zf(null,a)}},o=ue(tLe,s,Zt(s.message)||_i(s.message)?{default:Zt(s.message)?s.message:()=>s.message}:null);o.appContext=t||yg._context,Zf(o,a),n.appendChild(a.firstElementChild);const l=o.component,u={id:r,vnode:o,vm:l,handler:{close:()=>{l.exposed.visible.value=!1}},props:o.component.props};return u},yg=(n={},e)=>{if(!nr)return{close:()=>{}};const t=TQ(n);if(t.grouping&&uc.length){const i=uc.find(({vnode:a})=>{var s;return((s=a.props)==null?void 0:s.message)===t.message});if(i)return i.props.repeatNum+=1,i.props.type=t.type,i.handler}if(en(rc.max)&&uc.length>=rc.max)return{close:()=>{}};const r=iLe(t,e);return uc.push(r),r.handler};MQ.forEach(n=>{yg[n]=(e={},t)=>{const r=TQ(e);return yg({...r,type:n},t)}});function aLe(n){for(const e of uc)(!n||n===e.props.type)&&e.handler.close()}yg.closeAll=aLe;yg._context=null;const sLe=PY(yg,"$message"),kR="_trap-focus-children",Np=[],k9=n=>{if(Np.length===0)return;const e=Np[Np.length-1][kR];if(e.length>0&&n.code===Nt.tab){if(e.length===1){n.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const t=n.shiftKey,r=n.target===e[0],i=n.target===e[e.length-1];r&&t&&(n.preventDefault(),e[e.length-1].focus()),i&&!t&&(n.preventDefault(),e[0].focus())}},oLe={beforeMount(n){n[kR]=W7(n),Np.push(n),Np.length<=1&&document.addEventListener("keydown",k9)},updated(n){Yt(()=>{n[kR]=W7(n)})},unmounted(){Np.shift(),Np.length===0&&document.removeEventListener("keydown",k9)}},lLe=Re({name:"ElMessageBox",directives:{TrapFocus:oLe},components:{ElButton:Ia,ElFocusTrap:Jg,ElInput:Cs,ElOverlay:FL,ElIcon:Vt,...cL},inheritAttrs:!1,props:{buttonSize:{type:String,validator:rZ},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(n,{emit:e}){const{locale:t,zIndex:r,ns:i,size:a}=IT("message-box",U(()=>n.buttonSize)),{t:s}=t,{nextZIndex:o}=r,l=ne(!1),c=mr({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:ud(lu),cancelButtonLoadingIcon:ud(lu),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:o()}),u=U(()=>{const k=c.type;return{[i.bm("icon",k)]:k&&rh[k]}}),d=Ha(),f=Ha(),h=U(()=>c.icon||rh[c.type]||""),p=U(()=>!!c.message),m=ne(),v=ne(),g=ne(),y=ne(),b=ne(),_=U(()=>c.confirmButtonClass);dt(()=>c.inputValue,async k=>{await Yt(),n.boxType==="prompt"&&k!==null&&D()},{immediate:!0}),dt(()=>l.value,k=>{var H,z;k&&(n.boxType!=="prompt"&&(c.autofocus?g.value=(z=(H=b.value)==null?void 0:H.$el)!=null?z:m.value:g.value=m.value),c.zIndex=o()),n.boxType==="prompt"&&(k?Yt().then(()=>{var O;y.value&&y.value.$el&&(c.autofocus?g.value=(O=L())!=null?O:m.value:g.value=m.value)}):(c.editorErrorMessage="",c.validateError=!1))});const x=U(()=>n.draggable),S=U(()=>n.overflow);vj(m,v,x,S),pn(async()=>{await Yt(),n.closeOnHashChange&&window.addEventListener("hashchange",T)}),yr(()=>{n.closeOnHashChange&&window.removeEventListener("hashchange",T)});function T(){l.value&&(l.value=!1,Yt(()=>{c.action&&e("action",c.action)}))}const C=()=>{n.closeOnClickModal&&I(c.distinguishCancelAndClose?"close":"cancel")},M=BL(C),A=k=>{if(c.inputType!=="textarea")return k.preventDefault(),I("confirm")},I=k=>{var H;n.boxType==="prompt"&&k==="confirm"&&!D()||(c.action=k,c.beforeClose?(H=c.beforeClose)==null||H.call(c,k,c,T):T())},D=()=>{if(n.boxType==="prompt"){const k=c.inputPattern;if(k&&!k.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;const H=c.inputValidator;if(Zt(H)){const z=H(c.inputValue);if(z===!1)return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;if(qt(z))return c.editorErrorMessage=z,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},L=()=>{const k=y.value.$refs;return k.input||k.textarea},F=()=>{I("close")},B=()=>{n.closeOnPressEscape&&F()};return n.lockScroll&&zL(l),{...ua(c),ns:i,overlayEvent:M,visible:l,hasMessage:p,typeClass:u,contentId:d,inputId:f,btnSize:a,iconComponent:h,confirmButtonClasses:_,rootRef:m,focusStartRef:g,headerRef:v,inputRef:y,confirmRef:b,doClose:T,handleClose:F,onCloseRequested:B,handleWrapperClick:C,handleInputEnter:A,handleAction:I,t:s}}});function cLe(n,e,t,r,i,a){const s=Et("el-icon"),o=Et("close"),l=Et("el-input"),c=Et("el-button"),u=Et("el-focus-trap"),d=Et("el-overlay");return V(),rt(da,{name:"fade-in-linear",onAfterLeave:f=>n.$emit("vanish"),persisted:""},{default:be(()=>[Cn(ue(d,{"z-index":n.zIndex,"overlay-class":[n.ns.is("message-box"),n.modalClass],mask:n.modal},{default:be(()=>[ve("div",{role:"dialog","aria-label":n.title,"aria-modal":"true","aria-describedby":n.showInput?void 0:n.contentId,class:Z(`${n.ns.namespace.value}-overlay-message-box`),onClick:n.overlayEvent.onClick,onMousedown:n.overlayEvent.onMousedown,onMouseup:n.overlayEvent.onMouseup},[ue(u,{loop:"",trapped:n.visible,"focus-trap-el":n.rootRef,"focus-start-el":n.focusStartRef,onReleaseRequested:n.onCloseRequested},{default:be(()=>[ve("div",{ref:"rootRef",class:Z([n.ns.b(),n.customClass,n.ns.is("draggable",n.draggable),{[n.ns.m("center")]:n.center}]),style:Bt(n.customStyle),tabindex:"-1",onClick:sn(()=>{},["stop"])},[n.title!==null&&n.title!==void 0?(V(),he("div",{key:0,ref:"headerRef",class:Z([n.ns.e("header"),{"show-close":n.showClose}])},[ve("div",{class:Z(n.ns.e("title"))},[n.iconComponent&&n.center?(V(),rt(s,{key:0,class:Z([n.ns.e("status"),n.typeClass])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])):Je("v-if",!0),ve("span",null,Ct(n.title),1)],2),n.showClose?(V(),he("button",{key:0,type:"button",class:Z(n.ns.e("headerbtn")),"aria-label":n.t("el.messagebox.close"),onClick:f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),onKeydown:Ur(sn(f=>n.handleAction(n.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[ue(s,{class:Z(n.ns.e("close"))},{default:be(()=>[ue(o)]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Je("v-if",!0)],2)):Je("v-if",!0),ve("div",{id:n.contentId,class:Z(n.ns.e("content"))},[ve("div",{class:Z(n.ns.e("container"))},[n.iconComponent&&!n.center&&n.hasMessage?(V(),rt(s,{key:0,class:Z([n.ns.e("status"),n.typeClass])},{default:be(()=>[(V(),rt(Nn(n.iconComponent)))]),_:1},8,["class"])):Je("v-if",!0),n.hasMessage?(V(),he("div",{key:1,class:Z(n.ns.e("message"))},[Qe(n.$slots,"default",{},()=>[n.dangerouslyUseHTMLString?(V(),rt(Nn(n.showInput?"label":"p"),{key:1,for:n.showInput?n.inputId:void 0,innerHTML:n.message},null,8,["for","innerHTML"])):(V(),rt(Nn(n.showInput?"label":"p"),{key:0,for:n.showInput?n.inputId:void 0},{default:be(()=>[dn(Ct(n.dangerouslyUseHTMLString?"":n.message),1)]),_:1},8,["for"]))])],2)):Je("v-if",!0)],2),Cn(ve("div",{class:Z(n.ns.e("input"))},[ue(l,{id:n.inputId,ref:"inputRef",modelValue:n.inputValue,"onUpdate:modelValue":f=>n.inputValue=f,type:n.inputType,placeholder:n.inputPlaceholder,"aria-invalid":n.validateError,class:Z({invalid:n.validateError}),onKeydown:Ur(n.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),ve("div",{class:Z(n.ns.e("errormsg")),style:Bt({visibility:n.editorErrorMessage?"visible":"hidden"})},Ct(n.editorErrorMessage),7)],2),[[fr,n.showInput]])],10,["id"]),ve("div",{class:Z(n.ns.e("btns"))},[n.showCancelButton?(V(),rt(c,{key:0,loading:n.cancelButtonLoading,"loading-icon":n.cancelButtonLoadingIcon,class:Z([n.cancelButtonClass]),round:n.roundButton,size:n.btnSize,onClick:f=>n.handleAction("cancel"),onKeydown:Ur(sn(f=>n.handleAction("cancel"),["prevent"]),["enter"])},{default:be(()=>[dn(Ct(n.cancelButtonText||n.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Je("v-if",!0),Cn(ue(c,{ref:"confirmRef",type:"primary",loading:n.confirmButtonLoading,"loading-icon":n.confirmButtonLoadingIcon,class:Z([n.confirmButtonClasses]),round:n.roundButton,disabled:n.confirmButtonDisabled,size:n.btnSize,onClick:f=>n.handleAction("confirm"),onKeydown:Ur(sn(f=>n.handleAction("confirm"),["prevent"]),["enter"])},{default:be(()=>[dn(Ct(n.confirmButtonText||n.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[fr,n.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[fr,n.visible]])]),_:3},8,["onAfterLeave"])}var uLe=Pt(lLe,[["render",cLe],["__file","index.vue"]]);const s_=new Map,dLe=n=>{let e=document.body;return n.appendTo&&(qt(n.appendTo)&&(e=document.querySelector(n.appendTo)),Ho(n.appendTo)&&(e=n.appendTo),Ho(e)||(e=document.body)),e},fLe=(n,e,t=null)=>{const r=ue(uLe,n,Zt(n.message)||_i(n.message)?{default:Zt(n.message)?n.message:()=>n.message}:null);return r.appContext=t,Zf(r,e),dLe(n).appendChild(e.firstElementChild),r.component},hLe=()=>document.createElement("div"),pLe=(n,e)=>{const t=hLe();n.onVanish=()=>{Zf(null,t),s_.delete(i)},n.onAction=a=>{const s=s_.get(i);let o;n.showInput?o={value:i.inputValue,action:a}:o=a,n.callback?n.callback(o,r.proxy):a==="cancel"||a==="close"?n.distinguishCancelAndClose&&a!=="cancel"?s.reject("close"):s.reject("cancel"):s.resolve(o)};const r=fLe(n,t,e),i=r.proxy;for(const a in n)sr(n,a)&&!sr(i.$props,a)&&(i[a]=n[a]);return i.visible=!0,i};function ry(n,e=null){if(!nr)return Promise.reject();let t;return qt(n)||_i(n)?n={message:n}:t=n.callback,new Promise((r,i)=>{const a=pLe(n,e??ry._context);s_.set(a,{options:n,callback:t,resolve:r,reject:i})})}const mLe=["alert","confirm","prompt"],vLe={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};mLe.forEach(n=>{ry[n]=gLe(n)});function gLe(n){return(e,t,r,i)=>{let a="";return Pn(t)?(r=t,a=""):Tr(t)?a="":a=t,ry(Object.assign({title:a,message:e,type:"",...vLe[n]},r,{boxType:n}),i)}}ry.close=()=>{s_.forEach((n,e)=>{e.doClose()}),s_.clear()};ry._context=null;const bf=ry;bf.install=n=>{bf._context=n._context,n.config.globalProperties.$msgbox=bf,n.config.globalProperties.$messageBox=bf,n.config.globalProperties.$alert=bf.alert,n.config.globalProperties.$confirm=bf.confirm,n.config.globalProperties.$prompt=bf.prompt};const yLe=bf,AQ=["success","info","warning","error"],bLe=Rt({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:kr},id:{type:String,default:""},message:{type:Ke([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:Ke(Function),default:()=>{}},onClose:{type:Ke(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...AQ,""],default:""},zIndex:Number}),_Le={destroy:()=>!0},wLe=Re({name:"ElNotification"}),xLe=Re({...wLe,props:bLe,emits:_Le,setup(n,{expose:e}){const t=n,{ns:r,zIndex:i}=IT("notification"),{nextZIndex:a,currentZIndex:s}=i,{Close:o}=lL,l=ne(!1);let c;const u=U(()=>{const b=t.type;return b&&rh[t.type]?r.m(b):""}),d=U(()=>t.type&&rh[t.type]||t.icon),f=U(()=>t.position.endsWith("right")?"right":"left"),h=U(()=>t.position.startsWith("top")?"top":"bottom"),p=U(()=>{var b;return{[h.value]:`${t.offset}px`,zIndex:(b=t.zIndex)!=null?b:s.value}});function m(){t.duration>0&&({stop:c}=om(()=>{l.value&&g()},t.duration))}function v(){c==null||c()}function g(){l.value=!1}function y({code:b}){b===Nt.delete||b===Nt.backspace?v():b===Nt.esc?l.value&&g():m()}return pn(()=>{m(),a(),l.value=!0}),Ar(document,"keydown",y),e({visible:l,close:g}),(b,_)=>(V(),rt(da,{name:w(r).b("fade"),onBeforeLeave:b.onClose,onAfterLeave:x=>b.$emit("destroy"),persisted:""},{default:be(()=>[Cn(ve("div",{id:b.id,class:Z([w(r).b(),b.customClass,w(f)]),style:Bt(w(p)),role:"alert",onMouseenter:v,onMouseleave:m,onClick:b.onClick},[w(d)?(V(),rt(w(Vt),{key:0,class:Z([w(r).e("icon"),w(u)])},{default:be(()=>[(V(),rt(Nn(w(d))))]),_:1},8,["class"])):Je("v-if",!0),ve("div",{class:Z(w(r).e("group"))},[ve("h2",{class:Z(w(r).e("title")),textContent:Ct(b.title)},null,10,["textContent"]),Cn(ve("div",{class:Z(w(r).e("content")),style:Bt(b.title?void 0:{margin:0})},[Qe(b.$slots,"default",{},()=>[b.dangerouslyUseHTMLString?(V(),he(zt,{key:1},[Je(" Caution here, message could've been compromised, never use user's input as message "),ve("p",{innerHTML:b.message},null,8,["innerHTML"])],2112)):(V(),he("p",{key:0},Ct(b.message),1))])],6),[[fr,b.message]]),b.showClose?(V(),rt(w(Vt),{key:0,class:Z(w(r).e("closeBtn")),onClick:sn(g,["stop"])},{default:be(()=>[ue(w(o))]),_:1},8,["class","onClick"])):Je("v-if",!0)],2)],46,["id","onClick"]),[[fr,l.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var SLe=Pt(xLe,[["__file","notification.vue"]]);const qC={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},LR=16;let CLe=1;const bg=function(n={},e){if(!nr)return{close:()=>{}};(qt(n)||_i(n))&&(n={message:n});const t=n.position||"top-right";let r=n.offset||0;qC[t].forEach(({vm:u})=>{var d;r+=(((d=u.el)==null?void 0:d.offsetHeight)||0)+LR}),r+=LR;const i=`notification_${CLe++}`,a=n.onClose,s={...n,offset:r,id:i,onClose:()=>{MLe(i,t,a)}};let o=document.body;Ho(n.appendTo)?o=n.appendTo:qt(n.appendTo)&&(o=document.querySelector(n.appendTo)),Ho(o)||(o=document.body);const l=document.createElement("div"),c=ue(SLe,s,Zt(s.message)?s.message:_i(s.message)?()=>s.message:null);return c.appContext=Tr(e)?bg._context:e,c.props.onDestroy=()=>{Zf(null,l)},Zf(c,l),qC[t].push({vm:c}),o.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};AQ.forEach(n=>{bg[n]=(e={},t)=>((qt(e)||_i(e))&&(e={message:e}),bg({...e,type:n},t))});function MLe(n,e,t){const r=qC[e],i=r.findIndex(({vm:c})=>{var u;return((u=c.component)==null?void 0:u.props.id)===n});if(i===-1)return;const{vm:a}=r[i];if(!a)return;t==null||t(a);const s=a.el.offsetHeight,o=e.split("-")[0];r.splice(i,1);const l=r.length;if(!(l<1))for(let c=i;c<l;c++){const{el:u,component:d}=r[c].vm,f=Number.parseInt(u.style[o],10)-s-LR;d.props.offset=f}}function TLe(){for(const n of Object.values(qC))n.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}bg.closeAll=TLe;bg._context=null;const ALe=PY(bg,"$notify");var ELe=[Vke,Kke,sLe,yLe,ALe,Hj],ILe=C0e([...Nke,...ELe]);const RLe=["href"],PLe=Re({__name:"Header",setup(n){const e={name:"Dataset",link:"#"};return(t,r)=>{const i=Et("el-menu-item"),a=Et("el-menu"),s=Et("el-affix");return V(),rt(s,{offset:0,style:{width:"100%"}},{default:be(()=>[ue(a,{"default-active":"0",class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:be(()=>[ue(i,{index:"0"},{default:be(()=>[ue(w(Vt),{size:20},{default:be(()=>[ue(w(oL))]),_:1}),ve("a",{href:e.link},Ct(e.name),9,RLe)]),_:1})]),_:1})]),_:1})}}}),Ga=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t},DLe=Ga(PLe,[["__scopeId","data-v-d129e007"]]),kLe={class:"paper-title"},LLe=["href"],NLe={class:"author"},OLe={key:0,class:"name_sup"},BLe=["href"],FLe={class:"address"},zLe={key:0,class:"address_sup"},ULe=["href"],HLe={class:"btn-text"},VLe="./news-m3f-logo.png",L9=": A Multi-modal, Multi-label Dataset for Fine-grained Visual Categorization",$Le="#000000",N9="News-M3F",GLe="#42B883",WLe="#444444",qLe="#: Equal Contribution. *: Corresponding Author.",KLe=Re({__name:"Title",setup(n){const e=[{name:"Yutao Hu",icon:"./icon/default.jpg",homepage:"https://huyutao0914.github.io/",address_flag:"1,*"},{name:"Qixiong Wang",icon:"./icon/default.jpg",homepage:"",address_flag:"2,*"},{name:"Zhenliang Li",icon:"./icon/default.jpg",homepage:"",address_flag:"1"},{name:"Hangfeng Liang",icon:"./icon/default.jpg",homepage:"",address_flag:"1"},{name:"Xiaolong Jiang",icon:"./icon/default.jpg",homepage:"",address_flag:"2"},{name:"Yao Hu",icon:"./icon/default.jpg",homepage:"",address_flag:"2"},{name:"Jungong Han",icon:"./icon/default.jpg",homepage:"",address_flag:"3"}],t=[{address_flag:"1",name:"Southeast University",icon:"./icon/seu.png",homepage:"https://www.seu.edu.cn/"},{address_flag:"2",name:"Xiaohongshu Inc.",icon:"./icon/xhs.png",homepage:"https://www.xiaohongshu.com/"},{address_flag:"3",name:"University of Sheffield",icon:"./icon/sf.png",homepage:"https://www.sheffield.ac.uk/"}],r=["🥰 Our News-M3F dataset has been completely open source, Welcome to follow."],i=[{disabled:!1,name:"Huggingface",link:"https://huggingface.co/datasets/lhfgghc/News-M3F",component:uve},{disabled:!1,name:"Code",link:"https://github.com/Asyou-GD/NewsM3F",component:yve},{disabled:!0,name:"Paper",component:LY}];return(a,s)=>{const o=Et("el-image"),l=Et("el-row"),c=Et("el-col"),u=Et("el-avatar"),d=Et("el-button");return V(),he("div",null,[(V(),rt(l,{key:0,justify:"center"},{default:be(()=>[ue(o,{src:VLe,class:"logo",fit:"cover"})]),_:1})),ue(l,{justify:"center"},{default:be(()=>[ue(c,{span:20},{default:be(()=>[ve("h1",kLe,[N9?(V(),he("span",{key:0,style:Bt({color:GLe})},Ct(N9),4)):Je("",!0),L9?(V(),he("span",{key:1,style:Bt({color:$Le})},Ct(L9),4)):Je("",!0)])]),_:1})]),_:1}),ue(l,{justify:"center"},{default:be(()=>[(V(),he(zt,null,In(e,f=>ve("a",{href:f.homepage},[ue(d,{class:"title-button",type:"primary",text:""},{default:be(()=>[f.icon?(V(),rt(u,{key:0,size:40,src:f.icon},null,8,["src"])):Je("",!0),ve("span",NLe,[dn(Ct(f.name),1),f.address_flag?(V(),he("sup",OLe,Ct(f.address_flag),1)):Je("",!0)])]),_:2},1024)],8,LLe)),64))]),_:1}),ue(l,{justify:"center"},{default:be(()=>[(V(),he(zt,null,In(t,f=>ve("a",{href:f.homepage},[ue(d,{class:"title-button",type:"primary",text:""},{default:be(()=>[f.icon?(V(),rt(u,{key:0,size:40,src:f.icon},null,8,["src"])):Je("",!0),ve("span",FLe,[f.address_flag?(V(),he("sup",zLe,Ct(f.address_flag),1)):Je("",!0),dn(Ct(f.name),1)])]),_:2},1024)],8,BLe)),64))]),_:1}),ue(l,{justify:"center",class:"con-cor"},{default:be(()=>[dn(Ct(qLe))]),_:1}),(V(),he(zt,null,In(r,f=>ue(l,{justify:"center",class:"emphasis"},{default:be(()=>[dn(Ct(f),1)]),_:2},1024)),64)),ue(l,{justify:"center",style:{"margin-bottom":"20px"}},{default:be(()=>[ue(c,{span:20},{default:be(()=>[ue(l,{justify:"center"},{default:be(()=>[(V(),he(zt,null,In(i,f=>ve("a",{href:f.link},[ue(d,{class:"guidance-button",size:"default",color:WLe,disabled:f.disabled,round:""},{default:be(()=>[ue(w(Vt),{size:18},{default:be(()=>[(V(),rt(Nn(f.component)))]),_:2},1024),ve("span",HLe,Ct(f.name),1)]),_:2},1032,["disabled"])],8,ULe)),64))]),_:1})]),_:1})]),_:1})])}}}),YLe=Ga(KLe,[["__scopeId","data-v-0e7d5732"]]);function wt(n,e,t){const{children:r}=e;return delete e.children,arguments.length>2&&(e.key=t),Gt(n,e,r)}function O9(n){const e={h1:"h1",p:"p",strong:"strong",...n.components};return wt(zt,{children:[wt(e.h1,{children:"Introduction"}),`
`,wt(e.p,{children:["The News-M3F dataset contains ",wt(e.strong,{children:"196067 instances"})," and a total of ",wt(e.strong,{children:"417,947 images"}),".  Each instance is accompanied by a textual description with an average length of 479 words, capturing rich semantic information."]}),`
`,wt(e.p,{children:["Generally speaking, our News-M3F is characterized by three features.  First, in terms of scale, News-M3F is the largest among comparable datasets in this field, containing a total of 417,974 images.  Second, each instance in News-M3F includes multiple images with diverse semantics.  In contrast, existing multi-modal classification datasets typically provide only a single image within each instance, limiting their ability to reflect real-world visual diversity.  Third, from the perspective of annotation, News-M3F is a multi-label dataset with the two-level hierarchical label taxonomy, encompassing the largest number of categories compared to existing datasets.  In summary, compared to prior datasets, our proposed News-M3F offers a more comprehensive and challenging benchmark for advancing ",wt(e.strong,{children:"multi-modal, multi-label FGVC"}),"."]})]})}function XLe(n={}){const{wrapper:e}=n.components||{};return e?wt(e,{...n,children:wt(O9,{...n})}):O9(n)}const jLe={__name:"Introduction",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-col"),a=Et("el-row");return V(),he("div",null,[ue(r),ue(a,{justify:"center"},{default:be(()=>[ue(i,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(w(XLe))]),_:1})]),_:1})])}}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var NR=function(n,e){return NR=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},NR(n,e)};function wn(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");NR(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var ZLe=function(){function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return n}(),QLe=function(){function n(){this.browser=new ZLe,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return n}(),fp=new QLe;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(fp.wxa=!0,fp.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?fp.worker=!0:typeof navigator>"u"?(fp.node=!0,fp.svgSupported=!0):JLe(navigator.userAgent,fp);function JLe(n,e){var t=e.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),a=n.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(n);r&&(t.firefox=!0,t.version=r[1]),i&&(t.ie=!0,t.version=i[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),s&&(t.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,e.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(t.ie&&"transition"in o||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||t.ie&&+t.version>=9}const Pr=fp;var _6=12,e6e="sans-serif",hm=_6+"px "+e6e,t6e=20,n6e=100,r6e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function i6e(n){var e={};if(typeof JSON>"u")return e;for(var t=0;t<n.length;t++){var r=String.fromCharCode(t+32),i=(n.charCodeAt(t)-t6e)/n6e;e[r]=i}return e}var a6e=i6e(r6e),iy={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var n,e;return function(t,r){if(!n){var i=iy.createCanvas();n=i&&i.getContext("2d")}if(n)return e!==r&&(e=n.font=r||hm),n.measureText(t);t=t||"",r=r||hm;var a=/(\d+)px/.exec(r),s=a&&+a[1]||_6,o=0;if(r.indexOf("mono")>=0)o=s*t.length;else for(var l=0;l<t.length;l++){var c=a6e[t[l]];o+=c==null?s:c*s}return{width:o}}}(),loadImage:function(n,e,t){var r=new Image;return r.onload=e,r.onerror=t,r.src=n,r}},EQ=sh(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,e){return n["[object "+e+"]"]=!0,n},{}),IQ=sh(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,e){return n["[object "+e+"Array]"]=!0,n},{}),cw=Object.prototype.toString,YT=Array.prototype,s6e=YT.forEach,o6e=YT.filter,w6=YT.slice,l6e=YT.map,B9=(function(){}).constructor,ux=B9?B9.prototype:null,x6="__proto__",c6e=2311;function RQ(){return c6e++}function S6(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];typeof console<"u"&&console.error.apply(console,n)}function Qr(n){if(n==null||typeof n!="object")return n;var e=n,t=cw.call(n);if(t==="[object Array]"){if(!eb(n)){e=[];for(var r=0,i=n.length;r<i;r++)e[r]=Qr(n[r])}}else if(IQ[t]){if(!eb(n)){var a=n.constructor;if(a.from)e=a.from(n);else{e=new a(n.length);for(var r=0,i=n.length;r<i;r++)e[r]=n[r]}}}else if(!EQ[t]&&!eb(n)&&!KC(n)){e={};for(var s in n)n.hasOwnProperty(s)&&s!==x6&&(e[s]=Qr(n[s]))}return e}function hi(n,e,t){if(!or(e)||!or(n))return t?Qr(e):n;for(var r in e)if(e.hasOwnProperty(r)&&r!==x6){var i=n[r],a=e[r];or(a)&&or(i)&&!Dn(a)&&!Dn(i)&&!KC(a)&&!KC(i)&&!F9(a)&&!F9(i)&&!eb(a)&&!eb(i)?hi(i,a,t):(t||!(r in n))&&(n[r]=Qr(e[r]))}return n}function cn(n,e){if(Object.assign)Object.assign(n,e);else for(var t in e)e.hasOwnProperty(t)&&t!==x6&&(n[t]=e[t]);return n}function pi(n,e,t){for(var r=ki(e),i=0;i<r.length;i++){var a=r[i];(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}return n}function di(n,e){if(n){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t}return-1}function u6e(n,e){var t=n.prototype;function r(){}r.prototype=e.prototype,n.prototype=new r;for(var i in t)t.hasOwnProperty(i)&&(n.prototype[i]=t[i]);n.prototype.constructor=n,n.superClass=e}function Cu(n,e,t){if(n="prototype"in n?n.prototype:n,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++){var a=r[i];a!=="constructor"&&(t?e[a]!=null:n[a]==null)&&(n[a]=e[a])}else pi(n,e,t)}function _o(n){return!n||typeof n=="string"?!1:typeof n.length=="number"}function ut(n,e,t){if(n&&e)if(n.forEach&&n.forEach===s6e)n.forEach(e,t);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);else for(var a in n)n.hasOwnProperty(a)&&e.call(t,n[a],a,n)}function dr(n,e,t){if(!n)return[];if(!e)return C6(n);if(n.map&&n.map===l6e)return n.map(e,t);for(var r=[],i=0,a=n.length;i<a;i++)r.push(e.call(t,n[i],i,n));return r}function sh(n,e,t,r){if(n&&e){for(var i=0,a=n.length;i<a;i++)t=e.call(r,t,n[i],i,n);return t}}function Oa(n,e,t){if(!n)return[];if(!e)return C6(n);if(n.filter&&n.filter===o6e)return n.filter(e,t);for(var r=[],i=0,a=n.length;i<a;i++)e.call(t,n[i],i,n)&&r.push(n[i]);return r}function ki(n){if(!n)return[];if(Object.keys)return Object.keys(n);var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push(t);return e}function d6e(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return function(){return n.apply(e,t.concat(w6.call(arguments)))}}var ii=ux&&wr(ux.bind)?ux.call.bind(ux.bind):d6e;function Vi(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return function(){return n.apply(this,e.concat(w6.call(arguments)))}}function Dn(n){return Array.isArray?Array.isArray(n):cw.call(n)==="[object Array]"}function wr(n){return typeof n=="function"}function Qn(n){return typeof n=="string"}function OR(n){return cw.call(n)==="[object String]"}function Fi(n){return typeof n=="number"}function or(n){var e=typeof n;return e==="function"||!!n&&e==="object"}function F9(n){return!!EQ[cw.call(n)]}function Yo(n){return!!IQ[cw.call(n)]}function KC(n){return typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.ownerDocument=="object"}function XT(n){return n.colorStops!=null}function f6e(n){return n.image!=null}function YC(n){return n!==n}function o_(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];for(var t=0,r=n.length;t<r;t++)if(n[t]!=null)return n[t]}function Gr(n,e){return n??e}function J1(n,e,t){return n??e??t}function C6(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return w6.apply(n,e)}function PQ(n){if(typeof n=="number")return[n,n,n,n];var e=n.length;return e===2?[n[0],n[1],n[0],n[1]]:e===3?[n[0],n[1],n[2],n[1]]:n}function fu(n,e){if(!n)throw new Error(e)}function jc(n){return n==null?null:typeof n.trim=="function"?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var DQ="__ec_primitive__";function XC(n){n[DQ]=!0}function eb(n){return n[DQ]}var h6e=function(){function n(){this.data={}}return n.prototype.delete=function(e){var t=this.has(e);return t&&delete this.data[e],t},n.prototype.has=function(e){return this.data.hasOwnProperty(e)},n.prototype.get=function(e){return this.data[e]},n.prototype.set=function(e,t){return this.data[e]=t,this},n.prototype.keys=function(){return ki(this.data)},n.prototype.forEach=function(e){var t=this.data;for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)},n}(),kQ=typeof Map=="function";function p6e(){return kQ?new Map:new h6e}var m6e=function(){function n(e){var t=Dn(e);this.data=p6e();var r=this;e instanceof n?e.each(i):e&&ut(e,i);function i(a,s){t?r.set(a,s):r.set(s,a)}}return n.prototype.hasKey=function(e){return this.data.has(e)},n.prototype.get=function(e){return this.data.get(e)},n.prototype.set=function(e,t){return this.data.set(e,t),t},n.prototype.each=function(e,t){this.data.forEach(function(r,i){e.call(t,r,i)})},n.prototype.keys=function(){var e=this.data.keys();return kQ?Array.from(e):e},n.prototype.removeKey=function(e){this.data.delete(e)},n}();function Dr(n){return new m6e(n)}function LQ(n,e){for(var t=new n.constructor(n.length+e.length),r=0;r<n.length;r++)t[r]=n[r];for(var i=n.length,r=0;r<e.length;r++)t[r+i]=e[r];return t}function jT(n,e){var t;if(Object.create)t=Object.create(n);else{var r=function(){};r.prototype=n,t=new r}return e&&cn(t,e),t}function NQ(n){var e=n.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function _g(n,e){return n.hasOwnProperty(e)}function Ws(){}var v6e=180/Math.PI;function ay(n,e){return n==null&&(n=0),e==null&&(e=0),[n,e]}function g6e(n,e){return n[0]=e[0],n[1]=e[1],n}function y6e(n){return[n[0],n[1]]}function z9(n,e,t){return n[0]=e[0]+t[0],n[1]=e[1]+t[1],n}function b6e(n,e,t){return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n}function _6e(n){return Math.sqrt(w6e(n))}function w6e(n){return n[0]*n[0]+n[1]*n[1]}function nE(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n}function x6e(n,e){var t=_6e(e);return t===0?(n[0]=0,n[1]=0):(n[0]=e[0]/t,n[1]=e[1]/t),n}function BR(n,e){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}var FR=BR;function S6e(n,e){return(n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])}var Uv=S6e;function rE(n,e,t,r){return n[0]=e[0]+r*(t[0]-e[0]),n[1]=e[1]+r*(t[1]-e[1]),n}function qs(n,e,t){var r=e[0],i=e[1];return n[0]=t[0]*r+t[2]*i+t[4],n[1]=t[1]*r+t[3]*i+t[5],n}function yv(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n}function bv(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n}var e0=function(){function n(e,t){this.target=e,this.topTarget=t&&t.topTarget}return n}(),C6e=function(){function n(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new e0(t,e),"dragstart",e.event))},n.prototype._drag=function(e){var t=this._draggingTarget;if(t){var r=e.offsetX,i=e.offsetY,a=r-this._x,s=i-this._y;this._x=r,this._y=i,t.drift(a,s,e),this.handler.dispatchToElement(new e0(t,e),"drag",e.event);var o=this.handler.findHover(r,i,t).target,l=this._dropTarget;this._dropTarget=o,t!==o&&(l&&o!==l&&this.handler.dispatchToElement(new e0(l,e),"dragleave",e.event),o&&o!==l&&this.handler.dispatchToElement(new e0(o,e),"dragenter",e.event))}},n.prototype._dragEnd=function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new e0(t,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new e0(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},n}();const M6e=C6e;var T6e=function(){function n(e){e&&(this._$eventProcessor=e)}return n.prototype.on=function(e,t,r,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof t=="function"&&(i=r,r=t,t=null),!r||!e)return this;var s=this._$eventProcessor;t!=null&&s&&s.normalizeQuery&&(t=s.normalizeQuery(t)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===r)return this;var l={h:r,query:t,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},c=a[e].length-1,u=a[e][c];return u&&u.callAtLast?a[e].splice(c,0,l):a[e].push(l),this},n.prototype.isSilent=function(e){var t=this._$handlers;return!t||!t[e]||!t[e].length},n.prototype.off=function(e,t){var r=this._$handlers;if(!r)return this;if(!e)return this._$handlers={},this;if(t){if(r[e]){for(var i=[],a=0,s=r[e].length;a<s;a++)r[e][a].h!==t&&i.push(r[e][a]);r[e]=i}r[e]&&r[e].length===0&&delete r[e]}else delete r[e];return this},n.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=i.length,l=0;l<o;l++){var c=i[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n.prototype.triggerWithContext=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[e],a=this._$eventProcessor;if(i)for(var s=t.length,o=t[s-1],l=i.length,c=0;c<l;c++){var u=i[c];if(!(a&&a.filter&&u.query!=null&&!a.filter(e,u.query)))switch(s){case 0:u.h.call(o);break;case 1:u.h.call(o,t[0]);break;case 2:u.h.call(o,t[0],t[1]);break;default:u.h.apply(o,t.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},n}();const Ac=T6e;var A6e=Math.log(2);function zR(n,e,t,r,i,a){var s=r+"-"+i,o=n.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var l=Math.round(Math.log((1<<o)-1&~i)/A6e);return n[t][l]}for(var c=r|1<<t,u=t+1;r&1<<u;)u++;for(var d=0,f=0,h=0;f<o;f++){var p=1<<f;p&i||(d+=(h%2?-1:1)*n[t][f]*zR(n,e-1,u,c,i|p,a),h++)}return a[s]=d,d}function U9(n,e){var t=[[n[0],n[1],1,0,0,0,-e[0]*n[0],-e[0]*n[1]],[0,0,0,n[0],n[1],1,-e[1]*n[0],-e[1]*n[1]],[n[2],n[3],1,0,0,0,-e[2]*n[2],-e[2]*n[3]],[0,0,0,n[2],n[3],1,-e[3]*n[2],-e[3]*n[3]],[n[4],n[5],1,0,0,0,-e[4]*n[4],-e[4]*n[5]],[0,0,0,n[4],n[5],1,-e[5]*n[4],-e[5]*n[5]],[n[6],n[7],1,0,0,0,-e[6]*n[6],-e[6]*n[7]],[0,0,0,n[6],n[7],1,-e[7]*n[6],-e[7]*n[7]]],r={},i=zR(t,8,0,0,0,r);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*zR(t,7,s===0?1:0,1<<s,1<<o,r)/i*e[s];return function(l,c,u){var d=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/d,l[1]=(c*a[3]+u*a[4]+a[5])/d}}}var H9="___zrEVENTSAVED",iE=[];function E6e(n,e,t,r,i){return UR(iE,e,r,i,!0)&&UR(n,t,iE[0],iE[1])}function UR(n,e,t,r,i){if(e.getBoundingClientRect&&Pr.domSupported&&!OQ(e)){var a=e[H9]||(e[H9]={}),s=I6e(e,a),o=R6e(s,a,i);if(o)return o(n,t,r),!0}return!1}function I6e(n,e){var t=e.markers;if(t)return t;t=e.markers=[];for(var r=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,c=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[l]+":0",i[c]+":0",r[1-l]+":auto",i[1-c]+":auto",""].join("!important;"),n.appendChild(s),t.push(s)}return t}function R6e(n,e,t){for(var r=t?"invTrans":"trans",i=e[r],a=e.srcCoords,s=[],o=[],l=!0,c=0;c<4;c++){var u=n[c].getBoundingClientRect(),d=2*c,f=u.left,h=u.top;s.push(f,h),l=l&&a&&f===a[d]&&h===a[d+1],o.push(n[c].offsetLeft,n[c].offsetTop)}return l&&i?i:(e.srcCoords=s,e[r]=t?U9(o,s):U9(s,o))}function OQ(n){return n.nodeName.toUpperCase()==="CANVAS"}var P6e=/([&<>"'])/g,D6e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function hl(n){return n==null?"":(n+"").replace(P6e,function(e,t){return D6e[t]})}var k6e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,aE=[],L6e=Pr.browser.firefox&&+Pr.browser.version.split(".")[0]<39;function HR(n,e,t,r){return t=t||{},r?V9(n,e,t):L6e&&e.layerX!=null&&e.layerX!==e.offsetX?(t.zrX=e.layerX,t.zrY=e.layerY):e.offsetX!=null?(t.zrX=e.offsetX,t.zrY=e.offsetY):V9(n,e,t),t}function V9(n,e,t){if(Pr.domSupported&&n.getBoundingClientRect){var r=e.clientX,i=e.clientY;if(OQ(n)){var a=n.getBoundingClientRect();t.zrX=r-a.left,t.zrY=i-a.top;return}else if(UR(aE,n,r,i)){t.zrX=aE[0],t.zrY=aE[1];return}}t.zrX=t.zrY=0}function M6(n){return n||window.event}function ol(n,e,t){if(e=M6(e),e.zrX!=null)return e;var r=e.type,i=r&&r.indexOf("touch")>=0;if(i){var s=r!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&HR(n,s,e,t)}else{HR(n,e,e,t);var a=N6e(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&k6e.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function N6e(n){var e=n.wheelDelta;if(e)return e;var t=n.deltaX,r=n.deltaY;if(t==null||r==null)return e;var i=Math.abs(r!==0?r:t),a=r>0?-1:r<0?1:t>0?-1:1;return 3*i*a}function O6e(n,e,t,r){n.addEventListener(e,t,r)}function B6e(n,e,t,r){n.removeEventListener(e,t,r)}var ZT=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function $9(n){return n.which===2||n.which===3}var F6e=function(){function n(){this._track=[]}return n.prototype.recognize=function(e,t,r){return this._doTrack(e,t,r),this._recognize(e)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(e,t,r){var i=e.touches;if(i){for(var a={points:[],touches:[],target:t,event:e},s=0,o=i.length;s<o;s++){var l=i[s],c=HR(r,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},n.prototype._recognize=function(e){for(var t in sE)if(sE.hasOwnProperty(t)){var r=sE[t](this._track,e);if(r)return r}},n}();function G9(n){var e=n[1][0]-n[0][0],t=n[1][1]-n[0][1];return Math.sqrt(e*e+t*t)}function z6e(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var sE={pinch:function(n,e){var t=n.length;if(t){var r=(n[t-1]||{}).points,i=(n[t-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var a=G9(r)/G9(i);!isFinite(a)&&(a=1),e.pinchScale=a;var s=z6e(r);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:n[0].target,event:e}}}}};function wg(){return[1,0,0,1,0,0]}function T6(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function BQ(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Hv(n,e,t){var r=e[0]*t[0]+e[2]*t[1],i=e[1]*t[0]+e[3]*t[1],a=e[0]*t[2]+e[2]*t[3],s=e[1]*t[2]+e[3]*t[3],o=e[0]*t[4]+e[2]*t[5]+e[4],l=e[1]*t[4]+e[3]*t[5]+e[5];return n[0]=r,n[1]=i,n[2]=a,n[3]=s,n[4]=o,n[5]=l,n}function VR(n,e,t){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4]+t[0],n[5]=e[5]+t[1],n}function A6(n,e,t){var r=e[0],i=e[2],a=e[4],s=e[1],o=e[3],l=e[5],c=Math.sin(t),u=Math.cos(t);return n[0]=r*u+s*c,n[1]=-r*c+s*u,n[2]=i*u+o*c,n[3]=-i*c+u*o,n[4]=u*a+c*l,n[5]=u*l-c*a,n}function U6e(n,e,t){var r=t[0],i=t[1];return n[0]=e[0]*r,n[1]=e[1]*i,n[2]=e[2]*r,n[3]=e[3]*i,n[4]=e[4]*r,n[5]=e[5]*i,n}function uw(n,e){var t=e[0],r=e[2],i=e[4],a=e[1],s=e[3],o=e[5],l=t*s-a*r;return l?(l=1/l,n[0]=s*l,n[1]=-a*l,n[2]=-r*l,n[3]=t*l,n[4]=(r*o-s*i)*l,n[5]=(a*i-t*o)*l,n):null}var H6e=function(){function n(e,t){this.x=e||0,this.y=t||0}return n.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(e,t){return this.x=e,this.y=t,this},n.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},n.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},n.prototype.scale=function(e){this.x*=e,this.y*=e},n.prototype.scaleAndAdd=function(e,t){this.x+=e.x*t,this.y+=e.y*t},n.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},n.prototype.dot=function(e){return this.x*e.x+this.y*e.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},n.prototype.distance=function(e){var t=this.x-e.x,r=this.y-e.y;return Math.sqrt(t*t+r*r)},n.prototype.distanceSquare=function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(e){if(e){var t=this.x,r=this.y;return this.x=e[0]*t+e[2]*r+e[4],this.y=e[1]*t+e[3]*r+e[5],this}},n.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},n.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},n.set=function(e,t,r){e.x=t,e.y=r},n.copy=function(e,t){e.x=t.x,e.y=t.y},n.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.lenSquare=function(e){return e.x*e.x+e.y*e.y},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.add=function(e,t,r){e.x=t.x+r.x,e.y=t.y+r.y},n.sub=function(e,t,r){e.x=t.x-r.x,e.y=t.y-r.y},n.scale=function(e,t,r){e.x=t.x*r,e.y=t.y*r},n.scaleAndAdd=function(e,t,r,i){e.x=t.x+r.x*i,e.y=t.y+r.y*i},n.lerp=function(e,t,r,i){var a=1-i;e.x=a*t.x+i*r.x,e.y=a*t.y+i*r.y},n}();const pr=H6e;var dx=Math.min,fx=Math.max,kh=new pr,Lh=new pr,Nh=new pr,Oh=new pr,zy=new pr,Uy=new pr,V6e=function(){function n(e,t,r,i){r<0&&(e=e+r,r=-r),i<0&&(t=t+i,i=-i),this.x=e,this.y=t,this.width=r,this.height=i}return n.prototype.union=function(e){var t=dx(e.x,this.x),r=dx(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=fx(e.x+e.width,this.x+this.width)-t:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=fx(e.y+e.height,this.y+this.height)-r:this.height=e.height,this.x=t,this.y=r},n.prototype.applyTransform=function(e){n.applyTransform(this,this,e)},n.prototype.calculateTransform=function(e){var t=this,r=e.width/t.width,i=e.height/t.height,a=wg();return VR(a,a,[-t.x,-t.y]),U6e(a,a,[r,i]),VR(a,a,[e.x,e.y]),a},n.prototype.intersect=function(e,t){if(!e)return!1;e instanceof n||(e=n.create(e));var r=this,i=r.x,a=r.x+r.width,s=r.y,o=r.y+r.height,l=e.x,c=e.x+e.width,u=e.y,d=e.y+e.height,f=!(a<l||c<i||o<u||d<s);if(t){var h=1/0,p=0,m=Math.abs(a-l),v=Math.abs(c-i),g=Math.abs(o-u),y=Math.abs(d-s),b=Math.min(m,v),_=Math.min(g,y);a<l||c<i?b>p&&(p=b,m<v?pr.set(Uy,-m,0):pr.set(Uy,v,0)):b<h&&(h=b,m<v?pr.set(zy,m,0):pr.set(zy,-v,0)),o<u||d<s?_>p&&(p=_,g<y?pr.set(Uy,0,-g):pr.set(Uy,0,y)):b<h&&(h=b,g<y?pr.set(zy,0,g):pr.set(zy,0,-y))}return t&&pr.copy(t,f?zy:Uy),f},n.prototype.contain=function(e,t){var r=this;return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(e){n.copy(this,e)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return this.width===0||this.height===0},n.create=function(e){return new n(e.x,e.y,e.width,e.height)},n.copy=function(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},n.applyTransform=function(e,t,r){if(!r){e!==t&&n.copy(e,t);return}if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],a=r[3],s=r[4],o=r[5];e.x=t.x*i+s,e.y=t.y*a+o,e.width=t.width*i,e.height=t.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}kh.x=Nh.x=t.x,kh.y=Oh.y=t.y,Lh.x=Oh.x=t.x+t.width,Lh.y=Nh.y=t.y+t.height,kh.transform(r),Oh.transform(r),Lh.transform(r),Nh.transform(r),e.x=dx(kh.x,Lh.x,Nh.x,Oh.x),e.y=dx(kh.y,Lh.y,Nh.y,Oh.y);var l=fx(kh.x,Lh.x,Nh.x,Oh.x),c=fx(kh.y,Lh.y,Nh.y,Oh.y);e.width=l-e.x,e.height=c-e.y},n}();const Xr=V6e;var FQ="silent";function $6e(n,e,t){return{type:n,event:t,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:G6e}}function G6e(){ZT(this.event)}var W6e=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.handler=null,t}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Ac),Hy=function(){function n(e,t){this.x=e,this.y=t}return n}(),q6e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],oE=new Xr(0,0,0,0),zQ=function(n){wn(e,n);function e(t,r,i,a,s){var o=n.call(this)||this;return o._hovered=new Hy(0,0),o.storage=t,o.painter=r,o.painterRoot=a,o._pointerSize=s,i=i||new W6e,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new M6e(o),o}return e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(ut(q6e,function(r){t.on&&t.on(r,this[r],this)},this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var r=t.zrX,i=t.zrY,a=UQ(this,r,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new Hy(r,i):this.findHover(r,i),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),o&&c!==o&&this.dispatchToElement(s,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==o&&this.dispatchToElement(l,"mouseover",t)},e.prototype.mouseout=function(t){var r=t.zrEventControl;r!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",t),r!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new Hy(0,0)},e.prototype.dispatch=function(t,r){var i=this[t];i&&i.call(this,r)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var r=this.proxy;r.setCursor&&r.setCursor(t)},e.prototype.dispatchToElement=function(t,r,i){t=t||{};var a=t.target;if(!(a&&a.silent)){for(var s="on"+r,o=$6e(r,t,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(r,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(r,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(r,o)}))}},e.prototype.findHover=function(t,r,i){var a=this.storage.getDisplayList(),s=new Hy(t,r);if(W9(a,s,t,r,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,c=l/2,u=new Xr(t-c,r-c,l,l),d=a.length-1;d>=0;d--){var f=a[d];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(oE.copy(f.getBoundingRect()),f.transform&&oE.applyTransform(f.transform),oE.intersect(u)&&o.push(f))}if(o.length)for(var h=4,p=Math.PI/12,m=Math.PI*2,v=0;v<c;v+=h)for(var g=0;g<m;g+=p){var y=t+v*Math.cos(g),b=r+v*Math.sin(g);if(W9(o,s,y,b,i),s.target)return s}}return s},e.prototype.processGesture=function(t,r){this._gestureMgr||(this._gestureMgr=new F6e);var i=this._gestureMgr;r==="start"&&i.clear();var a=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(r==="end"&&i.clear(),a){var s=a.type;t.gestureEvent=s;var o=new Hy;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(Ac);ut(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){zQ.prototype[n]=function(e){var t=e.zrX,r=e.zrY,i=UQ(this,t,r),a,s;if((n!=="mouseup"||!i)&&(a=this.findHover(t,r),s=a.target),n==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(n==="mouseup")this._upEl=s;else if(n==="click"){if(this._downEl!==this._upEl||!this._downPoint||FR(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,n,e)}});function K6e(n,e,t){if(n[n.rectHover?"rectContain":"contain"](e,t)){for(var r=n,i=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var s=r.getClipPath();if(s&&!s.contain(e,t))return!1;r.silent&&(i=!0)}var o=r.__hostTarget;r=o||r.parent}return i?FQ:!0}return!1}function W9(n,e,t,r,i){for(var a=n.length-1;a>=0;a--){var s=n[a],o=void 0;if(s!==i&&!s.ignore&&(o=K6e(s,t,r))&&(!e.topTarget&&(e.topTarget=s),o!==FQ)){e.target=s;break}}}function UQ(n,e,t){var r=n.painter;return e<0||e>r.getWidth()||t<0||t>r.getHeight()}const Y6e=zQ;var HQ=32,Vy=7;function X6e(n){for(var e=0;n>=HQ;)e|=n&1,n>>=1;return n+e}function q9(n,e,t,r){var i=e+1;if(i===t)return 1;if(r(n[i++],n[e])<0){for(;i<t&&r(n[i],n[i-1])<0;)i++;j6e(n,e,i)}else for(;i<t&&r(n[i],n[i-1])>=0;)i++;return i-e}function j6e(n,e,t){for(t--;e<t;){var r=n[e];n[e++]=n[t],n[t--]=r}}function K9(n,e,t,r,i){for(r===e&&r++;r<t;r++){for(var a=n[r],s=e,o=r,l;s<o;)l=s+o>>>1,i(a,n[l])<0?o=l:s=l+1;var c=r-s;switch(c){case 3:n[s+3]=n[s+2];case 2:n[s+2]=n[s+1];case 1:n[s+1]=n[s];break;default:for(;c>0;)n[s+c]=n[s+c-1],c--}n[s]=a}}function lE(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])>0){for(o=r-i;l<o&&a(n,e[t+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(n,e[t+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}for(s++;s<l;){var u=s+(l-s>>>1);a(n,e[t+u])>0?s=u+1:l=u}return l}function cE(n,e,t,r,i,a){var s=0,o=0,l=1;if(a(n,e[t+i])<0){for(o=i+1;l<o&&a(n,e[t+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var c=s;s=i-l,l=i-c}else{for(o=r-i;l<o&&a(n,e[t+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var u=s+(l-s>>>1);a(n,e[t+u])<0?l=u:s=u+1}return l}function Z6e(n,e){var t=Vy,r,i,a=0;n.length;var s=[];r=[],i=[];function o(h,p){r[a]=h,i[a]=p,a+=1}function l(){for(;a>1;){var h=a-2;if(h>=1&&i[h-1]<=i[h]+i[h+1]||h>=2&&i[h-2]<=i[h]+i[h-1])i[h-1]<i[h+1]&&h--;else if(i[h]>i[h+1])break;u(h)}}function c(){for(;a>1;){var h=a-2;h>0&&i[h-1]<i[h+1]&&h--,u(h)}}function u(h){var p=r[h],m=i[h],v=r[h+1],g=i[h+1];i[h]=m+g,h===a-3&&(r[h+1]=r[h+2],i[h+1]=i[h+2]),a--;var y=cE(n[v],n,p,m,0,e);p+=y,m-=y,m!==0&&(g=lE(n[p+m-1],n,v,g,g-1,e),g!==0&&(m<=g?d(p,m,v,g):f(p,m,v,g)))}function d(h,p,m,v){var g=0;for(g=0;g<p;g++)s[g]=n[h+g];var y=0,b=m,_=h;if(n[_++]=n[b++],--v===0){for(g=0;g<p;g++)n[_+g]=s[y+g];return}if(p===1){for(g=0;g<v;g++)n[_+g]=n[b+g];n[_+v]=s[y];return}for(var x=t,S,T,C;;){S=0,T=0,C=!1;do if(e(n[b],s[y])<0){if(n[_++]=n[b++],T++,S=0,--v===0){C=!0;break}}else if(n[_++]=s[y++],S++,T=0,--p===1){C=!0;break}while((S|T)<x);if(C)break;do{if(S=cE(n[b],s,y,p,0,e),S!==0){for(g=0;g<S;g++)n[_+g]=s[y+g];if(_+=S,y+=S,p-=S,p<=1){C=!0;break}}if(n[_++]=n[b++],--v===0){C=!0;break}if(T=lE(s[y],n,b,v,0,e),T!==0){for(g=0;g<T;g++)n[_+g]=n[b+g];if(_+=T,b+=T,v-=T,v===0){C=!0;break}}if(n[_++]=s[y++],--p===1){C=!0;break}x--}while(S>=Vy||T>=Vy);if(C)break;x<0&&(x=0),x+=2}if(t=x,t<1&&(t=1),p===1){for(g=0;g<v;g++)n[_+g]=n[b+g];n[_+v]=s[y]}else{if(p===0)throw new Error;for(g=0;g<p;g++)n[_+g]=s[y+g]}}function f(h,p,m,v){var g=0;for(g=0;g<v;g++)s[g]=n[m+g];var y=h+p-1,b=v-1,_=m+v-1,x=0,S=0;if(n[_--]=n[y--],--p===0){for(x=_-(v-1),g=0;g<v;g++)n[x+g]=s[g];return}if(v===1){for(_-=p,y-=p,S=_+1,x=y+1,g=p-1;g>=0;g--)n[S+g]=n[x+g];n[_]=s[b];return}for(var T=t;;){var C=0,M=0,A=!1;do if(e(s[b],n[y])<0){if(n[_--]=n[y--],C++,M=0,--p===0){A=!0;break}}else if(n[_--]=s[b--],M++,C=0,--v===1){A=!0;break}while((C|M)<T);if(A)break;do{if(C=p-cE(s[b],n,h,p,p-1,e),C!==0){for(_-=C,y-=C,p-=C,S=_+1,x=y+1,g=C-1;g>=0;g--)n[S+g]=n[x+g];if(p===0){A=!0;break}}if(n[_--]=s[b--],--v===1){A=!0;break}if(M=v-lE(n[y],s,0,v,v-1,e),M!==0){for(_-=M,b-=M,v-=M,S=_+1,x=b+1,g=0;g<M;g++)n[S+g]=s[x+g];if(v<=1){A=!0;break}}if(n[_--]=n[y--],--p===0){A=!0;break}T--}while(C>=Vy||M>=Vy);if(A)break;T<0&&(T=0),T+=2}if(t=T,t<1&&(t=1),v===1){for(_-=p,y-=p,S=_+1,x=y+1,g=p-1;g>=0;g--)n[S+g]=n[x+g];n[_]=s[b]}else{if(v===0)throw new Error;for(x=_-(v-1),g=0;g<v;g++)n[x+g]=s[g]}}return{mergeRuns:l,forceMergeRuns:c,pushRun:o}}function B2(n,e,t,r){t||(t=0),r||(r=n.length);var i=r-t;if(!(i<2)){var a=0;if(i<HQ){a=q9(n,t,r,e),K9(n,t,r,t+a,e);return}var s=Z6e(n,e),o=X6e(i);do{if(a=q9(n,t,r,e),a<o){var l=i;l>o&&(l=o),K9(n,t,t+l,t+a,e),a=l}s.pushRun(t,a),s.mergeRuns(),i-=a,t+=a}while(i!==0);s.forceMergeRuns()}}var Bo=1,I1=2,sv=4,Y9=!1;function uE(){Y9||(Y9=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function X9(n,e){return n.zlevel===e.zlevel?n.z===e.z?n.z2-e.z2:n.z-e.z:n.zlevel-e.zlevel}var Q6e=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=X9}return n.prototype.traverse=function(e,t){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(e,t)},n.prototype.getDisplayList=function(e,t){t=t||!1;var r=this._displayList;return(e||!r.length)&&this.updateDisplayList(t),r},n.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var t=this._roots,r=this._displayList,i=0,a=t.length;i<a;i++)this._updateAndAddDisplayable(t[i],null,e);r.length=this._displayListLen,B2(r,X9)},n.prototype._updateAndAddDisplayable=function(e,t,r){if(!(e.ignore&&!r)){e.beforeUpdate(),e.update(),e.afterUpdate();var i=e.getClipPath();if(e.ignoreClip)t=null;else if(i){t?t=t.slice():t=[];for(var a=i,s=e;a;)a.parent=s,a.updateTransform(),t.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),l=0;l<o.length;l++){var c=o[l];e.__dirty&&(c.__dirty|=Bo),this._updateAndAddDisplayable(c,t,r)}e.__dirty=0}else{var u=e;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(uE(),u.z=0),isNaN(u.z2)&&(uE(),u.z2=0),isNaN(u.zlevel)&&(uE(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var d=e.getDecalElement&&e.getDecalElement();d&&this._updateAndAddDisplayable(d,t,r);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,r);var h=e.getTextContent();h&&this._updateAndAddDisplayable(h,t,r)}},n.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},n.prototype.delRoot=function(e){if(e instanceof Array){for(var t=0,r=e.length;t<r;t++)this.delRoot(e[t]);return}var i=di(this._roots,e);i>=0&&this._roots.splice(i,1)},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const J6e=Q6e;var VQ;VQ=Pr.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const $R=VQ;var F2={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return .5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)))},elasticOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-e)*(2*Math.PI)/r)+1)},elasticInOut:function(n){var e,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,e=r/4):e=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1?-.5*(t*Math.pow(2,10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)):t*Math.pow(2,-10*(n-=1))*Math.sin((n-e)*(2*Math.PI)/r)*.5+1)},backIn:function(n){var e=1.70158;return n*n*((e+1)*n-e)},backOut:function(n){var e=1.70158;return--n*n*((e+1)*n+e)+1},backInOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)},bounceIn:function(n){return 1-F2.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?F2.bounceIn(n*2)*.5:F2.bounceOut(n*2-1)*.5+.5}};const $Q=F2;var hx=Math.pow,zf=Math.sqrt,jC=1e-8,GQ=1e-4,j9=zf(3),px=1/3,Kc=ay(),pl=ay(),Vv=ay();function If(n){return n>-jC&&n<jC}function WQ(n){return n>jC||n<-jC}function ja(n,e,t,r,i){var a=1-i;return a*a*(a*n+3*i*e)+i*i*(i*r+3*a*t)}function Z9(n,e,t,r,i){var a=1-i;return 3*(((e-n)*a+2*(t-e)*i)*a+(r-t)*i*i)}function qQ(n,e,t,r,i,a){var s=r+3*(e-t)-n,o=3*(t-e*2+n),l=3*(e-n),c=n-i,u=o*o-3*s*l,d=o*l-9*s*c,f=l*l-3*o*c,h=0;if(If(u)&&If(d))if(If(o))a[0]=0;else{var p=-l/o;p>=0&&p<=1&&(a[h++]=p)}else{var m=d*d-4*u*f;if(If(m)){var v=d/u,p=-o/s+v,g=-v/2;p>=0&&p<=1&&(a[h++]=p),g>=0&&g<=1&&(a[h++]=g)}else if(m>0){var y=zf(m),b=u*o+1.5*s*(-d+y),_=u*o+1.5*s*(-d-y);b<0?b=-hx(-b,px):b=hx(b,px),_<0?_=-hx(-_,px):_=hx(_,px);var p=(-o-(b+_))/(3*s);p>=0&&p<=1&&(a[h++]=p)}else{var x=(2*u*o-3*s*d)/(2*zf(u*u*u)),S=Math.acos(x)/3,T=zf(u),C=Math.cos(S),p=(-o-2*T*C)/(3*s),g=(-o+T*(C+j9*Math.sin(S)))/(3*s),M=(-o+T*(C-j9*Math.sin(S)))/(3*s);p>=0&&p<=1&&(a[h++]=p),g>=0&&g<=1&&(a[h++]=g),M>=0&&M<=1&&(a[h++]=M)}}return h}function KQ(n,e,t,r,i){var a=6*t-12*e+6*n,s=9*e+3*r-3*n-9*t,o=3*e-3*n,l=0;if(If(s)){if(WQ(a)){var c=-o/a;c>=0&&c<=1&&(i[l++]=c)}}else{var u=a*a-4*s*o;if(If(u))i[0]=-a/(2*s);else if(u>0){var d=zf(u),c=(-a+d)/(2*s),f=(-a-d)/(2*s);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function ZC(n,e,t,r,i,a){var s=(e-n)*i+n,o=(t-e)*i+e,l=(r-t)*i+t,c=(o-s)*i+s,u=(l-o)*i+o,d=(u-c)*i+c;a[0]=n,a[1]=s,a[2]=c,a[3]=d,a[4]=d,a[5]=u,a[6]=l,a[7]=r}function YQ(n,e,t,r,i,a,s,o,l,c,u){var d,f=.005,h=1/0,p,m,v,g;Kc[0]=l,Kc[1]=c;for(var y=0;y<1;y+=.05)pl[0]=ja(n,t,i,s,y),pl[1]=ja(e,r,a,o,y),v=Uv(Kc,pl),v<h&&(d=y,h=v);h=1/0;for(var b=0;b<32&&!(f<GQ);b++)p=d-f,m=d+f,pl[0]=ja(n,t,i,s,p),pl[1]=ja(e,r,a,o,p),v=Uv(pl,Kc),p>=0&&v<h?(d=p,h=v):(Vv[0]=ja(n,t,i,s,m),Vv[1]=ja(e,r,a,o,m),g=Uv(Vv,Kc),m<=1&&g<h?(d=m,h=g):f*=.5);return u&&(u[0]=ja(n,t,i,s,d),u[1]=ja(e,r,a,o,d)),zf(h)}function e8e(n,e,t,r,i,a,s,o,l){for(var c=n,u=e,d=0,f=1/l,h=1;h<=l;h++){var p=h*f,m=ja(n,t,i,s,p),v=ja(e,r,a,o,p),g=m-c,y=v-u;d+=Math.sqrt(g*g+y*y),c=m,u=v}return d}function ys(n,e,t,r){var i=1-r;return i*(i*n+2*r*e)+r*r*t}function Q9(n,e,t,r){return 2*((1-r)*(e-n)+r*(t-e))}function t8e(n,e,t,r,i){var a=n-2*e+t,s=2*(e-n),o=n-r,l=0;if(If(a)){if(WQ(s)){var c=-o/s;c>=0&&c<=1&&(i[l++]=c)}}else{var u=s*s-4*a*o;if(If(u)){var c=-s/(2*a);c>=0&&c<=1&&(i[l++]=c)}else if(u>0){var d=zf(u),c=(-s+d)/(2*a),f=(-s-d)/(2*a);c>=0&&c<=1&&(i[l++]=c),f>=0&&f<=1&&(i[l++]=f)}}return l}function XQ(n,e,t){var r=n+t-2*e;return r===0?.5:(n-e)/r}function QC(n,e,t,r,i){var a=(e-n)*r+n,s=(t-e)*r+e,o=(s-a)*r+a;i[0]=n,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=t}function jQ(n,e,t,r,i,a,s,o,l){var c,u=.005,d=1/0;Kc[0]=s,Kc[1]=o;for(var f=0;f<1;f+=.05){pl[0]=ys(n,t,i,f),pl[1]=ys(e,r,a,f);var h=Uv(Kc,pl);h<d&&(c=f,d=h)}d=1/0;for(var p=0;p<32&&!(u<GQ);p++){var m=c-u,v=c+u;pl[0]=ys(n,t,i,m),pl[1]=ys(e,r,a,m);var h=Uv(pl,Kc);if(m>=0&&h<d)c=m,d=h;else{Vv[0]=ys(n,t,i,v),Vv[1]=ys(e,r,a,v);var g=Uv(Vv,Kc);v<=1&&g<d?(c=v,d=g):u*=.5}}return l&&(l[0]=ys(n,t,i,c),l[1]=ys(e,r,a,c)),zf(d)}function n8e(n,e,t,r,i,a,s){for(var o=n,l=e,c=0,u=1/s,d=1;d<=s;d++){var f=d*u,h=ys(n,t,i,f),p=ys(e,r,a,f),m=h-o,v=p-l;c+=Math.sqrt(m*m+v*v),o=h,l=p}return c}var r8e=/cubic-bezier\(([0-9,\.e ]+)\)/;function ZQ(n){var e=n&&r8e.exec(n);if(e){var t=e[1].split(","),r=+jc(t[0]),i=+jc(t[1]),a=+jc(t[2]),s=+jc(t[3]);if(isNaN(r+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:qQ(0,r,a,1,l,o)&&ja(0,i,s,1,o[0])}}}var i8e=function(){function n(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||Ws,this.ondestroy=e.ondestroy||Ws,this.onrestart=e.onrestart||Ws,e.easing&&this.setEasing(e.easing)}return n.prototype.step=function(e,t){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=t;return}var r=this._life,i=e-this._startTime-this._pausedTime,a=i/r;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%r;this._startTime=e-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(e){this.easing=e,this.easingFunc=wr(e)?e:$Q[e]||ZQ(e)},n}();const a8e=i8e;var QQ=function(){function n(e){this.value=e}return n}(),s8e=function(){function n(){this._len=0}return n.prototype.insert=function(e){var t=new QQ(e);return this.insertEntry(t),t},n.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},n.prototype.remove=function(e){var t=e.prev,r=e.next;t?t.next=r:this.head=r,r?r.prev=t:this.tail=t,e.next=e.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),o8e=function(){function n(e){this._list=new s8e,this._maxSize=10,this._map={},this._maxSize=e}return n.prototype.put=function(e,t){var r=this._list,i=this._map,a=null;if(i[e]==null){var s=r.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=r.head;r.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=t:o=new QQ(t),o.key=e,r.insertEntry(o),i[e]=o}return a},n.prototype.get=function(e){var t=this._map[e],r=this._list;if(t!=null)return t!==r.tail&&(r.remove(t),r.insertEntry(t)),t.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const dw=o8e;var J9={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function tb(n){return n=Math.round(n),n<0?0:n>255?255:n}function ez(n){return n<0?0:n>1?1:n}function dE(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?tb(parseFloat(e)/100*255):tb(parseInt(e,10))}function nb(n){var e=n;return e.length&&e.charAt(e.length-1)==="%"?ez(parseFloat(e)/100):ez(parseFloat(e))}function fE(n,e,t){return t<0?t+=1:t>1&&(t-=1),t*6<1?n+(e-n)*t*6:t*2<1?e:t*3<2?n+(e-n)*(2/3-t)*6:n}function al(n,e,t,r,i){return n[0]=e,n[1]=t,n[2]=r,n[3]=i,n}function GR(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n}var JQ=new dw(20),mx=null;function t0(n,e){mx&&GR(mx,e),mx=JQ.put(n,mx||e.slice())}function Zp(n,e){if(n){e=e||[];var t=JQ.get(n);if(t)return GR(e,t);n=n+"";var r=n.replace(/ /g,"").toLowerCase();if(r in J9)return GR(e,J9[r]),t0(n,e),e;var i=r.length;if(r.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(r.slice(1,4),16);if(!(a>=0&&a<=4095)){al(e,0,0,0,1);return}return al(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(r.slice(4),16)/15:1),t0(n,e),e}else if(i===7||i===9){var a=parseInt(r.slice(1,7),16);if(!(a>=0&&a<=16777215)){al(e,0,0,0,1);return}return al(e,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(r.slice(7),16)/255:1),t0(n,e),e}return}var s=r.indexOf("("),o=r.indexOf(")");if(s!==-1&&o+1===i){var l=r.substr(0,s),c=r.substr(s+1,o-(s+1)).split(","),u=1;switch(l){case"rgba":if(c.length!==4)return c.length===3?al(e,+c[0],+c[1],+c[2],1):al(e,0,0,0,1);u=nb(c.pop());case"rgb":if(c.length>=3)return al(e,dE(c[0]),dE(c[1]),dE(c[2]),c.length===3?u:nb(c[3])),t0(n,e),e;al(e,0,0,0,1);return;case"hsla":if(c.length!==4){al(e,0,0,0,1);return}return c[3]=nb(c[3]),tz(c,e),t0(n,e),e;case"hsl":if(c.length!==3){al(e,0,0,0,1);return}return tz(c,e),t0(n,e),e;default:return}}al(e,0,0,0,1)}}function tz(n,e){var t=(parseFloat(n[0])%360+360)%360/360,r=nb(n[1]),i=nb(n[2]),a=i<=.5?i*(r+1):i+r-i*r,s=i*2-a;return e=e||[],al(e,tb(fE(s,a,t+1/3)*255),tb(fE(s,a,t)*255),tb(fE(s,a,t-1/3)*255),1),n.length===4&&(e[3]=n[3]),e}function nz(n,e){var t=Zp(n);if(t){for(var r=0;r<3;r++)e<0?t[r]=t[r]*(1-e)|0:t[r]=(255-t[r])*e+t[r]|0,t[r]>255?t[r]=255:t[r]<0&&(t[r]=0);return E6(t,t.length===4?"rgba":"rgb")}}function E6(n,e){if(!(!n||!n.length)){var t=n[0]+","+n[1]+","+n[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(t+=","+n[3]),e+"("+t+")"}}function JC(n,e){var t=Zp(n);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*e:0}function l8e(n){return n.type==="linear"}function c8e(n){return n.type==="radial"}(function(){return Pr.hasGlobalWindow&&wr(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null}})();var WR=Array.prototype.slice;function Xu(n,e,t){return(e-n)*t+n}function hE(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=Xu(e[a],t[a],r);return n}function u8e(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=Xu(e[s][o],t[s][o],r)}return n}function vx(n,e,t,r){for(var i=e.length,a=0;a<i;a++)n[a]=e[a]+t[a]*r;return n}function rz(n,e,t,r){for(var i=e.length,a=i&&e[0].length,s=0;s<i;s++){n[s]||(n[s]=[]);for(var o=0;o<a;o++)n[s][o]=e[s][o]+t[s][o]*r}return n}function d8e(n,e){for(var t=n.length,r=e.length,i=t>r?e:n,a=Math.min(t,r),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(t,r);o++)i.push({offset:s.offset,color:s.color.slice()})}function f8e(n,e,t){var r=n,i=e;if(!(!r.push||!i.push)){var a=r.length,s=i.length;if(a!==s){var o=a>s;if(o)r.length=s;else for(var l=a;l<s;l++)r.push(t===1?i[l]:WR.call(i[l]))}for(var c=r[0]&&r[0].length,l=0;l<r.length;l++)if(t===1)isNaN(r[l])&&(r[l]=i[l]);else for(var u=0;u<c;u++)isNaN(r[l][u])&&(r[l][u]=i[l][u])}}function z2(n){if(_o(n)){var e=n.length;if(_o(n[0])){for(var t=[],r=0;r<e;r++)t.push(WR.call(n[r]));return t}return WR.call(n)}return n}function U2(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=n[3]==null?1:n[3],"rgba("+n.join(",")+")"}function h8e(n){return _o(n&&n[0])?2:1}var gx=0,H2=1,eJ=2,R1=3,qR=4,KR=5,iz=6;function az(n){return n===qR||n===KR}function yx(n){return n===H2||n===eJ}var $y=[0,0,0,0],p8e=function(){function n(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(e,t,r){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=iz,l=t;if(_o(t)){var c=h8e(t);o=c,(c===1&&!Fi(t[0])||c===2&&!Fi(t[0][0]))&&(s=!0)}else if(Fi(t)&&!YC(t))o=gx;else if(Qn(t))if(!isNaN(+t))o=gx;else{var u=Zp(t);u&&(l=u,o=R1)}else if(XT(t)){var d=cn({},l);d.colorStops=dr(t.colorStops,function(h){return{offset:h.offset,color:Zp(h.color)}}),l8e(t)?o=qR:c8e(t)&&(o=KR),l=d}a===0?this.valType=o:(o!==this.valType||o===iz)&&(s=!0),this.discrete=this.discrete||s;var f={time:e,value:l,rawValue:t,percent:0};return r&&(f.easing=r,f.easingFunc=wr(r)?r:$Q[r]||ZQ(r)),i.push(f),f},n.prototype.prepare=function(e,t){var r=this.keyframes;this._needsSort&&r.sort(function(m,v){return m.time-v.time});for(var i=this.valType,a=r.length,s=r[a-1],o=this.discrete,l=yx(i),c=az(i),u=0;u<a;u++){var d=r[u],f=d.value,h=s.value;d.percent=d.time/e,o||(l&&u!==a-1?f8e(f,h,i):c&&d8e(f.colorStops,h.colorStops))}if(!o&&i!==KR&&t&&this.needsAnimate()&&t.needsAnimate()&&i===t.valType&&!t._finished){this._additiveTrack=t;for(var p=r[0].value,u=0;u<a;u++)i===gx?r[u].additiveValue=r[u].value-p:i===R1?r[u].additiveValue=vx([],r[u].value,p,-1):yx(i)&&(r[u].additiveValue=i===H2?vx([],r[u].value,p,-1):rz([],r[u].value,p,-1))}},n.prototype.step=function(e,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,i=r?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,c=a===R1,u,d=this._lastFr,f=Math.min,h,p;if(o===1)h=p=s[0];else{if(t<0)u=0;else if(t<this._lastFrP){var m=f(d+1,o-1);for(u=m;u>=0&&!(s[u].percent<=t);u--);u=f(u,o-2)}else{for(u=d;u<o&&!(s[u].percent>t);u++);u=f(u-1,o-2)}p=s[u+1],h=s[u]}if(h&&p){this._lastFr=u,this._lastFrP=t;var v=p.percent-h.percent,g=v===0?1:f((t-h.percent)/v,1);p.easingFunc&&(g=p.easingFunc(g));var y=r?this._additiveValue:c?$y:e[l];if((yx(a)||c)&&!y&&(y=this._additiveValue=[]),this.discrete)e[l]=g<1?h.rawValue:p.rawValue;else if(yx(a))a===H2?hE(y,h[i],p[i],g):u8e(y,h[i],p[i],g);else if(az(a)){var b=h[i],_=p[i],x=a===qR;e[l]={type:x?"linear":"radial",x:Xu(b.x,_.x,g),y:Xu(b.y,_.y,g),colorStops:dr(b.colorStops,function(T,C){var M=_.colorStops[C];return{offset:Xu(T.offset,M.offset,g),color:U2(hE([],T.color,M.color,g))}}),global:_.global},x?(e[l].x2=Xu(b.x2,_.x2,g),e[l].y2=Xu(b.y2,_.y2,g)):e[l].r=Xu(b.r,_.r,g)}else if(c)hE(y,h[i],p[i],g),r||(e[l]=U2(y));else{var S=Xu(h[i],p[i],g);r?this._additiveValue=S:e[l]=S}r&&this._addToTarget(e)}}},n.prototype._addToTarget=function(e){var t=this.valType,r=this.propName,i=this._additiveValue;t===gx?e[r]=e[r]+i:t===R1?(Zp(e[r],$y),vx($y,$y,i,1),e[r]=U2($y)):t===H2?vx(e[r],e[r],i,1):t===eJ&&rz(e[r],e[r],i,1)},n}(),m8e=function(){function n(e,t,r,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=t,t&&i){S6("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=r}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(e){this._target=e},n.prototype.when=function(e,t,r){return this.whenWithKeys(e,t,ki(t),r)},n.prototype.whenWithKeys=function(e,t,r,i){for(var a=this._tracks,s=0;s<r.length;s++){var o=r[s],l=a[o];if(!l){l=a[o]=new p8e(o);var c=void 0,u=this._getAdditiveTrack(o);if(u){var d=u.keyframes,f=d[d.length-1];c=f&&f.value,u.valType===R1&&c&&(c=U2(c))}else c=this._target[o];if(c==null)continue;e>0&&l.addKeyframe(0,z2(c),i),this._trackKeys.push(o)}l.addKeyframe(e,z2(t[o]),i)}return this._maxTime=Math.max(this._maxTime,e),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var t=e.length,r=0;r<t;r++)e[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,t=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,t)for(var r=0;r<t.length;r++)t[r].call(this)},n.prototype._setTracksFinished=function(){for(var e=this._tracks,t=this._trackKeys,r=0;r<t.length;r++)e[t[r]].setFinished()},n.prototype._getAdditiveTrack=function(e){var t,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var a=r[i].getTrack(e);a&&(t=a)}return t},n.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var t=this,r=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),c=o.keyframes,u=c.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var d=c[u-1];d&&(t._target[o.propName]=d.rawValue),o.setFinished()}else r.push(o)}if(r.length||this._force){var f=new a8e({life:i,loop:this._loop,delay:this._delay||0,onframe:function(h){t._started=2;var p=t._additiveAnimators;if(p){for(var m=!1,v=0;v<p.length;v++)if(p[v]._clip){m=!0;break}m||(t._additiveAnimators=null)}for(var v=0;v<r.length;v++)r[v].step(t._target,h);var g=t._onframeCbs;if(g)for(var v=0;v<g.length;v++)g[v](t._target,h)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},n.prototype.stop=function(e){if(this._clip){var t=this._clip;e&&t.onframe(1),this._abortedCallback()}},n.prototype.delay=function(e){return this._delay=e,this},n.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},n.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},n.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(e){return this._tracks[e]},n.prototype.getTracks=function(){var e=this;return dr(this._trackKeys,function(t){return e._tracks[t]})},n.prototype.stopTracks=function(e,t){if(!e.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,a=0;a<e.length;a++){var s=r[e[a]];s&&!s.isFinished()&&(t?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!r[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},n.prototype.saveTo=function(e,t,r){if(e){t=t||this._trackKeys;for(var i=0;i<t.length;i++){var a=t[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[r?0:o.length-1];l&&(e[a]=z2(l.rawValue))}}}},n.prototype.__changeFinalValue=function(e,t){t=t||ki(e);for(var r=0;r<t.length;r++){var i=t[r],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},n}();const I6=m8e;function _v(){return new Date().getTime()}var v8e=function(n){wn(e,n);function e(t){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,t=t||{},r.stage=t.stage||{},r}return e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var r=t.getClip();r&&this.addClip(r)},e.prototype.removeClip=function(t){if(t.animation){var r=t.prev,i=t.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var r=t.getClip();r&&this.removeClip(r),t.animation=null},e.prototype.update=function(t){for(var r=_v()-this._pausedTime,i=r-this._time,a=this._head;a;){var s=a.next,o=a.step(r,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=r,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0;function r(){t._running&&($R(r),!t._paused&&t.update())}$R(r)},e.prototype.start=function(){this._running||(this._time=_v(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=_v(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=_v()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var r=t.next;t.prev=t.next=t.animation=null,t=r}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(t,r){r=r||{},this.start();var i=new I6(t,r.loop);return this.addAnimator(i),i},e}(Ac);const g8e=v8e;var y8e=300,pE=Pr.domSupported,mE=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},r=dr(n,function(i){var a=i.replace("mouse","pointer");return t.hasOwnProperty(a)?a:i});return{mouse:n,touch:e,pointer:r}}(),sz={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},oz=!1;function YR(n){var e=n.pointerType;return e==="pen"||e==="touch"}function b8e(n){n.touching=!0,n.touchTimer!=null&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}function vE(n){n&&(n.zrByTouch=!0)}function _8e(n,e){return ol(n.dom,new w8e(n,e),!0)}function tJ(n,e){for(var t=e,r=!1;t&&t.nodeType!==9&&!(r=t.domBelongToZr||t!==e&&t===n.painterRoot);)t=t.parentNode;return r}var w8e=function(){function n(e,t){this.stopPropagation=Ws,this.stopImmediatePropagation=Ws,this.preventDefault=Ws,this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}return n}(),tc={mousedown:function(n){n=ol(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=ol(this.dom,n);var e=this.__mayPointerCapture;e&&(n.zrX!==e[0]||n.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=ol(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){n=ol(this.dom,n);var e=n.toElement||n.relatedTarget;tJ(this,e)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){oz=!0,n=ol(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){oz||(n=ol(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){n=ol(this.dom,n),vE(n),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),tc.mousemove.call(this,n),tc.mousedown.call(this,n)},touchmove:function(n){n=ol(this.dom,n),vE(n),this.handler.processGesture(n,"change"),tc.mousemove.call(this,n)},touchend:function(n){n=ol(this.dom,n),vE(n),this.handler.processGesture(n,"end"),tc.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<y8e&&tc.click.call(this,n)},pointerdown:function(n){tc.mousedown.call(this,n)},pointermove:function(n){YR(n)||tc.mousemove.call(this,n)},pointerup:function(n){tc.mouseup.call(this,n)},pointerout:function(n){YR(n)||tc.mouseout.call(this,n)}};ut(["click","dblclick","contextmenu"],function(n){tc[n]=function(e){e=ol(this.dom,e),this.trigger(n,e)}});var XR={pointermove:function(n){YR(n)||XR.mousemove.call(this,n)},pointerup:function(n){XR.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),e&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function x8e(n,e){var t=e.domHandlers;Pr.pointerEventsSupported?ut(mE.pointer,function(r){V2(e,r,function(i){t[r].call(n,i)})}):(Pr.touchEventsSupported&&ut(mE.touch,function(r){V2(e,r,function(i){t[r].call(n,i),b8e(e)})}),ut(mE.mouse,function(r){V2(e,r,function(i){i=M6(i),e.touching||t[r].call(n,i)})}))}function S8e(n,e){Pr.pointerEventsSupported?ut(sz.pointer,t):Pr.touchEventsSupported||ut(sz.mouse,t);function t(r){function i(a){a=M6(a),tJ(n,a.target)||(a=_8e(n,a),e.domHandlers[r].call(n,a))}V2(e,r,i,{capture:!0})}}function V2(n,e,t,r){n.mounted[e]=t,n.listenerOpts[e]=r,O6e(n.domTarget,e,t,r)}function gE(n){var e=n.mounted;for(var t in e)e.hasOwnProperty(t)&&B6e(n.domTarget,t,e[t],n.listenerOpts[t]);n.mounted={}}var lz=function(){function n(e,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=t}return n}(),C8e=function(n){wn(e,n);function e(t,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=t,i.painterRoot=r,i._localHandlerScope=new lz(t,tc),pE&&(i._globalHandlerScope=new lz(document,XR)),x8e(i,i._localHandlerScope),i}return e.prototype.dispose=function(){gE(this._localHandlerScope),pE&&gE(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,pE&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var r=this._globalHandlerScope;t?S8e(this,r):gE(r)}},e}(Ac);const M8e=C8e;var nJ=1;Pr.hasGlobalWindow&&(nJ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var eM=nJ,jR=.4,ZR="#333",QR="#ccc",T8e="#eee",cz=T6,uz=5e-5;function Bh(n){return n>uz||n<-uz}var Fh=[],n0=[],yE=wg(),bE=Math.abs,A8e=function(){function n(){}return n.prototype.getLocalTransform=function(e){return n.getLocalTransform(this,e)},n.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},n.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},n.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},n.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},n.prototype.needLocalTransform=function(){return Bh(this.rotation)||Bh(this.x)||Bh(this.y)||Bh(this.scaleX-1)||Bh(this.scaleY-1)||Bh(this.skewX)||Bh(this.skewY)},n.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,t=this.needLocalTransform(),r=this.transform;if(!(t||e)){r&&(cz(r),this.invTransform=null);return}r=r||wg(),t?this.getLocalTransform(r):cz(r),e&&(t?Hv(r,e,r):BQ(r,e)),this.transform=r,this._resolveGlobalScaleRatio(r)},n.prototype._resolveGlobalScaleRatio=function(e){var t=this.globalScaleRatio;if(t!=null&&t!==1){this.getGlobalScale(Fh);var r=Fh[0]<0?-1:1,i=Fh[1]<0?-1:1,a=((Fh[0]-r)*t+r)/Fh[0]||0,s=((Fh[1]-i)*t+i)/Fh[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||wg(),uw(this.invTransform,e)},n.prototype.getComputedTransform=function(){for(var e=this,t=[];e;)t.push(e),e=e.parent;for(;e=t.pop();)e.updateTransform();return this.transform},n.prototype.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],r=e[2]*e[2]+e[3]*e[3],i=Math.atan2(e[1],e[0]),a=Math.PI/2+i-Math.atan2(e[3],e[2]);r=Math.sqrt(r)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+e[4],this.y=+e[5],this.scaleX=t,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Hv(n0,e.invTransform,t),t=n0);var r=this.originX,i=this.originY;(r||i)&&(yE[4]=r,yE[5]=i,Hv(n0,t,yE),n0[4]-=r,n0[5]-=i,t=n0),this.setLocalTransform(t)}},n.prototype.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},n.prototype.transformCoordToLocal=function(e,t){var r=[e,t],i=this.invTransform;return i&&qs(r,r,i),r},n.prototype.transformCoordToGlobal=function(e,t){var r=[e,t],i=this.transform;return i&&qs(r,r,i),r},n.prototype.getLineScale=function(){var e=this.transform;return e&&bE(e[0]-1)>1e-10&&bE(e[3]-1)>1e-10?Math.sqrt(bE(e[0]*e[3]-e[2]*e[1])):1},n.prototype.copyTransform=function(e){E8e(this,e)},n.getLocalTransform=function(e,t){t=t||[];var r=e.originX||0,i=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,l=e.anchorY,c=e.rotation||0,u=e.x,d=e.y,f=e.skewX?Math.tan(e.skewX):0,h=e.skewY?Math.tan(-e.skewY):0;if(r||i||o||l){var p=r+o,m=i+l;t[4]=-p*a-f*m*s,t[5]=-m*s-h*p*a}else t[4]=t[5]=0;return t[0]=a,t[3]=s,t[1]=h*a,t[2]=f*s,c&&A6(t,t,c),t[4]+=r+u,t[5]+=i+d,t},n.initDefaultProps=function(){var e=n.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),n}(),l_=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function E8e(n,e){for(var t=0;t<l_.length;t++){var r=l_[t];n[r]=e[r]}}const Rf=A8e;var dz={};function $o(n,e){e=e||hm;var t=dz[e];t||(t=dz[e]=new dw(500));var r=t.get(n);return r==null&&(r=iy.measureText(n,e).width,t.put(n,r)),r}function fz(n,e,t,r){var i=$o(n,e),a=P6(e),s=P1(0,i,t),o=ov(0,a,r),l=new Xr(s,o,i,a);return l}function R6(n,e,t,r){var i=((n||"")+"").split(`
`),a=i.length;if(a===1)return fz(i[0],e,t,r);for(var s=new Xr(0,0,0,0),o=0;o<i.length;o++){var l=fz(i[o],e,t,r);o===0?s.copy(l):s.union(l)}return s}function P1(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function ov(n,e,t){return t==="middle"?n-=e/2:t==="bottom"&&(n-=e),n}function P6(n){return $o("国",n)}function oh(n,e){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*e:parseFloat(n):n}function tM(n,e,t){var r=e.position||"inside",i=e.distance!=null?e.distance:5,a=t.height,s=t.width,o=a/2,l=t.x,c=t.y,u="left",d="top";if(r instanceof Array)l+=oh(r[0],t.width),c+=oh(r[1],t.height),u=null,d=null;else switch(r){case"left":l-=i,c+=o,u="right",d="middle";break;case"right":l+=i+s,c+=o,d="middle";break;case"top":l+=s/2,c-=i,u="center",d="bottom";break;case"bottom":l+=s/2,c+=a+i,u="center";break;case"inside":l+=s/2,c+=o,u="center",d="middle";break;case"insideLeft":l+=i,c+=o,d="middle";break;case"insideRight":l+=s-i,c+=o,u="right",d="middle";break;case"insideTop":l+=s/2,c+=i,u="center";break;case"insideBottom":l+=s/2,c+=a-i,u="center",d="bottom";break;case"insideTopLeft":l+=i,c+=i;break;case"insideTopRight":l+=s-i,c+=i,u="right";break;case"insideBottomLeft":l+=i,c+=a-i,d="bottom";break;case"insideBottomRight":l+=s-i,c+=a-i,u="right",d="bottom";break}return n=n||{},n.x=l,n.y=c,n.align=u,n.verticalAlign=d,n}var _E="__zr_normal__",wE=l_.concat(["ignore"]),I8e=sh(l_,function(n,e){return n[e]=!0,n},{ignore:!1}),r0={},R8e=new Xr(0,0,0,0),D6=function(){function n(e){this.id=RQ(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return n.prototype._init=function(e){this.attr(e)},n.prototype.drift=function(e,t,r){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(e){var t=this._textContent;if(t&&(!t.ignore||e)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,a=t.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var c=!1;if(a.copyTransform(t),r.position!=null){var u=R8e;r.layoutRect?u.copy(r.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(r0,r,u):tM(r0,r,u),a.x=r0.x,a.y=r0.y,s=r0.align,o=r0.verticalAlign;var d=r.origin;if(d&&r.rotation!=null){var f=void 0,h=void 0;d==="center"?(f=u.width*.5,h=u.height*.5):(f=oh(d[0],u.width),h=oh(d[1],u.height)),c=!0,a.originX=-a.x+f+(i?0:u.x),a.originY=-a.y+h+(i?0:u.y)}}r.rotation!=null&&(a.rotation=r.rotation);var p=r.offset;p&&(a.x+=p[0],a.y+=p[1],c||(a.originX=-p[0],a.originY=-p[1]));var m=r.inside==null?typeof r.position=="string"&&r.position.indexOf("inside")>=0:r.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),g=void 0,y=void 0,b=void 0;m&&this.canBeInsideText()?(g=r.insideFill,y=r.insideStroke,(g==null||g==="auto")&&(g=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(g),b=!0)):(g=r.outsideFill,y=r.outsideStroke,(g==null||g==="auto")&&(g=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(g),b=!0)),g=g||"#000",(g!==v.fill||y!==v.stroke||b!==v.autoStroke||s!==v.align||o!==v.verticalAlign)&&(l=!0,v.fill=g,v.stroke=y,v.autoStroke=b,v.align=s,v.verticalAlign=o,t.setDefaultTextStyle(v)),t.__dirty|=Bo,l&&t.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(e){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?QR:ZR},n.prototype.getOutsideStroke=function(e){var t=this.__zr&&this.__zr.getBackgroundColor(),r=typeof t=="string"&&Zp(t);r||(r=[255,255,255,1]);for(var i=r[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*i+(a?0:255)*(1-i);return r[3]=1,E6(r,"rgba")},n.prototype.traverse=function(e,t){},n.prototype.attrKV=function(e,t){e==="textConfig"?this.setTextConfig(t):e==="textContent"?this.setTextContent(t):e==="clipPath"?this.setClipPath(t):e==="extra"?(this.extra=this.extra||{},cn(this.extra,t)):this[e]=t},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(e,t){if(typeof e=="string")this.attrKV(e,t);else if(or(e))for(var r=e,i=ki(r),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,e[s])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var t=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==_E)){var s=i.targetName,o=s?t[s]:t;i.saveTo(o)}}},n.prototype._innerSaveToNormal=function(e){var t=this._normalState;t||(t=this._normalState={}),e.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(e,t,wE)},n.prototype._savePrimaryToNormal=function(e,t,r){for(var i=0;i<r.length;i++){var a=r[i];e[a]!=null&&!(a in t)&&(t[a]=this[a])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(e){return this.states[e]},n.prototype.ensureState=function(e){var t=this.states;return t[e]||(t[e]={}),t[e]},n.prototype.clearStates=function(e){this.useState(_E,!1,e)},n.prototype.useState=function(e,t,r,i){var a=e===_E,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(di(o,e)>=0&&(t||o.length===1))){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(e)),c||(c=this.states&&this.states[e]),!c&&!a){S6("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||i);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,c,this._normalState,t,!r&&!this.__inHover&&l&&l.duration>0,l);var d=this._textContent,f=this._textGuide;return d&&d.useState(e,t,r,u),f&&f.useState(e,t,r,u),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Bo),c}}},n.prototype.useStates=function(e,t,r){if(!e.length)this.clearStates();else{var i=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(e[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var c=e[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,e)),u||(u=this.states[c]),u&&i.push(u)}var d=i[s-1],f=!!(d&&d.hoverLayer||r);f&&this._toggleHoverLayerFlag(!0);var h=this._mergeStates(i),p=this.stateTransition;this.saveCurrentToNormalState(h),this._applyStateObj(e.join(","),h,this._normalState,!1,!t&&!this.__inHover&&p&&p.duration>0,p);var m=this._textContent,v=this._textGuide;m&&m.useStates(e,t,f),v&&v.useStates(e,t,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Bo)}},n.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var t=this.animators[e];t.targetName&&t.changeTarget(this[t.targetName])}},n.prototype.removeState=function(e){var t=di(this.currentStates,e);if(t>=0){var r=this.currentStates.slice();r.splice(t,1),this.useStates(r)}},n.prototype.replaceState=function(e,t,r){var i=this.currentStates.slice(),a=di(i,e),s=di(i,t)>=0;a>=0?s?i.splice(a,1):i[a]=t:r&&!s&&i.push(t),this.useStates(i)},n.prototype.toggleState=function(e,t){t?this.useState(e,!0):this.removeState(e)},n.prototype._mergeStates=function(e){for(var t={},r,i=0;i<e.length;i++){var a=e[i];cn(t,a),a.textConfig&&(r=r||{},cn(r,a.textConfig))}return r&&(t.textConfig=r),t},n.prototype._applyStateObj=function(e,t,r,i,a,s){var o=!(t&&i);t&&t.textConfig?(this.textConfig=cn({},i?this.textConfig:r.textConfig),cn(this.textConfig,t.textConfig)):o&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},c=!1,u=0;u<wE.length;u++){var d=wE[u],f=a&&I8e[d];t&&t[d]!=null?f?(c=!0,l[d]=t[d]):this[d]=t[d]:o&&r[d]!=null&&(f?(c=!0,l[d]=r[d]):this[d]=r[d])}if(!a)for(var u=0;u<this.animators.length;u++){var h=this.animators[u],p=h.targetName;h.getLoop()||h.__changeFinalValue(p?(t||r)[p]:t||r)}c&&this._transitionState(e,l,s)},n.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var t=this.__zr;t&&e.addSelfToZr(t),e.__zr=t,e.__hostTarget=this}},n.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},n.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(e){var t=this._textContent;t!==e&&(t&&t!==e&&this.removeTextContent(),e.innerTransformable=new Rf,this._attachComponent(e),this._textContent=e,this.markRedraw())},n.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),cn(this.textConfig,e),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Bo;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var t=this._textContent,r=this._textGuide;t&&(t.__inHover=e),r&&(r.__inHover=e)},n.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.addAnimator(t[r]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},n.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var r=0;r<t.length;r++)e.animation.removeAnimator(t[r]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},n.prototype.animate=function(e,t,r){var i=e?this[e]:this,a=new I6(i,t,r);return e&&(a.targetName=e),this.addAnimator(a,e),a},n.prototype.addAnimator=function(e,t){var r=this.__zr,i=this;e.during(function(){i.updateDuringAnimation(t)}).done(function(){var a=i.animators,s=di(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),r&&r.animation.addAnimator(e),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(e){this.markRedraw()},n.prototype.stopAnimation=function(e,t){for(var r=this.animators,i=r.length,a=[],s=0;s<i;s++){var o=r[s];!e||e===o.scope?o.stop(t):a.push(o)}return this.animators=a,this},n.prototype.animateTo=function(e,t,r){xE(this,e,t,r)},n.prototype.animateFrom=function(e,t,r){xE(this,e,t,r,!0)},n.prototype._transitionState=function(e,t,r,i){for(var a=xE(this,t,r,i),s=0;s<a.length;s++)a[s].__fromStateTransition=e},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var e=n.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=Bo;function t(r,i,a,s){Object.defineProperty(e,r,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,c){Object.defineProperty(c,0,{get:function(){return l[a]},set:function(u){l[a]=u}}),Object.defineProperty(c,1,{get:function(){return l[s]},set:function(u){l[s]=u}})}}Object.defineProperty&&(t("position","_legacyPos","x","y"),t("scale","_legacyScale","scaleX","scaleY"),t("origin","_legacyOrigin","originX","originY"))}(),n}();Cu(D6,Ac);Cu(D6,Rf);function xE(n,e,t,r,i){t=t||{};var a=[];rJ(n,"",n,e,t,r,a,i);var s=a.length,o=!1,l=t.done,c=t.aborted,u=function(){o=!0,s--,s<=0&&(o?l&&l():c&&c())},d=function(){s--,s<=0&&(o?l&&l():c&&c())};s||l&&l(),a.length>0&&t.during&&a[0].during(function(p,m){t.during(m)});for(var f=0;f<a.length;f++){var h=a[f];u&&h.done(u),d&&h.aborted(d),t.force&&h.duration(t.duration),h.start(t.easing)}return a}function SE(n,e,t){for(var r=0;r<t;r++)n[r]=e[r]}function P8e(n){return _o(n[0])}function D8e(n,e,t){if(_o(e[t]))if(_o(n[t])||(n[t]=[]),Yo(e[t])){var r=e[t].length;n[t].length!==r&&(n[t]=new e[t].constructor(r),SE(n[t],e[t],r))}else{var i=e[t],a=n[t],s=i.length;if(P8e(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?SE(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else SE(a,i,s);a.length=i.length}else n[t]=e[t]}function k8e(n,e){return n===e||_o(n)&&_o(e)&&L8e(n,e)}function L8e(n,e){var t=n.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}function rJ(n,e,t,r,i,a,s,o){for(var l=ki(r),c=i.duration,u=i.delay,d=i.additive,f=i.setToFinal,h=!or(a),p=n.animators,m=[],v=0;v<l.length;v++){var g=l[v],y=r[g];if(y!=null&&t[g]!=null&&(h||a[g]))if(or(y)&&!_o(y)&&!XT(y)){if(e){o||(t[g]=y,n.updateDuringAnimation(e));continue}rJ(n,g,t[g],y,i,a&&a[g],s,o)}else m.push(g);else o||(t[g]=y,n.updateDuringAnimation(e),m.push(g))}var b=m.length;if(!d&&b)for(var _=0;_<p.length;_++){var x=p[_];if(x.targetName===e){var S=x.stopTracks(m);if(S){var T=di(p,x);p.splice(T,1)}}}if(i.force||(m=Oa(m,function(I){return!k8e(r[I],t[I])}),b=m.length),b>0||i.force&&!s.length){var C=void 0,M=void 0,A=void 0;if(o){M={},f&&(C={});for(var _=0;_<b;_++){var g=m[_];M[g]=t[g],f?C[g]=r[g]:t[g]=r[g]}}else if(f){A={};for(var _=0;_<b;_++){var g=m[_];A[g]=z2(t[g]),D8e(t,r,g)}}var x=new I6(t,!1,!1,d?Oa(p,function(D){return D.targetName===e}):null);x.targetName=e,i.scope&&(x.scope=i.scope),f&&C&&x.whenWithKeys(0,C,m),A&&x.whenWithKeys(0,A,m),x.whenWithKeys(c??500,o?M:r,m).delay(u||0),n.addAnimator(x,e),s.push(x)}}const iJ=D6;var aJ=function(n){wn(e,n);function e(t){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,r){if(t&&t!==this&&t.parent!==this&&r&&r.parent===this){var i=this._children,a=i.indexOf(r);a>=0&&(i.splice(a,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,r){var i=di(this._children,t);return i>=0&&this.replaceAt(r,i),this},e.prototype.replaceAt=function(t,r){var i=this._children,a=i[r];if(t&&t!==this&&t.parent!==this&&t!==a){i[r]=t,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var r=this.__zr;r&&r!==t.__zr&&t.addSelfToZr(r),r&&r.refresh()},e.prototype.remove=function(t){var r=this.__zr,i=this._children,a=di(i,t);return a<0?this:(i.splice(a,1),t.parent=null,r&&t.removeSelfFromZr(r),r&&r.refresh(),this)},e.prototype.removeAll=function(){for(var t=this._children,r=this.__zr,i=0;i<t.length;i++){var a=t[i];r&&a.removeSelfFromZr(r),a.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,r){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];t.call(r,s,a)}return this},e.prototype.traverse=function(t,r){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=t.call(r,a);a.isGroup&&!s&&a.traverse(t,r)}return this},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++){var i=this._children[r];i.removeSelfFromZr(t)}},e.prototype.getBoundingRect=function(t){for(var r=new Xr(0,0,0,0),i=t||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?(Xr.applyTransform(r,c,u),s=s||r.clone(),s.union(r)):(s=s||c.clone(),s.union(c))}}return s||r},e}(iJ);aJ.prototype.type="group";const wo=aJ;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var $2={},sJ={};function N8e(n){delete sJ[n]}function O8e(n){if(!n)return!1;if(typeof n=="string")return JC(n,1)<jR;if(n.colorStops){for(var e=n.colorStops,t=0,r=e.length,i=0;i<r;i++)t+=JC(e[i].color,1);return t/=r,t<jR}return!1}var B8e=function(){function n(e,t,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=t,this.id=e;var a=new J6e,s=r.renderer||"canvas";$2[s]||(s=ki($2)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var o=new $2[s](t,a,r,e),l=r.ssr||o.ssrOnly;this.storage=a,this.painter=o;var c=!Pr.node&&!Pr.worker&&!l?new M8e(o.getViewportRoot(),o.root):null,u=r.useCoarsePointer,d=u==null||u==="auto"?Pr.touchEventsSupported:!!u,f=44,h;d&&(h=Gr(r.pointerSize,f)),this.handler=new Y6e(a,o,c,o.root,h),this.animation=new g8e({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return n.prototype.add=function(e){e&&(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},n.prototype.remove=function(e){e&&(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this.refresh()},n.prototype.setBackgroundColor=function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=O8e(e)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(e){this._darkMode=e},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(e){e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(e){var t,r=_v();this._needsRefresh&&(t=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var i=_v();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover()},n.prototype.resize=function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(e){this.handler.setCursorStyle(e)},n.prototype.findHover=function(e,t){return this.handler.findHover(e,t)},n.prototype.on=function(e,t,r){return this.handler.on(e,t,r),this},n.prototype.off=function(e,t){this.handler.off(e,t)},n.prototype.trigger=function(e,t){this.handler.trigger(e,t)},n.prototype.clear=function(){for(var e=this.storage.getRoots(),t=0;t<e.length;t++)e[t]instanceof wo&&e[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,N8e(this.id)},n}();function hz(n,e){var t=new B8e(RQ(),n,e);return sJ[t.id]=t,t}function F8e(n,e){$2[n]=e}var pz=1e-4,oJ=20;function z8e(n){return n.replace(/^\s+|\s+$/g,"")}function nM(n,e,t,r){var i=e[0],a=e[1],s=t[0],o=t[1],l=a-i,c=o-s;if(l===0)return c===0?s:(s+o)/2;if(r)if(l>0){if(n<=i)return s;if(n>=a)return o}else{if(n>=i)return s;if(n<=a)return o}else{if(n===i)return s;if(n===a)return o}return(n-i)/l*c+s}function bi(n,e){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%";break}return Qn(n)?z8e(n).match(/%$/)?parseFloat(n)/100*e:parseFloat(n):n==null?NaN:+n}function va(n,e,t){return e==null&&(e=10),e=Math.min(Math.max(0,e),oJ),n=(+n).toFixed(e),t?n:+n}function id(n){if(n=+n,isNaN(n))return 0;if(n>1e-14){for(var e=1,t=0;t<15;t++,e*=10)if(Math.round(n*e)/e===n)return t}return U8e(n)}function U8e(n){var e=n.toString().toLowerCase(),t=e.indexOf("e"),r=t>0?+e.slice(t+1):0,i=t>0?t:e.length,a=e.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-r)}function H8e(n,e){var t=Math.log,r=Math.LN10,i=Math.floor(t(n[1]-n[0])/r),a=Math.round(t(Math.abs(e[1]-e[0]))/r),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function V8e(n,e){var t=sh(n,function(h,p){return h+(isNaN(p)?0:p)},0);if(t===0)return[];for(var r=Math.pow(10,e),i=dr(n,function(h){return(isNaN(h)?0:h)/t*r*100}),a=r*100,s=dr(i,function(h){return Math.floor(h)}),o=sh(s,function(h,p){return h+p},0),l=dr(i,function(h,p){return h-s[p]});o<a;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,f=l.length;d<f;++d)l[d]>c&&(c=l[d],u=d);++s[u],l[u]=0,++o}return dr(s,function(h){return h/r})}function $8e(n,e){var t=Math.max(id(n),id(e)),r=n+e;return t>oJ?r:va(r,t)}function lJ(n){var e=Math.PI*2;return(n%e+e)%e}function rM(n){return n>-pz&&n<pz}var G8e=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function _d(n){if(n instanceof Date)return n;if(Qn(n)){var e=G8e.exec(n);if(!e)return new Date(NaN);if(e[8]){var t=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(t-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(n==null)return new Date(NaN);return new Date(Math.round(n))}function W8e(n){return Math.pow(10,k6(n))}function k6(n){if(n===0)return 0;var e=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,e)>=10&&e++,e}function cJ(n,e){var t=k6(n),r=Math.pow(10,t),i=n/r,a;return e?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,n=a*r,t>=-20?+n.toFixed(t<0?-t:0):n}function iM(n){var e=parseFloat(n);return e==n&&(e!==0||!Qn(n)||n.indexOf("x")<=0)?e:NaN}function q8e(n){return!isNaN(iM(n))}function uJ(){return Math.round(Math.random()*9)}function dJ(n,e){return e===0?n:dJ(e,n%e)}function mz(n,e){return n==null?e:e==null?n:n*e/dJ(n,e)}function ao(n){throw new Error(n)}function vz(n,e,t){return(e-n)*t+n}var fJ="series\0",K8e="\0_ec_\0";function Ks(n){return n instanceof Array?n:n==null?[]:[n]}function JR(n,e,t){if(n){n[e]=n[e]||{},n.emphasis=n.emphasis||{},n.emphasis[e]=n.emphasis[e]||{};for(var r=0,i=t.length;r<i;r++){var a=t[r];!n.emphasis[e].hasOwnProperty(a)&&n[e].hasOwnProperty(a)&&(n.emphasis[e][a]=n[e][a])}}}var gz=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function fw(n){return or(n)&&!Dn(n)&&!(n instanceof Date)?n.value:n}function Y8e(n){return or(n)&&!(n instanceof Array)}function X8e(n,e,t){var r=t==="normalMerge",i=t==="replaceMerge",a=t==="replaceAll";n=n||[],e=(e||[]).slice();var s=Dr();ut(e,function(l,c){if(!or(l)){e[c]=null;return}});var o=j8e(n,s,t);return(r||i)&&Z8e(o,n,s,e),r&&Q8e(o,e),r||i?J8e(o,e,i):a&&eNe(o,e),tNe(o),o}function j8e(n,e,t){var r=[];if(t==="replaceAll")return r;for(var i=0;i<n.length;i++){var a=n[i];a&&a.id!=null&&e.set(a.id,i),r.push({existing:t==="replaceMerge"||c_(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}function Z8e(n,e,t,r){ut(r,function(i,a){if(!(!i||i.id==null)){var s=rb(i.id),o=t.get(s);if(o!=null){var l=n[o];fu(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=e[o],r[a]=null}}})}function Q8e(n,e){ut(e,function(t,r){if(!(!t||t.name==null))for(var i=0;i<n.length;i++){var a=n[i].existing;if(!n[i].newOption&&a&&(a.id==null||t.id==null)&&!c_(t)&&!c_(a)&&hJ("name",a,t)){n[i].newOption=t,e[r]=null;return}}})}function J8e(n,e,t){ut(e,function(r){if(r){for(var i,a=0;(i=n[a])&&(i.newOption||c_(i.existing)||i.existing&&r.id!=null&&!hJ("id",r,i.existing));)a++;i?(i.newOption=r,i.brandNew=t):n.push({newOption:r,brandNew:t,existing:null,keyInfo:null}),a++}})}function eNe(n,e){ut(e,function(t){n.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}function tNe(n){var e=Dr();ut(n,function(t){var r=t.existing;r&&e.set(r.id,t)}),ut(n,function(t){var r=t.newOption;fu(!r||r.id==null||!e.get(r.id)||e.get(r.id)===t,"id duplicates: "+(r&&r.id)),r&&r.id!=null&&e.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),ut(n,function(t,r){var i=t.existing,a=t.newOption,s=t.keyInfo;if(or(a)){if(s.name=a.name!=null?rb(a.name):i?i.name:fJ+r,i)s.id=rb(i.id);else if(a.id!=null)s.id=rb(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,t)}})}function hJ(n,e,t){var r=gc(e[n],null),i=gc(t[n],null);return r!=null&&i!=null&&r===i}function rb(n){return gc(n,"")}function gc(n,e){return n==null?e:Qn(n)?n:Fi(n)||OR(n)?n+"":e}function L6(n){var e=n.name;return!!(e&&e.indexOf(fJ))}function c_(n){return n&&n.id!=null&&rb(n.id).indexOf(K8e)===0}function nNe(n,e,t){ut(n,function(r){var i=r.newOption;or(i)&&(r.keyInfo.mainType=e,r.keyInfo.subType=rNe(e,i,r.existing,t))})}function rNe(n,e,t,r){var i=e.type?e.type:t?t.subType:r.determineSubType(n,e);return i}function hw(n,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Dn(e.dataIndex)?dr(e.dataIndex,function(t){return n.indexOfRawIndex(t)}):n.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Dn(e.name)?dr(e.name,function(t){return n.indexOfName(t)}):n.indexOfName(e.name)}function qi(){var n="__ec_inner_"+iNe++;return function(e){return e[n]||(e[n]={})}}var iNe=uJ();function CE(n,e,t){var r=N6(e,t),i=r.mainTypeSpecified,a=r.queryOptionMap,s=r.others,o=s,l=t?t.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(c,u){var d=pw(n,u,c,{useDefault:l===u,enableAll:t&&t.enableAll!=null?t.enableAll:!0,enableNone:t&&t.enableNone!=null?t.enableNone:!0});o[u+"Models"]=d.models,o[u+"Model"]=d.models[0]}),o}function N6(n,e){var t;if(Qn(n)){var r={};r[n+"Index"]=0,t=r}else t=n;var i=Dr(),a={},s=!1;return ut(t,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],d=(c[2]||"").toLowerCase();if(!(!u||!d||e&&e.includeMainTypes&&di(e.includeMainTypes,u)<0)){s=s||!!u;var f=i.get(u)||i.set(u,{});f[d]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var dc={useDefault:!0,enableAll:!1,enableNone:!1};function pw(n,e,t,r){r=r||dc;var i=t.index,a=t.id,s=t.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=r.useDefault&&(l=n.getComponent(e))?[l]:[],o}return i==="none"||i===!1?(fu(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(fu(r.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=n.queryComponents({mainType:e,index:i,id:a,name:s}),o)}function pJ(n,e,t){n.setAttribute?n.setAttribute(e,t):n[e]=t}function aNe(n,e){return n.getAttribute?n.getAttribute(e):n[e]}function sNe(n){return n==="auto"?Pr.domSupported?"html":"richText":n||"html"}function oNe(n,e,t,r,i){var a=e==null||e==="auto";if(r==null)return r;if(Fi(r)){var s=vz(t||0,r,i);return va(s,a?Math.max(id(t||0),id(r)):e)}else{if(Qn(r))return i<1?t:r;for(var o=[],l=t,c=r,u=Math.max(l?l.length:0,c.length),d=0;d<u;++d){var f=n.getDimensionInfo(d);if(f&&f.type==="ordinal")o[d]=(i<1&&l?l:c)[d];else{var h=l&&l[d]?l[d]:0,p=c[d],s=vz(h,p,i);o[d]=va(s,a?Math.max(id(h),id(p)):e)}}return o}}var lNe=".",zh="___EC__COMPONENT__CONTAINER___",mJ="___EC__EXTENDED_CLASS___";function Zc(n){var e={main:"",sub:""};if(n){var t=n.split(lNe);e.main=t[0]||"",e.sub=t[1]||""}return e}function cNe(n){fu(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')}function uNe(n){return!!(n&&n[mJ])}function O6(n,e){n.$constructor=n,n.extend=function(t){var r=this,i;return dNe(r)?i=function(a){wn(s,a);function s(){return a.apply(this,arguments)||this}return s}(r):(i=function(){(t.$constructor||r).apply(this,arguments)},u6e(i,this)),cn(i.prototype,t),i[mJ]=!0,i.extend=this.extend,i.superCall=pNe,i.superApply=mNe,i.superClass=r,i}}function dNe(n){return wr(n)&&/^class\s/.test(Function.prototype.toString.call(n))}function vJ(n,e){n.extend=e.extend}var fNe=Math.round(Math.random()*10);function hNe(n){var e=["__\0is_clz",fNe++].join("_");n.prototype[e]=!0,n.isInstance=function(t){return!!(t&&t[e])}}function pNe(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return this.superClass.prototype[e].apply(n,t)}function mNe(n,e,t){return this.superClass.prototype[e].apply(n,t)}function QT(n){var e={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){cNe(i),r.prototype.type=i;var a=Zc(i);if(!a.sub)e[a.main]=r;else if(a.sub!==zh){var s=t(a);s[a.sub]=r}}return r},n.getClass=function(r,i,a){var s=e[r];if(s&&s[zh]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return s},n.getClassesByMainType=function(r){var i=Zc(r),a=[],s=e[i.main];return s&&s[zh]?ut(s,function(o,l){l!==zh&&a.push(o)}):a.push(s),a},n.hasClass=function(r){var i=Zc(r);return!!e[i.main]},n.getAllClassMainTypes=function(){var r=[];return ut(e,function(i,a){r.push(a)}),r},n.hasSubTypes=function(r){var i=Zc(r),a=e[i.main];return a&&a[zh]};function t(r){var i=e[r.main];return(!i||!i[zh])&&(i=e[r.main]={},i[zh]=!0),i}}function u_(n,e){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return e=e||!1,function(r,i,a){for(var s={},o=0;o<n.length;o++){var l=n[o][1];if(!(i&&di(i,l)>=0||a&&di(a,l)<0)){var c=r.getShallow(l,e);c!=null&&(s[n[o][0]]=c)}}return s}}var vNe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],gNe=u_(vNe),yNe=function(){function n(){}return n.prototype.getAreaStyle=function(e,t){return gNe(this,e,t)},n}(),eP=new dw(50);function bNe(n){if(typeof n=="string"){var e=eP.get(n);return e&&e.image}else return n}function gJ(n,e,t,r,i){if(n)if(typeof n=="string"){if(e&&e.__zrImageSrc===n||!t)return e;var a=eP.get(n),s={hostEl:t,cb:r,cbPayload:i};return a?(e=a.image,!JT(e)&&a.pending.push(s)):(e=iy.loadImage(n,yz,yz),e.__zrImageSrc=n,eP.put(n,e.__cachedImgObj={image:e,pending:[s]})),e}else return n;else return e}function yz(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<n.pending.length;e++){var t=n.pending[e],r=t.cb;r&&r(this,t.cbPayload),t.hostEl.dirty()}n.pending.length=0}function JT(n){return n&&n.width&&n.height}var ME=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function _Ne(n,e,t,r,i){if(!e)return"";var a=(n+"").split(`
`);i=yJ(e,t,r,i);for(var s=0,o=a.length;s<o;s++)a[s]=bJ(a[s],i);return a.join(`
`)}function yJ(n,e,t,r){r=r||{};var i=cn({},r);i.font=e,t=Gr(t,"..."),i.maxIterations=Gr(r.maxIterations,2);var a=i.minChar=Gr(r.minChar,0);i.cnCharWidth=$o("国",e);var s=i.ascCharWidth=$o("a",e);i.placeholder=Gr(r.placeholder,"");for(var o=n=Math.max(0,n-1),l=0;l<a&&o>=s;l++)o-=s;var c=$o(t,e);return c>o&&(t="",c=0),o=n-c,i.ellipsis=t,i.ellipsisWidth=c,i.contentWidth=o,i.containerWidth=n,i}function bJ(n,e){var t=e.containerWidth,r=e.font,i=e.contentWidth;if(!t)return"";var a=$o(n,r);if(a<=t)return n;for(var s=0;;s++){if(a<=i||s>=e.maxIterations){n+=e.ellipsis;break}var o=s===0?wNe(n,i,e.ascCharWidth,e.cnCharWidth):a>0?Math.floor(n.length*i/a):0;n=n.substr(0,o),a=$o(n,r)}return n===""&&(n=e.placeholder),n}function wNe(n,e,t,r){for(var i=0,a=0,s=n.length;a<s&&i<e;a++){var o=n.charCodeAt(a);i+=0<=o&&o<=127?t:r}return a}function xNe(n,e){n!=null&&(n+="");var t=e.overflow,r=e.padding,i=e.font,a=t==="truncate",s=P6(i),o=Gr(e.lineHeight,s),l=!!e.backgroundColor,c=e.lineOverflow==="truncate",u=e.width,d;u!=null&&(t==="break"||t==="breakAll")?d=n?_J(n,e.font,u,t==="breakAll",0).lines:[]:d=n?n.split(`
`):[];var f=d.length*o,h=Gr(e.height,f);if(f>h&&c){var p=Math.floor(h/o);d=d.slice(0,p)}if(n&&a&&u!=null)for(var m=yJ(u,i,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),v=0;v<d.length;v++)d[v]=bJ(d[v],m);for(var g=h,y=0,v=0;v<d.length;v++)y=Math.max($o(d[v],i),y);u==null&&(u=y);var b=y;return r&&(g+=r[0]+r[2],b+=r[1]+r[3],u+=r[1]+r[3]),l&&(b=u),{lines:d,height:h,outerWidth:b,outerHeight:g,lineHeight:o,calculatedLineHeight:s,contentWidth:y,contentHeight:f,width:u}}var SNe=function(){function n(){}return n}(),bz=function(){function n(e){this.tokens=[],e&&(this.tokens=e)}return n}(),CNe=function(){function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return n}();function MNe(n,e){var t=new CNe;if(n!=null&&(n+=""),!n)return t;for(var r=e.width,i=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&r!=null?{width:r,accumWidth:0,breakAll:a==="breakAll"}:null,o=ME.lastIndex=0,l;(l=ME.exec(n))!=null;){var c=l.index;c>o&&TE(t,n.substring(o,c),e,s),TE(t,l[2],e,s,l[1]),o=ME.lastIndex}o<n.length&&TE(t,n.substring(o,n.length),e,s);var u=[],d=0,f=0,h=e.padding,p=a==="truncate",m=e.lineOverflow==="truncate";function v(z,O,W){z.width=O,z.lineHeight=W,d+=W,f=Math.max(f,O)}e:for(var g=0;g<t.lines.length;g++){for(var y=t.lines[g],b=0,_=0,x=0;x<y.tokens.length;x++){var S=y.tokens[x],T=S.styleName&&e.rich[S.styleName]||{},C=S.textPadding=T.padding,M=C?C[1]+C[3]:0,A=S.font=T.font||e.font;S.contentHeight=P6(A);var I=Gr(T.height,S.contentHeight);if(S.innerHeight=I,C&&(I+=C[0]+C[2]),S.height=I,S.lineHeight=J1(T.lineHeight,e.lineHeight,I),S.align=T&&T.align||e.align,S.verticalAlign=T&&T.verticalAlign||"middle",m&&i!=null&&d+S.lineHeight>i){x>0?(y.tokens=y.tokens.slice(0,x),v(y,_,b),t.lines=t.lines.slice(0,g+1)):t.lines=t.lines.slice(0,g);break e}var D=T.width,L=D==null||D==="auto";if(typeof D=="string"&&D.charAt(D.length-1)==="%")S.percentWidth=D,u.push(S),S.contentWidth=$o(S.text,A);else{if(L){var F=T.backgroundColor,B=F&&F.image;B&&(B=bNe(B),JT(B)&&(S.width=Math.max(S.width,B.width*I/B.height)))}var k=p&&r!=null?r-_:null;k!=null&&k<S.width?!L||k<M?(S.text="",S.width=S.contentWidth=0):(S.text=_Ne(S.text,k-M,A,e.ellipsis,{minChar:e.truncateMinChar}),S.width=S.contentWidth=$o(S.text,A)):S.contentWidth=$o(S.text,A)}S.width+=M,_+=S.width,T&&(b=Math.max(b,S.lineHeight))}v(y,_,b)}t.outerWidth=t.width=Gr(r,f),t.outerHeight=t.height=Gr(i,d),t.contentHeight=d,t.contentWidth=f,h&&(t.outerWidth+=h[1]+h[3],t.outerHeight+=h[0]+h[2]);for(var g=0;g<u.length;g++){var S=u[g],H=S.percentWidth;S.width=parseInt(H,10)/100*t.width}return t}function TE(n,e,t,r,i){var a=e==="",s=i&&t.rich[i]||{},o=n.lines,l=s.font||t.font,c=!1,u,d;if(r){var f=s.padding,h=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var p=oh(s.width,r.width)+h;o.length>0&&p+r.accumWidth>r.width&&(u=e.split(`
`),c=!0),r.accumWidth=p}else{var m=_J(e,l,r.width,r.breakAll,r.accumWidth);r.accumWidth=m.accumWidth+h,d=m.linesWidths,u=m.lines}}else u=e.split(`
`);for(var v=0;v<u.length;v++){var g=u[v],y=new SNe;if(y.styleName=i,y.text=g,y.isLineHolder=!g&&!a,typeof s.width=="number"?y.width=s.width:y.width=d?d[v]:$o(g,l),!v&&!c){var b=(o[o.length-1]||(o[0]=new bz)).tokens,_=b.length;_===1&&b[0].isLineHolder?b[0]=y:(g||!_||a)&&b.push(y)}else o.push(new bz([y]))}}function TNe(n){var e=n.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var ANe=sh(",&?/;] ".split(""),function(n,e){return n[e]=!0,n},{});function ENe(n){return TNe(n)?!!ANe[n]:!0}function _J(n,e,t,r,i){for(var a=[],s=[],o="",l="",c=0,u=0,d=0;d<n.length;d++){var f=n.charAt(d);if(f===`
`){l&&(o+=l,u+=c),a.push(o),s.push(u),o="",l="",c=0,u=0;continue}var h=$o(f,e),p=r?!1:!ENe(f);if(a.length?u+h>t:i+u+h>t){u?(o||l)&&(p?(o||(o=l,l="",c=0,u=c),a.push(o),s.push(u-c),l+=f,c+=h,o="",u=c):(l&&(o+=l,l="",c=0),a.push(o),s.push(u),o=f,u=h)):p?(a.push(l),s.push(c),l=f,c=h):(a.push(f),s.push(h));continue}u+=h,p?(l+=f,c+=h):(l&&(o+=l,l="",c=0),o+=f)}return!a.length&&!o&&(o=n,l="",c=0),l&&(o+=l),o&&(a.push(o),s.push(u)),a.length===1&&(u+=i),{accumWidth:u,lines:a,linesWidths:s}}var tP="__zr_style_"+Math.round(Math.random()*10),Qp={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},eA={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Qp[tP]=!0;var _z=["z","z2","invisible"],INe=["invisible"],RNe=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype._init=function(t){for(var r=ki(t),i=0;i<r.length;i++){var a=r[i];a==="style"?this.useStyle(t[a]):n.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,r,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&PNe(this,t,r)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},e.prototype.contain=function(t,r){return this.rectContain(t,r)},e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.rectContain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();return a.contain(i[0],i[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new Xr(0,0,0,0)),r?Xr.applyTransform(t,i,r):t.copy(i),(s||o||l)&&(t.width+=s*2+Math.abs(o),t.height+=s*2+Math.abs(l),t.x=Math.min(t.x,t.x+o-s),t.y=Math.min(t.y,t.y+l-s));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+c*2),t.height=Math.ceil(t.height+1+c*2))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new Xr(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(t,r){t!=="style"?n.prototype.attrKV.call(this,t,r):this.style?this.setStyle(r):this.useStyle(r)},e.prototype.setStyle=function(t,r){return typeof t=="string"?this.style[t]=r:cn(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=I1,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&I1)},e.prototype.styleUpdated=function(){this.__dirty&=~I1},e.prototype.createStyle=function(t){return jT(Qp,t)},e.prototype.useStyle=function(t){t[tP]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[tP]},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,r,_z)},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),c;if(r&&r.style?s?a?c=r.style:(c=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(c,r.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(c,r.style)):l&&(c=i.style),c)if(s){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var d=ki(u),f=0;f<d.length;f++){var h=d[f];h in c&&(c[h]=c[h],this.style[h]=u[h])}for(var p=ki(c),f=0;f<p.length;f++){var h=p[f];this.style[h]=this.style[h]}this._transitionState(t,{style:c},o,this.getAnimationStyleProps())}else this.useStyle(c);for(var m=this.__inHover?INe:_z,f=0;f<m.length;f++){var h=m[f];r&&r[h]!=null?this[h]=r[h]:l&&i[h]!=null&&(this[h]=i[h])}},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(r.style=i),r},e.prototype._mergeStyle=function(t,r){return cn(t,r),t},e.prototype.getAnimationStyleProps=function(){return eA},e.initDefaultProps=function(){var t=e.prototype;t.type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=Bo|I1}(),e}(iJ),AE=new Xr(0,0,0,0),EE=new Xr(0,0,0,0);function PNe(n,e,t){return AE.copy(n.getBoundingRect()),n.transform&&AE.applyTransform(n.transform),EE.width=e,EE.height=t,!AE.intersect(EE)}const mw=RNe;var so=Math.min,oo=Math.max,IE=Math.sin,RE=Math.cos,Uh=Math.PI*2,bx=ay(),_x=ay(),xx=ay();function DNe(n,e,t){if(n.length!==0){for(var r=n[0],i=r[0],a=r[0],s=r[1],o=r[1],l=1;l<n.length;l++)r=n[l],i=so(i,r[0]),a=oo(a,r[0]),s=so(s,r[1]),o=oo(o,r[1]);e[0]=i,e[1]=s,t[0]=a,t[1]=o}}function wz(n,e,t,r,i,a){i[0]=so(n,t),i[1]=so(e,r),a[0]=oo(n,t),a[1]=oo(e,r)}var xz=[],Sz=[];function kNe(n,e,t,r,i,a,s,o,l,c){var u=KQ,d=ja,f=u(n,t,i,s,xz);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var h=0;h<f;h++){var p=d(n,t,i,s,xz[h]);l[0]=so(p,l[0]),c[0]=oo(p,c[0])}f=u(e,r,a,o,Sz);for(var h=0;h<f;h++){var m=d(e,r,a,o,Sz[h]);l[1]=so(m,l[1]),c[1]=oo(m,c[1])}l[0]=so(n,l[0]),c[0]=oo(n,c[0]),l[0]=so(s,l[0]),c[0]=oo(s,c[0]),l[1]=so(e,l[1]),c[1]=oo(e,c[1]),l[1]=so(o,l[1]),c[1]=oo(o,c[1])}function LNe(n,e,t,r,i,a,s,o){var l=XQ,c=ys,u=oo(so(l(n,t,i),1),0),d=oo(so(l(e,r,a),1),0),f=c(n,t,i,u),h=c(e,r,a,d);s[0]=so(n,i,f),s[1]=so(e,a,h),o[0]=oo(n,i,f),o[1]=oo(e,a,h)}function NNe(n,e,t,r,i,a,s,o,l){var c=yv,u=bv,d=Math.abs(i-a);if(d%Uh<1e-4&&d>1e-4){o[0]=n-t,o[1]=e-r,l[0]=n+t,l[1]=e+r;return}if(bx[0]=RE(i)*t+n,bx[1]=IE(i)*r+e,_x[0]=RE(a)*t+n,_x[1]=IE(a)*r+e,c(o,bx,_x),u(l,bx,_x),i=i%Uh,i<0&&(i=i+Uh),a=a%Uh,a<0&&(a=a+Uh),i>a&&!s?a+=Uh:i<a&&s&&(i+=Uh),s){var f=a;a=i,i=f}for(var h=0;h<a;h+=Math.PI/2)h>i&&(xx[0]=RE(h)*t+n,xx[1]=IE(h)*r+e,c(o,xx,o),u(l,xx,l))}var oi={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Hh=[],Vh=[],Oc=[],Wd=[],Bc=[],Fc=[],PE=Math.min,DE=Math.max,$h=Math.cos,Gh=Math.sin,Pu=Math.abs,nP=Math.PI,_f=nP*2,kE=typeof Float32Array<"u",Gy=[];function LE(n){var e=Math.round(n/nP*1e8)/1e8;return e%2*nP}function ONe(n,e){var t=LE(n[0]);t<0&&(t+=_f);var r=t-n[0],i=n[1];i+=r,!e&&i-t>=_f?i=t+_f:e&&t-i>=_f?i=t-_f:!e&&t>i?i=t+(_f-LE(t-i)):e&&t<i&&(i=t-(_f-LE(i-t))),n[0]=t,n[1]=i}var BNe=function(){function n(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(e,t,r){r=r||0,r>0&&(this._ux=Pu(r/eM/e)||0,this._uy=Pu(r/eM/t)||0)},n.prototype.setDPR=function(e){this.dpr=e},n.prototype.setContext=function(e){this._ctx=e},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(e,t){return this._drawPendingPt(),this.addData(oi.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},n.prototype.lineTo=function(e,t){var r=Pu(e-this._xi),i=Pu(t-this._yi),a=r>this._ux||i>this._uy;if(this.addData(oi.L,e,t),this._ctx&&a&&this._ctx.lineTo(e,t),a)this._xi=e,this._yi=t,this._pendingPtDist=0;else{var s=r*r+i*i;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=t,this._pendingPtDist=s)}return this},n.prototype.bezierCurveTo=function(e,t,r,i,a,s){return this._drawPendingPt(),this.addData(oi.C,e,t,r,i,a,s),this._ctx&&this._ctx.bezierCurveTo(e,t,r,i,a,s),this._xi=a,this._yi=s,this},n.prototype.quadraticCurveTo=function(e,t,r,i){return this._drawPendingPt(),this.addData(oi.Q,e,t,r,i),this._ctx&&this._ctx.quadraticCurveTo(e,t,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(e,t,r,i,a,s){this._drawPendingPt(),Gy[0]=i,Gy[1]=a,ONe(Gy,s),i=Gy[0],a=Gy[1];var o=a-i;return this.addData(oi.A,e,t,r,r,i,o,0,s?0:1),this._ctx&&this._ctx.arc(e,t,r,i,a,s),this._xi=$h(a)*r+e,this._yi=Gh(a)*r+t,this},n.prototype.arcTo=function(e,t,r,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,t,r,i,a),this},n.prototype.rect=function(e,t,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,t,r,i),this.addData(oi.R,e,t,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(oi.Z);var e=this._ctx,t=this._x0,r=this._y0;return e&&e.closePath(),this._xi=t,this._yi=r,this},n.prototype.fill=function(e){e&&e.fill(),this.toStatic()},n.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(e){var t=e.length;!(this.data&&this.data.length===t)&&kE&&(this.data=new Float32Array(t));for(var r=0;r<t;r++)this.data[r]=e[r];this._len=t},n.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var t=e.length,r=0,i=this._len,a=0;a<t;a++)r+=e[a].len();kE&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r));for(var a=0;a<t;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},n.prototype.addData=function(e,t,r,i,a,s,o,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var d=0;d<arguments.length;d++)u[this._len++]=arguments[d]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,kE&&this._len>11&&(this.data=new Float32Array(e)))}},n.prototype.getBoundingRect=function(){Oc[0]=Oc[1]=Bc[0]=Bc[1]=Number.MAX_VALUE,Wd[0]=Wd[1]=Fc[0]=Fc[1]=-Number.MAX_VALUE;var e=this.data,t=0,r=0,i=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],l=s===1;switch(l&&(t=e[s],r=e[s+1],i=t,a=r),o){case oi.M:t=i=e[s++],r=a=e[s++],Bc[0]=i,Bc[1]=a,Fc[0]=i,Fc[1]=a;break;case oi.L:wz(t,r,e[s],e[s+1],Bc,Fc),t=e[s++],r=e[s++];break;case oi.C:kNe(t,r,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Bc,Fc),t=e[s++],r=e[s++];break;case oi.Q:LNe(t,r,e[s++],e[s++],e[s],e[s+1],Bc,Fc),t=e[s++],r=e[s++];break;case oi.A:var c=e[s++],u=e[s++],d=e[s++],f=e[s++],h=e[s++],p=e[s++]+h;s+=1;var m=!e[s++];l&&(i=$h(h)*d+c,a=Gh(h)*f+u),NNe(c,u,d,f,h,p,m,Bc,Fc),t=$h(p)*d+c,r=Gh(p)*f+u;break;case oi.R:i=t=e[s++],a=r=e[s++];var v=e[s++],g=e[s++];wz(i,a,i+v,a+g,Bc,Fc);break;case oi.Z:t=i,r=a;break}yv(Oc,Oc,Bc),bv(Wd,Wd,Fc)}return s===0&&(Oc[0]=Oc[1]=Wd[0]=Wd[1]=0),new Xr(Oc[0],Oc[1],Wd[0]-Oc[0],Wd[1]-Oc[1])},n.prototype._calculateLength=function(){var e=this.data,t=this._len,r=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,d=0,f=0;f<t;){var h=e[f++],p=f===1;p&&(a=e[f],s=e[f+1],o=a,l=s);var m=-1;switch(h){case oi.M:a=o=e[f++],s=l=e[f++];break;case oi.L:{var v=e[f++],g=e[f++],y=v-a,b=g-s;(Pu(y)>r||Pu(b)>i||f===t-1)&&(m=Math.sqrt(y*y+b*b),a=v,s=g);break}case oi.C:{var _=e[f++],x=e[f++],v=e[f++],g=e[f++],S=e[f++],T=e[f++];m=e8e(a,s,_,x,v,g,S,T,10),a=S,s=T;break}case oi.Q:{var _=e[f++],x=e[f++],v=e[f++],g=e[f++];m=n8e(a,s,_,x,v,g,10),a=v,s=g;break}case oi.A:var C=e[f++],M=e[f++],A=e[f++],I=e[f++],D=e[f++],L=e[f++],F=L+D;f+=1,e[f++],p&&(o=$h(D)*A+C,l=Gh(D)*I+M),m=DE(A,I)*PE(_f,Math.abs(L)),a=$h(F)*A+C,s=Gh(F)*I+M;break;case oi.R:{o=a=e[f++],l=s=e[f++];var B=e[f++],k=e[f++];m=B*2+k*2;break}case oi.Z:{var y=o-a,b=l-s;m=Math.sqrt(y*y+b*b),a=o,s=l;break}}m>=0&&(c[d++]=m,u+=m)}return this._pathLen=u,u},n.prototype.rebuildPath=function(e,t){var r=this.data,i=this._ux,a=this._uy,s=this._len,o,l,c,u,d,f,h=t<1,p,m,v=0,g=0,y,b=0,_,x;if(!(h&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,m=this._pathLen,y=t*m,!y)))e:for(var S=0;S<s;){var T=r[S++],C=S===1;switch(C&&(c=r[S],u=r[S+1],o=c,l=u),T!==oi.L&&b>0&&(e.lineTo(_,x),b=0),T){case oi.M:o=c=r[S++],l=u=r[S++],e.moveTo(c,u);break;case oi.L:{d=r[S++],f=r[S++];var M=Pu(d-c),A=Pu(f-u);if(M>i||A>a){if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;e.lineTo(c*(1-D)+d*D,u*(1-D)+f*D);break e}v+=I}e.lineTo(d,f),c=d,u=f,b=0}else{var L=M*M+A*A;L>b&&(_=d,x=f,b=L)}break}case oi.C:{var F=r[S++],B=r[S++],k=r[S++],H=r[S++],z=r[S++],O=r[S++];if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;ZC(c,F,k,z,D,Hh),ZC(u,B,H,O,D,Vh),e.bezierCurveTo(Hh[1],Vh[1],Hh[2],Vh[2],Hh[3],Vh[3]);break e}v+=I}e.bezierCurveTo(F,B,k,H,z,O),c=z,u=O;break}case oi.Q:{var F=r[S++],B=r[S++],k=r[S++],H=r[S++];if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;QC(c,F,k,D,Hh),QC(u,B,H,D,Vh),e.quadraticCurveTo(Hh[1],Vh[1],Hh[2],Vh[2]);break e}v+=I}e.quadraticCurveTo(F,B,k,H),c=k,u=H;break}case oi.A:var W=r[S++],j=r[S++],ee=r[S++],te=r[S++],J=r[S++],Q=r[S++],ie=r[S++],le=!r[S++],we=ee>te?ee:te,Ae=Pu(ee-te)>.001,ke=J+Q,Fe=!1;if(h){var I=p[g++];v+I>y&&(ke=J+Q*(y-v)/I,Fe=!0),v+=I}if(Ae&&e.ellipse?e.ellipse(W,j,ee,te,ie,J,ke,le):e.arc(W,j,we,J,ke,le),Fe)break e;C&&(o=$h(J)*ee+W,l=Gh(J)*te+j),c=$h(ke)*ee+W,u=Gh(ke)*te+j;break;case oi.R:o=c=r[S],l=u=r[S+1],d=r[S++],f=r[S++];var q=r[S++],ce=r[S++];if(h){var I=p[g++];if(v+I>y){var re=y-v;e.moveTo(d,f),e.lineTo(d+PE(re,q),f),re-=q,re>0&&e.lineTo(d+q,f+PE(re,ce)),re-=ce,re>0&&e.lineTo(d+DE(q-re,0),f+ce),re-=q,re>0&&e.lineTo(d,f+DE(ce-re,0));break e}v+=I}e.rect(d,f,q,ce);break;case oi.Z:if(h){var I=p[g++];if(v+I>y){var D=(y-v)/I;e.lineTo(c*(1-D)+o*D,u*(1-D)+l*D);break e}v+=I}e.closePath(),c=o,u=l}}},n.prototype.clone=function(){var e=new n,t=this.data;return e.data=t.slice?t.slice():Array.prototype.slice.call(t),e._len=this._len,e},n.CMD=oi,n.initDefaultProps=function(){var e=n.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),n}();const pm=BNe;function i0(n,e,t,r,i,a,s){if(i===0)return!1;var o=i,l=0,c=n;if(s>e+o&&s>r+o||s<e-o&&s<r-o||a>n+o&&a>t+o||a<n-o&&a<t-o)return!1;if(n!==t)l=(e-r)/(n-t),c=(n*r-t*e)/(n-t);else return Math.abs(a-n)<=o/2;var u=l*a-s+c,d=u*u/(l*l+1);return d<=o/2*o/2}function FNe(n,e,t,r,i,a,s,o,l,c,u){if(l===0)return!1;var d=l;if(u>e+d&&u>r+d&&u>a+d&&u>o+d||u<e-d&&u<r-d&&u<a-d&&u<o-d||c>n+d&&c>t+d&&c>i+d&&c>s+d||c<n-d&&c<t-d&&c<i-d&&c<s-d)return!1;var f=YQ(n,e,t,r,i,a,s,o,c,u,null);return f<=d/2}function zNe(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var c=s;if(l>e+c&&l>r+c&&l>a+c||l<e-c&&l<r-c&&l<a-c||o>n+c&&o>t+c&&o>i+c||o<n-c&&o<t-c&&o<i-c)return!1;var u=jQ(n,e,t,r,i,a,o,l,null);return u<=c/2}var Cz=Math.PI*2;function ad(n){return n%=Cz,n<0&&(n+=Cz),n}var Wy=Math.PI*2;function UNe(n,e,t,r,i,a,s,o,l){if(s===0)return!1;var c=s;o-=n,l-=e;var u=Math.sqrt(o*o+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(r-i)%Wy<1e-4)return!0;if(a){var d=r;r=ad(i),i=ad(d)}else r=ad(r),i=ad(i);r>i&&(i+=Wy);var f=Math.atan2(l,o);return f<0&&(f+=Wy),f>=r&&f<=i||f+Wy>=r&&f+Wy<=i}function Wh(n,e,t,r,i,a){if(a>e&&a>r||a<e&&a<r||r===e)return 0;var s=(a-e)/(r-e),o=r<e?1:-1;(s===1||s===0)&&(o=r<e?.5:-.5);var l=s*(t-n)+n;return l===i?1/0:l>i?o:0}var qd=pm.CMD,qh=Math.PI*2,HNe=1e-4;function VNe(n,e){return Math.abs(n-e)<HNe}var Fs=[-1,-1,-1],ul=[-1,-1];function $Ne(){var n=ul[0];ul[0]=ul[1],ul[1]=n}function GNe(n,e,t,r,i,a,s,o,l,c){if(c>e&&c>r&&c>a&&c>o||c<e&&c<r&&c<a&&c<o)return 0;var u=qQ(e,r,a,o,c,Fs);if(u===0)return 0;for(var d=0,f=-1,h=void 0,p=void 0,m=0;m<u;m++){var v=Fs[m],g=v===0||v===1?.5:1,y=ja(n,t,i,s,v);y<l||(f<0&&(f=KQ(e,r,a,o,ul),ul[1]<ul[0]&&f>1&&$Ne(),h=ja(e,r,a,o,ul[0]),f>1&&(p=ja(e,r,a,o,ul[1]))),f===2?v<ul[0]?d+=h<e?g:-g:v<ul[1]?d+=p<h?g:-g:d+=o<p?g:-g:v<ul[0]?d+=h<e?g:-g:d+=o<h?g:-g)}return d}function WNe(n,e,t,r,i,a,s,o){if(o>e&&o>r&&o>a||o<e&&o<r&&o<a)return 0;var l=t8e(e,r,a,o,Fs);if(l===0)return 0;var c=XQ(e,r,a);if(c>=0&&c<=1){for(var u=0,d=ys(e,r,a,c),f=0;f<l;f++){var h=Fs[f]===0||Fs[f]===1?.5:1,p=ys(n,t,i,Fs[f]);p<s||(Fs[f]<c?u+=d<e?h:-h:u+=a<d?h:-h)}return u}else{var h=Fs[0]===0||Fs[0]===1?.5:1,p=ys(n,t,i,Fs[0]);return p<s?0:a<e?h:-h}}function qNe(n,e,t,r,i,a,s,o){if(o-=e,o>t||o<-t)return 0;var l=Math.sqrt(t*t-o*o);Fs[0]=-l,Fs[1]=l;var c=Math.abs(r-i);if(c<1e-4)return 0;if(c>=qh-1e-4){r=0,i=qh;var u=a?1:-1;return s>=Fs[0]+n&&s<=Fs[1]+n?u:0}if(r>i){var d=r;r=i,i=d}r<0&&(r+=qh,i+=qh);for(var f=0,h=0;h<2;h++){var p=Fs[h];if(p+n>s){var m=Math.atan2(o,p),u=a?1:-1;m<0&&(m=qh+m),(m>=r&&m<=i||m+qh>=r&&m+qh<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(u=-u),f+=u)}}return f}function wJ(n,e,t,r,i){for(var a=n.data,s=n.len(),o=0,l=0,c=0,u=0,d=0,f,h,p=0;p<s;){var m=a[p++],v=p===1;switch(m===qd.M&&p>1&&(t||(o+=Wh(l,c,u,d,r,i))),v&&(l=a[p],c=a[p+1],u=l,d=c),m){case qd.M:u=a[p++],d=a[p++],l=u,c=d;break;case qd.L:if(t){if(i0(l,c,a[p],a[p+1],e,r,i))return!0}else o+=Wh(l,c,a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case qd.C:if(t){if(FNe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=GNe(l,c,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case qd.Q:if(t){if(zNe(l,c,a[p++],a[p++],a[p],a[p+1],e,r,i))return!0}else o+=WNe(l,c,a[p++],a[p++],a[p],a[p+1],r,i)||0;l=a[p++],c=a[p++];break;case qd.A:var g=a[p++],y=a[p++],b=a[p++],_=a[p++],x=a[p++],S=a[p++];p+=1;var T=!!(1-a[p++]);f=Math.cos(x)*b+g,h=Math.sin(x)*_+y,v?(u=f,d=h):o+=Wh(l,c,f,h,r,i);var C=(r-g)*_/b+g;if(t){if(UNe(g,y,_,x,x+S,T,e,C,i))return!0}else o+=qNe(g,y,_,x,x+S,T,C,i);l=Math.cos(x+S)*b+g,c=Math.sin(x+S)*_+y;break;case qd.R:u=l=a[p++],d=c=a[p++];var M=a[p++],A=a[p++];if(f=u+M,h=d+A,t){if(i0(u,d,f,d,e,r,i)||i0(f,d,f,h,e,r,i)||i0(f,h,u,h,e,r,i)||i0(u,h,u,d,e,r,i))return!0}else o+=Wh(f,d,f,h,r,i),o+=Wh(u,h,u,d,r,i);break;case qd.Z:if(t){if(i0(l,c,u,d,e,r,i))return!0}else o+=Wh(l,c,u,d,r,i);l=u,c=d;break}}return!t&&!VNe(c,d)&&(o+=Wh(l,c,u,d,r,i)||0),o!==0}function KNe(n,e,t){return wJ(n,0,!1,e,t)}function YNe(n,e,t,r){return wJ(n,e,!0,t,r)}var xJ=pi({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Qp),XNe={style:pi({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},eA.style)},NE=l_.concat(["invisible","culling","z","z2","zlevel","parent"]),jNe=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.update=function(){var t=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new e;i.buildPath===e.prototype.buildPath&&(i.buildPath=function(l){t.buildPath(l,t.shape)}),i.silent=!0;var a=i.style;for(var s in r)a[s]!==r[s]&&(a[s]=r[s]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var o=0;o<NE.length;++o)i[NE[o]]=this[NE[o]];i.__dirty|=Bo}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(t){var r=ki(t);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<r.length;a++){var s=r[a],o=t[s];s==="style"?this.style?cn(this.style,o):this.useStyle(o):s==="shape"?cn(this.shape,o):n.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!=="none"){if(Qn(t)){var r=JC(t,0);return r>.5?ZR:r>.2?T8e:QR}else if(t)return QR}return ZR},e.prototype.getInsideTextStroke=function(t){var r=this.style.fill;if(Qn(r)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=JC(t,0)<jR;if(a===s)return r}},e.prototype.buildPath=function(t,r,i){},e.prototype.pathUpdated=function(){this.__dirty&=~sv},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new pm(!1)},e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return!(r==null||r==="none"||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.getBoundingRect=function(){var t=this._rect,r=this.style,i=!t;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&sv)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),t=s.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||i){o.copy(t);var l=r.strokeNoScale?this.getLineScale():1,c=r.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;c=Math.max(c,u??4)}l>1e-10&&(o.width+=c/l,o.height+=c/l,o.x-=c/l/2,o.y-=c/l/2)}return o}return t},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect(),s=this.style;if(t=i[0],r=i[1],a.contain(t,r)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,c=s.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),YNe(o,l/c,t,r)))return!0}if(this.hasFill())return KNe(o,t,r)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=sv,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){t==="style"?this.dirtyStyle():t==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(t,r){t==="shape"?this.setShape(r):n.prototype.attrKV.call(this,t,r)},e.prototype.setShape=function(t,r){var i=this.shape;return i||(i=this.shape={}),typeof t=="string"?i[t]=r:cn(i,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&sv)},e.prototype.createStyle=function(t){return jT(xJ,t)},e.prototype._innerSaveToNormal=function(t){n.prototype._innerSaveToNormal.call(this,t);var r=this._normalState;t.shape&&!r.shape&&(r.shape=cn({},this.shape))},e.prototype._applyStateObj=function(t,r,i,a,s,o){n.prototype._applyStateObj.call(this,t,r,i,a,s,o);var l=!(r&&a),c;if(r&&r.shape?s?a?c=r.shape:(c=cn({},i.shape),cn(c,r.shape)):(c=cn({},a?this.shape:i.shape),cn(c,r.shape)):l&&(c=i.shape),c)if(s){this.shape=cn({},this.shape);for(var u={},d=ki(c),f=0;f<d.length;f++){var h=d[f];typeof c[h]=="object"?this.shape[h]=c[h]:u[h]=c[h]}this._transitionState(t,{shape:u},o)}else this.shape=c,this.dirtyShape()},e.prototype._mergeStates=function(t){for(var r=n.prototype._mergeStates.call(this,t),i,a=0;a<t.length;a++){var s=t[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(r.shape=i),r},e.prototype.getAnimationStyleProps=function(){return XNe},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var r=function(a){wn(s,a);function s(o){var l=a.call(this,o)||this;return t.init&&t.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return Qr(t.style)},s.prototype.getDefaultShape=function(){return Qr(t.shape)},s}(e);for(var i in t)typeof t[i]=="function"&&(r.prototype[i]=t[i]);return r},e.initDefaultProps=function(){var t=e.prototype;t.type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=Bo|I1|sv}(),e}(mw);const wi=jNe;var ZNe=pi({strokeFirst:!0,font:hm,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},xJ),SJ=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var t=this.style,r=t.stroke;return r!=null&&r!=="none"&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style,r=t.fill;return r!=null&&r!=="none"},e.prototype.createStyle=function(t){return jT(ZNe,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var r=t.text;r!=null?r+="":r="";var i=R6(r,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},e.initDefaultProps=function(){var t=e.prototype;t.dirtyRectTolerance=10}(),e}(mw);SJ.prototype.type="tspan";const rP=SJ;var QNe=pi({x:0,y:0},Qp),JNe={style:pi({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},eA.style)};function eOe(n){return!!(n&&typeof n!="string"&&n.width&&n.height)}var CJ=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.createStyle=function(t){return jT(QNe,t)},e.prototype._getSize=function(t){var r=this.style,i=r[t];if(i!=null)return i;var a=eOe(r.image)?r.image:this.__image;if(!a)return 0;var s=t==="width"?"height":"width",o=r[s];return o==null?a[t]:a[t]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return JNe},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new Xr(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(mw);CJ.prototype.type="image";const Pm=CJ;function tOe(n,e){var t=e.x,r=e.y,i=e.width,a=e.height,s=e.r,o,l,c,u;i<0&&(t=t+i,i=-i),a<0&&(r=r+a,a=-a),typeof s=="number"?o=l=c=u=s:s instanceof Array?s.length===1?o=l=c=u=s[0]:s.length===2?(o=c=s[0],l=u=s[1]):s.length===3?(o=s[0],l=u=s[1],c=s[2]):(o=s[0],l=s[1],c=s[2],u=s[3]):o=l=c=u=0;var d;o+l>i&&(d=o+l,o*=i/d,l*=i/d),c+u>i&&(d=c+u,c*=i/d,u*=i/d),l+c>a&&(d=l+c,l*=a/d,c*=a/d),o+u>a&&(d=o+u,o*=a/d,u*=a/d),n.moveTo(t+o,r),n.lineTo(t+i-l,r),l!==0&&n.arc(t+i-l,r+l,l,-Math.PI/2,0),n.lineTo(t+i,r+a-c),c!==0&&n.arc(t+i-c,r+a-c,c,0,Math.PI/2),n.lineTo(t+u,r+a),u!==0&&n.arc(t+u,r+a-u,u,Math.PI/2,Math.PI),n.lineTo(t,r+o),o!==0&&n.arc(t+o,r+o,o,Math.PI,Math.PI*1.5)}var wv=Math.round;function MJ(n,e,t){if(e){var r=e.x1,i=e.x2,a=e.y1,s=e.y2;n.x1=r,n.x2=i,n.y1=a,n.y2=s;var o=t&&t.lineWidth;return o&&(wv(r*2)===wv(i*2)&&(n.x1=n.x2=Op(r,o,!0)),wv(a*2)===wv(s*2)&&(n.y1=n.y2=Op(a,o,!0))),n}}function TJ(n,e,t){if(e){var r=e.x,i=e.y,a=e.width,s=e.height;n.x=r,n.y=i,n.width=a,n.height=s;var o=t&&t.lineWidth;return o&&(n.x=Op(r,o,!0),n.y=Op(i,o,!0),n.width=Math.max(Op(r+a,o,!1)-n.x,a===0?0:1),n.height=Math.max(Op(i+s,o,!1)-n.y,s===0?0:1)),n}}function Op(n,e,t){if(!e)return n;var r=wv(n*2);return(r+wv(e))%2===0?r/2:(r+(t?1:-1))/2}var nOe=function(){function n(){this.x=0,this.y=0,this.width=0,this.height=0}return n}(),rOe={},AJ=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new nOe},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=TJ(rOe,r,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=r.r,r=l}else i=r.x,a=r.y,s=r.width,o=r.height;r.r?tOe(t,r):t.rect(i,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(wi);AJ.prototype.type="rect";const Ra=AJ;var Mz={fill:"#000"},Tz=2,iOe={style:pi({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},eA.style)},EJ=function(n){wn(e,n);function e(t){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Mz,r.attr(t),r}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var r=this._children[t];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},e.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):n.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(t){var r=this.innerTransformable;return r?r.getLocalTransform(t):n.prototype.getLocalTransform.call(this,t)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,cOe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(t){n.prototype.addSelfToZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=t},e.prototype.removeSelfFromZr=function(t){n.prototype.removeSelfFromZr.call(this,t);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new Xr(0,0,0,0),r=this._children,i=[],a=null,s=0;s<r.length;s++){var o=r[s],l=o.getBoundingRect(),c=o.getLocalTransform(i);c?(t.copy(l),t.applyTransform(c),a=a||t.clone(),a.union(t)):(a=a||l.clone(),a.union(l))}this._rect=a||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||Mz},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,r){if(!r)return t;var i=r.rich,a=t.rich||i&&{};return cn(t,r),i&&a?(this._mergeRich(a,i),t.rich=a):a&&(t.rich=a),t},e.prototype._mergeRich=function(t,r){for(var i=ki(r),a=0;a<i.length;a++){var s=i[a];t[s]=t[s]||{},cn(t[s],r[s])}},e.prototype.getAnimationStyleProps=function(){return iOe},e.prototype._getOrCreateChild=function(t){var r=this._children[this._childCursor];return(!r||!(r instanceof t))&&(r=new t),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},e.prototype._updatePlainTexts=function(){var t=this.style,r=t.font||hm,i=t.padding,a=kz(t),s=xNe(a,t),o=OE(t),l=!!t.backgroundColor,c=s.outerHeight,u=s.outerWidth,d=s.contentWidth,f=s.lines,h=s.lineHeight,p=this._defaultStyle,m=t.x||0,v=t.y||0,g=t.align||p.align||"left",y=t.verticalAlign||p.verticalAlign||"top",b=m,_=ov(v,s.contentHeight,y);if(o||i){var x=P1(m,u,g),S=ov(v,c,y);o&&this._renderBackground(t,t,x,S,u,c)}_+=h/2,i&&(b=Dz(m,g,i),y==="top"?_+=i[0]:y==="bottom"&&(_-=i[2]));for(var T=0,C=!1,M=Pz("fill"in t?t.fill:(C=!0,p.fill)),A=Rz("stroke"in t?t.stroke:!l&&(!p.autoStroke||C)?(T=Tz,p.stroke):null),I=t.textShadowBlur>0,D=t.width!=null&&(t.overflow==="truncate"||t.overflow==="break"||t.overflow==="breakAll"),L=s.calculatedLineHeight,F=0;F<f.length;F++){var B=this._getOrCreateChild(rP),k=B.createStyle();B.useStyle(k),k.text=f[F],k.x=b,k.y=_,g&&(k.textAlign=g),k.textBaseline="middle",k.opacity=t.opacity,k.strokeFirst=!0,I&&(k.shadowBlur=t.textShadowBlur||0,k.shadowColor=t.textShadowColor||"transparent",k.shadowOffsetX=t.textShadowOffsetX||0,k.shadowOffsetY=t.textShadowOffsetY||0),k.stroke=A,k.fill=M,A&&(k.lineWidth=t.lineWidth||T,k.lineDash=t.lineDash,k.lineDashOffset=t.lineDashOffset||0),k.font=r,Ez(k,t),_+=h,D&&B.setBoundingRect(new Xr(P1(k.x,t.width,k.textAlign),ov(k.y,L,k.textBaseline),d,L))}},e.prototype._updateRichTexts=function(){var t=this.style,r=kz(t),i=MNe(r,t),a=i.width,s=i.outerWidth,o=i.outerHeight,l=t.padding,c=t.x||0,u=t.y||0,d=this._defaultStyle,f=t.align||d.align,h=t.verticalAlign||d.verticalAlign,p=P1(c,s,f),m=ov(u,o,h),v=p,g=m;l&&(v+=l[3],g+=l[0]);var y=v+a;OE(t)&&this._renderBackground(t,t,p,m,s,o);for(var b=!!t.backgroundColor,_=0;_<i.lines.length;_++){for(var x=i.lines[_],S=x.tokens,T=S.length,C=x.lineHeight,M=x.width,A=0,I=v,D=y,L=T-1,F=void 0;A<T&&(F=S[A],!F.align||F.align==="left");)this._placeToken(F,t,C,g,I,"left",b),M-=F.width,I+=F.width,A++;for(;L>=0&&(F=S[L],F.align==="right");)this._placeToken(F,t,C,g,D,"right",b),M-=F.width,D-=F.width,L--;for(I+=(a-(I-v)-(y-D)-M)/2;A<=L;)F=S[A],this._placeToken(F,t,C,g,I+F.width/2,"center",b),I+=F.width,A++;g+=C}},e.prototype._placeToken=function(t,r,i,a,s,o,l){var c=r.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,d=a+i/2;u==="top"?d=a+t.height/2:u==="bottom"&&(d=a+i-t.height/2);var f=!t.isLineHolder&&OE(c);f&&this._renderBackground(c,r,o==="right"?s-t.width:o==="center"?s-t.width/2:s,d-t.height/2,t.width,t.height);var h=!!c.backgroundColor,p=t.textPadding;p&&(s=Dz(s,o,p),d-=t.height/2-p[0]-t.innerHeight/2);var m=this._getOrCreateChild(rP),v=m.createStyle();m.useStyle(v);var g=this._defaultStyle,y=!1,b=0,_=Pz("fill"in c?c.fill:"fill"in r?r.fill:(y=!0,g.fill)),x=Rz("stroke"in c?c.stroke:"stroke"in r?r.stroke:!h&&!l&&(!g.autoStroke||y)?(b=Tz,g.stroke):null),S=c.textShadowBlur>0||r.textShadowBlur>0;v.text=t.text,v.x=s,v.y=d,S&&(v.shadowBlur=c.textShadowBlur||r.textShadowBlur||0,v.shadowColor=c.textShadowColor||r.textShadowColor||"transparent",v.shadowOffsetX=c.textShadowOffsetX||r.textShadowOffsetX||0,v.shadowOffsetY=c.textShadowOffsetY||r.textShadowOffsetY||0),v.textAlign=o,v.textBaseline="middle",v.font=t.font||hm,v.opacity=J1(c.opacity,r.opacity,1),Ez(v,c),x&&(v.lineWidth=J1(c.lineWidth,r.lineWidth,b),v.lineDash=Gr(c.lineDash,r.lineDash),v.lineDashOffset=r.lineDashOffset||0,v.stroke=x),_&&(v.fill=_);var T=t.contentWidth,C=t.contentHeight;m.setBoundingRect(new Xr(P1(v.x,T,v.textAlign),ov(v.y,C,v.textBaseline),T,C))},e.prototype._renderBackground=function(t,r,i,a,s,o){var l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,d=l&&l.image,f=l&&!d,h=t.borderRadius,p=this,m,v;if(f||t.lineHeight||c&&u){m=this._getOrCreateChild(Ra),m.useStyle(m.createStyle()),m.style.fill=null;var g=m.shape;g.x=i,g.y=a,g.width=s,g.height=o,g.r=h,m.dirtyShape()}if(f){var y=m.style;y.fill=l||null,y.fillOpacity=Gr(t.fillOpacity,1)}else if(d){v=this._getOrCreateChild(Pm),v.onload=function(){p.dirtyStyle()};var b=v.style;b.image=l.image,b.x=i,b.y=a,b.width=s,b.height=o}if(c&&u){var y=m.style;y.lineWidth=c,y.stroke=u,y.strokeOpacity=Gr(t.strokeOpacity,1),y.lineDash=t.borderDash,y.lineDashOffset=t.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var _=(m||v).style;_.shadowBlur=t.shadowBlur||0,_.shadowColor=t.shadowColor||"transparent",_.shadowOffsetX=t.shadowOffsetX||0,_.shadowOffsetY=t.shadowOffsetY||0,_.opacity=J1(t.opacity,r.opacity,1)},e.makeFont=function(t){var r="";return lOe(t)&&(r=[t.fontStyle,t.fontWeight,oOe(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),r&&jc(r)||t.textFont||t.font},e}(mw),aOe={left:!0,right:1,center:1},sOe={top:1,bottom:1,middle:1},Az=["fontStyle","fontWeight","fontSize","fontFamily"];function oOe(n){return typeof n=="string"&&(n.indexOf("px")!==-1||n.indexOf("rem")!==-1||n.indexOf("em")!==-1)?n:isNaN(+n)?_6+"px":n+"px"}function Ez(n,e){for(var t=0;t<Az.length;t++){var r=Az[t],i=e[r];i!=null&&(n[r]=i)}}function lOe(n){return n.fontSize!=null||n.fontFamily||n.fontWeight}function cOe(n){return Iz(n),ut(n.rich,Iz),n}function Iz(n){if(n){n.font=EJ.makeFont(n);var e=n.align;e==="middle"&&(e="center"),n.align=e==null||aOe[e]?e:"left";var t=n.verticalAlign;t==="center"&&(t="middle"),n.verticalAlign=t==null||sOe[t]?t:"top";var r=n.padding;r&&(n.padding=PQ(n.padding))}}function Rz(n,e){return n==null||e<=0||n==="transparent"||n==="none"?null:n.image||n.colorStops?"#000":n}function Pz(n){return n==null||n==="none"?null:n.image||n.colorStops?"#000":n}function Dz(n,e,t){return e==="right"?n-t[1]:e==="center"?n+t[3]/2-t[1]/2:n+t[3]}function kz(n){var e=n.text;return e!=null&&(e+=""),e}function OE(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const Es=EJ;var fi=qi(),uOe=function(n,e,t,r){if(r){var i=fi(r);i.dataIndex=t,i.dataType=e,i.seriesIndex=n,r.type==="group"&&r.traverse(function(a){var s=fi(a);s.seriesIndex=n,s.dataIndex=t,s.dataType=e})}},Lz=1,Nz={},IJ=qi(),B6=qi(),F6=0,vw=1,tA=2,hu=["emphasis","blur","select"],aM=["normal","emphasis","blur","select"],dOe=10,fOe=9,Jp="highlight",G2="downplay",ib="select",W2="unselect",ab="toggleSelect";function a0(n){return n!=null&&n!=="none"}var Oz=new dw(100);function Bz(n){if(Qn(n)){var e=Oz.get(n);return e||(e=nz(n,-.1),Oz.put(n,e)),e}else if(XT(n)){var t=cn({},n);return t.colorStops=dr(n.colorStops,function(r){return{offset:r.offset,color:nz(r.color,-.1)}}),t}return n}function nA(n,e,t){n.onHoverStateChange&&(n.hoverState||0)!==t&&n.onHoverStateChange(e),n.hoverState=t}function RJ(n){nA(n,"emphasis",tA)}function PJ(n){n.hoverState===tA&&nA(n,"normal",F6)}function z6(n){nA(n,"blur",vw)}function DJ(n){n.hoverState===vw&&nA(n,"normal",F6)}function hOe(n){n.selected=!0}function pOe(n){n.selected=!1}function Fz(n,e,t){e(n,t)}function Ld(n,e,t){Fz(n,e,t),n.isGroup&&n.traverse(function(r){Fz(r,e,t)})}function mOe(n,e){switch(e){case"emphasis":n.hoverState=tA;break;case"normal":n.hoverState=F6;break;case"blur":n.hoverState=vw;break;case"select":n.selected=!0}}function vOe(n,e,t,r){for(var i=n.style,a={},s=0;s<e.length;s++){var o=e[s],l=i[o];a[o]=l??(r&&r[o])}for(var s=0;s<n.animators.length;s++){var c=n.animators[s];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&c.targetName==="style"&&c.saveTo(a,e)}return a}function gOe(n,e,t,r){var i=t&&di(t,"select")>=0,a=!1;if(n instanceof wi){var s=IJ(n),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(a0(o)||a0(l)){r=r||{};var c=r.style||{};c.fill==="inherit"?(a=!0,r=cn({},r),c=cn({},c),c.fill=o):!a0(c.fill)&&a0(o)?(a=!0,r=cn({},r),c=cn({},c),c.fill=Bz(o)):!a0(c.stroke)&&a0(l)&&(a||(r=cn({},r),c=cn({},c)),c.stroke=Bz(l)),r.style=c}}if(r&&r.z2==null){a||(r=cn({},r));var u=n.z2EmphasisLift;r.z2=n.z2+(u??dOe)}return r}function yOe(n,e,t){if(t&&t.z2==null){t=cn({},t);var r=n.z2SelectLift;t.z2=n.z2+(r??fOe)}return t}function bOe(n,e,t){var r=di(n.currentStates,e)>=0,i=n.style.opacity,a=r?null:vOe(n,["opacity"],e,{opacity:1});t=t||{};var s=t.style||{};return s.opacity==null&&(t=cn({},t),s=cn({opacity:r?i:a.opacity*.1},s),t.style=s),t}function BE(n,e){var t=this.states[n];if(this.style){if(n==="emphasis")return gOe(this,n,e,t);if(n==="blur")return bOe(this,n,t);if(n==="select")return yOe(this,n,t)}return t}function kJ(n){n.stateProxy=BE;var e=n.getTextContent(),t=n.getTextGuideLine();e&&(e.stateProxy=BE),t&&(t.stateProxy=BE)}function zz(n,e){!BJ(n,e)&&!n.__highByOuter&&Ld(n,RJ)}function Uz(n,e){!BJ(n,e)&&!n.__highByOuter&&Ld(n,PJ)}function sM(n,e){n.__highByOuter|=1<<(e||0),Ld(n,RJ)}function oM(n,e){!(n.__highByOuter&=~(1<<(e||0)))&&Ld(n,PJ)}function _Oe(n){Ld(n,z6)}function LJ(n){Ld(n,DJ)}function NJ(n){Ld(n,hOe)}function OJ(n){Ld(n,pOe)}function BJ(n,e){return n.__highDownSilentOnTouch&&e.zrByTouch}function FJ(n){var e=n.getModel(),t=[],r=[];e.eachComponent(function(i,a){var s=B6(a),o=i==="series",l=o?n.getViewOfSeriesModel(a):n.getViewOfComponentModel(a);!o&&r.push(l),s.isBlured&&(l.group.traverse(function(c){DJ(c)}),o&&t.push(a)),s.isBlured=!1}),ut(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(t,!1,e)})}function iP(n,e,t,r){var i=r.getModel();t=t||"coordinateSystem";function a(c,u){for(var d=0;d<u.length;d++){var f=c.getItemGraphicEl(u[d]);f&&LJ(f)}}if(n!=null&&!(!e||e==="none")){var s=i.getSeriesByIndex(n),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(c){var u=s===c,d=c.coordinateSystem;d&&d.master&&(d=d.master);var f=d&&o?d===o:u;if(!(t==="series"&&!u||t==="coordinateSystem"&&!f||e==="series"&&u)){var h=r.getViewOfSeriesModel(c);if(h.group.traverse(function(v){v.__highByOuter&&u&&e==="self"||z6(v)}),_o(e))a(c.getData(),e);else if(or(e))for(var p=ki(e),m=0;m<p.length;m++)a(c.getData(p[m]),e[p[m]]);l.push(c),B6(c).isBlured=!0}}),i.eachComponent(function(c,u){if(c!=="series"){var d=r.getViewOfComponentModel(u);d&&d.toggleBlurSeries&&d.toggleBlurSeries(l,!0,i)}})}}function aP(n,e,t){if(!(n==null||e==null)){var r=t.getModel().getComponent(n,e);if(r){B6(r).isBlured=!0;var i=t.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(a){z6(a)})}}}function wOe(n,e,t){var r=n.seriesIndex,i=n.getData(e.dataType);if(i){var a=hw(i,e);a=(Dn(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var c=fi(s);iP(r,c.focus,c.blurScope,t)}else{var u=n.get(["emphasis","focus"]),d=n.get(["emphasis","blurScope"]);u!=null&&iP(r,u,d,t)}}}function U6(n,e,t,r){var i={focusSelf:!1,dispatchers:null};if(n==null||n==="series"||e==null||t==null)return i;var a=r.getModel().getComponent(n,e);if(!a)return i;var s=r.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(t),l,c=0;c<o.length;c++)if(fi(o[c]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function xOe(n,e,t){var r=fi(n),i=U6(r.componentMainType,r.componentIndex,r.componentHighDownName,t),a=i.dispatchers,s=i.focusSelf;a?(s&&aP(r.componentMainType,r.componentIndex,t),ut(a,function(o){return zz(o,e)})):(iP(r.seriesIndex,r.focus,r.blurScope,t),r.focus==="self"&&aP(r.componentMainType,r.componentIndex,t),zz(n,e))}function SOe(n,e,t){FJ(t);var r=fi(n),i=U6(r.componentMainType,r.componentIndex,r.componentHighDownName,t).dispatchers;i?ut(i,function(a){return Uz(a,e)}):Uz(n,e)}function COe(n,e,t){if(oP(e)){var r=e.dataType,i=n.getData(r),a=hw(i,e);Dn(a)||(a=[a]),n[e.type===ab?"toggleSelect":e.type===ib?"select":"unselect"](a,r)}}function Hz(n){var e=n.getAllData();ut(e,function(t){var r=t.data,i=t.type;r.eachItemGraphicEl(function(a,s){n.isSelected(s,i)?NJ(a):OJ(a)})})}function MOe(n){var e=[];return n.eachSeries(function(t){var r=t.getAllData();ut(r,function(i){i.data;var a=i.type,s=t.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:t.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function lM(n,e,t){zJ(n,!0),Ld(n,kJ),AOe(n,e,t)}function TOe(n){zJ(n,!1)}function H6(n,e,t,r){r?TOe(n):lM(n,e,t)}function AOe(n,e,t){var r=fi(n);e!=null?(r.focus=e,r.blurScope=t):r.focus&&(r.focus=null)}var Vz=["emphasis","blur","select"],EOe={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function V6(n,e,t,r){t=t||"itemStyle";for(var i=0;i<Vz.length;i++){var a=Vz[i],s=e.getModel([a,t]),o=n.ensureState(a);o.style=r?r(s):s[EOe[t]]()}}function zJ(n,e){var t=e===!1,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!t||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!t)}function sP(n){return!!(n&&n.__highDownDispatcher)}function IOe(n){var e=Nz[n];return e==null&&Lz<=32&&(e=Nz[n]=Lz++),e}function oP(n){var e=n.type;return e===ib||e===W2||e===ab}function $z(n){var e=n.type;return e===Jp||e===G2}function ROe(n){var e=IJ(n);e.normalFill=n.style.fill,e.normalStroke=n.style.stroke;var t=n.states.select||{};e.selectFill=t.style&&t.style.fill||null,e.selectStroke=t.style&&t.style.stroke||null}var s0=pm.CMD,POe=[[],[],[]],Gz=Math.sqrt,DOe=Math.atan2;function kOe(n,e){if(e){var t=n.data,r=n.len(),i,a,s,o,l,c,u=s0.M,d=s0.C,f=s0.L,h=s0.R,p=s0.A,m=s0.Q;for(s=0,o=0;s<r;){switch(i=t[s++],o=s,a=0,i){case u:a=1;break;case f:a=1;break;case d:a=3;break;case m:a=2;break;case p:var v=e[4],g=e[5],y=Gz(e[0]*e[0]+e[1]*e[1]),b=Gz(e[2]*e[2]+e[3]*e[3]),_=DOe(-e[1]/b,e[0]/y);t[s]*=y,t[s++]+=v,t[s]*=b,t[s++]+=g,t[s++]*=y,t[s++]*=b,t[s++]+=_,t[s++]+=_,s+=2,o=s;break;case h:c[0]=t[s++],c[1]=t[s++],qs(c,c,e),t[o++]=c[0],t[o++]=c[1],c[0]+=t[s++],c[1]+=t[s++],qs(c,c,e),t[o++]=c[0],t[o++]=c[1]}for(l=0;l<a;l++){var x=POe[l];x[0]=t[s++],x[1]=t[s++],qs(x,x,e),t[o++]=x[0],t[o++]=x[1]}}n.increaseVersion()}}var FE=Math.sqrt,Sx=Math.sin,Cx=Math.cos,qy=Math.PI;function Wz(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function lP(n,e){return(n[0]*e[0]+n[1]*e[1])/(Wz(n)*Wz(e))}function qz(n,e){return(n[0]*e[1]<n[1]*e[0]?-1:1)*Math.acos(lP(n,e))}function Kz(n,e,t,r,i,a,s,o,l,c,u){var d=l*(qy/180),f=Cx(d)*(n-t)/2+Sx(d)*(e-r)/2,h=-1*Sx(d)*(n-t)/2+Cx(d)*(e-r)/2,p=f*f/(s*s)+h*h/(o*o);p>1&&(s*=FE(p),o*=FE(p));var m=(i===a?-1:1)*FE((s*s*(o*o)-s*s*(h*h)-o*o*(f*f))/(s*s*(h*h)+o*o*(f*f)))||0,v=m*s*h/o,g=m*-o*f/s,y=(n+t)/2+Cx(d)*v-Sx(d)*g,b=(e+r)/2+Sx(d)*v+Cx(d)*g,_=qz([1,0],[(f-v)/s,(h-g)/o]),x=[(f-v)/s,(h-g)/o],S=[(-1*f-v)/s,(-1*h-g)/o],T=qz(x,S);if(lP(x,S)<=-1&&(T=qy),lP(x,S)>=1&&(T=0),T<0){var C=Math.round(T/qy*1e6)/1e6;T=qy*2+C%2*qy}u.addData(c,y,b,s,o,_,T,d,a)}var LOe=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,NOe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function OOe(n){var e=new pm;if(!n)return e;var t=0,r=0,i=t,a=r,s,o=pm.CMD,l=n.match(LOe);if(!l)return e;for(var c=0;c<l.length;c++){for(var u=l[c],d=u.charAt(0),f=void 0,h=u.match(NOe)||[],p=h.length,m=0;m<p;m++)h[m]=parseFloat(h[m]);for(var v=0;v<p;){var g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,S=void 0,T=void 0,C=t,M=r,A=void 0,I=void 0;switch(d){case"l":t+=h[v++],r+=h[v++],f=o.L,e.addData(f,t,r);break;case"L":t=h[v++],r=h[v++],f=o.L,e.addData(f,t,r);break;case"m":t+=h[v++],r+=h[v++],f=o.M,e.addData(f,t,r),i=t,a=r,d="l";break;case"M":t=h[v++],r=h[v++],f=o.M,e.addData(f,t,r),i=t,a=r,d="L";break;case"h":t+=h[v++],f=o.L,e.addData(f,t,r);break;case"H":t=h[v++],f=o.L,e.addData(f,t,r);break;case"v":r+=h[v++],f=o.L,e.addData(f,t,r);break;case"V":r=h[v++],f=o.L,e.addData(f,t,r);break;case"C":f=o.C,e.addData(f,h[v++],h[v++],h[v++],h[v++],h[v++],h[v++]),t=h[v-2],r=h[v-1];break;case"c":f=o.C,e.addData(f,h[v++]+t,h[v++]+r,h[v++]+t,h[v++]+r,h[v++]+t,h[v++]+r),t+=h[v-2],r+=h[v-1];break;case"S":g=t,y=r,A=e.len(),I=e.data,s===o.C&&(g+=t-I[A-4],y+=r-I[A-3]),f=o.C,C=h[v++],M=h[v++],t=h[v++],r=h[v++],e.addData(f,g,y,C,M,t,r);break;case"s":g=t,y=r,A=e.len(),I=e.data,s===o.C&&(g+=t-I[A-4],y+=r-I[A-3]),f=o.C,C=t+h[v++],M=r+h[v++],t+=h[v++],r+=h[v++],e.addData(f,g,y,C,M,t,r);break;case"Q":C=h[v++],M=h[v++],t=h[v++],r=h[v++],f=o.Q,e.addData(f,C,M,t,r);break;case"q":C=h[v++]+t,M=h[v++]+r,t+=h[v++],r+=h[v++],f=o.Q,e.addData(f,C,M,t,r);break;case"T":g=t,y=r,A=e.len(),I=e.data,s===o.Q&&(g+=t-I[A-4],y+=r-I[A-3]),t=h[v++],r=h[v++],f=o.Q,e.addData(f,g,y,t,r);break;case"t":g=t,y=r,A=e.len(),I=e.data,s===o.Q&&(g+=t-I[A-4],y+=r-I[A-3]),t+=h[v++],r+=h[v++],f=o.Q,e.addData(f,g,y,t,r);break;case"A":b=h[v++],_=h[v++],x=h[v++],S=h[v++],T=h[v++],C=t,M=r,t=h[v++],r=h[v++],f=o.A,Kz(C,M,t,r,S,T,b,_,x,f,e);break;case"a":b=h[v++],_=h[v++],x=h[v++],S=h[v++],T=h[v++],C=t,M=r,t+=h[v++],r+=h[v++],f=o.A,Kz(C,M,t,r,S,T,b,_,x,f,e);break}}(d==="z"||d==="Z")&&(f=o.Z,e.addData(f),t=i,r=a),s=f}return e.toStatic(),e}var UJ=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.applyTransform=function(t){},e}(wi);function HJ(n){return n.setData!=null}function VJ(n,e){var t=OOe(n),r=cn({},e);return r.buildPath=function(i){if(HJ(i)){i.setData(t.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;t.rebuildPath(a,1)}},r.applyTransform=function(i){kOe(t,i),this.dirtyShape()},r}function BOe(n,e){return new UJ(VJ(n,e))}function FOe(n,e){var t=VJ(n,e),r=function(i){wn(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=t.applyTransform,o.buildPath=t.buildPath,o}return a}(UJ);return r}function zOe(n,e){for(var t=[],r=n.length,i=0;i<r;i++){var a=n[i];t.push(a.getUpdatedPathProxy(!0))}var s=new wi(e);return s.createPathProxy(),s.buildPath=function(o){if(HJ(o)){o.appendPath(t);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}var UOe=function(){function n(){this.cx=0,this.cy=0,this.r=0}return n}(),$J=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new UOe},e.prototype.buildPath=function(t,r){t.moveTo(r.cx+r.r,r.cy),t.arc(r.cx,r.cy,r.r,0,Math.PI*2)},e}(wi);$J.prototype.type="circle";const $6=$J;var HOe=function(){function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return n}(),GJ=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new HOe},e.prototype.buildPath=function(t,r){var i=.5522848,a=r.cx,s=r.cy,o=r.rx,l=r.ry,c=o*i,u=l*i;t.moveTo(a-o,s),t.bezierCurveTo(a-o,s-u,a-c,s-l,a,s-l),t.bezierCurveTo(a+c,s-l,a+o,s-u,a+o,s),t.bezierCurveTo(a+o,s+u,a+c,s+l,a,s+l),t.bezierCurveTo(a-c,s+l,a-o,s+u,a-o,s),t.closePath()},e}(wi);GJ.prototype.type="ellipse";const WJ=GJ;var qJ=Math.PI,zE=qJ*2,Kh=Math.sin,o0=Math.cos,VOe=Math.acos,cs=Math.atan2,Yz=Math.abs,sb=Math.sqrt,D1=Math.max,zc=Math.min,ec=1e-4;function $Oe(n,e,t,r,i,a,s,o){var l=t-n,c=r-e,u=s-i,d=o-a,f=d*l-u*c;if(!(f*f<ec))return f=(u*(e-a)-d*(n-i))/f,[n+f*l,e+f*c]}function Mx(n,e,t,r,i,a,s){var o=n-t,l=e-r,c=(s?a:-a)/sb(o*o+l*l),u=c*l,d=-c*o,f=n+u,h=e+d,p=t+u,m=r+d,v=(f+p)/2,g=(h+m)/2,y=p-f,b=m-h,_=y*y+b*b,x=i-a,S=f*m-p*h,T=(b<0?-1:1)*sb(D1(0,x*x*_-S*S)),C=(S*b-y*T)/_,M=(-S*y-b*T)/_,A=(S*b+y*T)/_,I=(-S*y+b*T)/_,D=C-v,L=M-g,F=A-v,B=I-g;return D*D+L*L>F*F+B*B&&(C=A,M=I),{cx:C,cy:M,x0:-u,y0:-d,x1:C*(i/x-1),y1:M*(i/x-1)}}function GOe(n){var e;if(Dn(n)){var t=n.length;if(!t)return n;t===1?e=[n[0],n[0],0,0]:t===2?e=[n[0],n[0],n[1],n[1]]:t===3?e=n.concat(n[2]):e=n}else e=[n,n,n,n];return e}function WOe(n,e){var t,r=D1(e.r,0),i=D1(e.r0||0,0),a=r>0,s=i>0;if(!(!a&&!s)){if(a||(r=i,i=0),i>r){var o=r;r=i,i=o}var l=e.startAngle,c=e.endAngle;if(!(isNaN(l)||isNaN(c))){var u=e.cx,d=e.cy,f=!!e.clockwise,h=Yz(c-l),p=h>zE&&h%zE;if(p>ec&&(h=p),!(r>ec))n.moveTo(u,d);else if(h>zE-ec)n.moveTo(u+r*o0(l),d+r*Kh(l)),n.arc(u,d,r,l,c,!f),i>ec&&(n.moveTo(u+i*o0(c),d+i*Kh(c)),n.arc(u,d,i,c,l,f));else{var m=void 0,v=void 0,g=void 0,y=void 0,b=void 0,_=void 0,x=void 0,S=void 0,T=void 0,C=void 0,M=void 0,A=void 0,I=void 0,D=void 0,L=void 0,F=void 0,B=r*o0(l),k=r*Kh(l),H=i*o0(c),z=i*Kh(c),O=h>ec;if(O){var W=e.cornerRadius;W&&(t=GOe(W),m=t[0],v=t[1],g=t[2],y=t[3]);var j=Yz(r-i)/2;if(b=zc(j,g),_=zc(j,y),x=zc(j,m),S=zc(j,v),M=T=D1(b,_),A=C=D1(x,S),(T>ec||C>ec)&&(I=r*o0(c),D=r*Kh(c),L=i*o0(l),F=i*Kh(l),h<qJ)){var ee=$Oe(B,k,L,F,I,D,H,z);if(ee){var te=B-ee[0],J=k-ee[1],Q=I-ee[0],ie=D-ee[1],le=1/Kh(VOe((te*Q+J*ie)/(sb(te*te+J*J)*sb(Q*Q+ie*ie)))/2),we=sb(ee[0]*ee[0]+ee[1]*ee[1]);M=zc(T,(r-we)/(le+1)),A=zc(C,(i-we)/(le-1))}}}if(!O)n.moveTo(u+B,d+k);else if(M>ec){var Ae=zc(g,M),ke=zc(y,M),Fe=Mx(L,F,B,k,r,Ae,f),q=Mx(I,D,H,z,r,ke,f);n.moveTo(u+Fe.cx+Fe.x0,d+Fe.cy+Fe.y0),M<T&&Ae===ke?n.arc(u+Fe.cx,d+Fe.cy,M,cs(Fe.y0,Fe.x0),cs(q.y0,q.x0),!f):(Ae>0&&n.arc(u+Fe.cx,d+Fe.cy,Ae,cs(Fe.y0,Fe.x0),cs(Fe.y1,Fe.x1),!f),n.arc(u,d,r,cs(Fe.cy+Fe.y1,Fe.cx+Fe.x1),cs(q.cy+q.y1,q.cx+q.x1),!f),ke>0&&n.arc(u+q.cx,d+q.cy,ke,cs(q.y1,q.x1),cs(q.y0,q.x0),!f))}else n.moveTo(u+B,d+k),n.arc(u,d,r,l,c,!f);if(!(i>ec)||!O)n.lineTo(u+H,d+z);else if(A>ec){var Ae=zc(m,A),ke=zc(v,A),Fe=Mx(H,z,I,D,i,-ke,f),q=Mx(B,k,L,F,i,-Ae,f);n.lineTo(u+Fe.cx+Fe.x0,d+Fe.cy+Fe.y0),A<C&&Ae===ke?n.arc(u+Fe.cx,d+Fe.cy,A,cs(Fe.y0,Fe.x0),cs(q.y0,q.x0),!f):(ke>0&&n.arc(u+Fe.cx,d+Fe.cy,ke,cs(Fe.y0,Fe.x0),cs(Fe.y1,Fe.x1),!f),n.arc(u,d,i,cs(Fe.cy+Fe.y1,Fe.cx+Fe.x1),cs(q.cy+q.y1,q.cx+q.x1),f),Ae>0&&n.arc(u+q.cx,d+q.cy,Ae,cs(q.y1,q.x1),cs(q.y0,q.x0),!f))}else n.lineTo(u+H,d+z),n.arc(u,d,i,c,l,f)}n.closePath()}}}var qOe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return n}(),KJ=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new qOe},e.prototype.buildPath=function(t,r){WOe(t,r)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(wi);KJ.prototype.type="sector";const Dm=KJ;var KOe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return n}(),YJ=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new KOe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.PI*2;t.moveTo(i+r.r,a),t.arc(i,a,r.r,0,s,!1),t.moveTo(i+r.r0,a),t.arc(i,a,r.r0,0,s,!0)},e}(wi);YJ.prototype.type="ring";const XJ=YJ;function YOe(n,e,t,r){var i=[],a=[],s=[],o=[],l,c,u,d;if(r){u=[1/0,1/0],d=[-1/0,-1/0];for(var f=0,h=n.length;f<h;f++)yv(u,u,n[f]),bv(d,d,n[f]);yv(u,u,r[0]),bv(d,d,r[1])}for(var f=0,h=n.length;f<h;f++){var p=n[f];if(t)l=n[f?f-1:h-1],c=n[(f+1)%h];else if(f===0||f===h-1){i.push(y6e(n[f]));continue}else l=n[f-1],c=n[f+1];b6e(a,c,l),nE(a,a,e);var m=BR(p,l),v=BR(p,c),g=m+v;g!==0&&(m/=g,v/=g),nE(s,a,-m),nE(o,a,v);var y=z9([],p,s),b=z9([],p,o);r&&(bv(y,y,u),yv(y,y,d),bv(b,b,u),yv(b,b,d)),i.push(y),i.push(b)}return t&&i.push(i.shift()),i}function jJ(n,e,t){var r=e.smooth,i=e.points;if(i&&i.length>=2){if(r){var a=YOe(i,r,t,e.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(t?s:s-1);o++){var l=a[o*2],c=a[o*2+1],u=i[(o+1)%s];n.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{n.moveTo(i[0][0],i[0][1]);for(var o=1,d=i.length;o<d;o++)n.lineTo(i[o][0],i[o][1])}t&&n.closePath()}}var XOe=function(){function n(){this.points=null,this.smooth=0,this.smoothConstraint=null}return n}(),ZJ=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultShape=function(){return new XOe},e.prototype.buildPath=function(t,r){jJ(t,r,!0)},e}(wi);ZJ.prototype.type="polygon";const QJ=ZJ;var jOe=function(){function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return n}(),JJ=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new jOe},e.prototype.buildPath=function(t,r){jJ(t,r,!1)},e}(wi);JJ.prototype.type="polyline";const rA=JJ;var ZOe={},QOe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return n}(),eee=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new QOe},e.prototype.buildPath=function(t,r){var i,a,s,o;if(this.subPixelOptimize){var l=MJ(ZOe,r,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=r.x1,a=r.y1,s=r.x2,o=r.y2;var c=r.percent;c!==0&&(t.moveTo(i,a),c<1&&(s=i*(1-c)+s*c,o=a*(1-c)+o*c),t.lineTo(s,o))},e.prototype.pointAt=function(t){var r=this.shape;return[r.x1*(1-t)+r.x2*t,r.y1*(1-t)+r.y2*t]},e}(wi);eee.prototype.type="line";const mm=eee;var to=[],JOe=function(){function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return n}();function Xz(n,e,t){var r=n.cpx2,i=n.cpy2;return r!=null||i!=null?[(t?Z9:ja)(n.x1,n.cpx1,n.cpx2,n.x2,e),(t?Z9:ja)(n.y1,n.cpy1,n.cpy2,n.y2,e)]:[(t?Q9:ys)(n.x1,n.cpx1,n.x2,e),(t?Q9:ys)(n.y1,n.cpy1,n.y2,e)]}var tee=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new JOe},e.prototype.buildPath=function(t,r){var i=r.x1,a=r.y1,s=r.x2,o=r.y2,l=r.cpx1,c=r.cpy1,u=r.cpx2,d=r.cpy2,f=r.percent;f!==0&&(t.moveTo(i,a),u==null||d==null?(f<1&&(QC(i,l,s,f,to),l=to[1],s=to[2],QC(a,c,o,f,to),c=to[1],o=to[2]),t.quadraticCurveTo(l,c,s,o)):(f<1&&(ZC(i,l,u,s,f,to),l=to[1],u=to[2],s=to[3],ZC(a,c,d,o,f,to),c=to[1],d=to[2],o=to[3]),t.bezierCurveTo(l,c,u,d,s,o)))},e.prototype.pointAt=function(t){return Xz(this.shape,t,!1)},e.prototype.tangentAt=function(t){var r=Xz(this.shape,t,!0);return x6e(r,r)},e}(wi);tee.prototype.type="bezier-curve";const G6=tee;var eBe=function(){function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),nee=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new eBe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.max(r.r,0),o=r.startAngle,l=r.endAngle,c=r.clockwise,u=Math.cos(o),d=Math.sin(o);t.moveTo(u*s+i,d*s+a),t.arc(i,a,s,o,l,!c)},e}(wi);nee.prototype.type="arc";const W6=nee;var tBe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="compound",t}return e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,r=this.shapeChanged(),i=0;i<t.length;i++)r=r||t[i].shapeChanged();r&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(r[0],r[1],t[i].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,r){for(var i=r.paths||[],a=0;a<i.length;a++)i[a].buildPath(t,i[a].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],r=0;r<t.length;r++)t[r].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),wi.prototype.getBoundingRect.call(this)},e}(wi);const nBe=tBe;var rBe=function(){function n(e){this.colorStops=e||[]}return n.prototype.addColorStop=function(e,t){this.colorStops.push({offset:e,color:t})},n}();const ree=rBe;var iBe=function(n){wn(e,n);function e(t,r,i,a,s,o){var l=n.call(this,s)||this;return l.x=t??0,l.y=r??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return e}(ree);const aBe=iBe;var sBe=function(n){wn(e,n);function e(t,r,i,a,s){var o=n.call(this,a)||this;return o.x=t??.5,o.y=r??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return e}(ree);const oBe=sBe;var Yh=[0,0],Xh=[0,0],Tx=new pr,Ax=new pr,lBe=function(){function n(e,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new pr;for(var r=0;r<2;r++)this._axes[r]=new pr;e&&this.fromBoundingRect(e,t)}return n.prototype.fromBoundingRect=function(e,t){var r=this._corners,i=this._axes,a=e.x,s=e.y,o=a+e.width,l=s+e.height;if(r[0].set(a,s),r[1].set(o,s),r[2].set(o,l),r[3].set(a,l),t)for(var c=0;c<4;c++)r[c].transform(t);pr.sub(i[0],r[1],r[0]),pr.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize();for(var c=0;c<2;c++)this._origin[c]=i[c].dot(r[0])},n.prototype.intersect=function(e,t){var r=!0,i=!t;return Tx.set(1/0,1/0),Ax.set(0,0),!this._intersectCheckOneSide(this,e,Tx,Ax,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(e,this,Tx,Ax,i,-1)&&(r=!1,i)||i||pr.copy(t,r?Tx:Ax),r},n.prototype._intersectCheckOneSide=function(e,t,r,i,a,s){for(var o=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,e._corners,Yh),this._getProjMinMaxOnAxis(l,t._corners,Xh),Yh[1]<Xh[0]||Yh[0]>Xh[1]){if(o=!1,a)return o;var u=Math.abs(Xh[0]-Yh[1]),d=Math.abs(Yh[0]-Xh[1]);Math.min(u,d)>i.len()&&(u<d?pr.scale(i,c,-u*s):pr.scale(i,c,d*s))}else if(r){var u=Math.abs(Xh[0]-Yh[1]),d=Math.abs(Yh[0]-Xh[1]);Math.min(u,d)<r.len()&&(u<d?pr.scale(r,c,u*s):pr.scale(r,c,-d*s))}}return o},n.prototype._getProjMinMaxOnAxis=function(e,t,r){for(var i=this._axes[e],a=this._origin,s=t[0].dot(i)+a[e],o=s,l=s,c=1;c<t.length;c++){var u=t[c].dot(i)+a[e];o=Math.min(u,o),l=Math.max(u,l)}r[0]=o,r[1]=l},n}();const cM=lBe;var cBe=[],uBe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return e.prototype.traverse=function(t,r){t.call(r,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,r){r?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,r){r=r||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],r)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var r=this._cursor;r<this._displayables.length;r++)t&&t(this._displayables[r]);for(var r=0;r<this._temporaryDisplayables.length;r++)t&&t(this._temporaryDisplayables[r])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var r=this._displayables[t];r.parent=this,r.update(),r.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var r=this._temporaryDisplayables[t];r.parent=this,r.update(),r.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Xr(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(cBe)),t.union(a)}this._rect=t}return this._rect},e.prototype.contain=function(t,r){var i=this.transformCoordToLocal(t,r),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(t,r))return!0}return!1},e}(mw);const dBe=uBe;var fBe=qi();function hBe(n,e,t,r,i){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),l=n==="update";if(o){var c=void 0,u=void 0,d=void 0;r?(c=Gr(r.duration,200),u=Gr(r.easing,"cubicOut"),d=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),d=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(c=a.duration),a.easing!=null&&(u=a.easing),a.delay!=null&&(d=a.delay)),wr(d)&&(d=d(t,i)),wr(c)&&(c=c(t));var f={duration:c||0,delay:d,easing:u};return f}else return null}function q6(n,e,t,r,i,a,s){var o=!1,l;wr(i)?(s=a,a=i,i=null):or(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var c=n==="leave";c||e.stopAnimation("leave");var u=hBe(n,r,i,c?l||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,i):null);if(u&&u.duration>0){var d=u.duration,f=u.delay,h=u.easing,p={duration:d,delay:f||0,easing:h,done:a,force:!!a||!!s,setToFinal:!c,scope:n,during:s};o?e.animateFrom(t,p):e.animateTo(t,p)}else e.stopAnimation(),!o&&e.attr(t),s&&s(1),a&&a()}function Va(n,e,t,r,i,a){q6("update",n,e,t,r,i,a)}function mo(n,e,t,r,i,a){q6("enter",n,e,t,r,i,a)}function $v(n){if(!n.__zr)return!0;for(var e=0;e<n.animators.length;e++){var t=n.animators[e];if(t.scope==="leave")return!0}return!1}function vm(n,e,t,r,i,a){$v(n)||q6("leave",n,e,t,r,i,a)}function jz(n,e,t,r){n.removeTextContent(),n.removeTextGuideLine(),vm(n,{style:{opacity:0}},e,t,r)}function uM(n,e,t){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||jz(i,e,t,r)}):jz(n,e,t,r)}function K6(n){fBe(n).oldStyle=n.style}var dM=Math.max,fM=Math.min,cP={};function pBe(n){return wi.extend(n)}var mBe=FOe;function vBe(n,e){return mBe(n,e)}function Ec(n,e){cP[n]=e}function gBe(n){if(cP.hasOwnProperty(n))return cP[n]}function Y6(n,e,t,r){var i=BOe(n,e);return t&&(r==="center"&&(t=aee(t,i.getBoundingRect())),see(i,t)),i}function iee(n,e,t){var r=new Pm({style:{image:n,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(i){if(t==="center"){var a={width:i.width,height:i.height};r.setStyle(aee(e,a))}}});return r}function aee(n,e){var t=e.width/e.height,r=n.height*t,i;r<=n.width?i=n.height:(r=n.width,i=r/t);var a=n.x+n.width/2,s=n.y+n.height/2;return{x:a-r/2,y:s-i/2,width:r,height:i}}var yBe=zOe;function see(n,e){if(n.applyTransform){var t=n.getBoundingRect(),r=t.calculateTransform(e);n.applyTransform(r)}}function d_(n,e){return MJ(n,n,{lineWidth:e}),n}function bBe(n){return TJ(n.shape,n.shape,n.style),n}var _Be=Op;function wBe(n,e){for(var t=T6([]);n&&n!==e;)Hv(t,n.getLocalTransform(),t),n=n.parent;return t}function X6(n,e,t){return e&&!_o(e)&&(e=Rf.getLocalTransform(e)),t&&(e=uw([],e)),qs([],n,e)}function xBe(n,e,t){var r=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),i=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[n==="left"?-r:n==="right"?r:0,n==="top"?-i:n==="bottom"?i:0];return a=X6(a,e,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Zz(n){return!n.isGroup}function SBe(n){return n.shape!=null}function oee(n,e,t){if(!n||!e)return;function r(s){var o={};return s.traverse(function(l){Zz(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return SBe(s)&&(o.shape=cn({},s.shape)),o}var a=r(n);e.traverse(function(s){if(Zz(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),Va(s,l,t,fi(s).dataIndex)}}})}function CBe(n,e){return dr(n,function(t){var r=t[0];r=dM(r,e.x),r=fM(r,e.x+e.width);var i=t[1];return i=dM(i,e.y),i=fM(i,e.y+e.height),[r,i]})}function MBe(n,e){var t=dM(n.x,e.x),r=fM(n.x+n.width,e.x+e.width),i=dM(n.y,e.y),a=fM(n.y+n.height,e.y+e.height);if(r>=t&&a>=i)return{x:t,y:i,width:r-t,height:a-i}}function j6(n,e,t){var r=cn({rectHover:!0},e),i=r.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},n)return n.indexOf("image://")===0?(i.image=n.slice(8),pi(i,t),new Pm(r)):Y6(n.replace("path://",""),r,t,"center")}function TBe(n,e,t,r,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(lee(n,e,t,r,o[0],o[1],s[0],s[1]))return!0;s=o}}function lee(n,e,t,r,i,a,s,o){var l=t-n,c=r-e,u=s-i,d=o-a,f=UE(u,d,l,c);if(ABe(f))return!1;var h=n-i,p=e-a,m=UE(h,p,l,c)/f;if(m<0||m>1)return!1;var v=UE(h,p,u,d)/f;return!(v<0||v>1)}function UE(n,e,t,r){return n*r-t*e}function ABe(n){return n<=1e-6&&n>=-1e-6}function Z6(n){var e=n.itemTooltipOption,t=n.componentModel,r=n.itemName,i=Qn(e)?{formatter:e}:e,a=t.mainType,s=t.componentIndex,o={componentType:a,name:r,$vars:["name"]};o[a+"Index"]=s;var l=n.formatterParamsExtra;l&&ut(ki(l),function(u){_g(o,u)||(o[u]=l[u],o.$vars.push(u))});var c=fi(n.el);c.componentMainType=a,c.componentIndex=s,c.tooltipConfig={name:r,option:pi({content:r,formatterParams:o},i)}}function Qz(n,e){var t;n.isGroup&&(t=e(n)),t||n.traverse(e)}function Q6(n,e){if(n)if(Dn(n))for(var t=0;t<n.length;t++)Qz(n[t],e);else Qz(n,e)}Ec("circle",$6);Ec("ellipse",WJ);Ec("sector",Dm);Ec("ring",XJ);Ec("polygon",QJ);Ec("polyline",rA);Ec("rect",Ra);Ec("line",mm);Ec("bezierCurve",G6);Ec("arc",W6);const EBe=Object.freeze(Object.defineProperty({__proto__:null,Arc:W6,BezierCurve:G6,BoundingRect:Xr,Circle:$6,CompoundPath:nBe,Ellipse:WJ,Group:wo,Image:Pm,IncrementalDisplayable:dBe,Line:mm,LinearGradient:aBe,OrientedBoundingRect:cM,Path:wi,Point:pr,Polygon:QJ,Polyline:rA,RadialGradient:oBe,Rect:Ra,Ring:XJ,Sector:Dm,Text:Es,applyTransform:X6,clipPointsByRect:CBe,clipRectByRect:MBe,createIcon:j6,extendPath:vBe,extendShape:pBe,getShapeClass:gBe,getTransform:wBe,groupTransition:oee,initProps:mo,isElementRemoved:$v,lineLineIntersect:lee,linePolygonIntersect:TBe,makeImage:iee,makePath:Y6,mergePath:yBe,registerShape:Ec,removeElement:vm,removeElementWithFadeOut:uM,resizePath:see,setTooltipConfig:Z6,subPixelOptimize:_Be,subPixelOptimizeLine:d_,subPixelOptimizeRect:bBe,transformDirection:xBe,traverseElements:Q6,updateProps:Va},Symbol.toStringTag,{value:"Module"}));var iA={};function cee(n,e){for(var t=0;t<hu.length;t++){var r=hu[t],i=e[r],a=n.ensureState(r);a.style=a.style||{},a.style.text=i}var s=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:e.normal}),n.useStates(s,!0)}function uP(n,e,t){var r=n.labelFetcher,i=n.labelDataIndex,a=n.labelDimIndex,s=e.normal,o;r&&(o=r.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),t!=null?{interpolatedValue:t}:null)),o==null&&(o=wr(n.defaultText)?n.defaultText(i,n,t):n.defaultText);for(var l={normal:o},c=0;c<hu.length;c++){var u=hu[c],d=e[u];l[u]=Gr(r?r.getFormattedLabel(i,u,null,a,d&&d.get("formatter")):null,o)}return l}function aA(n,e,t,r){t=t||iA;for(var i=n instanceof Es,a=!1,s=0;s<aM.length;s++){var o=e[aM[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?n:n.getTextContent();if(a){i||(l||(l=new Es,n.setTextContent(l)),n.stateProxy&&(l.stateProxy=n.stateProxy));var c=uP(t,e),u=e.normal,d=!!u.getShallow("show"),f=wd(u,r&&r.normal,t,!1,!i);f.text=c.normal,i||n.setTextConfig(Jz(u,t,!1));for(var s=0;s<hu.length;s++){var h=hu[s],o=e[h];if(o){var p=l.ensureState(h),m=!!Gr(o.getShallow("show"),d);if(m!==d&&(p.ignore=!m),p.style=wd(o,r&&r[h],t,!0,!i),p.style.text=c[h],!i){var v=n.ensureState(h);v.textConfig=Jz(o,t,!0)}}}l.silent=!!u.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!d,l.useStyle(f),l.dirty(),t.enableTextSetter&&(gw(l).setLabelText=function(g){var y=uP(t,e,g);cee(l,y)})}else l&&(l.ignore=!0);n.dirty()}function J6(n,e){e=e||"label";for(var t={normal:n.getModel(e)},r=0;r<hu.length;r++){var i=hu[r];t[i]=n.getModel([i,e])}return t}function wd(n,e,t,r,i){var a={};return IBe(a,n,t,r,i),e&&cn(a,e),a}function Jz(n,e,t){e=e||{};var r={},i,a=n.getShallow("rotate"),s=Gr(n.getShallow("distance"),t?null:5),o=n.getShallow("offset");return i=n.getShallow("position")||(t?null:"inside"),i==="outside"&&(i=e.defaultOutsidePosition||"top"),i!=null&&(r.position=i),o!=null&&(r.offset=o),a!=null&&(a*=Math.PI/180,r.rotation=a),s!=null&&(r.distance=s),r.outsideFill=n.get("color")==="inherit"?e.inheritColor||null:"auto",r}function IBe(n,e,t,r,i){t=t||iA;var a=e.ecModel,s=a&&a.option.textStyle,o=RBe(e),l;if(o){l={};for(var c in o)if(o.hasOwnProperty(c)){var u=e.getModel(["rich",c]);rU(l[c]={},u,s,t,r,i,!1,!0)}}l&&(n.rich=l);var d=e.get("overflow");d&&(n.overflow=d);var f=e.get("minMargin");f!=null&&(n.margin=f),rU(n,e,s,t,r,i,!0,!1)}function RBe(n){for(var e;n&&n!==n.ecModel;){var t=(n.option||iA).rich;if(t){e=e||{};for(var r=ki(t),i=0;i<r.length;i++){var a=r[i];e[a]=1}}n=n.parentModel}return e}var eU=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],tU=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],nU=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function rU(n,e,t,r,i,a,s,o){t=!i&&t||iA;var l=r&&r.inheritColor,c=e.getShallow("color"),u=e.getShallow("textBorderColor"),d=Gr(e.getShallow("opacity"),t.opacity);(c==="inherit"||c==="auto")&&(l?c=l:c=null),(u==="inherit"||u==="auto")&&(l?u=l:u=null),a||(c=c||t.color,u=u||t.textBorderColor),c!=null&&(n.fill=c),u!=null&&(n.stroke=u);var f=Gr(e.getShallow("textBorderWidth"),t.textBorderWidth);f!=null&&(n.lineWidth=f);var h=Gr(e.getShallow("textBorderType"),t.textBorderType);h!=null&&(n.lineDash=h);var p=Gr(e.getShallow("textBorderDashOffset"),t.textBorderDashOffset);p!=null&&(n.lineDashOffset=p),!i&&d==null&&!o&&(d=r&&r.defaultOpacity),d!=null&&(n.opacity=d),!i&&!a&&n.fill==null&&r.inheritColor&&(n.fill=r.inheritColor);for(var m=0;m<eU.length;m++){var v=eU[m],g=Gr(e.getShallow(v),t[v]);g!=null&&(n[v]=g)}for(var m=0;m<tU.length;m++){var v=tU[m],g=e.getShallow(v);g!=null&&(n[v]=g)}if(n.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(n.verticalAlign=y)}if(!s||!r.disableBox){for(var m=0;m<nU.length;m++){var v=nU[m],g=e.getShallow(v);g!=null&&(n[v]=g)}var b=e.getShallow("borderType");b!=null&&(n.borderDash=b),(n.backgroundColor==="auto"||n.backgroundColor==="inherit")&&l&&(n.backgroundColor=l),(n.borderColor==="auto"||n.borderColor==="inherit")&&l&&(n.borderColor=l)}}function PBe(n,e){var t=e&&e.getModel("textStyle");return jc([n.fontStyle||t&&t.getShallow("fontStyle")||"",n.fontWeight||t&&t.getShallow("fontWeight")||"",(n.fontSize||t&&t.getShallow("fontSize")||12)+"px",n.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var gw=qi();function DBe(n,e,t,r){if(n){var i=gw(n);i.prevValue=i.value,i.value=t;var a=e.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=r,i.statesModels=e)}}function kBe(n,e,t,r,i){var a=gw(n);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=Gr(a.interpolatedValue,a.prevValue),l=a.value;function c(u){var d=oNe(t,a.precision,o,l,u);a.interpolatedValue=u===1?null:d;var f=uP({labelDataIndex:e,labelFetcher:i,defaultText:s?s(d):d+""},a.statesModels,d);cee(n,f)}n.percent=0,(a.prevValue==null?mo:Va)(n,{percent:1},r,e,null,c)}var LBe=["textStyle","color"],HE=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],VE=new Es,NBe=function(){function n(){}return n.prototype.getTextColor=function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(LBe):null)},n.prototype.getFont=function(){return PBe({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(e){for(var t={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<HE.length;r++)t[HE[r]]=this.getShallow(HE[r]);return VE.useStyle(t),VE.update(),VE.getBoundingRect()},n}();const OBe=NBe;var uee=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],BBe=u_(uee),FBe=function(){function n(){}return n.prototype.getLineStyle=function(e){return BBe(this,e)},n}(),dee=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],zBe=u_(dee),UBe=function(){function n(){}return n.prototype.getItemStyle=function(e,t){return zBe(this,e,t)},n}(),km=function(){function n(e,t,r){this.parentModel=t,this.ecModel=r,this.option=e}return n.prototype.init=function(e,t,r){},n.prototype.mergeOption=function(e,t){hi(this.option,e,!0)},n.prototype.get=function(e,t){return e==null?this.option:this._doGet(this.parsePath(e),!t&&this.parentModel)},n.prototype.getShallow=function(e,t){var r=this.option,i=r==null?r:r[e];if(i==null&&!t){var a=this.parentModel;a&&(i=a.getShallow(e))}return i},n.prototype.getModel=function(e,t){var r=e!=null,i=r?this.parsePath(e):null,a=r?this._doGet(i):this.option;return t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new n(a,t,this.ecModel)},n.prototype.isEmpty=function(){return this.option==null},n.prototype.restoreData=function(){},n.prototype.clone=function(){var e=this.constructor;return new e(Qr(this.option))},n.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},n.prototype.resolveParentPath=function(e){return e},n.prototype.isAnimationEnabled=function(){if(!Pr.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(e,t){var r=this.option;if(!e)return r;for(var i=0;i<e.length&&!(e[i]&&(r=r&&typeof r=="object"?r[e[i]]:null,r==null));i++);return r==null&&t&&(r=t._doGet(this.resolveParentPath(e),t.parentModel)),r},n}();O6(km);hNe(km);Cu(km,FBe);Cu(km,UBe);Cu(km,yNe);Cu(km,OBe);const Ja=km;var HBe=Math.round(Math.random()*10);function sA(n){return[n||"",HBe++].join("_")}function VBe(n){var e={};n.registerSubTypeDefaulter=function(t,r){var i=Zc(t);e[i.main]=r},n.determineSubType=function(t,r){var i=r.type;if(!i){var a=Zc(t).main;n.hasSubTypes(t)&&e[a]&&(i=e[a](r))}return i}}function $Be(n,e){n.topologicalTravel=function(a,s,o,l){if(!a.length)return;var c=t(s),u=c.graph,d=c.noEntryList,f={};for(ut(a,function(y){f[y]=!0});d.length;){var h=d.pop(),p=u[h],m=!!f[h];m&&(o.call(l,h,p.originalDeps.slice()),delete f[h]),ut(p.successor,m?g:v)}ut(f,function(){var y="";throw new Error(y)});function v(y){u[y].entryCount--,u[y].entryCount===0&&d.push(y)}function g(y){f[y]=!0,v(y)}};function t(a){var s={},o=[];return ut(a,function(l){var c=r(s,l),u=c.originalDeps=e(l),d=i(u,a);c.entryCount=d.length,c.entryCount===0&&o.push(l),ut(d,function(f){di(c.predecessor,f)<0&&c.predecessor.push(f);var h=r(s,f);di(h.successor,f)<0&&h.successor.push(l)})}),{graph:s,noEntryList:o}}function r(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return ut(a,function(l){di(s,l)>=0&&o.push(l)}),o}}function fee(n,e){return hi(hi({},n,!0),e,!0)}const GBe={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},WBe={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var hM="ZH",e8="EN",f_=e8,q2={},t8={},hee=Pr.domSupported?function(){var n=(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase();return n.indexOf(hM)>-1?hM:f_}():f_;function pee(n,e){n=n.toUpperCase(),t8[n]=new Ja(e),q2[n]=e}function qBe(n){if(Qn(n)){var e=q2[n.toUpperCase()]||{};return n===hM||n===e8?Qr(e):hi(Qr(e),Qr(q2[f_]),!1)}else return hi(Qr(n),Qr(q2[f_]),!1)}function KBe(n){return t8[n]}function YBe(){return t8[f_]}pee(e8,GBe);pee(hM,WBe);var n8=1e3,r8=n8*60,ob=r8*60,vl=ob*24,iU=vl*365,k1={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Ex="{yyyy}-{MM}-{dd}",aU={year:"{yyyy}",month:"{yyyy}-{MM}",day:Ex,hour:Ex+" "+k1.hour,minute:Ex+" "+k1.minute,second:Ex+" "+k1.second,millisecond:k1.none},$E=["year","month","day","hour","minute","second","millisecond"],mee=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Kd(n,e){return n+="","0000".substr(0,e-n.length)+n}function Gv(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function XBe(n){return n===Gv(n)}function jBe(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function oA(n,e,t,r){var i=_d(n),a=i[i8(t)](),s=i[Wv(t)]()+1,o=Math.floor((s-1)/3)+1,l=i[lA(t)](),c=i["get"+(t?"UTC":"")+"Day"](),u=i[h_(t)](),d=(u-1)%12+1,f=i[cA(t)](),h=i[uA(t)](),p=i[dA(t)](),m=r instanceof Ja?r:KBe(r||hee)||YBe(),v=m.getModel("time"),g=v.get("month"),y=v.get("monthAbbr"),b=v.get("dayOfWeek"),_=v.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Kd(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,g[s-1]).replace(/{MMM}/g,y[s-1]).replace(/{MM}/g,Kd(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Kd(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,b[c]).replace(/{ee}/g,_[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Kd(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Kd(d+"",2)).replace(/{h}/g,d+"").replace(/{mm}/g,Kd(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Kd(h,2)).replace(/{s}/g,h+"").replace(/{SSS}/g,Kd(p,3)).replace(/{S}/g,p+"")}function ZBe(n,e,t,r,i){var a=null;if(Qn(t))a=t;else if(wr(t))a=t(n.value,e,{level:n.level});else{var s=cn({},k1);if(n.level>0)for(var o=0;o<$E.length;++o)s[$E[o]]="{primary|"+s[$E[o]]+"}";var l=t?t.inherit===!1?t:pi(t,s):s,c=vee(n.value,i);if(l[c])a=l[c];else if(l.inherit){for(var u=mee.indexOf(c),o=u-1;o>=0;--o)if(l[c]){a=l[c];break}a=a||s.none}if(Dn(a)){var d=n.level==null?0:n.level>=0?n.level:a.length+n.level;d=Math.min(d,a.length-1),a=a[d]}}return oA(new Date(n.value),a,i,r)}function vee(n,e){var t=_d(n),r=t[Wv(e)]()+1,i=t[lA(e)](),a=t[h_(e)](),s=t[cA(e)](),o=t[uA(e)](),l=t[dA(e)](),c=l===0,u=c&&o===0,d=u&&s===0,f=d&&a===0,h=f&&i===1,p=h&&r===1;return p?"year":h?"month":f?"day":d?"hour":u?"minute":c?"second":"millisecond"}function sU(n,e,t){var r=Fi(n)?_d(n):n;switch(e=e||vee(n,t),e){case"year":return r[i8(t)]();case"half-year":return r[Wv(t)]()>=6?1:0;case"quarter":return Math.floor((r[Wv(t)]()+1)/4);case"month":return r[Wv(t)]();case"day":return r[lA(t)]();case"half-day":return r[h_(t)]()/24;case"hour":return r[h_(t)]();case"minute":return r[cA(t)]();case"second":return r[uA(t)]();case"millisecond":return r[dA(t)]()}}function i8(n){return n?"getUTCFullYear":"getFullYear"}function Wv(n){return n?"getUTCMonth":"getMonth"}function lA(n){return n?"getUTCDate":"getDate"}function h_(n){return n?"getUTCHours":"getHours"}function cA(n){return n?"getUTCMinutes":"getMinutes"}function uA(n){return n?"getUTCSeconds":"getSeconds"}function dA(n){return n?"getUTCMilliseconds":"getMilliseconds"}function QBe(n){return n?"setUTCFullYear":"setFullYear"}function gee(n){return n?"setUTCMonth":"setMonth"}function yee(n){return n?"setUTCDate":"setDate"}function bee(n){return n?"setUTCHours":"setHours"}function _ee(n){return n?"setUTCMinutes":"setMinutes"}function wee(n){return n?"setUTCSeconds":"setSeconds"}function xee(n){return n?"setUTCMilliseconds":"setMilliseconds"}function See(n){if(!q8e(n))return Qn(n)?n:"-";var e=(n+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Cee(n,e){return n=(n||"").toLowerCase().replace(/-(.)/g,function(t,r){return r.toUpperCase()}),e&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var fA=PQ;function dP(n,e,t){var r="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(u){return u&&jc(u)?u:"-"}function a(u){return!!(u!=null&&!isNaN(u)&&isFinite(u))}var s=e==="time",o=n instanceof Date;if(s||o){var l=s?_d(n):n;if(isNaN(+l)){if(o)return"-"}else return oA(l,r,t)}if(e==="ordinal")return OR(n)?i(n):Fi(n)&&a(n)?n+"":"-";var c=iM(n);return a(c)?See(c):OR(n)?i(n):typeof n=="boolean"?n+"":"-"}var oU=["a","b","c","d","e","f","g"],GE=function(n,e){return"{"+n+(e??"")+"}"};function Mee(n,e,t){Dn(e)||(e=[e]);var r=e.length;if(!r)return"";for(var i=e[0].$vars||[],a=0;a<i.length;a++){var s=oU[a];n=n.replace(GE(s),GE(s,0))}for(var o=0;o<r;o++)for(var l=0;l<i.length;l++){var c=e[o][i[l]];n=n.replace(GE(oU[l],o),t?hl(c):c)}return n}function JBe(n,e){var t=Qn(n)?{color:n,extraCssText:e}:n||{},r=t.color,i=t.type;e=t.extraCssText;var a=t.renderMode||"html";if(!r)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+hl(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+hl(r)+";"+(e||"")+'"></span>';var s=t.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}}function e7e(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function p_(n,e){return e=e||"transparent",Qn(n)?n:or(n)&&n.colorStops&&(n.colorStops[0]||{}).color||e}function lU(n,e){if(e==="_blank"||e==="blank"){var t=window.open();t.opener=null,t.location.href=n}else window.open(n,e)}var K2=ut,t7e=["left","right","top","bottom","width","height"],Ix=[["width","left","right"],["height","top","bottom"]];function a8(n,e,t,r,i){var a=0,s=0;r==null&&(r=1/0),i==null&&(i=1/0);var o=0;e.eachChild(function(l,c){var u=l.getBoundingRect(),d=e.childAt(c+1),f=d&&d.getBoundingRect(),h,p;if(n==="horizontal"){var m=u.width+(f?-f.x+u.x:0);h=a+m,h>r||l.newline?(a=0,h=m,s+=o+t,o=u.height):o=Math.max(o,u.height)}else{var v=u.height+(f?-f.y+u.y:0);p=s+v,p>i||l.newline?(a+=o+t,s=0,p=v,o=u.width):o=Math.max(o,u.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),n==="horizontal"?a=h+t:s=p+t)})}var lb=a8;Vi(a8,"vertical");Vi(a8,"horizontal");function lh(n,e,t){t=fA(t||0);var r=e.width,i=e.height,a=bi(n.left,r),s=bi(n.top,i),o=bi(n.right,r),l=bi(n.bottom,i),c=bi(n.width,r),u=bi(n.height,i),d=t[2]+t[0],f=t[1]+t[3],h=n.aspect;switch(isNaN(c)&&(c=r-o-f-a),isNaN(u)&&(u=i-l-d-s),h!=null&&(isNaN(c)&&isNaN(u)&&(h>r/i?c=r*.8:u=i*.8),isNaN(c)&&(c=h*u),isNaN(u)&&(u=c/h)),isNaN(a)&&(a=r-o-c-f),isNaN(s)&&(s=i-l-u-d),n.left||n.right){case"center":a=r/2-c/2-t[3];break;case"right":a=r-c-f;break}switch(n.top||n.bottom){case"middle":case"center":s=i/2-u/2-t[0];break;case"bottom":s=i-u-d;break}a=a||0,s=s||0,isNaN(c)&&(c=r-f-a-(o||0)),isNaN(u)&&(u=i-d-s-(l||0));var p=new Xr(a+t[3],s+t[0],c,u);return p.margin=t,p}function m_(n){var e=n.layoutMode||n.constructor.layoutMode;return or(e)?e:e?{type:e}:null}function xg(n,e,t){var r=t&&t.ignoreSize;!Dn(r)&&(r=[r,r]);var i=s(Ix[0],0),a=s(Ix[1],1);c(Ix[0],n,i),c(Ix[1],n,a);function s(u,d){var f={},h=0,p={},m=0,v=2;if(K2(u,function(b){p[b]=n[b]}),K2(u,function(b){o(e,b)&&(f[b]=p[b]=e[b]),l(f,b)&&h++,l(p,b)&&m++}),r[d])return l(e,u[1])?p[u[2]]=null:l(e,u[2])&&(p[u[1]]=null),p;if(m===v||!h)return p;if(h>=v)return f;for(var g=0;g<u.length;g++){var y=u[g];if(!o(f,y)&&o(n,y)){f[y]=n[y];break}}return f}function o(u,d){return u.hasOwnProperty(d)}function l(u,d){return u[d]!=null&&u[d]!=="auto"}function c(u,d,f){K2(u,function(h){d[h]=f[h]})}}function hA(n){return n7e({},n)}function n7e(n,e){return e&&n&&K2(t7e,function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}var r7e=qi(),sy=function(n){wn(e,n);function e(t,r,i){var a=n.call(this,t,r,i)||this;return a.uid=sA("ec_cpt_model"),a}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=m_(this),a=i?hA(t):{},s=r.getTheme();hi(t,s.get(this.mainType)),hi(t,this.getDefaultOption()),i&&xg(t,a,i)},e.prototype.mergeOption=function(t,r){hi(this.option,t,!0);var i=m_(this);i&&xg(this.option,t,i)},e.prototype.optionUpdated=function(t,r){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!uNe(t))return t.defaultOption;var r=r7e(this);if(!r.defaultOption){for(var i=[],a=t;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=hi(o,i[l],!0);r.defaultOption=o}return r.defaultOption},e.prototype.getReferringComponents=function(t,r){var i=t+"Index",a=t+"Id";return pw(this.ecModel,t,{index:this.get(i,!0),id:this.get(a,!0)},r)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=function(){var t=e.prototype;t.type="component",t.id="",t.name="",t.mainType="",t.subType="",t.componentIndex=0}(),e}(Ja);vJ(sy,Ja);QT(sy);VBe(sy);$Be(sy,i7e);function i7e(n){var e=[];return ut(sy.getClassesByMainType(n),function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])}),e=dr(e,function(t){return Zc(t).main}),n!=="dataset"&&di(e,"dataset")<=0&&e.unshift("dataset"),e}const Ni=sy;var Tee="";typeof navigator<"u"&&(Tee=navigator.platform||"");var l0="rgba(0, 0, 0, 0.2)";const a7e={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:l0,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:l0,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:l0,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:l0,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:l0,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:l0,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:Tee.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var Aee=Dr(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),zl="original",xo="arrayRows",Ic="objectRows",Mu="keyedColumns",Uf="typedArray",Eee="unknown",iu="column",oy="row",Xa={Must:1,Might:2,Not:3},Iee=qi();function s7e(n){Iee(n).datasetMap=Dr()}function o7e(n,e,t){var r={},i=s8(e);if(!i||!n)return r;var a=[],s=[],o=e.ecModel,l=Iee(o).datasetMap,c=i.uid+"_"+t.seriesLayoutBy,u,d;n=n.slice(),ut(n,function(m,v){var g=or(m)?m:n[v]={name:m};g.type==="ordinal"&&u==null&&(u=v,d=p(g)),r[g.name]=[]});var f=l.get(c)||l.set(c,{categoryWayDim:d,valueWayDim:0});ut(n,function(m,v){var g=m.name,y=p(m);if(u==null){var b=f.valueWayDim;h(r[g],b,y),h(s,b,y),f.valueWayDim+=y}else if(u===v)h(r[g],0,y),h(a,0,y);else{var b=f.categoryWayDim;h(r[g],b,y),h(s,b,y),f.categoryWayDim+=y}});function h(m,v,g){for(var y=0;y<g;y++)m.push(v+y)}function p(m){var v=m.dimsDef;return v?v.length:1}return a.length&&(r.itemName=a),s.length&&(r.seriesName=s),r}function l7e(n,e,t){var r={},i=s8(n);if(!i)return r;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Ic||a===Mu)&&ut(s,function(u,d){(or(u)?u.name:u)==="name"&&(o=d)});var l=function(){for(var u={},d={},f=[],h=0,p=Math.min(5,t);h<p;h++){var m=Pee(e.data,a,e.seriesLayoutBy,s,e.startIndex,h);f.push(m);var v=m===Xa.Not;if(v&&u.v==null&&h!==o&&(u.v=h),(u.n==null||u.n===u.v||!v&&f[u.n]===Xa.Not)&&(u.n=h),g(u)&&f[u.n]!==Xa.Not)return u;v||(m===Xa.Might&&d.v==null&&h!==o&&(d.v=h),(d.n==null||d.n===d.v)&&(d.n=h))}function g(y){return y.v!=null&&y.n!=null}return g(u)?u:g(d)?d:null}();if(l){r.value=[l.v];var c=o??l.n;r.itemName=[c],r.seriesName=[c]}return r}function s8(n){var e=n.get("data",!0);if(!e)return pw(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},dc).models[0]}function c7e(n){return!n.get("transform",!0)&&!n.get("fromTransformResult",!0)?[]:pw(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},dc).models}function Ree(n,e){return Pee(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,e)}function Pee(n,e,t,r,i,a){var s,o=5;if(Yo(n))return Xa.Not;var l,c;if(r){var u=r[a];or(u)?(l=u.name,c=u.type):Qn(u)&&(l=u)}if(c!=null)return c==="ordinal"?Xa.Must:Xa.Not;if(e===xo){var d=n;if(t===oy){for(var f=d[a],h=0;h<(f||[]).length&&h<o;h++)if((s=_(f[i+h]))!=null)return s}else for(var h=0;h<d.length&&h<o;h++){var p=d[i+h];if(p&&(s=_(p[a]))!=null)return s}}else if(e===Ic){var m=n;if(!l)return Xa.Not;for(var h=0;h<m.length&&h<o;h++){var v=m[h];if(v&&(s=_(v[l]))!=null)return s}}else if(e===Mu){var g=n;if(!l)return Xa.Not;var f=g[l];if(!f||Yo(f))return Xa.Not;for(var h=0;h<f.length&&h<o;h++)if((s=_(f[h]))!=null)return s}else if(e===zl)for(var y=n,h=0;h<y.length&&h<o;h++){var v=y[h],b=fw(v);if(!Dn(b))return Xa.Not;if((s=_(b[a]))!=null)return s}function _(x){var S=Qn(x);if(x!=null&&isFinite(x)&&x!=="")return S?Xa.Might:Xa.Not;if(S&&x!=="-")return Xa.Must}return Xa.Not}var u7e=Dr();function d7e(n,e,t){var r=u7e.get(e);if(!r)return t;var i=r(n);return i?t.concat(i):t}var cU=qi();qi();var o8=function(){function n(){}return n.prototype.getColorFromPalette=function(e,t,r){var i=Ks(this.get("color",!0)),a=this.get("colorLayer",!0);return h7e(this,cU,i,a,e,t,r)},n.prototype.clearColorPalette=function(){p7e(this,cU)},n}();function f7e(n,e){for(var t=n.length,r=0;r<t;r++)if(n[r].length>e)return n[r];return n[t-1]}function h7e(n,e,t,r,i,a,s){a=a||n;var o=e(a),l=o.paletteIdx||0,c=o.paletteNameMap=o.paletteNameMap||{};if(c.hasOwnProperty(i))return c[i];var u=s==null||!r?t:f7e(r,s);if(u=u||t,!(!u||!u.length)){var d=u[l];return i&&(c[i]=d),o.paletteIdx=(l+1)%u.length,d}}function p7e(n,e){e(n).paletteIdx=0,e(n).paletteNameMap={}}var Rx,Ky,uU,dU="\0_ec_inner",m7e=1,Dee=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t,r,i,a,s,o){a=a||{},this.option=null,this._theme=new Ja(a),this._locale=new Ja(s),this._optionManager=o},e.prototype.setOption=function(t,r,i){var a=pU(r);this._optionManager.setOption(t,i,a),this._resetOption(null,a)},e.prototype.resetOption=function(t,r){return this._resetOption(t,pU(r))},e.prototype._resetOption=function(t,r){var i=!1,a=this._optionManager;if(!t||t==="recreate"){var s=a.mountOption(t==="recreate");!this.option||t==="recreate"?uU(this,s):(this.restoreData(),this._mergeOption(s,r)),i=!0}if((t==="timeline"||t==="media")&&this.restoreData(),!t||t==="recreate"||t==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,r))}if(!t||t==="recreate"||t==="media"){var l=a.getMediaOption(this);l.length&&ut(l,function(c){i=!0,this._mergeOption(c,r)},this)}return i},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,r){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=Dr(),c=r&&r.replaceMergeMainTypeMap;s7e(this),ut(t,function(d,f){d!=null&&(Ni.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?Qr(d):hi(i[f],d,!0))}),c&&c.each(function(d,f){Ni.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),Ni.topologicalTravel(o,Ni.getAllClassMainTypes(),u,this);function u(d){var f=d7e(this,d,Ks(t[d])),h=a.get(d),p=h?c&&c.get(d)?"replaceMerge":"normalMerge":"replaceAll",m=X8e(h,f,p);nNe(m,d,Ni),i[d]=null,a.set(d,null),s.set(d,0);var v=[],g=[],y=0,b;ut(m,function(_,x){var S=_.existing,T=_.newOption;if(!T)S&&(S.mergeOption({},this),S.optionUpdated({},!1));else{var C=d==="series",M=Ni.getClass(d,_.keyInfo.subType,!C);if(!M)return;if(d==="tooltip"){if(b)return;b=!0}if(S&&S.constructor===M)S.name=_.keyInfo.name,S.mergeOption(T,this),S.optionUpdated(T,!1);else{var A=cn({componentIndex:x},_.keyInfo);S=new M(T,this,this,A),cn(S,A),_.brandNew&&(S.__requireNewView=!0),S.init(T,this,this),S.optionUpdated(null,!0)}}S?(v.push(S.option),g.push(S),y++):(v.push(void 0),g.push(void 0))},this),i[d]=v,a.set(d,g),s.set(d,y),d==="series"&&Rx(this)}this._seriesIndices||Rx(this)},e.prototype.getOption=function(){var t=Qr(this.option);return ut(t,function(r,i){if(Ni.hasClass(i)){for(var a=Ks(r),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!c_(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,t[i]=a}}),delete t[dU],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,r){var i=this._componentsMap.get(t);if(i){var a=i[r||0];if(a)return a;if(r==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},e.prototype.queryComponents=function(t){var r=t.mainType;if(!r)return[];var i=t.index,a=t.id,s=t.name,o=this._componentsMap.get(r);if(!o||!o.length)return[];var l;return i!=null?(l=[],ut(Ks(i),function(c){o[c]&&l.push(o[c])})):a!=null?l=fU("id",a,o):s!=null?l=fU("name",s,o):l=Oa(o,function(c){return!!c}),hU(l,t)},e.prototype.findComponents=function(t){var r=t.query,i=t.mainType,a=o(r),s=a?this.queryComponents(a):Oa(this._componentsMap.get(i),function(c){return!!c});return l(hU(s,t));function o(c){var u=i+"Index",d=i+"Id",f=i+"Name";return c&&(c[u]!=null||c[d]!=null||c[f]!=null)?{mainType:i,index:c[u],id:c[d],name:c[f]}:null}function l(c){return t.filter?Oa(c,t.filter):c}},e.prototype.eachComponent=function(t,r,i){var a=this._componentsMap;if(wr(t)){var s=r,o=t;a.each(function(d,f){for(var h=0;d&&h<d.length;h++){var p=d[h];p&&o.call(s,f,p,p.componentIndex)}})}else for(var l=Qn(t)?a.get(t):or(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&r.call(i,u,u.componentIndex)}},e.prototype.getSeriesByName=function(t){var r=gc(t,null);return Oa(this._componentsMap.get("series"),function(i){return!!i&&r!=null&&i.name===r})},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return Oa(this._componentsMap.get("series"),function(r){return!!r&&r.subType===t})},e.prototype.getSeries=function(){return Oa(this._componentsMap.get("series"),function(t){return!!t})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,r){Ky(this),ut(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];t.call(r,a,i)},this)},e.prototype.eachRawSeries=function(t,r){ut(this._componentsMap.get("series"),function(i){i&&t.call(r,i,i.componentIndex)})},e.prototype.eachSeriesByType=function(t,r,i){Ky(this),ut(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===t&&r.call(i,s,a)},this)},e.prototype.eachRawSeriesByType=function(t,r,i){return ut(this.getSeriesByType(t),r,i)},e.prototype.isSeriesFiltered=function(t){return Ky(this),this._seriesIndicesMap.get(t.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,r){Ky(this);var i=[];ut(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];t.call(r,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=Dr(i)},e.prototype.restoreData=function(t){Rx(this);var r=this._componentsMap,i=[];r.each(function(a,s){Ni.hasClass(s)&&i.push(s)}),Ni.topologicalTravel(i,Ni.getAllClassMainTypes(),function(a){ut(r.get(a),function(s){s&&(a!=="series"||!v7e(s,t))&&s.restoreData()})})},e.internalField=function(){Rx=function(t){var r=t._seriesIndices=[];ut(t._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),t._seriesIndicesMap=Dr(r)},Ky=function(t){},uU=function(t,r){t.option={},t.option[dU]=m7e,t._componentsMap=Dr({series:[]}),t._componentsCount=Dr();var i=r.aria;or(i)&&i.enabled==null&&(i.enabled=!0),g7e(r,t._theme.option),hi(r,a7e,!1),t._mergeOption(r,null)}}(),e}(Ja);function v7e(n,e){if(e){var t=e.seriesIndex,r=e.seriesId,i=e.seriesName;return t!=null&&n.componentIndex!==t||r!=null&&n.id!==r||i!=null&&n.name!==i}}function g7e(n,e){var t=n.color&&!n.colorLayer;ut(e,function(r,i){i==="colorLayer"&&t||Ni.hasClass(i)||(typeof r=="object"?n[i]=n[i]?hi(n[i],r,!1):Qr(r):n[i]==null&&(n[i]=r))})}function fU(n,e,t){if(Dn(e)){var r=Dr();return ut(e,function(a){if(a!=null){var s=gc(a,null);s!=null&&r.set(a,!0)}}),Oa(t,function(a){return a&&r.get(a[n])})}else{var i=gc(e,null);return Oa(t,function(a){return a&&i!=null&&a[n]===i})}}function hU(n,e){return e.hasOwnProperty("subType")?Oa(n,function(t){return t&&t.subType===e.subType}):n}function pU(n){var e=Dr();return n&&ut(Ks(n.replaceMerge),function(t){e.set(t,!0)}),{replaceMergeMainTypeMap:e}}Cu(Dee,o8);const kee=Dee;var y7e=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],b7e=function(){function n(e){ut(y7e,function(t){this[t]=ii(e[t],e)},this)}return n}();const Lee=b7e;var WE={},_7e=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(e,t){var r=[];ut(WE,function(i,a){var s=i.create(e,t);r=r.concat(s||[])}),this._coordinateSystems=r},n.prototype.update=function(e,t){ut(this._coordinateSystems,function(r){r.update&&r.update(e,t)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(e,t){WE[e]=t},n.get=function(e){return WE[e]},n}();const l8=_7e;var w7e=/^(min|max)?(.+)$/,x7e=function(){function n(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return n.prototype.setOption=function(e,t,r){e&&(ut(Ks(e.series),function(s){s&&s.data&&Yo(s.data)&&XC(s.data)}),ut(Ks(e.dataset),function(s){s&&s.source&&Yo(s.source)&&XC(s.source)})),e=Qr(e);var i=this._optionBackup,a=S7e(e,t,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},n.prototype.mountOption=function(e){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Qr(e?t.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(e){var t,r=this._timelineOptions;if(r.length){var i=e.getComponent("timeline");i&&(t=Qr(r[i.getCurrentIndex()]))}return t},n.prototype.getMediaOption=function(e){var t=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,c=i.length;l<c;l++)C7e(i[l].query,t,r)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!T7e(s,this._currentMediaIndices)&&(o=dr(s,function(u){return Qr(u===-1?a.option:i[u].option)})),this._currentMediaIndices=s,o},n}();function S7e(n,e,t){var r=[],i,a,s=n.baseOption,o=n.timeline,l=n.options,c=n.media,u=!!n.media,d=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((d||u)&&(n.options=n.media=null),a=n),u&&Dn(c)&&ut(c,function(h){h&&h.option&&(h.query?r.push(h):i||(i=h))}),f(a),ut(l,function(h){return f(h)}),ut(r,function(h){return f(h.option)});function f(h){ut(e,function(p){p(h,t)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:r}}function C7e(n,e,t){var r={width:e,height:t,aspectratio:e/t},i=!0;return ut(n,function(a,s){var o=s.match(w7e);if(!(!o||!o[1]||!o[2])){var l=o[1],c=o[2].toLowerCase();M7e(r[c],a,l)||(i=!1)}}),i}function M7e(n,e,t){return t==="min"?n>=e:t==="max"?n<=e:n===e}function T7e(n,e){return n.join(",")===e.join(",")}const A7e=x7e;var Gl=ut,v_=or,mU=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function qE(n){var e=n&&n.itemStyle;if(e)for(var t=0,r=mU.length;t<r;t++){var i=mU[t],a=e.normal,s=e.emphasis;a&&a[i]&&(n[i]=n[i]||{},n[i].normal?hi(n[i].normal,a[i]):n[i].normal=a[i],a[i]=null),s&&s[i]&&(n[i]=n[i]||{},n[i].emphasis?hi(n[i].emphasis,s[i]):n[i].emphasis=s[i],s[i]=null)}}function bs(n,e,t){if(n&&n[e]&&(n[e].normal||n[e].emphasis)){var r=n[e].normal,i=n[e].emphasis;r&&(t?(n[e].normal=n[e].emphasis=null,pi(n[e],r)):n[e]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[e]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function L1(n){bs(n,"itemStyle"),bs(n,"lineStyle"),bs(n,"areaStyle"),bs(n,"label"),bs(n,"labelLine"),bs(n,"upperLabel"),bs(n,"edgeLabel")}function sa(n,e){var t=v_(n)&&n[e],r=v_(t)&&t.textStyle;if(r)for(var i=0,a=gz.length;i<a;i++){var s=gz[i];r.hasOwnProperty(s)&&(t[s]=r[s])}}function ll(n){n&&(L1(n),sa(n,"label"),n.emphasis&&sa(n.emphasis,"label"))}function E7e(n){if(v_(n)){qE(n),L1(n),sa(n,"label"),sa(n,"upperLabel"),sa(n,"edgeLabel"),n.emphasis&&(sa(n.emphasis,"label"),sa(n.emphasis,"upperLabel"),sa(n.emphasis,"edgeLabel"));var e=n.markPoint;e&&(qE(e),ll(e));var t=n.markLine;t&&(qE(t),ll(t));var r=n.markArea;r&&ll(r);var i=n.data;if(n.type==="graph"){i=i||n.nodes;var a=n.links||n.edges;if(a&&!Yo(a))for(var s=0;s<a.length;s++)ll(a[s]);ut(n.categories,function(c){L1(c)})}if(i&&!Yo(i))for(var s=0;s<i.length;s++)ll(i[s]);if(e=n.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)ll(o[s]);if(t=n.markLine,t&&t.data)for(var l=t.data,s=0;s<l.length;s++)Dn(l[s])?(ll(l[s][0]),ll(l[s][1])):ll(l[s]);n.type==="gauge"?(sa(n,"axisLabel"),sa(n,"title"),sa(n,"detail")):n.type==="treemap"?(bs(n.breadcrumb,"itemStyle"),ut(n.levels,function(c){L1(c)})):n.type==="tree"&&L1(n.leaves)}}function Du(n){return Dn(n)?n:n?[n]:[]}function vU(n){return(Dn(n)?n[0]:n)||{}}function I7e(n,e){Gl(Du(n.series),function(r){v_(r)&&E7e(r)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),Gl(t,function(r){Gl(Du(n[r]),function(i){i&&(sa(i,"axisLabel"),sa(i.axisPointer,"label"))})}),Gl(Du(n.parallel),function(r){var i=r&&r.parallelAxisDefault;sa(i,"axisLabel"),sa(i&&i.axisPointer,"label")}),Gl(Du(n.calendar),function(r){bs(r,"itemStyle"),sa(r,"dayLabel"),sa(r,"monthLabel"),sa(r,"yearLabel")}),Gl(Du(n.radar),function(r){sa(r,"name"),r.name&&r.axisName==null&&(r.axisName=r.name,delete r.name),r.nameGap!=null&&r.axisNameGap==null&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),Gl(Du(n.geo),function(r){v_(r)&&(ll(r),Gl(Du(r.regions),function(i){ll(i)}))}),Gl(Du(n.timeline),function(r){ll(r),bs(r,"label"),bs(r,"itemStyle"),bs(r,"controlStyle",!0);var i=r.data;Dn(i)&&ut(i,function(a){or(a)&&(bs(a,"label"),bs(a,"itemStyle"))})}),Gl(Du(n.toolbox),function(r){bs(r,"iconStyle"),Gl(r.feature,function(i){bs(i,"iconStyle")})}),sa(vU(n.axisPointer),"label"),sa(vU(n.tooltip).axisPointer,"label")}function R7e(n,e){for(var t=e.split(","),r=n,i=0;i<t.length&&(r=r&&r[t[i]],r!=null);i++);return r}function P7e(n,e,t,r){for(var i=e.split(","),a=n,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];(r||a[i[o]]==null)&&(a[i[o]]=t)}function gU(n){n&&ut(D7e,function(e){e[0]in n&&!(e[1]in n)&&(n[e[1]]=n[e[0]])})}var D7e=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],k7e=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],KE=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Yy(n){var e=n&&n.itemStyle;if(e)for(var t=0;t<KE.length;t++){var r=KE[t][1],i=KE[t][0];e[r]!=null&&(e[i]=e[r])}}function yU(n){n&&n.alignTo==="edge"&&n.margin!=null&&n.edgeDistance==null&&(n.edgeDistance=n.margin)}function bU(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function L7e(n){n&&n.focusNodeAdjacency!=null&&(n.emphasis=n.emphasis||{},n.emphasis.focus==null&&(n.emphasis.focus="adjacency"))}function Nee(n,e){if(n)for(var t=0;t<n.length;t++)e(n[t]),n[t]&&Nee(n[t].children,e)}function Oee(n,e){I7e(n,e),n.series=Ks(n.series),ut(n.series,function(t){if(or(t)){var r=t.type;if(r==="line")t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(r==="pie"||r==="gauge"){t.clockWise!=null&&(t.clockwise=t.clockWise),yU(t.label);var i=t.data;if(i&&!Yo(i))for(var a=0;a<i.length;a++)yU(i[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(r==="gauge"){var s=R7e(t,"pointer.color");s!=null&&P7e(t,"itemStyle.color",s)}else if(r==="bar"){Yy(t),Yy(t.backgroundStyle),Yy(t.emphasis);var i=t.data;if(i&&!Yo(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Yy(i[a]),Yy(i[a]&&i[a].emphasis))}else if(r==="sunburst"){var o=t.highlightPolicy;o&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=o)),bU(t),Nee(t.data,bU)}else r==="graph"||r==="sankey"?L7e(t):r==="map"&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&pi(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),gU(t)}}),n.dataRange&&(n.visualMap=n.dataRange),ut(k7e,function(t){var r=n[t];r&&(Dn(r)||(r=[r]),ut(r,function(i){gU(i)}))})}function N7e(n){var e=Dr();n.eachSeries(function(t){var r=t.get("stack");if(r){var i=e.get(r)||e.set(r,[]),a=t.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),e.each(O7e)}function O7e(n){ut(n,function(e,t){var r=[],i=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(c,u,d){var f=s.get(e.stackedDimension,d);if(isNaN(f))return i;var h,p;o?p=s.getRawIndex(d):h=s.get(e.stackedByDimension,d);for(var m=NaN,v=t-1;v>=0;v--){var g=n[v];if(o||(p=g.data.rawIndexOf(g.stackedByDimension,h)),p>=0){var y=g.data.getByRawIndex(g.stackResultDimension,p);if(l==="all"||l==="positive"&&y>0||l==="negative"&&y<0||l==="samesign"&&f>=0&&y>0||l==="samesign"&&f<=0&&y<0){f=$8e(f,y),m=y;break}}}return r[0]=f,r[1]=m,r})})}var pA=function(){function n(e){this.data=e.data||(e.sourceFormat===Mu?{}:[]),this.sourceFormat=e.sourceFormat||Eee,this.seriesLayoutBy=e.seriesLayoutBy||iu,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var t=this.dimensionsDefine=e.dimensionsDefine;if(t)for(var r=0;r<t.length;r++){var i=t[r];i.type==null&&Ree(this,r)===Xa.Must&&(i.type="ordinal")}}return n}();function c8(n){return n instanceof pA}function fP(n,e,t){t=t||Bee(n);var r=e.seriesLayoutBy,i=F7e(n,t,r,e.sourceHeader,e.dimensions),a=new pA({data:n,sourceFormat:t,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Qr(e)});return a}function u8(n){return new pA({data:n,sourceFormat:Yo(n)?Uf:zl})}function B7e(n){return new pA({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Qr(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function Bee(n){var e=Eee;if(Yo(n))e=Uf;else if(Dn(n)){n.length===0&&(e=xo);for(var t=0,r=n.length;t<r;t++){var i=n[t];if(i!=null){if(Dn(i)){e=xo;break}else if(or(i)){e=Ic;break}}}}else if(or(n)){for(var a in n)if(_g(n,a)&&_o(n[a])){e=Mu;break}}return e}function F7e(n,e,t,r,i){var a,s;if(!n)return{dimensionsDefine:_U(i),startIndex:s,dimensionsDetectedCount:a};if(e===xo){var o=n;r==="auto"||r==null?wU(function(c){c!=null&&c!=="-"&&(Qn(c)?s==null&&(s=1):s=0)},t,o,10):s=Fi(r)?r:r?1:0,!i&&s===1&&(i=[],wU(function(c,u){i[u]=c!=null?c+"":""},t,o,1/0)),a=i?i.length:t===oy?o.length:o[0]?o[0].length:null}else if(e===Ic)i||(i=z7e(n));else if(e===Mu)i||(i=[],ut(n,function(c,u){i.push(u)}));else if(e===zl){var l=fw(n[0]);a=Dn(l)&&l.length||1}return{startIndex:s,dimensionsDefine:_U(i),dimensionsDetectedCount:a}}function z7e(n){for(var e=0,t;e<n.length&&!(t=n[e++]););if(t)return ki(t)}function _U(n){if(n){var e=Dr();return dr(n,function(t,r){t=or(t)?t:{name:t};var i={name:t.name,displayName:t.displayName,type:t.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=e.get(i.name);return a?i.name+="-"+a.count++:e.set(i.name,{count:1}),i})}}function wU(n,e,t,r){if(e===oy)for(var i=0;i<t.length&&i<r;i++)n(t[i]?t[i][0]:null,i);else for(var a=t[0]||[],i=0;i<a.length&&i<r;i++)n(a[i],i)}function Fee(n){var e=n.sourceFormat;return e===Ic||e===Mu}var jh,Zh,Qh,xU,SU,zee=function(){function n(e,t){var r=c8(e)?e:u8(e);this._source=r;var i=this._data=r.data;r.sourceFormat===Uf&&(this._offset=0,this._dimSize=t,this._data=i),SU(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(e,t){},n.prototype.appendData=function(e){},n.prototype.clean=function(){},n.protoInitialize=function(){var e=n.prototype;e.pure=!1,e.persistent=!0}(),n.internalField=function(){var e;SU=function(s,o,l){var c=l.sourceFormat,u=l.seriesLayoutBy,d=l.startIndex,f=l.dimensionsDefine,h=xU[d8(c,u)];if(cn(s,h),c===Uf)s.getItem=t,s.count=i,s.fillStorage=r;else{var p=Uee(c,u);s.getItem=ii(p,null,o,d,f);var m=Hee(c,u);s.count=ii(m,null,o,d,f)}};var t=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,c=this._dimSize,u=c*s,d=0;d<c;d++)o[d]=l[u+d];return o},r=function(s,o,l,c){for(var u=this._data,d=this._dimSize,f=0;f<d;f++){for(var h=c[f],p=h[0]==null?1/0:h[0],m=h[1]==null?-1/0:h[1],v=o-s,g=l[f],y=0;y<v;y++){var b=u[y*d+f];g[s+y]=b,b<p&&(p=b),b>m&&(m=b)}h[0]=p,h[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};xU=(e={},e[xo+"_"+iu]={pure:!0,appendData:a},e[xo+"_"+oy]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Ic]={pure:!0,appendData:a},e[Mu]={pure:!0,appendData:function(s){var o=this._data;ut(s,function(l,c){for(var u=o[c]||(o[c]=[]),d=0;d<(l||[]).length;d++)u.push(l[d])})}},e[zl]={appendData:a},e[Uf]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),n}(),CU=function(n,e,t,r){return n[r]},U7e=(jh={},jh[xo+"_"+iu]=function(n,e,t,r){return n[r+e]},jh[xo+"_"+oy]=function(n,e,t,r,i){r+=e;for(var a=i||[],s=n,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[r]:null}return a},jh[Ic]=CU,jh[Mu]=function(n,e,t,r,i){for(var a=i||[],s=0;s<t.length;s++){var o=t[s].name,l=n[o];a[s]=l?l[r]:null}return a},jh[zl]=CU,jh);function Uee(n,e){var t=U7e[d8(n,e)];return t}var MU=function(n,e,t){return n.length},H7e=(Zh={},Zh[xo+"_"+iu]=function(n,e,t){return Math.max(0,n.length-e)},Zh[xo+"_"+oy]=function(n,e,t){var r=n[0];return r?Math.max(0,r.length-e):0},Zh[Ic]=MU,Zh[Mu]=function(n,e,t){var r=t[0].name,i=n[r];return i?i.length:0},Zh[zl]=MU,Zh);function Hee(n,e){var t=H7e[d8(n,e)];return t}var YE=function(n,e,t){return n[e]},V7e=(Qh={},Qh[xo]=YE,Qh[Ic]=function(n,e,t){return n[t]},Qh[Mu]=YE,Qh[zl]=function(n,e,t){var r=fw(n);return r instanceof Array?r[e]:r},Qh[Uf]=YE,Qh);function Vee(n){var e=V7e[n];return e}function d8(n,e){return n===xo?n+"_"+e:n}function Sg(n,e,t){if(n){var r=n.getRawDataItem(e);if(r!=null){var i=n.getStore(),a=i.getSource().sourceFormat;if(t!=null){var s=n.getDimensionIndex(t),o=i.getDimensionProperty(s);return Vee(a)(r,s,o)}else{var l=r;return a===zl&&(l=fw(r)),l}}}}var $7e=/\{@(.+?)\}/g,G7e=function(){function n(){}return n.prototype.getDataParams=function(e,t){var r=this.getData(t),i=this.getRawValue(e,t),a=r.getRawIndex(e),s=r.getName(e),o=r.getRawDataItem(e),l=r.getItemVisual(e,"style"),c=l&&l[r.getItemVisual(e,"drawType")||"fill"],u=l&&l.stroke,d=this.mainType,f=d==="series",h=r.userOutput&&r.userOutput.get();return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:t,value:i,color:c,borderColor:u,dimensionNames:h?h.fullDimensions:null,encode:h?h.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(e,t,r,i,a,s){t=t||"normal";var o=this.getData(r),l=this.getDataParams(e,r);if(s&&(l.value=s.interpolatedValue),i!=null&&Dn(l.value)&&(l.value=l.value[i]),!a){var c=o.getItemModel(e);a=c.get(t==="normal"?["label","formatter"]:[t,"label","formatter"])}if(wr(a))return l.status=t,l.dimensionIndex=i,a(l);if(Qn(a)){var u=Mee(a,l);return u.replace($7e,function(d,f){var h=f.length,p=f;p.charAt(0)==="["&&p.charAt(h-1)==="]"&&(p=+p.slice(1,h-1));var m=Sg(o,e,p);if(s&&Dn(s.interpolatedValue)){var v=o.getDimensionIndex(p);v>=0&&(m=s.interpolatedValue[v])}return m!=null?m+"":""})}},n.prototype.getRawValue=function(e,t){return Sg(this.getData(t),e)},n.prototype.formatTooltip=function(e,t,r){},n}();function TU(n){var e,t;return or(n)?n.type&&(t=n):e=n,{text:e,frag:t}}function cb(n){return new W7e(n)}var W7e=function(){function n(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return n.prototype.perform=function(e){var t=this._upstream,r=e&&e.skip;if(this._dirty&&t){var i=this.context;i.data=i.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!r&&(a=this._plan(this.context));var s=u(this._modBy),o=this._modDataCount||0,l=u(e&&e.modBy),c=e&&e.modDataCount||0;(s!==l||o!==c)&&(a="reset");function u(y){return!(y>=1)&&(y=1),y}var d;(this._dirty||a==="reset")&&(this._dirty=!1,d=this._doReset(r)),this._modBy=l,this._modDataCount=c;var f=e&&e.step;if(t?this._dueEnd=t._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,p=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!r&&(d||h<p)){var m=this._progress;if(Dn(m))for(var v=0;v<m.length;v++)this._doProgress(m[v],h,p,l,c);else this._doProgress(m,h,p,l,c)}this._dueIndex=p;var g=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(e,t,r,i,a){AU.reset(t,r,i,a),this._callingProgress=e,this._callingProgress({start:t,end:r,count:r-t,next:AU.next},this.context)},n.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var t,r;!e&&this._reset&&(t=this._reset(this.context),t&&t.progress&&(r=t.forceFirstProgress,t=t.progress),Dn(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},n}(),AU=function(){var n,e,t,r,i,a={reset:function(l,c,u,d){e=l,n=c,t=u,r=d,i=Math.ceil(r/t),a.next=t>1&&r>0?o:s}};return a;function s(){return e<n?e++:null}function o(){var l=e%i*t+Math.ceil(e/i),c=e>=n?null:l<r?l:e;return e++,c}}();function Y2(n,e){var t=e&&e.type;return t==="ordinal"?n:(t==="time"&&!Fi(n)&&n!=null&&n!=="-"&&(n=+_d(n)),n==null||n===""?NaN:+n)}Dr({number:function(n){return parseFloat(n)},time:function(n){return+_d(n)},trim:function(n){return Qn(n)?jc(n):n}});var q7e=function(){function n(e,t){var r=e==="desc";this._resultLT=r?1:-1,t==null&&(t=r?"min":"max"),this._incomparable=t==="min"?-1/0:1/0}return n.prototype.evaluate=function(e,t){var r=Fi(e)?e:iM(e),i=Fi(t)?t:iM(t),a=isNaN(r),s=isNaN(i);if(a&&(r=this._incomparable),s&&(i=this._incomparable),a&&s){var o=Qn(e),l=Qn(t);o&&(r=l?e:0),l&&(i=o?t:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),K7e=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(e){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(e){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(e,t){},n.prototype.retrieveValueFromItem=function(e,t){},n.prototype.convertValue=function(e,t){return Y2(e,t)},n}();function Y7e(n,e){var t=new K7e,r=n.data,i=t.sourceFormat=n.sourceFormat,a=n.startIndex,s="";n.seriesLayoutBy!==iu&&ao(s);var o=[],l={},c=n.dimensionsDefine;if(c)ut(c,function(m,v){var g=m.name,y={index:v,name:g,displayName:m.displayName};if(o.push(y),g!=null){var b="";_g(l,g)&&ao(b),l[g]=y}});else for(var u=0;u<n.dimensionsDetectedCount;u++)o.push({index:u});var d=Uee(i,iu);e.__isBuiltIn&&(t.getRawDataItem=function(m){return d(r,a,o,m)},t.getRawData=ii(X7e,null,n)),t.cloneRawData=ii(j7e,null,n);var f=Hee(i,iu);t.count=ii(f,null,r,a,o);var h=Vee(i);t.retrieveValue=function(m,v){var g=d(r,a,o,m);return p(g,v)};var p=t.retrieveValueFromItem=function(m,v){if(m!=null){var g=o[v];if(g)return h(m,v,g.name)}};return t.getDimensionInfo=ii(Z7e,null,o,l),t.cloneAllDimensionInfo=ii(Q7e,null,o),t}function X7e(n){var e=n.sourceFormat;if(!f8(e)){var t="";ao(t)}return n.data}function j7e(n){var e=n.sourceFormat,t=n.data;if(!f8(e)){var r="";ao(r)}if(e===xo){for(var i=[],a=0,s=t.length;a<s;a++)i.push(t[a].slice());return i}else if(e===Ic){for(var i=[],a=0,s=t.length;a<s;a++)i.push(cn({},t[a]));return i}}function Z7e(n,e,t){if(t!=null){if(Fi(t)||!isNaN(t)&&!_g(e,t))return n[t];if(_g(e,t))return e[t]}}function Q7e(n){return Qr(n)}var $ee=Dr();function J7e(n){n=Qr(n);var e=n.type,t="";e||ao(t);var r=e.split(":");r.length!==2&&ao(t);var i=!1;r[0]==="echarts"&&(e=r[1],i=!0),n.__isBuiltIn=i,$ee.set(e,n)}function eFe(n,e,t){var r=Ks(n),i=r.length,a="";i||ao(a);for(var s=0,o=i;s<o;s++){var l=r[s];e=tFe(l,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function tFe(n,e,t,r){var i="";e.length||ao(i),or(n)||ao(i);var a=n.type,s=$ee.get(a);s||ao(i);var o=dr(e,function(c){return Y7e(c,s)}),l=Ks(s.transform({upstream:o[0],upstreamList:o,config:Qr(n.config)}));return dr(l,function(c,u){var d="";or(c)||ao(d),c.data||ao(d);var f=Bee(c.data);f8(f)||ao(d);var h,p=e[0];if(p&&u===0&&!c.dimensions){var m=p.startIndex;m&&(c.data=p.data.slice(0,m).concat(c.data)),h={seriesLayoutBy:iu,sourceHeader:m,dimensions:p.metaRawOption.dimensions}}else h={seriesLayoutBy:iu,sourceHeader:0,dimensions:c.dimensions};return fP(c.data,h,null)})}function f8(n){return n===xo||n===Ic}var mA="undefined",nFe=typeof Uint32Array===mA?Array:Uint32Array,rFe=typeof Uint16Array===mA?Array:Uint16Array,Gee=typeof Int32Array===mA?Array:Int32Array,EU=typeof Float64Array===mA?Array:Float64Array,Wee={float:EU,int:Gee,ordinal:Array,number:Array,time:EU},XE;function Xy(n){return n>65535?nFe:rFe}function c0(){return[1/0,-1/0]}function iFe(n){var e=n.constructor;return e===Array?n.slice():new e(n)}function IU(n,e,t,r,i){var a=Wee[t||"float"];if(i){var s=n[e],o=s&&s.length;if(o!==r){for(var l=new a(r),c=0;c<o;c++)l[c]=s[c];n[e]=l}}else n[e]=new a(r)}var hP=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Dr()}return n.prototype.initData=function(e,t,r){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=e.getSource(),a=this.defaultDimValueGetter=XE[i.sourceFormat];this._dimValueGetter=r||a,this._rawExtent=[],Fee(i),this._dimensions=dr(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(e,t){var r=this._calcDimNameToIdx,i=this._dimensions,a=r.get(e);if(a!=null){if(i[a].type===t)return a}else a=i.length;return i[a]={type:t},r.set(e,a),this._chunks[a]=new Wee[t||"float"](this._rawCount),this._rawExtent[a]=c0(),a},n.prototype.collectOrdinalMeta=function(e,t){var r=this._chunks[e],i=this._dimensions[e],a=this._rawExtent,s=i.ordinalOffset||0,o=r.length;s===0&&(a[e]=c0());for(var l=a[e],c=s;c<o;c++){var u=r[c]=t.parseAndCollect(r[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}i.ordinalMeta=t,i.ordinalOffset=o,i.type="ordinal"},n.prototype.getOrdinalMeta=function(e){var t=this._dimensions[e],r=t.ordinalMeta;return r},n.prototype.getDimensionProperty=function(e){var t=this._dimensions[e];return t&&t.property},n.prototype.appendData=function(e){var t=this._provider,r=this.count();t.appendData(e);var i=t.count();return t.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(e,t){for(var r=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t||0),c=0;c<a;c++){var u=i[c];IU(r,c,u.type,l,!0)}for(var d=[],f=o;f<l;f++)for(var h=f-o,p=0;p<a;p++){var u=i[p],m=XE.arrayRows.call(this,e[h]||d,u.property,h,p);r[p][f]=m;var v=s[p];m<v[0]&&(v[0]=m),m>v[1]&&(v[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},n.prototype._initDataFromProvider=function(e,t,r){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,c=dr(s,function(y){return y.property}),u=0;u<o;u++){var d=s[u];l[u]||(l[u]=c0()),IU(a,u,d.type,t,r)}if(i.fillStorage)i.fillStorage(e,t,a,l);else for(var f=[],h=e;h<t;h++){f=i.getItem(h,f);for(var p=0;p<o;p++){var m=a[p],v=this._dimValueGetter(f,c[p],h,p);m[h]=v;var g=l[p];v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=t,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var r=this._chunks[e];return r?r[this.getRawIndex(t)]:NaN},n.prototype.getValues=function(e,t){var r=[],i=[];if(t==null){t=e,e=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=e;for(var a=0,s=i.length;a<s;a++)r.push(this.get(i[a],t));return r},n.prototype.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var r=this._chunks[e];return r?r[t]:NaN},n.prototype.getSum=function(e){var t=this._chunks[e],r=0;if(t)for(var i=0,a=this.count();i<a;i++){var s=this.get(e,i);isNaN(s)||(r+=s)}return r},n.prototype.getMedian=function(e){var t=[];this.each([e],function(a){isNaN(a)||t.push(a)});var r=t.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var t=this._indices,r=t[e];if(r!=null&&r<this._count&&r===e)return e;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(t[s]<e)i=s+1;else if(t[s]>e)a=s-1;else return s}return-1},n.prototype.indicesOfNearest=function(e,t,r){var i=this._chunks,a=i[e],s=[];if(!a)return s;r==null&&(r=1/0);for(var o=1/0,l=-1,c=0,u=0,d=this.count();u<d;u++){var f=this.getRawIndex(u),h=t-a[f],p=Math.abs(h);p<=r&&((p<o||p===o&&h>=0&&l<0)&&(o=p,l=h,c=0),h===l&&(s[c++]=u))}return s.length=c,s},n.prototype.getIndices=function(){var e,t=this._indices;if(t){var r=t.constructor,i=this._count;if(r===Array){e=new r(i);for(var a=0;a<i;a++)e[a]=t[a]}else e=new r(t.buffer,0,i)}else{var r=Xy(this._rawCount);e=new r(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},n.prototype.filter=function(e,t){if(!this._count)return this;for(var r=this.clone(),i=r.count(),a=Xy(r._rawCount),s=new a(i),o=[],l=e.length,c=0,u=e[0],d=r._chunks,f=0;f<i;f++){var h=void 0,p=r.getRawIndex(f);if(l===0)h=t(f);else if(l===1){var m=d[u][p];h=t(m,f)}else{for(var v=0;v<l;v++)o[v]=d[e[v]][p];o[v]=f,h=t.apply(null,o)}h&&(s[c++]=p)}return c<i&&(r._indices=s),r._count=c,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(e){var t=this.clone(),r=t._count;if(!r)return this;var i=ki(e),a=i.length;if(!a)return this;var s=t.count(),o=Xy(t._rawCount),l=new o(s),c=0,u=i[0],d=e[u][0],f=e[u][1],h=t._chunks,p=!1;if(!t._indices){var m=0;if(a===1){for(var v=h[i[0]],g=0;g<r;g++){var y=v[g];(y>=d&&y<=f||isNaN(y))&&(l[c++]=m),m++}p=!0}else if(a===2){for(var v=h[i[0]],b=h[i[1]],_=e[i[1]][0],x=e[i[1]][1],g=0;g<r;g++){var y=v[g],S=b[g];(y>=d&&y<=f||isNaN(y))&&(S>=_&&S<=x||isNaN(S))&&(l[c++]=m),m++}p=!0}}if(!p)if(a===1)for(var g=0;g<s;g++){var T=t.getRawIndex(g),y=h[i[0]][T];(y>=d&&y<=f||isNaN(y))&&(l[c++]=T)}else for(var g=0;g<s;g++){for(var C=!0,T=t.getRawIndex(g),M=0;M<a;M++){var A=i[M],y=h[A][T];(y<e[A][0]||y>e[A][1])&&(C=!1)}C&&(l[c++]=t.getRawIndex(g))}return c<s&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},n.prototype.map=function(e,t){var r=this.clone(e);return this._updateDims(r,e,t),r},n.prototype.modify=function(e,t){this._updateDims(this,e,t)},n.prototype._updateDims=function(e,t,r){for(var i=e._chunks,a=[],s=t.length,o=e.count(),l=[],c=e._rawExtent,u=0;u<t.length;u++)c[t[u]]=c0();for(var d=0;d<o;d++){for(var f=e.getRawIndex(d),h=0;h<s;h++)l[h]=i[t[h]][f];l[s]=d;var p=r&&r.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var u=0;u<p.length;u++){var m=t[u],v=p[u],g=c[m],y=i[m];y&&(y[f]=v),v<g[0]&&(g[0]=v),v>g[1]&&(g[1]=v)}}}},n.prototype.lttbDownSample=function(e,t){var r=this.clone([e],!0),i=r._chunks,a=i[e],s=this.count(),o=0,l=Math.floor(1/t),c=this.getRawIndex(0),u,d,f,h=new(Xy(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));h[o++]=c;for(var p=1;p<s-1;p+=l){for(var m=Math.min(p+l,s-1),v=Math.min(p+l*2,s),g=(v+m)/2,y=0,b=m;b<v;b++){var _=this.getRawIndex(b),x=a[_];isNaN(x)||(y+=x)}y/=v-m;var S=p,T=Math.min(p+l,s),C=p-1,M=a[c];u=-1,f=S;for(var A=-1,I=0,b=S;b<T;b++){var _=this.getRawIndex(b),x=a[_];if(isNaN(x)){I++,A<0&&(A=_);continue}d=Math.abs((C-g)*(x-M)-(C-b)*(y-M)),d>u&&(u=d,f=_)}I>0&&I<T-S&&(h[o++]=Math.min(A,f),f=Math.max(A,f)),h[o++]=f,c=f}return h[o++]=this.getRawIndex(s-1),r._count=o,r._indices=h,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(e,t,r,i){for(var a=this.clone([e],!0),s=a._chunks,o=[],l=Math.floor(1/t),c=s[e],u=this.count(),d=a._rawExtent[e]=c0(),f=new(Xy(this._rawCount))(Math.ceil(u/l)),h=0,p=0;p<u;p+=l){l>u-p&&(l=u-p,o.length=l);for(var m=0;m<l;m++){var v=this.getRawIndex(p+m);o[m]=c[v]}var g=r(o),y=this.getRawIndex(Math.min(p+i(o,g)||0,u-1));c[y]=g,g<d[0]&&(d[0]=g),g>d[1]&&(d[1]=g),f[h++]=y}return a._count=h,a._indices=f,a._updateGetRawIdx(),a},n.prototype.each=function(e,t){if(this._count)for(var r=e.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(r){case 0:t(a);break;case 1:t(i[e[0]][o],a);break;case 2:t(i[e[0]][o],i[e[1]][o],a);break;default:for(var l=0,c=[];l<r;l++)c[l]=i[e[l]][o];c[l]=a,t.apply(null,c)}}},n.prototype.getDataExtent=function(e){var t=this._chunks[e],r=c0();if(!t)return r;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=r;for(var o=s[0],l=s[1],c=0;c<i;c++){var u=this.getRawIndex(c),d=t[u];d<o&&(o=d),d>l&&(l=d)}return s=[o,l],this._extent[e]=s,s},n.prototype.getRawDataItem=function(e){var t=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(t);for(var r=[],i=this._chunks,a=0;a<i.length;a++)r.push(i[a][t]);return r},n.prototype.clone=function(e,t){var r=new n,i=this._chunks,a=e&&sh(e,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)r._chunks[s]=a[s]?iFe(i[s]):i[s];else r._chunks=i;return this._copyCommonProps(r),t||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=Qr(this._extent),e._rawExtent=Qr(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,t=void 0;if(e===Array){var r=this._indices.length;t=new e(r);for(var i=0;i<r;i++)t[i]=this._indices[i]}else t=new e(this._indices);return t}return null},n.prototype._getRawIdxIdentity=function(e){return e},n.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function e(t,r,i,a){return Y2(t[a],this._dimensions[a])}XE={arrayRows:e,objectRows:function(t,r,i,a){return Y2(t[r],this._dimensions[a])},keyedColumns:e,original:function(t,r,i,a){var s=t&&(t.value==null?t:t.value);return Y2(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(t,r,i,a){return t[a]}}}(),n}(),qee=function(){function n(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(e,t){this._sourceList=e,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,t=this._getUpstreamSourceManagers(),r=!!t.length,i,a;if(Px(e)){var s=e,o=void 0,l=void 0,c=void 0;if(r){var u=t[0];u.prepareSource(),c=u.getSource(),o=c.data,l=c.sourceFormat,a=[u._getVersionSign()]}else o=s.get("data",!0),l=Yo(o)?Uf:zl,a=[];var d=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},h=Gr(d.seriesLayoutBy,f.seriesLayoutBy)||null,p=Gr(d.sourceHeader,f.sourceHeader),m=Gr(d.dimensions,f.dimensions),v=h!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||m;i=v?[fP(o,{seriesLayoutBy:h,sourceHeader:p,dimensions:m},l)]:[]}else{var g=e;if(r){var y=this._applyTransform(t);i=y.sourceList,a=y.upstreamSignList}else{var b=g.get("source",!0);i=[fP(b,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},n.prototype._applyTransform=function(e){var t=this._sourceHost,r=t.get("transform",!0),i=t.get("fromTransformResult",!0);if(i!=null){var a="";e.length!==1&&PU(a)}var s,o=[],l=[];return ut(e,function(c){c.prepareSource();var u=c.getSource(i||0),d="";i!=null&&!u&&PU(d),o.push(u),l.push(c._getVersionSign())}),r?s=eFe(r,o,{datasetIndex:t.componentIndex}):i!=null&&(s=[B7e(o[0])]),{sourceList:s,upstreamSignList:l}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),t=0;t<e.length;t++){var r=e[t];if(r._isDirty()||this._upstreamSignList[t]!==r._getVersionSign())return!0}},n.prototype.getSource=function(e){e=e||0;var t=this._sourceList[e];if(!t){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(e)}return t},n.prototype.getSharedDataStore=function(e){var t=e.makeStoreSchema();return this._innerGetDataStore(t.dimensions,e.source,t.hash)},n.prototype._innerGetDataStore=function(e,t,r){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[r];if(!o){var l=this._getUpstreamSourceManagers()[0];Px(this._sourceHost)&&l?o=l._innerGetDataStore(e,t,r):(o=new hP,o.initData(new zee(t,e.length),e)),s[r]=o}return o},n.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(Px(e)){var t=s8(e);return t?[t.getSourceManager()]:[]}else return dr(c7e(e),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,t,r,i;if(Px(e))t=e.get("seriesLayoutBy",!0),r=e.get("sourceHeader",!0),i=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;t=a.get("seriesLayoutBy",!0),r=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:r,dimensions:i}},n}();function RU(n){var e=n.option.transform;e&&XC(n.option.transform)}function Px(n){return n.mainType==="series"}function PU(n){throw new Error(n)}var Kee="line-height:1";function Yee(n,e){var t=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",a=n.color||"#464646",s=n.fontSize||14,o=n.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+hl(r+"")+"px;color:"+hl(t)+";font-weight:"+hl(i+""),valueStyle:"font-size:"+hl(s+"")+"px;color:"+hl(a)+";font-weight:"+hl(o+"")}:{nameStyle:{fontSize:r,fill:t,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var aFe=[0,10,20,30],sFe=["",`
`,`

`,`


`];function Cg(n,e){return e.type=n,e}function pP(n){return n.type==="section"}function Xee(n){return pP(n)?oFe:lFe}function jee(n){if(pP(n)){var e=0,t=n.blocks.length,r=t>1||t>0&&!n.noHeader;return ut(n.blocks,function(i){var a=jee(i);a>=e&&(e=a+ +(r&&(!a||pP(i)&&!i.noHeader)))}),e}return 0}function oFe(n,e,t,r){var i=e.noHeader,a=cFe(jee(e)),s=[],o=e.blocks||[];fu(!o||Dn(o)),o=o||[];var l=n.orderMode;if(e.sortBlocks&&l){o=o.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(_g(c,l)){var u=new q7e(c[l],null);o.sort(function(p,m){return u.evaluate(p.sortParam,m.sortParam)})}else l==="seriesDesc"&&o.reverse()}ut(o,function(p,m){var v=e.valueFormatter,g=Xee(p)(v?cn(cn({},n),{valueFormatter:v}):n,p,m>0?a.html:0,r);g!=null&&s.push(g)});var d=n.renderMode==="richText"?s.join(a.richText):mP(s.join(""),i?t:a.html);if(i)return d;var f=dP(e.header,"ordinal",n.useUTC),h=Yee(r,n.renderMode).nameStyle;return n.renderMode==="richText"?Zee(n,f,h)+a.richText+d:mP('<div style="'+h+";"+Kee+';">'+hl(f)+"</div>"+d,t)}function lFe(n,e,t,r){var i=n.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,l=e.name,c=n.useUTC,u=e.valueFormatter||n.valueFormatter||function(_){return _=Dn(_)?_:[_],dr(_,function(x,S){return dP(x,Dn(h)?h[S]:h,c)})};if(!(a&&s)){var d=o?"":n.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",i),f=a?"":dP(l,"ordinal",c),h=e.valueType,p=s?[]:u(e.value),m=!o||!a,v=!o&&a,g=Yee(r,i),y=g.nameStyle,b=g.valueStyle;return i==="richText"?(o?"":d)+(a?"":Zee(n,f,y))+(s?"":fFe(n,p,m,v,b)):mP((o?"":d)+(a?"":uFe(f,!o,y))+(s?"":dFe(p,m,v,b)),t)}}function DU(n,e,t,r,i,a){if(n){var s=Xee(n),o={useUTC:i,renderMode:t,orderMode:r,markupStyleCreator:e,valueFormatter:n.valueFormatter};return s(o,n,0,a)}}function cFe(n){return{html:aFe[n],richText:sFe[n]}}function mP(n,e){var t='<div style="clear:both"></div>',r="margin: "+e+"px 0 0";return'<div style="'+r+";"+Kee+';">'+n+t+"</div>"}function uFe(n,e,t){var r=e?"margin-left:2px":"";return'<span style="'+t+";"+r+'">'+hl(n)+"</span>"}function dFe(n,e,t,r){var i=t?"10px":"20px",a=e?"float:right;margin-left:"+i:"";return n=Dn(n)?n:[n],'<span style="'+a+";"+r+'">'+dr(n,function(s){return hl(s)}).join("&nbsp;&nbsp;")+"</span>"}function Zee(n,e,t){return n.markupStyleCreator.wrapRichTextStyle(e,t)}function fFe(n,e,t,r,i){var a=[i],s=r?10:20;return t&&a.push({padding:[0,0,0,s],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(Dn(e)?e.join("  "):e,a)}function hFe(n,e){var t=n.getData().getItemVisual(e,"style"),r=t[n.visualDrawType];return p_(r)}function Qee(n,e){var t=n.get("padding");return t??(e==="richText"?[8,10]:10)}var jE=function(){function n(){this.richTextStyles={},this._nextStyleNameId=uJ()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(e,t,r){var i=r==="richText"?this._generateStyleName():null,a=JBe({color:t,type:e,renderMode:r,markerId:i});return Qn(a)?a:(this.richTextStyles[i]=a.style,a.content)},n.prototype.wrapRichTextStyle=function(e,t){var r={};Dn(t)?ut(t,function(a){return cn(r,a)}):cn(r,t);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+e+"}"},n}();function pFe(n){var e=n.series,t=n.dataIndex,r=n.multipleSeries,i=e.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(t),l=Dn(o),c=hFe(e,t),u,d,f,h;if(s>1||l&&!s){var p=mFe(o,e,t,a,c);u=p.inlineValues,d=p.inlineValueTypes,f=p.blocks,h=p.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);h=u=Sg(i,t,a[0]),d=m.type}else h=u=l?o[0]:o;var v=L6(e),g=v&&e.name||"",y=i.getName(t),b=r?g:y;return Cg("section",{header:g,noHeader:r||!v,sortParam:h,blocks:[Cg("nameValue",{markerType:"item",markerColor:c,name:b,noName:!jc(b),value:u,valueType:d})].concat(f||[])})}function mFe(n,e,t,r,i){var a=e.getData(),s=sh(n,function(d,f,h){var p=a.getDimensionInfo(h);return d=d||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],l=[],c=[];r.length?ut(r,function(d){u(Sg(a,t,d),d)}):ut(n,u);function u(d,f){var h=a.getDimensionInfo(f);!h||h.otherDims.tooltip===!1||(s?c.push(Cg("nameValue",{markerType:"subItem",markerColor:i,name:h.displayName,value:d,valueType:h.type})):(o.push(d),l.push(h.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:c}}var Yd=qi();function Dx(n,e){return n.getName(e)||n.getId(e)}var vFe="__universalTransitionEnabled",vA=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return e.prototype.init=function(t,r,i){this.seriesIndex=this.componentIndex,this.dataTask=cb({count:yFe,reset:bFe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i);var a=Yd(this).sourceManager=new qee(this);a.prepareSource();var s=this.getInitialData(t,i);LU(s,this),this.dataTask.context.data=s,Yd(this).dataBeforeProcessed=s,kU(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(t,r){var i=m_(this),a=i?hA(t):{},s=this.subType;Ni.hasClass(s)&&(s+="Series"),hi(t,r.getTheme().get(this.subType)),hi(t,this.getDefaultOption()),JR(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&xg(t,a,i)},e.prototype.mergeOption=function(t,r){t=hi(this.option,t,!0),this.fillDataTextStyle(t.data);var i=m_(this);i&&xg(this.option,t,i);var a=Yd(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(t,r);LU(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Yd(this).dataBeforeProcessed=s,kU(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(t){if(t&&!Yo(t))for(var r=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&JR(t[i],"label",r)},e.prototype.getInitialData=function(t,r){},e.prototype.appendData=function(t){var r=this.getRawData();r.appendData(t.data)},e.prototype.getData=function(t){var r=vP(this);if(r){var i=r.context.data;return t==null?i:i.getLinkedData(t)}else return Yd(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var r=vP(this);if(r){var i=r.context;i.outputData=t,r!==this.dataTask&&(i.data=t)}Yd(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Dr(t)},e.prototype.getSourceManager=function(){return Yd(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Yd(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var t=this.get("colorBy");return t||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,r,i){return pFe({series:this,dataIndex:t,multipleSeries:r})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Pr.node&&!(t&&t.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,r,i){var a=this.ecModel,s=o8.prototype.getColorFromPalette.call(this,t,r,i);return s||(s=a.getColorFromPalette(t,r,i)),s},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,r){this._innerSelect(this.getData(r),t)},e.prototype.unselect=function(t,r){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(r);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<t.length;o++){var l=t[o],c=Dx(s,l);i[c]=!1,this._selectedDataIndicesMap[c]=-1}}},e.prototype.toggleSelect=function(t,r){for(var i=[],a=0;a<t.length;a++)i[0]=t[a],this.isSelected(t[a],r)?this.unselect(i,r):this.select(i,r)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,r=ki(t),i=[],a=0;a<r.length;a++){var s=t[r[a]];s>=0&&i.push(s)}return i},e.prototype.isSelected=function(t,r){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(r);return(i==="all"||i[Dx(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[vFe])return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},e.prototype._innerSelect=function(t,r){var i,a,s=this.option,o=s.selectedMode,l=r.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){or(s.selectedMap)||(s.selectedMap={});for(var c=s.selectedMap,u=0;u<l;u++){var d=r[u],f=Dx(t,d);c[f]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(d)}}else if(o==="single"||o===!0){var h=r[l-1],f=Dx(t,h);s.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=t.getRawIndex(h),a)}}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var r=[];t.hasItemOption&&t.each(function(i){var a=t.getRawDataItem(i);a&&a.selected&&r.push(i)}),r.length>0&&this._innerSelect(t,r)}},e.registerClass=function(t){return Ni.registerClass(t)},e.protoInitialize=function(){var t=e.prototype;t.type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",t.visualDrawType="fill"}(),e}(Ni);Cu(vA,G7e);Cu(vA,o8);vJ(vA,Ni);function kU(n){var e=n.name;L6(n)||(n.name=gFe(n)||e)}function gFe(n){var e=n.getRawData(),t=e.mapDimensionsAll("seriesName"),r=[];return ut(t,function(i){var a=e.getDimensionInfo(i);a.displayName&&r.push(a.displayName)}),r.join(" ")}function yFe(n){return n.model.getRawData().count()}function bFe(n){var e=n.model;return e.setData(e.getRawData().cloneShallow()),_Fe}function _Fe(n,e){e.outputData&&n.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function LU(n,e){ut(LQ(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(t){n.wrapMethod(t,Vi(wFe,e))})}function wFe(n,e){var t=vP(n);return t&&t.setOutputEnd((e||this).count()),e}function vP(n){var e=(n.ecModel||{}).scheduler,t=e&&e.getPipeline(n.uid);if(t){var r=t.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}const pu=vA;var h8=function(){function n(){this.group=new wo,this.uid=sA("viewComponent")}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){},n.prototype.updateLayout=function(e,t,r,i){},n.prototype.updateVisual=function(e,t,r,i){},n.prototype.toggleBlurSeries=function(e,t,r){},n.prototype.eachRendered=function(e){var t=this.group;t&&t.traverse(e)},n}();O6(h8);QT(h8);const mu=h8;function Jee(){var n=qi();return function(e){var t=n(e),r=e.pipelineContext,i=!!t.large,a=!!t.progressiveRender,s=t.large=!!(r&&r.large),o=t.progressiveRender=!!(r&&r.progressiveRender);return(i!==s||a!==o)&&"reset"}}var ete=qi(),xFe=Jee(),p8=function(){function n(){this.group=new wo,this.uid=sA("viewChart"),this.renderTask=cb({plan:SFe,reset:CFe}),this.renderTask.context={view:this}}return n.prototype.init=function(e,t){},n.prototype.render=function(e,t,r,i){},n.prototype.highlight=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&OU(a,i,"emphasis")},n.prototype.downplay=function(e,t,r,i){var a=e.getData(i&&i.dataType);a&&OU(a,i,"normal")},n.prototype.remove=function(e,t){this.group.removeAll()},n.prototype.dispose=function(e,t){},n.prototype.updateView=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateLayout=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.updateVisual=function(e,t,r,i){this.render(e,t,r,i)},n.prototype.eachRendered=function(e){Q6(this.group,e)},n.markUpdateMethod=function(e,t){ete(e).updateMethod=t},n.protoInitialize=function(){var e=n.prototype;e.type="chart"}(),n}();function NU(n,e,t){n&&sP(n)&&(e==="emphasis"?sM:oM)(n,t)}function OU(n,e,t){var r=hw(n,e),i=e&&e.highlightKey!=null?IOe(e.highlightKey):null;r!=null?ut(Ks(r),function(a){NU(n.getItemGraphicEl(a),t,i)}):n.eachItemGraphicEl(function(a){NU(a,t,i)})}O6(p8);QT(p8);function SFe(n){return xFe(n.model)}function CFe(n){var e=n.model,t=n.ecModel,r=n.api,i=n.payload,a=e.pipelineContext.progressiveRender,s=n.view,o=i&&ete(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](e,t,r,i),MFe[l]}var MFe={incrementalPrepareRender:{progress:function(n,e){e.view.incrementalRender(n,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(n,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const au=p8;var pM="\0__throttleOriginMethod",BU="\0__throttleRate",FU="\0__throttleType";function gA(n,e,t){var r,i=0,a=0,s=null,o,l,c,u;e=e||0;function d(){a=new Date().getTime(),s=null,n.apply(l,c||[])}var f=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];r=new Date().getTime(),l=this,c=h;var m=u||e,v=u||t;u=null,o=r-(v?i:a)-m,clearTimeout(s),v?s=setTimeout(d,m):o>=0?d():s=setTimeout(d,-o),i=r};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(h){u=h},f}function tte(n,e,t,r){var i=n[e];if(i){var a=i[pM]||i,s=i[FU],o=i[BU];if(o!==t||s!==r){if(t==null||!r)return n[e]=a;i=n[e]=gA(a,t,r==="debounce"),i[pM]=a,i[FU]=r,i[BU]=t}return i}}function gP(n,e){var t=n[e];t&&t[pM]&&(t.clear&&t.clear(),n[e]=t[pM])}var zU=qi(),UU={itemStyle:u_(dee,!0),lineStyle:u_(uee,!0)},TFe={lineStyle:"stroke",itemStyle:"fill"};function nte(n,e){var t=n.visualStyleMapper||UU[e];return t||(console.warn("Unknown style type '"+e+"'."),UU.itemStyle)}function rte(n,e){var t=n.visualDrawType||TFe[e];return t||(console.warn("Unknown style type '"+e+"'."),"fill")}var AFe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),a=nte(n,r),s=a(i),o=i.getShallow("decal");o&&(t.setVisual("decal",o),o.dirty=!0);var l=rte(n,r),c=s[l],u=wr(c)?c:null,d=s.fill==="auto"||s.stroke==="auto";if(!s[l]||u||d){var f=n.getColorFromPalette(n.name,null,e.getSeriesCount());s[l]||(s[l]=f,t.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||wr(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||wr(s.stroke)?f:s.stroke}if(t.setVisual("style",s),t.setVisual("drawType",l),!e.isSeriesFiltered(n)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(h,p){var m=n.getDataParams(p),v=cn({},s);v[l]=u(m),h.setItemVisual(p,"style",v)}}}},jy=new Ja,EFe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!(n.ignoreStyleOnData||e.isSeriesFiltered(n))){var t=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=nte(n,r),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[r]){jy.option=l[r];var c=i(jy),u=s.ensureUniqueItemVisual(o,"style");cn(u,c),jy.option.decal&&(s.setItemVisual(o,"decal",jy.option.decal),jy.option.decal.dirty=!0),a in c&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},IFe={performRawSeries:!0,overallReset:function(n){var e=Dr();n.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+r,a=e.get(i);a||(a={},e.set(i,a)),zU(t).scope=a}}),n.eachSeries(function(t){if(!(t.isColorBySeries()||n.isSeriesFiltered(t))){var r=t.getRawData(),i={},a=t.getData(),s=zU(t).scope,o=t.visualStyleAccessPath||"itemStyle",l=rte(t,o);a.each(function(c){var u=a.getRawIndex(c);i[u]=c}),r.each(function(c){var u=i[c],d=a.getItemVisual(u,"colorFromPalette");if(d){var f=a.ensureUniqueItemVisual(u,"style"),h=r.getName(c)||c+"",p=r.count();f[l]=t.getColorFromPalette(h,s,p)}})}})}},kx=Math.PI;function RFe(n,e){e=e||{},pi(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new wo,r=new Ra({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});t.add(r);var i=new Es({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Ra({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});t.add(a);var s;return e.showSpinner&&(s=new W6({shape:{startAngle:-kx/2,endAngle:-kx/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:kx*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:kx*3/2}).delay(300).start("circularInOut"),t.add(s)),t.resize=function(){var o=i.getBoundingRect().width,l=e.showSpinner?e.spinnerRadius:0,c=(n.getWidth()-l*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:l),u=n.getHeight()/2;e.showSpinner&&s.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:l*2,height:l*2}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}var PFe=function(){function n(e,t,r,i){this._stageTaskMap=Dr(),this.ecInstance=e,this.api=t,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(e,t){if(e.__pipeline){var r=this._pipelineMap.get(e.__pipeline.id),i=r.context,a=!t&&r.progressiveEnabled&&(!i||i.progressiveRender)&&e.__idxInPipeline>r.blockIndex,s=a?r.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},n.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},n.prototype.updateStreamModes=function(e,t){var r=this._pipelineMap.get(e.uid),i=e.getData(),a=i.count(),s=r.progressiveEnabled&&t.incrementalPrepareRender&&a>=r.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),l=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=r.context={progressiveRender:s,modDataCount:l,large:o}},n.prototype.restorePipelines=function(e){var t=this,r=t._pipelineMap=Dr();e.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;r.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.api.getModel(),r=this.api;ut(this._allHandlers,function(i){var a=e.get(i.uid)||e.set(i.uid,{}),s="";fu(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,t,r),i.overallReset&&this._createOverallStageTask(i,a,t,r)},this)},n.prototype.prepareView=function(e,t,r,i){var a=e.renderTask,s=a.context;s.model=t,s.ecModel=r,s.api=i,a.__block=!e.incrementalPrepareRender,this._pipe(t,a)},n.prototype.performDataProcessorTasks=function(e,t){this._performStageTasks(this._dataProcessorHandlers,e,t,{block:!0})},n.prototype.performVisualTasks=function(e,t,r){this._performStageTasks(this._visualHandlers,e,t,r)},n.prototype._performStageTasks=function(e,t,r,i){i=i||{};var a=!1,s=this;ut(e,function(l,c){if(!(i.visualType&&i.visualType!==l.visualType)){var u=s._stageTaskMap.get(l.uid),d=u.seriesTaskMap,f=u.overallTask;if(f){var h,p=f.agentStubMap;p.each(function(v){o(i,v)&&(v.dirty(),h=!0)}),h&&f.dirty(),s.updatePayload(f,r);var m=s.getPerformArgs(f,i.block);p.each(function(v){v.perform(m)}),f.perform(m)&&(a=!0)}else d&&d.each(function(v,g){o(i,v)&&v.dirty();var y=s.getPerformArgs(v,i.block);y.skip=!l.performRawSeries&&t.isSeriesFiltered(v.context.model),s.updatePayload(v,r),v.perform(y)&&(a=!0)})}});function o(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}this.unfinished=a||this.unfinished},n.prototype.performSeriesTasks=function(e){var t;e.eachSeries(function(r){t=r.dataTask.perform()||t}),this.unfinished=t||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},n.prototype.updatePayload=function(e,t){t!=="remain"&&(e.context.payload=t)},n.prototype._createSeriesStageTask=function(e,t,r,i){var a=this,s=t.seriesTaskMap,o=t.seriesTaskMap=Dr(),l=e.seriesType,c=e.getTargetSeries;e.createOnAllSeries?r.eachRawSeries(u):l?r.eachRawSeriesByType(l,u):c&&c(r,i).each(u);function u(d){var f=d.uid,h=o.set(f,s&&s.get(f)||cb({plan:OFe,reset:BFe,count:zFe}));h.context={model:d,ecModel:r,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(d,h)}},n.prototype._createOverallStageTask=function(e,t,r,i){var a=this,s=t.overallTask=t.overallTask||cb({reset:DFe});s.context={ecModel:r,api:i,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=Dr(),c=e.seriesType,u=e.getTargetSeries,d=!0,f=!1,h="";fu(!e.createOnAllSeries,h),c?r.eachRawSeriesByType(c,p):u?u(r,i).each(p):(d=!1,ut(r.getSeries(),p));function p(m){var v=m.uid,g=l.set(v,o&&o.get(v)||(f=!0,cb({reset:kFe,onDirty:NFe})));g.context={model:m,overallProgress:d},g.agent=s,g.__block=d,a._pipe(m,g)}f&&s.dirty()},n.prototype._pipe=function(e,t){var r=e.uid,i=this._pipelineMap.get(r);!i.head&&(i.head=t),i.tail&&i.tail.pipe(t),i.tail=t,t.__idxInPipeline=i.count++,t.__pipeline=i},n.wrapStageHandler=function(e,t){return wr(e)&&(e={overallReset:e,seriesType:UFe(e)}),e.uid=sA("stageHandler"),t&&(e.visualType=t),e},n}();function DFe(n){n.overallReset(n.ecModel,n.api,n.payload)}function kFe(n){return n.overallProgress&&LFe}function LFe(){this.agent.dirty(),this.getDownstream().dirty()}function NFe(){this.agent&&this.agent.dirty()}function OFe(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function BFe(n){n.useClearVisual&&n.data.clearAllVisual();var e=n.resetDefines=Ks(n.reset(n.model,n.ecModel,n.api,n.payload));return e.length>1?dr(e,function(t,r){return ite(r)}):FFe}var FFe=ite(0);function ite(n){return function(e,t){var r=t.data,i=t.resetDefines[n];if(i&&i.dataEach)for(var a=e.start;a<e.end;a++)i.dataEach(r,a);else i&&i.progress&&i.progress(e,r)}}function zFe(n){return n.data.count()}function UFe(n){mM=null;try{n(g_,ate)}catch{}return mM}var g_={},ate={},mM;ste(g_,kee);ste(ate,Lee);g_.eachSeriesByType=g_.eachRawSeriesByType=function(n){mM=n};g_.eachComponent=function(n){n.mainType==="series"&&n.subType&&(mM=n.subType)};function ste(n,e){for(var t in e.prototype)n[t]=Ws}const ote=PFe;var HU=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const HFe={color:HU,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],HU]};var Ns="#B9B8CE",VU="#100C2A",Lx=function(){return{axisLine:{lineStyle:{color:Ns}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},$U=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],lte={darkMode:!0,color:$U,backgroundColor:VU,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Ns}},textStyle:{color:Ns},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Ns}},dataZoom:{borderColor:"#71708A",textStyle:{color:Ns},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Ns}},timeline:{lineStyle:{color:Ns},label:{color:Ns},controlStyle:{color:Ns,borderColor:Ns}},calendar:{itemStyle:{color:VU},dayLabel:{color:Ns},monthLabel:{color:Ns},yearLabel:{color:Ns}},timeAxis:Lx(),logAxis:Lx(),valueAxis:Lx(),categoryAxis:Lx(),line:{symbol:"circle"},graph:{color:$U},gauge:{title:{color:Ns},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Ns},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};lte.categoryAxis.splitLine.show=!1;const VFe=lte;var $Fe=function(){function n(){}return n.prototype.normalizeQuery=function(e){var t={},r={},i={};if(Qn(e)){var a=Zc(e);t.mainType=a.main||null,t.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};ut(e,function(l,c){for(var u=!1,d=0;d<s.length;d++){var f=s[d],h=c.lastIndexOf(f);if(h>0&&h===c.length-f.length){var p=c.slice(0,h);p!=="data"&&(t.mainType=p,t[f.toLowerCase()]=l,u=!0)}}o.hasOwnProperty(c)&&(r[c]=l,u=!0),u||(i[c]=l)})}return{cptQuery:t,dataQuery:r,otherQuery:i}},n.prototype.filter=function(e,t){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,a=r.packedEvent,s=r.model,o=r.view;if(!s||!o)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,s,"mainType")&&u(l,s,"subType")&&u(l,s,"index","componentIndex")&&u(l,s,"name")&&u(l,s,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,i,a));function u(d,f,h,p){return d[h]==null||f[p||h]===d[h]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),yP=["symbol","symbolSize","symbolRotate","symbolOffset"],GU=yP.concat(["symbolKeepAspect"]),GFe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){var t=n.getData();if(n.legendIcon&&t.setVisual("legendIcon",n.legendIcon),!n.hasSymbolVisual)return;for(var r={},i={},a=!1,s=0;s<yP.length;s++){var o=yP[s],l=n.get(o);wr(l)?(a=!0,i[o]=l):r[o]=l}if(r.symbol=r.symbol||n.defaultSymbol,t.setVisual(cn({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),e.isSeriesFiltered(n))return;var c=ki(i);function u(d,f){for(var h=n.getRawValue(f),p=n.getDataParams(f),m=0;m<c.length;m++){var v=c[m];d.setItemVisual(f,v,i[v](h,p))}}return{dataEach:a?u:null}}},WFe={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,e){if(!n.hasSymbolVisual||e.isSeriesFiltered(n))return;var t=n.getData();function r(i,a){for(var s=i.getItemModel(a),o=0;o<GU.length;o++){var l=GU[o],c=s.getShallow(l,!0);c!=null&&i.setItemVisual(a,l,c)}}return{dataEach:t.hasItemOption?r:null}}};function qFe(n,e,t){switch(t){case"color":var r=n.getItemVisual(e,"style");return r[n.getVisual("drawType")];case"opacity":return n.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(e,t)}}function KFe(n,e){switch(e){case"color":var t=n.getVisual("style");return t[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(e)}}function YFe(n,e){function t(r,i){var a=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(s){a.push(s.seriesIndex)}),a}ut([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){e(r[0],function(i,a,s){i=cn({},i),s.dispatchAction(cn(i,{type:r[1],seriesIndex:t(a,i)}))})})}function u0(n,e,t,r,i){var a=n+e;t.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,c=i.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===o){var d=s.getData(),f=hw(d,i.fromActionPayload);t.trigger(a,{type:a,seriesId:s.id,name:Dn(f)?d.getName(f[0]):d.getName(f),selected:Qn(l)?l:cn({},l)})}})}function XFe(n,e,t){n.on("selectchanged",function(r){var i=t.getModel();r.isFromClick?(u0("map","selectchanged",e,i,r),u0("pie","selectchanged",e,i,r)):r.fromAction==="select"?(u0("map","selected",e,i,r),u0("pie","selected",e,i,r)):r.fromAction==="unselect"&&(u0("map","unselected",e,i,r),u0("pie","unselected",e,i,r))})}function N1(n,e,t){for(var r;n&&!(e(n)&&(r=n,t));)n=n.__hostTarget||n.parent;return r}var jFe=Math.round(Math.random()*9),ZFe=typeof Object.defineProperty=="function",QFe=function(){function n(){this._id="__ec_inner_"+jFe++}return n.prototype.get=function(e){return this._guard(e)[this._id]},n.prototype.set=function(e,t){var r=this._guard(e);return ZFe?Object.defineProperty(r,this._id,{value:t,enumerable:!1,configurable:!0}):r[this._id]=t,this},n.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},n.prototype.has=function(e){return!!this._guard(e)[this._id]},n.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},n}();const JFe=QFe;var e9e=wi.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r+a),n.lineTo(t-i,r+a),n.closePath()}}),t9e=wi.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,e){var t=e.cx,r=e.cy,i=e.width/2,a=e.height/2;n.moveTo(t,r-a),n.lineTo(t+i,r),n.lineTo(t,r+a),n.lineTo(t-i,r),n.closePath()}}),n9e=wi.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.x,r=e.y,i=e.width/5*3,a=Math.max(i,e.height),s=i/2,o=s*s/(a-s),l=r-a+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,d=Math.sin(c),f=Math.cos(c),h=s*.6,p=s*.7;n.moveTo(t-u,l+o),n.arc(t,l,s,Math.PI-c,Math.PI*2+c),n.bezierCurveTo(t+u-d*h,l+o+f*h,t,r-p,t,r),n.bezierCurveTo(t,r-p,t-u+d*h,l+o+f*h,t-u,l+o),n.closePath()}}),r9e=wi.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,e){var t=e.height,r=e.width,i=e.x,a=e.y,s=r/3*2;n.moveTo(i,a),n.lineTo(i+s,a+t),n.lineTo(i,a+t/4*3),n.lineTo(i-s,a+t),n.lineTo(i,a),n.closePath()}}),i9e={line:mm,rect:Ra,roundRect:Ra,square:Ra,circle:$6,diamond:t9e,pin:n9e,arrow:r9e,triangle:e9e},a9e={line:function(n,e,t,r,i){i.x1=n,i.y1=e+r/2,i.x2=n+t,i.y2=e+r/2},rect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r},roundRect:function(n,e,t,r,i){i.x=n,i.y=e,i.width=t,i.height=r,i.r=Math.min(t,r)/4},square:function(n,e,t,r,i){var a=Math.min(t,r);i.x=n,i.y=e,i.width=a,i.height=a},circle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.r=Math.min(t,r)/2},diamond:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r},pin:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},arrow:function(n,e,t,r,i){i.x=n+t/2,i.y=e+r/2,i.width=t,i.height=r},triangle:function(n,e,t,r,i){i.cx=n+t/2,i.cy=e+r/2,i.width=t,i.height=r}},bP={};ut(i9e,function(n,e){bP[e]=new n});var s9e=wi.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,e,t){var r=tM(n,e,t),i=this.shape;return i&&i.symbolType==="pin"&&e.position==="inside"&&(r.y=t.y+t.height*.4),r},buildPath:function(n,e,t){var r=e.symbolType;if(r!=="none"){var i=bP[r];i||(r="rect",i=bP[r]),a9e[r](e.x,e.y,e.width,e.height,i.shape),i.buildPath(n,i.shape,t)}}});function o9e(n,e){if(this.type!=="image"){var t=this.style;this.__isEmptyBrush?(t.stroke=n,t.fill=e||"#fff",t.lineWidth=2):this.shape.symbolType==="line"?t.stroke=n:t.fill=n,this.markRedraw()}}function yA(n,e,t,r,i,a,s){var o=n.indexOf("empty")===0;o&&(n=n.substr(5,1).toLowerCase()+n.substr(6));var l;return n.indexOf("image://")===0?l=iee(n.slice(8),new Xr(e,t,r,i),s?"center":"cover"):n.indexOf("path://")===0?l=Y6(n.slice(7),{},new Xr(e,t,r,i),s?"center":"cover"):l=new s9e({shape:{symbolType:n,x:e,y:t,width:r,height:i}}),l.__isEmptyBrush=o,l.setColor=o9e,a&&l.setColor(a),l}function l9e(n){return Dn(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function cte(n,e){if(n!=null)return Dn(n)||(n=[n,n]),[bi(n[0],e[0])||0,bi(Gr(n[1],n[0]),e[1])||0]}function Bp(n){return isFinite(n)}function c9e(n,e,t){var r=e.x==null?0:e.x,i=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(r=r*t.width+t.x,i=i*t.width+t.x,a=a*t.height+t.y,s=s*t.height+t.y),r=Bp(r)?r:0,i=Bp(i)?i:1,a=Bp(a)?a:0,s=Bp(s)?s:0;var o=n.createLinearGradient(r,a,i,s);return o}function u9e(n,e,t){var r=t.width,i=t.height,a=Math.min(r,i),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,l=e.r==null?.5:e.r;e.global||(s=s*r+t.x,o=o*i+t.y,l=l*a),s=Bp(s)?s:.5,o=Bp(o)?o:.5,l=l>=0&&Bp(l)?l:.5;var c=n.createRadialGradient(s,o,0,s,o,l);return c}function _P(n,e,t){for(var r=e.type==="radial"?u9e(n,e,t):c9e(n,e,t),i=e.colorStops,a=0;a<i.length;a++)r.addColorStop(i[a].offset,i[a].color);return r}function d9e(n,e){if(n===e||!n&&!e)return!1;if(!n||!e||n.length!==e.length)return!0;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!0;return!1}function Nx(n){return parseInt(n,10)}function Ox(n,e,t){var r=["width","height"][e],i=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(t[r]!=null&&t[r]!=="auto")return parseFloat(t[r]);var o=document.defaultView.getComputedStyle(n);return(n[i]||Nx(o[r])||Nx(n.style[r]))-(Nx(o[a])||0)-(Nx(o[s])||0)|0}function f9e(n,e){return!n||n==="solid"||!(e>0)?null:n==="dashed"?[4*e,2*e]:n==="dotted"?[e]:Fi(n)?[n]:Dn(n)?n:null}function ute(n){var e=n.style,t=e.lineDash&&e.lineWidth>0&&f9e(e.lineDash,e.lineWidth),r=e.lineDashOffset;if(t){var i=e.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&i!==1&&(t=dr(t,function(a){return a/i}),r/=i)}return[t,r]}var h9e=new pm(!0);function vM(n){var e=n.stroke;return!(e==null||e==="none"||!(n.lineWidth>0))}function WU(n){return typeof n=="string"&&n!=="none"}function gM(n){var e=n.fill;return e!=null&&e!=="none"}function qU(n,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.fillOpacity*e.opacity,n.fill(),n.globalAlpha=t}else n.fill()}function KU(n,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var t=n.globalAlpha;n.globalAlpha=e.strokeOpacity*e.opacity,n.stroke(),n.globalAlpha=t}else n.stroke()}function wP(n,e,t){var r=gJ(e.image,e.__image,t);if(JT(r)){var i=n.createPattern(r,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*v6e),a.scaleSelf(e.scaleX||1,e.scaleY||1),i.setTransform(a)}return i}}function p9e(n,e,t,r){var i,a=vM(t),s=gM(t),o=t.strokePercent,l=o<1,c=!e.path;(!e.silent||l)&&c&&e.createPathProxy();var u=e.path||h9e,d=e.__dirty;if(!r){var f=t.fill,h=t.stroke,p=s&&!!f.colorStops,m=a&&!!h.colorStops,v=s&&!!f.image,g=a&&!!h.image,y=void 0,b=void 0,_=void 0,x=void 0,S=void 0;(p||m)&&(S=e.getBoundingRect()),p&&(y=d?_P(n,f,S):e.__canvasFillGradient,e.__canvasFillGradient=y),m&&(b=d?_P(n,h,S):e.__canvasStrokeGradient,e.__canvasStrokeGradient=b),v&&(_=d||!e.__canvasFillPattern?wP(n,f,e):e.__canvasFillPattern,e.__canvasFillPattern=_),g&&(x=d||!e.__canvasStrokePattern?wP(n,h,e):e.__canvasStrokePattern,e.__canvasStrokePattern=_),p?n.fillStyle=y:v&&(_?n.fillStyle=_:s=!1),m?n.strokeStyle=b:g&&(x?n.strokeStyle=x:a=!1)}var T=e.getGlobalScale();u.setScale(T[0],T[1],e.segmentIgnoreThreshold);var C,M;n.setLineDash&&t.lineDash&&(i=ute(e),C=i[0],M=i[1]);var A=!0;(c||d&sv)&&(u.setDPR(n.dpr),l?u.setContext(null):(u.setContext(n),A=!1),u.reset(),e.buildPath(u,e.shape,r),u.toStatic(),e.pathUpdated()),A&&u.rebuildPath(n,l?o:1),C&&(n.setLineDash(C),n.lineDashOffset=M),r||(t.strokeFirst?(a&&KU(n,t),s&&qU(n,t)):(s&&qU(n,t),a&&KU(n,t))),C&&n.setLineDash([])}function m9e(n,e,t){var r=e.__image=gJ(t.image,e.__image,e,e.onload);if(!(!r||!JT(r))){var i=t.x||0,a=t.y||0,s=e.getWidth(),o=e.getHeight(),l=r.width/r.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=r.width,o=r.height),t.sWidth&&t.sHeight){var c=t.sx||0,u=t.sy||0;n.drawImage(r,c,u,t.sWidth,t.sHeight,i,a,s,o)}else if(t.sx&&t.sy){var c=t.sx,u=t.sy,d=s-c,f=o-u;n.drawImage(r,c,u,d,f,i,a,s,o)}else n.drawImage(r,i,a,s,o)}}function v9e(n,e,t){var r,i=t.text;if(i!=null&&(i+=""),i){n.font=t.font||hm,n.textAlign=t.textAlign,n.textBaseline=t.textBaseline;var a=void 0,s=void 0;n.setLineDash&&t.lineDash&&(r=ute(e),a=r[0],s=r[1]),a&&(n.setLineDash(a),n.lineDashOffset=s),t.strokeFirst?(vM(t)&&n.strokeText(i,t.x,t.y),gM(t)&&n.fillText(i,t.x,t.y)):(gM(t)&&n.fillText(i,t.x,t.y),vM(t)&&n.strokeText(i,t.x,t.y)),a&&n.setLineDash([])}}var YU=["shadowBlur","shadowOffsetX","shadowOffsetY"],XU=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function dte(n,e,t,r,i){var a=!1;if(!r&&(t=t||{},e===t))return!1;if(r||e.opacity!==t.opacity){lo(n,i),a=!0;var s=Math.max(Math.min(e.opacity,1),0);n.globalAlpha=isNaN(s)?Qp.opacity:s}(r||e.blend!==t.blend)&&(a||(lo(n,i),a=!0),n.globalCompositeOperation=e.blend||Qp.blend);for(var o=0;o<YU.length;o++){var l=YU[o];(r||e[l]!==t[l])&&(a||(lo(n,i),a=!0),n[l]=n.dpr*(e[l]||0))}return(r||e.shadowColor!==t.shadowColor)&&(a||(lo(n,i),a=!0),n.shadowColor=e.shadowColor||Qp.shadowColor),a}function jU(n,e,t,r,i){var a=y_(e,i.inHover),s=r?null:t&&y_(t,i.inHover)||{};if(a===s)return!1;var o=dte(n,a,s,r,i);if((r||a.fill!==s.fill)&&(o||(lo(n,i),o=!0),WU(a.fill)&&(n.fillStyle=a.fill)),(r||a.stroke!==s.stroke)&&(o||(lo(n,i),o=!0),WU(a.stroke)&&(n.strokeStyle=a.stroke)),(r||a.opacity!==s.opacity)&&(o||(lo(n,i),o=!0),n.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var l=a.lineWidth,c=l/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);n.lineWidth!==c&&(o||(lo(n,i),o=!0),n.lineWidth=c)}for(var u=0;u<XU.length;u++){var d=XU[u],f=d[0];(r||a[f]!==s[f])&&(o||(lo(n,i),o=!0),n[f]=a[f]||d[1])}return o}function g9e(n,e,t,r,i){return dte(n,y_(e,i.inHover),t&&y_(t,i.inHover),r,i)}function fte(n,e){var t=e.transform,r=n.dpr||1;t?n.setTransform(r*t[0],r*t[1],r*t[2],r*t[3],r*t[4],r*t[5]):n.setTransform(r,0,0,r,0,0)}function y9e(n,e,t){for(var r=!1,i=0;i<n.length;i++){var a=n[i];r=r||a.isZeroArea(),fte(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}t.allClipped=r}function b9e(n,e){return n&&e?n[0]!==e[0]||n[1]!==e[1]||n[2]!==e[2]||n[3]!==e[3]||n[4]!==e[4]||n[5]!==e[5]:!(!n&&!e)}var ZU=1,QU=2,JU=3,eH=4;function _9e(n){var e=gM(n),t=vM(n);return!(n.lineDash||!(+e^+t)||e&&typeof n.fill!="string"||t&&typeof n.stroke!="string"||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}function lo(n,e){e.batchFill&&n.fill(),e.batchStroke&&n.stroke(),e.batchFill="",e.batchStroke=""}function y_(n,e){return e&&n.__hoverStyle||n.style}function hte(n,e){Fp(n,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Fp(n,e,t,r){var i=e.transform;if(!e.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1)){e.__dirty&=~Bo,e.__isRendered=!1;return}var a=e.__clipPaths,s=t.prevElClipPaths,o=!1,l=!1;if((!s||d9e(a,s))&&(s&&s.length&&(lo(n,t),n.restore(),l=o=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(lo(n,t),n.save(),y9e(a,n,t),o=!0),t.prevElClipPaths=a),t.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var c=t.prevEl;c||(l=o=!0);var u=e instanceof wi&&e.autoBatch&&_9e(e.style);o||b9e(i,c.transform)?(lo(n,t),fte(n,e)):u||lo(n,t);var d=y_(e,t.inHover);e instanceof wi?(t.lastDrawType!==ZU&&(l=!0,t.lastDrawType=ZU),jU(n,e,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&n.beginPath(),p9e(n,e,d,u),u&&(t.batchFill=d.fill||"",t.batchStroke=d.stroke||"")):e instanceof rP?(t.lastDrawType!==JU&&(l=!0,t.lastDrawType=JU),jU(n,e,c,l,t),v9e(n,e,d)):e instanceof Pm?(t.lastDrawType!==QU&&(l=!0,t.lastDrawType=QU),g9e(n,e,c,l,t),m9e(n,e,d)):e.getTemporalDisplayables&&(t.lastDrawType!==eH&&(l=!0,t.lastDrawType=eH),w9e(n,e,t)),u&&r&&lo(n,t),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),t.prevEl=e,e.__dirty=0,e.__isRendered=!0}function w9e(n,e,t){var r=e.getDisplayables(),i=e.getTemporalDisplayables();n.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover},s,o;for(s=e.getCursor(),o=r.length;s<o;s++){var l=r[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Fp(n,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var c=0,u=i.length;c<u;c++){var l=i[c];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Fp(n,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}e.clearTemporalDisplayables(),e.notClear=!0,n.restore()}var ZE=new JFe,tH=new dw(100),nH=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function xP(n,e){if(n==="none")return null;var t=e.getDevicePixelRatio(),r=e.getZr(),i=r.painter.type==="svg";n.dirty&&ZE.delete(n);var a=ZE.get(n);if(a)return a;var s=pi(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/t,ZE.set(n,o),n.dirty=!1,o;function l(c){for(var u=[t],d=!0,f=0;f<nH.length;++f){var h=s[nH[f]];if(h!=null&&!Dn(h)&&!Qn(h)&&!Fi(h)&&typeof h!="boolean"){d=!1;break}u.push(h)}var p;if(d){p=u.join(",")+(i?"-svg":"");var m=tH.get(p);m&&(i?c.svgElement=m:c.image=m)}var v=mte(s.dashArrayX),g=x9e(s.dashArrayY),y=pte(s.symbol),b=S9e(v),_=vte(g),x=!i&&iy.createCanvas(),S=i&&{tag:"g",attrs:{},key:"dcl",children:[]},T=M(),C;x&&(x.width=T.width*t,x.height=T.height*t,C=x.getContext("2d")),A(),d&&tH.put(p,x||S),c.image=x,c.svgElement=S,c.svgWidth=T.width,c.svgHeight=T.height;function M(){for(var I=1,D=0,L=b.length;D<L;++D)I=mz(I,b[D]);for(var F=1,D=0,L=y.length;D<L;++D)F=mz(F,y[D].length);I*=F;var B=_*b.length*y.length;return{width:Math.max(1,Math.min(I,s.maxTileWidth)),height:Math.max(1,Math.min(B,s.maxTileHeight))}}function A(){C&&(C.clearRect(0,0,x.width,x.height),s.backgroundColor&&(C.fillStyle=s.backgroundColor,C.fillRect(0,0,x.width,x.height)));for(var I=0,D=0;D<g.length;++D)I+=g[D];if(I<=0)return;for(var L=-_,F=0,B=0,k=0;L<T.height;){if(F%2===0){for(var H=B/2%y.length,z=0,O=0,W=0;z<T.width*2;){for(var j=0,D=0;D<v[k].length;++D)j+=v[k][D];if(j<=0)break;if(O%2===0){var ee=(1-s.symbolSize)*.5,te=z+v[k][O]*ee,J=L+g[F]*ee,Q=v[k][O]*s.symbolSize,ie=g[F]*s.symbolSize,le=W/2%y[H].length;we(te,J,Q,ie,y[H][le])}z+=v[k][O],++W,++O,O===v[k].length&&(O=0)}++k,k===v.length&&(k=0)}L+=g[F],++B,++F,F===g.length&&(F=0)}function we(Ae,ke,Fe,q,ce){var re=i?1:t,Ne=yA(ce,Ae*re,ke*re,Fe*re,q*re,s.color,s.symbolKeepAspect);if(i){var Pe=r.painter.renderOneToVNode(Ne);Pe&&S.children.push(Pe)}else hte(C,Ne)}}}}function pte(n){if(!n||n.length===0)return[["rect"]];if(Qn(n))return[[n]];for(var e=!0,t=0;t<n.length;++t)if(!Qn(n[t])){e=!1;break}if(e)return pte([n]);for(var r=[],t=0;t<n.length;++t)Qn(n[t])?r.push([n[t]]):r.push(n[t]);return r}function mte(n){if(!n||n.length===0)return[[0,0]];if(Fi(n)){var e=Math.ceil(n);return[[e,e]]}for(var t=!0,r=0;r<n.length;++r)if(!Fi(n[r])){t=!1;break}if(t)return mte([n]);for(var i=[],r=0;r<n.length;++r)if(Fi(n[r])){var e=Math.ceil(n[r]);i.push([e,e])}else{var e=dr(n[r],function(o){return Math.ceil(o)});e.length%2===1?i.push(e.concat(e)):i.push(e)}return i}function x9e(n){if(!n||typeof n=="object"&&n.length===0)return[0,0];if(Fi(n)){var e=Math.ceil(n);return[e,e]}var t=dr(n,function(r){return Math.ceil(r)});return n.length%2?t.concat(t):t}function S9e(n){return dr(n,function(e){return vte(e)})}function vte(n){for(var e=0,t=0;t<n.length;++t)e+=n[t];return n.length%2===1?e*2:e}function C9e(n,e){n.eachRawSeries(function(t){if(!n.isSeriesFiltered(t)){var r=t.getData();r.hasItemVisual()&&r.each(function(s){var o=r.getItemVisual(s,"decal");if(o){var l=r.ensureUniqueItemVisual(s,"style");l.decal=xP(o,e)}});var i=r.getVisual("decal");if(i){var a=r.getVisual("style");a.decal=xP(i,e)}}})}var M9e=new Ac;const nc=M9e;var gte={};function T9e(n,e){gte[n]=e}function A9e(n){return gte[n]}var E9e=1,I9e=800,R9e=900,P9e=1e3,D9e=2e3,k9e=5e3,yte=1e3,L9e=1100,m8=2e3,bte=3e3,N9e=4e3,bA=4500,O9e=4600,B9e=5e3,F9e=6e3,_te=7e3,z9e={PROCESSOR:{FILTER:P9e,SERIES_FILTER:I9e,STATISTIC:k9e},VISUAL:{LAYOUT:yte,PROGRESSIVE_LAYOUT:L9e,GLOBAL:m8,CHART:bte,POST_CHART_LAYOUT:O9e,COMPONENT:N9e,BRUSH:B9e,CHART_ITEM:bA,ARIA:F9e,DECAL:_te}},us="__flagInMainProcess",no="__pendingUpdate",QE="__needsUpdateStatus",rH=/^[a-zA-Z0-9_]+$/,JE="__connectUpdateStatus",iH=0,U9e=1,H9e=2;function wte(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.isDisposed()){this.id;return}return Ste(this,n,e)}}function xte(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ste(this,n,e)}}function Ste(n,e,t){return t[0]=t[0]&&t[0].toLowerCase(),Ac.prototype[e].apply(n,t)}var Cte=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e}(Ac),Mte=Cte.prototype;Mte.on=xte("on");Mte.off=xte("off");var d0,e4,Bx,Xd,t4,n4,r4,Zy,Qy,aH,sH,i4,oH,Fx,lH,Tte,Jo,cH,Ate=function(n){wn(e,n);function e(t,r,i){var a=n.call(this,new $Fe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Qn(r)&&(r=Ete[r]),a._dom=t;var s="canvas",o="auto",l=!1,c=a._zr=hz(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Gr(i.useDirtyRect,l),useCoarsePointer:Gr(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=gA(ii(c.flush,c),17),r=Qr(r),r&&Oee(r,!0),a._theme=r,a._locale=qBe(i.locale||hee),a._coordSysMgr=new l8;var u=a._api=lH(a);function d(f,h){return f.__prio-h.__prio}return B2(bM,d),B2(SP,d),a._scheduler=new ote(a,u,SP,bM),a._messageCenter=new Cte,a._initEvents(),a.resize=ii(a.resize,a),c.animation.on("frame",a._onframe,a),aH(c,a),sH(c,a),XC(a),a}return e.prototype._onframe=function(){if(!this._disposed){cH(this);var t=this._scheduler;if(this[no]){var r=this[no].silent;this[us]=!0;try{d0(this),Xd.update.call(this,null,this[no].updateParams)}catch(l){throw this[us]=!1,this[no]=null,l}this._zr.flush(),this[us]=!1,this[no]=null,Zy.call(this,r),Qy.call(this,r)}else if(t.unfinished){var i=E9e,a=this._model,s=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),n4(this,a),t.performVisualTasks(a),Fx(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,r,i){if(!this[us]){if(this._disposed){this.id;return}var a,s,o;if(or(r)&&(i=r.lazyUpdate,a=r.silent,s=r.replaceMerge,o=r.transition,r=r.notMerge),this[us]=!0,!this._model||r){var l=new A7e(this._api),c=this._theme,u=this._model=new kee;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:s},CP);var d={seriesTransition:o,optionChanged:!0};if(i)this[no]={silent:a,updateParams:d},this[us]=!1,this.getZr().wakeUp();else{try{d0(this),Xd.update.call(this,null,d)}catch(f){throw this[no]=null,this[us]=!1,f}this._ssr||this._zr.flush(),this[no]=null,this[us]=!1,Zy.call(this,a),Qy.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Pr.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){t=t||{};var r=this._zr.painter;return r.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){t=t||{};var r=this._zr.painter;return r.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(Pr.svgSupported){var t=this._zr,r=t.storage.getDisplayList();return ut(r,function(i){i.stopAnimation(null,!0)}),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t=t||{};var r=t.excludeComponents,i=this._model,a=[],s=this;ut(r,function(l){i.eachComponent({mainType:l},function(c){var u=s._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return ut(a,function(l){l.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var r=t.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(uH[i]){var l=o,c=o,u=-o,d=-o,f=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();ut(db,function(b,_){if(b.group===i){var x=r?b.getZr().painter.getSvgDom().innerHTML:b.renderToCanvas(Qr(t)),S=b.getDom().getBoundingClientRect();l=a(S.left,l),c=a(S.top,c),u=s(S.right,u),d=s(S.bottom,d),f.push({dom:x,left:S.left,top:S.top})}}),l*=h,c*=h,u*=h,d*=h;var p=u-l,m=d-c,v=iy.createCanvas(),g=hz(v,{renderer:r?"svg":"canvas"});if(g.resize({width:p,height:m}),r){var y="";return ut(f,function(b){var _=b.left-l,x=b.top-c;y+='<g transform="translate('+_+","+x+')">'+b.dom+"</g>"}),g.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}else return t.connectedBackgroundColor&&g.add(new Ra({shape:{x:0,y:0,width:p,height:m},style:{fill:t.connectedBackgroundColor}})),ut(f,function(b){var _=new Pm({style:{x:b.left*h-l,y:b.top*h-c,image:b.dom}});g.add(_)}),g.refreshImmediately(),v.toDataURL("image/"+(t&&t.type||"png"))}else return this.getDataURL(t)},e.prototype.convertToPixel=function(t,r){return t4(this,"convertToPixel",t,r)},e.prototype.convertFromPixel=function(t,r){return t4(this,"convertFromPixel",t,r)},e.prototype.containPixel=function(t,r){if(this._disposed){this.id;return}var i=this._model,a,s=CE(i,t);return ut(s,function(o,l){l.indexOf("Models")>=0&&ut(o,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(r);else if(l==="seriesModels"){var d=this._chartsMap[c.__viewId];d&&d.containPoint&&(a=a||d.containPoint(r,c))}},this)},this),!!a},e.prototype.getVisual=function(t,r){var i=this._model,a=CE(i,t,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?qFe(o,l,r):KFe(o,r)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t=this;ut(V9e,function(r){var i=function(a){var s=t.getModel(),o=a.target,l,c=r==="globalout";if(c?l={}:o&&N1(o,function(p){var m=fi(p);if(m&&m.dataIndex!=null){var v=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return l=v&&v.getDataParams(m.dataIndex,m.dataType,o)||{},!0}else if(m.eventData)return l=cn({},m.eventData),!0},!0),l){var u=l.componentType,d=l.componentIndex;(u==="markLine"||u==="markPoint"||u==="markArea")&&(u="series",d=l.seriesIndex);var f=u&&d!=null&&s.getComponent(u,d),h=f&&t[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=r,t._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:h},t.trigger(r,l)}};i.zrEventfulCallAtLast=!0,t._zr.on(r,i,t)}),ut(ub,function(r,i){t._messageCenter.on(i,function(a){this.trigger(i,a)},t)}),ut(["selectchanged"],function(r){t._messageCenter.on(r,function(i){this.trigger(r,i)},t)}),XFe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var t=this.getDom();t&&pJ(this.getDom(),g8,"");var r=this,i=r._api,a=r._model;ut(r._componentsViews,function(s){s.dispose(a,i)}),ut(r._chartsViews,function(s){s.dispose(a,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete db[r.id]},e.prototype.resize=function(t){if(!this[us]){if(this._disposed){this.id;return}this._zr.resize(t);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!r){var i=r.resetOption("media"),a=t&&t.silent;this[no]&&(a==null&&(a=this[no].silent),i=!0,this[no]=null),this[us]=!0;try{i&&d0(this),Xd.update.call(this,{type:"resize",animation:cn({duration:0},t&&t.animation)})}catch(s){throw this[us]=!1,s}this[us]=!1,Zy.call(this,a),Qy.call(this,a)}}},e.prototype.showLoading=function(t,r){if(this._disposed){this.id;return}if(or(t)&&(r=t,t=""),t=t||"default",this.hideLoading(),!!MP[t]){var i=MP[t](this._api,r),a=this._zr;this._loadingFX=i,a.add(i)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(t){var r=cn({},t);return r.type=ub[t.type],r},e.prototype.dispatchAction=function(t,r){if(this._disposed){this.id;return}if(or(r)||(r={silent:!!r}),!!yM[t.type]&&this._model){if(this[us]){this._pendingActions.push(t);return}var i=r.silent;r4.call(this,t,i);var a=r.flush;a?this._zr.flush():a!==!1&&Pr.browser.weChat&&this._throttledZrFlush(),Zy.call(this,i),Qy.call(this,i)}},e.prototype.updateLabelLayout=function(){nc.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed){this.id;return}var r=t.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(r);a.appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){d0=function(d){var f=d._scheduler;f.restorePipelines(d._model),f.prepareStageTasks(),e4(d,!0),e4(d,!1),f.plan()},e4=function(d,f){for(var h=d._model,p=d._scheduler,m=f?d._componentsViews:d._chartsViews,v=f?d._componentsMap:d._chartsMap,g=d._zr,y=d._api,b=0;b<m.length;b++)m[b].__alive=!1;f?h.eachComponent(function(S,T){S!=="series"&&_(T)}):h.eachSeries(_);function _(S){var T=S.__requireNewView;S.__requireNewView=!1;var C="_ec_"+S.id+"_"+S.type,M=!T&&v[C];if(!M){var A=Zc(S.type),I=f?mu.getClass(A.main,A.sub):au.getClass(A.sub);M=new I,M.init(h,y),v[C]=M,m.push(M),g.add(M.group)}S.__viewId=M.__id=C,M.__alive=!0,M.__model=S,M.group.__ecComponentInfo={mainType:S.mainType,index:S.componentIndex},!f&&p.prepareView(M,S,h,y)}for(var b=0;b<m.length;){var x=m[b];x.__alive?b++:(!f&&x.renderTask.dispose(),g.remove(x.group),x.dispose(h,y),m.splice(b,1),v[x.__id]===x&&delete v[x.__id],x.__id=x.group.__ecComponentInfo=null)}},Bx=function(d,f,h,p,m){var v=d._model;if(v.setUpdatePayload(h),!p){ut([].concat(d._componentsViews).concat(d._chartsViews),x);return}var g={};g[p+"Id"]=h[p+"Id"],g[p+"Index"]=h[p+"Index"],g[p+"Name"]=h[p+"Name"];var y={mainType:p,query:g};m&&(y.subType=m);var b=h.excludeSeriesId,_;b!=null&&(_=Dr(),ut(Ks(b),function(S){var T=gc(S,null);T!=null&&_.set(T,!0)})),v&&v.eachComponent(y,function(S){var T=_&&_.get(S.id)!=null;if(!T)if($z(h))if(S instanceof pu)h.type===Jp&&!h.notBlur&&!S.get(["emphasis","disabled"])&&wOe(S,h,d._api);else{var C=U6(S.mainType,S.componentIndex,h.name,d._api),M=C.focusSelf,A=C.dispatchers;h.type===Jp&&M&&!h.notBlur&&aP(S.mainType,S.componentIndex,d._api),A&&ut(A,function(I){h.type===Jp?sM(I):oM(I)})}else oP(h)&&S instanceof pu&&(COe(S,h,d._api),Hz(S),Jo(d))},d),v&&v.eachComponent(y,function(S){var T=_&&_.get(S.id)!=null;T||x(d[p==="series"?"_chartsMap":"_componentsMap"][S.__viewId])},d);function x(S){S&&S.__alive&&S[f]&&S[f](S.__model,v,d._api,h)}},Xd={prepareAndUpdate:function(d){d0(this),Xd.update.call(this,d,{optionChanged:d.newOption!=null})},update:function(d,f){var h=this._model,p=this._api,m=this._zr,v=this._coordSysMgr,g=this._scheduler;if(h){h.setUpdatePayload(d),g.restoreData(h,d),g.performSeriesTasks(h),v.create(h,p),g.performDataProcessorTasks(h,d),n4(this,h),v.update(h,p),t(h),g.performVisualTasks(h,d),i4(this,h,p,d,f);var y=h.get("backgroundColor")||"transparent",b=h.get("darkMode");m.setBackgroundColor(y),b!=null&&b!=="auto"&&m.setDarkMode(b),nc.trigger("afterupdate",h,p)}},updateTransform:function(d){var f=this,h=this._model,p=this._api;if(h){h.setUpdatePayload(d);var m=[];h.eachComponent(function(g,y){if(g!=="series"){var b=f.getViewOfComponentModel(y);if(b&&b.__alive)if(b.updateTransform){var _=b.updateTransform(y,h,p,d);_&&_.update&&m.push(b)}else m.push(b)}});var v=Dr();h.eachSeries(function(g){var y=f._chartsMap[g.__viewId];if(y.updateTransform){var b=y.updateTransform(g,h,p,d);b&&b.update&&v.set(g.uid,1)}else v.set(g.uid,1)}),t(h),this._scheduler.performVisualTasks(h,d,{setDirty:!0,dirtyMap:v}),Fx(this,h,p,d,{},v),nc.trigger("afterupdate",h,p)}},updateView:function(d){var f=this._model;f&&(f.setUpdatePayload(d),au.markUpdateMethod(d,"updateView"),t(f),this._scheduler.performVisualTasks(f,d,{setDirty:!0}),i4(this,f,this._api,d,{}),nc.trigger("afterupdate",f,this._api))},updateVisual:function(d){var f=this,h=this._model;h&&(h.setUpdatePayload(d),h.eachSeries(function(p){p.getData().clearAllVisual()}),au.markUpdateMethod(d,"updateVisual"),t(h),this._scheduler.performVisualTasks(h,d,{visualType:"visual",setDirty:!0}),h.eachComponent(function(p,m){if(p!=="series"){var v=f.getViewOfComponentModel(m);v&&v.__alive&&v.updateVisual(m,h,f._api,d)}}),h.eachSeries(function(p){var m=f._chartsMap[p.__viewId];m.updateVisual(p,h,f._api,d)}),nc.trigger("afterupdate",h,this._api))},updateLayout:function(d){Xd.update.call(this,d)}},t4=function(d,f,h,p){if(d._disposed){d.id;return}for(var m=d._model,v=d._coordSysMgr.getCoordinateSystems(),g,y=CE(m,h),b=0;b<v.length;b++){var _=v[b];if(_[f]&&(g=_[f](m,y,p))!=null)return g}},n4=function(d,f){var h=d._chartsMap,p=d._scheduler;f.eachSeries(function(m){p.updateStreamModes(m,h[m.__viewId])})},r4=function(d,f){var h=this,p=this.getModel(),m=d.type,v=d.escapeConnect,g=yM[m],y=g.actionInfo,b=(y.update||"update").split(":"),_=b.pop(),x=b[0]!=null&&Zc(b[0]);this[us]=!0;var S=[d],T=!1;d.batch&&(T=!0,S=dr(d.batch,function(F){return F=pi(cn({},F),d),F.batch=null,F}));var C=[],M,A=oP(d),I=$z(d);if(I&&FJ(this._api),ut(S,function(F){if(M=g.action(F,h._model,h._api),M=M||cn({},F),M.type=y.event||M.type,C.push(M),I){var B=N6(d),k=B.queryOptionMap,H=B.mainTypeSpecified,z=H?k.keys()[0]:"series";Bx(h,_,F,z),Jo(h)}else A?(Bx(h,_,F,"series"),Jo(h)):x&&Bx(h,_,F,x.main,x.sub)}),_!=="none"&&!I&&!A&&!x)try{this[no]?(d0(this),Xd.update.call(this,d),this[no]=null):Xd[_].call(this,d)}catch(F){throw this[us]=!1,F}if(T?M={type:y.event||m,escapeConnect:v,batch:C}:M=C[0],this[us]=!1,!f){var D=this._messageCenter;if(D.trigger(M.type,M),A){var L={type:"selectchanged",escapeConnect:v,selected:MOe(p),isFromClick:d.isFromClick||!1,fromAction:d.type,fromActionPayload:d};D.trigger(L.type,L)}}},Zy=function(d){for(var f=this._pendingActions;f.length;){var h=f.shift();r4.call(this,h,d)}},Qy=function(d){!d&&this.trigger("updated")},aH=function(d,f){d.on("rendered",function(h){f.trigger("rendered",h),d.animation.isFinished()&&!f[no]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},sH=function(d,f){d.on("mouseover",function(h){var p=h.target,m=N1(p,sP);m&&(xOe(m,h,f._api),Jo(f))}).on("mouseout",function(h){var p=h.target,m=N1(p,sP);m&&(SOe(m,h,f._api),Jo(f))}).on("click",function(h){var p=h.target,m=N1(p,function(y){return fi(y).dataIndex!=null},!0);if(m){var v=m.selected?"unselect":"select",g=fi(m);f._api.dispatchAction({type:v,dataType:g.dataType,dataIndexInside:g.dataIndex,seriesIndex:g.seriesIndex,isFromClick:!0})}})};function t(d){d.clearColorPalette(),d.eachSeries(function(f){f.clearColorPalette()})}function r(d){var f=[],h=[],p=!1;if(d.eachComponent(function(y,b){var _=b.get("zlevel")||0,x=b.get("z")||0,S=b.getZLevelKey();p=p||!!S,(y==="series"?h:f).push({zlevel:_,z:x,idx:b.componentIndex,type:y,key:S})}),p){var m=f.concat(h),v,g;B2(m,function(y,b){return y.zlevel===b.zlevel?y.z-b.z:y.zlevel-b.zlevel}),ut(m,function(y){var b=d.getComponent(y.type,y.idx),_=y.zlevel,x=y.key;v!=null&&(_=Math.max(v,_)),x?(_===v&&x!==g&&_++,g=x):g&&(_===v&&_++,g=""),v=_,b.setZLevel(_)})}}i4=function(d,f,h,p,m){r(f),oH(d,f,h,p,m),ut(d._chartsViews,function(v){v.__alive=!1}),Fx(d,f,h,p,m),ut(d._chartsViews,function(v){v.__alive||v.remove(f,h)})},oH=function(d,f,h,p,m,v){ut(v||d._componentsViews,function(g){var y=g.__model;c(y,g),g.render(y,f,h,p),o(y,g),u(y,g)})},Fx=function(d,f,h,p,m,v){var g=d._scheduler;m=cn(m||{},{updatedSeries:f.getSeries()}),nc.trigger("series:beforeupdate",f,h,m);var y=!1;f.eachSeries(function(b){var _=d._chartsMap[b.__viewId];_.__alive=!0;var x=_.renderTask;g.updatePayload(x,p),c(b,_),v&&v.get(b.uid)&&x.dirty(),x.perform(g.getPerformArgs(x))&&(y=!0),_.group.silent=!!b.get("silent"),s(b,_),Hz(b)}),g.unfinished=y||g.unfinished,nc.trigger("series:layoutlabels",f,h,m),nc.trigger("series:transition",f,h,m),f.eachSeries(function(b){var _=d._chartsMap[b.__viewId];o(b,_),u(b,_)}),a(d,f),nc.trigger("series:afterupdate",f,h,m)},Jo=function(d){d[QE]=!0,d.getZr().wakeUp()},cH=function(d){d[QE]&&(d.getZr().storage.traverse(function(f){$v(f)||i(f)}),d[QE]=!1)};function i(d){for(var f=[],h=d.currentStates,p=0;p<h.length;p++){var m=h[p];m==="emphasis"||m==="blur"||m==="select"||f.push(m)}d.selected&&d.states.select&&f.push("select"),d.hoverState===tA&&d.states.emphasis?f.push("emphasis"):d.hoverState===vw&&d.states.blur&&f.push("blur"),d.useStates(f)}function a(d,f){var h=d._zr,p=h.storage,m=0;p.traverse(function(v){v.isGroup||m++}),m>f.get("hoverLayerThreshold")&&!Pr.node&&!Pr.worker&&f.eachSeries(function(v){if(!v.preventUsingHoverLayer){var g=d._chartsMap[v.__viewId];g.__alive&&g.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function s(d,f){var h=d.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=h)})}function o(d,f){if(!d.preventAutoZ){var h=d.get("z")||0,p=d.get("zlevel")||0;f.eachRendered(function(m){return l(m,h,p,-1/0),!0})}}function l(d,f,h,p){var m=d.getTextContent(),v=d.getTextGuideLine(),g=d.isGroup;if(g)for(var y=d.childrenRef(),b=0;b<y.length;b++)p=Math.max(l(y[b],f,h,p),p);else d.z=f,d.zlevel=h,p=Math.max(d.z2,p);if(m&&(m.z=f,m.zlevel=h,isFinite(p)&&(m.z2=p+2)),v){var _=d.textGuideLineConfig;v.z=f,v.zlevel=h,isFinite(p)&&(v.z2=p+(_&&_.showAbove?1:-1))}return p}function c(d,f){f.eachRendered(function(h){if(!$v(h)){var p=h.getTextContent(),m=h.getTextGuideLine();h.stateTransition&&(h.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),h.hasState()?(h.prevStates=h.currentStates,h.clearStates()):h.prevStates&&(h.prevStates=null)}})}function u(d,f){var h=d.getModel("stateAnimation"),p=d.isAnimationEnabled(),m=h.get("duration"),v=m>0?{duration:m,delay:h.get("delay"),easing:h.get("easing")}:null;f.eachRendered(function(g){if(g.states&&g.states.emphasis){if($v(g))return;if(g instanceof wi&&ROe(g),g.__dirty){var y=g.prevStates;y&&g.useStates(y)}if(p){g.stateTransition=v;var b=g.getTextContent(),_=g.getTextGuideLine();b&&(b.stateTransition=v),_&&(_.stateTransition=v)}g.__dirty&&i(g)}})}lH=function(d){return new(function(f){wn(h,f);function h(){return f!==null&&f.apply(this,arguments)||this}return h.prototype.getCoordinateSystems=function(){return d._coordSysMgr.getCoordinateSystems()},h.prototype.getComponentByElement=function(p){for(;p;){var m=p.__ecComponentInfo;if(m!=null)return d._model.getComponent(m.mainType,m.index);p=p.parent}},h.prototype.enterEmphasis=function(p,m){sM(p,m),Jo(d)},h.prototype.leaveEmphasis=function(p,m){oM(p,m),Jo(d)},h.prototype.enterBlur=function(p){_Oe(p),Jo(d)},h.prototype.leaveBlur=function(p){LJ(p),Jo(d)},h.prototype.enterSelect=function(p){NJ(p),Jo(d)},h.prototype.leaveSelect=function(p){OJ(p),Jo(d)},h.prototype.getModel=function(){return d.getModel()},h.prototype.getViewOfComponentModel=function(p){return d.getViewOfComponentModel(p)},h.prototype.getViewOfSeriesModel=function(p){return d.getViewOfSeriesModel(p)},h}(Lee))(d)},Tte=function(d){function f(h,p){for(var m=0;m<h.length;m++){var v=h[m];v[JE]=p}}ut(ub,function(h,p){d._messageCenter.on(p,function(m){if(uH[d.group]&&d[JE]!==iH){if(m&&m.escapeConnect)return;var v=d.makeActionFromEvent(m),g=[];ut(db,function(y){y!==d&&y.group===d.group&&g.push(y)}),f(g,iH),ut(g,function(y){y[JE]!==U9e&&y.dispatchAction(v)}),f(g,H9e)}})})}}(),e}(Ac),v8=Ate.prototype;v8.on=wte("on");v8.off=wte("off");v8.one=function(n,e,t){var r=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),r.off(n,i)}this.on.call(this,n,i,t)};var V9e=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],yM={},ub={},SP=[],CP=[],bM=[],Ete={},MP={},db={},uH={},$9e=+new Date-0,g8="_echarts_instance_";function G9e(n,e,t){var r=!(t&&t.ssr);if(r){var i=W9e(n);if(i)return i}var a=new Ate(n,e,t);return a.id="ec_"+$9e++,db[a.id]=a,r&&pJ(n,g8,a.id),Tte(a),nc.trigger("afterinit",a),a}function W9e(n){return db[aNe(n,g8)]}function Ite(n,e){Ete[n]=e}function y8(n){di(CP,n)<0&&CP.push(n)}function Rte(n,e){_8(SP,n,e,D9e)}function q9e(n){b8("afterinit",n)}function K9e(n){b8("afterupdate",n)}function b8(n,e){nc.on(n,e)}function Lm(n,e,t){wr(e)&&(t=e,e="");var r=or(n)?n.type:[n,n={event:e}][0];n.event=(n.event||r).toLowerCase(),e=n.event,!ub[e]&&(fu(rH.test(r)&&rH.test(e)),yM[r]||(yM[r]={action:t,actionInfo:n}),ub[e]=r)}function Y9e(n,e){l8.register(n,e)}function Pte(n,e){_8(bM,n,e,yte,"layout")}function Nm(n,e){_8(bM,n,e,bte,"visual")}var dH=[];function _8(n,e,t,r,i){if((wr(e)||or(e))&&(t=e,e=r),!(di(dH,t)>=0)){dH.push(t);var a=ote.wrapStageHandler(t,i);a.__prio=e,a.__raw=t,n.push(a)}}function Dte(n,e){MP[n]=e}function X9e(n,e,t){var r=A9e("registerMap");r&&r(n,e,t)}var j9e=J7e;Nm(m8,AFe);Nm(bA,EFe);Nm(bA,IFe);Nm(m8,GFe);Nm(bA,WFe);Nm(_te,C9e);y8(Oee);Rte(R9e,N7e);Dte("default",RFe);Lm({type:Jp,event:Jp,update:Jp},Ws);Lm({type:G2,event:G2,update:G2},Ws);Lm({type:ib,event:ib,update:ib},Ws);Lm({type:W2,event:W2,update:W2},Ws);Lm({type:ab,event:ab,update:ab},Ws);Ite("light",HFe);Ite("dark",VFe);function Jy(n){return n==null?0:n.length||1}function fH(n){return n}var Z9e=function(){function n(e,t,r,i,a,s){this._old=e,this._new=t,this._oldKeyGetter=r||fH,this._newKeyGetter=i||fH,this.context=a,this._diffModeMultiple=s==="multiple"}return n.prototype.add=function(e){return this._add=e,this},n.prototype.update=function(e){return this._update=e,this},n.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},n.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},n.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},n.prototype.remove=function(e){return this._remove=e,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var e=this._old,t=this._new,r={},i=new Array(e.length),a=new Array(t.length);this._initIndexMap(e,null,i,"_oldKeyGetter"),this._initIndexMap(t,r,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=i[s],l=r[o],c=Jy(l);if(c>1){var u=l.shift();l.length===1&&(r[o]=l[0]),this._update&&this._update(u,s)}else c===1?(r[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,r)},n.prototype._executeMultiple=function(){var e=this._old,t=this._new,r={},i={},a=[],s=[];this._initIndexMap(e,r,a,"_oldKeyGetter"),this._initIndexMap(t,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],c=r[l],u=i[l],d=Jy(c),f=Jy(u);if(d>1&&f===1)this._updateManyToOne&&this._updateManyToOne(u,c),i[l]=null;else if(d===1&&f>1)this._updateOneToMany&&this._updateOneToMany(u,c),i[l]=null;else if(d===1&&f===1)this._update&&this._update(u,c),i[l]=null;else if(d>1&&f>1)this._updateManyToMany&&this._updateManyToMany(u,c),i[l]=null;else if(d>1)for(var h=0;h<d;h++)this._remove&&this._remove(c[h]);else this._remove&&this._remove(c)}this._performRestAdd(s,i)},n.prototype._performRestAdd=function(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=t[i],s=Jy(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);t[i]=null}},n.prototype._initIndexMap=function(e,t,r,i){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[i](e[s],s);if(a||(r[s]=o),!!t){var l=t[o],c=Jy(l);c===0?(t[o]=s,a&&r.push(o)):c===1?t[o]=[l,s]:l.push(s)}}},n}();const Q9e=Z9e;var J9e=function(){function n(e,t){this._encode=e,this._schema=t}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function eze(n,e){var t={},r=t.encode={},i=Dr(),a=[],s=[],o={};ut(n.dimensions,function(f){var h=n.getDimensionInfo(f),p=h.coordDim;if(p){var m=h.coordDimIndex;a4(r,p)[m]=f,h.isExtraCoord||(i.set(p,1),nze(h.type)&&(a[0]=f),a4(o,p)[m]=n.getDimensionIndex(h.name)),h.defaultTooltip&&s.push(f)}Aee.each(function(v,g){var y=a4(r,g),b=h.otherDims[g];b!=null&&b!==!1&&(y[b]=h.name)})});var l=[],c={};i.each(function(f,h){var p=r[h];c[h]=p[0],l=l.concat(p)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=dr(l,function(f){return n.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=r.label;u&&u.length&&(a=u.slice());var d=r.tooltip;return d&&d.length?s=d.slice():s.length||(s=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=s,t.userOutput=new J9e(o,e),t}function a4(n,e){return n.hasOwnProperty(e)||(n[e]=[]),n[e]}function tze(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function nze(n){return!(n==="ordinal"||n==="time")}var rze=function(){function n(e){this.otherDims={},e!=null&&cn(this,e)}return n}();const X2=rze;var ize=qi(),aze={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},kte=function(){function n(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=Ote(this.source)))},n.prototype.getSourceDimensionIndex=function(e){return Gr(this._dimNameMap.get(e),-1)},n.prototype.getSourceDimension=function(e){var t=this.source.dimensionsDefine;if(t)return t[e]},n.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,t=Fee(this.source),r=!Bte(e),i="",a=[],s=0,o=0;s<e;s++){var l=void 0,c=void 0,u=void 0,d=this.dimensions[o];if(d&&d.storeDimIndex===s)l=t?d.name:null,c=d.type,u=d.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=t?f.name:null,c=f.type)}a.push({property:l,type:c,ordinalMeta:u}),t&&l!=null&&(!d||!d.isCalculationCoord)&&(i+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=aze[c]||"f",u&&(i+=u.uid),i+="$"}var h=this.source,p=[h.seriesLayoutBy,h.startIndex,i].join("$$");return{dimensions:a,hash:p}},n.prototype.makeOutputDimensionNames=function(){for(var e=[],t=0,r=0;t<this._fullDimCount;t++){var i=void 0,a=this.dimensions[r];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(i=a.name),r++;else{var s=this.getSourceDimension(t);s&&(i=s.name)}e.push(i)}return e},n.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function Lte(n){return n instanceof kte}function Nte(n){for(var e=Dr(),t=0;t<(n||[]).length;t++){var r=n[t],i=or(r)?r.name:r;i!=null&&e.get(i)==null&&e.set(i,t)}return e}function Ote(n){var e=ize(n);return e.dimNameMap||(e.dimNameMap=Nte(n.dimensionsDefine))}function Bte(n){return n>30}var e1=or,jd=dr,sze=typeof Int32Array>"u"?Array:Int32Array,oze="e\0\0",hH=-1,lze=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],cze=["_approximateExtent"],pH,zx,t1,n1,s4,Ux,o4,uze=function(){function n(e,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;Lte(e)?(r=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(i=!0,r=e),r=r||["x","y"];for(var a={},s=[],o={},l=!1,c={},u=0;u<r.length;u++){var d=r[u],f=Qn(d)?new X2({name:d}):d instanceof X2?d:new X2(d),h=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=h,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};s.push(h),a[h]=f,c[h]!=null&&(l=!0),f.createInvertedIndices&&(o[h]=[]),p.itemName===0&&(this._nameDimIdx=u),p.itemId===0&&(this._idDimIdx=u),i&&(f.storeDimIndex=u)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=Dr();ut(s,function(v){m.set(a[v].storeDimIndex,v)})}}return n.prototype.getDimension=function(e){var t=this._recognizeDimIndex(e);if(t==null)return e;if(t=e,!this._dimOmitted)return this.dimensions[t];var r=this._dimIdxToName.get(t);if(r!=null)return r;var i=this._schema.getSourceDimension(t);if(i)return i.name},n.prototype.getDimensionIndex=function(e){var t=this._recognizeDimIndex(e);if(t!=null)return t;if(e==null)return-1;var r=this._getDimInfo(e);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},n.prototype._recognizeDimIndex=function(e){if(Fi(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},n.prototype._getStoreDimIndex=function(e){var t=this.getDimensionIndex(e);return t},n.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},n.prototype._initGetDimensionInfo=function(e){var t=this._dimInfos;this._getDimInfo=e?function(r){return t.hasOwnProperty(r)?t[r]:void 0}:function(r){return t[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(e,t){var r=this._dimSummary;if(t==null)return r.encodeFirstDimNotExtra[e];var i=r.encode[e];return i?i[t]:null},n.prototype.mapDimensionsAll=function(e){var t=this._dimSummary,r=t.encode[e];return(r||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(e,t,r){var i=this,a;if(e instanceof hP&&(a=e),!a){var s=this.dimensions,o=c8(e)||_o(e)?new zee(e,s.length):e;a=new hP;var l=jd(s,function(c){return{type:i._dimInfos[c].type,property:c}});a.initData(o,l,r)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=eze(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(e){var t=this._store.appendData(e);this._doInit(t[0],t[1])},n.prototype.appendValues=function(e,t){var r=this._store.appendValues(e,t.length),i=r.start,a=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=t[l],s&&o4(this,o)}},n.prototype._updateOrdinalMeta=function(){for(var e=this._store,t=this.dimensions,r=0;r<t.length;r++){var i=this._dimInfos[t[r]];i.ordinalMeta&&e.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Uf&&!e.fillStorage},n.prototype._doInit=function(e,t){if(!(e>=t)){var r=this._store,i=r.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===zl;if(l&&!i.pure)for(var c=[],u=e;u<t;u++){var d=i.getItem(u,c);if(!this.hasItemOption&&Y8e(d)&&(this.hasItemOption=!0),d){var f=d.name;a[u]==null&&f!=null&&(a[u]=gc(f,null));var h=d.id;s[u]==null&&h!=null&&(s[u]=gc(h,null))}}if(this._shouldMakeIdFromName())for(var u=e;u<t;u++)o4(this,u);pH(this)}},n.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},n.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},n.prototype.setCalculationInfo=function(e,t){e1(e)?cn(this._calculationInfo,e):this._calculationInfo[e]=t},n.prototype.getName=function(e){var t=this.getRawIndex(e),r=this._nameList[t];return r==null&&this._nameDimIdx!=null&&(r=t1(this,this._nameDimIdx,t)),r==null&&(r=""),r},n.prototype._getCategory=function(e,t){var r=this._store.get(e,t),i=this._store.getOrdinalMeta(e);return i?i.categories[r]:r},n.prototype.getId=function(e){return zx(this,this.getRawIndex(e))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.get(i.storeDimIndex,t)},n.prototype.getByRawIndex=function(e,t){var r=this._store,i=this._dimInfos[e];if(i)return r.getByRawIndex(i.storeDimIndex,t)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},n.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},n.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},n.prototype.getValues=function(e,t){var r=this,i=this._store;return Dn(e)?i.getValues(jd(e,function(a){return r._getStoreDimIndex(a)}),t):i.getValues(e)},n.prototype.hasValue=function(e){for(var t=this._dimSummary.dataDimIndicesOnCoord,r=0,i=t.length;r<i;r++)if(isNaN(this._store.get(t[r],e)))return!1;return!0},n.prototype.indexOfName=function(e){for(var t=0,r=this._store.count();t<r;t++)if(this.getName(t)===e)return t;return-1},n.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},n.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},n.prototype.rawIndexOf=function(e,t){var r=e&&this._invertedIndicesMap[e],i=r[t];return i==null||isNaN(i)?hH:i},n.prototype.indicesOfNearest=function(e,t,r){return this._store.indicesOfNearest(this._getStoreDimIndex(e),t,r)},n.prototype.each=function(e,t,r){wr(e)&&(r=t,t=e,e=[]);var i=r||this,a=jd(n1(e),this._getStoreDimIndex,this);this._store.each(a,i?ii(t,i):t)},n.prototype.filterSelf=function(e,t,r){wr(e)&&(r=t,t=e,e=[]);var i=r||this,a=jd(n1(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?ii(t,i):t),this},n.prototype.selectRange=function(e){var t=this,r={},i=ki(e);return ut(i,function(a){var s=t._getStoreDimIndex(a);r[s]=e[a]}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(e,t,r){wr(e)&&(r=t,t=e,e=[]),r=r||this;var i=[];return this.each(e,function(){i.push(t&&t.apply(this,arguments))},r),i},n.prototype.map=function(e,t,r,i){var a=r||i||this,s=jd(n1(e),this._getStoreDimIndex,this),o=Ux(this);return o._store=this._store.map(s,a?ii(t,a):t),o},n.prototype.modify=function(e,t,r,i){var a=r||i||this,s=jd(n1(e),this._getStoreDimIndex,this);this._store.modify(s,a?ii(t,a):t)},n.prototype.downSample=function(e,t,r,i){var a=Ux(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),t,r,i),a},n.prototype.lttbDownSample=function(e,t){var r=Ux(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(e),t),r},n.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},n.prototype.getItemModel=function(e){var t=this.hostModel,r=this.getRawDataItem(e);return new Ja(r,t,t&&t.ecModel)},n.prototype.diff=function(e){var t=this;return new Q9e(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(r){return zx(e,r)},function(r){return zx(t,r)})},n.prototype.getVisual=function(e){var t=this._visual;return t&&t[e]},n.prototype.setVisual=function(e,t){this._visual=this._visual||{},e1(e)?cn(this._visual,e):this._visual[e]=t},n.prototype.getItemVisual=function(e,t){var r=this._itemVisuals[e],i=r&&r[t];return i??this.getVisual(t)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(e,t){var r=this._itemVisuals,i=r[e];i||(i=r[e]={});var a=i[t];return a==null&&(a=this.getVisual(t),Dn(a)?a=a.slice():e1(a)&&(a=cn({},a)),i[t]=a),a},n.prototype.setItemVisual=function(e,t,r){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i,e1(t)?cn(i,t):i[t]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(e,t){e1(e)?cn(this._layout,e):this._layout[e]=t},n.prototype.getLayout=function(e){return this._layout[e]},n.prototype.getItemLayout=function(e){return this._itemLayouts[e]},n.prototype.setItemLayout=function(e,t,r){this._itemLayouts[e]=r?cn(this._itemLayouts[e]||{},t):t},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(e,t){var r=this.hostModel&&this.hostModel.seriesIndex;uOe(r,this.dataType,e,t),this._graphicEls[e]=t},n.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},n.prototype.eachItemGraphicEl=function(e,t){ut(this._graphicEls,function(r,i){r&&e&&e.call(t,r,i)})},n.prototype.cloneShallow=function(e){return e||(e=new n(this._schema?this._schema:jd(this.dimensions,this._getDimInfo,this),this.hostModel)),s4(e,this),e._store=this._store,e},n.prototype.wrapMethod=function(e,t){var r=this[e];wr(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var i=r.apply(this,arguments);return t.apply(this,[i].concat(C6(arguments)))})},n.internalField=function(){pH=function(e){var t=e._invertedIndicesMap;ut(t,function(r,i){var a=e._dimInfos[i],s=a.ordinalMeta,o=e._store;if(s){r=t[i]=new sze(s.categories.length);for(var l=0;l<r.length;l++)r[l]=hH;for(var l=0;l<o.count();l++)r[o.get(a.storeDimIndex,l)]=l}})},t1=function(e,t,r){return gc(e._getCategory(t,r),null)},zx=function(e,t){var r=e._idList[t];return r==null&&e._idDimIdx!=null&&(r=t1(e,e._idDimIdx,t)),r==null&&(r=oze+t),r},n1=function(e){return Dn(e)||(e=e!=null?[e]:[]),e},Ux=function(e){var t=new n(e._schema?e._schema:jd(e.dimensions,e._getDimInfo,e),e.hostModel);return s4(t,e),t},s4=function(e,t){ut(lze.concat(t.__wrappedMethods||[]),function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e.__wrappedMethods=t.__wrappedMethods,ut(cze,function(r){e[r]=Qr(t[r])}),e._calculationInfo=cn({},t._calculationInfo)},o4=function(e,t){var r=e._nameList,i=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=r[t],l=i[t];if(o==null&&a!=null&&(r[t]=o=t1(e,a,t)),l==null&&s!=null&&(i[t]=l=t1(e,s,t)),l==null&&o!=null){var c=e._nameRepeatCount,u=c[o]=(c[o]||0)+1;l=o,u>1&&(l+="__ec__"+u),i[t]=l}}}(),n}();const _A=uze;function dze(n,e){return wA(n,e).dimensions}function wA(n,e){c8(n)||(n=u8(n)),e=e||{};var t=e.coordDimensions||[],r=e.dimensionsDefine||n.dimensionsDefine||[],i=Dr(),a=[],s=hze(n,t,r,e.dimensionsCount),o=e.canOmitUnusedDimensions&&Bte(s),l=r===n.dimensionsDefine,c=l?Ote(n):Nte(r),u=e.encodeDefine;!u&&e.encodeDefaulter&&(u=e.encodeDefaulter(n,s));for(var d=Dr(u),f=new Gee(s),h=0;h<f.length;h++)f[h]=-1;function p(M){var A=f[M];if(A<0){var I=r[M],D=or(I)?I:{name:I},L=new X2,F=D.name;F!=null&&c.get(F)!=null&&(L.name=L.displayName=F),D.type!=null&&(L.type=D.type),D.displayName!=null&&(L.displayName=D.displayName);var B=a.length;return f[M]=B,L.storeDimIndex=M,a.push(L),L}return a[A]}if(!o)for(var h=0;h<s;h++)p(h);d.each(function(M,A){var I=Ks(M).slice();if(I.length===1&&!Qn(I[0])&&I[0]<0){d.set(A,!1);return}var D=d.set(A,[]);ut(I,function(L,F){var B=Qn(L)?c.get(L):L;B!=null&&B<s&&(D[F]=B,v(p(B),A,F))})});var m=0;ut(t,function(M){var A,I,D,L;if(Qn(M))A=M,L={};else{L=M,A=L.name;var F=L.ordinalMeta;L.ordinalMeta=null,L=cn({},L),L.ordinalMeta=F,I=L.dimsDef,D=L.otherDims,L.name=L.coordDim=L.coordDimIndex=L.dimsDef=L.otherDims=null}var B=d.get(A);if(B!==!1){if(B=Ks(B),!B.length)for(var k=0;k<(I&&I.length||1);k++){for(;m<s&&p(m).coordDim!=null;)m++;m<s&&B.push(m++)}ut(B,function(H,z){var O=p(H);if(l&&L.type!=null&&(O.type=L.type),v(pi(O,L),A,z),O.name==null&&I){var W=I[z];!or(W)&&(W={name:W}),O.name=O.displayName=W.name,O.defaultTooltip=W.defaultTooltip}D&&pi(O.otherDims,D)})}});function v(M,A,I){Aee.get(A)!=null?M.otherDims[A]=I:(M.coordDim=A,M.coordDimIndex=I,i.set(A,!0))}var g=e.generateCoord,y=e.generateCoordCount,b=y!=null;y=g?y||1:0;var _=g||"value";function x(M){M.name==null&&(M.name=M.coordDim)}if(o)ut(a,function(M){x(M)}),a.sort(function(M,A){return M.storeDimIndex-A.storeDimIndex});else for(var S=0;S<s;S++){var T=p(S),C=T.coordDim;C==null&&(T.coordDim=pze(_,i,b),T.coordDimIndex=0,(!g||y<=0)&&(T.isExtraCoord=!0),y--),x(T),T.type==null&&(Ree(n,S)===Xa.Must||T.isExtraCoord&&(T.otherDims.itemName!=null||T.otherDims.seriesName!=null))&&(T.type="ordinal")}return fze(a),new kte({source:n,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function fze(n){for(var e=Dr(),t=0;t<n.length;t++){var r=n[t],i=r.name,a=e.get(i)||0;a>0&&(r.name=i+(a-1)),a++,e.set(i,a)}}function hze(n,e,t,r){var i=Math.max(n.dimensionsDetectedCount||1,e.length,t.length,r||0);return ut(e,function(a){var s;or(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function pze(n,e,t){if(t||e.hasKey(n)){for(var r=0;e.hasKey(n+r);)r++;n+=r}return e.set(n,!0),n}var mze=function(){function n(e){this.coordSysDims=[],this.axisMap=Dr(),this.categoryAxisMap=Dr(),this.coordSysName=e}return n}();function vze(n){var e=n.get("coordinateSystem"),t=new mze(e),r=gze[e];if(r)return r(n,t,t.axisMap,t.categoryAxisMap),t}var gze={cartesian2d:function(n,e,t,r){var i=n.getReferringComponents("xAxis",dc).models[0],a=n.getReferringComponents("yAxis",dc).models[0];e.coordSysDims=["x","y"],t.set("x",i),t.set("y",a),f0(i)&&(r.set("x",i),e.firstCategoryDimIndex=0),f0(a)&&(r.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(n,e,t,r){var i=n.getReferringComponents("singleAxis",dc).models[0];e.coordSysDims=["single"],t.set("single",i),f0(i)&&(r.set("single",i),e.firstCategoryDimIndex=0)},polar:function(n,e,t,r){var i=n.getReferringComponents("polar",dc).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",s),f0(a)&&(r.set("radius",a),e.firstCategoryDimIndex=0),f0(s)&&(r.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(n,e,t,r){e.coordSysDims=["lng","lat"]},parallel:function(n,e,t,r){var i=n.ecModel,a=i.getComponent("parallel",n.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();ut(a.parallelAxisIndex,function(o,l){var c=i.getComponent("parallelAxis",o),u=s[l];t.set(u,c),f0(c)&&(r.set(u,c),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=l))})}};function f0(n){return n.get("type")==="category"}function yze(n,e,t){t=t||{};var r=t.byIndex,i=t.stackedCoordDimension,a,s,o;bze(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var l=!!(n&&n.get("stack")),c,u,d,f;if(ut(a,function(y,b){Qn(y)&&(a[b]=y={name:y}),l&&!y.isExtraCoord&&(!r&&!c&&y.ordinalMeta&&(c=y),!u&&y.type!=="ordinal"&&y.type!=="time"&&(!i||i===y.coordDim)&&(u=y))}),u&&!r&&!c&&(r=!0),u){d="__\0ecstackresult_"+n.id,f="__\0ecstackedover_"+n.id,c&&(c.createInvertedIndices=!0);var h=u.coordDim,p=u.type,m=0;ut(a,function(y){y.coordDim===h&&m++});var v={name:d,coordDim:h,coordDimIndex:m,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},g={name:f,coordDim:f,coordDimIndex:m+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(v.storeDimIndex=o.ensureCalculationDimension(f,p),g.storeDimIndex=o.ensureCalculationDimension(d,p)),s.appendCalculationDimension(v),s.appendCalculationDimension(g)):(a.push(v),a.push(g))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:r,stackedOverDimension:f,stackResultDimension:d}}function bze(n){return!Lte(n.schema)}function Fte(n,e){return!!e&&e===n.getCalculationInfo("stackedDimension")}function _ze(n,e){return Fte(n,e)?n.getCalculationInfo("stackResultDimension"):e}function wze(n,e){var t=n.get("coordinateSystem"),r=l8.get(t),i;return e&&e.coordSysDims&&(i=dr(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var l=o.get("type");s.type=tze(l)}return s})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}function xze(n,e,t){var r,i;return t&&ut(n,function(a,s){var o=a.coordDim,l=t.categoryAxisMap.get(o);l&&(r==null&&(r=s),a.ordinalMeta=l.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&r!=null&&(n[r].otherDims.itemName=0),r}function zte(n,e,t){t=t||{};var r=e.getSourceManager(),i,a=!1;n?(a=!0,i=u8(n)):(i=r.getSource(),a=i.sourceFormat===zl);var s=vze(e),o=wze(e,s),l=t.useEncodeDefaulter,c=wr(l)?l:l?Vi(o7e,o,e):null,u={coordDimensions:o,generateCoord:t.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},d=wA(i,u),f=xze(d.dimensions,t.createInvertedIndices,s),h=a?null:r.getSharedDataStore(d),p=yze(e,{schema:d,store:h}),m=new _A(d,e);m.setCalculationInfo(p);var v=f!=null&&Sze(i)?function(g,y,b,_){return _===f?b:this.defaultDimValueGetter(g,y,b,_)}:null;return m.hasItemOption=!1,m.initData(a?i:h,null,v),m}function Sze(n){if(n.sourceFormat===zl){var e=Cze(n.data||[]);return!Dn(fw(e))}}function Cze(n){for(var e=0;e<n.length&&n[e]==null;)e++;return n[e]}var Ute=function(){function n(e){this._setting=e||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(e){return this._setting[e]},n.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},n.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(e,t){var r=this._extent;isNaN(e)||(r[0]=e),isNaN(t)||(r[1]=t)},n.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(e){this._isBlank=e},n}();QT(Ute);const Nd=Ute;var Mze=0,Tze=function(){function n(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++Mze}return n.createByAxisModel=function(e){var t=e.option,r=t.data,i=r&&dr(r,Aze);return new n({categories:i,needCollect:!i,deduplication:t.dedplication!==!1})},n.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},n.prototype.parseAndCollect=function(e){var t,r=this._needCollect;if(!Qn(e)&&!r)return e;if(r&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var i=this._getOrCreateMap();return t=i.get(e),t==null&&(r?(t=this.categories.length,this.categories[t]=e,i.set(e,t)):t=NaN),t},n.prototype._getOrCreateMap=function(){return this._map||(this._map=Dr(this.categories))},n}();function Aze(n){return or(n)&&n.value!=null?n.value:n+""}const TP=Tze;function AP(n){return n.type==="interval"||n.type==="log"}function Eze(n,e,t,r){var i={},a=n[1]-n[0],s=i.interval=cJ(a/e,!0);t!=null&&s<t&&(s=i.interval=t),r!=null&&s>r&&(s=i.interval=r);var o=i.intervalPrecision=Hte(s),l=i.niceTickExtent=[va(Math.ceil(n[0]/s)*s,o),va(Math.floor(n[1]/s)*s,o)];return Ize(l,n),i}function l4(n){var e=Math.pow(10,k6(n)),t=n/e;return t?t===2?t=3:t===3?t=5:t*=2:t=1,va(t*e)}function Hte(n){return id(n)+2}function mH(n,e,t){n[e]=Math.max(Math.min(n[e],t[1]),t[0])}function Ize(n,e){!isFinite(n[0])&&(n[0]=e[0]),!isFinite(n[1])&&(n[1]=e[1]),mH(n,0,e),mH(n,1,e),n[0]>n[1]&&(n[0]=n[1])}function xA(n,e){return n>=e[0]&&n<=e[1]}function SA(n,e){return e[1]===e[0]?.5:(n-e[0])/(e[1]-e[0])}function CA(n,e){return n*(e[1]-e[0])+e[0]}var Vte=function(n){wn(e,n);function e(t){var r=n.call(this,t)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new TP({})),Dn(i)&&(i=new TP({categories:dr(i,function(a){return or(a)?a.value:a})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return e.prototype.parse=function(t){return t==null?NaN:Qn(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),xA(t,this._extent)&&this._ordinalMeta.categories[t]!=null},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),SA(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(CA(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],r=this._extent,i=r[0];i<=r[1];)t.push({value:i}),i++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var r=t.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,r.length);s<l;++s){var c=r[s];i[s]=c,a[c]=s}for(var u=0;s<o;++s){for(;a[u]!=null;)u++;i.push(u),a[u]=s}},e.prototype._getTickNumber=function(t){var r=this._ticksByOrdinalNumber;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getRawOrdinalNumber=function(t){var r=this._ordinalNumbersByTick;return r&&t>=0&&t<r.length?r[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var r=this.getRawOrdinalNumber(t.value),i=this._ordinalMeta.categories[r];return i==null?"":i+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(Nd);Nd.registerClass(Vte);const $te=Vte;var Jh=va,Gte=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return xA(t,this._extent)},e.prototype.normalize=function(t){return SA(t,this._extent)},e.prototype.scale=function(t){return CA(t,this._extent)},e.prototype.setExtent=function(t,r){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(r)||(i[1]=parseFloat(r))},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1]),this.setExtent(r[0],r[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Hte(t)},e.prototype.getTicks=function(t){var r=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!r)return o;var l=1e4;i[0]<a[0]&&(t?o.push({value:Jh(a[0]-r,s)}):o.push({value:i[0]}));for(var c=a[0];c<=a[1]&&(o.push({value:c}),c=Jh(c+r,s),c!==o[o.length-1].value);)if(o.length>l)return[];var u=o.length?o[o.length-1].value:a[1];return i[1]>u&&(t?o.push({value:Jh(u+r,s)}):o.push({value:i[1]})),o},e.prototype.getMinorTicks=function(t){for(var r=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<r.length;s++){for(var o=r[s],l=r[s-1],c=0,u=[],d=o.value-l.value,f=d/t;c<t-1;){var h=Jh(l.value+(c+1)*f);h>a[0]&&h<a[1]&&u.push(h),c++}i.push(u)}return i},e.prototype.getLabel=function(t,r){if(t==null)return"";var i=r&&r.precision;i==null?i=id(t.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Jh(t.value,i,!0);return See(a)},e.prototype.calcNiceTicks=function(t,r,i){t=t||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=Eze(a,t,r,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1])if(r[0]!==0){var i=Math.abs(r[0]);t.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;var a=r[1]-r[0];isFinite(a)||(r[0]=0,r[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var s=this._interval;t.fixMin||(r[0]=Jh(Math.floor(r[0]/s)*s)),t.fixMax||(r[1]=Jh(Math.ceil(r[1]/s)*s))},e.prototype.setNiceExtent=function(t,r){this._niceExtent=[t,r]},e.type="interval",e}(Nd);Nd.registerClass(Gte);const yw=Gte;var Wte=typeof Float32Array<"u",Rze=Wte?Float32Array:Array;function c4(n){return Dn(n)?Wte?new Float32Array(n):n:new Rze(n)}var Pze="__ec_stack_";function w8(n){return n.get("stack")||Pze+n.seriesIndex}function x8(n){return n.dim+n.index}function qte(n,e){var t=[];return e.eachSeriesByType(n,function(r){Yte(r)&&t.push(r)}),t}function Dze(n){var e={};ut(n,function(l){var c=l.coordinateSystem,u=c.getBaseAxis();if(!(u.type!=="time"&&u.type!=="value"))for(var d=l.getData(),f=u.dim+"_"+u.index,h=d.getDimensionIndex(d.mapDimension(u.dim)),p=d.getStore(),m=0,v=p.count();m<v;++m){var g=p.get(h,m);e[f]?e[f].push(g):e[f]=[g]}});var t={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(i){i.sort(function(l,c){return l-c});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}t[r]=a}}return t}function Kte(n){var e=Dze(n),t=[];return ut(n,function(r){var i=r.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,c=e[l],u=Math.abs(s[1]-s[0]),d=a.scale.getExtent(),f=Math.abs(d[1]-d[0]);o=c?u/f*c:u}else{var h=r.getData();o=Math.abs(s[1]-s[0])/h.count()}var p=bi(r.get("barWidth"),o),m=bi(r.get("barMaxWidth"),o),v=bi(r.get("barMinWidth")||(Xte(r)?.5:1),o),g=r.get("barGap"),y=r.get("barCategoryGap");t.push({bandWidth:o,barWidth:p,barMaxWidth:m,barMinWidth:v,barGap:g,barCategoryGap:y,axisKey:x8(a),stackId:w8(r)})}),kze(t)}function kze(n){var e={};ut(n,function(r,i){var a=r.axisKey,s=r.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;e[a]=o;var c=r.stackId;l[c]||o.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=r.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(o.remainedWidth,u),o.remainedWidth-=u);var d=r.barMaxWidth;d&&(l[c].maxWidth=d);var f=r.barMinWidth;f&&(l[c].minWidth=f);var h=r.barGap;h!=null&&(o.gap=h);var p=r.barCategoryGap;p!=null&&(o.categoryGap=p)});var t={};return ut(e,function(r,i){t[i]={};var a=r.stacks,s=r.bandWidth,o=r.categoryGap;if(o==null){var l=ki(a).length;o=Math.max(35-l*4,15)+"%"}var c=bi(o,s),u=bi(r.gap,1),d=r.remainedWidth,f=r.autoWidthCount,h=(d-c)/(f+(f-1)*u);h=Math.max(h,0),ut(a,function(g){var y=g.maxWidth,b=g.minWidth;if(g.width){var _=g.width;y&&(_=Math.min(_,y)),b&&(_=Math.max(_,b)),g.width=_,d-=_+u*_,f--}else{var _=h;y&&y<_&&(_=Math.min(y,d)),b&&b>_&&(_=b),_!==h&&(g.width=_,d-=_+u*_,f--)}}),h=(d-c)/(f+(f-1)*u),h=Math.max(h,0);var p=0,m;ut(a,function(g,y){g.width||(g.width=h),m=g,p+=g.width*(1+u)}),m&&(p-=m.width*u);var v=-p/2;ut(a,function(g,y){t[i][y]=t[i][y]||{bandWidth:s,offset:v,width:g.width},v+=g.width*(1+u)})}),t}function Lze(n,e,t){if(n&&e){var r=n[x8(e)];return r!=null&&t!=null?r[w8(t)]:r}}function Nze(n,e){var t=qte(n,e),r=Kte(t);ut(t,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=w8(i),c=r[x8(o)][l],u=c.offset,d=c.width;a.setLayout({bandWidth:c.bandWidth,offset:u,size:d})})}function Oze(n){return{seriesType:n,plan:Jee(),reset:function(e){if(Yte(e)){var t=e.getData(),r=e.coordinateSystem,i=r.getBaseAxis(),a=r.getOtherAxis(i),s=t.getDimensionIndex(t.mapDimension(a.dim)),o=t.getDimensionIndex(t.mapDimension(i.dim)),l=e.get("showBackground",!0),c=t.mapDimension(a.dim),u=t.getCalculationInfo("stackResultDimension"),d=Fte(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),h=Bze(i,a),p=Xte(e),m=e.get("barMinHeight")||0,v=u&&t.getDimensionIndex(u),g=t.getLayout("size"),y=t.getLayout("offset");return{progress:function(b,_){for(var x=b.count,S=p&&c4(x*3),T=p&&l&&c4(x*3),C=p&&c4(x),M=r.master.getRect(),A=f?M.width:M.height,I,D=_.getStore(),L=0;(I=b.next())!=null;){var F=D.get(d?v:s,I),B=D.get(o,I),k=h,H=void 0;d&&(H=+F-D.get(s,I));var z=void 0,O=void 0,W=void 0,j=void 0;if(f){var ee=r.dataToPoint([F,B]);if(d){var te=r.dataToPoint([H,B]);k=te[0]}z=k,O=ee[1]+y,W=ee[0]-k,j=g,Math.abs(W)<m&&(W=(W<0?-1:1)*m)}else{var ee=r.dataToPoint([B,F]);if(d){var te=r.dataToPoint([B,H]);k=te[1]}z=ee[0]+y,O=k,W=g,j=ee[1]-k,Math.abs(j)<m&&(j=(j<=0?-1:1)*m)}p?(S[L]=z,S[L+1]=O,S[L+2]=f?W:j,T&&(T[L]=f?M.x:z,T[L+1]=f?O:M.y,T[L+2]=A),C[I]=I):_.setItemLayout(I,{x:z,y:O,width:W,height:j}),L+=3}p&&_.setLayout({largePoints:S,largeDataIndices:C,largeBackgroundPoints:T,valueAxisHorizontal:f})}}}}}}function Yte(n){return n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"}function Xte(n){return n.pipelineContext&&n.pipelineContext.large}function Bze(n,e){return e.toGlobalCoord(e.dataToCoord(e.type==="log"?1:0))}var Fze=function(n,e,t,r){for(;t<r;){var i=t+r>>>1;n[i][1]<e?t=i+1:r=i}return t},jte=function(n){wn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="time",r}return e.prototype.getLabel=function(t){var r=this.getSetting("useUTC");return oA(t.value,aU[jBe(Gv(this._minLevelUnit))]||aU.second,r,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,r,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return ZBe(t,r,i,s,a)},e.prototype.getTicks=function(){var t=this._interval,r=this._extent,i=[];if(!t)return i;i.push({value:r[0],level:0});var a=this.getSetting("useUTC"),s=Wze(this._minLevelUnit,this._approxInterval,a,r);return i=i.concat(s),i.push({value:r[1],level:0}),i},e.prototype.calcNiceExtent=function(t){var r=this._extent;if(r[0]===r[1]&&(r[0]-=vl,r[1]+=vl),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-vl}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,r,i){t=t||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/t,r!=null&&this._approxInterval<r&&(this._approxInterval=r),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=Hx.length,l=Math.min(Fze(Hx,this._approxInterval,0,o),o-1);this._interval=Hx[l][1],this._minLevelUnit=Hx[Math.max(l-1,0)][0]},e.prototype.parse=function(t){return Fi(t)?t:+_d(t)},e.prototype.contain=function(t){return xA(this.parse(t),this._extent)},e.prototype.normalize=function(t){return SA(this.parse(t),this._extent)},e.prototype.scale=function(t){return CA(t,this._extent)},e.type="time",e}(yw),Hx=[["second",n8],["minute",r8],["hour",ob],["quarter-day",ob*6],["half-day",ob*12],["day",vl*1.2],["half-week",vl*3.5],["week",vl*7],["month",vl*31],["quarter",vl*95],["half-year",iU/2],["year",iU]];function zze(n,e,t,r){var i=_d(e),a=_d(t),s=function(p){return sU(i,p,r)===sU(a,p,r)},o=function(){return s("year")},l=function(){return o()&&s("month")},c=function(){return l()&&s("day")},u=function(){return c()&&s("hour")},d=function(){return u()&&s("minute")},f=function(){return d()&&s("second")},h=function(){return f()&&s("millisecond")};switch(n){case"year":return o();case"month":return l();case"day":return c();case"hour":return u();case"minute":return d();case"second":return f();case"millisecond":return h()}}function Uze(n,e){return n/=vl,n>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function Hze(n){var e=30*vl;return n/=e,n>6?6:n>3?3:n>2?2:1}function Vze(n){return n/=ob,n>12?12:n>6?6:n>3.5?4:n>2?2:1}function vH(n,e){return n/=e?r8:n8,n>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function $ze(n){return cJ(n,!0)}function Gze(n,e,t){var r=new Date(n);switch(Gv(e)){case"year":case"month":r[gee(t)](0);case"day":r[yee(t)](1);case"hour":r[bee(t)](0);case"minute":r[_ee(t)](0);case"second":r[wee(t)](0),r[xee(t)](0)}return r.getTime()}function Wze(n,e,t,r){var i=1e4,a=mee,s=0;function o(A,I,D,L,F,B,k){for(var H=new Date(I),z=I,O=H[L]();z<D&&z<=r[1];)k.push({value:z}),O+=A,H[F](O),z=H.getTime();k.push({value:z,notAdd:!0})}function l(A,I,D){var L=[],F=!I.length;if(!zze(Gv(A),r[0],r[1],t)){F&&(I=[{value:Gze(new Date(r[0]),A,t)},{value:r[1]}]);for(var B=0;B<I.length-1;B++){var k=I[B].value,H=I[B+1].value;if(k!==H){var z=void 0,O=void 0,W=void 0,j=!1;switch(A){case"year":z=Math.max(1,Math.round(e/vl/365)),O=i8(t),W=QBe(t);break;case"half-year":case"quarter":case"month":z=Hze(e),O=Wv(t),W=gee(t);break;case"week":case"half-week":case"day":z=Uze(e),O=lA(t),W=yee(t),j=!0;break;case"half-day":case"quarter-day":case"hour":z=Vze(e),O=h_(t),W=bee(t);break;case"minute":z=vH(e,!0),O=cA(t),W=_ee(t);break;case"second":z=vH(e,!1),O=uA(t),W=wee(t);break;case"millisecond":z=$ze(e),O=dA(t),W=xee(t);break}o(z,k,H,O,W,j,L),A==="year"&&D.length>1&&B===0&&D.unshift({value:D[0].value-z})}}for(var B=0;B<L.length;B++)D.push(L[B]);return L}}for(var c=[],u=[],d=0,f=0,h=0;h<a.length&&s++<i;++h){var p=Gv(a[h]);if(XBe(a[h])){l(a[h],c[c.length-1]||[],u);var m=a[h+1]?Gv(a[h+1]):null;if(p!==m){if(u.length){f=d,u.sort(function(A,I){return A.value-I.value});for(var v=[],g=0;g<u.length;++g){var y=u[g].value;(g===0||u[g-1].value!==y)&&(v.push(u[g]),y>=r[0]&&y<=r[1]&&d++)}var b=(r[1]-r[0])/e;if(d>b*1.5&&f>b/1.5||(c.push(v),d>b||n===a[h]))break}u=[]}}}for(var _=Oa(dr(c,function(A){return Oa(A,function(I){return I.value>=r[0]&&I.value<=r[1]&&!I.notAdd})}),function(A){return A.length>0}),x=[],S=_.length-1,h=0;h<_.length;++h)for(var T=_[h],C=0;C<T.length;++C)x.push({value:T[C].value,level:S-h});x.sort(function(A,I){return A.value-I.value});for(var M=[],h=0;h<x.length;++h)(h===0||x[h].value!==x[h-1].value)&&M.push(x[h]);return M}Nd.registerClass(jte);const qze=jte;var gH=Nd.prototype,fb=yw.prototype,Kze=va,Yze=Math.floor,Xze=Math.ceil,Vx=Math.pow,Wl=Math.log,S8=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new yw,t._interval=0,t}return e.prototype.getTicks=function(t){var r=this._originalScale,i=this._extent,a=r.getExtent(),s=fb.getTicks.call(this,t);return dr(s,function(o){var l=o.value,c=va(Vx(this.base,l));return c=l===i[0]&&this._fixMin?$x(c,a[0]):c,c=l===i[1]&&this._fixMax?$x(c,a[1]):c,{value:c}},this)},e.prototype.setExtent=function(t,r){var i=Wl(this.base);t=Wl(Math.max(0,t))/i,r=Wl(Math.max(0,r))/i,fb.setExtent.call(this,t,r)},e.prototype.getExtent=function(){var t=this.base,r=gH.getExtent.call(this);r[0]=Vx(t,r[0]),r[1]=Vx(t,r[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(r[0]=$x(r[0],a[0])),this._fixMax&&(r[1]=$x(r[1],a[1])),r},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var r=this.base;t[0]=Wl(t[0])/Wl(r),t[1]=Wl(t[1])/Wl(r),gH.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.calcNiceTicks=function(t){t=t||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var a=W8e(i),s=t/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[va(Xze(r[0]/a)*a),va(Yze(r[1]/a)*a)];this._interval=a,this._niceExtent=o}},e.prototype.calcNiceExtent=function(t){fb.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=Wl(t)/Wl(this.base),xA(t,this._extent)},e.prototype.normalize=function(t){return t=Wl(t)/Wl(this.base),SA(t,this._extent)},e.prototype.scale=function(t){return t=CA(t,this._extent),Vx(this.base,t)},e.type="log",e}(Nd),Zte=S8.prototype;Zte.getMinorTicks=fb.getMinorTicks;Zte.getLabel=fb.getLabel;function $x(n,e){return Kze(n,id(e))}Nd.registerClass(S8);const jze=S8;var Zze=function(){function n(e,t,r){this._prepareParams(e,t,r)}return n.prototype._prepareParams=function(e,t,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=this._modelMinRaw=t.get("min",!0);wr(a)?this._modelMinNum=Gx(e,a({min:r[0],max:r[1]})):a!=="dataMin"&&(this._modelMinNum=Gx(e,a));var s=this._modelMaxRaw=t.get("max",!0);if(wr(s)?this._modelMaxNum=Gx(e,s({min:r[0],max:r[1]})):s!=="dataMax"&&(this._modelMaxNum=Gx(e,s)),i)this._axisDataLen=t.getCategories().length;else{var o=t.get("boundaryGap"),l=Dn(o)?o:[o||0,o||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[oh(l[0],1),oh(l[1],1)]}},n.prototype.calculate=function(){var e=this._isOrdinal,t=this._dataMin,r=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=e?null:r-t||Math.abs(t),o=this._modelMinRaw==="dataMin"?t:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?r:this._modelMaxNum,c=o!=null,u=l!=null;o==null&&(o=e?i?0:NaN:t-a[0]*s),l==null&&(l=e?i?i-1:NaN:r+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var d=YC(o)||YC(l)||e&&!i;this._needCrossZero&&(o>0&&l>0&&!c&&(o=0),o<0&&l<0&&!u&&(l=0));var f=this._determinedMin,h=this._determinedMax;return f!=null&&(o=f,c=!0),h!=null&&(l=h,u=!0),{min:o,max:l,minFixed:c,maxFixed:u,isBlank:d}},n.prototype.modifyDataMinMax=function(e,t){this[Jze[e]]=t},n.prototype.setDeterminedMinMax=function(e,t){var r=Qze[e];this[r]=t},n.prototype.freeze=function(){this.frozen=!0},n}(),Qze={min:"_determinedMin",max:"_determinedMax"},Jze={min:"_dataMin",max:"_dataMax"};function eUe(n,e,t){var r=n.rawExtentInfo;return r||(r=new Zze(n,e,t),n.rawExtentInfo=r,r)}function Gx(n,e){return e==null?null:YC(e)?NaN:n.parse(e)}function Qte(n,e){var t=n.type,r=eUe(n,e,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,a=r.max,s=e.ecModel;if(s&&t==="time"){var o=qte("bar",s),l=!1;if(ut(o,function(d){l=l||d.getBaseAxis()===e.axis}),l){var c=Kte(o),u=tUe(i,a,e,c);i=u.min,a=u.max}}return{extent:[i,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function tUe(n,e,t,r){var i=t.axis.getExtent(),a=i[1]-i[0],s=Lze(r,t.axis);if(s===void 0)return{min:n,max:e};var o=1/0;ut(s,function(h){o=Math.min(h.offset,o)});var l=-1/0;ut(s,function(h){l=Math.max(h.offset+h.width,l)}),o=Math.abs(o),l=Math.abs(l);var c=o+l,u=e-n,d=1-(o+l)/a,f=u/d-u;return e+=f*(l/c),n-=f*(o/c),{min:n,max:e}}function yH(n,e){var t=e,r=Qte(n,t),i=r.extent,a=t.get("splitNumber");n instanceof jze&&(n.base=t.get("logBase"));var s=n.type,o=t.get("interval"),l=s==="interval"||s==="time";n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),o!=null&&n.setInterval&&n.setInterval(o)}function nUe(n,e){if(e=e||n.get("type"),e)switch(e){case"category":return new $te({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new qze({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Nd.getClass(e)||yw)}}function rUe(n){var e=n.scale.getExtent(),t=e[0],r=e[1];return!(t>0&&r>0||t<0&&r<0)}function bw(n){var e=n.getLabelModel().get("formatter"),t=n.type==="category"?n.scale.getExtent()[0]:null;return n.scale.type==="time"?function(r){return function(i,a){return n.scale.getFormattedLabel(i,a,r)}}(e):Qn(e)?function(r){return function(i){var a=n.scale.getLabel(i),s=r.replace("{value}",a??"");return s}}(e):wr(e)?function(r){return function(i,a){return t!=null&&(a=i.value-t),r(C8(n,i),a,i.level!=null?{level:i.level}:null)}}(e):function(r){return n.scale.getLabel(r)}}function C8(n,e){return n.type==="category"?n.scale.getLabel(e):e.value}function iUe(n){var e=n.model,t=n.scale;if(!(!e.get(["axisLabel","show"])||t.isBlank())){var r,i,a=t.getExtent();t instanceof $te?i=t.count():(r=t.getTicks(),i=r.length);var s=n.getLabelModel(),o=bw(n),l,c=1;i>40&&(c=Math.ceil(i/40));for(var u=0;u<i;u+=c){var d=r?r[u]:{value:a[0]+u},f=o(d,u),h=s.getTextRect(f),p=aUe(h,s.get("rotate")||0);l?l.union(p):l=p}return l}}function aUe(n,e){var t=e*Math.PI/180,r=n.width,i=n.height,a=r*Math.abs(Math.cos(t))+Math.abs(i*Math.sin(t)),s=r*Math.abs(Math.sin(t))+Math.abs(i*Math.cos(t)),o=new Xr(n.x,n.y,a,s);return o}function M8(n){var e=n.get("interval");return e??"auto"}function Jte(n){return n.type==="category"&&M8(n.getLabelModel())===0}function sUe(n,e){var t={};return ut(n.mapDimensionsAll(e),function(r){t[_ze(n,r)]=!0}),ki(t)}var oUe=function(){function n(){}return n.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},n.prototype.getCoordSysModel=function(){},n}();function u4(n,e){return e=e||{},wd(n,null,null,e.state!=="normal")}var bH=[],lUe={registerPreprocessor:y8,registerProcessor:Rte,registerPostInit:q9e,registerPostUpdate:K9e,registerUpdateLifecycle:b8,registerAction:Lm,registerCoordinateSystem:Y9e,registerLayout:Pte,registerVisual:Nm,registerTransform:j9e,registerLoading:Dte,registerMap:X9e,registerImpl:T9e,PRIORITY:z9e,ComponentModel:Ni,ComponentView:mu,SeriesModel:pu,ChartView:au,registerComponentModel:function(n){Ni.registerClass(n)},registerComponentView:function(n){mu.registerClass(n)},registerSeriesModel:function(n){pu.registerClass(n)},registerChartView:function(n){au.registerClass(n)},registerSubTypeDefaulter:function(n,e){Ni.registerSubTypeDefaulter(n,e)},registerPainter:function(n,e){F8e(n,e)}};function wc(n){if(Dn(n)){ut(n,function(e){wc(e)});return}di(bH,n)>=0||(bH.push(n),wr(n)&&(n={install:n}),n.install(lUe))}var b_=qi();function cUe(n){return n.type==="category"?dUe(n):hUe(n)}function uUe(n,e){return n.type==="category"?fUe(n,e):{ticks:dr(n.scale.getTicks(),function(t){return t.value})}}function dUe(n){var e=n.getLabelModel(),t=ene(n,e);return!e.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}function ene(n,e){var t=tne(n,"labels"),r=M8(e),i=nne(t,r);if(i)return i;var a,s;return wr(r)?a=ane(n,r):(s=r==="auto"?pUe(n):r,a=ine(n,s)),rne(t,r,{labels:a,labelCategoryInterval:s})}function fUe(n,e){var t=tne(n,"ticks"),r=M8(e),i=nne(t,r);if(i)return i;var a,s;if((!e.get("show")||n.scale.isBlank())&&(a=[]),wr(r))a=ane(n,r,!0);else if(r==="auto"){var o=ene(n,n.getLabelModel());s=o.labelCategoryInterval,a=dr(o.labels,function(l){return l.tickValue})}else s=r,a=ine(n,s,!0);return rne(t,r,{ticks:a,tickCategoryInterval:s})}function hUe(n){var e=n.scale.getTicks(),t=bw(n);return{labels:dr(e,function(r,i){return{level:r.level,formattedLabel:t(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}function tne(n,e){return b_(n)[e]||(b_(n)[e]=[])}function nne(n,e){for(var t=0;t<n.length;t++)if(n[t].key===e)return n[t].value}function rne(n,e,t){return n.push({key:e,value:t}),t}function pUe(n){var e=b_(n).autoInterval;return e??(b_(n).autoInterval=n.calculateCategoryInterval())}function mUe(n){var e=vUe(n),t=bw(n),r=(e.axisRotate-e.labelRotate)/180*Math.PI,i=n.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],c=n.dataToCoord(l+1)-n.dataToCoord(l),u=Math.abs(c*Math.cos(r)),d=Math.abs(c*Math.sin(r)),f=0,h=0;l<=a[1];l+=o){var p=0,m=0,v=R6(t({value:l}),e.font,"center","top");p=v.width*1.3,m=v.height*1.3,f=Math.max(f,p,7),h=Math.max(h,m,7)}var g=f/u,y=h/d;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var b=Math.max(0,Math.floor(Math.min(g,y))),_=b_(n.model),x=n.getExtent(),S=_.lastAutoInterval,T=_.lastTickCount;return S!=null&&T!=null&&Math.abs(S-b)<=1&&Math.abs(T-s)<=1&&S>b&&_.axisExtent0===x[0]&&_.axisExtent1===x[1]?b=S:(_.lastTickCount=s,_.lastAutoInterval=b,_.axisExtent0=x[0],_.axisExtent1=x[1]),b}function vUe(n){var e=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function ine(n,e,t){var r=bw(n),i=n.scale,a=i.getExtent(),s=n.getLabelModel(),o=[],l=Math.max((e||0)+1,1),c=a[0],u=i.count();c!==0&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var d=Jte(n),f=s.get("showMinLabel")||d,h=s.get("showMaxLabel")||d;f&&c!==a[0]&&m(a[0]);for(var p=c;p<=a[1];p+=l)m(p);h&&p-l!==a[1]&&m(a[1]);function m(v){var g={value:v};o.push(t?v:{formattedLabel:r(g),rawLabel:i.getLabel(g),tickValue:v})}return o}function ane(n,e,t){var r=n.scale,i=bw(n),a=[];return ut(r.getTicks(),function(s){var o=r.getLabel(s),l=s.value;e(s.value,o)&&a.push(t?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var _H=[0,1],gUe=function(){function n(e,t,r){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=r||[0,0]}return n.prototype.contain=function(e){var t=this._extent,r=Math.min(t[0],t[1]),i=Math.max(t[0],t[1]);return e>=r&&e<=i},n.prototype.containData=function(e){return this.scale.contain(e)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(e){return H8e(e||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(e,t){var r=this._extent;r[0]=e,r[1]=t},n.prototype.dataToCoord=function(e,t){var r=this._extent,i=this.scale;return e=i.normalize(e),this.onBand&&i.type==="ordinal"&&(r=r.slice(),wH(r,i.count())),nM(e,_H,r,t)},n.prototype.coordToData=function(e,t){var r=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(r=r.slice(),wH(r,i.count()));var a=nM(e,r,_H,t);return this.scale.scale(a)},n.prototype.pointToData=function(e,t){},n.prototype.getTicksCoords=function(e){e=e||{};var t=e.tickModel||this.getTickModel(),r=uUe(this,t),i=r.ticks,a=dr(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=t.get("alignWithLabel");return yUe(this,a,s,e.clamp),a},n.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),t=e.get("splitNumber");t>0&&t<100||(t=5);var r=this.scale.getMinorTicks(t),i=dr(r,function(a){return dr(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},n.prototype.getViewLabels=function(){return cUe(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),r=t[1]-t[0]+(this.onBand?1:0);r===0&&(r=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return mUe(this)},n}();function wH(n,e){var t=n[1]-n[0],r=e,i=t/r/2;n[0]+=i,n[1]-=i}function yUe(n,e,t,r){var i=e.length;if(!n.onBand||t||!i)return;var a=n.getExtent(),s,o;if(i===1)e[0].coord=a[0],s=e[1]={coord:a[1]};else{var l=e[i-1].tickValue-e[0].tickValue,c=(e[i-1].coord-e[0].coord)/l;ut(e,function(h){h.coord-=c/2});var u=n.scale.getExtent();o=1+u[1]-e[i-1].tickValue,s={coord:e[i-1].coord+c*o},e.push(s)}var d=a[0]>a[1];f(e[0].coord,a[0])&&(r?e[0].coord=a[0]:e.shift()),r&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],s.coord)&&(r?s.coord=a[1]:e.pop()),r&&f(s.coord,a[1])&&e.push({coord:a[1]});function f(h,p){return h=va(h),p=va(p),d?h>p:h<p}}const bUe=gUe;function _Ue(n){var e=pu.extend(n);return pu.registerClass(e),e}function wUe(n){var e=au.extend(n);return au.registerClass(e),e}var r1=Math.PI*2,ep=pm.CMD,xUe=["top","right","bottom","left"];function SUe(n,e,t,r,i){var a=t.width,s=t.height;switch(n){case"top":r.set(t.x+a/2,t.y-e),i.set(0,-1);break;case"bottom":r.set(t.x+a/2,t.y+s+e),i.set(0,1);break;case"left":r.set(t.x-e,t.y+s/2),i.set(-1,0);break;case"right":r.set(t.x+a+e,t.y+s/2),i.set(1,0);break}}function CUe(n,e,t,r,i,a,s,o,l){s-=n,o-=e;var c=Math.sqrt(s*s+o*o);s/=c,o/=c;var u=s*t+n,d=o*t+e;if(Math.abs(r-i)%r1<1e-4)return l[0]=u,l[1]=d,c-t;if(a){var f=r;r=ad(i),i=ad(f)}else r=ad(r),i=ad(i);r>i&&(i+=r1);var h=Math.atan2(o,s);if(h<0&&(h+=r1),h>=r&&h<=i||h+r1>=r&&h+r1<=i)return l[0]=u,l[1]=d,c-t;var p=t*Math.cos(r)+n,m=t*Math.sin(r)+e,v=t*Math.cos(i)+n,g=t*Math.sin(i)+e,y=(p-s)*(p-s)+(m-o)*(m-o),b=(v-s)*(v-s)+(g-o)*(g-o);return y<b?(l[0]=p,l[1]=m,Math.sqrt(y)):(l[0]=v,l[1]=g,Math.sqrt(b))}function _M(n,e,t,r,i,a,s,o){var l=i-n,c=a-e,u=t-n,d=r-e,f=Math.sqrt(u*u+d*d);u/=f,d/=f;var h=l*u+c*d,p=h/f;o&&(p=Math.min(Math.max(p,0),1)),p*=f;var m=s[0]=n+p*u,v=s[1]=e+p*d;return Math.sqrt((m-i)*(m-i)+(v-a)*(v-a))}function sne(n,e,t,r,i,a,s){t<0&&(n=n+t,t=-t),r<0&&(e=e+r,r=-r);var o=n+t,l=e+r,c=s[0]=Math.min(Math.max(i,n),o),u=s[1]=Math.min(Math.max(a,e),l);return Math.sqrt((c-i)*(c-i)+(u-a)*(u-a))}var ic=[];function MUe(n,e,t){var r=sne(e.x,e.y,e.width,e.height,n.x,n.y,ic);return t.set(ic[0],ic[1]),r}function TUe(n,e,t){for(var r=0,i=0,a=0,s=0,o,l,c=1/0,u=e.data,d=n.x,f=n.y,h=0;h<u.length;){var p=u[h++];h===1&&(r=u[h],i=u[h+1],a=r,s=i);var m=c;switch(p){case ep.M:a=u[h++],s=u[h++],r=a,i=s;break;case ep.L:m=_M(r,i,u[h],u[h+1],d,f,ic,!0),r=u[h++],i=u[h++];break;case ep.C:m=YQ(r,i,u[h++],u[h++],u[h++],u[h++],u[h],u[h+1],d,f,ic),r=u[h++],i=u[h++];break;case ep.Q:m=jQ(r,i,u[h++],u[h++],u[h],u[h+1],d,f,ic),r=u[h++],i=u[h++];break;case ep.A:var v=u[h++],g=u[h++],y=u[h++],b=u[h++],_=u[h++],x=u[h++];h+=1;var S=!!(1-u[h++]);o=Math.cos(_)*y+v,l=Math.sin(_)*b+g,h<=1&&(a=o,s=l);var T=(d-v)*b/y+v;m=CUe(v,g,b,_,_+x,S,T,f,ic),r=Math.cos(_+x)*y+v,i=Math.sin(_+x)*b+g;break;case ep.R:a=r=u[h++],s=i=u[h++];var C=u[h++],M=u[h++];m=sne(a,s,C,M,d,f,ic);break;case ep.Z:m=_M(r,i,a,s,d,f,ic,!0),r=a,i=s;break}m<c&&(c=m,t.set(ic[0],ic[1]))}return c}var fc=new pr,yi=new pr,Ji=new pr,Qc=new pr,Yc=new pr;function xH(n,e){if(n){var t=n.getTextGuideLine(),r=n.getTextContent();if(r&&t){var i=n.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||xUe,o=r.getBoundingRect().clone();o.applyTransform(r.getComputedTransform());var l=1/0,c=i.anchor,u=n.getComputedTransform(),d=u&&uw([],u),f=e.get("length2")||0;c&&Ji.copy(c);for(var h=0;h<s.length;h++){var p=s[h];SUe(p,0,o,fc,Qc),pr.scaleAndAdd(yi,fc,Qc,f),yi.transform(d);var m=n.getBoundingRect(),v=c?c.distance(yi):n instanceof wi?TUe(yi,n.path,Ji):MUe(yi,m,Ji);v<l&&(l=v,yi.transform(u),Ji.transform(u),Ji.toArray(a[0]),yi.toArray(a[1]),fc.toArray(a[2]))}one(a,e.get("minTurnAngle")),t.setShape({points:a})}}}var wM=[],zs=new pr;function one(n,e){if(e<=180&&e>0){e=e/180*Math.PI,fc.fromArray(n[0]),yi.fromArray(n[1]),Ji.fromArray(n[2]),pr.sub(Qc,fc,yi),pr.sub(Yc,Ji,yi);var t=Qc.len(),r=Yc.len();if(!(t<.001||r<.001)){Qc.scale(1/t),Yc.scale(1/r);var i=Qc.dot(Yc),a=Math.cos(e);if(a<i){var s=_M(yi.x,yi.y,Ji.x,Ji.y,fc.x,fc.y,wM,!1);zs.fromArray(wM),zs.scaleAndAdd(Yc,s/Math.tan(Math.PI-e));var o=Ji.x!==yi.x?(zs.x-yi.x)/(Ji.x-yi.x):(zs.y-yi.y)/(Ji.y-yi.y);if(isNaN(o))return;o<0?pr.copy(zs,yi):o>1&&pr.copy(zs,Ji),zs.toArray(n[1])}}}}function AUe(n,e,t){if(t<=180&&t>0){t=t/180*Math.PI,fc.fromArray(n[0]),yi.fromArray(n[1]),Ji.fromArray(n[2]),pr.sub(Qc,yi,fc),pr.sub(Yc,Ji,yi);var r=Qc.len(),i=Yc.len();if(!(r<.001||i<.001)){Qc.scale(1/r),Yc.scale(1/i);var a=Qc.dot(e),s=Math.cos(t);if(a<s){var o=_M(yi.x,yi.y,Ji.x,Ji.y,fc.x,fc.y,wM,!1);zs.fromArray(wM);var l=Math.PI/2,c=Math.acos(Yc.dot(e)),u=l+c-t;if(u>=l)pr.copy(zs,Ji);else{zs.scaleAndAdd(Yc,o/Math.tan(Math.PI/2-u));var d=Ji.x!==yi.x?(zs.x-yi.x)/(Ji.x-yi.x):(zs.y-yi.y)/(Ji.y-yi.y);if(isNaN(d))return;d<0?pr.copy(zs,yi):d>1&&pr.copy(zs,Ji)}zs.toArray(n[1])}}}}function SH(n,e,t,r){var i=t==="normal",a=i?n:n.ensureState(t);a.ignore=e;var s=r.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=r.getModel("lineStyle").getLineStyle();i?n.useStyle(o):a.style=o}function EUe(n,e){var t=e.smooth,r=e.points;if(r)if(n.moveTo(r[0][0],r[0][1]),t>0&&r.length>=3){var i=FR(r[0],r[1]),a=FR(r[1],r[2]);if(!i||!a){n.lineTo(r[1][0],r[1][1]),n.lineTo(r[2][0],r[2][1]);return}var s=Math.min(i,a)*t,o=rE([],r[1],r[0],s/i),l=rE([],r[1],r[2],s/a),c=rE([],o,l,.5);n.bezierCurveTo(o[0],o[1],o[0],o[1],c[0],c[1]),n.bezierCurveTo(l[0],l[1],l[0],l[1],r[2][0],r[2][1])}else for(var u=1;u<r.length;u++)n.lineTo(r[u][0],r[u][1])}function lne(n,e,t){var r=n.getTextGuideLine(),i=n.getTextContent();if(!i){r&&n.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=i.ignore,l=0;l<aM.length;l++){var c=aM[l],u=e[c],d=c==="normal";if(u){var f=u.get("show"),h=d?o:Gr(i.states[c]&&i.states[c].ignore,o);if(h||!Gr(f,s)){var p=d?r:r&&r.states[c];p&&(p.ignore=!0);continue}r||(r=new rA,n.setTextGuideLine(r),!d&&(o||!s)&&SH(r,!0,"normal",e.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),SH(r,!1,c,u)}}if(r){pi(r.style,t),r.style.fill=null;var m=a.get("showAbove"),v=n.textGuideLineConfig=n.textGuideLineConfig||{};v.showAbove=m||!1,r.buildPath=EUe}}function cne(n,e){e=e||"labelLine";for(var t={normal:n.getModel(e)},r=0;r<hu.length;r++){var i=hu[r];t[i]=n.getModel([i,e])}return t}function une(n){for(var e=[],t=0;t<n.length;t++){var r=n[t];if(!r.defaultAttr.ignore){var i=r.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,c=s.clone();c.applyTransform(a),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=o?new cM(s,a):null;e.push({label:i,labelLine:r.labelLine,rect:c,localRect:s,obb:u,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:o,transform:a})}}return e}function dne(n,e,t,r,i,a){var s=n.length;if(s<2)return;n.sort(function(C,M){return C.rect[e]-M.rect[e]});for(var o=0,l,c=!1,u=0,d=0;d<s;d++){var f=n[d],h=f.rect;l=h[e]-o,l<0&&(h[e]-=l,f.label[e]-=l,c=!0);var p=Math.max(-l,0);u+=p,o=h[e]+h[t]}u>0&&a&&x(-u/s,0,s);var m=n[0],v=n[s-1],g,y;b(),g<0&&S(-g,.8),y<0&&S(y,.8),b(),_(g,y,1),_(y,g,-1),b(),g<0&&T(-g),y<0&&T(y);function b(){g=m.rect[e]-r,y=i-v.rect[e]-v.rect[t]}function _(C,M,A){if(C<0){var I=Math.min(M,-C);if(I>0){x(I*A,0,s);var D=I+C;D<0&&S(-D*A,1)}else S(-C*A,1)}}function x(C,M,A){C!==0&&(c=!0);for(var I=M;I<A;I++){var D=n[I],L=D.rect;L[e]+=C,D.label[e]+=C}}function S(C,M){for(var A=[],I=0,D=1;D<s;D++){var L=n[D-1].rect,F=Math.max(n[D].rect[e]-L[e]-L[t],0);A.push(F),I+=F}if(I){var B=Math.min(Math.abs(C)/I,M);if(C>0)for(var D=0;D<s-1;D++){var k=A[D]*B;x(k,0,D+1)}else for(var D=s-1;D>0;D--){var k=A[D-1]*B;x(-k,D,s)}}}function T(C){var M=C<0?-1:1;C=Math.abs(C);for(var A=Math.ceil(C/(s-1)),I=0;I<s-1;I++)if(M>0?x(A,0,I+1):x(-A,s-I-1,s),C-=A,C<=0)return}return c}function IUe(n,e,t,r){return dne(n,"x","width",e,t,r)}function fne(n,e,t,r){return dne(n,"y","height",e,t,r)}function hne(n){var e=[];n.sort(function(m,v){return v.priority-m.priority});var t=new Xr(0,0,0,0);function r(m){if(!m.ignore){var v=m.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}m.ignore=!0}for(var i=0;i<n.length;i++){var a=n[i],s=a.axisAligned,o=a.localRect,l=a.transform,c=a.label,u=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var d=a.obb,f=!1,h=0;h<e.length;h++){var p=e[h];if(t.intersect(p.rect)){if(s&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new cM(p.localRect,p.transform)),d||(d=new cM(o,l)),d.intersect(p.obb)){f=!0;break}}}f?(r(c),u&&r(u)):(c.attr("ignore",a.defaultAttr.ignore),u&&u.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function RUe(n){if(n){for(var e=[],t=0;t<n.length;t++)e.push(n[t].slice());return e}}function PUe(n,e){var t=n.label,r=e&&e.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:RUe(r&&r.shape.points)}}var CH=["align","verticalAlign","width","height","fontSize"],Ds=new Rf,d4=qi(),DUe=qi();function Wx(n,e,t){for(var r=0;r<t.length;r++){var i=t[r];e[i]!=null&&(n[i]=e[i])}}var qx=["x","y","rotation"],kUe=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(e,t,r,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},c=i.getComputedTransform(),u=i.getBoundingRect().plain();Xr.applyTransform(u,u,c),c?Ds.setLocalTransform(c):(Ds.x=Ds.y=Ds.rotation=Ds.originX=Ds.originY=0,Ds.scaleX=Ds.scaleY=1),Ds.rotation=ad(Ds.rotation);var d=i.__hostTarget,f;if(d){f=d.getBoundingRect().plain();var h=d.getComputedTransform();Xr.applyTransform(f,f,h)}var p=f&&d.getTextGuideLine();this._labelList.push({label:i,labelLine:p,seriesModel:r,dataIndex:e,dataType:t,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:p&&p.ignore,x:Ds.x,y:Ds.y,scaleX:Ds.scaleX,scaleY:Ds.scaleY,rotation:Ds.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},n.prototype.addLabelsOfSeries=function(e){var t=this;this._chartViewList.push(e);var r=e.__model,i=r.get("labelLayout");(wr(i)||ki(i).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=fi(a);s&&!s.disableLabelLayout&&t._addLabel(o.dataIndex,o.dataType,r,s,i)})},n.prototype.updateLayoutConfig=function(e){var t=e.getWidth(),r=e.getHeight();function i(b,_){return function(){xH(b,_)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,c=s.defaultAttr,u=void 0;wr(s.layoutOption)?u=s.layoutOption(PUe(s,l)):u=s.layoutOption,u=u||{},s.computedLayoutOption=u;var d=Math.PI/180;l&&l.setTextConfig({local:!1,position:u.x!=null||u.y!=null?null:c.attachedPos,rotation:u.rotate!=null?u.rotate*d:c.attachedRot,offset:[u.dx||0,u.dy||0]});var f=!1;if(u.x!=null?(o.x=bi(u.x,t),o.setStyle("x",0),f=!0):(o.x=c.x,o.setStyle("x",c.style.x)),u.y!=null?(o.y=bi(u.y,r),o.setStyle("y",0),f=!0):(o.y=c.y,o.setStyle("y",c.style.y)),u.labelLinePoints){var h=l.getTextGuideLine();h&&(h.setShape({points:u.labelLinePoints}),f=!1)}var p=d4(o);p.needsUpdateLabelLine=f,o.rotation=u.rotate!=null?u.rotate*d:c.rotation,o.scaleX=c.scaleX,o.scaleY=c.scaleY;for(var m=0;m<CH.length;m++){var v=CH[m];o.setStyle(v,u[v]!=null?u[v]:c.style[v])}if(u.draggable){if(o.draggable=!0,o.cursor="move",l){var g=s.seriesModel;if(s.dataIndex!=null){var y=s.seriesModel.getData(s.dataType);g=y.getItemModel(s.dataIndex)}o.on("drag",i(l,g.getModel("labelLine")))}}else o.off("drag"),o.cursor=c.cursor}},n.prototype.layout=function(e){var t=e.getWidth(),r=e.getHeight(),i=une(this._labelList),a=Oa(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=Oa(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});IUe(a,0,t),fne(s,0,r);var o=Oa(i,function(l){return l.layoutOption.hideOverlap});hne(o)},n.prototype.processLabelsOverall=function(){var e=this;ut(this._chartViewList,function(t){var r=t.__model,i=t.ignoreLabelLineUpdate,a=r.isAnimationEnabled();t.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=d4(l).needsUpdateLabelLine),o&&e._updateLabelLine(s,r),a&&e._animateLabels(s,r)})})},n.prototype._updateLabelLine=function(e,t){var r=e.getTextContent(),i=fi(e),a=i.dataIndex;if(r&&a!=null){var s=t.getData(i.dataType),o=s.getItemModel(a),l={},c=s.getItemVisual(a,"style");if(c){var u=s.getVisual("drawType");l.stroke=c[u]}var d=o.getModel("labelLine");lne(e,cne(o),l),xH(e,d)}},n.prototype._animateLabels=function(e,t){var r=e.getTextContent(),i=e.getTextGuideLine();if(r&&(e.forceLabelAnimation||!r.ignore&&!r.invisible&&!e.disableLabelAnimation&&!$v(e))){var a=d4(r),s=a.oldLayout,o=fi(e),l=o.dataIndex,c={x:r.x,y:r.y,rotation:r.rotation},u=t.getData(o.dataType);if(s){r.attr(s);var f=e.prevStates;f&&(di(f,"select")>=0&&r.attr(a.oldLayoutSelect),di(f,"emphasis")>=0&&r.attr(a.oldLayoutEmphasis)),Va(r,c,t,l)}else if(r.attr(c),!gw(r).valueAnimation){var d=Gr(r.style.opacity,1);r.style.opacity=0,mo(r,{style:{opacity:d}},t,l)}if(a.oldLayout=c,r.states.select){var h=a.oldLayoutSelect={};Wx(h,c,qx),Wx(h,r.states.select,qx)}if(r.states.emphasis){var p=a.oldLayoutEmphasis={};Wx(p,c,qx),Wx(p,r.states.emphasis,qx)}kBe(r,l,u,t,t)}if(i&&!i.ignore&&!i.invisible){var a=DUe(i),s=a.oldLayout,m={points:i.shape.points};s?(i.attr({shape:s}),Va(i,{shape:m},t)):(i.setShape(m),i.style.strokePercent=0,mo(i,{style:{strokePercent:1}},t)),a.oldLayout=m}},n}();const LUe=kUe;var f4=qi();function NUe(n){n.registerUpdateLifecycle("series:beforeupdate",function(e,t,r){var i=f4(t).labelManager;i||(i=f4(t).labelManager=new LUe),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(e,t,r){var i=f4(t).labelManager;r.updatedSeries.forEach(function(a){i.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),i.updateLayoutConfig(t),i.layout(t),i.processLabelsOverall()})}function MH(n,e,t){var r=iy.createCanvas(),i=e.getWidth(),a=e.getHeight(),s=r.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*t,r.height=a*t,r}var OUe=function(n){wn(e,n);function e(t,r,i){var a=n.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||eM,typeof t=="string"?s=MH(t,r,i):or(t)&&(s=t,t=s.id),a.id=t,a.dom=s;var o=s.style;return o&&(NQ(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=r,a.dpr=i,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=MH("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),t!==1&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,r,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,c=new Xr(0,0,0,0);function u(y){if(!(!y.isFinite()||y.isZero()))if(s.length===0){var b=new Xr(0,0,0,0);b.copy(y),s.push(b)}else{for(var _=!1,x=1/0,S=0,T=0;T<s.length;++T){var C=s[T];if(C.intersect(y)){var M=new Xr(0,0,0,0);M.copy(C),M.union(y),s[T]=M,_=!0;break}else if(l){c.copy(y),c.union(C);var A=y.width*y.height,I=C.width*C.height,D=c.width*c.height,L=D-A-I;L<x&&(x=L,S=T)}}if(l&&(s[S].union(y),_=!0),!_){var b=new Xr(0,0,0,0);b.copy(y),s.push(b)}l||(l=s.length>=o)}}for(var d=this.__startIndex;d<this.__endIndex;++d){var f=t[d];if(f){var h=f.shouldBePainted(i,a,!0,!0),p=f.__isRendered&&(f.__dirty&Bo||!h)?f.getPrevPaintRect():null;p&&u(p);var m=h&&(f.__dirty&Bo||!f.__isRendered)?f.getPaintRect():null;m&&u(m)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var f=r[d],h=f.shouldBePainted(i,a,!0,!0);if(f&&(!h||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&u(p)}}var v;do{v=!1;for(var d=0;d<s.length;){if(s[d].isZero()){s.splice(d,1);continue}for(var g=d+1;g<s.length;)s[d].intersect(s[g])?(v=!0,s[d].union(s[g]),s.splice(g,1)):g++;d++}}while(v);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,r){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=t+"px",s.height=r+"px"),a.width=t*i,a.height=r*i,o&&(o.width=t*i,o.height=r*i,i!==1&&this.ctxBack.scale(i,i))},e.prototype.clear=function(t,r,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;r=r||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,d=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/d,l/d));var h=this.domBack;function p(m,v,g,y){if(s.clearRect(m,v,g,y),r&&r!=="transparent"){var b=void 0;if(XT(r)){var _=r.global||r.__width===g&&r.__height===y;b=_&&r.__canvasGradient||_P(s,r,{x:0,y:0,width:g,height:y}),r.__canvasGradient=b,r.__width=g,r.__height=y}else f6e(r)&&(r.scaleX=r.scaleX||d,r.scaleY=r.scaleY||d,b=wP(s,r,{dirty:function(){f.setUnpainted(),f.__painter.refresh()}}));s.save(),s.fillStyle=b||r,s.fillRect(m,v,g,y),s.restore()}c&&(s.save(),s.globalAlpha=u,s.drawImage(h,m,v,g,y),s.restore())}!i||c?p(0,0,o,l):i.length&&ut(i,function(m){p(m.x*d,m.y*d,m.width*d,m.height*d)})},e}(Ac);const h4=OUe;var TH=1e5,tp=314159,Kx=.01,BUe=.001;function FUe(n){return n?n.__builtin__?!0:!(typeof n.resize!="function"||typeof n.refresh!="function"):!1}function zUe(n,e){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+n+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}var UUe=function(){function n(e,t,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=r=cn({},r||{}),this.dpr=r.devicePixelRatio||eM,this._singleCanvas=a,this.root=e;var s=e.style;s&&(NQ(e),e.innerHTML=""),this.storage=t;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var u=e,d=u.width,f=u.height;r.width!=null&&(d=r.width),r.height!=null&&(f=r.height),this.dpr=r.devicePixelRatio||1,u.width=d*this.dpr,u.height=f*this.dpr,this._width=d,this._height=f;var h=new h4(u,this,this.dpr);h.__builtin__=!0,h.initContext(),l[tp]=h,h.zlevel=tp,o.push(tp),this._domRoot=e}else{this._width=Ox(e,0,r),this._height=Ox(e,1,r);var c=this._domRoot=zUe(this._width,this._height);e.appendChild(c)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},n.prototype.refresh=function(e){var t=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,r,e,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(e){var t=e.length,r=this._hoverlayer;if(r&&r.clear(),!!t){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<t;s++){var o=e[s];o.__inHover&&(r||(r=this._hoverlayer=this.getLayer(TH)),a||(a=r.ctx,a.save()),Fp(a,o,i,s===t-1))}a&&a.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(TH)},n.prototype.paintOne=function(e,t){hte(e,t)},n.prototype._paintList=function(e,t,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t,r),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;$R(function(){l._paintList(e,t,r,i)})}}},n.prototype._compositeManually=function(){var e=this.getLayer(tp).ctx,t=this._domRoot.width,r=this._domRoot.height;e.clearRect(0,0,t,r),this.eachBuiltinLayer(function(i){i.virtual&&e.drawImage(i.dom,0,0,t,r)})},n.prototype._doPaintList=function(e,t,r){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||r)&&a.push(c)}for(var u=!0,d=!1,f=function(m){var v=a[m],g=v.ctx,y=s&&v.createRepaintRects(e,t,h._width,h._height),b=r?v.__startIndex:v.__drawIndex,_=!r&&v.incremental&&Date.now,x=_&&Date.now(),S=v.zlevel===h._zlevelList[0]?h._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,S,y);else if(b===v.__startIndex){var T=e[b];(!T.incremental||!T.notClear||r)&&v.clear(!1,S,y)}b===-1&&(console.error("For some unknown reason. drawIndex is -1"),b=v.__startIndex);var C,M=function(L){var F={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(C=b;C<v.__endIndex;C++){var B=e[C];if(B.__inHover&&(d=!0),i._doPaintEl(B,v,s,L,F,C===v.__endIndex-1),_){var k=Date.now()-x;if(k>15)break}}F.prevElClipPaths&&g.restore()};if(y)if(y.length===0)C=v.__endIndex;else for(var A=h.dpr,I=0;I<y.length;++I){var D=y[I];g.save(),g.beginPath(),g.rect(D.x*A,D.y*A,D.width*A,D.height*A),g.clip(),M(D),g.restore()}else g.save(),M(),g.restore();v.__drawIndex=C,v.__drawIndex<v.__endIndex&&(u=!1)},h=this,p=0;p<a.length;p++)f(p);return Pr.wxa&&ut(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:u,needsRefreshHover:d}},n.prototype._doPaintEl=function(e,t,r,i,a,s){var o=t.ctx;if(r){var l=e.getPaintRect();(!i||l&&l.intersect(i))&&(Fp(o,e,a,s),e.setPrevPaintRect(l))}else Fp(o,e,a,s)},n.prototype.getLayer=function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=tp);var r=this._layers[e];return r||(r=new h4("zr_"+e,this,this.dpr),r.zlevel=e,r.__builtin__=!0,this._layerConfig[e]?hi(r,this._layerConfig[e],!0):this._layerConfig[e-Kx]&&hi(r,this._layerConfig[e-Kx],!0),t&&(r.virtual=t),this.insertLayer(e,r),r.initContext()),r},n.prototype.insertLayer=function(e,t){var r=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!r[e]&&FUe(t)){if(a>0&&e>i[0]){for(l=0;l<a-1&&!(i[l]<e&&i[l+1]>e);l++);o=r[i[l]]}if(i.splice(l+1,0,e),r[e]=t,!t.virtual)if(o){var c=o.dom;c.nextSibling?s.insertBefore(t.dom,c.nextSibling):s.appendChild(t.dom)}else s.firstChild?s.insertBefore(t.dom,s.firstChild):s.appendChild(t.dom);t.__painter=this}},n.prototype.eachLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i];e.call(t,this._layers[a],a)}},n.prototype.eachBuiltinLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__&&e.call(t,s,a)}},n.prototype.eachOtherLayer=function(e,t){for(var r=this._zlevelList,i=0;i<r.length;i++){var a=r[i],s=this._layers[a];s.__builtin__||e.call(t,s,a)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(d,f){d.__dirty=d.__used=!1});function t(d){a&&(a.__endIndex!==d&&(a.__dirty=!0),a.__endIndex=d)}if(this._singleCanvas)for(var r=1;r<e.length;r++){var i=e[r];if(i.zlevel!==e[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<e.length;l++){var i=e[l],c=i.zlevel,u=void 0;o!==c&&(o=c,s=0),i.incremental?(u=this.getLayer(c+BUe,this._needsManuallyCompositing),u.incremental=!0,s=1):u=this.getLayer(c+(s>0?Kx:0),this._needsManuallyCompositing),u.__builtin__||S6("ZLevel "+c+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.incremental?u.__drawIndex=-1:u.__drawIndex=l,t(l),a=u),i.__dirty&Bo&&!i.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(d,f){!d.__used&&d.getElementCount()>0&&(d.__dirty=!0,d.__startIndex=d.__endIndex=d.__drawIndex=0),d.__dirty&&d.__drawIndex<0&&(d.__drawIndex=d.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(e){e.clear()},n.prototype.setBackgroundColor=function(e){this._backgroundColor=e,ut(this._layers,function(t){t.setUnpainted()})},n.prototype.configLayer=function(e,t){if(t){var r=this._layerConfig;r[e]?hi(r[e],t,!0):r[e]=t;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===e||a===e+Kx){var s=this._layers[a];hi(s,r[e],!0)}}}},n.prototype.delLayer=function(e){var t=this._layers,r=this._zlevelList,i=t[e];i&&(i.dom.parentNode.removeChild(i.dom),delete t[e],r.splice(di(r,e),1))},n.prototype.resize=function(e,t){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,a=this.root;if(e!=null&&(i.width=e),t!=null&&(i.height=t),e=Ox(a,0,i),t=Ox(a,1,i),r.style.display="",this._width!==e||t!==this._height){r.style.width=e+"px",r.style.height=t+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,t);this.refresh(!0)}this._width=e,this._height=t}else{if(e==null||t==null)return;this._width=e,this._height=t,this.getLayer(tp).resize(e,t)}return this},n.prototype.clearLayer=function(e){var t=this._layers[e];t&&t.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[tp].dom;var t=new h4("image",this,e.pixelRatio||this.dpr);t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor);var r=t.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height;this.eachLayer(function(d){d.__builtin__?r.drawImage(d.dom,0,0,i,a):d.renderToCanvas&&(r.save(),d.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,c=o.length;l<c;l++){var u=o[l];Fp(r,u,s,l===c-1)}return t.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const HUe=UUe;function T8(n){n.registerPainter("canvas",HUe)}function pne(n,e){var t=n.mapDimensionsAll("defaultedLabel"),r=t.length;if(r===1){var i=Sg(n,e,t[0]);return i!=null?i+"":null}else if(r){for(var a=[],s=0;s<t.length;s++)a.push(Sg(n,e,t[s]));return a.join(" ")}}function VUe(n,e){var t=n.mapDimensionsAll("defaultedLabel");if(!Dn(e))return e+"";for(var r=[],i=0;i<t.length;i++){var a=n.getDimensionIndex(t[i]);a>=0&&r.push(e[a])}return r.join(" ")}var $Ue=function(n){wn(e,n);function e(t,r,i,a){var s=n.call(this)||this;return s.updateData(t,r,i,a),s}return e.prototype._createSymbol=function(t,r,i,a,s){this.removeAll();var o=yA(t,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=GUe,this._symbolType=t,this.add(o)},e.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){sM(this.childAt(0))},e.prototype.downplay=function(){oM(this.childAt(0))},e.prototype.setZ=function(t,r){var i=this.childAt(0);i.zlevel=t,i.z=r},e.prototype.setDraggable=function(t,r){var i=this.childAt(0);i.draggable=t,i.cursor=!r&&t?"move":i.cursor},e.prototype.updateData=function(t,r,i,a){this.silent=!1;var s=t.getItemVisual(r,"symbol")||"circle",o=t.hostModel,l=e.getSymbolSize(t,r),c=s!==this._symbolType,u=a&&a.disableAnimation;if(c){var d=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(s,t,r,l,d)}else{var f=this.childAt(0);f.silent=!1;var h={scaleX:l[0]/2,scaleY:l[1]/2};u?f.attr(h):Va(f,h,o,r),K6(f)}if(this._updateCommon(t,r,l,i,a),c){var f=this.childAt(0);if(!u){var h={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,mo(f,h,o,r)}}u&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(t,r,i,a,s){var o=this.childAt(0),l=t.hostModel,c,u,d,f,h,p,m,v,g;if(a&&(c=a.emphasisItemStyle,u=a.blurItemStyle,d=a.selectItemStyle,f=a.focus,h=a.blurScope,m=a.labelStatesModels,v=a.hoverScale,g=a.cursorStyle,p=a.emphasisDisabled),!a||t.hasItemOption){var y=a&&a.itemModel?a.itemModel:t.getItemModel(r),b=y.getModel("emphasis");c=b.getModel("itemStyle").getItemStyle(),d=y.getModel(["select","itemStyle"]).getItemStyle(),u=y.getModel(["blur","itemStyle"]).getItemStyle(),f=b.get("focus"),h=b.get("blurScope"),p=b.get("disabled"),m=J6(y),v=b.getShallow("scale"),g=y.getShallow("cursor")}var _=t.getItemVisual(r,"symbolRotate");o.attr("rotation",(_||0)*Math.PI/180||0);var x=cte(t.getItemVisual(r,"symbolOffset"),i);x&&(o.x=x[0],o.y=x[1]),g&&o.attr("cursor",g);var S=t.getItemVisual(r,"style"),T=S.fill;if(o instanceof Pm){var C=o.style;o.useStyle(cn({image:C.image,x:C.x,y:C.y,width:C.width,height:C.height},S))}else o.__isEmptyBrush?o.useStyle(cn({},S)):o.useStyle(S),o.style.decal=null,o.setColor(T,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var M=t.getItemVisual(r,"liftZ"),A=this._z2;M!=null?A==null&&(this._z2=o.z2,o.z2+=M):A!=null&&(o.z2=A,this._z2=null);var I=s&&s.useNameLabel;aA(o,m,{labelFetcher:l,labelDataIndex:r,defaultText:D,inheritColor:T,defaultOpacity:S.opacity});function D(B){return I?t.getName(B):pne(t,B)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var L=o.ensureState("emphasis");L.style=c,o.ensureState("select").style=d,o.ensureState("blur").style=u;var F=v==null||v===!0?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;L.scaleX=this._sizeX*F,L.scaleY=this._sizeY*F,this.setSymbolScale(1),H6(this,f,h,p)},e.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},e.prototype.fadeOut=function(t,r,i){var a=this.childAt(0),s=fi(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&vm(l,{style:{opacity:0}},r,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();vm(a,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:s,cb:t,removeOpt:o})},e.getSymbolSize=function(t,r){return l9e(t.getItemVisual(r,"symbolSize"))},e}(wo);function GUe(n,e){this.parent.drift(n,e)}const WUe=$Ue;function qUe(n,e,t,r,i){var a=n.getArea(),s=a.x,o=a.y,l=a.width,c=a.height,u=t.get(["lineStyle","width"])||2;s-=u/2,o-=u/2,l+=u,c+=u,s=Math.floor(s),l=Math.round(l);var d=new Ra({shape:{x:s,y:o,width:l,height:c}});if(e){var f=n.getBaseAxis(),h=f.isHorizontal(),p=f.inverse;h?(p&&(d.shape.x+=l),d.shape.width=0):(p||(d.shape.y+=c),d.shape.height=0);var m=wr(i)?function(v){i(v,d)}:null;mo(d,{shape:{width:l,height:c,x:s,y:o}},t,null,r,m)}return d}function KUe(n,e,t){var r=n.getArea(),i=va(r.r0,1),a=va(r.r,1),s=new Dm({shape:{cx:va(n.cx,1),cy:va(n.cy,1),r0:i,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});if(e){var o=n.getBaseAxis().dim==="angle";o?s.shape.endAngle=r.startAngle:s.shape.r=i,mo(s,{shape:{endAngle:r.endAngle,r:a}},t)}return s}function YUe(n,e,t,r,i){if(n){if(n.type==="polar")return KUe(n,e,t);if(n.type==="cartesian2d")return qUe(n,e,t,r,i)}else return null;return null}function mne(n,e){return n.type===e}var XUe={average:function(n){for(var e=0,t=0,r=0;r<n.length;r++)isNaN(n[r])||(e+=n[r],t++);return t===0?NaN:e/t},sum:function(n){for(var e=0,t=0;t<n.length;t++)e+=n[t]||0;return e},max:function(n){for(var e=-1/0,t=0;t<n.length;t++)n[t]>e&&(e=n[t]);return isFinite(e)?e:NaN},min:function(n){for(var e=1/0,t=0;t<n.length;t++)n[t]<e&&(e=n[t]);return isFinite(e)?e:NaN},nearest:function(n){return n[0]}},jUe=function(n){return Math.round(n.length/2)};function ZUe(n){return{seriesType:n,reset:function(e,t,r){var i=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),c=s.getOtherAxis(l),u=l.getExtent(),d=r.getDevicePixelRatio(),f=Math.abs(u[1]-u[0])*(d||1),h=Math.round(o/f);if(isFinite(h)&&h>1){a==="lttb"&&e.setData(i.lttbDownSample(i.mapDimension(c.dim),1/h));var p=void 0;Qn(a)?p=XUe[a]:wr(a)&&(p=a),p&&e.setData(i.downSample(i.mapDimension(c.dim),1/h,p,jUe))}}}}}var vne=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(t,r){return zte(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t,r,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(t),o=a.dataToPoint(s);if(i)ut(a.getAxes(),function(f,h){if(f.type==="category"&&r!=null){var p=f.getTicksCoords(),m=s[h],v=r[h]==="x1"||r[h]==="y1";if(v&&(m+=1),p.length<2)return;if(p.length===2){o[h]=f.toGlobalCoord(f.getExtent()[v?1:0]);return}for(var g=void 0,y=void 0,b=1,_=0;_<p.length;_++){var x=p[_].coord,S=_===p.length-1?p[_-1].tickValue+b:p[_].tickValue;if(S===m){y=x;break}else if(S<m)g=x;else if(g!=null&&S>m){y=(x+g)/2;break}_===1&&(b=S-p[0].tickValue)}y==null&&(g?g&&(y=p[p.length-1].coord):y=p[0].coord),o[h]=f.toGlobalCoord(y)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),d=a.getBaseAxis().isHorizontal()?0:1;o[d]+=c+u/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(pu);pu.registerClass(vne);const AH=vne;var QUe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.getInitialData=function(){return zte(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>t&&(t=r),t},e.prototype.brushSelector=function(t,r,i){return i.rect(r.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=fee(AH.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(AH);const JUe=QUe;var eHe=function(){function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return n}(),tHe=function(n){wn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="sausage",r}return e.prototype.getDefaultShape=function(){return new eHe},e.prototype.buildPath=function(t,r){var i=r.cx,a=r.cy,s=Math.max(r.r0||0,0),o=Math.max(r.r,0),l=(o-s)*.5,c=s+l,u=r.startAngle,d=r.endAngle,f=r.clockwise,h=Math.PI*2,p=f?d-u<h:u-d<h;p||(u=d-(f?h:-h));var m=Math.cos(u),v=Math.sin(u),g=Math.cos(d),y=Math.sin(d);p?(t.moveTo(m*s+i,v*s+a),t.arc(m*c+i,v*c+a,l,-Math.PI+u,u,!f)):t.moveTo(m*o+i,v*o+a),t.arc(i,a,o,u,d,!f),t.arc(g*c+i,y*c+a,l,d-Math.PI*2,d-Math.PI,!f),s!==0&&t.arc(i,a,s,d,u,f)},e}(wi);const EH=tHe;function nHe(n,e){e=e||{};var t=e.isRoundCap;return function(r,i,a){var s=i.position;if(!s||s instanceof Array)return tM(r,i,a);var o=n(s),l=i.distance!=null?i.distance:5,c=this.shape,u=c.cx,d=c.cy,f=c.r,h=c.r0,p=(f+h)/2,m=c.startAngle,v=c.endAngle,g=(m+v)/2,y=t?Math.abs(f-h)/2:0,b=Math.cos,_=Math.sin,x=u+f*b(m),S=d+f*_(m),T="left",C="top";switch(o){case"startArc":x=u+(h-l)*b(g),S=d+(h-l)*_(g),T="center",C="top";break;case"insideStartArc":x=u+(h+l)*b(g),S=d+(h+l)*_(g),T="center",C="bottom";break;case"startAngle":x=u+p*b(m)+Yx(m,l+y,!1),S=d+p*_(m)+Xx(m,l+y,!1),T="right",C="middle";break;case"insideStartAngle":x=u+p*b(m)+Yx(m,-l+y,!1),S=d+p*_(m)+Xx(m,-l+y,!1),T="left",C="middle";break;case"middle":x=u+p*b(g),S=d+p*_(g),T="center",C="middle";break;case"endArc":x=u+(f+l)*b(g),S=d+(f+l)*_(g),T="center",C="bottom";break;case"insideEndArc":x=u+(f-l)*b(g),S=d+(f-l)*_(g),T="center",C="top";break;case"endAngle":x=u+p*b(v)+Yx(v,l+y,!0),S=d+p*_(v)+Xx(v,l+y,!0),T="left",C="middle";break;case"insideEndAngle":x=u+p*b(v)+Yx(v,-l+y,!0),S=d+p*_(v)+Xx(v,-l+y,!0),T="right",C="middle";break;default:return tM(r,i,a)}return r=r||{},r.x=x,r.y=S,r.align=T,r.verticalAlign=C,r}}function rHe(n,e,t,r){if(Fi(r)){n.setTextConfig({rotation:r});return}else if(Dn(e)){n.setTextConfig({rotation:0});return}var i=n.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,c=t(e);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:n.setTextConfig({rotation:0});return}var u=Math.PI*1.5-l;c==="middle"&&u>Math.PI/2&&u<Math.PI*1.5&&(u-=Math.PI),n.setTextConfig({rotation:u})}function Yx(n,e,t){return e*Math.sin(n)*(t?-1:1)}function Xx(n,e,t){return e*Math.cos(n)*(t?1:-1)}function O1(n,e,t){var r=n.get("borderRadius");if(r==null)return t?{cornerRadius:0}:null;Dn(r)||(r=[r,r,r,r]);var i=Math.abs(e.r||0-e.r0||0);return{cornerRadius:dr(r,function(a){return oh(a,i)})}}var p4=Math.max,m4=Math.min;function iHe(n,e){var t=n.getArea&&n.getArea();if(mne(n,"cartesian2d")){var r=n.getBaseAxis();if(r.type!=="category"||!r.onBand){var i=e.getLayout("bandWidth");r.isHorizontal()?(t.x-=i,t.width+=i*2):(t.y-=i,t.height+=i*2)}}return t}var aHe=function(n){wn(e,n);function e(){var t=n.call(this)||this;return t.type=e.type,t._isFirstFrame=!0,t}return e.prototype.render=function(t,r,i,a){this._model=t,this._removeOnRenderedListener(i),this._updateDrawMode(t);var s=t.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,r,i):this._renderNormal(t,r,i,a))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,r){this._progressiveEls=[],this._incrementalRenderLarge(t,r)},e.prototype.eachRendered=function(t){Q6(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var r=t.pipelineContext.large;(this._isLargeDraw==null||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},e.prototype._renderNormal=function(t,r,i,a){var s=this.group,o=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis(),d;c.type==="cartesian2d"?d=u.isHorizontal():c.type==="polar"&&(d=u.dim==="angle");var f=t.isAnimationEnabled()?t:null,h=sHe(t,c);h&&this._enableRealtimeSort(h,o,i);var p=t.get("clip",!0)||h,m=iHe(c,o);s.removeClipPath();var v=t.get("roundCap",!0),g=t.get("showBackground",!0),y=t.getModel("backgroundStyle"),b=y.get("borderRadius")||0,_=[],x=this._backgroundEls,S=a&&a.isInitSort,T=a&&a.type==="changeAxisOrder";function C(I){var D=jx[c.type](o,I),L=hHe(c,d,D);return L.useStyle(y.getItemStyle()),c.type==="cartesian2d"?L.setShape("r",b):L.setShape("cornerRadius",b),_[I]=L,L}o.diff(l).add(function(I){var D=o.getItemModel(I),L=jx[c.type](o,I,D);if(g&&C(I),!(!o.hasValue(I)||!kH[c.type](L))){var F=!1;p&&(F=IH[c.type](m,L));var B=RH[c.type](t,o,I,L,d,f,u.model,!1,v);h&&(B.forceLabelAnimation=!0),LH(B,o,I,D,L,t,d,c.type==="polar"),S?B.attr({shape:L}):h?PH(h,f,B,L,I,d,!1,!1):mo(B,{shape:L},t,I),o.setItemGraphicEl(I,B),s.add(B),B.ignore=F}}).update(function(I,D){var L=o.getItemModel(I),F=jx[c.type](o,I,L);if(g){var B=void 0;x.length===0?B=C(D):(B=x[D],B.useStyle(y.getItemStyle()),c.type==="cartesian2d"?B.setShape("r",b):B.setShape("cornerRadius",b),_[I]=B);var k=jx[c.type](o,I),H=yne(d,k,c);Va(B,{shape:H},f,I)}var z=l.getItemGraphicEl(D);if(!o.hasValue(I)||!kH[c.type](F)){s.remove(z);return}var O=!1;if(p&&(O=IH[c.type](m,F),O&&s.remove(z)),z?K6(z):z=RH[c.type](t,o,I,F,d,f,u.model,!!z,v),h&&(z.forceLabelAnimation=!0),T){var W=z.getTextContent();if(W){var j=gw(W);j.prevValue!=null&&(j.prevValue=j.value)}}else LH(z,o,I,L,F,t,d,c.type==="polar");S?z.attr({shape:F}):h?PH(h,f,z,F,I,d,!0,T):Va(z,{shape:F},t,I,null),o.setItemGraphicEl(I,z),z.ignore=O,s.add(z)}).remove(function(I){var D=l.getItemGraphicEl(I);D&&uM(D,t,I)}).execute();var M=this._backgroundGroup||(this._backgroundGroup=new wo);M.removeAll();for(var A=0;A<_.length;++A)M.add(_[A]);s.add(M),this._backgroundEls=_,this._data=o},e.prototype._renderLarge=function(t,r,i){this._clear(),OH(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,r){this._removeBackground(),OH(r,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var r=t.get("clip",!0)&&YUe(t.coordinateSystem,!1,t),i=this.group;r?i.setClipPath(r):i.removeClipPath()},e.prototype._enableRealtimeSort=function(t,r,i){var a=this;if(r.count()){var s=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,t,i),this._isFirstFrame=!1;else{var o=function(l){var c=r.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(s.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){a._updateSortWithinSameData(r,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,r,i){var a=[];return t.each(t.mapDimension(r.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:dr(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(t,r,i){for(var a=i.scale,s=t.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,c=a.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(s,a.getRawOrdinalNumber(l)),d=u<0?Number.MIN_VALUE:r(t.indexOfRawIndex(u));if(d>o)return!0;o=d}return!1},e.prototype._isOrderDifferentInView=function(t,r){for(var i=r.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(t.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(t,r,i,a){if(this._isOrderChangedWithinSameData(t,r,i)){var s=this._dataSort(t,i,r);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(t,r,i){var a=r.baseAxis,s=this._dataSort(t,a,function(o){return t.get(t.mapDimension(r.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(t,r){this._clear(this._model),this._removeOnRenderedListener(r)},e.prototype.dispose=function(t,r){this._removeOnRenderedListener(r)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var r=this.group,i=this._data;t&&t.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){uM(a,t,fi(a).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(au),IH={cartesian2d:function(n,e){var t=e.width<0?-1:1,r=e.height<0?-1:1;t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height);var i=n.x+n.width,a=n.y+n.height,s=p4(e.x,n.x),o=m4(e.x+e.width,i),l=p4(e.y,n.y),c=m4(e.y+e.height,a),u=o<s,d=c<l;return e.x=u&&s>i?o:s,e.y=d&&l>a?c:l,e.width=u?0:o-s,e.height=d?0:c-l,t<0&&(e.x+=e.width,e.width=-e.width),r<0&&(e.y+=e.height,e.height=-e.height),u||d},polar:function(n,e){var t=e.r0<=e.r?1:-1;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}var i=m4(e.r,n.r),a=p4(e.r0,n.r0);e.r=i,e.r0=a;var s=i-a<0;if(t<0){var r=e.r;e.r=e.r0,e.r0=r}return s}},RH={cartesian2d:function(n,e,t,r,i,a,s,o,l){var c=new Ra({shape:cn({},r),z2:1});if(c.__dataIndex=t,c.name="item",a){var u=c.shape,d=i?"height":"width";u[d]=0}return c},polar:function(n,e,t,r,i,a,s,o,l){var c=!i&&l?EH:Dm,u=new c({shape:r,z2:1});u.name="item";var d=gne(i);if(u.calculateTextPosition=nHe(d,{isRoundCap:c===EH}),a){var f=u.shape,h=i?"r":"endAngle",p={};f[h]=i?r.r0:r.startAngle,p[h]=r[h],(o?Va:mo)(u,{shape:p},a)}return u}};function sHe(n,e){var t=n.get("realtimeSort",!0),r=e.getBaseAxis();if(t&&r.type==="category"&&e.type==="cartesian2d")return{baseAxis:r,otherAxis:e.getOtherAxis(r)}}function PH(n,e,t,r,i,a,s,o){var l,c;a?(c={x:r.x,width:r.width},l={y:r.y,height:r.height}):(c={y:r.y,height:r.height},l={x:r.x,width:r.width}),o||(s?Va:mo)(t,{shape:l},e,i,null);var u=e?n.baseAxis.model:null;(s?Va:mo)(t,{shape:c},u,i)}function DH(n,e){for(var t=0;t<e.length;t++)if(!isFinite(n[e[t]]))return!0;return!1}var oHe=["x","y","width","height"],lHe=["cx","cy","r","startAngle","endAngle"],kH={cartesian2d:function(n){return!DH(n,oHe)},polar:function(n){return!DH(n,lHe)}},jx={cartesian2d:function(n,e,t){var r=n.getItemLayout(e),i=t?uHe(t,r):0,a=r.width>0?1:-1,s=r.height>0?1:-1;return{x:r.x+a*i/2,y:r.y+s*i/2,width:r.width-a*i,height:r.height-s*i}},polar:function(n,e,t){var r=n.getItemLayout(e);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function cHe(n){return n.startAngle!=null&&n.endAngle!=null&&n.startAngle===n.endAngle}function gne(n){return function(e){var t=e?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+t;default:return r}}}(n)}function LH(n,e,t,r,i,a,s,o){var l=e.getItemVisual(t,"style");if(o){if(!a.get("roundCap")){var u=n.shape,d=O1(r.getModel("itemStyle"),u,!0);cn(u,d),n.setShape(u)}}else{var c=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",c)}n.useStyle(l);var f=r.getShallow("cursor");f&&n.attr("cursor",f);var h=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",p=J6(r);aA(n,p,{labelFetcher:a,labelDataIndex:t,defaultText:pne(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:h});var m=n.getTextContent();if(o&&m){var v=r.get(["label","position"]);n.textConfig.inside=v==="middle"?!0:null,rHe(n,v==="outside"?h:v,gne(s),r.get(["label","rotate"]))}DBe(m,p,a.getRawValue(t),function(y){return VUe(e,y)});var g=r.getModel(["emphasis"]);H6(n,g.get("focus"),g.get("blurScope"),g.get("disabled")),V6(n,r),cHe(i)&&(n.style.fill="none",n.style.stroke="none",ut(n.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function uHe(n,e){var t=n.get(["itemStyle","borderColor"]);if(!t||t==="none")return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(r,i,a)}var dHe=function(){function n(){}return n}(),NH=function(n){wn(e,n);function e(t){var r=n.call(this,t)||this;return r.type="largeBar",r}return e.prototype.getDefaultShape=function(){return new dHe},e.prototype.buildPath=function(t,r){for(var i=r.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],c=this.barWidth,u=0;u<i.length;u+=3)l[a]=c,l[s]=i[u+2],o[a]=i[u+a],o[s]=i[u+s],t.rect(o[0],o[1],l[0],l[1])},e}(wi);function OH(n,e,t,r){var i=n.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=n.getModel("backgroundStyle"),c=i.getLayout("largeBackgroundPoints");if(c){var u=new NH({shape:{points:c},incremental:!!r,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=s,u.barWidth=o,u.useStyle(l.getItemStyle()),e.add(u),t&&t.push(u)}var d=new NH({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});d.baseDimIdx=a,d.largeDataIndices=s,d.barWidth=o,e.add(d),d.useStyle(i.getVisual("style")),fi(d).seriesIndex=n.seriesIndex,n.get("silent")||(d.on("mousedown",BH),d.on("mousemove",BH)),t&&t.push(d)}var BH=gA(function(n){var e=this,t=fHe(e,n.offsetX,n.offsetY);fi(e).dataIndex=t>=0?t:null},30,!1);function fHe(n,e,t){for(var r=n.baseDimIdx,i=1-r,a=n.shape.points,s=n.largeDataIndices,o=[],l=[],c=n.barWidth,u=0,d=a.length/3;u<d;u++){var f=u*3;if(l[r]=c,l[i]=a[f+2],o[r]=a[f+r],o[i]=a[f+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),e>=o[0]&&e<=o[0]+l[0]&&t>=o[1]&&t<=o[1]+l[1])return s[u]}return-1}function yne(n,e,t){if(mne(t,"cartesian2d")){var r=e,i=t.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}else{var i=t.getArea(),a=e;return{cx:i.cx,cy:i.cy,r0:n?i.r0:a.r0,r:n?i.r:a.r,startAngle:n?a.startAngle:0,endAngle:n?a.endAngle:Math.PI*2}}}function hHe(n,e,t){var r=n.type==="polar"?Dm:Ra;return new r({shape:yne(e,t,n),silent:!0,z2:0})}const pHe=aHe;function mHe(n){n.registerChartView(pHe),n.registerSeriesModel(JUe),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Vi(Nze,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,Oze("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,ZUe("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,t){var r=e.componentType||"series";t.eachComponent({mainType:r,query:e},function(i){e.sortInfo&&i.axis.setCategorySortInfo(e.sortInfo)})})}var Zx=Math.PI*2,FH=Math.PI/180;function bne(n,e){return lh(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function _ne(n,e){var t=bne(n,e),r=n.get("center"),i=n.get("radius");Dn(i)||(i=[0,i]);var a=bi(t.width,e.getWidth()),s=bi(t.height,e.getHeight()),o=Math.min(a,s),l=bi(i[0],o/2),c=bi(i[1],o/2),u,d,f=n.coordinateSystem;if(f){var h=f.dataToPoint(r);u=h[0]||0,d=h[1]||0}else Dn(r)||(r=[r,r]),u=bi(r[0],a)+t.x,d=bi(r[1],s)+t.y;return{cx:u,cy:d,r0:l,r:c}}function vHe(n,e,t){e.eachSeriesByType(n,function(r){var i=r.getData(),a=i.mapDimension("value"),s=bne(r,t),o=_ne(r,t),l=o.cx,c=o.cy,u=o.r,d=o.r0,f=-r.get("startAngle")*FH,h=r.get("minAngle")*FH,p=0;i.each(a,function(A){!isNaN(A)&&p++});var m=i.getSum(a),v=Math.PI/(m||p)*2,g=r.get("clockwise"),y=r.get("roseType"),b=r.get("stillShowZeroSum"),_=i.getDataExtent(a);_[0]=0;var x=Zx,S=0,T=f,C=g?1:-1;if(i.setLayout({viewRect:s,r:u}),i.each(a,function(A,I){var D;if(isNaN(A)){i.setItemLayout(I,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:g,cx:l,cy:c,r0:d,r:y?NaN:u});return}y!=="area"?D=m===0&&b?v:A*v:D=Zx/p,D<h?(D=h,x-=h):S+=A;var L=T+C*D;i.setItemLayout(I,{angle:D,startAngle:T,endAngle:L,clockwise:g,cx:l,cy:c,r0:d,r:y?nM(A,_,[d,u]):u}),T=L}),x<Zx&&p)if(x<=.001){var M=Zx/p;i.each(a,function(A,I){if(!isNaN(A)){var D=i.getItemLayout(I);D.angle=M,D.startAngle=f+C*I*M,D.endAngle=f+C*(I+1)*M}})}else v=x/S,T=f,i.each(a,function(A,I){if(!isNaN(A)){var D=i.getItemLayout(I),L=D.angle===h?h:A*v;D.startAngle=T,D.endAngle=T+C*L,T+=C*L}})})}function gHe(n){return{seriesType:n,reset:function(e,t){var r=t.findComponents({mainType:"legend"});if(!(!r||!r.length)){var i=e.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<r.length;o++)if(!r[o].isSelected(s))return!1;return!0})}}}}var yHe=Math.PI/180;function zH(n,e,t,r,i,a,s,o,l,c){if(n.length<2)return;function u(m){for(var v=m.rB,g=v*v,y=0;y<m.list.length;y++){var b=m.list[y],_=Math.abs(b.label.y-t),x=r+b.len,S=x*x,T=Math.sqrt((1-Math.abs(_*_/g))*S),C=e+(T+b.len2)*i,M=C-b.label.x,A=b.targetTextWidth-M*i;wne(b,A,!0),b.label.x=C}}function d(m){for(var v={list:[],maxY:0},g={list:[],maxY:0},y=0;y<m.length;y++)if(m[y].labelAlignTo==="none"){var b=m[y],_=b.label.y>t?g:v,x=Math.abs(b.label.y-t);if(x>=_.maxY){var S=b.label.x-e-b.len2*i,T=r+b.len,C=Math.abs(S)<T?Math.sqrt(x*x/(1-S*S/T/T)):T;_.rB=C,_.maxY=x}_.list.push(b)}u(v),u(g)}for(var f=n.length,h=0;h<f;h++)if(n[h].position==="outer"&&n[h].labelAlignTo==="labelLine"){var p=n[h].label.x-c;n[h].linePoints[1][0]+=p,n[h].label.x=c}fne(n,l,l+s)&&d(n)}function bHe(n,e,t,r,i,a,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,f=0;f<n.length;f++){var h=n[f].label;v4(n[f])||(h.x<e?(u=Math.min(u,h.x),l.push(n[f])):(d=Math.max(d,h.x),c.push(n[f])))}for(var f=0;f<n.length;f++){var p=n[f];if(!v4(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var h=p.label,m=p.linePoints,v=void 0;p.labelAlignTo==="edge"?h.x<e?v=m[2][0]-p.labelDistance-s-p.edgeDistance:v=s+i-p.edgeDistance-m[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?h.x<e?v=u-s-p.bleedMargin:v=s+i-d-p.bleedMargin:h.x<e?v=h.x-s-p.bleedMargin:v=s+i-h.x-p.bleedMargin,p.targetTextWidth=v,wne(p,v)}}zH(c,e,t,r,1,i,a,s,o,d),zH(l,e,t,r,-1,i,a,s,o,u);for(var f=0;f<n.length;f++){var p=n[f];if(!v4(p)&&p.linePoints){var h=p.label,m=p.linePoints,g=p.labelAlignTo==="edge",y=h.style.padding,b=y?y[1]+y[3]:0,_=h.style.backgroundColor?0:b,x=p.rect.width+_,S=m[1][0]-m[2][0];g?h.x<e?m[2][0]=s+p.edgeDistance+x+p.labelDistance:m[2][0]=s+i-p.edgeDistance-x-p.labelDistance:(h.x<e?m[2][0]=h.x+p.labelDistance:m[2][0]=h.x-p.labelDistance,m[1][0]=m[2][0]+S),m[1][1]=m[2][1]=h.y}}}function wne(n,e,t){if(t===void 0&&(t=!1),n.labelStyleWidth==null){var r=n.label,i=r.style,a=n.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,c=i.overflow,u=a.width+(s?0:l);if(e<u||t){var d=a.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",e-l);var f=r.getBoundingRect();r.setStyle("width",Math.ceil(f.width)),r.setStyle("backgroundColor",s)}else{var h=e-l,p=e<u?h:t?h>n.unconstrainedWidth?null:h:null;r.setStyle("width",p)}var m=r.getBoundingRect();a.width=m.width;var v=(r.style.margin||0)+2.1;a.height=m.height+v,a.y-=(a.height-d)/2}}}function v4(n){return n.position==="center"}function _He(n){var e=n.getData(),t=[],r,i,a=!1,s=(n.get("minShowLabelAngle")||0)*yHe,o=e.getLayout("viewRect"),l=e.getLayout("r"),c=o.width,u=o.x,d=o.y,f=o.height;function h(S){S.ignore=!0}function p(S){if(!S.ignore)return!0;for(var T in S.states)if(S.states[T].ignore===!1)return!0;return!1}e.each(function(S){var T=e.getItemGraphicEl(S),C=T.shape,M=T.getTextContent(),A=T.getTextGuideLine(),I=e.getItemModel(S),D=I.getModel("label"),L=D.get("position")||I.get(["emphasis","label","position"]),F=D.get("distanceToLabelLine"),B=D.get("alignTo"),k=bi(D.get("edgeDistance"),c),H=D.get("bleedMargin"),z=I.getModel("labelLine"),O=z.get("length");O=bi(O,c);var W=z.get("length2");if(W=bi(W,c),Math.abs(C.endAngle-C.startAngle)<s){ut(M.states,h),M.ignore=!0,A&&(ut(A.states,h),A.ignore=!0);return}if(p(M)){var j=(C.startAngle+C.endAngle)/2,ee=Math.cos(j),te=Math.sin(j),J,Q,ie,le;r=C.cx,i=C.cy;var we=L==="inside"||L==="inner";if(L==="center")J=C.cx,Q=C.cy,le="center";else{var Ae=(we?(C.r+C.r0)/2*ee:C.r*ee)+r,ke=(we?(C.r+C.r0)/2*te:C.r*te)+i;if(J=Ae+ee*3,Q=ke+te*3,!we){var Fe=Ae+ee*(O+l-C.r),q=ke+te*(O+l-C.r),ce=Fe+(ee<0?-1:1)*W,re=q;B==="edge"?J=ee<0?u+k:u+c-k:J=ce+(ee<0?-F:F),Q=re,ie=[[Ae,ke],[Fe,q],[ce,re]]}le=we?"center":B==="edge"?ee>0?"right":"left":ee>0?"left":"right"}var Ne=Math.PI,Pe=0,$e=D.get("rotate");if(Fi($e))Pe=$e*(Ne/180);else if(L==="center")Pe=0;else if($e==="radial"||$e===!0){var Ue=ee<0?-j+Ne:-j;Pe=Ue}else if($e==="tangential"&&L!=="outside"&&L!=="outer"){var Ve=Math.atan2(ee,te);Ve<0&&(Ve=Ne*2+Ve);var je=te>0;je&&(Ve=Ne+Ve),Pe=Ve-Ne}if(a=!!Pe,M.x=J,M.y=Q,M.rotation=Pe,M.setStyle({verticalAlign:"middle"}),we){M.setStyle({align:le});var X=M.states.select;X&&(X.x+=M.x,X.y+=M.y)}else{var fe=M.getBoundingRect().clone();fe.applyTransform(M.getComputedTransform());var $=(M.style.margin||0)+2.1;fe.y-=$/2,fe.height+=$,t.push({label:M,labelLine:A,position:L,len:O,len2:W,minTurnAngle:z.get("minTurnAngle"),maxSurfaceAngle:z.get("maxSurfaceAngle"),surfaceNormal:new pr(ee,te),linePoints:ie,textAlign:le,labelDistance:F,labelAlignTo:B,edgeDistance:k,bleedMargin:H,rect:fe,unconstrainedWidth:fe.width,labelStyleWidth:M.style.width})}T.setTextConfig({inside:we})}}),!a&&n.get("avoidLabelOverlap")&&bHe(t,r,i,l,c,f,u,d);for(var m=0;m<t.length;m++){var v=t[m],g=v.label,y=v.labelLine,b=isNaN(g.x)||isNaN(g.y);if(g){g.setStyle({align:v.textAlign}),b&&(ut(g.states,h),g.ignore=!0);var _=g.states.select;_&&(_.x+=g.x,_.y+=g.y)}if(y){var x=v.linePoints;b||!x?(ut(y.states,h),y.ignore=!0):(one(x,v.minTurnAngle),AUe(x,v.surfaceNormal,v.maxSurfaceAngle),y.setShape({points:x}),g.__hostTarget.textGuideLineConfig={anchor:new pr(x[0][0],x[0][1])})}}}var wHe=function(n){wn(e,n);function e(t,r,i){var a=n.call(this)||this;a.z2=2;var s=new Es;return a.setTextContent(s),a.updateData(t,r,i,!0),a}return e.prototype.updateData=function(t,r,i,a){var s=this,o=t.hostModel,l=t.getItemModel(r),c=l.getModel("emphasis"),u=t.getItemLayout(r),d=cn(O1(l.getModel("itemStyle"),u,!0),u);if(isNaN(d.startAngle)){s.setShape(d);return}if(a){s.setShape(d);var f=o.getShallow("animationType");o.ecModel.ssr?(mo(s,{scaleX:0,scaleY:0},o,{dataIndex:r,isFrom:!0}),s.originX=d.cx,s.originY=d.cy):f==="scale"?(s.shape.r=u.r0,mo(s,{shape:{r:u.r}},o,r)):i!=null?(s.setShape({startAngle:i,endAngle:i}),mo(s,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},o,r)):(s.shape.endAngle=u.startAngle,Va(s,{shape:{endAngle:u.endAngle}},o,r))}else K6(s),Va(s,{shape:d},o,r);s.useStyle(t.getItemVisual(r,"style")),V6(s,l);var h=(u.startAngle+u.endAngle)/2,p=o.get("selectedOffset"),m=Math.cos(h)*p,v=Math.sin(h)*p,g=l.getShallow("cursor");g&&s.attr("cursor",g),this._updateLabel(o,t,r),s.ensureState("emphasis").shape=cn({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},O1(c.getModel("itemStyle"),u)),cn(s.ensureState("select"),{x:m,y:v,shape:O1(l.getModel(["select","itemStyle"]),u)}),cn(s.ensureState("blur"),{shape:O1(l.getModel(["blur","itemStyle"]),u)});var y=s.getTextGuideLine(),b=s.getTextContent();y&&cn(y.ensureState("select"),{x:m,y:v}),cn(b.ensureState("select"),{x:m,y:v}),H6(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},e.prototype._updateLabel=function(t,r,i){var a=this,s=r.getItemModel(i),o=s.getModel("labelLine"),l=r.getItemVisual(i,"style"),c=l&&l.fill,u=l&&l.opacity;aA(a,J6(s),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(i,"normal")||r.getName(i)});var d=a.getTextContent();a.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var f=t.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new rA,this.setTextGuideLine(h)),lne(this,cne(s),{stroke:c,opacity:J1(o.get(["lineStyle","opacity"]),u,1)})}},e}(Dm),xHe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return e.prototype.render=function(t,r,i,a){var s=t.getData(),o=this._data,l=this.group,c;if(!o&&s.count()>0){for(var u=s.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<s.count();++d)u=s.getItemLayout(d);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&t.get("showEmptyCircle")){var f=new Dm({shape:_ne(t,i)});f.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=f,l.add(f)}s.diff(o).add(function(h){var p=new wHe(s,h,c);s.setItemGraphicEl(h,p),l.add(p)}).update(function(h,p){var m=o.getItemGraphicEl(p);m.updateData(s,h,c),m.off("click"),l.add(m),s.setItemGraphicEl(h,m)}).remove(function(h){var p=o.getItemGraphicEl(h);uM(p,t,h)}).execute(),_He(t),t.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(t,r){var i=r.getData(),a=i.getItemLayout(0);if(a){var s=t[0]-a.cx,o=t[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},e.type="pie",e}(au);const SHe=xHe;function CHe(n,e,t){e=Dn(e)&&{coordDimensions:e}||cn({encodeDefine:n.getEncode()},e);var r=n.getSource(),i=wA(r,e).dimensions,a=new _A(i,n);return a.initData(r,t),a}var MHe=function(){function n(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return n.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},n.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},n.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},n.prototype.getItemVisual=function(e,t){var r=this._getDataWithEncodedVisual();return r.getItemVisual(e,t)},n}();const THe=MHe;var AHe=qi(),EHe=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.init=function(t){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new THe(ii(this.getData,this),ii(this.getRawData,this)),this._defaultLabelLine(t)},e.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return CHe(this,{coordDimensions:["value"],encodeDefaulter:Vi(l7e,this)})},e.prototype.getDataParams=function(t){var r=this.getData(),i=AHe(r),a=i.seats;if(!a){var s=[];r.each(r.mapDimension("value"),function(l){s.push(l)}),a=i.seats=V8e(s,r.hostModel.get("percentPrecision"))}var o=n.prototype.getDataParams.call(this,t);return o.percent=a[t]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(t){JR(t,"labelLine",["show"]);var r=t.labelLine,i=t.emphasis.labelLine;r.show=r.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(pu);const IHe=EHe;function RHe(n){return{seriesType:n,reset:function(e,t){var r=e.getData();r.filterSelf(function(i){var a=r.mapDimension("value"),s=r.get(a,i);return!(Fi(s)&&!isNaN(s)&&s<0)})}}}function xne(n){n.registerChartView(SHe),n.registerSeriesModel(IHe),YFe("pie",n.registerAction),n.registerLayout(Vi(vHe,"pie")),n.registerProcessor(gHe("pie")),n.registerProcessor(RHe("pie"))}var PHe=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Ni);const DHe=PHe;var EP=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",dc).models[0]},e.type="cartesian2dAxis",e}(Ni);Cu(EP,oUe);var Sne={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},kHe=hi({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Sne),A8=hi({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},Sne),LHe=hi({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},A8),NHe=pi({logBase:10},A8);const OHe={category:kHe,value:A8,time:LHe,log:NHe};var BHe={value:1,category:1,time:1,log:1};function UH(n,e,t,r){ut(BHe,function(i,a){var s=hi(hi({},OHe[a],!0),r,!0),o=function(l){wn(c,l);function c(){var u=l!==null&&l.apply(this,arguments)||this;return u.type=e+"Axis."+a,u}return c.prototype.mergeDefaultAndTheme=function(u,d){var f=m_(this),h=f?hA(u):{},p=d.getTheme();hi(u,p.get(a+"Axis")),hi(u,this.getDefaultOption()),u.type=HH(u),f&&xg(u,h,f)},c.prototype.optionUpdated=function(){var u=this.option;u.type==="category"&&(this.__ordinalMeta=TP.createByAxisModel(this))},c.prototype.getCategories=function(u){var d=this.option;if(d.type==="category")return u?d.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=e+"Axis."+a,c.defaultOption=s,c}(t);n.registerComponentModel(o)}),n.registerSubTypeDefaulter(e+"Axis",HH)}function HH(n){return n.type||(n.data?"category":"value")}var FHe=function(){function n(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return n.prototype.getAxis=function(e){return this._axes[e]},n.prototype.getAxes=function(){return dr(this._dimList,function(e){return this._axes[e]},this)},n.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),Oa(this.getAxes(),function(t){return t.scale.type===e})},n.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},n}();const zHe=FHe;var IP=["x","y"];function VH(n){return n.type==="interval"||n.type==="time"}var UHe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=IP,t}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,r=this.getAxis("y").scale;if(!(!VH(t)||!VH(r))){var i=t.getExtent(),a=r.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],c=a[1]-a[0];if(!(!l||!c)){var u=(o[0]-s[0])/l,d=(o[1]-s[1])/c,f=s[0]-i[0]*u,h=s[1]-a[0]*d,p=this._transform=[u,0,0,d,f,h];this._invTransform=uw([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.containZone=function(t,r){var i=this.dataToPoint(t),a=this.dataToPoint(r),s=this.getArea(),o=new Xr(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},e.prototype.dataToPoint=function(t,r,i){i=i||[];var a=t[0],s=t[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return qs(i,t,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,r)),i[1]=l.toGlobalCoord(l.dataToCoord(s,r)),i},e.prototype.clampData=function(t,r){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(t[0]),c=a.parse(t[1]);return r=r||[],r[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),r[1]=Math.min(Math.max(Math.min(o[0],o[1]),c),Math.max(o[0],o[1])),r},e.prototype.pointToData=function(t,r){var i=[];if(this._invTransform)return qs(i,t,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(t[0]),r),i[1]=s.coordToData(s.toLocalCoord(t[1]),r),i},e.prototype.getOtherAxis=function(t){return this.getAxis(t.dim==="x"?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),a=Math.min(r[0],r[1]),s=Math.max(t[0],t[1])-i,o=Math.max(r[0],r[1])-a;return new Xr(i,a,s,o)},e}(zHe),HHe=function(n){wn(e,n);function e(t,r,i,a,s){var o=n.call(this,t,r,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var t=this.position;return t==="top"||t==="bottom"},e.prototype.getGlobalExtent=function(t){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),t&&r[0]>r[1]&&r.reverse(),r},e.prototype.pointToData=function(t,r){return this.coordToData(this.toLocalCoord(t[this.dim==="x"?0:1]),r)},e.prototype.setCategorySortInfo=function(t){if(this.type!=="category")return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(bUe);const VHe=HHe;function RP(n,e,t){t=t||{};var r=n.coordinateSystem,i=e.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,c=i.dim,u=r.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},h=e.get("offset")||0,p=c==="x"?[d[2]-h,d[3]+h]:[d[0]-h,d[1]+h];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));p[f.onZero]=Math.max(Math.min(m,p[1]),p[0])}a.position=[c==="y"?p[f[l]]:d[0],c==="x"?p[f[l]]:d[3]],a.rotation=Math.PI/2*(c==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=v[o],a.labelOffset=s?p[f[o]]-p[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),o_(t.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var g=e.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-g:g,a.z2=1,a}function $H(n){return n.get("coordinateSystem")==="cartesian2d"}function GH(n){var e={xAxisModel:null,yAxisModel:null};return ut(e,function(t,r){var i=r.replace(/Model$/,""),a=n.getReferringComponents(i,dc).models[0];e[r]=a}),e}var g4=Math.log;function $He(n,e,t){var r=yw.prototype,i=r.getTicks.call(t),a=r.getTicks.call(t,!0),s=i.length-1,o=r.getInterval.call(t),l=Qte(n,e),c=l.extent,u=l.fixMin,d=l.fixMax;if(n.type==="log"){var f=g4(n.base);c=[g4(c[0])/f,g4(c[1])/f]}n.setExtent(c[0],c[1]),n.calcNiceExtent({splitNumber:s,fixMin:u,fixMax:d});var h=r.getExtent.call(n);u&&(c[0]=h[0]),d&&(c[1]=h[1]);var p=r.getInterval.call(n),m=c[0],v=c[1];if(u&&d)p=(v-m)/s;else if(u)for(v=c[0]+p*s;v<c[1]&&isFinite(v)&&isFinite(c[1]);)p=l4(p),v=c[0]+p*s;else if(d)for(m=c[1]-p*s;m>c[0]&&isFinite(m)&&isFinite(c[0]);)p=l4(p),m=c[1]-p*s;else{var g=n.getTicks().length-1;g>s&&(p=l4(p));var y=p*s;v=Math.ceil(c[1]/p)*p,m=va(v-y),m<0&&c[0]>=0?(m=0,v=va(y)):v>0&&c[1]<=0&&(v=0,m=-va(y))}var b=(i[0].value-a[0].value)/o,_=(i[s].value-a[s].value)/o;r.setExtent.call(n,m+p*b,v+p*_),r.setInterval.call(n,p),(b||_)&&r.setNiceExtent.call(n,m+p,v-p)}var GHe=function(){function n(e,t,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=IP,this._initCartesian(e,t,r),this.model=e}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(e,t){var r=this._axesMap;this._updateScale(e,this.model);function i(s){var o,l=ki(s),c=l.length;if(c){for(var u=[],d=c-1;d>=0;d--){var f=+l[d],h=s[f],p=h.model,m=h.scale;AP(m)&&p.get("alignTicks")&&p.get("interval")==null?u.push(h):(yH(m,p),AP(m)&&(o=h))}u.length&&(o||(o=u.pop(),yH(o.scale,o.model)),ut(u,function(v){$He(v.scale,v.model,o.scale)}))}}i(r.x),i(r.y);var a={};ut(r.x,function(s){WH(r,"y",s,a)}),ut(r.y,function(s){WH(r,"x",s,a)}),this.resize(this.model,t)},n.prototype.resize=function(e,t,r){var i=e.getBoxLayoutParams(),a=!r&&e.get("containLabel"),s=lh(i,{width:t.getWidth(),height:t.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(ut(o,function(c){if(!c.model.get(["axisLabel","inside"])){var u=iUe(c);if(u){var d=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);s[d]-=u[d]+f,c.position==="top"?s.y+=u.height+f:c.position==="left"&&(s.x+=u.width+f)}}}),l()),ut(this._coordsList,function(c){c.calcAffineTransform()});function l(){ut(o,function(c){var u=c.isHorizontal(),d=u?[0,s.width]:[0,s.height],f=c.inverse?1:0;c.setExtent(d[f],d[1-f]),WHe(c,u?s.x:s.y)})}},n.prototype.getAxis=function(e,t){var r=this._axesMap[e];if(r!=null)return r[t||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(e,t){if(e!=null&&t!=null){var r="x"+e+"y"+t;return this._coordsMap[r]}or(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(e,t,r){var i=this._findConvertTarget(t);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(e){var t=e.seriesModel,r=e.xAxisModel||t&&t.getReferringComponents("xAxis",dc).models[0],i=e.yAxisModel||t&&t.getReferringComponents("yAxis",dc).models[0],a=e.gridModel,s=this._coordsList,o,l;if(t)o=t.coordinateSystem,di(s,o)<0&&(o=null);else if(r&&i)o=this.getCartesian(r.componentIndex,i.componentIndex);else if(r)l=this.getAxis("x",r.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var c=a.coordinateSystem;c===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},n.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},n.prototype._initCartesian=function(e,t,r){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,ut(o.x,function(u,d){ut(o.y,function(f,h){var p="x"+d+"y"+h,m=new UHe(p);m.master=i,m.model=e,i._coordsMap[p]=m,i._coordsList.push(m),m.addAxis(u),m.addAxis(f)})});function c(u){return function(d,f){if(y4(d,e)){var h=d.get("position");u==="x"?h!=="top"&&h!=="bottom"&&(h=s.bottom?"top":"bottom"):h!=="left"&&h!=="right"&&(h=s.left?"right":"left"),s[h]=!0;var p=new VHe(u,nUe(d),[0,0],d.get("type"),h),m=p.type==="category";p.onBand=m&&d.get("boundaryGap"),p.inverse=d.get("inverse"),d.axis=p,p.model=d,p.grid=a,p.index=f,a._axesList.push(p),o[u][f]=p,l[u]++}}}},n.prototype._updateScale=function(e,t){ut(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),e.eachSeries(function(i){if($H(i)){var a=GH(i),s=a.xAxisModel,o=a.yAxisModel;if(!y4(s,t)||!y4(o,t))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),c=i.getData(),u=l.getAxis("x"),d=l.getAxis("y");r(c,u),r(c,d)}},this);function r(i,a){ut(sUe(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},n.prototype.getTooltipAxes=function(e){var t=[],r=[];return ut(this.getCartesians(),function(i){var a=e!=null&&e!=="auto"?i.getAxis(e):i.getBaseAxis(),s=i.getOtherAxis(a);di(t,a)<0&&t.push(a),di(r,s)<0&&r.push(s)}),{baseAxes:t,otherAxes:r}},n.create=function(e,t){var r=[];return e.eachComponent("grid",function(i,a){var s=new n(i,e,t);s.name="grid_"+a,s.resize(i,t,!0),i.coordinateSystem=s,r.push(s)}),e.eachSeries(function(i){if($H(i)){var a=GH(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),c=l.coordinateSystem;i.coordinateSystem=c.getCartesian(s.componentIndex,o.componentIndex)}}),r},n.dimensions=IP,n}();function y4(n,e){return n.getCoordSysModel()===e}function WH(n,e,t,r){t.getAxesOnZeroOf=function(){return a?[a]:[]};var i=n[e],a,s=t.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)qH(i[l])&&(a=i[l]);else for(var c in i)if(i.hasOwnProperty(c)&&qH(i[c])&&!r[u(i[c])]){a=i[c];break}a&&(r[u(a)]=!0);function u(d){return d.dim+"_"+d.index}}function qH(n){return n&&n.type!=="category"&&n.type!=="time"&&rUe(n)}function WHe(n,e){var t=n.getExtent(),r=t[0]+t[1];n.toGlobalCoord=n.dim==="x"?function(i){return i+e}:function(i){return r-i+e},n.toLocalCoord=n.dim==="x"?function(i){return i-e}:function(i){return r-i+e}}const qHe=GHe;var Pf=Math.PI,em=function(){function n(e,t){this.group=new wo,this.opt=t,this.axisModel=e,pi(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new wo({x:t.position[0],y:t.position[1],rotation:t.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(e){return!!KH[e]},n.prototype.add=function(e){KH[e](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(e,t,r){var i=lJ(t-e),a,s;return rM(i)?(s=r>0?"top":"bottom",a="center"):rM(i-Pf)?(s=r>0?"bottom":"top",a="center"):(s="middle",i>0&&i<Pf?a=r>0?"right":"left":a=r>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},n.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},n.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},n}(),KH={axisLine:function(n,e,t,r){var i=e.get(["axisLine","show"]);if(i==="auto"&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),!!i){var a=e.axis.getExtent(),s=r.transform,o=[a[0],0],l=[a[1],0],c=o[0]>l[0];s&&(qs(o,o,s),qs(l,l,s));var u=cn({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new mm({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});d_(d.shape,d.style.lineWidth),d.anid="line",t.add(d);var f=e.get(["axisLine","symbol"]);if(f!=null){var h=e.get(["axisLine","symbolSize"]);Qn(f)&&(f=[f,f]),(Qn(h)||Fi(h))&&(h=[h,h]);var p=cte(e.get(["axisLine","symbolOffset"])||0,h),m=h[0],v=h[1];ut([{rotate:n.rotation+Math.PI/2,offset:p[0],r:0},{rotate:n.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(g,y){if(f[y]!=="none"&&f[y]!=null){var b=yA(f[y],-m/2,-v/2,m,v,u.stroke,!0),_=g.r+g.offset,x=c?l:o;b.attr({rotation:g.rotate,x:x[0]+_*Math.cos(n.rotation),y:x[1]-_*Math.sin(n.rotation),silent:!0,z2:11}),t.add(b)}})}}},axisTickLabel:function(n,e,t,r){var i=XHe(t,r,e,n),a=ZHe(t,r,e,n);if(YHe(e,a,i),jHe(t,r,e,n.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=une(dr(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));hne(s)}},axisName:function(n,e,t,r){var i=o_(n.axisName,e.get("name"));if(i){var a=e.get("nameLocation"),s=n.nameDirection,o=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,c=e.axis.getExtent(),u=c[0]>c[1]?-1:1,d=[a==="start"?c[0]-u*l:a==="end"?c[1]+u*l:(c[0]+c[1])/2,XH(a)?n.labelOffset+s*l:0],f,h=e.get("nameRotate");h!=null&&(h=h*Pf/180);var p;XH(a)?f=em.innerTextLayout(n.rotation,h??n.rotation,s):(f=KHe(n.rotation,a,h||0,c),p=n.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var m=o.getFont(),v=e.get("nameTruncate",!0)||{},g=v.ellipsis,y=o_(n.nameTruncateMaxWidth,v.maxWidth,p),b=new Es({x:d[0],y:d[1],rotation:f.rotation,silent:em.isLabelSilent(e),style:wd(o,{text:i,font:m,overflow:"truncate",width:y,ellipsis:g,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Z6({el:b,componentModel:e,itemName:i}),b.__fullText=i,b.anid="name",e.get("triggerEvent")){var _=em.makeAxisEventDataBase(e);_.targetType="axisName",_.name=i,fi(b).eventData=_}r.add(b),b.updateTransform(),t.add(b),b.decomposeTransform()}}};function KHe(n,e,t,r){var i=lJ(t-n),a,s,o=r[0]>r[1],l=e==="start"&&!o||e!=="start"&&o;return rM(i-Pf/2)?(s=l?"bottom":"top",a="center"):rM(i-Pf*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<Pf*1.5&&i>Pf/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function YHe(n,e,t){if(!Jte(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]);e=e||[],t=t||[];var a=e[0],s=e[1],o=e[e.length-1],l=e[e.length-2],c=t[0],u=t[1],d=t[t.length-1],f=t[t.length-2];r===!1?(el(a),el(c)):YH(a,s)&&(r?(el(s),el(u)):(el(a),el(c))),i===!1?(el(o),el(d)):YH(l,o)&&(i?(el(l),el(f)):(el(o),el(d)))}}function el(n){n&&(n.ignore=!0)}function YH(n,e){var t=n&&n.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(!(!t||!r)){var i=T6([]);return A6(i,i,-n.rotation),t.applyTransform(Hv([],i,n.getLocalTransform())),r.applyTransform(Hv([],i,e.getLocalTransform())),t.intersect(r)}}function XH(n){return n==="middle"||n==="center"}function Cne(n,e,t,r,i){for(var a=[],s=[],o=[],l=0;l<n.length;l++){var c=n[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=t,e&&(qs(s,s,e),qs(o,o,e));var u=new mm({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:r,z2:2,autoBatch:!0,silent:!0});d_(u.shape,u.style.lineWidth),u.anid=i+"_"+n[l].tickValue,a.push(u)}return a}function XHe(n,e,t,r){var i=t.axis,a=t.getModel("axisTick"),s=a.get("show");if(s==="auto"&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=r.tickDirection*a.get("length"),c=i.getTicksCoords(),u=Cne(c,e.transform,l,pi(o.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),d=0;d<u.length;d++)n.add(u[d]);return u}}function jHe(n,e,t,r){var i=t.axis,a=t.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=r*a.get("length"),c=pi(o.getLineStyle(),pi(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<s.length;u++)for(var d=Cne(s[u],e.transform,l,c,"minorticks_"+u),f=0;f<d.length;f++)n.add(d[f])}}function ZHe(n,e,t,r){var i=t.axis,a=o_(r.axisLabelShow,t.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=t.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),c=(o_(r.labelRotate,s.get("rotate"))||0)*Pf/180,u=em.innerTextLayout(r.rotation,c,r.labelDirection),d=t.getCategories&&t.getCategories(!0),f=[],h=em.isLabelSilent(t),p=t.get("triggerEvent");return ut(l,function(m,v){var g=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,y=m.formattedLabel,b=m.rawLabel,_=s;if(d&&d[g]){var x=d[g];or(x)&&x.textStyle&&(_=new Ja(x.textStyle,s,t.ecModel))}var S=_.getTextColor()||t.get(["axisLine","lineStyle","color"]),T=i.dataToCoord(g),C=new Es({x:T,y:r.labelOffset+r.labelDirection*o,rotation:u.rotation,silent:h,z2:10+(m.level||0),style:wd(_,{text:y,align:_.getShallow("align",!0)||u.textAlign,verticalAlign:_.getShallow("verticalAlign",!0)||_.getShallow("baseline",!0)||u.textVerticalAlign,fill:wr(S)?S(i.type==="category"?b:i.type==="value"?g+"":g,v):S})});if(C.anid="label_"+g,p){var M=em.makeAxisEventDataBase(t);M.targetType="axisLabel",M.value=b,M.tickIndex=v,i.type==="category"&&(M.dataIndex=g),fi(C).eventData=M}e.add(C),C.updateTransform(),f.push(C),n.add(C),C.decomposeTransform()}),f}}const Mne=em;function QHe(n,e){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return JHe(t,n,e),t.seriesInvolved&&tVe(t,n),t}function JHe(n,e,t){var r=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];ut(t.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=__(o.model),c=n.coordSysAxesInfo[l]={};n.coordSysMap[l]=o;var u=o.model,d=u.getModel("tooltip",r);if(ut(o.getAxes(),Vi(m,!1,null)),o.getTooltipAxes&&r&&d.get("show")){var f=d.get("trigger")==="axis",h=d.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(d.get(["axisPointer","axis"]));(f||h)&&ut(p.baseAxes,Vi(m,h?"cross":!0,f)),h&&ut(p.otherAxes,Vi(m,"cross",!1))}function m(v,g,y){var b=y.model.getModel("axisPointer",i),_=b.get("show");if(!(!_||_==="auto"&&!v&&!PP(b))){g==null&&(g=b.get("triggerTooltip")),b=v?eVe(y,d,i,e,v,g):b;var x=b.get("snap"),S=b.get("triggerEmphasis"),T=__(y.model),C=g||x||y.type==="category",M=n.axesInfo[T]={key:T,axis:y,coordSys:o,axisPointerModel:b,triggerTooltip:g,triggerEmphasis:S,involveSeries:C,snap:x,useHandle:PP(b),seriesModels:[],linkGroup:null};c[T]=M,n.seriesInvolved=n.seriesInvolved||C;var A=nVe(a,y);if(A!=null){var I=s[A]||(s[A]={axesInfo:{}});I.axesInfo[T]=M,I.mapper=a[A].mapper,M.linkGroup=I}}}})}function eVe(n,e,t,r,i,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};ut(o,function(f){l[f]=Qr(s.get(f))}),l.snap=n.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var c=l.label||(l.label={});if(c.show==null&&(c.show=!1),i==="cross"){var u=s.get(["label","show"]);if(c.show=u??!0,!a){var d=l.lineStyle=s.get("crossStyle");d&&pi(c,d.textStyle)}}return n.model.getModel("axisPointer",new Ja(l,t,r))}function tVe(n,e){e.eachSeries(function(t){var r=t.coordinateSystem,i=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!r||i==="none"||i===!1||i==="item"||a===!1||t.get(["axisPointer","show"],!0)===!1||ut(n.coordSysAxesInfo[__(r.model)],function(s){var o=s.axis;r.getAxis(o.dim)===o&&(s.seriesModels.push(t),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=t.getData().count())})})}function nVe(n,e){for(var t=e.model,r=e.dim,i=0;i<n.length;i++){var a=n[i]||{};if(b4(a[r+"AxisId"],t.id)||b4(a[r+"AxisIndex"],t.componentIndex)||b4(a[r+"AxisName"],t.name))return i}}function b4(n,e){return n==="all"||Dn(n)&&di(n,e)>=0||n===e}function rVe(n){var e=E8(n);if(e){var t=e.axisPointerModel,r=e.axis.scale,i=t.option,a=t.get("status"),s=t.get("value");s!=null&&(s=r.parse(s));var o=PP(t);a==null&&(i.status=o?"show":"hide");var l=r.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function E8(n){var e=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[__(n)]}function iVe(n){var e=E8(n);return e&&e.axisPointerModel}function PP(n){return!!n.get(["handle","show"])}function __(n){return n.type+"||"+n.id}var jH={},aVe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i,a){this.axisPointerClass&&rVe(t),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,i,!0)},e.prototype.updateAxisPointer=function(t,r,i,a){this._doUpdateAxisPointerClass(t,i,!1)},e.prototype.remove=function(t,r){var i=this._axisPointer;i&&i.remove(r)},e.prototype.dispose=function(t,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,r,i){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=iVe(t);s?(this._axisPointer||(this._axisPointer=new a)).render(t,s,r,i):this._disposeAxisPointer(r)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,r){jH[t]=r},e.getAxisPointerClass=function(t){return t&&jH[t]},e.type="axis",e}(mu);const Tne=aVe;var DP=qi();function sVe(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=r.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=o.length,d=DP(n).splitAreaColors,f=Dr(),h=0;if(d)for(var p=0;p<c.length;p++){var m=d.get(c[p].tickValue);if(m!=null){h=(m+(u-1)*p)%u;break}}var v=i.toGlobalCoord(c[0].coord),g=s.getAreaStyle();o=Dn(o)?o:[o];for(var p=1;p<c.length;p++){var y=i.toGlobalCoord(c[p].coord),b=void 0,_=void 0,x=void 0,S=void 0;i.isHorizontal()?(b=v,_=l.y,x=y-b,S=l.height,v=b+x):(b=l.x,_=v,x=l.width,S=y-_,v=_+S);var T=c[p-1].tickValue;T!=null&&f.set(T,h),e.add(new Ra({anid:T!=null?"area_"+T:null,shape:{x:b,y:_,width:x,height:S},style:pi({fill:o[h]},g),autoBatch:!0,silent:!0})),h=(h+1)%u}DP(n).splitAreaColors=f}}}function oVe(n){DP(n).splitAreaColors=null}var lVe=["axisLine","axisTickLabel","axisName"],cVe=["splitArea","splitLine","minorSplitLine"],Ane=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.axisPointerClass="CartesianAxisPointer",t}return e.prototype.render=function(t,r,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new wo,this.group.add(this._axisGroup),!!t.get("show")){var o=t.getCoordSysModel(),l=RP(o,t),c=new Mne(t,cn({handleAutoShown:function(d){for(var f=o.coordinateSystem.getCartesians(),h=0;h<f.length;h++)if(AP(f[h].getOtherAxis(t.axis).scale))return!0;return!1}},l));ut(lVe,c.add,c),this._axisGroup.add(c.getGroup()),ut(cVe,function(d){t.get([d,"show"])&&uVe[d](this,this._axisGroup,t,o)},this);var u=a&&a.type==="changeAxisOrder"&&a.isInitSort;u||oee(s,this._axisGroup,t),n.prototype.render.call(this,t,r,i,a)}},e.prototype.remove=function(){oVe(this)},e.type="cartesianAxis",e}(Tne),uVe={splitLine:function(n,e,t,r){var i=t.axis;if(!i.scale.isBlank()){var a=t.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=Dn(o)?o:[o];for(var l=r.coordinateSystem.getRect(),c=i.isHorizontal(),u=0,d=i.getTicksCoords({tickModel:a}),f=[],h=[],p=s.getLineStyle(),m=0;m<d.length;m++){var v=i.toGlobalCoord(d[m].coord);c?(f[0]=v,f[1]=l.y,h[0]=v,h[1]=l.y+l.height):(f[0]=l.x,f[1]=v,h[0]=l.x+l.width,h[1]=v);var g=u++%o.length,y=d[m].tickValue,b=new mm({anid:y!=null?"line_"+d[m].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:h[0],y2:h[1]},style:pi({stroke:o[g]},p),silent:!0});d_(b.shape,p.lineWidth),e.add(b)}}},minorSplitLine:function(n,e,t,r){var i=t.axis,a=t.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=r.coordinateSystem.getRect(),l=i.isHorizontal(),c=i.getMinorTicksCoords();if(c.length)for(var u=[],d=[],f=s.getLineStyle(),h=0;h<c.length;h++)for(var p=0;p<c[h].length;p++){var m=i.toGlobalCoord(c[h][p].coord);l?(u[0]=m,u[1]=o.y,d[0]=m,d[1]=o.y+o.height):(u[0]=o.x,u[1]=m,d[0]=o.x+o.width,d[1]=m);var v=new mm({anid:"minor_line_"+c[h][p].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:f,silent:!0});d_(v.shape,f.lineWidth),e.add(v)}},splitArea:function(n,e,t,r){sVe(n,e,t,r)}},Ene=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="xAxis",e}(Ane),dVe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=Ene.type,t}return e.type="yAxis",e}(Ane),fVe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="grid",t}return e.prototype.render=function(t,r){this.group.removeAll(),t.get("show")&&this.group.add(new Ra({shape:t.coordinateSystem.getRect(),style:pi({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(mu),ZH={offset:0};function hVe(n){n.registerComponentView(fVe),n.registerComponentModel(DHe),n.registerCoordinateSystem("cartesian2d",qHe),UH(n,"x",EP,ZH),UH(n,"y",EP,ZH),n.registerComponentView(Ene),n.registerComponentView(dVe),n.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}var QH="\0_ec_interaction_mutex";function JH(n,e){return!!pVe(n)[e]}function pVe(n){return n[QH]||(n[QH]={})}Lm({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Ws);var mVe=function(n){wn(e,n);function e(t){var r=n.call(this)||this;r._zr=t;var i=ii(r._mousedownHandler,r),a=ii(r._mousemoveHandler,r),s=ii(r._mouseupHandler,r),o=ii(r._mousewheelHandler,r),l=ii(r._pinchHandler,r);return r.enable=function(c,u){this.disable(),this._opt=pi(Qr(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),c==null&&(c=!0),(c===!0||c==="move"||c==="pan")&&(t.on("mousedown",i),t.on("mousemove",a),t.on("mouseup",s)),(c===!0||c==="scale"||c==="zoom")&&(t.on("mousewheel",o),t.on("pinch",l))},r.disable=function(){t.off("mousedown",i),t.off("mousemove",a),t.off("mouseup",s),t.off("mousewheel",o),t.off("pinch",l)},r}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(t){this.pointerChecker=t},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(t){if(!$9(t)){for(var r=t.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!j2("moveOnMouseMove",t,this._opt)||t.gestureEvent==="pinch"||JH(this._zr,"globalPan"))){var r=t.offsetX,i=t.offsetY,a=this._x,s=this._y,o=r-a,l=i-s;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&ZT(t.event),Ine(this,"pan","moveOnMouseMove",t,{dx:o,dy:l,oldX:a,oldY:s,newX:r,newY:i,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(t){$9(t)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(t){var r=j2("zoomOnMouseWheel",t,this._opt),i=j2("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,s=Math.abs(a),o=t.offsetX,l=t.offsetY;if(!(a===0||!r&&!i)){if(r){var c=s>3?1.4:s>1?1.2:1.1,u=a>0?c:1/c;_4(this,"zoom","zoomOnMouseWheel",t,{scale:u,originX:o,originY:l,isAvailableBehavior:null})}if(i){var d=Math.abs(a),f=(a>0?1:-1)*(d>3?.4:d>1?.15:.05);_4(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(t){if(!JH(this._zr,"globalPan")){var r=t.pinchScale>1?1.1:1/1.1;_4(this,"zoom",null,t,{scale:r,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},e}(Ac);function _4(n,e,t,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(ZT(r.event),Ine(n,e,t,r,i))}function Ine(n,e,t,r,i){i.isAvailableBehavior=ii(j2,null,t,r),n.trigger(e,i)}function j2(n,e,t){var r=t[n];return!n||r&&(!Qn(r)||e.event[r+"Key"])}const vVe=mVe;function gVe(n,e,t){var r=n.target;r.x+=e,r.y+=t,r.dirty()}function yVe(n,e,t,r){var i=n.target,a=n.zoomLimit,s=n.zoom=n.zoom||1;if(s*=e,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var c=s/n.zoom;n.zoom=s,i.x-=(t-i.x)*(c-1),i.y-=(r-i.y)*(c-1),i.scaleX*=c,i.scaleY*=c,i.dirty()}var bVe={axisPointer:1,tooltip:1,brush:1};function _Ve(n,e,t){var r=e.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==t&&!bVe.hasOwnProperty(r.mainType)&&i&&i.model!==t}var eV=qs,wVe=function(n){wn(e,n);function e(t){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new Rf,r._rawTransformable=new Rf,r.name=t,r}return e.prototype.setBoundingRect=function(t,r,i,a){return this._rect=new Xr(t,r,i,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(t,r,i,a){this._transformTo(t,r,i,a),this._viewRect=new Xr(t,r,i,a)},e.prototype._transformTo=function(t,r,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new Xr(t,r,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},e.prototype.setCenter=function(t,r){t&&(this._center=[bi(t[0],r.getWidth()),bi(t[1],r.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(t){t=t||1;var r=this.zoomLimit;r&&(r.max!=null&&(t=Math.min(r.max,t)),r.min!=null&&(t=Math.max(r.min,t))),this._zoom=t,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var t=this.getBoundingRect(),r=t.x+t.width/2,i=t.y+t.height/2;return[r,i]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=qs([],a,t),i=qs([],i,t),r.originX=a[0],r.originY=a[1],r.x=i[0]-a[0],r.y=i[1]-a[1],r.scaleX=r.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var t=this._roamTransformable,r=this._rawTransformable;r.parent=t,t.updateTransform(),r.updateTransform(),BQ(this.transform||(this.transform=[]),r.transform||wg()),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],uw(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var t=this._rawTransformable,r=this._roamTransformable,i=new Rf;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},e.prototype.dataToPoint=function(t,r,i){var a=r?this._rawTransform:this.transform;return i=i||[],a?eV(i,t,a):g6e(i,t)},e.prototype.pointToData=function(t){var r=this.invTransform;return r?eV([],t,r):[t[0],t[1]]},e.prototype.convertToPixel=function(t,r,i){var a=tV(r);return a===this?a.dataToPoint(i):null},e.prototype.convertFromPixel=function(t,r,i){var a=tV(r);return a===this?a.pointToData(i):null},e.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},e.dimensions=["x","y"],e}(Rf);function tV(n){var e=n.seriesModel;return e?e.coordinateSystem:null}const xVe=wVe;function nV(n,e){return n.pointToProjected?n.pointToProjected(e):n.pointToData(e)}function SVe(n,e,t,r){var i=n.getZoom(),a=n.getCenter(),s=e.zoom,o=n.projectedToPoint?n.projectedToPoint(a):n.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,n.setCenter(nV(n,o),r)),s!=null){if(t){var l=t.min||0,c=t.max||1/0;s=Math.max(Math.min(i*s,c),l)/i}n.scaleX*=s,n.scaleY*=s;var u=(e.originX-n.x)*(s-1),d=(e.originY-n.y)*(s-1);n.x-=u,n.y-=d,n.updateTransform(),n.setCenter(nV(n,o),r),n.setZoom(s*i)}return{center:n.getCenter(),zoom:n.getZoom()}}function CVe(n){var e=n;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var t=[e],r,i;r=t.pop();)if(i=r.children,r.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},t.push(o)}}function MVe(n,e){var t=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(t.length){EVe(n);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+e(n,i),n.hierNode.modifier=n.hierNode.prelim-a):n.hierNode.prelim=a}else i&&(n.hierNode.prelim=i.hierNode.prelim+e(n,i));n.parentNode.hierNode.defaultAncestor=IVe(n,i,n.parentNode.hierNode.defaultAncestor||r[0],e)}function TVe(n){var e=n.hierNode.prelim+n.parentNode.hierNode.modifier;n.setLayout({x:e},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function rV(n){return arguments.length?n:DVe}function B1(n,e){return n-=Math.PI/2,{x:e*Math.cos(n),y:e*Math.sin(n)}}function AVe(n,e){return lh(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function EVe(n){for(var e=n.children,t=e.length,r=0,i=0;--t>=0;){var a=e[t];a.hierNode.prelim+=r,a.hierNode.modifier+=r,i+=a.hierNode.change,r+=a.hierNode.shift+i}}function IVe(n,e,t,r){if(e){for(var i=n,a=n,s=a.parentNode.children[0],o=e,l=i.hierNode.modifier,c=a.hierNode.modifier,u=s.hierNode.modifier,d=o.hierNode.modifier;o=w4(o),a=x4(a),o&&a;){i=w4(i),s=x4(s),i.hierNode.ancestor=n;var f=o.hierNode.prelim+d-a.hierNode.prelim-c+r(o,a);f>0&&(PVe(RVe(o,n,t),n,f),c+=f,l+=f),d+=o.hierNode.modifier,c+=a.hierNode.modifier,l+=i.hierNode.modifier,u+=s.hierNode.modifier}o&&!w4(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=d-l),a&&!x4(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=c-u,t=n)}return t}function w4(n){var e=n.children;return e.length&&n.isExpand?e[e.length-1]:n.hierNode.thread}function x4(n){var e=n.children;return e.length&&n.isExpand?e[0]:n.hierNode.thread}function RVe(n,e,t){return n.hierNode.ancestor.parentNode===e.parentNode?n.hierNode.ancestor:t}function PVe(n,e,t){var r=t/(e.hierNode.i-n.hierNode.i);e.hierNode.change-=r,e.hierNode.shift+=t,e.hierNode.modifier+=t,e.hierNode.prelim+=t,n.hierNode.change+=r}function DVe(n,e){return n.parentNode===e.parentNode?1:2}var kVe=function(){function n(){this.parentPoint=[],this.childPoints=[]}return n}(),LVe=function(n){wn(e,n);function e(t){return n.call(this,t)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new kVe},e.prototype.buildPath=function(t,r){var i=r.childPoints,a=i.length,s=r.parentPoint,o=i[0],l=i[a-1];if(a===1){t.moveTo(s[0],s[1]),t.lineTo(o[0],o[1]);return}var c=r.orient,u=c==="TB"||c==="BT"?0:1,d=1-u,f=bi(r.forkPosition,1),h=[];h[u]=s[u],h[d]=s[d]+(l[d]-s[d])*f,t.moveTo(s[0],s[1]),t.lineTo(h[0],h[1]),t.moveTo(o[0],o[1]),h[u]=o[u],t.lineTo(h[0],h[1]),h[u]=l[u],t.lineTo(h[0],h[1]),t.lineTo(l[0],l[1]);for(var p=1;p<a-1;p++){var m=i[p];t.moveTo(m[0],m[1]),h[u]=m[u],t.lineTo(h[0],h[1])}},e}(wi),NVe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t._mainGroup=new wo,t}return e.prototype.init=function(t,r){this._controller=new vVe(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(t,r,i){var a=t.getData(),s=t.layoutInfo,o=this._mainGroup,l=t.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(t,i),this._updateController(t,r,i);var c=this._data;a.diff(c).add(function(u){iV(a,u)&&aV(a,u,null,o,t)}).update(function(u,d){var f=c.getItemGraphicEl(d);if(!iV(a,u)){f&&oV(c,d,f,o,t);return}aV(a,u,f,o,t)}).remove(function(u){var d=c.getItemGraphicEl(u);d&&oV(c,u,d,o,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),t.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(u,d){u.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:d})})}),this._data=a},e.prototype._updateViewCoordSys=function(t,r){var i=t.getData(),a=[];i.each(function(d){var f=i.getItemLayout(d);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var s=[],o=[];DNe(a,s,o);var l=this._min,c=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=c?c[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=c?c[1]:o[1]+1);var u=t.coordinateSystem=new xVe;u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),u.setCenter(t.get("center"),r),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(t,r,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(c,u,d){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(u,d)&&!_Ve(c,i,t)}),s.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(c){gVe(o,c.dx,c.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){yVe(o,c.scale,c.originX,c.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(t),i.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(t){var r=t.getData(),i=this._getNodeGlobalScale(t);r.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},e.prototype._getNodeGlobalScale=function(t){var r=t.coordinateSystem;if(r.type!=="view")return 1;var i=this._nodeScaleRatio,a=r.scaleX||1,s=r.getZoom(),o=(s-1)*i+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(au);function iV(n,e){var t=n.getItemLayout(e);return t&&!isNaN(t.x)&&!isNaN(t.y)}function aV(n,e,t,r,i){var a=!t,s=n.tree.getNodeByDataIndex(e),o=s.getModel(),l=s.getVisual("style").fill,c=s.isExpand===!1&&s.children.length!==0?l:"#fff",u=n.tree.root,d=s.parentNode===u?s:s.parentNode||s,f=n.getItemGraphicEl(d.dataIndex),h=d.getLayout(),p=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:h,m=s.getLayout();a?(t=new WUe(n,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.x=p.x,t.y=p.y):t.updateData(n,e,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=m.rawX,t.__radialRawY=m.rawY,r.add(t),n.setItemGraphicEl(e,t),t.__oldX=t.x,t.__oldY=t.y,Va(t,{x:m.x,y:m.y},i);var v=t.getSymbolPath();if(i.get("layout")==="radial"){var g=u.children[0],y=g.getLayout(),b=g.children.length,_=void 0,x=void 0;if(m.x===y.x&&s.isExpand===!0&&g.children.length){var S={x:(g.children[0].getLayout().x+g.children[b-1].getLayout().x)/2,y:(g.children[0].getLayout().y+g.children[b-1].getLayout().y)/2};_=Math.atan2(S.y-y.y,S.x-y.x),_<0&&(_=Math.PI*2+_),x=S.x<y.x,x&&(_=_-Math.PI)}else _=Math.atan2(m.y-y.y,m.x-y.x),_<0&&(_=Math.PI*2+_),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(x=m.x<y.x,x&&(_=_-Math.PI)):(x=m.x>y.x,x||(_=_-Math.PI));var T=x?"left":"right",C=o.getModel("label"),M=C.get("rotate"),A=M*(Math.PI/180),I=v.getTextContent();I&&(v.setTextConfig({position:C.get("position")||T,rotation:M==null?-_:A,origin:"center"}),I.setStyle("verticalAlign","middle"))}var D=o.get(["emphasis","focus"]),L=D==="relative"?LQ(s.getAncestorsIndices(),s.getDescendantIndices()):D==="ancestor"?s.getAncestorsIndices():D==="descendant"?s.getDescendantIndices():null;L&&(fi(t).focus=L),OVe(i,s,u,t,p,h,m,r),t.__edge&&(t.onHoverStateChange=function(F){if(F!=="blur"){var B=s.parentNode&&n.getItemGraphicEl(s.parentNode.dataIndex);B&&B.hoverState===vw||mOe(t.__edge,F)}})}function OVe(n,e,t,r,i,a,s,o){var l=e.getModel(),c=n.get("edgeShape"),u=n.get("layout"),d=n.getOrient(),f=n.get(["lineStyle","curveness"]),h=n.get("edgeForkPosition"),p=l.getModel("lineStyle").getLineStyle(),m=r.__edge;if(c==="curve")e.parentNode&&e.parentNode!==t&&(m||(m=r.__edge=new G6({shape:kP(u,d,f,i,i)})),Va(m,{shape:kP(u,d,f,a,s)},n));else if(c==="polyline"&&u==="orthogonal"&&e!==t&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var v=e.children,g=[],y=0;y<v.length;y++){var b=v[y].getLayout();g.push([b.x,b.y])}m||(m=r.__edge=new LVe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:d,forkPosition:h}})),Va(m,{shape:{parentPoint:[s.x,s.y],childPoints:g}},n)}m&&!(c==="polyline"&&!e.isExpand)&&(m.useStyle(pi({strokeNoScale:!0,fill:null},p)),V6(m,l,"lineStyle"),kJ(m),o.add(m))}function sV(n,e,t,r,i){var a=e.tree.root,s=Rne(a,n),o=s.source,l=s.sourceLayout,c=e.getItemGraphicEl(n.dataIndex);if(c){var u=e.getItemGraphicEl(o.dataIndex),d=u.__edge,f=c.__edge||(o.isExpand===!1||o.children.length===1?d:void 0),h=r.get("edgeShape"),p=r.get("layout"),m=r.get("orient"),v=r.get(["lineStyle","curveness"]);f&&(h==="curve"?vm(f,{shape:kP(p,m,v,l,l),style:{opacity:0}},r,{cb:function(){t.remove(f)},removeOpt:i}):h==="polyline"&&r.get("layout")==="orthogonal"&&vm(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},r,{cb:function(){t.remove(f)},removeOpt:i}))}}function Rne(n,e){for(var t=e.parentNode===n?e:e.parentNode||e,r;r=t.getLayout(),r==null;)t=t.parentNode===n?t:t.parentNode||t;return{source:t,sourceLayout:r}}function oV(n,e,t,r,i){var a=n.tree.getNodeByDataIndex(e),s=n.tree.root,o=Rne(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};vm(t,{x:o.x+1,y:o.y+1},i,{cb:function(){r.remove(t),n.setItemGraphicEl(e,null)},removeOpt:l}),t.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(c){sV(c,n,r,i,l)}),sV(a,n,r,i,l)}function kP(n,e,t,r,i){var a,s,o,l,c,u,d,f;if(n==="radial"){c=r.rawX,d=r.rawY,u=i.rawX,f=i.rawY;var h=B1(c,d),p=B1(c,d+(f-d)*t),m=B1(u,f+(d-f)*t),v=B1(u,f);return{x1:h.x||0,y1:h.y||0,x2:v.x||0,y2:v.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:m.x||0,cpy2:m.y||0}}else c=r.x,d=r.y,u=i.x,f=i.y,(e==="LR"||e==="RL")&&(a=c+(u-c)*t,s=d,o=u+(c-u)*t,l=f),(e==="TB"||e==="BT")&&(a=c,s=d+(f-d)*t,o=u,l=f+(d-f)*t);return{x1:c,y1:d,x2:u,y2:f,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}const BVe=NVe;var Ml=qi();function FVe(n){var e=n.mainData,t=n.datas;t||(t={main:e},n.datasAttr={main:"data"}),n.datas=n.mainData=null,Pne(e,t,n),ut(t,function(r){ut(e.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Vi(zVe,n))})}),e.wrapMethod("cloneShallow",Vi(HVe,n)),ut(e.CHANGABLE_METHODS,function(r){e.wrapMethod(r,Vi(UVe,n))}),fu(t[e.dataType]===e)}function zVe(n,e){if(GVe(this)){var t=cn({},Ml(this).datas);t[this.dataType]=e,Pne(e,t,n)}else I8(e,this.dataType,Ml(this).mainData,n);return e}function UVe(n,e){return n.struct&&n.struct.update(),e}function HVe(n,e){return ut(Ml(e).datas,function(t,r){t!==e&&I8(t.cloneShallow(),r,e,n)}),e}function VVe(n){var e=Ml(this).mainData;return n==null||e==null?e:Ml(e).datas[n]}function $Ve(){var n=Ml(this).mainData;return n==null?[{data:n}]:dr(ki(Ml(n).datas),function(e){return{type:e,data:Ml(n).datas[e]}})}function GVe(n){return Ml(n).mainData===n}function Pne(n,e,t){Ml(n).datas={},ut(e,function(r,i){I8(r,i,n,t)})}function I8(n,e,t,r){Ml(t).datas[e]=n,Ml(n).mainData=t,n.dataType=e,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[e]]=n),n.getLinkedData=VVe,n.getLinkedDataAll=$Ve}var WVe=function(){function n(e,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=t}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(e,t,r){wr(e)&&(r=t,t=e,e=null),e=e||{},Qn(e)&&(e={order:e});var i=e.order||"preorder",a=this[e.attr||"children"],s;i==="preorder"&&(s=t.call(r,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,t,r);i==="postorder"&&t.call(r,this)},n.prototype.updateDepthAndHeight=function(e){var t=0;this.depth=e;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(e+1),i.height>t&&(t=i.height)}this.height=t+1},n.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].getNodeById(e);if(a)return a}},n.prototype.contains=function(e){if(e===this)return!0;for(var t=0,r=this.children,i=r.length;t<i;t++){var a=r[t].contains(e);if(a)return a}},n.prototype.getAncestors=function(e){for(var t=[],r=e?this:this.parentNode;r;)t.push(r),r=r.parentNode;return t.reverse(),t},n.prototype.getAncestorsIndices=function(){for(var e=[],t=this;t;)e.push(t.dataIndex),t=t.parentNode;return e.reverse(),e},n.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(t){e.push(t.dataIndex)}),e},n.prototype.getValue=function(e){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(e||"value"),this.dataIndex)},n.prototype.setLayout=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostTree,r=t.data.getItemModel(this.dataIndex);return r.getModel(e)}},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},n.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,t=0;t<e.length;++t)if(e[t]===this)return t;return-1}return-1},n.prototype.isAncestorOf=function(e){for(var t=e.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},n.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},n}(),qVe=function(){function n(e){this.type="tree",this._nodes=[],this.hostModel=e}return n.prototype.eachNode=function(e,t,r){this.root.eachNode(e,t,r)},n.prototype.getNodeByDataIndex=function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},n.prototype.getNodeById=function(e){return this.root.getNodeById(e)},n.prototype.update=function(){for(var e=this.data,t=this._nodes,r=0,i=t.length;r<i;r++)t[r].dataIndex=-1;for(var r=0,i=e.count();r<i;r++)t[e.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(e,t,r){var i=new n(t),a=[],s=1;o(e);function o(u,d){var f=u.value;s=Math.max(s,Dn(f)?f.length:1),a.push(u);var h=new WVe(gc(u.name,""),i);d?KVe(h,d):i.root=h,i._nodes.push(h);var p=u.children;if(p)for(var m=0;m<p.length;m++)o(p[m],h)}i.root.updateDepthAndHeight(0);var l=wA(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,c=new _A(l,t);return c.initData(a),r&&r(c),FVe({mainData:c,struct:i,structAttr:"tree"}),i.update(),i},n}();function KVe(n,e){var t=e.children;n.parentNode!==e&&(t.push(n),n.parentNode=e)}const YVe=qVe;function XVe(n,e){for(var t=[];n;){var r=n.dataIndex;t.push({name:n.name,dataIndex:r,value:e.getRawValue(r)}),n=n.parentNode}return t.reverse(),t}var jVe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return e.prototype.getInitialData=function(t){var r={name:t.name,children:t.data},i=t.leaves||{},a=new Ja(i,this,this.ecModel),s=YVe.createTree(r,this,o);function o(d){d.wrapMethod("getItemModel",function(f,h){var p=s.getNodeByDataIndex(h);return p&&p.children.length&&p.isExpand||(f.parentModel=a),f})}var l=0;s.eachNode("preorder",function(d){d.depth>l&&(l=d.depth)});var c=t.expandAndCollapse,u=c&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return s.root.eachNode("preorder",function(d){var f=d.hostTree.data.getRawDataItem(d.dataIndex);d.isExpand=f&&f.collapsed!=null?!f.collapsed:d.depth<=u}),s.data},e.prototype.getOrient=function(){var t=this.get("orient");return t==="horizontal"?t="LR":t==="vertical"&&(t="TB"),t},e.prototype.setZoom=function(t){this.option.zoom=t},e.prototype.setCenter=function(t){this.option.center=t},e.prototype.formatTooltip=function(t,r,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(t),l=o.getValue(),c=o.name;o&&o!==s;)c=o.parentNode.name+"."+c,o=o.parentNode;return Cg("nameValue",{name:c,value:l,noValue:isNaN(l)||l==null})},e.prototype.getDataParams=function(t){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return r.treeAncestors=XVe(i,this),r.collapsed=!i.isExpand,r},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(pu);const ZVe=jVe;function QVe(n,e,t){for(var r=[n],i=[],a;a=r.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)r.push(s[o])}for(;a=i.pop();)e(a,t)}function i1(n,e){for(var t=[n],r;r=t.pop();)if(e(r),r.isExpand){var i=r.children;if(i.length)for(var a=i.length-1;a>=0;a--)t.push(i[a])}}function JVe(n,e){n.eachSeriesByType("tree",function(t){e$e(t,e)})}function e$e(n,e){var t=AVe(n,e);n.layoutInfo=t;var r=n.get("layout"),i=0,a=0,s=null;r==="radial"?(i=2*Math.PI,a=Math.min(t.height,t.width)/2,s=rV(function(b,_){return(b.parentNode===_.parentNode?1:2)/b.depth})):(i=t.width,a=t.height,s=rV());var o=n.getData().tree.root,l=o.children[0];if(l){CVe(o),QVe(l,MVe,s),o.hierNode.modifier=-l.hierNode.prelim,i1(l,TVe);var c=l,u=l,d=l;i1(l,function(b){var _=b.getLayout().x;_<c.getLayout().x&&(c=b),_>u.getLayout().x&&(u=b),b.depth>d.depth&&(d=b)});var f=c===u?1:s(c,u)/2,h=f-c.getLayout().x,p=0,m=0,v=0,g=0;if(r==="radial")p=i/(u.getLayout().x+f+h),m=a/(d.depth-1||1),i1(l,function(b){v=(b.getLayout().x+h)*p,g=(b.depth-1)*m;var _=B1(v,g);b.setLayout({x:_.x,y:_.y,rawX:v,rawY:g},!0)});else{var y=n.getOrient();y==="RL"||y==="LR"?(m=a/(u.getLayout().x+f+h),p=i/(d.depth-1||1),i1(l,function(b){g=(b.getLayout().x+h)*m,v=y==="LR"?(b.depth-1)*p:i-(b.depth-1)*p,b.setLayout({x:v,y:g},!0)})):(y==="TB"||y==="BT")&&(p=i/(u.getLayout().x+f+h),m=a/(d.depth-1||1),i1(l,function(b){v=(b.getLayout().x+h)*p,g=y==="TB"?(b.depth-1)*m:a-(b.depth-1)*m,b.setLayout({x:v,y:g},!0)}))}}}function t$e(n){n.eachSeriesByType("tree",function(e){var t=e.getData(),r=t.tree;r.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=t.ensureUniqueItemVisual(i.dataIndex,"style");cn(o,s)})})}function n$e(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},function(r){var i=e.dataIndex,a=r.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,t,r){t.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var a=i.coordinateSystem,s=SVe(a,e,void 0,r);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function r$e(n){n.registerChartView(BVe),n.registerSeriesModel(ZVe),n.registerLayout(JVe),n.registerVisual(t$e),n$e(n)}var xp=qi(),lV=Qr,S4=ii,i$e=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(e,t,r,i){var a=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=r,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var c={};this.makeElOption(c,a,e,t,r);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=u;var d=this._moveAnimation=this.determineAnimation(e,t);if(!o)o=this._group=new wo,this.createPointerEl(o,c,e,t),this.createLabelEl(o,c,e,t),r.getZr().add(o);else{var f=Vi(cV,t,d);this.updatePointerEl(o,c,f),this.updateLabelEl(o,c,f,t)}dV(o,t,!0),this._renderHandle(a)}},n.prototype.remove=function(e){this.clear(e)},n.prototype.dispose=function(e){this.clear(e)},n.prototype.determineAnimation=function(e,t){var r=t.get("animation"),i=e.axis,a=i.type==="category",s=t.get("snap");if(!s&&!a)return!1;if(r==="auto"||r==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=E8(e).seriesDataCount,c=i.getExtent();return Math.abs(c[0]-c[1])/l>o}return!1}return r===!0},n.prototype.makeElOption=function(e,t,r,i,a){},n.prototype.createPointerEl=function(e,t,r,i){var a=t.pointer;if(a){var s=xp(e).pointerEl=new EBe[a.type](lV(t.pointer));e.add(s)}},n.prototype.createLabelEl=function(e,t,r,i){if(t.label){var a=xp(e).labelEl=new Es(lV(t.label));e.add(a),uV(a,i)}},n.prototype.updatePointerEl=function(e,t,r){var i=xp(e).pointerEl;i&&t.pointer&&(i.setStyle(t.pointer.style),r(i,{shape:t.pointer.shape}))},n.prototype.updateLabelEl=function(e,t,r,i){var a=xp(e).labelEl;a&&(a.setStyle(t.label.style),r(a,{x:t.label.x,y:t.label.y}),uV(a,i))},n.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var t=this._axisPointerModel,r=this._api.getZr(),i=this._handle,a=t.getModel("handle"),s=t.get("status");if(!a.get("show")||!s||s==="hide"){i&&r.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=j6(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){ZT(c.event)},onmousedown:S4(this._onHandleDragMove,this,0,0),drift:S4(this._onHandleDragMove,this),ondragend:S4(this._onHandleDragEnd,this)}),r.add(i)),dV(i,t,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Dn(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,tte(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},n.prototype._moveHandleToValue=function(e,t){cV(this._axisPointerModel,!t&&this._moveAnimation,this._handle,C4(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(e,t){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(C4(r),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(C4(i)),xp(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var t=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),r=this._group,i=this._handle;t&&r&&(this._lastGraphicKey=null,r&&t.remove(r),i&&t.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),gP(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}},n}();function cV(n,e,t,r){Dne(xp(t).lastProp,r)||(xp(t).lastProp=r,e?Va(t,r,n):(t.stopAnimation(),t.attr(r)))}function Dne(n,e){if(or(n)&&or(e)){var t=!0;return ut(e,function(r,i){t=t&&Dne(n[i],r)}),!!t}else return n===e}function uV(n,e){n[e.get(["label","show"])?"show":"hide"]()}function C4(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function dV(n,e,t){var r=e.get("z"),i=e.get("zlevel");n&&n.traverse(function(a){a.type!=="group"&&(r!=null&&(a.z=r),i!=null&&(a.zlevel=i),a.silent=t)})}const a$e=i$e;function s$e(n){var e=n.get("type"),t=n.getModel(e+"Style"),r;return e==="line"?(r=t.getLineStyle(),r.fill=null):e==="shadow"&&(r=t.getAreaStyle(),r.stroke=null),r}function o$e(n,e,t,r,i){var a=t.get("value"),s=kne(a,e.axis,e.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),o=t.getModel("label"),l=fA(o.get("padding")||0),c=o.getFont(),u=R6(s,c),d=i.position,f=u.width+l[1]+l[3],h=u.height+l[0]+l[2],p=i.align;p==="right"&&(d[0]-=f),p==="center"&&(d[0]-=f/2);var m=i.verticalAlign;m==="bottom"&&(d[1]-=h),m==="middle"&&(d[1]-=h/2),l$e(d,f,h,r);var v=o.get("backgroundColor");(!v||v==="auto")&&(v=e.get(["axisLine","lineStyle","color"])),n.label={x:d[0],y:d[1],style:wd(o,{text:s,font:c,fill:o.getTextColor(),padding:l,backgroundColor:v}),z2:10}}function l$e(n,e,t,r){var i=r.getWidth(),a=r.getHeight();n[0]=Math.min(n[0]+e,i)-e,n[1]=Math.min(n[1]+t,a)-t,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}function kne(n,e,t,r,i){n=e.scale.parse(n);var a=e.scale.getLabel({value:n},{precision:i.precision}),s=i.formatter;if(s){var o={value:C8(e,{value:n}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};ut(r,function(l){var c=t.getSeriesByIndex(l.seriesIndex),u=l.dataIndexInside,d=c&&c.getDataParams(u);d&&o.seriesData.push(d)}),Qn(s)?a=s.replace("{value}",a):wr(s)&&(a=s(o))}return a}function Lne(n,e,t){var r=wg();return A6(r,r,t.rotation),VR(r,r,t.position),X6([n.dataToCoord(e),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],r)}function c$e(n,e,t,r,i,a){var s=Mne.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=i.get(["label","margin"]),o$e(e,r,i,a,{position:Lne(r.axis,n,t),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function u$e(n,e,t){return t=t||0,{x1:n[t],y1:n[1-t],x2:e[t],y2:e[1-t]}}function d$e(n,e,t){return t=t||0,{x:n[t],y:n[1-t],width:e[t],height:e[1-t]}}var f$e=function(n){wn(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.makeElOption=function(t,r,i,a,s){var o=i.axis,l=o.grid,c=a.get("type"),u=fV(l,o).getOtherAxis(o).getGlobalExtent(),d=o.toGlobalCoord(o.dataToCoord(r,!0));if(c&&c!=="none"){var f=s$e(a),h=h$e[c](o,d,u);h.style=f,t.graphicKey=h.type,t.pointer=h}var p=RP(l.model,i);c$e(r,t,p,i,a,s)},e.prototype.getHandleTransform=function(t,r,i){var a=RP(r.axis.grid.model,r,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=Lne(r.axis,t,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,r,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),c=fV(o,s).getOtherAxis(s).getGlobalExtent(),u=s.dim==="x"?0:1,d=[t.x,t.y];d[u]+=r[u],d[u]=Math.min(l[1],d[u]),d[u]=Math.max(l[0],d[u]);var f=(c[1]+c[0])/2,h=[f,f];h[u]=d[u];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:h,tooltipOption:p[u]}},e}(a$e);function fV(n,e){var t={};return t[e.dim+"AxisIndex"]=e.index,n.getCartesian(t)}var h$e={line:function(n,e,t){var r=u$e([e,t[0]],[e,t[1]],hV(n));return{type:"Line",subPixelOptimize:!0,shape:r}},shadow:function(n,e,t){var r=Math.max(1,n.getBandWidth()),i=t[1]-t[0];return{type:"Rect",shape:d$e([e-r/2,t[0]],[r,i],hV(n))}}};function hV(n){return n.dim==="x"?0:1}const p$e=f$e;var m$e=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Ni);const v$e=m$e;var sd=qi(),g$e=ut;function Nne(n,e,t){if(!Pr.node){var r=e.getZr();sd(r).records||(sd(r).records={}),y$e(r,e);var i=sd(r).records[n]||(sd(r).records[n]={});i.handler=t}}function y$e(n,e){if(sd(n).initialized)return;sd(n).initialized=!0,t("click",Vi(pV,"click")),t("mousemove",Vi(pV,"mousemove")),t("globalout",_$e);function t(r,i){n.on(r,function(a){var s=w$e(e);g$e(sd(n).records,function(o){o&&i(o,a,s.dispatchAction)}),b$e(s.pendings,e)})}}function b$e(n,e){var t=n.showTip.length,r=n.hideTip.length,i;t?i=n.showTip[t-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function _$e(n,e,t){n.handler("leave",null,t)}function pV(n,e,t,r){e.handler(n,t,r)}function w$e(n){var e={showTip:[],hideTip:[]},t=function(r){var i=e[r.type];i?i.push(r):(r.dispatchAction=t,n.dispatchAction(r))};return{dispatchAction:t,pendings:e}}function LP(n,e){if(!Pr.node){var t=e.getZr(),r=(sd(t).records||{})[n];r&&(sd(t).records[n]=null)}}var x$e=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){var a=r.getComponent("tooltip"),s=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";Nne("axisPointer",i,function(o,l,c){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&c({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},e.prototype.remove=function(t,r){LP("axisPointer",r)},e.prototype.dispose=function(t,r){LP("axisPointer",r)},e.type="axisPointer",e}(mu);const S$e=x$e;function One(n,e){var t=[],r=n.seriesIndex,i;if(r==null||!(i=e.getSeriesByIndex(r)))return{point:[]};var a=i.getData(),s=hw(a,n);if(s==null||s<0||Dn(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)t=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(n.isStacked){var c=l.getBaseAxis(),u=l.getOtherAxis(c),d=u.dim,f=c.dim,h=d==="x"||d==="radius"?1:0,p=a.mapDimension(f),m=[];m[h]=a.get(p,s),m[1-h]=a.get(a.getCalculationInfo("stackResultDimension"),s),t=l.dataToPoint(m)||[]}else t=l.dataToPoint(a.getValues(dr(l.dimensions,function(g){return a.mapDimension(g)}),s))||[];else if(o){var v=o.getBoundingRect().clone();v.applyTransform(o.transform),t=[v.x+v.width/2,v.y+v.height/2]}return{point:t,el:o}}var mV=qi();function C$e(n,e,t){var r=n.currTrigger,i=[n.x,n.y],a=n,s=n.dispatchAction||ii(t.dispatchAction,t),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){Z2(i)&&(i=One({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var l=Z2(i),c=a.axesInfo,u=o.axesInfo,d=r==="leave"||Z2(i),f={},h={},p={list:[],map:{}},m={showPointer:Vi(T$e,h),showTooltip:Vi(A$e,p)};ut(o.coordSysMap,function(g,y){var b=l||g.containPoint(i);ut(o.coordSysAxesInfo[y],function(_,x){var S=_.axis,T=P$e(c,_);if(!d&&b&&(!c||T)){var C=T&&T.value;C==null&&!l&&(C=S.pointToData(i)),C!=null&&vV(_,C,m,!1,f)}})});var v={};return ut(u,function(g,y){var b=g.linkGroup;b&&!h[y]&&ut(b.axesInfo,function(_,x){var S=h[x];if(_!==g&&S){var T=S.value;b.mapper&&(T=g.axis.scale.parse(b.mapper(T,gV(_),gV(g)))),v[g.key]=T}})}),ut(v,function(g,y){vV(u[y],g,m,!0,f)}),E$e(h,u,f),I$e(p,i,n,s),R$e(u,s,t),f}}function vV(n,e,t,r,i){var a=n.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!n.involveSeries){t.showPointer(n,e);return}var s=M$e(e,n),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&cn(i,o[0]),!r&&n.snap&&a.containData(l)&&l!=null&&(e=l),t.showPointer(n,e,o),t.showTooltip(n,s,l)}}function M$e(n,e){var t=e.axis,r=t.dim,i=n,a=[],s=Number.MAX_VALUE,o=-1;return ut(e.seriesModels,function(l,c){var u=l.getData().mapDimensionsAll(r),d,f;if(l.getAxisTooltipData){var h=l.getAxisTooltipData(u,n,t);f=h.dataIndices,d=h.nestestValue}else{if(f=l.getData().indicesOfNearest(u[0],n,t.type==="category"?.5:null),!f.length)return;d=l.getData().get(u[0],f[0])}if(!(d==null||!isFinite(d))){var p=n-d,m=Math.abs(p);m<=s&&((m<s||p>=0&&o<0)&&(s=m,o=p,i=d,a.length=0),ut(f,function(v){a.push({seriesIndex:l.seriesIndex,dataIndexInside:v,dataIndex:l.getData().getRawIndex(v)})}))}}),{payloadBatch:a,snapToValue:i}}function T$e(n,e,t,r){n[e.key]={value:t,payloadBatch:r}}function A$e(n,e,t,r){var i=t.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!i.length)){var l=e.coordSys.model,c=__(l),u=n.map[c];u||(u=n.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},n.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:r,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function E$e(n,e,t){var r=t.axesInfo=[];ut(e,function(i,a){var s=i.axisPointerModel.option,o=n[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function I$e(n,e,t,r){if(Z2(e)||!n.list.length){r({type:"hideTip"});return}var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}function R$e(n,e,t){var r=t.getZr(),i="axisPointerLastHighlights",a=mV(r)[i]||{},s=mV(r)[i]={};ut(n,function(c,u){var d=c.axisPointerModel.option;d.status==="show"&&c.triggerEmphasis&&ut(d.seriesDataIndices,function(f){var h=f.seriesIndex+" | "+f.dataIndex;s[h]=f})});var o=[],l=[];ut(a,function(c,u){!s[u]&&l.push(c)}),ut(s,function(c,u){!a[u]&&o.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function P$e(n,e){for(var t=0;t<(n||[]).length;t++){var r=n[t];if(e.axis.dim===r.axisDim&&e.axis.model.componentIndex===r.axisIndex)return r}}function gV(n){var e=n.axis.model,t={},r=t.axisDim=n.axis.dim;return t.axisIndex=t[r+"AxisIndex"]=e.componentIndex,t.axisName=t[r+"AxisName"]=e.name,t.axisId=t[r+"AxisId"]=e.id,t}function Z2(n){return!n||n[0]==null||isNaN(n[0])||n[1]==null||isNaN(n[1])}function Bne(n){Tne.registerAxisPointerClass("CartesianAxisPointer",p$e),n.registerComponentModel(v$e),n.registerComponentView(S$e),n.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!Dn(t)&&(e.axisPointer.link=[t])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=QHe(e,t)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},C$e)}function D$e(n){wc(hVe),wc(Bne)}function k$e(n,e){var t=fA(e.get("padding")),r=e.getItemStyle(["color","opacity"]);return r.fill=e.get("backgroundColor"),n=new Ra({shape:{x:n.x-t[3],y:n.y-t[0],width:n.width+t[1]+t[3],height:n.height+t[0]+t[2],r:e.get("borderRadius")},style:r,silent:!0,z2:-1}),n}var L$e=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Ni);const N$e=L$e;function Fne(n){var e=n.get("confine");return e!=null?!!e:n.get("renderMode")==="richText"}function zne(n){if(Pr.domSupported){for(var e=document.documentElement.style,t=0,r=n.length;t<r;t++)if(n[t]in e)return n[t]}}var Une=zne(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),O$e=zne(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Hne(n,e){if(!n)return e;e=Cee(e,!0);var t=n.indexOf(e);return n=t===-1?e:"-"+n.slice(0,t)+"-"+e,n.toLowerCase()}function B$e(n,e){var t=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return t?e?t[e]:t:null}var F$e=Hne(O$e,"transition"),R8=Hne(Une,"transform"),z$e="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Pr.transform3dSupported?"will-change:transform;":"");function U$e(n){return n=n==="left"?"right":n==="right"?"left":n==="top"?"bottom":"top",n}function H$e(n,e,t){if(!Qn(t)||t==="inside")return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");e=p_(e);var a=U$e(t),s=Math.max(Math.round(i)*1.5,6),o="",l=R8+":",c;di(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(c=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(c=a==="top"?225:45)+"deg)");var u=c*Math.PI/180,d=s+i,f=d*Math.abs(Math.cos(u))+d*Math.abs(Math.sin(u)),h=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-d)/2)*100)/100;o+=";"+a+":-"+h+"px";var p=e+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+r+";"];return'<div style="'+m.join("")+'"></div>'}function V$e(n,e){var t="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+t,i="opacity"+r+",visibility"+r;return e||(r=" "+n+"s "+t,i+=Pr.transformSupported?","+R8+r:",left"+r+",top"+r),F$e+":"+i}function yV(n,e,t){var r=n.toFixed(0)+"px",i=e.toFixed(0)+"px";if(!Pr.transformSupported)return t?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var a=Pr.transform3dSupported,s="translate"+(a?"3d":"")+"("+r+","+i+(a?",0":"")+")";return t?"top:0;left:0;"+R8+":"+s+";":[["top",0],["left",0],[Une,s]]}function $$e(n){var e=[],t=n.get("fontSize"),r=n.getTextColor();r&&e.push("color:"+r),e.push("font:"+n.getFont()),t&&e.push("line-height:"+Math.round(t*3/2)+"px");var i=n.get("textShadowColor"),a=n.get("textShadowBlur")||0,s=n.get("textShadowOffsetX")||0,o=n.get("textShadowOffsetY")||0;return i&&a&&e.push("text-shadow:"+s+"px "+o+"px "+a+"px "+i),ut(["decoration","align"],function(l){var c=n.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function G$e(n,e,t){var r=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),s=n.get("shadowBlur"),o=n.get("shadowColor"),l=n.get("shadowOffsetX"),c=n.get("shadowOffsetY"),u=n.getModel("textStyle"),d=Qee(n,"html"),f=l+"px "+c+"px "+s+"px "+o;return r.push("box-shadow:"+f),e&&i&&r.push(V$e(i,t)),a&&r.push("background-color:"+a),ut(["width","color","radius"],function(h){var p="border-"+h,m=Cee(p),v=n.get(m);v!=null&&r.push(p+":"+v+(h==="color"?"":"px"))}),r.push($$e(u)),d!=null&&r.push("padding:"+fA(d).join("px ")+"px"),r.join(";")+";"}function bV(n,e,t,r,i){var a=e&&e.painter;if(t){var s=a&&a.getViewportRoot();s&&E6e(n,s,document.body,r,i)}else{n[0]=r,n[1]=i;var o=a&&a.getViewportRootOffset();o&&(n[0]+=o.offsetLeft,n[1]+=o.offsetTop)}n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}var W$e=function(){function n(e,t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Pr.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var a=this._zr=t.getZr(),s=this._appendToBody=r&&r.appendToBody;bV(this._styleCoord,a,s,t.getWidth()/2,t.getHeight()/2),s?document.body.appendChild(i):e.appendChild(i),this._container=e;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(l){if(l=l||window.event,!o._enterable){var c=a.handler,u=a.painter.getViewportRoot();ol(u,l,!0),c.dispatch("mousemove",l)}},i.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return n.prototype.update=function(e){var t=this._container,r=B$e(t,"position"),i=t.style;i.position!=="absolute"&&r!=="absolute"&&(i.position="relative");var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},n.prototype.show=function(e,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,a=this._styleCoord;r.innerHTML?i.cssText=z$e+G$e(e,!this._firstShow,this._longHide)+yV(a[0],a[1],!0)+("border-color:"+p_(t)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(e,t,r,i,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(Qn(a)&&r.get("trigger")==="item"&&!Fne(r)&&(o=H$e(r,i,a)),Qn(e))s.innerHTML=e+o;else if(e){s.innerHTML="",Dn(e)||(e=[e]);for(var l=0;l<e.length;l++)KC(e[l])&&e[l].parentNode!==s&&s.appendChild(e[l]);if(o&&s.childNodes.length){var c=document.createElement("div");c.innerHTML=o,s.appendChild(c)}}},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el;return[e.offsetWidth,e.offsetHeight]},n.prototype.moveTo=function(e,t){var r=this._styleCoord;if(bV(r,this._zr,this._appendToBody,e,t),r[0]!=null&&r[1]!=null){var i=this.el.style,a=yV(r[0],r[1]);ut(a,function(s){i[s[0]]=s[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){var e=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Pr.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ii(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const q$e=W$e;var K$e=function(){function n(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),wV(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return n.prototype.update=function(e){var t=e.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(e,t,r,i,a){var s=this;or(e)&&ao(""),this.el&&this._zr.remove(this.el);var o=r.getModel("textStyle");this.el=new Es({style:{rich:t.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:Qee(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),ut(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){s.el.style[c]=r.get(c)}),ut(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){s.el.style[c]=o.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},n.prototype.setEnterable=function(e){this._enterable=e},n.prototype.getSize=function(){var e=this.el,t=this.el.getBoundingRect(),r=_V(e.style);return[t.width+r.left+r.right,t.height+r.top+r.bottom]},n.prototype.moveTo=function(e,t){var r=this.el;if(r){var i=this._styleCoord;wV(i,this._zr,e,t),e=i[0],t=i[1];var a=r.style,s=wf(a.borderWidth||0),o=_V(a);r.x=e+s+o.left,r.y=t+s+o.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[2],t=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),t*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(ii(this.hide,this),e)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function wf(n){return Math.max(0,n)}function _V(n){var e=wf(n.shadowBlur||0),t=wf(n.shadowOffsetX||0),r=wf(n.shadowOffsetY||0);return{left:wf(e-t),right:wf(e+t),top:wf(e-r),bottom:wf(e+r)}}function wV(n,e,t,r){n[0]=t,n[1]=r,n[2]=n[0]/e.getWidth(),n[3]=n[1]/e.getHeight()}const Y$e=K$e;var X$e=new Ra({shape:{x:-1,y:-1,width:2,height:2}}),j$e=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.init=function(t,r){if(!(Pr.node||!r.getDom())){var i=t.getComponent("tooltip"),a=this._renderMode=sNe(i.get("renderMode"));this._tooltipContent=a==="richText"?new Y$e(r):new q$e(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},e.prototype.render=function(t,r,i){if(!(Pr.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=r,this._api=i;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&t.get("transitionDuration")?tte(this,"_updatePosition",50,"fixRate"):gP(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel,r=t.get("triggerOn");Nne("itemTooltip",this._api,ii(function(i,a,s){r!=="none"&&(r.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var t=this._tooltipModel,r=this._ecModel,i=this._api,a=t.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(t,r,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(t,r,i,a){if(!(a.from===this.uid||Pr.node||!i.getDom())){var s=xV(a,i);this._ticket="";var o=a.dataByCoordSys,l=eGe(a,r,i);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var u=X$e;u.x=a.x,u.y=a.y,u.update(),fi(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,r,i,a))return;var d=One(a,r),f=d.point[0],h=d.point[1];f!=null&&h!=null&&this._tryShow({offsetX:f,offsetY:h,target:d.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(t,r,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(xV(a,i))},e.prototype._manuallyAxisShowTip=function(t,r,i,a){var s=a.seriesIndex,o=a.dataIndex,l=r.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var c=r.getSeriesByIndex(s);if(c){var u=c.getData(),d=a1([u.getItemModel(o),c,(c.coordinateSystem||{}).model],this._tooltipModel);if(d.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(t,r){var i=t.target,a=this._tooltipModel;if(a){this._lastX=t.offsetX,this._lastY=t.offsetY;var s=t.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,t);else if(i){this._lastDataByCoordSys=null;var o,l;N1(i,function(c){if(fi(c).dataIndex!=null)return o=c,!0;if(fi(c).tooltipConfig!=null)return l=c,!0},!0),o?this._showSeriesItemTooltip(t,o,r):l?this._showComponentItemTooltip(t,l,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},e.prototype._showOrMove=function(t,r){var i=t.get("showDelay");r=ii(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},e.prototype._showAxisTooltip=function(t,r){var i=this._ecModel,a=this._tooltipModel,s=[r.offsetX,r.offsetY],o=a1([r.tooltipOption],a),l=this._renderMode,c=[],u=Cg("section",{blocks:[],noHeader:!0}),d=[],f=new jE;ut(t,function(y){ut(y.dataByAxis,function(b){var _=i.getComponent(b.axisDim+"Axis",b.axisIndex),x=b.value;if(!(!_||x==null)){var S=kne(x,_.axis,i,b.seriesDataIndices,b.valueLabelOpt),T=Cg("section",{header:S,noHeader:!jc(S),sortBlocks:!0,blocks:[]});u.blocks.push(T),ut(b.seriesDataIndices,function(C){var M=i.getSeriesByIndex(C.seriesIndex),A=C.dataIndexInside,I=M.getDataParams(A);if(!(I.dataIndex<0)){I.axisDim=b.axisDim,I.axisIndex=b.axisIndex,I.axisType=b.axisType,I.axisId=b.axisId,I.axisValue=C8(_.axis,{value:x}),I.axisValueLabel=S,I.marker=f.makeTooltipMarker("item",p_(I.color),l);var D=TU(M.formatTooltip(A,!0,null)),L=D.frag;if(L){var F=a1([M],a).get("valueFormatter");T.blocks.push(F?cn({valueFormatter:F},L):L)}D.text&&d.push(D.text),c.push(I)}})}})}),u.blocks.reverse(),d.reverse();var h=r.position,p=o.get("order"),m=DU(u,f,l,p,i.get("useUTC"),o.get("textStyle"));m&&d.unshift(m);var v=l==="richText"?`

`:"<br/>",g=d.join(v);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(o,h,s[0],s[1],this._tooltipContent,c):this._showTooltipContent(o,g,c,Math.random()+"",s[0],s[1],h,null,f)})},e.prototype._showSeriesItemTooltip=function(t,r,i){var a=this._ecModel,s=fi(r),o=s.seriesIndex,l=a.getSeriesByIndex(o),c=s.dataModel||l,u=s.dataIndex,d=s.dataType,f=c.getData(d),h=this._renderMode,p=t.positionDefault,m=a1([f.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),v=m.get("trigger");if(!(v!=null&&v!=="item")){var g=c.getDataParams(u,d),y=new jE;g.marker=y.makeTooltipMarker("item",p_(g.color),h);var b=TU(c.formatTooltip(u,!1,d)),_=m.get("order"),x=m.get("valueFormatter"),S=b.frag,T=S?DU(x?cn({valueFormatter:x},S):S,y,h,_,a.get("useUTC"),m.get("textStyle")):b.text,C="item_"+c.name+"_"+u;this._showOrMove(m,function(){this._showTooltipContent(m,T,g,C,t.offsetX,t.offsetY,t.position,t.target,y)}),i({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,r,i){var a=fi(r),s=a.tooltipConfig,o=s.option||{};if(Qn(o)){var l=o;o={content:l,formatter:l}}var c=[o],u=this._ecModel.getComponent(a.componentMainType,a.componentIndex);u&&c.push(u),c.push({formatter:o.content});var d=t.positionDefault,f=a1(c,this._tooltipModel,d?{position:d}:null),h=f.get("content"),p=Math.random()+"",m=new jE;this._showOrMove(f,function(){var v=Qr(f.get("formatterParams")||{});this._showTooltipContent(f,h,v,p,t.offsetX,t.offsetY,t.position,r,m)}),i({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,r,i,a,s,o,l,c,u){if(this._ticket="",!(!t.get("showContent")||!t.get("show"))){var d=this._tooltipContent;d.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var h=r,p=this._getNearestPoint([s,o],i,t.get("trigger"),t.get("borderColor")),m=p.color;if(f)if(Qn(f)){var v=t.ecModel.get("useUTC"),g=Dn(i)?i[0]:i,y=g&&g.axisType&&g.axisType.indexOf("time")>=0;h=f,y&&(h=oA(g.axisValue,h,v)),h=Mee(h,i,!0)}else if(wr(f)){var b=ii(function(_,x){_===this._ticket&&(d.setContent(x,u,t,m,l),this._updatePosition(t,l,s,o,d,i,c))},this);this._ticket=a,h=f(i,a,b)}else h=f;d.setContent(h,u,t,m,l),d.show(t,m),this._updatePosition(t,l,s,o,d,i,c)}},e.prototype._getNearestPoint=function(t,r,i,a){if(i==="axis"||Dn(r))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Dn(r))return{color:a||r.color||r.borderColor}},e.prototype._updatePosition=function(t,r,i,a,s,o,l){var c=this._api.getWidth(),u=this._api.getHeight();r=r||t.get("position");var d=s.getSize(),f=t.get("align"),h=t.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),wr(r)&&(r=r([i,a],o,s.el,p,{viewSize:[c,u],contentSize:d.slice()})),Dn(r))i=bi(r[0],c),a=bi(r[1],u);else if(or(r)){var m=r;m.width=d[0],m.height=d[1];var v=lh(m,{width:c,height:u});i=v.x,a=v.y,f=null,h=null}else if(Qn(r)&&l){var g=J$e(r,p,d,t.get("borderWidth"));i=g[0],a=g[1]}else{var g=Z$e(i,a,s,c,u,f?null:20,h?null:20);i=g[0],a=g[1]}if(f&&(i-=SV(f)?d[0]/2:f==="right"?d[0]:0),h&&(a-=SV(h)?d[1]/2:h==="bottom"?d[1]:0),Fne(t)){var g=Q$e(i,a,s,c,u);i=g[0],a=g[1]}s.moveTo(i,a)},e.prototype._updateContentNotChangedOnAxis=function(t,r){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===t.length;return s&&ut(i,function(o,l){var c=o.dataByAxis||[],u=t[l]||{},d=u.dataByAxis||[];s=s&&c.length===d.length,s&&ut(c,function(f,h){var p=d[h]||{},m=f.seriesDataIndices||[],v=p.seriesDataIndices||[];s=s&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&m.length===v.length,s&&ut(m,function(g,y){var b=v[y];s=s&&g.seriesIndex===b.seriesIndex&&g.dataIndex===b.dataIndex}),a&&ut(f.seriesDataIndices,function(g){var y=g.seriesIndex,b=r[y],_=a[y];b&&_&&_.data!==b.data&&(s=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=r,!!s},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,r){Pr.node||!r.getDom()||(gP(this,"_updatePosition"),this._tooltipContent.dispose(),LP("itemTooltip",r))},e.type="tooltip",e}(mu);function a1(n,e,t){var r=e.ecModel,i;t?(i=new Ja(t,r,r),i=new Ja(e.option,i,r)):i=e;for(var a=n.length-1;a>=0;a--){var s=n[a];s&&(s instanceof Ja&&(s=s.get("tooltip",!0)),Qn(s)&&(s={formatter:s}),s&&(i=new Ja(s,i,r)))}return i}function xV(n,e){return n.dispatchAction||ii(e.dispatchAction,e)}function Z$e(n,e,t,r,i,a,s){var o=t.getSize(),l=o[0],c=o[1];return a!=null&&(n+l+a+2>r?n-=l+a:n+=a),s!=null&&(e+c+s>i?e-=c+s:e+=s),[n,e]}function Q$e(n,e,t,r,i){var a=t.getSize(),s=a[0],o=a[1];return n=Math.min(n+s,r)-s,e=Math.min(e+o,i)-o,n=Math.max(n,0),e=Math.max(e,0),[n,e]}function J$e(n,e,t,r){var i=t[0],a=t[1],s=Math.ceil(Math.SQRT2*r)+8,o=0,l=0,c=e.width,u=e.height;switch(n){case"inside":o=e.x+c/2-i/2,l=e.y+u/2-a/2;break;case"top":o=e.x+c/2-i/2,l=e.y-a-s;break;case"bottom":o=e.x+c/2-i/2,l=e.y+u+s;break;case"left":o=e.x-i-s,l=e.y+u/2-a/2;break;case"right":o=e.x+c+s,l=e.y+u/2-a/2}return[o,l]}function SV(n){return n==="center"||n==="middle"}function eGe(n,e,t){var r=N6(n).queryOptionMap,i=r.keys()[0];if(!(!i||i==="series")){var a=pw(e,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=t.getViewOfComponentModel(s),l;if(o.group.traverse(function(c){var u=fi(c).tooltipConfig;if(u&&u.name===n.name)return l=c,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}const tGe=j$e;function Vne(n){wc(Bne),n.registerComponentModel(N$e),n.registerComponentView(tGe),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Ws),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Ws)}var nGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Ni),rGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.render=function(t,r,i){if(this.group.removeAll(),!!t.get("show")){var a=this.group,s=t.getModel("textStyle"),o=t.getModel("subtextStyle"),l=t.get("textAlign"),c=Gr(t.get("textBaseline"),t.get("textVerticalAlign")),u=new Es({style:wd(s,{text:t.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),f=t.get("subtext"),h=new Es({style:wd(o,{text:f,fill:o.getTextColor(),y:d.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=t.get("link"),m=t.get("sublink"),v=t.get("triggerEvent",!0);u.silent=!p&&!v,h.silent=!m&&!v,p&&u.on("click",function(){lU(p,"_"+t.get("target"))}),m&&h.on("click",function(){lU(m,"_"+t.get("subtarget"))}),fi(u).eventData=fi(h).eventData=v?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(u),f&&a.add(h);var g=a.getBoundingRect(),y=t.getBoxLayoutParams();y.width=g.width,y.height=g.height;var b=lh(y,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));l||(l=t.get("left")||t.get("right"),l==="middle"&&(l="center"),l==="right"?b.x+=b.width:l==="center"&&(b.x+=b.width/2)),c||(c=t.get("top")||t.get("bottom"),c==="center"&&(c="middle"),c==="bottom"?b.y+=b.height:c==="middle"&&(b.y+=b.height/2),c=c||"top"),a.x=b.x,a.y=b.y,a.markRedraw();var _={align:l,verticalAlign:c};u.setStyle(_),h.setStyle(_),g=a.getBoundingRect();var x=b.margin,S=t.getItemStyle(["color","opacity"]);S.fill=t.get("backgroundColor");var T=new Ra({shape:{x:g.x-x[3],y:g.y-x[0],width:g.width+x[1]+x[3],height:g.height+x[0]+x[2],r:t.get("borderRadius")},style:S,subPixelOptimize:!0,silent:!0});a.add(T)}},e.type="title",e}(mu);function $ne(n){n.registerComponentModel(nGe),n.registerComponentView(rGe)}var iGe=function(n,e){if(e==="all")return{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}},aGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.layoutMode={type:"box",ignoreSize:!0},t}return e.prototype.init=function(t,r,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},e.prototype._updateSelector=function(t){var r=t.selector,i=this.ecModel;r===!0&&(r=t.selector=["all","inverse"]),Dn(r)&&ut(r,function(a,s){Qn(a)&&(a={type:a}),r[s]=hi(a,iGe(i,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get("selectedMode")==="single"){for(var r=!1,i=0;i<t.length;i++){var a=t[i].get("name");if(this.isSelected(a)){this.select(a),r=!0;break}}!r&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var r=[],i=[];t.eachRawSeries(function(l){var c=l.name;i.push(c);var u;if(l.legendVisualProvider){var d=l.legendVisualProvider,f=d.getAllNames();t.isSeriesFiltered(l)||(i=i.concat(f)),f.length?r=r.concat(f):u=!0}else u=!0;u&&L6(l)&&r.push(l.name)}),this._availableNames=i;var a=this.get("data")||r,s=Dr(),o=dr(a,function(l){return(Qn(l)||Fi(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new Ja(l,this,this.ecModel))},this);this._data=Oa(o,function(l){return!!l})},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var r=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;ut(a,function(s){r[s.get("name")]=!1})}r[t]=!0},e.prototype.unSelect=function(t){this.get("selectedMode")!=="single"&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,r=this.option.selected;ut(t,function(i){r[i.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var t=this._data,r=this.option.selected;ut(t,function(i){var a=i.get("name",!0);r.hasOwnProperty(a)||(r[a]=!0),r[a]=!r[a]})},e.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&di(this._availableNames,t)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Ni);const NP=aGe;var h0=Vi,OP=ut,Qx=wo,sGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!1,t}return e.prototype.init=function(){this.group.add(this._contentGroup=new Qx),this.group.add(this._selectorGroup=new Qx),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,r,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!t.get("show",!0)){var s=t.get("align"),o=t.get("orient");(!s||s==="auto")&&(s=t.get("left")==="right"&&o==="vertical"?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||c==="auto")&&(c=o==="horizontal"?"end":"start"),this.renderInner(s,t,r,i,l,o,c);var u=t.getBoxLayoutParams(),d={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),h=lh(u,d,f),p=this.layoutInner(t,s,h,a,l,c),m=lh(pi({width:p.width,height:p.height},u),d,f);this.group.x=m.x-p.x,this.group.y=m.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=k$e(p,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,r,i,a,s,o,l){var c=this.getContentGroup(),u=Dr(),d=r.get("selectedMode"),f=[];i.eachRawSeries(function(h){!h.get("legendHoverLink")&&f.push(h.id)}),OP(r.getData(),function(h,p){var m=h.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var v=new Qx;v.newline=!0,c.add(v);return}var g=i.getSeriesByName(m)[0];if(!u.get(m))if(g){var y=g.getData(),b=y.getVisual("legendLineStyle")||{},_=y.getVisual("legendIcon"),x=y.getVisual("style"),S=this._createItem(g,m,p,h,r,t,b,x,_,d,a);S.on("click",h0(CV,m,null,a,f)).on("mouseover",h0(BP,g.name,null,a,f)).on("mouseout",h0(FP,g.name,null,a,f)),u.set(m,!0)}else i.eachRawSeries(function(T){if(!u.get(m)&&T.legendVisualProvider){var C=T.legendVisualProvider;if(!C.containName(m))return;var M=C.indexOfName(m),A=C.getItemVisual(M,"style"),I=C.getItemVisual(M,"legendIcon"),D=Zp(A.fill);D&&D[3]===0&&(D[3]=.2,A=cn(cn({},A),{fill:E6(D,"rgba")}));var L=this._createItem(T,m,p,h,r,t,{},A,I,d,a);L.on("click",h0(CV,null,m,a,f)).on("mouseover",h0(BP,null,m,a,f)).on("mouseout",h0(FP,null,m,a,f)),u.set(m,!0)}},this)},this),s&&this._createSelector(s,r,a,o,l)},e.prototype._createSelector=function(t,r,i,a,s){var o=this.getSelectorGroup();OP(t,function(c){var u=c.type,d=new Es({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:u==="all"?"legendAllSelect":"legendInverseSelect"})}});o.add(d);var f=r.getModel("selectorLabel"),h=r.getModel(["emphasis","selectorLabel"]);aA(d,{normal:f,emphasis:h},{defaultText:c.title}),lM(d)})},e.prototype._createItem=function(t,r,i,a,s,o,l,c,u,d,f){var h=t.visualDrawType,p=s.get("itemWidth"),m=s.get("itemHeight"),v=s.isSelected(r),g=a.get("symbolRotate"),y=a.get("symbolKeepAspect"),b=a.get("icon");u=b||u||"roundRect";var _=oGe(u,a,l,c,h,v,f),x=new Qx,S=a.getModel("textStyle");if(wr(t.getLegendIcon)&&(!b||b==="inherit"))x.add(t.getLegendIcon({itemWidth:p,itemHeight:m,icon:u,iconRotate:g,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}));else{var T=b==="inherit"&&t.getData().getVisual("symbol")?g==="inherit"?t.getData().getVisual("symbolRotate"):g:0;x.add(lGe({itemWidth:p,itemHeight:m,icon:u,iconRotate:T,itemStyle:_.itemStyle,lineStyle:_.lineStyle,symbolKeepAspect:y}))}var C=o==="left"?p+5:-5,M=o,A=s.get("formatter"),I=r;Qn(A)&&A?I=A.replace("{name}",r??""):wr(A)&&(I=A(r));var D=v?S.getTextColor():a.get("inactiveColor");x.add(new Es({style:wd(S,{text:I,x:C,y:m/2,fill:D,align:M,verticalAlign:"middle"},{inheritColor:D})}));var L=new Ra({shape:x.getBoundingRect(),invisible:!0}),F=a.getModel("tooltip");return F.get("show")&&Z6({el:L,componentModel:s,itemName:r,itemTooltipOption:F.option}),x.add(L),x.eachChild(function(B){B.silent=!0}),L.silent=!d,this.getContentGroup().add(x),lM(x),x.__legendDataIndex=i,x},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getContentGroup(),c=this.getSelectorGroup();lb(t.get("orient"),l,t.get("itemGap"),i.width,i.height);var u=l.getBoundingRect(),d=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),s){lb("horizontal",c,t.get("selectorItemGap",!0));var f=c.getBoundingRect(),h=[-f.x,-f.y],p=t.get("selectorButtonGap",!0),m=t.getOrient().index,v=m===0?"width":"height",g=m===0?"height":"width",y=m===0?"y":"x";o==="end"?h[m]+=u[v]+p:d[m]+=f[v]+p,h[1-m]+=u[g]/2-f[g]/2,c.x=h[0],c.y=h[1],l.x=d[0],l.y=d[1];var b={x:0,y:0};return b[v]=u[v]+p+f[v],b[g]=Math.max(u[g],f[g]),b[y]=Math.min(0,f[y]+h[1-m]),b}else return l.x=d[0],l.y=d[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(mu);function oGe(n,e,t,r,i,a,s){function o(v,g){v.lineWidth==="auto"&&(v.lineWidth=g.lineWidth>0?2:0),OP(v,function(y,b){v[b]==="inherit"&&(v[b]=g[b])})}var l=e.getModel("itemStyle"),c=l.getItemStyle(),u=n.lastIndexOf("empty",0)===0?"fill":"stroke",d=l.getShallow("decal");c.decal=!d||d==="inherit"?r.decal:xP(d,s),c.fill==="inherit"&&(c.fill=r[i]),c.stroke==="inherit"&&(c.stroke=r[u]),c.opacity==="inherit"&&(c.opacity=(i==="fill"?r:t).opacity),o(c,r);var f=e.getModel("lineStyle"),h=f.getLineStyle();if(o(h,t),c.fill==="auto"&&(c.fill=r.fill),c.stroke==="auto"&&(c.stroke=r.fill),h.stroke==="auto"&&(h.stroke=r.fill),!a){var p=e.get("inactiveBorderWidth"),m=c[u];c.lineWidth=p==="auto"?r.lineWidth>0&&m?2:0:c.lineWidth,c.fill=e.get("inactiveColor"),c.stroke=e.get("inactiveBorderColor"),h.stroke=f.get("inactiveColor"),h.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:h}}function lGe(n){var e=n.icon||"roundRect",t=yA(e,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return t.setStyle(n.itemStyle),t.rotation=(n.iconRotate||0)*Math.PI/180,t.setOrigin([n.itemWidth/2,n.itemHeight/2]),e.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}function CV(n,e,t,r){FP(n,e,t,r),t.dispatchAction({type:"legendToggleSelect",name:n??e}),BP(n,e,t,r)}function Gne(n){for(var e=n.getZr().storage.getDisplayList(),t,r=0,i=e.length;r<i&&!(t=e[r].states.emphasis);)r++;return t&&t.hoverLayer}function BP(n,e,t,r){Gne(t)||t.dispatchAction({type:"highlight",seriesName:n,name:e,excludeSeriesId:r})}function FP(n,e,t,r){Gne(t)||t.dispatchAction({type:"downplay",seriesName:n,name:e,excludeSeriesId:r})}const Wne=sGe;function cGe(n){var e=n.findComponents({mainType:"legend"});e&&e.length&&n.filterSeries(function(t){for(var r=0;r<e.length;r++)if(!e[r].isSelected(t.name))return!1;return!0})}function s1(n,e,t){var r={},i=n==="toggleSelected",a;return t.eachComponent("legend",function(s){i&&a!=null?s[a?"select":"unSelect"](e.name):n==="allSelect"||n==="inverseSelect"?s[n]():(s[n](e.name),a=s.isSelected(e.name));var o=s.getData();ut(o,function(l){var c=l.get("name");if(!(c===`
`||c==="")){var u=s.isSelected(c);r.hasOwnProperty(c)?r[c]=r[c]&&u:r[c]=u}})}),n==="allSelect"||n==="inverseSelect"?{selected:r}:{name:e.name,selected:r}}function uGe(n){n.registerAction("legendToggleSelect","legendselectchanged",Vi(s1,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Vi(s1,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Vi(s1,"inverseSelect")),n.registerAction("legendSelect","legendselected",Vi(s1,"select")),n.registerAction("legendUnSelect","legendunselected",Vi(s1,"unSelect"))}function qne(n){n.registerComponentModel(NP),n.registerComponentView(Wne),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,cGe),n.registerSubTypeDefaulter("legend",function(){return"plain"}),uGe(n)}var dGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t}return e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(t,r,i){var a=hA(t);n.prototype.init.call(this,t,r,i),MV(this,t,a)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),MV(this,this.option,t)},e.type="legend.scroll",e.defaultOption=fee(NP.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(NP);function MV(n,e,t){var r=n.getOrient(),i=[1,1];i[r.index]=0,xg(e,t,{type:"box",ignoreSize:!!i})}const fGe=dGe;var TV=wo,M4=["width","height"],T4=["x","y"],hGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type=e.type,t.newlineDisabled=!0,t._currentIndex=0,t}return e.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new TV),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new TV)},e.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(t,r,i,a,s,o,l){var c=this;n.prototype.renderInner.call(this,t,r,i,a,s,o,l);var u=this._controllerGroup,d=r.get("pageIconSize",!0),f=Dn(d)?d:[d,d];p("pagePrev",0);var h=r.getModel("pageTextStyle");u.add(new Es({name:"pageText",style:{text:"xx/xx",fill:h.getTextColor(),font:h.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(m,v){var g=m+"DataIndex",y=j6(r.get("pageIcons",!0)[r.getOrient().name][v],{onclick:ii(c._pageGo,c,g,r,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});y.name=m,u.add(y)}},e.prototype.layoutInner=function(t,r,i,a,s,o){var l=this.getSelectorGroup(),c=t.getOrient().index,u=M4[c],d=T4[c],f=M4[1-c],h=T4[1-c];s&&lb("horizontal",l,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),m=l.getBoundingRect(),v=[-m.x,-m.y],g=Qr(i);s&&(g[u]=i[u]-m[u]-p);var y=this._layoutContentAndController(t,a,g,c,u,f,h,d);if(s){if(o==="end")v[c]+=y[u]+p;else{var b=m[u]+p;v[c]-=b,y[d]-=b}y[u]+=m[u]+p,v[1-c]+=y[h]+y[f]/2-m[f]/2,y[f]=Math.max(y[f],m[f]),y[h]=Math.min(y[h],m[h]+v[1-c]),l.x=v[0],l.y=v[1],l.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,r,i,a,s,o,l,c){var u=this.getContentGroup(),d=this._containerGroup,f=this._controllerGroup;lb(t.get("orient"),u,t.get("itemGap"),a?i.width:null,a?null:i.height),lb("horizontal",f,t.get("pageButtonItemGap",!0));var h=u.getBoundingRect(),p=f.getBoundingRect(),m=this._showController=h[s]>i[s],v=[-h.x,-h.y];r||(v[a]=u[c]);var g=[0,0],y=[-p.x,-p.y],b=Gr(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(m){var _=t.get("pageButtonPosition",!0);_==="end"?y[a]+=i[s]-p[s]:g[a]+=p[s]+b}y[1-a]+=h[o]/2-p[o]/2,u.setPosition(v),d.setPosition(g),f.setPosition(y);var x={x:0,y:0};if(x[s]=m?i[s]:h[s],x[o]=Math.max(h[o],p[o]),x[l]=Math.min(0,p[l]+y[1-a]),d.__rectSize=i[s],m){var S={x:0,y:0};S[s]=Math.max(i[s]-p[s]-b,0),S[o]=x[o],d.setClipPath(new Ra({shape:S})),d.__rectSize=S[s]}else f.eachChild(function(C){C.attr({invisible:!0,silent:!0})});var T=this._getPageInfo(t);return T.pageIndex!=null&&Va(u,{x:T.contentPosition[0],y:T.contentPosition[1]},m?t:null),this._updatePageInfoView(t,T),x},e.prototype._pageGo=function(t,r,i){var a=this._getPageInfo(r)[t];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:r.id})},e.prototype._updatePageInfoView=function(t,r){var i=this._controllerGroup;ut(["pagePrev","pageNext"],function(u){var d=u+"DataIndex",f=r[d]!=null,h=i.childOfName(u);h&&(h.setStyle("fill",f?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),h.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),s=t.get("pageFormatter"),o=r.pageIndex,l=o!=null?o+1:0,c=r.pageCount;a&&s&&a.setStyle("text",Qn(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",c==null?"":c+""):s({current:l,total:c}))},e.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=t.getOrient().index,o=M4[s],l=T4[s],c=this._findTargetItemIndex(r),u=i.children(),d=u[c],f=u.length,h=f?1:0,p={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var m=_(d);p.contentPosition[s]=-m.s;for(var v=c+1,g=m,y=m,b=null;v<=f;++v)b=_(u[v]),(!b&&y.e>g.s+a||b&&!x(b,g.s))&&(y.i>g.i?g=y:g=b,g&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=g.i),++p.pageCount)),y=b;for(var v=c-1,g=m,y=m,b=null;v>=-1;--v)b=_(u[v]),(!b||!x(y,b.s))&&g.i<y.i&&(y=g,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=g.i),++p.pageCount,++p.pageIndex),g=b;return p;function _(S){if(S){var T=S.getBoundingRect(),C=T[l]+S[l];return{s:C,e:C+T[o],i:S.__legendDataIndex}}}function x(S,T){return S.e>=T&&S.s<=T+a}},e.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var r,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===t&&(r=o)}),r??a},e.type="legend.scroll",e}(Wne);const pGe=hGe;function mGe(n){n.registerAction("legendScroll","legendscroll",function(e,t){var r=e.scrollDataIndex;r!=null&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},function(i){i.setScrollDataIndex(r)})})}function vGe(n){wc(qne),n.registerComponentModel(fGe),n.registerComponentView(pGe),mGe(n)}function Kne(n){wc(qne),wc(vGe)}var gGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.prototype.init=function(t,r,i){n.prototype.init.call(this,t,r,i),this._sourceManager=new qee(this),RU(this)},e.prototype.mergeOption=function(t,r){n.prototype.mergeOption.call(this,t,r),RU(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:iu},e}(Ni),yGe=function(n){wn(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.type="dataset",t}return e.type="dataset",e}(mu);function bGe(n){n.registerComponentModel(gGe),n.registerComponentView(yGe)}var A4=null;function _Ge(n){return A4||(A4=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),A4(n)}var E4=null;function wGe(n){E4||(E4=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),E4(n)}function xGe(n){var e=document.createElement("style");return e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),(document.querySelector("head")||document.body).appendChild(e),e}function Jx(n,e){e===void 0&&(e={});var t=document.createElement(n);return Object.keys(e).forEach(function(r){t[r]=e[r]}),t}function Yne(n,e,t){var r=window.getComputedStyle(n,t||null)||{display:"none"};return r[e]}function zP(n){if(!document.documentElement.contains(n))return{detached:!0,rendered:!1};for(var e=n;e!==document;){if(Yne(e,"display")==="none")return{detached:!1,rendered:!1};e=e.parentNode}return{detached:!1,rendered:!0}}var SGe='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}',UP=0,Q2=null;function CGe(n,e){n.__resize_mutation_handler__||(n.__resize_mutation_handler__=AGe.bind(n));var t=n.__resize_listeners__;if(!t){if(n.__resize_listeners__=[],window.ResizeObserver){var r=n.offsetWidth,i=n.offsetHeight,a=new ResizeObserver(function(){!n.__resize_observer_triggered__&&(n.__resize_observer_triggered__=!0,n.offsetWidth===r&&n.offsetHeight===i)||xM(n)}),s=zP(n),o=s.detached,l=s.rendered;n.__resize_observer_triggered__=o===!1&&l===!1,n.__resize_observer__=a,a.observe(n)}else if(n.attachEvent&&n.addEventListener)n.__resize_legacy_resize_handler__=function(){xM(n)},n.attachEvent("onresize",n.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",n.__resize_mutation_handler__);else if(UP||(Q2=xGe(SGe)),EGe(n),n.__resize_rendered__=zP(n).rendered,window.MutationObserver){var c=new MutationObserver(n.__resize_mutation_handler__);c.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),n.__resize_mutation_observer__=c}}n.__resize_listeners__.push(e),UP++}function MGe(n,e){var t=n.__resize_listeners__;if(t){if(e&&t.splice(t.indexOf(e),1),!t.length||!e){if(n.detachEvent&&n.removeEventListener){n.detachEvent("onresize",n.__resize_legacy_resize_handler__),document.removeEventListener("DOMSubtreeModified",n.__resize_mutation_handler__);return}n.__resize_observer__?(n.__resize_observer__.unobserve(n),n.__resize_observer__.disconnect(),n.__resize_observer__=null):(n.__resize_mutation_observer__&&(n.__resize_mutation_observer__.disconnect(),n.__resize_mutation_observer__=null),n.removeEventListener("scroll",P8),n.removeChild(n.__resize_triggers__.triggers),n.__resize_triggers__=null),n.__resize_listeners__=null}!--UP&&Q2&&Q2.parentNode.removeChild(Q2)}}function TGe(n){var e=n.__resize_last__,t=e.width,r=e.height,i=n.offsetWidth,a=n.offsetHeight;return i!==t||a!==r?{width:i,height:a}:null}function AGe(){var n=zP(this),e=n.rendered,t=n.detached;e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(D8(this),this.addEventListener("scroll",P8,!0)),this.__resize_rendered__=e,xM(this))}function P8(){var n=this;D8(this),this.__resize_raf__&&wGe(this.__resize_raf__),this.__resize_raf__=_Ge(function(){var e=TGe(n);e&&(n.__resize_last__=e,xM(n))})}function xM(n){!n||!n.__resize_listeners__||n.__resize_listeners__.forEach(function(e){e.call(n,n)})}function EGe(n){var e=Yne(n,"position");(!e||e==="static")&&(n.style.position="relative"),n.__resize_old_position__=e,n.__resize_last__={};var t=Jx("div",{className:"resize-triggers"}),r=Jx("div",{className:"resize-expand-trigger"}),i=Jx("div"),a=Jx("div",{className:"resize-contract-trigger"});r.appendChild(i),t.appendChild(r),t.appendChild(a),n.appendChild(t),n.__resize_triggers__={triggers:t,expand:r,expandChild:i,contract:a},D8(n),n.addEventListener("scroll",P8,!0),n.__resize_last__={width:n.offsetWidth,height:n.offsetHeight}}function D8(n){var e=n.__resize_triggers__,t=e.expand,r=e.expandChild,i=e.contract,a=i.scrollWidth,s=i.scrollHeight,o=t.offsetWidth,l=t.offsetHeight,c=t.scrollWidth,u=t.scrollHeight;i.scrollLeft=a,i.scrollTop=s,r.style.width=o+1+"px",r.style.height=l+1+"px",t.scrollLeft=c,t.scrollTop=u}var ju=function(){return ju=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},ju.apply(this,arguments)},IGe=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function RGe(n){return e=Object.create(null),IGe.forEach(function(t){e[t]=function(r){return function(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(!n.value)throw new Error("ECharts is not initialized yet.");return n.value[r].apply(n.value,i)}}(t)}),e;var e}var PGe={autoresize:[Boolean,Object]},DGe=/^on[^a-z]/,kGe=function(n){return DGe.test(n)};function eS(n,e){var t=w(n);return t&&typeof t=="object"&&"value"in t?t.value||e:t||e}var LGe="ecLoadingOptions",NGe={loading:Boolean,loadingOptions:Object},o1=null,Xne="x-vue-echarts",AV=[],l1=[];(function(n,e){if(n&&typeof document<"u"){var t,r=e.prepend===!0?"prepend":"append",i=e.singleTag===!0,a=typeof e.container=="string"?document.querySelector(e.container):document.getElementsByTagName("head")[0];if(i){var s=AV.indexOf(a);s===-1&&(s=AV.push(a)-1,l1[s]={}),t=l1[s]&&l1[s][r]?l1[s][r]:l1[s][r]=o()}else t=o();n.charCodeAt(0)===65279&&(n=n.substring(1)),t.styleSheet?t.styleSheet.cssText+=n:t.appendChild(document.createTextNode(n))}function o(){var l=document.createElement("style");if(l.setAttribute("type","text/css"),e.attributes)for(var c=Object.keys(e.attributes),u=0;u<c.length;u++)l.setAttribute(c[u],e.attributes[c[u]]);var d=r==="prepend"?"afterbegin":"beforeend";return a.insertAdjacentElement(d,l),l}})(`x-vue-echarts,.echarts-inner{display:block;width:100%;height:100%;min-width:0}
`,{});var OGe=function(){if(o1!=null)return o1;if(typeof HTMLElement>"u"||typeof customElements>"u")return o1=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(Xne)}catch{return o1=!1}return o1=!0}(),BGe="ecTheme",FGe="ecInitOptions",zGe="ecUpdateOptions",jne=Re({name:"echarts",props:ju(ju({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},PGe),NGe),emits:{},inheritAttrs:!1,setup:function(n,e){var t=e.attrs,r=Ir(),i=Ir(),a=Ir(),s=Ir(),o=Ot(BGe,null),l=Ot(FGe,null),c=Ot(zGe,null),u=ua(n),d=u.autoresize,f=u.manualUpdate,h=u.loading,p=u.loadingOptions,m=U(function(){return s.value||n.option||null}),v=U(function(){return n.theme||eS(o,{})}),g=U(function(){return n.initOptions||eS(l,{})}),y=U(function(){return n.updateOptions||eS(c,{})}),b=U(function(){return function(M){var A={};for(var I in M)kGe(I)||(A[I]=M[I]);return A}(t)}),_=kn().proxy.$listeners;function x(M){if(i.value){var A=a.value=G9e(i.value,v.value,g.value);n.group&&(A.group=n.group);var I=_;I||(I={},Object.keys(t).filter(function(L){return L.indexOf("on")===0&&L.length>2}).forEach(function(L){var F=L.charAt(2).toLowerCase()+L.slice(3);F.substring(F.length-4)==="Once"&&(F="~".concat(F.substring(0,F.length-4))),I[F]=t[L]})),Object.keys(I).forEach(function(L){var F=I[L];if(F){var B=L.toLowerCase();B.charAt(0)==="~"&&(B=B.substring(1),F.__once__=!0);var k=A;if(B.indexOf("zr:")===0&&(k=A.getZr(),B=B.substring(3)),F.__once__){delete F.__once__;var H=F;F=function(){for(var z=[],O=0;O<arguments.length;O++)z[O]=arguments[O];H.apply(void 0,z),k.off(B,F)}}k.on(B,F)}}),d.value?Yt(function(){A&&!A.isDisposed()&&A.resize(),D()}):D()}function D(){var L=M||m.value;L&&A.setOption(L,y.value)}}function S(){a.value&&(a.value.dispose(),a.value=void 0)}var T=null;dt(f,function(M){typeof T=="function"&&(T(),T=null),M||(T=dt(function(){return n.option},function(A,I){A&&(a.value?a.value.setOption(A,ju({notMerge:A!==I},y.value)):x())},{deep:!0}))},{immediate:!0}),dt([v,g],function(){S(),x()},{deep:!0}),Ea(function(){n.group&&a.value&&(a.value.group=n.group)});var C=RGe(a);return function(M,A,I){var D=Ot(LGe,{}),L=U(function(){return ju(ju({},eS(D,{})),I==null?void 0:I.value)});Ea(function(){var F=M.value;F&&(A.value?F.showLoading(L.value):F.hideLoading())})}(a,h,p),function(M,A,I){var D=null;dt([I,M,A],function(L,F,B){var k=L[0],H=L[1],z=L[2];if(k&&H&&z){var O=z===!0?{}:z,W=O.throttle,j=W===void 0?100:W,ee=O.onResize,te=function(){H.resize(),ee==null||ee()};D=j?gA(te,j):te,CGe(k,D)}B(function(){k&&D&&MGe(k,D)})})}(a,d,i),pn(function(){x()}),yr(function(){OGe&&r.value?r.value.__dispose=S:S()}),ju({chart:a,root:r,inner:i,setOption:function(M,A){n.manualUpdate&&(s.value=M),a.value?a.value.setOption(M,A||{}):x(M)},nonEventAttrs:b},C)},render:function(){var n=ju({},this.nonEventAttrs);return n.ref="root",n.class=n.class?["echarts"].concat(n.class):"echarts",Gt(Xne,n,[Gt("div",{ref:"inner",class:"echarts-inner"})])}});wc([T8,bGe]);wc(NUe);_Ue({type:"series.wordCloud",visualStyleAccessPath:"textStyle",visualStyleMapper:function(n){return{fill:n.get("color")}},visualDrawType:"fill",optionUpdated:function(){var n=this.option;n.gridSize=Math.max(Math.floor(n.gridSize),4)},getInitialData:function(n,e){var t=dze(n.data,{coordDimensions:["value"]}),r=new _A(t,this);return r.initData(n.data),r},defaultOption:{maskImage:null,shape:"circle",keepAspect:!1,left:"center",top:"center",width:"70%",height:"80%",sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:"normal"}}});wUe({type:"wordCloud",render:function(n,e,t){var r=this.group;r.removeAll();var i=n.getData(),a=n.get("gridSize");n.layoutInstance.ondraw=function(s,o,l,c){var u=i.getItemModel(l),d=u.getModel("textStyle"),f=new Es({style:u4(d),scaleX:1/c.info.mu,scaleY:1/c.info.mu,x:(c.gx+c.info.gw/2)*a,y:(c.gy+c.info.gh/2)*a,rotation:c.rot});f.setStyle({x:c.info.fillTextOffsetX,y:c.info.fillTextOffsetY+o*.5,text:s,verticalAlign:"middle",fill:i.getItemVisual(l,"style").fill,fontSize:o}),r.add(f),i.setItemGraphicEl(l,f),f.ensureState("emphasis").style=u4(u.getModel(["emphasis","textStyle"]),{state:"emphasis"}),f.ensureState("blur").style=u4(u.getModel(["blur","textStyle"]),{state:"blur"}),lM(f,u.get(["emphasis","focus"]),u.get(["emphasis","blurScope"])),f.stateTransition={duration:n.get("animation")?n.get(["stateAnimation","duration"]):0,easing:n.get(["stateAnimation","easing"])},f.__highDownDispatcher=!0},this._model=n},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}});/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */window.setImmediate||(window.setImmediate=function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],r="zero-timeout-message",i=function(s){var o=t.length;return t.push(s),window.postMessage(r+o.toString(36),"*"),o};return window.addEventListener("message",function(s){if(!(typeof s.data!="string"||s.data.substr(0,r.length)!==r)){s.stopImmediatePropagation();var o=parseInt(s.data.substr(r.length),36);t[o]&&(t[o](),t[o]=void 0)}},!0),window.clearImmediate=function(s){t[s]&&(t[s]=void 0)},i}()||function(t){window.setTimeout(t,0)}}());window.clearImmediate||(window.clearImmediate=function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}}());var k8=function(){var e=document.createElement("canvas");if(!e||!e.getContext)return!1;var t=e.getContext("2d");return!(!t||!t.getImageData||!t.fillText||!Array.prototype.some||!Array.prototype.push)}(),HP=function(){if(k8){for(var e=document.createElement("canvas").getContext("2d"),t=20,r,i;t;){if(e.font=t.toString(10)+"px sans-serif",e.measureText("Ｗ").width===r&&e.measureText("m").width===i)return t+1;r=e.measureText("Ｗ").width,i=e.measureText("m").width,t--}return 0}}(),UGe=function(n){if(Array.isArray(n)){var e=n.slice();return e.splice(0,2),e}else return[]},HGe=function(e){for(var t,r,i=e.length;i;)t=Math.floor(Math.random()*i),r=e[--i],e[i]=e[t],e[t]=r;return e},p0={},MA=function(e,t){if(!k8)return;var r=Math.floor(Math.random()*Date.now());Array.isArray(e)||(e=[e]),e.forEach(function(J,Q){if(typeof J=="string"){if(e[Q]=document.getElementById(J),!e[Q])throw new Error("The element id specified is not found.")}else if(!J.tagName&&!J.appendChild)throw new Error("You must pass valid HTML elements, or ID of the element.")});var i={list:[],fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:"#fff",gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:"rgba(255,0,0,0.3)",maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:"circle",ellipticity:.65,classes:null,hover:null,click:null};if(t)for(var a in t)a in i&&(i[a]=t[a]);if(typeof i.weightFactor!="function"){var s=i.weightFactor;i.weightFactor=function(Q){return Q*s}}if(typeof i.shape!="function")switch(i.shape){case"circle":default:i.shape="circle";break;case"cardioid":i.shape=function(Q){return 1-Math.sin(Q)};break;case"diamond":i.shape=function(Q){var ie=Q%(2*Math.PI/4);return 1/(Math.cos(ie)+Math.sin(ie))};break;case"square":i.shape=function(Q){return Math.min(1/Math.abs(Math.cos(Q)),1/Math.abs(Math.sin(Q)))};break;case"triangle-forward":i.shape=function(Q){var ie=Q%(2*Math.PI/3);return 1/(Math.cos(ie)+Math.sqrt(3)*Math.sin(ie))};break;case"triangle":case"triangle-upright":i.shape=function(Q){var ie=(Q+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(ie)+Math.sqrt(3)*Math.sin(ie))};break;case"pentagon":i.shape=function(Q){var ie=(Q+.955)%(2*Math.PI/5);return 1/(Math.cos(ie)+.726543*Math.sin(ie))};break;case"star":i.shape=function(Q){var ie=(Q+.955)%(2*Math.PI/10);return(Q+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-ie)+3.07768*Math.sin(2*Math.PI/10-ie)):1/(Math.cos(ie)+3.07768*Math.sin(ie))};break}i.gridSize=Math.max(Math.floor(i.gridSize),4);var o=i.gridSize,l=o-i.maskGapWidth,c=Math.abs(i.maxRotation-i.minRotation),u=Math.min(i.maxRotation,i.minRotation),d=i.rotationStep,f,h,p,m,v,g,y;function b(J,Q){return"hsl("+(Math.random()*360).toFixed()+","+(Math.random()*30+70).toFixed()+"%,"+(Math.random()*(Q-J)+J).toFixed()+"%)"}switch(i.color){case"random-dark":y=function(){return b(10,50)};break;case"random-light":y=function(){return b(50,90)};break;default:typeof i.color=="function"&&(y=i.color);break}var _;typeof i.fontWeight=="function"&&(_=i.fontWeight);var x=null;typeof i.classes=="function"&&(x=i.classes);var S=!1,T=[],C,M=function(Q){var ie=Q.currentTarget,le=ie.getBoundingClientRect(),we,Ae;Q.touches?(we=Q.touches[0].clientX,Ae=Q.touches[0].clientY):(we=Q.clientX,Ae=Q.clientY);var ke=we-le.left,Fe=Ae-le.top,q=Math.floor(ke*(ie.width/le.width||1)/o),ce=Math.floor(Fe*(ie.height/le.height||1)/o);return T[q]?T[q][ce]:null},A=function(Q){var ie=M(Q);if(C!==ie){if(C=ie,!ie){i.hover(void 0,void 0,Q);return}i.hover(ie.item,ie.dimension,Q)}},I=function(Q){var ie=M(Q);ie&&(i.click(ie.item,ie.dimension,Q),Q.preventDefault())},D=[],L=function(Q){if(D[Q])return D[Q];var ie=Q*8,le=ie,we=[];for(Q===0&&we.push([m[0],m[1],0]);le--;){var Ae=1;i.shape!=="circle"&&(Ae=i.shape(le/ie*2*Math.PI)),we.push([m[0]+Q*Ae*Math.cos(-le/ie*2*Math.PI),m[1]+Q*Ae*Math.sin(-le/ie*2*Math.PI)*i.ellipticity,le/ie*2*Math.PI])}return D[Q]=we,we},F=function(){return i.abortThreshold>0&&new Date().getTime()-g>i.abortThreshold},B=function(){return i.rotateRatio===0||Math.random()>i.rotateRatio?0:c===0?u:u+Math.round(Math.random()*c/d)*d},k=function(Q,ie,le,we){var Ae=i.weightFactor(ie);if(Ae<=i.minSize)return!1;var ke=1;Ae<HP&&(ke=function(){for(var pe=2;pe*Ae<HP;)pe+=2;return pe}());var Fe;_?Fe=_(Q,ie,Ae,we):Fe=i.fontWeight;var q=document.createElement("canvas"),ce=q.getContext("2d",{willReadFrequently:!0});ce.font=Fe+" "+(Ae*ke).toString(10)+"px "+i.fontFamily;var re=ce.measureText(Q).width/ke,Ne=Math.max(Ae*ke,ce.measureText("m").width,ce.measureText("Ｗ").width)/ke,Pe=re+Ne*2,$e=Ne*3,Ue=Math.ceil(Pe/o),Ve=Math.ceil($e/o);Pe=Ue*o,$e=Ve*o;var je=-re/2,fe=-Ne*.4,$=Math.ceil((Pe*Math.abs(Math.sin(le))+$e*Math.abs(Math.cos(le)))/o),X=Math.ceil((Pe*Math.abs(Math.cos(le))+$e*Math.abs(Math.sin(le)))/o),me=X*o,Oe=$*o;q.setAttribute("width",me),q.setAttribute("height",Oe),ce.scale(1/ke,1/ke),ce.translate(me*ke/2,Oe*ke/2),ce.rotate(-le),ce.font=Fe+" "+(Ae*ke).toString(10)+"px "+i.fontFamily,ce.fillStyle="#000",ce.textBaseline="middle",ce.fillText(Q,je*ke,(fe+Ae*.5)*ke);var qe=ce.getImageData(0,0,me,Oe).data;if(F())return!1;for(var mt=[],pt=X,Ce,ft,at,G=[$/2,X/2,$/2,X/2];pt--;)for(Ce=$;Ce--;){at=o;e:for(;at--;)for(ft=o;ft--;)if(qe[((Ce*o+at)*me+(pt*o+ft))*4+3]){mt.push([pt,Ce]),pt<G[3]&&(G[3]=pt),pt>G[1]&&(G[1]=pt),Ce<G[0]&&(G[0]=Ce),Ce>G[2]&&(G[2]=Ce);break e}}return{mu:ke,occupied:mt,bounds:G,gw:X,gh:$,fillTextOffsetX:je,fillTextOffsetY:fe,fillTextWidth:re,fillTextHeight:Ne,fontSize:Ae}},H=function(Q,ie,le,we,Ae){for(var ke=Ae.length;ke--;){var Fe=Q+Ae[ke][0],q=ie+Ae[ke][1];if(Fe>=h||q>=p||Fe<0||q<0){if(!i.drawOutOfBound)return!1;continue}if(!f[Fe][q])return!1}return!0},z=function(Q,ie,le,we,Ae,ke,Fe,q,ce,re){var Ne=le.fontSize,Pe;y?Pe=y(we,Ae,Ne,ke,Fe,re):Pe=i.color;var $e;_?$e=_(we,Ae,Ne,re):$e=i.fontWeight;var Ue;x?Ue=x(we,Ae,Ne,re):Ue=i.classes,e.forEach(function(Ve){if(Ve.getContext){var je=Ve.getContext("2d"),fe=le.mu;je.save(),je.scale(1/fe,1/fe),je.font=$e+" "+(Ne*fe).toString(10)+"px "+i.fontFamily,je.fillStyle=Pe,je.translate((Q+le.gw/2)*o*fe,(ie+le.gh/2)*o*fe),q!==0&&je.rotate(-q),je.textBaseline="middle",je.fillText(we,le.fillTextOffsetX*fe,(le.fillTextOffsetY+Ne*.5)*fe),je.restore()}else{var $=document.createElement("span"),X="";X="rotate("+-q/Math.PI*180+"deg) ",le.mu!==1&&(X+="translateX(-"+le.fillTextWidth/4+"px) scale("+1/le.mu+")");var me={position:"absolute",display:"block",font:$e+" "+Ne*le.mu+"px "+i.fontFamily,left:(Q+le.gw/2)*o+le.fillTextOffsetX+"px",top:(ie+le.gh/2)*o+le.fillTextOffsetY+"px",width:le.fillTextWidth+"px",height:le.fillTextHeight+"px",lineHeight:Ne+"px",whiteSpace:"nowrap",transform:X,webkitTransform:X,msTransform:X,transformOrigin:"50% 40%",webkitTransformOrigin:"50% 40%",msTransformOrigin:"50% 40%"};Pe&&(me.color=Pe),$.textContent=we;for(var Oe in me)$.style[Oe]=me[Oe];if(ce)for(var qe in ce)$.setAttribute(qe,ce[qe]);Ue&&($.className+=Ue),Ve.appendChild($)}})},O=function(Q,ie,le,we,Ae){if(!(Q>=h||ie>=p||Q<0||ie<0)){if(f[Q][ie]=!1,le){var ke=e[0].getContext("2d");ke.fillRect(Q*o,ie*o,l,l)}S&&(T[Q][ie]={item:Ae,dimension:we})}},W=function(Q,ie,le,we,Ae,ke){var Fe=Ae.occupied,q=i.drawMask,ce;q&&(ce=e[0].getContext("2d"),ce.save(),ce.fillStyle=i.maskColor);var re;if(S){var Ne=Ae.bounds;re={x:(Q+Ne[3])*o,y:(ie+Ne[0])*o,w:(Ne[1]-Ne[3]+1)*o,h:(Ne[2]-Ne[0]+1)*o}}for(var Pe=Fe.length;Pe--;){var $e=Q+Fe[Pe][0],Ue=ie+Fe[Pe][1];$e>=h||Ue>=p||$e<0||Ue<0||O($e,Ue,q,re,ke)}q&&ce.restore()},j=function J(Q,ie){if(ie>20)return null;var le,we,Ae;Array.isArray(Q)?(le=Q[0],we=Q[1]):(le=Q.word,we=Q.weight,Ae=Q.attributes);var ke=B(),Fe=UGe(Q),q=k(le,we,ke,Fe);if(!q||F())return!1;if(!i.drawOutOfBound&&!i.shrinkToFit){var ce=q.bounds;if(ce[1]-ce[3]+1>h||ce[2]-ce[0]+1>p)return!1}for(var re=v+1,Ne=function(Ve){var je=Math.floor(Ve[0]-q.gw/2),fe=Math.floor(Ve[1]-q.gh/2),$=q.gw,X=q.gh;return H(je,fe,$,X,q.occupied)?(z(je,fe,q,le,we,v-re,Ve[2],ke,Ae,Fe),W(je,fe,$,X,q,Q),{gx:je,gy:fe,rot:ke,info:q}):!1};re--;){var Pe=L(v-re);i.shuffle&&(Pe=[].concat(Pe),HGe(Pe));for(var $e=0;$e<Pe.length;$e++){var Ue=Ne(Pe[$e]);if(Ue)return Ue}}return i.shrinkToFit?(Array.isArray(Q)?Q[1]=Q[1]*3/4:Q.weight=Q.weight*3/4,J(Q,ie+1)):null},ee=function(Q,ie,le){if(ie)return!e.some(function(we){var Ae=new CustomEvent(Q,{detail:le||{}});return!we.dispatchEvent(Ae)},this);e.forEach(function(we){var Ae=new CustomEvent(Q,{detail:le||{}});we.dispatchEvent(Ae)},this)},te=function(){var Q=e[0];if(Q.getContext)h=Math.ceil(Q.width/o),p=Math.ceil(Q.height/o);else{var ie=Q.getBoundingClientRect();h=Math.ceil(ie.width/o),p=Math.ceil(ie.height/o)}if(ee("wordcloudstart",!0)){m=i.origin?[i.origin[0]/o,i.origin[1]/o]:[h/2,p/2],v=Math.floor(Math.sqrt(h*h+p*p)),f=[];var le,we,Ae;if(!Q.getContext||i.clearCanvas)for(e.forEach(function(fe){if(fe.getContext){var $=fe.getContext("2d");$.fillStyle=i.backgroundColor,$.clearRect(0,0,h*(o+1),p*(o+1)),$.fillRect(0,0,h*(o+1),p*(o+1))}else fe.textContent="",fe.style.backgroundColor=i.backgroundColor,fe.style.position="relative"}),le=h;le--;)for(f[le]=[],we=p;we--;)f[le][we]=!0;else{var ke=document.createElement("canvas").getContext("2d");ke.fillStyle=i.backgroundColor,ke.fillRect(0,0,1,1);var Fe=ke.getImageData(0,0,1,1).data,q=Q.getContext("2d").getImageData(0,0,h*o,p*o).data;le=h;for(var ce,re;le--;)for(f[le]=[],we=p;we--;){re=o;e:for(;re--;)for(ce=o;ce--;)for(Ae=4;Ae--;)if(q[((we*o+re)*h*o+(le*o+ce))*4+Ae]!==Fe[Ae]){f[le][we]=!1;break e}f[le][we]!==!1&&(f[le][we]=!0)}q=ke=Fe=void 0}if(i.hover||i.click){for(S=!0,le=h+1;le--;)T[le]=[];i.hover&&Q.addEventListener("mousemove",A),i.click&&(Q.addEventListener("click",I),Q.addEventListener("touchstart",I),Q.addEventListener("touchend",function(fe){fe.preventDefault()}),Q.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)"),Q.addEventListener("wordcloudstart",function fe(){Q.removeEventListener("wordcloudstart",fe),Q.removeEventListener("mousemove",A),Q.removeEventListener("click",I),C=void 0})}Ae=0;var Ne,Pe,$e=!0;i.layoutAnimation?i.wait!==0?(Ne=window.setTimeout,Pe=window.clearTimeout):(Ne=window.setImmediate,Pe=window.clearImmediate):(Ne=function(fe){fe()},Pe=function(){$e=!1});var Ue=function($,X){e.forEach(function(me){me.addEventListener($,X)},this)},Ve=function($,X){e.forEach(function(me){me.removeEventListener($,X)},this)},je=function fe(){Ve("wordcloudstart",fe),Pe(p0[r])};Ue("wordcloudstart",je),p0[r]=(i.layoutAnimation?Ne:setTimeout)(function fe(){if($e){if(Ae>=i.list.length){Pe(p0[r]),ee("wordcloudstop",!1),Ve("wordcloudstart",je),delete p0[r];return}g=new Date().getTime();var $=j(i.list[Ae],0),X=!ee("wordclouddrawn",!0,{item:i.list[Ae],drawn:$});if(F()||X){Pe(p0[r]),i.abort(),ee("wordcloudabort",!1),ee("wordcloudstop",!1),Ve("wordcloudstart",je);return}Ae++,p0[r]=Ne(fe,i.wait)}},i.wait)}};te()};MA.isSupported=k8;MA.minFontSize=HP;if(!MA.isSupported)throw new Error("Sorry your browser not support wordCloud");function VGe(n){for(var e=n.getContext("2d"),t=e.getImageData(0,0,n.width,n.height),r=e.createImageData(t),i=0,a=0,s=0;s<t.data.length;s+=4){var o=t.data[s+3];if(o>128){var l=t.data[s]+t.data[s+1]+t.data[s+2];i+=l,++a}}for(var c=i/a,s=0;s<t.data.length;s+=4){var l=t.data[s]+t.data[s+1]+t.data[s+2],o=t.data[s+3];o<128||l>c?(r.data[s]=0,r.data[s+1]=0,r.data[s+2]=0,r.data[s+3]=0):(r.data[s]=255,r.data[s+1]=255,r.data[s+2]=255,r.data[s+3]=255)}e.putImageData(r,0,0)}Pte(function(n,e){n.eachSeriesByType("wordCloud",function(t){var r=lh(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),i=t.get("keepAspect"),a=t.get("maskImage"),s=a?a.width/a.height:1;i&&$Ge(r,s);var o=t.getData(),l=document.createElement("canvas");l.width=r.width,l.height=r.height;var c=l.getContext("2d");if(a)try{c.drawImage(a,0,0,l.width,l.height),VGe(l)}catch(v){console.error("Invalid mask image"),console.error(v.toString())}var u=t.get("sizeRange"),d=t.get("rotationRange"),f=o.getDataExtent("value"),h=Math.PI/180,p=t.get("gridSize");MA(l,{list:o.mapArray("value",function(v,g){var y=o.getItemModel(g);return[o.getName(g),y.get("textStyle.fontSize",!0)||nM(v,f,u),g]}).sort(function(v,g){return g[1]-v[1]}),fontFamily:t.get("textStyle.fontFamily")||t.get("emphasis.textStyle.fontFamily")||n.get("textStyle.fontFamily"),fontWeight:t.get("textStyle.fontWeight")||t.get("emphasis.textStyle.fontWeight")||n.get("textStyle.fontWeight"),gridSize:p,ellipticity:r.height/r.width,minRotation:d[0]*h,maxRotation:d[1]*h,clearCanvas:!a,rotateRatio:1,rotationStep:t.get("rotationStep")*h,drawOutOfBound:t.get("drawOutOfBound"),shrinkToFit:t.get("shrinkToFit"),layoutAnimation:t.get("layoutAnimation"),shuffle:!1,shape:t.get("shape")});function m(v){var g=v.detail.item;v.detail.drawn&&t.layoutInstance.ondraw&&(v.detail.drawn.gx+=r.x/p,v.detail.drawn.gy+=r.y/p,t.layoutInstance.ondraw(g[0],g[1],g[2],v.detail.drawn))}l.addEventListener("wordclouddrawn",m),t.layoutInstance&&t.layoutInstance.dispose(),t.layoutInstance={ondraw:null,dispose:function(){l.removeEventListener("wordclouddrawn",m),l.addEventListener("wordclouddrawn",function(v){v.preventDefault()})}}})});y8(function(n){var e=(n||{}).series;!Dn(e)&&(e=e?[e]:[]);var t=["shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];ut(e,function(i){if(i&&i.type==="wordCloud"){var a=i.textStyle||{};r(a.normal),r(a.emphasis)}});function r(i){i&&ut(t,function(a){i.hasOwnProperty(a)&&(i["text"+e7e(a)]=i[a])})}});function $Ge(n,e){var t=n.width,r=n.height;t>r*e?(n.x+=(t-r*e)/2,n.width=r*e):(n.y+=(r-t/e)/2,n.height=t/e)}wc([T8,xne,mHe,r$e,$ne,Vne,Kne,D$e]);const GGe={components:{VChart:jne},setup(){$n("THEME_KEY","light")},data(){return{pieOption:{title:{text:"Coarse-Grained Categories Distribution",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"horizontal",bottom:"bottom"},series:[{name:"Categories",type:"pie",radius:"50%",center:["50%","50%"],data:[{value:45861,name:"Sport"},{value:17375,name:"Entertainment"},{value:29063,name:"Safety"},{value:44378,name:"Politics"},{value:16886,name:"Environment"},{value:29829,name:"Daily Life"},{value:18765,name:"Health"},{value:5968,name:"Culture"},{value:7901,name:"Infrastructure"},{value:8812,name:"Technology"},{value:4991,name:"Education"},{value:23138,name:"Economy"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},barOption:{title:{text:"Text Length Distribution",left:"center"},tooltip:{trigger:"axis"},grid:{left:"15%",right:"15%",width:"70%"},xAxis:{type:"category",data:["0-200","200-400","400-600","600-800","800-1000","1000+"]},yAxis:{type:"value"},series:[{name:"Count",type:"bar",data:[19222,65493,53636,34811,20134,2801],itemStyle:{color:"#2bc194"}}]},barOption1:{title:{text:"Image Number Distribution",left:"center"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["1","2","3","4","5","5+"]},yAxis:{type:"value"},series:[{name:"Count",type:"bar",data:[99384,39102,25039,13415,17470,1687],itemStyle:{color:"#2bc194"}}]},labelOption1:{title:{text:"Level1-Label NumberDistribution",left:"center"},tooltip:{trigger:"axis"},grid:{left:"15%",right:"15%",width:"70%"},xAxis:{type:"category",data:["1","2","3+"]},yAxis:{type:"value"},series:[{name:"Count",type:"bar",data:[168648,25511,1938],itemStyle:{color:"#9ec3ff"}}]},labelOption2:{title:{text:"Level2-Label Number Distribution",left:"center"},tooltip:{trigger:"axis"},grid:{left:"15%",right:"15%",width:"70%"},xAxis:{type:"category",data:["1","2","3","4","5+"]},yAxis:{type:"value"},series:[{name:"Count",type:"bar",data:[149530,37663,7595,1087,222],itemStyle:{color:"#ff9e9e"}}]},treeOption:{title:{text:"Fine-Grained Categories Distribution",left:"center"},tooltip:{trigger:"item",triggerOn:"mousemove"},series:[{type:"tree",data:[{name:"News-M3F",children:[{name:"Politics",children:[{name:"US Election",value:11399},{name:"England Election",value:954},{name:"Wales Election",value:256},{name:"Scotland Election",value:254},{name:"Northern Ireland Election",value:134},{name:"South Africa Election",value:104},{name:"French Election",value:109},{name:"European Election",value:109},{name:"Indian Election",value:84},{name:"Parliament",value:3428},{name:"Assembly",value:5077},{name:"National Defense Ministry",value:1231},{name:"Justice Ministry",value:1767},{name:"Foreign Affairs Ministry",value:504},{name:"Education Ministry",value:408},{name:"Transport Ministry",value:443},{name:"Agriculture Ministry",value:176},{name:"Health Ministry",value:1173},{name:"Customs",value:66},{name:"Finance Ministry",value:843},{name:"Cabinet Office",value:306},{name:"Interior Ministry",value:304},{name:"Prosecutors Office",value:151},{name:"Executive Branch",value:441},{name:"US Congress",value:887},{name:"Courts",value:8464},{name:"Immigration Policy",value:1509},{name:"United Nations",value:965},{name:"European Union",value:866},{name:"IMF",value:120},{name:"WHO",value:311},{name:"NATO",value:46},{name:"WTO",value:17},{name:"LGBT",value:1472}],collapsed:!0},{name:"Environment",children:[{name:"Extreme Weather",value:752},{name:"Flood",value:1215},{name:"Drought",value:321},{name:"Heatwave",value:416},{name:"Storm",value:1358},{name:"Earthquake",value:342},{name:"Hurricane",value:1207},{name:"Climate Change",value:1637},{name:"Land Animals",value:2210},{name:"Birds",value:946},{name:"Plants",value:455},{name:"Marine Life",value:963},{name:"Woodlands",value:76},{name:"Wetlands",value:44},{name:"Trees",value:383},{name:"Ocean",value:211},{name:"River",value:233},{name:"Forest",value:183},{name:"National Park",value:140},{name:"Wind Energy",value:140},{name:"Solar Energy",value:207},{name:"Hydrogen Energy",value:33},{name:"Energy Storage",value:262},{name:"Recycling",value:444},{name:"Waste Management",value:418},{name:"Carbon Management",value:625},{name:"Green Economy",value:131},{name:"Minerals",value:235},{name:"Pollution",value:1299}],collapsed:!1},{name:"Economy",children:[{name:"Brexit Impact",value:756},{name:"Inflation",value:2596},{name:"Recession",value:695},{name:"Global Trade",value:511},{name:"Stocks",value:3355},{name:"Bonds",value:367},{name:"Exchange Rates",value:247},{name:"Cost Of Living",value:1795},{name:"Personal Finance",value:229},{name:"Mortgages",value:1091},{name:"Poverty",value:207},{name:"Unemployment",value:1142},{name:"Employment",value:1811},{name:"Wages",value:1610},{name:"Gender Pay Gap",value:93},{name:"Taxation",value:1850},{name:"Cryptocurrency",value:823},{name:"Startups",value:90},{name:"Supply And Demand",value:429},{name:"Revenue",value:3441}],collapsed:!0},{name:"Safety",children:[{name:"Cyber Attacks",value:885},{name:"Surveillance",value:39},{name:"Espionage",value:511},{name:"Fraud",value:1804},{name:"Theft",value:959},{name:"Smuggling",value:310},{name:"Human Trafficking",value:113},{name:"Domestic Violence",value:245},{name:"Sexual Violence",value:975},{name:"Sexual Harassment",value:352},{name:"Murder",value:6268},{name:"Arson",value:498},{name:"Hate Crime",value:424},{name:"Drug Trafficking",value:728},{name:"Money Laundering",value:292},{name:"Financial Crime",value:300},{name:"Identity Theft",value:49},{name:"Judicial System",value:261},{name:"Parole Board",value:24},{name:"Human Rights",value:1718},{name:"Terrorism",value:1705},{name:"War",value:10603}],collapsed:!0},{name:"Culture",children:[{name:"Classical Music",value:82},{name:"Opera",value:150},{name:"Ballet",value:69},{name:"Contemporary Art",value:270},{name:"Street Art",value:151},{name:"Painting",value:785},{name:"Sculpture",value:840},{name:"Museum",value:796},{name:"Antique Collection",value:375},{name:"Archaeological Excavation",value:611},{name:"Historic Site Restoration",value:453},{name:"Human History",value:1386}],collapsed:!0},{name:"Entertainment",children:[{name:"Pop Music",value:1596},{name:"Hip Hop Music",value:382},{name:"Live Music",value:795},{name:"African Music",value:19},{name:"Music Festival",value:896},{name:"Film",value:4731},{name:"Bollywood",value:26},{name:"Hollywood",value:220},{name:"Oscar Awards",value:408},{name:"TV Series",value:1869},{name:"Reality Show",value:2629},{name:"Performance",value:1222},{name:"Jazz",value:14},{name:"Dance",value:1021},{name:"Comedy",value:623},{name:"Drama",value:213},{name:"Musical Theatre",value:252},{name:"Pantomime",value:21},{name:"Video Game",value:438},{name:"Wildlife Photography",value:0}],collapsed:!0},{name:"Technology",children:[{name:"Artificial Intelligence",value:1323},{name:"Robotics",value:308},{name:"Electric Vehicles",value:1054},{name:"Renewable Energy Tech",value:226},{name:"Hydrogen Vehicles",value:20},{name:"Battery",value:117},{name:"Semiconductor Chips",value:316},{name:"Quantum Computing",value:16},{name:"5G",value:58},{name:"Virtual Reality",value:119},{name:"Augmented Reality",value:39},{name:"Genetic Engineering",value:51},{name:"3D Printing",value:34},{name:"Drone",value:259},{name:"Aerospace Tech",value:1237},{name:"Mars",value:127},{name:"Moon",value:238},{name:"Space Tourism",value:106},{name:"ISS",value:231},{name:"Astronaut",value:337},{name:"Astronomy",value:351},{name:"Universe",value:160},{name:"Planetary Science",value:202},{name:"Comet",value:32},{name:"Biology",value:291},{name:"Physics",value:59},{name:"Chemistry",value:63},{name:"Earth Science",value:81},{name:"Genetics",value:29},{name:"Medical Research",value:865},{name:"Climate Science",value:93},{name:"Marine Science",value:41},{name:"Computer Science",value:305},{name:"Blockchain",value:24}],collapsed:!0},{name:"Education",children:[{name:"Primary School",value:247},{name:"Secondary School",value:161},{name:"Continuing Education",value:31},{name:"Higher Education",value:188},{name:"University",value:1611},{name:"Apprenticeship",value:48},{name:"Student Finance",value:157},{name:"Teacher",value:249},{name:"Exam",value:259},{name:"Education Policy",value:699},{name:"School Meals",value:118},{name:"Special Education",value:237},{name:"Early Childhood Education",value:92},{name:"Homeschooling",value:79},{name:"Parenting",value:116},{name:"Child Health",value:226},{name:"Children's Rights",value:98},{name:"Child Poverty",value:86},{name:"Adolescent Mental Health",value:122},{name:"Social Media Impact",value:167}],collapsed:!0},{name:"Health",children:[{name:"Mental Health",value:728},{name:"Cancer",value:1039},{name:"Dementia",value:300},{name:"Diabetes",value:122},{name:"Heart Disease",value:210},{name:"Stroke",value:89},{name:"Obesity",value:214},{name:"Eating Disorders",value:28},{name:"Depression",value:90},{name:"Anxiety",value:37},{name:"Parkinson's Disease",value:47},{name:"ADHD",value:15},{name:"Autism",value:100},{name:"Down Syndrome",value:37},{name:"Cerebral Palsy",value:47},{name:"COVID 19",value:7973},{name:"Monkeypox",value:171},{name:"Measles",value:65},{name:"Influenza",value:187},{name:"Ebola",value:66},{name:"Respiratory Disease",value:82},{name:"Sepsis",value:30},{name:"HIV AIDS",value:134},{name:"Hepatitis",value:35},{name:"Fertility",value:139},{name:"Pregnancy",value:237},{name:"Childbirth",value:131},{name:"Menopause",value:16},{name:"Vaccination",value:3202},{name:"Blood Donation",value:32},{name:"Organ Donation",value:50},{name:"Transplant",value:110},{name:"Medical Cannabis",value:108},{name:"Prescription Drugs",value:183},{name:"Nutrition",value:105},{name:"Alcoholism",value:131},{name:"Smoking",value:281},{name:"Drug Abuse",value:326},{name:"Misogyny",value:32},{name:"Learning Disabilities",value:16},{name:"Pharmaceutical Industry",value:314},{name:"Nursing",value:866},{name:"Midwifery",value:52},{name:"Dentistry",value:100},{name:"Nursing Home",value:302},{name:"Elderly Care",value:90},{name:"Dermatological Disease",value:14},{name:"Chronic Disease",value:14},{name:"Genetic Disease",value:30},{name:"Cardiovascular Disease",value:14},{name:"Gastrointestinal Disease",value:24}],collapsed:!0},{name:"Daily Life",children:[{name:"Rescue Operations",value:3034},{name:"Safety Incidents",value:7258},{name:"Social Security",value:1708},{name:"Population Aging",value:39},{name:"Gender Equality",value:563},{name:"Consumer Shopping",value:2814},{name:"Cuisine",value:2082},{name:"Family Life",value:2517},{name:"Transportation",value:4265},{name:"Charitable Welfare",value:2112},{name:"Commemorations",value:1678},{name:"Festival Activities",value:1759}],collapsed:!0},{name:"Sport",children:[{name:"Archery",value:23},{name:"Athletics",value:825},{name:"Badminton",value:31},{name:"Basketball",value:3356},{name:"Boxing",value:946},{name:"Canoeing",value:69},{name:"Cycling",value:701},{name:"Diving",value:45},{name:"Equestrian",value:278},{name:"Fencing",value:26},{name:"Field Hockey",value:91},{name:"Football (Soccer)",value:20195},{name:"Golf",value:1784},{name:"Gymnastics",value:211},{name:"Judo",value:27},{name:"Rowing",value:72},{name:"Rugby",value:9241},{name:"Sailing",value:115},{name:"Shooting",value:19},{name:"Skateboarding",value:51},{name:"Sport Climbing",value:83},{name:"Surfing",value:85},{name:"Swimming",value:499},{name:"Table Tennis",value:32},{name:"Taekwondo",value:28},{name:"Tennis",value:2305},{name:"Triathlon",value:84},{name:"Volleyball",value:56},{name:"Weightlifting",value:40},{name:"Wrestling",value:107},{name:"Billiards",value:91},{name:"Motor Racing",value:1368},{name:"Baseball",value:2925},{name:"Esports",value:52}],collapsed:!0},{name:"Infrastructure",children:[{name:"Highway",value:1050},{name:"Railway",value:670},{name:"Port",value:234},{name:"Power System",value:596},{name:"Water Conservancy",value:141},{name:"Commercial Development",value:684},{name:"Airport Development",value:120},{name:"Smart City",value:208},{name:"Medical Facilities",value:513},{name:"Educational Infrastructure",value:408},{name:"Cultural And Sports Facilities",value:860},{name:"Community Service Facilities",value:1603},{name:"Government Agency Infrastructure",value:172},{name:"Environmental Protection Infrastructure",value:238},{name:"Disaster Prevention And Reconstruction",value:404}],collapsed:!0}]}],top:"10%",left:"12%",bottom:"1%",right:"30%",symbolSize:7,label:{position:"left",verticalAlign:"middle",align:"right",fontSize:9},leaves:{label:{position:"right",verticalAlign:"middle",align:"left"}},emphasis:{focus:"descendant"},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]},wordCloudOption:{title:{text:"News Keywords Cloud",left:"center"},tooltip:{},series:[{type:"wordCloud",shape:"circle",left:"center",top:"center",width:"85%",height:"85%",right:null,bottom:null,sizeRange:[8,50],rotationRange:[-90,90],rotationStep:45,gridSize:4,drawOutOfBound:!1,textStyle:{fontFamily:"sans-serif",fontWeight:"bold",color:function(){return"rgb("+[Math.round(Math.random()*160),Math.round(Math.random()*160),Math.round(Math.random()*160)].join(",")+")"}},emphasis:{focus:"self",textStyle:{shadowBlur:10,shadowColor:"#333"}},data:[{name:"people",value:159505},{name:"government",value:64235},{name:"President",value:48524},{name:"state",value:49712},{name:"company",value:37753},{name:"health",value:41967},{name:"team",value:54763},{name:"game",value:49044},{name:"million",value:48681},{name:"years",value:71059},{name:"year",value:69283},{name:"time",value:98428},{name:"work",value:54462},{name:"home",value:53107},{name:"story",value:40019},{name:"House",value:39591},{name:"week",value:44756},{name:"number",value:44422},{name:"part",value:56524},{name:"end",value:46261},{name:"way",value:46800},{name:"public",value:46108},{name:"right",value:39104},{name:"left",value:37630},{name:"support",value:45128},{name:"win",value:41586},{name:"Trump",value:71383},{name:"Biden",value:40593},{name:"US",value:79747},{name:"UK",value:39553},{name:"BBC",value:63009},{name:"CNN",value:37596},{name:"court",value:36296},{name:"police",value:35005},{name:"election",value:31795},{name:"campaign",value:28588},{name:"media",value:28485},{name:"National",value:27792},{name:"federal",value:27662},{name:"Department",value:26607},{name:"Republican",value:25554},{name:"president",value:24780},{name:"law",value:25178},{name:"military",value:23563},{name:"White",value:23215},{name:"Russian",value:23198},{name:"international",value:23021},{name:"political",value:22936},{name:"official",value:22784},{name:"chief",value:21950},{name:"data",value:21818},{name:"U.S.",value:30051},{name:"South",value:35994},{name:"West",value:23203},{name:"York",value:23100},{name:"Wales",value:22445},{name:"children",value:27230},{name:"American",value:26705},{name:"world",value:31363},{name:"city",value:24913},{name:"school",value:28205},{name:"family",value:32139},{name:"social",value:31691},{name:"report",value:33577},{name:"case",value:29825},{name:"decision",value:29774},{name:"record",value:23046},{name:"Trump’s",value:21424},{name:"Cup",value:21266},{name:"Donald",value:20551},{name:"business",value:20503},{name:"power",value:20408},{name:"director",value:20388},{name:"cases",value:20245},{name:"State",value:19991},{name:"football",value:19915},{name:"killed",value:19779},{name:"European",value:19648},{name:"financial",value:19369},{name:"market",value:19346},{name:"council",value:19289},{name:"death",value:19197},{name:"University",value:19162},{name:"legal",value:18976},{name:"climate",value:18941},{name:"Joe",value:18873},{name:"office",value:18714},{name:"2020",value:18703},{name:"war",value:18672},{name:"vote",value:18563},{name:"security",value:18472},{name:"party",value:18407},{name:"attack",value:18358},{name:"impact",value:18321},{name:"Covid-19",value:18275},{name:"companies",value:18198},{name:"Democratic",value:18187},{name:"community",value:18127},{name:"economic",value:17958},{name:"Premier",value:17919},{name:"British",value:17851},{name:"billion",value:17832},{name:"system",value:17719},{name:"global",value:17392},{name:"leader",value:17161},{name:"Israel",value:17153},{name:"Liverpool",value:17115},{name:"evidence",value:17100},{name:"Senate",value:17003},{name:"Ukraine",value:16796},{name:"investigation",value:16760},{name:"Israeli",value:16690},{name:"energy",value:16599},{name:"Manchester",value:16524},{name:"workers",value:16405},{name:"action",value:16278},{name:"rights",value:16236},{name:"Council",value:15928},{name:"Minister",value:15917},{name:"tax",value:15903},{name:"executive",value:15810},{name:"Ireland",value:15772},{name:"presidential",value:15689},{name:"Police",value:15679},{name:"East",value:15678},{name:"Russia",value:15611},{name:"administration",value:15578},{name:"London",value:15492},{name:"students",value:15421},{name:"Republicans",value:15378},{name:"economy",value:15300},{name:"safety",value:15298},{name:"medical",value:15246},{name:"race",value:15164},{name:"Northern",value:15079},{name:"Scotland",value:15028},{name:"control",value:14994},{name:"states",value:15071},{name:"hospital",value:14789},{name:"2024",value:14613},{name:"authorities",value:14527},{name:"coronavirus",value:14509},{name:"trial",value:14501},{name:"general",value:14463},{name:"pandemic",value:14401},{name:"inflation",value:14388},{name:"Health",value:14329},{name:"policy",value:14324},{name:"funding",value:14296},{name:"Supreme",value:14270},{name:"vaccine",value:14135},{name:"Democrats",value:13983},{name:"Justice",value:13634},{name:"bill",value:13631},{name:"minister",value:13598},{name:"league",value:13466},{name:"judge",value:13322},{name:"voters",value:13296},{name:"history",value:13294},{name:"fight",value:13226},{name:"leaders",value:13216},{name:"Labour",value:12778},{name:"officers",value:12759},{name:"States",value:12577},{name:"agency",value:12517},{name:"emergency",value:12426},{name:"committee",value:12389},{name:"research",value:12364},{name:"schools",value:12248},{name:"China",value:12244},{name:"project",value:12241},{name:"age",value:12013},{name:"host",value:12003},{name:"position",value:11979},{name:"force",value:11890},{name:"groups",value:11887},{name:"criminal",value:11870},{name:"opportunity",value:11848},{name:"road",value:11821},{name:"focus",value:11809},{name:"Americans",value:11806},{name:"French",value:11803},{name:"contract",value:11765},{name:"experience",value:11762},{name:"poll",value:11723},{name:"patients",value:11691},{name:"charges",value:11667},{name:"Covid",value:11650},{name:"effort",value:11641},{name:"homes",value:11571},{name:"rules",value:11539},{name:"college",value:11519},{name:"reports",value:11507},{name:"jobs",value:11506},{name:"industry",value:11495},{name:"couple",value:11471},{name:"David",value:11470},{name:"goals",value:11435},{name:"study",value:11372},{name:"News",value:11350},{name:"period",value:11223},{name:"Washington",value:11221},{name:"strike",value:11207},{name:"Office",value:11205},{name:"situation",value:11156},{name:"growth",value:11137},{name:"events",value:11137},{name:"terms",value:11002},{name:"review",value:10997},{name:"attorney",value:10955},{name:"challenge",value:10925},{name:"parents",value:10891},{name:"firm",value:10891},{name:"town",value:10884},{name:"border",value:10864},{name:"board",value:10786},{name:"gas",value:10785},{name:"Texas",value:10706},{name:"warning",value:10697},{name:"Secretary",value:10693},{name:"NHS",value:10692},{name:"test",value:10681},{name:"ground",value:10679},{name:"interview",value:10648},{name:"Facebook",value:10641},{name:"Africa",value:10604},{name:"2021",value:10595},{name:"letter",value:10581},{name:"stage",value:10575},{name:"EU",value:10575},{name:"amount",value:10572},{name:"defense",value:10561},{name:"Instagram",value:10540},{name:"Johnson",value:10532},{name:"questions",value:10529},{name:"ball",value:10514},{name:"quarter",value:10477},{name:"lives",value:10466},{name:"businesses",value:10458},{name:"yards",value:10430},{name:"measures",value:10422},{name:"Top",value:10397},{name:"demand",value:10385},{name:"weather",value:10372},{name:"charge",value:10370},{name:"rest",value:10348},{name:"matter",value:10337},{name:"customers",value:10312},{name:"performance",value:10307},{name:"message",value:10258},{name:"Street",value:10254},{name:"question",value:10226},{name:"calls",value:10226},{name:"course",value:10137},{name:"TV",value:10112},{name:"list",value:10082},{name:"comment",value:10077},{name:"forces",value:10052},{name:"figures",value:10050},{name:"Chinese",value:10039},{name:"voting",value:10018},{name:"lack",value:10006}]}]}}}},WGe=n=>(xc("data-v-02f7d5a9"),n=n(),Sc(),n),qGe=WGe(()=>ve("h1",{class:"section-title"},"Dataset Statistic",-1));function KGe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("v-chart"),c=Et("el-col");return V(),he("div",null,[ue(s),ue(o,{justify:"center"},{default:be(()=>[qGe]),_:1}),ue(o,{justify:"center"},{default:be(()=>[ue(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(l,{class:"chart",option:i.pieOption,autoresize:""},null,8,["option"])]),_:1})]),_:1}),ue(o,{justify:"center",style:{"margin-top":"40px"}},{default:be(()=>[ue(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(l,{class:"chart",option:i.treeOption,autoresize:""},null,8,["option"])]),_:1})]),_:1}),ue(o,{justify:"center",style:{"margin-top":"40px"}},{default:be(()=>[ue(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(l,{class:"chart",option:i.barOption,autoresize:""},null,8,["option"])]),_:1})]),_:1}),ue(o,{justify:"center",style:{"margin-top":"40px"}},{default:be(()=>[ue(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(l,{class:"chart",option:i.labelOption1,autoresize:""},null,8,["option"])]),_:1})]),_:1}),ue(o,{justify:"center",style:{"margin-top":"20px"}},{default:be(()=>[ue(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(l,{class:"chart",option:i.labelOption2,autoresize:""},null,8,["option"])]),_:1})]),_:1}),ue(o,{justify:"center",style:{"margin-top":"10px"}},{default:be(()=>[ue(c,{xs:24,sm:24,md:20,lg:16,xl:16},{default:be(()=>[ue(l,{class:"chart word-cloud-chart",option:i.wordCloudOption,autoresize:""},null,8,["option"])]),_:1})]),_:1})])}const YGe=Ga(GGe,[["render",KGe],["__scopeId","data-v-02f7d5a9"]]),XGe={data(){return{datasetItems:[{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_7.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-031247_6.png"],primaryTags:["Economy","Economy"],secondaryTags:["Revenue","Stocks"],text:"Tesla reported slower third quarter sales that fell short of Wall Street forecasts. The world’s largest electric car maker reported it delivered 435,000 vehicles in the period. That’s down 7% from the 466,000 deliveries in the second quarter. Analysts surveyed by FactSet Research had expected sales to come in at 461,000, just short of second quarter numbers. Tesla said it should still be able to hit its target of full-year sales of 1.8 million vehicles, but to do so it would have to achieve about a 9% increase in sales in the final three months of the year compared to the just completed quarter. “In a nutshell, there was nothing to write home about in these numbers and the Street will be left wanting more,” wrote tech analyst Dan Ives in a note about the Tesla sales report early Monday, though he remains bullish on the stock. The company also had warned that summer shutdowns for various upgrades could affect its factory output, and that was apparently the case, as production fell even more than sales, dropping 10% compared to the second quarter. But for the first time since the first three months of 2022, the company delivered more vehicles than it produced. Wall Street analysts who are bearish on Tesla have been pointing to the sales falling short of production in the previous five quarters, as a sign of weakening demand for Tesla’s cars. Tesla, the most profitable automaker, has been cutting prices to spur greater demand for its cars and continue to hit aggressive growth rates. CEO Elon Musk has said that the price cuts are partly driven by macroeconomic factors, such as rising interest rates. But with increased competition from electric vehicle offerings of established automakers, the company has been willing to report somewhat thinner profit margins in order in order to spur more demand. The company also has relatively new factories in Germany and Texas continuing to ramp up production. So continued strong demand is needed to move the increasing output of those factories. Shares of Tesla were little changed in morning trading on the sales news, after opening down 2%.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-021795_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-021795_1.png"],primaryTags:["Sport"],secondaryTags:["Football (Soccer)"],text:'Football club gives out free school PE kits  .A football club is providing PE kits for 3,500 pupils in a town for the new school year to help families struggling with the cost of living.   ,Stockport County Community Trust said “a recurring theme” in primary schools was “children sitting out of PE lessons because they didn’t have PE kits”.,The club, who became League Two champions in April, are also aiming to raise funds to provide 12,500 PE kits to be distributed by September 2025.,A Stockport County spokesman said “pressures on the family purse” contributed to a lack of participation by primary school children, as a PE kit was seen “as a nice-to-have for families with less disposable income”.,There are believed to be about 8,000 children living in low-income families in the borough. ,Stockport County Community Trust said PE lessons provided the main exercise for about half of primary school children locally.,It said about 30% of primary school leavers were categorised as obese and “the need to help get these children active and engaged in PE has never been greater”.,Alison Warwood, chief executive of the trust, said: “Not having a PE kit shouldn’t be what stops children from taking part in physical activity.,“The school’s ‘lost and found’ bin sadly comes with a playground stigma and, if children are to enjoy PE in school, they need their own kit to take pride in.”,Stockport County owner Mark Stott said the PE kits for this September would be given to schools most in need, including “families who fall outside of traditional indicators such as universal credit and the pupil premium".  ,Ms Warwood said the trust estimated almost half of Stockport’s primary school children could benefit from the new kits.,“We want to raise enough funds so next year, we can provide 12,500 PE kits, helping to get more children active and enjoying sport,” she said. ,Listen to the best of BBC Radio Manchester on Sounds and follow BBC Manchester on Facebook, X and Instagram. You can also send story ideas to northwest.newsonline@bbc.co.uk',currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_9.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_8.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_10.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-080149_11.png"],primaryTags:["Politics","Politics"],secondaryTags:["Courts","US Election"],text:"It is common that many politicians grow more popular once they leave office. That has not been the case for former President Donald Trump. On the eve of his impeachment trial in front of the Senate, new polling reveals that more Americans want him convicted than at any point during his first impeachment trial a year ago. More amazingly, more want Trump barred from holding national office ever again than had even an unfavorable rating of any president after one term in office. A new ABC News/Ipsos poll released Sunday shows that 56% of Americans are in favor of the Senate convicting Trump and barring him from holding federal office in the future. Just 43% are opposed to such an action. This is merely the latest poll to find a clear plurality for such a measure, even after Trump left office. A Monmouth University poll taken at the end of January indicated that 57% wanted him barred from holding federal office and 52% wanted him convicted by the Senate. Every single poll over the last month that I could find that meets CNN standards for reporting has shown that at least 56% of Americans want him to be barred from holding or seeking (depending on the question) federal office again. That is, to put it mildly, a stunning percentage. At no point last year in the polling between Trump and now-President Joe Biden did Biden ever earn anywhere close to 56% in the national average. This means that there are likely millions of Americans who voted for Trump last year who now want him barred from holding federal office. Indeed, while about 80% of Republicans (depending on the polling) don’t want Trump being kept from running for or holding federal office, this still indicates a clear drop in support from last year. Trump won more than 90% of self-identified Republicans in last fall’s election. Overall, this type of opposition to a sitting or former president after one term is historic. No other president after one term in polling history ever had an unfavorable rating or disapproval rating north of 50%. On the much harsher being barred from office question, Trump is above that milestone. When it comes to conviction specifically, there seems to a slightly smaller majority in favor of such an action. An average of 51% of Americans in live interview polls taken since January 20 are in favor. A minority of 43% oppose this. This 8-point difference has basically stayed the same over the last month. When the Senate acquitted Trump after his first impeachment trial in 2020, the gap between supporting and opposing impeachment was 4 points. It never got as high as the 8 points it is right now. For a historical comparison, no other president, except for Richard Nixon, has ever had a majority of Americans say he should be impeached by the House and convicted by the Senate. It was only weeks before Nixon resigned that a clear majority believed he should be impeached and removed from office. Of course, Trump’s not likely to be convicted (or barred from running for federal office) because his support from Republicans, though down, is still north of 80% when it comes to the Senate acquitting him. Republicans have 50 seats in the Senate and 67 votes are needed for conviction. But Trump’s likely acquittal should not be mistaken for support among the larger electorate. The bottom line is Trump remains quite unpopular and a lot of Americans want no part of him.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_27.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_33.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_32.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_26.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-000071_30.png"],primaryTags:["Daily Life","Environment"],secondaryTags:["Safety Incidents","Flood"],text:"The photos are happy occasions. A dad with two kids on holiday. Family pets with tails wagging. Teen daughters posing for selfies. This is a gallery of the missing. DANA Desaparecidos is a social media effort to find those still unaccounted for in the devastating flash floods that swept through eastern Spain. At least 217 people are confirmed dead and the toll may climb higher. In one miraculous rescue, a woman was found alive on Saturday after being trapped in her car for three days. Hopes are fading for those that remain missing, however. Though the government has not released the number still missing, social media accounts such as DANA Desaparecidos have received dozens of reports of distressed families searching for their loved ones. Many communities have been cut off from communication for days. The government hotline to report missing persons from the floods has been completely overwhelmed. Instead, their families and friends have turned to social media to get the word out. On DANA Desparecidos, each photo has a description of one of those currently unaccounted for and details of their last known location. Others post photos of missing pets, their owners desperate to find animal companions. One photo shows a woman linking arms with a friend, with a caption that reads: “Her name is Mila. She left yesterday at 1900 from Picanya to get to her home in Silla. She never arrived.” Alba Lozano Asencio created the account with her boyfriend Luciano Esguerra. So far, about 30 people have been located and a number of pets, according to the DANA Desaparcideo organizers. Posts labeled “Localizado” – or “located” – are published to let users know when someone has been found, often simply cut off from communication. Now they are also getting requests for help with flood clean up. “People feel helpless and the emergency services are overwhelmed,” Asencio told CNN.  “I think an important part of the page is that it gives some kind of hope to people at this time.” The slow and uncoordinated response to the crisis has angered and frustrated many here in Valencia. Spain’s King Felipe and Queen Letizia were berated by angry residents in a visit on Sunday to the hard hit area of Paiporta. Letizia, in particular, seemed shaken by the shouts of “murderers” as mud was flung at the royal couple. Spanish Prime Minister Pedro Sanchez was also there but was quickly whisked away by security. The Spanish government announced Monday it was deploying 2,500 more troops to the eastern region, in response to the fury from residents. By Monday night, the military expects to have some 7,800 troops present in the area, according to Spain’s Military Emergencies Unit chief Francisco Javier Marcos. That’s on top of the 5,223 Civil Guard personnel and 4,256 National Police officers that have already been mobilized. Security forces have been searching for victims in ravines and underground garages, including a large parking lot at the Bonaire shopping center in Aldaia. The military has also deployed a warship to Valencia, bringing helicopters, watercraft, trucks, food and emergency supplies. Meanwhile, thousands of volunteers also continue to make their way into affected areas, many of them hiking long distances through mud to help their neighbors. Pedro de Juan, 18, had seen scenes like this only in the movies but he showed up with a broom and bucket to help. “It’s amazing how the government says it’s not our fault. It’s someone else’s fault. But at this time we have to put our hands together and help each other,” he told CNN.  “The military and police are helping but not as much as we hoped and they are days late.” “Frustrating is the word,” said Francisco Bosque, another volunteer who is hoping to help friends in flooded areas. “You feel completely powerless. All you can do is come here and show up.” The weather system that triggered the floods is still impacting the area and some volunteer buses were turned back as a precaution. Spain’s AEMET service issued a red alert for the Barcelona area due to heavy rain through Monday afternoon, but the alert has since passed. Barcelona City Council also issued a flood warning on its website, urging people to take care and avoid areas where flooding may occur. Airport operator AENA said 70 flights from Barcelona’s El Prat Airport had been canceled or severely delayed, while 18 others had been diverted due to the storm. The weather was also affecting train and metro services accessing the airport, the operator said. Video on social media showed one of the airport buildings partially submerged due to the heavy downpour, with water streaming through parts of the roof and some passengers wading through ankle-deep water. AEMET also issued a new yellow and orange alert for the areas of Castellon, Valencia and Alicante, warning that sudden, heavy rains could cause more flooding in already-devastated areas. CNN’s Lauren Kent, Stephanie Halasz and Lauren Said-Moorhouse contributed reporting.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_18.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_6.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-074695_7.png"],primaryTags:["Politics"],secondaryTags:["Courts"],text:`The attorney general of Washington, D.C. announced Monday he is suing Grubhub, alleging that the company harmed consumers during the pandemic by charging hidden fees and by misleading consumers about them using so-called “dark patterns” — along with a battery of other claims. The food-delivery service, which grew in prominence over the pandemic as in-person dining shifted to takeout and delivery orders, said in response Monday that the company supports DC restaurants and has sought to work with Racine’s office over the past year to address its concerns. “We are disappointed they have moved forward with this lawsuit because our practices have always complied with DC law,” a Grubhub spokesperson told CNN. “Many of the practices at issue have been discontinued. We will aggressively defend our business in court and look forward to continuing to serve DC restaurants and diners.” In his Monday complaint filed in DC Superior Court, Attorney General Karl Racine alleged that Grubhub has violated the District’s consumer protection laws and is not transparent about the fees it charges users, saying the company does not display additional service fees in the way it prominently displays delivery fees. Related article
Uber and Lyft are offering fuel surcharges and cash back offers for workers. Is it enough? “Until recently, Grubhub further obscured these additional fees by grouping them with taxes at checkout,” Racine’s office alleged in a statement. “This practice constitutes a ‘dark pattern’ — a design feature that deceives, coerces, or manipulates consumers into making choices that are either not what they intended, or not in their best interests.” Racine’s suit claims Grubhub’s advertising is misleading by presenting free online orders and delivery as a universal feature, when only a subset of customers are actually eligible, according to the complaint. The DC government also claims that Grubhub harmed restaurant owners with a pandemic-related promotion created for the purported benefit of local restaurants, but which instead allegedly “passed most of the costs of the discounts along to the already-struggling restaurants” while still requiring the restaurants to pay their normal, full commission on orders under the promotion. And Grubhub allegedly took a number of misleading steps at various times to drive traffic to its platform, the complaint alleges, including by listing restaurants on its site without consent, creating non-official phone numbers for restaurants in a bid to generate more Grubhub orders and creating non-official websites for restaurants that routed visitors to Grubhub. Racine’s complaint seeks a jury trial and restitution and civil penalties against the company.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-030054_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-030054_1.png"],primaryTags:["Environment"],secondaryTags:["Waste Management"],text:`Coalition's 'hands tied' over fortnightly bin plan.Plans for fortnightly wheelie bin collections are unlikely to be scrapped under a council's new administration after the Labour group leader said its “hands are tied”.,A Labour-led coalition with Lib Dems and Independent members is set to take control of Southend Council from the Conservatives.,Its contract with current waste collectors Veolia runs out in 2025 and a controversial new plan includes wheelie bins being collected fortnightly, instead of waste sacks.,Daniel Cowan, leader of the Labour group, said contract negotiations were too far advanced to change the plan now, but Conservative council leader Tony Cox said: "Here we go, broken promise number one.",Residents have raised concerns that properties in some built-up areas would not have room for wheelie bins and said collection day could become chaotic.,Mr Cowan said contractors had submitted their bids based on fortnightly collection contract and changing now would leave the council "very exposed".,“Unfortunately our hands are tied "We’re far too far along the contract negotiations to move goal posts now," he said.,"The current administration set out the contract details in October.",Martin Terry, spokesman for the Independent group said details of the contract still had to be ironed out,  according to the Local Democracy Reporting Service.,“The problem we now have is that the tendering process that the Conservatives committed to back in October to a fortnightly collection and we are very late in the process now," he said.,A vote to go forward on the waste contract, including fortnightly collections, was deferred by the Conservatives until after the local elections because they alleged the issue was being used as a "political football".,It will now take place at full council under the new administration.,Tony Cox, current leader of the council, said: “In their election literature they said the contract could be overturned. ,"Here we go, broken promise number one. We did say if they wanted to make changes they could do because we didn’t take the final paper through.,"Coalition of chaos already.”,Follow Essex news on Facebook, Instagram and X. Got a story? Email eastofenglandnews@bbc.co.uk or WhatsApp us on 0800 169 1830`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-077015_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-077015_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-077015_2.png"],primaryTags:["Safety"],secondaryTags:["Sexual Violence"],text:"After a California man spent nearly three decades in prison for kidnapping, sexual assault and robbery convictions, new DNA testing has revealed he was innocent of those crimes, a prosecutor announced. Gerardo Cabanillas was exonerated last week, 28 years after he was accused of robbing a man and woman and kidnapping and sexually assaulting the woman in Los Angeles in 1995, Los Angeles County District Attorney George Gascón said Tuesday. “I stand here with you with a deep sense of responsibility as a district attorney to address a tragic miscarriage of justice and to celebrate the exoneration and release of prison of an innocent man,” Gascón said during a news conference. In January 1995, a man and woman were robbed at gunpoint by two men who also sexually assaulted the woman, the district attorney said. Days after the crime, Cabanillas, then 18, was arrested because he generally matched the description of one of the suspects, Gascón said. Nearly 5 decades after he was wrongfully convicted of rape in New York, new DNA testing exonerates 72-year-old man “Mr. Cabanillas always maintained that on the date of his arrest, he was coerced by the investigating detective into giving a false confession with a promise that he would be released on probation,” Gascón said. Despite no physical evidence connecting Cabanillas to the crime, he was charged with 14 felony counts, according to Gascón. Cabanillas insisted he was innocent throughout a trial but was ultimately handed a sentence that amounted to life in prison. In 2019, Cabanillas’lawyers from the California Innocence Project, a non-profit that works to free wrongfully convicted people from prison, filed a motion to have DNA evidence related to the 1995 sexual assault victim tested, the district attorney said. None of the DNA matched Cabanillas, he said. “After a thorough review of all the evidence, including expert analysis of the purported confession and an interview with the sexual assault victim, we lost confident in the conviction in this case,” Gascón said. Cabanillas was conditionally released from a prison in May, according to the district attorney’s office. He was permanently freed on September 21, when a Los Angeles County Superior Court judge vacated his conviction and found him factually innocent. Alissa Bjerkhoel, the California Innocence Project’s interim director, said the exoneration is “bittersweet.” “The righting of a wrong under these circumstances is deeply profound,” Bjerkhoel said during the Tuesday news conference. “The colossal damage done because of this wrongful conviction cannot be measured. Gerardo has missed out on a lifetime in the free world.” Investigators with the district attorney’s office have used the new DNA testing to identify a new suspect, who is in custody in connection with an unrelated killing, Gascón said. Gascón said the man matched the suspect description and “had gone on to commit multiple serious felonies in the same area, including several rapes and murder.” “To you and your family, I offer our deepest apologies for the horrible injustice that was caused,” Gascón told Cabanillas, who attended the news conference with his family but chose not to speak.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-013651_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-013651_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-013651_2.png"],primaryTags:["Politics"],secondaryTags:["US Election"],text:`North Korea has still not reacted to the United States’ presidential election. Its silence speaks volumes. According to analysts, it’s highly unlikely that President-elect Joe Biden would have been North Korean leader Kim Jong Un’s preferred candidate. President Donald Trump has been unique among American leaders for his willingness to personally engage with Kim, providing him with a sense of legitimacy on the world stage, even though those efforts have since stalled. “I do think North Korea would be disappointed that Trump didn’t win,” said Ambassador Joseph Yun, a former US special representative for North Korea policy under both Presidents Obama and Trump. “For them, Trump was a big deal, they had three summit meetings, unprecedented meetings.” The highly unusual relationship was underscored by the countless missives, described by Trump as “love letters,” that the two men exchanged during Trump’s four years in office. Biden, on the other hand, has been brutal in his criticism of Trump’s engagement with Kim, which according to the president-elect weakened US sanctions. Biden called Kim a “thug” during the last presidential debate and has been highly critical of North Korea throughout the entirety of this year’s presidential campaign. It’s unclear what comes next for Biden. He has outlined his priorities on entering the White House and North Korea does not feature, nor is a meeting likely any time soon. Unlike Trump, Biden has made it clear he would be unwilling to sit down with Kim without preconditions. But precedent suggests North Korea has a tendency to stage some kind of provocation in the early stages of a new US administration. Pyongyang fired a missile just weeks after President Trump was inaugurated in 2017, setting the tone for a volatile and tense year. Experts are split as to whether North Korea will feel the need to do the same for Biden. “The North Koreans often telegraph what they’re going to do,” said John Delury, an associate professor at Seoul’s Yonsei University. “If you listen carefully to their statements they usually indicate where they are heading, and I would say there’s been almost no signals that they’re planning a major provocation or test.” As Yun points out, these are different times for Kim – and a missile test might not be as high on his agenda as it was four years ago. “They now have proven that they have a viable ICBM (intercontinental ballistic missile) that can reach almost anywhere in the continental US, they also have a very big nuclear device which they tested in 2017,” Yun said. North Korea also has a number of its own pressing issues to contend with. The coronavirus, which Kim claims has yet to infect any of his people, a struggling economy as sanctions continue to pinch, and recovery from a string of typhoons and flooding earlier this year. Biden knows the challenges likely posed by North Korea. Pyongyang conducted both a nuclear and a long-range missile test in the opening months of Obama’s presidency, under which Biden served as vice president. However, he is not necessarily expected to revert back to the Obama-era policy of “strategic patience” of waiting for Pyongyang to come to the negotiating table while keeping sanctions in place. That policy failed to achieve its main objectives. during that time, North Korea significantly expanded its nuclear and missile capability and carried out four of its six nuclear tests. Ambassador Yun said that Biden has shown he “wants a diplomatic solution, he wants an engagement.” “Sure, he has emphasized denuclearization, but at the same time he has emphasized what he called principled diplomacy so I would hope that the engagement door would be more open now,” he said. However, a provocation from Pyongyang – especially a missile test – could dramatically change the calculus for a Biden administration. Evans Revere, senior director with the Albright Stonebridge Group, has extensive experience negotiating with North Korea during his time at the State Department. He believes Biden would react strongly to any provocation from North Korea. A response will most likely include the immediate resumption of large-scale US-South Korea military exercises, new military deployments to Korea and the surrounding area and a major effort to impose new sanctions and strengthen existing measures, said Revere. “As well as to take new steps designed to isolate, weaken and pressure the North Korean regime,” he added. It is not clear at this time what pressure China, North Korea’s main trading partner and ally, would exert to prevent a resumption of testing. It’s also not clear how a US-China relationship, currently at its lowest point in years, would progress. Trump’s personal style may have led to three history-making summits, but nuclear talks between the two countries have been stuck in neutral for months. Diplomacy with North Korea will likely be much more process oriented, said Delury of Yonsei University. “Under Trump what we’ve seen is a personalistic style which is almost unprecedented,” he said. “A Biden administration is going to be an administration, there’s going to be a coherence to it.” Biden has not ruled out meeting with the North Korean leader but only “on the condition that he would agree that he would be drawing down his nuclear capacity.” Related article
Putin, Xi and other strongmen haven't congratulated Biden yet. Their silence speaks volumes Pyongyang has doled out its fair share of insults to Biden over recent months, calling him a “fool of low IQ” and a “rabid dog” who “must be beaten to death with a stick.” But former US officials who have dealt with Pyongyang acknowledge name-calling is par for the course. Trump himself has shown us threats and insults do not rule out diplomacy. President Obama warned an incoming President Trump that North Korea would be one of the most pressing national security concerns. Revere believes Biden does not need any such warning. “He understands the problem and knows that, after four years of the Trump administration, the North Korean nuclear threat is greater than ever,” Revere said. “Biden is not about to ignore North Korea, and Pyongyang can be counted on to ensure that he doesn’t.”`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-023928_2.png"],primaryTags:["Economy","Economy"],secondaryTags:["Cost Of Living","Revenue"],text:`Half of renters in the United States have found themselves paying more than they can afford, following years of surging rents. But an increase in the construction of multiple-unit buildings has boosted the supply of apartments, which is slowly beginning to rein in runaway rents. Nationally, rents declined annually in December for the eighth straight month, according to Realtor.com’s monthly report. The median asking rent was $1,713, which was down $4 from November and down $63 from the July 2022 peak. However, median rent is still $309 higher than the same time in 2019, before the pandemic. That’s a 22% increase. And people have been feeling it. In some places, rents aren’t dropping at all. Rent is just increasing at a slower pace. Related article
Boomers are not moving out of their big homes. Here’s why Still, even if rents aren’t dropping like a rock, they aren’t expected to be skyrocketing in the same way this year. This may come as some relief to the 22.4 million households who, according to Harvard University’s Joint Center for Housing Studies, pay more than a third of their income in rent. Paying anything above the standard 30% threshold is commonly considered a cost burden. What’s more, 12 million of those renters are severely cost burdened, which means they are spending more than half their income on housing. The report reveals several disturbing records, including the record-high number of renters in housing they cannot afford and a record-high number of people who are homeless, said Chris Herbert, managing director of the Harvard Joint Center for Housing Studies. In addition, the report found that evictions are rising as pandemic protections have expired and a record-high number of income-eligible renters can’t get assistance as rental support falls short. “Rental conditions are softening, but affordability conditions are worse than ever before,” said Whitney Airgood-Obrycki, senior research associate at the Harvard center, who presented some of the report’s findings. Following changes in housing needs during the pandemic and an already existing low supply of multifamily housing in some markets, rents surged in 2021 and 2022. But that has changed in 2023 thanks to increased supply, the report showed. Related article
Elizabeth Warren rips Fed for fueling affordability crisis in housing, calls for rate cuts Rent growth peaked at a record breaking 15% annually in the first quarter of 2022, before starting to slow. By the end of 2023, rents were growing by just 0.4% annually. Even cities with the most intractable rents are seeing some cooling. In November rents dropped in Manhattan for the first time in 27 months. The median rent fell to $4,000, down 4.6% from October and down 2.3% from the year before, according to a report from the brokerage firm Douglas Elliman and Miller Samuel Real Estate Appraisers and Consultants. “We’re seeing supply and demand switch places in real time,” said Anthemos Georgiades, chief executive of Zumper, an online rental marketplace. “Pandemic-fueled migrations have slowed just as new multifamily buildings are coming online in many markets.” He added that winter is a slow time for renters to move, which is driving demand even lower right now. “Renters have more leverage right now than anytime in recent memory,” Georgiades said. Multifamily building has been booming at a pace not seen in decades. About 436,000 multifamily units were completed in the third quarter of last year, on a seasonally adjusted basis, which was the highest level since 1988, and up about a third from pre-pandemic levels, according to the Harvard report. And there are more in the pipeline. The number of multifamily units under construction peaked in July at over 1 million, the highest level on record, according to the US Census Bureau. While the number has stayed at a historically higher level since then, it has been ticking down on a seasonally adjusted annualized basis. Related article
Can we turn all those empty office buildings into housing? Builders are facing higher costs due to interest rates on their loans, material costs and land costs, and are already pulling back on building. As a result, the National Association of Home Builders forecasts that multifamily construction will decrease by about 20% next year. While the increase in new construction and available apartments has been a boon to the market, there may not be new units coming at the same pace in the future. That’s despite large demand from Baby Boomers and Millennials, and also Gen Z aging into apartment renting. Without continued new supply in addition to enhanced rental support, the Harvard report concludes affordability will remain a critical concern for many renters.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_9.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_8.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_13.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-148927_12.png"],primaryTags:["Culture"],secondaryTags:["Painting"],text:`'My autism made me an artist but I wanted a family'. At two years of age, David Downes began to draw. It would be another few years before he learned to talk, and another 30 until his autism diagnosis.,"I could draw before I could communicate. Looking back it was obvious but there wasn't as much awareness back then," says the 51-year-old landscape artist, who lives in Manningtree, Essex.,David has a photographic memory, which he puts down to his neurodivergent brain. He can recall the places he has visited in brilliant detail and paint them from his recollections.,"I'm lucky to have this capacity to visualise and also to get obsessive about stuff. As a child I started drawing churches, trees, flocks of birds and road junctions because they were the things I was fascinated by.",But his autistic traits haven't always helped David in life. ,He felt different from his friends growing up in Brome, Suffolk. He was bullied at high school and found comfort in keeping an illustrated diary. His head teacher did not believe he had produced the drawings - so his artistic talent was not recognised.,It was his mother, who recently passed away and who David describes as his inspiration, who encouraged him to go to art school.,He found exams difficult because he struggled to retain information and did not get the grades to get into Norwich Art School, which was seen as the best in the area, so he went to one in Ipswich.,"My work was really hit and miss. I was very bad at copying, I could draw it out of my head much easier than if it was in front of me.",David went on to study illustration at Anglia Ruskin University in Cambridge and then at Brighton University, where he did a postgraduate diploma in illustration.,"Socially I was still struggling to make friends and I was trying to fit in. People actually want to be different at art school. But I was so different that it was annoying. I was always a little bit on the outside. I was desperate to find a girlfriend but it never happened," he says.,David still did not have an autism diagnosis, but suspected he was on the spectrum. ,He decided to document his struggles in a visual autobiography and used it to gain a place at the prestigious Royal College of Art in London, which he describes as "like winning the World Cup".,After graduating, David was unsure which path to take - as an illustrator or a fine artist. "You come out of the Royal College and you just presume you're going to make it. I felt like I was more of a fine artist, but I tended to do work that was quite illustrative.",It was not long until he won his first major contract, a commission by the BBC to record the corporation's most important architecture at the turn of the century and he became the BBC's artist in residence for two years.,David was eventually diagnosed with autism at the age of 32 and he spoke to a counsellor, who helped him get a part-time job in an art shop.,"I was struggling to run a business and make a living from my art and I needed some kind of understanding of what was going on," he says.,His professional life started going well again, and in 2012 he was commissioned by The Savoy Hotel to create a piece depicting the Thames Diamond Jubilee Pageant, which still sits in the entrance of the world famous hotel.,David got involved with the National Autistic Society and became vice president, regularly speaking and painting live at fundraising events for the charity.,But at the same time, he was struggling with relationships. He could not find a partner, despite throwing himself into internet dating, and felt his dreams of being a father were over.,David started seeing a hypnotherapist while in his early forties and paid him in drawings. ,"He would hypnotise me and say 'David you're a really great artist, you're unique, you're different. You're going to meet someone who is going to understand your issues'.",David went on to meet his partner Rachel in a pub in Stoke Newington in London. The couple lived in California for three years, which he says opened his mind to doing different types of work.,"It was a challenge living there and having to almost start again as an artist, after being well known in London, but it pushed me out of my comfort zone," he says.,They decided to move back to England, to Manningtree, and Rachel fell pregnant with their daughter Talia, who is now two. ,During Covid, David felt inspired to document the pandemic, which he says helped him cope with the stress of it, and he started doing much more imaginary and surreal work.,"My best work has always been autobiographical or describing the times that we live in," he says.,David recently opened a gallery in Manningtree, which had always been a dream of his, but he "never thought it would come true".,"To have the opportunity to display my work and have chats with people, it's incredible. I feel like it has also given me more of an identity as an artist," he says.,David is now turning his attention to the cost of living crisis and wants to create some pieces documenting it in the new year.,"Before my mum died, she said to me 'your father and I never thought you'd meet someone and be a father," he says.,"I'm proud of everything I've achieved in the art world but having a family is the most important thing of all.",Find BBC News: East of England on Facebook, Instagram and Twitter. If you have a story suggestion email eastofenglandnews@bbc.co.uk`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-054202_1.png"],primaryTags:["Education"],secondaryTags:["Social Media Impact"],text:"Teens are entering the chat around social media. Adults often stress about the anxiety, self-esteem issues and social comparisons that teenagers may encounter on social media, but a new study is asking teens what they are actually experiencing online and how they see it in their lives. “One of the things we really want to do with this larger work is bring teens’ own voices to the debate,” said the report’s lead author, Monica Anderson, associate director of research of the Pew Research Center’s internet and technology team. “This work really wants to shine light on: Teens are getting both positives from social media, but they’re also getting negative things as well.” A guide to parental controls on social media Researchers with the Pew Research Center surveyed 1,316 teens across the United States ages 13 to 17 from mid-April to early May. The youths were asked about their thoughts, feelings and use of social media. “When it comes to new and emerging tech, teens are often at the vanguard of tech adoption,” Anderson said. One theme of the survey’s results: Teens see their experience on social media as more positive than adults imagine it to be. Only 27% said that their experience is even worse than their parents think — the rest said it was either about right or better, the survey said. It makes sense that adult perspectives would be skewed, said Michelle Icard, a parenting educator and speaker and the author of “Fourteen Talks by Age Fourteen: The Essential Conversations You Need to Have With Your Kids Before They Start High School.” “Offloading their negative experiences with social media to parents is one of the ways tweens and teen cope,” she said via email. “Often, our kids report what went wrong in their day, in person or online, but they forget to come back and let us know when their issues resolved or stopped being painful. So, parents carry around worry long after kids have shrugged something off.” The teens who responded to the survey said the good things they get out of social media include feeling connection and getting support from a community. In total, 80% said social media gives them some level of connection to what is going on in their friends’ lives, 71% said it’s a place where they can show their creativity, 67% said social media reassures them that they have people to support them through tough times, and 58% said it makes them feel more accepted, according to the survey. Black and Hispanic teens were more likely than their White counterparts to report feeling more accepted because of social media, the data showed. It's time for spring cleaning, and unhealthy social media accounts need to go, experts say Especially during the pandemic, the kids Icard worked with were grateful they could still connect with one another, she said. And if encouraged the right way, Icard has seen social media as a good way to showcase talents and humor. And the teens tend to use it that way, the data showed. The top three things teens reported posting about were their accomplishments, family and emotions, according to the survey. The survey participants were more likely to say social media is mostly positive or neutral for them personally, but they leaned in more of a negative direction when it came to its impact on people their age, the survey said. “People might see a lot of benefits from technology and in this case social media,” Anderson said, “but are much more likely to see the downsides when looking at social media as a whole.” This survey can be helpful to get an overview of social media and teens, but there are still individual circumstances and downsides to consider, Icard said. For example, girls ages 15 to 17 were more likely than any other group to say that they don’t post things on social media because they are worried about being embarrassed, the survey said. My 'dry' January: What I learned from a month without social media And girls more so than boys were likely to report feeling overwhelmed by drama on social media, the study said. But all groups acknowledged downsides. Those who reported negative experiences attributed them mostly to screen time, mental health and the impact of online drama, the survey said. And 60% of all teens report feeling little to no control over the data social media companies collect from them. “Social media is a tool and as such, it’s neither all good nor all bad,” Icard said. “You know your child’s temperament, social life, and experiences best,” she said via email. “Regardless of how the majority of kids self-report, your decision should take into account your child’s unique situation first.” How do you optimize the experience for yourself or your child then? Icard recommended a slow exposure, allowing children to join one social media app at a time and only expanding when they demonstrate sufficient responsibility to use them without damage to their sense of self. “I also think parents should teach their kids app etiquette as well as safety,” Icard said, “and they should monitor more at the beginning but then (taper) off over time.” For teens who are glued to social media, this 4-step plan can help Have conversations frequently about what is happening on these platforms. While you can give more autonomy over time, “a child who is unwilling to discuss their experiences on the app might not be ready for one,” she added. Don’t begin panicking about having a teen on social media, as the experience comes with ups and downs just like any other part of life, Icard said. “But if parents notice that social media creates feelings that are harmful to their adolescent’s sense of self,” she added, “it would be appropriate to consult with a therapist who can help with more positive self-talk and habits.” Sign up for CNN’s Stress, But Less newsletter. Our six-part mindfulness guide will inform and inspire you to reduce stress while learning how to harness it.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_15.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_14.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_16.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_17.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_13.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_12.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_10.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_11.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_9.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_8.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_6.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_7.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-015172_18.png"],primaryTags:["Sport"],secondaryTags:["Football (Soccer)"],text:"German football club Schalke has apologized after some of its fans allegedly racially abused Borussia Dortmund’s 15-year-old star Youssoufa Moukoko during an Under-19 match between the two teams on Sunday. “We can only apologise for the behavior of some of our fans towards Youssoufa Moukoko at today’s U19s match,” the club said in a tweet after the local derby game, using the hashtag ‘NoToRacism.’ Both clubs are based in Germany’s Ruhr region. It’s unclear what fans may have said. “Derby emotions aside, we completely condemn and oppose such insults,” added Schalke, which said its Fan Affairs department “will take the necessary measures.” The Control Committee of the German Football Association (DFB) says it “will examine the possible racist insults” against Moukoko. “The German Football Association does not tolerate any form of racism and goes against any form of it,” said Thomas Bergmann, member of the DFB-Control Committee. READ: One year on from Bulgaria, football’s fight against racism and discrimination is only just beginning “The Control committee will investigate if there were racist insults.” Widely considered one of European football’s most prodigious talents, Moukoko scored all three goals as Dortmund’s Under-19s beat Schalke 3-2 in the local Revierderby. It was the youngster’s third hat-trick of the season already and Moukoko, who has regularly played several years above his age group throughout his young career, is expected to be called up to Dortmund’s first team when he turns 16 next month. Born in Cameroon, Moukoko has represented Germany on the international stage with the Under-16s and Under-20s and came through the youth ranks at St. Pauli before transferring to Dortmund’s academy in 2016. Neither Schalke or Borussia Dortmund were immediately available for comment about Sunday’s incident when contacted by CNN Sport.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-024211_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-024211_2.png"],primaryTags:["Safety"],secondaryTags:["Murder"],text:`Man fatally stabbed 'yards from his front door'.A man died after being stabbed "yards from his front door", a jury has heard.,On the night of Kidane Gebrehiwot's death, he became involved in a fight with  Samwen Muiruri, 32, of Trier Way, Gloucester.,Both men walked home after the incident on 6 August 2023 but Mr Muiruri left his house moments later. A "flurry of activity" was then visible on Mr Gebrehiwot's street. ,Mr Gebrehiwot, aged in his 50s, died of a single stab wound. Mr Muiruri appeared at Gloucester Crown Court on Tuesday after previously pleading not guilty to murder.,,Prosecutor Edward Hetherington told the jury he believes Mr Muiruri  picked up a knife at his house and then stabbed Mr Gebrehiwot at the junction of Arthur Street and Kings Barton Street.,"Mr Gebrehiwot lived on Arthur Street and was yards from his front door when he was stabbed and collapsed at the scene due to his injuries," Mr Hetherington said.,Despite the "best efforts" of emergency responders and passers-by, he later died in hospital at 02:22 BST.,The court was told a disagreement between the men first broke out due to a woman that both men knew.,This resulted in Mr Gebrehiwot and Mr Muiruri becoming involved in an physical altercation outside an off licence on Eastgate Street, the jury heard.,"Kidane appears to be the bigger and stronger of the two, he pushes [Muiruri] up against a wall and holds him there," Mr Hetherington said.,Subsequent CCTV footage appeared to show the pair heading back to their respective addresses.,Mr Muiruri was captured on CCTV entering his home address at 00:59 BST, reappearing two minutes later before he "went looking for Kidane", Mr Heatherington said.,A "flurry of activity" was visible on Arthur Street one minute later.,Mr Hetherington told the jury he believes Mr Muiruri went inside to get a knife.  A gold blade was later found tangled among Mr Gebrehiwot's clothing and a handle was discovered in a gutter on Kings Barton Street, the court was told.,Mr Muiruri then returned to his home address, but was seen to go back towards Arthur Street before changing his mind and walking back home.,He emerged again at 01:11 BST, when Mr Gebrehiwot was being treated at the junction.,The trial continues.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-041090_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-041090_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-041090_3.png"],primaryTags:["Daily Life"],secondaryTags:["Safety Incidents"],text:"British mountaineer Kenton Cool has set a record for the most Mount Everest summits by a non-Nepali after reaching the top of the world’s highest mountain for the 17th time. Cool reached the peak alongside Dorjee Gyelzen Sherpa, a local guide who has himself summitted both Everest and K2 multiple times, and Richard Walker, executive chairman of the Iceland grocery store chain in the UK. According to a post on Cool’s Instagram account, the trio reached the top of Everest at 1:30 am British Summer Time, which is 6:15 am Nepal time. “Conditions on the summit push were incredibly cold, leading to multiple tech failures with the tracker/comms going down,” reads the post. “They are now resting at Camp 4 before heading back down the mountain.” Nepal bans solo trekkers throughout the country It has been a week of records on Everest, which is most commonly climbed in May. On Monday, 46-year-old Pasang Dawa Sherpa reached the mountain’s apex for the 26th time, tying his countryman Kami Rita Sherpa for the number of all-time ascents. The tie only lasted for two days, though, as Kami Rita then successfully summitted for the 27th time on Wednesday. Mountaineering tourism is a huge revenue driver for the country, despite concerns about potential overcrowding on Everest, which has led to safety risks. A viral photograph taken in 2019 showed a “traffic jam” line of climbers waiting their turn to make the final ascent to the peak. This year, Nepal issued 463 climbing permits to international tourists, its highest number ever. The largest groups represented were the U.S. and China. In 2018, the Nepali government banned foreigners from climbing Everest alone. Then, earlier this year, they banned all solo trekking throughout the country. “When you are traveling solo, in case of emergencies there is no one to help you,” Mani R. Lamichhane, Director of the Nepal Tourism Board, told CNN about the decision. “It is fine if they are traveling in the cities, but in the remote mountains, the infrastructure is not adequate.” Nepal may move Everest Base Camp One longtime Mount Everest guide, Adrian Ballinger, founder of Alpenglow Expeditions, told CNN he is no longer taking clients to the mountain due to concerns about overcrowding. “Unfortunately, when accidents do happen on the mountain, more often than not the tragedy tends to strike the Nepalese workers who are there supporting foreign climbers,” Ballinger told CNN. “The dramatic increase in numbers, specifically inexperienced climbers led by inexperienced guides and guide companies, has created a tinderbox of a situation where big accidents are inevitable when they could be avoidable. All we can do is fight and advocate for the increased regulation of the mountaineering industry in Nepal.”",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-115496_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-115496_1.png"],primaryTags:["Health","Daily Life"],secondaryTags:["Mental Health","Charitable Welfare"],text:`Suicide prevention 'not a top priority' in Scotland.A leading charity dealing with suicide prevention has said the Scottish government is not treating the issue as a top priority.,The Samaritans commissioned a poll which indicated 61% of people in Scotland have been affected by suicide.,Almost 40% of those taking part said they would not know who to turn to if they were supporting someone in crisis.,The Scottish government is drawing up a new prevention plan and said it was spending over £1bn on mental health.,In 2016, there were 728 probable suicides in Scotland. This was an 8% rise on the previous year.,Most of those who die are men, 71% in 2016. ,The Samaritans poll, which included more than 1,000 people in Scotland, found: ,Samaritans executive director for Scotland James Jopling said: "This shows this issue may not be taken as seriously as it should be; that it's not an issue we are seeing embedded in the Justice Department, in education and how we support young people. ,"In other functions of government we are not seeing the reflection of this issue. Our feeling is, it's not being seen on the levels it should be. ,"We have a dedicated mental health minister, she should and can be the person to champion our efforts on this and that's what we want to see.",The Scottish government is drawing up a plan for suicide prevention, with the consultation on it closing earlier this week.,Minister for Mental Health Maureen Watt said: "We are investing more and more money in mental health every year. ,"The past year (2017/18) we saw for the first time £1bn invested in mental health and now we've got an extra £150m on top of that for this next year. ,"Mental health and suicide prevention is a very important part of the Scottish government's actions going forward.",Four years ago, 28-year-old Nicola Saunders tried to take her own life. ,She had been struggling with mental health problems since she was 10 years old.,"Physically, I felt as if there was a ball inside of my stomach, that it would squeeze quite a lot and when it squeezed I couldn't bear it, I just wanted to curl up into a ball and scream and cry.",With nobody close who could help her and she says she felt totally alone.,"I was in the psychiatric unit for three weeks. I didn't have any support, I didn't really have any familial support. ,"I was discharged and I didn't have any support in place whatsoever. I didn't have anywhere to live at the time and I was basically told that if I was going to leave I would be homeless.",Nicola now runs a survivors group, offering help she felt was missing for her at the time. She is calling for a more open discussion around suicide in Scotland.,"Kindness and compassion is what is needed," she says. "I think we just need to not be afraid to talk about it, openly, then it's not scary and it's like, we can solve this.",Details of organisations which offer advice and support are available at BBC Action Line or you can call for free, at any time, to hear recorded information 0800 066 066.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-006885_1_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-006885_1_2.png"],primaryTags:["Economy"],secondaryTags:["Cryptocurrency"],text:"Bitcoin Speculative Fervor Cools, Traders Await Next Trump Steps. (Bloomberg) -- The speculative frenzy around Bitcoin since Donald Trump’s US election victory is moderating both in the spot and derivatives markets. Most Read from Bloomberg Under Trump, Prepare for New US Transportation Priorities NYC Congestion Pricing Plan With $9 Toll to Start in January Zimbabwe City of 700,000 at Risk of Running Dry by Year-End In Cleveland, a Forgotten Streetcar Bridge Gets a Long-Awaited Lift Saudi Neom Gets $3 Billion Loan Guarantee From Italy Export Credit Agency Sace The largest digital asset slid below $87,000 at one point on Friday after Federal Reserve Chair Jerome Powell said there was no need to hurry interest-rate cuts. The token later pared back some of its losses trading at $90,265 as of 12:11 p.m. in London. In the derivatives sector, K33 Research said the premium paid for CME-listed Bitcoin futures over the spot market price has declined. US-based institutional investors use the contracts to take positions on the original cryptocurrency. Figures from Amberdata indicate a 24-hour surge in open interest — or outstanding contracts — for bearish options with a strike price of $80,000. “Markets seems to be cooling down,” said Vetle Lunde, head of research at K33, adding that the narrowing of the futures premium “might have been a subtle hint of moderating risk profiles.” Trump’s Pledges Bitcoin has jumped about 30% since the US election on Nov. 5. in response to President-elect Trump’s pro-crypto stance. The digital asset is now viewed as one of a suite of so-called Trump trades, and speculators are wondering how much impetus the rally has left. Trump has pledged to create a friendly regulatory framework for crypto, set up a strategic Bitcoin stockpile and make the US the global hub for the industry. A onetime crypto skeptic, Trump changed tack after digital-asset firms spent heavily during election campaigning to promote their interests. Questions remain about the feasibility and implementation timeline of his promises. Investors poured a net $4.3 billion into US spot-Bitcoin exchange-traded funds after Election Day. The 12 funds, from issuers including BlackRock Inc. and Fidelity Investments, now have total assets of about $93 billion, based on figures compiled by Bloomberg. Volatility Expected “It’s all pure speculative trading right now,” said James Davies, chief executive officer at on-chain futures and options trading platform Crypto Valley Exchange. “Expect lots of volatility and a lack of clear signals for a while, whilst we wait for policy announcements in the US.” Davies flagged $90,000 as a key marker to watch to see if acts as a “resistance level, or if we are well past it.” One of the highest concentrations of bullish Bitcoin options bets is for the $100,000 strike, data from Deribit show. Bitcoin changed hands at $87,740 as of 6 a.m. Friday in London. Smaller tokens such as second-ranked Ether and meme-crowd favorite Dogecoin were mixed, in line with easing risk appetite as traders pared bets on Fed rate cuts following Powell’s comments. --With assistance from Dave Liedtka. (Updates price in second paragraph) Most Read from Bloomberg Businessweek CEOs Brace for the Chaos of Another Four Years of Trump Elon Musk Has a New Project to Run: Trump’s Government Betting on Tesla Helped Ron Baron Beat the Index. Now He’s Getting a Trump Bump North Dakota Wants Your Carbon, But Not Your Climate Science Martha Stewart’s Empire Monetized More Than Just Domesticity ©2024 Bloomberg L.P.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055813_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055813_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055813_1.png"],primaryTags:["Politics"],secondaryTags:["Courts"],text:`A Thai court on Wednesday ordered the kingdom’s most popular political party to be disbanded, a verdict that delivers a major blow to a vibrant progressive movement and one that threatens to bring more political turbulence to Thailand. The Move Forward Party won a stunning electoral victory in 2023, winning the most parliamentary seats on an anti-establishment reform agenda that drew huge support across the country, particularly among young people disaffected by years of military-backed rule. The Constitutional Court in Bangkok ruled Wednesday that Move Forward should be dissolved, following a request from Thailand’s Election Commission, over the party’s campaign to amend lese majeste, the country’s notoriously strict royal insult law. In its unanimous ruling, the court accused Move Forward of “undermining the monarchy” and so “the constitutional court has to inevitably disband the party.” In January, the same court ordered the party to end its lese majeste campaign, accusing its leaders, including former prime ministerial hopeful Pita Limjaroenrat, of seeking to overthrow the constitutional monarchy. Wednesday’s ruling goes further, dissolving the party and banning its executives from politics for 10 years – effectively disenfranchising 14 million people who voted for them and raising fresh concerns about the erosion of democratic rights in the kingdom. Move Forward’s leaders have repeatedly said that dissolution will not stop their movement. Speaking to the Associated Press this week, Pita said they will continue to fight so that Move Forward “becomes the last party that joins the graveyard of political parties.” It’s the first of two high-profile, politically sensitive cases with the potential to further entrench a power struggle between the establishment and progressives. Next week, the court is expected to rule on a petition seeking to remove Prime Minister Srettha Thavisin from office for appointing a lawyer who had served jail time to the Cabinet. Move Forward’s election victory was a decisive win for progressive parties and delivered a crushing blow to the conservative, military-backed establishment that has ruled Thailand on and off for decades, often by turfing out popularly elected governments in coups. Ultimately Move Forward was prevented from forming a government because it failed to win enough support for its royal reform agenda in parliament, which heavily favors the establishment under a political system implemented by the previous ruling military junta. Pita resigned as leader of the party, which became the main opposition. Thailand’s turbulent political history has previously seen parties that have pushed for change run afoul of the powerful establishment – a nexus of the military, royalist and influential elites. The purportedly independent election commission, anti-corruption commission and the Constitutional Court are all dominated in favor of the establishment. Related article
Thai court orders election-winning party to end its royal reform campaign in blow to voters who backed change During the election, young people told CNN they felt they were the “forgotten generation” living under military-backed rule for nine years, while they struggled to find work or buy a home. “We just can’t see our future in this country,” one young lawmaker said. Wednesday’s ruling will likely only further entrench the feeling for many young supporters that there is little hope for change within Thailand’s political system. Progressive lawmakers have faced bans, parties have been dissolved, and governments have been overthrown. Thailand has witnessed a dozen successful coups since 1932, including two in the past two decades. It’s the second time the court has ordered the dissolution of parties linked to Move Forward’s progressive movement. Move Forward is the de facto successor to the Future Forward Party, which won the third most number of seats in the 2019 election. Shortly after the vote, Thailand’s Constitutional Court dissolved that party and banned its leaders from politics for 10 years. That brought millions of young people out onto the streets across the country – sparking a nationwide youth-led protest movement in 2020 that saw the emergence of a new generation of young political leaders, many who openly criticized the monarchy and publicly questioned its power and wealth. The ruling could now ensure that no party or person would legally be able to push for amendments to lese majeste, known as Section 112, without violating the constitution. The calls for reform of the monarchy electrified Thailand, where any frank discussion of the royal family is fraught with the threat of prison. Criticizing the king, queen, or heir apparent can lead to a maximum 15-year prison sentence for each offense and sentences for those convicted Section 112 of the country’s criminal code can be decades long. Hundreds of people have been prosecuted in recent years including Mongkol Thirakhot, who was sentenced to a record 50 years in prison in January for social media posts deemed damaging to the king. Related article
Young Thai activist’s death in detention after 65-day hunger strike sparks calls for justice reform Anyone – including ordinary citizens – can bring lese majeste charges on behalf of the king, even if they are not directly involved with the case. Move Forward pledged to reduce lese majeste sentences and limit who can make a complaint. For years, human rights organizations and free speech campaigners have said the lese majeste law has been used as a political tool to silence critics of the Thai government. Many of those who took part in the protests now face lese majeste charges and long jail sentences. Legal Rights group Thai Lawyers for Human Rights said that at least 1,954 people have been prosecuted for their participation in political assemblies since the start of protests in July 2020, with at least 272 people charged with lese majeste. Prominent activist lawyer Arnon Nampa is currently serving eight years in prison for two lese majeste convictions. In May, the death of a young Thai activist in pre-trial detention for lese majeste charges shocked many in the country and sparked renewed calls for justice reform.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-152796_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-152796_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-152796_3.png"],primaryTags:["Daily Life"],secondaryTags:["Rescue Operations"],text:`Seahouses Lifeboat's first call of 2023 is to stranded causeway car.It may be a new year, but a lifeboat crew's first call-out of 2023 was to deal with an old problem.,The RNLI's Seahouses crew was called at about 11:45 GMT on Monday after a car became cut off by the rising tide while attempting to drive to Holy Island off the Northumberland coast.,The safe crossing times were from 01:20 to 09:40 and 13:55 to 21:55, RNLI spokesman Ian Clayton said.,The occupants of the car were found "safe and dry" on the causeway bridge.,Mr Clayton said the RNLI was called to trapped cars eight times last year, on seven occasions in 2021 and six times in 2020 - but the actual number of such incidents was "considerably in excess" of those figures.,He said the lifeboat is only called in extreme situations where there are concerns about people being in the water, while the shore-based island Coastguard will deal with the majority of strandings.,"It might not seem a lot but each time we have to go there it means the lifeboat is not available for another rescue," Mr Clayton said, adding: "It's frustrating because it is totally avoidable if people just use some common sense.",Mr Clayton said it was "fortunate" there had not been any fatalities but there was always "great concern" a car could be swept into a deeper channel where it could overturn leading to drowning or cold water shock for its occupants.,He said: "Local people are fully aware of [crossing times] and are fully up to speed with when they can get across, but not all visitors pay the same attention.,"We have rescued people from all walks of life who have been caught out and we would urge people to pay attention to the signs and check the crossing times.",He also said most cars have to be written off once sea water gets into the engine compartments.,Follow BBC North East & Cumbria on Twitter, Facebook and Instagram. Send your story ideas to northeastandcumbria@bbc.co.uk.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-052024_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-052024_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-052024_3.png"],primaryTags:["Daily Life"],secondaryTags:["Gender Equality"],text:`Twitter investigates racial bias in image previews.Twitter is investigating after users discovered its picture-cropping algorithm sometimes prefers white faces to black ones.,Users noticed when two photos - one of a black face the other of a white one - were in the same post, Twitter often showed only the white face on mobile.,Twitter said it had tested for racial and gender bias during the algorithm's development. ,But it added: "It's clear that we've got more analysis to do.",Twitter's chief technology officer, Parag Agrawal, tweeted: "We did analysis on our model when we shipped it - but [it] needs continuous improvement.,"Love this public, open, and rigorous test - and eager to learn from this." ,The latest controversy began when university manager Colin Madland, from Vancouver, was troubleshooting a colleague's head vanishing when using videoconference app Zoom. ,The software was apparently mistakenly identifying the black man's head as part of the background and removing it.,But when Mr Madland posted about the topic on Twitter, he found his face - and not his colleague's - was consistently chosen as the preview on mobile apps, even if he flipped the order of the images.,His discovery prompted a range of other experiments by users, which, for example, suggested: ,Twitter's chief design officer, Dantley Davis, found editing out Mr Madland's facial hair and glasses seemed to correct the problem - "because of the contrast with his skin".,Responding to criticism, he tweeted: "I know you think it's fun to dunk on me - but I'm as irritated about this as everyone else. However, I'm in a position to fix it and I will.,"It's 100% our fault. No-one should say otherwise.",Zehan Wang, a research engineering lead and co-founder of the neural networks company Magic Pony, which has been acquired by Twitter, said tests on the algorithm in 2017, using pairs of faces belonging to different ethnicities, had found "no significant bias between ethnicities (or genders)" - but Twitter would now review that study.,"There are many questions that will need time to dig into," he said.,"More details will be shared after internal teams have had a chance to look at it.",Late last year, a US government study suggested facial-recognition algorithms were much less accurate at identifying black and Asian faces than white ones.,In the UK, police officers last year raised concerns about algorithms "amplifying" prejudices and called for clearer guidelines on using the technology.,And, in June this year, similar concerns led IBM to announce it would no longer offer facial-recognition software for "mass surveillance or racial profiling".`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-053503_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-053503_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-053503_1.png"],primaryTags:["Environment"],secondaryTags:["Extreme Weather"],text:`Ice warning as snow leads to hundreds of school closures.A new severe weather warning of ice has been issued as wintry weather continues around much of the UK.,All of Wales and most of England is covered by the yellow Met Office warning, which is in place from Monday evening until Tuesday at 9:00 GMT.,Hundreds of schools closed in south-west England and Wales because of heavy snow.,Temperatures are expected to rise this week but the weather could turn colder again by the weekend, forecasters said.,Over 20cm (8ins) of snow has been recorded in central and southern England as temperatures fell widely below 0C overnight with lows of -5C in Scotland.,In Wales, a total of 207 schools were closed on Monday, with GCSE pupils at Brynmawr School in Blaenau Gwent being taught in a cinema instead.,Devon County Council said nearly all of their 307 schools were shut and the others partially closed, while 97 schools in Cornwall and 163 schools in Somerset were also shut.,Meanwhile, around 80 motorists sought refuge overnight at an emergency rest centre in a college near the A30 in Devon.,Among those stranded at the centre were a bride and groom on their wedding night. ,Other stranded drivers camped in their vehicles at a service station on the A30 in Okehampton, which was blocked by heavy snow until it fully reopened in the morning.,Richard White, volunteer rest centre manager at Okehampton College - where 82 people, including children, spent the night - said: "It's the last thing you expect to get stuck in the snow.,"One lady said she felt like a refugee. ,"It was -3C and it didn't stop snowing until 06:00. It's been a really horrid night.",Newly-married couple John and Sara Lund, who were travelling to their honeymoon in Cornwall, were forced to spend their wedding night at the rest centre.,The groom, Mr Lund, told BBC Radio 4's Today programme that he and his new bride spent their first night sleeping on a mat on "rock-hard floors" in a classroom with around 20 other stranded people.,"It's probably a story which has helped keep morale high in the camp," Mr Lund said.,A 64-mile stretch of the A30 from the M5 at Exeter to near Bodmin in Cornwall was closed by Devon and Cornwall Police to allow its officers and Highways England to clear the route.,The force warned drivers to only travel if necessary and "slow down".,The runway at Exeter Airport was closed but reopened just after 11:00 GMT, although some flights were delayed or cancelled.,Temperatures dropped across many parts of the UK overnight causing partly melted snow to refreeze. ,In parts of England, temperatures fell to -2C and -3C and -5C in central Scotland.,Temperatures are expected to rise into double figures this week but could become colder by the weekend bringing some frost, BBC Weather said.,Met Office forecaster Craig Snell added: "Generally we are out of the woods but anyone hoping for a spring heatwave will have to wait.",Mr Snell said the UK should now see the start of a "gradual thaw" - but added there is still a risk of frost and ice, including on Tuesday morning.,He said the weather will become "briefly milder then turning colder come the weekend, but not as cold and not as snowy as the weekend just gone".`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_6.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-144493_7.png"],primaryTags:["Politics","Environment","Economy"],secondaryTags:["United Nations","Carbon Management","Taxation"],text:`Climate change: CO2 emissions rising for first time in four years.Global efforts to tackle climate change are way off track says the UN, as it details the first rise in CO2 emissions in four years.,The emissions gap report says that economic growth is responsible for a rise in 2017 while national efforts to cut carbon have faltered.,To meet the goals of the Paris climate pact, the study says it's crucial that global emissions peak by 2020. ,But the analysis says that this is now not likely even by 2030.,The report comes days before a major UN climate conference starting in Poland from 2-14 December.,For the last nine years, UN Environment have produced an assessment of the latest scientific studies on current and future emissions of greenhouse gases. ,It highlights the difference between the level of greenhouse gas emissions that the world can sustain to keep temperatures within safe limits, with the levels that are likely based on the promises and actions taken by countries. ,This year's report records the largest gap yet between where we are and where we need to be. ,Between 2014 and 2016, global emissions of CO2 from industry and the production of energy were essentially stable while the global economy grew modestly - but in 2017 these emissions went up by 1.2% pushed along by higher GDP.,While the rise might seem small, it needs to be seen in context of efforts to keep global temperatures from rising by more than 1.5C, as recently outlined in a key IPCC report. ,According to the UN, to keep the world below that target, global greenhouse gas emissions in 2030 would have to be 55% lower than today. ,"There is still a tremendous gap between words and deeds, between the targets agreed by governments worldwide to stabilise our climate and the measures to achieve these goals," said Dr Gunnar Luderer, from the Potsdam Institute for Climate Impact Research and one of the authors of the study.,The scientists say that to tackle the gap, nations must raise their ambition five fold to meet the 1.5C goal.,Right now, the world is heading for a temperature rise of 3.2C by the end of this century the report says.,One key aspect of the study is about the peaking of global greenhouse emissions.,The report says that peaking of emissions in 2020 is "crucial for achieving the temperature targets in the Paris agreement," but the scale of the current efforts is insufficient. ,The study says that by 2030, around 57 countries representing about 60% of global emissions will have peaked. Nowhere near where the world needs to be.,In some ways yes. The study says that countries including Argentina, Australia, Canada, the EU (including the UK), South Korea, Saudi Arabia, South Africa and the US, are falling short of achieving their nationally determined contributions for 2030. ,Three countries, Brazil, China and Japan are currently on track, while three others, India, Russia and Turkey are set to beat their targets. ,The authors believe that some of these achievements may be down to setting relatively low targets for their national plans. ,Undoubtedly, yes.,The UN is placing great hopes in what it terms "non-state actors", meaning local, city and regional governments, businesses and higher education institutions can have major impacts on the future gap. ,They estimate that, right now, more than 7,000 cities from 133 countries and 6,000 companies with at least $36 trillion in revenue have pledged to take climate action. ,But the authors believe this is just scratching the surface. With over 500,000 publicly traded companies worldwide, there are many more that can take steps that cumulatively would have a significant impact on the gap.,The study says that there is the potential to cut emissions from this sector by 19 gigatonnes of CO2 equivalent per year by 2030 - that's enough to keep the world on a 2 degree path. ,The report also suggests that government tax plans could be hugely important in tackling emissions.  ,It says that carbon taxes or carbon trading systems cover only 15% of the global carbon output, which could rise to 20% if China implements its planned market. But the report says that half of the emissions from fossil fuels are not taxed at all and only 10% are priced at a level consistent with keeping warming to 2C. ,"When governments embrace fiscal policy measures to subsidise low-emission alternatives and tax fossil fuels, they can stimulate the right investments in the energy sector and significantly reduce carbon emissions," said Jian Liu, UN Environment's chief scientist. ,"If all fossil fuel subsidies were phased out, global carbon emissions could be reduced by up to 10% by 2030. Setting the right carbon price is also essential. At $70 per tonne of CO2, emission reductions of up to 40% are possible in some countries.",This report is aimed at informing delegates to next week's key climate conference in Katowice, Poland. Negotiators will be trying to finish the rules on how to implement the rule book of the Paris agreement - but the report's authors hope it can push countries to greater levels of ambition. ,"Germany and Europe could demonstrate leadership in this area by pledging complete greenhouse gas neutrality by 2050 and a clear strengthening of the emission reduction targets for 2030," said Dr Gunnar Luderer.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-085083_4.png"],primaryTags:["Culture"],secondaryTags:["Human History"],text:".After an ominous, post-independence start which included a coup, an invasion by mercenaries, an abortive army mutiny and several coup attempts, the Seychelles have attained stability and prosperity.,Today the Indian Ocean archipelago enjoys a high per capita income, good health care and education.,The former British colony's economy depends heavily on the fishing industry and upmarket tourism. ,It features in the 2017 leak dubbed the Paradise Papers, which reveal the financial dealings of politicians, celebrities, corporate giants and business leaders.,Seychelles also is home to an array of wildlife, including giant tortoises and sea turtles. Much of the land is protected as part of nature reserves.,Read more country profiles, external - Profiles by BBC Monitoring, external,Capital: Victoria,Area: 459 sq km,Population: 100,447,Languages: English, French, Seychellois,Life expectancy: 72 years (men) 82 years (women),President: Wavel Ramkalawan,An Anglican priest and veteran opposition presidential contender, Wavel Ramkalawan won the October 2020 election in the first peaceful transfer of presidential power between different parties since independence in 1976. ,His Linyon Demokratik Seselwa liberal coalition also increased its parliamentary majority in simultaneous legislative elections.,He took over from President Danny Faure, whose United Seychelles party had held the presidency in various guises since 1977.,Seychelles is a favoured destination among holiday makers seeking sunshine and beaches,Media pluralism, diversity of opinion and the capacity to tackle major issues have been developing in Seychelles media over the past decade or so.,Read full media profile,James Mancham was ousted as president. He later returned from exile to promote tourism,Some key dates in the history of the Seychelles:,1768 - French planters and their slaves begin settling in the previously uninhabited Seychelles.,1794 - Britain annexes the Seychelles during the French Revolutionary Wars. Britain's control is formalised in 1814 at the Treaty of Paris and the islands are then administered from Mauritius.,1903 - Seychelles becomes a separate crown colony.,1976 - Seychelles becomes independent and is governed by a coalition, with James Mancham as president and France Rene as prime minister.,1977 - Mancham is ousted by Rene in a coup.,1979 - Seychelles declared a socialist one-party state, which lasts until 1991.,1981- South African-based mercenaries try but fail to restore Mancham to power and an army-led mutiny is thwarted. ,1986 - Attempted coup led by the Seychelles defence minister is defeated thanks to Indian military assistance.,2004 - President Rene steps down, replaced by former vice president James Michel; he wins the presidential elections in 2006.,2006 - Parliament bans political or religious organisations from running radio stations, sparking a rare outbreak of unrest.,2009 - Somali pirates move their operations southwards to Seychelles and beyond as patrols are stepped up in the Gulf of Aden. US says it will supply Seychelles with drone spy-planes to help fight piracy. France offers legal help.,Seychelles, European Union sign anti-piracy agreement which will allow EU troops to be deployed on the islands.,2016 - Seychelles becomes one of a minority of African countries to decriminalise gay sex.,2018 - Seychelles announces plans to create a marine reserve as part of a national debt swap deal which could serve as a model for future conservation projects around the world.,2020 -  Wavel Ramkalawan wins the presidency in the first peaceful transfer of presidential power between different parties since independence in 1976. ,Somali pirates, using skiffs such as these ones impounded in the Seychelles, at one time preyed on sea traffic in the islands' sprawling territory,Madagascar country profile,Comoros country profile,Maldives country profile,Mauritius country profile,Reunion profile,Government of Seychelles,UN news about Seychelles,Seychelles tourist board",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_14.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_15.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_17.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_16.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-097059_12.png"],primaryTags:["Politics"],secondaryTags:["Assembly"],text:`Former acting Attorney General Sally Yates bemoaned House Republicans’ decision to oust Rep. Liz Cheney from her leadership post for challenging former President Donald Trump’s lie that he won the 2020 presidential election, saying she never thought she’d cheer on the GOP congresswoman “for simply telling the truth.” “I never thought that I’d be saying, ‘Yeah, go Liz Cheney.’ But I am. And again, isn’t it a sad commentary that we’re cheering her on for simply telling the truth and for refusing to be silent when others are not?” Yates told CNN’s David Axelrod on an episode of “The Axe Files” podcast released Thursday. “She is being punished for telling the truth. And I certainly never thought our country would come to that,” she added. Related article
Cheney ousted from leadership post. The other 9 Republicans who voted to impeach Trump have also faced a backlash. The comments from Yates, who was fired by Trump in the early days of his administration for refusing to defend a controversial immigration order from him, come a day after House Republicans voted to remove the Wyoming Republican from her position as chair of the House Republican Conference after publicly rejecting for months Trump’s election lies. In a wide-ranging interview with Axelrod, Yates discussed a number of issues, including hostility toward US institutions and the truth, the January 6 Capitol insurrection, police reform and restrictive voting laws. Yates, who said in her interview that American institutions “are really the most important thing” in the country’s democracy, told Axelrod that she’s “never seen an all-out assault on institutions and certainly in the course of my lifetime, like we saw over the four years of the Trump presidency.” The former acting attorney general said that assault has now carried over into truth, with there being “an indifference to truth during part of that administration to outright hostility toward it now.” “And again, as I said, we can debate policies and we should, but it has to be based on a common set of facts, and the lack of any of even being loosely tethered to truth for some, I think is a really dangerous thing for our country,” she said. Yates also offered a somber outlook on the deadly Capitol riot, saying that while it seemed like there was consensus around the fact that such an attack cannot happen again, that sentiment appears to have “dissipated” in the weeks following January 6. “I will confess, I did not anticipate there that we would have a – literally a violent insurrection at the Capitol on January 6,” Yates said. She continued: “And I think all of us watched with horror that day at what was happening at our nation’s Capitol with also a feeling of, OK, this has to be it. Regardless of where one is on the political spectrum, surely we can all agree that this can never happen again – that this is going at the very bedrock of our democracy. And it seemed like that lasted for maybe a week or so. Maybe a little bit longer than that. And then even there it is dissipated now. We can’t even unify around that.” Weighing in on the recent conviction of former Minneapolis police officer Derek Chauvin in the murder of George Floyd last year, Yates said she believes the US is “at an inflection point when it comes both to racial justice and specifically police reform.” “Again, none of this is new either. We’ve been struggling with these issues for not just years, but decades. But I think it has come to a point and it certainly came to the point with the Chauvin trial and with George Floyd where we all were confronted” with the video showing Chauvin kneeling on Floyd’s neck, she said. “While I think that verdict was essential for us going forward, it’s certainly not sufficient. It was important to hold Chauvin responsible for his actions, but we’ve got more work that needs to be done systemically in police departments,” Yates added. Yates said she was “very concerned” about GOP-led restrictive voting bills moving through state legislatures – including the recently passed election law in her home state of Georgia – and the “genesis of these changes” having stemmed from Trump’s lies about the election and to “ostensibly protect against nonexistent voter fraud.” “To me, this is really insidious to, again, be using this false narrative of widespread voter fraud to make it more difficult for people to vote,” she said. She slammed Georgia’s law for reducing the number of ballot drop boxes, making it illegal to send out absentee applications to all voters, and limiting voters’ abilities to cast a provisional ballot in a different precinct from where they are registered. “No one element of this perhaps impacts that many votes, but collectively they can impact a fair number, and every single vote should count,” she told Axelrod. Yates noted that some lawmakers cited a lack of authority when pressured to overturn election results. “Now in Georgia, under certain circumstances, the state legislature would have the authority,” she said. “And while, you know, in the past, it would have been impossible to imagine, you would actually have a situation where the state legislature would override the will of the people.” Still, Yates said she is “hopeful” that some of restrictive voting laws “can be beat back, but I think we probably all recognize that in 2022, it’s going to be a different situation in a number of states.” This story has been updated with additional details from the episode. CNN’s Ahmad Rafeena and Veronica Stracqualursi contributed to this report.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-080573_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-080573_1.png"],primaryTags:["Health"],secondaryTags:["Cancer"],text:`Ageing immune system linked to cancer.The key to preventing age-related cancers may lie in the body's own immune system, new research suggests.,Scientists at the University of Dundee found an ageing immune system could be a stronger reason for developing cancer compared with genetic mutation.,They have developed a mathematical equation to show the link and its impact on cancer rates.,They said the discovery could have "major implications" for the fight against the disease.,The team, which also included researchers from Heriot Watt University, the University of Edinburgh and the Institut Curie in France, analysed data on two million cancer cases over the 18-70 age range.,They confirmed that men were statistically more likely than women to be diagnosed with cancer, although the chances of developing the disease across both groups rose dramatically with age.,Genetic predisposition, lifestyle and environmental factors also played a role in cancer diagnosis.,However, researchers noticed that their mathematical model fitted the data better than the multiple mutation hypothesis.,Thea Newman, professor of biophysics and systems biology at the University of Dundee, said: "This is still very early days but if we are proven right then you could be talking about a whole new way to treat and prevent cancer.,"Nearly all of the mainstream research into cancer is based on how we can understand genetic mutations, target them and thereby cure the disease.,"We're not debating the fact that mutations cause cancer, but are asking whether mutations alone can account for the rapid rise in cancer incidence with age when ageing causes other profound changes in the body.",The researchers found that the immune system generally declined slower in women compared with men, allowing them to account for gender differences in cancer incidence.,This was also linked to the thymus gland, which produces T cells to circulate and kill dysfunctional cells or foreign agents in the body.,While the gland shrinks with age, it tended to do so faster in men compared with women.,Prof Clare Blackburn, an expert in thymus biology at the University of Edinburgh, added: "We believe that our findings are extremely relevant and show the need to take the immune system even more seriously in cancer research.,"In addition to mutations, this suggests we should also focus on how to boost thymus function in a controlled way.",The research, has been published in the latest edition of the Proceedings of the National Academy of Sciences.`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055498_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-055498_1.png"],primaryTags:["Politics"],secondaryTags:["Courts"],text:"Former President Donald Trump has asked the Supreme Court to put on hold the release of his tax returns by the Internal Revenue Service to a Democratic-led House committee. Trump filed the emergency request on Monday with the high court after a federal appeals court cleared the way last week for the returns to be disclosed to the House Ways and Means Committee in the coming days. The case is the most direct way for the House to obtain Trump’s federal tax returns after pursuing them in different avenues for years. The Trump team wants the Supreme Court to put the release of the tax returns on pause while the justices consider whether to take up a case reviewing the lower court rulings okaying their disclosure. Supreme Court hears arguments on college affirmative action cases The new filing asks the court to put an administrative hold on the release of the tax returns by Wednesday, as the US DC Circuit Court of Appeals ruling allowing for their disclosure goes into effect on Thursday. “No Congress has ever wielded its legislative powers to demand a President’s tax returns,” Trump argued to the Supreme Court, as he warned of the “far-reaching implications” implications of the DC Circuit’s ruling. He wrote that that the way lower courts approached the House request ran afoul of the Supreme Court’s ruling in the Mazars case, concerning a subpoena that the House issued Trump’s accounting firm for his tax information. This story is has been updated with additional details.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-063690_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-063690_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-063690_1.png"],primaryTags:["Sport"],secondaryTags:["Basketball"],text:"The South Carolina Gamecocks women’s basketball team has canceled its home-and-home series with the Brigham Young University (BYU) Cougars following the racial incident involving Duke volleyball player Rachel Richardson at a BYU game last week, Dawn Staley, head coach for the defending national champions said on Friday. “As a head coach, my job is to do what’s best for my players and staff,” Staley said in a statement. “The incident at BYU has led me to reevaluate our home-and-home, and I don’t feel that this is the right time for us to engage in this series.” Richardson said BYU officials did not act quick enough to stop the racist harassment she and other Black players were subject to during a match last week. Richardson tweeted that she and some of her teammates “were targeted and racially heckled throughout the entirety of the match. The slurs and comments grew into threats which caused us to feel unsafe.” Duke volleyball player says BYU officials failed to stop racist heckling during game in newly released statement BYU issued an apology the day after the game and said it banned a fan. South Carolina was scheduled to open its season at home against BYU on November 7. The Gamecocks said they are looking for another opponent for the season opener at Colonial Life Arena. BYU said it is “extremely disappointed” with the decision. “We are extremely disappointed in South Carolina’s decision to cancel our series and ask for patience with the on-going investigation,” BYU women’s basketball team said in a statement on Twitter. “We believe the solution is to work together to root out racism and not to separate from one another. #LoveOneAnother.” Both teams were set to play each other at the Utah university next season. BYU said it has no proof that the fan banned used a racial slur. The investigation is ongoing. “We are still investigating fan behavior as well as investigating our own response to the reported behavior,” Jon McBride, BYU associate athletic director said in a statement to CNN on Saturday. “The individual who was banned was the person identified by Duke as using racial slurs. However, we have been unable to find any evidence of that person using slurs in the match. We continue to investigate that specific situation.” On Thursday, BYU athletic director Tom Holmoe wrote an opinion piece for the Deseret News stating that the school is “committed to zero-tolerance of racism” and will be defined by its response to the racial incident. Brigham Young University apologizes, bans fan over racist slurs during volleyball match “Let me be clear where BYU stands on this issue: racism is disgusting and unacceptable,” he wrote. “We have worked to understand and follow-up on Rachel’s experience with sincere commitment and ongoing concern. To say we were extremely disheartened by her report is not strong enough language. BYU and BYU Athletics are committed to zero-tolerance of racism. Any fan found engaging in racist insults will be banned from our athletic venues. Holmoe added: “While some will try to define BYU by this incident, we will ultimately be defined by how we respond. The BYU I know and love rejects racism.”",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_1.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_5.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/bbc-098258_4.png"],primaryTags:["Sport"],secondaryTags:["Rugby"],text:`.This video can not be played,England head coach Eddie Jones is not too old for a telling-off from his mother,England head coach Eddie Jones has apologised for swearing on TV, after receiving a dressing down from his 93-year-old mother. ,Jones was frustrated by his side's patchy performance at Twickenham, and was caught on camera losing his cool during Saturday's win over Argentina. ,"I have apologised for the language I used," Jones told BBC Sport. ,"I got a phone call this morning from my mother - who is 93 - rapping me over the knuckles.",'Ireland are a joy, England were a bore' - Guscott on the autumn internationals,Listen to 5 live's rugby union weekly podcast,Head coach Jones calls win a 'grindathon',Jones was seen swearing after England conceded a second-half penalty in the 21-8 victory.,Speaking to the BBC Rugby Union Weekly podcast, the 57-year-old Australian added. "I am in trouble with my mother and that's a big enough punishment for me. ,"She still tells me not to swear. I am in the dog house and certainly won't do it again.,"I think everyone was a bit frustrated on Saturday and I was one of them and I should have shown more self-control.",England's win was played out in front of a subdued Twickenham, and Jones accepts it was far from the spectacle the crowd would have hoped for. ,"It's like anything, you go to a movie and everyone talks about it and says it's going be fantastic," he said. ,"Then you sit there for two hours and don't enjoy it at all. And that sometimes happens at rugby games. ,"Unfortunately it just doesn't click. It's not a perfect science. If it was a perfect science, we would play brilliant rugby every week, but we don't.",Eddie Jones showed visible signs of frustration on the sidelines during England's win against Argentina,Jones says England will have to be better this weekend against a rapidly improving Australia outfit, who beat Wales for the 13th successive time on Saturday.,"I think they are probably the form team in the world, having beating New Zealand, two draws against South Africa, they have beaten Argentina, they have now beaten Wales," Jones said.,"If you were betting on the next race, they would be a warm favourite. They have had a succession of games together and we are coming out of the paddock and have one run under our belt in a 1500-metre race at Newbury or somewhere like that. ,"But we will be right this Saturday, it's a Group One event and we will be ready to go. I think we are at least at Ascot.",This video can not be played,Autumn international: England 21-8 Argentina highlights,England may be forced into at least one change, with full-back Mike Brown recovering from concussion. ,Brown left the field permanently after a mid-air collision with Argentina's Joaquin Tuculet, and now has to pass the 'return to play' protocol to be available for selection. ,"It's going to be tight. He's an important player for us and at the start of the game was looking so sharp," Jones said. ,"It's one of those unfortunate incidents, and it's going to be tight whether he is going to be fit to play, and if he's not we will miss him a lot, because he's a great player who plays with his heart.,"We love those sort of players and I know the English fans love those sort of players."   ,'Ireland are a joy, England were a bore',Itoje & Farrell nominated for top award,Shiny new kit but performance from past?,England win a grindathon - Jones,England Rugby,Scottish Rugby Union,Welsh Rugby Union,Irish Rugby,Aviva Premiership Rugby,Pro14 League,European Professional Club Rugby`,currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-013025_4_7.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-013025_4_4.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/yah-013025_4_1.png"],primaryTags:["Safety"],secondaryTags:["War"],text:"Putin’s new hypersonic missile is a warning to Britain – this footage shows why. Credit: social media It may be innocently called “the hazelnut”, but this is a fig leaf disguise. The Kremlin’s latest hypersonic intermediate-range ballistic missile is actually one of its most dangerous. Vladimir Putin test-fired the “Oreshnik”, the Russian word for hazelnut tree, for the first time in combat on Thursday against the Ukrainian city of Dnipro. He later boasted that it had been designed for a “decisive” strike on Britain – and added a chilling warning. “I recommend that the ruling elites of those countries that are hatching plans to use their military contingents against Russia seriously think about this,” Putin said. So secret was the development of the Oreshnik that very little is known about it until footage emerged of its first strike. Credit: Telegram / dnepr_operativ Flashes of startling light emanating from multiple warheads were seen raining down on Dnipro and exploding on impact in deadly synchronisation. Initially, it was mistaken for an RS-26 Rubezh intercontinental ballistic missile when it was fired at Dnipro from a launch site in Astrakhan on the Caspian Sea. The Pentagon has also described Oreshnik as a “variant” of the RS-26 Rubezh. The grainy footage shows that Oreshnik appears to have multiple independently targetable re-entry vehicles. These are separate warheads able to hit different targets, which gives one missile enormous destructive power. Experts described it as an “experimental hybrid” missile that sits in a category between intercontinental and intermediate-range missiles. This means it has a range of around 3,000 miles, easily enough to strike Britain. Analysing the video, Andrey Baklitskiy, a senior researcher in the weapons of mass destruction programme for the United Nations, said that the video showed multiple warheads crashing into Dnipro at high speed. “They all fell in a close vicinity of each other, more consistent with MRV technology, meaning the warheads were not independently targeted,” he said. Mr Baklitskiy agreed that it was more difficult to defend against multiple warheads but each warhead would be “less potent”. As for the apparently small explosions, Mr Baklitskiy said that this was probably due to the small payload or “no payload at all” in the warheads. Michael Bonhert, an engineer at US think tank Rand Corporation, described it as part of Russia’s “strategic nuclear triad”, a change from the missiles that the Kremlin has been firing at Ukraine throughout the war. “What is different is missiles that tend to be intermediate-range missiles and almost every intercontinental ballistic missile is nuclear-capable,” he said. As well as gloating that the missile was capable of carrying both a conventional payload or a nuclear warhead, Putin dropped some more hints about the capabilities of the Oreshnik missile on Thursday, claiming that it could easily dodge anti-missile systems. The Oreshnik is fast and stealthy too. Putin said that the missile can fly at 10 times the speed of sound and cannot be shot down. “The modern air defence systems in the world and the missile defence systems created by the Americans in Europe do not intercept such missiles,” Mr Bonhert said. Ukraine’s military intelligence agency (HUR) said the missile could fly at 11 times the speed of sound as it released further details on the new weapon. It said the missile was fired from the fourth missile test range Kapustin Yar in Russia’s Astrakhan region, and flew 15 minutes before striking Dnipro. The missile had six warheads each carrying six submunitions. Test launches of a similar missile were conducted at the range in October 2023 and June 2024, HUR said. Mick Ryan, a military analyst and a retired Australian major general, said that by unveiling the Oreshnik with his strike on Dnipro, Putin was sending a strong message. “This was a political strike, not a military one,” he said. “It can be used against almost any target in Europe and the United Kingdom.” The issue for Putin, who looked more tired and drawn than usual in his video on Thursday, is that Britain’s deepening involvement in the war in Ukraine feels personal. Under his 24-year reign, the Kremlin has kept up a stream of particularly vindictive rhetoric against Britain and has previously threatened to strike London with a nuclear missile. Now that Ukraine has fired British-supplied Storm Shadow missiles at Russia, Putin has said that he is “ready and entitled” to respond with “destructive force”. The Oreshnik could be his weapon of choice.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-028411_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-028411_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-028411_1.png"],primaryTags:["Technology","Technology"],secondaryTags:["Aerospace Tech","ISS"],text:"Sign up for CNN’s Wonder Theory science newsletter. Explore the universe with news on fascinating discoveries, scientific advancements and more. NASA astronauts Jasmin Moghbeli and Loral O’Hara marked their first spacewalk this month with a tool bag floating through space. The pair concluded their maintenance work outside the International Space Station (ISS) in six hours and 42 minutes, according to the space agency. The spacewalk on November 1 saw Moghbeli and O’Hara complete works on the station’s solar arrays, which track the sun, but they ran out of time to remove and stow a communications electronics box. Leaving this task for a future spacewalk, the pair instead conducted an assessment of how the job could be done. During the hours-long mission, a tool bag gave them the slip and was “lost,” NASA said, with flight controllers spotting it using the ISS’ external cameras. Fortunately, the tools were not required for the remainder of their tasks. “Mission Control analyzed the bag’s trajectory and determined that risk of recontacting the station is low and that the onboard crew and space station are safe with no action required,” NASA said on its official blog. According to EarthSky, a website tracking cosmic events, the tool bag is currently orbiting Earth ahead of the ISS, and can potentially be spotted from Earth with a pair of binoculars during the next few months until it disintegrates in our planet’s atmosphere. ‘Puzzling’ discovery spotted in new images from NASA mission’s asteroid flyby This isn’t the first time an astronaut has lost tools in space. In 2008, Heide Stefanyshyn-Piper’s bag floated away while she was cleaning and lubricating gears on a malfunctioning rotary joint. A 2006 spacewalk saw astronauts Piers Sellers and Michael Fossum lose a 14-inch spatula while testing a method of repairing the space shuttle. Space debris or junk, like these objects, are artificial materials that orbit Earth but are no longer functional. They can be anything from a small chip of paint to parts discarded during rocket launches. In September 2023, the European Space Agency estimated 35,290 objects were being tracked and cataloged by the various space surveillance networks, with the total mass of objects orbiting Earth amounting to more than 11,000 tons.",currentIndex:0,showText:!1},{title:"",images:["https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-043773_2.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-043773_3.png","https://search-multimodal-1251524319.cos.ap-shanghai.myqcloud.com/wangqx/news_tag_labelling/cnn-043773_1.png"],primaryTags:["Safety"],secondaryTags:["Murder"],text:"Federal and state law enforcement in Virginia and North Carolina are searching for two men who escaped from jail, one of whom was facing a murder charge in the death of a sheriff’s deputy. The two men escaped from a Farmville, Virginia, jail sometime over the weekend, the Prince Edward County Sheriff’s Office said in a news release. The sheriff’s office was notified the two men were missing early Monday morning. Farmville is roughly 60 miles southwest of Richmond and about 60 miles north of the North Carolina border, where authorities say both men have connections. The escapees were identified by authorities as Alder Marin-Sotelo, 26, and Bruce Carroll Callahan, 44. Marin-Sotelo is facing a first-degree murder charge in connection with the August killing of Wake County Sheriff’s Deputy Ned Byrd in North Carolina, according to the FBI. Byrd was shot multiple times and killed after getting out of his vehicle to investigate “suspicious activity” during his patrol, according to the Officer Down Memorial Page, a non-profit dedicated to memorializing fallen officers. Marin-Sotelo, who was described by authorities as Hispanic, had also been convicted of unlawful possession of a firearm, according to the Prince Edward County Sheriff’s Office. He is 5 feet, 6 inches tall and weighs roughly 150 pounds. He has black hair and brown eyes, the sheriff’s office added. He is believed to have left the jail in an early 2000s red or burgundy Ford Mustang, the Wake County Sheriff’s Office said in a Facebook post. He is considered “extremely dangerous,” authorities said. Callahan was being held on federal drug and weapons charges, the U.S. Marshals Service said in a news release. He is White, 5 feet, 6 inches tall and weighs roughly 145 pounds. He has brown hair and green eyes, the release added. It’s unclear if the two men have legal representation. There is a reward of up to $5,000 for information that leads to Callahan’s arrest, the Marshal’s Service added. The Marshal’s Service is looking for Callahan and helping in the search for Marin-Sotelo, which is being led by the FBI, the news release noted. In a announcement of the search Monday, Prince Edward County Sheriff L.A. “Tony” Epps urged community members to stay vigilant and call 911 if they see anyone matching descriptions of the escapees. “We appreciate the support from our many law enforcement partners and the public, as we continue to search (for) these individuals,” the sheriff added.",currentIndex:0,showText:!1}],currentPage:0}},methods:{prevImage(n){const e=this.datasetItems[n];e.currentIndex=(e.currentIndex-1+e.images.length)%e.images.length},nextImage(n){const e=this.datasetItems[n];e.currentIndex=(e.currentIndex+1)%e.images.length},toggleText(n){const e=this.datasetItems[n];e.showText=!e.showText},prevCard(){this.currentPage>0&&this.currentPage--},nextCard(){this.currentPage<this.datasetItems.length-1&&this.currentPage++}}},Zne=n=>(xc("data-v-f78cbc8b"),n=n(),Sc(),n),jGe=Zne(()=>ve("h1",{class:"section-title"},"Dataset Examples Cases",-1)),ZGe={class:"dataset-container"},QGe={class:"card-content"},JGe={class:"image-carousel"},eWe=["src"],tWe={class:"tag-display"},nWe={class:"icon-with-text"},rWe=Zne(()=>ve("span",{class:"tags-label"},"Tags",-1)),iWe={class:"pagination"},aWe=["disabled"],sWe=["disabled"];function oWe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("Edit");return V(),he("div",null,[ue(s),ue(o,{justify:"center"},{default:be(()=>[jGe]),_:1}),ve("div",ZGe,[(V(!0),he(zt,null,In([i.datasetItems[i.currentPage]],(c,u)=>(V(),he("div",{key:c.title,class:"dataset-card"},[ve("div",QGe,[ve("div",JGe,[ve("img",{src:c.images[c.currentIndex],alt:"News",class:"carousel-image",onClick:e[0]||(e[0]=d=>a.toggleText(i.currentPage))},null,8,eWe),ve("button",{class:"carousel-control prev",onClick:e[1]||(e[1]=sn(d=>a.prevImage(i.currentPage),["stop"]))}," ❮ "),ve("button",{class:"carousel-control next",onClick:e[2]||(e[2]=sn(d=>a.nextImage(i.currentPage),["stop"]))}," ❯ "),ve("div",tWe,[ve("div",nWe,[ue(l,{style:{width:"1em",height:"1em","margin-right":"3px"}}),rWe]),(V(!0),he(zt,null,In(c.primaryTags,d=>(V(),he("span",{key:d,class:"tag primary"},Ct(d),1))),128)),(V(!0),he(zt,null,In(c.secondaryTags,d=>(V(),he("span",{key:d,class:"tag secondary"},Ct(d),1))),128))]),c.showText?(V(),he("div",{key:0,class:"text-overlay",onClick:e[3]||(e[3]=sn(()=>{},["stop"]))},[ve("p",null,Ct(c.text),1)])):Je("",!0)])])]))),128))]),ve("div",iWe,[ve("button",{onClick:e[4]||(e[4]=(...c)=>a.prevCard&&a.prevCard(...c)),disabled:i.currentPage===0},"Prev",8,aWe),ve("span",null,Ct(i.currentPage+1)+"/"+Ct(i.datasetItems.length),1),ve("button",{onClick:e[5]||(e[5]=(...c)=>a.nextCard&&a.nextCard(...c)),disabled:i.currentPage===i.datasetItems.length-1}," Next ",8,sWe)])])}const lWe=Ga(XGe,[["render",oWe],["__scopeId","data-v-f78cbc8b"]]);function EV(n){const e={a:"a",annotation:"annotation",blockquote:"blockquote",code:"code",del:"del",h1:"h1",h2:"h2",h3:"h3",img:"img",input:"input",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mn:"mn",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",ol:"ol",p:"p",pre:"pre",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...n.components};return wt(zt,{children:[wt(e.h1,{children:"Markdown (H1)"}),`
`,wt(e.p,{children:["The render result of ",wt(e.code,{children:"md.mdx"})," is here."]}),`
`,wt(e.h2,{children:"Good (H2)"}),`
`,wt(e.h3,{children:"Nice (H3)"}),`
`,wt(e.p,{children:[wt(e.a,{href:"https://lilianweng.github.io/posts/2021-07-11-diffusion-models/",children:wt(e.strong,{children:"Diffusion models"})})," are a class of generative models in machine learning that have gained significant attention in recent years."]}),`
`,wt(e.p,{children:[wt(e.strong,{children:"Text-to-image diffusion models"})," have various application scenarios, including:"]}),`
`,wt(e.ul,{children:[`
`,wt(e.li,{children:[wt(e.strong,{children:"Art & Design"}),": Used by artists for creative art and fashion designers to generate clothing renderings."]}),`
`,wt(e.li,{children:[wt(e.strong,{children:"Advertising & Marketing"}),": Helps in creating advertising posters and product promotion maps."]}),`
`,wt(e.li,{children:[wt(e.strong,{children:"Game & Film"}),": Applied in game scene and character design, as well as film and television concept design..."]}),`
`]}),`
`,wt(e.blockquote,{children:[`
`,wt(e.p,{children:"Thegeneral training steps of diffusion models are as follows:"}),`
`]}),`
`,wt(e.ol,{children:[`
`,wt(e.li,{children:"Data collection"}),`
`,wt(e.li,{children:"Noise addition"}),`
`,wt(e.li,{children:"Model building"}),`
`,wt(e.li,{children:"Training"}),`
`,wt(e.li,{children:"Evaluation"}),`
`,wt(e.li,{children:"Deployment"}),`
`]}),`
`,wt(e.pre,{children:wt(e.code,{children:`import torch 

def denoise():
    pass
`})}),`
`,wt(e.ul,{className:"contains-task-list",children:[`
`,wt(e.li,{className:"task-list-item",children:[wt(e.input,{type:"checkbox",disabled:!0})," ","to do"]}),`
`,wt(e.li,{className:"task-list-item",children:[wt(e.input,{type:"checkbox",checked:!0,disabled:!0})," ","done"]}),`
`,wt(e.li,{className:"task-list-item",children:[wt(e.input,{type:"checkbox",checked:!0,disabled:!0})," ",wt(e.del,{children:"114514"})]}),`
`]}),`
`,wt(e.p,{children:wt(e.img,{src:"./logo_vision_aigc.png",alt:""})}),`
`,wt(e.p,{children:["Lift (",wt(e.span,{className:"katex",children:[wt(e.span,{className:"katex-mathml",children:wt(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:wt(e.semantics,{children:[wt(e.mrow,{children:wt(e.mi,{children:"L"})}),wt(e.annotation,{encoding:"application/x-tex",children:"L"})]})})}),wt(e.span,{className:"katex-html","aria-hidden":"true",children:wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"0.6833em"}}),wt(e.span,{className:"mord mathnormal",children:"L"})]})})]}),") can be determined by Lift Coefficient (",wt(e.span,{className:"katex",children:[wt(e.span,{className:"katex-mathml",children:wt(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",children:wt(e.semantics,{children:[wt(e.mrow,{children:wt(e.msub,{children:[wt(e.mi,{children:"C"}),wt(e.mi,{children:"L"})]})}),wt(e.annotation,{encoding:"application/x-tex",children:"C_L"})]})})}),wt(e.span,{className:"katex-html","aria-hidden":"true",children:wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),wt(e.span,{className:"msupsub",children:wt(e.span,{className:"vlist-t vlist-t2",children:[wt(e.span,{className:"vlist-r",children:[wt(e.span,{className:"vlist",style:{height:"0.3283em"},children:wt(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[wt(e.span,{className:"pstrut",style:{height:"2.7em"}}),wt(e.span,{className:"sizing reset-size6 size3 mtight",children:wt(e.span,{className:"mord mathnormal mtight",children:"L"})})]})}),wt(e.span,{className:"vlist-s",children:"​"})]}),wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.15em"},children:wt(e.span,{})})})]})})]})]})})]}),`) like the following
equation.`]}),`
`,wt(e.span,{className:"katex-display",children:wt(e.span,{className:"katex",children:[wt(e.span,{className:"katex-mathml",children:wt(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:wt(e.semantics,{children:[wt(e.mrow,{children:[wt(e.mi,{children:"L"}),wt(e.mo,{children:"="}),wt(e.mfrac,{children:[wt(e.mn,{children:"1"}),wt(e.mn,{children:"2"})]}),wt(e.mi,{children:"ρ"}),wt(e.msup,{children:[wt(e.mi,{children:"v"}),wt(e.mn,{children:"2"})]}),wt(e.mi,{children:"S"}),wt(e.msub,{children:[wt(e.mi,{children:"C"}),wt(e.mi,{children:"L"})]})]}),wt(e.annotation,{encoding:"application/x-tex",children:"L = \\frac{1}{2} \\rho v^2 S C_L"})]})})}),wt(e.span,{className:"katex-html","aria-hidden":"true",children:[wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"0.6833em"}}),wt(e.span,{className:"mord mathnormal",children:"L"}),wt(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),wt(e.span,{className:"mrel",children:"="}),wt(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),wt(e.span,{className:"base",children:[wt(e.span,{className:"strut",style:{height:"2.0074em",verticalAlign:"-0.686em"}}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mopen nulldelimiter"}),wt(e.span,{className:"mfrac",children:wt(e.span,{className:"vlist-t vlist-t2",children:[wt(e.span,{className:"vlist-r",children:[wt(e.span,{className:"vlist",style:{height:"1.3214em"},children:[wt(e.span,{style:{top:"-2.314em"},children:[wt(e.span,{className:"pstrut",style:{height:"3em"}}),wt(e.span,{className:"mord",children:wt(e.span,{className:"mord",children:"2"})})]}),wt(e.span,{style:{top:"-3.23em"},children:[wt(e.span,{className:"pstrut",style:{height:"3em"}}),wt(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),wt(e.span,{style:{top:"-3.677em"},children:[wt(e.span,{className:"pstrut",style:{height:"3em"}}),wt(e.span,{className:"mord",children:wt(e.span,{className:"mord",children:"1"})})]})]}),wt(e.span,{className:"vlist-s",children:"​"})]}),wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.686em"},children:wt(e.span,{})})})]})}),wt(e.span,{className:"mclose nulldelimiter"})]}),wt(e.span,{className:"mord mathnormal",children:"ρ"}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.03588em"},children:"v"}),wt(e.span,{className:"msupsub",children:wt(e.span,{className:"vlist-t",children:wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.8641em"},children:wt(e.span,{style:{top:"-3.113em",marginRight:"0.05em"},children:[wt(e.span,{className:"pstrut",style:{height:"2.7em"}}),wt(e.span,{className:"sizing reset-size6 size3 mtight",children:wt(e.span,{className:"mord mtight",children:"2"})})]})})})})})]}),wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.05764em"},children:"S"}),wt(e.span,{className:"mord",children:[wt(e.span,{className:"mord mathnormal",style:{marginRight:"0.07153em"},children:"C"}),wt(e.span,{className:"msupsub",children:wt(e.span,{className:"vlist-t vlist-t2",children:[wt(e.span,{className:"vlist-r",children:[wt(e.span,{className:"vlist",style:{height:"0.3283em"},children:wt(e.span,{style:{top:"-2.55em",marginLeft:"-0.0715em",marginRight:"0.05em"},children:[wt(e.span,{className:"pstrut",style:{height:"2.7em"}}),wt(e.span,{className:"sizing reset-size6 size3 mtight",children:wt(e.span,{className:"mord mathnormal mtight",children:"L"})})]})}),wt(e.span,{className:"vlist-s",children:"​"})]}),wt(e.span,{className:"vlist-r",children:wt(e.span,{className:"vlist",style:{height:"0.15em"},children:wt(e.span,{})})})]})})]})]})]})]})}),`
`,wt(e.h3,{children:"Table (H3)"}),`
`,wt(e.table,{children:[wt(e.thead,{children:wt(e.tr,{children:[wt(e.th,{children:"a"}),wt(e.th,{style:{textAlign:"left"},children:"b"}),wt(e.th,{style:{textAlign:"right"},children:"c"}),wt(e.th,{style:{textAlign:"center"},children:"d"})]})}),wt(e.tbody,{children:[wt(e.tr,{children:[wt(e.td,{children:"Alpha"}),wt(e.td,{style:{textAlign:"left"},children:"Bravo"}),wt(e.td,{style:{textAlign:"right"},children:"Alpha"}),wt(e.td,{style:{textAlign:"center"},children:"Bravo"})]}),wt(e.tr,{children:[wt(e.td,{children:"中文"}),wt(e.td,{style:{textAlign:"left"},children:"Charlie"}),wt(e.td,{style:{textAlign:"right"},children:"👩‍❤️‍👩"}),wt(e.td,{style:{textAlign:"center"},children:"Delta"})]})]})]})]})}function cWe(n={}){const{wrapper:e}=n.components||{};return e?wt(e,{...n,children:wt(EV,{...n})}):EV(n)}const uWe={__name:"Markdown",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-col"),a=Et("el-row");return V(),he("div",null,[ue(r),ue(a,{justify:"center"},{default:be(()=>[ue(i,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(w(cWe))]),_:1})]),_:1})])}}},dWe={data(){return{bibtex:["@article{xxx,","    title={News-M3F: A Multi-modal, Multi-label Dataset for Fine-grained Visual Categorization},","    author={xxx},","    journal={xxx},","    year={xxx}","}"]}},methods:{copyVal(){let n=document.createElement("textarea"),e=document.getElementById("bibtex").innerText;n.value=e,document.body.appendChild(n),n.select(),document.execCommand("Copy"),this.$message.success("Copy Successfully"),n.remove()}}},L8=n=>(xc("data-v-4af90938"),n=n(),Sc(),n),fWe=L8(()=>ve("h1",{class:"section-title"},"BibTeX",-1)),hWe=L8(()=>ve("div",{style:{"text-align":"center",color:"var(--el-text-color-secondary)","margin-top":"20px"}},"🖱️ Click here to copy BibTex.",-1)),pWe={id:"bibtex"},mWe=L8(()=>ve("br",null,null,-1));function vWe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("el-scrollbar"),c=Et("el-col");return V(),he("div",null,[ue(s),ue(o,{justify:"center"},{default:be(()=>[fWe]),_:1}),ue(o,{justify:"center"},{default:be(()=>[ue(c,{class:"bibtex",xs:24,sm:20,md:14,lg:12,xl:12,onClick:e[0]||(e[0]=u=>a.copyVal())},{default:be(()=>[hWe,ue(o,null,{default:be(()=>[ue(l,{style:{margin:"0px 20px 5px 20px"}},{default:be(()=>[ve("pre",pWe,[(V(!0),he(zt,null,In(i.bibtex,u=>(V(),he("code",null,[dn(Ct(u),1),mWe]))),256))])]),_:1})]),_:1})]),_:1})]),_:1})])}const gWe=Ga(dWe,[["render",vWe],["__scopeId","data-v-4af90938"]]);function IV(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function N8(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:IV(e[t])&&IV(n[t])&&Object.keys(e[t]).length>0&&N8(n[t],e[t])})}const Qne={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function su(){const n=typeof document<"u"?document:{};return N8(n,Qne),n}const yWe={document:Qne,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Xo(){const n=typeof window<"u"?window:{};return N8(n,yWe),n}function bWe(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function VP(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function SM(){return Date.now()}function _We(n){const e=Xo();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function wWe(n,e){e===void 0&&(e="x");const t=Xo();let r,i,a;const s=_We(n);return t.WebKitCSSMatrix?(i=s.transform||s.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new t.WebKitCSSMatrix(i==="none"?"":i)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function tS(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function xWe(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function No(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!xWe(r)){const i=Object.keys(Object(r)).filter(a=>e.indexOf(a)<0);for(let a=0,s=i.length;a<s;a+=1){const o=i[a],l=Object.getOwnPropertyDescriptor(r,o);l!==void 0&&l.enumerable&&(tS(n[o])&&tS(r[o])?r[o].__swiper__?n[o]=r[o]:No(n[o],r[o]):!tS(n[o])&&tS(r[o])?(n[o]={},r[o].__swiper__?n[o]=r[o]:No(n[o],r[o])):n[o]=r[o])}}}return n}function nS(n,e,t){n.style.setProperty(e,t)}function Jne(n){let{swiper:e,targetPosition:t,side:r}=n;const i=Xo(),a=-e.translate;let s=null,o;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=t>a?"next":"prev",u=(f,h)=>c==="next"&&f>=h||c==="prev"&&f<=h,d=()=>{o=new Date().getTime(),s===null&&(s=o);const f=Math.max(Math.min((o-s)/l,1),0),h=.5-Math.cos(f*Math.PI)/2;let p=a+h*(t-a);if(u(p,t)&&(p=t),e.wrapperEl.scrollTo({[r]:p}),u(p,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function Jc(n,e){return e===void 0&&(e=""),[...n.children].filter(t=>t.matches(e))}function ere(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:[e]),t}function SWe(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function CWe(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Df(n,e){return Xo().getComputedStyle(n,null).getPropertyValue(e)}function CM(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function tre(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function $P(n,e,t){const r=Xo();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}let I4;function MWe(){const n=Xo(),e=su();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function nre(){return I4||(I4=MWe()),I4}let R4;function TWe(n){let{userAgent:e}=n===void 0?{}:n;const t=nre(),r=Xo(),i=r.navigator.platform,a=e||r.navigator.userAgent,s={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/);let u=a.match(/(iPad).*OS\s([\d_]+)/);const d=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&t.touch&&m.indexOf(`${o}x${l}`)>=0&&(u=a.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!h&&(s.os="android",s.android=!0),(u||f||d)&&(s.os="ios",s.ios=!0),s}function AWe(n){return n===void 0&&(n={}),R4||(R4=TWe(n)),R4}let P4;function EWe(){const n=Xo();let e=!1;function t(){const r=n.navigator.userAgent.toLowerCase();return r.indexOf("safari")>=0&&r.indexOf("chrome")<0&&r.indexOf("android")<0}if(t()){const r=String(n.navigator.userAgent);if(r.includes("Version/")){const[i,a]=r.split("Version/")[1].split(" ")[0].split(".").map(s=>Number(s));e=i<16||i===16&&a<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function IWe(){return P4||(P4=EWe()),P4}function RWe(n){let{swiper:e,on:t,emit:r}=n;const i=Xo();let a=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(d=>{s=i.requestAnimationFrame(()=>{const{width:f,height:h}=e;let p=f,m=h;d.forEach(v=>{let{contentBoxSize:g,contentRect:y,target:b}=v;b&&b!==e.el||(p=y?y.width:(g[0]||g).inlineSize,m=y?y.height:(g[0]||g).blockSize)}),(p!==f||m!==h)&&o()})}),a.observe(e.el))},c=()=>{s&&i.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",o),i.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),i.removeEventListener("resize",o),i.removeEventListener("orientationchange",u)})}function PWe(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const a=[],s=Xo(),o=function(u,d){d===void 0&&(d={});const f=s.MutationObserver||s.WebkitMutationObserver,h=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};s.requestAnimationFrame?s.requestAnimationFrame(m):s.setTimeout(m,0)});h.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),a.push(h)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=tre(e.hostEl);for(let d=0;d<u.length;d+=1)o(u[d])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},c=()=>{a.forEach(u=>{u.disconnect()}),a.splice(0,a.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",l),r("destroy",c)}var DWe={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=t?"unshift":"push";return n.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e.apply(r,s)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(a,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),r=n):(e=a[0].events,t=a[0].data,r=a[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(r,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(r,t)})}),n}};function kWe(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Df(r,"padding-left")||0,10)-parseInt(Df(r,"padding-right")||0,10),t=t-parseInt(Df(r,"padding-top")||0,10)-parseInt(Df(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function LWe(){const n=this;function e(I){return n.isHorizontal()?I:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[I]}function t(I,D){return parseFloat(I.getPropertyValue(e(D))||0)}const r=n.params,{wrapperEl:i,slidesEl:a,size:s,rtlTranslate:o,wrongRTL:l}=n,c=n.virtual&&r.virtual.enabled,u=c?n.virtual.slides.length:n.slides.length,d=Jc(a,`.${n.params.slideClass}, swiper-slide`),f=c?n.virtual.slides.length:d.length;let h=[];const p=[],m=[];let v=r.slidesOffsetBefore;typeof v=="function"&&(v=r.slidesOffsetBefore.call(n));let g=r.slidesOffsetAfter;typeof g=="function"&&(g=r.slidesOffsetAfter.call(n));const y=n.snapGrid.length,b=n.slidesGrid.length;let _=r.spaceBetween,x=-v,S=0,T=0;if(typeof s>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:typeof _=="string"&&(_=parseFloat(_)),n.virtualSize=-_,d.forEach(I=>{o?I.style.marginLeft="":I.style.marginRight="",I.style.marginBottom="",I.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(nS(i,"--swiper-centered-offset-before",""),nS(i,"--swiper-centered-offset-after",""));const C=r.grid&&r.grid.rows>1&&n.grid;C&&n.grid.initSlides(f);let M;const A=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(I=>typeof r.breakpoints[I].slidesPerView<"u").length>0;for(let I=0;I<f;I+=1){M=0;let D;if(d[I]&&(D=d[I]),C&&n.grid.updateSlide(I,D,f,e),!(d[I]&&Df(D,"display")==="none")){if(r.slidesPerView==="auto"){A&&(d[I].style[e("width")]="");const L=getComputedStyle(D),F=D.style.transform,B=D.style.webkitTransform;if(F&&(D.style.transform="none"),B&&(D.style.webkitTransform="none"),r.roundLengths)M=n.isHorizontal()?$P(D,"width",!0):$P(D,"height",!0);else{const k=t(L,"width"),H=t(L,"padding-left"),z=t(L,"padding-right"),O=t(L,"margin-left"),W=t(L,"margin-right"),j=L.getPropertyValue("box-sizing");if(j&&j==="border-box")M=k+O+W;else{const{clientWidth:ee,offsetWidth:te}=D;M=k+H+z+O+W+(te-ee)}}F&&(D.style.transform=F),B&&(D.style.webkitTransform=B),r.roundLengths&&(M=Math.floor(M))}else M=(s-(r.slidesPerView-1)*_)/r.slidesPerView,r.roundLengths&&(M=Math.floor(M)),d[I]&&(d[I].style[e("width")]=`${M}px`);d[I]&&(d[I].swiperSlideSize=M),m.push(M),r.centeredSlides?(x=x+M/2+S/2+_,S===0&&I!==0&&(x=x-s/2-_),I===0&&(x=x-s/2-_),Math.abs(x)<1/1e3&&(x=0),r.roundLengths&&(x=Math.floor(x)),T%r.slidesPerGroup===0&&h.push(x),p.push(x)):(r.roundLengths&&(x=Math.floor(x)),(T-Math.min(n.params.slidesPerGroupSkip,T))%n.params.slidesPerGroup===0&&h.push(x),p.push(x),x=x+M+_),n.virtualSize+=M+_,S=M,T+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+g,o&&l&&(r.effect==="slide"||r.effect==="coverflow")&&(i.style.width=`${n.virtualSize+_}px`),r.setWrapperSize&&(i.style[e("width")]=`${n.virtualSize+_}px`),C&&n.grid.updateWrapperSize(M,h,e),!r.centeredSlides){const I=[];for(let D=0;D<h.length;D+=1){let L=h[D];r.roundLengths&&(L=Math.floor(L)),h[D]<=n.virtualSize-s&&I.push(L)}h=I,Math.floor(n.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(n.virtualSize-s)}if(c&&r.loop){const I=m[0]+_;if(r.slidesPerGroup>1){const D=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/r.slidesPerGroup),L=I*r.slidesPerGroup;for(let F=0;F<D;F+=1)h.push(h[h.length-1]+L)}for(let D=0;D<n.virtual.slidesBefore+n.virtual.slidesAfter;D+=1)r.slidesPerGroup===1&&h.push(h[h.length-1]+I),p.push(p[p.length-1]+I),n.virtualSize+=I}if(h.length===0&&(h=[0]),_!==0){const I=n.isHorizontal()&&o?"marginLeft":e("marginRight");d.filter((D,L)=>!r.cssMode||r.loop?!0:L!==d.length-1).forEach(D=>{D.style[I]=`${_}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let I=0;m.forEach(L=>{I+=L+(_||0)}),I-=_;const D=I-s;h=h.map(L=>L<=0?-v:L>D?D+g:L)}if(r.centerInsufficientSlides){let I=0;if(m.forEach(D=>{I+=D+(_||0)}),I-=_,I<s){const D=(s-I)/2;h.forEach((L,F)=>{h[F]=L-D}),p.forEach((L,F)=>{p[F]=L+D})}}if(Object.assign(n,{slides:d,snapGrid:h,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){nS(i,"--swiper-centered-offset-before",`${-h[0]}px`),nS(i,"--swiper-centered-offset-after",`${n.size/2-m[m.length-1]/2}px`);const I=-n.snapGrid[0],D=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(L=>L+I),n.slidesGrid=n.slidesGrid.map(L=>L+D)}if(f!==u&&n.emit("slidesLengthChange"),h.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),p.length!==b&&n.emit("slidesGridLengthChange"),r.watchSlidesProgress&&n.updateSlidesOffset(),!c&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const I=`${r.containerModifierClass}backface-hidden`,D=n.el.classList.contains(I);f<=r.maxBackfaceHiddenSlides?D||n.el.classList.add(I):D&&n.el.classList.remove(I)}}function NWe(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const s=o=>r?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!r)break;t.push(s(o))}else t.push(s(e.activeIndex));for(a=0;a<t.length;a+=1)if(typeof t[a]<"u"){const o=t[a].offsetHeight;i=o>i?o:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function OWe(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}function BWe(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-n;i&&(s=n),r.forEach(l=>{l.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<r.length;l+=1){const c=r[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(s+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),f=(s-a[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+o),h=-(s-u),p=h+e.slidesSizesGrid[l];(h>=0&&h<e.size-1||p>1&&p<=e.size||h<=0&&p>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),r[l].classList.add(t.slideVisibleClass)),c.progress=i?-d:d,c.originalProgress=i?-f:f}}function FWe(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:s,progressLoop:o}=e;const l=a,c=s;if(r===0)i=0,a=!0,s=!0;else{i=(n-e.minTranslate())/r;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;a=u||i<=0,s=d||i>=1,u&&(i=0),d&&(i=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[u],h=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=f?o=(m-f)/p:o=(m+p-h)/p,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:a,isEnd:s}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),a&&!l&&e.emit("reachBeginning toEdge"),s&&!c&&e.emit("reachEnd toEdge"),(l&&!a||c&&!s)&&e.emit("fromEdge"),e.emit("progress",i)}function zWe(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,a=n.virtual&&t.virtual.enabled,s=l=>Jc(r,`.${t.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let o;if(a)if(t.loop){let l=i-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),o=s(`[data-swiper-slide-index="${l}"]`)}else o=s(`[data-swiper-slide-index="${i}"]`);else o=e[i];if(o){o.classList.add(t.slideActiveClass);let l=CWe(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!l&&(l=e[0]),l&&l.classList.add(t.slideNextClass);let c=SWe(o,`.${t.slideClass}, swiper-slide`)[0];t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass)}n.emitSlidesClasses()}const J2=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},D4=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},GP=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const s=i,o=[s-e];o.push(...Array.from({length:e}).map((l,c)=>s+r+c)),n.slides.forEach((l,c)=>{o.includes(l.column)&&D4(n,c)});return}const a=i+r-1;if(n.params.rewind||n.params.loop)for(let s=i-e;s<=a+e;s+=1){const o=(s%t+t)%t;(o<i||o>a)&&D4(n,o)}else for(let s=Math.max(i-e,0);s<=Math.min(a+e,t-1);s+=1)s!==i&&(s>a||s<i)&&D4(n,s)};function UWe(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let i;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?r>=e[a]&&r<e[a+1]-(e[a+1]-e[a])/2?i=a:r>=e[a]&&r<e[a+1]&&(i=a+1):r>=e[a]&&(i=a);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function HWe(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:a,realIndex:s,snapIndex:o}=e;let l=n,c;const u=f=>{let h=f-e.virtual.slidesBefore;return h<0&&(h=e.virtual.slides.length+h),h>=e.virtual.slides.length&&(h-=e.virtual.slides.length),h};if(typeof l>"u"&&(l=UWe(e)),r.indexOf(t)>=0)c=r.indexOf(t);else{const f=Math.min(i.slidesPerGroupSkip,l);c=f+Math.floor((l-f)/i.slidesPerGroup)}if(c>=r.length&&(c=r.length-1),l===a){c!==o&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let d;e.virtual&&i.virtual.enabled&&i.loop?d=u(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:o,snapIndex:c,previousRealIndex:s,realIndex:d,previousIndex:a,activeIndex:l}),e.initialized&&GP(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function VWe(n,e){const t=this,r=t.params;let i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(o=>{!i&&o.matches&&o.matches(`.${r.slideClass}, swiper-slide`)&&(i=o)});let a=!1,s;if(i){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===i){a=!0,s=o;break}}if(i&&a)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=s;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var $We={updateSize:kWe,updateSlides:LWe,updateAutoHeight:NWe,updateSlidesOffset:OWe,updateSlidesProgress:BWe,updateProgress:FWe,updateSlidesClasses:zWe,updateActiveIndex:HWe,updateClickedSlide:VWe};function GWe(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:a}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let s=wWe(a,n);return s+=e.cssOverflowAdjustment(),r&&(s=-s),s||0}function WWe(n,e){const t=this,{rtlTranslate:r,params:i,wrapperEl:a,progress:s}=t;let o=0,l=0;const c=0;t.isHorizontal()?o=r?-n:n:l=n,i.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:l,i.cssMode?a[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-l:i.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${l}px, ${c}px)`);let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==s&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function qWe(){return-this.snapGrid[0]}function KWe(){return-this.snapGrid[this.snapGrid.length-1]}function YWe(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),c=a.maxTranslate();let u;if(r&&n>l?u=l:r&&n<c?u=c:u=n,a.updateProgress(u),s.cssMode){const d=a.isHorizontal();if(e===0)o[d?"scrollLeft":"scrollTop"]=-u;else{if(!a.support.smoothScroll)return Jne({swiper:a,targetPosition:-u,side:d?"left":"top"}),!0;o.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(u),t&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(u),t&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,t&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var XWe={getTranslate:GWe,setTranslate:WWe,minTranslate:qWe,maxTranslate:KWe,translateTo:YWe};function jWe(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function rre(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n;const{activeIndex:a,previousIndex:s}=e;let o=r;if(o||(a>s?o="next":a<s?o="prev":o="reset"),e.emit(`transition${i}`),t&&a!==s){if(o==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),o==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function ZWe(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),rre({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function QWe(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),rre({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var JWe={setTransition:jWe,transitionStart:ZWe,transitionEnd:QWe};function eqe(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const a=this;let s=n;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:h,enabled:p}=a;if(a.animating&&o.preventInteractionOnTransition||!p&&!r&&!i)return!1;const m=Math.min(a.params.slidesPerGroupSkip,s);let v=m+Math.floor((s-m)/a.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const g=-l[v];if(o.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){const _=-Math.floor(g*100),x=Math.floor(c[b]*100),S=Math.floor(c[b+1]*100);typeof c[b+1]<"u"?_>=x&&_<S-(S-x)/2?s=b:_>=x&&_<S&&(s=b+1):_>=x&&(s=b)}if(a.initialized&&s!==d&&(!a.allowSlideNext&&(f?g>a.translate&&g>a.minTranslate():g<a.translate&&g<a.minTranslate())||!a.allowSlidePrev&&g>a.translate&&g>a.maxTranslate()&&(d||0)!==s))return!1;s!==(u||0)&&t&&a.emit("beforeSlideChangeStart"),a.updateProgress(g);let y;if(s>d?y="next":s<d?y="prev":y="reset",f&&-g===a.translate||!f&&g===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(g),y!=="reset"&&(a.transitionStart(t,y),a.transitionEnd(t,y)),!1;if(o.cssMode){const b=a.isHorizontal(),_=f?g:-g;if(e===0){const x=a.virtual&&a.params.virtual.enabled;x&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),x&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{h[b?"scrollLeft":"scrollTop"]=_})):h[b?"scrollLeft":"scrollTop"]=_,x&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1})}else{if(!a.support.smoothScroll)return Jne({swiper:a,targetPosition:_,side:b?"left":"top"}),!0;h.scrollTo({[b?"left":"top"]:_,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(g),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(t,y),e===0?a.transitionEnd(t,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(_){!a||a.destroyed||_.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(t,y))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function tqe(n,e,t,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;let a=n;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?a=a+i.virtual.slidesBefore:a=i.getSlideIndexByData(a)),i.slideTo(a,e,t,r)}function nqe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this,{enabled:i,params:a,animating:s}=r;if(!i)return r;let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<a.slidesPerGroupSkip?1:o,c=r.virtual&&a.virtual.enabled;if(a.loop){if(s&&!c&&a.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+l,n,e,t)}),!0}return a.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+l,n,e,t)}function rqe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this,{params:i,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:c}=r;if(!l)return r;const u=r.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=o?r.translate:-r.translate;function f(g){return g<0?-Math.floor(Math.abs(g)):Math.floor(g)}const h=f(d),p=a.map(g=>f(g));let m=a[p.indexOf(h)-1];if(typeof m>"u"&&i.cssMode){let g;a.forEach((y,b)=>{h>=y&&(g=b)}),typeof g<"u"&&(m=a[g>0?g-1:g])}let v=0;if(typeof m<"u"&&(v=s.indexOf(m),v<0&&(v=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(v=v-r.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),i.rewind&&r.isBeginning){const g=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(g,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(v,n,e,t)}),!0;return r.slideTo(v,n,e,t)}function iqe(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const r=this;return r.slideTo(r.activeIndex,n,e,t)}function aqe(n,e,t,r){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;let a=i.activeIndex;const s=Math.min(i.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const c=i.snapGrid[o],u=i.snapGrid[o+1];l-c>(u-c)*r&&(a+=i.params.slidesPerGroup)}else{const c=i.snapGrid[o-1],u=i.snapGrid[o];l-c<=(u-c)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,n,e,t)}function sqe(){const n=this,{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let i=n.clickedIndex,a;const s=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;a=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<n.loopedSlides-r/2||i>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),i=n.getSlideIndex(Jc(t,`${s}[data-swiper-slide-index="${a}"]`)[0]),VP(()=>{n.slideTo(i)})):n.slideTo(i):i>n.slides.length-r?(n.loopFix(),i=n.getSlideIndex(Jc(t,`${s}[data-swiper-slide-index="${a}"]`)[0]),VP(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var oqe={slideTo:eqe,slideToLoop:tqe,slideNext:nqe,slidePrev:rqe,slideReset:iqe,slideToClosest:aqe,slideToClickedSlide:sqe};function lqe(n){const e=this,{params:t,slidesEl:r}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;Jc(r,`.${t.slideClass}, swiper-slide`).forEach((a,s)=>{a.setAttribute("data-swiper-slide-index",s)}),e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function cqe(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:a,byController:s,byMousewheel:o}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:f,params:h}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&h.virtual.enabled){t&&(!h.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):h.centeredSlides&&l.snapIndex<h.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}const p=h.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(h.slidesPerView,10));let m=h.loopedSlides||p;m%h.slidesPerGroup!==0&&(m+=h.slidesPerGroup-m%h.slidesPerGroup),l.loopedSlides=m;const v=[],g=[];let y=l.activeIndex;typeof a>"u"?a=l.getSlideIndex(l.slides.filter(T=>T.classList.contains(h.slideActiveClass))[0]):y=a;const b=r==="next"||!r,_=r==="prev"||!r;let x=0,S=0;if(a<m){x=Math.max(m-a,h.slidesPerGroup);for(let T=0;T<m-a;T+=1){const C=T-Math.floor(T/c.length)*c.length;v.push(c.length-C-1)}}else if(a>l.slides.length-m*2){S=Math.max(a-(l.slides.length-m*2),h.slidesPerGroup);for(let T=0;T<S;T+=1){const C=T-Math.floor(T/c.length)*c.length;g.push(C)}}if(_&&v.forEach(T=>{l.slides[T].swiperLoopMoveDOM=!0,f.prepend(l.slides[T]),l.slides[T].swiperLoopMoveDOM=!1}),b&&g.forEach(T=>{l.slides[T].swiperLoopMoveDOM=!0,f.append(l.slides[T]),l.slides[T].swiperLoopMoveDOM=!1}),l.recalcSlides(),h.slidesPerView==="auto"&&l.updateSlides(),h.watchSlidesProgress&&l.updateSlidesOffset(),t){if(v.length>0&&_)if(typeof e>"u"){const T=l.slidesGrid[y],M=l.slidesGrid[y+x]-T;o?l.setTranslate(l.translate-M):(l.slideTo(y+x,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=M,l.touchEventsData.currentTranslate=l.translate))}else i&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(g.length>0&&b)if(typeof e>"u"){const T=l.slidesGrid[y],M=l.slidesGrid[y-S]-T;o?l.setTranslate(l.translate-M):(l.slideTo(y-S,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=M,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!s){const T={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(C=>{!C.destroyed&&C.params.loop&&C.loopFix({...T,slideTo:C.params.slidesPerView===h.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...T,slideTo:l.controller.control.params.slidesPerView===h.slidesPerView?t:!1})}l.emit("loopFix")}function uqe(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(i=>{const a=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[a]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var dqe={loopCreate:lqe,loopFix:cqe,loopDestroy:uqe};function fqe(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function hqe(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var pqe={setGrabCursor:fqe,unsetGrabCursor:hqe};function mqe(n,e){e===void 0&&(e=this);function t(r){if(!r||r===su()||r===Xo())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function vqe(n){const e=this,t=su(),r=Xo(),i=e.touchEventsData;i.evCache.push(n);const{params:a,touches:s,enabled:o}=e;if(!o||!a.simulateTouch&&n.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(a.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const u=!!a.noSwipingClass&&a.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const f=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,h=!!(l.target&&l.target.shadowRoot);if(a.noSwiping&&(h?mqe(f,c):c.closest(f))){e.allowClick=!0;return}if(a.swipeHandler&&!c.closest(a.swipeHandler))return;s.currentX=l.pageX,s.currentY=l.pageY;const p=s.currentX,m=s.currentY,v=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,g=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(v&&(p<=g||p>=r.innerWidth-g))if(v==="prevent")n.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=m,i.touchStartTime=SM(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1);let y=!0;c.matches(i.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==c&&t.activeElement.blur();const b=y&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||b)&&!c.isContentEditable&&l.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function gqe(n){const e=su(),t=this,r=t.touchEventsData,{params:i,touches:a,rtlTranslate:s,enabled:o}=t;if(!o||!i.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",l);return}const c=r.evCache.findIndex(T=>T.pointerId===l.pointerId);c>=0&&(r.evCache[c]=l);const u=r.evCache.length>1?r.evCache[0]:l,d=u.pageX,f=u.pageY;if(l.preventedByNestedSwiper){a.startX=d,a.startY=f;return}if(!t.allowTouchMove){l.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:d,startY:f,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:d,currentY:f}),r.touchStartTime=SM());return}if(i.touchReleaseOnEdges&&!i.loop){if(t.isVertical()){if(f<a.startY&&t.translate<=t.maxTranslate()||f>a.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<a.startX&&t.translate<=t.maxTranslate()||d>a.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}if(r.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;a.currentX=d,a.currentY=f;const h=a.currentX-a.startX,p=a.currentY-a.startY;if(t.params.threshold&&Math.sqrt(h**2+p**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let T;t.isHorizontal()&&a.currentY===a.startY||t.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:h*h+p*p>=25&&(T=Math.atan2(Math.abs(p),Math.abs(h))*180/Math.PI,r.isScrolling=t.isHorizontal()?T>i.touchAngle:90-T>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&r.evCache.length>1){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let m=t.isHorizontal()?h:p,v=t.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;i.oneWayMovement&&(m=Math.abs(m)*(s?1:-1),v=Math.abs(v)*(s?1:-1)),a.diff=m,m*=i.touchRatio,s&&(m=-m,v=-v);const g=t.touchesDirection;t.swipeDirection=m>0?"prev":"next",t.touchesDirection=v>0?"prev":"next";const y=t.params.loop&&!i.cssMode,b=t.swipeDirection==="next"&&t.allowSlideNext||t.swipeDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(y&&b&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const T=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(T)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let _;r.isMoved&&g!==t.touchesDirection&&y&&b&&Math.abs(m)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),_=!0),t.emit("sliderMove",l),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let x=!0,S=i.resistanceRatio;if(i.touchReleaseOnEdges&&(S=0),m>0?(y&&b&&!_&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(x=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+m)**S))):m<0&&(y&&b&&!_&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(x=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-m)**S))),x&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=t.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function yqe(n){const e=this,t=e.touchEventsData,r=t.evCache.findIndex(b=>b.pointerId===n.pointerId);if(r>=0&&t.evCache.splice(r,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:a,rtlTranslate:s,slidesGrid:o,enabled:l}=e;if(!l||!i.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",c),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&i.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}i.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=SM(),d=u-t.touchStartTime;if(e.allowClick){const b=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(b&&b[0]||c.target,b),e.emit("tap click",c),d<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(t.lastClickTime=SM(),VP(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||a.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let f;if(i.followFinger?f=s?e.translate:-e.translate:f=-t.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}let h=0,p=e.slidesSizesGrid[0];for(let b=0;b<o.length;b+=b<i.slidesPerGroupSkip?1:i.slidesPerGroup){const _=b<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof o[b+_]<"u"?f>=o[b]&&f<o[b+_]&&(h=b,p=o[b+_]-o[b]):f>=o[b]&&(h=b,p=o[o.length-1]-o[o.length-2])}let m=null,v=null;i.rewind&&(e.isBeginning?v=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const g=(f-o[h])/p,y=h<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(g>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?m:h+y):e.slideTo(h)),e.swipeDirection==="prev"&&(g>1-i.longSwipesRatio?e.slideTo(h+y):v!==null&&g<0&&Math.abs(g)>i.longSwipesRatio?e.slideTo(v):e.slideTo(h))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(h+y):e.slideTo(h):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:h+y),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:h))}}function RV(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=n,s=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const o=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!o?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!s?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&a!==n.snapGrid&&n.checkOverflow()}function bqe(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function _qe(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i;const a=n.maxTranslate()-n.minTranslate();a===0?i=0:i=(n.translate-n.minTranslate())/a,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function wqe(n){const e=this;J2(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let PV=!1;function xqe(){}const ire=(n,e)=>{const t=su(),{params:r,el:i,wrapperEl:a,device:s}=n,o=!!r.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;i[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:o}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[l]("click",n.onClick,!0),r.cssMode&&a[l]("scroll",n.onScroll),r.updateOnWindowResize?n[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",RV,!0):n[c]("observerUpdate",RV,!0),i[l]("load",n.onLoad,{capture:!0})};function Sqe(){const n=this,e=su(),{params:t}=n;n.onTouchStart=vqe.bind(n),n.onTouchMove=gqe.bind(n),n.onTouchEnd=yqe.bind(n),t.cssMode&&(n.onScroll=_qe.bind(n)),n.onClick=bqe.bind(n),n.onLoad=wqe.bind(n),PV||(e.addEventListener("touchstart",xqe),PV=!0),ire(n,"on")}function Cqe(){ire(this,"off")}var Mqe={attachEvents:Sqe,detachEvents:Cqe};const DV=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Tqe(){const n=this,{realIndex:e,initialized:t,params:r,el:i}=n,a=r.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=n.getBreakpoint(a,n.params.breakpointsBase,n.el);if(!s||n.currentBreakpoint===s)return;const l=(s in a?a[s]:void 0)||n.originalParams,c=DV(n,r),u=DV(n,l),d=r.enabled;c&&!u?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!c&&u&&(i.classList.add(`${r.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(g=>{if(typeof l[g]>"u")return;const y=r[g]&&r[g].enabled,b=l[g]&&l[g].enabled;y&&!b&&n[g].disable(),!y&&b&&n[g].enable()});const f=l.direction&&l.direction!==r.direction,h=r.loop&&(l.slidesPerView!==r.slidesPerView||f),p=r.loop;f&&t&&n.changeDirection(),No(n.params,l);const m=n.params.enabled,v=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!m?n.disable():!d&&m&&n.enable(),n.currentBreakpoint=s,n.emit("_beforeBreakpoint",l),t&&(h?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!p&&v?(n.loopCreate(e),n.updateSlides()):p&&!v&&n.loopDestroy()),n.emit("breakpoint",l)}function Aqe(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const i=Xo(),a=e==="window"?i.innerHeight:t.clientHeight,s=Object.keys(n).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const l=parseFloat(o.substr(1));return{value:a*l,point:o}}return{value:o,point:o}});s.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<s.length;o+=1){const{point:l,value:c}=s[o];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=t.clientWidth&&(r=l)}return r||"max"}var Eqe={setBreakpoint:Tqe,getBreakpoint:Aqe};function Iqe(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function Rqe(){const n=this,{classNames:e,params:t,rtl:r,el:i,device:a}=n,s=Iqe(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...s),i.classList.add(...e),n.emitContainerClasses()}function Pqe(){const n=this,{el:e,classNames:t}=n;e.classList.remove(...t),n.emitContainerClasses()}var Dqe={addClasses:Rqe,removeClasses:Pqe};function kqe(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const i=n.slides.length-1,a=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>a}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Lqe={checkOverflow:kqe},WP={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Nqe(n,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){No(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in a)){No(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),No(e,r)}}const k4={eventsEmitter:DWe,update:$We,translate:XWe,transition:JWe,slide:oqe,loop:dqe,grabCursor:pqe,events:Mqe,breakpoints:Eqe,checkOverflow:Lqe,classes:Dqe},L4={};let O8=class qu{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=No({},t),e&&!t.el&&(t.el=e);const s=su();if(t.el&&typeof t.el=="string"&&s.querySelectorAll(t.el).length>1){const u=[];return s.querySelectorAll(t.el).forEach(d=>{const f=No({},t,{el:d});u.push(new qu(f))}),u}const o=this;o.__swiper__=!0,o.support=nre(),o.device=AWe({userAgent:t.userAgent}),o.browser=IWe(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],t.modules&&Array.isArray(t.modules)&&o.modules.push(...t.modules);const l={};o.modules.forEach(u=>{u({params:t,swiper:o,extendParams:Nqe(t,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const c=No({},WP,l);return o.params=No({},c,L4,t),o.originalParams=No({},o.params),o.passedParams=No({},t),o.params&&o.params.on&&Object.keys(o.params.on).forEach(u=>{o.on(u,o.params.on[u])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:t,params:r}=this,i=Jc(t,`.${r.slideClass}, swiper-slide`),a=CM(i[0]);return CM(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Jc(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),s=(r.maxTranslate()-i)*e+i;r.translateTo(s,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:i,slides:a,slidesGrid:s,slidesSizesGrid:o,size:l,activeIndex:c}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=a[c]?a[c].swiperSlideSize:0,f;for(let h=c+1;h<a.length;h+=1)a[h]&&!f&&(d+=a[h].swiperSlideSize,u+=1,d>l&&(f=!0));for(let h=c-1;h>=0;h-=1)a[h]&&!f&&(d+=a[h].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<a.length;d+=1)(t?s[d]+o[d]-s[c]<l:s[d]-s[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)s[c]-s[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&J2(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const s=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(s.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=(()=>r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):Jc(r,i())[0])();return!s&&t.params.createElements&&(s=ere("div",t.params.wrapperClass),r.append(s),Jc(r,`.${t.params.slideClass}`).forEach(o=>{s.append(o)})),Object.assign(t,{el:r,wrapperEl:s,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:s,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Df(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Df(r,"direction")==="rtl"),wrongRTL:Df(s,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(a=>{a.complete?J2(t,a):a.addEventListener("load",s=>{J2(t,s.target)})}),GP(t),t.initialized=!0,GP(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:i,el:a,wrapperEl:s,slides:o}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),a.removeAttribute("style"),s.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.el.swiper=null,bWe(r)),r.destroyed=!0),null}static extendDefaults(e){No(L4,e)}static get extendedDefaults(){return L4}static get defaults(){return WP}static installModule(e){qu.prototype.__modules__||(qu.prototype.__modules__=[]);const t=qu.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>qu.installModule(t)),qu):(qu.installModule(e),qu)}};Object.keys(k4).forEach(n=>{Object.keys(k4[n]).forEach(e=>{O8.prototype[e]=k4[n][e]})});O8.use([RWe,PWe]);const are=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function gm(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function tm(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:gm(e[r])&&gm(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:tm(n[r],e[r]):n[r]=e[r]})}function sre(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function ore(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function lre(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function cre(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function Oqe(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function Bqe(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:l}=n;const c=i.filter(M=>M!=="children"&&M!=="direction"&&M!=="wrapperClass"),{params:u,pagination:d,navigation:f,scrollbar:h,virtual:p,thumbs:m}=e;let v,g,y,b,_,x,S,T;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(v=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(g=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(y=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&h&&!h.el&&(b=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||a)&&(u.navigation||u.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);const C=M=>{e[M]&&(e[M].destroy(),M==="navigation"?(e.isElement&&(e[M].prevEl.remove(),e[M].nextEl.remove()),u[M].prevEl=void 0,u[M].nextEl=void 0,e[M].prevEl=void 0,e[M].nextEl=void 0):(e.isElement&&e[M].el.remove(),u[M].el=void 0,e[M].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?x=!0:!u.loop&&r.loop?S=!0:T=!0),c.forEach(M=>{if(gm(u[M])&&gm(r[M]))tm(u[M],r[M]),(M==="navigation"||M==="pagination"||M==="scrollbar")&&"enabled"in r[M]&&!r[M].enabled&&C(M);else{const A=r[M];(A===!0||A===!1)&&(M==="navigation"||M==="pagination"||M==="scrollbar")?A===!1&&C(M):u[M]=r[M]}}),c.includes("controller")&&!g&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&t&&p&&u.virtual.enabled&&(p.slides=t,p.update(!0)),i.includes("children")&&t&&u.loop&&(T=!0),v&&m.init()&&m.update(!0),g&&(e.controller.control=u.controller.control),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),b&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(u.scrollbar.el=o),h.init(),h.updateSize(),h.setTranslate()),_&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=e.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),e.el.appendChild(a)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=e.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),e.el.appendChild(s))),a&&(u.navigation.nextEl=a),s&&(u.navigation.prevEl=s),f.init(),f.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(x||T)&&e.loopDestroy(),(S||T)&&e.loopCreate(),e.update()}function kV(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},i={};tm(t,WP),t._emitClasses=!0,t.init=!1;const a={},s=are.map(l=>l.replace(/_/,"")),o=Object.assign({},n);return Object.keys(o).forEach(l=>{typeof n[l]>"u"||(s.indexOf(l)>=0?gm(n[l])?(t[l]={},i[l]={},tm(t[l],n[l]),tm(i[l],n[l])):(t[l]=n[l],i[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:t.on[`${l[2].toLowerCase()}${l.substr(3)}`]=n[l]:a[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:i,rest:a,events:r}}function Fqe(n,e){let{el:t,nextEl:r,prevEl:i,paginationEl:a,scrollbarEl:s,swiper:o}=n;sre(e)&&r&&i&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=i,o.originalParams.navigation.prevEl=i),ore(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),lre(e)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(t)}function zqe(n,e,t,r,i){const a=[];if(!e)return a;const s=l=>{a.indexOf(l)<0&&a.push(l)};if(t&&r){const l=r.map(i),c=t.map(i);l.join("")!==c.join("")&&s("children"),r.length!==t.length&&s("children")}return are.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(gm(n[l])&&gm(e[l])){const c=Object.keys(n[l]),u=Object.keys(e[l]);c.length!==u.length?s(l):(c.forEach(d=>{n[l][d]!==e[l][d]&&s(l)}),u.forEach(d=>{n[l][d]!==e[l][d]&&s(l)}))}else n[l]!==e[l]&&s(l)}),a}const Uqe=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function N4(n,e,t){n===void 0&&(n={});const r=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},a=(s,o)=>{Array.isArray(s)&&s.forEach(l=>{const c=typeof l.type=="symbol";o==="default"&&(o="container-end"),c&&l.children?a(l.children,o):l.type&&(l.type.name==="SwiperSlide"||l.type.name==="AsyncComponentWrapper")?r.push(l):i[o]&&i[o].push(l)})};return Object.keys(n).forEach(s=>{if(typeof n[s]!="function")return;const o=n[s]();a(o,s)}),t.value=e.value,e.value=r,{slides:r,slots:i}}function Hqe(n,e,t){if(!t)return null;const r=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=n.value.isHorizontal()?{[n.value.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:a,to:s}=t,o=n.value.params.loop?-e.length:0,l=n.value.params.loop?e.length*2:e.length,c=[];for(let u=o;u<l;u+=1)u>=a&&u<=s&&c.push(e[r(u)]);return c.map(u=>(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=n,u.props.style=i,Gt(u.type,{...u.props},u.children)))}const Vqe={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","breakpointsBase","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(n,e){let{slots:t,emit:r}=e;const{tag:i,wrapperTag:a}=n,s=ne("swiper"),o=ne(null),l=ne(!1),c=ne(!1),u=ne(null),d=ne(null),f=ne(null),h={value:[]},p={value:[]},m=ne(null),v=ne(null),g=ne(null),y=ne(null),{params:b,passedParams:_}=kV(n,!1);N4(t,h,p),f.value=_,p.value=h.value;const x=()=>{N4(t,h,p),l.value=!0};b.onAny=function(C){for(var M=arguments.length,A=new Array(M>1?M-1:0),I=1;I<M;I++)A[I-1]=arguments[I];r(C,...A)},Object.assign(b.on,{_beforeBreakpoint:x,_containerClasses(C,M){s.value=M}});const S={...b};if(delete S.wrapperClass,d.value=new O8(S),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=h.value;const C={cache:!1,slides:h.value,renderExternal:M=>{o.value=M},renderExternalUpdate:!1};tm(d.value.params.virtual,C),tm(d.value.originalParams.virtual,C)}Bl(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:C}=kV(n,!1),M=zqe(C,f.value,h.value,p.value,A=>A.props&&A.props.key);f.value=C,(M.length||l.value)&&d.value&&!d.value.destroyed&&Bqe({swiper:d.value,slides:h.value,passedParams:C,changedParams:M,nextEl:m.value,prevEl:v.value,scrollbarEl:y.value,paginationEl:g.value}),l.value=!1}),$n("swiper",d),dt(o,()=>{Yt(()=>{Uqe(d.value)})}),pn(()=>{u.value&&(Fqe({el:u.value,nextEl:m.value,prevEl:v.value,paginationEl:g.value,scrollbarEl:y.value,swiper:d.value},b),r("swiper",d.value))}),yr(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function T(C){return b.virtual?Hqe(d,C,o.value):(C.forEach((M,A)=>{M.props||(M.props={}),M.props.swiperRef=d,M.props.swiperSlideIndex=A}),C)}return()=>{const{slides:C,slots:M}=N4(t,h,p);return Gt(i,{ref:u,class:cre(s.value)},[M["container-start"],Gt(a,{class:Oqe(b.wrapperClass)},[M["wrapper-start"],T(C),M["wrapper-end"]]),sre(n)&&[Gt("div",{ref:v,class:"swiper-button-prev"}),Gt("div",{ref:m,class:"swiper-button-next"})],lre(n)&&Gt("div",{ref:y,class:"swiper-scrollbar"}),ore(n)&&Gt("div",{ref:g,class:"swiper-pagination"}),M["container-end"]])}}},$qe={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(n,e){let{slots:t}=e,r=!1;const{swiperRef:i}=n,a=ne(null),s=ne("swiper-slide"),o=ne(!1);function l(d,f,h){f===a.value&&(s.value=h)}pn(()=>{!i||!i.value||(i.value.on("_slideClass",l),r=!0)}),Ek(()=>{r||!i||!i.value||(i.value.on("_slideClass",l),r=!0)}),Bl(()=>{!a.value||!i||!i.value||(typeof n.swiperSlideIndex<"u"&&(a.value.swiperSlideIndex=n.swiperSlideIndex),i.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide"))}),yr(()=>{!i||!i.value||i.value.off("_slideClass",l)});const c=U(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0}));$n("swiperSlide",c);const u=()=>{o.value=!0};return()=>Gt(n.tag,{class:cre(`${s.value}`),ref:a,"data-swiper-slide-index":typeof n.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?n.swiperSlideIndex:n.virtualIndex,onLoadCapture:u},n.zoom?Gt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof n.zoom=="number"?n.zoom:void 0},[t.default&&t.default(c.value),n.lazy&&!o.value&&Gt("div",{class:"swiper-lazy-preloader"})]):[t.default&&t.default(c.value),n.lazy&&!o.value&&Gt("div",{class:"swiper-lazy-preloader"})])}};function ure(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let a=Jc(n.el,`.${r[i]}`)[0];a||(a=ere("div",r[i]),a.className=r[i],n.el.append(a)),t[i]=a,e[i]=a}}),t}function LV(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const a=m=>(Array.isArray(m)?m:[m]).filter(v=>!!v);function s(m){let v;return m&&typeof m=="string"&&e.isElement&&(v=e.el.querySelector(m),v)?v:(m&&(typeof m=="string"&&(v=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&typeof m=="string"&&v.length>1&&e.el.querySelectorAll(m).length===1&&(v=e.el.querySelector(m))),m&&!v?m:v)}function o(m,v){const g=e.params.navigation;m=a(m),m.forEach(y=>{y&&(y.classList[v?"add":"remove"](...g.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=v),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](g.lockClass))})}function l(){const{nextEl:m,prevEl:v}=e.navigation;if(e.params.loop){o(v,!1),o(m,!1);return}o(v,e.isBeginning&&!e.params.rewind),o(m,e.isEnd&&!e.params.rewind)}function c(m){m.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(m){m.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=ure(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let v=s(m.nextEl),g=s(m.prevEl);Object.assign(e.navigation,{nextEl:v,prevEl:g}),v=a(v),g=a(g);const y=(b,_)=>{b&&b.addEventListener("click",_==="next"?u:c),!e.enabled&&b&&b.classList.add(...m.lockClass.split(" "))};v.forEach(b=>y(b,"next")),g.forEach(b=>y(b,"prev"))}function f(){let{nextEl:m,prevEl:v}=e.navigation;m=a(m),v=a(v);const g=(y,b)=>{y.removeEventListener("click",b==="next"?u:c),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(y=>g(y,"next")),v.forEach(y=>g(y,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?p():(d(),l())}),r("toEdge fromEdge lock unlock",()=>{l()}),r("destroy",()=>{f()}),r("enable disable",()=>{let{nextEl:m,prevEl:v}=e.navigation;if(m=a(m),v=a(v),e.enabled){l();return}[...m,...v].filter(g=>!!g).forEach(g=>g.classList.add(e.params.navigation.lockClass))}),r("click",(m,v)=>{let{nextEl:g,prevEl:y}=e.navigation;g=a(g),y=a(y);const b=v.target;if(e.params.navigation.hideOnClick&&!y.includes(b)&&!g.includes(b)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===b||e.pagination.el.contains(b)))return;let _;g.length?_=g[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(_=y[0].classList.contains(e.params.navigation.hiddenClass)),i(_===!0?"navigationShow":"navigationHide"),[...g,...y].filter(x=>!!x).forEach(x=>x.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},p=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(e.navigation,{enable:h,disable:p,update:l,init:d,destroy:f})}function c1(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function NV(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const a="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let s,o=0;const l=y=>(Array.isArray(y)?y:[y]).filter(b=>!!b);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(y,b){const{bulletActiveClass:_}=e.params.pagination;y&&(y=y[`${b==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${_}-${b}`),y=y[`${b==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${_}-${b}-${b}`)))}function d(y){const b=y.target.closest(c1(e.params.pagination.bulletClass));if(!b)return;y.preventDefault();const _=CM(b)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===_)return;const x=e.realIndex,S=e.getSlideIndexByData(_),T=e.getSlideIndexByData(e.realIndex),C=M=>{const A=e.activeIndex;e.loopFix({direction:M,activeSlideIndex:S,slideTo:!1});const I=e.activeIndex;A===I&&e.slideToLoop(x,0,!1,!0)};if(S>e.slides.length-e.loopedSlides)C(S>T?"next":"prev");else if(e.params.centeredSlides){const M=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));S<Math.floor(M/2)&&C("prev")}e.slideToLoop(_)}else e.slideTo(_)}function f(){const y=e.rtl,b=e.params.pagination;if(c())return;let _=e.pagination.el;_=l(_);let x,S;const T=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,C=e.params.loop?Math.ceil(T/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(S=e.previousRealIndex||0,x=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(x=e.snapIndex,S=e.previousSnapIndex):(S=e.previousIndex||0,x=e.activeIndex||0),b.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const M=e.pagination.bullets;let A,I,D;if(b.dynamicBullets&&(s=$P(M[0],e.isHorizontal()?"width":"height",!0),_.forEach(L=>{L.style[e.isHorizontal()?"width":"height"]=`${s*(b.dynamicMainBullets+4)}px`}),b.dynamicMainBullets>1&&S!==void 0&&(o+=x-(S||0),o>b.dynamicMainBullets-1?o=b.dynamicMainBullets-1:o<0&&(o=0)),A=Math.max(x-o,0),I=A+(Math.min(M.length,b.dynamicMainBullets)-1),D=(I+A)/2),M.forEach(L=>{const F=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(B=>`${b.bulletActiveClass}${B}`)].map(B=>typeof B=="string"&&B.includes(" ")?B.split(" "):B).flat();L.classList.remove(...F)}),_.length>1)M.forEach(L=>{const F=CM(L);F===x?L.classList.add(...b.bulletActiveClass.split(" ")):e.isElement&&L.setAttribute("part","bullet"),b.dynamicBullets&&(F>=A&&F<=I&&L.classList.add(...`${b.bulletActiveClass}-main`.split(" ")),F===A&&u(L,"prev"),F===I&&u(L,"next"))});else{const L=M[x];if(L&&L.classList.add(...b.bulletActiveClass.split(" ")),e.isElement&&M.forEach((F,B)=>{F.setAttribute("part",B===x?"bullet-active":"bullet")}),b.dynamicBullets){const F=M[A],B=M[I];for(let k=A;k<=I;k+=1)M[k]&&M[k].classList.add(...`${b.bulletActiveClass}-main`.split(" "));u(F,"prev"),u(B,"next")}}if(b.dynamicBullets){const L=Math.min(M.length,b.dynamicMainBullets+4),F=(s*L-s)/2-D*s,B=y?"right":"left";M.forEach(k=>{k.style[e.isHorizontal()?B:"top"]=`${F}px`})}}_.forEach((M,A)=>{if(b.type==="fraction"&&(M.querySelectorAll(c1(b.currentClass)).forEach(I=>{I.textContent=b.formatFractionCurrent(x+1)}),M.querySelectorAll(c1(b.totalClass)).forEach(I=>{I.textContent=b.formatFractionTotal(C)})),b.type==="progressbar"){let I;b.progressbarOpposite?I=e.isHorizontal()?"vertical":"horizontal":I=e.isHorizontal()?"horizontal":"vertical";const D=(x+1)/C;let L=1,F=1;I==="horizontal"?L=D:F=D,M.querySelectorAll(c1(b.progressbarFillClass)).forEach(B=>{B.style.transform=`translate3d(0,0,0) scaleX(${L}) scaleY(${F})`,B.style.transitionDuration=`${e.params.speed}ms`})}b.type==="custom"&&b.renderCustom?(M.innerHTML=b.renderCustom(e,x+1,C),A===0&&i("paginationRender",M)):(A===0&&i("paginationRender",M),i("paginationUpdate",M)),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](b.lockClass)})}function h(){const y=e.params.pagination;if(c())return;const b=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let _=e.pagination.el;_=l(_);let x="";if(y.type==="bullets"){let S=e.params.loop?Math.ceil(b/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&S>b&&(S=b);for(let T=0;T<S;T+=1)y.renderBullet?x+=y.renderBullet.call(e,T,y.bulletClass):x+=`<${y.bulletElement} ${e.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?x=y.renderFraction.call(e,y.currentClass,y.totalClass):x=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?x=y.renderProgressbar.call(e,y.progressbarFillClass):x=`<span class="${y.progressbarFillClass}"></span>`),e.pagination.bullets=[],_.forEach(S=>{y.type!=="custom"&&(S.innerHTML=x||""),y.type==="bullets"&&e.pagination.bullets.push(...S.querySelectorAll(c1(y.bulletClass)))}),y.type!=="custom"&&i("paginationRender",_[0])}function p(){e.params.pagination=ure(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let b;typeof y.el=="string"&&e.isElement&&(b=e.el.querySelector(y.el)),!b&&typeof y.el=="string"&&(b=[...document.querySelectorAll(y.el)]),b||(b=y.el),!(!b||b.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(b)&&b.length>1&&(b=[...e.el.querySelectorAll(y.el)],b.length>1&&(b=b.filter(_=>tre(_,".swiper")[0]===e.el)[0])),Array.isArray(b)&&b.length===1&&(b=b[0]),Object.assign(e.pagination,{el:b}),b=l(b),b.forEach(_=>{y.type==="bullets"&&y.clickable&&_.classList.add(...(y.clickableClass||"").split(" ")),_.classList.add(y.modifierClass+y.type),_.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(_.classList.add(`${y.modifierClass}${y.type}-dynamic`),o=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&_.classList.add(y.progressbarOppositeClass),y.clickable&&_.addEventListener("click",d),e.enabled||_.classList.add(y.lockClass)}))}function m(){const y=e.params.pagination;if(c())return;let b=e.pagination.el;b&&(b=l(b),b.forEach(_=>{_.classList.remove(y.hiddenClass),_.classList.remove(y.modifierClass+y.type),_.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(_.classList.remove(...(y.clickableClass||"").split(" ")),_.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(_=>_.classList.remove(...y.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:b}=e.pagination;b=l(b),b.forEach(_=>{_.classList.remove(y.horizontalClass,y.verticalClass),_.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?g():(p(),h(),f())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),r("snapIndexChange",()=>{f()}),r("snapGridLengthChange",()=>{h(),f()}),r("destroy",()=>{m()}),r("enable disable",()=>{let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{f()}),r("click",(y,b)=>{const _=b.target,x=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&x&&x.length>0&&!_.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&_===e.navigation.nextEl||e.navigation.prevEl&&_===e.navigation.prevEl))return;const S=x[0].classList.contains(e.params.pagination.hiddenClass);i(S===!0?"paginationShow":"paginationHide"),x.forEach(T=>T.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList.remove(e.params.pagination.paginationDisabledClass))),p(),h(),f()},g=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(b=>b.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:v,disable:g,render:h,update:f,init:p,destroy:m})}function OV(n){let{swiper:e,extendParams:t,on:r,emit:i,params:a}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,o,l=a&&a.autoplay?a.autoplay.delay:3e3,c=a&&a.autoplay?a.autoplay.delay:3e3,u,d=new Date().getTime,f,h,p,m,v,g;function y(H){!e||e.destroyed||!e.wrapperEl||H.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",y),M())}const b=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(c=u,f=!1);const H=e.autoplay.paused?u:d+c-new Date().getTime();e.autoplay.timeLeft=H,i("autoplayTimeLeft",H,H/l),o=requestAnimationFrame(()=>{b()})},_=()=>{let H;return e.virtual&&e.params.virtual.enabled?H=e.slides.filter(O=>O.classList.contains("swiper-slide-active"))[0]:H=e.slides[e.activeIndex],H?parseInt(H.getAttribute("data-swiper-autoplay"),10):void 0},x=H=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),b();let z=typeof H>"u"?e.params.autoplay.delay:H;l=e.params.autoplay.delay,c=e.params.autoplay.delay;const O=_();!Number.isNaN(O)&&O>0&&typeof H>"u"&&(z=O,l=O,c=O),u=z;const W=e.params.speed,j=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(W,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,W,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(W,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,W,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return z>0?(clearTimeout(s),s=setTimeout(()=>{j()},z)):requestAnimationFrame(()=>{j()}),z},S=()=>{e.autoplay.running=!0,x(),i("autoplayStart")},T=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(o),i("autoplayStop")},C=(H,z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),H||(g=!0);const O=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",y):M()};if(e.autoplay.paused=!0,z){v&&(u=e.params.autoplay.delay),v=!1,O();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),O())},M=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),g?(g=!1,x(u)):x(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const H=su();H.visibilityState==="hidden"&&(g=!0,C(!0)),H.visibilityState==="visible"&&M()},I=H=>{H.pointerType==="mouse"&&(g=!0,!(e.animating||e.autoplay.paused)&&C(!0))},D=H=>{H.pointerType==="mouse"&&e.autoplay.paused&&M()},L=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",I),e.el.addEventListener("pointerleave",D))},F=()=>{e.el.removeEventListener("pointerenter",I),e.el.removeEventListener("pointerleave",D)},B=()=>{su().addEventListener("visibilitychange",A)},k=()=>{su().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(L(),B(),d=new Date().getTime(),S())}),r("destroy",()=>{F(),k(),e.autoplay.running&&T()}),r("beforeTransitionStart",(H,z,O)=>{e.destroyed||!e.autoplay.running||(O||!e.params.autoplay.disableOnInteraction?C(!0,!0):T())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){T();return}h=!0,p=!1,g=!1,m=setTimeout(()=>{g=!0,p=!0,C(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!h)){if(clearTimeout(m),clearTimeout(s),e.params.autoplay.disableOnInteraction){p=!1,h=!1;return}p&&e.params.cssMode&&M(),p=!1,h=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(v=!0)}),Object.assign(e.autoplay,{start:S,stop:T,pause:C,resume:M})}const Gqe={components:{Swiper:Vqe,SwiperSlide:$qe,Navigation:LV,Pagination:NV,Autoplay:OV},data(){return{modules:[LV,NV,OV],image_paths:["./cover_show/Culture.png","./cover_show/Daily Life.png","./cover_show/Education.png","./cover_show/Entertainment.png","./cover_show/Environment.png","./cover_show/Politics.png","./cover_show/Safety.png","./cover_show/Sport.png","./cover_show/technology.png"]}}},Wqe={class:"slide-container"};function qqe(n,e,t,r,i,a){const s=Et("el-image"),o=Et("swiper-slide"),l=Et("swiper"),c=Et("el-col"),u=Et("el-row");return V(),rt(u,{justify:"center"},{default:be(()=>[ue(c,{span:24},{default:be(()=>[ue(l,{loop:!0,slidesPerView:1,spaceBetween:20,breakpoints:{600:{slidesPerView:2},800:{slidesPerView:3}},modules:i.modules,navigation:{hideOnClick:!0},pagination:{hideOnClick:!0,clickable:!0,type:"bullets"},autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}},{default:be(()=>[(V(!0),he(zt,null,In(i.image_paths,d=>(V(),rt(o,{key:d},{default:be(()=>[ve("div",Wqe,[ue(s,{src:d},null,8,["src"])])]),_:2},1024))),128))]),_:1},8,["modules"])]),_:1})]),_:1})}const Kqe=Ga(Gqe,[["render",qqe]]),Yqe="/News-M3F/video/video.mp4",Xqe={},TA=n=>(xc("data-v-38c254ab"),n=n(),Sc(),n),jqe=TA(()=>ve("h1",{class:"section-title"},"Explainer Video",-1)),Zqe=TA(()=>ve("video",{controls:"",muted:"",preload:"",playsinline:""},[ve("source",{src:Yqe,type:"video/mp4"})],-1)),Qqe=TA(()=>ve("iframe",{src:"//www.bilibili.com/blackboard/html5mobileplayer.html?bvid=BV1zw68YsEP9",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true"},null,-1)),Jqe=TA(()=>ve("iframe",{src:"https://www.youtube.com/embed/wjZofJX0v4M?si=BFvRyc3n3fFV_f1G",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,-1));function eKe(n,e){const t=Et("el-divider"),r=Et("el-row"),i=Et("el-container"),a=Et("el-col");return V(),he("div",null,[ue(t),ue(r,{justify:"center"},{default:be(()=>[jqe]),_:1}),ue(r,{justify:"center"},{default:be(()=>[ue(a,{xs:24,sm:20,md:16,lg:12,xl:10},{default:be(()=>[ue(i,{class:"video-container"},{default:be(()=>[Zqe]),_:1}),ue(i,{class:"video-container"},{default:be(()=>[Qqe]),_:1}),ue(i,{class:"video-container"},{default:be(()=>[Jqe]),_:1})]),_:1})]),_:1})])}const tKe=Ga(Xqe,[["render",eKe],["__scopeId","data-v-38c254ab"]]),nKe=n=>(xc("data-v-2d273af8"),n=n(),Sc(),n),rKe=nKe(()=>ve("h1",{class:"section-title"},"Qualitative Results",-1)),iKe={class:"demo-image"},aKe={class:"block"},sKe=["src"],oKe={class:"demonstration"},lKe={class:"demo-image"},cKe={class:"block"},uKe=["src"],dKe={class:"demonstration"},fKe=10,hKe="./image_slider/huaqiang/input/",pKe="./image_slider/huaqiang/output/",mKe=0,vKe=9,gKe={__name:"ImageSlider",setup(n){const e=[],t=[];let r=ne(""),i=ne(""),a=ne(0),s=ne(!0);const o=()=>{const c=[];for(var u=0;u<fKe;u++){var d=hKe+String(u)+".png";const h=new Image;e[u]=h;const p=new Promise(g=>{h.onload=g});h.src=d,c.push(p);var f=pKe+String(u)+".png";const m=new Image;t[u]=m;const v=new Promise(g=>{m.onload=g});m.src=f,c.push(v)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadInterpolationImages finished")})};pn(()=>{o(),l(0)});const l=c=>{r.value=e[c].src,i.value=t[c].src};return(c,u)=>{const d=Et("el-divider"),f=Et("el-row"),h=Et("el-skeleton-item"),p=Et("el-skeleton"),m=Et("el-col"),v=Et("el-slider");return V(),he("div",null,[ue(d),ue(f,{justify:"center"},{default:be(()=>[rKe]),_:1}),ue(f,{justify:"center"},{default:be(()=>[ue(m,null,{default:be(()=>[ue(f,{justify:"center",gutter:20},{default:be(()=>[ue(m,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[ve("div",iKe,[ve("div",aKe,[ue(p,{style:{width:"100%"},loading:w(s),animated:"",throttle:1e3},{template:be(()=>[ue(h,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[ve("img",{src:w(r),style:{width:"100%","object-fit":"contain"}},null,8,sKe)]),_:1},8,["loading"]),ve("span",oKe,"input: "+Ct(w(r)),1)])])]),_:1}),ue(m,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[ve("div",lKe,[ve("div",cKe,[ue(p,{style:{width:"100%"},loading:w(s),animated:"",throttle:1e3},{template:be(()=>[ue(h,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[ve("img",{src:w(i),style:{width:"100%","object-fit":"contain"}},null,8,uKe)]),_:1},8,["loading"]),ve("span",dKe,"output: "+Ct(w(i)),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),ue(f,{justify:"center"},{default:be(()=>[ue(m,{span:12},{default:be(()=>[ue(v,{modelValue:w(a),"onUpdate:modelValue":u[0]||(u[0]=g=>Yr(a)?a.value=g:a=g),min:mKe,max:vKe,onInput:l},null,8,["modelValue"])]),_:1})]),_:1})])}}},yKe=Ga(gKe,[["__scopeId","data-v-2d273af8"]]),bKe=["innerHTML"],_Ke=["id"],wKe=["alt","src"],xKe=["alt","src"],SKe=["innerHTML"],CKe=Re({__name:"VueCompareImage",props:{aspectRatio:{default:"wider"},handle:{type:[String,Number,Boolean]},handleSize:{default:40},hover:{type:Boolean,default:!1},slideOnClick:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!1},keyboardStep:{default:.01},leftImage:{},leftImageAlt:{},leftImageCss:{},leftImageLabel:{},onSliderPositionChange:{type:Function,default:()=>{}},rightImage:{},rightImageAlt:{},rightImageCss:{},rightImageLabel:{},skeleton:{type:[String,Number,Boolean]},sliderLineColor:{default:"#ffffff"},sliderLineWidth:{default:2},sliderPositionPercentage:{default:.5},vertical:{type:Boolean,default:!1}},emits:["slideStart","slideEnd","isSliding"],setup(n,{emit:e}){const t=n,{aspectRatio:r,leftImage:i,leftImageAlt:a,leftImageLabel:s,leftImageCss:o,rightImage:l,rightImageAlt:c,rightImageLabel:u,rightImageCss:d,hover:f,handle:h,handleSize:p,sliderLineWidth:m,sliderPositionPercentage:v,skeleton:g,sliderLineColor:y,vertical:b,onSliderPositionChange:_,slideOnClick:x,keyboard:S,keyboardStep:T}=ua(t),C=Math.random().toString(36).substr(2,9),M=!b.value,A=ne(),I=ne(null),D=ne(null),L=ne(v.value),F=ne(0),B=ne(0),k=ne(!1),H=ne(!1),z=ne(!1),O=U(()=>k.value&&H.value),W=U(()=>L.value),j=U(()=>1-L.value),ee=U(()=>({display:O.value?"flex":"none",height:`${B.value}px`})),te=U(()=>({clipPath:M?`inset(0px 0px 0px ${F.value*W.value}px)`:`inset(${B.value*W.value}px 0px 0px 0px)`,...d})),J=U(()=>({clipPath:M?`inset(0px ${F.value*j.value}px 0px 0px)`:`inset(0px 0px ${B.value*j.value}px 0px)`,...o})),Q=U(()=>({cursor:!f.value&&M?"ew-resize !important":!f.value&&!M?"ns-resize !important":void 0,flexDirection:M?"column":"row",height:M?"100%":`${p.value}px`,left:M?`${F.value*L.value-p.value/2}px`:"0",top:M?"0":`${B.value*L.value-p.value/2}px`,width:M?`${p.value}px`:"100%"})),ie=U(()=>({background:y.value,height:M?"100%":`${m.value}px`,width:M?`${m.value}px`:"100%"})),le=U(()=>({border:`${m.value}px solid ${y.value}`,height:`${p.value}px`,width:`${p.value}px`,transform:M?"none":"rotate(90deg)"})),we=U(()=>({border:`inset ${p.value*.15}px rgba(0,0,0,0)`,borderRight:`${p.value*.15}px solid ${y.value}`,marginLeft:`-${p.value*.25}px`,marginRight:`${p.value*.25}px`})),Ae=U(()=>({border:`inset ${p.value*.15}px rgba(0,0,0,0)`,borderLeft:`${p.value*.15}px solid ${y.value}`,marginRight:`-${p.value*.25}px`})),ke=U(()=>({left:M?"5%":"50%",opacity:z.value?0:1,top:M?"50%":"3%",transform:M?"translate(0,-50%)":"translate(-50%, 0)"})),Fe=U(()=>({opacity:z.value?0:1,left:M?"unset":"50%",right:M?"5%":"unset",top:M?"50%":"unset",bottom:M?"unset":"3%",transform:M?"translate(0,-50%)":"translate(-50%, 0)"})),q=U(()=>({clip:M?`rect(auto, ${F.value*L.value}px, auto, auto)`:`rect(auto, auto, ${B.value*L.value}px, auto)`})),ce=U(()=>({clipPath:M?`inset(0px 0px 0px ${F.value*W.value}px)`:`inset(${B.value*W.value}px 0px 0px 0px)`}));function re(X){const me=X,Oe=me.touches?me.touches[0].pageX:me.pageX,qe=me.touches?me.touches[0].pageY:me.pageY,mt=Oe-window.pageXOffset,pt=qe-window.pageYOffset,Ce=I.value.getBoundingClientRect();let ft=M?mt-Ce.left:pt-Ce.top;const at=0+m.value/2,G=M?F.value-m.value/2:B.value-m.value/2;ft<at&&(ft=at),ft>G&&(ft=G),L.value=M?ft/F.value:ft/B.value,_.value&&_.value(M?ft/F.value:ft/B.value)}function Ne(X){z.value=!0,e("slideStart",L.value),e("isSliding",z.value),M&&"touches"in X||X.preventDefault(),x.value&&re(X),window.addEventListener("mousemove",re),window.addEventListener("touchmove",re),window.addEventListener("mouseup",Pe),window.addEventListener("touchend",Pe)}function Pe(){z.value=!1,e("slideEnd",L.value),e("isSliding",z.value),window.removeEventListener("mousemove",re),window.removeEventListener("touchmove",re),window.removeEventListener("mouseup",Pe),window.removeEventListener("touchend",Pe)}function $e(){S.value&&window.addEventListener("keydown",fe)}function Ue(){S.value&&window.removeEventListener("keydown",fe)}function Ve(){S.value&&window.addEventListener("keydown",fe)}function je(X){A.value&&!A.value.contains(X.target)&&(A.value.blur(),window.removeEventListener("keydown",fe))}function fe(X){X.key==="ArrowDown"&&!M?(X.preventDefault(),L.value+T.value>1?L.value=1:L.value+=T.value):X.key==="ArrowUp"&&!M||X.key==="ArrowLeft"&&M?(X.preventDefault(),L.value-T.value<0?L.value=0:L.value-=T.value):X.key==="ArrowRight"&&M&&(X.preventDefault(),L.value+T.value>1?L.value=1:L.value+=T.value)}function $(){var Oe;const X=kn();(Oe=X==null?void 0:X.proxy)==null||Oe.$forceUpdate();const me=A.value;t.hover?(me==null||me.addEventListener("mousemove",Ne),me==null||me.addEventListener("mouseleave",Pe)):(me==null||me.removeEventListener("mousemove",Ne),me==null||me.removeEventListener("mouseleave",Pe),me==null||me.addEventListener("mouseup",Pe),me==null||me.addEventListener("touchend",Pe))}return pn(()=>{const X=A.value,me=new ResizeObserver(([Oe])=>{const qe=Oe.target.getBoundingClientRect().width;F.value=qe});return me.observe(X),()=>me.disconnect()}),pn(()=>{const X=A.value;t.hover&&(X==null||X.addEventListener("mousemove",Ne),X==null||X.addEventListener("mouseleave",Pe)),window.addEventListener("click",je)}),yr(()=>{const X=A.value;X==null||X.removeEventListener("mousemove",Ne),X==null||X.removeEventListener("mouseleave",Pe),window.removeEventListener("keydown",fe),window.removeEventListener("click",je),window.removeEventListener("mousemove",re),window.removeEventListener("touchmove",re),window.removeEventListener("mouseup",Pe),window.removeEventListener("touchend",Pe)}),dt(D,()=>{var X;k.value=!1,(X=D.value)!=null&&X.complete&&(k.value=!0)}),dt(I,()=>{var X;H.value=!1,(X=I.value)!=null&&X.complete&&(H.value=!0)}),dt(f,()=>{$()}),dt([()=>F.value,()=>k.value,()=>H.value],()=>{const X=D.value.naturalHeight/D.value.naturalWidth,me=I.value.naturalHeight/I.value.naturalWidth,Oe=r.value==="taller"?Math.max(X,me):Math.min(X,me),qe=F.value*Oe;B.value=qe}),(X,me)=>w(g)&&!O.value?(V(),he("div",{key:0,"data-testid":"skeleton",style:Bt(ee.value),innerHTML:w(g)},null,12,bKe)):(V(),he("div",{key:1,id:w(C),ref_key:"containerRef",ref:A,class:"vci--container",tabindex:"0","data-testid":"vci-container",style:Bt(ee.value),onClick:Ve,onTouchstart:Ne,onTouchend:Pe,onFocusin:$e,onFocusout:Ue,onMousedown:Ne,onMouseup:Pe},[ve("img",{ref_key:"rightImageRef",ref:I,class:"vci--right-image",alt:w(c),"data-testid":"right-image",src:w(l),style:Bt(te.value),onLoad:me[0]||(me[0]=Oe=>H.value=!0)},null,44,wKe),ve("img",{ref_key:"leftImageRef",ref:D,class:"vci--left-image",alt:w(a),"data-testid":"left-image",src:w(i),style:Bt(J.value),onLoad:me[1]||(me[1]=Oe=>k.value=!0)},null,44,xKe),ve("div",{class:"vci--slider",style:Bt(Q.value)},[ve("div",{class:"vci--slider-line",style:Bt(ie.value)},null,4),w(h)?(V(),he("div",{key:0,class:"vci--custom-handle",innerHTML:w(h)},null,8,SKe)):(V(),he("div",{key:1,class:"vci--default-handle",style:Bt(le.value)},[ve("div",{class:"vci--left-arrow",style:Bt(we.value)},null,4),ve("div",{class:"vci--right-arrow",style:Bt(Ae.value)},null,4)],4)),ve("div",{class:"vci--slider-line",style:Bt(ie.value)},null,4)],4),w(s)?(V(),he("div",{key:0,class:"vci--left-label-container",style:Bt(q.value)},[ve("div",{class:"vci--left-label","data-testid":"left-image-label",style:Bt(ke.value)},Ct(w(s)),5)],4)):Je("",!0),w(u)?(V(),he("div",{key:1,class:"vci--right-label-container",style:Bt(ce.value)},[ve("div",{class:"vci--right-label","data-testid":"right-image-label",style:Bt(Fe.value)},Ct(w(u)),5)],4)):Je("",!0)],44,_Ke))}}),MKe=ve("h1",{class:"section-title"},"Image Inner Comparison",-1),TKe="./image_inner/line.jpg",AKe="./image_inner/real.jpg",EKe=Re({__name:"ImageSliderInner",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-row"),a=Et("el-col");return V(),he("div",null,[ue(r),ue(i,{justify:"center"},{default:be(()=>[MKe]),_:1}),ue(i,{justify:"center"},{default:be(()=>[ue(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(i,{style:{"margin-top":"20px"}},{default:be(()=>[ue(w(CKe),{"left-image":TKe,"right-image":AKe,hover:!0})]),_:1})]),_:1})]),_:1})])}}}),IKe=n=>(xc("data-v-cdcec0ce"),n=n(),Sc(),n),RKe=IKe(()=>ve("h1",{class:"section-title"},"Image Selector",-1)),PKe=["src"],DKe={__name:"ImageSelector",setup(n){const e=["./image_selector/input/486.png","./image_selector/input/mmk.png","./image_selector/input/nina.png","./image_selector/input/rupa.png","./image_selector/input/tomo.png"],t=["./image_selector/output/486_model.jpg","./image_selector/output/mmk_model.jpg","./image_selector/output/nina_model.jpg","./image_selector/output/rupa_model.jpg","./image_selector/output/tomo_model.jpg"],r=[];let i=ne(""),a=ne(0),s=ne(!0);const o=()=>{const c=[];for(let u=0;u<t.length;u++){const d=new Image;r[u]=d;const f=new Promise(h=>{d.onload=h});d.src=t[u],c.push(f)}return Promise.all(c).then(()=>{s.value=!1,console.log("preloadImageSelector finished")})};pn(()=>{o(),l(0)});const l=c=>{a.value=c,i.value=r[c].src};return(c,u)=>{const d=Et("el-divider"),f=Et("el-row"),h=Et("el-image"),p=Et("el-col"),m=Et("el-skeleton-item"),v=Et("el-skeleton");return V(),he("div",null,[ue(d),ue(f,{justify:"center"},{default:be(()=>[RKe]),_:1}),ue(f,{justify:"center"},{default:be(()=>[ue(p,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(f,{justify:"space-evenly",style:{"margin-top":"20px"}},{default:be(()=>[(V(),he(zt,null,In(e,(g,y)=>ue(p,{span:4,key:y},{default:be(()=>[ue(h,{class:Z(["image",{"selected-image":w(a)===y,"unselected-image":w(a)!==y}]),src:g,style:{"aspect-ratio":"1"},fit:"scale-down",onClick:b=>l(y)},null,8,["src","onClick","class"])]),_:2},1024)),64)),ue(f,{justify:"center",style:{"margin-top":"10px"}},{default:be(()=>[ue(p,{span:12},{default:be(()=>[ue(v,{style:{width:"100%"},loading:w(s),animated:"",throttle:1e3},{template:be(()=>[ue(m,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[ve("img",{src:w(i),style:{width:"100%","object-fit":"contain"}},null,8,PKe)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}},kKe=Ga(DKe,[["__scopeId","data-v-cdcec0ce"]]);wc([T8,xne,$ne,Vne,Kne]);const LKe={components:{VChart:jne},setup(){$n("THEME_KEY","light")},data(){return{option:{title:{text:"Traffic Sources",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"horizontal",left:"right",top:"bottom",data:["Direct","Email","Ad Networks","Video Ads","Search Engines"]},series:[{name:"Traffic Sources",type:"pie",radius:"50%",center:["50%","50%"],data:[{value:335,name:"Direct"},{value:310,name:"Email"},{value:234,name:"Ad Networks"},{value:135,name:"Video Ads"},{value:1548,name:"Search Engines"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}}},NKe=n=>(xc("data-v-053369da"),n=n(),Sc(),n),OKe=NKe(()=>ve("h1",{class:"section-title"},"Quantitative Results",-1));function BKe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("v-chart"),c=Et("el-col");return V(),he("div",null,[ue(s),ue(o,{justify:"center"},{default:be(()=>[OKe]),_:1}),ue(o,{justify:"center"},{default:be(()=>[ue(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(l,{class:"chart",option:i.option,autoresize:""},null,8,["option"])]),_:1})]),_:1})])}const FKe=Ga(LKe,[["render",BKe],["__scopeId","data-v-053369da"]]),zKe=n=>(xc("data-v-a5ab50df"),n=n(),Sc(),n),UKe=zKe(()=>ve("h1",{class:"section-title"},"More Results",-1)),HKe=Re({__name:"Table",setup(n){const e=[{model:"Model A",params:"10 B",value_a:"123",value_b:"321"},{model:"Model B",params:"30 B",value_a:"456",value_b:"654"},{model:"Model C",params:"20 B",value_a:"789",value_b:"987"},{model:"Model D",params:"5 B",value_a:"100",value_b:"200"}];return(t,r)=>{const i=Et("el-divider"),a=Et("el-row"),s=Et("el-table-column"),o=Et("el-table"),l=Et("el-tab-pane"),c=Et("el-tabs"),u=Et("el-card"),d=Et("el-col");return V(),he("div",null,[ue(i),ue(a,{justify:"center"},{default:be(()=>[UKe]),_:1}),ue(a,{justify:"center"},{default:be(()=>[ue(d,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(u,{class:"card"},{default:be(()=>[ue(c,{class:"demo-tabs","model-value":"Method A"},{default:be(()=>[ue(l,{label:"Method A",name:"Method A"},{default:be(()=>[ue(o,{data:e,"default-sort":{prop:"value_b",order:"descending"},"scrollbar-always-on":""},{default:be(()=>[ue(s,{prop:"model",label:"Model",width:"100",sortable:""}),ue(s,{prop:"params",label:"#Params","min-width":"120",sortable:""}),ue(s,{prop:"value_a",label:"Value A","min-width":"120",sortable:""}),ue(s,{prop:"value_b",label:"Value B","min-width":"120",sortable:""})]),_:1})]),_:1}),ue(l,{label:"Method B",name:"Method B"},{default:be(()=>[dn(" Method B ")]),_:1}),ue(l,{label:"Method C",name:"Method C"},{default:be(()=>[dn(" Method C ")]),_:1}),ue(l,{label:"Method D",name:"Method D"},{default:be(()=>[dn(" Method D ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),VKe=Ga(HKe,[["__scopeId","data-v-a5ab50df"]]),$Ke={},_w=n=>(xc("data-v-bb62af2c"),n=n(),Sc(),n),GKe=_w(()=>ve("h1",{class:"section-title"},"Detail Discussion",-1)),WKe=_w(()=>ve("div",null," Consistent with real life: in line with the process and logic of real life, and comply with languages and habits that the users are used to; ",-1)),qKe=_w(()=>ve("div",null," Operation feedback: enable the users to clearly perceive their operations by style updates and interactive effects; ",-1)),KKe=_w(()=>ve("div",null," Simplify the process: keep operating process simple and intuitive; ",-1)),YKe=_w(()=>ve("div",null," Decision making: giving advices about operations is acceptable, but do not make decisions for the users; ",-1));function XKe(n,e){const t=Et("el-divider"),r=Et("el-row"),i=Et("el-collapse-item"),a=Et("el-collapse"),s=Et("el-col");return V(),he("div",null,[ue(t),ue(r,{justify:"center"},{default:be(()=>[GKe]),_:1}),ue(r,{justify:"center"},{default:be(()=>[ue(s,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ue(a,{"model-value":"1",class:"collapse",accordion:""},{default:be(()=>[ue(i,{title:"Consistency",name:"1"},{default:be(()=>[WKe]),_:1}),ue(i,{title:"Feedback",name:"2"},{default:be(()=>[qKe]),_:1}),ue(i,{title:"Efficiency",name:"3"},{default:be(()=>[KKe]),_:1}),ue(i,{title:"Controllability",name:"4"},{default:be(()=>[YKe]),_:1})]),_:1})]),_:1})]),_:1})])}const jKe=Ga($Ke,[["render",XKe],["__scopeId","data-v-bb62af2c"]]),ZKe={data(){return{value1:"",value2:"",comparison1ImageRootPath:"",comparison2ImageRootPath:"",comparisonImageRootPath:"./image_comparison/",comparison1Loading:!0,comparison2Loading:!0,options:["bottle","box","clip","cup","duck","flim","glass","toy"]}},beforeMount(){this.handleChange1(this.options[0]),this.handleChange2(this.options[1])},methods:{handleChange1(n){this.loadImage1(n)},handleChange2(n){this.loadImage2(n)},loadImage1(n){this.comparison1Loading=!0;const e=`${this.comparisonImageRootPath}${n}.png`,t=new Image;t.src=e,t.onload=()=>{this.comparison1ImageRootPath=e,this.comparison1Loading=!1}},loadImage2(n){this.comparison2Loading=!0;const e=`${this.comparisonImageRootPath}${n}.png`,t=new Image;t.src=e,t.onload=()=>{this.comparison2ImageRootPath=e,this.comparison2Loading=!1}}}},QKe=n=>(xc("data-v-39564713"),n=n(),Sc(),n),JKe=QKe(()=>ve("h1",{class:"section-title"},"Comparison",-1)),eYe={class:"demo-image"},tYe={class:"block"},nYe={class:"demonstration"},rYe={class:"demo-image"},iYe={class:"block"},aYe={class:"demonstration"};function sYe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("el-skeleton-item"),c=Et("el-image"),u=Et("el-skeleton"),d=Et("el-option"),f=Et("el-select"),h=Et("el-col");return V(),he("div",null,[ue(s),ue(o,{justify:"center"},{default:be(()=>[JKe]),_:1}),ue(o,{justify:"center"},{default:be(()=>[ue(h,null,{default:be(()=>[ue(o,{justify:"center",gutter:20},{default:be(()=>[ue(h,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[ve("div",eYe,[ve("div",tYe,[ue(u,{style:{width:"100%"},loading:i.comparison1Loading,animated:"",throttle:1e3},{template:be(()=>[ue(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[ue(c,{src:i.comparison1ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),ve("span",nYe,"input: "+Ct(i.comparison1ImageRootPath),1)])]),ue(o,{justify:"center"},{default:be(()=>[ue(f,{class:"select",modelValue:i.value1,"onUpdate:modelValue":e[0]||(e[0]=p=>i.value1=p),placeholder:"Select",size:"large",onChange:a.handleChange1},{default:be(()=>[(V(!0),he(zt,null,In(i.options,p=>(V(),rt(d,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),ue(h,{xs:12,sm:10,md:8,lg:6,xl:6},{default:be(()=>[ve("div",rYe,[ve("div",iYe,[ue(u,{style:{width:"100%"},loading:i.comparison2Loading,animated:"",throttle:1e3},{template:be(()=>[ue(l,{variant:"image",style:{width:"100%",height:"100%"}})]),default:be(()=>[ue(c,{src:i.comparison2ImageRootPath,style:{width:"100%",height:"100%"},fit:"scale-down"},null,8,["src"])]),_:1},8,["loading"]),ve("span",aYe,"input: "+Ct(i.comparison2ImageRootPath),1)])]),ue(o,{justify:"center"},{default:be(()=>[ue(f,{class:"select",modelValue:i.value2,"onUpdate:modelValue":e[1]||(e[1]=p=>i.value2=p),placeholder:"Select",size:"large",onChange:a.handleChange2},{default:be(()=>[(V(!0),he(zt,null,In(i.options,p=>(V(),rt(d,{key:p,label:p,value:p},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const oYe=Ga(ZKe,[["render",sYe],["__scopeId","data-v-39564713"]]),lYe={setup(){pn(()=>{const n=document.createElement("script");n.src="./twikoo/twikoo.junyaohu.js",n.async=!0;const e=()=>{twikoo.init({envId:"https://blog-comment-nvoz-8o7dxhfbd-junyaohus-projects.vercel.app",el:"#twikoo",region:"",path:location.pathname,lang:"zh-CN"})};n.addEventListener("load",e),document.body.appendChild(n)})}},cYe=ve("h1",{class:"section-title"},"💬 Comment",-1),uYe=ve("div",{id:"twikoo"},null,-1);function dYe(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("el-col");return V(),he("div",null,[ue(s),ue(o,{justify:"center"},{default:be(()=>[cYe]),_:1}),ue(o,{justify:"center"},{default:be(()=>[ue(l,{xs:24,sm:24,md:24,lg:16,xl:12},{default:be(()=>[uYe]),_:1})]),_:1})])}const fYe=Ga(lYe,[["render",dYe]]);var dre={exports:{}};(function(n,e){(function(r,i){n.exports=i()})(typeof self<"u"?self:wu,function(){return function(){var t={};(function(){t.d=function(se,E){for(var R in E)t.o(E,R)&&!t.o(se,R)&&Object.defineProperty(se,R,{enumerable:!0,get:E[R]})}})(),function(){t.o=function(se,E){return Object.prototype.hasOwnProperty.call(se,E)}}();var r={};t.d(r,{default:function(){return Bse}});var i=function se(E,R){this.position=void 0;var P="KaTeX parse error: "+E,N,K=R&&R.loc;if(K&&K.start<=K.end){var ae=K.lexer.input;N=K.start;var _e=K.end;N===ae.length?P+=" at end of input: ":P+=" at position "+(N+1)+": ";var Be=ae.slice(N,_e).replace(/[^]/g,"$&̲"),Ye;N>15?Ye="…"+ae.slice(N-15,N):Ye=ae.slice(0,N);var ct;_e+15<ae.length?ct=ae.slice(_e,_e+15)+"…":ct=ae.slice(_e),P+=Ye+Be+ct}var Dt=new Error(P);return Dt.name="ParseError",Dt.__proto__=se.prototype,Dt.position=N,Dt};i.prototype.__proto__=Error.prototype;var a=i,s=function(E,R){return E.indexOf(R)!==-1},o=function(E,R){return E===void 0?R:E},l=/([A-Z])/g,c=function(E){return E.replace(l,"-$1").toLowerCase()},u={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},d=/[&><"']/g;function f(se){return String(se).replace(d,function(E){return u[E]})}var h=function se(E){return E.type==="ordgroup"||E.type==="color"?E.body.length===1?se(E.body[0]):E:E.type==="font"?se(E.body):E},p=function(E){var R=h(E);return R.type==="mathord"||R.type==="textord"||R.type==="atom"},m=function(E){if(!E)throw new Error("Expected non-null, but got "+String(E));return E},v=function(E){var R=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(E);return R!=null?R[1]:"_relative"},g={contains:s,deflt:o,escape:f,hyphenate:c,getBaseElem:h,isCharacterBox:p,protocolFromUrl:v},y=function(){function se(R){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,R=R||{},this.displayMode=g.deflt(R.displayMode,!1),this.output=g.deflt(R.output,"htmlAndMathml"),this.leqno=g.deflt(R.leqno,!1),this.fleqn=g.deflt(R.fleqn,!1),this.throwOnError=g.deflt(R.throwOnError,!0),this.errorColor=g.deflt(R.errorColor,"#cc0000"),this.macros=R.macros||{},this.minRuleThickness=Math.max(0,g.deflt(R.minRuleThickness,0)),this.colorIsTextColor=g.deflt(R.colorIsTextColor,!1),this.strict=g.deflt(R.strict,"warn"),this.trust=g.deflt(R.trust,!1),this.maxSize=Math.max(0,g.deflt(R.maxSize,1/0)),this.maxExpand=Math.max(0,g.deflt(R.maxExpand,1e3)),this.globalGroup=g.deflt(R.globalGroup,!1)}var E=se.prototype;return E.reportNonstrict=function(P,N,K){var ae=this.strict;if(typeof ae=="function"&&(ae=ae(P,N,K)),!(!ae||ae==="ignore")){if(ae===!0||ae==="error")throw new a("LaTeX-incompatible input and strict mode is set to 'error': "+(N+" ["+P+"]"),K);ae==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(N+" ["+P+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+ae+"': "+N+" ["+P+"]"))}},E.useStrictBehavior=function(P,N,K){var ae=this.strict;if(typeof ae=="function")try{ae=ae(P,N,K)}catch{ae="error"}return!ae||ae==="ignore"?!1:ae===!0||ae==="error"?!0:ae==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(N+" ["+P+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+ae+"': "+N+" ["+P+"]")),!1)},E.isTrusted=function(P){P.url&&!P.protocol&&(P.protocol=g.protocolFromUrl(P.url));var N=typeof this.trust=="function"?this.trust(P):this.trust;return!!N},se}(),b=function(){function se(R,P,N){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=R,this.size=P,this.cramped=N}var E=se.prototype;return E.sup=function(){return D[L[this.id]]},E.sub=function(){return D[F[this.id]]},E.fracNum=function(){return D[B[this.id]]},E.fracDen=function(){return D[k[this.id]]},E.cramp=function(){return D[H[this.id]]},E.text=function(){return D[z[this.id]]},E.isTight=function(){return this.size>=2},se}(),_=0,x=1,S=2,T=3,C=4,M=5,A=6,I=7,D=[new b(_,0,!1),new b(x,0,!0),new b(S,1,!1),new b(T,1,!0),new b(C,2,!1),new b(M,2,!0),new b(A,3,!1),new b(I,3,!0)],L=[C,M,C,M,A,I,A,I],F=[M,M,M,M,I,I,I,I],B=[S,T,C,M,A,I,A,I],k=[T,T,M,M,I,I,I,I],H=[x,x,T,T,M,M,I,I],z=[_,x,S,T,S,T,S,T],O={DISPLAY:D[_],TEXT:D[S],SCRIPT:D[C],SCRIPTSCRIPT:D[A]},W=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function j(se){for(var E=0;E<W.length;E++)for(var R=W[E],P=0;P<R.blocks.length;P++){var N=R.blocks[P];if(se>=N[0]&&se<=N[1])return R.name}return null}var ee=[];W.forEach(function(se){return se.blocks.forEach(function(E){return ee.push.apply(ee,E)})});function te(se){for(var E=0;E<ee.length;E+=2)if(se>=ee[E]&&se<=ee[E+1])return!0;return!1}var J=80,Q=function(E,R){return"M95,"+(622+E+R)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+E/2.075+" -"+E+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+E)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},ie=function(E,R){return"M263,"+(601+E+R)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+E/2.084+" -"+E+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+E)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},le=function(E,R){return"M983 "+(10+E+R)+`
l`+E/3.13+" -"+E+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+E)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+E)+" "+R+"h400000v"+(40+E)+"h-400000z"},we=function(E,R){return"M424,"+(2398+E+R)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+E/4.223+" -"+E+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+E)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+E)+" "+R+`
h400000v`+(40+E)+"h-400000z"},Ae=function(E,R){return"M473,"+(2713+E+R)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+E/5.298+" -"+E+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+E)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+E)+" "+R+"h400000v"+(40+E)+"H1017.7z"},ke=function(E){var R=E/2;return"M400000 "+E+" H0 L"+R+" 0 l65 45 L145 "+(E-80)+" H400000z"},Fe=function(E,R,P){var N=P-54-R-E;return"M702 "+(E+R)+"H400000"+(40+E)+`
H742v`+N+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+R+"H400000v"+(40+E)+"H742z"},q=function(E,R,P){R=1e3*R;var N="";switch(E){case"sqrtMain":N=Q(R,J);break;case"sqrtSize1":N=ie(R,J);break;case"sqrtSize2":N=le(R,J);break;case"sqrtSize3":N=we(R,J);break;case"sqrtSize4":N=Ae(R,J);break;case"sqrtTall":N=Fe(R,J,P)}return N},ce=function(E,R){switch(E){case"⎜":return"M291 0 H417 V"+R+" H291z M291 0 H417 V"+R+" H291z";case"∣":return"M145 0 H188 V"+R+" H145z M145 0 H188 V"+R+" H145z";case"∥":return"M145 0 H188 V"+R+" H145z M145 0 H188 V"+R+" H145z"+("M367 0 H410 V"+R+" H367z M367 0 H410 V"+R+" H367z");case"⎟":return"M457 0 H583 V"+R+" H457z M457 0 H583 V"+R+" H457z";case"⎢":return"M319 0 H403 V"+R+" H319z M319 0 H403 V"+R+" H319z";case"⎥":return"M263 0 H347 V"+R+" H263z M263 0 H347 V"+R+" H263z";case"⎪":return"M384 0 H504 V"+R+" H384z M384 0 H504 V"+R+" H384z";case"⏐":return"M312 0 H355 V"+R+" H312z M312 0 H355 V"+R+" H312z";case"‖":return"M257 0 H300 V"+R+" H257z M257 0 H300 V"+R+" H257z"+("M478 0 H521 V"+R+" H478z M478 0 H521 V"+R+" H478z");default:return""}},re={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Ne=function(){function se(R){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=R,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var E=se.prototype;return E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){for(var P=document.createDocumentFragment(),N=0;N<this.children.length;N++)P.appendChild(this.children[N].toNode());return P},E.toMarkup=function(){for(var P="",N=0;N<this.children.length;N++)P+=this.children[N].toMarkup();return P},E.toText=function(){var P=function(K){return K.toText()};return this.children.map(P).join("")},se}(),Pe={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},$e={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ue={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Ve(se,E){Pe[se]=E}function je(se,E,R){if(!Pe[E])throw new Error("Font metrics not found for font: "+E+".");var P=se.charCodeAt(0),N=Pe[E][P];if(!N&&se[0]in Ue&&(P=Ue[se[0]].charCodeAt(0),N=Pe[E][P]),!N&&R==="text"&&te(P)&&(N=Pe[E][77]),N)return{depth:N[0],height:N[1],italic:N[2],skew:N[3],width:N[4]}}var fe={};function $(se){var E;if(se>=5?E=0:se>=3?E=1:E=2,!fe[E]){var R=fe[E]={cssEmPerMu:$e.quad[E]/18};for(var P in $e)$e.hasOwnProperty(P)&&(R[P]=$e[P][E])}return fe[E]}var X=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],me=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Oe=function(E,R){return R.size<2?E:X[E-1][R.size-1]},qe=function(){function se(R){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=R.style,this.color=R.color,this.size=R.size||se.BASESIZE,this.textSize=R.textSize||this.size,this.phantom=!!R.phantom,this.font=R.font||"",this.fontFamily=R.fontFamily||"",this.fontWeight=R.fontWeight||"",this.fontShape=R.fontShape||"",this.sizeMultiplier=me[this.size-1],this.maxSize=R.maxSize,this.minRuleThickness=R.minRuleThickness,this._fontMetrics=void 0}var E=se.prototype;return E.extend=function(P){var N={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var K in P)P.hasOwnProperty(K)&&(N[K]=P[K]);return new se(N)},E.havingStyle=function(P){return this.style===P?this:this.extend({style:P,size:Oe(this.textSize,P)})},E.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},E.havingSize=function(P){return this.size===P&&this.textSize===P?this:this.extend({style:this.style.text(),size:P,textSize:P,sizeMultiplier:me[P-1]})},E.havingBaseStyle=function(P){P=P||this.style.text();var N=Oe(se.BASESIZE,P);return this.size===N&&this.textSize===se.BASESIZE&&this.style===P?this:this.extend({style:P,size:N})},E.havingBaseSizing=function(){var P;switch(this.style.id){case 4:case 5:P=3;break;case 6:case 7:P=1;break;default:P=6}return this.extend({style:this.style.text(),size:P})},E.withColor=function(P){return this.extend({color:P})},E.withPhantom=function(){return this.extend({phantom:!0})},E.withFont=function(P){return this.extend({font:P})},E.withTextFontFamily=function(P){return this.extend({fontFamily:P,font:""})},E.withTextFontWeight=function(P){return this.extend({fontWeight:P,font:""})},E.withTextFontShape=function(P){return this.extend({fontShape:P,font:""})},E.sizingClasses=function(P){return P.size!==this.size?["sizing","reset-size"+P.size,"size"+this.size]:[]},E.baseSizingClasses=function(){return this.size!==se.BASESIZE?["sizing","reset-size"+this.size,"size"+se.BASESIZE]:[]},E.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=$(this.size)),this._fontMetrics},E.getColor=function(){return this.phantom?"transparent":this.color},se}();qe.BASESIZE=6;var mt=qe,pt={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Ce={ex:!0,em:!0,mu:!0},ft=function(E){return typeof E!="string"&&(E=E.unit),E in pt||E in Ce||E==="ex"},at=function(E,R){var P;if(E.unit in pt)P=pt[E.unit]/R.fontMetrics().ptPerEm/R.sizeMultiplier;else if(E.unit==="mu")P=R.fontMetrics().cssEmPerMu;else{var N;if(R.style.isTight()?N=R.havingStyle(R.style.text()):N=R,E.unit==="ex")P=N.fontMetrics().xHeight;else if(E.unit==="em")P=N.fontMetrics().quad;else throw new a("Invalid unit: '"+E.unit+"'");N!==R&&(P*=N.sizeMultiplier/R.sizeMultiplier)}return Math.min(E.number*P,R.maxSize)},G=function(E){return+E.toFixed(4)+"em"},ge=function(E){return E.filter(function(R){return R}).join(" ")},pe=function(E,R,P){if(this.classes=E||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=P||{},R){R.style.isTight()&&this.classes.push("mtight");var N=R.getColor();N&&(this.style.color=N)}},Ie=function(E){var R=document.createElement(E);R.className=ge(this.classes);for(var P in this.style)this.style.hasOwnProperty(P)&&(R.style[P]=this.style[P]);for(var N in this.attributes)this.attributes.hasOwnProperty(N)&&R.setAttribute(N,this.attributes[N]);for(var K=0;K<this.children.length;K++)R.appendChild(this.children[K].toNode());return R},ye=function(E){var R="<"+E;this.classes.length&&(R+=' class="'+g.escape(ge(this.classes))+'"');var P="";for(var N in this.style)this.style.hasOwnProperty(N)&&(P+=g.hyphenate(N)+":"+this.style[N]+";");P&&(R+=' style="'+g.escape(P)+'"');for(var K in this.attributes)this.attributes.hasOwnProperty(K)&&(R+=" "+K+'="'+g.escape(this.attributes[K])+'"');R+=">";for(var ae=0;ae<this.children.length;ae++)R+=this.children[ae].toMarkup();return R+="</"+E+">",R},Me=function(){function se(R,P,N,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,pe.call(this,R,N,K),this.children=P||[]}var E=se.prototype;return E.setAttribute=function(P,N){this.attributes[P]=N},E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){return Ie.call(this,"span")},E.toMarkup=function(){return ye.call(this,"span")},se}(),ht=function(){function se(R,P,N,K){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,pe.call(this,P,K),this.children=N||[],this.setAttribute("href",R)}var E=se.prototype;return E.setAttribute=function(P,N){this.attributes[P]=N},E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){return Ie.call(this,"a")},E.toMarkup=function(){return ye.call(this,"a")},se}(),Ee=function(){function se(R,P,N){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=P,this.src=R,this.classes=["mord"],this.style=N}var E=se.prototype;return E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){var P=document.createElement("img");P.src=this.src,P.alt=this.alt,P.className="mord";for(var N in this.style)this.style.hasOwnProperty(N)&&(P.style[N]=this.style[N]);return P},E.toMarkup=function(){var P="<img  src='"+this.src+" 'alt='"+this.alt+"' ",N="";for(var K in this.style)this.style.hasOwnProperty(K)&&(N+=g.hyphenate(K)+":"+this.style[K]+";");return N&&(P+=' style="'+g.escape(N)+'"'),P+="'/>",P},se}(),_t={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"},nt=function(){function se(R,P,N,K,ae,_e,Be,Ye){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=R,this.height=P||0,this.depth=N||0,this.italic=K||0,this.skew=ae||0,this.width=_e||0,this.classes=Be||[],this.style=Ye||{},this.maxFontSize=0;var ct=j(this.text.charCodeAt(0));ct&&this.classes.push(ct+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=_t[this.text])}var E=se.prototype;return E.hasClass=function(P){return g.contains(this.classes,P)},E.toNode=function(){var P=document.createTextNode(this.text),N=null;this.italic>0&&(N=document.createElement("span"),N.style.marginRight=G(this.italic)),this.classes.length>0&&(N=N||document.createElement("span"),N.className=ge(this.classes));for(var K in this.style)this.style.hasOwnProperty(K)&&(N=N||document.createElement("span"),N.style[K]=this.style[K]);return N?(N.appendChild(P),N):P},E.toMarkup=function(){var P=!1,N="<span";this.classes.length&&(P=!0,N+=' class="',N+=g.escape(ge(this.classes)),N+='"');var K="";this.italic>0&&(K+="margin-right:"+this.italic+"em;");for(var ae in this.style)this.style.hasOwnProperty(ae)&&(K+=g.hyphenate(ae)+":"+this.style[ae]+";");K&&(P=!0,N+=' style="'+g.escape(K)+'"');var _e=g.escape(this.text);return P?(N+=">",N+=_e,N+="</span>",N):_e},se}(),gt=function(){function se(R,P){this.children=void 0,this.attributes=void 0,this.children=R||[],this.attributes=P||{}}var E=se.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",N=document.createElementNS(P,"svg");for(var K in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,K)&&N.setAttribute(K,this.attributes[K]);for(var ae=0;ae<this.children.length;ae++)N.appendChild(this.children[ae].toNode());return N},E.toMarkup=function(){var P='<svg xmlns="http://www.w3.org/2000/svg"';for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&(P+=" "+N+"='"+this.attributes[N]+"'");P+=">";for(var K=0;K<this.children.length;K++)P+=this.children[K].toMarkup();return P+="</svg>",P},se}(),Lt=function(){function se(R,P){this.pathName=void 0,this.alternate=void 0,this.pathName=R,this.alternate=P}var E=se.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",N=document.createElementNS(P,"path");return this.alternate?N.setAttribute("d",this.alternate):N.setAttribute("d",re[this.pathName]),N},E.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+re[this.pathName]+"'/>"},se}(),At=function(){function se(R){this.attributes=void 0,this.attributes=R||{}}var E=se.prototype;return E.toNode=function(){var P="http://www.w3.org/2000/svg",N=document.createElementNS(P,"line");for(var K in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,K)&&N.setAttribute(K,this.attributes[K]);return N},E.toMarkup=function(){var P="<line";for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&(P+=" "+N+"='"+this.attributes[N]+"'");return P+="/>",P},se}();function an(se){if(se instanceof nt)return se;throw new Error("Expected symbolNode but got "+String(se)+".")}function _n(se){if(se instanceof Me)return se;throw new Error("Expected span<HtmlDomNode> but got "+String(se)+".")}var lr={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Ln={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},jr={math:{},text:{}},Zn=jr;function Y(se,E,R,P,N,K){jr[se][N]={font:E,group:R,replace:P},K&&P&&(jr[se][P]=jr[se][N])}var oe="math",Ut="text",Te="main",de="ams",St="accent-token",vt="bin",It="close",et="inner",xt="mathord",Kt="op-token",yn="open",On="punct",Ze="rel",Xn="spacing",st="textord";Y(oe,Te,Ze,"≡","\\equiv",!0),Y(oe,Te,Ze,"≺","\\prec",!0),Y(oe,Te,Ze,"≻","\\succ",!0),Y(oe,Te,Ze,"∼","\\sim",!0),Y(oe,Te,Ze,"⊥","\\perp"),Y(oe,Te,Ze,"⪯","\\preceq",!0),Y(oe,Te,Ze,"⪰","\\succeq",!0),Y(oe,Te,Ze,"≃","\\simeq",!0),Y(oe,Te,Ze,"∣","\\mid",!0),Y(oe,Te,Ze,"≪","\\ll",!0),Y(oe,Te,Ze,"≫","\\gg",!0),Y(oe,Te,Ze,"≍","\\asymp",!0),Y(oe,Te,Ze,"∥","\\parallel"),Y(oe,Te,Ze,"⋈","\\bowtie",!0),Y(oe,Te,Ze,"⌣","\\smile",!0),Y(oe,Te,Ze,"⊑","\\sqsubseteq",!0),Y(oe,Te,Ze,"⊒","\\sqsupseteq",!0),Y(oe,Te,Ze,"≐","\\doteq",!0),Y(oe,Te,Ze,"⌢","\\frown",!0),Y(oe,Te,Ze,"∋","\\ni",!0),Y(oe,Te,Ze,"∝","\\propto",!0),Y(oe,Te,Ze,"⊢","\\vdash",!0),Y(oe,Te,Ze,"⊣","\\dashv",!0),Y(oe,Te,Ze,"∋","\\owns"),Y(oe,Te,On,".","\\ldotp"),Y(oe,Te,On,"⋅","\\cdotp"),Y(oe,Te,st,"#","\\#"),Y(Ut,Te,st,"#","\\#"),Y(oe,Te,st,"&","\\&"),Y(Ut,Te,st,"&","\\&"),Y(oe,Te,st,"ℵ","\\aleph",!0),Y(oe,Te,st,"∀","\\forall",!0),Y(oe,Te,st,"ℏ","\\hbar",!0),Y(oe,Te,st,"∃","\\exists",!0),Y(oe,Te,st,"∇","\\nabla",!0),Y(oe,Te,st,"♭","\\flat",!0),Y(oe,Te,st,"ℓ","\\ell",!0),Y(oe,Te,st,"♮","\\natural",!0),Y(oe,Te,st,"♣","\\clubsuit",!0),Y(oe,Te,st,"℘","\\wp",!0),Y(oe,Te,st,"♯","\\sharp",!0),Y(oe,Te,st,"♢","\\diamondsuit",!0),Y(oe,Te,st,"ℜ","\\Re",!0),Y(oe,Te,st,"♡","\\heartsuit",!0),Y(oe,Te,st,"ℑ","\\Im",!0),Y(oe,Te,st,"♠","\\spadesuit",!0),Y(oe,Te,st,"§","\\S",!0),Y(Ut,Te,st,"§","\\S"),Y(oe,Te,st,"¶","\\P",!0),Y(Ut,Te,st,"¶","\\P"),Y(oe,Te,st,"†","\\dag"),Y(Ut,Te,st,"†","\\dag"),Y(Ut,Te,st,"†","\\textdagger"),Y(oe,Te,st,"‡","\\ddag"),Y(Ut,Te,st,"‡","\\ddag"),Y(Ut,Te,st,"‡","\\textdaggerdbl"),Y(oe,Te,It,"⎱","\\rmoustache",!0),Y(oe,Te,yn,"⎰","\\lmoustache",!0),Y(oe,Te,It,"⟯","\\rgroup",!0),Y(oe,Te,yn,"⟮","\\lgroup",!0),Y(oe,Te,vt,"∓","\\mp",!0),Y(oe,Te,vt,"⊖","\\ominus",!0),Y(oe,Te,vt,"⊎","\\uplus",!0),Y(oe,Te,vt,"⊓","\\sqcap",!0),Y(oe,Te,vt,"∗","\\ast"),Y(oe,Te,vt,"⊔","\\sqcup",!0),Y(oe,Te,vt,"◯","\\bigcirc",!0),Y(oe,Te,vt,"∙","\\bullet"),Y(oe,Te,vt,"‡","\\ddagger"),Y(oe,Te,vt,"≀","\\wr",!0),Y(oe,Te,vt,"⨿","\\amalg"),Y(oe,Te,vt,"&","\\And"),Y(oe,Te,Ze,"⟵","\\longleftarrow",!0),Y(oe,Te,Ze,"⇐","\\Leftarrow",!0),Y(oe,Te,Ze,"⟸","\\Longleftarrow",!0),Y(oe,Te,Ze,"⟶","\\longrightarrow",!0),Y(oe,Te,Ze,"⇒","\\Rightarrow",!0),Y(oe,Te,Ze,"⟹","\\Longrightarrow",!0),Y(oe,Te,Ze,"↔","\\leftrightarrow",!0),Y(oe,Te,Ze,"⟷","\\longleftrightarrow",!0),Y(oe,Te,Ze,"⇔","\\Leftrightarrow",!0),Y(oe,Te,Ze,"⟺","\\Longleftrightarrow",!0),Y(oe,Te,Ze,"↦","\\mapsto",!0),Y(oe,Te,Ze,"⟼","\\longmapsto",!0),Y(oe,Te,Ze,"↗","\\nearrow",!0),Y(oe,Te,Ze,"↩","\\hookleftarrow",!0),Y(oe,Te,Ze,"↪","\\hookrightarrow",!0),Y(oe,Te,Ze,"↘","\\searrow",!0),Y(oe,Te,Ze,"↼","\\leftharpoonup",!0),Y(oe,Te,Ze,"⇀","\\rightharpoonup",!0),Y(oe,Te,Ze,"↙","\\swarrow",!0),Y(oe,Te,Ze,"↽","\\leftharpoondown",!0),Y(oe,Te,Ze,"⇁","\\rightharpoondown",!0),Y(oe,Te,Ze,"↖","\\nwarrow",!0),Y(oe,Te,Ze,"⇌","\\rightleftharpoons",!0),Y(oe,de,Ze,"≮","\\nless",!0),Y(oe,de,Ze,"","\\@nleqslant"),Y(oe,de,Ze,"","\\@nleqq"),Y(oe,de,Ze,"⪇","\\lneq",!0),Y(oe,de,Ze,"≨","\\lneqq",!0),Y(oe,de,Ze,"","\\@lvertneqq"),Y(oe,de,Ze,"⋦","\\lnsim",!0),Y(oe,de,Ze,"⪉","\\lnapprox",!0),Y(oe,de,Ze,"⊀","\\nprec",!0),Y(oe,de,Ze,"⋠","\\npreceq",!0),Y(oe,de,Ze,"⋨","\\precnsim",!0),Y(oe,de,Ze,"⪹","\\precnapprox",!0),Y(oe,de,Ze,"≁","\\nsim",!0),Y(oe,de,Ze,"","\\@nshortmid"),Y(oe,de,Ze,"∤","\\nmid",!0),Y(oe,de,Ze,"⊬","\\nvdash",!0),Y(oe,de,Ze,"⊭","\\nvDash",!0),Y(oe,de,Ze,"⋪","\\ntriangleleft"),Y(oe,de,Ze,"⋬","\\ntrianglelefteq",!0),Y(oe,de,Ze,"⊊","\\subsetneq",!0),Y(oe,de,Ze,"","\\@varsubsetneq"),Y(oe,de,Ze,"⫋","\\subsetneqq",!0),Y(oe,de,Ze,"","\\@varsubsetneqq"),Y(oe,de,Ze,"≯","\\ngtr",!0),Y(oe,de,Ze,"","\\@ngeqslant"),Y(oe,de,Ze,"","\\@ngeqq"),Y(oe,de,Ze,"⪈","\\gneq",!0),Y(oe,de,Ze,"≩","\\gneqq",!0),Y(oe,de,Ze,"","\\@gvertneqq"),Y(oe,de,Ze,"⋧","\\gnsim",!0),Y(oe,de,Ze,"⪊","\\gnapprox",!0),Y(oe,de,Ze,"⊁","\\nsucc",!0),Y(oe,de,Ze,"⋡","\\nsucceq",!0),Y(oe,de,Ze,"⋩","\\succnsim",!0),Y(oe,de,Ze,"⪺","\\succnapprox",!0),Y(oe,de,Ze,"≆","\\ncong",!0),Y(oe,de,Ze,"","\\@nshortparallel"),Y(oe,de,Ze,"∦","\\nparallel",!0),Y(oe,de,Ze,"⊯","\\nVDash",!0),Y(oe,de,Ze,"⋫","\\ntriangleright"),Y(oe,de,Ze,"⋭","\\ntrianglerighteq",!0),Y(oe,de,Ze,"","\\@nsupseteqq"),Y(oe,de,Ze,"⊋","\\supsetneq",!0),Y(oe,de,Ze,"","\\@varsupsetneq"),Y(oe,de,Ze,"⫌","\\supsetneqq",!0),Y(oe,de,Ze,"","\\@varsupsetneqq"),Y(oe,de,Ze,"⊮","\\nVdash",!0),Y(oe,de,Ze,"⪵","\\precneqq",!0),Y(oe,de,Ze,"⪶","\\succneqq",!0),Y(oe,de,Ze,"","\\@nsubseteqq"),Y(oe,de,vt,"⊴","\\unlhd"),Y(oe,de,vt,"⊵","\\unrhd"),Y(oe,de,Ze,"↚","\\nleftarrow",!0),Y(oe,de,Ze,"↛","\\nrightarrow",!0),Y(oe,de,Ze,"⇍","\\nLeftarrow",!0),Y(oe,de,Ze,"⇏","\\nRightarrow",!0),Y(oe,de,Ze,"↮","\\nleftrightarrow",!0),Y(oe,de,Ze,"⇎","\\nLeftrightarrow",!0),Y(oe,de,Ze,"△","\\vartriangle"),Y(oe,de,st,"ℏ","\\hslash"),Y(oe,de,st,"▽","\\triangledown"),Y(oe,de,st,"◊","\\lozenge"),Y(oe,de,st,"Ⓢ","\\circledS"),Y(oe,de,st,"®","\\circledR"),Y(Ut,de,st,"®","\\circledR"),Y(oe,de,st,"∡","\\measuredangle",!0),Y(oe,de,st,"∄","\\nexists"),Y(oe,de,st,"℧","\\mho"),Y(oe,de,st,"Ⅎ","\\Finv",!0),Y(oe,de,st,"⅁","\\Game",!0),Y(oe,de,st,"‵","\\backprime"),Y(oe,de,st,"▲","\\blacktriangle"),Y(oe,de,st,"▼","\\blacktriangledown"),Y(oe,de,st,"■","\\blacksquare"),Y(oe,de,st,"⧫","\\blacklozenge"),Y(oe,de,st,"★","\\bigstar"),Y(oe,de,st,"∢","\\sphericalangle",!0),Y(oe,de,st,"∁","\\complement",!0),Y(oe,de,st,"ð","\\eth",!0),Y(Ut,Te,st,"ð","ð"),Y(oe,de,st,"╱","\\diagup"),Y(oe,de,st,"╲","\\diagdown"),Y(oe,de,st,"□","\\square"),Y(oe,de,st,"□","\\Box"),Y(oe,de,st,"◊","\\Diamond"),Y(oe,de,st,"¥","\\yen",!0),Y(Ut,de,st,"¥","\\yen",!0),Y(oe,de,st,"✓","\\checkmark",!0),Y(Ut,de,st,"✓","\\checkmark"),Y(oe,de,st,"ℶ","\\beth",!0),Y(oe,de,st,"ℸ","\\daleth",!0),Y(oe,de,st,"ℷ","\\gimel",!0),Y(oe,de,st,"ϝ","\\digamma",!0),Y(oe,de,st,"ϰ","\\varkappa"),Y(oe,de,yn,"┌","\\@ulcorner",!0),Y(oe,de,It,"┐","\\@urcorner",!0),Y(oe,de,yn,"└","\\@llcorner",!0),Y(oe,de,It,"┘","\\@lrcorner",!0),Y(oe,de,Ze,"≦","\\leqq",!0),Y(oe,de,Ze,"⩽","\\leqslant",!0),Y(oe,de,Ze,"⪕","\\eqslantless",!0),Y(oe,de,Ze,"≲","\\lesssim",!0),Y(oe,de,Ze,"⪅","\\lessapprox",!0),Y(oe,de,Ze,"≊","\\approxeq",!0),Y(oe,de,vt,"⋖","\\lessdot"),Y(oe,de,Ze,"⋘","\\lll",!0),Y(oe,de,Ze,"≶","\\lessgtr",!0),Y(oe,de,Ze,"⋚","\\lesseqgtr",!0),Y(oe,de,Ze,"⪋","\\lesseqqgtr",!0),Y(oe,de,Ze,"≑","\\doteqdot"),Y(oe,de,Ze,"≓","\\risingdotseq",!0),Y(oe,de,Ze,"≒","\\fallingdotseq",!0),Y(oe,de,Ze,"∽","\\backsim",!0),Y(oe,de,Ze,"⋍","\\backsimeq",!0),Y(oe,de,Ze,"⫅","\\subseteqq",!0),Y(oe,de,Ze,"⋐","\\Subset",!0),Y(oe,de,Ze,"⊏","\\sqsubset",!0),Y(oe,de,Ze,"≼","\\preccurlyeq",!0),Y(oe,de,Ze,"⋞","\\curlyeqprec",!0),Y(oe,de,Ze,"≾","\\precsim",!0),Y(oe,de,Ze,"⪷","\\precapprox",!0),Y(oe,de,Ze,"⊲","\\vartriangleleft"),Y(oe,de,Ze,"⊴","\\trianglelefteq"),Y(oe,de,Ze,"⊨","\\vDash",!0),Y(oe,de,Ze,"⊪","\\Vvdash",!0),Y(oe,de,Ze,"⌣","\\smallsmile"),Y(oe,de,Ze,"⌢","\\smallfrown"),Y(oe,de,Ze,"≏","\\bumpeq",!0),Y(oe,de,Ze,"≎","\\Bumpeq",!0),Y(oe,de,Ze,"≧","\\geqq",!0),Y(oe,de,Ze,"⩾","\\geqslant",!0),Y(oe,de,Ze,"⪖","\\eqslantgtr",!0),Y(oe,de,Ze,"≳","\\gtrsim",!0),Y(oe,de,Ze,"⪆","\\gtrapprox",!0),Y(oe,de,vt,"⋗","\\gtrdot"),Y(oe,de,Ze,"⋙","\\ggg",!0),Y(oe,de,Ze,"≷","\\gtrless",!0),Y(oe,de,Ze,"⋛","\\gtreqless",!0),Y(oe,de,Ze,"⪌","\\gtreqqless",!0),Y(oe,de,Ze,"≖","\\eqcirc",!0),Y(oe,de,Ze,"≗","\\circeq",!0),Y(oe,de,Ze,"≜","\\triangleq",!0),Y(oe,de,Ze,"∼","\\thicksim"),Y(oe,de,Ze,"≈","\\thickapprox"),Y(oe,de,Ze,"⫆","\\supseteqq",!0),Y(oe,de,Ze,"⋑","\\Supset",!0),Y(oe,de,Ze,"⊐","\\sqsupset",!0),Y(oe,de,Ze,"≽","\\succcurlyeq",!0),Y(oe,de,Ze,"⋟","\\curlyeqsucc",!0),Y(oe,de,Ze,"≿","\\succsim",!0),Y(oe,de,Ze,"⪸","\\succapprox",!0),Y(oe,de,Ze,"⊳","\\vartriangleright"),Y(oe,de,Ze,"⊵","\\trianglerighteq"),Y(oe,de,Ze,"⊩","\\Vdash",!0),Y(oe,de,Ze,"∣","\\shortmid"),Y(oe,de,Ze,"∥","\\shortparallel"),Y(oe,de,Ze,"≬","\\between",!0),Y(oe,de,Ze,"⋔","\\pitchfork",!0),Y(oe,de,Ze,"∝","\\varpropto"),Y(oe,de,Ze,"◀","\\blacktriangleleft"),Y(oe,de,Ze,"∴","\\therefore",!0),Y(oe,de,Ze,"∍","\\backepsilon"),Y(oe,de,Ze,"▶","\\blacktriangleright"),Y(oe,de,Ze,"∵","\\because",!0),Y(oe,de,Ze,"⋘","\\llless"),Y(oe,de,Ze,"⋙","\\gggtr"),Y(oe,de,vt,"⊲","\\lhd"),Y(oe,de,vt,"⊳","\\rhd"),Y(oe,de,Ze,"≂","\\eqsim",!0),Y(oe,Te,Ze,"⋈","\\Join"),Y(oe,de,Ze,"≑","\\Doteq",!0),Y(oe,de,vt,"∔","\\dotplus",!0),Y(oe,de,vt,"∖","\\smallsetminus"),Y(oe,de,vt,"⋒","\\Cap",!0),Y(oe,de,vt,"⋓","\\Cup",!0),Y(oe,de,vt,"⩞","\\doublebarwedge",!0),Y(oe,de,vt,"⊟","\\boxminus",!0),Y(oe,de,vt,"⊞","\\boxplus",!0),Y(oe,de,vt,"⋇","\\divideontimes",!0),Y(oe,de,vt,"⋉","\\ltimes",!0),Y(oe,de,vt,"⋊","\\rtimes",!0),Y(oe,de,vt,"⋋","\\leftthreetimes",!0),Y(oe,de,vt,"⋌","\\rightthreetimes",!0),Y(oe,de,vt,"⋏","\\curlywedge",!0),Y(oe,de,vt,"⋎","\\curlyvee",!0),Y(oe,de,vt,"⊝","\\circleddash",!0),Y(oe,de,vt,"⊛","\\circledast",!0),Y(oe,de,vt,"⋅","\\centerdot"),Y(oe,de,vt,"⊺","\\intercal",!0),Y(oe,de,vt,"⋒","\\doublecap"),Y(oe,de,vt,"⋓","\\doublecup"),Y(oe,de,vt,"⊠","\\boxtimes",!0),Y(oe,de,Ze,"⇢","\\dashrightarrow",!0),Y(oe,de,Ze,"⇠","\\dashleftarrow",!0),Y(oe,de,Ze,"⇇","\\leftleftarrows",!0),Y(oe,de,Ze,"⇆","\\leftrightarrows",!0),Y(oe,de,Ze,"⇚","\\Lleftarrow",!0),Y(oe,de,Ze,"↞","\\twoheadleftarrow",!0),Y(oe,de,Ze,"↢","\\leftarrowtail",!0),Y(oe,de,Ze,"↫","\\looparrowleft",!0),Y(oe,de,Ze,"⇋","\\leftrightharpoons",!0),Y(oe,de,Ze,"↶","\\curvearrowleft",!0),Y(oe,de,Ze,"↺","\\circlearrowleft",!0),Y(oe,de,Ze,"↰","\\Lsh",!0),Y(oe,de,Ze,"⇈","\\upuparrows",!0),Y(oe,de,Ze,"↿","\\upharpoonleft",!0),Y(oe,de,Ze,"⇃","\\downharpoonleft",!0),Y(oe,Te,Ze,"⊶","\\origof",!0),Y(oe,Te,Ze,"⊷","\\imageof",!0),Y(oe,de,Ze,"⊸","\\multimap",!0),Y(oe,de,Ze,"↭","\\leftrightsquigarrow",!0),Y(oe,de,Ze,"⇉","\\rightrightarrows",!0),Y(oe,de,Ze,"⇄","\\rightleftarrows",!0),Y(oe,de,Ze,"↠","\\twoheadrightarrow",!0),Y(oe,de,Ze,"↣","\\rightarrowtail",!0),Y(oe,de,Ze,"↬","\\looparrowright",!0),Y(oe,de,Ze,"↷","\\curvearrowright",!0),Y(oe,de,Ze,"↻","\\circlearrowright",!0),Y(oe,de,Ze,"↱","\\Rsh",!0),Y(oe,de,Ze,"⇊","\\downdownarrows",!0),Y(oe,de,Ze,"↾","\\upharpoonright",!0),Y(oe,de,Ze,"⇂","\\downharpoonright",!0),Y(oe,de,Ze,"⇝","\\rightsquigarrow",!0),Y(oe,de,Ze,"⇝","\\leadsto"),Y(oe,de,Ze,"⇛","\\Rrightarrow",!0),Y(oe,de,Ze,"↾","\\restriction"),Y(oe,Te,st,"‘","`"),Y(oe,Te,st,"$","\\$"),Y(Ut,Te,st,"$","\\$"),Y(Ut,Te,st,"$","\\textdollar"),Y(oe,Te,st,"%","\\%"),Y(Ut,Te,st,"%","\\%"),Y(oe,Te,st,"_","\\_"),Y(Ut,Te,st,"_","\\_"),Y(Ut,Te,st,"_","\\textunderscore"),Y(oe,Te,st,"∠","\\angle",!0),Y(oe,Te,st,"∞","\\infty",!0),Y(oe,Te,st,"′","\\prime"),Y(oe,Te,st,"△","\\triangle"),Y(oe,Te,st,"Γ","\\Gamma",!0),Y(oe,Te,st,"Δ","\\Delta",!0),Y(oe,Te,st,"Θ","\\Theta",!0),Y(oe,Te,st,"Λ","\\Lambda",!0),Y(oe,Te,st,"Ξ","\\Xi",!0),Y(oe,Te,st,"Π","\\Pi",!0),Y(oe,Te,st,"Σ","\\Sigma",!0),Y(oe,Te,st,"Υ","\\Upsilon",!0),Y(oe,Te,st,"Φ","\\Phi",!0),Y(oe,Te,st,"Ψ","\\Psi",!0),Y(oe,Te,st,"Ω","\\Omega",!0),Y(oe,Te,st,"A","Α"),Y(oe,Te,st,"B","Β"),Y(oe,Te,st,"E","Ε"),Y(oe,Te,st,"Z","Ζ"),Y(oe,Te,st,"H","Η"),Y(oe,Te,st,"I","Ι"),Y(oe,Te,st,"K","Κ"),Y(oe,Te,st,"M","Μ"),Y(oe,Te,st,"N","Ν"),Y(oe,Te,st,"O","Ο"),Y(oe,Te,st,"P","Ρ"),Y(oe,Te,st,"T","Τ"),Y(oe,Te,st,"X","Χ"),Y(oe,Te,st,"¬","\\neg",!0),Y(oe,Te,st,"¬","\\lnot"),Y(oe,Te,st,"⊤","\\top"),Y(oe,Te,st,"⊥","\\bot"),Y(oe,Te,st,"∅","\\emptyset"),Y(oe,de,st,"∅","\\varnothing"),Y(oe,Te,xt,"α","\\alpha",!0),Y(oe,Te,xt,"β","\\beta",!0),Y(oe,Te,xt,"γ","\\gamma",!0),Y(oe,Te,xt,"δ","\\delta",!0),Y(oe,Te,xt,"ϵ","\\epsilon",!0),Y(oe,Te,xt,"ζ","\\zeta",!0),Y(oe,Te,xt,"η","\\eta",!0),Y(oe,Te,xt,"θ","\\theta",!0),Y(oe,Te,xt,"ι","\\iota",!0),Y(oe,Te,xt,"κ","\\kappa",!0),Y(oe,Te,xt,"λ","\\lambda",!0),Y(oe,Te,xt,"μ","\\mu",!0),Y(oe,Te,xt,"ν","\\nu",!0),Y(oe,Te,xt,"ξ","\\xi",!0),Y(oe,Te,xt,"ο","\\omicron",!0),Y(oe,Te,xt,"π","\\pi",!0),Y(oe,Te,xt,"ρ","\\rho",!0),Y(oe,Te,xt,"σ","\\sigma",!0),Y(oe,Te,xt,"τ","\\tau",!0),Y(oe,Te,xt,"υ","\\upsilon",!0),Y(oe,Te,xt,"ϕ","\\phi",!0),Y(oe,Te,xt,"χ","\\chi",!0),Y(oe,Te,xt,"ψ","\\psi",!0),Y(oe,Te,xt,"ω","\\omega",!0),Y(oe,Te,xt,"ε","\\varepsilon",!0),Y(oe,Te,xt,"ϑ","\\vartheta",!0),Y(oe,Te,xt,"ϖ","\\varpi",!0),Y(oe,Te,xt,"ϱ","\\varrho",!0),Y(oe,Te,xt,"ς","\\varsigma",!0),Y(oe,Te,xt,"φ","\\varphi",!0),Y(oe,Te,vt,"∗","*",!0),Y(oe,Te,vt,"+","+"),Y(oe,Te,vt,"−","-",!0),Y(oe,Te,vt,"⋅","\\cdot",!0),Y(oe,Te,vt,"∘","\\circ"),Y(oe,Te,vt,"÷","\\div",!0),Y(oe,Te,vt,"±","\\pm",!0),Y(oe,Te,vt,"×","\\times",!0),Y(oe,Te,vt,"∩","\\cap",!0),Y(oe,Te,vt,"∪","\\cup",!0),Y(oe,Te,vt,"∖","\\setminus"),Y(oe,Te,vt,"∧","\\land"),Y(oe,Te,vt,"∨","\\lor"),Y(oe,Te,vt,"∧","\\wedge",!0),Y(oe,Te,vt,"∨","\\vee",!0),Y(oe,Te,st,"√","\\surd"),Y(oe,Te,yn,"⟨","\\langle",!0),Y(oe,Te,yn,"∣","\\lvert"),Y(oe,Te,yn,"∥","\\lVert"),Y(oe,Te,It,"?","?"),Y(oe,Te,It,"!","!"),Y(oe,Te,It,"⟩","\\rangle",!0),Y(oe,Te,It,"∣","\\rvert"),Y(oe,Te,It,"∥","\\rVert"),Y(oe,Te,Ze,"=","="),Y(oe,Te,Ze,":",":"),Y(oe,Te,Ze,"≈","\\approx",!0),Y(oe,Te,Ze,"≅","\\cong",!0),Y(oe,Te,Ze,"≥","\\ge"),Y(oe,Te,Ze,"≥","\\geq",!0),Y(oe,Te,Ze,"←","\\gets"),Y(oe,Te,Ze,">","\\gt",!0),Y(oe,Te,Ze,"∈","\\in",!0),Y(oe,Te,Ze,"","\\@not"),Y(oe,Te,Ze,"⊂","\\subset",!0),Y(oe,Te,Ze,"⊃","\\supset",!0),Y(oe,Te,Ze,"⊆","\\subseteq",!0),Y(oe,Te,Ze,"⊇","\\supseteq",!0),Y(oe,de,Ze,"⊈","\\nsubseteq",!0),Y(oe,de,Ze,"⊉","\\nsupseteq",!0),Y(oe,Te,Ze,"⊨","\\models"),Y(oe,Te,Ze,"←","\\leftarrow",!0),Y(oe,Te,Ze,"≤","\\le"),Y(oe,Te,Ze,"≤","\\leq",!0),Y(oe,Te,Ze,"<","\\lt",!0),Y(oe,Te,Ze,"→","\\rightarrow",!0),Y(oe,Te,Ze,"→","\\to"),Y(oe,de,Ze,"≱","\\ngeq",!0),Y(oe,de,Ze,"≰","\\nleq",!0),Y(oe,Te,Xn," ","\\ "),Y(oe,Te,Xn," ","\\space"),Y(oe,Te,Xn," ","\\nobreakspace"),Y(Ut,Te,Xn," ","\\ "),Y(Ut,Te,Xn," "," "),Y(Ut,Te,Xn," ","\\space"),Y(Ut,Te,Xn," ","\\nobreakspace"),Y(oe,Te,Xn,null,"\\nobreak"),Y(oe,Te,Xn,null,"\\allowbreak"),Y(oe,Te,On,",",","),Y(oe,Te,On,";",";"),Y(oe,de,vt,"⊼","\\barwedge",!0),Y(oe,de,vt,"⊻","\\veebar",!0),Y(oe,Te,vt,"⊙","\\odot",!0),Y(oe,Te,vt,"⊕","\\oplus",!0),Y(oe,Te,vt,"⊗","\\otimes",!0),Y(oe,Te,st,"∂","\\partial",!0),Y(oe,Te,vt,"⊘","\\oslash",!0),Y(oe,de,vt,"⊚","\\circledcirc",!0),Y(oe,de,vt,"⊡","\\boxdot",!0),Y(oe,Te,vt,"△","\\bigtriangleup"),Y(oe,Te,vt,"▽","\\bigtriangledown"),Y(oe,Te,vt,"†","\\dagger"),Y(oe,Te,vt,"⋄","\\diamond"),Y(oe,Te,vt,"⋆","\\star"),Y(oe,Te,vt,"◃","\\triangleleft"),Y(oe,Te,vt,"▹","\\triangleright"),Y(oe,Te,yn,"{","\\{"),Y(Ut,Te,st,"{","\\{"),Y(Ut,Te,st,"{","\\textbraceleft"),Y(oe,Te,It,"}","\\}"),Y(Ut,Te,st,"}","\\}"),Y(Ut,Te,st,"}","\\textbraceright"),Y(oe,Te,yn,"{","\\lbrace"),Y(oe,Te,It,"}","\\rbrace"),Y(oe,Te,yn,"[","\\lbrack",!0),Y(Ut,Te,st,"[","\\lbrack",!0),Y(oe,Te,It,"]","\\rbrack",!0),Y(Ut,Te,st,"]","\\rbrack",!0),Y(oe,Te,yn,"(","\\lparen",!0),Y(oe,Te,It,")","\\rparen",!0),Y(Ut,Te,st,"<","\\textless",!0),Y(Ut,Te,st,">","\\textgreater",!0),Y(oe,Te,yn,"⌊","\\lfloor",!0),Y(oe,Te,It,"⌋","\\rfloor",!0),Y(oe,Te,yn,"⌈","\\lceil",!0),Y(oe,Te,It,"⌉","\\rceil",!0),Y(oe,Te,st,"\\","\\backslash"),Y(oe,Te,st,"∣","|"),Y(oe,Te,st,"∣","\\vert"),Y(Ut,Te,st,"|","\\textbar",!0),Y(oe,Te,st,"∥","\\|"),Y(oe,Te,st,"∥","\\Vert"),Y(Ut,Te,st,"∥","\\textbardbl"),Y(Ut,Te,st,"~","\\textasciitilde"),Y(Ut,Te,st,"\\","\\textbackslash"),Y(Ut,Te,st,"^","\\textasciicircum"),Y(oe,Te,Ze,"↑","\\uparrow",!0),Y(oe,Te,Ze,"⇑","\\Uparrow",!0),Y(oe,Te,Ze,"↓","\\downarrow",!0),Y(oe,Te,Ze,"⇓","\\Downarrow",!0),Y(oe,Te,Ze,"↕","\\updownarrow",!0),Y(oe,Te,Ze,"⇕","\\Updownarrow",!0),Y(oe,Te,Kt,"∐","\\coprod"),Y(oe,Te,Kt,"⋁","\\bigvee"),Y(oe,Te,Kt,"⋀","\\bigwedge"),Y(oe,Te,Kt,"⨄","\\biguplus"),Y(oe,Te,Kt,"⋂","\\bigcap"),Y(oe,Te,Kt,"⋃","\\bigcup"),Y(oe,Te,Kt,"∫","\\int"),Y(oe,Te,Kt,"∫","\\intop"),Y(oe,Te,Kt,"∬","\\iint"),Y(oe,Te,Kt,"∭","\\iiint"),Y(oe,Te,Kt,"∏","\\prod"),Y(oe,Te,Kt,"∑","\\sum"),Y(oe,Te,Kt,"⨂","\\bigotimes"),Y(oe,Te,Kt,"⨁","\\bigoplus"),Y(oe,Te,Kt,"⨀","\\bigodot"),Y(oe,Te,Kt,"∮","\\oint"),Y(oe,Te,Kt,"∯","\\oiint"),Y(oe,Te,Kt,"∰","\\oiiint"),Y(oe,Te,Kt,"⨆","\\bigsqcup"),Y(oe,Te,Kt,"∫","\\smallint"),Y(Ut,Te,et,"…","\\textellipsis"),Y(oe,Te,et,"…","\\mathellipsis"),Y(Ut,Te,et,"…","\\ldots",!0),Y(oe,Te,et,"…","\\ldots",!0),Y(oe,Te,et,"⋯","\\@cdots",!0),Y(oe,Te,et,"⋱","\\ddots",!0),Y(oe,Te,st,"⋮","\\varvdots"),Y(oe,Te,St,"ˊ","\\acute"),Y(oe,Te,St,"ˋ","\\grave"),Y(oe,Te,St,"¨","\\ddot"),Y(oe,Te,St,"~","\\tilde"),Y(oe,Te,St,"ˉ","\\bar"),Y(oe,Te,St,"˘","\\breve"),Y(oe,Te,St,"ˇ","\\check"),Y(oe,Te,St,"^","\\hat"),Y(oe,Te,St,"⃗","\\vec"),Y(oe,Te,St,"˙","\\dot"),Y(oe,Te,St,"˚","\\mathring"),Y(oe,Te,xt,"","\\@imath"),Y(oe,Te,xt,"","\\@jmath"),Y(oe,Te,st,"ı","ı"),Y(oe,Te,st,"ȷ","ȷ"),Y(Ut,Te,st,"ı","\\i",!0),Y(Ut,Te,st,"ȷ","\\j",!0),Y(Ut,Te,st,"ß","\\ss",!0),Y(Ut,Te,st,"æ","\\ae",!0),Y(Ut,Te,st,"œ","\\oe",!0),Y(Ut,Te,st,"ø","\\o",!0),Y(Ut,Te,st,"Æ","\\AE",!0),Y(Ut,Te,st,"Œ","\\OE",!0),Y(Ut,Te,st,"Ø","\\O",!0),Y(Ut,Te,St,"ˊ","\\'"),Y(Ut,Te,St,"ˋ","\\`"),Y(Ut,Te,St,"ˆ","\\^"),Y(Ut,Te,St,"˜","\\~"),Y(Ut,Te,St,"ˉ","\\="),Y(Ut,Te,St,"˘","\\u"),Y(Ut,Te,St,"˙","\\."),Y(Ut,Te,St,"¸","\\c"),Y(Ut,Te,St,"˚","\\r"),Y(Ut,Te,St,"ˇ","\\v"),Y(Ut,Te,St,"¨",'\\"'),Y(Ut,Te,St,"˝","\\H"),Y(Ut,Te,St,"◯","\\textcircled");var De={"--":!0,"---":!0,"``":!0,"''":!0};Y(Ut,Te,st,"–","--",!0),Y(Ut,Te,st,"–","\\textendash"),Y(Ut,Te,st,"—","---",!0),Y(Ut,Te,st,"—","\\textemdash"),Y(Ut,Te,st,"‘","`",!0),Y(Ut,Te,st,"‘","\\textquoteleft"),Y(Ut,Te,st,"’","'",!0),Y(Ut,Te,st,"’","\\textquoteright"),Y(Ut,Te,st,"“","``",!0),Y(Ut,Te,st,"“","\\textquotedblleft"),Y(Ut,Te,st,"”","''",!0),Y(Ut,Te,st,"”","\\textquotedblright"),Y(oe,Te,st,"°","\\degree",!0),Y(Ut,Te,st,"°","\\degree"),Y(Ut,Te,st,"°","\\textdegree",!0),Y(oe,Te,st,"£","\\pounds"),Y(oe,Te,st,"£","\\mathsterling",!0),Y(Ut,Te,st,"£","\\pounds"),Y(Ut,Te,st,"£","\\textsterling",!0),Y(oe,de,st,"✠","\\maltese"),Y(Ut,de,st,"✠","\\maltese");for(var yt='0123456789/@."',We=0;We<yt.length;We++){var lt=yt.charAt(We);Y(oe,Te,st,lt,lt)}for(var it='0123456789!@*()-=+";:?/.,',Mt=0;Mt<it.length;Mt++){var tn=it.charAt(Mt);Y(Ut,Te,st,tn,tn)}for(var Qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",mn=0;mn<Qt.length;mn++){var Gn=Qt.charAt(mn);Y(oe,Te,xt,Gn,Gn),Y(Ut,Te,st,Gn,Gn)}Y(oe,de,st,"C","ℂ"),Y(Ut,de,st,"C","ℂ"),Y(oe,de,st,"H","ℍ"),Y(Ut,de,st,"H","ℍ"),Y(oe,de,st,"N","ℕ"),Y(Ut,de,st,"N","ℕ"),Y(oe,de,st,"P","ℙ"),Y(Ut,de,st,"P","ℙ"),Y(oe,de,st,"Q","ℚ"),Y(Ut,de,st,"Q","ℚ"),Y(oe,de,st,"R","ℝ"),Y(Ut,de,st,"R","ℝ"),Y(oe,de,st,"Z","ℤ"),Y(Ut,de,st,"Z","ℤ"),Y(oe,Te,xt,"h","ℎ"),Y(Ut,Te,xt,"h","ℎ");for(var rn="",Mn=0;Mn<Qt.length;Mn++){var An=Qt.charAt(Mn);rn=String.fromCharCode(55349,56320+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56372+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56424+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56580+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56736+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56788+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56840+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56944+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),Mn<26&&(rn=String.fromCharCode(55349,56632+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn),rn=String.fromCharCode(55349,56476+Mn),Y(oe,Te,xt,An,rn),Y(Ut,Te,st,An,rn))}rn=String.fromCharCode(55349,56668),Y(oe,Te,xt,"k",rn),Y(Ut,Te,st,"k",rn);for(var ir=0;ir<10;ir++){var qr=ir.toString();rn=String.fromCharCode(55349,57294+ir),Y(oe,Te,xt,qr,rn),Y(Ut,Te,st,qr,rn),rn=String.fromCharCode(55349,57314+ir),Y(oe,Te,xt,qr,rn),Y(Ut,Te,st,qr,rn),rn=String.fromCharCode(55349,57324+ir),Y(oe,Te,xt,qr,rn),Y(Ut,Te,st,qr,rn),rn=String.fromCharCode(55349,57334+ir),Y(oe,Te,xt,qr,rn),Y(Ut,Te,st,qr,rn)}for(var vr="ÐÞþ",gr=0;gr<vr.length;gr++){var Wn=vr.charAt(gr);Y(oe,Te,xt,Wn,Wn),Y(Ut,Te,st,Wn,Wn)}var Ai=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Kr=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Rs=function(E,R){var P=E.charCodeAt(0),N=E.charCodeAt(1),K=(P-55296)*1024+(N-56320)+65536,ae=R==="math"?0:1;if(119808<=K&&K<120484){var _e=Math.floor((K-119808)/26);return[Ai[_e][2],Ai[_e][ae]]}else if(120782<=K&&K<=120831){var Be=Math.floor((K-120782)/10);return[Kr[Be][2],Kr[Be][ae]]}else{if(K===120485||K===120486)return[Ai[0][2],Ai[0][ae]];if(120486<K&&K<120782)return["",""];throw new a("Unsupported character: "+E)}},Js=function(E,R,P){return Zn[P][E]&&Zn[P][E].replace&&(E=Zn[P][E].replace),{value:E,metrics:je(E,R,P)}},hr=function(E,R,P,N,K){var ae=Js(E,R,P),_e=ae.metrics;E=ae.value;var Be;if(_e){var Ye=_e.italic;(P==="text"||N&&N.font==="mathit")&&(Ye=0),Be=new nt(E,_e.height,_e.depth,Ye,_e.skew,_e.width,K)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+E+"' in style '"+R+"' and mode '"+P+"'")),Be=new nt(E,0,0,0,0,0,K);if(N){Be.maxFontSize=N.sizeMultiplier,N.style.isTight()&&Be.classes.push("mtight");var ct=N.getColor();ct&&(Be.style.color=ct)}return Be},Hl=function(E,R,P,N){return N===void 0&&(N=[]),P.font==="boldsymbol"&&Js(E,"Main-Bold",R).metrics?hr(E,"Main-Bold",R,P,N.concat(["mathbf"])):E==="\\"||Zn[R][E].font==="main"?hr(E,"Main-Regular",R,P,N):hr(E,"AMS-Regular",R,P,N.concat(["amsrm"]))},xi=function(E,R,P,N,K){return K!=="textord"&&Js(E,"Math-BoldItalic",R).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Wa=function(E,R,P){var N=E.mode,K=E.text,ae=["mord"],_e=N==="math"||N==="text"&&R.font,Be=_e?R.font:R.fontFamily;if(K.charCodeAt(0)===55349){var Ye=Rs(K,N),ct=Ye[0],Dt=Ye[1];return hr(K,ct,N,R,ae.concat(Dt))}else if(Be){var $t,Xt;if(Be==="boldsymbol"){var jt=xi(K,N,R,ae,P);$t=jt.fontName,Xt=[jt.fontClass]}else _e?($t=kt[Be].fontName,Xt=[Be]):($t=Ge(Be,R.fontWeight,R.fontShape),Xt=[Be,R.fontWeight,R.fontShape]);if(Js(K,$t,N).metrics)return hr(K,$t,N,R,ae.concat(Xt));if(De.hasOwnProperty(K)&&$t.substr(0,10)==="Typewriter"){for(var fn=[],vn=0;vn<K.length;vn++)fn.push(hr(K[vn],$t,N,R,ae.concat(Xt)));return Th(fn)}}if(P==="mathord")return hr(K,"Math-Italic",N,R,ae.concat(["mathnormal"]));if(P==="textord"){var zn=Zn[N][K]&&Zn[N][K].font;if(zn==="ams"){var Yn=Ge("amsrm",R.fontWeight,R.fontShape);return hr(K,Yn,N,R,ae.concat("amsrm",R.fontWeight,R.fontShape))}else if(zn==="main"||!zn){var tr=Ge("textrm",R.fontWeight,R.fontShape);return hr(K,tr,N,R,ae.concat(R.fontWeight,R.fontShape))}else{var ei=Ge(zn,R.fontWeight,R.fontShape);return hr(K,ei,N,R,ae.concat(ei,R.fontWeight,R.fontShape))}}else throw new Error("unexpected type: "+P+" in makeOrd")},qa=function(E,R){if(ge(E.classes)!==ge(R.classes)||E.skew!==R.skew||E.maxFontSize!==R.maxFontSize)return!1;if(E.classes.length===1){var P=E.classes[0];if(P==="mbin"||P==="mord")return!1}for(var N in E.style)if(E.style.hasOwnProperty(N)&&E.style[N]!==R.style[N])return!1;for(var K in R.style)if(R.style.hasOwnProperty(K)&&E.style[K]!==R.style[K])return!1;return!0},ra=function(E){for(var R=0;R<E.length-1;R++){var P=E[R],N=E[R+1];P instanceof nt&&N instanceof nt&&qa(P,N)&&(P.text+=N.text,P.height=Math.max(P.height,N.height),P.depth=Math.max(P.depth,N.depth),P.italic=N.italic,E.splice(R+1,1),R--)}return E},Ki=function(E){for(var R=0,P=0,N=0,K=0;K<E.children.length;K++){var ae=E.children[K];ae.height>R&&(R=ae.height),ae.depth>P&&(P=ae.depth),ae.maxFontSize>N&&(N=ae.maxFontSize)}E.height=R,E.depth=P,E.maxFontSize=N},Yi=function(E,R,P,N){var K=new Me(E,R,P,N);return Ki(K),K},So=function(E,R,P,N){return new Me(E,R,P,N)},zA=function(E,R,P){var N=Yi([E],[],R);return N.height=Math.max(P||R.fontMetrics().defaultRuleThickness,R.minRuleThickness),N.style.borderBottomWidth=G(N.height),N.maxFontSize=1,N},ar=function(E,R,P,N){var K=new ht(E,R,P,N);return Ki(K),K},Th=function(E){var R=new Ne(E);return Ki(R),R},Se=function(E,R){return E instanceof Ne?Yi([],[E],R):E},xe=function(E){if(E.positionType==="individualShift"){for(var R=E.children,P=[R[0]],N=-R[0].shift-R[0].elem.depth,K=N,ae=1;ae<R.length;ae++){var _e=-R[ae].shift-K-R[ae].elem.depth,Be=_e-(R[ae-1].elem.height+R[ae-1].elem.depth);K=K+_e,P.push({type:"kern",size:Be}),P.push(R[ae])}return{children:P,depth:N}}var Ye;if(E.positionType==="top"){for(var ct=E.positionData,Dt=0;Dt<E.children.length;Dt++){var $t=E.children[Dt];ct-=$t.type==="kern"?$t.size:$t.elem.height+$t.elem.depth}Ye=ct}else if(E.positionType==="bottom")Ye=-E.positionData;else{var Xt=E.children[0];if(Xt.type!=="elem")throw new Error('First child must have type "elem".');if(E.positionType==="shift")Ye=-Xt.elem.depth-E.positionData;else if(E.positionType==="firstBaseline")Ye=-Xt.elem.depth;else throw new Error("Invalid positionType "+E.positionType+".")}return{children:E.children,depth:Ye}},He=function(E,R){for(var P=xe(E),N=P.children,K=P.depth,ae=0,_e=0;_e<N.length;_e++){var Be=N[_e];if(Be.type==="elem"){var Ye=Be.elem;ae=Math.max(ae,Ye.maxFontSize,Ye.height)}}ae+=2;var ct=Yi(["pstrut"],[]);ct.style.height=G(ae);for(var Dt=[],$t=K,Xt=K,jt=K,fn=0;fn<N.length;fn++){var vn=N[fn];if(vn.type==="kern")jt+=vn.size;else{var zn=vn.elem,Yn=vn.wrapperClasses||[],tr=vn.wrapperStyle||{},ei=Yi(Yn,[ct,zn],void 0,tr);ei.style.top=G(-ae-jt-zn.depth),vn.marginLeft&&(ei.style.marginLeft=vn.marginLeft),vn.marginRight&&(ei.style.marginRight=vn.marginRight),Dt.push(ei),jt+=zn.height+zn.depth}$t=Math.min($t,jt),Xt=Math.max(Xt,jt)}var mi=Yi(["vlist"],Dt);mi.style.height=G(Xt);var Ui;if($t<0){var si=Yi([],[]),vi=Yi(["vlist"],[si]);vi.style.height=G(-$t);var ia=Yi(["vlist-s"],[new nt("​")]);Ui=[Yi(["vlist-r"],[mi,ia]),Yi(["vlist-r"],[vi])]}else Ui=[Yi(["vlist-r"],[mi])];var Ii=Yi(["vlist-t"],Ui);return Ui.length===2&&Ii.classes.push("vlist-t2"),Ii.height=Xt,Ii.depth=-$t,Ii},Le=function(E,R){var P=Yi(["mspace"],[],R),N=at(E,R);return P.style.marginRight=G(N),P},Ge=function(E,R,P){var N="";switch(E){case"amsrm":N="AMS";break;case"textrm":N="Main";break;case"textsf":N="SansSerif";break;case"texttt":N="Typewriter";break;default:N=E}var K;return R==="textbf"&&P==="textit"?K="BoldItalic":R==="textbf"?K="Bold":R==="textit"?K="Italic":K="Regular",N+"-"+K},kt={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ft={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Rn=function(E,R){var P=Ft[E],N=P[0],K=P[1],ae=P[2],_e=new Lt(N),Be=new gt([_e],{width:G(K),height:G(ae),style:"width:"+G(K),viewBox:"0 0 "+1e3*K+" "+1e3*ae,preserveAspectRatio:"xMinYMin"}),Ye=So(["overlay"],[Be],R);return Ye.height=ae,Ye.style.height=G(ae),Ye.style.width=G(K),Ye},ot={fontMap:kt,makeSymbol:hr,mathsym:Hl,makeSpan:Yi,makeSvgSpan:So,makeLineSpan:zA,makeAnchor:ar,makeFragment:Th,wrapFragment:Se,makeVList:He,makeOrd:Wa,makeGlue:Le,staticSvg:Rn,svgData:Ft,tryCombineChars:ra},ln={number:3,unit:"mu"},Fn={number:4,unit:"mu"},Jt={number:5,unit:"mu"},Jn={mord:{mop:ln,mbin:Fn,mrel:Jt,minner:ln},mop:{mord:ln,mop:ln,mrel:Jt,minner:ln},mbin:{mord:Fn,mop:Fn,mopen:Fn,minner:Fn},mrel:{mord:Jt,mop:Jt,mopen:Jt,minner:Jt},mopen:{},mclose:{mop:ln,mbin:Fn,mrel:Jt,minner:ln},mpunct:{mord:ln,mop:ln,mrel:Jt,mopen:ln,mclose:ln,mpunct:ln,minner:ln},minner:{mord:ln,mop:ln,mbin:Fn,mrel:Jt,mopen:ln,mpunct:ln,minner:ln}},Bn={mord:{mop:ln},mop:{mord:ln,mop:ln},mbin:{},mrel:{},mopen:{},mclose:{mop:ln},mpunct:{},minner:{mop:ln}},er={},qn={},Si={};function nn(se){for(var E=se.type,R=se.names,P=se.props,N=se.handler,K=se.htmlBuilder,ae=se.mathmlBuilder,_e={type:E,numArgs:P.numArgs,argTypes:P.argTypes,allowedInArgument:!!P.allowedInArgument,allowedInText:!!P.allowedInText,allowedInMath:P.allowedInMath===void 0?!0:P.allowedInMath,numOptionalArgs:P.numOptionalArgs||0,infix:!!P.infix,primitive:!!P.primitive,handler:N},Be=0;Be<R.length;++Be)er[R[Be]]=_e;E&&(K&&(qn[E]=K),ae&&(Si[E]=ae))}function xr(se){var E=se.type,R=se.htmlBuilder,P=se.mathmlBuilder;nn({type:E,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:R,mathmlBuilder:P})}var Nr=function(E){return E.type==="ordgroup"&&E.body.length===1?E.body[0]:E},ai=function(E){return E.type==="ordgroup"?E.body:[E]},zi=ot.makeSpan,Bd=["leftmost","mbin","mopen","mrel","mop","mpunct"],UA=["rightmost","mrel","mclose","mpunct"],Ew={display:O.DISPLAY,text:O.TEXT,script:O.SCRIPT,scriptscript:O.SCRIPTSCRIPT},Oae={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ka=function(E,R,P,N){N===void 0&&(N=[null,null]);for(var K=[],ae=0;ae<E.length;ae++){var _e=Jr(E[ae],R);if(_e instanceof Ne){var Be=_e.children;K.push.apply(K,Be)}else K.push(_e)}if(ot.tryCombineChars(K),!P)return K;var Ye=R;if(E.length===1){var ct=E[0];ct.type==="sizing"?Ye=R.havingSize(ct.size):ct.type==="styling"&&(Ye=R.havingStyle(Ew[ct.style]))}var Dt=zi([N[0]||"leftmost"],[],R),$t=zi([N[1]||"rightmost"],[],R),Xt=P==="root";return XN(K,function(jt,fn){var vn=fn.classes[0],zn=jt.classes[0];vn==="mbin"&&g.contains(UA,zn)?fn.classes[0]="mord":zn==="mbin"&&g.contains(Bd,vn)&&(jt.classes[0]="mord")},{node:Dt},$t,Xt),XN(K,function(jt,fn){var vn=HA(fn),zn=HA(jt),Yn=vn&&zn?jt.hasClass("mtight")?Bn[vn][zn]:Jn[vn][zn]:null;if(Yn)return ot.makeGlue(Yn,Ye)},{node:Dt},$t,Xt),K},XN=function se(E,R,P,N,K){N&&E.push(N);for(var ae=0;ae<E.length;ae++){var _e=E[ae],Be=jN(_e);if(Be){se(Be.children,R,P,null,K);continue}var Ye=!_e.hasClass("mspace");if(Ye){var ct=R(_e,P.node);ct&&(P.insertAfter?P.insertAfter(ct):(E.unshift(ct),ae++))}Ye?P.node=_e:K&&_e.hasClass("newline")&&(P.node=zi(["leftmost"])),P.insertAfter=function(Dt){return function($t){E.splice(Dt+1,0,$t),ae++}}(ae)}N&&E.pop()},jN=function(E){return E instanceof Ne||E instanceof ht||E instanceof Me&&E.hasClass("enclosing")?E:null},Bae=function se(E,R){var P=jN(E);if(P){var N=P.children;if(N.length){if(R==="right")return se(N[N.length-1],"right");if(R==="left")return se(N[0],"left")}}return E},HA=function(E,R){return E?(R&&(E=Bae(E,R)),Oae[E.classes[0]]||null):null},Ay=function(E,R){var P=["nulldelimiter"].concat(E.baseSizingClasses());return zi(R.concat(P))},Jr=function(E,R,P){if(!E)return zi();if(qn[E.type]){var N=qn[E.type](E,R);if(P&&R.size!==P.size){N=zi(R.sizingClasses(P),[N],R);var K=R.sizeMultiplier/P.sizeMultiplier;N.height*=K,N.depth*=K}return N}else throw new a("Got group of unknown type: '"+E.type+"'")};function Iw(se,E){var R=zi(["base"],se,E),P=zi(["strut"]);return P.style.height=G(R.height+R.depth),R.depth&&(P.style.verticalAlign=G(-R.depth)),R.children.unshift(P),R}function VA(se,E){var R=null;se.length===1&&se[0].type==="tag"&&(R=se[0].tag,se=se[0].body);var P=Ka(se,E,"root"),N;P.length===2&&P[1].hasClass("tag")&&(N=P.pop());for(var K=[],ae=[],_e=0;_e<P.length;_e++)if(ae.push(P[_e]),P[_e].hasClass("mbin")||P[_e].hasClass("mrel")||P[_e].hasClass("allowbreak")){for(var Be=!1;_e<P.length-1&&P[_e+1].hasClass("mspace")&&!P[_e+1].hasClass("newline");)_e++,ae.push(P[_e]),P[_e].hasClass("nobreak")&&(Be=!0);Be||(K.push(Iw(ae,E)),ae=[])}else P[_e].hasClass("newline")&&(ae.pop(),ae.length>0&&(K.push(Iw(ae,E)),ae=[]),K.push(P[_e]));ae.length>0&&K.push(Iw(ae,E));var Ye;R?(Ye=Iw(Ka(R,E,!0)),Ye.classes=["tag"],K.push(Ye)):N&&K.push(N);var ct=zi(["katex-html"],K);if(ct.setAttribute("aria-hidden","true"),Ye){var Dt=Ye.children[0];Dt.style.height=G(ct.height+ct.depth),ct.depth&&(Dt.style.verticalAlign=G(-ct.depth))}return ct}function ZN(se){return new Ne(se)}var jo=function(){function se(R,P,N){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=R,this.attributes={},this.children=P||[],this.classes=N||[]}var E=se.prototype;return E.setAttribute=function(P,N){this.attributes[P]=N},E.getAttribute=function(P){return this.attributes[P]},E.toNode=function(){var P=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&P.setAttribute(N,this.attributes[N]);this.classes.length>0&&(P.className=ge(this.classes));for(var K=0;K<this.children.length;K++)P.appendChild(this.children[K].toNode());return P},E.toMarkup=function(){var P="<"+this.type;for(var N in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,N)&&(P+=" "+N+'="',P+=g.escape(this.attributes[N]),P+='"');this.classes.length>0&&(P+=' class ="'+g.escape(ge(this.classes))+'"'),P+=">";for(var K=0;K<this.children.length;K++)P+=this.children[K].toMarkup();return P+="</"+this.type+">",P},E.toText=function(){return this.children.map(function(P){return P.toText()}).join("")},se}(),Ey=function(){function se(R){this.text=void 0,this.text=R}var E=se.prototype;return E.toNode=function(){return document.createTextNode(this.text)},E.toMarkup=function(){return g.escape(this.toText())},E.toText=function(){return this.text},se}(),Fae=function(){function se(R){this.width=void 0,this.character=void 0,this.width=R,R>=.05555&&R<=.05556?this.character=" ":R>=.1666&&R<=.1667?this.character=" ":R>=.2222&&R<=.2223?this.character=" ":R>=.2777&&R<=.2778?this.character="  ":R>=-.05556&&R<=-.05555?this.character=" ⁣":R>=-.1667&&R<=-.1666?this.character=" ⁣":R>=-.2223&&R<=-.2222?this.character=" ⁣":R>=-.2778&&R<=-.2777?this.character=" ⁣":this.character=null}var E=se.prototype;return E.toNode=function(){if(this.character)return document.createTextNode(this.character);var P=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return P.setAttribute("width",G(this.width)),P},E.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+G(this.width)+'"/>'},E.toText=function(){return this.character?this.character:" "},se}(),on={MathNode:jo,TextNode:Ey,SpaceNode:Fae,newDocumentFragment:ZN},Zo=function(E,R,P){return Zn[R][E]&&Zn[R][E].replace&&E.charCodeAt(0)!==55349&&!(De.hasOwnProperty(E)&&P&&(P.fontFamily&&P.fontFamily.substr(4,2)==="tt"||P.font&&P.font.substr(4,2)==="tt"))&&(E=Zn[R][E].replace),new on.TextNode(E)},$A=function(E){return E.length===1?E[0]:new on.MathNode("mrow",E)},GA=function(E,R){if(R.fontFamily==="texttt")return"monospace";if(R.fontFamily==="textsf")return R.fontShape==="textit"&&R.fontWeight==="textbf"?"sans-serif-bold-italic":R.fontShape==="textit"?"sans-serif-italic":R.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(R.fontShape==="textit"&&R.fontWeight==="textbf")return"bold-italic";if(R.fontShape==="textit")return"italic";if(R.fontWeight==="textbf")return"bold";var P=R.font;if(!P||P==="mathnormal")return null;var N=E.mode;if(P==="mathit")return"italic";if(P==="boldsymbol")return E.type==="textord"?"bold":"bold-italic";if(P==="mathbf")return"bold";if(P==="mathbb")return"double-struck";if(P==="mathfrak")return"fraktur";if(P==="mathscr"||P==="mathcal")return"script";if(P==="mathsf")return"sans-serif";if(P==="mathtt")return"monospace";var K=E.text;if(g.contains(["\\imath","\\jmath"],K))return null;Zn[N][K]&&Zn[N][K].replace&&(K=Zn[N][K].replace);var ae=ot.fontMap[P].fontName;return je(K,ae,N)?ot.fontMap[P].variant:null},Co=function(E,R,P){if(E.length===1){var N=Ei(E[0],R);return P&&N instanceof jo&&N.type==="mo"&&(N.setAttribute("lspace","0em"),N.setAttribute("rspace","0em")),[N]}for(var K=[],ae,_e=0;_e<E.length;_e++){var Be=Ei(E[_e],R);if(Be instanceof jo&&ae instanceof jo){if(Be.type==="mtext"&&ae.type==="mtext"&&Be.getAttribute("mathvariant")===ae.getAttribute("mathvariant")){var Ye;(Ye=ae.children).push.apply(Ye,Be.children);continue}else if(Be.type==="mn"&&ae.type==="mn"){var ct;(ct=ae.children).push.apply(ct,Be.children);continue}else if(Be.type==="mi"&&Be.children.length===1&&ae.type==="mn"){var Dt=Be.children[0];if(Dt instanceof Ey&&Dt.text==="."){var $t;($t=ae.children).push.apply($t,Be.children);continue}}else if(ae.type==="mi"&&ae.children.length===1){var Xt=ae.children[0];if(Xt instanceof Ey&&Xt.text==="̸"&&(Be.type==="mo"||Be.type==="mi"||Be.type==="mn")){var jt=Be.children[0];jt instanceof Ey&&jt.text.length>0&&(jt.text=jt.text.slice(0,1)+"̸"+jt.text.slice(1),K.pop())}}}K.push(Be),ae=Be}return K},Fd=function(E,R,P){return $A(Co(E,R,P))},Ei=function(E,R){if(!E)return new on.MathNode("mrow");if(Si[E.type]){var P=Si[E.type](E,R);return P}else throw new a("Got group of unknown type: '"+E.type+"'")};function QN(se,E,R,P,N){var K=Co(se,R),ae;K.length===1&&K[0]instanceof jo&&g.contains(["mrow","mtable"],K[0].type)?ae=K[0]:ae=new on.MathNode("mrow",K);var _e=new on.MathNode("annotation",[new on.TextNode(E)]);_e.setAttribute("encoding","application/x-tex");var Be=new on.MathNode("semantics",[ae,_e]),Ye=new on.MathNode("math",[Be]);Ye.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),P&&Ye.setAttribute("display","block");var ct=N?"katex":"katex-mathml";return ot.makeSpan([ct],[Ye])}var JN=function(E){return new mt({style:E.displayMode?O.DISPLAY:O.TEXT,maxSize:E.maxSize,minRuleThickness:E.minRuleThickness})},eO=function(E,R){if(R.displayMode){var P=["katex-display"];R.leqno&&P.push("leqno"),R.fleqn&&P.push("fleqn"),E=ot.makeSpan(P,[E])}return E},zae=function(E,R,P){var N=JN(P),K;if(P.output==="mathml")return QN(E,R,N,P.displayMode,!0);if(P.output==="html"){var ae=VA(E,N);K=ot.makeSpan(["katex"],[ae])}else{var _e=QN(E,R,N,P.displayMode,!1),Be=VA(E,N);K=ot.makeSpan(["katex"],[_e,Be])}return eO(K,P)},Uae=function(E,R,P){var N=JN(P),K=VA(E,N),ae=ot.makeSpan(["katex"],[K]);return eO(ae,P)},Hae={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Vae=function(E){var R=new on.MathNode("mo",[new on.TextNode(Hae[E.replace(/^\\/,"")])]);return R.setAttribute("stretchy","true"),R},$ae={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Gae=function(E){return E.type==="ordgroup"?E.body.length:1},Wae=function(E,R){function P(){var Be=4e5,Ye=E.label.substr(1);if(g.contains(["widehat","widecheck","widetilde","utilde"],Ye)){var ct=E,Dt=Gae(ct.base),$t,Xt,jt;if(Dt>5)Ye==="widehat"||Ye==="widecheck"?($t=420,Be=2364,jt=.42,Xt=Ye+"4"):($t=312,Be=2340,jt=.34,Xt="tilde4");else{var fn=[1,1,2,2,3,3][Dt];Ye==="widehat"||Ye==="widecheck"?(Be=[0,1062,2364,2364,2364][fn],$t=[0,239,300,360,420][fn],jt=[0,.24,.3,.3,.36,.42][fn],Xt=Ye+fn):(Be=[0,600,1033,2339,2340][fn],$t=[0,260,286,306,312][fn],jt=[0,.26,.286,.3,.306,.34][fn],Xt="tilde"+fn)}var vn=new Lt(Xt),zn=new gt([vn],{width:"100%",height:G(jt),viewBox:"0 0 "+Be+" "+$t,preserveAspectRatio:"none"});return{span:ot.makeSvgSpan([],[zn],R),minWidth:0,height:jt}}else{var Yn=[],tr=$ae[Ye],ei=tr[0],mi=tr[1],Ui=tr[2],si=Ui/1e3,vi=ei.length,ia,Ii;if(vi===1){var Mo=tr[3];ia=["hide-tail"],Ii=[Mo]}else if(vi===2)ia=["halfarrow-left","halfarrow-right"],Ii=["xMinYMin","xMaxYMin"];else if(vi===3)ia=["brace-left","brace-center","brace-right"],Ii=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+vi+" children.");for(var To=0;To<vi;To++){var Hd=new Lt(ei[To]),Lc=new gt([Hd],{width:"400em",height:G(si),viewBox:"0 0 "+Be+" "+Ui,preserveAspectRatio:Ii[To]+" slice"}),Ao=ot.makeSvgSpan([ia[To]],[Lc],R);if(vi===1)return{span:Ao,minWidth:mi,height:si};Ao.style.height=G(si),Yn.push(Ao)}return{span:ot.makeSpan(["stretchy"],Yn,R),minWidth:mi,height:si}}}var N=P(),K=N.span,ae=N.minWidth,_e=N.height;return K.height=_e,K.style.height=G(_e),ae>0&&(K.style.minWidth=G(ae)),K},qae=function(E,R,P,N,K){var ae,_e=E.height+E.depth+P+N;if(/fbox|color|angl/.test(R)){if(ae=ot.makeSpan(["stretchy",R],[],K),R==="fbox"){var Be=K.color&&K.getColor();Be&&(ae.style.borderColor=Be)}}else{var Ye=[];/^[bx]cancel$/.test(R)&&Ye.push(new At({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(R)&&Ye.push(new At({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var ct=new gt(Ye,{width:"100%",height:G(_e)});ae=ot.makeSvgSpan([],[ct],K)}return ae.height=_e,ae.style.height=G(_e),ae},Au={encloseSpan:qae,mathMLnode:Vae,svgSpan:Wae};function br(se,E){if(!se||se.type!==E)throw new Error("Expected node of type "+E+", but got "+(se?"node of type "+se.type:String(se)));return se}function WA(se){var E=Rw(se);if(!E)throw new Error("Expected node of symbol group type, but got "+(se?"node of type "+se.type:String(se)));return E}function Rw(se){return se&&(se.type==="atom"||Ln.hasOwnProperty(se.type))?se:null}var qA=function(E,R){var P,N,K;E&&E.type==="supsub"?(N=br(E.base,"accent"),P=N.base,E.base=P,K=_n(Jr(E,R)),E.base=N):(N=br(E,"accent"),P=N.base);var ae=Jr(P,R.havingCrampedStyle()),_e=N.isShifty&&g.isCharacterBox(P),Be=0;if(_e){var Ye=g.getBaseElem(P),ct=Jr(Ye,R.havingCrampedStyle());Be=an(ct).skew}var Dt=N.label==="\\c",$t=Dt?ae.height+ae.depth:Math.min(ae.height,R.fontMetrics().xHeight),Xt;if(N.isStretchy)Xt=Au.svgSpan(N,R),Xt=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ae},{type:"elem",elem:Xt,wrapperClasses:["svg-align"],wrapperStyle:Be>0?{width:"calc(100% - "+G(2*Be)+")",marginLeft:G(2*Be)}:void 0}]},R);else{var jt,fn;N.label==="\\vec"?(jt=ot.staticSvg("vec",R),fn=ot.svgData.vec[1]):(jt=ot.makeOrd({mode:N.mode,text:N.label},R,"textord"),jt=an(jt),jt.italic=0,fn=jt.width,Dt&&($t+=jt.depth)),Xt=ot.makeSpan(["accent-body"],[jt]);var vn=N.label==="\\textcircled";vn&&(Xt.classes.push("accent-full"),$t=ae.height);var zn=Be;vn||(zn-=fn/2),Xt.style.left=G(zn),N.label==="\\textcircled"&&(Xt.style.top=".2em"),Xt=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ae},{type:"kern",size:-$t},{type:"elem",elem:Xt}]},R)}var Yn=ot.makeSpan(["mord","accent"],[Xt],R);return K?(K.children[0]=Yn,K.height=Math.max(Yn.height,K.height),K.classes[0]="mord",K):Yn},tO=function(E,R){var P=E.isStretchy?Au.mathMLnode(E.label):new on.MathNode("mo",[Zo(E.label,E.mode)]),N=new on.MathNode("mover",[Ei(E.base,R),P]);return N.setAttribute("accent","true"),N},Kae=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(se){return"\\"+se}).join("|"));nn({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(E,R){var P=Nr(R[0]),N=!Kae.test(E.funcName),K=!N||E.funcName==="\\widehat"||E.funcName==="\\widetilde"||E.funcName==="\\widecheck";return{type:"accent",mode:E.parser.mode,label:E.funcName,isStretchy:N,isShifty:K,base:P}},htmlBuilder:qA,mathmlBuilder:tO}),nn({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(E,R){var P=R[0],N=E.parser.mode;return N==="math"&&(E.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+E.funcName+" works only in text mode"),N="text"),{type:"accent",mode:N,label:E.funcName,isStretchy:!1,isShifty:!0,base:P}},htmlBuilder:qA,mathmlBuilder:tO}),nn({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0];return{type:"accentUnder",mode:P.mode,label:N,base:K}},htmlBuilder:function(E,R){var P=Jr(E.base,R),N=Au.svgSpan(E,R),K=E.label==="\\utilde"?.12:0,ae=ot.makeVList({positionType:"top",positionData:P.height,children:[{type:"elem",elem:N,wrapperClasses:["svg-align"]},{type:"kern",size:K},{type:"elem",elem:P}]},R);return ot.makeSpan(["mord","accentunder"],[ae],R)},mathmlBuilder:function(E,R){var P=Au.mathMLnode(E.label),N=new on.MathNode("munder",[Ei(E.base,R),P]);return N.setAttribute("accentunder","true"),N}});var Pw=function(E){var R=new on.MathNode("mpadded",E?[E]:[]);return R.setAttribute("width","+0.6em"),R.setAttribute("lspace","0.3em"),R};nn({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(E,R,P){var N=E.parser,K=E.funcName;return{type:"xArrow",mode:N.mode,label:K,body:R[0],below:P[0]}},htmlBuilder:function(E,R){var P=R.style,N=R.havingStyle(P.sup()),K=ot.wrapFragment(Jr(E.body,N,R),R),ae=E.label.slice(0,2)==="\\x"?"x":"cd";K.classes.push(ae+"-arrow-pad");var _e;E.below&&(N=R.havingStyle(P.sub()),_e=ot.wrapFragment(Jr(E.below,N,R),R),_e.classes.push(ae+"-arrow-pad"));var Be=Au.svgSpan(E,R),Ye=-R.fontMetrics().axisHeight+.5*Be.height,ct=-R.fontMetrics().axisHeight-.5*Be.height-.111;(K.depth>.25||E.label==="\\xleftequilibrium")&&(ct-=K.depth);var Dt;if(_e){var $t=-R.fontMetrics().axisHeight+_e.height+.5*Be.height+.111;Dt=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:K,shift:ct},{type:"elem",elem:Be,shift:Ye},{type:"elem",elem:_e,shift:$t}]},R)}else Dt=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:K,shift:ct},{type:"elem",elem:Be,shift:Ye}]},R);return Dt.children[0].children[0].children[1].classes.push("svg-align"),ot.makeSpan(["mrel","x-arrow"],[Dt],R)},mathmlBuilder:function(E,R){var P=Au.mathMLnode(E.label);P.setAttribute("minsize",E.label.charAt(0)==="x"?"1.75em":"3.0em");var N;if(E.body){var K=Pw(Ei(E.body,R));if(E.below){var ae=Pw(Ei(E.below,R));N=new on.MathNode("munderover",[P,ae,K])}else N=new on.MathNode("mover",[P,K])}else if(E.below){var _e=Pw(Ei(E.below,R));N=new on.MathNode("munder",[P,_e])}else N=Pw(),N=new on.MathNode("mover",[P,N]);return N}});var Yae={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},nO=function(){return{type:"styling",body:[],mode:"math",style:"display"}},rO=function(E){return E.type==="textord"&&E.text==="@"},Xae=function(E,R){return(E.type==="mathord"||E.type==="atom")&&E.text===R};function jae(se,E,R){var P=Yae[se];switch(P){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return R.callFunction(P,[E[0]],[E[1]]);case"\\uparrow":case"\\downarrow":{var N=R.callFunction("\\\\cdleft",[E[0]],[]),K={type:"atom",text:P,mode:"math",family:"rel"},ae=R.callFunction("\\Big",[K],[]),_e=R.callFunction("\\\\cdright",[E[1]],[]),Be={type:"ordgroup",mode:"math",body:[N,ae,_e]};return R.callFunction("\\\\cdparent",[Be],[])}case"\\\\cdlongequal":return R.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var Ye={type:"textord",text:"\\Vert",mode:"math"};return R.callFunction("\\Big",[Ye],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Zae(se){var E=[];for(se.gullet.beginGroup(),se.gullet.macros.set("\\cr","\\\\\\relax"),se.gullet.beginGroup();;){E.push(se.parseExpression(!1,"\\\\")),se.gullet.endGroup(),se.gullet.beginGroup();var R=se.fetch().text;if(R==="&"||R==="\\\\")se.consume();else if(R==="\\end"){E[E.length-1].length===0&&E.pop();break}else throw new a("Expected \\\\ or \\cr or \\end",se.nextToken)}for(var P=[],N=[P],K=0;K<E.length;K++){for(var ae=E[K],_e=nO(),Be=0;Be<ae.length;Be++)if(!rO(ae[Be]))_e.body.push(ae[Be]);else{P.push(_e),Be+=1;var Ye=WA(ae[Be]).text,ct=new Array(2);if(ct[0]={type:"ordgroup",mode:"math",body:[]},ct[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(Ye)>-1))if("<>AV".indexOf(Ye)>-1)for(var Dt=0;Dt<2;Dt++){for(var $t=!0,Xt=Be+1;Xt<ae.length;Xt++){if(Xae(ae[Xt],Ye)){$t=!1,Be=Xt;break}if(rO(ae[Xt]))throw new a("Missing a "+Ye+" character to complete a CD arrow.",ae[Xt]);ct[Dt].body.push(ae[Xt])}if($t)throw new a("Missing a "+Ye+" character to complete a CD arrow.",ae[Be])}else throw new a('Expected one of "<>AV=|." after @',ae[Be]);var jt=jae(Ye,ct,se),fn={type:"styling",body:[jt],mode:"math",style:"display"};P.push(fn),_e=nO()}K%2===0?P.push(_e):P.shift(),P=[],N.push(P)}se.gullet.endGroup(),se.gullet.endGroup();var vn=new Array(N[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:N,arraystretch:1,addJot:!0,rowGaps:[null],cols:vn,colSeparationType:"CD",hLinesBeforeRow:new Array(N.length+1).fill([])}}nn({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName;return{type:"cdlabel",mode:P.mode,side:N.slice(4),label:R[0]}},htmlBuilder:function(E,R){var P=R.havingStyle(R.style.sup()),N=ot.wrapFragment(Jr(E.label,P,R),R);return N.classes.push("cd-label-"+E.side),N.style.bottom=G(.8-N.depth),N.height=0,N.depth=0,N},mathmlBuilder:function(E,R){var P=new on.MathNode("mrow",[Ei(E.label,R)]);return P=new on.MathNode("mpadded",[P]),P.setAttribute("width","0"),E.side==="left"&&P.setAttribute("lspace","-1width"),P.setAttribute("voffset","0.7em"),P=new on.MathNode("mstyle",[P]),P.setAttribute("displaystyle","false"),P.setAttribute("scriptlevel","1"),P}}),nn({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(E,R){var P=E.parser;return{type:"cdlabelparent",mode:P.mode,fragment:R[0]}},htmlBuilder:function(E,R){var P=ot.wrapFragment(Jr(E.fragment,R),R);return P.classes.push("cd-vert-arrow"),P},mathmlBuilder:function(E,R){return new on.MathNode("mrow",[Ei(E.fragment,R)])}}),nn({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){for(var P=E.parser,N=br(R[0],"ordgroup"),K=N.body,ae="",_e=0;_e<K.length;_e++){var Be=br(K[_e],"textord");ae+=Be.text}var Ye=parseInt(ae),ct;if(isNaN(Ye))throw new a("\\@char has non-numeric argument "+ae);if(Ye<0||Ye>=1114111)throw new a("\\@char with invalid code point "+ae);return Ye<=65535?ct=String.fromCharCode(Ye):(Ye-=65536,ct=String.fromCharCode((Ye>>10)+55296,(Ye&1023)+56320)),{type:"textord",mode:P.mode,text:ct}}});var iO=function(E,R){var P=Ka(E.body,R.withColor(E.color),!1);return ot.makeFragment(P)},aO=function(E,R){var P=Co(E.body,R.withColor(E.color)),N=new on.MathNode("mstyle",P);return N.setAttribute("mathcolor",E.color),N};nn({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(E,R){var P=E.parser,N=br(R[0],"color-token").color,K=R[1];return{type:"color",mode:P.mode,color:N,body:ai(K)}},htmlBuilder:iO,mathmlBuilder:aO}),nn({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(E,R){var P=E.parser,N=E.breakOnTokenText,K=br(R[0],"color-token").color;P.gullet.macros.set("\\current@color",K);var ae=P.parseExpression(!0,N);return{type:"color",mode:P.mode,color:K,body:ae}},htmlBuilder:iO,mathmlBuilder:aO}),nn({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(E,R,P){var N=E.parser,K=P[0],ae=!N.settings.displayMode||!N.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:N.mode,newLine:ae,size:K&&br(K,"size").value}},htmlBuilder:function(E,R){var P=ot.makeSpan(["mspace"],[],R);return E.newLine&&(P.classes.push("newline"),E.size&&(P.style.marginTop=G(at(E.size,R)))),P},mathmlBuilder:function(E,R){var P=new on.MathNode("mspace");return E.newLine&&(P.setAttribute("linebreak","newline"),E.size&&P.setAttribute("height",G(at(E.size,R)))),P}});var KA={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},sO=function(E){var R=E.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(R))throw new a("Expected a control sequence",E);return R},Qae=function(E){var R=E.gullet.popToken();return R.text==="="&&(R=E.gullet.popToken(),R.text===" "&&(R=E.gullet.popToken())),R},oO=function(E,R,P,N){var K=E.gullet.macros.get(P.text);K==null&&(P.noexpand=!0,K={tokens:[P],numArgs:0,unexpandable:!E.gullet.isExpandable(P.text)}),E.gullet.macros.set(R,K,N)};nn({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(E){var R=E.parser,P=E.funcName;R.consumeSpaces();var N=R.fetch();if(KA[N.text])return(P==="\\global"||P==="\\\\globallong")&&(N.text=KA[N.text]),br(R.parseFunction(),"internal");throw new a("Invalid token after macro prefix",N)}}),nn({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,N=R.gullet.popToken(),K=N.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(K))throw new a("Expected a control sequence",N);for(var ae=0,_e,Be=[[]];R.gullet.future().text!=="{";)if(N=R.gullet.popToken(),N.text==="#"){if(R.gullet.future().text==="{"){_e=R.gullet.future(),Be[ae].push("{");break}if(N=R.gullet.popToken(),!/^[1-9]$/.test(N.text))throw new a('Invalid argument number "'+N.text+'"');if(parseInt(N.text)!==ae+1)throw new a('Argument number "'+N.text+'" out of order');ae++,Be.push([])}else{if(N.text==="EOF")throw new a("Expected a macro definition");Be[ae].push(N.text)}var Ye=R.gullet.consumeArg(),ct=Ye.tokens;return _e&&ct.unshift(_e),(P==="\\edef"||P==="\\xdef")&&(ct=R.gullet.expandTokens(ct),ct.reverse()),R.gullet.macros.set(K,{tokens:ct,numArgs:ae,delimiters:Be},P===KA[P]),{type:"internal",mode:R.mode}}}),nn({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,N=sO(R.gullet.popToken());R.gullet.consumeSpaces();var K=Qae(R);return oO(R,N,K,P==="\\\\globallet"),{type:"internal",mode:R.mode}}}),nn({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E){var R=E.parser,P=E.funcName,N=sO(R.gullet.popToken()),K=R.gullet.popToken(),ae=R.gullet.popToken();return oO(R,N,ae,P==="\\\\globalfuture"),R.gullet.pushToken(ae),R.gullet.pushToken(K),{type:"internal",mode:R.mode}}});var Iy=function(E,R,P){var N=Zn.math[E]&&Zn.math[E].replace,K=je(N||E,R,P);if(!K)throw new Error("Unsupported symbol "+E+" and font size "+R+".");return K},YA=function(E,R,P,N){var K=P.havingBaseStyle(R),ae=ot.makeSpan(N.concat(K.sizingClasses(P)),[E],P),_e=K.sizeMultiplier/P.sizeMultiplier;return ae.height*=_e,ae.depth*=_e,ae.maxFontSize=K.sizeMultiplier,ae},lO=function(E,R,P){var N=R.havingBaseStyle(P),K=(1-R.sizeMultiplier/N.sizeMultiplier)*R.fontMetrics().axisHeight;E.classes.push("delimcenter"),E.style.top=G(K),E.height-=K,E.depth+=K},Jae=function(E,R,P,N,K,ae){var _e=ot.makeSymbol(E,"Main-Regular",K,N),Be=YA(_e,R,N,ae);return P&&lO(Be,N,R),Be},ese=function(E,R,P,N){return ot.makeSymbol(E,"Size"+R+"-Regular",P,N)},cO=function(E,R,P,N,K,ae){var _e=ese(E,R,K,N),Be=YA(ot.makeSpan(["delimsizing","size"+R],[_e],N),O.TEXT,N,ae);return P&&lO(Be,N,O.TEXT),Be},XA=function(E,R,P){var N;R==="Size1-Regular"?N="delim-size1":N="delim-size4";var K=ot.makeSpan(["delimsizinginner",N],[ot.makeSpan([],[ot.makeSymbol(E,R,P)])]);return{type:"elem",elem:K}},jA=function(E,R,P){var N=Pe["Size4-Regular"][E.charCodeAt(0)]?Pe["Size4-Regular"][E.charCodeAt(0)][4]:Pe["Size1-Regular"][E.charCodeAt(0)][4],K=new Lt("inner",ce(E,Math.round(1e3*R))),ae=new gt([K],{width:G(N),height:G(R),style:"width:"+G(N),viewBox:"0 0 "+1e3*N+" "+Math.round(1e3*R),preserveAspectRatio:"xMinYMin"}),_e=ot.makeSvgSpan([],[ae],P);return _e.height=R,_e.style.height=G(R),_e.style.width=G(N),{type:"elem",elem:_e}},ZA=.008,Dw={type:"kern",size:-1*ZA},tse=["|","\\lvert","\\rvert","\\vert"],nse=["\\|","\\lVert","\\rVert","\\Vert"],uO=function(E,R,P,N,K,ae){var _e,Be,Ye,ct;_e=Ye=ct=E,Be=null;var Dt="Size1-Regular";E==="\\uparrow"?Ye=ct="⏐":E==="\\Uparrow"?Ye=ct="‖":E==="\\downarrow"?_e=Ye="⏐":E==="\\Downarrow"?_e=Ye="‖":E==="\\updownarrow"?(_e="\\uparrow",Ye="⏐",ct="\\downarrow"):E==="\\Updownarrow"?(_e="\\Uparrow",Ye="‖",ct="\\Downarrow"):g.contains(tse,E)?Ye="∣":g.contains(nse,E)?Ye="∥":E==="["||E==="\\lbrack"?(_e="⎡",Ye="⎢",ct="⎣",Dt="Size4-Regular"):E==="]"||E==="\\rbrack"?(_e="⎤",Ye="⎥",ct="⎦",Dt="Size4-Regular"):E==="\\lfloor"||E==="⌊"?(Ye=_e="⎢",ct="⎣",Dt="Size4-Regular"):E==="\\lceil"||E==="⌈"?(_e="⎡",Ye=ct="⎢",Dt="Size4-Regular"):E==="\\rfloor"||E==="⌋"?(Ye=_e="⎥",ct="⎦",Dt="Size4-Regular"):E==="\\rceil"||E==="⌉"?(_e="⎤",Ye=ct="⎥",Dt="Size4-Regular"):E==="("||E==="\\lparen"?(_e="⎛",Ye="⎜",ct="⎝",Dt="Size4-Regular"):E===")"||E==="\\rparen"?(_e="⎞",Ye="⎟",ct="⎠",Dt="Size4-Regular"):E==="\\{"||E==="\\lbrace"?(_e="⎧",Be="⎨",ct="⎩",Ye="⎪",Dt="Size4-Regular"):E==="\\}"||E==="\\rbrace"?(_e="⎫",Be="⎬",ct="⎭",Ye="⎪",Dt="Size4-Regular"):E==="\\lgroup"||E==="⟮"?(_e="⎧",ct="⎩",Ye="⎪",Dt="Size4-Regular"):E==="\\rgroup"||E==="⟯"?(_e="⎫",ct="⎭",Ye="⎪",Dt="Size4-Regular"):E==="\\lmoustache"||E==="⎰"?(_e="⎧",ct="⎭",Ye="⎪",Dt="Size4-Regular"):(E==="\\rmoustache"||E==="⎱")&&(_e="⎫",ct="⎩",Ye="⎪",Dt="Size4-Regular");var $t=Iy(_e,Dt,K),Xt=$t.height+$t.depth,jt=Iy(Ye,Dt,K),fn=jt.height+jt.depth,vn=Iy(ct,Dt,K),zn=vn.height+vn.depth,Yn=0,tr=1;if(Be!==null){var ei=Iy(Be,Dt,K);Yn=ei.height+ei.depth,tr=2}var mi=Xt+zn+Yn,Ui=Math.max(0,Math.ceil((R-mi)/(tr*fn))),si=mi+Ui*tr*fn,vi=N.fontMetrics().axisHeight;P&&(vi*=N.sizeMultiplier);var ia=si/2-vi,Ii=[];if(Ii.push(XA(ct,Dt,K)),Ii.push(Dw),Be===null){var Mo=si-Xt-zn+2*ZA;Ii.push(jA(Ye,Mo,N))}else{var To=(si-Xt-zn-Yn)/2+2*ZA;Ii.push(jA(Ye,To,N)),Ii.push(Dw),Ii.push(XA(Be,Dt,K)),Ii.push(Dw),Ii.push(jA(Ye,To,N))}Ii.push(Dw),Ii.push(XA(_e,Dt,K));var Hd=N.havingBaseStyle(O.TEXT),Lc=ot.makeVList({positionType:"bottom",positionData:ia,children:Ii},Hd);return YA(ot.makeSpan(["delimsizing","mult"],[Lc],Hd),O.TEXT,N,ae)},QA=80,JA=.08,e3=function(E,R,P,N,K){var ae=q(E,N,P),_e=new Lt(E,ae),Be=new gt([_e],{width:"400em",height:G(R),viewBox:"0 0 400000 "+P,preserveAspectRatio:"xMinYMin slice"});return ot.makeSvgSpan(["hide-tail"],[Be],K)},rse=function(E,R){var P=R.havingBaseSizing(),N=pO("\\surd",E*P.sizeMultiplier,hO,P),K=P.sizeMultiplier,ae=Math.max(0,R.minRuleThickness-R.fontMetrics().sqrtRuleThickness),_e,Be=0,Ye=0,ct=0,Dt;return N.type==="small"?(ct=1e3+1e3*ae+QA,E<1?K=1:E<1.4&&(K=.7),Be=(1+ae+JA)/K,Ye=(1+ae)/K,_e=e3("sqrtMain",Be,ct,ae,R),_e.style.minWidth="0.853em",Dt=.833/K):N.type==="large"?(ct=(1e3+QA)*Ry[N.size],Ye=(Ry[N.size]+ae)/K,Be=(Ry[N.size]+ae+JA)/K,_e=e3("sqrtSize"+N.size,Be,ct,ae,R),_e.style.minWidth="1.02em",Dt=1/K):(Be=E+ae+JA,Ye=E+ae,ct=Math.floor(1e3*E+ae)+QA,_e=e3("sqrtTall",Be,ct,ae,R),_e.style.minWidth="0.742em",Dt=1.056),_e.height=Ye,_e.style.height=G(Be),{span:_e,advanceWidth:Dt,ruleWidth:(R.fontMetrics().sqrtRuleThickness+ae)*K}},dO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],ise=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],fO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ry=[0,1.2,1.8,2.4,3],ase=function(E,R,P,N,K){if(E==="<"||E==="\\lt"||E==="⟨"?E="\\langle":(E===">"||E==="\\gt"||E==="⟩")&&(E="\\rangle"),g.contains(dO,E)||g.contains(fO,E))return cO(E,R,!1,P,N,K);if(g.contains(ise,E))return uO(E,Ry[R],!1,P,N,K);throw new a("Illegal delimiter: '"+E+"'")},sse=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ose=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"stack"}],hO=[{type:"small",style:O.SCRIPTSCRIPT},{type:"small",style:O.SCRIPT},{type:"small",style:O.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],lse=function(E){if(E.type==="small")return"Main-Regular";if(E.type==="large")return"Size"+E.size+"-Regular";if(E.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+E.type+"' here.")},pO=function(E,R,P,N){for(var K=Math.min(2,3-N.style.size),ae=K;ae<P.length&&P[ae].type!=="stack";ae++){var _e=Iy(E,lse(P[ae]),"math"),Be=_e.height+_e.depth;if(P[ae].type==="small"){var Ye=N.havingBaseStyle(P[ae].style);Be*=Ye.sizeMultiplier}if(Be>R)return P[ae]}return P[P.length-1]},mO=function(E,R,P,N,K,ae){E==="<"||E==="\\lt"||E==="⟨"?E="\\langle":(E===">"||E==="\\gt"||E==="⟩")&&(E="\\rangle");var _e;g.contains(fO,E)?_e=sse:g.contains(dO,E)?_e=hO:_e=ose;var Be=pO(E,R,_e,N);return Be.type==="small"?Jae(E,Be.style,P,N,K,ae):Be.type==="large"?cO(E,Be.size,P,N,K,ae):uO(E,R,P,N,K,ae)},cse=function(E,R,P,N,K,ae){var _e=N.fontMetrics().axisHeight*N.sizeMultiplier,Be=901,Ye=5/N.fontMetrics().ptPerEm,ct=Math.max(R-_e,P+_e),Dt=Math.max(ct/500*Be,2*ct-Ye);return mO(E,Dt,!0,N,K,ae)},Eu={sqrtImage:rse,sizedDelim:ase,sizeToMaxHeight:Ry,customSizedDelim:mO,leftRightDelim:cse},vO={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},use=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function kw(se,E){var R=Rw(se);if(R&&g.contains(use,R.text))return R;throw R?new a("Invalid delimiter '"+R.text+"' after '"+E.funcName+"'",se):new a("Invalid delimiter type '"+se.type+"'",se)}nn({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(E,R){var P=kw(R[0],E);return{type:"delimsizing",mode:E.parser.mode,size:vO[E.funcName].size,mclass:vO[E.funcName].mclass,delim:P.text}},htmlBuilder:function(E,R){return E.delim==="."?ot.makeSpan([E.mclass]):Eu.sizedDelim(E.delim,E.size,R,E.mode,[E.mclass])},mathmlBuilder:function(E){var R=[];E.delim!=="."&&R.push(Zo(E.delim,E.mode));var P=new on.MathNode("mo",R);E.mclass==="mopen"||E.mclass==="mclose"?P.setAttribute("fence","true"):P.setAttribute("fence","false"),P.setAttribute("stretchy","true");var N=G(Eu.sizeToMaxHeight[E.size]);return P.setAttribute("minsize",N),P.setAttribute("maxsize",N),P}});function gO(se){if(!se.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}nn({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser.gullet.macros.get("\\current@color");if(P&&typeof P!="string")throw new a("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:E.parser.mode,delim:kw(R[0],E).text,color:P}}}),nn({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=kw(R[0],E),N=E.parser;++N.leftrightDepth;var K=N.parseExpression(!1);--N.leftrightDepth,N.expect("\\right",!1);var ae=br(N.parseFunction(),"leftright-right");return{type:"leftright",mode:N.mode,body:K,left:P.text,right:ae.delim,rightColor:ae.color}},htmlBuilder:function(E,R){gO(E);for(var P=Ka(E.body,R,!0,["mopen","mclose"]),N=0,K=0,ae=!1,_e=0;_e<P.length;_e++)P[_e].isMiddle?ae=!0:(N=Math.max(P[_e].height,N),K=Math.max(P[_e].depth,K));N*=R.sizeMultiplier,K*=R.sizeMultiplier;var Be;if(E.left==="."?Be=Ay(R,["mopen"]):Be=Eu.leftRightDelim(E.left,N,K,R,E.mode,["mopen"]),P.unshift(Be),ae)for(var Ye=1;Ye<P.length;Ye++){var ct=P[Ye],Dt=ct.isMiddle;Dt&&(P[Ye]=Eu.leftRightDelim(Dt.delim,N,K,Dt.options,E.mode,[]))}var $t;if(E.right===".")$t=Ay(R,["mclose"]);else{var Xt=E.rightColor?R.withColor(E.rightColor):R;$t=Eu.leftRightDelim(E.right,N,K,Xt,E.mode,["mclose"])}return P.push($t),ot.makeSpan(["minner"],P,R)},mathmlBuilder:function(E,R){gO(E);var P=Co(E.body,R);if(E.left!=="."){var N=new on.MathNode("mo",[Zo(E.left,E.mode)]);N.setAttribute("fence","true"),P.unshift(N)}if(E.right!=="."){var K=new on.MathNode("mo",[Zo(E.right,E.mode)]);K.setAttribute("fence","true"),E.rightColor&&K.setAttribute("mathcolor",E.rightColor),P.push(K)}return $A(P)}}),nn({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=kw(R[0],E);if(!E.parser.leftrightDepth)throw new a("\\middle without preceding \\left",P);return{type:"middle",mode:E.parser.mode,delim:P.text}},htmlBuilder:function(E,R){var P;if(E.delim===".")P=Ay(R,[]);else{P=Eu.sizedDelim(E.delim,1,R,E.mode,[]);var N={delim:E.delim,options:R};P.isMiddle=N}return P},mathmlBuilder:function(E,R){var P=E.delim==="\\vert"||E.delim==="|"?Zo("|","text"):Zo(E.delim,E.mode),N=new on.MathNode("mo",[P]);return N.setAttribute("fence","true"),N.setAttribute("lspace","0.05em"),N.setAttribute("rspace","0.05em"),N}});var t3=function(E,R){var P=ot.wrapFragment(Jr(E.body,R),R),N=E.label.substr(1),K=R.sizeMultiplier,ae,_e=0,Be=g.isCharacterBox(E.body);if(N==="sout")ae=ot.makeSpan(["stretchy","sout"]),ae.height=R.fontMetrics().defaultRuleThickness/K,_e=-.5*R.fontMetrics().xHeight;else if(N==="phase"){var Ye=at({number:.6,unit:"pt"},R),ct=at({number:.35,unit:"ex"},R),Dt=R.havingBaseSizing();K=K/Dt.sizeMultiplier;var $t=P.height+P.depth+Ye+ct;P.style.paddingLeft=G($t/2+Ye);var Xt=Math.floor(1e3*$t*K),jt=ke(Xt),fn=new gt([new Lt("phase",jt)],{width:"400em",height:G(Xt/1e3),viewBox:"0 0 400000 "+Xt,preserveAspectRatio:"xMinYMin slice"});ae=ot.makeSvgSpan(["hide-tail"],[fn],R),ae.style.height=G($t),_e=P.depth+Ye+ct}else{/cancel/.test(N)?Be||P.classes.push("cancel-pad"):N==="angl"?P.classes.push("anglpad"):P.classes.push("boxpad");var vn=0,zn=0,Yn=0;/box/.test(N)?(Yn=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness),vn=R.fontMetrics().fboxsep+(N==="colorbox"?0:Yn),zn=vn):N==="angl"?(Yn=Math.max(R.fontMetrics().defaultRuleThickness,R.minRuleThickness),vn=4*Yn,zn=Math.max(0,.25-P.depth)):(vn=Be?.2:0,zn=vn),ae=Au.encloseSpan(P,N,vn,zn,R),/fbox|boxed|fcolorbox/.test(N)?(ae.style.borderStyle="solid",ae.style.borderWidth=G(Yn)):N==="angl"&&Yn!==.049&&(ae.style.borderTopWidth=G(Yn),ae.style.borderRightWidth=G(Yn)),_e=P.depth+zn,E.backgroundColor&&(ae.style.backgroundColor=E.backgroundColor,E.borderColor&&(ae.style.borderColor=E.borderColor))}var tr;if(E.backgroundColor)tr=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ae,shift:_e},{type:"elem",elem:P,shift:0}]},R);else{var ei=/cancel|phase/.test(N)?["svg-align"]:[];tr=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:0},{type:"elem",elem:ae,shift:_e,wrapperClasses:ei}]},R)}return/cancel/.test(N)&&(tr.height=P.height,tr.depth=P.depth),/cancel/.test(N)&&!Be?ot.makeSpan(["mord","cancel-lap"],[tr],R):ot.makeSpan(["mord"],[tr],R)},n3=function(E,R){var P=0,N=new on.MathNode(E.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ei(E.body,R)]);switch(E.label){case"\\cancel":N.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":N.setAttribute("notation","downdiagonalstrike");break;case"\\phase":N.setAttribute("notation","phasorangle");break;case"\\sout":N.setAttribute("notation","horizontalstrike");break;case"\\fbox":N.setAttribute("notation","box");break;case"\\angl":N.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(P=R.fontMetrics().fboxsep*R.fontMetrics().ptPerEm,N.setAttribute("width","+"+2*P+"pt"),N.setAttribute("height","+"+2*P+"pt"),N.setAttribute("lspace",P+"pt"),N.setAttribute("voffset",P+"pt"),E.label==="\\fcolorbox"){var K=Math.max(R.fontMetrics().fboxrule,R.minRuleThickness);N.setAttribute("style","border: "+K+"em solid "+String(E.borderColor))}break;case"\\xcancel":N.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return E.backgroundColor&&N.setAttribute("mathbackground",E.backgroundColor),N};nn({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(E,R,P){var N=E.parser,K=E.funcName,ae=br(R[0],"color-token").color,_e=R[1];return{type:"enclose",mode:N.mode,label:K,backgroundColor:ae,body:_e}},htmlBuilder:t3,mathmlBuilder:n3}),nn({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(E,R,P){var N=E.parser,K=E.funcName,ae=br(R[0],"color-token").color,_e=br(R[1],"color-token").color,Be=R[2];return{type:"enclose",mode:N.mode,label:K,backgroundColor:_e,borderColor:ae,body:Be}},htmlBuilder:t3,mathmlBuilder:n3}),nn({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"enclose",mode:P.mode,label:"\\fbox",body:R[0]}}}),nn({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0];return{type:"enclose",mode:P.mode,label:N,body:K}},htmlBuilder:t3,mathmlBuilder:n3}),nn({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(E,R){var P=E.parser;return{type:"enclose",mode:P.mode,label:"\\angl",body:R[0]}}});var yO={};function Pc(se){for(var E=se.type,R=se.names,P=se.props,N=se.handler,K=se.htmlBuilder,ae=se.mathmlBuilder,_e={type:E,numArgs:P.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:N},Be=0;Be<R.length;++Be)yO[R[Be]]=_e;K&&(qn[E]=K),ae&&(Si[E]=ae)}function bO(se){var E=[];se.consumeSpaces();for(var R=se.fetch().text;R==="\\hline"||R==="\\hdashline";)se.consume(),E.push(R==="\\hdashline"),se.consumeSpaces(),R=se.fetch().text;return E}var Lw=function(E){var R=E.parser.settings;if(!R.displayMode)throw new a("{"+E.envName+"} can be used only in display mode.")};function zd(se,E,R){var P=E.hskipBeforeAndAfter,N=E.addJot,K=E.cols,ae=E.arraystretch,_e=E.colSeparationType,Be=E.addEqnNum,Ye=E.singleRow,ct=E.emptySingleRow,Dt=E.maxNumCols,$t=E.leqno;if(se.gullet.beginGroup(),Ye||se.gullet.macros.set("\\cr","\\\\\\relax"),!ae){var Xt=se.gullet.expandMacroAsText("\\arraystretch");if(Xt==null)ae=1;else if(ae=parseFloat(Xt),!ae||ae<0)throw new a("Invalid \\arraystretch: "+Xt)}se.gullet.beginGroup();var jt=[],fn=[jt],vn=[],zn=[];for(zn.push(bO(se));;){var Yn=se.parseExpression(!1,Ye?"\\end":"\\\\");se.gullet.endGroup(),se.gullet.beginGroup(),Yn={type:"ordgroup",mode:se.mode,body:Yn},R&&(Yn={type:"styling",mode:se.mode,style:R,body:[Yn]}),jt.push(Yn);var tr=se.fetch().text;if(tr==="&"){if(Dt&&jt.length===Dt){if(Ye||_e)throw new a("Too many tab characters: &",se.nextToken);se.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}se.consume()}else if(tr==="\\end"){jt.length===1&&Yn.type==="styling"&&Yn.body[0].body.length===0&&(fn.length>1||!ct)&&fn.pop(),zn.length<fn.length+1&&zn.push([]);break}else if(tr==="\\\\"){se.consume();var ei=void 0;se.gullet.future().text!==" "&&(ei=se.parseSizeGroup(!0)),vn.push(ei?ei.value:null),zn.push(bO(se)),jt=[],fn.push(jt)}else throw new a("Expected & or \\\\ or \\cr or \\end",se.nextToken)}return se.gullet.endGroup(),se.gullet.endGroup(),{type:"array",mode:se.mode,addJot:N,arraystretch:ae,body:fn,cols:K,rowGaps:vn,hskipBeforeAndAfter:P,hLinesBeforeRow:zn,colSeparationType:_e,addEqnNum:Be,leqno:$t}}function r3(se){return se.substr(0,1)==="d"?"display":"text"}var Dc=function(E,R){var P,N,K=E.body.length,ae=E.hLinesBeforeRow,_e=0,Be=new Array(K),Ye=[],ct=Math.max(R.fontMetrics().arrayRuleWidth,R.minRuleThickness),Dt=1/R.fontMetrics().ptPerEm,$t=5*Dt;if(E.colSeparationType&&E.colSeparationType==="small"){var Xt=R.havingStyle(O.SCRIPT).sizeMultiplier;$t=.2778*(Xt/R.sizeMultiplier)}var jt=E.colSeparationType==="CD"?at({number:3,unit:"ex"},R):12*Dt,fn=3*Dt,vn=E.arraystretch*jt,zn=.7*vn,Yn=.3*vn,tr=0;function ei(sB){for(var Bw=0;Bw<sB.length;++Bw)Bw>0&&(tr+=.25),Ye.push({pos:tr,isDashed:sB[Bw]})}for(ei(ae[0]),P=0;P<E.body.length;++P){var mi=E.body[P],Ui=zn,si=Yn;_e<mi.length&&(_e=mi.length);var vi=new Array(mi.length);for(N=0;N<mi.length;++N){var ia=Jr(mi[N],R);si<ia.depth&&(si=ia.depth),Ui<ia.height&&(Ui=ia.height),vi[N]=ia}var Ii=E.rowGaps[P],Mo=0;Ii&&(Mo=at(Ii,R),Mo>0&&(Mo+=Yn,si<Mo&&(si=Mo),Mo=0)),E.addJot&&(si+=fn),vi.height=Ui,vi.depth=si,tr+=Ui,vi.pos=tr,tr+=si+Mo,Be[P]=vi,ei(ae[P+1])}var To=tr/2+R.fontMetrics().axisHeight,Hd=E.cols||[],Lc=[],Ao,$m,tB=[];if(E.addEqnNum)for(P=0;P<K;++P){var v3=Be[P],Fse=v3.pos-To,g3=ot.makeSpan(["eqn-num"],[],R);g3.depth=v3.depth,g3.height=v3.height,tB.push({type:"elem",elem:g3,shift:Fse})}for(N=0,$m=0;N<_e||$m<Hd.length;++N,++$m){for(var Iu=Hd[$m]||{},nB=!0;Iu.type==="separator";){if(nB||(Ao=ot.makeSpan(["arraycolsep"],[]),Ao.style.width=G(R.fontMetrics().doubleRuleSep),Lc.push(Ao)),Iu.separator==="|"||Iu.separator===":"){var zse=Iu.separator==="|"?"solid":"dashed",Gm=ot.makeSpan(["vertical-separator"],[],R);Gm.style.height=G(tr),Gm.style.borderRightWidth=G(ct),Gm.style.borderRightStyle=zse,Gm.style.margin="0 "+G(-ct/2);var rB=tr-To;rB&&(Gm.style.verticalAlign=G(-rB)),Lc.push(Gm)}else throw new a("Invalid separator type: "+Iu.separator);$m++,Iu=Hd[$m]||{},nB=!1}if(!(N>=_e)){var Wm=void 0;(N>0||E.hskipBeforeAndAfter)&&(Wm=g.deflt(Iu.pregap,$t),Wm!==0&&(Ao=ot.makeSpan(["arraycolsep"],[]),Ao.style.width=G(Wm),Lc.push(Ao)));var qm=[];for(P=0;P<K;++P){var Nw=Be[P],Ow=Nw[N];if(Ow){var Use=Nw.pos-To;Ow.depth=Nw.depth,Ow.height=Nw.height,qm.push({type:"elem",elem:Ow,shift:Use})}}qm=ot.makeVList({positionType:"individualShift",children:qm},R),qm=ot.makeSpan(["col-align-"+(Iu.align||"c")],[qm]),Lc.push(qm),(N<_e-1||E.hskipBeforeAndAfter)&&(Wm=g.deflt(Iu.postgap,$t),Wm!==0&&(Ao=ot.makeSpan(["arraycolsep"],[]),Ao.style.width=G(Wm),Lc.push(Ao)))}}if(Be=ot.makeSpan(["mtable"],Lc),Ye.length>0){for(var Hse=ot.makeLineSpan("hline",R,ct),Vse=ot.makeLineSpan("hdashline",R,ct),y3=[{type:"elem",elem:Be,shift:0}];Ye.length>0;){var iB=Ye.pop(),aB=iB.pos-To;iB.isDashed?y3.push({type:"elem",elem:Vse,shift:aB}):y3.push({type:"elem",elem:Hse,shift:aB})}Be=ot.makeVList({positionType:"individualShift",children:y3},R)}if(E.addEqnNum){var b3=ot.makeVList({positionType:"individualShift",children:tB},R);return b3=ot.makeSpan(["tag"],[b3],R),ot.makeFragment([Be,b3])}else return ot.makeSpan(["mord"],[Be],R)},dse={c:"center ",l:"left ",r:"right "},kc=function(E,R){for(var P=[],N=new on.MathNode("mtd",[],["mtr-glue"]),K=new on.MathNode("mtd",[],["mml-eqn-num"]),ae=0;ae<E.body.length;ae++){for(var _e=E.body[ae],Be=[],Ye=0;Ye<_e.length;Ye++)Be.push(new on.MathNode("mtd",[Ei(_e[Ye],R)]));E.addEqnNum&&(Be.unshift(N),Be.push(N),E.leqno?Be.unshift(K):Be.push(K)),P.push(new on.MathNode("mtr",Be))}var ct=new on.MathNode("mtable",P),Dt=E.arraystretch===.5?.1:.16+E.arraystretch-1+(E.addJot?.09:0);ct.setAttribute("rowspacing",G(Dt));var $t="",Xt="";if(E.cols&&E.cols.length>0){var jt=E.cols,fn="",vn=!1,zn=0,Yn=jt.length;jt[0].type==="separator"&&($t+="top ",zn=1),jt[jt.length-1].type==="separator"&&($t+="bottom ",Yn-=1);for(var tr=zn;tr<Yn;tr++)jt[tr].type==="align"?(Xt+=dse[jt[tr].align],vn&&(fn+="none "),vn=!0):jt[tr].type==="separator"&&vn&&(fn+=jt[tr].separator==="|"?"solid ":"dashed ",vn=!1);ct.setAttribute("columnalign",Xt.trim()),/[sd]/.test(fn)&&ct.setAttribute("columnlines",fn.trim())}if(E.colSeparationType==="align"){for(var ei=E.cols||[],mi="",Ui=1;Ui<ei.length;Ui++)mi+=Ui%2?"0em ":"1em ";ct.setAttribute("columnspacing",mi.trim())}else E.colSeparationType==="alignat"||E.colSeparationType==="gather"?ct.setAttribute("columnspacing","0em"):E.colSeparationType==="small"?ct.setAttribute("columnspacing","0.2778em"):E.colSeparationType==="CD"?ct.setAttribute("columnspacing","0.5em"):ct.setAttribute("columnspacing","1em");var si="",vi=E.hLinesBeforeRow;$t+=vi[0].length>0?"left ":"",$t+=vi[vi.length-1].length>0?"right ":"";for(var ia=1;ia<vi.length-1;ia++)si+=vi[ia].length===0?"none ":vi[ia][0]?"dashed ":"solid ";return/[sd]/.test(si)&&ct.setAttribute("rowlines",si.trim()),$t!==""&&(ct=new on.MathNode("menclose",[ct]),ct.setAttribute("notation",$t.trim())),E.arraystretch&&E.arraystretch<1&&(ct=new on.MathNode("mstyle",[ct]),ct.setAttribute("scriptlevel","1")),ct},_O=function(E,R){E.envName.indexOf("ed")===-1&&Lw(E);var P=[],N=E.envName.indexOf("at")>-1?"alignat":"align",K=zd(E.parser,{cols:P,addJot:!0,addEqnNum:E.envName==="align"||E.envName==="alignat",emptySingleRow:!0,colSeparationType:N,maxNumCols:E.envName==="split"?2:void 0,leqno:E.parser.settings.leqno},"display"),ae,_e=0,Be={type:"ordgroup",mode:E.mode,body:[]};if(R[0]&&R[0].type==="ordgroup"){for(var Ye="",ct=0;ct<R[0].body.length;ct++){var Dt=br(R[0].body[ct],"textord");Ye+=Dt.text}ae=Number(Ye),_e=ae*2}var $t=!_e;K.body.forEach(function(vn){for(var zn=1;zn<vn.length;zn+=2){var Yn=br(vn[zn],"styling"),tr=br(Yn.body[0],"ordgroup");tr.body.unshift(Be)}if($t)_e<vn.length&&(_e=vn.length);else{var ei=vn.length/2;if(ae<ei)throw new a("Too many math in a row: "+("expected "+ae+", but got "+ei),vn[0])}});for(var Xt=0;Xt<_e;++Xt){var jt="r",fn=0;Xt%2===1?jt="l":Xt>0&&$t&&(fn=1),P[Xt]={type:"align",align:jt,pregap:fn,postgap:0}}return K.colSeparationType=$t?"align":"alignat",K};Pc({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(E,R){var P=Rw(R[0]),N=P?[R[0]]:br(R[0],"ordgroup").body,K=N.map(function(_e){var Be=WA(_e),Ye=Be.text;if("lcr".indexOf(Ye)!==-1)return{type:"align",align:Ye};if(Ye==="|")return{type:"separator",separator:"|"};if(Ye===":")return{type:"separator",separator:":"};throw new a("Unknown column alignment: "+Ye,_e)}),ae={cols:K,hskipBeforeAndAfter:!0,maxNumCols:K.length};return zd(E.parser,ae,r3(E.envName))},htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(E){var R={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[E.envName.replace("*","")],P="c",N={hskipBeforeAndAfter:!1,cols:[{type:"align",align:P}]};if(E.envName.charAt(E.envName.length-1)==="*"){var K=E.parser;if(K.consumeSpaces(),K.fetch().text==="["){if(K.consume(),K.consumeSpaces(),P=K.fetch().text,"lcr".indexOf(P)===-1)throw new a("Expected l or c or r",K.nextToken);K.consume(),K.consumeSpaces(),K.expect("]"),K.consume(),N.cols=[{type:"align",align:P}]}}var ae=zd(E.parser,N,r3(E.envName)),_e=Math.max.apply(Math,[0].concat(ae.body.map(function(Be){return Be.length})));return ae.cols=new Array(_e).fill({type:"align",align:P}),R?{type:"leftright",mode:E.mode,body:[ae],left:R[0],right:R[1],rightColor:void 0}:ae},htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(E){var R={arraystretch:.5},P=zd(E.parser,R,"script");return P.colSeparationType="small",P},htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["subarray"],props:{numArgs:1},handler:function(E,R){var P=Rw(R[0]),N=P?[R[0]]:br(R[0],"ordgroup").body,K=N.map(function(_e){var Be=WA(_e),Ye=Be.text;if("lc".indexOf(Ye)!==-1)return{type:"align",align:Ye};throw new a("Unknown column alignment: "+Ye,_e)});if(K.length>1)throw new a("{subarray} can contain only one column");var ae={cols:K,hskipBeforeAndAfter:!1,arraystretch:.5};if(ae=zd(E.parser,ae,"script"),ae.body.length>0&&ae.body[0].length>1)throw new a("{subarray} can contain only one column");return ae},htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(E){var R={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},P=zd(E.parser,R,r3(E.envName));return{type:"leftright",mode:E.mode,body:[P],left:E.envName.indexOf("r")>-1?".":"\\{",right:E.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:_O,htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(E){g.contains(["gather","gather*"],E.envName)&&Lw(E);var R={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",addEqnNum:E.envName==="gather",emptySingleRow:!0,leqno:E.parser.settings.leqno};return zd(E.parser,R,"display")},htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:_O,htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(E){Lw(E);var R={addEqnNum:E.envName==="equation",emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:E.parser.settings.leqno};return zd(E.parser,R,"display")},htmlBuilder:Dc,mathmlBuilder:kc}),Pc({type:"array",names:["CD"],props:{numArgs:0},handler:function(E){return Lw(E),Zae(E.parser)},htmlBuilder:Dc,mathmlBuilder:kc}),nn({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(E,R){throw new a(E.funcName+" valid only within array environment")}});var fse=yO,wO=fse;nn({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0];if(K.type!=="ordgroup")throw new a("Invalid environment name",K);for(var ae="",_e=0;_e<K.body.length;++_e)ae+=br(K.body[_e],"textord").text;if(N==="\\begin"){if(!wO.hasOwnProperty(ae))throw new a("No such environment: "+ae,K);var Be=wO[ae],Ye=P.parseArguments("\\begin{"+ae+"}",Be),ct=Ye.args,Dt=Ye.optArgs,$t={mode:P.mode,envName:ae,parser:P},Xt=Be.handler($t,ct,Dt);P.expect("\\end",!1);var jt=P.nextToken,fn=br(P.parseFunction(),"environment");if(fn.name!==ae)throw new a("Mismatch: \\begin{"+ae+"} matched by \\end{"+fn.name+"}",jt);return Xt}return{type:"environment",mode:P.mode,name:ae,nameGroup:K}}});var hse=ot.makeSpan;function xO(se,E){var R=Ka(se.body,E,!0);return hse([se.mclass],R,E)}function SO(se,E){var R,P=Co(se.body,E);return se.mclass==="minner"?on.newDocumentFragment(P):(se.mclass==="mord"?se.isCharacterBox?(R=P[0],R.type="mi"):R=new on.MathNode("mi",P):(se.isCharacterBox?(R=P[0],R.type="mo"):R=new on.MathNode("mo",P),se.mclass==="mbin"?(R.attributes.lspace="0.22em",R.attributes.rspace="0.22em"):se.mclass==="mpunct"?(R.attributes.lspace="0em",R.attributes.rspace="0.17em"):(se.mclass==="mopen"||se.mclass==="mclose")&&(R.attributes.lspace="0em",R.attributes.rspace="0em")),R)}nn({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0];return{type:"mclass",mode:P.mode,mclass:"m"+N.substr(5),body:ai(K),isCharacterBox:g.isCharacterBox(K)}},htmlBuilder:xO,mathmlBuilder:SO});var i3=function(E){var R=E.type==="ordgroup"&&E.body.length?E.body[0]:E;return R.type==="atom"&&(R.family==="bin"||R.family==="rel")?"m"+R.family:"mord"};nn({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(E,R){var P=E.parser;return{type:"mclass",mode:P.mode,mclass:i3(R[0]),body:ai(R[1]),isCharacterBox:g.isCharacterBox(R[1])}}}),nn({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[1],ae=R[0],_e;N!=="\\stackrel"?_e=i3(K):_e="mrel";var Be={type:"op",mode:K.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:N!=="\\stackrel",body:ai(K)},Ye={type:"supsub",mode:ae.mode,base:Be,sup:N==="\\underset"?null:ae,sub:N==="\\underset"?ae:null};return{type:"mclass",mode:P.mode,mclass:_e,body:[Ye],isCharacterBox:g.isCharacterBox(Ye)}},htmlBuilder:xO,mathmlBuilder:SO});var CO=function(E,R){var P=E.font,N=R.withFont(P);return Jr(E.body,N)},MO=function(E,R){var P=E.font,N=R.withFont(P);return Ei(E.body,N)},TO={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};nn({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(E,R){var P=E.parser,N=E.funcName,K=Nr(R[0]),ae=N;return ae in TO&&(ae=TO[ae]),{type:"font",mode:P.mode,font:ae.slice(1),body:K}},htmlBuilder:CO,mathmlBuilder:MO}),nn({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=R[0],K=g.isCharacterBox(N);return{type:"mclass",mode:P.mode,mclass:i3(N),body:[{type:"font",mode:P.mode,font:"boldsymbol",body:N}],isCharacterBox:K}}}),nn({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,K=E.breakOnTokenText,ae=P.mode,_e=P.parseExpression(!0,K),Be="math"+N.slice(1);return{type:"font",mode:ae,font:Be,body:{type:"ordgroup",mode:P.mode,body:_e}}},htmlBuilder:CO,mathmlBuilder:MO});var AO=function(E,R){var P=R;return E==="display"?P=P.id>=O.SCRIPT.id?P.text():O.DISPLAY:E==="text"&&P.size===O.DISPLAY.size?P=O.TEXT:E==="script"?P=O.SCRIPT:E==="scriptscript"&&(P=O.SCRIPTSCRIPT),P},a3=function(E,R){var P=AO(E.size,R.style),N=P.fracNum(),K=P.fracDen(),ae;ae=R.havingStyle(N);var _e=Jr(E.numer,ae,R);if(E.continued){var Be=8.5/R.fontMetrics().ptPerEm,Ye=3.5/R.fontMetrics().ptPerEm;_e.height=_e.height<Be?Be:_e.height,_e.depth=_e.depth<Ye?Ye:_e.depth}ae=R.havingStyle(K);var ct=Jr(E.denom,ae,R),Dt,$t,Xt;E.hasBarLine?(E.barSize?($t=at(E.barSize,R),Dt=ot.makeLineSpan("frac-line",R,$t)):Dt=ot.makeLineSpan("frac-line",R),$t=Dt.height,Xt=Dt.height):(Dt=null,$t=0,Xt=R.fontMetrics().defaultRuleThickness);var jt,fn,vn;P.size===O.DISPLAY.size||E.size==="display"?(jt=R.fontMetrics().num1,$t>0?fn=3*Xt:fn=7*Xt,vn=R.fontMetrics().denom1):($t>0?(jt=R.fontMetrics().num2,fn=Xt):(jt=R.fontMetrics().num3,fn=3*Xt),vn=R.fontMetrics().denom2);var zn;if(Dt){var tr=R.fontMetrics().axisHeight;jt-_e.depth-(tr+.5*$t)<fn&&(jt+=fn-(jt-_e.depth-(tr+.5*$t))),tr-.5*$t-(ct.height-vn)<fn&&(vn+=fn-(tr-.5*$t-(ct.height-vn)));var ei=-(tr-.5*$t);zn=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ct,shift:vn},{type:"elem",elem:Dt,shift:ei},{type:"elem",elem:_e,shift:-jt}]},R)}else{var Yn=jt-_e.depth-(ct.height-vn);Yn<fn&&(jt+=.5*(fn-Yn),vn+=.5*(fn-Yn)),zn=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:ct,shift:vn},{type:"elem",elem:_e,shift:-jt}]},R)}ae=R.havingStyle(P),zn.height*=ae.sizeMultiplier/R.sizeMultiplier,zn.depth*=ae.sizeMultiplier/R.sizeMultiplier;var mi;P.size===O.DISPLAY.size?mi=R.fontMetrics().delim1:P.size===O.SCRIPTSCRIPT.size?mi=R.havingStyle(O.SCRIPT).fontMetrics().delim2:mi=R.fontMetrics().delim2;var Ui,si;return E.leftDelim==null?Ui=Ay(R,["mopen"]):Ui=Eu.customSizedDelim(E.leftDelim,mi,!0,R.havingStyle(P),E.mode,["mopen"]),E.continued?si=ot.makeSpan([]):E.rightDelim==null?si=Ay(R,["mclose"]):si=Eu.customSizedDelim(E.rightDelim,mi,!0,R.havingStyle(P),E.mode,["mclose"]),ot.makeSpan(["mord"].concat(ae.sizingClasses(R)),[Ui,ot.makeSpan(["mfrac"],[zn]),si],R)},s3=function(E,R){var P=new on.MathNode("mfrac",[Ei(E.numer,R),Ei(E.denom,R)]);if(!E.hasBarLine)P.setAttribute("linethickness","0px");else if(E.barSize){var N=at(E.barSize,R);P.setAttribute("linethickness",G(N))}var K=AO(E.size,R.style);if(K.size!==R.style.size){P=new on.MathNode("mstyle",[P]);var ae=K.size===O.DISPLAY.size?"true":"false";P.setAttribute("displaystyle",ae),P.setAttribute("scriptlevel","0")}if(E.leftDelim!=null||E.rightDelim!=null){var _e=[];if(E.leftDelim!=null){var Be=new on.MathNode("mo",[new on.TextNode(E.leftDelim.replace("\\",""))]);Be.setAttribute("fence","true"),_e.push(Be)}if(_e.push(P),E.rightDelim!=null){var Ye=new on.MathNode("mo",[new on.TextNode(E.rightDelim.replace("\\",""))]);Ye.setAttribute("fence","true"),_e.push(Ye)}return $A(_e)}return P};nn({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0],ae=R[1],_e,Be=null,Ye=null,ct="auto";switch(N){case"\\dfrac":case"\\frac":case"\\tfrac":_e=!0;break;case"\\\\atopfrac":_e=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":_e=!1,Be="(",Ye=")";break;case"\\\\bracefrac":_e=!1,Be="\\{",Ye="\\}";break;case"\\\\brackfrac":_e=!1,Be="[",Ye="]";break;default:throw new Error("Unrecognized genfrac command")}switch(N){case"\\dfrac":case"\\dbinom":ct="display";break;case"\\tfrac":case"\\tbinom":ct="text";break}return{type:"genfrac",mode:P.mode,continued:!1,numer:K,denom:ae,hasBarLine:_e,leftDelim:Be,rightDelim:Ye,size:ct,barSize:null}},htmlBuilder:a3,mathmlBuilder:s3}),nn({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(E,R){var P=E.parser;E.funcName;var N=R[0],K=R[1];return{type:"genfrac",mode:P.mode,continued:!0,numer:N,denom:K,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),nn({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(E){var R=E.parser,P=E.funcName,N=E.token,K;switch(P){case"\\over":K="\\frac";break;case"\\choose":K="\\binom";break;case"\\atop":K="\\\\atopfrac";break;case"\\brace":K="\\\\bracefrac";break;case"\\brack":K="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:R.mode,replaceWith:K,token:N}}});var EO=["display","text","script","scriptscript"],IO=function(E){var R=null;return E.length>0&&(R=E,R=R==="."?null:R),R};nn({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(E,R){var P=E.parser,N=R[4],K=R[5],ae=Nr(R[0]),_e=ae.type==="atom"&&ae.family==="open"?IO(ae.text):null,Be=Nr(R[1]),Ye=Be.type==="atom"&&Be.family==="close"?IO(Be.text):null,ct=br(R[2],"size"),Dt,$t=null;ct.isBlank?Dt=!0:($t=ct.value,Dt=$t.number>0);var Xt="auto",jt=R[3];if(jt.type==="ordgroup"){if(jt.body.length>0){var fn=br(jt.body[0],"textord");Xt=EO[Number(fn.text)]}}else jt=br(jt,"textord"),Xt=EO[Number(jt.text)];return{type:"genfrac",mode:P.mode,numer:N,denom:K,continued:!1,hasBarLine:Dt,barSize:$t,leftDelim:_e,rightDelim:Ye,size:Xt}},htmlBuilder:a3,mathmlBuilder:s3}),nn({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(E,R){var P=E.parser;E.funcName;var N=E.token;return{type:"infix",mode:P.mode,replaceWith:"\\\\abovefrac",size:br(R[0],"size").value,token:N}}}),nn({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(E,R){var P=E.parser;E.funcName;var N=R[0],K=m(br(R[1],"infix").size),ae=R[2],_e=K.number>0;return{type:"genfrac",mode:P.mode,numer:N,denom:ae,continued:!1,hasBarLine:_e,barSize:K,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:a3,mathmlBuilder:s3});var RO=function(E,R){var P=R.style,N,K;E.type==="supsub"?(N=E.sup?Jr(E.sup,R.havingStyle(P.sup()),R):Jr(E.sub,R.havingStyle(P.sub()),R),K=br(E.base,"horizBrace")):K=br(E,"horizBrace");var ae=Jr(K.base,R.havingBaseStyle(O.DISPLAY)),_e=Au.svgSpan(K,R),Be;if(K.isOver?(Be=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:ae},{type:"kern",size:.1},{type:"elem",elem:_e}]},R),Be.children[0].children[0].children[1].classes.push("svg-align")):(Be=ot.makeVList({positionType:"bottom",positionData:ae.depth+.1+_e.height,children:[{type:"elem",elem:_e},{type:"kern",size:.1},{type:"elem",elem:ae}]},R),Be.children[0].children[0].children[0].classes.push("svg-align")),N){var Ye=ot.makeSpan(["mord",K.isOver?"mover":"munder"],[Be],R);K.isOver?Be=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Ye},{type:"kern",size:.2},{type:"elem",elem:N}]},R):Be=ot.makeVList({positionType:"bottom",positionData:Ye.depth+.2+N.height+N.depth,children:[{type:"elem",elem:N},{type:"kern",size:.2},{type:"elem",elem:Ye}]},R)}return ot.makeSpan(["mord",K.isOver?"mover":"munder"],[Be],R)},pse=function(E,R){var P=Au.mathMLnode(E.label);return new on.MathNode(E.isOver?"mover":"munder",[Ei(E.base,R),P])};nn({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName;return{type:"horizBrace",mode:P.mode,label:N,isOver:/^\\over/.test(N),base:R[0]}},htmlBuilder:RO,mathmlBuilder:pse}),nn({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[1],K=br(R[0],"url").url;return P.settings.isTrusted({command:"\\href",url:K})?{type:"href",mode:P.mode,href:K,body:ai(N)}:P.formatUnsupportedCmd("\\href")},htmlBuilder:function(E,R){var P=Ka(E.body,R,!1);return ot.makeAnchor(E.href,[],P,R)},mathmlBuilder:function(E,R){var P=Fd(E.body,R);return P instanceof jo||(P=new jo("mrow",[P])),P.setAttribute("href",E.href),P}}),nn({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=br(R[0],"url").url;if(!P.settings.isTrusted({command:"\\url",url:N}))return P.formatUnsupportedCmd("\\url");for(var K=[],ae=0;ae<N.length;ae++){var _e=N[ae];_e==="~"&&(_e="\\textasciitilde"),K.push({type:"textord",mode:"text",text:_e})}var Be={type:"text",mode:P.mode,font:"\\texttt",body:K};return{type:"href",mode:P.mode,href:N,body:ai(Be)}}}),nn({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(E,R){var P=E.parser;return{type:"hbox",mode:P.mode,body:ai(R[0])}},htmlBuilder:function(E,R){var P=Ka(E.body,R,!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){return new on.MathNode("mrow",Co(E.body,R))}}),nn({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName;E.token;var K=br(R[0],"raw").string,ae=R[1];P.settings.strict&&P.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var _e,Be={};switch(N){case"\\htmlClass":Be.class=K,_e={command:"\\htmlClass",class:K};break;case"\\htmlId":Be.id=K,_e={command:"\\htmlId",id:K};break;case"\\htmlStyle":Be.style=K,_e={command:"\\htmlStyle",style:K};break;case"\\htmlData":{for(var Ye=K.split(","),ct=0;ct<Ye.length;ct++){var Dt=Ye[ct].split("=");if(Dt.length!==2)throw new a("Error parsing key-value for \\htmlData");Be["data-"+Dt[0].trim()]=Dt[1].trim()}_e={command:"\\htmlData",attributes:Be};break}default:throw new Error("Unrecognized html command")}return P.settings.isTrusted(_e)?{type:"html",mode:P.mode,attributes:Be,body:ai(ae)}:P.formatUnsupportedCmd(N)},htmlBuilder:function(E,R){var P=Ka(E.body,R,!1),N=["enclosing"];E.attributes.class&&N.push.apply(N,E.attributes.class.trim().split(/\s+/));var K=ot.makeSpan(N,P,R);for(var ae in E.attributes)ae!=="class"&&E.attributes.hasOwnProperty(ae)&&K.setAttribute(ae,E.attributes[ae]);return K},mathmlBuilder:function(E,R){return Fd(E.body,R)}}),nn({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"htmlmathml",mode:P.mode,html:ai(R[0]),mathml:ai(R[1])}},htmlBuilder:function(E,R){var P=Ka(E.html,R,!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){return Fd(E.mathml,R)}});var o3=function(E){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(E))return{number:+E,unit:"bp"};var R=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(E);if(!R)throw new a("Invalid size: '"+E+"' in \\includegraphics");var P={number:+(R[1]+R[2]),unit:R[3]};if(!ft(P))throw new a("Invalid unit: '"+P.unit+"' in \\includegraphics.");return P};nn({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(E,R,P){var N=E.parser,K={number:0,unit:"em"},ae={number:.9,unit:"em"},_e={number:0,unit:"em"},Be="";if(P[0])for(var Ye=br(P[0],"raw").string,ct=Ye.split(","),Dt=0;Dt<ct.length;Dt++){var $t=ct[Dt].split("=");if($t.length===2){var Xt=$t[1].trim();switch($t[0].trim()){case"alt":Be=Xt;break;case"width":K=o3(Xt);break;case"height":ae=o3(Xt);break;case"totalheight":_e=o3(Xt);break;default:throw new a("Invalid key: '"+$t[0]+"' in \\includegraphics.")}}}var jt=br(R[0],"url").url;return Be===""&&(Be=jt,Be=Be.replace(/^.*[\\/]/,""),Be=Be.substring(0,Be.lastIndexOf("."))),N.settings.isTrusted({command:"\\includegraphics",url:jt})?{type:"includegraphics",mode:N.mode,alt:Be,width:K,height:ae,totalheight:_e,src:jt}:N.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(E,R){var P=at(E.height,R),N=0;E.totalheight.number>0&&(N=at(E.totalheight,R)-P);var K=0;E.width.number>0&&(K=at(E.width,R));var ae={height:G(P+N)};K>0&&(ae.width=G(K)),N>0&&(ae.verticalAlign=G(-N));var _e=new Ee(E.src,E.alt,ae);return _e.height=P,_e.depth=N,_e},mathmlBuilder:function(E,R){var P=new on.MathNode("mglyph",[]);P.setAttribute("alt",E.alt);var N=at(E.height,R),K=0;if(E.totalheight.number>0&&(K=at(E.totalheight,R)-N,P.setAttribute("valign",G(-K))),P.setAttribute("height",G(N+K)),E.width.number>0){var ae=at(E.width,R);P.setAttribute("width",G(ae))}return P.setAttribute("src",E.src),P}}),nn({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,K=br(R[0],"size");if(P.settings.strict){var ae=N[1]==="m",_e=K.value.unit==="mu";ae?(_e||P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+N+" supports only mu units, "+("not "+K.value.unit+" units")),P.mode!=="math"&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+N+" works only in math mode")):_e&&P.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+N+" doesn't support mu units")}return{type:"kern",mode:P.mode,dimension:K.value}},htmlBuilder:function(E,R){return ot.makeGlue(E.dimension,R)},mathmlBuilder:function(E,R){var P=at(E.dimension,R);return new on.SpaceNode(P)}}),nn({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0];return{type:"lap",mode:P.mode,alignment:N.slice(5),body:K}},htmlBuilder:function(E,R){var P;E.alignment==="clap"?(P=ot.makeSpan([],[Jr(E.body,R)]),P=ot.makeSpan(["inner"],[P],R)):P=ot.makeSpan(["inner"],[Jr(E.body,R)]);var N=ot.makeSpan(["fix"],[]),K=ot.makeSpan([E.alignment],[P,N],R),ae=ot.makeSpan(["strut"]);return ae.style.height=G(K.height+K.depth),K.depth&&(ae.style.verticalAlign=G(-K.depth)),K.children.unshift(ae),K=ot.makeSpan(["thinbox"],[K],R),ot.makeSpan(["mord","vbox"],[K],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Ei(E.body,R)]);if(E.alignment!=="rlap"){var N=E.alignment==="llap"?"-1":"-0.5";P.setAttribute("lspace",N+"width")}return P.setAttribute("width","0px"),P}}),nn({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(E,R){var P=E.funcName,N=E.parser,K=N.mode;N.switchMode("math");var ae=P==="\\("?"\\)":"$",_e=N.parseExpression(!1,ae);return N.expect(ae),N.switchMode(K),{type:"styling",mode:N.mode,style:"text",body:_e}}}),nn({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(E,R){throw new a("Mismatched "+E.funcName)}});var PO=function(E,R){switch(R.style.size){case O.DISPLAY.size:return E.display;case O.TEXT.size:return E.text;case O.SCRIPT.size:return E.script;case O.SCRIPTSCRIPT.size:return E.scriptscript;default:return E.text}};nn({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(E,R){var P=E.parser;return{type:"mathchoice",mode:P.mode,display:ai(R[0]),text:ai(R[1]),script:ai(R[2]),scriptscript:ai(R[3])}},htmlBuilder:function(E,R){var P=PO(E,R),N=Ka(P,R,!1);return ot.makeFragment(N)},mathmlBuilder:function(E,R){var P=PO(E,R);return Fd(P,R)}});var DO=function(E,R,P,N,K,ae,_e){E=ot.makeSpan([],[E]);var Be=P&&g.isCharacterBox(P),Ye,ct;if(R){var Dt=Jr(R,N.havingStyle(K.sup()),N);ct={elem:Dt,kern:Math.max(N.fontMetrics().bigOpSpacing1,N.fontMetrics().bigOpSpacing3-Dt.depth)}}if(P){var $t=Jr(P,N.havingStyle(K.sub()),N);Ye={elem:$t,kern:Math.max(N.fontMetrics().bigOpSpacing2,N.fontMetrics().bigOpSpacing4-$t.height)}}var Xt;if(ct&&Ye){var jt=N.fontMetrics().bigOpSpacing5+Ye.elem.height+Ye.elem.depth+Ye.kern+E.depth+_e;Xt=ot.makeVList({positionType:"bottom",positionData:jt,children:[{type:"kern",size:N.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ye.elem,marginLeft:G(-ae)},{type:"kern",size:Ye.kern},{type:"elem",elem:E},{type:"kern",size:ct.kern},{type:"elem",elem:ct.elem,marginLeft:G(ae)},{type:"kern",size:N.fontMetrics().bigOpSpacing5}]},N)}else if(Ye){var fn=E.height-_e;Xt=ot.makeVList({positionType:"top",positionData:fn,children:[{type:"kern",size:N.fontMetrics().bigOpSpacing5},{type:"elem",elem:Ye.elem,marginLeft:G(-ae)},{type:"kern",size:Ye.kern},{type:"elem",elem:E}]},N)}else if(ct){var vn=E.depth+_e;Xt=ot.makeVList({positionType:"bottom",positionData:vn,children:[{type:"elem",elem:E},{type:"kern",size:ct.kern},{type:"elem",elem:ct.elem,marginLeft:G(ae)},{type:"kern",size:N.fontMetrics().bigOpSpacing5}]},N)}else return E;var zn=[Xt];if(Ye&&ae!==0&&!Be){var Yn=ot.makeSpan(["mspace"],[],N);Yn.style.marginRight=G(ae),zn.unshift(Yn)}return ot.makeSpan(["mop","op-limits"],zn,N)},kO=["\\smallint"],Vm=function(E,R){var P,N,K=!1,ae;E.type==="supsub"?(P=E.sup,N=E.sub,ae=br(E.base,"op"),K=!0):ae=br(E,"op");var _e=R.style,Be=!1;_e.size===O.DISPLAY.size&&ae.symbol&&!g.contains(kO,ae.name)&&(Be=!0);var Ye;if(ae.symbol){var ct=Be?"Size2-Regular":"Size1-Regular",Dt="";if((ae.name==="\\oiint"||ae.name==="\\oiiint")&&(Dt=ae.name.substr(1),ae.name=Dt==="oiint"?"\\iint":"\\iiint"),Ye=ot.makeSymbol(ae.name,ct,"math",R,["mop","op-symbol",Be?"large-op":"small-op"]),Dt.length>0){var $t=Ye.italic,Xt=ot.staticSvg(Dt+"Size"+(Be?"2":"1"),R);Ye=ot.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Ye,shift:0},{type:"elem",elem:Xt,shift:Be?.08:0}]},R),ae.name="\\"+Dt,Ye.classes.unshift("mop"),Ye.italic=$t}}else if(ae.body){var jt=Ka(ae.body,R,!0);jt.length===1&&jt[0]instanceof nt?(Ye=jt[0],Ye.classes[0]="mop"):Ye=ot.makeSpan(["mop"],jt,R)}else{for(var fn=[],vn=1;vn<ae.name.length;vn++)fn.push(ot.mathsym(ae.name[vn],ae.mode,R));Ye=ot.makeSpan(["mop"],fn,R)}var zn=0,Yn=0;return(Ye instanceof nt||ae.name==="\\oiint"||ae.name==="\\oiiint")&&!ae.suppressBaseShift&&(zn=(Ye.height-Ye.depth)/2-R.fontMetrics().axisHeight,Yn=Ye.italic),K?DO(Ye,P,N,R,_e,Yn,zn):(zn&&(Ye.style.position="relative",Ye.style.top=G(zn)),Ye)},Py=function(E,R){var P;if(E.symbol)P=new jo("mo",[Zo(E.name,E.mode)]),g.contains(kO,E.name)&&P.setAttribute("largeop","false");else if(E.body)P=new jo("mo",Co(E.body,R));else{P=new jo("mi",[new Ey(E.name.slice(1))]);var N=new jo("mo",[Zo("⁡","text")]);E.parentIsSupSub?P=new jo("mrow",[P,N]):P=ZN([P,N])}return P},mse={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};nn({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:function(E,R){var P=E.parser,N=E.funcName,K=N;return K.length===1&&(K=mse[K]),{type:"op",mode:P.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:K}},htmlBuilder:Vm,mathmlBuilder:Py}),nn({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"op",mode:P.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ai(N)}},htmlBuilder:Vm,mathmlBuilder:Py});var vse={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};nn({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName;return{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:Vm,mathmlBuilder:Py}),nn({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName;return{type:"op",mode:R.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:P}},htmlBuilder:Vm,mathmlBuilder:Py}),nn({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler:function(E){var R=E.parser,P=E.funcName,N=P;return N.length===1&&(N=vse[N]),{type:"op",mode:R.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:N}},htmlBuilder:Vm,mathmlBuilder:Py});var LO={};function ze(se,E){LO[se]=E}var NO=function(E,R){var P,N,K=!1,ae;E.type==="supsub"?(P=E.sup,N=E.sub,ae=br(E.base,"operatorname"),K=!0):ae=br(E,"operatorname");var _e;if(ae.body.length>0){for(var Be=ae.body.map(function($t){var Xt=$t.text;return typeof Xt=="string"?{type:"textord",mode:$t.mode,text:Xt}:$t}),Ye=Ka(Be,R.withFont("mathrm"),!0),ct=0;ct<Ye.length;ct++){var Dt=Ye[ct];Dt instanceof nt&&(Dt.text=Dt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}_e=ot.makeSpan(["mop"],Ye,R)}else _e=ot.makeSpan(["mop"],[],R);return K?DO(_e,P,N,R,R.style,0,0):_e},gse=function(E,R){for(var P=Co(E.body,R.withFont("mathrm")),N=!0,K=0;K<P.length;K++){var ae=P[K];if(!(ae instanceof on.SpaceNode))if(ae instanceof on.MathNode)switch(ae.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var _e=ae.children[0];ae.children.length===1&&_e instanceof on.TextNode?_e.text=_e.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):N=!1;break}default:N=!1}else N=!1}if(N){var Be=P.map(function(Dt){return Dt.toText()}).join("");P=[new on.TextNode(Be)]}var Ye=new on.MathNode("mi",P);Ye.setAttribute("mathvariant","normal");var ct=new on.MathNode("mo",[Zo("⁡","text")]);return E.parentIsSupSub?new on.MathNode("mrow",[Ye,ct]):on.newDocumentFragment([Ye,ct])};nn({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0];return{type:"operatorname",mode:P.mode,body:ai(K),alwaysHandleSupSub:N==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:NO,mathmlBuilder:gse}),ze("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),xr({type:"ordgroup",htmlBuilder:function(E,R){return E.semisimple?ot.makeFragment(Ka(E.body,R,!1)):ot.makeSpan(["mord"],Ka(E.body,R,!0),R)},mathmlBuilder:function(E,R){return Fd(E.body,R,!0)}}),nn({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(E,R){var P=E.parser,N=R[0];return{type:"overline",mode:P.mode,body:N}},htmlBuilder:function(E,R){var P=Jr(E.body,R.havingCrampedStyle()),N=ot.makeLineSpan("overline-line",R),K=R.fontMetrics().defaultRuleThickness,ae=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P},{type:"kern",size:3*K},{type:"elem",elem:N},{type:"kern",size:K}]},R);return ot.makeSpan(["mord","overline"],[ae],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[new on.TextNode("‾")]);P.setAttribute("stretchy","true");var N=new on.MathNode("mover",[Ei(E.body,R),P]);return N.setAttribute("accent","true"),N}}),nn({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"phantom",mode:P.mode,body:ai(N)}},htmlBuilder:function(E,R){var P=Ka(E.body,R.withPhantom(),!1);return ot.makeFragment(P)},mathmlBuilder:function(E,R){var P=Co(E.body,R);return new on.MathNode("mphantom",P)}}),nn({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"hphantom",mode:P.mode,body:N}},htmlBuilder:function(E,R){var P=ot.makeSpan([],[Jr(E.body,R.withPhantom())]);if(P.height=0,P.depth=0,P.children)for(var N=0;N<P.children.length;N++)P.children[N].height=0,P.children[N].depth=0;return P=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R),ot.makeSpan(["mord"],[P],R)},mathmlBuilder:function(E,R){var P=Co(ai(E.body),R),N=new on.MathNode("mphantom",P),K=new on.MathNode("mpadded",[N]);return K.setAttribute("height","0px"),K.setAttribute("depth","0px"),K}}),nn({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser,N=R[0];return{type:"vphantom",mode:P.mode,body:N}},htmlBuilder:function(E,R){var P=ot.makeSpan(["inner"],[Jr(E.body,R.withPhantom())]),N=ot.makeSpan(["fix"],[]);return ot.makeSpan(["mord","rlap"],[P,N],R)},mathmlBuilder:function(E,R){var P=Co(ai(E.body),R),N=new on.MathNode("mphantom",P),K=new on.MathNode("mpadded",[N]);return K.setAttribute("width","0px"),K}}),nn({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(E,R){var P=E.parser,N=br(R[0],"size").value,K=R[1];return{type:"raisebox",mode:P.mode,dy:N,body:K}},htmlBuilder:function(E,R){var P=Jr(E.body,R),N=at(E.dy,R);return ot.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:P}]},R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Ei(E.body,R)]),N=E.dy.number+E.dy.unit;return P.setAttribute("voffset",N),P}}),nn({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(E,R,P){var N=E.parser,K=P[0],ae=br(R[0],"size"),_e=br(R[1],"size");return{type:"rule",mode:N.mode,shift:K&&br(K,"size").value,width:ae.value,height:_e.value}},htmlBuilder:function(E,R){var P=ot.makeSpan(["mord","rule"],[],R),N=at(E.width,R),K=at(E.height,R),ae=E.shift?at(E.shift,R):0;return P.style.borderRightWidth=G(N),P.style.borderTopWidth=G(K),P.style.bottom=G(ae),P.width=N,P.height=K+ae,P.depth=-ae,P.maxFontSize=K*1.125*R.sizeMultiplier,P},mathmlBuilder:function(E,R){var P=at(E.width,R),N=at(E.height,R),K=E.shift?at(E.shift,R):0,ae=R.color&&R.getColor()||"black",_e=new on.MathNode("mspace");_e.setAttribute("mathbackground",ae),_e.setAttribute("width",G(P)),_e.setAttribute("height",G(N));var Be=new on.MathNode("mpadded",[_e]);return K>=0?Be.setAttribute("height",G(K)):(Be.setAttribute("height",G(K)),Be.setAttribute("depth",G(-K))),Be.setAttribute("voffset",G(K)),Be}});function OO(se,E,R){for(var P=Ka(se,E,!1),N=E.sizeMultiplier/R.sizeMultiplier,K=0;K<P.length;K++){var ae=P[K].classes.indexOf("sizing");ae<0?Array.prototype.push.apply(P[K].classes,E.sizingClasses(R)):P[K].classes[ae+1]==="reset-size"+E.size&&(P[K].classes[ae+1]="reset-size"+R.size),P[K].height*=N,P[K].depth*=N}return ot.makeFragment(P)}var BO=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],yse=function(E,R){var P=R.havingSize(E.size);return OO(E.body,P,R)};nn({type:"sizing",names:BO,props:{numArgs:0,allowedInText:!0},handler:function(E,R){var P=E.breakOnTokenText,N=E.funcName,K=E.parser,ae=K.parseExpression(!1,P);return{type:"sizing",mode:K.mode,size:BO.indexOf(N)+1,body:ae}},htmlBuilder:yse,mathmlBuilder:function(E,R){var P=R.havingSize(E.size),N=Co(E.body,P),K=new on.MathNode("mstyle",N);return K.setAttribute("mathsize",G(P.sizeMultiplier)),K}}),nn({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(E,R,P){var N=E.parser,K=!1,ae=!1,_e=P[0]&&br(P[0],"ordgroup");if(_e)for(var Be="",Ye=0;Ye<_e.body.length;++Ye){var ct=_e.body[Ye];if(Be=ct.text,Be==="t")K=!0;else if(Be==="b")ae=!0;else{K=!1,ae=!1;break}}else K=!0,ae=!0;var Dt=R[0];return{type:"smash",mode:N.mode,body:Dt,smashHeight:K,smashDepth:ae}},htmlBuilder:function(E,R){var P=ot.makeSpan([],[Jr(E.body,R)]);if(!E.smashHeight&&!E.smashDepth)return P;if(E.smashHeight&&(P.height=0,P.children))for(var N=0;N<P.children.length;N++)P.children[N].height=0;if(E.smashDepth&&(P.depth=0,P.children))for(var K=0;K<P.children.length;K++)P.children[K].depth=0;var ae=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P}]},R);return ot.makeSpan(["mord"],[ae],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mpadded",[Ei(E.body,R)]);return E.smashHeight&&P.setAttribute("height","0px"),E.smashDepth&&P.setAttribute("depth","0px"),P}}),nn({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(E,R,P){var N=E.parser,K=P[0],ae=R[0];return{type:"sqrt",mode:N.mode,body:ae,index:K}},htmlBuilder:function(E,R){var P=Jr(E.body,R.havingCrampedStyle());P.height===0&&(P.height=R.fontMetrics().xHeight),P=ot.wrapFragment(P,R);var N=R.fontMetrics(),K=N.defaultRuleThickness,ae=K;R.style.id<O.TEXT.id&&(ae=R.fontMetrics().xHeight);var _e=K+ae/4,Be=P.height+P.depth+_e+K,Ye=Eu.sqrtImage(Be,R),ct=Ye.span,Dt=Ye.ruleWidth,$t=Ye.advanceWidth,Xt=ct.height-Dt;Xt>P.height+P.depth+_e&&(_e=(_e+Xt-P.height-P.depth)/2);var jt=ct.height-P.height-_e-Dt;P.style.paddingLeft=G($t);var fn=ot.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:P,wrapperClasses:["svg-align"]},{type:"kern",size:-(P.height+jt)},{type:"elem",elem:ct},{type:"kern",size:Dt}]},R);if(E.index){var vn=R.havingStyle(O.SCRIPTSCRIPT),zn=Jr(E.index,vn,R),Yn=.6*(fn.height-fn.depth),tr=ot.makeVList({positionType:"shift",positionData:-Yn,children:[{type:"elem",elem:zn}]},R),ei=ot.makeSpan(["root"],[tr]);return ot.makeSpan(["mord","sqrt"],[ei,fn],R)}else return ot.makeSpan(["mord","sqrt"],[fn],R)},mathmlBuilder:function(E,R){var P=E.body,N=E.index;return N?new on.MathNode("mroot",[Ei(P,R),Ei(N,R)]):new on.MathNode("msqrt",[Ei(P,R)])}});var FO={display:O.DISPLAY,text:O.TEXT,script:O.SCRIPT,scriptscript:O.SCRIPTSCRIPT};nn({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(E,R){var P=E.breakOnTokenText,N=E.funcName,K=E.parser,ae=K.parseExpression(!0,P),_e=N.slice(1,N.length-5);return{type:"styling",mode:K.mode,style:_e,body:ae}},htmlBuilder:function(E,R){var P=FO[E.style],N=R.havingStyle(P).withFont("");return OO(E.body,N,R)},mathmlBuilder:function(E,R){var P=FO[E.style],N=R.havingStyle(P),K=Co(E.body,N),ae=new on.MathNode("mstyle",K),_e={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},Be=_e[E.style];return ae.setAttribute("scriptlevel",Be[0]),ae.setAttribute("displaystyle",Be[1]),ae}});var bse=function(E,R){var P=E.base;if(P)if(P.type==="op"){var N=P.limits&&(R.style.size===O.DISPLAY.size||P.alwaysHandleSupSub);return N?Vm:null}else if(P.type==="operatorname"){var K=P.alwaysHandleSupSub&&(R.style.size===O.DISPLAY.size||P.limits);return K?NO:null}else{if(P.type==="accent")return g.isCharacterBox(P.base)?qA:null;if(P.type==="horizBrace"){var ae=!E.sub;return ae===P.isOver?RO:null}else return null}else return null};xr({type:"supsub",htmlBuilder:function(E,R){var P=bse(E,R);if(P)return P(E,R);var N=E.base,K=E.sup,ae=E.sub,_e=Jr(N,R),Be,Ye,ct=R.fontMetrics(),Dt=0,$t=0,Xt=N&&g.isCharacterBox(N);if(K){var jt=R.havingStyle(R.style.sup());Be=Jr(K,jt,R),Xt||(Dt=_e.height-jt.fontMetrics().supDrop*jt.sizeMultiplier/R.sizeMultiplier)}if(ae){var fn=R.havingStyle(R.style.sub());Ye=Jr(ae,fn,R),Xt||($t=_e.depth+fn.fontMetrics().subDrop*fn.sizeMultiplier/R.sizeMultiplier)}var vn;R.style===O.DISPLAY?vn=ct.sup1:R.style.cramped?vn=ct.sup3:vn=ct.sup2;var zn=R.sizeMultiplier,Yn=G(.5/ct.ptPerEm/zn),tr=null;if(Ye){var ei=E.base&&E.base.type==="op"&&E.base.name&&(E.base.name==="\\oiint"||E.base.name==="\\oiiint");(_e instanceof nt||ei)&&(tr=G(-_e.italic))}var mi;if(Be&&Ye){Dt=Math.max(Dt,vn,Be.depth+.25*ct.xHeight),$t=Math.max($t,ct.sub2);var Ui=ct.defaultRuleThickness,si=4*Ui;if(Dt-Be.depth-(Ye.height-$t)<si){$t=si-(Dt-Be.depth)+Ye.height;var vi=.8*ct.xHeight-(Dt-Be.depth);vi>0&&(Dt+=vi,$t-=vi)}var ia=[{type:"elem",elem:Ye,shift:$t,marginRight:Yn,marginLeft:tr},{type:"elem",elem:Be,shift:-Dt,marginRight:Yn}];mi=ot.makeVList({positionType:"individualShift",children:ia},R)}else if(Ye){$t=Math.max($t,ct.sub1,Ye.height-.8*ct.xHeight);var Ii=[{type:"elem",elem:Ye,marginLeft:tr,marginRight:Yn}];mi=ot.makeVList({positionType:"shift",positionData:$t,children:Ii},R)}else if(Be)Dt=Math.max(Dt,vn,Be.depth+.25*ct.xHeight),mi=ot.makeVList({positionType:"shift",positionData:-Dt,children:[{type:"elem",elem:Be,marginRight:Yn}]},R);else throw new Error("supsub must have either sup or sub.");var Mo=HA(_e,"right")||"mord";return ot.makeSpan([Mo],[_e,ot.makeSpan(["msupsub"],[mi])],R)},mathmlBuilder:function(E,R){var P=!1,N,K;E.base&&E.base.type==="horizBrace"&&(K=!!E.sup,K===E.base.isOver&&(P=!0,N=E.base.isOver)),E.base&&(E.base.type==="op"||E.base.type==="operatorname")&&(E.base.parentIsSupSub=!0);var ae=[Ei(E.base,R)];E.sub&&ae.push(Ei(E.sub,R)),E.sup&&ae.push(Ei(E.sup,R));var _e;if(P)_e=N?"mover":"munder";else if(E.sub)if(E.sup){var ct=E.base;ct&&ct.type==="op"&&ct.limits&&R.style===O.DISPLAY||ct&&ct.type==="operatorname"&&ct.alwaysHandleSupSub&&(R.style===O.DISPLAY||ct.limits)?_e="munderover":_e="msubsup"}else{var Ye=E.base;Ye&&Ye.type==="op"&&Ye.limits&&(R.style===O.DISPLAY||Ye.alwaysHandleSupSub)||Ye&&Ye.type==="operatorname"&&Ye.alwaysHandleSupSub&&(Ye.limits||R.style===O.DISPLAY)?_e="munder":_e="msub"}else{var Be=E.base;Be&&Be.type==="op"&&Be.limits&&(R.style===O.DISPLAY||Be.alwaysHandleSupSub)||Be&&Be.type==="operatorname"&&Be.alwaysHandleSupSub&&(Be.limits||R.style===O.DISPLAY)?_e="mover":_e="msup"}return new on.MathNode(_e,ae)}}),xr({type:"atom",htmlBuilder:function(E,R){return ot.mathsym(E.text,E.mode,R,["m"+E.family])},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[Zo(E.text,E.mode)]);if(E.family==="bin"){var N=GA(E,R);N==="bold-italic"&&P.setAttribute("mathvariant",N)}else E.family==="punct"?P.setAttribute("separator","true"):(E.family==="open"||E.family==="close")&&P.setAttribute("stretchy","false");return P}});var zO={mi:"italic",mn:"normal",mtext:"normal"};xr({type:"mathord",htmlBuilder:function(E,R){return ot.makeOrd(E,R,"mathord")},mathmlBuilder:function(E,R){var P=new on.MathNode("mi",[Zo(E.text,E.mode,R)]),N=GA(E,R)||"italic";return N!==zO[P.type]&&P.setAttribute("mathvariant",N),P}}),xr({type:"textord",htmlBuilder:function(E,R){return ot.makeOrd(E,R,"textord")},mathmlBuilder:function(E,R){var P=Zo(E.text,E.mode,R),N=GA(E,R)||"normal",K;return E.mode==="text"?K=new on.MathNode("mtext",[P]):/[0-9]/.test(E.text)?K=new on.MathNode("mn",[P]):E.text==="\\prime"?K=new on.MathNode("mo",[P]):K=new on.MathNode("mi",[P]),N!==zO[K.type]&&K.setAttribute("mathvariant",N),K}});var l3={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},c3={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};xr({type:"spacing",htmlBuilder:function(E,R){if(c3.hasOwnProperty(E.text)){var P=c3[E.text].className||"";if(E.mode==="text"){var N=ot.makeOrd(E,R,"textord");return N.classes.push(P),N}else return ot.makeSpan(["mspace",P],[ot.mathsym(E.text,E.mode,R)],R)}else{if(l3.hasOwnProperty(E.text))return ot.makeSpan(["mspace",l3[E.text]],[],R);throw new a('Unknown type of space "'+E.text+'"')}},mathmlBuilder:function(E,R){var P;if(c3.hasOwnProperty(E.text))P=new on.MathNode("mtext",[new on.TextNode(" ")]);else{if(l3.hasOwnProperty(E.text))return new on.MathNode("mspace");throw new a('Unknown type of space "'+E.text+'"')}return P}});var UO=function(){var E=new on.MathNode("mtd",[]);return E.setAttribute("width","50%"),E};xr({type:"tag",mathmlBuilder:function(E,R){var P=new on.MathNode("mtable",[new on.MathNode("mtr",[UO(),new on.MathNode("mtd",[Fd(E.body,R)]),UO(),new on.MathNode("mtd",[Fd(E.tag,R)])])]);return P.setAttribute("width","100%"),P}});var HO={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},VO={"\\textbf":"textbf","\\textmd":"textmd"},_se={"\\textit":"textit","\\textup":"textup"},$O=function(E,R){var P=E.font;return P?HO[P]?R.withTextFontFamily(HO[P]):VO[P]?R.withTextFontWeight(VO[P]):R.withTextFontShape(_se[P]):R};nn({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(E,R){var P=E.parser,N=E.funcName,K=R[0];return{type:"text",mode:P.mode,body:ai(K),font:N}},htmlBuilder:function(E,R){var P=$O(E,R),N=Ka(E.body,P,!0);return ot.makeSpan(["mord","text"],N,P)},mathmlBuilder:function(E,R){var P=$O(E,R);return Fd(E.body,P)}}),nn({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(E,R){var P=E.parser;return{type:"underline",mode:P.mode,body:R[0]}},htmlBuilder:function(E,R){var P=Jr(E.body,R),N=ot.makeLineSpan("underline-line",R),K=R.fontMetrics().defaultRuleThickness,ae=ot.makeVList({positionType:"top",positionData:P.height,children:[{type:"kern",size:K},{type:"elem",elem:N},{type:"kern",size:3*K},{type:"elem",elem:P}]},R);return ot.makeSpan(["mord","underline"],[ae],R)},mathmlBuilder:function(E,R){var P=new on.MathNode("mo",[new on.TextNode("‾")]);P.setAttribute("stretchy","true");var N=new on.MathNode("munder",[Ei(E.body,R),P]);return N.setAttribute("accentunder","true"),N}}),nn({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(E,R){var P=E.parser;return{type:"vcenter",mode:P.mode,body:R[0]}},htmlBuilder:function(E,R){var P=Jr(E.body,R),N=R.fontMetrics().axisHeight,K=.5*(P.height-N-(P.depth+N));return ot.makeVList({positionType:"shift",positionData:K,children:[{type:"elem",elem:P}]},R)},mathmlBuilder:function(E,R){return new on.MathNode("mpadded",[Ei(E.body,R)],["vcenter"])}}),nn({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(E,R,P){throw new a("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(E,R){for(var P=GO(E),N=[],K=R.havingStyle(R.style.text()),ae=0;ae<P.length;ae++){var _e=P[ae];_e==="~"&&(_e="\\textasciitilde"),N.push(ot.makeSymbol(_e,"Typewriter-Regular",E.mode,K,["mord","texttt"]))}return ot.makeSpan(["mord","text"].concat(K.sizingClasses(R)),ot.tryCombineChars(N),K)},mathmlBuilder:function(E,R){var P=new on.TextNode(GO(E)),N=new on.MathNode("mtext",[P]);return N.setAttribute("mathvariant","monospace"),N}});var GO=function(E){return E.body.replace(/ /g,E.star?"␣":" ")},wse=er,Ud=wse,Vl=function(){function se(E,R,P){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=E,this.start=R,this.end=P}return se.range=function(R,P){return P?!R||!R.loc||!P.loc||R.loc.lexer!==P.loc.lexer?null:new se(R.loc.lexer,R.loc.start,P.loc.end):R&&R.loc},se}(),Ah=function(){function se(R,P){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=R,this.loc=P}var E=se.prototype;return E.range=function(P,N){return new se(N,Vl.range(this,P))},se}(),WO=`[ \r
	]`,xse="\\\\[a-zA-Z@]+",Sse="\\\\[^\uD800-\uDFFF]",Cse="("+xse+")"+WO+"*",Mse=`\\\\(
|[ \r	]+
?)[ \r	]*`,u3="[̀-ͯ]",Tse=new RegExp(u3+"+$"),Ase="("+WO+"+)|"+(Mse+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(u3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(u3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+Cse)+("|"+Sse+")"),qO=function(){function se(R,P){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=R,this.settings=P,this.tokenRegex=new RegExp(Ase,"g"),this.catcodes={"%":14,"~":13}}var E=se.prototype;return E.setCatcode=function(P,N){this.catcodes[P]=N},E.lex=function(){var P=this.input,N=this.tokenRegex.lastIndex;if(N===P.length)return new Ah("EOF",new Vl(this,N,N));var K=this.tokenRegex.exec(P);if(K===null||K.index!==N)throw new a("Unexpected character: '"+P[N]+"'",new Ah(P[N],new Vl(this,N,N+1)));var ae=K[6]||K[3]||(K[2]?"\\ ":" ");if(this.catcodes[ae]===14){var _e=P.indexOf(`
`,this.tokenRegex.lastIndex);return _e===-1?(this.tokenRegex.lastIndex=P.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=_e+1,this.lex()}return new Ah(ae,new Vl(this,N,this.tokenRegex.lastIndex))},se}(),Ese=function(){function se(R,P){R===void 0&&(R={}),P===void 0&&(P={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=P,this.builtins=R,this.undefStack=[]}var E=se.prototype;return E.beginGroup=function(){this.undefStack.push({})},E.endGroup=function(){if(this.undefStack.length===0)throw new a("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var P=this.undefStack.pop();for(var N in P)P.hasOwnProperty(N)&&(P[N]===void 0?delete this.current[N]:this.current[N]=P[N])},E.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},E.has=function(P){return this.current.hasOwnProperty(P)||this.builtins.hasOwnProperty(P)},E.get=function(P){return this.current.hasOwnProperty(P)?this.current[P]:this.builtins[P]},E.set=function(P,N,K){if(K===void 0&&(K=!1),K){for(var ae=0;ae<this.undefStack.length;ae++)delete this.undefStack[ae][P];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][P]=N)}else{var _e=this.undefStack[this.undefStack.length-1];_e&&!_e.hasOwnProperty(P)&&(_e[P]=this.current[P])}this.current[P]=N},se}(),Ise=LO,Rse=Ise;ze("\\noexpand",function(se){var E=se.popToken();return se.isExpandable(E.text)&&(E.noexpand=!0,E.treatAsRelax=!0),{tokens:[E],numArgs:0}}),ze("\\expandafter",function(se){var E=se.popToken();return se.expandOnce(!0),{tokens:[E],numArgs:0}}),ze("\\@firstoftwo",function(se){var E=se.consumeArgs(2);return{tokens:E[0],numArgs:0}}),ze("\\@secondoftwo",function(se){var E=se.consumeArgs(2);return{tokens:E[1],numArgs:0}}),ze("\\@ifnextchar",function(se){var E=se.consumeArgs(3);se.consumeSpaces();var R=se.future();return E[0].length===1&&E[0][0].text===R.text?{tokens:E[1],numArgs:0}:{tokens:E[2],numArgs:0}}),ze("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),ze("\\TextOrMath",function(se){var E=se.consumeArgs(2);return se.mode==="text"?{tokens:E[0],numArgs:0}:{tokens:E[1],numArgs:0}});var KO={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};ze("\\char",function(se){var E=se.popToken(),R,P="";if(E.text==="'")R=8,E=se.popToken();else if(E.text==='"')R=16,E=se.popToken();else if(E.text==="`")if(E=se.popToken(),E.text[0]==="\\")P=E.text.charCodeAt(1);else{if(E.text==="EOF")throw new a("\\char` missing argument");P=E.text.charCodeAt(0)}else R=10;if(R){if(P=KO[E.text],P==null||P>=R)throw new a("Invalid base-"+R+" digit "+E.text);for(var N;(N=KO[se.future().text])!=null&&N<R;)P*=R,P+=N,se.popToken()}return"\\@char{"+P+"}"});var d3=function(E,R,P){var N=E.consumeArg().tokens;if(N.length!==1)throw new a("\\newcommand's first argument must be a macro name");var K=N[0].text,ae=E.isDefined(K);if(ae&&!R)throw new a("\\newcommand{"+K+"} attempting to redefine "+(K+"; use \\renewcommand"));if(!ae&&!P)throw new a("\\renewcommand{"+K+"} when command "+K+" does not yet exist; use \\newcommand");var _e=0;if(N=E.consumeArg().tokens,N.length===1&&N[0].text==="["){for(var Be="",Ye=E.expandNextToken();Ye.text!=="]"&&Ye.text!=="EOF";)Be+=Ye.text,Ye=E.expandNextToken();if(!Be.match(/^\s*[0-9]+\s*$/))throw new a("Invalid number of arguments: "+Be);_e=parseInt(Be),N=E.consumeArg().tokens}return E.macros.set(K,{tokens:N,numArgs:_e}),""};ze("\\newcommand",function(se){return d3(se,!1,!0)}),ze("\\renewcommand",function(se){return d3(se,!0,!1)}),ze("\\providecommand",function(se){return d3(se,!0,!0)}),ze("\\message",function(se){var E=se.consumeArgs(1)[0];return console.log(E.reverse().map(function(R){return R.text}).join("")),""}),ze("\\errmessage",function(se){var E=se.consumeArgs(1)[0];return console.error(E.reverse().map(function(R){return R.text}).join("")),""}),ze("\\show",function(se){var E=se.popToken(),R=E.text;return console.log(E,se.macros.get(R),Ud[R],Zn.math[R],Zn.text[R]),""}),ze("\\bgroup","{"),ze("\\egroup","}"),ze("~","\\nobreakspace"),ze("\\lq","`"),ze("\\rq","'"),ze("\\aa","\\r a"),ze("\\AA","\\r A"),ze("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),ze("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),ze("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),ze("ℬ","\\mathscr{B}"),ze("ℰ","\\mathscr{E}"),ze("ℱ","\\mathscr{F}"),ze("ℋ","\\mathscr{H}"),ze("ℐ","\\mathscr{I}"),ze("ℒ","\\mathscr{L}"),ze("ℳ","\\mathscr{M}"),ze("ℛ","\\mathscr{R}"),ze("ℭ","\\mathfrak{C}"),ze("ℌ","\\mathfrak{H}"),ze("ℨ","\\mathfrak{Z}"),ze("\\Bbbk","\\Bbb{k}"),ze("·","\\cdotp"),ze("\\llap","\\mathllap{\\textrm{#1}}"),ze("\\rlap","\\mathrlap{\\textrm{#1}}"),ze("\\clap","\\mathclap{\\textrm{#1}}"),ze("\\mathstrut","\\vphantom{(}"),ze("\\underbar","\\underline{\\text{#1}}"),ze("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),ze("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),ze("\\ne","\\neq"),ze("≠","\\neq"),ze("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),ze("∉","\\notin"),ze("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),ze("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),ze("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),ze("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),ze("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),ze("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),ze("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),ze("⟂","\\perp"),ze("‼","\\mathclose{!\\mkern-0.8mu!}"),ze("∌","\\notni"),ze("⌜","\\ulcorner"),ze("⌝","\\urcorner"),ze("⌞","\\llcorner"),ze("⌟","\\lrcorner"),ze("©","\\copyright"),ze("®","\\textregistered"),ze("️","\\textregistered"),ze("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),ze("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),ze("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),ze("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),ze("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),ze("⋮","\\vdots"),ze("\\varGamma","\\mathit{\\Gamma}"),ze("\\varDelta","\\mathit{\\Delta}"),ze("\\varTheta","\\mathit{\\Theta}"),ze("\\varLambda","\\mathit{\\Lambda}"),ze("\\varXi","\\mathit{\\Xi}"),ze("\\varPi","\\mathit{\\Pi}"),ze("\\varSigma","\\mathit{\\Sigma}"),ze("\\varUpsilon","\\mathit{\\Upsilon}"),ze("\\varPhi","\\mathit{\\Phi}"),ze("\\varPsi","\\mathit{\\Psi}"),ze("\\varOmega","\\mathit{\\Omega}"),ze("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),ze("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu"),ze("\\boxed","\\fbox{$\\displaystyle{#1}$}"),ze("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),ze("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),ze("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var YO={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};ze("\\dots",function(se){var E="\\dotso",R=se.expandAfterFuture().text;return R in YO?E=YO[R]:(R.substr(0,4)==="\\not"||R in Zn.math&&g.contains(["bin","rel"],Zn.math[R].group))&&(E="\\dotsb"),E});var f3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};ze("\\dotso",function(se){var E=se.future().text;return E in f3?"\\ldots\\,":"\\ldots"}),ze("\\dotsc",function(se){var E=se.future().text;return E in f3&&E!==","?"\\ldots\\,":"\\ldots"}),ze("\\cdots",function(se){var E=se.future().text;return E in f3?"\\@cdots\\,":"\\@cdots"}),ze("\\dotsb","\\cdots"),ze("\\dotsm","\\cdots"),ze("\\dotsi","\\!\\cdots"),ze("\\dotsx","\\ldots\\,"),ze("\\DOTSI","\\relax"),ze("\\DOTSB","\\relax"),ze("\\DOTSX","\\relax"),ze("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),ze("\\,","\\tmspace+{3mu}{.1667em}"),ze("\\thinspace","\\,"),ze("\\>","\\mskip{4mu}"),ze("\\:","\\tmspace+{4mu}{.2222em}"),ze("\\medspace","\\:"),ze("\\;","\\tmspace+{5mu}{.2777em}"),ze("\\thickspace","\\;"),ze("\\!","\\tmspace-{3mu}{.1667em}"),ze("\\negthinspace","\\!"),ze("\\negmedspace","\\tmspace-{4mu}{.2222em}"),ze("\\negthickspace","\\tmspace-{5mu}{.277em}"),ze("\\enspace","\\kern.5em "),ze("\\enskip","\\hskip.5em\\relax"),ze("\\quad","\\hskip1em\\relax"),ze("\\qquad","\\hskip2em\\relax"),ze("\\tag","\\@ifstar\\tag@literal\\tag@paren"),ze("\\tag@paren","\\tag@literal{({#1})}"),ze("\\tag@literal",function(se){if(se.macros.get("\\df@tag"))throw new a("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),ze("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),ze("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),ze("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),ze("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),ze("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),ze("\\newline","\\\\\\relax"),ze("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var XO=G(Pe["Main-Regular"]["T".charCodeAt(0)][1]-.7*Pe["Main-Regular"]["A".charCodeAt(0)][1]);ze("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+XO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),ze("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+XO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),ze("\\hspace","\\@ifstar\\@hspacer\\@hspace"),ze("\\@hspace","\\hskip #1\\relax"),ze("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),ze("\\ordinarycolon",":"),ze("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),ze("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),ze("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),ze("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),ze("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),ze("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),ze("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),ze("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),ze("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),ze("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),ze("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),ze("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),ze("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),ze("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),ze("∷","\\dblcolon"),ze("∹","\\eqcolon"),ze("≔","\\coloneqq"),ze("≕","\\eqqcolon"),ze("⩴","\\Coloneqq"),ze("\\ratio","\\vcentcolon"),ze("\\coloncolon","\\dblcolon"),ze("\\colonequals","\\coloneqq"),ze("\\coloncolonequals","\\Coloneqq"),ze("\\equalscolon","\\eqqcolon"),ze("\\equalscoloncolon","\\Eqqcolon"),ze("\\colonminus","\\coloneq"),ze("\\coloncolonminus","\\Coloneq"),ze("\\minuscolon","\\eqcolon"),ze("\\minuscoloncolon","\\Eqcolon"),ze("\\coloncolonapprox","\\Colonapprox"),ze("\\coloncolonsim","\\Colonsim"),ze("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ze("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ze("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),ze("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),ze("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),ze("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),ze("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),ze("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),ze("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),ze("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),ze("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),ze("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),ze("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),ze("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),ze("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),ze("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),ze("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),ze("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),ze("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),ze("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),ze("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),ze("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),ze("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),ze("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),ze("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),ze("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),ze("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),ze("\\imath","\\html@mathml{\\@imath}{ı}"),ze("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),ze("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),ze("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),ze("⟦","\\llbracket"),ze("⟧","\\rrbracket"),ze("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),ze("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),ze("⦃","\\lBrace"),ze("⦄","\\rBrace"),ze("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),ze("⦵","\\minuso"),ze("\\darr","\\downarrow"),ze("\\dArr","\\Downarrow"),ze("\\Darr","\\Downarrow"),ze("\\lang","\\langle"),ze("\\rang","\\rangle"),ze("\\uarr","\\uparrow"),ze("\\uArr","\\Uparrow"),ze("\\Uarr","\\Uparrow"),ze("\\N","\\mathbb{N}"),ze("\\R","\\mathbb{R}"),ze("\\Z","\\mathbb{Z}"),ze("\\alef","\\aleph"),ze("\\alefsym","\\aleph"),ze("\\Alpha","\\mathrm{A}"),ze("\\Beta","\\mathrm{B}"),ze("\\bull","\\bullet"),ze("\\Chi","\\mathrm{X}"),ze("\\clubs","\\clubsuit"),ze("\\cnums","\\mathbb{C}"),ze("\\Complex","\\mathbb{C}"),ze("\\Dagger","\\ddagger"),ze("\\diamonds","\\diamondsuit"),ze("\\empty","\\emptyset"),ze("\\Epsilon","\\mathrm{E}"),ze("\\Eta","\\mathrm{H}"),ze("\\exist","\\exists"),ze("\\harr","\\leftrightarrow"),ze("\\hArr","\\Leftrightarrow"),ze("\\Harr","\\Leftrightarrow"),ze("\\hearts","\\heartsuit"),ze("\\image","\\Im"),ze("\\infin","\\infty"),ze("\\Iota","\\mathrm{I}"),ze("\\isin","\\in"),ze("\\Kappa","\\mathrm{K}"),ze("\\larr","\\leftarrow"),ze("\\lArr","\\Leftarrow"),ze("\\Larr","\\Leftarrow"),ze("\\lrarr","\\leftrightarrow"),ze("\\lrArr","\\Leftrightarrow"),ze("\\Lrarr","\\Leftrightarrow"),ze("\\Mu","\\mathrm{M}"),ze("\\natnums","\\mathbb{N}"),ze("\\Nu","\\mathrm{N}"),ze("\\Omicron","\\mathrm{O}"),ze("\\plusmn","\\pm"),ze("\\rarr","\\rightarrow"),ze("\\rArr","\\Rightarrow"),ze("\\Rarr","\\Rightarrow"),ze("\\real","\\Re"),ze("\\reals","\\mathbb{R}"),ze("\\Reals","\\mathbb{R}"),ze("\\Rho","\\mathrm{P}"),ze("\\sdot","\\cdot"),ze("\\sect","\\S"),ze("\\spades","\\spadesuit"),ze("\\sub","\\subset"),ze("\\sube","\\subseteq"),ze("\\supe","\\supseteq"),ze("\\Tau","\\mathrm{T}"),ze("\\thetasym","\\vartheta"),ze("\\weierp","\\wp"),ze("\\Zeta","\\mathrm{Z}"),ze("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),ze("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),ze("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),ze("\\bra","\\mathinner{\\langle{#1}|}"),ze("\\ket","\\mathinner{|{#1}\\rangle}"),ze("\\braket","\\mathinner{\\langle{#1}\\rangle}"),ze("\\Bra","\\left\\langle#1\\right|"),ze("\\Ket","\\left|#1\\right\\rangle"),ze("\\angln","{\\angl n}"),ze("\\blue","\\textcolor{##6495ed}{#1}"),ze("\\orange","\\textcolor{##ffa500}{#1}"),ze("\\pink","\\textcolor{##ff00af}{#1}"),ze("\\red","\\textcolor{##df0030}{#1}"),ze("\\green","\\textcolor{##28ae7b}{#1}"),ze("\\gray","\\textcolor{gray}{#1}"),ze("\\purple","\\textcolor{##9d38bd}{#1}"),ze("\\blueA","\\textcolor{##ccfaff}{#1}"),ze("\\blueB","\\textcolor{##80f6ff}{#1}"),ze("\\blueC","\\textcolor{##63d9ea}{#1}"),ze("\\blueD","\\textcolor{##11accd}{#1}"),ze("\\blueE","\\textcolor{##0c7f99}{#1}"),ze("\\tealA","\\textcolor{##94fff5}{#1}"),ze("\\tealB","\\textcolor{##26edd5}{#1}"),ze("\\tealC","\\textcolor{##01d1c1}{#1}"),ze("\\tealD","\\textcolor{##01a995}{#1}"),ze("\\tealE","\\textcolor{##208170}{#1}"),ze("\\greenA","\\textcolor{##b6ffb0}{#1}"),ze("\\greenB","\\textcolor{##8af281}{#1}"),ze("\\greenC","\\textcolor{##74cf70}{#1}"),ze("\\greenD","\\textcolor{##1fab54}{#1}"),ze("\\greenE","\\textcolor{##0d923f}{#1}"),ze("\\goldA","\\textcolor{##ffd0a9}{#1}"),ze("\\goldB","\\textcolor{##ffbb71}{#1}"),ze("\\goldC","\\textcolor{##ff9c39}{#1}"),ze("\\goldD","\\textcolor{##e07d10}{#1}"),ze("\\goldE","\\textcolor{##a75a05}{#1}"),ze("\\redA","\\textcolor{##fca9a9}{#1}"),ze("\\redB","\\textcolor{##ff8482}{#1}"),ze("\\redC","\\textcolor{##f9685d}{#1}"),ze("\\redD","\\textcolor{##e84d39}{#1}"),ze("\\redE","\\textcolor{##bc2612}{#1}"),ze("\\maroonA","\\textcolor{##ffbde0}{#1}"),ze("\\maroonB","\\textcolor{##ff92c6}{#1}"),ze("\\maroonC","\\textcolor{##ed5fa6}{#1}"),ze("\\maroonD","\\textcolor{##ca337c}{#1}"),ze("\\maroonE","\\textcolor{##9e034e}{#1}"),ze("\\purpleA","\\textcolor{##ddd7ff}{#1}"),ze("\\purpleB","\\textcolor{##c6b9fc}{#1}"),ze("\\purpleC","\\textcolor{##aa87ff}{#1}"),ze("\\purpleD","\\textcolor{##7854ab}{#1}"),ze("\\purpleE","\\textcolor{##543b78}{#1}"),ze("\\mintA","\\textcolor{##f5f9e8}{#1}"),ze("\\mintB","\\textcolor{##edf2df}{#1}"),ze("\\mintC","\\textcolor{##e0e5cc}{#1}"),ze("\\grayA","\\textcolor{##f6f7f7}{#1}"),ze("\\grayB","\\textcolor{##f0f1f2}{#1}"),ze("\\grayC","\\textcolor{##e3e5e6}{#1}"),ze("\\grayD","\\textcolor{##d6d8da}{#1}"),ze("\\grayE","\\textcolor{##babec2}{#1}"),ze("\\grayF","\\textcolor{##888d93}{#1}"),ze("\\grayG","\\textcolor{##626569}{#1}"),ze("\\grayH","\\textcolor{##3b3e40}{#1}"),ze("\\grayI","\\textcolor{##21242c}{#1}"),ze("\\kaBlue","\\textcolor{##314453}{#1}"),ze("\\kaGreen","\\textcolor{##71B307}{#1}");var jO={"\\relax":!0,"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},Pse=function(){function se(R,P,N){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=P,this.expansionCount=0,this.feed(R),this.macros=new Ese(Rse,P.macros),this.mode=N,this.stack=[]}var E=se.prototype;return E.feed=function(P){this.lexer=new qO(P,this.settings)},E.switchMode=function(P){this.mode=P},E.beginGroup=function(){this.macros.beginGroup()},E.endGroup=function(){this.macros.endGroup()},E.endGroups=function(){this.macros.endGroups()},E.future=function(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},E.popToken=function(){return this.future(),this.stack.pop()},E.pushToken=function(P){this.stack.push(P)},E.pushTokens=function(P){var N;(N=this.stack).push.apply(N,P)},E.scanArgument=function(P){var N,K,ae;if(P){if(this.consumeSpaces(),this.future().text!=="[")return null;N=this.popToken();var _e=this.consumeArg(["]"]);ae=_e.tokens,K=_e.end}else{var Be=this.consumeArg();ae=Be.tokens,N=Be.start,K=Be.end}return this.pushToken(new Ah("EOF",K.loc)),this.pushTokens(ae),N.range(K,"")},E.consumeSpaces=function(){for(;;){var P=this.future();if(P.text===" ")this.stack.pop();else break}},E.consumeArg=function(P){var N=[],K=P&&P.length>0;K||this.consumeSpaces();var ae=this.future(),_e,Be=0,Ye=0;do{if(_e=this.popToken(),N.push(_e),_e.text==="{")++Be;else if(_e.text==="}"){if(--Be,Be===-1)throw new a("Extra }",_e)}else if(_e.text==="EOF")throw new a("Unexpected end of input in a macro argument, expected '"+(P&&K?P[Ye]:"}")+"'",_e);if(P&&K)if((Be===0||Be===1&&P[Ye]==="{")&&_e.text===P[Ye]){if(++Ye,Ye===P.length){N.splice(-Ye,Ye);break}}else Ye=0}while(Be!==0||K);return ae.text==="{"&&N[N.length-1].text==="}"&&(N.pop(),N.shift()),N.reverse(),{tokens:N,start:ae,end:_e}},E.consumeArgs=function(P,N){if(N){if(N.length!==P+1)throw new a("The length of delimiters doesn't match the number of args!");for(var K=N[0],ae=0;ae<K.length;ae++){var _e=this.popToken();if(K[ae]!==_e.text)throw new a("Use of the macro doesn't match its definition",_e)}}for(var Be=[],Ye=0;Ye<P;Ye++)Be.push(this.consumeArg(N&&N[Ye+1]).tokens);return Be},E.expandOnce=function(P){var N=this.popToken(),K=N.text,ae=N.noexpand?null:this._getExpansion(K);if(ae==null||P&&ae.unexpandable){if(P&&ae==null&&K[0]==="\\"&&!this.isDefined(K))throw new a("Undefined control sequence: "+K);return this.pushToken(N),N}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new a("Too many expansions: infinite loop or need to increase maxExpand setting");var _e=ae.tokens,Be=this.consumeArgs(ae.numArgs,ae.delimiters);if(ae.numArgs){_e=_e.slice();for(var Ye=_e.length-1;Ye>=0;--Ye){var ct=_e[Ye];if(ct.text==="#"){if(Ye===0)throw new a("Incomplete placeholder at end of macro body",ct);if(ct=_e[--Ye],ct.text==="#")_e.splice(Ye+1,1);else if(/^[1-9]$/.test(ct.text)){var Dt;(Dt=_e).splice.apply(Dt,[Ye,2].concat(Be[+ct.text-1]))}else throw new a("Not a valid argument number",ct)}}}return this.pushTokens(_e),_e},E.expandAfterFuture=function(){return this.expandOnce(),this.future()},E.expandNextToken=function(){for(;;){var P=this.expandOnce();if(P instanceof Ah)if(P.text==="\\relax"||P.treatAsRelax)this.stack.pop();else return this.stack.pop()}throw new Error},E.expandMacro=function(P){return this.macros.has(P)?this.expandTokens([new Ah(P)]):void 0},E.expandTokens=function(P){var N=[],K=this.stack.length;for(this.pushTokens(P);this.stack.length>K;){var ae=this.expandOnce(!0);ae instanceof Ah&&(ae.treatAsRelax&&(ae.noexpand=!1,ae.treatAsRelax=!1),N.push(this.stack.pop()))}return N},E.expandMacroAsText=function(P){var N=this.expandMacro(P);return N&&N.map(function(K){return K.text}).join("")},E._getExpansion=function(P){var N=this.macros.get(P);if(N==null)return N;if(P.length===1){var K=this.lexer.catcodes[P];if(K!=null&&K!==13)return}var ae=typeof N=="function"?N(this):N;if(typeof ae=="string"){var _e=0;if(ae.indexOf("#")!==-1)for(var Be=ae.replace(/##/g,"");Be.indexOf("#"+(_e+1))!==-1;)++_e;for(var Ye=new qO(ae,this.settings),ct=[],Dt=Ye.lex();Dt.text!=="EOF";)ct.push(Dt),Dt=Ye.lex();ct.reverse();var $t={tokens:ct,numArgs:_e};return $t}return ae},E.isDefined=function(P){return this.macros.has(P)||Ud.hasOwnProperty(P)||Zn.math.hasOwnProperty(P)||Zn.text.hasOwnProperty(P)||jO.hasOwnProperty(P)},E.isExpandable=function(P){var N=this.macros.get(P);return N!=null?typeof N=="string"||typeof N=="function"||!N.unexpandable:Ud.hasOwnProperty(P)&&!Ud[P].primitive},se}(),h3={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},ZO={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"},QO=function(){function se(R,P){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new Pse(R,P,this.mode),this.settings=P,this.leftrightDepth=0}var E=se.prototype;return E.expect=function(P,N){if(N===void 0&&(N=!0),this.fetch().text!==P)throw new a("Expected '"+P+"', got '"+this.fetch().text+"'",this.fetch());N&&this.consume()},E.consume=function(){this.nextToken=null},E.fetch=function(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},E.switchMode=function(P){this.mode=P,this.gullet.switchMode(P)},E.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var P=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),P}finally{this.gullet.endGroups()}},E.parseExpression=function(P,N){for(var K=[];;){this.mode==="math"&&this.consumeSpaces();var ae=this.fetch();if(se.endOfExpression.indexOf(ae.text)!==-1||N&&ae.text===N||P&&Ud[ae.text]&&Ud[ae.text].infix)break;var _e=this.parseAtom(N);if(_e){if(_e.type==="internal")continue}else break;K.push(_e)}return this.mode==="text"&&this.formLigatures(K),this.handleInfixNodes(K)},E.handleInfixNodes=function(P){for(var N=-1,K,ae=0;ae<P.length;ae++)if(P[ae].type==="infix"){if(N!==-1)throw new a("only one infix operator per group",P[ae].token);N=ae,K=P[ae].replaceWith}if(N!==-1&&K){var _e,Be,Ye=P.slice(0,N),ct=P.slice(N+1);Ye.length===1&&Ye[0].type==="ordgroup"?_e=Ye[0]:_e={type:"ordgroup",mode:this.mode,body:Ye},ct.length===1&&ct[0].type==="ordgroup"?Be=ct[0]:Be={type:"ordgroup",mode:this.mode,body:ct};var Dt;return K==="\\\\abovefrac"?Dt=this.callFunction(K,[_e,P[N],Be],[]):Dt=this.callFunction(K,[_e,Be],[]),[Dt]}else return P},E.handleSupSubscript=function(P){var N=this.fetch(),K=N.text;this.consume(),this.consumeSpaces();var ae=this.parseGroup(P);if(!ae)throw new a("Expected group after '"+K+"'",N);return ae},E.formatUnsupportedCmd=function(P){for(var N=[],K=0;K<P.length;K++)N.push({type:"textord",mode:"text",text:P[K]});var ae={type:"text",mode:this.mode,body:N},_e={type:"color",mode:this.mode,color:this.settings.errorColor,body:[ae]};return _e},E.parseAtom=function(P){var N=this.parseGroup("atom",P);if(this.mode==="text")return N;for(var K,ae;;){this.consumeSpaces();var _e=this.fetch();if(_e.text==="\\limits"||_e.text==="\\nolimits"){if(N&&N.type==="op"){var Be=_e.text==="\\limits";N.limits=Be,N.alwaysHandleSupSub=!0}else if(N&&N.type==="operatorname")N.alwaysHandleSupSub&&(N.limits=_e.text==="\\limits");else throw new a("Limit controls must follow a math operator",_e);this.consume()}else if(_e.text==="^"){if(K)throw new a("Double superscript",_e);K=this.handleSupSubscript("superscript")}else if(_e.text==="_"){if(ae)throw new a("Double subscript",_e);ae=this.handleSupSubscript("subscript")}else if(_e.text==="'"){if(K)throw new a("Double superscript",_e);var Ye={type:"textord",mode:this.mode,text:"\\prime"},ct=[Ye];for(this.consume();this.fetch().text==="'";)ct.push(Ye),this.consume();this.fetch().text==="^"&&ct.push(this.handleSupSubscript("superscript")),K={type:"ordgroup",mode:this.mode,body:ct}}else break}return K||ae?{type:"supsub",mode:this.mode,base:N,sup:K,sub:ae}:N},E.parseFunction=function(P,N){var K=this.fetch(),ae=K.text,_e=Ud[ae];if(!_e)return null;if(this.consume(),N&&N!=="atom"&&!_e.allowedInArgument)throw new a("Got function '"+ae+"' with no arguments"+(N?" as "+N:""),K);if(this.mode==="text"&&!_e.allowedInText)throw new a("Can't use function '"+ae+"' in text mode",K);if(this.mode==="math"&&_e.allowedInMath===!1)throw new a("Can't use function '"+ae+"' in math mode",K);var Be=this.parseArguments(ae,_e),Ye=Be.args,ct=Be.optArgs;return this.callFunction(ae,Ye,ct,K,P)},E.callFunction=function(P,N,K,ae,_e){var Be={funcName:P,parser:this,token:ae,breakOnTokenText:_e},Ye=Ud[P];if(Ye&&Ye.handler)return Ye.handler(Be,N,K);throw new a("No function handler for "+P)},E.parseArguments=function(P,N){var K=N.numArgs+N.numOptionalArgs;if(K===0)return{args:[],optArgs:[]};for(var ae=[],_e=[],Be=0;Be<K;Be++){var Ye=N.argTypes&&N.argTypes[Be],ct=Be<N.numOptionalArgs;(N.primitive&&Ye==null||N.type==="sqrt"&&Be===1&&_e[0]==null)&&(Ye="primitive");var Dt=this.parseGroupOfType("argument to '"+P+"'",Ye,ct);if(ct)_e.push(Dt);else if(Dt!=null)ae.push(Dt);else throw new a("Null argument, please report this as a bug")}return{args:ae,optArgs:_e}},E.parseGroupOfType=function(P,N,K){switch(N){case"color":return this.parseColorGroup(K);case"size":return this.parseSizeGroup(K);case"url":return this.parseUrlGroup(K);case"math":case"text":return this.parseArgumentGroup(K,N);case"hbox":{var ae=this.parseArgumentGroup(K,"text");return ae!=null?{type:"styling",mode:ae.mode,body:[ae],style:"text"}:null}case"raw":{var _e=this.parseStringGroup("raw",K);return _e!=null?{type:"raw",mode:"text",string:_e.text}:null}case"primitive":{if(K)throw new a("A primitive argument cannot be optional");var Be=this.parseGroup(P);if(Be==null)throw new a("Expected group as "+P,this.fetch());return Be}case"original":case null:case void 0:return this.parseArgumentGroup(K);default:throw new a("Unknown group type as "+P,this.fetch())}},E.consumeSpaces=function(){for(;this.fetch().text===" ";)this.consume()},E.parseStringGroup=function(P,N){var K=this.gullet.scanArgument(N);if(K==null)return null;for(var ae="",_e;(_e=this.fetch()).text!=="EOF";)ae+=_e.text,this.consume();return this.consume(),K.text=ae,K},E.parseRegexGroup=function(P,N){for(var K=this.fetch(),ae=K,_e="",Be;(Be=this.fetch()).text!=="EOF"&&P.test(_e+Be.text);)ae=Be,_e+=ae.text,this.consume();if(_e==="")throw new a("Invalid "+N+": '"+K.text+"'",K);return K.range(ae,_e)},E.parseColorGroup=function(P){var N=this.parseStringGroup("color",P);if(N==null)return null;var K=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(N.text);if(!K)throw new a("Invalid color: '"+N.text+"'",N);var ae=K[0];return/^[0-9a-f]{6}$/i.test(ae)&&(ae="#"+ae),{type:"color-token",mode:this.mode,color:ae}},E.parseSizeGroup=function(P){var N,K=!1;if(this.gullet.consumeSpaces(),!P&&this.gullet.future().text!=="{"?N=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):N=this.parseStringGroup("size",P),!N)return null;!P&&N.text.length===0&&(N.text="0pt",K=!0);var ae=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(N.text);if(!ae)throw new a("Invalid size: '"+N.text+"'",N);var _e={number:+(ae[1]+ae[2]),unit:ae[3]};if(!ft(_e))throw new a("Invalid unit: '"+_e.unit+"'",N);return{type:"size",mode:this.mode,value:_e,isBlank:K}},E.parseUrlGroup=function(P){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var N=this.parseStringGroup("url",P);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),N==null)return null;var K=N.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:K}},E.parseArgumentGroup=function(P,N){var K=this.gullet.scanArgument(P);if(K==null)return null;var ae=this.mode;N&&this.switchMode(N),this.gullet.beginGroup();var _e=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var Be={type:"ordgroup",mode:this.mode,loc:K.loc,body:_e};return N&&this.switchMode(ae),Be},E.parseGroup=function(P,N){var K=this.fetch(),ae=K.text,_e;if(ae==="{"||ae==="\\begingroup"){this.consume();var Be=ae==="{"?"}":"\\endgroup";this.gullet.beginGroup();var Ye=this.parseExpression(!1,Be),ct=this.fetch();this.expect(Be),this.gullet.endGroup(),_e={type:"ordgroup",mode:this.mode,loc:Vl.range(K,ct),body:Ye,semisimple:ae==="\\begingroup"||void 0}}else if(_e=this.parseFunction(N,P)||this.parseSymbol(),_e==null&&ae[0]==="\\"&&!jO.hasOwnProperty(ae)){if(this.settings.throwOnError)throw new a("Undefined control sequence: "+ae,K);_e=this.formatUnsupportedCmd(ae),this.consume()}return _e},E.formLigatures=function(P){for(var N=P.length-1,K=0;K<N;++K){var ae=P[K],_e=ae.text;_e==="-"&&P[K+1].text==="-"&&(K+1<N&&P[K+2].text==="-"?(P.splice(K,3,{type:"textord",mode:"text",loc:Vl.range(ae,P[K+2]),text:"---"}),N-=2):(P.splice(K,2,{type:"textord",mode:"text",loc:Vl.range(ae,P[K+1]),text:"--"}),N-=1)),(_e==="'"||_e==="`")&&P[K+1].text===_e&&(P.splice(K,2,{type:"textord",mode:"text",loc:Vl.range(ae,P[K+1]),text:_e+_e}),N-=1)}},E.parseSymbol=function(){var P=this.fetch(),N=P.text;if(/^\\verb[^a-zA-Z]/.test(N)){this.consume();var K=N.slice(5),ae=K.charAt(0)==="*";if(ae&&(K=K.slice(1)),K.length<2||K.charAt(0)!==K.slice(-1))throw new a(`\\verb assertion failed --
                    please report what input caused this bug`);return K=K.slice(1,-1),{type:"verb",mode:"text",body:K,star:ae}}ZO.hasOwnProperty(N[0])&&!Zn[this.mode][N[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+N[0]+'" used in math mode',P),N=ZO[N[0]]+N.substr(1));var _e=Tse.exec(N);_e&&(N=N.substring(0,_e.index),N==="i"?N="ı":N==="j"&&(N="ȷ"));var Be;if(Zn[this.mode][N]){this.settings.strict&&this.mode==="math"&&vr.indexOf(N)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+N[0]+'" used in math mode',P);var Ye=Zn[this.mode][N].group,ct=Vl.range(P),Dt;if(lr.hasOwnProperty(Ye)){var $t=Ye;Dt={type:"atom",mode:this.mode,family:$t,loc:ct,text:N}}else Dt={type:Ye,mode:this.mode,loc:ct,text:N};Be=Dt}else if(N.charCodeAt(0)>=128)this.settings.strict&&(te(N.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+N[0]+'" used in math mode',P):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+N[0]+'"'+(" ("+N.charCodeAt(0)+")"),P)),Be={type:"textord",mode:"text",loc:Vl.range(P),text:N};else return null;if(this.consume(),_e)for(var Xt=0;Xt<_e[0].length;Xt++){var jt=_e[0][Xt];if(!h3[jt])throw new a("Unknown accent ' "+jt+"'",P);var fn=h3[jt][this.mode]||h3[jt].text;if(!fn)throw new a("Accent "+jt+" unsupported in "+this.mode+" mode",P);Be={type:"accent",mode:this.mode,loc:Vl.range(P),label:fn,isStretchy:!1,isShifty:!0,base:Be}}return Be},se}();QO.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Dse=function(E,R){if(!(typeof E=="string"||E instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var P=new QO(E,R);delete P.gullet.macros.current["\\df@tag"];var N=P.parse();if(delete P.gullet.macros.current["\\current@color"],delete P.gullet.macros.current["\\color"],P.gullet.macros.get("\\df@tag")){if(!R.displayMode)throw new a("\\tag works only in display equations");P.gullet.feed("\\df@tag"),N=[{type:"tag",mode:"text",body:N,tag:P.parse()}]}return N},p3=Dse,JO=function(E,R,P){R.textContent="";var N=m3(E,P).toNode();R.appendChild(N)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),JO=function(){throw new a("KaTeX doesn't work in quirks mode.")});var kse=function(E,R){var P=m3(E,R).toMarkup();return P},Lse=function(E,R){var P=new y(R);return p3(E,P)},eB=function(E,R,P){if(P.throwOnError||!(E instanceof a))throw E;var N=ot.makeSpan(["katex-error"],[new nt(R)]);return N.setAttribute("title",E.toString()),N.setAttribute("style","color:"+P.errorColor),N},m3=function(E,R){var P=new y(R);try{var N=p3(E,P);return zae(N,E,P)}catch(K){return eB(K,E,P)}},Nse=function(E,R){var P=new y(R);try{var N=p3(E,P);return Uae(N,E,P)}catch(K){return eB(K,E,P)}},Ose={version:"0.13.24",render:JO,renderToString:kse,ParseError:a,__parse:Lse,__renderToDomTree:m3,__renderToHTMLTree:Nse,__setFontMetrics:Ve,__defineSymbol:Y,__defineMacro:ze,__domTree:{Span:Me,Anchor:ht,SymbolNode:nt,SvgNode:gt,PathNode:Lt,LineNode:At}},Bse=Ose;return r=r.default,r}()})})(dre);var hYe=dre.exports;const pYe=xu(hYe),mYe=(n,e={},t)=>{const{props:r,domProps:i,on:a,...s}=e,o={...s,...r,...i,...(l=>l?Object.entries(l).reduce((c,[u,d])=>({...c,[u=`on${u=u.charAt(0).toUpperCase()+u.slice(1)}`]:d}),{}):null)(a)};return Gt(n,o,t)};var eC=Re({name:"VueLatex",props:{fontsize:{type:Number,default:16},expression:{type:String,required:!0},displayMode:{type:Boolean,default:!1},throwOnError:{type:Boolean,default:!1},errorColor:{type:String,default:void 0},minRuleThickness:{type:Number,default:.04},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:n=>({html:U(()=>pYe.renderToString(n.expression,n))}),render(){return mYe(this.displayMode?"div":"span",{domProps:{innerHTML:this.html},style:{"font-size":`${this.fontsize}px`}})}});eC.install=n=>{n.component(eC.name,eC)};const vYe=Re({components:{VueLatex:eC}}),gYe=ve("h1",{class:"section-title"},"Latex",-1),yYe=ve("a",{href:"https://katex.org/docs/options.html",target:"_blank"},"KaTex",-1),bYe=ve("a",{href:"https://github.com/Shimada666/VaTex",target:"_blank"},"VaTex",-1);function _Ye(n,e,t,r,i,a){const s=Et("el-divider"),o=Et("el-row"),l=Et("VueLatex"),c=Et("el-col");return V(),he("div",null,[ue(s),ue(o,{justify:"center"},{default:be(()=>[gYe]),_:1}),ue(o,{justify:"center"},{default:be(()=>[ue(c,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[ve("p",null,[dn(" Thanks to "),yYe,dn(" and "),bYe,dn(", now we can show an inline "),ue(l,{expression:"\\LaTeX"}),dn(" formula, like "),ue(l,{expression:"1+1=2"}),dn(". And we can show an interline formula like this: "),ue(l,{expression:`
            D(x) = \\begin{cases}
            \\lim\\limits_{x \\to 0} \\frac{a^x}{b+c}, & x<3 \\\\
            \\pi, & x=3 \\\\
            \\int_a^{3b}x_{ij}+e^2 \\mathrm{d}x,& x>3 \\\\
            \\end{cases}
          `,"display-mode":""})])]),_:1})]),_:1})])}const wYe=Ga(vYe,[["render",_Ye]]);/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const B8="143",m0={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},v0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},xYe=0,BV=1,SYe=2,fre=1,CYe=2,F1=3,ch=0,yc=1,uh=2,MYe=1,Hf=0,qv=1,FV=2,zV=3,UV=4,TYe=5,lv=100,AYe=101,EYe=102,HV=103,VV=104,IYe=200,RYe=201,PYe=202,DYe=203,hre=204,pre=205,kYe=206,LYe=207,NYe=208,OYe=209,BYe=210,FYe=0,zYe=1,UYe=2,qP=3,HYe=4,VYe=5,$Ye=6,GYe=7,AA=0,WYe=1,qYe=2,dd=0,KYe=1,YYe=2,XYe=3,jYe=4,ZYe=5,F8=300,ym=301,bm=302,w_=303,MM=304,ww=306,uo=1e3,Ma=1001,x_=1002,Ba=1003,TM=1004,AM=1005,ma=1006,z8=1007,Od=1008,_m=1009,QYe=1010,JYe=1011,mre=1012,eXe=1013,zp=1014,kf=1015,S_=1016,tXe=1017,nXe=1018,Kv=1020,rXe=1021,iXe=1022,_l=1023,aXe=1024,sXe=1025,nm=1026,Mg=1027,oXe=1028,lXe=1029,cXe=1030,uXe=1031,dXe=1033,tC=33776,O4=33777,nC=33778,rC=33779,$V=35840,GV=35841,WV=35842,qV=35843,vre=36196,KV=37492,YV=37496,XV=37808,jV=37809,ZV=37810,QV=37811,JV=37812,e$=37813,t$=37814,n$=37815,r$=37816,i$=37817,a$=37818,s$=37819,o$=37820,l$=37821,c$=36492,fXe=2200,hXe=2201,pXe=2202,C_=2300,Tg=2301,B4=2302,xv=2400,Sv=2401,EM=2402,U8=2500,mXe=2501,vXe=1,gre=2,dh=3e3,Er=3001,gXe=3200,yXe=3201,Om=0,bXe=1,Zu="srgb",Up="srgb-linear",F4=7680,_Xe=519,KP=35044,u$="300 es",YP=1035;let Sh=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}};const ds=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let d$=1234567;const Yv=Math.PI/180,M_=180/Math.PI;function Tl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ds[n&255]+ds[n>>8&255]+ds[n>>16&255]+ds[n>>24&255]+"-"+ds[e&255]+ds[e>>8&255]+"-"+ds[e>>16&15|64]+ds[e>>24&255]+"-"+ds[t&63|128]+ds[t>>8&255]+"-"+ds[t>>16&255]+ds[t>>24&255]+ds[r&255]+ds[r>>8&255]+ds[r>>16&255]+ds[r>>24&255]).toLowerCase()}function Sa(n,e,t){return Math.max(e,Math.min(t,n))}function H8(n,e){return(n%e+e)%e}function wXe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function xXe(n,e,t){return n!==e?(t-n)/(e-n):0}function hb(n,e,t){return(1-t)*n+t*e}function SXe(n,e,t,r){return hb(n,e,1-Math.exp(-t*r))}function CXe(n,e=1){return e-Math.abs(H8(n,e*2)-e)}function MXe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function TXe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function AXe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function EXe(n,e){return n+Math.random()*(e-n)}function IXe(n){return n*(.5-Math.random())}function RXe(n){n!==void 0&&(d$=n);let e=d$+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function PXe(n){return n*Yv}function DXe(n){return n*M_}function XP(n){return(n&n-1)===0&&n!==0}function yre(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function IM(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function kXe(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+r)/2),u=s((e+r)/2),d=a((e-r)/2),f=s((e-r)/2),h=a((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":n.set(o*u,l*d,l*f,o*c);break;case"YZY":n.set(l*f,o*u,l*d,o*c);break;case"ZXZ":n.set(l*d,l*f,o*u,o*c);break;case"XZX":n.set(o*u,l*p,l*h,o*c);break;case"YXY":n.set(l*h,o*u,l*p,o*c);break;case"ZYZ":n.set(l*p,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function LXe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function NXe(n,e){switch(e.constructor){case Float32Array:return n;case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}var Ss=Object.freeze({__proto__:null,DEG2RAD:Yv,RAD2DEG:M_,generateUUID:Tl,clamp:Sa,euclideanModulo:H8,mapLinear:wXe,inverseLerp:xXe,lerp:hb,damp:SXe,pingpong:CXe,smoothstep:MXe,smootherstep:TXe,randInt:AXe,randFloat:EXe,randFloatSpread:IXe,seededRandom:RXe,degToRad:PXe,radToDeg:DXe,isPowerOfTwo:XP,ceilPowerOfTwo:yre,floorPowerOfTwo:IM,setQuaternionFromProperEuler:kXe,normalize:NXe,denormalize:LXe});let Wt=class bre{constructor(e=0,t=0){bre.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},wl=class _re{constructor(){_re.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],v=i[3],g=i[6],y=i[1],b=i[4],_=i[7],x=i[2],S=i[5],T=i[8];return a[0]=s*m+o*y+l*x,a[3]=s*v+o*b+l*S,a[6]=s*g+o*_+l*T,a[1]=c*m+u*y+d*x,a[4]=c*v+u*b+d*S,a[7]=c*g+u*_+d*T,a[2]=f*m+h*y+p*x,a[5]=f*v+h*b+p*S,a[8]=f*g+h*_+p*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*s-o*c,f=o*l-u*a,h=c*a-s*l,p=t*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(o*r-i*s)*m,e[3]=f*m,e[4]=(u*t-i*l)*m,e[5]=(i*a-o*t)*m,e[6]=h*m,e[7]=(r*l-c*t)*m,e[8]=(s*t-r*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){const r=this.elements;return r[0]*=e,r[3]*=e,r[6]*=e,r[1]*=t,r[4]*=t,r[7]*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.elements,a=i[0],s=i[3],o=i[6],l=i[1],c=i[4],u=i[7];return i[0]=t*a+r*l,i[3]=t*s+r*c,i[6]=t*o+r*u,i[1]=-r*a+t*l,i[4]=-r*s+t*c,i[7]=-r*o+t*u,this}translate(e,t){const r=this.elements;return r[0]+=e*r[2],r[3]+=e*r[5],r[6]+=e*r[8],r[1]+=t*r[2],r[4]+=t*r[5],r[7]+=t*r[8],this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}};function wre(n){for(let e=n.length-1;e>=0;--e)if(n[e]>65535)return!0;return!1}const OXe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Cv(n,e){return new OXe[n](e)}function T_(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function rm(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function iC(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}const z4={[Zu]:{[Up]:rm},[Up]:{[Zu]:iC}},ql={legacyMode:!0,get workingColorSpace(){return Up},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(this.legacyMode||e===t||!e||!t)return n;if(z4[e]&&z4[e][t]!==void 0){const r=z4[e][t];return n.r=r(n.r),n.g=r(n.g),n.b=r(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}},xre={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ba={r:0,g:0,b:0},Kl={h:0,s:0,l:0},rS={h:0,s:0,l:0};function U4(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}function iS(n,e){return e.r=n.r,e.g=n.g,e.b=n.b,e}let bn=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Zu){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ql.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=Up){return this.r=e,this.g=t,this.b=r,ql.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=Up){if(e=H8(e,1),t=Sa(t,0,1),r=Sa(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=U4(s,a,e+1/3),this.g=U4(s,a,e),this.b=U4(s,a,e-1/3)}return ql.toWorkingColorSpace(this,i),this}setStyle(e,t=Zu){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,ql.toWorkingColorSpace(this,t),r(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,ql.toWorkingColorSpace(this,t),r(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){const l=parseFloat(a[1])/360,c=parseInt(a[2],10)/100,u=parseInt(a[3],10)/100;return r(a[4]),this.setHSL(l,c,u,t)}break}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,ql.toWorkingColorSpace(this,t),this;if(s===6)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,ql.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Zu){const r=xre[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rm(e.r),this.g=rm(e.g),this.b=rm(e.b),this}copyLinearToSRGB(e){return this.r=iC(e.r),this.g=iC(e.g),this.b=iC(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Zu){return ql.fromWorkingColorSpace(iS(this,ba),e),Sa(ba.r*255,0,255)<<16^Sa(ba.g*255,0,255)<<8^Sa(ba.b*255,0,255)<<0}getHexString(e=Zu){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Up){ql.fromWorkingColorSpace(iS(this,ba),t);const r=ba.r,i=ba.g,a=ba.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=u<=.5?d/(s+o):d/(2-s-o),s){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Up){return ql.fromWorkingColorSpace(iS(this,ba),t),e.r=ba.r,e.g=ba.g,e.b=ba.b,e}getStyle(e=Zu){return ql.fromWorkingColorSpace(iS(this,ba),e),e!==Zu?`color(${e} ${ba.r} ${ba.g} ${ba.b})`:`rgb(${ba.r*255|0},${ba.g*255|0},${ba.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(Kl),Kl.h+=e,Kl.s+=t,Kl.l+=r,this.setHSL(Kl.h,Kl.s,Kl.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Kl),e.getHSL(rS);const r=hb(Kl.h,rS.h,t),i=hb(Kl.s,rS.s,t),a=hb(Kl.l,rS.l,t);return this.setHSL(r,i,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};bn.NAMES=xre;let g0,Sre=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{g0===void 0&&(g0=T_("canvas")),g0.width=e.width,g0.height=e.height;const r=g0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=g0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=T_("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=rm(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(rm(t[r]/255)*255):t[r]=rm(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},Mv=class{constructor(e=null){this.isSource=!0,this.uuid=Tl(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(H4(i[s].image)):a.push(H4(i[s]))}else a=H4(i);r.url=a}return t||(e.images[this.uuid]=r),r}};function H4(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?Sre.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let BXe=0,as=class jP extends Sh{constructor(e=jP.DEFAULT_IMAGE,t=jP.DEFAULT_MAPPING,r=Ma,i=Ma,a=ma,s=Od,o=_l,l=_m,c=1,u=dh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:BXe++}),this.uuid=Tl(),this.name="",this.source=new Mv(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Wt(0,0),this.repeat=new Wt(1,1),this.center=new Wt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wl,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==F8)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case uo:e.x=e.x-Math.floor(e.x);break;case Ma:e.x=e.x<0?0:1;break;case x_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case uo:e.y=e.y-Math.floor(e.y);break;case Ma:e.y=e.y<0?0:1;break;case x_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};as.DEFAULT_IMAGE=null;as.DEFAULT_MAPPING=F8;let ri=class Cre{constructor(e=0,t=0,r=0,i=1){Cre.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],v=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+v)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(h+1)/2,x=(g+1)/2,S=(u+f)/4,T=(d+m)/4,C=(p+v)/4;return b>_&&b>x?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=S/r,a=T/r):_>x?_<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(_),r=S/i,a=C/i):x<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(x),r=T/a,i=C/a),this.set(r,i,a,t),this}let y=Math.sqrt((v-p)*(v-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(v-p)/y,this.y=(d-m)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},wm=class extends Sh{constructor(e,t,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new ri(0,0,e,t),this.scissorTest=!1,this.viewport=new ri(0,0,e,t);const i={width:e,height:t,depth:1};this.texture=new as(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:ma,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Mv(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},Mre=class extends as{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ba,this.minFilter=Ba,this.wrapR=Ma,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},FXe=class extends as{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Ba,this.minFilter=Ba,this.wrapR=Ma,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},es=class{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=a[s+0],h=a[s+1],p=a[s+2],m=a[s+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(o===1){e[t+0]=f,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let v=1-o;const g=l*f+c*h+u*p+d*m,y=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const x=Math.sqrt(b),S=Math.atan2(x,g*y);v=Math.sin(v*S)/x,o=Math.sin(o*S)/x}const _=o*y;if(l=l*v+f*_,c=c*v+h*_,u=u*v+p*_,d=d*v+m*_,v===1-o){const x=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=x,c*=x,u*=x,d*=x}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=a[s],f=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+u*d+l*h-c*f,e[t+1]=l*p+u*f+c*d-o*h,e[t+2]=c*p+u*h+o*f-l*d,e[t+3]=u*p-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),d=o(a/2),f=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>d){const h=2*Math.sqrt(1+r-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-r-d);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sa(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-t;return this._w=h*s+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*a+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=a*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(a),r*Math.cos(a),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},Xe=class Tre{constructor(e=0,t=0,r=0){Tre.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(f$.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(f$.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=l*t+s*i-o*r,u=l*r+o*t-a*i,d=l*i+a*r-s*t,f=-a*t-s*r-o*i;return this.x=c*l+f*-a+u*-o-d*-s,this.y=u*l+f*-s+d*-a-c*-o,this.z=d*l+f*-o+c*-s-u*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return V4.copy(this).projectOnVector(e),this.sub(V4)}reflect(e){return this.sub(V4.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Sa(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}};const V4=new Xe,f$=new es;let Bm=class{constructor(e=new Xe(1/0,1/0,1/0),t=new Xe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let l=0,c=e.length;l<c;l+=3){const u=e[l],d=e[l+1],f=e[l+2];u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>a&&(a=u),d>s&&(s=d),f>o&&(o=f)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromBufferAttribute(e){let t=1/0,r=1/0,i=1/0,a=-1/0,s=-1/0,o=-1/0;for(let l=0,c=e.count;l<c;l++){const u=e.getX(l),d=e.getY(l),f=e.getZ(l);u<t&&(t=u),d<r&&(r=d),f<i&&(i=f),u>a&&(a=u),d>s&&(s=d),f>o&&(o=f)}return this.min.set(t,r,i),this.max.set(a,s,o),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=np.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){const a=r.attributes.position;for(let s=0,o=a.count;s<o;s++)np.fromBufferAttribute(a,s).applyMatrix4(e.matrixWorld),this.expandByPoint(np)}else r.boundingBox===null&&r.computeBoundingBox(),$4.copy(r.boundingBox),$4.applyMatrix4(e.matrixWorld),this.union($4);const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,np),np.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(u1),aS.subVectors(this.max,u1),y0.subVectors(e.a,u1),b0.subVectors(e.b,u1),_0.subVectors(e.c,u1),Zd.subVectors(b0,y0),Qd.subVectors(_0,b0),rp.subVectors(y0,_0);let t=[0,-Zd.z,Zd.y,0,-Qd.z,Qd.y,0,-rp.z,rp.y,Zd.z,0,-Zd.x,Qd.z,0,-Qd.x,rp.z,0,-rp.x,-Zd.y,Zd.x,0,-Qd.y,Qd.x,0,-rp.y,rp.x,0];return!G4(t,y0,b0,_0,aS)||(t=[1,0,0,0,1,0,0,0,1],!G4(t,y0,b0,_0,aS))?!1:(sS.crossVectors(Zd,Qd),t=[sS.x,sS.y,sS.z],G4(t,y0,b0,_0,aS))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return np.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(np).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ku[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ku[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ku[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ku[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ku[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ku[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ku[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ku[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ku),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};const ku=[new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe,new Xe],np=new Xe,$4=new Bm,y0=new Xe,b0=new Xe,_0=new Xe,Zd=new Xe,Qd=new Xe,rp=new Xe,u1=new Xe,aS=new Xe,sS=new Xe,ip=new Xe;function G4(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){ip.fromArray(n,a);const o=i.x*Math.abs(ip.x)+i.y*Math.abs(ip.y)+i.z*Math.abs(ip.z),l=e.dot(ip),c=t.dot(ip),u=r.dot(ip);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const zXe=new Bm,h$=new Xe,oS=new Xe,W4=new Xe;let Fm=class{constructor(e=new Xe,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):zXe.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){W4.subVectors(e,this.center);const t=W4.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.add(W4.multiplyScalar(i/r)),this.radius+=i}return this}union(e){return this.center.equals(e.center)===!0?oS.set(0,0,1).multiplyScalar(e.radius):oS.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(h$.copy(e.center).add(oS)),this.expandByPoint(h$.copy(e.center).sub(oS)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Lu=new Xe,q4=new Xe,lS=new Xe,Jd=new Xe,K4=new Xe,cS=new Xe,Y4=new Xe;let EA=class{constructor(e=new Xe,t=new Xe(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Lu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Lu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Lu.copy(this.direction).multiplyScalar(t).add(this.origin),Lu.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){q4.copy(e).add(t).multiplyScalar(.5),lS.copy(t).sub(e).normalize(),Jd.copy(this.origin).sub(q4);const a=e.distanceTo(t)*.5,s=-this.direction.dot(lS),o=Jd.dot(this.direction),l=-Jd.dot(lS),c=Jd.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-o,f=s*o-l,p=a*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*o)+f*(s*d+f+2*l)+c}else f=a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f=-a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*a+o)),f=d>0?-a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(d=Math.max(0,-(s*a+o)),f=d>0?a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c);else f=s>0?-a:a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.direction).multiplyScalar(d).add(this.origin),i&&i.copy(lS).multiplyScalar(f).add(q4),h}intersectSphere(e,t){Lu.subVectors(e.center,this.origin);const r=Lu.dot(this.direction),i=Lu.dot(Lu)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return o<0&&l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(a=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(a=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||a>i||((a>r||r!==r)&&(r=a),(s<i||i!==i)&&(i=s),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Lu)!==null}intersectTriangle(e,t,r,i,a){K4.subVectors(t,e),cS.subVectors(r,e),Y4.crossVectors(K4,cS);let s=this.direction.dot(Y4),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;Jd.subVectors(this.origin,e);const l=o*this.direction.dot(cS.crossVectors(Jd,cS));if(l<0)return null;const c=o*this.direction.dot(K4.cross(Jd));if(c<0||l+c>s)return null;const u=-o*Jd.dot(Y4);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Un=class ZP{constructor(){ZP.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=a,g[5]=s,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=m,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ZP().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/w0.setFromMatrixColumn(e,0).length(),a=1/w0.setFromMatrixColumn(e,1).length(),s=1/w0.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+p*c,t[5]=f-m*c,t[9]=-o*l,t[2]=m-f*c,t[6]=p+h*c,t[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f+m*o,t[4]=p*o-h,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-o,t[2]=h*o-p,t[6]=m+f*o,t[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f-m*o,t[4]=-s*d,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*u,t[9]=m-f*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=p*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-p,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=m-f*d,t[8]=p*d+h,t[1]=d,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=h*d+p,t[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=s*u,t[9]=h*d-p,t[2]=p*d-h,t[6]=o*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(UXe,e,HXe)}lookAt(e,t,r){const i=this.elements;return Eo.subVectors(e,t),Eo.lengthSq()===0&&(Eo.z=1),Eo.normalize(),ef.crossVectors(r,Eo),ef.lengthSq()===0&&(Math.abs(r.z)===1?Eo.x+=1e-4:Eo.z+=1e-4,Eo.normalize(),ef.crossVectors(r,Eo)),ef.normalize(),uS.crossVectors(Eo,ef),i[0]=ef.x,i[4]=uS.x,i[8]=Eo.x,i[1]=ef.y,i[5]=uS.y,i[9]=Eo.y,i[2]=ef.z,i[6]=uS.z,i[10]=Eo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],v=r[10],g=r[14],y=r[3],b=r[7],_=r[11],x=r[15],S=i[0],T=i[4],C=i[8],M=i[12],A=i[1],I=i[5],D=i[9],L=i[13],F=i[2],B=i[6],k=i[10],H=i[14],z=i[3],O=i[7],W=i[11],j=i[15];return a[0]=s*S+o*A+l*F+c*z,a[4]=s*T+o*I+l*B+c*O,a[8]=s*C+o*D+l*k+c*W,a[12]=s*M+o*L+l*H+c*j,a[1]=u*S+d*A+f*F+h*z,a[5]=u*T+d*I+f*B+h*O,a[9]=u*C+d*D+f*k+h*W,a[13]=u*M+d*L+f*H+h*j,a[2]=p*S+m*A+v*F+g*z,a[6]=p*T+m*I+v*B+g*O,a[10]=p*C+m*D+v*k+g*W,a[14]=p*M+m*L+v*H+g*j,a[3]=y*S+b*A+_*F+x*z,a[7]=y*T+b*I+_*B+x*O,a[11]=y*C+b*D+_*k+x*W,a[15]=y*M+b*L+_*H+x*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],v=e[11],g=e[15];return p*(+a*l*d-i*c*d-a*o*f+r*c*f+i*o*h-r*l*h)+m*(+t*l*h-t*c*f+a*s*f-i*s*h+i*c*u-a*l*u)+v*(+t*c*d-t*o*h-a*s*d+r*s*h+a*o*u-r*c*u)+g*(-i*o*u-t*l*d+t*o*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],v=e[14],g=e[15],y=d*v*c-m*f*c+m*l*h-o*v*h-d*l*g+o*f*g,b=p*f*c-u*v*c-p*l*h+s*v*h+u*l*g-s*f*g,_=u*m*c-p*d*c+p*o*h-s*m*h-u*o*g+s*d*g,x=p*d*l-u*m*l-p*o*f+s*m*f+u*o*v-s*d*v,S=t*y+r*b+i*_+a*x;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=y*T,e[1]=(m*f*a-d*v*a-m*i*h+r*v*h+d*i*g-r*f*g)*T,e[2]=(o*v*a-m*l*a+m*i*c-r*v*c-o*i*g+r*l*g)*T,e[3]=(d*l*a-o*f*a-d*i*c+r*f*c+o*i*h-r*l*h)*T,e[4]=b*T,e[5]=(u*v*a-p*f*a+p*i*h-t*v*h-u*i*g+t*f*g)*T,e[6]=(p*l*a-s*v*a-p*i*c+t*v*c+s*i*g-t*l*g)*T,e[7]=(s*f*a-u*l*a+u*i*c-t*f*c-s*i*h+t*l*h)*T,e[8]=_*T,e[9]=(p*d*a-u*m*a-p*r*h+t*m*h+u*r*g-t*d*g)*T,e[10]=(s*m*a-p*o*a+p*r*c-t*m*c-s*r*g+t*o*g)*T,e[11]=(u*o*a-s*d*a-u*r*c+t*d*c+s*r*h-t*o*h)*T,e[12]=x*T,e[13]=(u*m*i-p*d*i+p*r*f-t*m*f-u*r*v+t*d*v)*T,e[14]=(p*o*i-s*m*i-p*r*l+t*m*l+s*r*v-t*o*v)*T,e[15]=(s*d*i-u*o*i+u*r*l-t*d*l-s*r*f+t*o*f)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,u=s+s,d=o+o,f=a*c,h=a*u,p=a*d,m=s*u,v=s*d,g=o*d,y=l*c,b=l*u,_=l*d,x=r.x,S=r.y,T=r.z;return i[0]=(1-(m+g))*x,i[1]=(h+_)*x,i[2]=(p-b)*x,i[3]=0,i[4]=(h-_)*S,i[5]=(1-(f+g))*S,i[6]=(v+y)*S,i[7]=0,i[8]=(p+b)*T,i[9]=(v-y)*T,i[10]=(1-(f+m))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=w0.set(i[0],i[1],i[2]).length();const s=w0.set(i[4],i[5],i[6]).length(),o=w0.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Yl.copy(this);const c=1/a,u=1/s,d=1/o;return Yl.elements[0]*=c,Yl.elements[1]*=c,Yl.elements[2]*=c,Yl.elements[4]*=u,Yl.elements[5]*=u,Yl.elements[6]*=u,Yl.elements[8]*=d,Yl.elements[9]*=d,Yl.elements[10]*=d,t.setFromRotationMatrix(Yl),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s){const o=this.elements,l=2*a/(t-e),c=2*a/(r-i),u=(t+e)/(t-e),d=(r+i)/(r-i),f=-(s+a)/(s-a),h=-2*s*a/(s-a);return o[0]=l,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=c,o[9]=d,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,t,r,i,a,s){const o=this.elements,l=1/(t-e),c=1/(r-i),u=1/(s-a),d=(t+e)*l,f=(r+i)*c,h=(s+a)*u;return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-d,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}};const w0=new Xe,Yl=new Un,UXe=new Xe(0,0,0),HXe=new Xe(1,1,1),ef=new Xe,uS=new Xe,Eo=new Xe,p$=new Un,m$=new es;let od=class Are{constructor(e=0,t=0,r=0,i=Are.DefaultOrder){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Sa(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Sa(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Sa(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Sa(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Sa(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Sa(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return p$.makeRotationFromQuaternion(e),this.setFromRotationMatrix(p$,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return m$.setFromEuler(this),this.setFromQuaternion(m$,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}};od.DefaultOrder="XYZ";od.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];let V8=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},VXe=0;const v$=new Xe,x0=new es,Nu=new Un,dS=new Xe,d1=new Xe,$Xe=new Xe,GXe=new es,g$=new Xe(1,0,0),y$=new Xe(0,1,0),b$=new Xe(0,0,1),WXe={type:"added"},_$={type:"removed"};let Wi=class QP extends Sh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:VXe++}),this.uuid=Tl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=QP.DefaultUp.clone();const e=new Xe,t=new od,r=new es,i=new Xe(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Un},normalMatrix:{value:new wl}}),this.matrix=new Un,this.matrixWorld=new Un,this.matrixAutoUpdate=QP.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new V8,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return x0.setFromAxisAngle(e,t),this.quaternion.multiply(x0),this}rotateOnWorldAxis(e,t){return x0.setFromAxisAngle(e,t),this.quaternion.premultiply(x0),this}rotateX(e){return this.rotateOnAxis(g$,e)}rotateY(e){return this.rotateOnAxis(y$,e)}rotateZ(e){return this.rotateOnAxis(b$,e)}translateOnAxis(e,t){return v$.copy(e).applyQuaternion(this.quaternion),this.position.add(v$.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(g$,e)}translateY(e){return this.translateOnAxis(y$,e)}translateZ(e){return this.translateOnAxis(b$,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4(Nu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?dS.copy(e):dS.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),d1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Nu.lookAt(d1,dS,this.up):Nu.lookAt(dS,d1,this.up),this.quaternion.setFromRotationMatrix(Nu),i&&(Nu.extractRotation(i.matrixWorld),x0.setFromRotationMatrix(Nu),this.quaternion.premultiply(x0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(WXe)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(_$)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(_$)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Nu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Nu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Nu),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d1,e,$Xe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(d1,GXe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}};Wi.DefaultUp=new Xe(0,1,0);Wi.DefaultMatrixAutoUpdate=!0;const Xl=new Xe,Ou=new Xe,X4=new Xe,Bu=new Xe,S0=new Xe,C0=new Xe,w$=new Xe,j4=new Xe,Z4=new Xe,Q4=new Xe;let pb=class cv{constructor(e=new Xe,t=new Xe,r=new Xe){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Xl.subVectors(e,t),i.cross(Xl);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Xl.subVectors(i,t),Ou.subVectors(r,t),X4.subVectors(e,t);const s=Xl.dot(Xl),o=Xl.dot(Ou),l=Xl.dot(X4),c=Ou.dot(Ou),u=Ou.dot(X4),d=s*c-o*o;if(d===0)return a.set(-2,-1,-1);const f=1/d,h=(c*l-o*u)*f,p=(s*u-o*l)*f;return a.set(1-h-p,p,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Bu),Bu.x>=0&&Bu.y>=0&&Bu.x+Bu.y<=1}static getUV(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,Bu),l.set(0,0),l.addScaledVector(a,Bu.x),l.addScaledVector(s,Bu.y),l.addScaledVector(o,Bu.z),l}static isFrontFacing(e,t,r,i){return Xl.subVectors(r,t),Ou.subVectors(e,t),Xl.cross(Ou).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Xl.subVectors(this.c,this.b),Ou.subVectors(this.a,this.b),Xl.cross(Ou).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return cv.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return cv.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,a){return cv.getUV(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return cv.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return cv.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;S0.subVectors(i,r),C0.subVectors(a,r),j4.subVectors(e,r);const l=S0.dot(j4),c=C0.dot(j4);if(l<=0&&c<=0)return t.copy(r);Z4.subVectors(e,i);const u=S0.dot(Z4),d=C0.dot(Z4);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(S0,s);Q4.subVectors(e,a);const h=S0.dot(Q4),p=C0.dot(Q4);if(p>=0&&h<=p)return t.copy(a);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(r).addScaledVector(C0,o);const v=u*p-h*d;if(v<=0&&d-u>=0&&h-p>=0)return w$.subVectors(a,i),o=(d-u)/(d-u+(h-p)),t.copy(i).addScaledVector(w$,o);const g=1/(v+m+f);return s=m*g,o=f*g,t.copy(r).addScaledVector(S0,s).addScaledVector(C0,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},qXe=0,ya=class extends Sh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:qXe++}),this.uuid=Tl(),this.name="",this.type="Material",this.blending=qv,this.side=ch,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=hre,this.blendDst=pre,this.blendEquation=lv,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qP,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=_Xe,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=F4,this.stencilZFail=F4,this.stencilZPass=F4,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===MYe;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==qv&&(r.blending=this.blending),this.side!==ch&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),JSON.stringify(this.userData)!=="{}"&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},hc=class extends ya{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=AA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}};const ha=new Xe,fS=new Wt;let ea=class{constructor(e,t,r){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r===!0,this.usage=KP,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),s=new bn),t[r++]=s.r,t[r++]=s.g,t[r++]=s.b}return this}copyVector2sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),s=new Wt),t[r++]=s.x,t[r++]=s.y}return this}copyVector3sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),s=new Xe),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z}return this}copyVector4sArray(e){const t=this.array;let r=0;for(let i=0,a=e.length;i<a;i++){let s=e[i];s===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),s=new ri),t[r++]=s.x,t[r++]=s.y,t[r++]=s.z,t[r++]=s.w}return this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)fS.fromBufferAttribute(this,t),fS.applyMatrix3(e),this.setXY(t,fS.x,fS.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.applyMatrix3(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.applyMatrix4(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.applyNormalMatrix(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ha.fromBufferAttribute(this,t),ha.transformDirection(e),this.setXYZ(t,ha.x,ha.y,ha.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==KP&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}},$8=class extends ea{constructor(e,t,r){super(new Uint16Array(e),t,r)}},Ere=class extends ea{constructor(e,t,r){super(new Uint32Array(e),t,r)}},En=class extends ea{constructor(e,t,r){super(new Float32Array(e),t,r)}},KXe=0;const tl=new Un,J4=new Wi,M0=new Xe,Io=new Bm,f1=new Bm,La=new Xe;let Hr=class Ire extends Sh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:KXe++}),this.uuid=Tl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(wre(e)?Ere:$8)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new wl().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return tl.makeRotationFromQuaternion(e),this.applyMatrix4(tl),this}rotateX(e){return tl.makeRotationX(e),this.applyMatrix4(tl),this}rotateY(e){return tl.makeRotationY(e),this.applyMatrix4(tl),this}rotateZ(e){return tl.makeRotationZ(e),this.applyMatrix4(tl),this}translate(e,t,r){return tl.makeTranslation(e,t,r),this.applyMatrix4(tl),this}scale(e,t,r){return tl.makeScale(e,t,r),this.applyMatrix4(tl),this}lookAt(e){return J4.lookAt(e),J4.updateMatrix(),this.applyMatrix4(J4.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(M0).negate(),this.translate(M0.x,M0.y,M0.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];t.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new En(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Bm);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Xe(-1/0,-1/0,-1/0),new Xe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Io.setFromBufferAttribute(a),this.morphTargetsRelative?(La.addVectors(this.boundingBox.min,Io.min),this.boundingBox.expandByPoint(La),La.addVectors(this.boundingBox.max,Io.max),this.boundingBox.expandByPoint(La)):(this.boundingBox.expandByPoint(Io.min),this.boundingBox.expandByPoint(Io.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fm);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Xe,1/0);return}if(e){const r=this.boundingSphere.center;if(Io.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];f1.setFromBufferAttribute(o),this.morphTargetsRelative?(La.addVectors(Io.min,f1.min),Io.expandByPoint(La),La.addVectors(Io.max,f1.max),Io.expandByPoint(La)):(Io.expandByPoint(f1.min),Io.expandByPoint(f1.max))}Io.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)La.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(La));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)La.fromBufferAttribute(o,c),l&&(M0.fromBufferAttribute(e,c),La.add(M0)),i=Math.max(i,r.distanceToSquared(La))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,a=t.normal.array,s=t.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ea(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let A=0;A<o;A++)c[A]=new Xe,u[A]=new Xe;const d=new Xe,f=new Xe,h=new Xe,p=new Wt,m=new Wt,v=new Wt,g=new Xe,y=new Xe;function b(A,I,D){d.fromArray(i,A*3),f.fromArray(i,I*3),h.fromArray(i,D*3),p.fromArray(s,A*2),m.fromArray(s,I*2),v.fromArray(s,D*2),f.sub(d),h.sub(d),m.sub(p),v.sub(p);const L=1/(m.x*v.y-v.x*m.y);isFinite(L)&&(g.copy(f).multiplyScalar(v.y).addScaledVector(h,-m.y).multiplyScalar(L),y.copy(h).multiplyScalar(m.x).addScaledVector(f,-v.x).multiplyScalar(L),c[A].add(g),c[I].add(g),c[D].add(g),u[A].add(y),u[I].add(y),u[D].add(y))}let _=this.groups;_.length===0&&(_=[{start:0,count:r.length}]);for(let A=0,I=_.length;A<I;++A){const D=_[A],L=D.start,F=D.count;for(let B=L,k=L+F;B<k;B+=3)b(r[B+0],r[B+1],r[B+2])}const x=new Xe,S=new Xe,T=new Xe,C=new Xe;function M(A){T.fromArray(a,A*3),C.copy(T);const I=c[A];x.copy(I),x.sub(T.multiplyScalar(T.dot(I))).normalize(),S.crossVectors(C,I);const L=S.dot(u[A])<0?-1:1;l[A*4]=x.x,l[A*4+1]=x.y,l[A*4+2]=x.z,l[A*4+3]=L}for(let A=0,I=_.length;A<I;++A){const D=_[A],L=D.start,F=D.count;for(let B=L,k=L+F;B<k;B+=3)M(r[B+0]),M(r[B+1]),M(r[B+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ea(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Xe,a=new Xe,s=new Xe,o=new Xe,l=new Xe,c=new Xe,u=new Xe,d=new Xe;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,v),o.add(u),l.add(u),c.add(u),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const r=this.attributes;for(const i in r){if(e.attributes[i]===void 0)continue;const s=r[i].array,o=e.attributes[i],l=o.array,c=o.itemSize*t,u=Math.min(l.length,s.length-c);for(let d=0,f=c;d<u;d++,f++)s[f]=l[d]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)La.fromBufferAttribute(e,t),La.normalize(),e.setXYZ(t,La.x,La.y,La.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,v=l.length;m<v;m++){o.isInterleavedBufferAttribute?h=l[m]*o.data.stride+o.offset:h=l[m]*u;for(let g=0;g<u;g++)f[p++]=c[h++]}return new ea(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ire,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}};const x$=new Un,T0=new EA,eI=new Fm,tf=new Xe,nf=new Xe,rf=new Xe,tI=new Xe,nI=new Xe,rI=new Xe,hS=new Xe,pS=new Xe,mS=new Xe,vS=new Wt,gS=new Wt,yS=new Wt,iI=new Xe,bS=new Xe;let Ta=class extends Wi{constructor(e=new Hr,t=new hc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;if(i===void 0||(r.boundingSphere===null&&r.computeBoundingSphere(),eI.copy(r.boundingSphere),eI.applyMatrix4(a),e.ray.intersectsSphere(eI)===!1)||(x$.copy(a).invert(),T0.copy(e.ray).applyMatrix4(x$),r.boundingBox!==null&&T0.intersectsBox(r.boundingBox)===!1))return;let s;const o=r.index,l=r.attributes.position,c=r.morphAttributes.position,u=r.morphTargetsRelative,d=r.attributes.uv,f=r.attributes.uv2,h=r.groups,p=r.drawRange;if(o!==null)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],y=i[g.materialIndex],b=Math.max(g.start,p.start),_=Math.min(o.count,Math.min(g.start+g.count,p.start+p.count));for(let x=b,S=_;x<S;x+=3){const T=o.getX(x),C=o.getX(x+1),M=o.getX(x+2);s=_S(this,y,e,T0,l,c,u,d,f,T,C,M),s&&(s.faceIndex=Math.floor(x/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const m=Math.max(0,p.start),v=Math.min(o.count,p.start+p.count);for(let g=m,y=v;g<y;g+=3){const b=o.getX(g),_=o.getX(g+1),x=o.getX(g+2);s=_S(this,i,e,T0,l,c,u,d,f,b,_,x),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}else if(l!==void 0)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const g=h[m],y=i[g.materialIndex],b=Math.max(g.start,p.start),_=Math.min(l.count,Math.min(g.start+g.count,p.start+p.count));for(let x=b,S=_;x<S;x+=3){const T=x,C=x+1,M=x+2;s=_S(this,y,e,T0,l,c,u,d,f,T,C,M),s&&(s.faceIndex=Math.floor(x/3),s.face.materialIndex=g.materialIndex,t.push(s))}}else{const m=Math.max(0,p.start),v=Math.min(l.count,p.start+p.count);for(let g=m,y=v;g<y;g+=3){const b=g,_=g+1,x=g+2;s=_S(this,i,e,T0,l,c,u,d,f,b,_,x),s&&(s.faceIndex=Math.floor(g/3),t.push(s))}}}};function YXe(n,e,t,r,i,a,s,o){let l;if(e.side===yc?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side!==uh,o),l===null)return null;bS.copy(o),bS.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(bS);return c<t.near||c>t.far?null:{distance:c,point:bS.clone(),object:n}}function _S(n,e,t,r,i,a,s,o,l,c,u,d){tf.fromBufferAttribute(i,c),nf.fromBufferAttribute(i,u),rf.fromBufferAttribute(i,d);const f=n.morphTargetInfluences;if(a&&f){hS.set(0,0,0),pS.set(0,0,0),mS.set(0,0,0);for(let p=0,m=a.length;p<m;p++){const v=f[p],g=a[p];v!==0&&(tI.fromBufferAttribute(g,c),nI.fromBufferAttribute(g,u),rI.fromBufferAttribute(g,d),s?(hS.addScaledVector(tI,v),pS.addScaledVector(nI,v),mS.addScaledVector(rI,v)):(hS.addScaledVector(tI.sub(tf),v),pS.addScaledVector(nI.sub(nf),v),mS.addScaledVector(rI.sub(rf),v)))}tf.add(hS),nf.add(pS),rf.add(mS)}n.isSkinnedMesh&&(n.boneTransform(c,tf),n.boneTransform(u,nf),n.boneTransform(d,rf));const h=YXe(n,e,t,r,tf,nf,rf,iI);if(h){o&&(vS.fromBufferAttribute(o,c),gS.fromBufferAttribute(o,u),yS.fromBufferAttribute(o,d),h.uv=pb.getUV(iI,tf,nf,rf,vS,gS,yS,new Wt)),l&&(vS.fromBufferAttribute(l,c),gS.fromBufferAttribute(l,u),yS.fromBufferAttribute(l,d),h.uv2=pb.getUV(iI,tf,nf,rf,vS,gS,yS,new Wt));const p={a:c,b:u,c:d,normal:new Xe,materialIndex:0};pb.getNormal(tf,nf,rf,p.normal),h.face=p}return h}let A_=class Rre extends Hr{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,t,e,s,a,0),p("z","y","x",1,-1,r,t,-e,s,a,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new En(c,3)),this.setAttribute("normal",new En(u,3)),this.setAttribute("uv",new En(d,2));function p(m,v,g,y,b,_,x,S,T,C,M){const A=_/T,I=x/C,D=_/2,L=x/2,F=S/2,B=T+1,k=C+1;let H=0,z=0;const O=new Xe;for(let W=0;W<k;W++){const j=W*I-L;for(let ee=0;ee<B;ee++){const te=ee*A-D;O[m]=te*y,O[v]=j*b,O[g]=F,c.push(O.x,O.y,O.z),O[m]=0,O[v]=0,O[g]=S>0?1:-1,u.push(O.x,O.y,O.z),d.push(ee/T),d.push(1-W/C),H+=1}}for(let W=0;W<C;W++)for(let j=0;j<T;j++){const ee=f+j+B*W,te=f+j+B*(W+1),J=f+(j+1)+B*(W+1),Q=f+(j+1)+B*W;l.push(ee,te,Q),l.push(te,J,Q),z+=6}o.addGroup(h,z,M),h+=z,f+=H}}static fromJSON(e){return new Rre(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Ag(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function vs(n){const e={};for(let t=0;t<n.length;t++){const r=Ag(n[t]);for(const i in r)e[i]=r[i]}return e}function XXe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}const jXe={clone:Ag,merge:vs};var ZXe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,QXe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;let xd=class extends ya{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=ZXe,this.fragmentShader=QXe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ag(e.uniforms),this.uniformsGroups=XXe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}},Pre=class extends Wi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Un,this.projectionMatrix=new Un,this.projectionMatrixInverse=new Un}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Ca=class extends Pre{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=M_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return M_*2*Math.atan(Math.tan(Yv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Yv*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}};const A0=90,E0=1;let JXe=class extends Wi{constructor(e,t,r){if(super(),this.type="CubeCamera",r.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=r;const i=new Ca(A0,E0,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Xe(1,0,0)),this.add(i);const a=new Ca(A0,E0,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new Xe(-1,0,0)),this.add(a);const s=new Ca(A0,E0,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Xe(0,1,0)),this.add(s);const o=new Ca(A0,E0,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new Xe(0,-1,0)),this.add(o);const l=new Ca(A0,E0,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Xe(0,0,1)),this.add(l);const c=new Ca(A0,E0,e,t);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new Xe(0,0,-1)),this.add(c)}update(e,t){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget,[i,a,s,o,l,c]=this.children,u=e.getRenderTarget(),d=e.toneMapping,f=e.xr.enabled;e.toneMapping=dd,e.xr.enabled=!1;const h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,i),e.setRenderTarget(r,1),e.render(t,a),e.setRenderTarget(r,2),e.render(t,s),e.setRenderTarget(r,3),e.render(t,o),e.setRenderTarget(r,4),e.render(t,l),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,c),e.setRenderTarget(u),e.toneMapping=d,e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}},G8=class extends as{constructor(e,t,r,i,a,s,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:ym,super(e,t,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},eje=class extends wm{constructor(e,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new G8(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:ma}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new A_(5,5,5),a=new xd({name:"CubemapFromEquirect",uniforms:Ag(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:yc,blending:Hf});a.uniforms.tEquirect.value=t;const s=new Ta(i,a),o=t.minFilter;return t.minFilter===Od&&(t.minFilter=ma),new JXe(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}};const aI=new Xe,tje=new Xe,nje=new wl;let hp=class{constructor(e=new Xe(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=aI.subVectors(r,t).cross(tje.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const r=e.delta(aI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(r).multiplyScalar(a).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||nje.getNormalMatrix(e),i=this.coplanarPoint(aI).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const I0=new Fm,wS=new Xe;let W8=class{constructor(e=new hp,t=new hp,r=new hp,i=new hp,a=new hp,s=new hp){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){const t=this.planes,r=e.elements,i=r[0],a=r[1],s=r[2],o=r[3],l=r[4],c=r[5],u=r[6],d=r[7],f=r[8],h=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],b=r[15];return t[0].setComponents(o-i,d-l,m-f,b-v).normalize(),t[1].setComponents(o+i,d+l,m+f,b+v).normalize(),t[2].setComponents(o+a,d+c,m+h,b+g).normalize(),t[3].setComponents(o-a,d-c,m-h,b-g).normalize(),t[4].setComponents(o-s,d-u,m-p,b-y).normalize(),t[5].setComponents(o+s,d+u,m+p,b+y).normalize(),this}intersectsObject(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),I0.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(I0)}intersectsSprite(e){return I0.center.set(0,0,0),I0.radius=.7071067811865476,I0.applyMatrix4(e.matrixWorld),this.intersectsSphere(I0)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(wS.x=i.normal.x>0?e.max.x:e.min.x,wS.y=i.normal.y>0?e.max.y:e.min.y,wS.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(wS)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function Dre(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function rje(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const d=c.array,f=c.usage,h=n.createBuffer();n.bindBuffer(u,h),n.bufferData(u,d,f),c.onUploadCallback();let p;if(d instanceof Float32Array)p=5126;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)p=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=5123;else if(d instanceof Int16Array)p=5122;else if(d instanceof Uint32Array)p=5125;else if(d instanceof Int32Array)p=5124;else if(d instanceof Int8Array)p=5120;else if(d instanceof Uint8Array)p=5121;else if(d instanceof Uint8ClampedArray)p=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:h,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}function a(c,u,d){const f=u.array,h=u.updateRange;n.bindBuffer(d,c),h.count===-1?n.bufferSubData(d,0,f):(t?n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):n.bufferSubData(d,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const d=r.get(c);d===void 0?r.set(c,i(c,u)):d.version<c.version&&(a(d.buffer,c,u),d.version=c.version)}return{get:s,remove:o,update:l}}let JP=class kre extends Hr{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=t/l,h=[],p=[],m=[],v=[];for(let g=0;g<u;g++){const y=g*f-s;for(let b=0;b<c;b++){const _=b*d-a;p.push(_,-y,0),m.push(0,0,1),v.push(b/o),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<o;y++){const b=y+c*g,_=y+c*(g+1),x=y+1+c*(g+1),S=y+1+c*g;h.push(b,_,S),h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new En(p,3)),this.setAttribute("normal",new En(m,3)),this.setAttribute("uv",new En(v,2))}static fromJSON(e){return new kre(e.width,e.height,e.widthSegments,e.heightSegments)}};var ije=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,aje=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,sje=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,oje=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lje=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,cje=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uje="vec3 transformed = vec3( position );",dje=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fje=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,hje=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,pje=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mje=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,vje=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gje=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yje=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,bje=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_je=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,wje=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,xje=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Sje=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,Cje=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define r0 1.0
	#define v0 0.339
	#define m0 - 2.0
	#define r1 0.8
	#define v1 0.276
	#define m1 - 1.0
	#define r4 0.4
	#define v4 0.046
	#define m4 2.0
	#define r5 0.305
	#define v5 0.016
	#define m5 3.0
	#define r6 0.21
	#define v6 0.0038
	#define m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= r1 ) {
			mip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;
		} else if ( roughness >= r4 ) {
			mip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;
		} else if ( roughness >= r5 ) {
			mip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;
		} else if ( roughness >= r6 ) {
			mip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Mje=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Tje=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Aje=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,Eje=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ije=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Rje="gl_FragColor = linearToOutputTexel( gl_FragColor );",Pje=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Dje=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,kje=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Lje=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Nje=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Oje=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Bje=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Fje=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zje=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Uje=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hje=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,Vje=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,$je=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Gje=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointLightInfo( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotLightInfo( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( - dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
		#endif
	}
	#pragma unroll_loop_end
#endif`,Wje=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qje=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Kje=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Yje=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,Xje=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,jje=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,Zje=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,Qje=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Jje=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,eZe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tZe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,nZe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,rZe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iZe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,aZe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,sZe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,oZe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lZe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cZe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,uZe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,dZe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fZe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,hZe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,pZe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,mZe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,vZe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,gZe=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yZe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bZe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_Ze=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,wZe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,xZe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,SZe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,CZe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,MZe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,TZe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,AZe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,EZe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,IZe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,RZe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,PZe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,DZe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kZe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,LZe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,NZe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,OZe=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,BZe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,FZe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,zZe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,UZe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,HZe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,VZe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,$Ze=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,GZe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,WZe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qZe=`#ifdef USE_TRANSMISSION
	float transmissionAlpha = 1.0;
	float transmissionFactor = transmission;
	float thicknessFactor = thickness;
	#ifdef USE_TRANSMISSIONMAP
		transmissionFactor *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		thicknessFactor *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,
		attenuationColor, attenuationDistance );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );
	transmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );
#endif`,KZe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( attenuationDistance == 0.0 ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,YZe=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,XZe=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,jZe=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,ZZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,QZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,JZe=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,eQe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tQe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nQe=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	gl_FragColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		gl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );
	#endif
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,rQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iQe=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aQe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sQe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,oQe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,lQe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,cQe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uQe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,dQe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fQe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,hQe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pQe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mQe=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vQe=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gQe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,yQe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bQe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_Qe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,wQe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xQe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SQe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,CQe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MQe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TQe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AQe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,EQe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,IQe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,RQe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,PQe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,DQe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Or={alphamap_fragment:ije,alphamap_pars_fragment:aje,alphatest_fragment:sje,alphatest_pars_fragment:oje,aomap_fragment:lje,aomap_pars_fragment:cje,begin_vertex:uje,beginnormal_vertex:dje,bsdfs:fje,iridescence_fragment:hje,bumpmap_pars_fragment:pje,clipping_planes_fragment:mje,clipping_planes_pars_fragment:vje,clipping_planes_pars_vertex:gje,clipping_planes_vertex:yje,color_fragment:bje,color_pars_fragment:_je,color_pars_vertex:wje,color_vertex:xje,common:Sje,cube_uv_reflection_fragment:Cje,defaultnormal_vertex:Mje,displacementmap_pars_vertex:Tje,displacementmap_vertex:Aje,emissivemap_fragment:Eje,emissivemap_pars_fragment:Ije,encodings_fragment:Rje,encodings_pars_fragment:Pje,envmap_fragment:Dje,envmap_common_pars_fragment:kje,envmap_pars_fragment:Lje,envmap_pars_vertex:Nje,envmap_physical_pars_fragment:qje,envmap_vertex:Oje,fog_vertex:Bje,fog_pars_vertex:Fje,fog_fragment:zje,fog_pars_fragment:Uje,gradientmap_pars_fragment:Hje,lightmap_fragment:Vje,lightmap_pars_fragment:$je,lights_lambert_vertex:Gje,lights_pars_begin:Wje,lights_toon_fragment:Kje,lights_toon_pars_fragment:Yje,lights_phong_fragment:Xje,lights_phong_pars_fragment:jje,lights_physical_fragment:Zje,lights_physical_pars_fragment:Qje,lights_fragment_begin:Jje,lights_fragment_maps:eZe,lights_fragment_end:tZe,logdepthbuf_fragment:nZe,logdepthbuf_pars_fragment:rZe,logdepthbuf_pars_vertex:iZe,logdepthbuf_vertex:aZe,map_fragment:sZe,map_pars_fragment:oZe,map_particle_fragment:lZe,map_particle_pars_fragment:cZe,metalnessmap_fragment:uZe,metalnessmap_pars_fragment:dZe,morphcolor_vertex:fZe,morphnormal_vertex:hZe,morphtarget_pars_vertex:pZe,morphtarget_vertex:mZe,normal_fragment_begin:vZe,normal_fragment_maps:gZe,normal_pars_fragment:yZe,normal_pars_vertex:bZe,normal_vertex:_Ze,normalmap_pars_fragment:wZe,clearcoat_normal_fragment_begin:xZe,clearcoat_normal_fragment_maps:SZe,clearcoat_pars_fragment:CZe,iridescence_pars_fragment:MZe,output_fragment:TZe,packing:AZe,premultiplied_alpha_fragment:EZe,project_vertex:IZe,dithering_fragment:RZe,dithering_pars_fragment:PZe,roughnessmap_fragment:DZe,roughnessmap_pars_fragment:kZe,shadowmap_pars_fragment:LZe,shadowmap_pars_vertex:NZe,shadowmap_vertex:OZe,shadowmask_pars_fragment:BZe,skinbase_vertex:FZe,skinning_pars_vertex:zZe,skinning_vertex:UZe,skinnormal_vertex:HZe,specularmap_fragment:VZe,specularmap_pars_fragment:$Ze,tonemapping_fragment:GZe,tonemapping_pars_fragment:WZe,transmission_fragment:qZe,transmission_pars_fragment:KZe,uv_pars_fragment:YZe,uv_pars_vertex:XZe,uv_vertex:jZe,uv2_pars_fragment:ZZe,uv2_pars_vertex:QZe,uv2_vertex:JZe,worldpos_vertex:eQe,background_vert:tQe,background_frag:nQe,cube_vert:rQe,cube_frag:iQe,depth_vert:aQe,depth_frag:sQe,distanceRGBA_vert:oQe,distanceRGBA_frag:lQe,equirect_vert:cQe,equirect_frag:uQe,linedashed_vert:dQe,linedashed_frag:fQe,meshbasic_vert:hQe,meshbasic_frag:pQe,meshlambert_vert:mQe,meshlambert_frag:vQe,meshmatcap_vert:gQe,meshmatcap_frag:yQe,meshnormal_vert:bQe,meshnormal_frag:_Qe,meshphong_vert:wQe,meshphong_frag:xQe,meshphysical_vert:SQe,meshphysical_frag:CQe,meshtoon_vert:MQe,meshtoon_frag:TQe,points_vert:AQe,points_frag:EQe,shadow_vert:IQe,shadow_frag:RQe,sprite_vert:PQe,sprite_frag:DQe},Sn={common:{diffuse:{value:new bn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new wl},uv2Transform:{value:new wl},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Wt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new bn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wl}},sprite:{diffuse:{value:new bn(16777215)},opacity:{value:1},center:{value:new Wt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new wl}}},$c={basic:{uniforms:vs([Sn.common,Sn.specularmap,Sn.envmap,Sn.aomap,Sn.lightmap,Sn.fog]),vertexShader:Or.meshbasic_vert,fragmentShader:Or.meshbasic_frag},lambert:{uniforms:vs([Sn.common,Sn.specularmap,Sn.envmap,Sn.aomap,Sn.lightmap,Sn.emissivemap,Sn.fog,Sn.lights,{emissive:{value:new bn(0)}}]),vertexShader:Or.meshlambert_vert,fragmentShader:Or.meshlambert_frag},phong:{uniforms:vs([Sn.common,Sn.specularmap,Sn.envmap,Sn.aomap,Sn.lightmap,Sn.emissivemap,Sn.bumpmap,Sn.normalmap,Sn.displacementmap,Sn.fog,Sn.lights,{emissive:{value:new bn(0)},specular:{value:new bn(1118481)},shininess:{value:30}}]),vertexShader:Or.meshphong_vert,fragmentShader:Or.meshphong_frag},standard:{uniforms:vs([Sn.common,Sn.envmap,Sn.aomap,Sn.lightmap,Sn.emissivemap,Sn.bumpmap,Sn.normalmap,Sn.displacementmap,Sn.roughnessmap,Sn.metalnessmap,Sn.fog,Sn.lights,{emissive:{value:new bn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag},toon:{uniforms:vs([Sn.common,Sn.aomap,Sn.lightmap,Sn.emissivemap,Sn.bumpmap,Sn.normalmap,Sn.displacementmap,Sn.gradientmap,Sn.fog,Sn.lights,{emissive:{value:new bn(0)}}]),vertexShader:Or.meshtoon_vert,fragmentShader:Or.meshtoon_frag},matcap:{uniforms:vs([Sn.common,Sn.bumpmap,Sn.normalmap,Sn.displacementmap,Sn.fog,{matcap:{value:null}}]),vertexShader:Or.meshmatcap_vert,fragmentShader:Or.meshmatcap_frag},points:{uniforms:vs([Sn.points,Sn.fog]),vertexShader:Or.points_vert,fragmentShader:Or.points_frag},dashed:{uniforms:vs([Sn.common,Sn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Or.linedashed_vert,fragmentShader:Or.linedashed_frag},depth:{uniforms:vs([Sn.common,Sn.displacementmap]),vertexShader:Or.depth_vert,fragmentShader:Or.depth_frag},normal:{uniforms:vs([Sn.common,Sn.bumpmap,Sn.normalmap,Sn.displacementmap,{opacity:{value:1}}]),vertexShader:Or.meshnormal_vert,fragmentShader:Or.meshnormal_frag},sprite:{uniforms:vs([Sn.sprite,Sn.fog]),vertexShader:Or.sprite_vert,fragmentShader:Or.sprite_frag},background:{uniforms:{uvTransform:{value:new wl},t2D:{value:null}},vertexShader:Or.background_vert,fragmentShader:Or.background_frag},cube:{uniforms:vs([Sn.envmap,{opacity:{value:1}}]),vertexShader:Or.cube_vert,fragmentShader:Or.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Or.equirect_vert,fragmentShader:Or.equirect_frag},distanceRGBA:{uniforms:vs([Sn.common,Sn.displacementmap,{referencePosition:{value:new Xe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Or.distanceRGBA_vert,fragmentShader:Or.distanceRGBA_frag},shadow:{uniforms:vs([Sn.lights,Sn.fog,{color:{value:new bn(0)},opacity:{value:1}}]),vertexShader:Or.shadow_vert,fragmentShader:Or.shadow_frag}};$c.physical={uniforms:vs([$c.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Wt(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new bn(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Wt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new bn(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new bn(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag};function kQe(n,e,t,r,i,a){const s=new bn(0);let o=i===!0?0:1,l,c,u=null,d=0,f=null;function h(m,v){let g=!1,y=v.isScene===!0?v.background:null;y&&y.isTexture&&(y=e.get(y));const b=n.xr,_=b.getSession&&b.getSession();_&&_.environmentBlendMode==="additive"&&(y=null),y===null?p(s,o):y&&y.isColor&&(p(y,1),g=!0),(n.autoClear||g)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),y&&(y.isCubeTexture||y.mapping===ww)?(c===void 0&&(c=new Ta(new A_(1,1,1),new xd({name:"BackgroundCubeMaterial",uniforms:Ag($c.cube.uniforms),vertexShader:$c.cube.vertexShader,fragmentShader:$c.cube.fragmentShader,side:yc,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(x,S,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,(u!==y||d!==y.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,u=y,d=y.version,f=n.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(l===void 0&&(l=new Ta(new JP(2,2),new xd({name:"BackgroundMaterial",uniforms:Ag($c.background.uniforms),vertexShader:$c.background.vertexShader,fragmentShader:$c.background.fragmentShader,side:ch,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=y,y.matrixAutoUpdate===!0&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(u!==y||d!==y.version||f!==n.toneMapping)&&(l.material.needsUpdate=!0,u=y,d=y.version,f=n.toneMapping),l.layers.enableAll(),m.unshift(l,l.geometry,l.material,0,0,null))}function p(m,v){t.buffers.color.setClear(m.r,m.g,m.b,v,a)}return{getClearColor:function(){return s},setClearColor:function(m,v=1){s.set(m),o=v,p(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,p(s,o)},render:h}}function LQe(n,e,t,r){const i=n.getParameter(34921),a=r.isWebGL2?null:e.get("OES_vertex_array_object"),s=r.isWebGL2||a!==null,o={},l=v(null);let c=l,u=!1;function d(F,B,k,H,z){let O=!1;if(s){const W=m(H,k,B);c!==W&&(c=W,h(c.object)),O=g(F,H,k,z),O&&y(F,H,k,z)}else{const W=B.wireframe===!0;(c.geometry!==H.id||c.program!==k.id||c.wireframe!==W)&&(c.geometry=H.id,c.program=k.id,c.wireframe=W,O=!0)}z!==null&&t.update(z,34963),(O||u)&&(u=!1,C(F,B,k,H),z!==null&&n.bindBuffer(34963,t.get(z).buffer))}function f(){return r.isWebGL2?n.createVertexArray():a.createVertexArrayOES()}function h(F){return r.isWebGL2?n.bindVertexArray(F):a.bindVertexArrayOES(F)}function p(F){return r.isWebGL2?n.deleteVertexArray(F):a.deleteVertexArrayOES(F)}function m(F,B,k){const H=k.wireframe===!0;let z=o[F.id];z===void 0&&(z={},o[F.id]=z);let O=z[B.id];O===void 0&&(O={},z[B.id]=O);let W=O[H];return W===void 0&&(W=v(f()),O[H]=W),W}function v(F){const B=[],k=[],H=[];for(let z=0;z<i;z++)B[z]=0,k[z]=0,H[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:k,attributeDivisors:H,object:F,attributes:{},index:null}}function g(F,B,k,H){const z=c.attributes,O=B.attributes;let W=0;const j=k.getAttributes();for(const ee in j)if(j[ee].location>=0){const J=z[ee];let Q=O[ee];if(Q===void 0&&(ee==="instanceMatrix"&&F.instanceMatrix&&(Q=F.instanceMatrix),ee==="instanceColor"&&F.instanceColor&&(Q=F.instanceColor)),J===void 0||J.attribute!==Q||Q&&J.data!==Q.data)return!0;W++}return c.attributesNum!==W||c.index!==H}function y(F,B,k,H){const z={},O=B.attributes;let W=0;const j=k.getAttributes();for(const ee in j)if(j[ee].location>=0){let J=O[ee];J===void 0&&(ee==="instanceMatrix"&&F.instanceMatrix&&(J=F.instanceMatrix),ee==="instanceColor"&&F.instanceColor&&(J=F.instanceColor));const Q={};Q.attribute=J,J&&J.data&&(Q.data=J.data),z[ee]=Q,W++}c.attributes=z,c.attributesNum=W,c.index=H}function b(){const F=c.newAttributes;for(let B=0,k=F.length;B<k;B++)F[B]=0}function _(F){x(F,0)}function x(F,B){const k=c.newAttributes,H=c.enabledAttributes,z=c.attributeDivisors;k[F]=1,H[F]===0&&(n.enableVertexAttribArray(F),H[F]=1),z[F]!==B&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](F,B),z[F]=B)}function S(){const F=c.newAttributes,B=c.enabledAttributes;for(let k=0,H=B.length;k<H;k++)B[k]!==F[k]&&(n.disableVertexAttribArray(k),B[k]=0)}function T(F,B,k,H,z,O){r.isWebGL2===!0&&(k===5124||k===5125)?n.vertexAttribIPointer(F,B,k,z,O):n.vertexAttribPointer(F,B,k,H,z,O)}function C(F,B,k,H){if(r.isWebGL2===!1&&(F.isInstancedMesh||H.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const z=H.attributes,O=k.getAttributes(),W=B.defaultAttributeValues;for(const j in O){const ee=O[j];if(ee.location>=0){let te=z[j];if(te===void 0&&(j==="instanceMatrix"&&F.instanceMatrix&&(te=F.instanceMatrix),j==="instanceColor"&&F.instanceColor&&(te=F.instanceColor)),te!==void 0){const J=te.normalized,Q=te.itemSize,ie=t.get(te);if(ie===void 0)continue;const le=ie.buffer,we=ie.type,Ae=ie.bytesPerElement;if(te.isInterleavedBufferAttribute){const ke=te.data,Fe=ke.stride,q=te.offset;if(ke.isInstancedInterleavedBuffer){for(let ce=0;ce<ee.locationSize;ce++)x(ee.location+ce,ke.meshPerAttribute);F.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=ke.meshPerAttribute*ke.count)}else for(let ce=0;ce<ee.locationSize;ce++)_(ee.location+ce);n.bindBuffer(34962,le);for(let ce=0;ce<ee.locationSize;ce++)T(ee.location+ce,Q/ee.locationSize,we,J,Fe*Ae,(q+Q/ee.locationSize*ce)*Ae)}else{if(te.isInstancedBufferAttribute){for(let ke=0;ke<ee.locationSize;ke++)x(ee.location+ke,te.meshPerAttribute);F.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let ke=0;ke<ee.locationSize;ke++)_(ee.location+ke);n.bindBuffer(34962,le);for(let ke=0;ke<ee.locationSize;ke++)T(ee.location+ke,Q/ee.locationSize,we,J,Q*Ae,Q/ee.locationSize*ke*Ae)}}else if(W!==void 0){const J=W[j];if(J!==void 0)switch(J.length){case 2:n.vertexAttrib2fv(ee.location,J);break;case 3:n.vertexAttrib3fv(ee.location,J);break;case 4:n.vertexAttrib4fv(ee.location,J);break;default:n.vertexAttrib1fv(ee.location,J)}}}}S()}function M(){D();for(const F in o){const B=o[F];for(const k in B){const H=B[k];for(const z in H)p(H[z].object),delete H[z];delete B[k]}delete o[F]}}function A(F){if(o[F.id]===void 0)return;const B=o[F.id];for(const k in B){const H=B[k];for(const z in H)p(H[z].object),delete H[z];delete B[k]}delete o[F.id]}function I(F){for(const B in o){const k=o[B];if(k[F.id]===void 0)continue;const H=k[F.id];for(const z in H)p(H[z].object),delete H[z];delete k[F.id]}}function D(){L(),u=!0,c!==l&&(c=l,h(c.object))}function L(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:d,reset:D,resetDefaultState:L,dispose:M,releaseStatesOfGeometry:A,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:_,disableUnusedAttributes:S}}function NQe(n,e,t,r){const i=r.isWebGL2;let a;function s(c){a=c}function o(c,u){n.drawArrays(a,c,u),t.update(u,a,1)}function l(c,u,d){if(d===0)return;let f,h;if(i)f=n,h="drawArraysInstanced";else if(f=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",f===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[h](a,c,u,d),t.update(u,a,d)}this.setMode=s,this.render=o,this.renderInstances=l}function OQe(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(T){if(T==="highp"){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&n instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&n instanceof WebGL2ComputeRenderingContext;let o=t.precision!==void 0?t.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(34930),f=n.getParameter(35660),h=n.getParameter(3379),p=n.getParameter(34076),m=n.getParameter(34921),v=n.getParameter(36347),g=n.getParameter(36348),y=n.getParameter(36349),b=f>0,_=s||e.has("OES_texture_float"),x=b&&_,S=s?n.getParameter(36183):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:S}}function BQe(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new hp,o=new wl,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f,h){const p=d.length!==0||f||r!==0||i;return i=f,t=u(d,h,0),r=d.length,p},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1,c()},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,v=d.clipShadows,g=n.get(d);if(!i||p===null||p.length===0||a&&!v)a?u(null):c();else{const y=a?0:r,b=y*4;let _=g.clippingState||null;l.value=_,_=u(p,f,b,h);for(let x=0;x!==b;++x)_[x]=t[x];g.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let v=null;if(m!==0){if(v=l.value,p!==!0||v===null){const g=h+m*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(v===null||v.length<g)&&(v=new Float32Array(g));for(let b=0,_=h;b!==m;++b,_+=4)s.copy(d[b]).applyMatrix4(y,o),s.normal.toArray(v,_),v[_+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function FQe(n){let e=new WeakMap;function t(s,o){return o===w_?s.mapping=ym:o===MM&&(s.mapping=bm),s}function r(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const o=s.mapping;if(o===w_||o===MM)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new eje(l.height/2);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}let ly=class extends Pre{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}};const Tv=4,S$=[.125,.215,.35,.446,.526,.582],Sp=20,sI=new ly,C$=new bn;let oI=null;const pp=(1+Math.sqrt(5))/2,R0=1/pp,M$=[new Xe(1,1,1),new Xe(-1,1,1),new Xe(1,1,-1),new Xe(-1,1,-1),new Xe(0,pp,R0),new Xe(0,pp,-R0),new Xe(R0,0,pp),new Xe(-R0,0,pp),new Xe(pp,R0,0),new Xe(-pp,R0,0)];let T$=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){oI=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=I$(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=E$(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(oI),e.scissorTest=!1,xS(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===ym||e.mapping===bm?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),oI=this._renderer.getRenderTarget();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:ma,minFilter:ma,generateMipmaps:!1,type:S_,format:_l,encoding:dh,depthBuffer:!1},i=A$(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=A$(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=zQe(a)),this._blurMaterial=UQe(a,e,t)}return i}_compileMaterial(e){const t=new Ta(this._lodPlanes[0],e);this._renderer.compile(t,sI)}_sceneToCubeUV(e,t,r,i){const o=new Ca(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(C$),u.toneMapping=dd,u.autoClear=!1;const h=new hc({name:"PMREM.Background",side:yc,depthWrite:!1,depthTest:!1}),p=new Ta(new A_,h);let m=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,m=!0):(h.color.copy(C$),m=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(o.up.set(0,l[g],0),o.lookAt(c[g],0,0)):y===1?(o.up.set(0,0,l[g]),o.lookAt(0,c[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,c[g]));const b=this._cubeSize;xS(i,y*b,g>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===ym||e.mapping===bm;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=I$()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=E$());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new Ta(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;xS(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,sI)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const a=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),s=M$[(i-1)%M$.length];this._blur(e,i-1,i,a,s)}t.autoClear=r}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Ta(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*Sp-1),m=a/p,v=isFinite(a)?1+Math.floor(u*m):Sp;v>Sp&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Sp}`);const g=[];let y=0;for(let T=0;T<Sp;++T){const C=T/m,M=Math.exp(-C*C/2);g.push(M),T===0?y+=M:T<v&&(y+=2*M)}for(let T=0;T<g.length;T++)g[T]=g[T]/y;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=g,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const _=this._sizeLods[i],x=3*_*(i>b-Tv?i-b+Tv:0),S=4*(this._cubeSize-_);xS(t,x,S,3*_,2*_),l.setRenderTarget(t),l.render(d,sI)}};function zQe(n){const e=[],t=[],r=[];let i=n;const a=n-Tv+1+S$.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>n-Tv?l=S$[s-n+Tv-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,v=2,g=1,y=new Float32Array(m*p*h),b=new Float32Array(v*p*h),_=new Float32Array(g*p*h);for(let S=0;S<h;S++){const T=S%3*2/3-1,C=S>2?0:-1,M=[T,C,0,T+2/3,C,0,T+2/3,C+1,0,T,C,0,T+2/3,C+1,0,T,C+1,0];y.set(M,m*p*S),b.set(f,v*p*S);const A=[S,S,S,S,S,S];_.set(A,g*p*S)}const x=new Hr;x.setAttribute("position",new ea(y,m)),x.setAttribute("uv",new ea(b,v)),x.setAttribute("faceIndex",new ea(_,g)),e.push(x),i>Tv&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function A$(n,e,t){const r=new wm(n,e,t);return r.texture.mapping=ww,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function xS(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function UQe(n,e,t){const r=new Float32Array(Sp),i=new Xe(0,1,0);return new xd({name:"SphericalGaussianBlur",defines:{n:Sp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:q8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Hf,depthTest:!1,depthWrite:!1})}function E$(){return new xd({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:q8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Hf,depthTest:!1,depthWrite:!1})}function I$(){return new xd({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:q8(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Hf,depthTest:!1,depthWrite:!1})}function q8(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function HQe(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===w_||l===MM,u=l===ym||l===bm;if(c||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let d=e.get(o);return t===null&&(t=new T$(n)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),e.set(o,d),d.texture}else{if(e.has(o))return e.get(o).texture;{const d=o.image;if(c&&d&&d.height>0||u&&d&&i(d)){t===null&&(t=new T$(n));const f=c?t.fromEquirectangular(o):t.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",a),f.texture}else return null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function VQe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function $Qe(n,e,t,r){const i={},a=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete i[f.id];const h=a.get(f);h&&(e.remove(h),a.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const p in f)e.update(f[p],34962);const h=d.morphAttributes;for(const p in h){const m=h[p];for(let v=0,g=m.length;v<g;v++)e.update(m[v],34962)}}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const y=h.array;m=h.version;for(let b=0,_=y.length;b<_;b+=3){const x=y[b+0],S=y[b+1],T=y[b+2];f.push(x,S,S,T,T,x)}}else{const y=p.array;m=p.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const x=b+0,S=b+1,T=b+2;f.push(x,S,S,T,T,x)}}const v=new(wre(f)?Ere:$8)(f,1);v.version=m;const g=a.get(d);g&&e.remove(g),a.set(d,v)}function u(d){const f=a.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function GQe(n,e,t,r){const i=r.isWebGL2;let a;function s(f){a=f}let o,l;function c(f){o=f.type,l=f.bytesPerElement}function u(f,h){n.drawElements(a,h,o,f*l),t.update(h,a,1)}function d(f,h,p){if(p===0)return;let m,v;if(i)m=n,v="drawElementsInstanced";else if(m=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",m===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[v](a,h,o,f*l,p),t.update(h,a,p)}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=d}function WQe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case 4:t.triangles+=o*(a/3);break;case 1:t.lines+=o*(a/2);break;case 3:t.lines+=o*(a-1);break;case 2:t.lines+=o*a;break;case 0:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function qQe(n,e){return n[0]-e[0]}function KQe(n,e){return Math.abs(e[1])-Math.abs(n[1])}function lI(n,e){let t=1;const r=e.isInterleavedBufferAttribute?e.data.array:e.array;r instanceof Int8Array?t=127:r instanceof Uint8Array?t=255:r instanceof Uint16Array?t=65535:r instanceof Int16Array?t=32767:r instanceof Int32Array?t=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),n.divideScalar(t)}function YQe(n,e,t){const r={},i=new Float32Array(8),a=new WeakMap,s=new ri,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,d,f){const h=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,m=p!==void 0?p.length:0;let v=a.get(u);if(v===void 0||v.count!==m){let b=function(){F.dispose(),a.delete(u),u.removeEventListener("dispose",b)};v!==void 0&&v.texture.dispose();const _=u.morphAttributes.position!==void 0,x=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,T=u.morphAttributes.position||[],C=u.morphAttributes.normal||[],M=u.morphAttributes.color||[];let A=0;_===!0&&(A=1),x===!0&&(A=2),S===!0&&(A=3);let I=u.attributes.position.count*A,D=1;I>e.maxTextureSize&&(D=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const L=new Float32Array(I*D*4*m),F=new Mre(L,I,D,m);F.type=kf,F.needsUpdate=!0;const B=A*4;for(let k=0;k<m;k++){const H=T[k],z=C[k],O=M[k],W=I*D*4*k;for(let j=0;j<H.count;j++){const ee=j*B;_===!0&&(s.fromBufferAttribute(H,j),H.normalized===!0&&lI(s,H),L[W+ee+0]=s.x,L[W+ee+1]=s.y,L[W+ee+2]=s.z,L[W+ee+3]=0),x===!0&&(s.fromBufferAttribute(z,j),z.normalized===!0&&lI(s,z),L[W+ee+4]=s.x,L[W+ee+5]=s.y,L[W+ee+6]=s.z,L[W+ee+7]=0),S===!0&&(s.fromBufferAttribute(O,j),O.normalized===!0&&lI(s,O),L[W+ee+8]=s.x,L[W+ee+9]=s.y,L[W+ee+10]=s.z,L[W+ee+11]=O.itemSize===4?s.w:1)}}v={count:m,texture:F,size:new Wt(I,D)},a.set(u,v),u.addEventListener("dispose",b)}let g=0;for(let b=0;b<h.length;b++)g+=h[b];const y=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(n,"morphTargetBaseInfluence",y),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",v.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",v.size)}else{const p=h===void 0?0:h.length;let m=r[u.id];if(m===void 0||m.length!==p){m=[];for(let _=0;_<p;_++)m[_]=[_,0];r[u.id]=m}for(let _=0;_<p;_++){const x=m[_];x[0]=_,x[1]=h[_]}m.sort(KQe);for(let _=0;_<8;_++)_<p&&m[_][1]?(o[_][0]=m[_][0],o[_][1]=m[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(qQe);const v=u.morphAttributes.position,g=u.morphAttributes.normal;let y=0;for(let _=0;_<8;_++){const x=o[_],S=x[0],T=x[1];S!==Number.MAX_SAFE_INTEGER&&T?(v&&u.getAttribute("morphTarget"+_)!==v[S]&&u.setAttribute("morphTarget"+_,v[S]),g&&u.getAttribute("morphNormal"+_)!==g[S]&&u.setAttribute("morphNormal"+_,g[S]),i[_]=T,y+=T):(v&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),g&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const b=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function XQe(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);return i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),t.update(l.instanceMatrix,34962),l.instanceColor!==null&&t.update(l.instanceColor,34962)),d}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const Lre=new as,Nre=new Mre,Ore=new FXe,Bre=new G8,R$=[],P$=[],D$=new Float32Array(16),k$=new Float32Array(9),L$=new Float32Array(4);function cy(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=R$[i];if(a===void 0&&(a=new Float32Array(i),R$[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function Zs(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Qs(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function IA(n,e){let t=P$[e];t===void 0&&(t=new Int32Array(e),P$[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function jQe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function ZQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Zs(t,e))return;n.uniform2fv(this.addr,e),Qs(t,e)}}function QQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Zs(t,e))return;n.uniform3fv(this.addr,e),Qs(t,e)}}function JQe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Zs(t,e))return;n.uniform4fv(this.addr,e),Qs(t,e)}}function eJe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Zs(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Qs(t,e)}else{if(Zs(t,r))return;L$.set(r),n.uniformMatrix2fv(this.addr,!1,L$),Qs(t,r)}}function tJe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Zs(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Qs(t,e)}else{if(Zs(t,r))return;k$.set(r),n.uniformMatrix3fv(this.addr,!1,k$),Qs(t,r)}}function nJe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Zs(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Qs(t,e)}else{if(Zs(t,r))return;D$.set(r),n.uniformMatrix4fv(this.addr,!1,D$),Qs(t,r)}}function rJe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function iJe(n,e){const t=this.cache;Zs(t,e)||(n.uniform2iv(this.addr,e),Qs(t,e))}function aJe(n,e){const t=this.cache;Zs(t,e)||(n.uniform3iv(this.addr,e),Qs(t,e))}function sJe(n,e){const t=this.cache;Zs(t,e)||(n.uniform4iv(this.addr,e),Qs(t,e))}function oJe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function lJe(n,e){const t=this.cache;Zs(t,e)||(n.uniform2uiv(this.addr,e),Qs(t,e))}function cJe(n,e){const t=this.cache;Zs(t,e)||(n.uniform3uiv(this.addr,e),Qs(t,e))}function uJe(n,e){const t=this.cache;Zs(t,e)||(n.uniform4uiv(this.addr,e),Qs(t,e))}function dJe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2D(e||Lre,i)}function fJe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Ore,i)}function hJe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Bre,i)}function pJe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Nre,i)}function mJe(n){switch(n){case 5126:return jQe;case 35664:return ZQe;case 35665:return QQe;case 35666:return JQe;case 35674:return eJe;case 35675:return tJe;case 35676:return nJe;case 5124:case 35670:return rJe;case 35667:case 35671:return iJe;case 35668:case 35672:return aJe;case 35669:case 35673:return sJe;case 5125:return oJe;case 36294:return lJe;case 36295:return cJe;case 36296:return uJe;case 35678:case 36198:case 36298:case 36306:case 35682:return dJe;case 35679:case 36299:case 36307:return fJe;case 35680:case 36300:case 36308:case 36293:return hJe;case 36289:case 36303:case 36311:case 36292:return pJe}}function vJe(n,e){n.uniform1fv(this.addr,e)}function gJe(n,e){const t=cy(e,this.size,2);n.uniform2fv(this.addr,t)}function yJe(n,e){const t=cy(e,this.size,3);n.uniform3fv(this.addr,t)}function bJe(n,e){const t=cy(e,this.size,4);n.uniform4fv(this.addr,t)}function _Je(n,e){const t=cy(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function wJe(n,e){const t=cy(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function xJe(n,e){const t=cy(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function SJe(n,e){n.uniform1iv(this.addr,e)}function CJe(n,e){n.uniform2iv(this.addr,e)}function MJe(n,e){n.uniform3iv(this.addr,e)}function TJe(n,e){n.uniform4iv(this.addr,e)}function AJe(n,e){n.uniform1uiv(this.addr,e)}function EJe(n,e){n.uniform2uiv(this.addr,e)}function IJe(n,e){n.uniform3uiv(this.addr,e)}function RJe(n,e){n.uniform4uiv(this.addr,e)}function PJe(n,e,t){const r=e.length,i=IA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2D(e[a]||Lre,i[a])}function DJe(n,e,t){const r=e.length,i=IA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture3D(e[a]||Ore,i[a])}function kJe(n,e,t){const r=e.length,i=IA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTextureCube(e[a]||Bre,i[a])}function LJe(n,e,t){const r=e.length,i=IA(t,r);n.uniform1iv(this.addr,i);for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||Nre,i[a])}function NJe(n){switch(n){case 5126:return vJe;case 35664:return gJe;case 35665:return yJe;case 35666:return bJe;case 35674:return _Je;case 35675:return wJe;case 35676:return xJe;case 5124:case 35670:return SJe;case 35667:case 35671:return CJe;case 35668:case 35672:return MJe;case 35669:case 35673:return TJe;case 5125:return AJe;case 36294:return EJe;case 36295:return IJe;case 36296:return RJe;case 35678:case 36198:case 36298:case 36306:case 35682:return PJe;case 35679:case 36299:case 36307:return DJe;case 35680:case 36300:case 36308:case 36293:return kJe;case 36289:case 36303:case 36311:case 36292:return LJe}}let OJe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=mJe(t.type)}},BJe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=NJe(t.type)}},FJe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}};const cI=/(\w+)(\])?(\[|\.)?/g;function N$(n,e){n.seq.push(e),n.map[e.id]=e}function zJe(n,e,t){const r=n.name,i=r.length;for(cI.lastIndex=0;;){const a=cI.exec(r),s=cI.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){N$(t,c===void 0?new OJe(o,n,e):new BJe(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new FJe(o),N$(t,d)),t=d}}}let aC=class{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,35718);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);zJe(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}};function O$(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}let UJe=0;function HJe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}function VJe(n){switch(n){case dh:return["Linear","( value )"];case Er:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}function B$(n,e,t){const r=n.getShaderParameter(e,35713),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+HJe(n.getShaderSource(e),s)}else return i}function $Je(n,e){const t=VJe(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function GJe(n,e){let t;switch(e){case KYe:t="Linear";break;case YYe:t="Reinhard";break;case XYe:t="OptimizedCineon";break;case jYe:t="ACESFilmic";break;case ZYe:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function WJe(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(z1).join(`
`)}function qJe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function KJe(n,e){const t={},r=n.getProgramParameter(e,35721);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===35674&&(o=2),a.type===35675&&(o=3),a.type===35676&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function z1(n){return n!==""}function F$(n,e){return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function z$(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const YJe=/^[ \t]*#include +<([\w\d./]+)>/gm;function eD(n){return n.replace(YJe,XJe)}function XJe(n,e){const t=Or[e];if(t===void 0)throw new Error("Can not resolve #include <"+e+">");return eD(t)}const jJe=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ZJe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function U$(n){return n.replace(ZJe,Fre).replace(jJe,QJe)}function QJe(n,e,t,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Fre(n,e,t,r)}function Fre(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function H$(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function JJe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===fre?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===CYe?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===F1&&(e="SHADOWMAP_TYPE_VSM"),e}function eet(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case ym:case bm:e="ENVMAP_TYPE_CUBE";break;case ww:e="ENVMAP_TYPE_CUBE_UV";break}return e}function tet(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case bm:e="ENVMAP_MODE_REFRACTION";break}return e}function net(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case AA:e="ENVMAP_BLENDING_MULTIPLY";break;case WYe:e="ENVMAP_BLENDING_MIX";break;case qYe:e="ENVMAP_BLENDING_ADD";break}return e}function ret(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function iet(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=JJe(t),c=eet(t),u=tet(t),d=net(t),f=ret(t),h=t.isWebGL2?"":WJe(t),p=qJe(a),m=i.createProgram();let v,g,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=[p].filter(z1).join(`
`),v.length>0&&(v+=`
`),g=[h,p].filter(z1).join(`
`),g.length>0&&(g+=`
`)):(v=[H$(t),"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.supportsVertexTextures?"#define VERTEX_TEXTURES":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.displacementMap&&t.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(z1).join(`
`),g=[h,H$(t),"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMap&&t.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",t.normalMap&&t.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",t.specularColorMap?"#define USE_SPECULARCOLORMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEENCOLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.vertexTangents?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUvs?"#define USE_UV":"",t.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==dd?"#define TONE_MAPPING":"",t.toneMapping!==dd?Or.tonemapping_pars_fragment:"",t.toneMapping!==dd?GJe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Or.encodings_pars_fragment,$Je("linearToOutputTexel",t.outputEncoding),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(z1).join(`
`)),s=eD(s),s=F$(s,t),s=z$(s,t),o=eD(o),o=F$(o,t),o=z$(o,t),s=U$(s),o=U$(o),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",t.glslVersion===u$?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===u$?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=y+v+s,_=y+g+o,x=O$(i,35633,b),S=O$(i,35632,_);if(i.attachShader(m,x),i.attachShader(m,S),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),n.debug.checkShaderErrors){const M=i.getProgramInfoLog(m).trim(),A=i.getShaderInfoLog(x).trim(),I=i.getShaderInfoLog(S).trim();let D=!0,L=!0;if(i.getProgramParameter(m,35714)===!1){D=!1;const F=B$(i,x,"vertex"),B=B$(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,35715)+`

Program Info Log: `+M+`
`+F+`
`+B)}else M!==""?console.warn("THREE.WebGLProgram: Program Info Log:",M):(A===""||I==="")&&(L=!1);L&&(this.diagnostics={runnable:D,programLog:M,vertexShader:{log:A,prefix:v},fragmentShader:{log:I,prefix:g}})}i.deleteShader(x),i.deleteShader(S);let T;this.getUniforms=function(){return T===void 0&&(T=new aC(i,m)),T};let C;return this.getAttributes=function(){return C===void 0&&(C=KJe(i,m)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=t.shaderName,this.id=UJe++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=S,this}let aet=0,set=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return t.has(e)===!1&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(t.has(e)===!1){const r=new oet(e);t.set(e,r)}return t.get(e)}},oet=class{constructor(e){this.id=aet++,this.code=e,this.usedTimes=0}};function cet(n,e,t,r,i,a,s){const o=new V8,l=new set,c=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(C,M,A,I,D){const L=I.fog,F=D.geometry,B=C.isMeshStandardMaterial?I.environment:null,k=(C.isMeshStandardMaterial?t:e).get(C.envMap||B),H=k&&k.mapping===ww?k.image.height:null,z=p[C.type];C.precision!==null&&(h=i.getMaxPrecision(C.precision),h!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",h,"instead."));const O=F.morphAttributes.position||F.morphAttributes.normal||F.morphAttributes.color,W=O!==void 0?O.length:0;let j=0;F.morphAttributes.position!==void 0&&(j=1),F.morphAttributes.normal!==void 0&&(j=2),F.morphAttributes.color!==void 0&&(j=3);let ee,te,J,Q;if(z){const Fe=$c[z];ee=Fe.vertexShader,te=Fe.fragmentShader}else ee=C.vertexShader,te=C.fragmentShader,l.update(C),J=l.getVertexShaderID(C),Q=l.getFragmentShaderID(C);const ie=n.getRenderTarget(),le=C.alphaTest>0,we=C.clearcoat>0,Ae=C.iridescence>0;return{isWebGL2:u,shaderID:z,shaderName:C.type,vertexShader:ee,fragmentShader:te,defines:C.defines,customVertexShaderID:J,customFragmentShaderID:Q,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:h,instancing:D.isInstancedMesh===!0,instancingColor:D.isInstancedMesh===!0&&D.instanceColor!==null,supportsVertexTextures:f,outputEncoding:ie===null?n.outputEncoding:ie.isXRRenderTarget===!0?ie.texture.encoding:dh,map:!!C.map,matcap:!!C.matcap,envMap:!!k,envMapMode:k&&k.mapping,envMapCubeUVHeight:H,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:C.normalMapType===bXe,tangentSpaceNormalMap:C.normalMapType===Om,decodeVideoTexture:!!C.map&&C.map.isVideoTexture===!0&&C.map.encoding===Er,clearcoat:we,clearcoatMap:we&&!!C.clearcoatMap,clearcoatRoughnessMap:we&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:we&&!!C.clearcoatNormalMap,iridescence:Ae,iridescenceMap:Ae&&!!C.iridescenceMap,iridescenceThicknessMap:Ae&&!!C.iridescenceThicknessMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:C.transparent===!1&&C.blending===qv,alphaMap:!!C.alphaMap,alphaTest:le,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!F.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!F.attributes.color&&F.attributes.color.itemSize===4,vertexUvs:!!C.map||!!C.bumpMap||!!C.normalMap||!!C.specularMap||!!C.alphaMap||!!C.emissiveMap||!!C.roughnessMap||!!C.metalnessMap||!!C.clearcoatMap||!!C.clearcoatRoughnessMap||!!C.clearcoatNormalMap||!!C.iridescenceMap||!!C.iridescenceThicknessMap||!!C.displacementMap||!!C.transmissionMap||!!C.thicknessMap||!!C.specularIntensityMap||!!C.specularColorMap||!!C.sheenColorMap||!!C.sheenRoughnessMap,uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.iridescenceMap||C.iridescenceThicknessMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap)&&!!C.displacementMap,fog:!!L,useFog:C.fog===!0,fogExp2:L&&L.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:d,skinning:D.isSkinnedMesh===!0,morphTargets:F.morphAttributes.position!==void 0,morphNormals:F.morphAttributes.normal!==void 0,morphColors:F.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:j,numDirLights:M.directional.length,numPointLights:M.point.length,numSpotLights:M.spot.length,numRectAreaLights:M.rectArea.length,numHemiLights:M.hemi.length,numDirLightShadows:M.directionalShadowMap.length,numPointLightShadows:M.pointShadowMap.length,numSpotLightShadows:M.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:C.dithering,shadowMapEnabled:n.shadowMap.enabled&&A.length>0,shadowMapType:n.shadowMap.type,toneMapping:C.toneMapped?n.toneMapping:dd,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===uh,flipSided:C.side===yc,useDepthPacking:!!C.depthPacking,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}}function v(C){const M=[];if(C.shaderID?M.push(C.shaderID):(M.push(C.customVertexShaderID),M.push(C.customFragmentShaderID)),C.defines!==void 0)for(const A in C.defines)M.push(A),M.push(C.defines[A]);return C.isRawShaderMaterial===!1&&(g(M,C),y(M,C),M.push(n.outputEncoding)),M.push(C.customProgramCacheKey),M.join()}function g(C,M){C.push(M.precision),C.push(M.outputEncoding),C.push(M.envMapMode),C.push(M.envMapCubeUVHeight),C.push(M.combine),C.push(M.vertexUvs),C.push(M.fogExp2),C.push(M.sizeAttenuation),C.push(M.morphTargetsCount),C.push(M.morphAttributeCount),C.push(M.numDirLights),C.push(M.numPointLights),C.push(M.numSpotLights),C.push(M.numHemiLights),C.push(M.numRectAreaLights),C.push(M.numDirLightShadows),C.push(M.numPointLightShadows),C.push(M.numSpotLightShadows),C.push(M.shadowMapType),C.push(M.toneMapping),C.push(M.numClippingPlanes),C.push(M.numClipIntersection),C.push(M.depthPacking)}function y(C,M){o.disableAll(),M.isWebGL2&&o.enable(0),M.supportsVertexTextures&&o.enable(1),M.instancing&&o.enable(2),M.instancingColor&&o.enable(3),M.map&&o.enable(4),M.matcap&&o.enable(5),M.envMap&&o.enable(6),M.lightMap&&o.enable(7),M.aoMap&&o.enable(8),M.emissiveMap&&o.enable(9),M.bumpMap&&o.enable(10),M.normalMap&&o.enable(11),M.objectSpaceNormalMap&&o.enable(12),M.tangentSpaceNormalMap&&o.enable(13),M.clearcoat&&o.enable(14),M.clearcoatMap&&o.enable(15),M.clearcoatRoughnessMap&&o.enable(16),M.clearcoatNormalMap&&o.enable(17),M.iridescence&&o.enable(18),M.iridescenceMap&&o.enable(19),M.iridescenceThicknessMap&&o.enable(20),M.displacementMap&&o.enable(21),M.specularMap&&o.enable(22),M.roughnessMap&&o.enable(23),M.metalnessMap&&o.enable(24),M.gradientMap&&o.enable(25),M.alphaMap&&o.enable(26),M.alphaTest&&o.enable(27),M.vertexColors&&o.enable(28),M.vertexAlphas&&o.enable(29),M.vertexUvs&&o.enable(30),M.vertexTangents&&o.enable(31),M.uvsVertexOnly&&o.enable(32),M.fog&&o.enable(33),C.push(o.mask),o.disableAll(),M.useFog&&o.enable(0),M.flatShading&&o.enable(1),M.logarithmicDepthBuffer&&o.enable(2),M.skinning&&o.enable(3),M.morphTargets&&o.enable(4),M.morphNormals&&o.enable(5),M.morphColors&&o.enable(6),M.premultipliedAlpha&&o.enable(7),M.shadowMapEnabled&&o.enable(8),M.physicallyCorrectLights&&o.enable(9),M.doubleSided&&o.enable(10),M.flipSided&&o.enable(11),M.useDepthPacking&&o.enable(12),M.dithering&&o.enable(13),M.specularIntensityMap&&o.enable(14),M.specularColorMap&&o.enable(15),M.transmission&&o.enable(16),M.transmissionMap&&o.enable(17),M.thicknessMap&&o.enable(18),M.sheen&&o.enable(19),M.sheenColorMap&&o.enable(20),M.sheenRoughnessMap&&o.enable(21),M.decodeVideoTexture&&o.enable(22),M.opaque&&o.enable(23),C.push(o.mask)}function b(C){const M=p[C.type];let A;if(M){const I=$c[M];A=jXe.clone(I.uniforms)}else A=C.uniforms;return A}function _(C,M){let A;for(let I=0,D=c.length;I<D;I++){const L=c[I];if(L.cacheKey===M){A=L,++A.usedTimes;break}}return A===void 0&&(A=new iet(n,M,C,a),c.push(A)),A}function x(C){if(--C.usedTimes===0){const M=c.indexOf(C);c[M]=c[c.length-1],c.pop(),C.destroy()}}function S(C){l.remove(C)}function T(){l.dispose()}return{getParameters:m,getProgramCacheKey:v,getUniforms:b,acquireProgram:_,releaseProgram:x,releaseShaderCache:S,programs:c,dispose:T}}function uet(){let n=new WeakMap;function e(a){let s=n.get(a);return s===void 0&&(s={},n.set(a,s)),s}function t(a){n.delete(a)}function r(a,s,o){n.get(a)[s]=o}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function det(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function V$(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function $$(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,v){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:v},n[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=m,g.group=v),e++,g}function o(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):t.push(g)}function l(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):t.unshift(g)}function c(d,f){t.length>1&&t.sort(d||det),r.length>1&&r.sort(f||V$),i.length>1&&i.sort(f||V$)}function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function fet(){let n=new WeakMap;function e(r,i){let a;return n.has(r)===!1?(a=new $$,n.set(r,[a])):i>=n.get(r).length?(a=new $$,n.get(r).push(a)):a=n.get(r)[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function het(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Xe,color:new bn};break;case"SpotLight":t={position:new Xe,direction:new Xe,color:new bn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Xe,color:new bn,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Xe,skyColor:new bn,groundColor:new bn};break;case"RectAreaLight":t={color:new bn,position:new Xe,halfWidth:new Xe,halfHeight:new Xe};break}return n[e.id]=t,t}}}function pet(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Wt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let met=0;function vet(n,e){return(e.castShadow?1:0)-(n.castShadow?1:0)}function get(n,e){const t=new het,r=pet(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let u=0;u<9;u++)i.probe.push(new Xe);const a=new Xe,s=new Un,o=new Un;function l(u,d){let f=0,h=0,p=0;for(let M=0;M<9;M++)i.probe[M].set(0,0,0);let m=0,v=0,g=0,y=0,b=0,_=0,x=0,S=0;u.sort(vet);const T=d!==!0?Math.PI:1;for(let M=0,A=u.length;M<A;M++){const I=u[M],D=I.color,L=I.intensity,F=I.distance,B=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)f+=D.r*L*T,h+=D.g*L*T,p+=D.b*L*T;else if(I.isLightProbe)for(let k=0;k<9;k++)i.probe[k].addScaledVector(I.sh.coefficients[k],L);else if(I.isDirectionalLight){const k=t.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity*T),I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,i.directionalShadow[m]=z,i.directionalShadowMap[m]=B,i.directionalShadowMatrix[m]=I.shadow.matrix,_++}i.directional[m]=k,m++}else if(I.isSpotLight){const k=t.get(I);if(k.position.setFromMatrixPosition(I.matrixWorld),k.color.copy(D).multiplyScalar(L*T),k.distance=F,k.coneCos=Math.cos(I.angle),k.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),k.decay=I.decay,I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,i.spotShadow[g]=z,i.spotShadowMap[g]=B,i.spotShadowMatrix[g]=I.shadow.matrix,S++}i.spot[g]=k,g++}else if(I.isRectAreaLight){const k=t.get(I);k.color.copy(D).multiplyScalar(L),k.halfWidth.set(I.width*.5,0,0),k.halfHeight.set(0,I.height*.5,0),i.rectArea[y]=k,y++}else if(I.isPointLight){const k=t.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity*T),k.distance=I.distance,k.decay=I.decay,I.castShadow){const H=I.shadow,z=r.get(I);z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,z.shadowCameraNear=H.camera.near,z.shadowCameraFar=H.camera.far,i.pointShadow[v]=z,i.pointShadowMap[v]=B,i.pointShadowMatrix[v]=I.shadow.matrix,x++}i.point[v]=k,v++}else if(I.isHemisphereLight){const k=t.get(I);k.skyColor.copy(I.color).multiplyScalar(L*T),k.groundColor.copy(I.groundColor).multiplyScalar(L*T),i.hemi[b]=k,b++}}y>0&&(e.isWebGL2||n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Sn.LTC_FLOAT_1,i.rectAreaLTC2=Sn.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Sn.LTC_HALF_1,i.rectAreaLTC2=Sn.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=p;const C=i.hash;(C.directionalLength!==m||C.pointLength!==v||C.spotLength!==g||C.rectAreaLength!==y||C.hemiLength!==b||C.numDirectionalShadows!==_||C.numPointShadows!==x||C.numSpotShadows!==S)&&(i.directional.length=m,i.spot.length=g,i.rectArea.length=y,i.point.length=v,i.hemi.length=b,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=x,i.pointShadowMap.length=x,i.spotShadow.length=S,i.spotShadowMap.length=S,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=x,i.spotShadowMatrix.length=S,C.directionalLength=m,C.pointLength=v,C.spotLength=g,C.rectAreaLength=y,C.hemiLength=b,C.numDirectionalShadows=_,C.numPointShadows=x,C.numSpotShadows=S,i.version=met++)}function c(u,d){let f=0,h=0,p=0,m=0,v=0;const g=d.matrixWorldInverse;for(let y=0,b=u.length;y<b;y++){const _=u[y];if(_.isDirectionalLight){const x=i.directional[f];x.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(g),f++}else if(_.isSpotLight){const x=i.spot[p];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(g),x.direction.setFromMatrixPosition(_.matrixWorld),a.setFromMatrixPosition(_.target.matrixWorld),x.direction.sub(a),x.direction.transformDirection(g),p++}else if(_.isRectAreaLight){const x=i.rectArea[m];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(g),o.identity(),s.copy(_.matrixWorld),s.premultiply(g),o.extractRotation(s),x.halfWidth.set(_.width*.5,0,0),x.halfHeight.set(0,_.height*.5,0),x.halfWidth.applyMatrix4(o),x.halfHeight.applyMatrix4(o),m++}else if(_.isPointLight){const x=i.point[h];x.position.setFromMatrixPosition(_.matrixWorld),x.position.applyMatrix4(g),h++}else if(_.isHemisphereLight){const x=i.hemi[v];x.direction.setFromMatrixPosition(_.matrixWorld),x.direction.transformDirection(g),v++}}}return{setup:l,setupView:c,state:i}}function G$(n,e){const t=new get(n,e),r=[],i=[];function a(){r.length=0,i.length=0}function s(d){r.push(d)}function o(d){i.push(d)}function l(d){t.setup(r,d)}function c(d){t.setupView(r,d)}return{init:a,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:s,pushShadow:o}}function yet(n,e){let t=new WeakMap;function r(a,s=0){let o;return t.has(a)===!1?(o=new G$(n,e),t.set(a,[o])):s>=t.get(a).length?(o=new G$(n,e),t.get(a).push(o)):o=t.get(a)[s],o}function i(){t=new WeakMap}return{get:r,dispose:i}}let zre=class extends ya{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=gXe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},Ure=class extends ya{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Xe,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}};const bet=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_et=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function wet(n,e,t){let r=new W8;const i=new Wt,a=new Wt,s=new ri,o=new zre({depthPacking:yXe}),l=new Ure,c={},u=t.maxTextureSize,d={0:yc,1:ch,2:uh},f=new xd({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Wt},radius:{value:4}},vertexShader:bet,fragmentShader:_et}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Hr;p.setAttribute("position",new ea(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Ta(p,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=fre,this.render=function(_,x,S){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||_.length===0)return;const T=n.getRenderTarget(),C=n.getActiveCubeFace(),M=n.getActiveMipmapLevel(),A=n.state;A.setBlending(Hf),A.buffers.color.setClear(1,1,1,1),A.buffers.depth.setTest(!0),A.setScissorTest(!1);for(let I=0,D=_.length;I<D;I++){const L=_[I],F=L.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",L,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const B=F.getFrameExtents();if(i.multiply(B),a.copy(F.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/B.x),i.x=a.x*B.x,F.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/B.y),i.y=a.y*B.y,F.mapSize.y=a.y)),F.map===null){const H=this.type!==F1?{minFilter:Ba,magFilter:Ba}:{};F.map=new wm(i.x,i.y,H),F.map.texture.name=L.name+".shadowMap",F.camera.updateProjectionMatrix()}n.setRenderTarget(F.map),n.clear();const k=F.getViewportCount();for(let H=0;H<k;H++){const z=F.getViewport(H);s.set(a.x*z.x,a.y*z.y,a.x*z.z,a.y*z.w),A.viewport(s),F.updateMatrices(L,H),r=F.getFrustum(),b(x,S,F.camera,L,this.type)}F.isPointLightShadow!==!0&&this.type===F1&&g(F,S),F.needsUpdate=!1}v.needsUpdate=!1,n.setRenderTarget(T,C,M)};function g(_,x){const S=e.update(m);f.defines.VSM_SAMPLES!==_.blurSamples&&(f.defines.VSM_SAMPLES=_.blurSamples,h.defines.VSM_SAMPLES=_.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),_.mapPass===null&&(_.mapPass=new wm(i.x,i.y)),f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,n.setRenderTarget(_.mapPass),n.clear(),n.renderBufferDirect(x,null,S,f,m,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,n.setRenderTarget(_.map),n.clear(),n.renderBufferDirect(x,null,S,h,m,null)}function y(_,x,S,T,C,M){let A=null;const I=S.isPointLight===!0?_.customDistanceMaterial:_.customDepthMaterial;if(I!==void 0?A=I:A=S.isPointLight===!0?l:o,n.localClippingEnabled&&x.clipShadows===!0&&Array.isArray(x.clippingPlanes)&&x.clippingPlanes.length!==0||x.displacementMap&&x.displacementScale!==0||x.alphaMap&&x.alphaTest>0){const D=A.uuid,L=x.uuid;let F=c[D];F===void 0&&(F={},c[D]=F);let B=F[L];B===void 0&&(B=A.clone(),F[L]=B),A=B}return A.visible=x.visible,A.wireframe=x.wireframe,M===F1?A.side=x.shadowSide!==null?x.shadowSide:x.side:A.side=x.shadowSide!==null?x.shadowSide:d[x.side],A.alphaMap=x.alphaMap,A.alphaTest=x.alphaTest,A.clipShadows=x.clipShadows,A.clippingPlanes=x.clippingPlanes,A.clipIntersection=x.clipIntersection,A.displacementMap=x.displacementMap,A.displacementScale=x.displacementScale,A.displacementBias=x.displacementBias,A.wireframeLinewidth=x.wireframeLinewidth,A.linewidth=x.linewidth,S.isPointLight===!0&&A.isMeshDistanceMaterial===!0&&(A.referencePosition.setFromMatrixPosition(S.matrixWorld),A.nearDistance=T,A.farDistance=C),A}function b(_,x,S,T,C){if(_.visible===!1)return;if(_.layers.test(x.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&C===F1)&&(!_.frustumCulled||r.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,_.matrixWorld);const I=e.update(_),D=_.material;if(Array.isArray(D)){const L=I.groups;for(let F=0,B=L.length;F<B;F++){const k=L[F],H=D[k.materialIndex];if(H&&H.visible){const z=y(_,H,T,S.near,S.far,C);n.renderBufferDirect(S,null,I,z,_,k)}}}else if(D.visible){const L=y(_,D,T,S.near,S.far,C);n.renderBufferDirect(S,null,I,L,_,null)}}const A=_.children;for(let I=0,D=A.length;I<D;I++)b(A[I],x,S,T,C)}}function xet(n,e,t){const r=t.isWebGL2;function i(){let Me=!1;const ht=new ri;let Ee=null;const _t=new ri(0,0,0,0);return{setMask:function(nt){Ee!==nt&&!Me&&(n.colorMask(nt,nt,nt,nt),Ee=nt)},setLocked:function(nt){Me=nt},setClear:function(nt,gt,Lt,At,an){an===!0&&(nt*=At,gt*=At,Lt*=At),ht.set(nt,gt,Lt,At),_t.equals(ht)===!1&&(n.clearColor(nt,gt,Lt,At),_t.copy(ht))},reset:function(){Me=!1,Ee=null,_t.set(-1,0,0,0)}}}function a(){let Me=!1,ht=null,Ee=null,_t=null;return{setTest:function(nt){nt?le(2929):we(2929)},setMask:function(nt){ht!==nt&&!Me&&(n.depthMask(nt),ht=nt)},setFunc:function(nt){if(Ee!==nt){if(nt)switch(nt){case FYe:n.depthFunc(512);break;case zYe:n.depthFunc(519);break;case UYe:n.depthFunc(513);break;case qP:n.depthFunc(515);break;case HYe:n.depthFunc(514);break;case VYe:n.depthFunc(518);break;case $Ye:n.depthFunc(516);break;case GYe:n.depthFunc(517);break;default:n.depthFunc(515)}else n.depthFunc(515);Ee=nt}},setLocked:function(nt){Me=nt},setClear:function(nt){_t!==nt&&(n.clearDepth(nt),_t=nt)},reset:function(){Me=!1,ht=null,Ee=null,_t=null}}}function s(){let Me=!1,ht=null,Ee=null,_t=null,nt=null,gt=null,Lt=null,At=null,an=null;return{setTest:function(_n){Me||(_n?le(2960):we(2960))},setMask:function(_n){ht!==_n&&!Me&&(n.stencilMask(_n),ht=_n)},setFunc:function(_n,lr,Ln){(Ee!==_n||_t!==lr||nt!==Ln)&&(n.stencilFunc(_n,lr,Ln),Ee=_n,_t=lr,nt=Ln)},setOp:function(_n,lr,Ln){(gt!==_n||Lt!==lr||At!==Ln)&&(n.stencilOp(_n,lr,Ln),gt=_n,Lt=lr,At=Ln)},setLocked:function(_n){Me=_n},setClear:function(_n){an!==_n&&(n.clearStencil(_n),an=_n)},reset:function(){Me=!1,ht=null,Ee=null,_t=null,nt=null,gt=null,Lt=null,At=null,an=null}}}const o=new i,l=new a,c=new s,u=new WeakMap,d=new WeakMap;let f={},h={},p=new WeakMap,m=[],v=null,g=!1,y=null,b=null,_=null,x=null,S=null,T=null,C=null,M=!1,A=null,I=null,D=null,L=null,F=null;const B=n.getParameter(35661);let k=!1,H=0;const z=n.getParameter(7938);z.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(z)[1]),k=H>=1):z.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),k=H>=2);let O=null,W={};const j=n.getParameter(3088),ee=n.getParameter(2978),te=new ri().fromArray(j),J=new ri().fromArray(ee);function Q(Me,ht,Ee){const _t=new Uint8Array(4),nt=n.createTexture();n.bindTexture(Me,nt),n.texParameteri(Me,10241,9728),n.texParameteri(Me,10240,9728);for(let gt=0;gt<Ee;gt++)n.texImage2D(ht+gt,0,6408,1,1,0,6408,5121,_t);return nt}const ie={};ie[3553]=Q(3553,3553,1),ie[34067]=Q(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),le(2929),l.setFunc(qP),Pe(!1),$e(BV),le(2884),re(Hf);function le(Me){f[Me]!==!0&&(n.enable(Me),f[Me]=!0)}function we(Me){f[Me]!==!1&&(n.disable(Me),f[Me]=!1)}function Ae(Me,ht){return h[Me]!==ht?(n.bindFramebuffer(Me,ht),h[Me]=ht,r&&(Me===36009&&(h[36160]=ht),Me===36160&&(h[36009]=ht)),!0):!1}function ke(Me,ht){let Ee=m,_t=!1;if(Me)if(Ee=p.get(ht),Ee===void 0&&(Ee=[],p.set(ht,Ee)),Me.isWebGLMultipleRenderTargets){const nt=Me.texture;if(Ee.length!==nt.length||Ee[0]!==36064){for(let gt=0,Lt=nt.length;gt<Lt;gt++)Ee[gt]=36064+gt;Ee.length=nt.length,_t=!0}}else Ee[0]!==36064&&(Ee[0]=36064,_t=!0);else Ee[0]!==1029&&(Ee[0]=1029,_t=!0);_t&&(t.isWebGL2?n.drawBuffers(Ee):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ee))}function Fe(Me){return v!==Me?(n.useProgram(Me),v=Me,!0):!1}const q={[lv]:32774,[AYe]:32778,[EYe]:32779};if(r)q[HV]=32775,q[VV]=32776;else{const Me=e.get("EXT_blend_minmax");Me!==null&&(q[HV]=Me.MIN_EXT,q[VV]=Me.MAX_EXT)}const ce={[IYe]:0,[RYe]:1,[PYe]:768,[hre]:770,[BYe]:776,[NYe]:774,[kYe]:772,[DYe]:769,[pre]:771,[OYe]:775,[LYe]:773};function re(Me,ht,Ee,_t,nt,gt,Lt,At){if(Me===Hf){g===!0&&(we(3042),g=!1);return}if(g===!1&&(le(3042),g=!0),Me!==TYe){if(Me!==y||At!==M){if((b!==lv||S!==lv)&&(n.blendEquation(32774),b=lv,S=lv),At)switch(Me){case qv:n.blendFuncSeparate(1,771,1,771);break;case FV:n.blendFunc(1,1);break;case zV:n.blendFuncSeparate(0,769,0,1);break;case UV:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}else switch(Me){case qv:n.blendFuncSeparate(770,771,1,771);break;case FV:n.blendFunc(770,1);break;case zV:n.blendFuncSeparate(0,769,0,1);break;case UV:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Me);break}_=null,x=null,T=null,C=null,y=Me,M=At}return}nt=nt||ht,gt=gt||Ee,Lt=Lt||_t,(ht!==b||nt!==S)&&(n.blendEquationSeparate(q[ht],q[nt]),b=ht,S=nt),(Ee!==_||_t!==x||gt!==T||Lt!==C)&&(n.blendFuncSeparate(ce[Ee],ce[_t],ce[gt],ce[Lt]),_=Ee,x=_t,T=gt,C=Lt),y=Me,M=null}function Ne(Me,ht){Me.side===uh?we(2884):le(2884);let Ee=Me.side===yc;ht&&(Ee=!Ee),Pe(Ee),Me.blending===qv&&Me.transparent===!1?re(Hf):re(Me.blending,Me.blendEquation,Me.blendSrc,Me.blendDst,Me.blendEquationAlpha,Me.blendSrcAlpha,Me.blendDstAlpha,Me.premultipliedAlpha),l.setFunc(Me.depthFunc),l.setTest(Me.depthTest),l.setMask(Me.depthWrite),o.setMask(Me.colorWrite);const _t=Me.stencilWrite;c.setTest(_t),_t&&(c.setMask(Me.stencilWriteMask),c.setFunc(Me.stencilFunc,Me.stencilRef,Me.stencilFuncMask),c.setOp(Me.stencilFail,Me.stencilZFail,Me.stencilZPass)),Ve(Me.polygonOffset,Me.polygonOffsetFactor,Me.polygonOffsetUnits),Me.alphaToCoverage===!0?le(32926):we(32926)}function Pe(Me){A!==Me&&(Me?n.frontFace(2304):n.frontFace(2305),A=Me)}function $e(Me){Me!==xYe?(le(2884),Me!==I&&(Me===BV?n.cullFace(1029):Me===SYe?n.cullFace(1028):n.cullFace(1032))):we(2884),I=Me}function Ue(Me){Me!==D&&(k&&n.lineWidth(Me),D=Me)}function Ve(Me,ht,Ee){Me?(le(32823),(L!==ht||F!==Ee)&&(n.polygonOffset(ht,Ee),L=ht,F=Ee)):we(32823)}function je(Me){Me?le(3089):we(3089)}function fe(Me){Me===void 0&&(Me=33984+B-1),O!==Me&&(n.activeTexture(Me),O=Me)}function $(Me,ht){O===null&&fe();let Ee=W[O];Ee===void 0&&(Ee={type:void 0,texture:void 0},W[O]=Ee),(Ee.type!==Me||Ee.texture!==ht)&&(n.bindTexture(Me,ht||ie[Me]),Ee.type=Me,Ee.texture=ht)}function X(){const Me=W[O];Me!==void 0&&Me.type!==void 0&&(n.bindTexture(Me.type,null),Me.type=void 0,Me.texture=void 0)}function me(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Oe(){try{n.texSubImage2D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function qe(){try{n.texSubImage3D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function mt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function pt(){try{n.texStorage2D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function Ce(){try{n.texStorage3D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function ft(){try{n.texImage2D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function at(){try{n.texImage3D.apply(n,arguments)}catch(Me){console.error("THREE.WebGLState:",Me)}}function G(Me){te.equals(Me)===!1&&(n.scissor(Me.x,Me.y,Me.z,Me.w),te.copy(Me))}function ge(Me){J.equals(Me)===!1&&(n.viewport(Me.x,Me.y,Me.z,Me.w),J.copy(Me))}function pe(Me,ht){let Ee=d.get(ht);Ee===void 0&&(Ee=new WeakMap,d.set(ht,Ee));let _t=Ee.get(Me);_t===void 0&&(_t=n.getUniformBlockIndex(ht,Me.name),Ee.set(Me,_t))}function Ie(Me,ht){const _t=d.get(ht).get(Me);u.get(Me)!==_t&&(n.uniformBlockBinding(ht,_t,Me.__bindingPointIndex),u.set(Me,_t))}function ye(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),r===!0&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},O=null,W={},h={},p=new WeakMap,m=[],v=null,g=!1,y=null,b=null,_=null,x=null,S=null,T=null,C=null,M=!1,A=null,I=null,D=null,L=null,F=null,te.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:le,disable:we,bindFramebuffer:Ae,drawBuffers:ke,useProgram:Fe,setBlending:re,setMaterial:Ne,setFlipSided:Pe,setCullFace:$e,setLineWidth:Ue,setPolygonOffset:Ve,setScissorTest:je,activeTexture:fe,bindTexture:$,unbindTexture:X,compressedTexImage2D:me,texImage2D:ft,texImage3D:at,updateUBOMapping:pe,uniformBlockBinding:Ie,texStorage2D:pt,texStorage3D:Ce,texSubImage2D:Oe,texSubImage3D:qe,compressedTexSubImage2D:mt,scissor:G,viewport:ge,reset:ye}}function Cet(n,e,t,r,i,a,s){const o=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,f=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const v=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y($,X){return g?new OffscreenCanvas($,X):T_("canvas")}function b($,X,me,Oe){let qe=1;if(($.width>Oe||$.height>Oe)&&(qe=Oe/Math.max($.width,$.height)),qe<1||X===!0)if(typeof HTMLImageElement<"u"&&$ instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&$ instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&$ instanceof ImageBitmap){const mt=X?IM:Math.floor,pt=mt(qe*$.width),Ce=mt(qe*$.height);m===void 0&&(m=y(pt,Ce));const ft=me?y(pt,Ce):m;return ft.width=pt,ft.height=Ce,ft.getContext("2d").drawImage($,0,0,pt,Ce),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$.width+"x"+$.height+") to ("+pt+"x"+Ce+")."),ft}else return"data"in $&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$.width+"x"+$.height+")."),$;return $}function _($){return XP($.width)&&XP($.height)}function x($){return o?!1:$.wrapS!==Ma||$.wrapT!==Ma||$.minFilter!==Ba&&$.minFilter!==ma}function S($,X){return $.generateMipmaps&&X&&$.minFilter!==Ba&&$.minFilter!==ma}function T($){n.generateMipmap($)}function C($,X,me,Oe,qe=!1){if(o===!1)return X;if($!==null){if(n[$]!==void 0)return n[$];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+$+"'")}let mt=X;return X===6403&&(me===5126&&(mt=33326),me===5131&&(mt=33325),me===5121&&(mt=33321)),X===33319&&(me===5126&&(mt=33328),me===5131&&(mt=33327),me===5121&&(mt=33323)),X===6408&&(me===5126&&(mt=34836),me===5131&&(mt=34842),me===5121&&(mt=Oe===Er&&qe===!1?35907:32856),me===32819&&(mt=32854),me===32820&&(mt=32855)),(mt===33325||mt===33326||mt===33327||mt===33328||mt===34842||mt===34836)&&e.get("EXT_color_buffer_float"),mt}function M($,X,me){return S($,me)===!0||$.isFramebufferTexture&&$.minFilter!==Ba&&$.minFilter!==ma?Math.log2(Math.max(X.width,X.height))+1:$.mipmaps!==void 0&&$.mipmaps.length>0?$.mipmaps.length:$.isCompressedTexture&&Array.isArray($.image)?X.mipmaps.length:1}function A($){return $===Ba||$===TM||$===AM?9728:9729}function I($){const X=$.target;X.removeEventListener("dispose",I),L(X),X.isVideoTexture&&p.delete(X)}function D($){const X=$.target;X.removeEventListener("dispose",D),B(X)}function L($){const X=r.get($);if(X.__webglInit===void 0)return;const me=$.source,Oe=v.get(me);if(Oe){const qe=Oe[X.__cacheKey];qe.usedTimes--,qe.usedTimes===0&&F($),Object.keys(Oe).length===0&&v.delete(me)}r.remove($)}function F($){const X=r.get($);n.deleteTexture(X.__webglTexture);const me=$.source,Oe=v.get(me);delete Oe[X.__cacheKey],s.memory.textures--}function B($){const X=$.texture,me=r.get($),Oe=r.get(X);if(Oe.__webglTexture!==void 0&&(n.deleteTexture(Oe.__webglTexture),s.memory.textures--),$.depthTexture&&$.depthTexture.dispose(),$.isWebGLCubeRenderTarget)for(let qe=0;qe<6;qe++)n.deleteFramebuffer(me.__webglFramebuffer[qe]),me.__webglDepthbuffer&&n.deleteRenderbuffer(me.__webglDepthbuffer[qe]);else{if(n.deleteFramebuffer(me.__webglFramebuffer),me.__webglDepthbuffer&&n.deleteRenderbuffer(me.__webglDepthbuffer),me.__webglMultisampledFramebuffer&&n.deleteFramebuffer(me.__webglMultisampledFramebuffer),me.__webglColorRenderbuffer)for(let qe=0;qe<me.__webglColorRenderbuffer.length;qe++)me.__webglColorRenderbuffer[qe]&&n.deleteRenderbuffer(me.__webglColorRenderbuffer[qe]);me.__webglDepthRenderbuffer&&n.deleteRenderbuffer(me.__webglDepthRenderbuffer)}if($.isWebGLMultipleRenderTargets)for(let qe=0,mt=X.length;qe<mt;qe++){const pt=r.get(X[qe]);pt.__webglTexture&&(n.deleteTexture(pt.__webglTexture),s.memory.textures--),r.remove(X[qe])}r.remove(X),r.remove($)}let k=0;function H(){k=0}function z(){const $=k;return $>=l&&console.warn("THREE.WebGLTextures: Trying to use "+$+" texture units while this GPU supports only "+l),k+=1,$}function O($){const X=[];return X.push($.wrapS),X.push($.wrapT),X.push($.magFilter),X.push($.minFilter),X.push($.anisotropy),X.push($.internalFormat),X.push($.format),X.push($.type),X.push($.generateMipmaps),X.push($.premultiplyAlpha),X.push($.flipY),X.push($.unpackAlignment),X.push($.encoding),X.join()}function W($,X){const me=r.get($);if($.isVideoTexture&&je($),$.isRenderTargetTexture===!1&&$.version>0&&me.__version!==$.version){const Oe=$.image;if(Oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{we(me,$,X);return}}t.activeTexture(33984+X),t.bindTexture(3553,me.__webglTexture)}function j($,X){const me=r.get($);if($.version>0&&me.__version!==$.version){we(me,$,X);return}t.activeTexture(33984+X),t.bindTexture(35866,me.__webglTexture)}function ee($,X){const me=r.get($);if($.version>0&&me.__version!==$.version){we(me,$,X);return}t.activeTexture(33984+X),t.bindTexture(32879,me.__webglTexture)}function te($,X){const me=r.get($);if($.version>0&&me.__version!==$.version){Ae(me,$,X);return}t.activeTexture(33984+X),t.bindTexture(34067,me.__webglTexture)}const J={[uo]:10497,[Ma]:33071,[x_]:33648},Q={[Ba]:9728,[TM]:9984,[AM]:9986,[ma]:9729,[z8]:9985,[Od]:9987};function ie($,X,me){if(me?(n.texParameteri($,10242,J[X.wrapS]),n.texParameteri($,10243,J[X.wrapT]),($===32879||$===35866)&&n.texParameteri($,32882,J[X.wrapR]),n.texParameteri($,10240,Q[X.magFilter]),n.texParameteri($,10241,Q[X.minFilter])):(n.texParameteri($,10242,33071),n.texParameteri($,10243,33071),($===32879||$===35866)&&n.texParameteri($,32882,33071),(X.wrapS!==Ma||X.wrapT!==Ma)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri($,10240,A(X.magFilter)),n.texParameteri($,10241,A(X.minFilter)),X.minFilter!==Ba&&X.minFilter!==ma&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const Oe=e.get("EXT_texture_filter_anisotropic");if(X.type===kf&&e.has("OES_texture_float_linear")===!1||o===!1&&X.type===S_&&e.has("OES_texture_half_float_linear")===!1)return;(X.anisotropy>1||r.get(X).__currentAnisotropy)&&(n.texParameterf($,Oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy)}}function le($,X){let me=!1;$.__webglInit===void 0&&($.__webglInit=!0,X.addEventListener("dispose",I));const Oe=X.source;let qe=v.get(Oe);qe===void 0&&(qe={},v.set(Oe,qe));const mt=O(X);if(mt!==$.__cacheKey){qe[mt]===void 0&&(qe[mt]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,me=!0),qe[mt].usedTimes++;const pt=qe[$.__cacheKey];pt!==void 0&&(qe[$.__cacheKey].usedTimes--,pt.usedTimes===0&&F(X)),$.__cacheKey=mt,$.__webglTexture=qe[mt].texture}return me}function we($,X,me){let Oe=3553;X.isDataArrayTexture&&(Oe=35866),X.isData3DTexture&&(Oe=32879);const qe=le($,X),mt=X.source;if(t.activeTexture(33984+me),t.bindTexture(Oe,$.__webglTexture),mt.version!==mt.__currentVersion||qe===!0){n.pixelStorei(37440,X.flipY),n.pixelStorei(37441,X.premultiplyAlpha),n.pixelStorei(3317,X.unpackAlignment),n.pixelStorei(37443,0);const pt=x(X)&&_(X.image)===!1;let Ce=b(X.image,pt,!1,u);Ce=fe(X,Ce);const ft=_(Ce)||o,at=a.convert(X.format,X.encoding);let G=a.convert(X.type),ge=C(X.internalFormat,at,G,X.encoding,X.isVideoTexture);ie(Oe,X,ft);let pe;const Ie=X.mipmaps,ye=o&&X.isVideoTexture!==!0,Me=mt.__currentVersion===void 0||qe===!0,ht=M(X,Ce,ft);if(X.isDepthTexture)ge=6402,o?X.type===kf?ge=36012:X.type===zp?ge=33190:X.type===Kv?ge=35056:ge=33189:X.type===kf&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),X.format===nm&&ge===6402&&X.type!==mre&&X.type!==zp&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),X.type=zp,G=a.convert(X.type)),X.format===Mg&&ge===6402&&(ge=34041,X.type!==Kv&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),X.type=Kv,G=a.convert(X.type))),Me&&(ye?t.texStorage2D(3553,1,ge,Ce.width,Ce.height):t.texImage2D(3553,0,ge,Ce.width,Ce.height,0,at,G,null));else if(X.isDataTexture)if(Ie.length>0&&ft){ye&&Me&&t.texStorage2D(3553,ht,ge,Ie[0].width,Ie[0].height);for(let Ee=0,_t=Ie.length;Ee<_t;Ee++)pe=Ie[Ee],ye?t.texSubImage2D(3553,Ee,0,0,pe.width,pe.height,at,G,pe.data):t.texImage2D(3553,Ee,ge,pe.width,pe.height,0,at,G,pe.data);X.generateMipmaps=!1}else ye?(Me&&t.texStorage2D(3553,ht,ge,Ce.width,Ce.height),t.texSubImage2D(3553,0,0,0,Ce.width,Ce.height,at,G,Ce.data)):t.texImage2D(3553,0,ge,Ce.width,Ce.height,0,at,G,Ce.data);else if(X.isCompressedTexture){ye&&Me&&t.texStorage2D(3553,ht,ge,Ie[0].width,Ie[0].height);for(let Ee=0,_t=Ie.length;Ee<_t;Ee++)pe=Ie[Ee],X.format!==_l?at!==null?ye?t.compressedTexSubImage2D(3553,Ee,0,0,pe.width,pe.height,at,pe.data):t.compressedTexImage2D(3553,Ee,ge,pe.width,pe.height,0,pe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?t.texSubImage2D(3553,Ee,0,0,pe.width,pe.height,at,G,pe.data):t.texImage2D(3553,Ee,ge,pe.width,pe.height,0,at,G,pe.data)}else if(X.isDataArrayTexture)ye?(Me&&t.texStorage3D(35866,ht,ge,Ce.width,Ce.height,Ce.depth),t.texSubImage3D(35866,0,0,0,0,Ce.width,Ce.height,Ce.depth,at,G,Ce.data)):t.texImage3D(35866,0,ge,Ce.width,Ce.height,Ce.depth,0,at,G,Ce.data);else if(X.isData3DTexture)ye?(Me&&t.texStorage3D(32879,ht,ge,Ce.width,Ce.height,Ce.depth),t.texSubImage3D(32879,0,0,0,0,Ce.width,Ce.height,Ce.depth,at,G,Ce.data)):t.texImage3D(32879,0,ge,Ce.width,Ce.height,Ce.depth,0,at,G,Ce.data);else if(X.isFramebufferTexture){if(Me)if(ye)t.texStorage2D(3553,ht,ge,Ce.width,Ce.height);else{let Ee=Ce.width,_t=Ce.height;for(let nt=0;nt<ht;nt++)t.texImage2D(3553,nt,ge,Ee,_t,0,at,G,null),Ee>>=1,_t>>=1}}else if(Ie.length>0&&ft){ye&&Me&&t.texStorage2D(3553,ht,ge,Ie[0].width,Ie[0].height);for(let Ee=0,_t=Ie.length;Ee<_t;Ee++)pe=Ie[Ee],ye?t.texSubImage2D(3553,Ee,0,0,at,G,pe):t.texImage2D(3553,Ee,ge,at,G,pe);X.generateMipmaps=!1}else ye?(Me&&t.texStorage2D(3553,ht,ge,Ce.width,Ce.height),t.texSubImage2D(3553,0,0,0,at,G,Ce)):t.texImage2D(3553,0,ge,at,G,Ce);S(X,ft)&&T(Oe),mt.__currentVersion=mt.version,X.onUpdate&&X.onUpdate(X)}$.__version=X.version}function Ae($,X,me){if(X.image.length!==6)return;const Oe=le($,X),qe=X.source;if(t.activeTexture(33984+me),t.bindTexture(34067,$.__webglTexture),qe.version!==qe.__currentVersion||Oe===!0){n.pixelStorei(37440,X.flipY),n.pixelStorei(37441,X.premultiplyAlpha),n.pixelStorei(3317,X.unpackAlignment),n.pixelStorei(37443,0);const mt=X.isCompressedTexture||X.image[0].isCompressedTexture,pt=X.image[0]&&X.image[0].isDataTexture,Ce=[];for(let Ee=0;Ee<6;Ee++)!mt&&!pt?Ce[Ee]=b(X.image[Ee],!1,!0,c):Ce[Ee]=pt?X.image[Ee].image:X.image[Ee],Ce[Ee]=fe(X,Ce[Ee]);const ft=Ce[0],at=_(ft)||o,G=a.convert(X.format,X.encoding),ge=a.convert(X.type),pe=C(X.internalFormat,G,ge,X.encoding),Ie=o&&X.isVideoTexture!==!0,ye=qe.__currentVersion===void 0||Oe===!0;let Me=M(X,ft,at);ie(34067,X,at);let ht;if(mt){Ie&&ye&&t.texStorage2D(34067,Me,pe,ft.width,ft.height);for(let Ee=0;Ee<6;Ee++){ht=Ce[Ee].mipmaps;for(let _t=0;_t<ht.length;_t++){const nt=ht[_t];X.format!==_l?G!==null?Ie?t.compressedTexSubImage2D(34069+Ee,_t,0,0,nt.width,nt.height,G,nt.data):t.compressedTexImage2D(34069+Ee,_t,pe,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ie?t.texSubImage2D(34069+Ee,_t,0,0,nt.width,nt.height,G,ge,nt.data):t.texImage2D(34069+Ee,_t,pe,nt.width,nt.height,0,G,ge,nt.data)}}}else{ht=X.mipmaps,Ie&&ye&&(ht.length>0&&Me++,t.texStorage2D(34067,Me,pe,Ce[0].width,Ce[0].height));for(let Ee=0;Ee<6;Ee++)if(pt){Ie?t.texSubImage2D(34069+Ee,0,0,0,Ce[Ee].width,Ce[Ee].height,G,ge,Ce[Ee].data):t.texImage2D(34069+Ee,0,pe,Ce[Ee].width,Ce[Ee].height,0,G,ge,Ce[Ee].data);for(let _t=0;_t<ht.length;_t++){const gt=ht[_t].image[Ee].image;Ie?t.texSubImage2D(34069+Ee,_t+1,0,0,gt.width,gt.height,G,ge,gt.data):t.texImage2D(34069+Ee,_t+1,pe,gt.width,gt.height,0,G,ge,gt.data)}}else{Ie?t.texSubImage2D(34069+Ee,0,0,0,G,ge,Ce[Ee]):t.texImage2D(34069+Ee,0,pe,G,ge,Ce[Ee]);for(let _t=0;_t<ht.length;_t++){const nt=ht[_t];Ie?t.texSubImage2D(34069+Ee,_t+1,0,0,G,ge,nt.image[Ee]):t.texImage2D(34069+Ee,_t+1,pe,G,ge,nt.image[Ee])}}}S(X,at)&&T(34067),qe.__currentVersion=qe.version,X.onUpdate&&X.onUpdate(X)}$.__version=X.version}function ke($,X,me,Oe,qe){const mt=a.convert(me.format,me.encoding),pt=a.convert(me.type),Ce=C(me.internalFormat,mt,pt,me.encoding);r.get(X).__hasExternalTextures||(qe===32879||qe===35866?t.texImage3D(qe,0,Ce,X.width,X.height,X.depth,0,mt,pt,null):t.texImage2D(qe,0,Ce,X.width,X.height,0,mt,pt,null)),t.bindFramebuffer(36160,$),Ve(X)?f.framebufferTexture2DMultisampleEXT(36160,Oe,qe,r.get(me).__webglTexture,0,Ue(X)):n.framebufferTexture2D(36160,Oe,qe,r.get(me).__webglTexture,0),t.bindFramebuffer(36160,null)}function Fe($,X,me){if(n.bindRenderbuffer(36161,$),X.depthBuffer&&!X.stencilBuffer){let Oe=33189;if(me||Ve(X)){const qe=X.depthTexture;qe&&qe.isDepthTexture&&(qe.type===kf?Oe=36012:qe.type===zp&&(Oe=33190));const mt=Ue(X);Ve(X)?f.renderbufferStorageMultisampleEXT(36161,mt,Oe,X.width,X.height):n.renderbufferStorageMultisample(36161,mt,Oe,X.width,X.height)}else n.renderbufferStorage(36161,Oe,X.width,X.height);n.framebufferRenderbuffer(36160,36096,36161,$)}else if(X.depthBuffer&&X.stencilBuffer){const Oe=Ue(X);me&&Ve(X)===!1?n.renderbufferStorageMultisample(36161,Oe,35056,X.width,X.height):Ve(X)?f.renderbufferStorageMultisampleEXT(36161,Oe,35056,X.width,X.height):n.renderbufferStorage(36161,34041,X.width,X.height),n.framebufferRenderbuffer(36160,33306,36161,$)}else{const Oe=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let qe=0;qe<Oe.length;qe++){const mt=Oe[qe],pt=a.convert(mt.format,mt.encoding),Ce=a.convert(mt.type),ft=C(mt.internalFormat,pt,Ce,mt.encoding),at=Ue(X);me&&Ve(X)===!1?n.renderbufferStorageMultisample(36161,at,ft,X.width,X.height):Ve(X)?f.renderbufferStorageMultisampleEXT(36161,at,ft,X.width,X.height):n.renderbufferStorage(36161,ft,X.width,X.height)}}n.bindRenderbuffer(36161,null)}function q($,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,$),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(X.depthTexture).__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),W(X.depthTexture,0);const Oe=r.get(X.depthTexture).__webglTexture,qe=Ue(X);if(X.depthTexture.format===nm)Ve(X)?f.framebufferTexture2DMultisampleEXT(36160,36096,3553,Oe,0,qe):n.framebufferTexture2D(36160,36096,3553,Oe,0);else if(X.depthTexture.format===Mg)Ve(X)?f.framebufferTexture2DMultisampleEXT(36160,33306,3553,Oe,0,qe):n.framebufferTexture2D(36160,33306,3553,Oe,0);else throw new Error("Unknown depthTexture format")}function ce($){const X=r.get($),me=$.isWebGLCubeRenderTarget===!0;if($.depthTexture&&!X.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");q(X.__webglFramebuffer,$)}else if(me){X.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)t.bindFramebuffer(36160,X.__webglFramebuffer[Oe]),X.__webglDepthbuffer[Oe]=n.createRenderbuffer(),Fe(X.__webglDepthbuffer[Oe],$,!1)}else t.bindFramebuffer(36160,X.__webglFramebuffer),X.__webglDepthbuffer=n.createRenderbuffer(),Fe(X.__webglDepthbuffer,$,!1);t.bindFramebuffer(36160,null)}function re($,X,me){const Oe=r.get($);X!==void 0&&ke(Oe.__webglFramebuffer,$,$.texture,36064,3553),me!==void 0&&ce($)}function Ne($){const X=$.texture,me=r.get($),Oe=r.get(X);$.addEventListener("dispose",D),$.isWebGLMultipleRenderTargets!==!0&&(Oe.__webglTexture===void 0&&(Oe.__webglTexture=n.createTexture()),Oe.__version=X.version,s.memory.textures++);const qe=$.isWebGLCubeRenderTarget===!0,mt=$.isWebGLMultipleRenderTargets===!0,pt=_($)||o;if(qe){me.__webglFramebuffer=[];for(let Ce=0;Ce<6;Ce++)me.__webglFramebuffer[Ce]=n.createFramebuffer()}else{if(me.__webglFramebuffer=n.createFramebuffer(),mt)if(i.drawBuffers){const Ce=$.texture;for(let ft=0,at=Ce.length;ft<at;ft++){const G=r.get(Ce[ft]);G.__webglTexture===void 0&&(G.__webglTexture=n.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&$.samples>0&&Ve($)===!1){const Ce=mt?X:[X];me.__webglMultisampledFramebuffer=n.createFramebuffer(),me.__webglColorRenderbuffer=[],t.bindFramebuffer(36160,me.__webglMultisampledFramebuffer);for(let ft=0;ft<Ce.length;ft++){const at=Ce[ft];me.__webglColorRenderbuffer[ft]=n.createRenderbuffer(),n.bindRenderbuffer(36161,me.__webglColorRenderbuffer[ft]);const G=a.convert(at.format,at.encoding),ge=a.convert(at.type),pe=C(at.internalFormat,G,ge,at.encoding),Ie=Ue($);n.renderbufferStorageMultisample(36161,Ie,pe,$.width,$.height),n.framebufferRenderbuffer(36160,36064+ft,36161,me.__webglColorRenderbuffer[ft])}n.bindRenderbuffer(36161,null),$.depthBuffer&&(me.__webglDepthRenderbuffer=n.createRenderbuffer(),Fe(me.__webglDepthRenderbuffer,$,!0)),t.bindFramebuffer(36160,null)}}if(qe){t.bindTexture(34067,Oe.__webglTexture),ie(34067,X,pt);for(let Ce=0;Ce<6;Ce++)ke(me.__webglFramebuffer[Ce],$,X,36064,34069+Ce);S(X,pt)&&T(34067),t.unbindTexture()}else if(mt){const Ce=$.texture;for(let ft=0,at=Ce.length;ft<at;ft++){const G=Ce[ft],ge=r.get(G);t.bindTexture(3553,ge.__webglTexture),ie(3553,G,pt),ke(me.__webglFramebuffer,$,G,36064+ft,3553),S(G,pt)&&T(3553)}t.unbindTexture()}else{let Ce=3553;($.isWebGL3DRenderTarget||$.isWebGLArrayRenderTarget)&&(o?Ce=$.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ce,Oe.__webglTexture),ie(Ce,X,pt),ke(me.__webglFramebuffer,$,X,36064,Ce),S(X,pt)&&T(Ce),t.unbindTexture()}$.depthBuffer&&ce($)}function Pe($){const X=_($)||o,me=$.isWebGLMultipleRenderTargets===!0?$.texture:[$.texture];for(let Oe=0,qe=me.length;Oe<qe;Oe++){const mt=me[Oe];if(S(mt,X)){const pt=$.isWebGLCubeRenderTarget?34067:3553,Ce=r.get(mt).__webglTexture;t.bindTexture(pt,Ce),T(pt),t.unbindTexture()}}}function $e($){if(o&&$.samples>0&&Ve($)===!1){const X=$.isWebGLMultipleRenderTargets?$.texture:[$.texture],me=$.width,Oe=$.height;let qe=16384;const mt=[],pt=$.stencilBuffer?33306:36096,Ce=r.get($),ft=$.isWebGLMultipleRenderTargets===!0;if(ft)for(let at=0;at<X.length;at++)t.bindFramebuffer(36160,Ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+at,36161,null),t.bindFramebuffer(36160,Ce.__webglFramebuffer),n.framebufferTexture2D(36009,36064+at,3553,null,0);t.bindFramebuffer(36008,Ce.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,Ce.__webglFramebuffer);for(let at=0;at<X.length;at++){mt.push(36064+at),$.depthBuffer&&mt.push(pt);const G=Ce.__ignoreDepthValues!==void 0?Ce.__ignoreDepthValues:!1;if(G===!1&&($.depthBuffer&&(qe|=256),$.stencilBuffer&&(qe|=1024)),ft&&n.framebufferRenderbuffer(36008,36064,36161,Ce.__webglColorRenderbuffer[at]),G===!0&&(n.invalidateFramebuffer(36008,[pt]),n.invalidateFramebuffer(36009,[pt])),ft){const ge=r.get(X[at]).__webglTexture;n.framebufferTexture2D(36009,36064,3553,ge,0)}n.blitFramebuffer(0,0,me,Oe,0,0,me,Oe,qe,9728),h&&n.invalidateFramebuffer(36008,mt)}if(t.bindFramebuffer(36008,null),t.bindFramebuffer(36009,null),ft)for(let at=0;at<X.length;at++){t.bindFramebuffer(36160,Ce.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064+at,36161,Ce.__webglColorRenderbuffer[at]);const G=r.get(X[at]).__webglTexture;t.bindFramebuffer(36160,Ce.__webglFramebuffer),n.framebufferTexture2D(36009,36064+at,3553,G,0)}t.bindFramebuffer(36009,Ce.__webglMultisampledFramebuffer)}}function Ue($){return Math.min(d,$.samples)}function Ve($){const X=r.get($);return o&&$.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function je($){const X=s.render.frame;p.get($)!==X&&(p.set($,X),$.update())}function fe($,X){const me=$.encoding,Oe=$.format,qe=$.type;return $.isCompressedTexture===!0||$.isVideoTexture===!0||$.format===YP||me!==dh&&(me===Er?o===!1?e.has("EXT_sRGB")===!0&&Oe===_l?($.format=YP,$.minFilter=ma,$.generateMipmaps=!1):X=Sre.sRGBToLinear(X):(Oe!==_l||qe!==_m)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",me)),X}this.allocateTextureUnit=z,this.resetTextureUnits=H,this.setTexture2D=W,this.setTexture2DArray=j,this.setTexture3D=ee,this.setTextureCube=te,this.rebindTextures=re,this.setupRenderTarget=Ne,this.updateRenderTargetMipmap=Pe,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=ce,this.setupFrameBufferTexture=ke,this.useMultisampledRTT=Ve}function Met(n,e,t){const r=t.isWebGL2;function i(a,s=null){let o;if(a===_m)return 5121;if(a===tXe)return 32819;if(a===nXe)return 32820;if(a===QYe)return 5120;if(a===JYe)return 5122;if(a===mre)return 5123;if(a===eXe)return 5124;if(a===zp)return 5125;if(a===kf)return 5126;if(a===S_)return r?5131:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(a===rXe)return 6406;if(a===_l)return 6408;if(a===aXe)return 6409;if(a===sXe)return 6410;if(a===nm)return 6402;if(a===Mg)return 34041;if(a===oXe)return 6403;if(a===iXe)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(a===YP)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(a===lXe)return 36244;if(a===cXe)return 33319;if(a===uXe)return 33320;if(a===dXe)return 36249;if(a===tC||a===O4||a===nC||a===rC)if(s===Er)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(a===tC)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===O4)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===nC)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===rC)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(a===tC)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===O4)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===nC)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===rC)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===$V||a===GV||a===WV||a===qV)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(a===$V)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===GV)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===WV)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===qV)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===vre)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===KV||a===YV)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(a===KV)return s===Er?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(a===YV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===XV||a===jV||a===ZV||a===QV||a===JV||a===e$||a===t$||a===n$||a===r$||a===i$||a===a$||a===s$||a===o$||a===l$)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(a===XV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===jV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===ZV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===QV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===JV)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===e$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===t$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===n$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===r$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===i$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===a$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===s$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===o$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===l$)return s===Er?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===c$)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(a===c$)return s===Er?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return a===Kv?r?34042:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):n[a]!==void 0?n[a]:null}return{convert:i}}let Tet=class extends Ca{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},fo=class extends Wi{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Aet={type:"move"};let uI=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new fo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new fo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Xe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Xe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new fo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Xe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Xe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const v=t.getJointPose(m,r);if(c.joints[m.jointName]===void 0){const y=new fo;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[m.jointName]=y,c.add(y)}const g=c.joints[m.jointName];v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=v.radius),g.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Aet)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}},Eet=class extends as{constructor(e,t,r,i,a,s,o,l,c,u){if(u=u!==void 0?u:nm,u!==nm&&u!==Mg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===nm&&(r=zp),r===void 0&&u===Mg&&(r=Kv),super(null,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Ba,this.minFilter=l!==void 0?l:Ba,this.flipY=!1,this.generateMipmaps=!1}},Iet=class extends Sh{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=null,c=null,u=null,d=null,f=null,h=null;const p=t.getContextAttributes();let m=null,v=null;const g=[],y=[],b=new Ca;b.layers.enable(1),b.viewport=new ri;const _=new Ca;_.layers.enable(2),_.viewport=new ri;const x=[b,_],S=new Tet;S.layers.enable(1),S.layers.enable(2);let T=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(O){let W=g[O];return W===void 0&&(W=new uI,g[O]=W),W.getTargetRaySpace()},this.getControllerGrip=function(O){let W=g[O];return W===void 0&&(W=new uI,g[O]=W),W.getGripSpace()},this.getHand=function(O){let W=g[O];return W===void 0&&(W=new uI,g[O]=W),W.getHandSpace()};function M(O){const W=y.indexOf(O.inputSource);if(W===-1)return;const j=g[W];j!==void 0&&j.dispatchEvent({type:O.type,data:O.inputSource})}function A(){i.removeEventListener("select",M),i.removeEventListener("selectstart",M),i.removeEventListener("selectend",M),i.removeEventListener("squeeze",M),i.removeEventListener("squeezestart",M),i.removeEventListener("squeezeend",M),i.removeEventListener("end",A),i.removeEventListener("inputsourceschange",I);for(let O=0;O<g.length;O++){const W=y[O];W!==null&&(y[O]=null,g[O].disconnect(W))}T=null,C=null,e.setRenderTarget(m),f=null,d=null,u=null,i=null,v=null,z.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(O){a=O,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(O){o=O,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||s},this.setReferenceSpace=function(O){l=O},this.getBaseLayer=function(){return d!==null?d:f},this.getBinding=function(){return u},this.getFrame=function(){return h},this.getSession=function(){return i},this.setSession=async function(O){if(i=O,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",M),i.addEventListener("selectstart",M),i.addEventListener("selectend",M),i.addEventListener("squeeze",M),i.addEventListener("squeezestart",M),i.addEventListener("squeezeend",M),i.addEventListener("end",A),i.addEventListener("inputsourceschange",I),p.xrCompatible!==!0&&await t.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:i.renderState.layers===void 0?p.antialias:!0,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:a};f=new XRWebGLLayer(i,t,W),i.updateRenderState({baseLayer:f}),v=new wm(f.framebufferWidth,f.framebufferHeight,{format:_l,type:_m,encoding:e.outputEncoding})}else{let W=null,j=null,ee=null;p.depth&&(ee=p.stencil?35056:33190,W=p.stencil?Mg:nm,j=p.stencil?Kv:zp);const te={colorFormat:32856,depthFormat:ee,scaleFactor:a};u=new XRWebGLBinding(i,t),d=u.createProjectionLayer(te),i.updateRenderState({layers:[d]}),v=new wm(d.textureWidth,d.textureHeight,{format:_l,type:_m,depthTexture:new Eet(d.textureWidth,d.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:p.stencil,encoding:e.outputEncoding,samples:p.antialias?4:0});const J=e.properties.get(v);J.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(1),l=null,s=await i.requestReferenceSpace(o),z.setContext(i),z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function I(O){for(let W=0;W<O.removed.length;W++){const j=O.removed[W],ee=y.indexOf(j);ee>=0&&(y[ee]=null,g[ee].dispatchEvent({type:"disconnected",data:j}))}for(let W=0;W<O.added.length;W++){const j=O.added[W];let ee=y.indexOf(j);if(ee===-1){for(let J=0;J<g.length;J++)if(J>=y.length){y.push(j),ee=J;break}else if(y[J]===null){y[J]=j,ee=J;break}if(ee===-1)break}const te=g[ee];te&&te.dispatchEvent({type:"connected",data:j})}}const D=new Xe,L=new Xe;function F(O,W,j){D.setFromMatrixPosition(W.matrixWorld),L.setFromMatrixPosition(j.matrixWorld);const ee=D.distanceTo(L),te=W.projectionMatrix.elements,J=j.projectionMatrix.elements,Q=te[14]/(te[10]-1),ie=te[14]/(te[10]+1),le=(te[9]+1)/te[5],we=(te[9]-1)/te[5],Ae=(te[8]-1)/te[0],ke=(J[8]+1)/J[0],Fe=Q*Ae,q=Q*ke,ce=ee/(-Ae+ke),re=ce*-Ae;W.matrixWorld.decompose(O.position,O.quaternion,O.scale),O.translateX(re),O.translateZ(ce),O.matrixWorld.compose(O.position,O.quaternion,O.scale),O.matrixWorldInverse.copy(O.matrixWorld).invert();const Ne=Q+ce,Pe=ie+ce,$e=Fe-re,Ue=q+(ee-re),Ve=le*ie/Pe*Ne,je=we*ie/Pe*Ne;O.projectionMatrix.makePerspective($e,Ue,Ve,je,Ne,Pe)}function B(O,W){W===null?O.matrixWorld.copy(O.matrix):O.matrixWorld.multiplyMatrices(W.matrixWorld,O.matrix),O.matrixWorldInverse.copy(O.matrixWorld).invert()}this.updateCamera=function(O){if(i===null)return;S.near=_.near=b.near=O.near,S.far=_.far=b.far=O.far,(T!==S.near||C!==S.far)&&(i.updateRenderState({depthNear:S.near,depthFar:S.far}),T=S.near,C=S.far);const W=O.parent,j=S.cameras;B(S,W);for(let te=0;te<j.length;te++)B(j[te],W);S.matrixWorld.decompose(S.position,S.quaternion,S.scale),O.position.copy(S.position),O.quaternion.copy(S.quaternion),O.scale.copy(S.scale),O.matrix.copy(S.matrix),O.matrixWorld.copy(S.matrixWorld);const ee=O.children;for(let te=0,J=ee.length;te<J;te++)ee[te].updateMatrixWorld(!0);j.length===2?F(S,b,_):S.projectionMatrix.copy(b.projectionMatrix)},this.getCamera=function(){return S},this.getFoveation=function(){if(d!==null)return d.fixedFoveation;if(f!==null)return f.fixedFoveation},this.setFoveation=function(O){d!==null&&(d.fixedFoveation=O),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=O)};let k=null;function H(O,W){if(c=W.getViewerPose(l||s),h=W,c!==null){const j=c.views;f!==null&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let ee=!1;j.length!==S.cameras.length&&(S.cameras.length=0,ee=!0);for(let te=0;te<j.length;te++){const J=j[te];let Q=null;if(f!==null)Q=f.getViewport(J);else{const le=u.getViewSubImage(d,J);Q=le.viewport,te===0&&(e.setRenderTargetTextures(v,le.colorTexture,d.ignoreDepthValues?void 0:le.depthStencilTexture),e.setRenderTarget(v))}let ie=x[te];ie===void 0&&(ie=new Ca,ie.layers.enable(te),ie.viewport=new ri,x[te]=ie),ie.matrix.fromArray(J.transform.matrix),ie.projectionMatrix.fromArray(J.projectionMatrix),ie.viewport.set(Q.x,Q.y,Q.width,Q.height),te===0&&S.matrix.copy(ie.matrix),ee===!0&&S.cameras.push(ie)}}for(let j=0;j<g.length;j++){const ee=y[j],te=g[j];ee!==null&&te!==void 0&&te.update(ee,W,l||s)}k&&k(O,W),h=null}const z=new Dre;z.setAnimationLoop(H),this.setAnimationLoop=function(O){k=O},this.dispose=function(){}}};function Ret(n,e){function t(m,v){m.fogColor.value.copy(v.color),v.isFog?(m.fogNear.value=v.near,m.fogFar.value=v.far):v.isFogExp2&&(m.fogDensity.value=v.density)}function r(m,v,g,y,b){v.isMeshBasicMaterial||v.isMeshLambertMaterial?i(m,v):v.isMeshToonMaterial?(i(m,v),u(m,v)):v.isMeshPhongMaterial?(i(m,v),c(m,v)):v.isMeshStandardMaterial?(i(m,v),d(m,v),v.isMeshPhysicalMaterial&&f(m,v,b)):v.isMeshMatcapMaterial?(i(m,v),h(m,v)):v.isMeshDepthMaterial?i(m,v):v.isMeshDistanceMaterial?(i(m,v),p(m,v)):v.isMeshNormalMaterial?i(m,v):v.isLineBasicMaterial?(a(m,v),v.isLineDashedMaterial&&s(m,v)):v.isPointsMaterial?o(m,v,g,y):v.isSpriteMaterial?l(m,v):v.isShadowMaterial?(m.color.value.copy(v.color),m.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function i(m,v){m.opacity.value=v.opacity,v.color&&m.diffuse.value.copy(v.color),v.emissive&&m.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.bumpMap&&(m.bumpMap.value=v.bumpMap,m.bumpScale.value=v.bumpScale,v.side===yc&&(m.bumpScale.value*=-1)),v.displacementMap&&(m.displacementMap.value=v.displacementMap,m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap),v.normalMap&&(m.normalMap.value=v.normalMap,m.normalScale.value.copy(v.normalScale),v.side===yc&&m.normalScale.value.negate()),v.specularMap&&(m.specularMap.value=v.specularMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);const g=e.get(v).envMap;if(g&&(m.envMap.value=g,m.flipEnvMap.value=g.isCubeTexture&&g.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=v.reflectivity,m.ior.value=v.ior,m.refractionRatio.value=v.refractionRatio),v.lightMap){m.lightMap.value=v.lightMap;const _=n.physicallyCorrectLights!==!0?Math.PI:1;m.lightMapIntensity.value=v.lightMapIntensity*_}v.aoMap&&(m.aoMap.value=v.aoMap,m.aoMapIntensity.value=v.aoMapIntensity);let y;v.map?y=v.map:v.specularMap?y=v.specularMap:v.displacementMap?y=v.displacementMap:v.normalMap?y=v.normalMap:v.bumpMap?y=v.bumpMap:v.roughnessMap?y=v.roughnessMap:v.metalnessMap?y=v.metalnessMap:v.alphaMap?y=v.alphaMap:v.emissiveMap?y=v.emissiveMap:v.clearcoatMap?y=v.clearcoatMap:v.clearcoatNormalMap?y=v.clearcoatNormalMap:v.clearcoatRoughnessMap?y=v.clearcoatRoughnessMap:v.iridescenceMap?y=v.iridescenceMap:v.iridescenceThicknessMap?y=v.iridescenceThicknessMap:v.specularIntensityMap?y=v.specularIntensityMap:v.specularColorMap?y=v.specularColorMap:v.transmissionMap?y=v.transmissionMap:v.thicknessMap?y=v.thicknessMap:v.sheenColorMap?y=v.sheenColorMap:v.sheenRoughnessMap&&(y=v.sheenRoughnessMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix));let b;v.aoMap?b=v.aoMap:v.lightMap&&(b=v.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uv2Transform.value.copy(b.matrix))}function a(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity}function s(m,v){m.dashSize.value=v.dashSize,m.totalSize.value=v.dashSize+v.gapSize,m.scale.value=v.scale}function o(m,v,g,y){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.size.value=v.size*g,m.scale.value=y*.5,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let b;v.map?b=v.map:v.alphaMap&&(b=v.alphaMap),b!==void 0&&(b.matrixAutoUpdate===!0&&b.updateMatrix(),m.uvTransform.value.copy(b.matrix))}function l(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.rotation.value=v.rotation,v.map&&(m.map.value=v.map),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);let g;v.map?g=v.map:v.alphaMap&&(g=v.alphaMap),g!==void 0&&(g.matrixAutoUpdate===!0&&g.updateMatrix(),m.uvTransform.value.copy(g.matrix))}function c(m,v){m.specular.value.copy(v.specular),m.shininess.value=Math.max(v.shininess,1e-4)}function u(m,v){v.gradientMap&&(m.gradientMap.value=v.gradientMap)}function d(m,v){m.roughness.value=v.roughness,m.metalness.value=v.metalness,v.roughnessMap&&(m.roughnessMap.value=v.roughnessMap),v.metalnessMap&&(m.metalnessMap.value=v.metalnessMap),e.get(v).envMap&&(m.envMapIntensity.value=v.envMapIntensity)}function f(m,v,g){m.ior.value=v.ior,v.sheen>0&&(m.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),m.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(m.sheenColorMap.value=v.sheenColorMap),v.sheenRoughnessMap&&(m.sheenRoughnessMap.value=v.sheenRoughnessMap)),v.clearcoat>0&&(m.clearcoat.value=v.clearcoat,m.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(m.clearcoatMap.value=v.clearcoatMap),v.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap),v.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),m.clearcoatNormalMap.value=v.clearcoatNormalMap,v.side===yc&&m.clearcoatNormalScale.value.negate())),v.iridescence>0&&(m.iridescence.value=v.iridescence,m.iridescenceIOR.value=v.iridescenceIOR,m.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(m.iridescenceMap.value=v.iridescenceMap),v.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=v.iridescenceThicknessMap)),v.transmission>0&&(m.transmission.value=v.transmission,m.transmissionSamplerMap.value=g.texture,m.transmissionSamplerSize.value.set(g.width,g.height),v.transmissionMap&&(m.transmissionMap.value=v.transmissionMap),m.thickness.value=v.thickness,v.thicknessMap&&(m.thicknessMap.value=v.thicknessMap),m.attenuationDistance.value=v.attenuationDistance,m.attenuationColor.value.copy(v.attenuationColor)),m.specularIntensity.value=v.specularIntensity,m.specularColor.value.copy(v.specularColor),v.specularIntensityMap&&(m.specularIntensityMap.value=v.specularIntensityMap),v.specularColorMap&&(m.specularColorMap.value=v.specularColorMap)}function h(m,v){v.matcap&&(m.matcap.value=v.matcap)}function p(m,v){m.referencePosition.value.copy(v.referencePosition),m.nearDistance.value=v.nearDistance,m.farDistance.value=v.farDistance}return{refreshFogUniforms:t,refreshMaterialUniforms:r}}function Pet(n,e,t,r){let i={},a={},s=[];const o=t.isWebGL2?n.getParameter(35375):0;function l(y,b){const _=b.program;r.uniformBlockBinding(y,_)}function c(y,b){let _=i[y.id];_===void 0&&(p(y),_=u(y),i[y.id]=_,y.addEventListener("dispose",v));const x=b.program;r.updateUBOMapping(y,x);const S=e.render.frame;a[y.id]!==S&&(f(y),a[y.id]=S)}function u(y){const b=d();y.__bindingPointIndex=b;const _=n.createBuffer(),x=y.__size,S=y.usage;return n.bindBuffer(35345,_),n.bufferData(35345,x,S),n.bindBuffer(35345,null),n.bindBufferBase(35345,b,_),_}function d(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=i[y.id],_=y.uniforms,x=y.__cache;n.bindBuffer(35345,b);for(let S=0,T=_.length;S<T;S++){const C=_[S];if(h(C,S,x)===!0){const M=C.value,A=C.__offset;typeof M=="number"?(C.__data[0]=M,n.bufferSubData(35345,A,C.__data)):(C.value.isMatrix3?(C.__data[0]=C.value.elements[0],C.__data[1]=C.value.elements[1],C.__data[2]=C.value.elements[2],C.__data[3]=C.value.elements[0],C.__data[4]=C.value.elements[3],C.__data[5]=C.value.elements[4],C.__data[6]=C.value.elements[5],C.__data[7]=C.value.elements[0],C.__data[8]=C.value.elements[6],C.__data[9]=C.value.elements[7],C.__data[10]=C.value.elements[8],C.__data[11]=C.value.elements[0]):M.toArray(C.__data),n.bufferSubData(35345,A,C.__data))}}n.bindBuffer(35345,null)}function h(y,b,_){const x=y.value;if(_[b]===void 0)return typeof x=="number"?_[b]=x:_[b]=x.clone(),!0;if(typeof x=="number"){if(_[b]!==x)return _[b]=x,!0}else{const S=_[b];if(S.equals(x)===!1)return S.copy(x),!0}return!1}function p(y){const b=y.uniforms;let _=0;const x=16;let S=0;for(let T=0,C=b.length;T<C;T++){const M=b[T],A=m(M);if(M.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),M.__offset=_,T>0){S=_%x;const I=x-S;S!==0&&I-A.boundary<0&&(_+=x-S,M.__offset=_)}_+=A.storage}return S=_%x,S>0&&(_+=x-S),y.__size=_,y.__cache={},this}function m(y){const b=y.value,_={boundary:0,storage:0};return typeof b=="number"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function v(y){const b=y.target;b.removeEventListener("dispose",v);const _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function g(){for(const y in i)n.deleteBuffer(i[y]);s=[],i={},a={}}return{bind:l,update:c,dispose:g}}function Det(){const n=T_("canvas");return n.style.display="block",n}function Hre(n={}){this.isWebGLRenderer=!0;const e=n.canvas!==void 0?n.canvas:Det(),t=n.context!==void 0?n.context:null,r=n.depth!==void 0?n.depth:!0,i=n.stencil!==void 0?n.stencil:!0,a=n.antialias!==void 0?n.antialias:!1,s=n.premultipliedAlpha!==void 0?n.premultipliedAlpha:!0,o=n.preserveDrawingBuffer!==void 0?n.preserveDrawingBuffer:!1,l=n.powerPreference!==void 0?n.powerPreference:"default",c=n.failIfMajorPerformanceCaveat!==void 0?n.failIfMajorPerformanceCaveat:!1;let u;t!==null?u=t.getContextAttributes().alpha:u=n.alpha!==void 0?n.alpha:!1;let d=null,f=null;const h=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=dh,this.physicallyCorrectLights=!1,this.toneMapping=dd,this.toneMappingExposure=1,Object.defineProperties(this,{gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}});const m=this;let v=!1,g=0,y=0,b=null,_=-1,x=null;const S=new ri,T=new ri;let C=null,M=e.width,A=e.height,I=1,D=null,L=null;const F=new ri(0,0,M,A),B=new ri(0,0,M,A);let k=!1;const H=new W8;let z=!1,O=!1,W=null;const j=new Un,ee=new Wt,te=new Xe,J={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Q(){return b===null?I:1}let ie=t;function le(de,St){for(let vt=0;vt<de.length;vt++){const It=de[vt],et=e.getContext(It,St);if(et!==null)return et}return null}try{const de={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${B8}`),e.addEventListener("webglcontextlost",pe,!1),e.addEventListener("webglcontextrestored",Ie,!1),e.addEventListener("webglcontextcreationerror",ye,!1),ie===null){const St=["webgl2","webgl","experimental-webgl"];if(m.isWebGL1Renderer===!0&&St.shift(),ie=le(St,de),ie===null)throw le(St)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}ie.getShaderPrecisionFormat===void 0&&(ie.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(de){throw console.error("THREE.WebGLRenderer: "+de.message),de}let we,Ae,ke,Fe,q,ce,re,Ne,Pe,$e,Ue,Ve,je,fe,$,X,me,Oe,qe,mt,pt,Ce,ft,at;function G(){we=new VQe(ie),Ae=new OQe(ie,we,n),we.init(Ae),Ce=new Met(ie,we,Ae),ke=new xet(ie,we,Ae),Fe=new WQe,q=new uet,ce=new Cet(ie,we,ke,q,Ae,Ce,Fe),re=new FQe(m),Ne=new HQe(m),Pe=new rje(ie,Ae),ft=new LQe(ie,we,Pe,Ae),$e=new $Qe(ie,Pe,Fe,ft),Ue=new XQe(ie,$e,Pe,Fe),qe=new YQe(ie,Ae,ce),X=new BQe(q),Ve=new cet(m,re,Ne,we,Ae,ft,X),je=new Ret(m,q),fe=new fet,$=new yet(we,Ae),Oe=new kQe(m,re,ke,Ue,u,s),me=new wet(m,Ue,Ae),at=new Pet(ie,Fe,Ae,ke),mt=new NQe(ie,we,Fe,Ae),pt=new GQe(ie,we,Fe,Ae),Fe.programs=Ve.programs,m.capabilities=Ae,m.extensions=we,m.properties=q,m.renderLists=fe,m.shadowMap=me,m.state=ke,m.info=Fe}G();const ge=new Iet(m,ie);this.xr=ge,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const de=we.get("WEBGL_lose_context");de&&de.loseContext()},this.forceContextRestore=function(){const de=we.get("WEBGL_lose_context");de&&de.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(de){de!==void 0&&(I=de,this.setSize(M,A,!1))},this.getSize=function(de){return de.set(M,A)},this.setSize=function(de,St,vt){if(ge.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}M=de,A=St,e.width=Math.floor(de*I),e.height=Math.floor(St*I),vt!==!1&&(e.style.width=de+"px",e.style.height=St+"px"),this.setViewport(0,0,de,St)},this.getDrawingBufferSize=function(de){return de.set(M*I,A*I).floor()},this.setDrawingBufferSize=function(de,St,vt){M=de,A=St,I=vt,e.width=Math.floor(de*vt),e.height=Math.floor(St*vt),this.setViewport(0,0,de,St)},this.getCurrentViewport=function(de){return de.copy(S)},this.getViewport=function(de){return de.copy(F)},this.setViewport=function(de,St,vt,It){de.isVector4?F.set(de.x,de.y,de.z,de.w):F.set(de,St,vt,It),ke.viewport(S.copy(F).multiplyScalar(I).floor())},this.getScissor=function(de){return de.copy(B)},this.setScissor=function(de,St,vt,It){de.isVector4?B.set(de.x,de.y,de.z,de.w):B.set(de,St,vt,It),ke.scissor(T.copy(B).multiplyScalar(I).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(de){ke.setScissorTest(k=de)},this.setOpaqueSort=function(de){D=de},this.setTransparentSort=function(de){L=de},this.getClearColor=function(de){return de.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor.apply(Oe,arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha.apply(Oe,arguments)},this.clear=function(de=!0,St=!0,vt=!0){let It=0;de&&(It|=16384),St&&(It|=256),vt&&(It|=1024),ie.clear(It)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",pe,!1),e.removeEventListener("webglcontextrestored",Ie,!1),e.removeEventListener("webglcontextcreationerror",ye,!1),fe.dispose(),$.dispose(),q.dispose(),re.dispose(),Ne.dispose(),Ue.dispose(),ft.dispose(),at.dispose(),Ve.dispose(),ge.dispose(),ge.removeEventListener("sessionstart",gt),ge.removeEventListener("sessionend",Lt),W&&(W.dispose(),W=null),At.stop()};function pe(de){de.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function Ie(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;const de=Fe.autoReset,St=me.enabled,vt=me.autoUpdate,It=me.needsUpdate,et=me.type;G(),Fe.autoReset=de,me.enabled=St,me.autoUpdate=vt,me.needsUpdate=It,me.type=et}function ye(de){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",de.statusMessage)}function Me(de){const St=de.target;St.removeEventListener("dispose",Me),ht(St)}function ht(de){Ee(de),q.remove(de)}function Ee(de){const St=q.get(de).programs;St!==void 0&&(St.forEach(function(vt){Ve.releaseProgram(vt)}),de.isShaderMaterial&&Ve.releaseShaderCache(de))}this.renderBufferDirect=function(de,St,vt,It,et,xt){St===null&&(St=J);const Kt=et.isMesh&&et.matrixWorld.determinant()<0,yn=oe(de,St,vt,It,et);ke.setMaterial(It,Kt);let On=vt.index;const Ze=vt.attributes.position;if(On===null){if(Ze===void 0||Ze.count===0)return}else if(On.count===0)return;let Xn=1;It.wireframe===!0&&(On=$e.getWireframeAttribute(vt),Xn=2),ft.setup(et,It,yn,vt,On);let st,De=mt;On!==null&&(st=Pe.get(On),De=pt,De.setIndex(st));const yt=On!==null?On.count:Ze.count,We=vt.drawRange.start*Xn,lt=vt.drawRange.count*Xn,it=xt!==null?xt.start*Xn:0,Mt=xt!==null?xt.count*Xn:1/0,tn=Math.max(We,it),Qt=Math.min(yt,We+lt,it+Mt)-1,mn=Math.max(0,Qt-tn+1);if(mn!==0){if(et.isMesh)It.wireframe===!0?(ke.setLineWidth(It.wireframeLinewidth*Q()),De.setMode(1)):De.setMode(4);else if(et.isLine){let Gn=It.linewidth;Gn===void 0&&(Gn=1),ke.setLineWidth(Gn*Q()),et.isLineSegments?De.setMode(1):et.isLineLoop?De.setMode(2):De.setMode(3)}else et.isPoints?De.setMode(0):et.isSprite&&De.setMode(4);if(et.isInstancedMesh)De.renderInstances(tn,mn,et.count);else if(vt.isInstancedBufferGeometry){const Gn=Math.min(vt.instanceCount,vt._maxInstanceCount);De.renderInstances(tn,mn,Gn)}else De.render(tn,mn)}},this.compile=function(de,St){f=$.get(de),f.init(),p.push(f),de.traverseVisible(function(vt){vt.isLight&&vt.layers.test(St.layers)&&(f.pushLight(vt),vt.castShadow&&f.pushShadow(vt))}),f.setupLights(m.physicallyCorrectLights),de.traverse(function(vt){const It=vt.material;if(It)if(Array.isArray(It))for(let et=0;et<It.length;et++){const xt=It[et];Zn(xt,de,vt)}else Zn(It,de,vt)}),p.pop(),f=null};let _t=null;function nt(de){_t&&_t(de)}function gt(){At.stop()}function Lt(){At.start()}const At=new Dre;At.setAnimationLoop(nt),typeof self<"u"&&At.setContext(self),this.setAnimationLoop=function(de){_t=de,ge.setAnimationLoop(de),de===null?At.stop():At.start()},ge.addEventListener("sessionstart",gt),ge.addEventListener("sessionend",Lt),this.render=function(de,St){if(St!==void 0&&St.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(v===!0)return;de.autoUpdate===!0&&de.updateMatrixWorld(),St.parent===null&&St.updateMatrixWorld(),ge.enabled===!0&&ge.isPresenting===!0&&(ge.cameraAutoUpdate===!0&&ge.updateCamera(St),St=ge.getCamera()),de.isScene===!0&&de.onBeforeRender(m,de,St,b),f=$.get(de,p.length),f.init(),p.push(f),j.multiplyMatrices(St.projectionMatrix,St.matrixWorldInverse),H.setFromProjectionMatrix(j),O=this.localClippingEnabled,z=X.init(this.clippingPlanes,O,St),d=fe.get(de,h.length),d.init(),h.push(d),an(de,St,0,m.sortObjects),d.finish(),m.sortObjects===!0&&d.sort(D,L),z===!0&&X.beginShadows();const vt=f.state.shadowsArray;if(me.render(vt,de,St),z===!0&&X.endShadows(),this.info.autoReset===!0&&this.info.reset(),Oe.render(d,de),f.setupLights(m.physicallyCorrectLights),St.isArrayCamera){const It=St.cameras;for(let et=0,xt=It.length;et<xt;et++){const Kt=It[et];_n(d,de,Kt,Kt.viewport)}}else _n(d,de,St);b!==null&&(ce.updateMultisampleRenderTarget(b),ce.updateRenderTargetMipmap(b)),de.isScene===!0&&de.onAfterRender(m,de,St),ft.resetDefaultState(),_=-1,x=null,p.pop(),p.length>0?f=p[p.length-1]:f=null,h.pop(),h.length>0?d=h[h.length-1]:d=null};function an(de,St,vt,It){if(de.visible===!1)return;if(de.layers.test(St.layers)){if(de.isGroup)vt=de.renderOrder;else if(de.isLOD)de.autoUpdate===!0&&de.update(St);else if(de.isLight)f.pushLight(de),de.castShadow&&f.pushShadow(de);else if(de.isSprite){if(!de.frustumCulled||H.intersectsSprite(de)){It&&te.setFromMatrixPosition(de.matrixWorld).applyMatrix4(j);const Kt=Ue.update(de),yn=de.material;yn.visible&&d.push(de,Kt,yn,vt,te.z,null)}}else if((de.isMesh||de.isLine||de.isPoints)&&(de.isSkinnedMesh&&de.skeleton.frame!==Fe.render.frame&&(de.skeleton.update(),de.skeleton.frame=Fe.render.frame),!de.frustumCulled||H.intersectsObject(de))){It&&te.setFromMatrixPosition(de.matrixWorld).applyMatrix4(j);const Kt=Ue.update(de),yn=de.material;if(Array.isArray(yn)){const On=Kt.groups;for(let Ze=0,Xn=On.length;Ze<Xn;Ze++){const st=On[Ze],De=yn[st.materialIndex];De&&De.visible&&d.push(de,Kt,De,vt,te.z,st)}}else yn.visible&&d.push(de,Kt,yn,vt,te.z,null)}}const xt=de.children;for(let Kt=0,yn=xt.length;Kt<yn;Kt++)an(xt[Kt],St,vt,It)}function _n(de,St,vt,It){const et=de.opaque,xt=de.transmissive,Kt=de.transparent;f.setupLightsView(vt),xt.length>0&&lr(et,St,vt),It&&ke.viewport(S.copy(It)),et.length>0&&Ln(et,St,vt),xt.length>0&&Ln(xt,St,vt),Kt.length>0&&Ln(Kt,St,vt),ke.buffers.depth.setTest(!0),ke.buffers.depth.setMask(!0),ke.buffers.color.setMask(!0),ke.setPolygonOffset(!1)}function lr(de,St,vt){const It=Ae.isWebGL2;W===null&&(W=new wm(1,1,{generateMipmaps:!0,type:we.has("EXT_color_buffer_half_float")?S_:_m,minFilter:Od,samples:It&&a===!0?4:0})),m.getDrawingBufferSize(ee),It?W.setSize(ee.x,ee.y):W.setSize(IM(ee.x),IM(ee.y));const et=m.getRenderTarget();m.setRenderTarget(W),m.clear();const xt=m.toneMapping;m.toneMapping=dd,Ln(de,St,vt),m.toneMapping=xt,ce.updateMultisampleRenderTarget(W),ce.updateRenderTargetMipmap(W),m.setRenderTarget(et)}function Ln(de,St,vt){const It=St.isScene===!0?St.overrideMaterial:null;for(let et=0,xt=de.length;et<xt;et++){const Kt=de[et],yn=Kt.object,On=Kt.geometry,Ze=It===null?Kt.material:It,Xn=Kt.group;yn.layers.test(vt.layers)&&jr(yn,St,vt,On,Ze,Xn)}}function jr(de,St,vt,It,et,xt){de.onBeforeRender(m,St,vt,It,et,xt),de.modelViewMatrix.multiplyMatrices(vt.matrixWorldInverse,de.matrixWorld),de.normalMatrix.getNormalMatrix(de.modelViewMatrix),et.onBeforeRender(m,St,vt,It,de,xt),et.transparent===!0&&et.side===uh?(et.side=yc,et.needsUpdate=!0,m.renderBufferDirect(vt,St,It,et,de,xt),et.side=ch,et.needsUpdate=!0,m.renderBufferDirect(vt,St,It,et,de,xt),et.side=uh):m.renderBufferDirect(vt,St,It,et,de,xt),de.onAfterRender(m,St,vt,It,et,xt)}function Zn(de,St,vt){St.isScene!==!0&&(St=J);const It=q.get(de),et=f.state.lights,xt=f.state.shadowsArray,Kt=et.state.version,yn=Ve.getParameters(de,et.state,xt,St,vt),On=Ve.getProgramCacheKey(yn);let Ze=It.programs;It.environment=de.isMeshStandardMaterial?St.environment:null,It.fog=St.fog,It.envMap=(de.isMeshStandardMaterial?Ne:re).get(de.envMap||It.environment),Ze===void 0&&(de.addEventListener("dispose",Me),Ze=new Map,It.programs=Ze);let Xn=Ze.get(On);if(Xn!==void 0){if(It.currentProgram===Xn&&It.lightsStateVersion===Kt)return Y(de,yn),Xn}else yn.uniforms=Ve.getUniforms(de),de.onBuild(vt,yn,m),de.onBeforeCompile(yn,m),Xn=Ve.acquireProgram(yn,On),Ze.set(On,Xn),It.uniforms=yn.uniforms;const st=It.uniforms;(!de.isShaderMaterial&&!de.isRawShaderMaterial||de.clipping===!0)&&(st.clippingPlanes=X.uniform),Y(de,yn),It.needsLights=Te(de),It.lightsStateVersion=Kt,It.needsLights&&(st.ambientLightColor.value=et.state.ambient,st.lightProbe.value=et.state.probe,st.directionalLights.value=et.state.directional,st.directionalLightShadows.value=et.state.directionalShadow,st.spotLights.value=et.state.spot,st.spotLightShadows.value=et.state.spotShadow,st.rectAreaLights.value=et.state.rectArea,st.ltc_1.value=et.state.rectAreaLTC1,st.ltc_2.value=et.state.rectAreaLTC2,st.pointLights.value=et.state.point,st.pointLightShadows.value=et.state.pointShadow,st.hemisphereLights.value=et.state.hemi,st.directionalShadowMap.value=et.state.directionalShadowMap,st.directionalShadowMatrix.value=et.state.directionalShadowMatrix,st.spotShadowMap.value=et.state.spotShadowMap,st.spotShadowMatrix.value=et.state.spotShadowMatrix,st.pointShadowMap.value=et.state.pointShadowMap,st.pointShadowMatrix.value=et.state.pointShadowMatrix);const De=Xn.getUniforms(),yt=aC.seqWithValue(De.seq,st);return It.currentProgram=Xn,It.uniformsList=yt,Xn}function Y(de,St){const vt=q.get(de);vt.outputEncoding=St.outputEncoding,vt.instancing=St.instancing,vt.skinning=St.skinning,vt.morphTargets=St.morphTargets,vt.morphNormals=St.morphNormals,vt.morphColors=St.morphColors,vt.morphTargetsCount=St.morphTargetsCount,vt.numClippingPlanes=St.numClippingPlanes,vt.numIntersection=St.numClipIntersection,vt.vertexAlphas=St.vertexAlphas,vt.vertexTangents=St.vertexTangents,vt.toneMapping=St.toneMapping}function oe(de,St,vt,It,et){St.isScene!==!0&&(St=J),ce.resetTextureUnits();const xt=St.fog,Kt=It.isMeshStandardMaterial?St.environment:null,yn=b===null?m.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:dh,On=(It.isMeshStandardMaterial?Ne:re).get(It.envMap||Kt),Ze=It.vertexColors===!0&&!!vt.attributes.color&&vt.attributes.color.itemSize===4,Xn=!!It.normalMap&&!!vt.attributes.tangent,st=!!vt.morphAttributes.position,De=!!vt.morphAttributes.normal,yt=!!vt.morphAttributes.color,We=It.toneMapped?m.toneMapping:dd,lt=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,it=lt!==void 0?lt.length:0,Mt=q.get(It),tn=f.state.lights;if(z===!0&&(O===!0||de!==x)){const vr=de===x&&It.id===_;X.setState(It,de,vr)}let Qt=!1;It.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==tn.state.version||Mt.outputEncoding!==yn||et.isInstancedMesh&&Mt.instancing===!1||!et.isInstancedMesh&&Mt.instancing===!0||et.isSkinnedMesh&&Mt.skinning===!1||!et.isSkinnedMesh&&Mt.skinning===!0||Mt.envMap!==On||It.fog===!0&&Mt.fog!==xt||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==X.numPlanes||Mt.numIntersection!==X.numIntersection)||Mt.vertexAlphas!==Ze||Mt.vertexTangents!==Xn||Mt.morphTargets!==st||Mt.morphNormals!==De||Mt.morphColors!==yt||Mt.toneMapping!==We||Ae.isWebGL2===!0&&Mt.morphTargetsCount!==it)&&(Qt=!0):(Qt=!0,Mt.__version=It.version);let mn=Mt.currentProgram;Qt===!0&&(mn=Zn(It,St,et));let Gn=!1,rn=!1,Mn=!1;const An=mn.getUniforms(),ir=Mt.uniforms;if(ke.useProgram(mn.program)&&(Gn=!0,rn=!0,Mn=!0),It.id!==_&&(_=It.id,rn=!0),Gn||x!==de){if(An.setValue(ie,"projectionMatrix",de.projectionMatrix),Ae.logarithmicDepthBuffer&&An.setValue(ie,"logDepthBufFC",2/(Math.log(de.far+1)/Math.LN2)),x!==de&&(x=de,rn=!0,Mn=!0),It.isShaderMaterial||It.isMeshPhongMaterial||It.isMeshToonMaterial||It.isMeshStandardMaterial||It.envMap){const vr=An.map.cameraPosition;vr!==void 0&&vr.setValue(ie,te.setFromMatrixPosition(de.matrixWorld))}(It.isMeshPhongMaterial||It.isMeshToonMaterial||It.isMeshLambertMaterial||It.isMeshBasicMaterial||It.isMeshStandardMaterial||It.isShaderMaterial)&&An.setValue(ie,"isOrthographic",de.isOrthographicCamera===!0),(It.isMeshPhongMaterial||It.isMeshToonMaterial||It.isMeshLambertMaterial||It.isMeshBasicMaterial||It.isMeshStandardMaterial||It.isShaderMaterial||It.isShadowMaterial||et.isSkinnedMesh)&&An.setValue(ie,"viewMatrix",de.matrixWorldInverse)}if(et.isSkinnedMesh){An.setOptional(ie,et,"bindMatrix"),An.setOptional(ie,et,"bindMatrixInverse");const vr=et.skeleton;vr&&(Ae.floatVertexTextures?(vr.boneTexture===null&&vr.computeBoneTexture(),An.setValue(ie,"boneTexture",vr.boneTexture,ce),An.setValue(ie,"boneTextureSize",vr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const qr=vt.morphAttributes;if((qr.position!==void 0||qr.normal!==void 0||qr.color!==void 0&&Ae.isWebGL2===!0)&&qe.update(et,vt,It,mn),(rn||Mt.receiveShadow!==et.receiveShadow)&&(Mt.receiveShadow=et.receiveShadow,An.setValue(ie,"receiveShadow",et.receiveShadow)),rn&&(An.setValue(ie,"toneMappingExposure",m.toneMappingExposure),Mt.needsLights&&Ut(ir,Mn),xt&&It.fog===!0&&je.refreshFogUniforms(ir,xt),je.refreshMaterialUniforms(ir,It,I,A,W),aC.upload(ie,Mt.uniformsList,ir,ce)),It.isShaderMaterial&&It.uniformsNeedUpdate===!0&&(aC.upload(ie,Mt.uniformsList,ir,ce),It.uniformsNeedUpdate=!1),It.isSpriteMaterial&&An.setValue(ie,"center",et.center),An.setValue(ie,"modelViewMatrix",et.modelViewMatrix),An.setValue(ie,"normalMatrix",et.normalMatrix),An.setValue(ie,"modelMatrix",et.matrixWorld),It.isShaderMaterial||It.isRawShaderMaterial){const vr=It.uniformsGroups;for(let gr=0,Wn=vr.length;gr<Wn;gr++)if(Ae.isWebGL2){const Ai=vr[gr];at.update(Ai,mn),at.bind(Ai,mn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return mn}function Ut(de,St){de.ambientLightColor.needsUpdate=St,de.lightProbe.needsUpdate=St,de.directionalLights.needsUpdate=St,de.directionalLightShadows.needsUpdate=St,de.pointLights.needsUpdate=St,de.pointLightShadows.needsUpdate=St,de.spotLights.needsUpdate=St,de.spotLightShadows.needsUpdate=St,de.rectAreaLights.needsUpdate=St,de.hemisphereLights.needsUpdate=St}function Te(de){return de.isMeshLambertMaterial||de.isMeshToonMaterial||de.isMeshPhongMaterial||de.isMeshStandardMaterial||de.isShadowMaterial||de.isShaderMaterial&&de.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(de,St,vt){q.get(de.texture).__webglTexture=St,q.get(de.depthTexture).__webglTexture=vt;const It=q.get(de);It.__hasExternalTextures=!0,It.__hasExternalTextures&&(It.__autoAllocateDepthBuffer=vt===void 0,It.__autoAllocateDepthBuffer||we.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),It.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(de,St){const vt=q.get(de);vt.__webglFramebuffer=St,vt.__useDefaultFramebuffer=St===void 0},this.setRenderTarget=function(de,St=0,vt=0){b=de,g=St,y=vt;let It=!0;if(de){const On=q.get(de);On.__useDefaultFramebuffer!==void 0?(ke.bindFramebuffer(36160,null),It=!1):On.__webglFramebuffer===void 0?ce.setupRenderTarget(de):On.__hasExternalTextures&&ce.rebindTextures(de,q.get(de.texture).__webglTexture,q.get(de.depthTexture).__webglTexture)}let et=null,xt=!1,Kt=!1;if(de){const On=de.texture;(On.isData3DTexture||On.isDataArrayTexture)&&(Kt=!0);const Ze=q.get(de).__webglFramebuffer;de.isWebGLCubeRenderTarget?(et=Ze[St],xt=!0):Ae.isWebGL2&&de.samples>0&&ce.useMultisampledRTT(de)===!1?et=q.get(de).__webglMultisampledFramebuffer:et=Ze,S.copy(de.viewport),T.copy(de.scissor),C=de.scissorTest}else S.copy(F).multiplyScalar(I).floor(),T.copy(B).multiplyScalar(I).floor(),C=k;if(ke.bindFramebuffer(36160,et)&&Ae.drawBuffers&&It&&ke.drawBuffers(de,et),ke.viewport(S),ke.scissor(T),ke.setScissorTest(C),xt){const On=q.get(de.texture);ie.framebufferTexture2D(36160,36064,34069+St,On.__webglTexture,vt)}else if(Kt){const On=q.get(de.texture),Ze=St||0;ie.framebufferTextureLayer(36160,36064,On.__webglTexture,vt||0,Ze)}_=-1},this.readRenderTargetPixels=function(de,St,vt,It,et,xt,Kt){if(!(de&&de.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yn=q.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&Kt!==void 0&&(yn=yn[Kt]),yn){ke.bindFramebuffer(36160,yn);try{const On=de.texture,Ze=On.format,Xn=On.type;if(Ze!==_l&&Ce.convert(Ze)!==ie.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const st=Xn===S_&&(we.has("EXT_color_buffer_half_float")||Ae.isWebGL2&&we.has("EXT_color_buffer_float"));if(Xn!==_m&&Ce.convert(Xn)!==ie.getParameter(35738)&&!(Xn===kf&&(Ae.isWebGL2||we.has("OES_texture_float")||we.has("WEBGL_color_buffer_float")))&&!st){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}St>=0&&St<=de.width-It&&vt>=0&&vt<=de.height-et&&ie.readPixels(St,vt,It,et,Ce.convert(Ze),Ce.convert(Xn),xt)}finally{const On=b!==null?q.get(b).__webglFramebuffer:null;ke.bindFramebuffer(36160,On)}}},this.copyFramebufferToTexture=function(de,St,vt=0){const It=Math.pow(2,-vt),et=Math.floor(St.image.width*It),xt=Math.floor(St.image.height*It);ce.setTexture2D(St,0),ie.copyTexSubImage2D(3553,vt,0,0,de.x,de.y,et,xt),ke.unbindTexture()},this.copyTextureToTexture=function(de,St,vt,It=0){const et=St.image.width,xt=St.image.height,Kt=Ce.convert(vt.format),yn=Ce.convert(vt.type);ce.setTexture2D(vt,0),ie.pixelStorei(37440,vt.flipY),ie.pixelStorei(37441,vt.premultiplyAlpha),ie.pixelStorei(3317,vt.unpackAlignment),St.isDataTexture?ie.texSubImage2D(3553,It,de.x,de.y,et,xt,Kt,yn,St.image.data):St.isCompressedTexture?ie.compressedTexSubImage2D(3553,It,de.x,de.y,St.mipmaps[0].width,St.mipmaps[0].height,Kt,St.mipmaps[0].data):ie.texSubImage2D(3553,It,de.x,de.y,Kt,yn,St.image),It===0&&vt.generateMipmaps&&ie.generateMipmap(3553),ke.unbindTexture()},this.copyTextureToTexture3D=function(de,St,vt,It,et=0){if(m.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const xt=de.max.x-de.min.x+1,Kt=de.max.y-de.min.y+1,yn=de.max.z-de.min.z+1,On=Ce.convert(It.format),Ze=Ce.convert(It.type);let Xn;if(It.isData3DTexture)ce.setTexture3D(It,0),Xn=32879;else if(It.isDataArrayTexture)ce.setTexture2DArray(It,0),Xn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ie.pixelStorei(37440,It.flipY),ie.pixelStorei(37441,It.premultiplyAlpha),ie.pixelStorei(3317,It.unpackAlignment);const st=ie.getParameter(3314),De=ie.getParameter(32878),yt=ie.getParameter(3316),We=ie.getParameter(3315),lt=ie.getParameter(32877),it=vt.isCompressedTexture?vt.mipmaps[0]:vt.image;ie.pixelStorei(3314,it.width),ie.pixelStorei(32878,it.height),ie.pixelStorei(3316,de.min.x),ie.pixelStorei(3315,de.min.y),ie.pixelStorei(32877,de.min.z),vt.isDataTexture||vt.isData3DTexture?ie.texSubImage3D(Xn,et,St.x,St.y,St.z,xt,Kt,yn,On,Ze,it.data):vt.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ie.compressedTexSubImage3D(Xn,et,St.x,St.y,St.z,xt,Kt,yn,On,it.data)):ie.texSubImage3D(Xn,et,St.x,St.y,St.z,xt,Kt,yn,On,Ze,it),ie.pixelStorei(3314,st),ie.pixelStorei(32878,De),ie.pixelStorei(3316,yt),ie.pixelStorei(3315,We),ie.pixelStorei(32877,lt),et===0&&It.generateMipmaps&&ie.generateMipmap(Xn),ke.unbindTexture()},this.initTexture=function(de){de.isCubeTexture?ce.setTextureCube(de,0):de.isData3DTexture?ce.setTexture3D(de,0):de.isDataArrayTexture?ce.setTexture2DArray(de,0):ce.setTexture2D(de,0),ke.unbindTexture()},this.resetState=function(){g=0,y=0,b=null,ke.reset(),ft.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class ket extends Hre{}ket.prototype.isWebGL1Renderer=!0;class K8{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new bn(e),this.density=t}clone(){return new K8(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Y8{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new bn(e),this.near=t,this.far=r}clone(){return new Y8(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}let X8=class extends Wi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),t}};class j8{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=KP,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Tl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Tl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ks=new Xe;class xm{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i===!0}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)ks.fromBufferAttribute(this,t),ks.applyMatrix4(e),this.setXYZ(t,ks.x,ks.y,ks.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ks.fromBufferAttribute(this,t),ks.applyNormalMatrix(e),this.setXYZ(t,ks.x,ks.y,ks.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ks.fromBufferAttribute(this,t),ks.transformDirection(e),this.setXYZ(t,ks.x,ks.y,ks.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new ea(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new xm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will deinterleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Z8 extends ya{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let P0;const h1=new Xe,D0=new Xe,k0=new Xe,L0=new Wt,p1=new Wt,Vre=new Un,SS=new Xe,m1=new Xe,CS=new Xe,W$=new Wt,dI=new Wt,q$=new Wt;class sC extends Wi{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",P0===void 0){P0=new Hr;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new j8(t,5);P0.setIndex([0,1,2,0,2,3]),P0.setAttribute("position",new xm(r,3,0,!1)),P0.setAttribute("uv",new xm(r,2,3,!1))}this.geometry=P0,this.material=e!==void 0?e:new Z8,this.center=new Wt(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),D0.setFromMatrixScale(this.matrixWorld),Vre.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),k0.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&D0.multiplyScalar(-k0.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const s=this.center;MS(SS.set(-.5,-.5,0),k0,s,D0,i,a),MS(m1.set(.5,-.5,0),k0,s,D0,i,a),MS(CS.set(.5,.5,0),k0,s,D0,i,a),W$.set(0,0),dI.set(1,0),q$.set(1,1);let o=e.ray.intersectTriangle(SS,m1,CS,!1,h1);if(o===null&&(MS(m1.set(-.5,.5,0),k0,s,D0,i,a),dI.set(0,1),o=e.ray.intersectTriangle(SS,CS,m1,!1,h1),o===null))return;const l=e.ray.origin.distanceTo(h1);l<e.near||l>e.far||t.push({distance:l,point:h1.clone(),uv:pb.getUV(h1,SS,m1,CS,W$,dI,q$,new Wt),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function MS(n,e,t,r,i,a){L0.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(p1.x=a*L0.x-i*L0.y,p1.y=i*L0.x+a*L0.y):p1.copy(L0),n.copy(e),n.x+=p1.x,n.y+=p1.y,n.applyMatrix4(Vre)}const TS=new Xe,K$=new Xe;class Let extends Wi{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i&&!(e<t[r].distance);r++);return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){TS.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(TS);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){TS.setFromMatrixPosition(e.matrixWorld),K$.setFromMatrixPosition(this.matrixWorld);const r=TS.distanceTo(K$)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a&&r>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const s=r[i];t.object.levels.push({object:s.object.uuid,distance:s.distance})}return t}}const Y$=new Xe,X$=new ri,j$=new ri,Net=new Xe,Z$=new Un;class RA extends Ta{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Un,this.bindMatrixInverse=new Un}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ri,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const r=this.skeleton,i=this.geometry;X$.fromBufferAttribute(i.attributes.skinIndex,e),j$.fromBufferAttribute(i.attributes.skinWeight,e),Y$.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const s=j$.getComponent(a);if(s!==0){const o=X$.getComponent(a);Z$.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(Net.copy(Y$).applyMatrix4(Z$),s)}}return t.applyMatrix4(this.bindMatrixInverse)}}class Eg extends Wi{constructor(){super(),this.isBone=!0,this.type="Bone"}}let mb=class extends as{constructor(e=null,t=1,r=1,i,a,s,o,l,c=Ba,u=Ba,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}};const Q$=new Un,Oet=new Un;class uy{constructor(e=[],t=[]){this.uuid=Tl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Un)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Un;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,s=e.length;a<s;a++){const o=e[a]?e[a].matrixWorld:Oet;Q$.multiplyMatrices(o,t[a]),Q$.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new uy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=yre(e),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new mb(t,e,e,_l,kf);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let s=t[a];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),s=new Eg),this.bones.push(s),this.boneInverses.push(new Un().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const s=t[i];e.bones.push(s.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}let E_=class extends ea{constructor(e,t,r,i=1){typeof r=="number"&&(i=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}};const J$=new Un,eG=new Un,AS=[],v1=new Ta;class Bet extends Ta{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new E_(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.frustumCulled=!1}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(v1.geometry=this.geometry,v1.material=this.material,v1.material!==void 0)for(let a=0;a<i;a++){this.getMatrixAt(a,J$),eG.multiplyMatrices(r,J$),v1.matrixWorld=eG,v1.raycast(e,AS);for(let s=0,o=AS.length;s<o;s++){const l=AS[s];l.instanceId=a,l.object=this,t.push(l)}AS.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new E_(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class bc extends ya{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new bn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tG=new Xe,nG=new Xe,rG=new Un,fI=new EA,ES=new Fm;class dy extends Wi{constructor(e=new Hr,t=new bc){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)tG.fromBufferAttribute(t,i-1),nG.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=tG.distanceTo(nG);e.setAttribute("lineDistance",new En(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ES.copy(r.boundingSphere),ES.applyMatrix4(i),ES.radius+=a,e.ray.intersectsSphere(ES)===!1)return;rG.copy(i).invert(),fI.copy(e.ray).applyMatrix4(rG);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new Xe,u=new Xe,d=new Xe,f=new Xe,h=this.isLineSegments?2:1,p=r.index,v=r.attributes.position;if(p!==null){const g=Math.max(0,s.start),y=Math.min(p.count,s.start+s.count);for(let b=g,_=y-1;b<_;b+=h){const x=p.getX(b),S=p.getX(b+1);if(c.fromBufferAttribute(v,x),u.fromBufferAttribute(v,S),fI.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(f);C<e.near||C>e.far||t.push({distance:C,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,s.start),y=Math.min(v.count,s.start+s.count);for(let b=g,_=y-1;b<_;b+=h){if(c.fromBufferAttribute(v,b),u.fromBufferAttribute(v,b+1),fI.distanceSqToSegment(c,u,f,d)>l)continue;f.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(f);S<e.near||S>e.far||t.push({distance:S,point:d.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}const iG=new Xe,aG=new Xe;class Sm extends dy{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)iG.fromBufferAttribute(t,i),aG.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+iG.distanceTo(aG);e.setAttribute("lineDistance",new En(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class $re extends dy{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Hp extends ya{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new bn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const sG=new Un,tD=new EA,IS=new Fm,RS=new Xe;class vb extends Wi{constructor(e=new Hr,t=new Hp){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),IS.copy(r.boundingSphere),IS.applyMatrix4(i),IS.radius+=a,e.ray.intersectsSphere(IS)===!1)return;sG.copy(i).invert(),tD.copy(e.ray).applyMatrix4(sG);const o=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,s.start),h=Math.min(c.count,s.start+s.count);for(let p=f,m=h;p<m;p++){const v=c.getX(p);RS.fromBufferAttribute(d,v),oG(RS,v,l,i,e,t,this)}}else{const f=Math.max(0,s.start),h=Math.min(d.count,s.start+s.count);for(let p=f,m=h;p<m;p++)RS.fromBufferAttribute(d,p),oG(RS,p,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}}function oG(n,e,t,r,i,a,s){const o=tD.distanceSqToPoint(n);if(o<t){const l=new Xe;tD.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:s})}}class Fet extends as{constructor(e,t,r,i,a,s,o,l,c,u,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Rc{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const a=r.length;let s;t?s=t:s=e*r[a-1];let o=0,l=a-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-s,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===s)return i/(a-1);const u=r[i],f=r[i+1]-u,h=(s-u)/f;return(i+h)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const s=this.getPoint(i),o=this.getPoint(a),l=t||(s.isVector2?new Wt:new Xe);return l.copy(o).sub(s).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new Xe,i=[],a=[],s=[],o=new Xe,l=new Un;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new Xe)}a[0]=new Xe,s[0]=new Xe;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],o),s[0].crossVectors(i[0],a[0]);for(let h=1;h<=e;h++){if(a[h]=a[h-1].clone(),s[h]=s[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(Sa(i[h-1].dot(i[h]),-1,1));a[h].applyMatrix4(l.makeRotationAxis(o,p))}s[h].crossVectors(i[h],a[h])}if(t===!0){let h=Math.acos(Sa(a[0].dot(a[e]),-1,1));h/=e,i[0].dot(o.crossVectors(a[0],a[e]))>0&&(h=-h);for(let p=1;p<=e;p++)a[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),s[p].crossVectors(i[p],a[p])}return{tangents:i,normals:a,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Q8 extends Rc{constructor(e=0,t=0,r=1,i=1,a=0,s=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=s,this.aClockwise=o,this.aRotation=l}getPoint(e,t){const r=t||new Wt,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const s=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(s?a=0:a=i),this.aClockwise===!0&&!s&&(a===i?a=-i:a=a-i);const o=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class zet extends Q8{constructor(e,t,r,i,a,s){super(e,t,r,r,i,a,s),this.isArcCurve=!0,this.type="ArcCurve"}}function J8(){let n=0,e=0,t=0,r=0;function i(a,s,o,l){n=a,e=o,t=-3*a+3*s-2*o-l,r=2*a-2*s+o+l}return{initCatmullRom:function(a,s,o,l,c){i(s,o,c*(o-a),c*(l-s))},initNonuniformCatmullRom:function(a,s,o,l,c,u,d){let f=(s-a)/c-(o-a)/(c+u)+(o-s)/u,h=(o-s)/u-(l-s)/(u+d)+(l-o)/d;f*=u,h*=u,i(s,o,f,h)},calc:function(a){const s=a*a,o=s*a;return n+e*a+t*s+r*o}}}const PS=new Xe,hI=new J8,pI=new J8,mI=new J8;class Uet extends Rc{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Xe){const r=t,i=this.points,a=i.length,s=(a-(this.closed?0:1))*e;let o=Math.floor(s),l=s-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/a)+1)*a:l===0&&o===a-1&&(o=a-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%a]:(PS.subVectors(i[0],i[1]).add(i[0]),c=PS);const d=i[o%a],f=i[(o+1)%a];if(this.closed||o+2<a?u=i[(o+2)%a]:(PS.subVectors(i[a-1],i[a-2]).add(i[a-1]),u=PS),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(d),h),m=Math.pow(d.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(u),h);m<1e-4&&(m=1),p<1e-4&&(p=m),v<1e-4&&(v=m),hI.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,p,m,v),pI.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,p,m,v),mI.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,p,m,v)}else this.curveType==="catmullrom"&&(hI.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),pI.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),mI.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(hI.calc(l),pI.calc(l),mI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Xe().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function lG(n,e,t,r,i){const a=(r-e)*.5,s=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+a+s)*l+(-3*t+3*r-2*a-s)*o+a*n+t}function Het(n,e){const t=1-n;return t*t*e}function Vet(n,e){return 2*(1-n)*n*e}function $et(n,e){return n*n*e}function gb(n,e,t,r){return Het(n,e)+Vet(n,t)+$et(n,r)}function Get(n,e){const t=1-n;return t*t*t*e}function Wet(n,e){const t=1-n;return 3*t*t*n*e}function qet(n,e){return 3*(1-n)*n*n*e}function Ket(n,e){return n*n*n*e}function yb(n,e,t,r,i){return Get(n,e)+Wet(n,t)+qet(n,r)+Ket(n,i)}class Gre extends Rc{constructor(e=new Wt,t=new Wt,r=new Wt,i=new Wt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Wt){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(yb(e,i.x,a.x,s.x,o.x),yb(e,i.y,a.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Yet extends Rc{constructor(e=new Xe,t=new Xe,r=new Xe,i=new Xe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Xe){const r=t,i=this.v0,a=this.v1,s=this.v2,o=this.v3;return r.set(yb(e,i.x,a.x,s.x,o.x),yb(e,i.y,a.y,s.y,o.y),yb(e,i.z,a.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eN extends Rc{constructor(e=new Wt,t=new Wt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Wt){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const r=t||new Wt;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Xet extends Rc{constructor(e=new Xe,t=new Xe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Xe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Wre extends Rc{constructor(e=new Wt,t=new Wt,r=new Wt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Wt){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(gb(e,i.x,a.x,s.x),gb(e,i.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class qre extends Rc{constructor(e=new Xe,t=new Xe,r=new Xe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Xe){const r=t,i=this.v0,a=this.v1,s=this.v2;return r.set(gb(e,i.x,a.x,s.x),gb(e,i.y,a.y,s.y),gb(e,i.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Kre extends Rc{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Wt){const r=t,i=this.points,a=(i.length-1)*e,s=Math.floor(a),o=a-s,l=i[s===0?s:s-1],c=i[s],u=i[s>i.length-2?i.length-1:s+1],d=i[s>i.length-3?i.length-1:s+2];return r.set(lG(o,l.x,c.x,u.x,d.x),lG(o,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Wt().fromArray(i))}return this}}var tN=Object.freeze({__proto__:null,ArcCurve:zet,CatmullRomCurve3:Uet,CubicBezierCurve:Gre,CubicBezierCurve3:Yet,EllipseCurve:Q8,LineCurve:eN,LineCurve3:Xet,QuadraticBezierCurve:Wre,QuadraticBezierCurve3:qre,SplineCurve:Kre});class jet extends Rc{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new eN(t,e))}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const s=i[a]-r,o=this.curves[a],l=o.getLength(),c=l===0?0:1-s/l;return o.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const s=a[i],o=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new tN[i.type]().fromJSON(i))}return this}}class nD extends jet{constructor(e){super(),this.type="Path",this.currentPoint=new Wt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new eN(this.currentPoint.clone(),new Wt(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new Wre(this.currentPoint.clone(),new Wt(e,t),new Wt(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,s){const o=new Gre(this.currentPoint.clone(),new Wt(e,t),new Wt(r,i),new Wt(a,s));return this.curves.push(o),this.currentPoint.set(a,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new Kre(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,s){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,a,s),this}absarc(e,t,r,i,a,s){return this.absellipse(e,t,r,r,i,a,s),this}ellipse(e,t,r,i,a,s,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,a,s,o,l),this}absellipse(e,t,r,i,a,s,o,l){const c=new Q8(e,t,r,i,a,s,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class I_ extends Hr{constructor(e=[new Wt(0,-.5),new Wt(.5,0),new Wt(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=Sa(i,0,Math.PI*2);const a=[],s=[],o=[],l=[],c=[],u=1/t,d=new Xe,f=new Wt,h=new Xe,p=new Xe,m=new Xe;let v=0,g=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:v=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,h.x=g*1,h.y=-v,h.z=g*0,m.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(m.x,m.y,m.z);break;default:v=e[y+1].x-e[y].x,g=e[y+1].y-e[y].y,h.x=g*1,h.y=-v,h.z=g*0,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),l.push(h.x,h.y,h.z),m.copy(p)}for(let y=0;y<=t;y++){const b=r+y*u*i,_=Math.sin(b),x=Math.cos(b);for(let S=0;S<=e.length-1;S++){d.x=e[S].x*_,d.y=e[S].y,d.z=e[S].x*x,s.push(d.x,d.y,d.z),f.x=y/t,f.y=S/(e.length-1),o.push(f.x,f.y);const T=l[3*S+0]*_,C=l[3*S+1],M=l[3*S+0]*x;c.push(T,C,M)}}for(let y=0;y<t;y++)for(let b=0;b<e.length-1;b++){const _=b+y*e.length,x=_,S=_+e.length,T=_+e.length+1,C=_+1;a.push(x,S,C),a.push(T,C,S)}this.setIndex(a),this.setAttribute("position",new En(s,3)),this.setAttribute("uv",new En(o,2)),this.setAttribute("normal",new En(c,3))}static fromJSON(e){return new I_(e.points,e.segments,e.phiStart,e.phiLength)}}class RM extends I_{constructor(e=1,t=1,r=4,i=8){const a=new nD;a.absarc(0,-t/2,e,Math.PI*1.5,0),a.absarc(0,t/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new RM(e.radius,e.length,e.capSegments,e.radialSegments)}}class PM extends Hr{constructor(e=1,t=8,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],s=[],o=[],l=[],c=new Xe,u=new Wt;s.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=t;d++,f+=3){const h=r+d/t*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),s.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(s[f]/e+1)/2,u.y=(s[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=t;d++)a.push(d,d+1,0);this.setIndex(a),this.setAttribute("position",new En(s,3)),this.setAttribute("normal",new En(o,3)),this.setAttribute("uv",new En(l,2))}static fromJSON(e){return new PM(e.radius,e.segments,e.thetaStart,e.thetaLength)}}let rD=class Yre extends Hr{constructor(e=1,t=1,r=1,i=8,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],d=[],f=[],h=[];let p=0;const m=[],v=r/2;let g=0;y(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new En(d,3)),this.setAttribute("normal",new En(f,3)),this.setAttribute("uv",new En(h,2));function y(){const _=new Xe,x=new Xe;let S=0;const T=(t-e)/r;for(let C=0;C<=a;C++){const M=[],A=C/a,I=A*(t-e)+e;for(let D=0;D<=i;D++){const L=D/i,F=L*l+o,B=Math.sin(F),k=Math.cos(F);x.x=I*B,x.y=-A*r+v,x.z=I*k,d.push(x.x,x.y,x.z),_.set(B,T,k).normalize(),f.push(_.x,_.y,_.z),h.push(L,1-A),M.push(p++)}m.push(M)}for(let C=0;C<i;C++)for(let M=0;M<a;M++){const A=m[M][C],I=m[M+1][C],D=m[M+1][C+1],L=m[M][C+1];u.push(A,I,L),u.push(I,D,L),S+=6}c.addGroup(g,S,0),g+=S}function b(_){const x=p,S=new Wt,T=new Xe;let C=0;const M=_===!0?e:t,A=_===!0?1:-1;for(let D=1;D<=i;D++)d.push(0,v*A,0),f.push(0,A,0),h.push(.5,.5),p++;const I=p;for(let D=0;D<=i;D++){const F=D/i*l+o,B=Math.cos(F),k=Math.sin(F);T.x=M*k,T.y=v*A,T.z=M*B,d.push(T.x,T.y,T.z),f.push(0,A,0),S.x=B*.5+.5,S.y=k*.5*A+.5,h.push(S.x,S.y),p++}for(let D=0;D<i;D++){const L=x+D,F=I+D;_===!0?u.push(F,F+1,L):u.push(F+1,F,L),C+=3}c.addGroup(g,C,_===!0?1:2),g+=C}}static fromJSON(e){return new Yre(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},cG=class Xre extends rD{constructor(e=1,t=1,r=8,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new Xre(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}};class fh extends Hr{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],s=[];o(i),c(r),u(),this.setAttribute("position",new En(a,3)),this.setAttribute("normal",new En(a.slice(),3)),this.setAttribute("uv",new En(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(y){const b=new Xe,_=new Xe,x=new Xe;for(let S=0;S<t.length;S+=3)h(t[S+0],b),h(t[S+1],_),h(t[S+2],x),l(b,_,x,y)}function l(y,b,_,x){const S=x+1,T=[];for(let C=0;C<=S;C++){T[C]=[];const M=y.clone().lerp(_,C/S),A=b.clone().lerp(_,C/S),I=S-C;for(let D=0;D<=I;D++)D===0&&C===S?T[C][D]=M:T[C][D]=M.clone().lerp(A,D/I)}for(let C=0;C<S;C++)for(let M=0;M<2*(S-C)-1;M++){const A=Math.floor(M/2);M%2===0?(f(T[C][A+1]),f(T[C+1][A]),f(T[C][A])):(f(T[C][A+1]),f(T[C+1][A+1]),f(T[C+1][A]))}}function c(y){const b=new Xe;for(let _=0;_<a.length;_+=3)b.x=a[_+0],b.y=a[_+1],b.z=a[_+2],b.normalize().multiplyScalar(y),a[_+0]=b.x,a[_+1]=b.y,a[_+2]=b.z}function u(){const y=new Xe;for(let b=0;b<a.length;b+=3){y.x=a[b+0],y.y=a[b+1],y.z=a[b+2];const _=v(y)/2/Math.PI+.5,x=g(y)/Math.PI+.5;s.push(_,1-x)}p(),d()}function d(){for(let y=0;y<s.length;y+=6){const b=s[y+0],_=s[y+2],x=s[y+4],S=Math.max(b,_,x),T=Math.min(b,_,x);S>.9&&T<.1&&(b<.2&&(s[y+0]+=1),_<.2&&(s[y+2]+=1),x<.2&&(s[y+4]+=1))}}function f(y){a.push(y.x,y.y,y.z)}function h(y,b){const _=y*3;b.x=e[_+0],b.y=e[_+1],b.z=e[_+2]}function p(){const y=new Xe,b=new Xe,_=new Xe,x=new Xe,S=new Wt,T=new Wt,C=new Wt;for(let M=0,A=0;M<a.length;M+=9,A+=6){y.set(a[M+0],a[M+1],a[M+2]),b.set(a[M+3],a[M+4],a[M+5]),_.set(a[M+6],a[M+7],a[M+8]),S.set(s[A+0],s[A+1]),T.set(s[A+2],s[A+3]),C.set(s[A+4],s[A+5]),x.copy(y).add(b).add(_).divideScalar(3);const I=v(x);m(S,A+0,y,I),m(T,A+2,b,I),m(C,A+4,_,I)}}function m(y,b,_,x){x<0&&y.x===1&&(s[b]=y.x-1),_.x===0&&_.z===0&&(s[b]=x/2/Math.PI+.5)}function v(y){return Math.atan2(y.z,-y.x)}function g(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}static fromJSON(e){return new fh(e.vertices,e.indices,e.radius,e.details)}}class DM extends fh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,s,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new DM(e.radius,e.detail)}}const DS=new Xe,kS=new Xe,vI=new Xe,LS=new pb;class Zet extends Hr{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Yv*t),s=e.getIndex(),o=e.getAttribute("position"),l=s?s.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let p=0;p<l;p+=3){s?(c[0]=s.getX(p),c[1]=s.getX(p+1),c[2]=s.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:m,b:v,c:g}=LS;if(m.fromBufferAttribute(o,c[0]),v.fromBufferAttribute(o,c[1]),g.fromBufferAttribute(o,c[2]),LS.getNormal(vI),d[0]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const b=(y+1)%3,_=d[y],x=d[b],S=LS[u[y]],T=LS[u[b]],C=`${_}_${x}`,M=`${x}_${_}`;M in f&&f[M]?(vI.dot(f[M].normal)<=a&&(h.push(S.x,S.y,S.z),h.push(T.x,T.y,T.z)),f[M]=null):C in f||(f[C]={index0:c[y],index1:c[b],normal:vI.clone()})}}for(const p in f)if(f[p]){const{index0:m,index1:v}=f[p];DS.fromBufferAttribute(o,m),kS.fromBufferAttribute(o,v),h.push(DS.x,DS.y,DS.z),h.push(kS.x,kS.y,kS.z)}this.setAttribute("position",new En(h,3))}}}class nN extends nD{constructor(e){super(e),this.uuid=Tl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new nD().fromJSON(i))}return this}}const Qet={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=jre(n,0,i,t,!0);const s=[];if(!a||a.next===a.prev)return s;let o,l,c,u,d,f,h;if(r&&(a=rtt(n,e,a,t)),n.length>80*t){o=c=n[0],l=u=n[1];for(let p=t;p<i;p+=t)d=n[p],f=n[p+1],d<o&&(o=d),f<l&&(l=f),d>c&&(c=d),f>u&&(u=f);h=Math.max(c-o,u-l),h=h!==0?1/h:0}return R_(a,s,t,o,l,h),s}};function jre(n,e,t,r,i){let a,s;if(i===ptt(n,e,t,r)>0)for(a=e;a<t;a+=r)s=uG(a,n[a],n[a+1],s);else for(a=t-r;a>=e;a-=r)s=uG(a,n[a],n[a+1],s);return s&&PA(s,s.next)&&(D_(s),s=s.next),s}function hh(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(PA(t,t.next)||Xi(t.prev,t,t.next)===0)){if(D_(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function R_(n,e,t,r,i,a,s){if(!n)return;!s&&a&&ltt(n,r,i,a);let o=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,a?ett(n,r,i,a):Jet(n)){e.push(l.i/t),e.push(n.i/t),e.push(c.i/t),D_(n),n=c.next,o=c.next;continue}if(n=c,n===o){s?s===1?(n=ttt(hh(n),e,t),R_(n,e,t,r,i,a,2)):s===2&&ntt(n,e,t,r,i,a):R_(hh(n),e,t,r,i,a,1);break}}}function Jet(n){const e=n.prev,t=n,r=n.next;if(Xi(e,t,r)>=0)return!1;let i=n.next.next;for(;i!==n.prev;){if(Av(e.x,e.y,t.x,t.y,r.x,r.y,i.x,i.y)&&Xi(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function ett(n,e,t,r){const i=n.prev,a=n,s=n.next;if(Xi(i,a,s)>=0)return!1;const o=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,l=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,c=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,u=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,d=iD(o,l,e,t,r),f=iD(c,u,e,t,r);let h=n.prevZ,p=n.nextZ;for(;h&&h.z>=d&&p&&p.z<=f;){if(h!==n.prev&&h!==n.next&&Av(i.x,i.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Xi(h.prev,h,h.next)>=0||(h=h.prevZ,p!==n.prev&&p!==n.next&&Av(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Xi(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;h&&h.z>=d;){if(h!==n.prev&&h!==n.next&&Av(i.x,i.y,a.x,a.y,s.x,s.y,h.x,h.y)&&Xi(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;p&&p.z<=f;){if(p!==n.prev&&p!==n.next&&Av(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&Xi(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function ttt(n,e,t){let r=n;do{const i=r.prev,a=r.next.next;!PA(i,a)&&Zre(i,r,r.next,a)&&P_(i,a)&&P_(a,i)&&(e.push(i.i/t),e.push(r.i/t),e.push(a.i/t),D_(r),D_(r.next),r=n=a),r=r.next}while(r!==n);return hh(r)}function ntt(n,e,t,r,i,a){let s=n;do{let o=s.next.next;for(;o!==s.prev;){if(s.i!==o.i&&dtt(s,o)){let l=Qre(s,o);s=hh(s,s.next),l=hh(l,l.next),R_(s,e,t,r,i,a),R_(l,e,t,r,i,a);return}o=o.next}s=s.next}while(s!==n)}function rtt(n,e,t,r){const i=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;a++)o=e[a]*r,l=a<s-1?e[a+1]*r:n.length,c=jre(n,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(utt(c));for(i.sort(itt),a=0;a<i.length;a++)att(i[a],t),t=hh(t,t.next);return t}function itt(n,e){return n.x-e.x}function att(n,e){if(e=stt(n,e),e){const t=Qre(e,n);hh(e,e.next),hh(t,t.next)}}function stt(n,e){let t=e;const r=n.x,i=n.y;let a=-1/0,s;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const f=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=r&&f>a){if(a=f,f===r){if(i===t.y)return t;if(i===t.next.y)return t.next}s=t.x<t.next.x?t:t.next}}t=t.next}while(t!==e);if(!s)return null;if(r===a)return s;const o=s,l=s.x,c=s.y;let u=1/0,d;t=s;do r>=t.x&&t.x>=l&&r!==t.x&&Av(i<c?r:a,i,l,c,i<c?a:r,i,t.x,t.y)&&(d=Math.abs(i-t.y)/(r-t.x),P_(t,n)&&(d<u||d===u&&(t.x>s.x||t.x===s.x&&ott(s,t)))&&(s=t,u=d)),t=t.next;while(t!==o);return s}function ott(n,e){return Xi(n.prev,n,e.prev)<0&&Xi(e.next,n,n.next)<0}function ltt(n,e,t,r){let i=n;do i.z===null&&(i.z=iD(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,ctt(i)}function ctt(n){let e,t,r,i,a,s,o,l,c=1;do{for(t=n,n=null,a=null,s=0;t;){for(s++,r=t,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,o--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;t=r}a.nextZ=null,c*=2}while(s>1);return n}function iD(n,e,t,r,i){return n=32767*(n-t)*i,e=32767*(e-r)*i,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function utt(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Av(n,e,t,r,i,a,s,o){return(i-s)*(e-o)-(n-s)*(a-o)>=0&&(n-s)*(r-o)-(t-s)*(e-o)>=0&&(t-s)*(a-o)-(i-s)*(r-o)>=0}function dtt(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!ftt(n,e)&&(P_(n,e)&&P_(e,n)&&htt(n,e)&&(Xi(n.prev,n,e.prev)||Xi(n,e.prev,e))||PA(n,e)&&Xi(n.prev,n,n.next)>0&&Xi(e.prev,e,e.next)>0)}function Xi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function PA(n,e){return n.x===e.x&&n.y===e.y}function Zre(n,e,t,r){const i=OS(Xi(n,e,t)),a=OS(Xi(n,e,r)),s=OS(Xi(t,r,n)),o=OS(Xi(t,r,e));return!!(i!==a&&s!==o||i===0&&NS(n,t,e)||a===0&&NS(n,r,e)||s===0&&NS(t,n,r)||o===0&&NS(t,e,r))}function NS(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function OS(n){return n>0?1:n<0?-1:0}function ftt(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Zre(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function P_(n,e){return Xi(n.prev,n,n.next)<0?Xi(n,e,n.next)>=0&&Xi(n,n.prev,e)>=0:Xi(n,e,n.prev)<0||Xi(n,n.next,e)<0}function htt(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Qre(n,e){const t=new aD(n.i,n.x,n.y),r=new aD(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function uG(n,e,t,r){const i=new aD(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function D_(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function aD(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ptt(n,e,t,r){let i=0;for(let a=e,s=t-r;a<t;a+=r)i+=(n[s]-n[a])*(n[a+1]+n[s+1]),s=a;return i}class Vf{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Vf.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];dG(e),fG(r,e);let s=e.length;t.forEach(dG);for(let l=0;l<t.length;l++)i.push(s),s+=t[l].length,fG(r,t[l]);const o=Qet.triangulate(r,i);for(let l=0;l<o.length;l+=3)a.push(o.slice(l,l+3));return a}}function dG(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function fG(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class kM extends Hr{constructor(e=new nN([new Wt(.5,.5),new Wt(-.5,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];s(c)}this.setAttribute("position",new En(i,3)),this.setAttribute("uv",new En(a,2)),this.computeVertexNormals();function s(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:.2,p=t.bevelSize!==void 0?t.bevelSize:h-.1,m=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,y=t.UVGenerator!==void 0?t.UVGenerator:mtt;let b,_=!1,x,S,T,C;g&&(b=g.getSpacedPoints(u),_=!0,f=!1,x=g.computeFrenetFrames(u,!1),S=new Xe,T=new Xe,C=new Xe),f||(v=0,h=0,p=0,m=0);const M=o.extractPoints(c);let A=M.shape;const I=M.holes;if(!Vf.isClockWise(A)){A=A.reverse();for(let q=0,ce=I.length;q<ce;q++){const re=I[q];Vf.isClockWise(re)&&(I[q]=re.reverse())}}const L=Vf.triangulateShape(A,I),F=A;for(let q=0,ce=I.length;q<ce;q++){const re=I[q];A=A.concat(re)}function B(q,ce,re){return ce||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().multiplyScalar(re).add(q)}const k=A.length,H=L.length;function z(q,ce,re){let Ne,Pe,$e;const Ue=q.x-ce.x,Ve=q.y-ce.y,je=re.x-q.x,fe=re.y-q.y,$=Ue*Ue+Ve*Ve,X=Ue*fe-Ve*je;if(Math.abs(X)>Number.EPSILON){const me=Math.sqrt($),Oe=Math.sqrt(je*je+fe*fe),qe=ce.x-Ve/me,mt=ce.y+Ue/me,pt=re.x-fe/Oe,Ce=re.y+je/Oe,ft=((pt-qe)*fe-(Ce-mt)*je)/(Ue*fe-Ve*je);Ne=qe+Ue*ft-q.x,Pe=mt+Ve*ft-q.y;const at=Ne*Ne+Pe*Pe;if(at<=2)return new Wt(Ne,Pe);$e=Math.sqrt(at/2)}else{let me=!1;Ue>Number.EPSILON?je>Number.EPSILON&&(me=!0):Ue<-Number.EPSILON?je<-Number.EPSILON&&(me=!0):Math.sign(Ve)===Math.sign(fe)&&(me=!0),me?(Ne=-Ve,Pe=Ue,$e=Math.sqrt($)):(Ne=Ue,Pe=Ve,$e=Math.sqrt($/2))}return new Wt(Ne/$e,Pe/$e)}const O=[];for(let q=0,ce=F.length,re=ce-1,Ne=q+1;q<ce;q++,re++,Ne++)re===ce&&(re=0),Ne===ce&&(Ne=0),O[q]=z(F[q],F[re],F[Ne]);const W=[];let j,ee=O.concat();for(let q=0,ce=I.length;q<ce;q++){const re=I[q];j=[];for(let Ne=0,Pe=re.length,$e=Pe-1,Ue=Ne+1;Ne<Pe;Ne++,$e++,Ue++)$e===Pe&&($e=0),Ue===Pe&&(Ue=0),j[Ne]=z(re[Ne],re[$e],re[Ue]);W.push(j),ee=ee.concat(j)}for(let q=0;q<v;q++){const ce=q/v,re=h*Math.cos(ce*Math.PI/2),Ne=p*Math.sin(ce*Math.PI/2)+m;for(let Pe=0,$e=F.length;Pe<$e;Pe++){const Ue=B(F[Pe],O[Pe],Ne);le(Ue.x,Ue.y,-re)}for(let Pe=0,$e=I.length;Pe<$e;Pe++){const Ue=I[Pe];j=W[Pe];for(let Ve=0,je=Ue.length;Ve<je;Ve++){const fe=B(Ue[Ve],j[Ve],Ne);le(fe.x,fe.y,-re)}}}const te=p+m;for(let q=0;q<k;q++){const ce=f?B(A[q],ee[q],te):A[q];_?(T.copy(x.normals[0]).multiplyScalar(ce.x),S.copy(x.binormals[0]).multiplyScalar(ce.y),C.copy(b[0]).add(T).add(S),le(C.x,C.y,C.z)):le(ce.x,ce.y,0)}for(let q=1;q<=u;q++)for(let ce=0;ce<k;ce++){const re=f?B(A[ce],ee[ce],te):A[ce];_?(T.copy(x.normals[q]).multiplyScalar(re.x),S.copy(x.binormals[q]).multiplyScalar(re.y),C.copy(b[q]).add(T).add(S),le(C.x,C.y,C.z)):le(re.x,re.y,d/u*q)}for(let q=v-1;q>=0;q--){const ce=q/v,re=h*Math.cos(ce*Math.PI/2),Ne=p*Math.sin(ce*Math.PI/2)+m;for(let Pe=0,$e=F.length;Pe<$e;Pe++){const Ue=B(F[Pe],O[Pe],Ne);le(Ue.x,Ue.y,d+re)}for(let Pe=0,$e=I.length;Pe<$e;Pe++){const Ue=I[Pe];j=W[Pe];for(let Ve=0,je=Ue.length;Ve<je;Ve++){const fe=B(Ue[Ve],j[Ve],Ne);_?le(fe.x,fe.y+b[u-1].y,b[u-1].x+re):le(fe.x,fe.y,d+re)}}}J(),Q();function J(){const q=i.length/3;if(f){let ce=0,re=k*ce;for(let Ne=0;Ne<H;Ne++){const Pe=L[Ne];we(Pe[2]+re,Pe[1]+re,Pe[0]+re)}ce=u+v*2,re=k*ce;for(let Ne=0;Ne<H;Ne++){const Pe=L[Ne];we(Pe[0]+re,Pe[1]+re,Pe[2]+re)}}else{for(let ce=0;ce<H;ce++){const re=L[ce];we(re[2],re[1],re[0])}for(let ce=0;ce<H;ce++){const re=L[ce];we(re[0]+k*u,re[1]+k*u,re[2]+k*u)}}r.addGroup(q,i.length/3-q,0)}function Q(){const q=i.length/3;let ce=0;ie(F,ce),ce+=F.length;for(let re=0,Ne=I.length;re<Ne;re++){const Pe=I[re];ie(Pe,ce),ce+=Pe.length}r.addGroup(q,i.length/3-q,1)}function ie(q,ce){let re=q.length;for(;--re>=0;){const Ne=re;let Pe=re-1;Pe<0&&(Pe=q.length-1);for(let $e=0,Ue=u+v*2;$e<Ue;$e++){const Ve=k*$e,je=k*($e+1),fe=ce+Ne+Ve,$=ce+Pe+Ve,X=ce+Pe+je,me=ce+Ne+je;Ae(fe,$,X,me)}}}function le(q,ce,re){l.push(q),l.push(ce),l.push(re)}function we(q,ce,re){ke(q),ke(ce),ke(re);const Ne=i.length/3,Pe=y.generateTopUV(r,i,Ne-3,Ne-2,Ne-1);Fe(Pe[0]),Fe(Pe[1]),Fe(Pe[2])}function Ae(q,ce,re,Ne){ke(q),ke(ce),ke(Ne),ke(ce),ke(re),ke(Ne);const Pe=i.length/3,$e=y.generateSideWallUV(r,i,Pe-6,Pe-3,Pe-2,Pe-1);Fe($e[0]),Fe($e[1]),Fe($e[3]),Fe($e[1]),Fe($e[2]),Fe($e[3])}function ke(q){i.push(l[q*3+0]),i.push(l[q*3+1]),i.push(l[q*3+2])}function Fe(q){a.push(q.x),a.push(q.y)}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return vtt(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,s=e.shapes.length;a<s;a++){const o=t[e.shapes[a]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new tN[i.type]().fromJSON(i)),new kM(r,e.options)}}const mtt={generateTopUV:function(n,e,t,r,i){const a=e[t*3],s=e[t*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Wt(a,s),new Wt(o,l),new Wt(c,u)]},generateSideWallUV:function(n,e,t,r,i,a){const s=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],p=e[i*3+2],m=e[a*3],v=e[a*3+1],g=e[a*3+2];return Math.abs(o-u)<Math.abs(s-c)?[new Wt(s,1-l),new Wt(c,1-d),new Wt(f,1-p),new Wt(m,1-g)]:[new Wt(o,1-l),new Wt(u,1-d),new Wt(h,1-p),new Wt(v,1-g)]}};function vtt(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class LM extends fh{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new LM(e.radius,e.detail)}}class NM extends fh{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new NM(e.radius,e.detail)}}class OM extends Hr{constructor(e=.5,t=1,r=8,i=1,a=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let d=e;const f=(t-e)/i,h=new Xe,p=new Wt;for(let m=0;m<=i;m++){for(let v=0;v<=r;v++){const g=a+v/r*s;h.x=d*Math.cos(g),h.y=d*Math.sin(g),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/t+1)/2,p.y=(h.y/t+1)/2,u.push(p.x,p.y)}d+=f}for(let m=0;m<i;m++){const v=m*(r+1);for(let g=0;g<r;g++){const y=g+v,b=y,_=y+r+1,x=y+r+2,S=y+1;o.push(b,_,S),o.push(_,x,S)}}this.setIndex(o),this.setAttribute("position",new En(l,3)),this.setAttribute("normal",new En(c,3)),this.setAttribute("uv",new En(u,2))}static fromJSON(e){return new OM(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class BM extends Hr{constructor(e=new nN([new Wt(0,.5),new Wt(-.5,-.5),new Wt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],s=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new En(i,3)),this.setAttribute("normal",new En(a,3)),this.setAttribute("uv",new En(s,2));function c(u){const d=i.length/3,f=u.extractPoints(t);let h=f.shape;const p=f.holes;Vf.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,g=p.length;v<g;v++){const y=p[v];Vf.isClockWise(y)===!0&&(p[v]=y.reverse())}const m=Vf.triangulateShape(h,p);for(let v=0,g=p.length;v<g;v++){const y=p[v];h=h.concat(y)}for(let v=0,g=h.length;v<g;v++){const y=h[v];i.push(y.x,y.y,0),a.push(0,0,1),s.push(y.x,y.y)}for(let v=0,g=m.length;v<g;v++){const y=m[v],b=y[0]+d,_=y[1]+d,x=y[2]+d;r.push(b,_,x),l+=3}}}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return gtt(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const s=t[e.shapes[i]];r.push(s)}return new BM(r,e.curveSegments)}}function gtt(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}let hG=class Jre extends Hr{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],d=new Xe,f=new Xe,h=[],p=[],m=[],v=[];for(let g=0;g<=r;g++){const y=[],b=g/r;let _=0;g==0&&s==0?_=.5/t:g==r&&l==Math.PI&&(_=-.5/t);for(let x=0;x<=t;x++){const S=x/t;d.x=-e*Math.cos(i+S*a)*Math.sin(s+b*o),d.y=e*Math.cos(s+b*o),d.z=e*Math.sin(i+S*a)*Math.sin(s+b*o),p.push(d.x,d.y,d.z),f.copy(d).normalize(),m.push(f.x,f.y,f.z),v.push(S+_,1-b),y.push(c++)}u.push(y)}for(let g=0;g<r;g++)for(let y=0;y<t;y++){const b=u[g][y+1],_=u[g][y],x=u[g+1][y],S=u[g+1][y+1];(g!==0||s>0)&&h.push(b,_,S),(g!==r-1||l<Math.PI)&&h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new En(p,3)),this.setAttribute("normal",new En(m,3)),this.setAttribute("uv",new En(v,2))}static fromJSON(e){return new Jre(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}};class FM extends fh{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new FM(e.radius,e.detail)}}class zM extends Hr{constructor(e=1,t=.4,r=8,i=6,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const s=[],o=[],l=[],c=[],u=new Xe,d=new Xe,f=new Xe;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const m=p/i*a,v=h/r*Math.PI*2;d.x=(e+t*Math.cos(v))*Math.cos(m),d.y=(e+t*Math.cos(v))*Math.sin(m),d.z=t*Math.sin(v),o.push(d.x,d.y,d.z),u.x=e*Math.cos(m),u.y=e*Math.sin(m),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(p/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const m=(i+1)*h+p-1,v=(i+1)*(h-1)+p-1,g=(i+1)*(h-1)+p,y=(i+1)*h+p;s.push(m,v,y),s.push(v,g,y)}this.setIndex(s),this.setAttribute("position",new En(o,3)),this.setAttribute("normal",new En(l,3)),this.setAttribute("uv",new En(c,2))}static fromJSON(e){return new zM(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class UM extends Hr{constructor(e=1,t=.4,r=64,i=8,a=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],d=new Xe,f=new Xe,h=new Xe,p=new Xe,m=new Xe,v=new Xe,g=new Xe;for(let b=0;b<=r;++b){const _=b/r*a*Math.PI*2;y(_,a,s,e,h),y(_+.01,a,s,e,p),v.subVectors(p,h),g.addVectors(p,h),m.crossVectors(v,g),g.crossVectors(m,v),m.normalize(),g.normalize();for(let x=0;x<=i;++x){const S=x/i*Math.PI*2,T=-t*Math.cos(S),C=t*Math.sin(S);d.x=h.x+(T*g.x+C*m.x),d.y=h.y+(T*g.y+C*m.y),d.z=h.z+(T*g.z+C*m.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(b/r),u.push(x/i)}}for(let b=1;b<=r;b++)for(let _=1;_<=i;_++){const x=(i+1)*(b-1)+(_-1),S=(i+1)*b+(_-1),T=(i+1)*b+_,C=(i+1)*(b-1)+_;o.push(x,S,C),o.push(S,T,C)}this.setIndex(o),this.setAttribute("position",new En(l,3)),this.setAttribute("normal",new En(c,3)),this.setAttribute("uv",new En(u,2));function y(b,_,x,S,T){const C=Math.cos(b),M=Math.sin(b),A=x/_*b,I=Math.cos(A);T.x=S*(2+I)*.5*C,T.y=S*(2+I)*M*.5,T.z=S*Math.sin(A)*.5}}static fromJSON(e){return new UM(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class HM extends Hr{constructor(e=new qre(new Xe(-1,-1,0),new Xe(-1,1,0),new Xe(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const o=new Xe,l=new Xe,c=new Wt;let u=new Xe;const d=[],f=[],h=[],p=[];m(),this.setIndex(p),this.setAttribute("position",new En(d,3)),this.setAttribute("normal",new En(f,3)),this.setAttribute("uv",new En(h,2));function m(){for(let b=0;b<t;b++)v(b);v(a===!1?t:0),y(),g()}function v(b){u=e.getPointAt(b/t,u);const _=s.normals[b],x=s.binormals[b];for(let S=0;S<=i;S++){const T=S/i*Math.PI*2,C=Math.sin(T),M=-Math.cos(T);l.x=M*_.x+C*x.x,l.y=M*_.y+C*x.y,l.z=M*_.z+C*x.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,d.push(o.x,o.y,o.z)}}function g(){for(let b=1;b<=t;b++)for(let _=1;_<=i;_++){const x=(i+1)*(b-1)+(_-1),S=(i+1)*b+(_-1),T=(i+1)*b+_,C=(i+1)*(b-1)+_;p.push(x,S,C),p.push(S,T,C)}}function y(){for(let b=0;b<=t;b++)for(let _=0;_<=i;_++)c.x=b/t,c.y=_/i,h.push(c.x,c.y)}}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new HM(new tN[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ytt extends Hr{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Xe,a=new Xe;if(e.index!==null){const s=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let p=f,m=f+h;p<m;p+=3)for(let v=0;v<3;v++){const g=o.getX(p+v),y=o.getX(p+(v+1)%3);i.fromBufferAttribute(s,g),a.fromBufferAttribute(s,y),pG(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const s=e.attributes.position;for(let o=0,l=s.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;i.fromBufferAttribute(s,u),a.fromBufferAttribute(s,d),pG(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new En(t,3))}}}function pG(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var mG=Object.freeze({__proto__:null,BoxGeometry:A_,BoxBufferGeometry:A_,CapsuleGeometry:RM,CapsuleBufferGeometry:RM,CircleGeometry:PM,CircleBufferGeometry:PM,ConeGeometry:cG,ConeBufferGeometry:cG,CylinderGeometry:rD,CylinderBufferGeometry:rD,DodecahedronGeometry:DM,DodecahedronBufferGeometry:DM,EdgesGeometry:Zet,ExtrudeGeometry:kM,ExtrudeBufferGeometry:kM,IcosahedronGeometry:LM,IcosahedronBufferGeometry:LM,LatheGeometry:I_,LatheBufferGeometry:I_,OctahedronGeometry:NM,OctahedronBufferGeometry:NM,PlaneGeometry:JP,PlaneBufferGeometry:JP,PolyhedronGeometry:fh,PolyhedronBufferGeometry:fh,RingGeometry:OM,RingBufferGeometry:OM,ShapeGeometry:BM,ShapeBufferGeometry:BM,SphereGeometry:hG,SphereBufferGeometry:hG,TetrahedronGeometry:FM,TetrahedronBufferGeometry:FM,TorusGeometry:zM,TorusBufferGeometry:zM,TorusKnotGeometry:UM,TorusKnotBufferGeometry:UM,TubeGeometry:HM,TubeBufferGeometry:HM,WireframeGeometry:ytt});class btt extends ya{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new bn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class _tt extends xd{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class fy extends ya{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new bn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Om,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ch extends fy{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Wt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sa(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new bn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new bn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new bn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class fd extends ya{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new bn(16777215),this.specular=new bn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Om,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=AA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wtt extends ya{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new bn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Om,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class xtt extends ya{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Om,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class rN extends ya{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new bn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new bn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=AA,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Stt extends ya{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new bn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Om,this.normalScale=new Wt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ctt extends bc{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function af(n,e,t){return eie(n)?new n.constructor(n.subarray(e,t!==void 0?t:n.length)):n.slice(e,t)}function BS(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function eie(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Mtt(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function vG(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,s=0;s!==r;++a){const o=t[a]*e;for(let l=0;l!==e;++l)i[s++]=n[o+l]}return i}function tie(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let s=a[r];if(s!==void 0)if(Array.isArray(s))do s=a[r],s!==void 0&&(e.push(a.time),t.push.apply(t,s)),a=n[i++];while(a!==void 0);else if(s.toArray!==void 0)do s=a[r],s!==void 0&&(e.push(a.time),s.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do s=a[r],s!==void 0&&(e.push(a.time),t.push(s)),a=n[i++];while(a!==void 0)}class xw{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(a=i,i=t[++r],e<i)break t}s=t.length;break n}if(!(e>=a)){const o=t[1];e<o&&(r=2,a=o);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}s=r,r=0;break n}break e}for(;r<s;){const o=r+s>>>1;e<t[o]?s=o:r=o+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let s=0;s!==i;++s)t[s]=r[a+s];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Ttt extends xw{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:xv,endingEnd:xv}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,s=e+1,o=i[a],l=i[s];if(o===void 0)switch(this.getSettings_().endingStart){case Sv:a=e,o=2*t-r;break;case EM:a=i.length-2,o=t+i[a]-i[a+1];break;default:a=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Sv:s=e,l=2*r-t;break;case EM:s=1,l=r+i[1]-i[0];break;default:s=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-r),this._offsetPrev=a*u,this._offsetNext=s*u}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(r-t)/(i-t),m=p*p,v=m*p,g=-f*v+2*f*m-f*p,y=(1+f)*v+(-1.5-2*f)*m+(-.5+f)*p+1,b=(-1-h)*v+(1.5+h)*m+.5*p,_=h*v-h*m;for(let x=0;x!==o;++x)a[x]=g*s[u+x]+y*s[c+x]+b*s[l+x]+_*s[d+x];return a}}class nie extends xw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-t)/(i-t),d=1-u;for(let f=0;f!==o;++f)a[f]=s[c+f]*d+s[l+f]*u;return a}}class Att extends xw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Tu{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=BS(t,this.TimeBufferType),this.values=BS(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:BS(e.times,Array),values:BS(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Att(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new nie(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Ttt(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case C_:t=this.InterpolantFactoryMethodDiscrete;break;case Tg:t=this.InterpolantFactoryMethodLinear;break;case B4:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return C_;case this.InterpolantFactoryMethodLinear:return Tg;case this.InterpolantFactoryMethodSmooth:return B4}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,s=i-1;for(;a!==i&&r[a]<e;)++a;for(;s!==-1&&r[s]>t;)--s;if(++s,a!==0||s!==i){a>=s&&(s=Math.max(s,1),a=s-1);const o=this.getValueSize();this.times=af(r,a,s),this.values=af(this.values,a*o,s*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let o=0;o!==a;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(s!==null&&s>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,s),e=!1;break}s=l}if(i!==void 0&&eie(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=af(this.times),t=af(this.values),r=this.getValueSize(),i=this.getInterpolation()===B4,a=e.length-1;let s=1;for(let o=1;o<a;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const d=o*r,f=d-r,h=d+r;for(let p=0;p!==r;++p){const m=t[d+p];if(m!==t[f+p]||m!==t[h+p]){l=!0;break}}}if(l){if(o!==s){e[s]=e[o];const d=o*r,f=s*r;for(let h=0;h!==r;++h)t[f+h]=t[d+h]}++s}}if(a>0){e[s]=e[a];for(let o=a*r,l=s*r,c=0;c!==r;++c)t[l+c]=t[o+c];++s}return s!==e.length?(this.times=af(e,0,s),this.values=af(t,0,s*r)):(this.times=e,this.values=t),this}clone(){const e=af(this.times,0),t=af(this.values,0),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Tu.prototype.TimeBufferType=Float32Array;Tu.prototype.ValueBufferType=Float32Array;Tu.prototype.DefaultInterpolation=Tg;class hy extends Tu{}hy.prototype.ValueTypeName="bool";hy.prototype.ValueBufferType=Array;hy.prototype.DefaultInterpolation=C_;hy.prototype.InterpolantFactoryMethodLinear=void 0;hy.prototype.InterpolantFactoryMethodSmooth=void 0;class rie extends Tu{}rie.prototype.ValueTypeName="color";class Ig extends Tu{}Ig.prototype.ValueTypeName="number";class Ett extends xw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let c=e*o;for(let u=c+o;c!==u;c+=4)es.slerpFlat(a,0,s,c-o,s,c,l);return a}}class Sd extends Tu{InterpolantFactoryMethodLinear(e){return new Ett(this.times,this.values,this.getValueSize(),e)}}Sd.prototype.ValueTypeName="quaternion";Sd.prototype.DefaultInterpolation=Tg;Sd.prototype.InterpolantFactoryMethodSmooth=void 0;class py extends Tu{}py.prototype.ValueTypeName="string";py.prototype.ValueBufferType=Array;py.prototype.DefaultInterpolation=C_;py.prototype.InterpolantFactoryMethodLinear=void 0;py.prototype.InterpolantFactoryMethodSmooth=void 0;class ph extends Tu{}ph.prototype.ValueTypeName="vector";class Cm{constructor(e,t=-1,r,i=U8){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Tl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,o=r.length;s!==o;++s)t.push(Rtt(r[s]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,s=r.length;a!==s;++a)t.push(Tu.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,s=[];for(let o=0;o<a;o++){let l=[],c=[];l.push((o+a-1)%a,o,(o+1)%a),c.push(0,1,0);const u=Mtt(l);l=vG(l,1,u),c=vG(c,1,u),!i&&l[0]===0&&(l.push(a),c.push(c[0])),s.push(new Ig(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/r))}return new this(e,-1,s)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(a);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const s=[];for(const o in i)s.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,h,p,m){if(h.length!==0){const v=[],g=[];tie(h,v,g,p),v.length!==0&&m.push(new d(f,v,g))}},i=[],a=e.name||"default",s=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let p;for(p=0;p<f.length;p++)if(f[p].morphTargets)for(let m=0;m<f[p].morphTargets.length;m++)h[f[p].morphTargets[m]]=-1;for(const m in h){const v=[],g=[];for(let y=0;y!==f[p].morphTargets.length;++y){const b=f[p];v.push(b.time),g.push(b.morphTarget===m?1:0)}i.push(new Ig(".morphTargetInfluence["+m+"]",v,g))}l=h.length*s}else{const h=".bones["+t[d].name+"]";r(ph,h+".position",f,"pos",i),r(Sd,h+".quaternion",f,"rot",i),r(ph,h+".scale",f,"scl",i)}}return i.length===0?null:new this(a,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Itt(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ig;case"vector":case"vector2":case"vector3":case"vector4":return ph;case"color":return rie;case"quaternion":return Sd;case"bool":case"boolean":return hy;case"string":return py}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Rtt(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Itt(n.type);if(n.times===void 0){const t=[],r=[];tie(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Rg={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class iie{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const aie=new iie;class ls{constructor(e){this.manager=e!==void 0?e:aie,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Fu={};class Ptt extends Error{constructor(e,t){super(e),this.response=t}}class Is extends ls{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Rg.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Fu[e]!==void 0){Fu[e].push({onLoad:t,onProgress:r,onError:i});return}Fu[e]=[],Fu[e].push({onLoad:t,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(s).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Fu[e],d=c.body.getReader(),f=c.headers.get("Content-Length"),h=f?parseInt(f):0,p=h!==0;let m=0;const v=new ReadableStream({start(g){y();function y(){d.read().then(({done:b,value:_})=>{if(b)g.close();else{m+=_.byteLength;const x=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let S=0,T=u.length;S<T;S++){const C=u[S];C.onProgress&&C.onProgress(x)}g.enqueue(_),y()}})}}});return new Response(v)}else throw new Ptt(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{Rg.add(e,c);const u=Fu[e];delete Fu[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=Fu[e];if(u===void 0)throw this.manager.itemError(e),c;delete Fu[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Dtt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=[],o=new Fet,l=new Is(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const h=a.parse(f,!0);s[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=ma),o.image=s,o.format=h.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=a.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let p=0;p<h;p++){s[p]={mipmaps:[]};for(let m=0;m<f.mipmapCount;m++)s[p].mipmaps.push(f.mipmaps[p*f.mipmapCount+m]),s[p].format=f.format,s[p].width=f.width,s[p].height=f.height}o.image=s}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=ma),o.format=f.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}class sD extends ls{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Rg.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o=T_("img");function l(){u(),Rg.add(e,this),t&&t(this),a.manager.itemEnd(e)}function c(d){u(),i&&i(d),a.manager.itemError(e),a.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(e),o.src=e,o}}class ktt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new mb,o=new Is(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(a.withCredentials),o.load(e,function(l){const c=a.parse(l);c&&(c.image!==void 0?s.image=c.image:c.data!==void 0&&(s.image.width=c.width,s.image.height=c.height,s.image.data=c.data),s.wrapS=c.wrapS!==void 0?c.wrapS:Ma,s.wrapT=c.wrapT!==void 0?c.wrapT:Ma,s.magFilter=c.magFilter!==void 0?c.magFilter:ma,s.minFilter=c.minFilter!==void 0?c.minFilter:ma,s.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.encoding!==void 0&&(s.encoding=c.encoding),c.flipY!==void 0&&(s.flipY=c.flipY),c.format!==void 0&&(s.format=c.format),c.type!==void 0&&(s.type=c.type),c.mipmaps!==void 0&&(s.mipmaps=c.mipmaps,s.minFilter=Od),c.mipmapCount===1&&(s.minFilter=ma),c.generateMipmaps!==void 0&&(s.generateMipmaps=c.generateMipmaps),s.needsUpdate=!0,t&&t(s,c))},r,i),s}}class Pg extends ls{constructor(e){super(e)}load(e,t,r,i){const a=new as,s=new sD(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(o){a.image=o,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class zm extends Wi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new bn(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class sie extends zm{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Wi.DefaultUp),this.updateMatrix(),this.groundColor=new bn(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const gG=new Un,yG=new Xe,bG=new Xe;class iN{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Wt(512,512),this.map=null,this.mapPass=null,this.matrix=new Un,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new W8,this._frameExtents=new Wt(1,1),this._viewportCount=1,this._viewports=[new ri(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;yG.setFromMatrixPosition(e.matrixWorld),t.position.copy(yG),bG.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(bG),t.updateMatrixWorld(),gG.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(gG),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(t.projectionMatrix),r.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Ltt extends iN{constructor(){super(new Ca(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=M_*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class DA extends zm{constructor(e,t,r=0,i=Math.PI/3,a=0,s=1){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Wi.DefaultUp),this.updateMatrix(),this.target=new Wi,this.distance=r,this.angle=i,this.penumbra=a,this.decay=s,this.shadow=new Ltt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const _G=new Un,g1=new Xe,gI=new Xe;class Ntt extends iN{constructor(){super(new Ca(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Wt(4,2),this._viewportCount=6,this._viewports=[new ri(2,1,1,1),new ri(0,1,1,1),new ri(3,1,1,1),new ri(1,1,1,1),new ri(3,0,1,1),new ri(1,0,1,1)],this._cubeDirections=[new Xe(1,0,0),new Xe(-1,0,0),new Xe(0,0,1),new Xe(0,0,-1),new Xe(0,1,0),new Xe(0,-1,0)],this._cubeUps=[new Xe(0,1,0),new Xe(0,1,0),new Xe(0,1,0),new Xe(0,1,0),new Xe(0,0,1),new Xe(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),g1.setFromMatrixPosition(e.matrixWorld),r.position.copy(g1),gI.copy(r.position),gI.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(gI),r.updateMatrixWorld(),i.makeTranslation(-g1.x,-g1.y,-g1.z),_G.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_G)}}class Mm extends zm{constructor(e,t,r=0,i=1){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Ntt}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ott extends iN{constructor(){super(new ly(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Sw extends zm{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Wi.DefaultUp),this.updateMatrix(),this.target=new Wi,this.shadow=new Ott}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class kA extends zm{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Btt extends zm{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class Ftt{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Xe)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*i),t.addScaledVector(s[2],.488603*a),t.addScaledVector(s[3],.488603*r),t.addScaledVector(s[4],1.092548*(r*i)),t.addScaledVector(s[5],1.092548*(i*a)),t.addScaledVector(s[6],.315392*(3*a*a-1)),t.addScaledVector(s[7],1.092548*(r*a)),t.addScaledVector(s[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],2*.511664*i),t.addScaledVector(s[2],2*.511664*a),t.addScaledVector(s[3],2*.511664*r),t.addScaledVector(s[4],2*.429043*r*i),t.addScaledVector(s[5],2*.429043*i*a),t.addScaledVector(s[6],.743125*a*a-.247708),t.addScaledVector(s[7],2*.429043*r*a),t.addScaledVector(s[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class ztt extends zm{constructor(e=new Ftt,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class aN extends ls{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,s=new Is(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=aN.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new bn().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const s=e.uniforms[a];switch(i.uniforms[a]={},s.type){case"t":i.uniforms[a].value=r(s.value);break;case"c":i.uniforms[a].value=new bn().setHex(s.value);break;case"v2":i.uniforms[a].value=new Wt().fromArray(s.value);break;case"v3":i.uniforms[a].value=new Xe().fromArray(s.value);break;case"v4":i.uniforms[a].value=new ri().fromArray(s.value);break;case"m3":i.uniforms[a].value=new wl().fromArray(s.value);break;case"m4":i.uniforms[a].value=new Un().fromArray(s.value);break;default:i.uniforms[a].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Wt().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Wt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:btt,SpriteMaterial:Z8,RawShaderMaterial:_tt,ShaderMaterial:xd,PointsMaterial:Hp,MeshPhysicalMaterial:Ch,MeshStandardMaterial:fy,MeshPhongMaterial:fd,MeshToonMaterial:wtt,MeshNormalMaterial:xtt,MeshLambertMaterial:rN,MeshDepthMaterial:zre,MeshDistanceMaterial:Ure,MeshBasicMaterial:hc,MeshMatcapMaterial:Stt,LineDashedMaterial:Ctt,LineBasicMaterial:bc,Material:ya};return new t[e]}}class As{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}let Utt=class extends Hr{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}};class Htt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Is(a.manager);s.setPath(a.path),s.setRequestHeader(a.requestHeader),s.setWithCredentials(a.withCredentials),s.load(e,function(o){try{t(a.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(h,p){if(t[p]!==void 0)return t[p];const v=h.interleavedBuffers[p],g=a(h,v.buffer),y=Cv(v.type,g),b=new j8(y,v.stride);return b.uuid=v.uuid,t[p]=b,b}function a(h,p){if(r[p]!==void 0)return r[p];const v=h.arrayBuffers[p],g=new Uint32Array(v).buffer;return r[p]=g,g}const s=e.isInstancedBufferGeometry?new Utt:new Hr,o=e.data.index;if(o!==void 0){const h=Cv(o.type,o.array);s.setIndex(new ea(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let m;if(p.isInterleavedBufferAttribute){const v=i(e.data,p.data);m=new xm(v,p.itemSize,p.offset,p.normalized)}else{const v=Cv(p.type,p.array),g=p.isInstancedBufferAttribute?E_:ea;m=new g(v,p.itemSize,p.normalized)}p.name!==void 0&&(m.name=p.name),p.usage!==void 0&&m.setUsage(p.usage),p.updateRange!==void 0&&(m.updateRange.offset=p.updateRange.offset,m.updateRange.count=p.updateRange.count),s.setAttribute(h,m)}const c=e.data.morphAttributes;if(c)for(const h in c){const p=c[h],m=[];for(let v=0,g=p.length;v<g;v++){const y=p[v];let b;if(y.isInterleavedBufferAttribute){const _=i(e.data,y.data);b=new xm(_,y.itemSize,y.offset,y.normalized)}else{const _=Cv(y.type,y.array);b=new ea(_,y.itemSize,y.normalized)}y.name!==void 0&&(b.name=y.name),m.push(b)}s.morphAttributes[h]=m}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,p=d.length;h!==p;++h){const m=d[h];s.addGroup(m.start,m.count,m.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new Xe;f.center!==void 0&&h.fromArray(f.center),s.boundingSphere=new Fm(h,f.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class Vtt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?As.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const o=new Is(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?As.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Is(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const s=await a.loadAsync(e,t),o=JSON.parse(s),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,a,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let d=!1;for(const f in s)if(s[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,a),o=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,o,s,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new nN().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=new uy().fromJSON(e[a],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new Htt;for(let a=0,s=e.length;a<s;a++){let o;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:l.type in mG?o=mG[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),o.isBufferGeometry===!0&&l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new aN;a.setTextures(t);for(let s=0,o=e.length;s<o;s++){const l=e[s];if(l.type==="MultiMaterial"){const c=[];for(let u=0;u<l.materials.length;u++){const d=l.materials[u];r[d.uuid]===void 0&&(r[d.uuid]=a.parse(d)),c.push(r[d.uuid])}i[l.uuid]=c}else r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=Cm.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function s(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return s(u)}else return l.data?{data:Cv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new iie(t);a=new sD(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const h=[];for(let p=0,m=f.length;p<m;p++){const v=f[p],g=o(v);g!==null&&(g instanceof HTMLImageElement?h.push(g):h.push(new mb(g.data,g.width,g.height)))}i[d.uuid]=new Mv(h)}else{const h=o(d.url);i[d.uuid]=new Mv(h)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function a(s){if(typeof s=="string"){const o=s,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return s.data?{data:Cv(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new sD(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,o=e.length;s<o;s++){const l=e[s],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d],p=await a(h);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new mb(p.data,p.width,p.height)))}r[l.uuid]=new Mv(u)}else{const u=await a(l.url);r[l.uuid]=new Mv(u)}}}return r}parseTextures(e,t){function r(a,s){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),s[a])}const i={};if(e!==void 0)for(let a=0,s=e.length;a<s;a++){const o=e[a];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let u;Array.isArray(c)?(u=new G8,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new mb:u=new as,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,$tt)),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],wG),u.wrapT=r(o.wrap[1],wG)),o.format!==void 0&&(u.format=o.format),o.type!==void 0&&(u.type=o.type),o.encoding!==void 0&&(u.encoding=o.encoding),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,xG)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,xG)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,t,r,i,a){let s;function o(f){return t[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),t[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let p=0,m=f.length;p<m;p++){const v=f[p];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),h.push(r[v])}return h}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":s=new X8,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new bn(e.background):s.background=c(e.background)),e.environment!==void 0&&(s.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new Y8(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new K8(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":s=new Ca(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new ly(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new kA(e.color,e.intensity);break;case"DirectionalLight":s=new Sw(e.color,e.intensity);break;case"PointLight":s=new Mm(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Btt(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new DA(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":s=new sie(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new ztt().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),s=new RA(u,d),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),s=new Ta(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,p=e.instanceColor;s=new Bet(u,d,f),s.instanceMatrix=new E_(new Float32Array(h.array),16),p!==void 0&&(s.instanceColor=new E_(new Float32Array(p.array),p.itemSize));break;case"LOD":s=new Let;break;case"Line":s=new dy(o(e.geometry),l(e.material));break;case"LineLoop":s=new $re(o(e.geometry),l(e.material));break;case"LineSegments":s=new Sm(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":s=new vb(o(e.geometry),l(e.material));break;case"Sprite":s=new sC(l(e.material));break;case"Group":s=new fo;break;case"Bone":s=new Eg;break;default:s=new Wi}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)s.add(this.parseObject(f[h],t,r,i,a))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const p=f[h];s.animations.push(a[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const p=f[h],m=s.getObjectByProperty("uuid",p.object);m!==void 0&&s.addLevel(m,p.distance)}}return s}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const $tt={UVMapping:F8,CubeReflectionMapping:ym,CubeRefractionMapping:bm,EquirectangularReflectionMapping:w_,EquirectangularRefractionMapping:MM,CubeUVReflectionMapping:ww},wG={RepeatWrapping:uo,ClampToEdgeWrapping:Ma,MirroredRepeatWrapping:x_},xG={NearestFilter:Ba,NearestMipmapNearestFilter:TM,NearestMipmapLinearFilter:AM,LinearFilter:ma,LinearMipmapNearestFilter:z8,LinearMipmapLinearFilter:Od};class Gtt extends ls{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,s=Rg.get(e);if(s!==void 0)return a.manager.itemStart(e),setTimeout(function(){t&&t(s),a.manager.itemEnd(e)},0),s;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(l){Rg.add(e,l),t&&t(l),a.manager.itemEnd(e)}).catch(function(l){i&&i(l),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}class Wtt{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=SG(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=SG();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function SG(){return(typeof performance>"u"?Date:performance).now()}class qtt{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,s;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let o=0;o!==i;++o)r[a+o]=r[o];s=t}else{s+=t;const o=t/s;this._mixBufferRegion(r,a,0,o,i)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,s=i;a!==s;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let s=0;s!==a;++s)e[t+s]=e[r+s]}_slerp(e,t,r,i){es.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const s=this._workIndex*a;es.multiplyQuaternionsFlat(e,s,e,t,e,r),es.slerpFlat(e,t,e,t,e,s,i)}_lerp(e,t,r,i,a){const s=1-i;for(let o=0;o!==a;++o){const l=t+o;e[l]=e[l]*s+e[r+o]*i}}_lerpAdditive(e,t,r,i,a){for(let s=0;s!==a;++s){const o=t+s;e[o]=e[o]+e[r+s]*i}}}const sN="\\[\\]\\.:\\/",Ktt=new RegExp("["+sN+"]","g"),oN="[^"+sN+"]",Ytt="[^"+sN.replace("\\.","")+"]",Xtt=/((?:WC+[\/:])*)/.source.replace("WC",oN),jtt=/(WCOD+)?/.source.replace("WCOD",Ytt),Ztt=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oN),Qtt=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oN),Jtt=new RegExp("^"+Xtt+jtt+Ztt+Qtt+"$"),ent=["material","materials","bones"];class tnt{constructor(e,t,r){const i=r||Zr.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Zr{constructor(e,t,r){this.path=t,this.parsedPath=r||Zr.parseTrackName(t),this.node=Zr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Zr.Composite(e,t,r):new Zr(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ktt,"")}static parseTrackName(e){const t=Jtt.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);ent.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let s=0;s<a.length;s++){const o=a[s];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Zr.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const s=e[i];if(s===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else s.fromArray!==void 0&&s.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(l=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Zr.Composite=tnt;Zr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Zr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Zr.prototype.GetterByBindingType=[Zr.prototype._getValue_direct,Zr.prototype._getValue_array,Zr.prototype._getValue_arrayElement,Zr.prototype._getValue_toArray];Zr.prototype.SetterByBindingTypeAndVersioning=[[Zr.prototype._setValue_direct,Zr.prototype._setValue_direct_setNeedsUpdate,Zr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zr.prototype._setValue_array,Zr.prototype._setValue_array_setNeedsUpdate,Zr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zr.prototype._setValue_arrayElement,Zr.prototype._setValue_arrayElement_setNeedsUpdate,Zr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zr.prototype._setValue_fromArray,Zr.prototype._setValue_fromArray_setNeedsUpdate,Zr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class nnt{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,s=a.length,o=new Array(s),l={endingStart:xv,endingEnd:xv};for(let c=0;c!==s;++c){const u=a[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=hXe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,a=e._clip.duration,s=a/i,o=i/a;e.warp(1,s,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,s=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/s,c[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;if(l<0||r===0)return;this._startTime=null,t=r*l}t*=this._updateTimeScale(e);const s=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case mXe:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulateAdditive(o);break;case U8:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(s),c[u].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const s=r===pXe;if(e===0)return a===-1?i:s&&(a&1)===1?t-i:i;if(r===fXe){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,a+=Math.abs(o);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,s)}else this._setEndings(!1,!1,s);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(s&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Sv,i.endingEnd=Sv):(e?i.endingStart=this.zeroSlopeAtStart?Sv:xv:i.endingStart=EM,t?i.endingEnd=this.zeroSlopeAtEnd?Sv:xv:i.endingEnd=EM)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,l=s.sampleValues;return o[0]=a,l[0]=t,o[1]=a+e,l[1]=r,this}}const rnt=new Float32Array(1);class yI extends Sh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,s=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==a;++d){const f=i[d],h=f.name;let p=u[h];if(p!==void 0)++p.referenceCount,s[d]=p;else{if(p=s[d],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const m=t&&t._propertyBindings[d].binding.parsedPath;p=new qtt(Zr.create(r,h,m),f.ValueTypeName,f.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),s[d]=p}o[d].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let s=a[t];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=s;else{const o=s.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,s=this._actionsByClip,o=s[a],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete s[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let s=i[t];s===void 0&&(s={},i[t]=s),s[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,s=this._bindingsByRootAndName,o=s[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[a],Object.keys(o).length===0&&delete s[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new nie(new Float32Array(2),new Float32Array(2),1,rnt),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let s=typeof e=="string"?Cm.findByName(i,e):e;const o=s!==null?s.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(s!==null?r=s.blendMode:r=U8),l!==void 0){const d=l.actionByRoot[a];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],s===null&&(s=c._clip)}if(s===null)return null;const u=new nnt(this,s,t,r);return this._bindAction(u,c),this._addInactiveAction(u,o,a),u}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?Cm.findByName(r,e):e,s=a?a.uuid:e,o=this._actionsByClip[s];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),s=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,s);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(s);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const s=a.knownActions;for(let o=0,l=s.length;o!==l;++o){const c=s[o];this._deactivateAction(c);const u=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,t[u]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const s in r){const o=r[s].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const s in a){const o=a[s];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}let int=class{constructor(e,t,r=0,i=1/0){this.ray=new EA(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new V8,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return oD(e,this,r,t),r.sort(CG),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)oD(e[i],this,r,t);return r.sort(CG),r}};function CG(n,e){return n.distance-e.distance}function oD(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let a=0,s=i.length;a<s;a++)oD(i[a],e,t,!0)}}let MG=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Sa(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}};class ant extends Sm{constructor(e=10,t=10,r=4473924,i=8947848){r=new bn(r),i=new bn(i);const a=t/2,s=e/t,o=e/2,l=[],c=[];for(let f=0,h=0,p=-o;f<=t;f++,p+=s){l.push(-o,0,p,o,0,p),l.push(p,0,-o,p,0,o);const m=f===a?r:i;m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3,m.toArray(c,h),h+=3}const u=new Hr;u.setAttribute("position",new En(l,3)),u.setAttribute("color",new En(c,3));const d=new bc({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}}class snt extends Sm{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Hr;i.setAttribute("position",new En(t,3)),i.setAttribute("color",new En(r,3));const a=new bc({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new bn,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:B8}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=B8);const TG={type:"change"},bI={type:"start"},AG={type:"end"};let ont=class extends Sh{constructor(e,t){super(),t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Xe,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:m0.ROTATE,MIDDLE:m0.DOLLY,RIGHT:m0.PAN},this.touches={ONE:v0.ROTATE,TWO:v0.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Ce){Ce.addEventListener("keydown",fe),this._domElementKeyEvents=Ce},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(TG),r.update(),a=i.NONE},this.update=function(){const Ce=new Xe,ft=new es().setFromUnitVectors(e.up,new Xe(0,1,0)),at=ft.clone().invert(),G=new Xe,ge=new es,pe=2*Math.PI;return function(){const ye=r.object.position;Ce.copy(ye).sub(r.target),Ce.applyQuaternion(ft),o.setFromVector3(Ce),r.autoRotate&&a===i.NONE&&M(T()),r.enableDamping?(o.theta+=l.theta*r.dampingFactor,o.phi+=l.phi*r.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let Me=r.minAzimuthAngle,ht=r.maxAzimuthAngle;return isFinite(Me)&&isFinite(ht)&&(Me<-Math.PI?Me+=pe:Me>Math.PI&&(Me-=pe),ht<-Math.PI?ht+=pe:ht>Math.PI&&(ht-=pe),Me<=ht?o.theta=Math.max(Me,Math.min(ht,o.theta)):o.theta=o.theta>(Me+ht)/2?Math.max(Me,o.theta):Math.min(ht,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(r.minDistance,Math.min(r.maxDistance,o.radius)),r.enableDamping===!0?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),Ce.setFromSpherical(o),Ce.applyQuaternion(at),ye.copy(r.target).add(Ce),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),u.set(0,0,0)),c=1,d||G.distanceToSquared(r.object.position)>s||8*(1-ge.dot(r.object.quaternion))>s?(r.dispatchEvent(TG),G.copy(r.object.position),ge.copy(r.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",me),r.domElement.removeEventListener("pointerdown",re),r.domElement.removeEventListener("pointercancel",$e),r.domElement.removeEventListener("wheel",je),r.domElement.removeEventListener("pointermove",Ne),r.domElement.removeEventListener("pointerup",Pe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",fe)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=i.NONE;const s=1e-6,o=new MG,l=new MG;let c=1;const u=new Xe;let d=!1;const f=new Wt,h=new Wt,p=new Wt,m=new Wt,v=new Wt,g=new Wt,y=new Wt,b=new Wt,_=new Wt,x=[],S={};function T(){return 2*Math.PI/60/60*r.autoRotateSpeed}function C(){return Math.pow(.95,r.zoomSpeed)}function M(Ce){l.theta-=Ce}function A(Ce){l.phi-=Ce}const I=function(){const Ce=new Xe;return function(at,G){Ce.setFromMatrixColumn(G,0),Ce.multiplyScalar(-at),u.add(Ce)}}(),D=function(){const Ce=new Xe;return function(at,G){r.screenSpacePanning===!0?Ce.setFromMatrixColumn(G,1):(Ce.setFromMatrixColumn(G,0),Ce.crossVectors(r.object.up,Ce)),Ce.multiplyScalar(at),u.add(Ce)}}(),L=function(){const Ce=new Xe;return function(at,G){const ge=r.domElement;if(r.object.isPerspectiveCamera){const pe=r.object.position;Ce.copy(pe).sub(r.target);let Ie=Ce.length();Ie*=Math.tan(r.object.fov/2*Math.PI/180),I(2*at*Ie/ge.clientHeight,r.object.matrix),D(2*G*Ie/ge.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(I(at*(r.object.right-r.object.left)/r.object.zoom/ge.clientWidth,r.object.matrix),D(G*(r.object.top-r.object.bottom)/r.object.zoom/ge.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function F(Ce){r.object.isPerspectiveCamera?c/=Ce:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*Ce)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function B(Ce){r.object.isPerspectiveCamera?c*=Ce:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/Ce)),r.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function k(Ce){f.set(Ce.clientX,Ce.clientY)}function H(Ce){y.set(Ce.clientX,Ce.clientY)}function z(Ce){m.set(Ce.clientX,Ce.clientY)}function O(Ce){h.set(Ce.clientX,Ce.clientY),p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const ft=r.domElement;M(2*Math.PI*p.x/ft.clientHeight),A(2*Math.PI*p.y/ft.clientHeight),f.copy(h),r.update()}function W(Ce){b.set(Ce.clientX,Ce.clientY),_.subVectors(b,y),_.y>0?F(C()):_.y<0&&B(C()),y.copy(b),r.update()}function j(Ce){v.set(Ce.clientX,Ce.clientY),g.subVectors(v,m).multiplyScalar(r.panSpeed),L(g.x,g.y),m.copy(v),r.update()}function ee(Ce){Ce.deltaY<0?B(C()):Ce.deltaY>0&&F(C()),r.update()}function te(Ce){let ft=!1;switch(Ce.code){case r.keys.UP:L(0,r.keyPanSpeed),ft=!0;break;case r.keys.BOTTOM:L(0,-r.keyPanSpeed),ft=!0;break;case r.keys.LEFT:L(r.keyPanSpeed,0),ft=!0;break;case r.keys.RIGHT:L(-r.keyPanSpeed,0),ft=!0;break}ft&&(Ce.preventDefault(),r.update())}function J(){if(x.length===1)f.set(x[0].pageX,x[0].pageY);else{const Ce=.5*(x[0].pageX+x[1].pageX),ft=.5*(x[0].pageY+x[1].pageY);f.set(Ce,ft)}}function Q(){if(x.length===1)m.set(x[0].pageX,x[0].pageY);else{const Ce=.5*(x[0].pageX+x[1].pageX),ft=.5*(x[0].pageY+x[1].pageY);m.set(Ce,ft)}}function ie(){const Ce=x[0].pageX-x[1].pageX,ft=x[0].pageY-x[1].pageY,at=Math.sqrt(Ce*Ce+ft*ft);y.set(0,at)}function le(){r.enableZoom&&ie(),r.enablePan&&Q()}function we(){r.enableZoom&&ie(),r.enableRotate&&J()}function Ae(Ce){if(x.length==1)h.set(Ce.pageX,Ce.pageY);else{const at=pt(Ce),G=.5*(Ce.pageX+at.x),ge=.5*(Ce.pageY+at.y);h.set(G,ge)}p.subVectors(h,f).multiplyScalar(r.rotateSpeed);const ft=r.domElement;M(2*Math.PI*p.x/ft.clientHeight),A(2*Math.PI*p.y/ft.clientHeight),f.copy(h)}function ke(Ce){if(x.length===1)v.set(Ce.pageX,Ce.pageY);else{const ft=pt(Ce),at=.5*(Ce.pageX+ft.x),G=.5*(Ce.pageY+ft.y);v.set(at,G)}g.subVectors(v,m).multiplyScalar(r.panSpeed),L(g.x,g.y),m.copy(v)}function Fe(Ce){const ft=pt(Ce),at=Ce.pageX-ft.x,G=Ce.pageY-ft.y,ge=Math.sqrt(at*at+G*G);b.set(0,ge),_.set(0,Math.pow(b.y/y.y,r.zoomSpeed)),F(_.y),y.copy(b)}function q(Ce){r.enableZoom&&Fe(Ce),r.enablePan&&ke(Ce)}function ce(Ce){r.enableZoom&&Fe(Ce),r.enableRotate&&Ae(Ce)}function re(Ce){r.enabled!==!1&&(x.length===0&&(r.domElement.setPointerCapture(Ce.pointerId),r.domElement.addEventListener("pointermove",Ne),r.domElement.addEventListener("pointerup",Pe)),Oe(Ce),Ce.pointerType==="touch"?$(Ce):Ue(Ce))}function Ne(Ce){r.enabled!==!1&&(Ce.pointerType==="touch"?X(Ce):Ve(Ce))}function Pe(Ce){qe(Ce),x.length===0&&(r.domElement.releasePointerCapture(Ce.pointerId),r.domElement.removeEventListener("pointermove",Ne),r.domElement.removeEventListener("pointerup",Pe)),r.dispatchEvent(AG),a=i.NONE}function $e(Ce){qe(Ce)}function Ue(Ce){let ft;switch(Ce.button){case 0:ft=r.mouseButtons.LEFT;break;case 1:ft=r.mouseButtons.MIDDLE;break;case 2:ft=r.mouseButtons.RIGHT;break;default:ft=-1}switch(ft){case m0.DOLLY:if(r.enableZoom===!1)return;H(Ce),a=i.DOLLY;break;case m0.ROTATE:if(Ce.ctrlKey||Ce.metaKey||Ce.shiftKey){if(r.enablePan===!1)return;z(Ce),a=i.PAN}else{if(r.enableRotate===!1)return;k(Ce),a=i.ROTATE}break;case m0.PAN:if(Ce.ctrlKey||Ce.metaKey||Ce.shiftKey){if(r.enableRotate===!1)return;k(Ce),a=i.ROTATE}else{if(r.enablePan===!1)return;z(Ce),a=i.PAN}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(bI)}function Ve(Ce){switch(a){case i.ROTATE:if(r.enableRotate===!1)return;O(Ce);break;case i.DOLLY:if(r.enableZoom===!1)return;W(Ce);break;case i.PAN:if(r.enablePan===!1)return;j(Ce);break}}function je(Ce){r.enabled===!1||r.enableZoom===!1||a!==i.NONE||(Ce.preventDefault(),r.dispatchEvent(bI),ee(Ce),r.dispatchEvent(AG))}function fe(Ce){r.enabled===!1||r.enablePan===!1||te(Ce)}function $(Ce){switch(mt(Ce),x.length){case 1:switch(r.touches.ONE){case v0.ROTATE:if(r.enableRotate===!1)return;J(),a=i.TOUCH_ROTATE;break;case v0.PAN:if(r.enablePan===!1)return;Q(),a=i.TOUCH_PAN;break;default:a=i.NONE}break;case 2:switch(r.touches.TWO){case v0.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;le(),a=i.TOUCH_DOLLY_PAN;break;case v0.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(),a=i.TOUCH_DOLLY_ROTATE;break;default:a=i.NONE}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(bI)}function X(Ce){switch(mt(Ce),a){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ae(Ce),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;ke(Ce),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;q(Ce),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ce(Ce),r.update();break;default:a=i.NONE}}function me(Ce){r.enabled!==!1&&Ce.preventDefault()}function Oe(Ce){x.push(Ce)}function qe(Ce){delete S[Ce.pointerId];for(let ft=0;ft<x.length;ft++)if(x[ft].pointerId==Ce.pointerId){x.splice(ft,1);return}}function mt(Ce){let ft=S[Ce.pointerId];ft===void 0&&(ft=new Wt,S[Ce.pointerId]=ft),ft.set(Ce.pageX,Ce.pageY)}function pt(Ce){const ft=Ce.pointerId===x[0].pointerId?x[1]:x[0];return S[ft.pointerId]}r.domElement.addEventListener("contextmenu",me),r.domElement.addEventListener("pointerdown",re),r.domElement.addEventListener("pointercancel",$e),r.domElement.addEventListener("wheel",je,{passive:!1}),this.update()}};var bb=function(){var n=0,e=document.createElement("div");e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",function(u){u.preventDefault(),r(++n%e.children.length)},!1);function t(u){return e.appendChild(u.dom),u}function r(u){for(var d=0;d<e.children.length;d++)e.children[d].style.display=d===u?"block":"none";n=u}var i=(performance||Date).now(),a=i,s=0,o=t(new bb.Panel("FPS","#0ff","#002")),l=t(new bb.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new bb.Panel("MB","#f08","#201"));return r(0),{REVISION:16,dom:e,addPanel:t,showPanel:r,begin:function(){i=(performance||Date).now()},end:function(){s++;var u=(performance||Date).now();if(l.update(u-i,200),u>=a+1e3&&(o.update(s*1e3/(u-a),100),a=u,s=0,c)){var d=performance.memory;c.update(d.usedJSHeapSize/1048576,d.jsHeapSizeLimit/1048576)}return u},update:function(){i=this.end()},domElement:e,setMode:r}};bb.Panel=function(n,e,t){var r=1/0,i=0,a=Math.round,s=a(window.devicePixelRatio||1),o=80*s,l=48*s,c=3*s,u=2*s,d=3*s,f=15*s,h=74*s,p=30*s,m=document.createElement("canvas");m.width=o,m.height=l,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*s+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=t,v.fillRect(0,0,o,l),v.fillStyle=e,v.fillText(n,c,u),v.fillRect(d,f,h,p),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(d,f,h,p),{dom:m,update:function(g,y){r=Math.min(r,g),i=Math.max(i,g),v.fillStyle=t,v.globalAlpha=1,v.fillRect(0,0,o,f),v.fillStyle=e,v.fillText(a(g)+" "+n+" ("+a(r)+"-"+a(i)+")",c,u),v.drawImage(m,d+s,f,h-s,p,d,f,h-s,p),v.fillRect(d+h-s,f,s,p),v.fillStyle=t,v.globalAlpha=.9,v.fillRect(d+h-s,f,s,a((1-g/y)*p))}}};/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.6.9
*/var EG={},lD=function(n){return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},oie=function(n){return new Worker(n)};try{URL.revokeObjectURL(lD(""))}catch{lD=function(e){return"data:application/javascript;charset=UTF-8,"+encodeURI(e)},oie=function(e){return new Worker(e,{type:"module"})}}var lnt=function(n,e,t,r,i){var a=oie(EG[e]||(EG[e]=lD(n)));return a.onerror=function(s){return i(s.error,null)},a.onmessage=function(s){return i(null,s.data)},a.postMessage(t,r),a},Wr=Uint8Array,za=Uint16Array,Cd=Uint32Array,my=new Wr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vy=new Wr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),k_=new Wr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lie=function(n,e){for(var t=new za(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new Cd(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return[t,i]},cie=lie(my,2),lN=cie[0],VM=cie[1];lN[28]=258,VM[258]=28;var uie=lie(vy,0),die=uie[0],cD=uie[1],L_=new za(32768);for(var Bi=0;Bi<32768;++Bi){var sf=(Bi&43690)>>>1|(Bi&21845)<<1;sf=(sf&52428)>>>2|(sf&13107)<<2,sf=(sf&61680)>>>4|(sf&3855)<<4,L_[Bi]=((sf&65280)>>>8|(sf&255)<<8)>>>1}var Al=function(n,e,t){for(var r=n.length,i=0,a=new za(e);i<r;++i)++a[n[i]-1];var s=new za(e);for(i=0;i<e;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(t){o=new za(1<<e);var l=15-e;for(i=0;i<r;++i)if(n[i])for(var c=i<<4|n[i],u=e-n[i],d=s[n[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[L_[d]>>>l]=c}else for(o=new za(r),i=0;i<r;++i)n[i]&&(o[i]=L_[s[n[i]-1]++]>>>15-n[i]);return o},Md=new Wr(288);for(var Bi=0;Bi<144;++Bi)Md[Bi]=8;for(var Bi=144;Bi<256;++Bi)Md[Bi]=9;for(var Bi=256;Bi<280;++Bi)Md[Bi]=7;for(var Bi=280;Bi<288;++Bi)Md[Bi]=8;var Dg=new Wr(32);for(var Bi=0;Bi<32;++Bi)Dg[Bi]=5;var fie=Al(Md,9,0),hie=Al(Md,9,1),pie=Al(Dg,5,0),mie=Al(Dg,5,1),oC=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},sl=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},lC=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},Cw=function(n){return(n/8|0)+(n&7&&1)},El=function(n,e,t){(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length);var r=new(n instanceof za?za:n instanceof Cd?Cd:Wr)(t-e);return r.set(n.subarray(e,t)),r},Mw=function(n,e,t){var r=n.length;if(!r||t&&!t.l&&r<5)return e||new Wr(0);var i=!e||t,a=!t||t.i;t||(t={}),e||(e=new Wr(r*3));var s=function(ie){var le=e.length;if(ie>le){var we=new Wr(Math.max(le*2,ie));we.set(e),e=we}},o=t.f||0,l=t.p||0,c=t.b||0,u=t.l,d=t.d,f=t.m,h=t.n,p=r*8;do{if(!u){t.f=o=sl(n,l,1);var m=sl(n,l+1,3);if(l+=3,m)if(m==1)u=hie,d=mie,f=9,h=5;else if(m==2){var b=sl(n,l,31)+257,_=sl(n,l+10,15)+4,x=b+sl(n,l+5,31)+1;l+=14;for(var S=new Wr(x),T=new Wr(19),C=0;C<_;++C)T[k_[C]]=sl(n,l+C*3,7);l+=_*3;for(var M=oC(T),A=(1<<M)-1,I=Al(T,M,1),C=0;C<x;){var D=I[sl(n,l,A)];l+=D&15;var v=D>>>4;if(v<16)S[C++]=v;else{var L=0,F=0;for(v==16?(F=3+sl(n,l,3),l+=2,L=S[C-1]):v==17?(F=3+sl(n,l,7),l+=3):v==18&&(F=11+sl(n,l,127),l+=7);F--;)S[C++]=L}}var B=S.subarray(0,b),k=S.subarray(b);f=oC(B),h=oC(k),u=Al(B,f,1),d=Al(k,h,1)}else throw"invalid block type";else{var v=Cw(l)+4,g=n[v-4]|n[v-3]<<8,y=v+g;if(y>r){if(a)throw"unexpected EOF";break}i&&s(c+g),e.set(n.subarray(v,y),c),t.b=c+=g,t.p=l=y*8;continue}if(l>p){if(a)throw"unexpected EOF";break}}i&&s(c+131072);for(var H=(1<<f)-1,z=(1<<h)-1,O=l;;O=l){var L=u[lC(n,l)&H],W=L>>>4;if(l+=L&15,l>p){if(a)throw"unexpected EOF";break}if(!L)throw"invalid length/literal";if(W<256)e[c++]=W;else if(W==256){O=l,u=null;break}else{var j=W-254;if(W>264){var C=W-257,ee=my[C];j=sl(n,l,(1<<ee)-1)+lN[C],l+=ee}var te=d[lC(n,l)&z],J=te>>>4;if(!te)throw"invalid distance";l+=te&15;var k=die[J];if(J>3){var ee=vy[J];k+=lC(n,l)&(1<<ee)-1,l+=ee}if(l>p){if(a)throw"unexpected EOF";break}i&&s(c+131072);for(var Q=c+j;c<Q;c+=4)e[c]=e[c-k],e[c+1]=e[c+1-k],e[c+2]=e[c+2-k],e[c+3]=e[c+3-k];c=Q}}t.l=u,t.p=O,t.b=c,u&&(o=1,t.m=f,t.d=d,t.n=h)}while(!o);return c==e.length?e:El(e,0,c)},Uc=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8},uv=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>>8,n[r+2]|=t>>>16},cC=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return[ld,0];if(i==1){var s=new Wr(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(x,S){return x.f-S.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],c=0,u=1,d=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=t[t[c].f<t[d].f?c++:d++],l=t[c!=u&&t[c].f<t[d].f?c++:d++],t[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=a[0].s,r=1;r<i;++r)a[r].s>f&&(f=a[r].s);var h=new za(f+1),p=$M(t[u-1],h,0);if(p>e){var r=0,m=0,v=p-e,g=1<<v;for(a.sort(function(S,T){return h[T.s]-h[S.s]||S.f-T.f});r<i;++r){var y=a[r].s;if(h[y]>e)m+=g-(1<<p-h[y]),h[y]=e;else break}for(m>>>=v;m>0;){var b=a[r].s;h[b]<e?m-=1<<e-h[b]++-1:++r}for(;r>=0&&m;--r){var _=a[r].s;h[_]==e&&(--h[_],++m)}p=e}return[new Wr(h),p]},$M=function(n,e,t){return n.s==-1?Math.max($M(n.l,e,t+1),$M(n.r,e,t+1)):e[n.s]=t},uD=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new za(++e),r=0,i=n[0],a=1,s=function(l){t[r++]=l},o=1;o<=e;++o)if(n[o]==i&&o!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=n[o]}return[t.subarray(0,r),e]},dv=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},_b=function(n,e,t){var r=t.length,i=Cw(e+2);n[i]=r&255,n[i+1]=r>>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},dD=function(n,e,t,r,i,a,s,o,l,c,u){Uc(e,u++,t),++i[256];for(var d=cC(i,15),f=d[0],h=d[1],p=cC(a,15),m=p[0],v=p[1],g=uD(f),y=g[0],b=g[1],_=uD(m),x=_[0],S=_[1],T=new za(19),C=0;C<y.length;++C)T[y[C]&31]++;for(var C=0;C<x.length;++C)T[x[C]&31]++;for(var M=cC(T,7),A=M[0],I=M[1],D=19;D>4&&!A[k_[D-1]];--D);var L=c+5<<3,F=dv(i,Md)+dv(a,Dg)+s,B=dv(i,f)+dv(a,m)+s+14+3*D+dv(T,A)+(2*T[16]+3*T[17]+7*T[18]);if(L<=F&&L<=B)return _b(e,u,n.subarray(l,l+c));var k,H,z,O;if(Uc(e,u,1+(B<F)),u+=2,B<F){k=Al(f,h,0),H=f,z=Al(m,v,0),O=m;var W=Al(A,I,0);Uc(e,u,b-257),Uc(e,u+5,S-1),Uc(e,u+10,D-4),u+=14;for(var C=0;C<D;++C)Uc(e,u+3*C,A[k_[C]]);u+=3*D;for(var j=[y,x],ee=0;ee<2;++ee)for(var te=j[ee],C=0;C<te.length;++C){var J=te[C]&31;Uc(e,u,W[J]),u+=A[J],J>15&&(Uc(e,u,te[C]>>>5&127),u+=te[C]>>>12)}}else k=fie,H=Md,z=pie,O=Dg;for(var C=0;C<o;++C)if(r[C]>255){var J=r[C]>>>18&31;uv(e,u,k[J+257]),u+=H[J+257],J>7&&(Uc(e,u,r[C]>>>23&31),u+=my[J]);var Q=r[C]&31;uv(e,u,z[Q]),u+=O[Q],Q>3&&(uv(e,u,r[C]>>>5&8191),u+=vy[Q])}else uv(e,u,k[r[C]]),u+=H[r[C]];return uv(e,u,k[256]),u+H[256]},vie=new Cd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ld=new Wr(0),gie=function(n,e,t,r,i,a){var s=n.length,o=new Wr(r+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(r,o.length-i),c=0;if(!e||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d<s?c=_b(l,c,n.subarray(u,d)):(l[u]=a,c=_b(l,c,n.subarray(u,s)))}else{for(var f=vie[e-1],h=f>>>13,p=f&8191,m=(1<<t)-1,v=new za(32768),g=new za(m+1),y=Math.ceil(t/3),b=2*y,_=function(re){return(n[re]^n[re+1]<<y^n[re+2]<<b)&m},x=new Cd(25e3),S=new za(288),T=new za(32),C=0,M=0,u=0,A=0,I=0,D=0;u<s;++u){var L=_(u),F=u&32767,B=g[L];if(v[F]=B,g[L]=F,I<=u){var k=s-u;if((C>7e3||A>24576)&&k>423){c=dD(n,l,0,x,S,T,M,A,D,u-D,c),A=C=M=0,D=u;for(var H=0;H<286;++H)S[H]=0;for(var H=0;H<30;++H)T[H]=0}var z=2,O=0,W=p,j=F-B&32767;if(k>2&&L==_(u-j))for(var ee=Math.min(h,k)-1,te=Math.min(32767,u),J=Math.min(258,k);j<=te&&--W&&F!=B;){if(n[u+z]==n[u+z-j]){for(var Q=0;Q<J&&n[u+Q]==n[u+Q-j];++Q);if(Q>z){if(z=Q,O=j,Q>ee)break;for(var ie=Math.min(j,Q-2),le=0,H=0;H<ie;++H){var we=u-j+H+32768&32767,Ae=v[we],ke=we-Ae+32768&32767;ke>le&&(le=ke,B=we)}}}F=B,B=v[F],j+=F-B+32768&32767}if(O){x[A++]=268435456|VM[z]<<18|cD[O];var Fe=VM[z]&31,q=cD[O]&31;M+=my[Fe]+vy[q],++S[257+Fe],++T[q],I=u+z,++C}else x[A++]=n[u],++S[n[u]]}}c=dD(n,l,a,x,S,T,M,A,D,u-D,c),!a&&c&7&&(c=_b(l,c+1,ld))}return El(o,0,r+Cw(c)+i)},yie=function(){for(var n=new Cd(256),e=0;e<256;++e){for(var t=e,r=9;--r;)t=(t&1&&3988292384)^t>>>1;n[e]=t}return n}(),gy=function(){var n=-1;return{p:function(e){for(var t=n,r=0;r<e.length;++r)t=yie[t&255^e[r]]^t>>>8;n=t},d:function(){return~n}}},cN=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=r+=t[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|n>>>8<<16|(e&255)<<8|e>>>8}}},Um=function(n,e,t,r,i){return gie(n,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):12+e.mem,t,r,!i)},Tw=function(n,e){var t={};for(var r in n)t[r]=n[r];for(var r in e)t[r]=e[r];return t},IG=function(n,e,t){for(var r=n(),i=n.toString(),a=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),s=0;s<r.length;++s){var o=r[s],l=a[s];if(typeof o=="function"){e+=";"+l+"=";var c=o.toString();if(o.prototype)if(c.indexOf("[native code]")!=-1){var u=c.indexOf(" ",8)+1;e+=c.slice(u,c.indexOf("(",u))}else{e+=c;for(var d in o.prototype)e+=";"+l+".prototype."+d+"="+o.prototype[d].toString()}else e+=c}else t[l]=o}return[e,t]},FS=[],cnt=function(n){var e=[];for(var t in n)(n[t]instanceof Wr||n[t]instanceof za||n[t]instanceof Cd)&&e.push((n[t]=new n[t].constructor(n[t])).buffer);return e},bie=function(n,e,t,r){var i;if(!FS[t]){for(var a="",s={},o=n.length-1,l=0;l<o;++l)i=IG(n[l],a,s),a=i[0],s=i[1];FS[t]=IG(n[o],a,s)}var c=Tw({},FS[t][1]);return lnt(FS[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,c,cnt(c),r)},yy=function(){return[Wr,za,Cd,my,vy,k_,lN,die,hie,mie,L_,Al,oC,sl,lC,Cw,El,Mw,xy,Mh,uN]},by=function(){return[Wr,za,Cd,my,vy,k_,VM,cD,fie,Md,pie,Dg,L_,vie,ld,Al,Uc,uv,cC,$M,uD,dv,_b,dD,Cw,El,gie,Um,Aw,Mh]},_ie=function(){return[dN,hN,ci,gy,yie]},wie=function(){return[fN,Cie]},xie=function(){return[pN,ci,cN]},Sie=function(){return[Mie]},Mh=function(n){return postMessage(n,[n.buffer])},uN=function(n){return n&&n.size&&new Wr(n.size)},_y=function(n,e,t,r,i,a){var s=bie(t,r,i,function(o,l){s.terminate(),a(o,l)});return s.postMessage([n,e],e.consume?[n.buffer]:[]),function(){s.terminate()}},Ol=function(n){return n.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return n.push(e.data[0],e.data[1])}},wy=function(n,e,t,r,i){var a,s=bie(n,r,i,function(o,l){o?(s.terminate(),e.ondata.call(e,o)):(l[1]&&s.terminate(),e.ondata.call(e,o,l[0],l[1]))});s.postMessage(t),e.push=function(o,l){if(a)throw"stream finished";if(!e.ondata)throw"no stream handler";s.postMessage([o,a=l],[o.buffer])},e.terminate=function(){s.terminate()}},Hs=function(n,e){return n[e]|n[e+1]<<8},la=function(n,e){return(n[e]|n[e+1]<<8|n[e+2]<<16|n[e+3]<<24)>>>0},_I=function(n,e){return la(n,e)+la(n,e+4)*4294967296},ci=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},dN=function(n,e){var t=e.filename;if(n[0]=31,n[1]=139,n[2]=8,n[8]=e.level<2?4:e.level==9?2:0,n[9]=3,e.mtime!=0&&ci(n,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){n[3]=8;for(var r=0;r<=t.length;++r)n[r+10]=t.charCodeAt(r)}},fN=function(n){if(n[0]!=31||n[1]!=139||n[2]!=8)throw"invalid gzip data";var e=n[3],t=10;e&4&&(t+=n[10]|(n[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!n[t++]);return t+(e&2)},Cie=function(n){var e=n.length;return(n[e-4]|n[e-3]<<8|n[e-2]<<16|n[e-1]<<24)>>>0},hN=function(n){return 10+(n.filename&&n.filename.length+1||0)},pN=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;n[0]=120,n[1]=r<<6|(r?32-2*r:1)},Mie=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function mN(n,e){return!e&&typeof n=="function"&&(e=n,n={}),this.ondata=e,n}var vu=function(){function n(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return n.prototype.p=function(e,t){this.ondata(Um(e,this.o,0,0,!t),t)},n.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},n}(),Tie=function(){function n(e,t){wy([by,function(){return[Ol,vu]}],this,mN.call(this,e,t),function(r){var i=new vu(r.data);onmessage=Ol(i)},6)}return n}();function Aie(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return _y(n,e,[by],function(r){return Mh(Aw(r.data[0],r.data[1]))},0,t)}function Aw(n,e){return Um(n,e||{},0,0)}var vo=function(){function n(e){this.s={},this.p=new Wr(0),this.ondata=e}return n.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var t=this.p.length,r=new Wr(t+e.length);r.set(this.p),r.set(e,t),this.p=r},n.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,r=Mw(this.p,this.o,this.s);this.ondata(El(r,t,this.s.b),this.d),this.o=El(r,this.s.b-32768),this.s.b=this.o.length,this.p=El(this.p,this.s.p/8|0),this.s.p&=7},n.prototype.push=function(e,t){this.e(e),this.c(t)},n}(),vN=function(){function n(e){this.ondata=e,wy([yy,function(){return[Ol,vo]}],this,0,function(){var t=new vo;onmessage=Ol(t)},7)}return n}();function gN(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return _y(n,e,[yy],function(r){return Mh(xy(r.data[0],uN(r.data[1])))},1,t)}function xy(n,e){return Mw(n,e)}var GM=function(){function n(e,t){this.c=gy(),this.l=0,this.v=1,vu.call(this,e,t)}return n.prototype.push=function(e,t){vu.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var r=Um(e,this.o,this.v&&hN(this.o),t&&8,!t);this.v&&(dN(r,this.o),this.v=0),t&&(ci(r,r.length-8,this.c.d()),ci(r,r.length-4,this.l)),this.ondata(r,t)},n}(),RG=function(){function n(e,t){wy([by,_ie,function(){return[Ol,vu,GM]}],this,mN.call(this,e,t),function(r){var i=new GM(r.data);onmessage=Ol(i)},8)}return n}();function PG(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return _y(n,e,[by,_ie,function(){return[WM]}],function(r){return Mh(WM(r.data[0],r.data[1]))},2,t)}function WM(n,e){e||(e={});var t=gy(),r=n.length;t.p(n);var i=Um(n,e,hN(e),8),a=i.length;return dN(i,e),ci(i,a-8,t.d()),ci(i,a-4,r),i}var qM=function(){function n(e){this.v=1,vo.call(this,e)}return n.prototype.push=function(e,t){if(vo.prototype.e.call(this,e),this.v){var r=this.p.length>3?fN(this.p):4;if(r>=this.p.length&&!t)return;this.p=this.p.subarray(r),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}vo.prototype.c.call(this,t)},n}(),Eie=function(){function n(e){this.ondata=e,wy([yy,wie,function(){return[Ol,vo,qM]}],this,0,function(){var t=new qM;onmessage=Ol(t)},9)}return n}();function Iie(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return _y(n,e,[yy,wie,function(){return[KM]}],function(r){return Mh(KM(r.data[0]))},3,t)}function KM(n,e){return Mw(n.subarray(fN(n),-8),e||new Wr(Cie(n)))}var fD=function(){function n(e,t){this.c=cN(),this.v=1,vu.call(this,e,t)}return n.prototype.push=function(e,t){vu.prototype.push.call(this,e,t)},n.prototype.p=function(e,t){this.c.p(e);var r=Um(e,this.o,this.v&&2,t&&4,!t);this.v&&(pN(r,this.o),this.v=0),t&&ci(r,r.length-4,this.c.d()),this.ondata(r,t)},n}(),unt=function(){function n(e,t){wy([by,xie,function(){return[Ol,vu,fD]}],this,mN.call(this,e,t),function(r){var i=new fD(r.data);onmessage=Ol(i)},10)}return n}();function dnt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return _y(n,e,[by,xie,function(){return[hD]}],function(r){return Mh(hD(r.data[0],r.data[1]))},4,t)}function hD(n,e){e||(e={});var t=cN();t.p(n);var r=Um(n,e,2,4);return pN(r,e),ci(r,r.length-4,t.d()),r}var YM=function(){function n(e){this.v=1,vo.call(this,e)}return n.prototype.push=function(e,t){if(vo.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}vo.prototype.c.call(this,t)},n}(),Rie=function(){function n(e){this.ondata=e,wy([yy,Sie,function(){return[Ol,vo,YM]}],this,0,function(){var t=new YM;onmessage=Ol(t)},11)}return n}();function Pie(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return _y(n,e,[yy,Sie,function(){return[N_]}],function(r){return Mh(N_(r.data[0],uN(r.data[1])))},5,t)}function N_(n,e){return Mw((Mie(n),n.subarray(2,-4)),e)}var Die=function(){function n(e){this.G=qM,this.I=vo,this.Z=YM,this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,t);else{if(this.p&&this.p.length){var r=new Wr(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var i=this,a=function(){i.ondata.apply(i,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(a):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(a):new this.Z(a),this.s.push(this.p,t),this.p=null}}},n}(),fnt=function(){function n(e){this.G=Eie,this.I=vN,this.Z=Rie,this.ondata=e}return n.prototype.push=function(e,t){Die.prototype.push.call(this,e,t)},n}();function hnt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";return n[0]==31&&n[1]==139&&n[2]==8?Iie(n,e,t):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?gN(n,e,t):Pie(n,e,t)}function pnt(n,e){return n[0]==31&&n[1]==139&&n[2]==8?KM(n,e):(n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31?xy(n,e):N_(n,e)}var yN=function(n,e,t,r){for(var i in n){var a=n[i],s=e+i;a instanceof Wr?t[s]=[a,r]:Array.isArray(a)?t[s]=[a[0],Tw(r,a[1])]:yN(a,s+"/",t,r)}},DG=typeof TextEncoder<"u"&&new TextEncoder,pD=typeof TextDecoder<"u"&&new TextDecoder,kie=0;try{pD.decode(ld,{stream:!0}),kie=1}catch{}var Lie=function(n){for(var e="",t=0;;){var r=n[t++],i=(r>127)+(r>223)+(r>239);if(t+i>n.length)return[e,El(n,t-1)];i?i==3?(r=((r&15)<<18|(n[t++]&63)<<12|(n[t++]&63)<<6|n[t++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|n[t++]&63):e+=String.fromCharCode((r&15)<<12|(n[t++]&63)<<6|n[t++]&63):e+=String.fromCharCode(r)}},mnt=function(){function n(e){this.ondata=e,kie?this.t=new TextDecoder:this.p=ld}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(t=!!t,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),t),t){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var r=new Wr(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var i=Lie(r),a=i[0],s=i[1];if(t){if(s.length)throw"invalid utf-8 data";this.p=null}else this.p=s;this.ondata(a,t)},n}(),vnt=function(){function n(e){this.ondata=e}return n.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(mh(e),this.d=t||!1)},n}();function mh(n,e){if(e){for(var t=new Wr(n.length),r=0;r<n.length;++r)t[r]=n.charCodeAt(r);return t}if(DG)return DG.encode(n);for(var i=n.length,a=new Wr(n.length+(n.length>>1)),s=0,o=function(u){a[s++]=u},r=0;r<i;++r){if(s+5>a.length){var l=new Wr(s+8+(i-r<<1));l.set(a),a=l}var c=n.charCodeAt(r);c<128||e?o(c):c<2048?(o(192|c>>6),o(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|n.charCodeAt(++r)&1023,o(240|c>>18),o(128|c>>12&63),o(128|c>>6&63),o(128|c&63)):(o(224|c>>12),o(128|c>>6&63),o(128|c&63))}return El(a,0,s)}function bN(n,e){if(e){for(var t="",r=0;r<n.length;r+=16384)t+=String.fromCharCode.apply(null,n.subarray(r,r+16384));return t}else{if(pD)return pD.decode(n);var i=Lie(n),a=i[0],s=i[1];if(s.length)throw"invalid utf-8 data";return a}}var Nie=function(n){return n==1?3:n<6?2:n==9?1:0},Oie=function(n,e){return e+30+Hs(n,e+26)+Hs(n,e+28)},Bie=function(n,e,t){var r=Hs(n,e+28),i=bN(n.subarray(e+46,e+46+r),!(Hs(n,e+8)&2048)),a=e+46+r,s=la(n,e+20),o=t&&s==4294967295?Fie(n,a):[s,la(n,e+24),la(n,e+42)],l=o[0],c=o[1],u=o[2];return[Hs(n,e+10),l,c,i,a+Hs(n,e+30)+Hs(n,e+32),u]},Fie=function(n,e){for(;Hs(n,e)!=1;e+=4+Hs(n,e+2));return[_I(n,e+12),_I(n,e+4),_I(n,e+20)]},$f=function(n){var e=0;if(n)for(var t in n){var r=n[t].length;if(r>65535)throw"extra field too long";e+=r+4}return e},kg=function(n,e,t,r,i,a,s,o){var l=r.length,c=t.extra,u=o&&o.length,d=$f(c);ci(n,e,s!=null?33639248:67324752),e+=4,s!=null&&(n[e++]=20,n[e++]=t.os),n[e]=20,e+=2,n[e++]=t.flag<<1|(a==null&&8),n[e++]=i&&8,n[e++]=t.compression&255,n[e++]=t.compression>>8;var f=new Date(t.mtime==null?Date.now():t.mtime),h=f.getFullYear()-1980;if(h<0||h>119)throw"date not in range 1980-2099";if(ci(n,e,h<<25|f.getMonth()+1<<21|f.getDate()<<16|f.getHours()<<11|f.getMinutes()<<5|f.getSeconds()>>>1),e+=4,a!=null&&(ci(n,e,t.crc),ci(n,e+4,a),ci(n,e+8,t.size)),ci(n,e+12,l),ci(n,e+14,d),e+=16,s!=null&&(ci(n,e,u),ci(n,e+6,t.attrs),ci(n,e+10,s),e+=14),n.set(r,e),e+=l,d)for(var p in c){var m=c[p],v=m.length;ci(n,e,+p),ci(n,e+2,v),n.set(m,e+4),e+=4+v}return u&&(n.set(o,e),e+=u),e},_N=function(n,e,t,r,i){ci(n,e,101010256),ci(n,e+8,t),ci(n,e+10,t),ci(n,e+12,r),ci(n,e+16,i)},O_=function(){function n(e){this.filename=e,this.c=gy(),this.size=0,this.compression=0}return n.prototype.process=function(e,t){this.ondata(null,e,t)},n.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},n}(),gnt=function(){function n(e,t){var r=this;t||(t={}),O_.call(this,e),this.d=new vu(t,function(i,a){r.ondata(null,i,a)}),this.compression=8,this.flag=Nie(t.level)}return n.prototype.process=function(e,t){try{this.d.push(e,t)}catch(r){this.ondata(r,null,t)}},n.prototype.push=function(e,t){O_.prototype.push.call(this,e,t)},n}(),ynt=function(){function n(e,t){var r=this;t||(t={}),O_.call(this,e),this.d=new Tie(t,function(i,a,s){r.ondata(i,a,s)}),this.compression=8,this.flag=Nie(t.level),this.terminate=this.d.terminate}return n.prototype.process=function(e,t){this.d.push(e,t)},n.prototype.push=function(e,t){O_.prototype.push.call(this,e,t)},n}(),bnt=function(){function n(e){this.ondata=e,this.u=[],this.d=1}return n.prototype.add=function(e){var t=this;if(this.d&2)throw"stream finished";var r=mh(e.filename),i=r.length,a=e.comment,s=a&&mh(a),o=i!=e.filename.length||s&&a.length!=s.length,l=i+$f(e.extra)+30;if(i>65535)throw"filename too long";var c=new Wr(l);kg(c,0,e,r,o);var u=[c],d=function(){for(var v=0,g=u;v<g.length;v++){var y=g[v];t.ondata(null,y,!1)}u=[]},f=this.d;this.d=0;var h=this.u.length,p=Tw(e,{f:r,u:o,o:s,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),f){var v=t.u[h+1];v?v.r():t.d=1}f=1}}),m=0;e.ondata=function(v,g,y){if(v)t.ondata(v,g,y),t.terminate();else if(m+=g.length,u.push(g),y){var b=new Wr(16);ci(b,0,134695760),ci(b,4,e.crc),ci(b,8,m),ci(b,12,e.size),u.push(b),p.c=m,p.b=l+m+16,p.crc=e.crc,p.size=e.size,f&&p.r(),f=1}else f&&d()},this.u.push(p)},n.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){e.d&1&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},n.prototype.e=function(){for(var e=0,t=0,r=0,i=0,a=this.u;i<a.length;i++){var s=a[i];r+=46+s.f.length+$f(s.extra)+(s.o?s.o.length:0)}for(var o=new Wr(r+22),l=0,c=this.u;l<c.length;l++){var s=c[l];kg(o,e,s,s.f,s.u,s.c,t,s.o),e+=46+s.f.length+$f(s.extra)+(s.o?s.o.length:0),t+=s.b}_N(o,e,this.u.length,r,t),this.ondata(null,o,!0),this.d=2},n.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var r=t[e];r.t()}this.d=2},n}();function _nt(n,e,t){if(t||(t=e,e={}),typeof t!="function")throw"no callback";var r={};yN(n,"",r,e);var i=Object.keys(r),a=i.length,s=0,o=0,l=a,c=new Array(a),u=[],d=function(){for(var m=0;m<u.length;++m)u[m]()},f=function(){var m=new Wr(o+22),v=s,g=o-s;o=0;for(var y=0;y<l;++y){var b=c[y];try{var _=b.c.length;kg(m,o,b,b.f,b.u,_);var x=30+b.f.length+$f(b.extra),S=o+x;m.set(b.c,S),kg(m,s,b,b.f,b.u,_,o,b.m),s+=16+x+(b.m?b.m.length:0),o=S+_}catch(T){return t(T,null)}}_N(m,s,c.length,g,v),t(null,m)};a||f();for(var h=function(m){var v=i[m],g=r[v],y=g[0],b=g[1],_=gy(),x=y.length;_.p(y);var S=mh(v),T=S.length,C=b.comment,M=C&&mh(C),A=M&&M.length,I=$f(b.extra),D=b.level==0?0:8,L=function(F,B){if(F)d(),t(F,null);else{var k=B.length;c[m]=Tw(b,{size:x,crc:_.d(),c:B,f:S,m:M,u:T!=v.length||M&&C.length!=A,compression:D}),s+=30+T+I+k,o+=76+2*(T+I)+(A||0)+k,--a||f()}};if(T>65535&&L("filename too long",null),!D)L(null,y);else if(x<16e4)try{L(null,Aw(y,b))}catch(F){L(F,null)}else u.push(Aie(y,b,L))},p=0;p<l;++p)h(p);return d}function wnt(n,e){e||(e={});var t={},r=[];yN(n,"",t,e);var i=0,a=0;for(var s in t){var o=t[s],l=o[0],c=o[1],u=c.level==0?0:8,d=mh(s),f=d.length,h=c.comment,p=h&&mh(h),m=p&&p.length,v=$f(c.extra);if(f>65535)throw"filename too long";var g=u?Aw(l,c):l,y=g.length,b=gy();b.p(l),r.push(Tw(c,{size:l.length,crc:b.d(),c:g,f:d,m:p,u:f!=s.length||p&&h.length!=m,o:i,compression:u})),i+=30+f+v+y,a+=76+2*(f+v)+(m||0)+y}for(var _=new Wr(a+22),x=i,S=a-i,T=0;T<r.length;++T){var d=r[T];kg(_,d.o,d,d.f,d.u,d.c.length);var C=30+d.f.length+$f(d.extra);_.set(d.c,d.o+C),kg(_,i,d,d.f,d.u,d.c.length,d.o,d.m),i+=16+C+(d.m?d.m.length:0)}return _N(_,i,r.length,S,x),_}var zie=function(){function n(){}return n.prototype.push=function(e,t){this.ondata(null,e,t)},n.compression=0,n}(),xnt=function(){function n(){var e=this;this.i=new vo(function(t,r){e.ondata(null,t,r)})}return n.prototype.push=function(e,t){try{this.i.push(e,t)}catch(r){this.ondata(r,e,t)}},n.compression=8,n}(),Snt=function(){function n(e,t){var r=this;t<32e4?this.i=new vo(function(i,a){r.ondata(null,i,a)}):(this.i=new vN(function(i,a,s){r.ondata(i,a,s)}),this.terminate=this.i.terminate)}return n.prototype.push=function(e,t){this.i.terminate&&(e=El(e,0)),this.i.push(e,t)},n.compression=8,n}(),Cnt=function(){function n(e){this.onfile=e,this.k=[],this.o={0:zie},this.p=ld}return n.prototype.push=function(e,t){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var i=Math.min(this.c,e.length),a=e.subarray(0,i);if(this.c-=i,this.d?this.d.push(a,!this.c):this.k[0].push(a),e=e.subarray(i),e.length)return this.push(e,t)}else{var s=0,o=0,l=void 0,c=void 0;this.p.length?e.length?(c=new Wr(this.p.length+e.length),c.set(this.p),c.set(e,this.p.length)):c=this.p:c=e;for(var u=c.length,d=this.c,f=d&&this.d,h=function(){var g,y=la(c,o);if(y==67324752){s=1,l=o,p.d=null,p.c=0;var b=Hs(c,o+6),_=Hs(c,o+8),x=b&2048,S=b&8,T=Hs(c,o+26),C=Hs(c,o+28);if(u>o+30+T+C){var M=[];p.k.unshift(M),s=2;var A=la(c,o+18),I=la(c,o+22),D=bN(c.subarray(o+30,o+=30+T),!x);A==4294967295?(g=S?[-2]:Fie(c,o),A=g[0],I=g[1]):S&&(A=-1),o+=C,p.c=A;var L,F={name:D,compression:_,start:function(){if(!F.ondata)throw"no callback";if(!A)F.ondata(null,ld,!0);else{var B=r.o[_];if(!B)throw"unknown compression type "+_;L=A<0?new B(D):new B(D,A,I),L.ondata=function(O,W,j){F.ondata(O,W,j)};for(var k=0,H=M;k<H.length;k++){var z=H[k];L.push(z,!1)}r.k[0]==M&&r.c?r.d=L:L.push(ld,!0)}},terminate:function(){L&&L.terminate&&L.terminate()}};A>=0&&(F.size=A,F.originalSize=I),p.onfile(F)}return"break"}else if(d){if(y==134695760)return l=o+=12+(d==-2&&8),s=3,p.c=0,"break";if(y==33639248)return l=o-=4,s=3,p.c=0,"break"}},p=this;o<u-4;++o){var m=h();if(m==="break")break}if(this.p=ld,d<0){var v=s?c.subarray(0,l-12-(d==-2&&8)-(la(c,l-16)==134695760&&4)):c.subarray(0,o);f?f.push(v,!!s):this.k[+(s==2)].push(v)}if(s&2)return this.push(c.subarray(o),t);this.p=c.subarray(o)}if(t){if(this.c)throw"invalid zip file";this.p=null}},n.prototype.register=function(e){this.o[e.compression]=e},n}();function Mnt(n,e){if(typeof e!="function")throw"no callback";for(var t=[],r=function(){for(var f=0;f<t.length;++f)t[f]()},i={},a=n.length-22;la(n,a)!=101010256;--a)if(!a||n.length-a>65558){e("invalid zip file",null);return}var s=Hs(n,a+8);s||e(null,{});var o=s,l=la(n,a+16),c=l==4294967295;if(c){if(a=la(n,a-12),la(n,a)!=101075792){e("invalid zip file",null);return}o=s=la(n,a+32),l=la(n,a+48)}for(var u=function(f){var h=Bie(n,l,c),p=h[0],m=h[1],v=h[2],g=h[3],y=h[4],b=h[5],_=Oie(n,b);l=y;var x=function(T,C){T?(r(),e(T,null)):(i[g]=C,--s||e(null,i))};if(!p)x(null,El(n,_,_+m));else if(p==8){var S=n.subarray(_,_+m);if(m<32e4)try{x(null,xy(S,new Wr(v)))}catch(T){x(T,null)}else t.push(gN(S,{size:v},x))}else x("unknown compression type "+p,null)},d=0;d<o;++d)u();return r}function Tnt(n){for(var e={},t=n.length-22;la(n,t)!=101010256;--t)if(!t||n.length-t>65558)throw"invalid zip file";var r=Hs(n,t+8);if(!r)return{};var i=la(n,t+16),a=i==4294967295;if(a){if(t=la(n,t-12),la(n,t)!=101075792)throw"invalid zip file";r=la(n,t+32),i=la(n,t+48)}for(var s=0;s<r;++s){var o=Bie(n,i,a),l=o[0],c=o[1],u=o[2],d=o[3],f=o[4],h=o[5],p=Oie(n,h);if(i=f,!l)e[d]=El(n,p,p+c);else if(l==8)e[d]=xy(n.subarray(p,p+c),new Wr(u));else throw"unknown compression type "+l}return e}var Ant=Object.freeze(Object.defineProperty({__proto__:null,Deflate:vu,AsyncDeflate:Tie,deflate:Aie,deflateSync:Aw,Inflate:vo,AsyncInflate:vN,inflate:gN,inflateSync:xy,Gzip:GM,AsyncGzip:RG,gzip:PG,gzipSync:WM,Gunzip:qM,AsyncGunzip:Eie,gunzip:Iie,gunzipSync:KM,Zlib:fD,AsyncZlib:unt,zlib:dnt,zlibSync:hD,Unzlib:YM,AsyncUnzlib:Rie,unzlib:Pie,unzlibSync:N_,compress:PG,AsyncCompress:RG,compressSync:WM,Compress:GM,Decompress:Die,AsyncDecompress:fnt,decompress:hnt,decompressSync:pnt,DecodeUTF8:mnt,EncodeUTF8:vnt,strToU8:mh,strFromU8:bN,ZipPassThrough:O_,ZipDeflate:gnt,AsyncZipDeflate:ynt,Zip:bnt,zip:_nt,zipSync:wnt,UnzipPassThrough:zie,UnzipInflate:xnt,AsyncUnzipInflate:Snt,Unzip:Cnt,unzip:Mnt,unzipSync:Tnt},Symbol.toStringTag,{value:"Module"}));function Uie(n,e,t){const r=t.length-n-1;if(e>=t[r])return r-1;if(e<=t[n])return n;let i=n,a=r,s=Math.floor((i+a)/2);for(;e<t[s]||e>=t[s+1];)e<t[s]?a=s:i=s,s=Math.floor((i+a)/2);return s}function Ent(n,e,t,r){const i=[],a=[],s=[];i[0]=1;for(let o=1;o<=t;++o){a[o]=e-r[n+1-o],s[o]=r[n+o]-e;let l=0;for(let c=0;c<o;++c){const u=s[c+1],d=a[o-c],f=i[c]/(u+d);i[c]=l+u*f,l=d*f}i[o]=l}return i}function Int(n,e,t,r){const i=Uie(n,r,e),a=Ent(i,r,n,e),s=new ri(0,0,0,0);for(let o=0;o<=n;++o){const l=t[i-n+o],c=a[o],u=l.w*c;s.x+=l.x*u,s.y+=l.y*u,s.z+=l.z*u,s.w+=l.w*c}return s}function Rnt(n,e,t,r,i){const a=[];for(let d=0;d<=t;++d)a[d]=0;const s=[];for(let d=0;d<=r;++d)s[d]=a.slice(0);const o=[];for(let d=0;d<=t;++d)o[d]=a.slice(0);o[0][0]=1;const l=a.slice(0),c=a.slice(0);for(let d=1;d<=t;++d){l[d]=e-i[n+1-d],c[d]=i[n+d]-e;let f=0;for(let h=0;h<d;++h){const p=c[h+1],m=l[d-h];o[d][h]=p+m;const v=o[h][d-1]/o[d][h];o[h][d]=f+p*v,f=m*v}o[d][d]=f}for(let d=0;d<=t;++d)s[0][d]=o[d][t];for(let d=0;d<=t;++d){let f=0,h=1;const p=[];for(let m=0;m<=t;++m)p[m]=a.slice(0);p[0][0]=1;for(let m=1;m<=r;++m){let v=0;const g=d-m,y=t-m;d>=m&&(p[h][0]=p[f][0]/o[y+1][g],v=p[h][0]*o[g][y]);const b=g>=-1?1:-g,_=d-1<=y?m-1:t-d;for(let S=b;S<=_;++S)p[h][S]=(p[f][S]-p[f][S-1])/o[y+1][g+S],v+=p[h][S]*o[g+S][y];d<=y&&(p[h][m]=-p[f][m-1]/o[y+1][d],v+=p[h][m]*o[d][y]),s[m][d]=v;const x=f;f=h,h=x}}let u=t;for(let d=1;d<=r;++d){for(let f=0;f<=t;++f)s[d][f]*=u;u*=t-d}return s}function Pnt(n,e,t,r,i){const a=i<n?i:n,s=[],o=Uie(n,r,e),l=Rnt(o,r,n,a,e),c=[];for(let u=0;u<t.length;++u){const d=t[u].clone(),f=d.w;d.x*=f,d.y*=f,d.z*=f,c[u]=d}for(let u=0;u<=a;++u){const d=c[o-n].clone().multiplyScalar(l[u][0]);for(let f=1;f<=n;++f)d.add(c[o-n+f].clone().multiplyScalar(l[u][f]));s[u]=d}for(let u=a+1;u<=i+1;++u)s[u]=new ri(0,0,0);return s}function Dnt(n,e){let t=1;for(let i=2;i<=n;++i)t*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=n-e;++i)r*=i;return t/r}function knt(n){const e=n.length,t=[],r=[];for(let a=0;a<e;++a){const s=n[a];t[a]=new Xe(s.x,s.y,s.z),r[a]=s.w}const i=[];for(let a=0;a<e;++a){const s=t[a].clone();for(let o=1;o<=a;++o)s.sub(i[a-o].clone().multiplyScalar(Dnt(a,o)*r[o]));i[a]=s.divideScalar(r[0])}return i}function Lnt(n,e,t,r,i){const a=Pnt(n,e,t,r,i);return knt(a)}class kG extends Rc{constructor(e,t,r,i,a){super(),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=i||0,this.endKnot=a||this.knots.length-1;for(let s=0;s<r.length;++s){const o=r[s];this.controlPoints[s]=new ri(o.x,o.y,o.z,o.w)}}getPoint(e,t=new Xe){const r=t,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),a=Int(this.degree,this.knots,this.controlPoints,i);return a.w!==1&&a.divideScalar(a.w),r.set(a.x,a.y,a.z)}getTangent(e,t=new Xe){const r=t,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),a=Lnt(this.degree,this.knots,this.controlPoints,i,1);return r.copy(a[1]).normalize(),r}}let Br,aa,ro;class Nnt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=a.path===""?As.extractUrlBase(e):a.path,o=new Is(this.manager);o.setPath(a.path),o.setResponseType("arraybuffer"),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e,t){if(Hnt(e))Br=new Unt().parse(e);else{const i=Gie(e);if(!Vnt(i))throw new Error("THREE.FBXLoader: Unknown format.");if(NG(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+NG(i));Br=new znt().parse(i)}const r=new Pg(this.manager).setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);return new Ont(r,this.manager).parse(Br)}}class Ont{constructor(e,t){this.textureLoader=e,this.manager=t}parse(){aa=this.parseConnections();const e=this.parseImages(),t=this.parseTextures(e),r=this.parseMaterials(t),i=this.parseDeformers(),a=new Bnt().parse(i);return this.parseScene(i,a,r),ro}parseConnections(){const e=new Map;return"Connections"in Br&&Br.Connections.connections.forEach(function(r){const i=r[0],a=r[1],s=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const o={ID:a,relationship:s};e.get(i).parents.push(o),e.has(a)||e.set(a,{parents:[],children:[]});const l={ID:i,relationship:s};e.get(a).children.push(l)}),e}parseImages(){const e={},t={};if("Video"in Br.Objects){const r=Br.Objects.Video;for(const i in r){const a=r[i],s=parseInt(i);if(e[s]=a.RelativeFilename||a.Filename,"Content"in a){const o=a.Content instanceof ArrayBuffer&&a.Content.byteLength>0,l=typeof a.Content=="string"&&a.Content!=="";if(o||l){const c=this.parseImage(r[i]);t[a.RelativeFilename||a.Filename]=c}}}}for(const r in e){const i=e[r];t[i]!==void 0?e[r]=t[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const t=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let a;switch(i){case"bmp":a="image/bmp";break;case"jpg":case"jpeg":a="image/jpeg";break;case"png":a="image/png";break;case"tif":a="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),a="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof t=="string")return"data:"+a+";base64,"+t;{const s=new Uint8Array(t);return window.URL.createObjectURL(new Blob([s],{type:a}))}}parseTextures(e){const t=new Map;if("Texture"in Br.Objects){const r=Br.Objects.Texture;for(const i in r){const a=this.parseTexture(r[i],e);t.set(parseInt(i),a)}}return t}parseTexture(e,t){const r=this.loadTexture(e,t);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,a=e.WrapModeV,s=i!==void 0?i.value:0,o=a!==void 0?a.value:0;if(r.wrapS=s===0?uo:Ma,r.wrapT=o===0?uo:Ma,"Scaling"in e){const l=e.Scaling.value;r.repeat.x=l[0],r.repeat.y=l[1]}if("Translation"in e){const l=e.Translation.value;r.offset.x=l[0],r.offset.y=l[1]}return r}loadTexture(e,t){let r;const i=this.textureLoader.path,a=aa.get(e.id).children;a!==void 0&&a.length>0&&t[a[0].ID]!==void 0&&(r=t[a[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let s;const o=e.FileName.slice(-3).toLowerCase();if(o==="tga"){const l=this.manager.getHandler(".tga");l===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),s=new as):(l.setPath(this.textureLoader.path),s=l.load(r))}else o==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),s=new as):s=this.textureLoader.load(r);return this.textureLoader.setPath(i),s}parseMaterials(e){const t=new Map;if("Material"in Br.Objects){const r=Br.Objects.Material;for(const i in r){const a=this.parseMaterial(r[i],e);a!==null&&t.set(parseInt(i),a)}}return t}parseMaterial(e,t){const r=e.id,i=e.attrName;let a=e.ShadingModel;if(typeof a=="object"&&(a=a.value),!aa.has(r))return null;const s=this.parseParameters(e,t,r);let o;switch(a.toLowerCase()){case"phong":o=new fd;break;case"lambert":o=new rN;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',a),o=new fd;break}return o.setValues(s),o.name=i,o}parseParameters(e,t,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new bn().fromArray(e.Diffuse.value):e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new bn().fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new bn().fromArray(e.Emissive.value):e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new bn().fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new bn().fromArray(e.Specular.value):e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new bn().fromArray(e.SpecularColor.value));const a=this;return aa.get(r).children.forEach(function(s){const o=s.relationship;switch(o){case"Bump":i.bumpMap=a.getTexture(t,s.ID);break;case"Maya|TEX_ao_map":i.aoMap=a.getTexture(t,s.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=a.getTexture(t,s.ID),i.map!==void 0&&(i.map.encoding=Er);break;case"DisplacementColor":i.displacementMap=a.getTexture(t,s.ID);break;case"EmissiveColor":i.emissiveMap=a.getTexture(t,s.ID),i.emissiveMap!==void 0&&(i.emissiveMap.encoding=Er);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=a.getTexture(t,s.ID);break;case"ReflectionColor":i.envMap=a.getTexture(t,s.ID),i.envMap!==void 0&&(i.envMap.mapping=w_,i.envMap.encoding=Er);break;case"SpecularColor":i.specularMap=a.getTexture(t,s.ID),i.specularMap!==void 0&&(i.specularMap.encoding=Er);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=a.getTexture(t,s.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",o);break}}),i}getTexture(e,t){return"LayeredTexture"in Br.Objects&&t in Br.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),t=aa.get(t).children[0].ID),e.get(t)}parseDeformers(){const e={},t={};if("Deformer"in Br.Objects){const r=Br.Objects.Deformer;for(const i in r){const a=r[i],s=aa.get(parseInt(i));if(a.attrType==="Skin"){const o=this.parseSkeleton(s,r);o.ID=i,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),o.geometryID=s.parents[0].ID,e[i]=o}else if(a.attrType==="BlendShape"){const o={id:i};o.rawTargets=this.parseMorphTargets(s,r),o.id=i,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),t[i]=o}}}return{skeletons:e,morphTargets:t}}parseSkeleton(e,t){const r=[];return e.children.forEach(function(i){const a=t[i.ID];if(a.attrType!=="Cluster")return;const s={ID:i.ID,indices:[],weights:[],transformLink:new Un().fromArray(a.TransformLink.a)};"Indexes"in a&&(s.indices=a.Indexes.a,s.weights=a.Weights.a),r.push(s)}),{rawBones:r,bones:[]}}parseMorphTargets(e,t){const r=[];for(let i=0;i<e.children.length;i++){const a=e.children[i],s=t[a.ID],o={name:s.attrName,initialWeight:s.DeformPercent,id:s.id,fullWeights:s.FullWeights.a};if(s.attrType!=="BlendShapeChannel")return;o.geoID=aa.get(parseInt(a.ID)).children.filter(function(l){return l.relationship===void 0})[0].ID,r.push(o)}return r}parseScene(e,t,r){ro=new fo;const i=this.parseModels(e.skeletons,t,r),a=Br.Objects.Model,s=this;i.forEach(function(l){const c=a[l.ID];s.setLookAtProperties(l,c),aa.get(l.ID).parents.forEach(function(d){const f=i.get(d.ID);f!==void 0&&f.add(l)}),l.parent===null&&ro.add(l)}),this.bindSkeleton(e.skeletons,t,i),this.createAmbientLight(),ro.traverse(function(l){if(l.userData.transformData){l.parent&&(l.userData.transformData.parentMatrix=l.parent.matrix,l.userData.transformData.parentMatrixWorld=l.parent.matrixWorld);const c=Vie(l.userData.transformData);l.applyMatrix4(c),l.updateWorldMatrix()}});const o=new Fnt().parse();ro.children.length===1&&ro.children[0].isGroup&&(ro.children[0].animations=o,ro=ro.children[0]),ro.animations=o}parseModels(e,t,r){const i=new Map,a=Br.Objects.Model;for(const s in a){const o=parseInt(s),l=a[s],c=aa.get(o);let u=this.buildSkeleton(c,e,o,l.attrName);if(!u){switch(l.attrType){case"Camera":u=this.createCamera(c);break;case"Light":u=this.createLight(c);break;case"Mesh":u=this.createMesh(c,t,r);break;case"NurbsCurve":u=this.createCurve(c,t);break;case"LimbNode":case"Root":u=new Eg;break;case"Null":default:u=new fo;break}u.name=l.attrName?Zr.sanitizeNodeName(l.attrName):"",u.ID=o}this.getTransformData(u,l),i.set(o,u)}return i}buildSkeleton(e,t,r,i){let a=null;return e.parents.forEach(function(s){for(const o in t){const l=t[o];l.rawBones.forEach(function(c,u){if(c.ID===s.ID){const d=a;a=new Eg,a.matrixWorld.copy(c.transformLink),a.name=i?Zr.sanitizeNodeName(i):"",a.ID=r,l.bones[u]=a,d!==null&&a.add(d)}})}}),a}createCamera(e){let t,r;if(e.children.forEach(function(i){const a=Br.Objects.NodeAttribute[i.ID];a!==void 0&&(r=a)}),r===void 0)t=new Wi;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let a=1;r.NearPlane!==void 0&&(a=r.NearPlane.value/1e3);let s=1e3;r.FarPlane!==void 0&&(s=r.FarPlane.value/1e3);let o=window.innerWidth,l=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(o=r.AspectWidth.value,l=r.AspectHeight.value);const c=o/l;let u=45;r.FieldOfView!==void 0&&(u=r.FieldOfView.value);const d=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:t=new Ca(u,c,a,s),d!==null&&t.setFocalLength(d);break;case 1:t=new ly(-o/2,o/2,l/2,-l/2,a,s);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),t=new Wi;break}}return t}createLight(e){let t,r;if(e.children.forEach(function(i){const a=Br.Objects.NodeAttribute[i.ID];a!==void 0&&(r=a)}),r===void 0)t=new Wi;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let a=16777215;r.Color!==void 0&&(a=new bn().fromArray(r.Color.value));let s=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(s=0);let o=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?o=0:o=r.FarAttenuationEnd.value);const l=1;switch(i){case 0:t=new Mm(a,s,o,l);break;case 1:t=new Sw(a,s);break;case 2:let c=Math.PI/3;r.InnerAngle!==void 0&&(c=Ss.degToRad(r.InnerAngle.value));let u=0;r.OuterAngle!==void 0&&(u=Ss.degToRad(r.OuterAngle.value),u=Math.max(u,1)),t=new DA(a,s,o,c,u,l);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),t=new Mm(a,s);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(t.castShadow=!0)}return t}createMesh(e,t,r){let i,a=null,s=null;const o=[];return e.children.forEach(function(l){t.has(l.ID)&&(a=t.get(l.ID)),r.has(l.ID)&&o.push(r.get(l.ID))}),o.length>1?s=o:o.length>0?s=o[0]:(s=new fd({color:13421772}),o.push(s)),"color"in a.attributes&&o.forEach(function(l){l.vertexColors=!0}),a.FBX_Deformer?(i=new RA(a,s),i.normalizeSkinWeights()):i=new Ta(a,s),i}createCurve(e,t){const r=e.children.reduce(function(a,s){return t.has(s.ID)&&(a=t.get(s.ID)),a},null),i=new bc({color:3342591,linewidth:1});return new dy(r,i)}getTransformData(e,t){const r={};"InheritType"in t&&(r.inheritType=parseInt(t.InheritType.value)),"RotationOrder"in t?r.eulerOrder=$ie(t.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in t&&(r.translation=t.Lcl_Translation.value),"PreRotation"in t&&(r.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(r.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(r.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(r.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(r.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(r.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(r.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(r.rotationPivot=t.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,t){"LookAtProperty"in t&&aa.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const a=Br.Objects.Model[i.ID];if("Lcl_Translation"in a){const s=a.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(s),ro.add(e.target)):e.lookAt(new Xe().fromArray(s))}}})}bindSkeleton(e,t,r){const i=this.parsePoseNodes();for(const a in e){const s=e[a];aa.get(parseInt(s.ID)).parents.forEach(function(l){if(t.has(l.ID)){const c=l.ID;aa.get(c).parents.forEach(function(d){r.has(d.ID)&&r.get(d.ID).bind(new uy(s.bones),i[d.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in Br.Objects){const t=Br.Objects.Pose;for(const r in t)if(t[r].attrType==="BindPose"&&t[r].NbPoseNodes>0){const i=t[r].PoseNode;Array.isArray(i)?i.forEach(function(a){e[a.Node]=new Un().fromArray(a.Matrix.a)}):e[i.Node]=new Un().fromArray(i.Matrix.a)}}return e}createAmbientLight(){if("GlobalSettings"in Br&&"AmbientColor"in Br.GlobalSettings){const e=Br.GlobalSettings.AmbientColor.value,t=e[0],r=e[1],i=e[2];if(t!==0||r!==0||i!==0){const a=new bn(t,r,i);ro.add(new kA(a,1))}}}}class Bnt{parse(e){const t=new Map;if("Geometry"in Br.Objects){const r=Br.Objects.Geometry;for(const i in r){const a=aa.get(parseInt(i)),s=this.parseGeometry(a,r[i],e);t.set(parseInt(i),s)}}return t}parseGeometry(e,t,r){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,r);case"NurbsCurve":return this.parseNurbsGeometry(t)}}parseMeshGeometry(e,t,r){const i=r.skeletons,a=[],s=e.parents.map(function(d){return Br.Objects.Model[d.ID]});if(s.length===0)return;const o=e.children.reduce(function(d,f){return i[f.ID]!==void 0&&(d=i[f.ID]),d},null);e.children.forEach(function(d){r.morphTargets[d.ID]!==void 0&&a.push(r.morphTargets[d.ID])});const l=s[0],c={};"RotationOrder"in l&&(c.eulerOrder=$ie(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);const u=Vie(c);return this.genGeometry(t,o,a,u)}genGeometry(e,t,r,i){const a=new Hr;e.attrName&&(a.name=e.attrName);const s=this.parseGeoNode(e,t),o=this.genBuffers(s),l=new En(o.vertex,3);if(l.applyMatrix4(i),a.setAttribute("position",l),o.colors.length>0&&a.setAttribute("color",new En(o.colors,3)),t&&(a.setAttribute("skinIndex",new $8(o.weightsIndices,4)),a.setAttribute("skinWeight",new En(o.vertexWeights,4)),a.FBX_Deformer=t),o.normal.length>0){const c=new wl().getNormalMatrix(i),u=new En(o.normal,3);u.applyNormalMatrix(c),a.setAttribute("normal",u)}if(o.uvs.forEach(function(c,u){let d="uv"+(u+1).toString();u===0&&(d="uv"),a.setAttribute(d,new En(o.uvs[u],2))}),s.material&&s.material.mappingType!=="AllSame"){let c=o.materialIndex[0],u=0;if(o.materialIndex.forEach(function(d,f){d!==c&&(a.addGroup(u,f-u,c),c=d,u=f)}),a.groups.length>0){const d=a.groups[a.groups.length-1],f=d.start+d.count;f!==o.materialIndex.length&&a.addGroup(f,o.materialIndex.length-f,c)}a.groups.length===0&&a.addGroup(0,o.materialIndex.length,o.materialIndex[0])}return this.addMorphTargets(a,e,r,i),a}parseGeoNode(e,t){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},t!==null&&(r.skeleton=t,t.rawBones.forEach(function(i,a){i.indices.forEach(function(s,o){r.weightTable[s]===void 0&&(r.weightTable[s]=[]),r.weightTable[s].push({id:a,weight:i.weights[o]})})})),r}genBuffers(e){const t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,a=!1,s=[],o=[],l=[],c=[],u=[],d=[];const f=this;return e.vertexIndices.forEach(function(h,p){let m,v=!1;h<0&&(h=h^-1,v=!0);let g=[],y=[];if(s.push(h*3,h*3+1,h*3+2),e.color){const b=zS(p,r,h,e.color);l.push(b[0],b[1],b[2])}if(e.skeleton){if(e.weightTable[h]!==void 0&&e.weightTable[h].forEach(function(b){y.push(b.weight),g.push(b.id)}),y.length>4){a||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),a=!0);const b=[0,0,0,0],_=[0,0,0,0];y.forEach(function(x,S){let T=x,C=g[S];_.forEach(function(M,A,I){if(T>M){I[A]=T,T=M;const D=b[A];b[A]=C,C=D}})}),g=b,y=_}for(;y.length<4;)y.push(0),g.push(0);for(let b=0;b<4;++b)u.push(y[b]),d.push(g[b])}if(e.normal){const b=zS(p,r,h,e.normal);o.push(b[0],b[1],b[2])}e.material&&e.material.mappingType!=="AllSame"&&(m=zS(p,r,h,e.material)[0]),e.uv&&e.uv.forEach(function(b,_){const x=zS(p,r,h,b);c[_]===void 0&&(c[_]=[]),c[_].push(x[0]),c[_].push(x[1])}),i++,v&&(f.genFace(t,e,s,m,o,l,c,u,d,i),r++,i=0,s=[],o=[],l=[],c=[],u=[],d=[])}),t}genFace(e,t,r,i,a,s,o,l,c,u){for(let d=2;d<u;d++)e.vertex.push(t.vertexPositions[r[0]]),e.vertex.push(t.vertexPositions[r[1]]),e.vertex.push(t.vertexPositions[r[2]]),e.vertex.push(t.vertexPositions[r[(d-1)*3]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+1]]),e.vertex.push(t.vertexPositions[r[(d-1)*3+2]]),e.vertex.push(t.vertexPositions[r[d*3]]),e.vertex.push(t.vertexPositions[r[d*3+1]]),e.vertex.push(t.vertexPositions[r[d*3+2]]),t.skeleton&&(e.vertexWeights.push(l[0]),e.vertexWeights.push(l[1]),e.vertexWeights.push(l[2]),e.vertexWeights.push(l[3]),e.vertexWeights.push(l[(d-1)*4]),e.vertexWeights.push(l[(d-1)*4+1]),e.vertexWeights.push(l[(d-1)*4+2]),e.vertexWeights.push(l[(d-1)*4+3]),e.vertexWeights.push(l[d*4]),e.vertexWeights.push(l[d*4+1]),e.vertexWeights.push(l[d*4+2]),e.vertexWeights.push(l[d*4+3]),e.weightsIndices.push(c[0]),e.weightsIndices.push(c[1]),e.weightsIndices.push(c[2]),e.weightsIndices.push(c[3]),e.weightsIndices.push(c[(d-1)*4]),e.weightsIndices.push(c[(d-1)*4+1]),e.weightsIndices.push(c[(d-1)*4+2]),e.weightsIndices.push(c[(d-1)*4+3]),e.weightsIndices.push(c[d*4]),e.weightsIndices.push(c[d*4+1]),e.weightsIndices.push(c[d*4+2]),e.weightsIndices.push(c[d*4+3])),t.color&&(e.colors.push(s[0]),e.colors.push(s[1]),e.colors.push(s[2]),e.colors.push(s[(d-1)*3]),e.colors.push(s[(d-1)*3+1]),e.colors.push(s[(d-1)*3+2]),e.colors.push(s[d*3]),e.colors.push(s[d*3+1]),e.colors.push(s[d*3+2])),t.material&&t.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),t.normal&&(e.normal.push(a[0]),e.normal.push(a[1]),e.normal.push(a[2]),e.normal.push(a[(d-1)*3]),e.normal.push(a[(d-1)*3+1]),e.normal.push(a[(d-1)*3+2]),e.normal.push(a[d*3]),e.normal.push(a[d*3+1]),e.normal.push(a[d*3+2])),t.uv&&t.uv.forEach(function(f,h){e.uvs[h]===void 0&&(e.uvs[h]=[]),e.uvs[h].push(o[h][0]),e.uvs[h].push(o[h][1]),e.uvs[h].push(o[h][(d-1)*2]),e.uvs[h].push(o[h][(d-1)*2+1]),e.uvs[h].push(o[h][d*2]),e.uvs[h].push(o[h][d*2+1])})}addMorphTargets(e,t,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const a=this;r.forEach(function(s){s.rawTargets.forEach(function(o){const l=Br.Objects.Geometry[o.geoID];l!==void 0&&a.genMorphGeometry(e,t,l,i,o.name)})})}genMorphGeometry(e,t,r,i,a){const s=t.PolygonVertexIndex!==void 0?t.PolygonVertexIndex.a:[],o=r.Vertices!==void 0?r.Vertices.a:[],l=r.Indexes!==void 0?r.Indexes.a:[],c=e.attributes.position.count*3,u=new Float32Array(c);for(let p=0;p<l.length;p++){const m=l[p]*3;u[m]=o[p*3],u[m+1]=o[p*3+1],u[m+2]=o[p*3+2]}const d={vertexIndices:s,vertexPositions:u},f=this.genBuffers(d),h=new En(f.vertex,3);h.name=a||r.attrName,h.applyMatrix4(i),e.morphAttributes.position.push(h)}parseNormals(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let a=[];return r==="IndexToDirect"&&("NormalIndex"in e?a=e.NormalIndex.a:"NormalsIndex"in e&&(a=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:a,mappingType:t,referenceType:r}}parseUVs(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let a=[];return r==="IndexToDirect"&&(a=e.UVIndex.a),{dataSize:2,buffer:i,indices:a,mappingType:t,referenceType:r}}parseVertexColors(e){const t=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let a=[];return r==="IndexToDirect"&&(a=e.ColorIndex.a),{dataSize:4,buffer:i,indices:a,mappingType:t,referenceType:r}}parseMaterialIndices(e){const t=e.MappingInformationType,r=e.ReferenceInformationType;if(t==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,a=[];for(let s=0;s<i.length;++s)a.push(s);return{dataSize:1,buffer:i,indices:a,mappingType:t,referenceType:r}}parseNurbsGeometry(e){if(kG===void 0)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new Hr;const t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new Hr;const r=t-1,i=e.KnotVector.a,a=[],s=e.Points.a;for(let d=0,f=s.length;d<f;d+=4)a.push(new ri().fromArray(s,d));let o,l;if(e.Form==="Closed")a.push(a[0]);else if(e.Form==="Periodic"){o=r,l=i.length-1-o;for(let d=0;d<r;++d)a.push(a[d])}const u=new kG(r,i,a,o,l).getPoints(a.length*12);return new Hr().setFromPoints(u)}}class Fnt{parse(){const e=[],t=this.parseClips();if(t!==void 0)for(const r in t){const i=t[r],a=this.addClip(i);e.push(a)}return e}parseClips(){if(Br.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const t=this.parseAnimationLayers(e);return this.parseAnimStacks(t)}parseAnimationCurveNodes(){const e=Br.Objects.AnimationCurveNode,t=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const a={id:i.id,attr:i.attrName,curves:{}};t.set(a.id,a)}}return t}parseAnimationCurves(e){const t=Br.Objects.AnimationCurve;for(const r in t){const i={id:t[r].id,times:t[r].KeyTime.a.map($nt),values:t[r].KeyValueFloat.a},a=aa.get(i.id);if(a!==void 0){const s=a.parents[0].ID,o=a.parents[0].relationship;o.match(/X/)?e.get(s).curves.x=i:o.match(/Y/)?e.get(s).curves.y=i:o.match(/Z/)?e.get(s).curves.z=i:o.match(/d|DeformPercent/)&&e.has(s)&&(e.get(s).curves.morph=i)}}}parseAnimationLayers(e){const t=Br.Objects.AnimationLayer,r=new Map;for(const i in t){const a=[],s=aa.get(parseInt(i));s!==void 0&&(s.children.forEach(function(l,c){if(e.has(l.ID)){const u=e.get(l.ID);if(u.curves.x!==void 0||u.curves.y!==void 0||u.curves.z!==void 0){if(a[c]===void 0){const d=aa.get(l.ID).parents.filter(function(f){return f.relationship!==void 0})[0].ID;if(d!==void 0){const f=Br.Objects.Model[d.toString()];if(f===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",l);return}const h={modelName:f.attrName?Zr.sanitizeNodeName(f.attrName):"",ID:f.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};ro.traverse(function(p){p.ID===f.id&&(h.transform=p.matrix,p.userData.transformData&&(h.eulerOrder=p.userData.transformData.eulerOrder))}),h.transform||(h.transform=new Un),"PreRotation"in f&&(h.preRotation=f.PreRotation.value),"PostRotation"in f&&(h.postRotation=f.PostRotation.value),a[c]=h}}a[c]&&(a[c][u.attr]=u)}else if(u.curves.morph!==void 0){if(a[c]===void 0){const d=aa.get(l.ID).parents.filter(function(g){return g.relationship!==void 0})[0].ID,f=aa.get(d).parents[0].ID,h=aa.get(f).parents[0].ID,p=aa.get(h).parents[0].ID,m=Br.Objects.Model[p],v={modelName:m.attrName?Zr.sanitizeNodeName(m.attrName):"",morphName:Br.Objects.Deformer[d].attrName};a[c]=v}a[c][u.attr]=u}}}),r.set(parseInt(i),a))}return r}parseAnimStacks(e){const t=Br.Objects.AnimationStack,r={};for(const i in t){const a=aa.get(parseInt(i)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const s=e.get(a[0].ID);r[i]={name:t[i].attrName,layer:s}}return r}addClip(e){let t=[];const r=this;return e.layer.forEach(function(i){t=t.concat(r.generateTracks(i))}),new Cm(e.name,-1,t)}generateTracks(e){const t=[];let r=new Xe,i=new es,a=new Xe;if(e.transform&&e.transform.decompose(r,i,a),r=r.toArray(),i=new od().setFromQuaternion(i,e.eulerOrder).toArray(),a=a.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");s!==void 0&&t.push(s)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const s=this.generateRotationTrack(e.modelName,e.R.curves,i,e.preRotation,e.postRotation,e.eulerOrder);s!==void 0&&t.push(s)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const s=this.generateVectorTrack(e.modelName,e.S.curves,a,"scale");s!==void 0&&t.push(s)}if(e.DeformPercent!==void 0){const s=this.generateMorphTrack(e);s!==void 0&&t.push(s)}return t}generateVectorTrack(e,t,r,i){const a=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(a,t,r);return new ph(e+"."+i,a,s)}generateRotationTrack(e,t,r,i,a,s){t.x!==void 0&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(Ss.degToRad)),t.y!==void 0&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(Ss.degToRad)),t.z!==void 0&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(Ss.degToRad));const o=this.getTimesForAllAxes(t),l=this.getKeyframeTrackValues(o,t,r);i!==void 0&&(i=i.map(Ss.degToRad),i.push(s),i=new od().fromArray(i),i=new es().setFromEuler(i)),a!==void 0&&(a=a.map(Ss.degToRad),a.push(s),a=new od().fromArray(a),a=new es().setFromEuler(a).invert());const c=new es,u=new od,d=[];for(let f=0;f<l.length;f+=3)u.set(l[f],l[f+1],l[f+2],s),c.setFromEuler(u),i!==void 0&&c.premultiply(i),a!==void 0&&c.multiply(a),c.toArray(d,f/3*4);return new Sd(e+".quaternion",o,d)}generateMorphTrack(e){const t=e.DeformPercent.curves.morph,r=t.values.map(function(a){return a/100}),i=ro.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Ig(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)}getTimesForAllAxes(e){let t=[];if(e.x!==void 0&&(t=t.concat(e.x.times)),e.y!==void 0&&(t=t.concat(e.y.times)),e.z!==void 0&&(t=t.concat(e.z.times)),t=t.sort(function(r,i){return r-i}),t.length>1){let r=1,i=t[0];for(let a=1;a<t.length;a++){const s=t[a];s!==i&&(t[r]=s,i=s,r++)}t=t.slice(0,r)}return t}getKeyframeTrackValues(e,t,r){const i=r,a=[];let s=-1,o=-1,l=-1;return e.forEach(function(c){if(t.x&&(s=t.x.times.indexOf(c)),t.y&&(o=t.y.times.indexOf(c)),t.z&&(l=t.z.times.indexOf(c)),s!==-1){const u=t.x.values[s];a.push(u),i[0]=u}else a.push(i[0]);if(o!==-1){const u=t.y.values[o];a.push(u),i[1]=u}else a.push(i[1]);if(l!==-1){const u=t.z.values[l];a.push(u),i[2]=u}else a.push(i[2])}),a}interpolateRotations(e){for(let t=1;t<e.values.length;t++){const r=e.values[t-1],i=e.values[t]-r,a=Math.abs(i);if(a>=180){const s=a/180,o=i/s;let l=r+o;const c=e.times[t-1],d=(e.times[t]-c)/s;let f=c+d;const h=[],p=[];for(;f<e.times[t];)h.push(f),f+=d,p.push(l),l+=o;e.times=OG(e.times,t,h),e.values=OG(e.values,t,p)}}}}class znt{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,t){this.currentProp=e,this.currentPropName=t}parse(e){this.currentIndent=0,this.allNodes=new Hie,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const t=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,a){const s=i.match(/^[\s\t]*;/),o=i.match(/^[\s\t]*$/);if(s||o)return;const l=i.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),c=i.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),u=i.match("^\\t{"+(t.currentIndent-1)+"}}");l?t.parseNodeBegin(i,l):c?t.parseNodeProperty(i,c,r[++a]):u?t.popStack():i.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,t){const r=t[1].trim().replace(/^"/,"").replace(/"$/,""),i=t[2].split(",").map(function(l){return l.trim().replace(/^"/,"").replace(/"$/,"")}),a={name:r},s=this.parseNodeAttr(i),o=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,a):r in o?(r==="PoseNode"?o.PoseNode.push(a):o[r].id!==void 0&&(o[r]={},o[r][o[r].id]=o[r]),s.id!==""&&(o[r][s.id]=a)):typeof s.id=="number"?(o[r]={},o[r][s.id]=a):r!=="Properties70"&&(r==="PoseNode"?o[r]=[a]:o[r]=a),typeof s.id=="number"&&(a.id=s.id),s.name!==""&&(a.attrName=s.name),s.type!==""&&(a.attrType=s.type),this.pushStack(a)}parseNodeAttr(e){let t=e[0];e[0]!==""&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:t,name:r,type:i}}parseNodeProperty(e,t,r){let i=t[1].replace(/^"/,"").replace(/"$/,"").trim(),a=t[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&a===","&&(a=r.replace(/"/g,"").replace(/,$/,"").trim());const s=this.getCurrentNode();if(s.name==="Properties70"){this.parseNodeSpecialProperty(e,i,a);return}if(i==="C"){const l=a.split(",").slice(1),c=parseInt(l[0]),u=parseInt(l[1]);let d=a.split(",").slice(3);d=d.map(function(f){return f.trim().replace(/^"/,"")}),i="connections",a=[c,u],Wnt(a,d),s[i]===void 0&&(s[i]=[])}i==="Node"&&(s.id=a),i in s&&Array.isArray(s[i])?s[i].push(a):i!=="a"?s[i]=a:s.a=a,this.setCurrentProp(s,i),i==="a"&&a.slice(-1)!==","&&(s.a=xI(a))}parseNodePropertyContinued(e){const t=this.getCurrentNode();t.a+=e,e.slice(-1)!==","&&(t.a=xI(t.a))}parseNodeSpecialProperty(e,t,r){const i=r.split('",').map(function(u){return u.trim().replace(/^\"/,"").replace(/\s/,"_")}),a=i[0],s=i[1],o=i[2],l=i[3];let c=i[4];switch(s){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":c=parseFloat(c);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":c=xI(c);break}this.getPrevNode()[a]={type:s,type2:o,flag:l,value:c},this.setCurrentProp(this.getPrevNode(),a)}}class Unt{parse(e){const t=new LG(e);t.skip(23);const r=t.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new Hie;for(;!this.endOfContent(t);){const a=this.parseNode(t,r);a!==null&&i.add(a.name,a)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,t){const r={},i=t>=7500?e.getUint64():e.getUint32(),a=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();const s=e.getUint8(),o=e.getString(s);if(i===0)return null;const l=[];for(let f=0;f<a;f++)l.push(this.parseProperty(e));const c=l.length>0?l[0]:"",u=l.length>1?l[1]:"",d=l.length>2?l[2]:"";for(r.singleProperty=a===1&&e.getOffset()===i;i>e.getOffset();){const f=this.parseNode(e,t);f!==null&&this.parseSubNode(o,r,f)}return r.propertyList=l,typeof c=="number"&&(r.id=c),u!==""&&(r.attrName=u),d!==""&&(r.attrType=d),o!==""&&(r.name=o),r}parseSubNode(e,t,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(t[r.name]=r,r.a=i):t[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(a,s){s!==0&&i.push(a)}),t.connections===void 0&&(t.connections=[]),t.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(a){t[a]=r[a]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],a=r.propertyList[1];const s=r.propertyList[2],o=r.propertyList[3];let l;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),a.indexOf("Lcl ")===0&&(a=a.replace("Lcl ","Lcl_")),a==="Color"||a==="ColorRGB"||a==="Vector"||a==="Vector3D"||a.indexOf("Lcl_")===0?l=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:l=r.propertyList[4],t[i]={type:a,type2:s,flag:o,value:l}}else t[r.name]===void 0?typeof r.id=="number"?(t[r.name]={},t[r.name][r.id]=r):t[r.name]=r:r.name==="PoseNode"?(Array.isArray(t[r.name])||(t[r.name]=[t[r.name]]),t[r.name].push(r)):t[r.name][r.id]===void 0&&(t[r.name][r.id]=r)}parseProperty(e){const t=e.getString(1);let r;switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),a=e.getUint32(),s=e.getUint32();if(a===0)switch(t){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}typeof Ant>"u"&&console.error("THREE.FBXLoader: External library fflate.min.js required.");const o=N_(new Uint8Array(e.getArrayBuffer(s))),l=new LG(o.buffer);switch(t){case"b":case"c":return l.getBooleanArray(i);case"d":return l.getFloat64Array(i);case"f":return l.getFloat32Array(i);case"i":return l.getInt32Array(i);case"l":return l.getInt64Array(i)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}}class LG{constructor(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=t!==void 0?t:!0}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const t=[];for(let r=0;r<e;r++)t.push(this.getBoolean());return t}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt32());return t}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t&2147483648?(t=~t&4294967295,e=~e&4294967295,e===4294967295&&(t=t+1&4294967295),e=e+1&4294967295,-(t*4294967296+e)):t*4294967296+e}getInt64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getInt64());return t}getUint64(){let e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),t*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat32());return t}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const t=[];for(let r=0;r<e;r++)t.push(this.getFloat64());return t}getArrayBuffer(e){const t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}getString(e){let t=[];for(let i=0;i<e;i++)t[i]=this.getUint8();const r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),As.decodeText(new Uint8Array(t))}}class Hie{add(e,t){this[e]=t}}function Hnt(n){const e="Kaydara FBX Binary  \0";return n.byteLength>=e.length&&e===Gie(n,0,e.length)}function Vnt(n){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let t=0;function r(i){const a=n[i-1];return n=n.slice(t+i),t++,a}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function NG(n){const e=/FBXVersion: (\d+)/,t=n.match(e);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function $nt(n){return n/46186158e3}const Gnt=[];function zS(n,e,t,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=n;break;case"ByPolygon":i=e;break;case"ByVertice":i=t;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const a=i*r.dataSize,s=a+r.dataSize;return qnt(Gnt,r.buffer,a,s)}const wI=new od,N0=new Xe;function Vie(n){const e=new Un,t=new Un,r=new Un,i=new Un,a=new Un,s=new Un,o=new Un,l=new Un,c=new Un,u=new Un,d=new Un,f=new Un,h=n.inheritType?n.inheritType:0;if(n.translation&&e.setPosition(N0.fromArray(n.translation)),n.preRotation){const A=n.preRotation.map(Ss.degToRad);A.push(n.eulerOrder),t.makeRotationFromEuler(wI.fromArray(A))}if(n.rotation){const A=n.rotation.map(Ss.degToRad);A.push(n.eulerOrder),r.makeRotationFromEuler(wI.fromArray(A))}if(n.postRotation){const A=n.postRotation.map(Ss.degToRad);A.push(n.eulerOrder),i.makeRotationFromEuler(wI.fromArray(A)),i.invert()}n.scale&&a.scale(N0.fromArray(n.scale)),n.scalingOffset&&o.setPosition(N0.fromArray(n.scalingOffset)),n.scalingPivot&&s.setPosition(N0.fromArray(n.scalingPivot)),n.rotationOffset&&l.setPosition(N0.fromArray(n.rotationOffset)),n.rotationPivot&&c.setPosition(N0.fromArray(n.rotationPivot)),n.parentMatrixWorld&&(d.copy(n.parentMatrix),u.copy(n.parentMatrixWorld));const p=t.clone().multiply(r).multiply(i),m=new Un;m.extractRotation(u);const v=new Un;v.copyPosition(u);const g=v.clone().invert().multiply(u),y=m.clone().invert().multiply(g),b=a,_=new Un;if(h===0)_.copy(m).multiply(p).multiply(y).multiply(b);else if(h===1)_.copy(m).multiply(y).multiply(p).multiply(b);else{const I=new Un().scale(new Xe().setFromMatrixScale(d)).clone().invert(),D=y.clone().multiply(I);_.copy(m).multiply(p).multiply(D).multiply(b)}const x=c.clone().invert(),S=s.clone().invert();let T=e.clone().multiply(l).multiply(c).multiply(t).multiply(r).multiply(i).multiply(x).multiply(o).multiply(s).multiply(a).multiply(S);const C=new Un().copyPosition(T),M=u.clone().multiply(C);return f.copyPosition(M),T=f.clone().multiply(_),T.premultiply(u.invert()),T}function $ie(n){n=n||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return n===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[n]}function xI(n){return n.split(",").map(function(t){return parseFloat(t)})}function Gie(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=n.byteLength),As.decodeText(new Uint8Array(n,e,t))}function Wnt(n,e){for(let t=0,r=n.length,i=e.length;t<i;t++,r++)n[r]=e[t]}function qnt(n,e,t,r){for(let i=t,a=0;i<r;i++,a++)n[a]=e[i];return n}function OG(n,e,t){return n.slice(0,e).concat(t).concat(n.slice(e))}class mD extends ktt{constructor(e){super(e)}parse(e){function t(k){switch(k.image_type){case f:case m:(k.colormap_length>256||k.colormap_size!==24||k.colormap_type!==1)&&console.error("THREE.TGALoader: Invalid type colormap data for indexed type.");break;case h:case p:case v:case g:k.colormap_type&&console.error("THREE.TGALoader: Invalid type colormap data for colormap type.");break;case d:console.error("THREE.TGALoader: No data.");default:console.error('THREE.TGALoader: Invalid type "%s".',k.image_type)}(k.width<=0||k.height<=0)&&console.error("THREE.TGALoader: Invalid image size."),k.pixel_size!==8&&k.pixel_size!==16&&k.pixel_size!==24&&k.pixel_size!==32&&console.error('THREE.TGALoader: Invalid pixel size "%s".',k.pixel_size)}function r(k,H,z,O,W){let j,ee;const te=z.pixel_size>>3,J=z.width*z.height*te;if(H&&(ee=W.subarray(O,O+=z.colormap_length*(z.colormap_size>>3))),k){j=new Uint8Array(J);let Q,ie,le,we=0;const Ae=new Uint8Array(te);for(;we<J;)if(Q=W[O++],ie=(Q&127)+1,Q&128){for(le=0;le<te;++le)Ae[le]=W[O++];for(le=0;le<ie;++le)j.set(Ae,we+le*te);we+=te*ie}else{for(ie*=te,le=0;le<ie;++le)j[we+le]=W[O++];we+=ie}}else j=W.subarray(O,O+=H?z.width*z.height:J);return{pixel_data:j,palettes:ee}}function i(k,H,z,O,W,j,ee,te,J){const Q=J;let ie,le=0,we,Ae;const ke=A.width;for(Ae=H;Ae!==O;Ae+=z)for(we=W;we!==ee;we+=j,le++)ie=te[le],k[(we+ke*Ae)*4+3]=255,k[(we+ke*Ae)*4+2]=Q[ie*3+0],k[(we+ke*Ae)*4+1]=Q[ie*3+1],k[(we+ke*Ae)*4+0]=Q[ie*3+2];return k}function a(k,H,z,O,W,j,ee,te){let J,Q=0,ie,le;const we=A.width;for(le=H;le!==O;le+=z)for(ie=W;ie!==ee;ie+=j,Q+=2)J=te[Q+0]+(te[Q+1]<<8),k[(ie+we*le)*4+0]=(J&31744)>>7,k[(ie+we*le)*4+1]=(J&992)>>2,k[(ie+we*le)*4+2]=(J&31)<<3,k[(ie+we*le)*4+3]=J&32768?0:255;return k}function s(k,H,z,O,W,j,ee,te){let J=0,Q,ie;const le=A.width;for(ie=H;ie!==O;ie+=z)for(Q=W;Q!==ee;Q+=j,J+=3)k[(Q+le*ie)*4+3]=255,k[(Q+le*ie)*4+2]=te[J+0],k[(Q+le*ie)*4+1]=te[J+1],k[(Q+le*ie)*4+0]=te[J+2];return k}function o(k,H,z,O,W,j,ee,te){let J=0,Q,ie;const le=A.width;for(ie=H;ie!==O;ie+=z)for(Q=W;Q!==ee;Q+=j,J+=4)k[(Q+le*ie)*4+2]=te[J+0],k[(Q+le*ie)*4+1]=te[J+1],k[(Q+le*ie)*4+0]=te[J+2],k[(Q+le*ie)*4+3]=te[J+3];return k}function l(k,H,z,O,W,j,ee,te){let J,Q=0,ie,le;const we=A.width;for(le=H;le!==O;le+=z)for(ie=W;ie!==ee;ie+=j,Q++)J=te[Q],k[(ie+we*le)*4+0]=J,k[(ie+we*le)*4+1]=J,k[(ie+we*le)*4+2]=J,k[(ie+we*le)*4+3]=255;return k}function c(k,H,z,O,W,j,ee,te){let J=0,Q,ie;const le=A.width;for(ie=H;ie!==O;ie+=z)for(Q=W;Q!==ee;Q+=j,J+=2)k[(Q+le*ie)*4+0]=te[J+0],k[(Q+le*ie)*4+1]=te[J+0],k[(Q+le*ie)*4+2]=te[J+0],k[(Q+le*ie)*4+3]=te[J+1];return k}function u(k,H,z,O,W){let j,ee,te,J,Q,ie;switch((A.flags&y)>>b){default:case S:j=0,te=1,Q=H,ee=0,J=1,ie=z;break;case _:j=0,te=1,Q=H,ee=z-1,J=-1,ie=-1;break;case T:j=H-1,te=-1,Q=-1,ee=0,J=1,ie=z;break;case x:j=H-1,te=-1,Q=-1,ee=z-1,J=-1,ie=-1;break}if(L)switch(A.pixel_size){case 8:l(k,ee,J,ie,j,te,Q,O);break;case 16:c(k,ee,J,ie,j,te,Q,O);break;default:console.error("THREE.TGALoader: Format not supported.");break}else switch(A.pixel_size){case 8:i(k,ee,J,ie,j,te,Q,O,W);break;case 16:a(k,ee,J,ie,j,te,Q,O);break;case 24:s(k,ee,J,ie,j,te,Q,O);break;case 32:o(k,ee,J,ie,j,te,Q,O);break;default:console.error("THREE.TGALoader: Format not supported.");break}return k}const d=0,f=1,h=2,p=3,m=9,v=10,g=11,y=48,b=4,_=0,x=1,S=2,T=3;e.length<19&&console.error("THREE.TGALoader: Not enough data to contain header.");let C=0;const M=new Uint8Array(e),A={id_length:M[C++],colormap_type:M[C++],image_type:M[C++],colormap_index:M[C++]|M[C++]<<8,colormap_length:M[C++]|M[C++]<<8,colormap_size:M[C++],origin:[M[C++]|M[C++]<<8,M[C++]|M[C++]<<8],width:M[C++]|M[C++]<<8,height:M[C++]|M[C++]<<8,pixel_size:M[C++],flags:M[C++]};t(A),A.id_length+C>e.length&&console.error("THREE.TGALoader: No data."),C+=A.id_length;let I=!1,D=!1,L=!1;switch(A.image_type){case m:I=!0,D=!0;break;case f:D=!0;break;case v:I=!0;break;case h:break;case g:I=!0,L=!0;break;case p:L=!0;break}const F=new Uint8Array(A.width*A.height*4),B=r(I,D,A,C,M);return u(F,A.width,A.height,B.pixel_data,B.palettes),{data:F,width:A.width,height:A.height,flipY:!0,generateMipmaps:!0,minFilter:Od}}}class Knt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=a.path===""?As.extractUrlBase(e):a.path,o=new Is(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}parse(e,t){function r(Se,xe){const He=[],Le=Se.childNodes;for(let Ge=0,kt=Le.length;Ge<kt;Ge++){const Ft=Le[Ge];Ft.nodeName===xe&&He.push(Ft)}return He}function i(Se){if(Se.length===0)return[];const xe=Se.trim().split(/\s+/),He=new Array(xe.length);for(let Le=0,Ge=xe.length;Le<Ge;Le++)He[Le]=xe[Le];return He}function a(Se){if(Se.length===0)return[];const xe=Se.trim().split(/\s+/),He=new Array(xe.length);for(let Le=0,Ge=xe.length;Le<Ge;Le++)He[Le]=parseFloat(xe[Le]);return He}function s(Se){if(Se.length===0)return[];const xe=Se.trim().split(/\s+/),He=new Array(xe.length);for(let Le=0,Ge=xe.length;Le<Ge;Le++)He[Le]=parseInt(xe[Le]);return He}function o(Se){return Se.substring(1)}function l(){return"three_default_"+zA++}function c(Se){return Object.keys(Se).length===0}function u(Se){return{unit:d(r(Se,"unit")[0]),upAxis:f(r(Se,"up_axis")[0])}}function d(Se){return Se!==void 0&&Se.hasAttribute("meter")===!0?parseFloat(Se.getAttribute("meter")):1}function f(Se){return Se!==void 0?Se.textContent:"Y_UP"}function h(Se,xe,He,Le){const Ge=r(Se,xe)[0];if(Ge!==void 0){const kt=r(Ge,He);for(let Ft=0;Ft<kt.length;Ft++)Le(kt[Ft])}}function p(Se,xe){for(const He in Se){const Le=Se[He];Le.build=xe(Se[He])}}function m(Se,xe){return Se.build!==void 0||(Se.build=xe(Se)),Se.build}function v(Se){const xe={sources:{},samplers:{},channels:{}};let He=!1;for(let Le=0,Ge=Se.childNodes.length;Le<Ge;Le++){const kt=Se.childNodes[Le];if(kt.nodeType!==1)continue;let Ft;switch(kt.nodeName){case"source":Ft=kt.getAttribute("id"),xe.sources[Ft]=nt(kt);break;case"sampler":Ft=kt.getAttribute("id"),xe.samplers[Ft]=g(kt);break;case"channel":Ft=kt.getAttribute("target"),xe.channels[Ft]=y(kt);break;case"animation":v(kt),He=!0;break;default:console.log(kt)}}He===!1&&(ar.animations[Se.getAttribute("id")||Ss.generateUUID()]=xe)}function g(Se){const xe={inputs:{}};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"input":const kt=o(Ge.getAttribute("source")),Ft=Ge.getAttribute("semantic");xe.inputs[Ft]=kt;break}}return xe}function y(Se){const xe={};let Le=Se.getAttribute("target").split("/");const Ge=Le.shift();let kt=Le.shift();const Ft=kt.indexOf("(")!==-1,Rn=kt.indexOf(".")!==-1;if(Rn)Le=kt.split("."),kt=Le.shift(),xe.member=Le.shift();else if(Ft){const ot=kt.split("(");kt=ot.shift();for(let ln=0;ln<ot.length;ln++)ot[ln]=parseInt(ot[ln].replace(/\)/,""));xe.indices=ot}return xe.id=Ge,xe.sid=kt,xe.arraySyntax=Ft,xe.memberSyntax=Rn,xe.sampler=o(Se.getAttribute("source")),xe}function b(Se){const xe=[],He=Se.channels,Le=Se.samplers,Ge=Se.sources;for(const kt in He)if(He.hasOwnProperty(kt)){const Ft=He[kt],Rn=Le[Ft.sampler],ot=Rn.inputs.INPUT,ln=Rn.inputs.OUTPUT,Fn=Ge[ot],Jt=Ge[ln],Jn=x(Ft,Fn,Jt);A(Jn,xe)}return xe}function _(Se){return m(ar.animations[Se],b)}function x(Se,xe,He){const Le=ar.nodes[Se.id],Ge=ir(Le.id),kt=Le.transforms[Se.sid],Ft=Le.matrix.clone().transpose();let Rn,ot,ln,Fn,Jt,Jn;const Bn={};switch(kt){case"matrix":for(ln=0,Fn=xe.array.length;ln<Fn;ln++)if(Rn=xe.array[ln],ot=ln*He.stride,Bn[Rn]===void 0&&(Bn[Rn]={}),Se.arraySyntax===!0){const Si=He.array[ot],nn=Se.indices[0]+4*Se.indices[1];Bn[Rn][nn]=Si}else for(Jt=0,Jn=He.stride;Jt<Jn;Jt++)Bn[Rn][Jt]=He.array[ot+Jt];break;case"translate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',kt);break;case"rotate":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',kt);break;case"scale":console.warn('THREE.ColladaLoader: Animation transform type "%s" not yet implemented.',kt);break}const er=S(Bn,Ft);return{name:Ge.uuid,keyframes:er}}function S(Se,xe){const He=[];for(const Ge in Se)He.push({time:parseFloat(Ge),value:Se[Ge]});He.sort(Le);for(let Ge=0;Ge<16;Ge++)I(He,Ge,xe.elements[Ge]);return He;function Le(Ge,kt){return Ge.time-kt.time}}const T=new Xe,C=new Xe,M=new es;function A(Se,xe){const He=Se.keyframes,Le=Se.name,Ge=[],kt=[],Ft=[],Rn=[];for(let ot=0,ln=He.length;ot<ln;ot++){const Fn=He[ot],Jt=Fn.time,Jn=Fn.value;We.fromArray(Jn).transpose(),We.decompose(T,M,C),Ge.push(Jt),kt.push(T.x,T.y,T.z),Ft.push(M.x,M.y,M.z,M.w),Rn.push(C.x,C.y,C.z)}return kt.length>0&&xe.push(new ph(Le+".position",Ge,kt)),Ft.length>0&&xe.push(new Sd(Le+".quaternion",Ge,Ft)),Rn.length>0&&xe.push(new ph(Le+".scale",Ge,Rn)),xe}function I(Se,xe,He){let Le,Ge=!0,kt,Ft;for(kt=0,Ft=Se.length;kt<Ft;kt++)Le=Se[kt],Le.value[xe]===void 0?Le.value[xe]=null:Ge=!1;if(Ge===!0)for(kt=0,Ft=Se.length;kt<Ft;kt++)Le=Se[kt],Le.value[xe]=He;else D(Se,xe)}function D(Se,xe){let He,Le;for(let Ge=0,kt=Se.length;Ge<kt;Ge++){const Ft=Se[Ge];if(Ft.value[xe]===null){if(He=L(Se,Ge,xe),Le=F(Se,Ge,xe),He===null){Ft.value[xe]=Le.value[xe];continue}if(Le===null){Ft.value[xe]=He.value[xe];continue}B(Ft,He,Le,xe)}}}function L(Se,xe,He){for(;xe>=0;){const Le=Se[xe];if(Le.value[He]!==null)return Le;xe--}return null}function F(Se,xe,He){for(;xe<Se.length;){const Le=Se[xe];if(Le.value[He]!==null)return Le;xe++}return null}function B(Se,xe,He,Le){if(He.time-xe.time===0){Se.value[Le]=xe.value[Le];return}Se.value[Le]=(Se.time-xe.time)*(He.value[Le]-xe.value[Le])/(He.time-xe.time)+xe.value[Le]}function k(Se){const xe={name:Se.getAttribute("id")||"default",start:parseFloat(Se.getAttribute("start")||0),end:parseFloat(Se.getAttribute("end")||0),animations:[]};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"instance_animation":xe.animations.push(o(Ge.getAttribute("url")));break}}ar.clips[Se.getAttribute("id")]=xe}function H(Se){const xe=[],He=Se.name,Le=Se.end-Se.start||-1,Ge=Se.animations;for(let kt=0,Ft=Ge.length;kt<Ft;kt++){const Rn=_(Ge[kt]);for(let ot=0,ln=Rn.length;ot<ln;ot++)xe.push(Rn[ot])}return new Cm(He,Le,xe)}function z(Se){return m(ar.clips[Se],H)}function O(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"skin":xe.id=o(Ge.getAttribute("source")),xe.skin=W(Ge);break;case"morph":xe.id=o(Ge.getAttribute("source")),console.warn("THREE.ColladaLoader: Morph target animation not supported yet.");break}}ar.controllers[Se.getAttribute("id")]=xe}function W(Se){const xe={sources:{}};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"bind_shape_matrix":xe.bindShapeMatrix=a(Ge.textContent);break;case"source":const kt=Ge.getAttribute("id");xe.sources[kt]=nt(Ge);break;case"joints":xe.joints=j(Ge);break;case"vertex_weights":xe.vertexWeights=ee(Ge);break}}return xe}function j(Se){const xe={inputs:{}};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"input":const kt=Ge.getAttribute("semantic"),Ft=o(Ge.getAttribute("source"));xe.inputs[kt]=Ft;break}}return xe}function ee(Se){const xe={inputs:{}};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"input":const kt=Ge.getAttribute("semantic"),Ft=o(Ge.getAttribute("source")),Rn=parseInt(Ge.getAttribute("offset"));xe.inputs[kt]={id:Ft,offset:Rn};break;case"vcount":xe.vcount=s(Ge.textContent);break;case"v":xe.v=s(Ge.textContent);break}}return xe}function te(Se){const xe={id:Se.id},He=ar.geometries[xe.id];return Se.skin!==void 0&&(xe.skin=J(Se.skin),He.sources.skinIndices=xe.skin.indices,He.sources.skinWeights=xe.skin.weights),xe}function J(Se){const He={joints:[],indices:{array:[],stride:4},weights:{array:[],stride:4}},Le=Se.sources,Ge=Se.vertexWeights,kt=Ge.vcount,Ft=Ge.v,Rn=Ge.inputs.JOINT.offset,ot=Ge.inputs.WEIGHT.offset,ln=Se.sources[Se.joints.inputs.JOINT],Fn=Se.sources[Se.joints.inputs.INV_BIND_MATRIX],Jt=Le[Ge.inputs.WEIGHT.id].array;let Jn=0,Bn,er,qn;for(Bn=0,qn=kt.length;Bn<qn;Bn++){const nn=kt[Bn],xr=[];for(er=0;er<nn;er++){const Nr=Ft[Jn+Rn],ai=Ft[Jn+ot],zi=Jt[ai];xr.push({index:Nr,weight:zi}),Jn+=2}for(xr.sort(Si),er=0;er<4;er++){const Nr=xr[er];Nr!==void 0?(He.indices.array.push(Nr.index),He.weights.array.push(Nr.weight)):(He.indices.array.push(0),He.weights.array.push(0))}}for(Se.bindShapeMatrix?He.bindMatrix=new Un().fromArray(Se.bindShapeMatrix).transpose():He.bindMatrix=new Un().identity(),Bn=0,qn=ln.array.length;Bn<qn;Bn++){const nn=ln.array[Bn],xr=new Un().fromArray(Fn.array,Bn*Fn.stride).transpose();He.joints.push({name:nn,boneInverse:xr})}return He;function Si(nn,xr){return xr.weight-nn.weight}}function Q(Se){return m(ar.controllers[Se],te)}function ie(Se){const xe={init_from:r(Se,"init_from")[0].textContent};ar.images[Se.getAttribute("id")]=xe}function le(Se){return Se.build!==void 0?Se.build:Se.init_from}function we(Se){const xe=ar.images[Se];return xe!==void 0?m(xe,le):(console.warn("THREE.ColladaLoader: Couldn't find image with ID:",Se),null)}function Ae(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"profile_COMMON":xe.profile=ke(Ge);break}}ar.effects[Se.getAttribute("id")]=xe}function ke(Se){const xe={surfaces:{},samplers:{}};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"newparam":Fe(Ge,xe);break;case"technique":xe.technique=re(Ge);break;case"extra":xe.extra=je(Ge);break}}return xe}function Fe(Se,xe){const He=Se.getAttribute("sid");for(let Le=0,Ge=Se.childNodes.length;Le<Ge;Le++){const kt=Se.childNodes[Le];if(kt.nodeType===1)switch(kt.nodeName){case"surface":xe.surfaces[He]=q(kt);break;case"sampler2D":xe.samplers[He]=ce(kt);break}}}function q(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"init_from":xe.init_from=Ge.textContent;break}}return xe}function ce(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"source":xe.source=Ge.textContent;break}}return xe}function re(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"constant":case"lambert":case"blinn":case"phong":xe.type=Ge.nodeName,xe.parameters=Ne(Ge);break;case"extra":xe.extra=je(Ge);break}}return xe}function Ne(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"emission":case"diffuse":case"specular":case"bump":case"ambient":case"shininess":case"transparency":xe[Ge.nodeName]=Pe(Ge);break;case"transparent":xe[Ge.nodeName]={opaque:Ge.hasAttribute("opaque")?Ge.getAttribute("opaque"):"A_ONE",data:Pe(Ge)};break}}return xe}function Pe(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"color":xe[Ge.nodeName]=a(Ge.textContent);break;case"float":xe[Ge.nodeName]=parseFloat(Ge.textContent);break;case"texture":xe[Ge.nodeName]={id:Ge.getAttribute("texture"),extra:$e(Ge)};break}}return xe}function $e(Se){const xe={technique:{}};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"extra":Ue(Ge,xe);break}}return xe}function Ue(Se,xe){for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"technique":Ve(Ge,xe);break}}}function Ve(Se,xe){for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"repeatU":case"repeatV":case"offsetU":case"offsetV":xe.technique[Ge.nodeName]=parseFloat(Ge.textContent);break;case"wrapU":case"wrapV":Ge.textContent.toUpperCase()==="TRUE"?xe.technique[Ge.nodeName]=1:Ge.textContent.toUpperCase()==="FALSE"?xe.technique[Ge.nodeName]=0:xe.technique[Ge.nodeName]=parseInt(Ge.textContent);break;case"bump":xe[Ge.nodeName]=$(Ge);break}}}function je(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"technique":xe.technique=fe(Ge);break}}return xe}function fe(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"double_sided":xe[Ge.nodeName]=parseInt(Ge.textContent);break;case"bump":xe[Ge.nodeName]=$(Ge);break}}return xe}function $(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"texture":xe[Ge.nodeName]={id:Ge.getAttribute("texture"),texcoord:Ge.getAttribute("texcoord"),extra:$e(Ge)};break}}return xe}function X(Se){return Se}function me(Se){return m(ar.effects[Se],X)}function Oe(Se){const xe={name:Se.getAttribute("name")};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"instance_effect":xe.url=o(Ge.getAttribute("url"));break}}ar.materials[Se.getAttribute("id")]=xe}function qe(Se){let xe,He=Se.slice((Se.lastIndexOf(".")-1>>>0)+2);switch(He=He.toLowerCase(),He){case"tga":xe=ra;break;default:xe=qa}return xe}function mt(Se){const xe=me(Se.url),He=xe.profile.technique;let Le;switch(He.type){case"phong":case"blinn":Le=new fd;break;case"lambert":Le=new rN;break;default:Le=new hc;break}Le.name=Se.name||"";function Ge(ot,ln=null){const Fn=xe.profile.samplers[ot.id];let Jt=null;if(Fn!==void 0){const Jn=xe.profile.surfaces[Fn.source];Jt=we(Jn.init_from)}else console.warn("THREE.ColladaLoader: Undefined sampler. Access image directly (see #12530)."),Jt=we(ot.id);if(Jt!==null){const Jn=qe(Jt);if(Jn!==void 0){const Bn=Jn.load(Jt),er=ot.extra;if(er!==void 0&&er.technique!==void 0&&c(er.technique)===!1){const qn=er.technique;Bn.wrapS=qn.wrapU?uo:Ma,Bn.wrapT=qn.wrapV?uo:Ma,Bn.offset.set(qn.offsetU||0,qn.offsetV||0),Bn.repeat.set(qn.repeatU||1,qn.repeatV||1)}else Bn.wrapS=uo,Bn.wrapT=uo;return ln!==null&&(Bn.encoding=ln),Bn}else return console.warn("THREE.ColladaLoader: Loader for texture %s not found.",Jt),null}else return console.warn("THREE.ColladaLoader: Couldn't create texture with ID:",ot.id),null}const kt=He.parameters;for(const ot in kt){const ln=kt[ot];switch(ot){case"diffuse":ln.color&&Le.color.fromArray(ln.color),ln.texture&&(Le.map=Ge(ln.texture,Er));break;case"specular":ln.color&&Le.specular&&Le.specular.fromArray(ln.color),ln.texture&&(Le.specularMap=Ge(ln.texture));break;case"bump":ln.texture&&(Le.normalMap=Ge(ln.texture));break;case"ambient":ln.texture&&(Le.lightMap=Ge(ln.texture,Er));break;case"shininess":ln.float&&Le.shininess&&(Le.shininess=ln.float);break;case"emission":ln.color&&Le.emissive&&Le.emissive.fromArray(ln.color),ln.texture&&(Le.emissiveMap=Ge(ln.texture,Er));break}}Le.color.convertSRGBToLinear(),Le.specular&&Le.specular.convertSRGBToLinear(),Le.emissive&&Le.emissive.convertSRGBToLinear();let Ft=kt.transparent,Rn=kt.transparency;if(Rn===void 0&&Ft&&(Rn={float:1}),Ft===void 0&&Rn&&(Ft={opaque:"A_ONE",data:{color:[1,1,1,1]}}),Ft&&Rn)if(Ft.data.texture)Le.transparent=!0;else{const ot=Ft.data.color;switch(Ft.opaque){case"A_ONE":Le.opacity=ot[3]*Rn.float;break;case"RGB_ZERO":Le.opacity=1-ot[0]*Rn.float;break;case"A_ZERO":Le.opacity=1-ot[3]*Rn.float;break;case"RGB_ONE":Le.opacity=ot[0]*Rn.float;break;default:console.warn('THREE.ColladaLoader: Invalid opaque type "%s" of transparent tag.',Ft.opaque)}Le.opacity<1&&(Le.transparent=!0)}if(He.extra!==void 0&&He.extra.technique!==void 0){const ot=He.extra.technique;for(const ln in ot){const Fn=ot[ln];switch(ln){case"double_sided":Le.side=Fn===1?uh:ch;break;case"bump":Le.normalMap=Ge(Fn.texture),Le.normalScale=new Wt(1,1);break}}}return Le}function pt(Se){return m(ar.materials[Se],mt)}function Ce(Se){const xe={name:Se.getAttribute("name")};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"optics":xe.optics=ft(Ge);break}}ar.cameras[Se.getAttribute("id")]=xe}function ft(Se){for(let xe=0;xe<Se.childNodes.length;xe++){const He=Se.childNodes[xe];switch(He.nodeName){case"technique_common":return at(He)}}return{}}function at(Se){const xe={};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];switch(Le.nodeName){case"perspective":case"orthographic":xe.technique=Le.nodeName,xe.parameters=G(Le);break}}return xe}function G(Se){const xe={};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];switch(Le.nodeName){case"xfov":case"yfov":case"xmag":case"ymag":case"znear":case"zfar":case"aspect_ratio":xe[Le.nodeName]=parseFloat(Le.textContent);break}}return xe}function ge(Se){let xe;switch(Se.optics.technique){case"perspective":xe=new Ca(Se.optics.parameters.yfov,Se.optics.parameters.aspect_ratio,Se.optics.parameters.znear,Se.optics.parameters.zfar);break;case"orthographic":let He=Se.optics.parameters.ymag,Le=Se.optics.parameters.xmag;const Ge=Se.optics.parameters.aspect_ratio;Le=Le===void 0?He*Ge:Le,He=He===void 0?Le/Ge:He,Le*=.5,He*=.5,xe=new ly(-Le,Le,He,-He,Se.optics.parameters.znear,Se.optics.parameters.zfar);break;default:xe=new Ca;break}return xe.name=Se.name||"",xe}function pe(Se){const xe=ar.cameras[Se];return xe!==void 0?m(xe,ge):(console.warn("THREE.ColladaLoader: Couldn't find camera with ID:",Se),null)}function Ie(Se){let xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"technique_common":xe=ye(Ge);break}}ar.lights[Se.getAttribute("id")]=xe}function ye(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"directional":case"point":case"spot":case"ambient":xe.technique=Ge.nodeName,xe.parameters=Me(Ge)}}return xe}function Me(Se){const xe={};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"color":const kt=a(Ge.textContent);xe.color=new bn().fromArray(kt).convertSRGBToLinear();break;case"falloff_angle":xe.falloffAngle=parseFloat(Ge.textContent);break;case"quadratic_attenuation":const Ft=parseFloat(Ge.textContent);xe.distance=Ft?Math.sqrt(1/Ft):0;break}}return xe}function ht(Se){let xe;switch(Se.technique){case"directional":xe=new Sw;break;case"point":xe=new Mm;break;case"spot":xe=new DA;break;case"ambient":xe=new kA;break}return Se.parameters.color&&xe.color.copy(Se.parameters.color),Se.parameters.distance&&(xe.distance=Se.parameters.distance),xe}function Ee(Se){const xe=ar.lights[Se];return xe!==void 0?m(xe,ht):(console.warn("THREE.ColladaLoader: Couldn't find light with ID:",Se),null)}function _t(Se){const xe={name:Se.getAttribute("name"),sources:{},vertices:{},primitives:[]},He=r(Se,"mesh")[0];if(He!==void 0){for(let Le=0;Le<He.childNodes.length;Le++){const Ge=He.childNodes[Le];if(Ge.nodeType!==1)continue;const kt=Ge.getAttribute("id");switch(Ge.nodeName){case"source":xe.sources[kt]=nt(Ge);break;case"vertices":xe.vertices=gt(Ge);break;case"polygons":console.warn("THREE.ColladaLoader: Unsupported primitive type: ",Ge.nodeName);break;case"lines":case"linestrips":case"polylist":case"triangles":xe.primitives.push(Lt(Ge));break;default:console.log(Ge)}}ar.geometries[Se.getAttribute("id")]=xe}}function nt(Se){const xe={array:[],stride:3};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"float_array":xe.array=a(Le.textContent);break;case"Name_array":xe.array=i(Le.textContent);break;case"technique_common":const Ge=r(Le,"accessor")[0];Ge!==void 0&&(xe.stride=parseInt(Ge.getAttribute("stride")));break}}return xe}function gt(Se){const xe={};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];Le.nodeType===1&&(xe[Le.getAttribute("semantic")]=o(Le.getAttribute("source")))}return xe}function Lt(Se){const xe={type:Se.nodeName,material:Se.getAttribute("material"),count:parseInt(Se.getAttribute("count")),inputs:{},stride:0,hasUV:!1};for(let He=0,Le=Se.childNodes.length;He<Le;He++){const Ge=Se.childNodes[He];if(Ge.nodeType===1)switch(Ge.nodeName){case"input":const kt=o(Ge.getAttribute("source")),Ft=Ge.getAttribute("semantic"),Rn=parseInt(Ge.getAttribute("offset")),ot=parseInt(Ge.getAttribute("set")),ln=ot>0?Ft+ot:Ft;xe.inputs[ln]={id:kt,offset:Rn},xe.stride=Math.max(xe.stride,Rn+1),Ft==="TEXCOORD"&&(xe.hasUV=!0);break;case"vcount":xe.vcount=s(Ge.textContent);break;case"p":xe.p=s(Ge.textContent);break}}return xe}function At(Se){const xe={};for(let He=0;He<Se.length;He++){const Le=Se[He];xe[Le.type]===void 0&&(xe[Le.type]=[]),xe[Le.type].push(Le)}return xe}function an(Se){let xe=0;for(let He=0,Le=Se.length;He<Le;He++)Se[He].hasUV===!0&&xe++;xe>0&&xe<Se.length&&(Se.uvsNeedsFix=!0)}function _n(Se){const xe={},He=Se.sources,Le=Se.vertices,Ge=Se.primitives;if(Ge.length===0)return{};const kt=At(Ge);for(const Ft in kt){const Rn=kt[Ft];an(Rn),xe[Ft]=lr(Rn,He,Le)}return xe}function lr(Se,xe,He){const Le={},Ge={array:[],stride:0},kt={array:[],stride:0},Ft={array:[],stride:0},Rn={array:[],stride:0},ot={array:[],stride:0},ln={array:[],stride:4},Fn={array:[],stride:4},Jt=new Hr,Jn=[];let Bn=0;for(let er=0;er<Se.length;er++){const qn=Se[er],Si=qn.inputs;let nn=0;switch(qn.type){case"lines":case"linestrips":nn=qn.count*2;break;case"triangles":nn=qn.count*3;break;case"polylist":for(let xr=0;xr<qn.count;xr++){const Nr=qn.vcount[xr];switch(Nr){case 3:nn+=3;break;case 4:nn+=6;break;default:nn+=(Nr-2)*3;break}}break;default:console.warn("THREE.ColladaLoader: Unknow primitive type:",qn.type)}Jt.addGroup(Bn,nn,er),Bn+=nn,qn.material&&Jn.push(qn.material);for(const xr in Si){const Nr=Si[xr];switch(xr){case"VERTEX":for(const ai in He){const zi=He[ai];switch(ai){case"POSITION":const Bd=Ge.array.length;if(Ln(qn,xe[zi],Nr.offset,Ge.array),Ge.stride=xe[zi].stride,xe.skinWeights&&xe.skinIndices&&(Ln(qn,xe.skinIndices,Nr.offset,ln.array),Ln(qn,xe.skinWeights,Nr.offset,Fn.array)),qn.hasUV===!1&&Se.uvsNeedsFix===!0){const UA=(Ge.array.length-Bd)/Ge.stride;for(let Ew=0;Ew<UA;Ew++)Ft.array.push(0,0)}break;case"NORMAL":Ln(qn,xe[zi],Nr.offset,kt.array),kt.stride=xe[zi].stride;break;case"COLOR":Ln(qn,xe[zi],Nr.offset,ot.array),ot.stride=xe[zi].stride;break;case"TEXCOORD":Ln(qn,xe[zi],Nr.offset,Ft.array),Ft.stride=xe[zi].stride;break;case"TEXCOORD1":Ln(qn,xe[zi],Nr.offset,Rn.array),Ft.stride=xe[zi].stride;break;default:console.warn('THREE.ColladaLoader: Semantic "%s" not handled in geometry build process.',ai)}}break;case"NORMAL":Ln(qn,xe[Nr.id],Nr.offset,kt.array),kt.stride=xe[Nr.id].stride;break;case"COLOR":Ln(qn,xe[Nr.id],Nr.offset,ot.array,!0),ot.stride=xe[Nr.id].stride;break;case"TEXCOORD":Ln(qn,xe[Nr.id],Nr.offset,Ft.array),Ft.stride=xe[Nr.id].stride;break;case"TEXCOORD1":Ln(qn,xe[Nr.id],Nr.offset,Rn.array),Rn.stride=xe[Nr.id].stride;break}}}return Ge.array.length>0&&Jt.setAttribute("position",new En(Ge.array,Ge.stride)),kt.array.length>0&&Jt.setAttribute("normal",new En(kt.array,kt.stride)),ot.array.length>0&&Jt.setAttribute("color",new En(ot.array,ot.stride)),Ft.array.length>0&&Jt.setAttribute("uv",new En(Ft.array,Ft.stride)),Rn.array.length>0&&Jt.setAttribute("uv2",new En(Rn.array,Rn.stride)),ln.array.length>0&&Jt.setAttribute("skinIndex",new En(ln.array,ln.stride)),Fn.array.length>0&&Jt.setAttribute("skinWeight",new En(Fn.array,Fn.stride)),Le.data=Jt,Le.type=Se[0].type,Le.materialKeys=Jn,Le}function Ln(Se,xe,He,Le,Ge=!1){const kt=Se.p,Ft=Se.stride,Rn=Se.vcount;function ot(Jt){let Jn=kt[Jt+He]*Fn;const Bn=Jn+Fn;for(;Jn<Bn;Jn++)Le.push(ln[Jn]);if(Ge){const er=Le.length-Fn-1;Ki.setRGB(Le[er+0],Le[er+1],Le[er+2]).convertSRGBToLinear(),Le[er+0]=Ki.r,Le[er+1]=Ki.g,Le[er+2]=Ki.b}}const ln=xe.array,Fn=xe.stride;if(Se.vcount!==void 0){let Jt=0;for(let Jn=0,Bn=Rn.length;Jn<Bn;Jn++){const er=Rn[Jn];if(er===4){const qn=Jt+Ft*0,Si=Jt+Ft*1,nn=Jt+Ft*2,xr=Jt+Ft*3;ot(qn),ot(Si),ot(xr),ot(Si),ot(nn),ot(xr)}else if(er===3){const qn=Jt+Ft*0,Si=Jt+Ft*1,nn=Jt+Ft*2;ot(qn),ot(Si),ot(nn)}else if(er>4)for(let qn=1,Si=er-2;qn<=Si;qn++){const nn=Jt+Ft*0,xr=Jt+Ft*qn,Nr=Jt+Ft*(qn+1);ot(nn),ot(xr),ot(Nr)}Jt+=Ft*er}}else for(let Jt=0,Jn=kt.length;Jt<Jn;Jt+=Ft)ot(Jt)}function jr(Se){return m(ar.geometries[Se],_n)}function Zn(Se){const xe={name:Se.getAttribute("name")||"",joints:{},links:[]};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"technique_common":Ut(Le,xe);break}}ar.kinematicsModels[Se.getAttribute("id")]=xe}function Y(Se){return Se.build!==void 0?Se.build:Se}function oe(Se){return m(ar.kinematicsModels[Se],Y)}function Ut(Se,xe){for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"joint":xe.joints[Le.getAttribute("sid")]=Te(Le);break;case"link":xe.links.push(St(Le));break}}}function Te(Se){let xe;for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"prismatic":case"revolute":xe=de(Le);break}}return xe}function de(Se){const xe={sid:Se.getAttribute("sid"),name:Se.getAttribute("name")||"",axis:new Xe,limits:{min:0,max:0},type:Se.nodeName,static:!1,zeroPosition:0,middlePosition:0};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"axis":const Ge=a(Le.textContent);xe.axis.fromArray(Ge);break;case"limits":const kt=Le.getElementsByTagName("max")[0],Ft=Le.getElementsByTagName("min")[0];xe.limits.max=parseFloat(kt.textContent),xe.limits.min=parseFloat(Ft.textContent);break}}return xe.limits.min>=xe.limits.max&&(xe.static=!0),xe.middlePosition=(xe.limits.min+xe.limits.max)/2,xe}function St(Se){const xe={sid:Se.getAttribute("sid"),name:Se.getAttribute("name")||"",attachments:[],transforms:[]};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"attachment_full":xe.attachments.push(vt(Le));break;case"matrix":case"translate":case"rotate":xe.transforms.push(It(Le));break}}return xe}function vt(Se){const xe={joint:Se.getAttribute("joint").split("/").pop(),transforms:[],links:[]};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"link":xe.links.push(St(Le));break;case"matrix":case"translate":case"rotate":xe.transforms.push(It(Le));break}}return xe}function It(Se){const xe={type:Se.nodeName},He=a(Se.textContent);switch(xe.type){case"matrix":xe.obj=new Un,xe.obj.fromArray(He).transpose();break;case"translate":xe.obj=new Xe,xe.obj.fromArray(He);break;case"rotate":xe.obj=new Xe,xe.obj.fromArray(He),xe.angle=Ss.degToRad(He[3]);break}return xe}function et(Se){const xe={name:Se.getAttribute("name")||"",rigidBodies:{}};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"rigid_body":xe.rigidBodies[Le.getAttribute("name")]={},xt(Le,xe.rigidBodies[Le.getAttribute("name")]);break}}ar.physicsModels[Se.getAttribute("id")]=xe}function xt(Se,xe){for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"technique_common":Kt(Le,xe);break}}}function Kt(Se,xe){for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"inertia":xe.inertia=a(Le.textContent);break;case"mass":xe.mass=a(Le.textContent)[0];break}}}function yn(Se){const xe={bindJointAxis:[]};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"bind_joint_axis":xe.bindJointAxis.push(On(Le));break}}ar.kinematicsScenes[o(Se.getAttribute("url"))]=xe}function On(Se){const xe={target:Se.getAttribute("target").split("/").pop()};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType===1)switch(Le.nodeName){case"axis":const Ge=Le.getElementsByTagName("param")[0];xe.axis=Ge.textContent;const kt=xe.axis.split("inst_").pop().split("axis")[0];xe.jointIndex=kt.substring(0,kt.length-1);break}}return xe}function Ze(Se){return Se.build!==void 0?Se.build:Se}function Xn(Se){return m(ar.kinematicsScenes[Se],Ze)}function st(){const Se=Object.keys(ar.kinematicsModels)[0],xe=Object.keys(ar.kinematicsScenes)[0],He=Object.keys(ar.visualScenes)[0];if(Se===void 0||xe===void 0)return;const Le=oe(Se),Ge=Xn(xe),kt=Wn(He),Ft=Ge.bindJointAxis,Rn={};for(let Fn=0,Jt=Ft.length;Fn<Jt;Fn++){const Jn=Ft[Fn],Bn=hr.querySelector('[sid="'+Jn.target+'"]');if(Bn){const er=Bn.parentElement;ot(Jn.jointIndex,er)}}function ot(Fn,Jt){const Jn=Jt.getAttribute("name"),Bn=Le.joints[Fn];kt.traverse(function(er){er.name===Jn&&(Rn[Fn]={object:er,transforms:De(Jt),joint:Bn,position:Bn.zeroPosition})})}const ln=new Un;So={joints:Le&&Le.joints,getJointValue:function(Fn){const Jt=Rn[Fn];if(Jt)return Jt.position;console.warn("THREE.ColladaLoader: Joint "+Fn+" doesn't exist.")},setJointValue:function(Fn,Jt){const Jn=Rn[Fn];if(Jn){const Bn=Jn.joint;if(Jt>Bn.limits.max||Jt<Bn.limits.min)console.warn("THREE.ColladaLoader: Joint "+Fn+" value "+Jt+" outside of limits (min: "+Bn.limits.min+", max: "+Bn.limits.max+").");else if(Bn.static)console.warn("THREE.ColladaLoader: Joint "+Fn+" is static.");else{const er=Jn.object,qn=Bn.axis,Si=Jn.transforms;We.identity();for(let nn=0;nn<Si.length;nn++){const xr=Si[nn];if(xr.sid&&xr.sid.indexOf(Fn)!==-1)switch(Bn.type){case"revolute":We.multiply(ln.makeRotationAxis(qn,Ss.degToRad(Jt)));break;case"prismatic":We.multiply(ln.makeTranslation(qn.x*Jt,qn.y*Jt,qn.z*Jt));break;default:console.warn("THREE.ColladaLoader: Unknown joint type: "+Bn.type);break}else switch(xr.type){case"matrix":We.multiply(xr.obj);break;case"translate":We.multiply(ln.makeTranslation(xr.obj.x,xr.obj.y,xr.obj.z));break;case"scale":We.scale(xr.obj);break;case"rotate":We.multiply(ln.makeRotationAxis(xr.obj,xr.angle));break}}er.matrix.copy(We),er.matrix.decompose(er.position,er.quaternion,er.scale),Rn[Fn].position=Jt}}else console.log("THREE.ColladaLoader: "+Fn+" does not exist.")}}}function De(Se){const xe=[],He=hr.querySelector('[id="'+Se.id+'"]');for(let Le=0;Le<He.childNodes.length;Le++){const Ge=He.childNodes[Le];if(Ge.nodeType!==1)continue;let kt,Ft;switch(Ge.nodeName){case"matrix":kt=a(Ge.textContent);const Rn=new Un().fromArray(kt).transpose();xe.push({sid:Ge.getAttribute("sid"),type:Ge.nodeName,obj:Rn});break;case"translate":case"scale":kt=a(Ge.textContent),Ft=new Xe().fromArray(kt),xe.push({sid:Ge.getAttribute("sid"),type:Ge.nodeName,obj:Ft});break;case"rotate":kt=a(Ge.textContent),Ft=new Xe().fromArray(kt);const ot=Ss.degToRad(kt[3]);xe.push({sid:Ge.getAttribute("sid"),type:Ge.nodeName,obj:Ft,angle:ot});break}}return xe}function yt(Se){const xe=Se.getElementsByTagName("node");for(let He=0;He<xe.length;He++){const Le=xe[He];Le.hasAttribute("id")===!1&&Le.setAttribute("id",l())}}const We=new Un,lt=new Xe;function it(Se){const xe={name:Se.getAttribute("name")||"",type:Se.getAttribute("type"),id:Se.getAttribute("id"),sid:Se.getAttribute("sid"),matrix:new Un,nodes:[],instanceCameras:[],instanceControllers:[],instanceLights:[],instanceGeometries:[],instanceNodes:[],transforms:{}};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];if(Le.nodeType!==1)continue;let Ge;switch(Le.nodeName){case"node":xe.nodes.push(Le.getAttribute("id")),it(Le);break;case"instance_camera":xe.instanceCameras.push(o(Le.getAttribute("url")));break;case"instance_controller":xe.instanceControllers.push(Mt(Le));break;case"instance_light":xe.instanceLights.push(o(Le.getAttribute("url")));break;case"instance_geometry":xe.instanceGeometries.push(Mt(Le));break;case"instance_node":xe.instanceNodes.push(o(Le.getAttribute("url")));break;case"matrix":Ge=a(Le.textContent),xe.matrix.multiply(We.fromArray(Ge).transpose()),xe.transforms[Le.getAttribute("sid")]=Le.nodeName;break;case"translate":Ge=a(Le.textContent),lt.fromArray(Ge),xe.matrix.multiply(We.makeTranslation(lt.x,lt.y,lt.z)),xe.transforms[Le.getAttribute("sid")]=Le.nodeName;break;case"rotate":Ge=a(Le.textContent);const kt=Ss.degToRad(Ge[3]);xe.matrix.multiply(We.makeRotationAxis(lt.fromArray(Ge),kt)),xe.transforms[Le.getAttribute("sid")]=Le.nodeName;break;case"scale":Ge=a(Le.textContent),xe.matrix.scale(lt.fromArray(Ge)),xe.transforms[Le.getAttribute("sid")]=Le.nodeName;break;case"extra":break;default:console.log(Le)}}return An(xe.id)?console.warn("THREE.ColladaLoader: There is already a node with ID %s. Exclude current node from further processing.",xe.id):ar.nodes[xe.id]=xe,xe}function Mt(Se){const xe={id:o(Se.getAttribute("url")),materials:{},skeletons:[]};for(let He=0;He<Se.childNodes.length;He++){const Le=Se.childNodes[He];switch(Le.nodeName){case"bind_material":const Ge=Le.getElementsByTagName("instance_material");for(let kt=0;kt<Ge.length;kt++){const Ft=Ge[kt],Rn=Ft.getAttribute("symbol"),ot=Ft.getAttribute("target");xe.materials[Rn]=o(ot)}break;case"skeleton":xe.skeletons.push(o(Le.textContent));break}}return xe}function tn(Se,xe){const He=[],Le=[];let Ge,kt,Ft;for(Ge=0;Ge<Se.length;Ge++){const ln=Se[Ge];let Fn;if(An(ln))Fn=ir(ln),Qt(Fn,xe,He);else if(gr(ln)){const Jn=ar.visualScenes[ln].children;for(let Bn=0;Bn<Jn.length;Bn++){const er=Jn[Bn];if(er.type==="JOINT"){const qn=ir(er.id);Qt(qn,xe,He)}}}else console.error("THREE.ColladaLoader: Unable to find root bone of skeleton with ID:",ln)}for(Ge=0;Ge<xe.length;Ge++)for(kt=0;kt<He.length;kt++)if(Ft=He[kt],Ft.bone.name===xe[Ge].name){Le[Ge]=Ft,Ft.processed=!0;break}for(Ge=0;Ge<He.length;Ge++)Ft=He[Ge],Ft.processed===!1&&(Le.push(Ft),Ft.processed=!0);const Rn=[],ot=[];for(Ge=0;Ge<Le.length;Ge++)Ft=Le[Ge],Rn.push(Ft.bone),ot.push(Ft.boneInverse);return new uy(Rn,ot)}function Qt(Se,xe,He){Se.traverse(function(Le){if(Le.isBone===!0){let Ge;for(let kt=0;kt<xe.length;kt++){const Ft=xe[kt];if(Ft.name===Le.name){Ge=Ft.boneInverse;break}}Ge===void 0&&(Ge=new Un),He.push({bone:Le,boneInverse:Ge,processed:!1})}})}function mn(Se){const xe=[],He=Se.matrix,Le=Se.nodes,Ge=Se.type,kt=Se.instanceCameras,Ft=Se.instanceControllers,Rn=Se.instanceLights,ot=Se.instanceGeometries,ln=Se.instanceNodes;for(let Jt=0,Jn=Le.length;Jt<Jn;Jt++)xe.push(ir(Le[Jt]));for(let Jt=0,Jn=kt.length;Jt<Jn;Jt++){const Bn=pe(kt[Jt]);Bn!==null&&xe.push(Bn.clone())}for(let Jt=0,Jn=Ft.length;Jt<Jn;Jt++){const Bn=Ft[Jt],er=Q(Bn.id),qn=jr(er.id),Si=Mn(qn,Bn.materials),nn=Bn.skeletons,xr=er.skin.joints,Nr=tn(nn,xr);for(let ai=0,zi=Si.length;ai<zi;ai++){const Bd=Si[ai];Bd.isSkinnedMesh&&(Bd.bind(Nr,er.skin.bindMatrix),Bd.normalizeSkinWeights()),xe.push(Bd)}}for(let Jt=0,Jn=Rn.length;Jt<Jn;Jt++){const Bn=Ee(Rn[Jt]);Bn!==null&&xe.push(Bn.clone())}for(let Jt=0,Jn=ot.length;Jt<Jn;Jt++){const Bn=ot[Jt],er=jr(Bn.id),qn=Mn(er,Bn.materials);for(let Si=0,nn=qn.length;Si<nn;Si++)xe.push(qn[Si])}for(let Jt=0,Jn=ln.length;Jt<Jn;Jt++)xe.push(ir(ln[Jt]).clone());let Fn;if(Le.length===0&&xe.length===1)Fn=xe[0];else{Fn=Ge==="JOINT"?new Eg:new fo;for(let Jt=0;Jt<xe.length;Jt++)Fn.add(xe[Jt])}return Fn.name=Ge==="JOINT"?Se.sid:Se.name,Fn.matrix.copy(He),Fn.matrix.decompose(Fn.position,Fn.quaternion,Fn.scale),Fn}const Gn=new hc({color:16711935});function rn(Se,xe){const He=[];for(let Le=0,Ge=Se.length;Le<Ge;Le++){const kt=xe[Se[Le]];kt===void 0?(console.warn("THREE.ColladaLoader: Material with key %s not found. Apply fallback material.",Se[Le]),He.push(Gn)):He.push(pt(kt))}return He}function Mn(Se,xe){const He=[];for(const Le in Se){const Ge=Se[Le],kt=rn(Ge.materialKeys,xe);kt.length===0&&(Le==="lines"||Le==="linestrips"?kt.push(new bc):kt.push(new fd));const Ft=Ge.data.attributes.skinIndex!==void 0,Rn=kt.length===1?kt[0]:kt;let ot;switch(Le){case"lines":ot=new Sm(Ge.data,Rn);break;case"linestrips":ot=new dy(Ge.data,Rn);break;case"triangles":case"polylist":Ft?ot=new RA(Ge.data,Rn):ot=new Ta(Ge.data,Rn);break}He.push(ot)}return He}function An(Se){return ar.nodes[Se]!==void 0}function ir(Se){return m(ar.nodes[Se],mn)}function qr(Se){const xe={name:Se.getAttribute("name"),children:[]};yt(Se);const He=r(Se,"node");for(let Le=0;Le<He.length;Le++)xe.children.push(it(He[Le]));ar.visualScenes[Se.getAttribute("id")]=xe}function vr(Se){const xe=new fo;xe.name=Se.name;const He=Se.children;for(let Le=0;Le<He.length;Le++){const Ge=He[Le];xe.add(ir(Ge.id))}return xe}function gr(Se){return ar.visualScenes[Se]!==void 0}function Wn(Se){return m(ar.visualScenes[Se],vr)}function Ai(Se){const xe=r(Se,"instance_visual_scene")[0];return Wn(o(xe.getAttribute("url")))}function Kr(){const Se=ar.clips;if(c(Se)===!0){if(c(ar.animations)===!1){const xe=[];for(const He in ar.animations){const Le=_(He);for(let Ge=0,kt=Le.length;Ge<kt;Ge++)xe.push(Le[Ge])}Yi.push(new Cm("default",-1,xe))}}else for(const xe in Se)Yi.push(z(xe))}function Rs(Se){let xe="";const He=[Se];for(;He.length;){const Le=He.shift();Le.nodeType===Node.TEXT_NODE?xe+=Le.textContent:(xe+=`
`,He.push.apply(He,Le.childNodes))}return xe.trim()}if(e.length===0)return{scene:new X8};const Js=new DOMParser().parseFromString(e,"application/xml"),hr=r(Js,"COLLADA")[0],Hl=Js.getElementsByTagName("parsererror")[0];if(Hl!==void 0){const Se=r(Hl,"div")[0];let xe;return Se?xe=Se.textContent:xe=Rs(Hl),console.error(`THREE.ColladaLoader: Failed to parse collada file.
`,xe),null}const xi=hr.getAttribute("version");console.log("THREE.ColladaLoader: File version",xi);const Wa=u(r(hr,"asset")[0]),qa=new Pg(this.manager);qa.setPath(this.resourcePath||t).setCrossOrigin(this.crossOrigin);let ra;mD&&(ra=new mD(this.manager),ra.setPath(this.resourcePath||t));const Ki=new bn,Yi=[];let So={},zA=0;const ar={animations:{},clips:{},controllers:{},images:{},effects:{},materials:{},cameras:{},lights:{},geometries:{},nodes:{},visualScenes:{},kinematicsModels:{},physicsModels:{},kinematicsScenes:{}};h(hr,"library_animations","animation",v),h(hr,"library_animation_clips","animation_clip",k),h(hr,"library_controllers","controller",O),h(hr,"library_images","image",ie),h(hr,"library_effects","effect",Ae),h(hr,"library_materials","material",Oe),h(hr,"library_cameras","camera",Ce),h(hr,"library_lights","light",Ie),h(hr,"library_geometries","geometry",_t),h(hr,"library_nodes","node",it),h(hr,"library_visual_scenes","visual_scene",qr),h(hr,"library_kinematics_models","kinematics_model",Zn),h(hr,"library_physics_models","physics_model",et),h(hr,"scene","instance_kinematics_scene",yn),p(ar.animations,b),p(ar.clips,H),p(ar.controllers,te),p(ar.images,le),p(ar.effects,X),p(ar.materials,mt),p(ar.cameras,ge),p(ar.lights,ht),p(ar.geometries,_n),p(ar.visualScenes,vr),Kr(),st();const Th=Ai(r(hr,"scene")[0]);return Th.animations=Yi,Wa.upAxis==="Z_UP"&&(console.warn("THREE.ColladaLoader: You are loading an asset with a Z-UP coordinate system. The loader just rotates the asset to transform it into Y-UP. The vertex data are not converted, see #24289."),Th.quaternion.setFromEuler(new od(-Math.PI/2,0,0))),Th.scale.multiplyScalar(Wa.unit),{get animations(){return console.warn("THREE.ColladaLoader: Please access animations over scene.animations now."),Yi},kinematics:So,library:ar,scene:Th}}}class Ynt extends ls{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Jnt(t)}),this.register(function(t){return new srt(t)}),this.register(function(t){return new ort(t)}),this.register(function(t){return new trt(t)}),this.register(function(t){return new nrt(t)}),this.register(function(t){return new rrt(t)}),this.register(function(t){return new irt(t)}),this.register(function(t){return new Qnt(t)}),this.register(function(t){return new art(t)}),this.register(function(t){return new ert(t)}),this.register(function(t){return new jnt(t)}),this.register(function(t){return new lrt(t)})}load(e,t,r,i){const a=this;let s;this.resourcePath!==""?s=this.resourcePath:this.path!==""?s=this.path:s=As.extractUrlBase(e),this.manager.itemStart(e);const o=function(c){i?i(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},l=new Is(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{a.parse(c,s,function(u){t(u),a.manager.itemEnd(e)},o)}catch(u){o(u)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let a;const s={},o={};if(typeof e=="string")a=e;else if(As.decodeText(new Uint8Array(e,0,4))===Wie){try{s[Fr.KHR_BINARY_GLTF]=new crt(e)}catch(d){i&&i(d);return}a=s[Fr.KHR_BINARY_GLTF].content}else a=As.decodeText(new Uint8Array(e));const l=JSON.parse(a);if(l.asset===void 0||l.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new xrt(l,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);o[d.name]=d,s[d.name]=!0}if(l.extensionsUsed)for(let u=0;u<l.extensionsUsed.length;++u){const d=l.extensionsUsed[u],f=l.extensionsRequired||[];switch(d){case Fr.KHR_MATERIALS_UNLIT:s[d]=new Znt;break;case Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:s[d]=new frt;break;case Fr.KHR_DRACO_MESH_COMPRESSION:s[d]=new urt(l,this.dracoLoader);break;case Fr.KHR_TEXTURE_TRANSFORM:s[d]=new drt;break;case Fr.KHR_MESH_QUANTIZATION:s[d]=new hrt;break;default:f.indexOf(d)>=0&&o[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(s),c.setPlugins(o),c.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,a){r.parse(e,t,i,a)})}}function Xnt(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Fr={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class jnt{constructor(e){this.parser=e,this.name=Fr.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const a=t[r];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const a=t.json,l=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let c;const u=new bn(16777215);l.color!==void 0&&u.fromArray(l.color);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Sw(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Mm(u),c.distance=d;break;case"spot":c=new DA(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}createNodeAttachment(e){const t=this,r=this.parser,a=r.json.nodes[e],o=(a.extensions&&a.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return r._getNodeRef(t.cache,o,l)})}}class Znt{constructor(){this.name=Fr.KHR_MATERIALS_UNLIT}getMaterialType(){return hc}extendParams(e,t,r){const i=[];e.color=new bn(1,1,1),e.opacity=1;const a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const s=a.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}a.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",a.baseColorTexture,Er))}return Promise.all(i)}}class Qnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name].emissiveStrength;return a!==void 0&&(t.emissiveIntensity=a),Promise.resolve()}}class Jnt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ch}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];if(s.clearcoatFactor!==void 0&&(t.clearcoat=s.clearcoatFactor),s.clearcoatTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),s.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),s.clearcoatRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),s.clearcoatNormalTexture!==void 0&&(a.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),s.clearcoatNormalTexture.scale!==void 0)){const o=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new Wt(o,o)}return Promise.all(a)}}class ert{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ch}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.iridescenceFactor!==void 0&&(t.iridescence=s.iridescenceFactor),s.iridescenceTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceMap",s.iridescenceTexture)),s.iridescenceIor!==void 0&&(t.iridescenceIOR=s.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),s.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=s.iridescenceThicknessMinimum),s.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=s.iridescenceThicknessMaximum),s.iridescenceThicknessTexture!==void 0&&a.push(r.assignTexture(t,"iridescenceThicknessMap",s.iridescenceThicknessTexture)),Promise.all(a)}}class trt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ch}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[];t.sheenColor=new bn(0,0,0),t.sheenRoughness=0,t.sheen=1;const s=i.extensions[this.name];return s.sheenColorFactor!==void 0&&t.sheenColor.fromArray(s.sheenColorFactor),s.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=s.sheenRoughnessFactor),s.sheenColorTexture!==void 0&&a.push(r.assignTexture(t,"sheenColorMap",s.sheenColorTexture,Er)),s.sheenRoughnessTexture!==void 0&&a.push(r.assignTexture(t,"sheenRoughnessMap",s.sheenRoughnessTexture)),Promise.all(a)}}class nrt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ch}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];return s.transmissionFactor!==void 0&&(t.transmission=s.transmissionFactor),s.transmissionTexture!==void 0&&a.push(r.assignTexture(t,"transmissionMap",s.transmissionTexture)),Promise.all(a)}}class rrt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ch}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.thickness=s.thicknessFactor!==void 0?s.thicknessFactor:0,s.thicknessTexture!==void 0&&a.push(r.assignTexture(t,"thicknessMap",s.thicknessTexture)),t.attenuationDistance=s.attenuationDistance||0;const o=s.attenuationColor||[1,1,1];return t.attenuationColor=new bn(o[0],o[1],o[2]),Promise.all(a)}}class irt{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ch}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=i.extensions[this.name];return t.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class art{constructor(e){this.parser=e,this.name=Fr.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:Ch}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const a=[],s=i.extensions[this.name];t.specularIntensity=s.specularFactor!==void 0?s.specularFactor:1,s.specularTexture!==void 0&&a.push(r.assignTexture(t,"specularIntensityMap",s.specularTexture));const o=s.specularColorFactor||[1,1,1];return t.specularColor=new bn(o[0],o[1],o[2]),s.specularColorTexture!==void 0&&a.push(r.assignTexture(t,"specularColorMap",s.specularColorTexture,Er)),Promise.all(a)}}class srt{constructor(e){this.parser=e,this.name=Fr.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const a=i.extensions[this.name],s=t.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a.source,s)}}class ort{constructor(e){this.parser=e,this.name=Fr.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,a=i.textures[e];if(!a.extensions||!a.extensions[t])return null;const s=a.extensions[t],o=i.images[s.source];let l=r.textureLoader;if(o.uri){const c=r.options.manager.getHandler(o.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,s.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class lrt{constructor(e){this.name=Fr.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],a=this.parser.getDependency("buffer",i.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([a,s.ready]).then(function(o){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new ArrayBuffer(u*d),h=new Uint8Array(o[0],l,c);return s.decodeGltfBuffer(new Uint8Array(f),u,d,h,i.mode,i.filter),f})}else return null}}const Wie="glTF",y1=12,BG={JSON:1313821514,BIN:5130562};class crt{constructor(e){this.name=Fr.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,y1);if(this.header={magic:As.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==Wie)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-y1,i=new DataView(e,y1);let a=0;for(;a<r;){const s=i.getUint32(a,!0);a+=4;const o=i.getUint32(a,!0);if(a+=4,o===BG.JSON){const l=new Uint8Array(e,y1+a,s);this.content=As.decodeText(l)}else if(o===BG.BIN){const l=y1+a;this.body=e.slice(l,l+s)}a+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class urt{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Fr.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,a=e.extensions[this.name].bufferView,s=e.extensions[this.name].attributes,o={},l={},c={};for(const u in s){const d=gD[u]||u.toLowerCase();o[d]=s[u]}for(const u in e.attributes){const d=gD[u]||u.toLowerCase();if(s[u]!==void 0){const f=r.accessors[e.attributes[u]],h=B_[f.componentType];c[d]=h,l[d]=f.normalized===!0}}return t.getDependency("bufferView",a).then(function(u){return new Promise(function(d){i.decodeDracoFile(u,function(f){for(const h in f.attributes){const p=f.attributes[h],m=l[h];m!==void 0&&(p.normalized=m)}d(f)},o,c)})})}}class drt{constructor(){this.name=Fr.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return t.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class vD extends fy{constructor(e){super(),this.isGLTFSpecularGlossinessMaterial=!0;const t=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),r=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),i=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),a=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),o={specular:{value:new bn().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(l){for(const c in o)l.uniforms[c]=o[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",i).replace("#include <metalnessmap_fragment>",a).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(l){o.specular.value=l}},specularMap:{get:function(){return o.specularMap.value},set:function(l){o.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(l){o.glossiness.value=l}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(l){o.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}copy(e){return super.copy(e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class frt{constructor(){this.name=Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return vD}extendParams(e,t,r){const i=t.extensions[this.name];e.color=new bn(1,1,1),e.opacity=1;const a=[];if(Array.isArray(i.diffuseFactor)){const s=i.diffuseFactor;e.color.fromArray(s),e.opacity=s[3]}if(i.diffuseTexture!==void 0&&a.push(r.assignTexture(e,"map",i.diffuseTexture,Er)),e.emissive=new bn(0,0,0),e.glossiness=i.glossinessFactor!==void 0?i.glossinessFactor:1,e.specular=new bn(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),i.specularGlossinessTexture!==void 0){const s=i.specularGlossinessTexture;a.push(r.assignTexture(e,"glossinessMap",s)),a.push(r.assignTexture(e,"specularMap",s,Er))}return Promise.all(a)}createMaterial(e){const t=new vD(e);return t.fog=!0,t.color=e.color,t.map=e.map===void 0?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=e.aoMap===void 0?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=e.emissiveIntensity===void 0?1:e.emissiveIntensity,t.emissiveMap=e.emissiveMap===void 0?null:e.emissiveMap,t.bumpMap=e.bumpMap===void 0?null:e.bumpMap,t.bumpScale=1,t.normalMap=e.normalMap===void 0?null:e.normalMap,t.normalMapType=Om,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=e.specularMap===void 0?null:e.specularMap,t.specular=e.specular,t.glossinessMap=e.glossinessMap===void 0?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=e.envMap===void 0?null:e.envMap,t.envMapIntensity=1,t}}class hrt{constructor(){this.name=Fr.KHR_MESH_QUANTIZATION}}class qie extends xw{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i*3+i;for(let s=0;s!==i;s++)t[s]=r[a+s];return t}interpolate_(e,t,r,i){const a=this.resultBuffer,s=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=i-t,d=(r-t)/u,f=d*d,h=f*d,p=e*c,m=p-c,v=-2*h+3*f,g=h-f,y=1-v,b=g-f+d;for(let _=0;_!==o;_++){const x=s[m+_+o],S=s[m+_+l]*u,T=s[p+_+o],C=s[p+_]*u;a[_]=y*x+b*S+v*T+g*C}return a}}const prt=new es;class mrt extends qie{interpolate_(e,t,r,i){const a=super.interpolate_(e,t,r,i);return prt.fromArray(a).normalize().toArray(a),a}}const zu={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},B_={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},FG={9728:Ba,9729:ma,9984:TM,9985:z8,9986:AM,9987:Od},zG={33071:Ma,33648:x_,10497:uo},UG={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gD={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},of={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},vrt={CUBICSPLINE:void 0,LINEAR:Tg,STEP:C_},SI={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function grt(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new fy({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ch})),n.DefaultMaterial}function b1(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function mp(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function yrt(n,e,t){let r=!1,i=!1,a=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(a=!0),r&&i&&a)break}if(!r&&!i&&!a)return Promise.resolve(n);const s=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const f=d.POSITION!==void 0?t.getDependency("accessor",d.POSITION):n.attributes.position;s.push(f)}if(i){const f=d.NORMAL!==void 0?t.getDependency("accessor",d.NORMAL):n.attributes.normal;o.push(f)}if(a){const f=d.COLOR_0!==void 0?t.getDependency("accessor",d.COLOR_0):n.attributes.color;l.push(f)}}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=d),a&&(n.morphAttributes.color=f),n.morphTargetsRelative=!0,n})}function brt(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function _rt(n){const e=n.extensions&&n.extensions[Fr.KHR_DRACO_MESH_COMPRESSION];let t;return e?t="draco:"+e.bufferView+":"+e.indices+":"+HG(e.attributes):t=n.indices+":"+HG(n.attributes)+":"+n.mode,t}function HG(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function yD(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function wrt(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class xrt{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Xnt,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,a=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||r||i&&a<98?this.textureLoader=new Pg(this.options.manager):this.textureLoader=new Gtt(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Is(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,a=this.extensions;this.cache.removeAll(),this._invokeAll(function(s){return s._markDefs&&s._markDefs()}),Promise.all(this._invokeAll(function(s){return s.beforeRoot&&s.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(s){const o={scene:s[0][i.scene||0],scenes:s[0],animations:s[1],cameras:s[2],asset:i.asset,parser:r,userData:{}};b1(a,o,i),mp(o,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){e(o)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,a=t.length;i<a;i++){const s=t[i].joints;for(let o=0,l=s.length;o<l;o++)e[s[o]].isBone=!0}for(let i=0,a=e.length;i<a;i++){const s=e[i];s.mesh!==void 0&&(this._addNodeRef(this.meshCache,s.mesh),s.skin!==void 0&&(r[s.mesh].isSkinnedMesh=!0)),s.camera!==void 0&&this._addNodeRef(this.cameraCache,s.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),a=(s,o)=>{const l=this.associations.get(s);l!=null&&this.associations.set(o,l);for(const[c,u]of s.children.entries())a(u,o.children[c])};return a(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a&&r.push(a)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this.loadNode(t);break;case"mesh":i=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(a,s){return r.getDependency(e,s)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Fr.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(a,s){r.load(As.resolveURL(t.uri,i.path),a,void 0,function(){s(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,a=t.byteOffset||0;return r.slice(a,a+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0)return Promise.resolve(null);const a=[];return i.bufferView!==void 0?a.push(this.getDependency("bufferView",i.bufferView)):a.push(null),i.sparse!==void 0&&(a.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(a).then(function(s){const o=s[0],l=UG[i.type],c=B_[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,p=i.normalized===!0;let m,v;if(h&&h!==d){const g=Math.floor(f/h),y="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+g+":"+i.count;let b=t.cache.get(y);b||(m=new c(o,g*h,i.count*h/u),b=new j8(m,h/u),t.cache.add(y,b)),v=new xm(b,l,f%h/u,p)}else o===null?m=new c(i.count*l):m=new c(o,f,i.count*l),v=new ea(m,l,p);if(i.sparse!==void 0){const g=UG.SCALAR,y=B_[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,_=i.sparse.values.byteOffset||0,x=new y(s[1],b,i.sparse.count*g),S=new c(s[2],_,i.sparse.count*l);o!==null&&(v=new ea(v.array.slice(),v.itemSize,v.normalized));for(let T=0,C=x.length;T<C;T++){const M=x[T];if(v.setX(M,S[T*l]),l>=2&&v.setY(M,S[T*l+1]),l>=3&&v.setZ(M,S[T*l+2]),l>=4&&v.setW(M,S[T*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return v})}loadTexture(e){const t=this.json,r=this.options,a=t.textures[e].source,s=t.images[a];let o=this.textureLoader;if(s.uri){const l=r.manager.getHandler(s.uri);l!==null&&(o=l)}return this.loadTextureImage(e,a,o)}loadTextureImage(e,t,r){const i=this,a=this.json,s=a.textures[e],o=a.images[t],l=(o.uri||o.bufferView)+":"+s.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,s.name&&(u.name=s.name);const f=(a.samplers||{})[s.sampler]||{};return u.magFilter=FG[f.magFilter]||ma,u.minFilter=FG[f.minFilter]||Od,u.wrapS=zG[f.wrapS]||uo,u.wrapT=zG[f.wrapT]||uo,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const s=i.images[e],o=self.URL||self.webkitURL;let l=s.uri||"",c=!1;if(s.bufferView!==void 0)l=r.getDependency("bufferView",s.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:s.mimeType});return l=o.createObjectURL(f),l});else if(s.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let p=f;t.isImageBitmapLoader===!0&&(p=function(m){const v=new as(m);v.needsUpdate=!0,f(v)}),t.load(As.resolveURL(d,a.path),p,void 0,h)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),d.userData.mimeType=s.mimeType||wrt(s.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const a=this;return this.getDependency("texture",r.index).then(function(s){if(r.texCoord!==void 0&&r.texCoord!=0&&!(t==="aoMap"&&r.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),a.extensions[Fr.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Fr.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=a.associations.get(s);s=a.extensions[Fr.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),a.associations.set(s,l)}}return i!==void 0&&(s.encoding=i),e[t]=s,s})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,a=t.attributes.color!==void 0,s=t.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new Hp,ya.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(o,l)),r=l}else if(e.isLine){const o="LineBasicMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new bc,ya.prototype.copy.call(l,r),l.color.copy(r.color),this.cache.add(o,l)),r=l}if(i||a||s){let o="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(o+="specular-glossiness:"),i&&(o+="derivative-tangents:"),a&&(o+="vertex-colors:"),s&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=r.clone(),a&&(l.vertexColors=!0),s&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(r))),r=l}r.aoMap&&t.attributes.uv2===void 0&&t.attributes.uv!==void 0&&t.setAttribute("uv2",t.attributes.uv),e.material=r}getMaterialType(){return fy}loadMaterial(e){const t=this,r=this.json,i=this.extensions,a=r.materials[e];let s;const o={},l=a.extensions||{},c=[];if(l[Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const d=i[Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];s=d.getMaterialType(),c.push(d.extendParams(o,a,t))}else if(l[Fr.KHR_MATERIALS_UNLIT]){const d=i[Fr.KHR_MATERIALS_UNLIT];s=d.getMaterialType(),c.push(d.extendParams(o,a,t))}else{const d=a.pbrMetallicRoughness||{};if(o.color=new bn(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;o.color.fromArray(f),o.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(t.assignTexture(o,"map",d.baseColorTexture,Er)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(t.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),s=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}a.doubleSided===!0&&(o.side=uh);const u=a.alphaMode||SI.OPAQUE;if(u===SI.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===SI.MASK&&(o.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&s!==hc&&(c.push(t.assignTexture(o,"normalMap",a.normalTexture)),o.normalScale=new Wt(1,1),a.normalTexture.scale!==void 0)){const d=a.normalTexture.scale;o.normalScale.set(d,d)}return a.occlusionTexture!==void 0&&s!==hc&&(c.push(t.assignTexture(o,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&s!==hc&&(o.emissive=new bn().fromArray(a.emissiveFactor)),a.emissiveTexture!==void 0&&s!==hc&&c.push(t.assignTexture(o,"emissiveMap",a.emissiveTexture,Er)),Promise.all(c).then(function(){let d;return s===vD?d=i[Fr.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):d=new s(o),a.name&&(d.name=a.name),mp(d,a),t.associations.set(d,{materials:e}),a.extensions&&b1(i,d,a),d})}createUniqueName(e){const t=Zr.sanitizeNodeName(e||"");let r=t;for(let i=1;this.nodeNamesUsed[r];++i)r=t+"_"+i;return this.nodeNamesUsed[r]=!0,r}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function a(o){return r[Fr.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,t).then(function(l){return VG(l,o,t)})}const s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=_rt(c),d=i[u];if(d)s.push(d.promise);else{let f;c.extensions&&c.extensions[Fr.KHR_DRACO_MESH_COMPRESSION]?f=a(c):f=VG(new Hr,c,t),i[u]={primitive:c,promise:f},s.push(f)}}return Promise.all(s)}loadMesh(e){const t=this,r=this.json,i=this.extensions,a=r.meshes[e],s=a.primitives,o=[];for(let l=0,c=s.length;l<c;l++){const u=s[l].material===void 0?grt(this.cache):this.getDependency("material",s[l].material);o.push(u)}return o.push(t.loadGeometries(s)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,p=u.length;h<p;h++){const m=u[h],v=s[h];let g;const y=c[h];if(v.mode===zu.TRIANGLES||v.mode===zu.TRIANGLE_STRIP||v.mode===zu.TRIANGLE_FAN||v.mode===void 0)g=a.isSkinnedMesh===!0?new RA(m,y):new Ta(m,y),g.isSkinnedMesh===!0&&!g.geometry.attributes.skinWeight.normalized&&g.normalizeSkinWeights(),v.mode===zu.TRIANGLE_STRIP?g.geometry=$G(g.geometry,vXe):v.mode===zu.TRIANGLE_FAN&&(g.geometry=$G(g.geometry,gre));else if(v.mode===zu.LINES)g=new Sm(m,y);else if(v.mode===zu.LINE_STRIP)g=new dy(m,y);else if(v.mode===zu.LINE_LOOP)g=new $re(m,y);else if(v.mode===zu.POINTS)g=new vb(m,y);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(g.geometry.morphAttributes).length>0&&brt(g,a),g.name=t.createUniqueName(a.name||"mesh_"+e),mp(g,a),v.extensions&&b1(i,g,v),t.assignFinalMaterial(g),d.push(g)}for(let h=0,p=d.length;h<p;h++)t.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return d[0];const f=new fo;t.associations.set(f,{meshes:e});for(let h=0,p=d.length;h<p;h++)f.add(d[h]);return f})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Ca(Ss.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new ly(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),mp(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r={joints:t.joints};return t.inverseBindMatrices===void 0?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then(function(i){return r.inverseBindMatrices=i,r})}loadAnimation(e){const r=this.json.animations[e],i=[],a=[],s=[],o=[],l=[];for(let c=0,u=r.channels.length;c<u;c++){const d=r.channels[c],f=r.samplers[d.sampler],h=d.target,p=h.node!==void 0?h.node:h.id,m=r.parameters!==void 0?r.parameters[f.input]:f.input,v=r.parameters!==void 0?r.parameters[f.output]:f.output;i.push(this.getDependency("node",p)),a.push(this.getDependency("accessor",m)),s.push(this.getDependency("accessor",v)),o.push(f),l.push(h)}return Promise.all([Promise.all(i),Promise.all(a),Promise.all(s),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2],h=c[3],p=c[4],m=[];for(let g=0,y=u.length;g<y;g++){const b=u[g],_=d[g],x=f[g],S=h[g],T=p[g];if(b===void 0)continue;b.updateMatrix();let C;switch(of[T.path]){case of.weights:C=Ig;break;case of.rotation:C=Sd;break;case of.position:case of.scale:default:C=ph;break}const M=b.name?b.name:b.uuid,A=S.interpolation!==void 0?vrt[S.interpolation]:Tg,I=[];of[T.path]===of.weights?b.traverse(function(L){L.morphTargetInfluences&&I.push(L.name?L.name:L.uuid)}):I.push(M);let D=x.array;if(x.normalized){const L=yD(D.constructor),F=new Float32Array(D.length);for(let B=0,k=D.length;B<k;B++)F[B]=D[B]*L;D=F}for(let L=0,F=I.length;L<F;L++){const B=new C(I[L]+"."+of[T.path],_.array,D,A);S.interpolation==="CUBICSPLINE"&&(B.createInterpolant=function(H){const z=this instanceof Sd?mrt:qie;return new z(this.times,this.values,this.getValueSize()/3,H)},B.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(B)}}const v=r.name?r.name:"animation_"+e;return new Cm(v,void 0,m)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(a){const s=r._getNodeRef(r.meshCache,i.mesh,a);return i.weights!==void 0&&s.traverse(function(o){if(o.isMesh)for(let l=0,c=i.weights.length;l<c;l++)o.morphTargetInfluences[l]=i.weights[l]}),s})}loadNode(e){const t=this.json,r=this.extensions,i=this,a=t.nodes[e],s=a.name?i.createUniqueName(a.name):"";return function(){const o=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),a.camera!==void 0&&o.push(i.getDependency("camera",a.camera).then(function(c){return i._getNodeRef(i.cameraCache,a.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),Promise.all(o)}().then(function(o){let l;if(a.isBone===!0?l=new Eg:o.length>1?l=new fo:o.length===1?l=o[0]:l=new Wi,l!==o[0])for(let c=0,u=o.length;c<u;c++)l.add(o[c]);if(a.name&&(l.userData.name=a.name,l.name=s),mp(l,a),a.extensions&&b1(r,l,a),a.matrix!==void 0){const c=new Un;c.fromArray(a.matrix),l.applyMatrix4(c)}else a.translation!==void 0&&l.position.fromArray(a.translation),a.rotation!==void 0&&l.quaternion.fromArray(a.rotation),a.scale!==void 0&&l.scale.fromArray(a.scale);return i.associations.has(l)||i.associations.set(l,{}),i.associations.get(l).nodes=e,l})}loadScene(e){const t=this.json,r=this.extensions,i=this.json.scenes[e],a=this,s=new fo;i.name&&(s.name=a.createUniqueName(i.name)),mp(s,i),i.extensions&&b1(r,s,i);const o=i.nodes||[],l=[];for(let c=0,u=o.length;c<u;c++)l.push(Kie(o[c],s,t,a));return Promise.all(l).then(function(){const c=u=>{const d=new Map;for(const[f,h]of a.associations)(f instanceof ya||f instanceof as)&&d.set(f,h);return u.traverse(f=>{const h=a.associations.get(f);h!=null&&d.set(f,h)}),d};return a.associations=c(s),s})}}function Kie(n,e,t,r){const i=t.nodes[n];return r.getDependency("node",n).then(function(a){if(i.skin===void 0)return a;let s;return r.getDependency("skin",i.skin).then(function(o){s=o;const l=[];for(let c=0,u=s.joints.length;c<u;c++)l.push(r.getDependency("node",s.joints[c]));return Promise.all(l)}).then(function(o){return a.traverse(function(l){if(!l.isMesh)return;const c=[],u=[];for(let d=0,f=o.length;d<f;d++){const h=o[d];if(h){c.push(h);const p=new Un;s.inverseBindMatrices!==void 0&&p.fromArray(s.inverseBindMatrices.array,d*16),u.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[d])}l.bind(new uy(c,u),l.matrixWorld)}),a})}).then(function(a){e.add(a);const s=[];if(i.children){const o=i.children;for(let l=0,c=o.length;l<c;l++){const u=o[l];s.push(Kie(u,a,t,r))}}return Promise.all(s)})}function Srt(n,e,t){const r=e.attributes,i=new Bm;if(r.POSITION!==void 0){const o=t.json.accessors[r.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(i.set(new Xe(l[0],l[1],l[2]),new Xe(c[0],c[1],c[2])),o.normalized){const u=yD(B_[o.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const o=new Xe,l=new Xe;for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d.POSITION!==void 0){const f=t.json.accessors[d.POSITION],h=f.min,p=f.max;if(h!==void 0&&p!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),f.normalized){const m=yD(B_[f.componentType]);l.multiplyScalar(m)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}n.boundingBox=i;const s=new Fm;i.getCenter(s.center),s.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=s}function VG(n,e,t){const r=e.attributes,i=[];function a(s,o){return t.getDependency("accessor",s).then(function(l){n.setAttribute(o,l)})}for(const s in r){const o=gD[s]||s.toLowerCase();o in n.attributes||i.push(a(r[s],o))}if(e.indices!==void 0&&!n.index){const s=t.getDependency("accessor",e.indices).then(function(o){n.setIndex(o)});i.push(s)}return mp(n,e),Srt(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?yrt(n,e.targets,t):n})}function $G(n,e){let t=n.getIndex();if(t===null){const s=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)s.push(l);n.setIndex(s),t=n.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(e===gre)for(let s=1;s<=r;s++)i.push(t.getX(0)),i.push(t.getX(s)),i.push(t.getX(s+1));else for(let s=0;s<r;s++)s%2===0?(i.push(t.getX(s)),i.push(t.getX(s+1)),i.push(t.getX(s+2))):(i.push(t.getX(s+2)),i.push(t.getX(s+1)),i.push(t.getX(s)));i.length/3!==r&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=n.clone();return a.setIndex(i),a}const Crt=/^[og]\s*(.+)?/,Mrt=/^mtllib /,Trt=/^usemtl /,Art=/^usemap /,GG=/\s+/,WG=new Xe,CI=new Xe,qG=new Xe,KG=new Xe,nl=new Xe,US=new bn;function Ert(){const n={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,t){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=t!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:t!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,a){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const o={index:this.materials.length,name:i||"",mtllib:Array.isArray(a)&&a.length>0?a[a.length-1]:"",smooth:s!==void 0?s.smooth:this.smooth,groupStart:s!==void 0?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(l){const c={index:typeof l=="number"?l:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return c.clone=this.clone.bind(c),c}};return this.materials.push(o),o},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const a=this.currentMaterial();if(a&&a.groupEnd===-1&&(a.groupEnd=this.geometry.vertices.length/3,a.groupCount=a.groupEnd-a.groupStart,a.inherited=!1),i&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),a}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseNormalIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/3)*3},parseUVIndex:function(e,t){const r=parseInt(e,10);return(r>=0?r-1:r+t/2)*2},addVertex:function(e,t,r){const i=this.vertices,a=this.object.geometry.vertices;a.push(i[e+0],i[e+1],i[e+2]),a.push(i[t+0],i[t+1],i[t+2]),a.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addVertexLine:function(e){const t=this.vertices;this.object.geometry.vertices.push(t[e+0],t[e+1],t[e+2])},addNormal:function(e,t,r){const i=this.normals,a=this.object.geometry.normals;a.push(i[e+0],i[e+1],i[e+2]),a.push(i[t+0],i[t+1],i[t+2]),a.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,t,r){const i=this.vertices,a=this.object.geometry.normals;WG.fromArray(i,e),CI.fromArray(i,t),qG.fromArray(i,r),nl.subVectors(qG,CI),KG.subVectors(WG,CI),nl.cross(KG),nl.normalize(),a.push(nl.x,nl.y,nl.z),a.push(nl.x,nl.y,nl.z),a.push(nl.x,nl.y,nl.z)},addColor:function(e,t,r){const i=this.colors,a=this.object.geometry.colors;i[e]!==void 0&&a.push(i[e+0],i[e+1],i[e+2]),i[t]!==void 0&&a.push(i[t+0],i[t+1],i[t+2]),i[r]!==void 0&&a.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,t,r){const i=this.uvs,a=this.object.geometry.uvs;a.push(i[e+0],i[e+1]),a.push(i[t+0],i[t+1]),a.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const t=this.uvs;this.object.geometry.uvs.push(t[e+0],t[e+1])},addFace:function(e,t,r,i,a,s,o,l,c){const u=this.vertices.length;let d=this.parseVertexIndex(e,u),f=this.parseVertexIndex(t,u),h=this.parseVertexIndex(r,u);if(this.addVertex(d,f,h),this.addColor(d,f,h),o!==void 0&&o!==""){const p=this.normals.length;d=this.parseNormalIndex(o,p),f=this.parseNormalIndex(l,p),h=this.parseNormalIndex(c,p),this.addNormal(d,f,h)}else this.addFaceNormal(d,f,h);if(i!==void 0&&i!==""){const p=this.uvs.length;d=this.parseUVIndex(i,p),f=this.parseUVIndex(a,p),h=this.parseUVIndex(s,p),this.addUV(d,f,h),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const t=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const a=this.parseVertexIndex(e[r],t);this.addVertexPoint(a),this.addColor(a)}},addLineGeometry:function(e,t){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let a=0,s=e.length;a<s;a++)this.addVertexLine(this.parseVertexIndex(e[a],r));for(let a=0,s=t.length;a<s;a++)this.addUVLine(this.parseUVIndex(t[a],i))}};return n.startObject("",!1),n}class Irt extends ls{constructor(e){super(e),this.materials=null}load(e,t,r,i){const a=this,s=new Is(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const t=new Ert;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i=[];for(let o=0,l=r.length;o<l;o++){const c=r[o].trimStart();if(c.length===0)continue;const u=c.charAt(0);if(u!=="#")if(u==="v"){const d=c.split(GG);switch(d[0]){case"v":t.vertices.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3])),d.length>=7?(US.setRGB(parseFloat(d[4]),parseFloat(d[5]),parseFloat(d[6])).convertSRGBToLinear(),t.colors.push(US.r,US.g,US.b)):t.colors.push(void 0,void 0,void 0);break;case"vn":t.normals.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));break;case"vt":t.uvs.push(parseFloat(d[1]),parseFloat(d[2]));break}}else if(u==="f"){const f=c.slice(1).trim().split(GG),h=[];for(let m=0,v=f.length;m<v;m++){const g=f[m];if(g.length>0){const y=g.split("/");h.push(y)}}const p=h[0];for(let m=1,v=h.length-1;m<v;m++){const g=h[m],y=h[m+1];t.addFace(p[0],g[0],y[0],p[1],g[1],y[1],p[2],g[2],y[2])}}else if(u==="l"){const d=c.substring(1).trim().split(" ");let f=[];const h=[];if(c.indexOf("/")===-1)f=d;else for(let p=0,m=d.length;p<m;p++){const v=d[p].split("/");v[0]!==""&&f.push(v[0]),v[1]!==""&&h.push(v[1])}t.addLineGeometry(f,h)}else if(u==="p"){const f=c.slice(1).trim().split(" ");t.addPointGeometry(f)}else if((i=Crt.exec(c))!==null){const d=(" "+i[0].slice(1).trim()).slice(1);t.startObject(d)}else if(Trt.test(c))t.object.startMaterial(c.substring(7).trim(),t.materialLibraries);else if(Mrt.test(c))t.materialLibraries.push(c.substring(7).trim());else if(Art.test(c))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(u==="s"){if(i=c.split(" "),i.length>1){const f=i[1].trim().toLowerCase();t.object.smooth=f!=="0"&&f!=="off"}else t.object.smooth=!0;const d=t.object.currentMaterial();d&&(d.smooth=t.object.smooth)}else{if(c==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+c+'"')}}t.finalize();const a=new fo;if(a.materialLibraries=[].concat(t.materialLibraries),!(t.objects.length===1&&t.objects[0].geometry.vertices.length===0)===!0)for(let o=0,l=t.objects.length;o<l;o++){const c=t.objects[o],u=c.geometry,d=c.materials,f=u.type==="Line",h=u.type==="Points";let p=!1;if(u.vertices.length===0)continue;const m=new Hr;m.setAttribute("position",new En(u.vertices,3)),u.normals.length>0&&m.setAttribute("normal",new En(u.normals,3)),u.colors.length>0&&(p=!0,m.setAttribute("color",new En(u.colors,3))),u.hasUVIndices===!0&&m.setAttribute("uv",new En(u.uvs,2));const v=[];for(let y=0,b=d.length;y<b;y++){const _=d[y],x=_.name+"_"+_.smooth+"_"+p;let S=t.materials[x];if(this.materials!==null){if(S=this.materials.create(_.name),f&&S&&!(S instanceof bc)){const T=new bc;ya.prototype.copy.call(T,S),T.color.copy(S.color),S=T}else if(h&&S&&!(S instanceof Hp)){const T=new Hp({size:10,sizeAttenuation:!1});ya.prototype.copy.call(T,S),T.color.copy(S.color),T.map=S.map,S=T}}S===void 0&&(f?S=new bc:h?S=new Hp({size:1,sizeAttenuation:!1}):S=new fd,S.name=_.name,S.flatShading=!_.smooth,S.vertexColors=p,t.materials[x]=S),v.push(S)}let g;if(v.length>1){for(let y=0,b=d.length;y<b;y++){const _=d[y];m.addGroup(_.groupStart,_.groupCount,y)}f?g=new Sm(m,v):h?g=new vb(m,v):g=new Ta(m,v)}else f?g=new Sm(m,v[0]):h?g=new vb(m,v[0]):g=new Ta(m,v[0]);g.name=c.name,a.add(g)}else if(t.vertices.length>0){const o=new Hp({size:1,sizeAttenuation:!1}),l=new Hr;l.setAttribute("position",new En(t.vertices,3)),t.colors.length>0&&t.colors[0]!==void 0&&(l.setAttribute("color",new En(t.colors,3)),o.vertexColors=!0);const c=new vb(l,o);a.add(c)}return a}}class Rrt extends Dtt{constructor(e){super(e)}parse(e,t){const r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},i=542327876,a=131072,s=512,o=1024,l=2048,c=4096,u=8192,d=16384,f=32768;function h(Q){return Q.charCodeAt(0)+(Q.charCodeAt(1)<<8)+(Q.charCodeAt(2)<<16)+(Q.charCodeAt(3)<<24)}function p(Q){return String.fromCharCode(Q&255,Q>>8&255,Q>>16&255,Q>>24&255)}function m(Q,ie,le,we){const Ae=le*we*4,ke=new Uint8Array(Q,ie,Ae),Fe=new Uint8Array(Ae);let q=0,ce=0;for(let re=0;re<we;re++)for(let Ne=0;Ne<le;Ne++){const Pe=ke[ce];ce++;const $e=ke[ce];ce++;const Ue=ke[ce];ce++;const Ve=ke[ce];ce++,Fe[q]=Ue,q++,Fe[q]=$e,q++,Fe[q]=Pe,q++,Fe[q]=Ve,q++}return Fe}const v=h("DXT1"),g=h("DXT3"),y=h("DXT5"),b=h("ETC1"),_=31,x=0,S=1,T=2,C=3,M=4,A=7,I=21,D=22,L=23,F=24,B=25,k=26,H=28,z=new Int32Array(e,0,_);if(z[x]!==i)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),r;let O;const W=z[I];let j=!1;switch(W){case v:O=8,r.format=tC;break;case g:O=16,r.format=nC;break;case y:O=16,r.format=rC;break;case b:O=8,r.format=vre;break;default:if(z[D]===32&&z[L]&16711680&&z[F]&65280&&z[B]&255&&z[k]&4278190080)j=!0,O=64,r.format=_l;else return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",p(W)),r}r.mipmapCount=1,z[T]&a&&t!==!1&&(r.mipmapCount=Math.max(1,z[A]));const ee=z[H];if(r.isCubemap=!!(ee&s),r.isCubemap&&(!(ee&o)||!(ee&l)||!(ee&c)||!(ee&u)||!(ee&d)||!(ee&f)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),r;r.width=z[M],r.height=z[C];let te=z[S]+4;const J=r.isCubemap?6:1;for(let Q=0;Q<J;Q++){let ie=r.width,le=r.height;for(let we=0;we<r.mipmapCount;we++){let Ae,ke;j?(Ae=m(e,te,ie,le),ke=Ae.length):(ke=Math.max(4,ie)/4*Math.max(4,le)/4*O,Ae=new Uint8Array(e,te,ke));const Fe={data:Ae,width:ie,height:le};r.mipmaps.push(Fe),te+=ke,ie=Math.max(ie>>1,1),le=Math.max(le>>1,1)}}return r}}class Prt{constructor(e,t,r){const i=this;let a=!1,s=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){o++,a===!1&&i.onStart!==void 0&&i.onStart(u,s,o),a=!0},this.itemEnd=function(u){s++,i.onProgress!==void 0&&i.onProgress(u,s,o),s===o&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],p=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const HS=new bn;class Drt extends ls{constructor(e){super(e),this.propertyNameMapping={}}load(e,t,r,i){const a=this,s=new Is(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}setPropertyNameMapping(e){this.propertyNameMapping=e}parse(e){function t(h){const p=/^ply([\s\S]*)end_header(\r\n|\r|\n)/;let m="",v=0;const g=p.exec(h);g!==null&&(m=g[1],v=new Blob([g[0]]).size);const y={comments:[],elements:[],headerLength:v,objInfo:""},b=m.split(/\r\n|\r|\n/);let _;function x(S,T){const C={type:S[0]};return C.type==="list"?(C.name=S[3],C.countType=S[1],C.itemType=S[2]):C.name=S[1],C.name in T&&(C.name=T[C.name]),C}for(let S=0;S<b.length;S++){let T=b[S];if(T=T.trim(),T==="")continue;const C=T.split(/\s+/),M=C.shift();switch(T=C.join(" "),M){case"format":y.format=C[0],y.version=C[1];break;case"comment":y.comments.push(T);break;case"element":_!==void 0&&y.elements.push(_),_={},_.name=C[0],_.count=parseInt(C[1]),_.properties=[];break;case"property":_.properties.push(x(C,f.propertyNameMapping));break;case"obj_info":y.objInfo=T;break;default:console.log("unhandled",M,C)}}return _!==void 0&&y.elements.push(_),y}function r(h,p){switch(p){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(h);case"float":case"double":case"float32":case"float64":return parseFloat(h)}}function i(h,p){const m=p.split(/\s+/),v={};for(let g=0;g<h.length;g++)if(h[g].type==="list"){const y=[],b=r(m.shift(),h[g].countType);for(let _=0;_<b;_++)y.push(r(m.shift(),h[g].itemType));v[h[g].name]=y}else v[h[g].name]=r(m.shift(),h[g].type);return v}function a(h,p){const m={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]};let v;const g=/end_header\s([\s\S]*)$/;let y="";(v=g.exec(h))!==null&&(y=v[1]);const b=y.split(/\r\n|\r|\n/);let _=0,x=0;for(let S=0;S<b.length;S++){let T=b[S];if(T=T.trim(),T==="")continue;x>=p.elements[_].count&&(_++,x=0);const C=i(p.elements[_].properties,T);o(m,p.elements[_].name,C),x++}return s(m)}function s(h){let p=new Hr;return h.indices.length>0&&p.setIndex(h.indices),p.setAttribute("position",new En(h.vertices,3)),h.normals.length>0&&p.setAttribute("normal",new En(h.normals,3)),h.uvs.length>0&&p.setAttribute("uv",new En(h.uvs,2)),h.colors.length>0&&p.setAttribute("color",new En(h.colors,3)),h.faceVertexUvs.length>0&&(p=p.toNonIndexed(),p.setAttribute("uv",new En(h.faceVertexUvs,2))),p.computeBoundingSphere(),p}function o(h,p,m){function v(D){for(let L=0,F=D.length;L<F;L++){const B=D[L];if(B in m)return B}return null}const g=v(["x","px","posx"])||"x",y=v(["y","py","posy"])||"y",b=v(["z","pz","posz"])||"z",_=v(["nx","normalx"]),x=v(["ny","normaly"]),S=v(["nz","normalz"]),T=v(["s","u","texture_u","tx"]),C=v(["t","v","texture_v","ty"]),M=v(["red","diffuse_red","r","diffuse_r"]),A=v(["green","diffuse_green","g","diffuse_g"]),I=v(["blue","diffuse_blue","b","diffuse_b"]);if(p==="vertex")h.vertices.push(m[g],m[y],m[b]),_!==null&&x!==null&&S!==null&&h.normals.push(m[_],m[x],m[S]),T!==null&&C!==null&&h.uvs.push(m[T],m[C]),M!==null&&A!==null&&I!==null&&(HS.setRGB(m[M]/255,m[A]/255,m[I]/255).convertSRGBToLinear(),h.colors.push(HS.r,HS.g,HS.b));else if(p==="face"){const D=m.vertex_indices||m.vertex_index,L=m.texcoord;D.length===3?(h.indices.push(D[0],D[1],D[2]),L&&L.length===6&&(h.faceVertexUvs.push(L[0],L[1]),h.faceVertexUvs.push(L[2],L[3]),h.faceVertexUvs.push(L[4],L[5]))):D.length===4&&(h.indices.push(D[0],D[1],D[3]),h.indices.push(D[1],D[2],D[3]))}}function l(h,p,m,v){switch(m){case"int8":case"char":return[h.getInt8(p),1];case"uint8":case"uchar":return[h.getUint8(p),1];case"int16":case"short":return[h.getInt16(p,v),2];case"uint16":case"ushort":return[h.getUint16(p,v),2];case"int32":case"int":return[h.getInt32(p,v),4];case"uint32":case"uint":return[h.getUint32(p,v),4];case"float32":case"float":return[h.getFloat32(p,v),4];case"float64":case"double":return[h.getFloat64(p,v),8]}}function c(h,p,m,v){const g={};let y,b=0;for(let _=0;_<m.length;_++)if(m[_].type==="list"){const x=[];y=l(h,p+b,m[_].countType,v);const S=y[0];b+=y[1];for(let T=0;T<S;T++)y=l(h,p+b,m[_].itemType,v),x.push(y[0]),b+=y[1];g[m[_].name]=x}else y=l(h,p+b,m[_].type,v),g[m[_].name]=y[0],b+=y[1];return[g,b]}function u(h,p){const m={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},v=p.format==="binary_little_endian",g=new DataView(h,p.headerLength);let y,b=0;for(let _=0;_<p.elements.length;_++)for(let x=0;x<p.elements[_].count;x++){y=c(g,b,p.elements[_].properties,v),b+=y[1];const S=y[0];o(m,p.elements[_].name,S)}return s(m)}let d;const f=this;if(e instanceof ArrayBuffer){const h=As.decodeText(new Uint8Array(e)),p=t(h);d=p.format==="ascii"?a(h,p):u(e,p)}else d=a(e,t(e));return d}}class krt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=new Is(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(o){try{t(a.parse(o))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){function t(c){const u=new DataView(c),d=32/8*3+32/8*3*3+16/8,f=u.getUint32(80,!0);if(80+32/8+f*d===u.byteLength)return!0;const p=[115,111,108,105,100];for(let m=0;m<5;m++)if(r(p,u,m))return!1;return!0}function r(c,u,d){for(let f=0,h=c.length;f<h;f++)if(c[f]!==u.getUint8(d+f))return!1;return!0}function i(c){const u=new DataView(c),d=u.getUint32(80,!0);let f,h,p,m=!1,v,g,y,b,_;for(let A=0;A<80-10;A++)u.getUint32(A,!1)==1129270351&&u.getUint8(A+4)==82&&u.getUint8(A+5)==61&&(m=!0,v=new Float32Array(d*3*3),g=u.getUint8(A+6)/255,y=u.getUint8(A+7)/255,b=u.getUint8(A+8)/255,_=u.getUint8(A+9)/255);const x=84,S=12*4+2,T=new Hr,C=new Float32Array(d*3*3),M=new Float32Array(d*3*3);for(let A=0;A<d;A++){const I=x+A*S,D=u.getFloat32(I,!0),L=u.getFloat32(I+4,!0),F=u.getFloat32(I+8,!0);if(m){const B=u.getUint16(I+48,!0);B&32768?(f=g,h=y,p=b):(f=(B&31)/31,h=(B>>5&31)/31,p=(B>>10&31)/31)}for(let B=1;B<=3;B++){const k=I+B*12,H=A*3*3+(B-1)*3;C[H]=u.getFloat32(k,!0),C[H+1]=u.getFloat32(k+4,!0),C[H+2]=u.getFloat32(k+8,!0),M[H]=D,M[H+1]=L,M[H+2]=F,m&&(v[H]=f,v[H+1]=h,v[H+2]=p)}}return T.setAttribute("position",new ea(C,3)),T.setAttribute("normal",new ea(M,3)),m&&(T.setAttribute("color",new ea(v,3)),T.hasColors=!0,T.alpha=_),T}function a(c){const u=new Hr,d=/solid([\s\S]*?)endsolid/g,f=/facet([\s\S]*?)endfacet/g;let h=0;const p=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,m=new RegExp("vertex"+p+p+p,"g"),v=new RegExp("normal"+p+p+p,"g"),g=[],y=[],b=new Xe;let _,x=0,S=0,T=0;for(;(_=d.exec(c))!==null;){S=T;const C=_[0];for(;(_=f.exec(C))!==null;){let I=0,D=0;const L=_[0];for(;(_=v.exec(L))!==null;)b.x=parseFloat(_[1]),b.y=parseFloat(_[2]),b.z=parseFloat(_[3]),D++;for(;(_=m.exec(L))!==null;)g.push(parseFloat(_[1]),parseFloat(_[2]),parseFloat(_[3])),y.push(b.x,b.y,b.z),I++,T++;D!==1&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+h),I!==3&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+h),h++}const M=S,A=T-S;u.addGroup(M,A,x),x++}return u.setAttribute("position",new En(g,3)),u.setAttribute("normal",new En(y,3)),u}function s(c){return typeof c!="string"?As.decodeText(new Uint8Array(c)):c}function o(c){if(typeof c=="string"){const u=new Uint8Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d)&255;return u.buffer||u}else return c}const l=o(e);return t(l)?i(l):a(s(e))}}class Lrt extends ls{constructor(e){super(e)}load(e,t,r,i){const a=this,s=this.path===""?As.extractUrlBase(e):this.path,o=new Is(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{t(a.parse(l,s))}catch(c){i?i(c):console.error(c),a.manager.itemError(e)}},r,i)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,t){const r=e.split(`
`);let i={};const a=/\s+/,s={};for(let l=0;l<r.length;l++){let c=r[l];if(c=c.trim(),c.length===0||c.charAt(0)==="#")continue;const u=c.indexOf(" ");let d=u>=0?c.substring(0,u):c;d=d.toLowerCase();let f=u>=0?c.substring(u+1):"";if(f=f.trim(),d==="newmtl")i={name:f},s[f]=i;else if(d==="ka"||d==="kd"||d==="ks"||d==="ke"){const h=f.split(a,3);i[d]=[parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2])]}else i[d]=f}const o=new Nrt(this.resourcePath||t,this.materialOptions);return o.setCrossOrigin(this.crossOrigin),o.setManager(this.manager),o.setMaterials(s),o}}class Nrt{constructor(e="",t={}){this.baseUrl=e,this.options=t,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:ch,this.wrap=this.options.wrap!==void 0?this.options.wrap:uo}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const t={};for(const r in e){const i=e[r],a={};t[r]=a;for(const s in i){let o=!0,l=i[s];const c=s.toLowerCase();switch(c){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(l=[l[0]/255,l[1]/255,l[2]/255]),this.options&&this.options.ignoreZeroRGBs&&l[0]===0&&l[1]===0&&l[2]===0&&(o=!1);break}o&&(a[c]=l)}}return t}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const t in this.materialsInfo)this.materialsArray[e]=this.create(t),this.nameLookup[t]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const t=this,r=this.materialsInfo[e],i={name:e,side:this.side};function a(o,l){return typeof l!="string"||l===""?"":/^https?:\/\//i.test(l)?l:o+l}function s(o,l){if(i[o])return;const c=t.getTextureParams(l,i),u=t.loadTexture(a(t.baseUrl,c.url));u.repeat.copy(c.scale),u.offset.copy(c.offset),u.wrapS=t.wrap,u.wrapT=t.wrap,(o==="map"||o==="emissiveMap")&&(u.encoding=Er),i[o]=u}for(const o in r){const l=r[o];let c;if(l!=="")switch(o.toLowerCase()){case"kd":i.color=new bn().fromArray(l).convertSRGBToLinear();break;case"ks":i.specular=new bn().fromArray(l).convertSRGBToLinear();break;case"ke":i.emissive=new bn().fromArray(l).convertSRGBToLinear();break;case"map_kd":s("map",l);break;case"map_ks":s("specularMap",l);break;case"map_ke":s("emissiveMap",l);break;case"norm":s("normalMap",l);break;case"map_bump":case"bump":s("bumpMap",l);break;case"map_d":s("alphaMap",l),i.transparent=!0;break;case"ns":i.shininess=parseFloat(l);break;case"d":c=parseFloat(l),c<1&&(i.opacity=c,i.transparent=!0);break;case"tr":c=parseFloat(l),this.options&&this.options.invertTrProperty&&(c=1-c),c>0&&(i.opacity=1-c,i.transparent=!0);break}}return this.materials[e]=new fd(i),this.materials[e]}getTextureParams(e,t){const r={scale:new Wt(1,1),offset:new Wt(0,0)},i=e.split(/\s+/);let a;return a=i.indexOf("-bm"),a>=0&&(t.bumpScale=parseFloat(i[a+1]),i.splice(a,2)),a=i.indexOf("-s"),a>=0&&(r.scale.set(parseFloat(i[a+1]),parseFloat(i[a+2])),i.splice(a,4)),a=i.indexOf("-o"),a>=0&&(r.offset.set(parseFloat(i[a+1]),parseFloat(i[a+2])),i.splice(a,4)),r.url=i.join(" ").trim(),r}loadTexture(e,t,r,i,a){const s=this.manager!==void 0?this.manager:aie;let o=s.getHandler(e);o===null&&(o=new Pg(s)),o.setCrossOrigin&&o.setCrossOrigin(this.crossOrigin);const l=o.load(e,r,i,a);return t!==void 0&&(l.mapping=t),l}}const MI=new WeakMap;class Ort extends ls{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const a=new Is(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,s=>{const o={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(s,o).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const a={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,a).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(MI.has(e)){const l=MI.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const a=this.workerNextTaskID++,s=e.byteLength,o=this._getWorker(a,s).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[a]={resolve:c,reject:u},i.postMessage({type:"decode",id:a,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return o.catch(()=>!0).then(()=>{i&&a&&this._releaseTask(i,a)}),MI.set(e,{key:r,promise:o}),o}_createGeometry(e){const t=new Hr;e.index&&t.setIndex(new ea(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],a=i.name,s=i.array,o=i.itemSize;t.setAttribute(a,new ea(s,o))}return t}_loadLibrary(e,t){const r=new Is(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,a)=>{r.load(e,i,void 0,a)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const a=Brt.toString(),s=["/* draco decoder */",i,"","/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([s]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(a){const s=a.data;switch(s.type){case"decode":i._callbacks[s.id].resolve(s);break;case"error":i._callbacks[s.id].reject(s);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+s.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,a){return i._taskLoad>a._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Brt(){let n,e;onmessage=function(s){const o=s.data;switch(o.type){case"init":n=o.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(n)});break;case"decode":const l=o.buffer,c=o.taskConfig;e.then(u=>{const d=u.draco,f=new d.Decoder,h=new d.DecoderBuffer;h.Init(new Int8Array(l),l.byteLength);try{const p=t(d,f,h,c),m=p.attributes.map(v=>v.array.buffer);p.index&&m.push(p.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:p},m)}catch(p){console.error(p),self.postMessage({type:"error",id:o.id,error:p.message})}finally{d.destroy(h),d.destroy(f)}});break}};function t(s,o,l,c){const u=c.attributeIDs,d=c.attributeTypes;let f,h;const p=o.GetEncodedGeometryType(l);if(p===s.TRIANGULAR_MESH)f=new s.Mesh,h=o.DecodeBufferToMesh(l,f);else if(p===s.POINT_CLOUD)f=new s.PointCloud,h=o.DecodeBufferToPointCloud(l,f);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!h.ok()||f.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+h.error_msg());const m={index:null,attributes:[]};for(const v in u){const g=self[d[v]];let y,b;if(c.useUniqueIDs)b=u[v],y=o.GetAttributeByUniqueId(f,b);else{if(b=o.GetAttributeId(f,s[u[v]]),b===-1)continue;y=o.GetAttribute(f,b)}m.attributes.push(i(s,o,f,v,g,y))}return p===s.TRIANGULAR_MESH&&(m.index=r(s,o,f)),s.destroy(f),m}function r(s,o,l){const u=l.num_faces()*3,d=u*4,f=s._malloc(d);o.GetTrianglesUInt32Array(l,d,f);const h=new Uint32Array(s.HEAPF32.buffer,f,u).slice();return s._free(f),{array:h,itemSize:1}}function i(s,o,l,c,u,d){const f=d.num_components(),p=l.num_points()*f,m=p*u.BYTES_PER_ELEMENT,v=a(s,u),g=s._malloc(m);o.GetAttributeDataArrayForAllPoints(l,d,v,m,g);const y=new u(s.HEAPF32.buffer,g,p).slice();return s._free(g),{name:c,array:y,itemSize:f}}function a(s,o){switch(o){case Float32Array:return s.DT_FLOAT32;case Int8Array:return s.DT_INT8;case Int16Array:return s.DT_INT16;case Int32Array:return s.DT_INT32;case Uint8Array:return s.DT_UINT8;case Uint16Array:return s.DT_UINT16;case Uint32Array:return s.DT_UINT32}}}const XM=new Bm,Hc=new Prt;Hc.addHandler(/\.dds$/i,new Rrt);Hc.addHandler(/\.tga$/i,new mD);function Frt(n){return XM.setFromObject(n),XM.getSize(new Xe)}function zrt(n){return XM.setFromObject(n),XM.getCenter(new Xe)}function Urt(n){const e=n.split(".");if(e.length<=1)return"";{let t=e.pop();return t=t.toLowerCase(),t}}function Hrt(n,e,t,r,i){let a;e?a=e:a=Urt(n),a==="glb"&&(a="gltf");let s={loader:null,getObject:null};switch(a){case"dae":s={loader:new Knt(Hc),getObject:o=>o.scene};break;case"fbx":s={loader:new Nnt(Hc)};break;case"gltf":s={loader:new Ynt(Hc),getObject:o=>{const l=o.scene;return o.animations&&(l.animations=o.animations),l}},$rt(t,s,i);break;case"obj":s={loader:new Irt(Hc)};break;case"ply":s={loader:new Drt(Hc),getObject:o=>(o.computeVertexNormals(),new Ta(o,r==="MeshStandardMaterial"?new fy:new hc({vertexColors:!0})))};break;case"stl":s={loader:new krt(Hc),getObject:o=>new Ta(o,new fd)};break;case"json":s={loader:new Vtt(Hc)};break}return s}function Vrt(){return new Lrt(Hc)}function $rt(n,e,t){if(n){const r=new Ort;r.setDecoderPath(t||"assets/draco/gltf/"),r.setDecoderConfig({type:"js"}),e.loader.setDRACOLoader(r)}}var Grt=(n,e)=>{const t=n.__vccOpts||n;for(const[r,i]of e)t[r]=i;return t};const Wrt=Re({name:"vue3dLoader"}),qrt=Re({...Wrt,props:{filePath:null,fileType:null,width:null,height:null,position:null,rotation:null,scale:null,lights:{default:()=>[{type:"AmbientLight",color:11184810},{type:"DirectionalLight",position:{x:1,y:1,z:1},color:16777215,intensity:.8}]},cameraPosition:{default:()=>({x:0,y:0,z:0})},cameraRotation:null,cameraUp:null,cameraLookAt:null,backgroundColor:{default:()=>16777215},backgroundAlpha:{default:()=>1},controlsOptions:null,crossOrigin:{default:"anonymous"},requestHeader:null,outputEncoding:{default:()=>"linear"},webGLRendererOptions:{default:()=>({})},mtlPath:{default:""},showFps:{type:Boolean,default:!1},textureImage:{default:""},clearScene:{type:Boolean,default:!1},parallelLoad:{type:Boolean,default:!1},labels:{default:()=>[]},autoPlay:{type:Boolean,default:!0},enableDraco:{type:Boolean,default:!1},dracoDir:null,intersectRecursive:{type:Boolean,default:!1},enableDamping:{type:Boolean},dampingFactor:null,verticalCtrl:{type:[Boolean,Object],default:!1},horizontalCtrl:{type:[Boolean,Object],default:!1},plyMaterial:{default:"MeshStandardMaterial"},enableAxesHelper:{type:Boolean,default:!1},axesHelperSize:{default:100},enableGridHelper:{type:Boolean,default:!1},minDistance:{default:0},maxDistance:{default:1/0},pointLightFollowCamera:{type:Boolean}},emits:["mousedown","mousemove","mouseup","click","dblclick","load","process","error"],setup(n,{expose:e,emit:t}){const r=n;let i=null;const a=new int,s=new Wt,o=new Ca(45,1,.1,1e5),l=new Wtt;let c=new X8,u=null,d={},f=[],h=null,p=0,m=null,v=null,g=null,y=null,b=null;const _=ne({width:r.width||0,height:r.height||0}),x=ne(0),S=ne(!1),T=ne(!1),C=ne(null),M=ne(null);pn(()=>{D()}),yr(()=>{I()}),dt([()=>r.autoPlay],()=>{qe()}),dt([()=>r.width,()=>r.height],()=>{_.value={width:r.width||0,height:r.height||0}}),dt([()=>r.enableAxesHelper,()=>r.axesHelperSize,()=>r.enableGridHelper],()=>{ft()}),dt([()=>r.minDistance,()=>r.maxDistance],()=>{Ce()}),dt([()=>r.filePath,()=>r.fileType,()=>r.mtlPath,()=>r.clearScene,()=>r.backgroundAlpha,()=>r.backgroundColor],G=>{(G[0]||G[1])&&A(),G[2]&&we(),G[3]&&Ve(),(G[4]||G[5])&&J()},{deep:!0}),dt([()=>r.rotation,()=>r.position,()=>r.scale,()=>r.lights],G=>{const ge=["rotation","position","scale"];G.forEach((pe,Ie)=>{Ie<3&&pe?je(ge[Ie],pe):ie()})},{deep:!0}),dt([()=>_],()=>{Q(!0),J()},{deep:!0}),dt([()=>r.controlsOptions],()=>{le()},{deep:!0}),dt([()=>r.cameraRotation,()=>r.cameraPosition],()=>{Q()},{deep:!0}),dt([()=>r.labels],()=>{$()},{deep:!0});function A(){I(),D()}function I(){p&&cancelAnimationFrame(p),u&&u.dispose(),d&&Object.keys(d).length>0&&(d.dispose(),d={});const G=C.value;G.removeEventListener("mousedown",k,!1),G.removeEventListener("mousemove",H,!1),G.removeEventListener("mouseup",z,!1),G.removeEventListener("click",O,!1),G.removeEventListener("dblclick",W,!1),window.removeEventListener("resize",B,!1),i=null,c&&c.clear()}function D(){const{filePath:G,outputEncoding:ge,webGLRendererOptions:pe,showFps:Ie,enableDamping:ye,dampingFactor:Me,labels:ht}=r;G&&typeof G=="object"&&(T.value=!0);const Ee=C.value;L(Ee),B();const nt=Object.assign({},{antialias:!0,alpha:!0},pe,{canvas:M.value});if(!u){u=new Hre(nt),u.shadowMap.enabled=!0;const gt=ge==="linear"?dh:Er;u.outputEncoding=gt}(!d||Object.keys(d).length<=0)&&(d=new ont(o,Ee),ye&&(d.enableDamping=!0,Me!=null&&(d.dampingFactor=Me))),Ce(),ft(),we(),ee(),F(!0),Ee.addEventListener("mousedown",k,!1),Ee.addEventListener("mouseup",z,!1),Ee.addEventListener("click",O,!1),Ee.addEventListener("dblclick",W,!1),window.addEventListener("resize",B,!1),Ie&&(m=bb(),Ee.appendChild(m.dom)),re(),ht&&ht.length>0&&$()}function L(G){const{width:ge,height:pe}=r;ge&&(G.style.width=`${ge}px`),pe&&(G.style.height=`${pe}px`)}function F(G){const ge=C.value;G?ge.addEventListener("mousemove",H,!1):ge.removeEventListener("mousemove",H,!1)}function B(){const{width:G,height:ge}=r;(!G||!ge)&&Yt(()=>{const pe=C.value;_.value={width:G||pe.offsetWidth,height:ge||pe.offsetHeight}})}function k(G){F(!1);const ge=j(G.clientX,G.clientY);t("mousedown",G,ge)}function H(G){const ge=j(G.clientX,G.clientY);t("mousemove",G,ge)}function z(G){const ge=j(G.clientX,G.clientY);t("mouseup",G,ge),F(!0)}function O(G){const ge=j(G.clientX,G.clientY);t("click",G,ge)}function W(G){const ge=j(G.clientX,G.clientY);t("dblclick",G,ge)}function j(G,ge){const pe=fe();if(!pe||!C.value)return null;const Ie=C.value.getBoundingClientRect();G-=Ie.left,ge-=Ie.top,s.x=G/_.value.width*2-1,s.y=-(ge/_.value.height)*2+1,a.setFromCamera(s,o);const ye=a.intersectObject(pe,r.intersectRecursive);return(ye&&ye.length)>0?ye[0]:null}function ee(){J(),Q(),ie(),le()}function te(){if(!i)return;const G=T.value?Oe(i):null,{position:ge,rotation:pe,scale:Ie}=r;ge&&(ge instanceof Array?G!=null?i.position.set(ge[G].x,ge[G].y,ge[G].z):i.position.set(0,0,0):i.position.set(ge.x,ge.y,ge.z)),pe&&(pe instanceof Array?G!=null?i.rotation.set(pe[G].x,pe[G].y,pe[G].z):i.rotation.set(0,0,0):i.rotation.set(pe.x,pe.y,pe.z)),Ie&&(Ie instanceof Array?G!=null?i.scale.set(Ie[G].x,Ie[G].y,Ie[G].z):i.scale.set(1,1,1):i.scale.set(Ie.x,Ie.y,Ie.z))}function J(){const{backgroundColor:G,backgroundAlpha:ge}=r;u.setSize(_.value.width,_.value.height),u.setPixelRatio(window.devicePixelRatio||1),u.setClearColor(new bn(G).getHex()),u.setClearAlpha(ge)}function Q(G){const{cameraPosition:ge,cameraRotation:pe,cameraUp:Ie,cameraLookAt:ye}=r;if(o.aspect=_.value.width/_.value.height,o.updateProjectionMatrix(),!G)if(!ye||!Ie){if(!i)return;const Me=Frt(i).length();o.position.set(ge.x,ge.y,ge.z),pe&&o.rotation.set(pe.x,pe.y,pe.z),ge.x===0&&ge.y===0&&ge.z===0&&(o.position.z=Me),o.lookAt(new Xe)}else o.position.set(ge.x,ge.y,ge.z),pe&&o.rotation.set(pe.x,pe.y,pe.z),o.up.set(Ie.x,Ie.y,Ie.z),o.lookAt(new Xe(ye.x,ye.y,ye.z))}function ie(){const{lights:G}=r;c.remove(...f),f=[],G.forEach(ge=>{if(!ge.type)return;const pe=ge.type.toLowerCase();let Ie=null;if(pe==="ambient"||pe==="ambientlight"){const ye=ge.color===0?ge.color:ge.color||4210752,Me=ge.intensity===0?ge.intensity:ge.intensity||1;Ie=new kA(ye,Me)}if(pe==="point"||pe==="pointlight"){const ye=ge.color===0?ge.color:ge.color||16777215,Me=ge.intensity===0?ge.intensity:ge.intensity||1,ht=ge.distance||0,Ee=ge.decay===0?ge.decay:ge.decay||1;Ie=new Mm(ye,Me,ht,Ee),ge.position&&Ie.position.copy(ge.position)}if(pe==="directional"||pe==="directionallight"){const ye=ge.color===0?ge.color:ge.color||16777215,Me=ge.intensity===0?ge.intensity:ge.intensity||1;Ie=new Sw(ye,Me),ge.position&&Ie.position.copy(ge.position),ge.target&&Ie.target.copy(ge.target)}if(pe==="hemisphere"||pe==="hemispherelight"){const ye=ge.skyColor===0?ge.skyColor:ge.skyColor||16777215,Me=ge.groundColor===0?ge.groundColor:ge.groundColor||16777215,ht=ge.intensity===0?ge.intensity:ge.intensity||1;Ie=new sie(ye,Me,ht),ge.position&&Ie.position.copy(ge.position)}Ie&&(f.push(Ie),c.add(Ie))})}function le(){const{controlsOptions:G}=r;G&&Object.assign(d,G)}function we(){const{filePath:G,parallelLoad:ge}=r;ge&&T?G.forEach((pe,Ie)=>{Ae(Ie)}):Ae()}function Ae(G){const{filePath:ge,fileType:pe,crossOrigin:Ie,requestHeader:ye,mtlPath:Me,enableDraco:ht,dracoDir:Ee,plyMaterial:_t}=r;if(!ge)return;const nt=G||x.value,gt=T.value?ge[nt]:ge,Lt=typeof pe=="string"?pe:pe?pe[nt]:"",At=Hrt(gt,Lt,ht,_t,Ee);h=At.loader;const an=At.getObject?At.getObject:q;if(i&&nt===0&&c.remove(i),ye&&h.setRequestHeader(ye),Ie&&h.setCrossOrigin(Ie),Me)if(!(typeof Me=="object"))Fe(gt,an,nt);else{if(!Me[nt]){ke(gt,an,nt);return}Fe(gt,an,nt)}else ke(gt,an,nt)}function ke(G,ge,pe){const{textureImage:Ie,parallelLoad:ye}=r;h.load(G,(...Me)=>{if(i=ge(...Me),ce(i,G),Ie){const Ee=typeof Ie=="string"?Ie:Ie[pe];Ee&&Ue(i,Ee)}t("load",c)},Me=>{ye||$e(Me);const ht=x.value+1;t("process",Me,ht)},Me=>{t("error",Me)})}function Fe(G,ge,pe){const{crossOrigin:Ie,requestHeader:ye,mtlPath:Me}=r,ht=Vrt();Ie&&ht.setCrossOrigin(Ie),ye&&ht.setRequestHeader(ye);const Ee=typeof Me=="string"?Me:Me[pe],_t=/^(.*\/)([^/]*)$/.exec(Ee),nt=_t[1],gt=_t[2];ht.setPath(nt).load(gt,Lt=>{Lt.preload(),h.setMaterials(Lt),ke(G,ge,pe)})}function q(G){return G}function ce(G,ge){const pe=zrt(i);S.value||(c.position.copy(pe.negate()),S.value=!0),i=G;let Ie=ge.split("/");Ie=Ie[Ie.length-1],i.fileName=Ie,c.add(i),Q(),te(),qe()}function re(){p=requestAnimationFrame(re),Pe();const G=l.getDelta();v&&v instanceof yI&&v.update(G),v&&v instanceof Array&&v.forEach(ge=>{ge.update(G)}),d&&d.update(),Ne()}function Ne(){const{pointLightFollowCamera:G}=r;G&&at(),u.render(c,o)}function Pe(){const{showFps:G}=r;G&&m.update()}function $e(G){const{filePath:ge}=r;Math.floor(G.loaded/G.total*100)===100&&(T.value&&ge.length>x.value?Yt(()=>{if(x.value++,x.value===ge.length){x.value=0;return}Ae()}):x.value=0)}function Ue(G,ge){g||(g=new Pg),G.traverse(pe=>{pe.isMesh&&g.load(ge,Ie=>{pe.material.map=Ie,pe.material.needsUpdate=!0},()=>{},Ie=>{t("error",Ie)})})}function Ve(){c.clear()}function je(G,ge){const pe=fe();if(pe){if(T.value){pe.children.forEach(Ie=>{const ye=Oe(Ie),Me=G==="scale"?1:0;ge[ye]?Ie[G].set(ge[ye].x,ge[ye].y,ge[ye].z):Ie[G].set(Me,Me,Me)});return}pe[G].set(ge.x,ge.y,ge.z)}}function fe(){return T.value?c:i}function $(){const{labels:G}=r;if(!G||G.length<=0)return;X();const ge=T.value?c:i,pe=ye=>(g||(g=new Pg),g.load(ye)),Ie=(ye,Me)=>{const ht=me(ye,Me),Ee=new as(ht);return Ee.needsUpdate=!0,Ee};G.forEach(ye=>{const Me=ye.image?pe(ye.image):Ie(ye.text,ye.textStyle||{}),ht=new Z8({map:Me,color:ye.spriteMaterialColor||16777215}),Ee=new sC(ht);ye.scale?Ee.scale.set(ye.scale.x||1,ye.scale.y||1,ye.scale.z||0):Ee.scale.set(1,1,0),ye.position&&Ee.position.set(ye.position.x,ye.position.y,ye.position.z),ye.sid&&(Ee.sid=ye.sid),ge.add(Ee)})}function X(){const G=c.children;for(let ge=G.length-1;ge>=0;ge--){const pe=G[ge];pe&&(pe instanceof fo&&pe.children&&(c.children[ge].children=pe.children.map(Ie=>Ie instanceof sC?null:Ie).filter(Ie=>Ie)),pe instanceof sC&&c.remove(pe))}}function me(G,ge){const pe=(an,_n,lr,Ln,jr,Zn)=>{an.beginPath(),an.moveTo(_n+Zn,lr),an.lineTo(_n+Ln-Zn,lr),an.quadraticCurveTo(_n+Ln,lr,_n+Ln,lr+Zn),an.lineTo(_n+Ln,lr+jr-Zn),an.quadraticCurveTo(_n+Ln,lr+jr,_n+Ln-Zn,lr+jr),an.lineTo(_n+Zn,lr+jr),an.quadraticCurveTo(_n,lr+jr,_n,lr+jr-Zn),an.lineTo(_n,lr+Zn),an.quadraticCurveTo(_n,lr,_n+Zn,lr),an.closePath(),an.fill(),an.stroke()},Ie=ge.fontFamily||"Arial",ye=ge.fontSize===0||ge.fontSize?ge.fontSize:18,Me=ge.color||"#ffffff",ht=ge.fontWeight||"normal",Ee=ge.borderWidth===0||ge.borderWidth?ge.borderWidth:4,_t=ge.borderColor||"rgba(0,0,0,1)",nt=ge.borderRadius===0||ge.borderRadius?ge.borderRadius:4,gt=ge.backgroundColor||"rgba(255, 255, 255, 1)",Lt=document.createElement("canvas"),At=Lt.getContext("2d");if(At){At.font=`${ht} ${ye}px ${Ie}`;const _n=At.measureText(G).width;At.fillStyle=gt,At.strokeStyle=_t,At.lineWidth=Ee,pe(At,Ee/2,Ee/2,_n+Ee,ye*1.4+Ee,nt),At.fillStyle=Me,At.fillText(G,Ee,ye+Ee)}return Lt}function Oe(G){const{filePath:ge}=r;let pe;return ge instanceof Array&&(pe=ge.map((Ie,ye)=>{if(Ie.indexOf(G.fileName)>-1)return ye}).filter(Ie=>Ie!=null)[0]),pe}function qe(){const G=fe();if(G){if(T.value){pt(G);return}mt(G)}}function mt(G){const{autoPlay:ge}=r;v=new yI(G),G.animations&&G.animations.length>0&&G.animations.forEach(pe=>{if(pe){const Ie=v.clipAction(pe);ge?Ie.play():Ie.stop()}})}function pt(G){const{autoPlay:ge}=r;v=[],G.children.forEach((pe,Ie)=>{v.push(new yI(pe)),pe.animations&&pe.animations.length>0&&pe.animations.forEach(ye=>{if(ye){const Me=v[Ie].clipAction(ye);ge?Me.play():Me.stop()}})})}function Ce(){if(!d)return;const{verticalCtrl:G,horizontalCtrl:ge,minDistance:pe,maxDistance:Ie}=r;G&&typeof G=="boolean"&&(d.minAzimuthAngle=-2*Math.PI,d.maxAzimuthAngle=-2*Math.PI),G&&typeof G=="object"&&(d.minAzimuthAngle=G.min,d.maxAzimuthAngle=G.max),ge&&typeof ge=="boolean"&&(d.minPolarAngle=1,d.maxPolarAngle=1),ge&&typeof ge=="object"&&(d.minPolarAngle=ge.min,d.maxPolarAngle=ge.max),pe!=0&&typeof pe=="number"&&(d.minDistance=pe),Ie!=1/0&&typeof Ie=="number"&&(d.maxDistance=Ie)}function ft(){const{enableAxesHelper:G,enableGridHelper:ge,axesHelperSize:pe}=r;G?(y=new snt(pe),c.add(y)):y&&c.remove(y),ge?(b=new ant(2e3,100),c.add(b)):b&&c.remove(b)}function at(){const G=o.position.clone();c.children.forEach(ge=>{ge instanceof Mm&&ge.position.set(G.x,G.y,G.z)})}return e({camera:o,scene:c}),(G,ge)=>(V(),he("div",{ref_key:"containerElement",ref:C,class:"viewer-container"},[ve("canvas",{ref_key:"canvasElement",ref:M,class:"viewer-canvas"},null,512)],512))}});var YG=Grt(qrt,[["__scopeId","data-v-e92274c2"]]);const Krt=ve("h1",{class:"section-title"},"3D Model",-1),Yrt=ve("p",null,[dn(" Thanks to "),ve("a",{href:"https://github.com/king2088/vue-3d-loader",target:"_blank"},"vue-3d-loader"),dn(", we can visualize these 3D models here. It supports dae, fbx, gltf(glb), obj, ply, stl models. ")],-1),Xrt={class:"threed-container"},jrt=Re({__name:"Model3D",setup(n){return(e,t)=>{const r=Et("el-divider"),i=Et("el-row"),a=Et("el-col");return V(),he("div",null,[ue(r),ue(i,{justify:"center"},{default:be(()=>[Krt]),_:1}),ue(i,{justify:"center"},{default:be(()=>[ue(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[Yrt,ue(i,{justify:"space-evenly"},{default:be(()=>[ue(a,{xs:16,sm:10},{default:be(()=>[ve("div",Xrt,[ue(w(YG),{filePath:"./model3d/obj/male02.obj",mtlPath:"./model3d/obj/male02.mtl",outputEncoding:"sRGB",cameraPosition:{x:0,y:0,z:300},scale:{x:1,y:1,z:1},position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},enableDamping:!0,dampingFactor:.05,backgroundColor:"#f2f2f2"})])]),_:1}),ue(a,{xs:16,sm:10},{default:be(()=>[ue(w(YG),{filePath:"./model3d/ply/Lucy100k.ply",cameraPosition:{x:100,y:200,z:3e3},scale:{x:1,y:1,z:1},position:{x:100,y:100,z:100},rotation:{x:0,y:3,z:0},enableDamping:!0,dampingFactor:.05,backgroundColor:15658734})]),_:1})]),_:1})]),_:1})]),_:1})])}}});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const wN="171",O0={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},B0={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Zrt=0,XG=1,Qrt=2,Yie=1,Jrt=2,Ku=3,gu=0,go=1,gl=2,Gf=0,Wf=1,jG=2,ZG=3,QG=4,Xie=5,Cp=100,eit=101,tit=102,nit=103,rit=104,iit=200,ait=201,sit=202,oit=203,F_=204,z_=205,lit=206,cit=207,uit=208,dit=209,fit=210,hit=211,pit=212,mit=213,vit=214,bD=0,_D=1,wD=2,Lg=3,xD=4,SD=5,CD=6,MD=7,jie=0,git=1,yit=2,qf=0,bit=1,_it=2,wit=3,xit=4,Sit=5,Cit=6,Mit=7,Zie=300,Ng=301,Og=302,TD=303,AD=304,LA=306,ED=1e3,Vp=1001,ID=1002,Go=1003,Tit=1004,VS=1005,eu=1006,TI=1007,$p=1008,yu=1009,Qie=1010,Jie=1011,U_=1012,xN=1013,xl=1014,pc=1015,Sy=1016,SN=1017,CN=1018,Bg=1020,eae=35902,tae=1021,nae=1022,$s=1023,rae=1024,iae=1025,im=1026,Fg=1027,aae=1028,NA=1029,MN=1030,TN=1031,Xv=1033,uC=33776,dC=33777,fC=33778,hC=33779,RD=35840,PD=35841,DD=35842,kD=35843,LD=36196,ND=37492,OD=37496,BD=37808,FD=37809,zD=37810,UD=37811,HD=37812,VD=37813,$D=37814,GD=37815,WD=37816,qD=37817,KD=37818,YD=37819,XD=37820,jD=37821,pC=36492,ZD=36494,QD=36495,sae=36283,JD=36284,ek=36285,tk=36286,Ait=3200,Eit=3201,Iit=0,Rit=1,Tf="",fl="srgb",zg="srgb-linear",jM="linear",Ci="srgb",F0=7680,JG=519,Pit=512,Dit=513,kit=514,oae=515,Lit=516,Nit=517,Oit=518,Bit=519,eW=35044,Fit=35048,tW="300 es",cd=2e3,ZM=2001;class Hm{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,s=i.length;a<s;a++)i[a].call(this,e);e.target=null}}}const fs=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nW=1234567;const wb=Math.PI/180,H_=180/Math.PI;function Cy(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(fs[n&255]+fs[n>>8&255]+fs[n>>16&255]+fs[n>>24&255]+"-"+fs[e&255]+fs[e>>8&255]+"-"+fs[e>>16&15|64]+fs[e>>24&255]+"-"+fs[t&63|128]+fs[t>>8&255]+"-"+fs[t>>16&255]+fs[t>>24&255]+fs[r&255]+fs[r>>8&255]+fs[r>>16&255]+fs[r>>24&255]).toLowerCase()}function Mr(n,e,t){return Math.max(e,Math.min(t,n))}function AN(n,e){return(n%e+e)%e}function zit(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Uit(n,e,t){return n!==e?(t-n)/(e-n):0}function xb(n,e,t){return(1-t)*n+t*e}function Hit(n,e,t,r){return xb(n,e,1-Math.exp(-t*r))}function Vit(n,e=1){return e-Math.abs(AN(n,e*2)-e)}function $it(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function Git(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Wit(n,e){return n+Math.floor(Math.random()*(e-n+1))}function qit(n,e){return n+Math.random()*(e-n)}function Kit(n){return n*(.5-Math.random())}function Yit(n){n!==void 0&&(nW=n);let e=nW+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Xit(n){return n*wb}function jit(n){return n*H_}function Zit(n){return(n&n-1)===0&&n!==0}function Qit(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function Jit(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function eat(n,e,t,r,i){const a=Math.cos,s=Math.sin,o=a(t/2),l=s(t/2),c=a((e+r)/2),u=s((e+r)/2),d=a((e-r)/2),f=s((e-r)/2),h=a((r-e)/2),p=s((r-e)/2);switch(i){case"XYX":n.set(o*u,l*d,l*f,o*c);break;case"YZY":n.set(l*f,o*u,l*d,o*c);break;case"ZXZ":n.set(l*d,l*f,o*u,o*c);break;case"XZX":n.set(o*u,l*p,l*h,o*c);break;case"YXY":n.set(l*h,o*u,l*p,o*c);break;case"ZYZ":n.set(l*p,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function fv(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Os(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const lae={DEG2RAD:wb,RAD2DEG:H_,generateUUID:Cy,clamp:Mr,euclideanModulo:AN,mapLinear:zit,inverseLerp:Uit,lerp:xb,damp:Hit,pingpong:Vit,smoothstep:$it,smootherstep:Git,randInt:Wit,randFloat:qit,randFloatSpread:Kit,seededRandom:Yit,degToRad:Xit,radToDeg:jit,isPowerOfTwo:Zit,ceilPowerOfTwo:Qit,floorPowerOfTwo:Jit,setQuaternionFromProperEuler:eat,normalize:Os,denormalize:fv};class Vn{constructor(e=0,t=0){Vn.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Mr(this.x,e.x,t.x),this.y=Mr(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Mr(this.x,e,t),this.y=Mr(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,s=this.y-e.y;return this.x=a*r-s*i+e.x,this.y=a*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class cr{constructor(e,t,r,i,a,s,o,l,c){cr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,c)}set(e,t,r,i,a,s,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=t,u[4]=a,u[5]=l,u[6]=r,u[7]=s,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],p=r[8],m=i[0],v=i[3],g=i[6],y=i[1],b=i[4],_=i[7],x=i[2],S=i[5],T=i[8];return a[0]=s*m+o*y+l*x,a[3]=s*v+o*b+l*S,a[6]=s*g+o*_+l*T,a[1]=c*m+u*y+d*x,a[4]=c*v+u*b+d*S,a[7]=c*g+u*_+d*T,a[2]=f*m+h*y+p*x,a[5]=f*v+h*b+p*S,a[8]=f*g+h*_+p*T,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return t*s*u-t*o*c-r*a*u+r*o*l+i*a*c-i*s*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*s-o*c,f=o*l-u*a,h=c*a-s*l,p=t*d+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=d*m,e[1]=(i*c-u*r)*m,e[2]=(o*r-i*s)*m,e[3]=f*m,e[4]=(u*t-i*l)*m,e[5]=(i*a-o*t)*m,e[6]=h*m,e[7]=(r*l-c*t)*m,e[8]=(s*t-r*a)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,s,o){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*s+c*o)+s+e,-i*c,i*l,-i*(-c*s+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(AI.makeScale(e,t)),this}rotate(e){return this.premultiply(AI.makeRotation(-e)),this}translate(e,t){return this.premultiply(AI.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const AI=new cr;function cae(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function QM(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function tat(){const n=QM("canvas");return n.style.display="block",n}const rW={};function hv(n){n in rW||(rW[n]=!0,console.warn(n))}function nat(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}function rat(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function iat(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const iW=new cr().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),aW=new cr().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function aat(){const n={enabled:!0,workingColorSpace:zg,spaces:{},convert:function(i,a,s){return this.enabled===!1||a===s||!a||!s||(this.spaces[a].transfer===Ci&&(i.r=hd(i.r),i.g=hd(i.g),i.b=hd(i.b)),this.spaces[a].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Ci&&(i.r=jv(i.r),i.g=jv(i.g),i.b=jv(i.b))),i},fromWorkingColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},toWorkingColorSpace:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Tf?jM:this.spaces[i].transfer},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,s){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[zg]:{primaries:e,whitePoint:r,transfer:jM,toXYZ:iW,fromXYZ:aW,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:fl},outputColorSpaceConfig:{drawingBufferColorSpace:fl}},[fl]:{primaries:e,whitePoint:r,transfer:Ci,toXYZ:iW,fromXYZ:aW,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:fl}}}),n}const ti=aat();function hd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function jv(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let z0;class sat{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{z0===void 0&&(z0=QM("canvas")),z0.width=e.width,z0.height=e.height;const r=z0.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=z0}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=QM("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let s=0;s<a.length;s++)a[s]=hd(a[s]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(hd(t[r]/255)*255):t[r]=hd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oat=0;class uae{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oat++}),this.uuid=Cy(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let s=0,o=i.length;s<o;s++)i[s].isDataTexture?a.push(EI(i[s].image)):a.push(EI(i[s]))}else a=EI(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function EI(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?sat.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lat=0;class Ys extends Hm{constructor(e=Ys.DEFAULT_IMAGE,t=Ys.DEFAULT_MAPPING,r=Vp,i=Vp,a=eu,s=$p,o=$s,l=yu,c=Ys.DEFAULT_ANISOTROPY,u=Tf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lat++}),this.uuid=Cy(),this.name="",this.source=new uae(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=s,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Vn(0,0),this.repeat=new Vn(1,1),this.center=new Vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new cr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Zie)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ED:e.x=e.x-Math.floor(e.x);break;case Vp:e.x=e.x<0?0:1;break;case ID:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ED:e.y=e.y-Math.floor(e.y);break;case Vp:e.y=e.y<0?0:1;break;case ID:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ys.DEFAULT_IMAGE=null;Ys.DEFAULT_MAPPING=Zie;Ys.DEFAULT_ANISOTROPY=1;class $i{constructor(e=0,t=0,r=0,i=1){$i.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i+s[12]*a,this.y=s[1]*t+s[5]*r+s[9]*i+s[13]*a,this.z=s[2]*t+s[6]*r+s[10]*i+s[14]*a,this.w=s[3]*t+s[7]*r+s[11]*i+s[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],v=l[6],g=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+v)<.1&&Math.abs(c+h+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(h+1)/2,x=(g+1)/2,S=(u+f)/4,T=(d+m)/4,C=(p+v)/4;return b>_&&b>x?b<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(b),i=S/r,a=T/r):_>x?_<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(_),r=S/i,a=C/i):x<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(x),r=T/a,i=C/a),this.set(r,i,a,t),this}let y=Math.sqrt((v-p)*(v-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(y)<.001&&(y=1),this.x=(v-p)/y,this.y=(d-m)/y,this.z=(f-u)/y,this.w=Math.acos((c+h+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Mr(this.x,e.x,t.x),this.y=Mr(this.y,e.y,t.y),this.z=Mr(this.z,e.z,t.z),this.w=Mr(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Mr(this.x,e,t),this.y=Mr(this.y,e,t),this.z=Mr(this.z,e,t),this.w=Mr(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cat extends Hm{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $i(0,0,e,t),this.scissorTest=!1,this.viewport=new $i(0,0,e,t);const i={width:e,height:t,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:eu,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new Ys(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let o=0;o<s;o++)this.textures[o]=a.clone(),this.textures[o].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new uae(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class vh extends cat{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class dae extends Ys{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Go,this.minFilter=Go,this.wrapR=Vp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class uat extends Ys{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Go,this.minFilter=Go,this.wrapR=Vp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ji{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,s,o){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3];const f=a[s+0],h=a[s+1],p=a[s+2],m=a[s+3];if(o===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d;return}if(o===1){e[t+0]=f,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(d!==m||l!==f||c!==h||u!==p){let v=1-o;const g=l*f+c*h+u*p+d*m,y=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const x=Math.sqrt(b),S=Math.atan2(x,g*y);v=Math.sin(v*S)/x,o=Math.sin(o*S)/x}const _=o*y;if(l=l*v+f*_,c=c*v+h*_,u=u*v+p*_,d=d*v+m*_,v===1-o){const x=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=x,c*=x,u*=x,d*=x}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,a,s){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=a[s],f=a[s+1],h=a[s+2],p=a[s+3];return e[t]=o*p+u*d+l*h-c*f,e[t+1]=l*p+u*f+c*d-o*h,e[t+2]=c*p+u*h+o*f-l*d,e[t+3]=u*p-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,s=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),d=o(a/2),f=l(r/2),h=l(i/2),p=l(a/2);switch(s){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],s=t[1],o=t[5],l=t[9],c=t[2],u=t[6],d=t[10],f=r+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(a-c)*h,this._z=(s-i)*h}else if(r>o&&r>d){const h=2*Math.sqrt(1+r-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+s)/h,this._z=(a+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-r-d);this._w=(a-c)/h,this._x=(i+s)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-o);this._w=(s-i)/h,this._x=(a+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Mr(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,s=e._w,o=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+s*o+i*c-a*l,this._y=i*u+s*l+a*o-r*c,this._z=a*u+s*c+r*l-i*o,this._w=s*u-r*o-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,s=this._w;let o=s*e._w+r*e._x+i*e._y+a*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=s,this._x=r,this._y=i,this._z=a,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-t;return this._w=h*s+t*this._w,this._x=h*r+t*this._x,this._y=h*i+t*this._y,this._z=h*a+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),d=Math.sin((1-t)*u)/c,f=Math.sin(t*u)/c;return this._w=s*d+this._w*f,this._x=r*d+this._x*f,this._y=i*d+this._y*f,this._z=a*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class tt{constructor(e=0,t=0,r=0){tt.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(sW.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(sW.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,s=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*s,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*s,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*s,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,s=e.y,o=e.z,l=e.w,c=2*(s*i-o*r),u=2*(o*t-a*i),d=2*(a*r-s*t);return this.x=t+l*c+s*d-o*u,this.y=r+l*u+o*c-a*d,this.z=i+l*d+a*u-s*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Mr(this.x,e.x,t.x),this.y=Mr(this.y,e.y,t.y),this.z=Mr(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Mr(this.x,e,t),this.y=Mr(this.y,e,t),this.z=Mr(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Mr(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,s=t.x,o=t.y,l=t.z;return this.x=i*l-a*o,this.y=a*s-r*l,this.z=r*o-i*s,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return II.copy(this).projectOnVector(e),this.sub(II)}reflect(e){return this.sub(II.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(Mr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const II=new tt,sW=new ji;class tu{constructor(e=new tt(1/0,1/0,1/0),t=new tt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(jl.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(jl.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=jl.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let s=0,o=a.count;s<o;s++)e.isMesh===!0?e.getVertexPosition(s,jl):jl.fromBufferAttribute(a,s),jl.applyMatrix4(e.matrixWorld),this.expandByPoint(jl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),$S.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),$S.copy(r.boundingBox)),$S.applyMatrix4(e.matrixWorld),this.union($S)}const i=e.children;for(let a=0,s=i.length;a<s;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,jl),jl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(_1),GS.subVectors(this.max,_1),U0.subVectors(e.a,_1),H0.subVectors(e.b,_1),V0.subVectors(e.c,_1),lf.subVectors(H0,U0),cf.subVectors(V0,H0),ap.subVectors(U0,V0);let t=[0,-lf.z,lf.y,0,-cf.z,cf.y,0,-ap.z,ap.y,lf.z,0,-lf.x,cf.z,0,-cf.x,ap.z,0,-ap.x,-lf.y,lf.x,0,-cf.y,cf.x,0,-ap.y,ap.x,0];return!RI(t,U0,H0,V0,GS)||(t=[1,0,0,0,1,0,0,0,1],!RI(t,U0,H0,V0,GS))?!1:(WS.crossVectors(lf,cf),t=[WS.x,WS.y,WS.z],RI(t,U0,H0,V0,GS))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,jl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(jl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Uu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Uu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Uu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Uu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Uu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Uu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Uu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Uu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Uu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Uu=[new tt,new tt,new tt,new tt,new tt,new tt,new tt,new tt],jl=new tt,$S=new tu,U0=new tt,H0=new tt,V0=new tt,lf=new tt,cf=new tt,ap=new tt,_1=new tt,GS=new tt,WS=new tt,sp=new tt;function RI(n,e,t,r,i){for(let a=0,s=n.length-3;a<=s;a+=3){sp.fromArray(n,a);const o=i.x*Math.abs(sp.x)+i.y*Math.abs(sp.y)+i.z*Math.abs(sp.z),l=e.dot(sp),c=t.dot(sp),u=r.dot(sp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const dat=new tu,w1=new tt,PI=new tt;class EN{constructor(e=new tt,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):dat.setFromPoints(e).getCenter(r);let i=0;for(let a=0,s=e.length;a<s;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;w1.subVectors(e,this.center);const t=w1.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(w1,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(PI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(w1.copy(e.center).add(PI)),this.expandByPoint(w1.copy(e.center).sub(PI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Hu=new tt,DI=new tt,qS=new tt,uf=new tt,kI=new tt,KS=new tt,LI=new tt;let fae=class{constructor(e=new tt,t=new tt(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Hu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Hu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Hu.copy(this.origin).addScaledVector(this.direction,t),Hu.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){DI.copy(e).add(t).multiplyScalar(.5),qS.copy(t).sub(e).normalize(),uf.copy(this.origin).sub(DI);const a=e.distanceTo(t)*.5,s=-this.direction.dot(qS),o=uf.dot(this.direction),l=-uf.dot(qS),c=uf.lengthSq(),u=Math.abs(1-s*s);let d,f,h,p;if(u>0)if(d=s*l-o,f=s*o-l,p=a*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+s*f+2*o)+f*(s*d+f+2*l)+c}else f=a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f=-a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-s*a+o)),f=d>0?-a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-a,-l),a),h=f*(f+2*l)+c):(d=Math.max(0,-(s*a+o)),f=d>0?a:Math.min(Math.max(-a,-l),a),h=-d*d+f*(f+2*l)+c);else f=s>0?-a:a,d=Math.max(0,-(s*f+o)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(DI).addScaledVector(qS,f),h}intersectSphere(e,t){Hu.subVectors(e.center,this.origin);const r=Hu.dot(this.direction),i=Hu.dot(Hu)-r*r,a=e.radius*e.radius;if(i>a)return null;const s=Math.sqrt(a-i),o=r-s,l=r+s;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,s,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(a=(e.min.y-f.y)*u,s=(e.max.y-f.y)*u):(a=(e.max.y-f.y)*u,s=(e.min.y-f.y)*u),r>s||a>i||((a>r||isNaN(r))&&(r=a),(s<i||isNaN(i))&&(i=s),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Hu)!==null}intersectTriangle(e,t,r,i,a){kI.subVectors(t,e),KS.subVectors(r,e),LI.crossVectors(kI,KS);let s=this.direction.dot(LI),o;if(s>0){if(i)return null;o=1}else if(s<0)o=-1,s=-s;else return null;uf.subVectors(this.origin,e);const l=o*this.direction.dot(KS.crossVectors(uf,KS));if(l<0)return null;const c=o*this.direction.dot(kI.cross(uf));if(c<0||l+c>s)return null;const u=-o*uf.dot(LI);return u<0?null:this.at(u/s,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}};class ur{constructor(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v){ur.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v)}set(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v){const g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=i,g[1]=a,g[5]=s,g[9]=o,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=f,g[3]=h,g[7]=p,g[11]=m,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new ur().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/$0.setFromMatrixColumn(e,0).length(),a=1/$0.setFromMatrixColumn(e,1).length(),s=1/$0.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,s=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(a),d=Math.sin(a);if(e.order==="XYZ"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=h+p*c,t[5]=f-m*c,t[9]=-o*l,t[2]=m-f*c,t[6]=p+h*c,t[10]=s*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f+m*o,t[4]=p*o-h,t[8]=s*c,t[1]=s*d,t[5]=s*u,t[9]=-o,t[2]=h*o-p,t[6]=m+f*o,t[10]=s*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,p=c*u,m=c*d;t[0]=f-m*o,t[4]=-s*d,t[8]=p+h*o,t[1]=h+p*o,t[5]=s*u,t[9]=m-f*o,t[2]=-s*c,t[6]=o,t[10]=s*l}else if(e.order==="ZYX"){const f=s*u,h=s*d,p=o*u,m=o*d;t[0]=l*u,t[4]=p*c-h,t[8]=f*c+m,t[1]=l*d,t[5]=m*c+f,t[9]=h*c-p,t[2]=-c,t[6]=o*l,t[10]=s*l}else if(e.order==="YZX"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=m-f*d,t[8]=p*d+h,t[1]=d,t[5]=s*u,t[9]=-o*u,t[2]=-c*u,t[6]=h*d+p,t[10]=f-m*d}else if(e.order==="XZY"){const f=s*l,h=s*c,p=o*l,m=o*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=f*d+m,t[5]=s*u,t[9]=h*d-p,t[2]=p*d-h,t[6]=o*u,t[10]=m*d+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fat,e,hat)}lookAt(e,t,r){const i=this.elements;return Ro.subVectors(e,t),Ro.lengthSq()===0&&(Ro.z=1),Ro.normalize(),df.crossVectors(r,Ro),df.lengthSq()===0&&(Math.abs(r.z)===1?Ro.x+=1e-4:Ro.z+=1e-4,Ro.normalize(),df.crossVectors(r,Ro)),df.normalize(),YS.crossVectors(Ro,df),i[0]=df.x,i[4]=YS.x,i[8]=Ro.x,i[1]=df.y,i[5]=YS.y,i[9]=Ro.y,i[2]=df.z,i[6]=YS.z,i[10]=Ro.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,s=r[0],o=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],p=r[2],m=r[6],v=r[10],g=r[14],y=r[3],b=r[7],_=r[11],x=r[15],S=i[0],T=i[4],C=i[8],M=i[12],A=i[1],I=i[5],D=i[9],L=i[13],F=i[2],B=i[6],k=i[10],H=i[14],z=i[3],O=i[7],W=i[11],j=i[15];return a[0]=s*S+o*A+l*F+c*z,a[4]=s*T+o*I+l*B+c*O,a[8]=s*C+o*D+l*k+c*W,a[12]=s*M+o*L+l*H+c*j,a[1]=u*S+d*A+f*F+h*z,a[5]=u*T+d*I+f*B+h*O,a[9]=u*C+d*D+f*k+h*W,a[13]=u*M+d*L+f*H+h*j,a[2]=p*S+m*A+v*F+g*z,a[6]=p*T+m*I+v*B+g*O,a[10]=p*C+m*D+v*k+g*W,a[14]=p*M+m*L+v*H+g*j,a[3]=y*S+b*A+_*F+x*z,a[7]=y*T+b*I+_*B+x*O,a[11]=y*C+b*D+_*k+x*W,a[15]=y*M+b*L+_*H+x*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],s=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],p=e[3],m=e[7],v=e[11],g=e[15];return p*(+a*l*d-i*c*d-a*o*f+r*c*f+i*o*h-r*l*h)+m*(+t*l*h-t*c*f+a*s*f-i*s*h+i*c*u-a*l*u)+v*(+t*c*d-t*o*h-a*s*d+r*s*h+a*o*u-r*c*u)+g*(-i*o*u-t*l*d+t*o*f+i*s*d-r*s*f+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],p=e[12],m=e[13],v=e[14],g=e[15],y=d*v*c-m*f*c+m*l*h-o*v*h-d*l*g+o*f*g,b=p*f*c-u*v*c-p*l*h+s*v*h+u*l*g-s*f*g,_=u*m*c-p*d*c+p*o*h-s*m*h-u*o*g+s*d*g,x=p*d*l-u*m*l-p*o*f+s*m*f+u*o*v-s*d*v,S=t*y+r*b+i*_+a*x;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/S;return e[0]=y*T,e[1]=(m*f*a-d*v*a-m*i*h+r*v*h+d*i*g-r*f*g)*T,e[2]=(o*v*a-m*l*a+m*i*c-r*v*c-o*i*g+r*l*g)*T,e[3]=(d*l*a-o*f*a-d*i*c+r*f*c+o*i*h-r*l*h)*T,e[4]=b*T,e[5]=(u*v*a-p*f*a+p*i*h-t*v*h-u*i*g+t*f*g)*T,e[6]=(p*l*a-s*v*a-p*i*c+t*v*c+s*i*g-t*l*g)*T,e[7]=(s*f*a-u*l*a+u*i*c-t*f*c-s*i*h+t*l*h)*T,e[8]=_*T,e[9]=(p*d*a-u*m*a-p*r*h+t*m*h+u*r*g-t*d*g)*T,e[10]=(s*m*a-p*o*a+p*r*c-t*m*c-s*r*g+t*o*g)*T,e[11]=(u*o*a-s*d*a-u*r*c+t*d*c+s*r*h-t*o*h)*T,e[12]=x*T,e[13]=(u*m*i-p*d*i+p*r*f-t*m*f-u*r*v+t*d*v)*T,e[14]=(p*o*i-s*m*i-p*r*l+t*m*l+s*r*v-t*o*v)*T,e[15]=(s*d*i-u*o*i+u*r*l-t*d*l-s*r*f+t*o*f)*T,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,s=e.x,o=e.y,l=e.z,c=a*s,u=a*o;return this.set(c*s+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*s,0,c*l-i*o,u*l+i*s,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,s){return this.set(1,r,a,0,e,1,s,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,s=t._y,o=t._z,l=t._w,c=a+a,u=s+s,d=o+o,f=a*c,h=a*u,p=a*d,m=s*u,v=s*d,g=o*d,y=l*c,b=l*u,_=l*d,x=r.x,S=r.y,T=r.z;return i[0]=(1-(m+g))*x,i[1]=(h+_)*x,i[2]=(p-b)*x,i[3]=0,i[4]=(h-_)*S,i[5]=(1-(f+g))*S,i[6]=(v+y)*S,i[7]=0,i[8]=(p+b)*T,i[9]=(v-y)*T,i[10]=(1-(f+m))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=$0.set(i[0],i[1],i[2]).length();const s=$0.set(i[4],i[5],i[6]).length(),o=$0.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Zl.copy(this);const c=1/a,u=1/s,d=1/o;return Zl.elements[0]*=c,Zl.elements[1]*=c,Zl.elements[2]*=c,Zl.elements[4]*=u,Zl.elements[5]*=u,Zl.elements[6]*=u,Zl.elements[8]*=d,Zl.elements[9]*=d,Zl.elements[10]*=d,t.setFromRotationMatrix(Zl),r.x=a,r.y=s,r.z=o,this}makePerspective(e,t,r,i,a,s,o=cd){const l=this.elements,c=2*a/(t-e),u=2*a/(r-i),d=(t+e)/(t-e),f=(r+i)/(r-i);let h,p;if(o===cd)h=-(s+a)/(s-a),p=-2*s*a/(s-a);else if(o===ZM)h=-s/(s-a),p=-s*a/(s-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,a,s,o=cd){const l=this.elements,c=1/(t-e),u=1/(r-i),d=1/(s-a),f=(t+e)*c,h=(r+i)*u;let p,m;if(o===cd)p=(s+a)*d,m=-2*d;else if(o===ZM)p=a*d,m=-1*d;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const $0=new tt,Zl=new ur,fat=new tt(0,0,0),hat=new tt(1,1,1),df=new tt,YS=new tt,Ro=new tt,oW=new ur,lW=new ji;class Td{constructor(e=0,t=0,r=0,i=Td.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],s=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(t){case"XYZ":this._y=Math.asin(Mr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Mr(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,a),this._z=0);break;case"ZXY":this._x=Math.asin(Mr(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-Mr(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(Mr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-Mr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,a)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return oW.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oW,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return lW.setFromEuler(this),this.setFromQuaternion(lW,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Td.DEFAULT_ORDER="XYZ";class hae{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let pat=0;const cW=new tt,G0=new ji,Vu=new ur,XS=new tt,x1=new tt,mat=new tt,vat=new ji,uW=new tt(1,0,0),dW=new tt(0,1,0),fW=new tt(0,0,1),hW={type:"added"},gat={type:"removed"},W0={type:"childadded",child:null},NI={type:"childremoved",child:null};class Aa extends Hm{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:pat++}),this.uuid=Cy(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Aa.DEFAULT_UP.clone();const e=new tt,t=new Td,r=new ji,i=new tt(1,1,1);function a(){r.setFromEuler(t,!1)}function s(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ur},normalMatrix:{value:new cr}}),this.matrix=new ur,this.matrixWorld=new ur,this.matrixAutoUpdate=Aa.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Aa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new hae,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return G0.setFromAxisAngle(e,t),this.quaternion.multiply(G0),this}rotateOnWorldAxis(e,t){return G0.setFromAxisAngle(e,t),this.quaternion.premultiply(G0),this}rotateX(e){return this.rotateOnAxis(uW,e)}rotateY(e){return this.rotateOnAxis(dW,e)}rotateZ(e){return this.rotateOnAxis(fW,e)}translateOnAxis(e,t){return cW.copy(e).applyQuaternion(this.quaternion),this.position.add(cW.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(uW,e)}translateY(e){return this.translateOnAxis(dW,e)}translateZ(e){return this.translateOnAxis(fW,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Vu.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?XS.copy(e):XS.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),x1.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vu.lookAt(x1,XS,this.up):Vu.lookAt(XS,x1,this.up),this.quaternion.setFromRotationMatrix(Vu),i&&(Vu.extractRotation(i.matrixWorld),G0.setFromRotationMatrix(Vu),this.quaternion.premultiply(G0.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(hW),W0.child=e,this.dispatchEvent(W0),W0.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(gat),NI.child=e,this.dispatchEvent(NI),NI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Vu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Vu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Vu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(hW),W0.child=e,this.dispatchEvent(W0),W0.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,t);if(s!==void 0)return s}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x1,e,mat),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x1,vat,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,s=i.length;a<s;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];a(e.shapes,d)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(a(e.materials,this.material[l]));i.material=o}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(a(e.animations,l))}}if(t){const o=s(e.geometries),l=s(e.materials),c=s(e.textures),u=s(e.images),d=s(e.shapes),f=s(e.skeletons),h=s(e.animations),p=s(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function s(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Aa.DEFAULT_UP=new tt(0,1,0);Aa.DEFAULT_MATRIX_AUTO_UPDATE=!0;Aa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ql=new tt,$u=new tt,OI=new tt,Gu=new tt,q0=new tt,K0=new tt,pW=new tt,BI=new tt,FI=new tt,zI=new tt,UI=new $i,HI=new $i,VI=new $i;class sc{constructor(e=new tt,t=new tt,r=new tt){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),Ql.subVectors(e,t),i.cross(Ql);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){Ql.subVectors(i,t),$u.subVectors(r,t),OI.subVectors(e,t);const s=Ql.dot(Ql),o=Ql.dot($u),l=Ql.dot(OI),c=$u.dot($u),u=$u.dot(OI),d=s*c-o*o;if(d===0)return a.set(0,0,0),null;const f=1/d,h=(c*l-o*u)*f,p=(s*u-o*l)*f;return a.set(1-h-p,p,h)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Gu)===null?!1:Gu.x>=0&&Gu.y>=0&&Gu.x+Gu.y<=1}static getInterpolation(e,t,r,i,a,s,o,l){return this.getBarycoord(e,t,r,i,Gu)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Gu.x),l.addScaledVector(s,Gu.y),l.addScaledVector(o,Gu.z),l)}static getInterpolatedAttribute(e,t,r,i,a,s){return UI.setScalar(0),HI.setScalar(0),VI.setScalar(0),UI.fromBufferAttribute(e,t),HI.fromBufferAttribute(e,r),VI.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(UI,a.x),s.addScaledVector(HI,a.y),s.addScaledVector(VI,a.z),s}static isFrontFacing(e,t,r,i){return Ql.subVectors(r,t),$u.subVectors(e,t),Ql.cross($u).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ql.subVectors(this.c,this.b),$u.subVectors(this.a,this.b),Ql.cross($u).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return sc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return sc.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return sc.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return sc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return sc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let s,o;q0.subVectors(i,r),K0.subVectors(a,r),BI.subVectors(e,r);const l=q0.dot(BI),c=K0.dot(BI);if(l<=0&&c<=0)return t.copy(r);FI.subVectors(e,i);const u=q0.dot(FI),d=K0.dot(FI);if(u>=0&&d<=u)return t.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return s=l/(l-u),t.copy(r).addScaledVector(q0,s);zI.subVectors(e,a);const h=q0.dot(zI),p=K0.dot(zI);if(p>=0&&h<=p)return t.copy(a);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return o=c/(c-p),t.copy(r).addScaledVector(K0,o);const v=u*p-h*d;if(v<=0&&d-u>=0&&h-p>=0)return pW.subVectors(a,i),o=(d-u)/(d-u+(h-p)),t.copy(i).addScaledVector(pW,o);const g=1/(v+m+f);return s=m*g,o=f*g,t.copy(r).addScaledVector(q0,s).addScaledVector(K0,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const pae={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ff={h:0,s:0,l:0},jS={h:0,s:0,l:0};function $I(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ni{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fl){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ti.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=ti.workingColorSpace){return this.r=e,this.g=t,this.b=r,ti.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=ti.workingColorSpace){if(e=AN(e,1),t=Mr(t,0,1),r=Mr(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,s=2*r-a;this.r=$I(s,a,e+1/3),this.g=$I(s,a,e),this.b=$I(s,a,e-1/3)}return ti.toWorkingColorSpace(this,i),this}setStyle(e,t=fl){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const s=i[1],o=i[2];switch(s){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],s=a.length;if(s===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(s===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=fl){const r=pae[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hd(e.r),this.g=hd(e.g),this.b=hd(e.b),this}copyLinearToSRGB(e){return this.r=jv(e.r),this.g=jv(e.g),this.b=jv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fl){return ti.fromWorkingColorSpace(hs.copy(this),e),Math.round(Mr(hs.r*255,0,255))*65536+Math.round(Mr(hs.g*255,0,255))*256+Math.round(Mr(hs.b*255,0,255))}getHexString(e=fl){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=ti.workingColorSpace){ti.fromWorkingColorSpace(hs.copy(this),t);const r=hs.r,i=hs.g,a=hs.b,s=Math.max(r,i,a),o=Math.min(r,i,a);let l,c;const u=(o+s)/2;if(o===s)l=0,c=0;else{const d=s-o;switch(c=u<=.5?d/(s+o):d/(2-s-o),s){case r:l=(i-a)/d+(i<a?6:0);break;case i:l=(a-r)/d+2;break;case a:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=ti.workingColorSpace){return ti.fromWorkingColorSpace(hs.copy(this),t),e.r=hs.r,e.g=hs.g,e.b=hs.b,e}getStyle(e=fl){ti.fromWorkingColorSpace(hs.copy(this),e);const t=hs.r,r=hs.g,i=hs.b;return e!==fl?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(ff),this.setHSL(ff.h+e,ff.s+t,ff.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(ff),e.getHSL(jS);const r=xb(ff.h,jS.h,t),i=xb(ff.s,jS.s,t),a=xb(ff.l,jS.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const hs=new ni;ni.NAMES=pae;let yat=0;class OA extends Hm{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:yat++}),this.uuid=Cy(),this.name="",this.type="Material",this.blending=Wf,this.side=gu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=F_,this.blendDst=z_,this.blendEquation=Cp,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ni(0,0,0),this.blendAlpha=0,this.depthFunc=Lg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=JG,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=F0,this.stencilZFail=F0,this.stencilZPass=F0,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Wf&&(r.blending=this.blending),this.side!==gu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==F_&&(r.blendSrc=this.blendSrc),this.blendDst!==z_&&(r.blendDst=this.blendDst),this.blendEquation!==Cp&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Lg&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==JG&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==F0&&(r.stencilFail=this.stencilFail),this.stencilZFail!==F0&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==F0&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const s=[];for(const o in a){const l=a[o];delete l.metadata,s.push(l)}return s}if(t){const a=i(e.textures),s=i(e.images);a.length>0&&(r.textures=a),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Tm extends OA{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ni(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Td,this.combine=jie,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const rd=bat();function bat(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),s=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,a[l]=c|u}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:s,offsetTable:o}}function _at(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Mr(n,-65504,65504),rd.floatView[0]=n;const e=rd.uint32View[0],t=e>>23&511;return rd.baseTable[t]+((e&8388607)>>rd.shiftTable[t])}function wat(n){const e=n>>10;return rd.uint32View[0]=rd.mantissaTable[rd.offsetTable[e]+(n&1023)]+rd.exponentTable[e],rd.floatView[0]}const V_={toHalfFloat:_at,fromHalfFloat:wat},pa=new tt,ZS=new Vn;class Il{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=eW,this.updateRanges=[],this.gpuType=pc,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)ZS.fromBufferAttribute(this,t),ZS.applyMatrix3(e),this.setXY(t,ZS.x,ZS.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)pa.fromBufferAttribute(this,t),pa.applyMatrix3(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)pa.fromBufferAttribute(this,t),pa.applyMatrix4(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)pa.fromBufferAttribute(this,t),pa.applyNormalMatrix(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)pa.fromBufferAttribute(this,t),pa.transformDirection(e),this.setXYZ(t,pa.x,pa.y,pa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=fv(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=Os(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=fv(t,this.array)),t}setX(e,t){return this.normalized&&(t=Os(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=fv(t,this.array)),t}setY(e,t){return this.normalized&&(t=Os(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=fv(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Os(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=fv(t,this.array)),t}setW(e,t){return this.normalized&&(t=Os(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Os(t,this.array),r=Os(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=Os(t,this.array),r=Os(r,this.array),i=Os(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=Os(t,this.array),r=Os(r,this.array),i=Os(i,this.array),a=Os(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==eW&&(e.usage=this.usage),e}}class mae extends Il{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class vae extends Il{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class Wo extends Il{constructor(e,t,r){super(new Float32Array(e),t,r)}}let xat=0;const rl=new ur,GI=new Aa,Y0=new tt,Po=new tu,S1=new tu,Na=new tt;class Ul extends Hm{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:xat++}),this.uuid=Cy(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(cae(e)?vae:mae)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new cr().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return rl.makeRotationFromQuaternion(e),this.applyMatrix4(rl),this}rotateX(e){return rl.makeRotationX(e),this.applyMatrix4(rl),this}rotateY(e){return rl.makeRotationY(e),this.applyMatrix4(rl),this}rotateZ(e){return rl.makeRotationZ(e),this.applyMatrix4(rl),this}translate(e,t,r){return rl.makeTranslation(e,t,r),this.applyMatrix4(rl),this}scale(e,t,r){return rl.makeScale(e,t,r),this.applyMatrix4(rl),this}lookAt(e){return GI.lookAt(e),GI.updateMatrix(),this.applyMatrix4(GI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Y0).negate(),this.translate(Y0.x,Y0.y,Y0.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new Wo(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new tu);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new tt(-1/0,-1/0,-1/0),new tt(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Po.setFromBufferAttribute(a),this.morphTargetsRelative?(Na.addVectors(this.boundingBox.min,Po.min),this.boundingBox.expandByPoint(Na),Na.addVectors(this.boundingBox.max,Po.max),this.boundingBox.expandByPoint(Na)):(this.boundingBox.expandByPoint(Po.min),this.boundingBox.expandByPoint(Po.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new EN);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new tt,1/0);return}if(e){const r=this.boundingSphere.center;if(Po.setFromBufferAttribute(e),t)for(let a=0,s=t.length;a<s;a++){const o=t[a];S1.setFromBufferAttribute(o),this.morphTargetsRelative?(Na.addVectors(Po.min,S1.min),Po.expandByPoint(Na),Na.addVectors(Po.max,S1.max),Po.expandByPoint(Na)):(Po.expandByPoint(S1.min),Po.expandByPoint(S1.max))}Po.getCenter(r);let i=0;for(let a=0,s=e.count;a<s;a++)Na.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Na));if(t)for(let a=0,s=t.length;a<s;a++){const o=t[a],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Na.fromBufferAttribute(o,c),l&&(Y0.fromBufferAttribute(e,c),Na.add(Y0)),i=Math.max(i,r.distanceToSquared(Na))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Il(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),o=[],l=[];for(let C=0;C<r.count;C++)o[C]=new tt,l[C]=new tt;const c=new tt,u=new tt,d=new tt,f=new Vn,h=new Vn,p=new Vn,m=new tt,v=new tt;function g(C,M,A){c.fromBufferAttribute(r,C),u.fromBufferAttribute(r,M),d.fromBufferAttribute(r,A),f.fromBufferAttribute(a,C),h.fromBufferAttribute(a,M),p.fromBufferAttribute(a,A),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const I=1/(h.x*p.y-p.x*h.y);isFinite(I)&&(m.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(I),v.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(I),o[C].add(m),o[M].add(m),o[A].add(m),l[C].add(v),l[M].add(v),l[A].add(v))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let C=0,M=y.length;C<M;++C){const A=y[C],I=A.start,D=A.count;for(let L=I,F=I+D;L<F;L+=3)g(e.getX(L+0),e.getX(L+1),e.getX(L+2))}const b=new tt,_=new tt,x=new tt,S=new tt;function T(C){x.fromBufferAttribute(i,C),S.copy(x);const M=o[C];b.copy(M),b.sub(x.multiplyScalar(x.dot(M))).normalize(),_.crossVectors(S,M);const I=_.dot(l[C])<0?-1:1;s.setXYZW(C,b.x,b.y,b.z,I)}for(let C=0,M=y.length;C<M;++C){const A=y[C],I=A.start,D=A.count;for(let L=I,F=I+D;L<F;L+=3)T(e.getX(L+0)),T(e.getX(L+1)),T(e.getX(L+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Il(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new tt,a=new tt,s=new tt,o=new tt,l=new tt,c=new tt,u=new tt,d=new tt;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(t,p),a.fromBufferAttribute(t,m),s.fromBufferAttribute(t,v),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,m),c.fromBufferAttribute(r,v),o.add(u),l.add(u),c.add(u),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(m,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),a.fromBufferAttribute(t,f+1),s.fromBufferAttribute(t,f+2),u.subVectors(s,a),d.subVectors(i,a),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Na.fromBufferAttribute(e,t),Na.normalize(),e.setXYZ(t,Na.x,Na.y,Na.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,v=l.length;m<v;m++){o.isInterleavedBufferAttribute?h=l[m]*o.data.stride+o.offset:h=l[m]*u;for(let g=0;g<u;g++)f[p++]=c[h++]}return new Il(f,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ul,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const a=this.morphAttributes;for(const o in a){const l=[],c=a[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,l=s.length;o<l;o++){const c=s[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const a=e.morphAttributes;for(const c in a){const u=[],d=a[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let c=0,u=s.length;c<u;c++){const d=s[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const mW=new ur,op=new fae,QS=new EN,vW=new tt,JS=new tt,e2=new tt,t2=new tt,WI=new tt,n2=new tt,gW=new tt,r2=new tt;class oa extends Aa{constructor(e=new Ul,t=new Tm){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,s=i.length;a<s;a++){const o=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,s=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(a&&o){n2.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const u=o[l],d=a[l];u!==0&&(WI.fromBufferAttribute(d,e),s?n2.addScaledVector(WI,u):n2.addScaledVector(WI.sub(t),u))}t.add(n2)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),QS.copy(r.boundingSphere),QS.applyMatrix4(a),op.copy(e.ray).recast(e.near),!(QS.containsPoint(op.origin)===!1&&(op.intersectSphere(QS,vW)===null||op.origin.distanceToSquared(vW)>(e.far-e.near)**2))&&(mW.copy(a).invert(),op.copy(e.ray).applyMatrix4(mW),!(r.boundingBox!==null&&op.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,op)))}_computeIntersections(e,t,r){let i;const a=this.geometry,s=this.material,o=a.index,l=a.attributes.position,c=a.attributes.uv,u=a.attributes.uv1,d=a.attributes.normal,f=a.groups,h=a.drawRange;if(o!==null)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const v=f[p],g=s[v.materialIndex],y=Math.max(v.start,h.start),b=Math.min(o.count,Math.min(v.start+v.count,h.start+h.count));for(let _=y,x=b;_<x;_+=3){const S=o.getX(_),T=o.getX(_+1),C=o.getX(_+2);i=i2(this,g,e,r,c,u,d,S,T,C),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(o.count,h.start+h.count);for(let v=p,g=m;v<g;v+=3){const y=o.getX(v),b=o.getX(v+1),_=o.getX(v+2);i=i2(this,s,e,r,c,u,d,y,b,_),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(s))for(let p=0,m=f.length;p<m;p++){const v=f[p],g=s[v.materialIndex],y=Math.max(v.start,h.start),b=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let _=y,x=b;_<x;_+=3){const S=_,T=_+1,C=_+2;i=i2(this,g,e,r,c,u,d,S,T,C),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=v.materialIndex,t.push(i))}}else{const p=Math.max(0,h.start),m=Math.min(l.count,h.start+h.count);for(let v=p,g=m;v<g;v+=3){const y=v,b=v+1,_=v+2;i=i2(this,s,e,r,c,u,d,y,b,_),i&&(i.faceIndex=Math.floor(v/3),t.push(i))}}}}function Sat(n,e,t,r,i,a,s,o){let l;if(e.side===go?l=r.intersectTriangle(s,a,i,!0,o):l=r.intersectTriangle(i,a,s,e.side===gu,o),l===null)return null;r2.copy(o),r2.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(r2);return c<t.near||c>t.far?null:{distance:c,point:r2.clone(),object:n}}function i2(n,e,t,r,i,a,s,o,l,c){n.getVertexPosition(o,JS),n.getVertexPosition(l,e2),n.getVertexPosition(c,t2);const u=Sat(n,e,t,r,JS,e2,t2,gW);if(u){const d=new tt;sc.getBarycoord(gW,JS,e2,t2,d),i&&(u.uv=sc.getInterpolatedAttribute(i,o,l,c,d,new Vn)),a&&(u.uv1=sc.getInterpolatedAttribute(a,o,l,c,d,new Vn)),s&&(u.normal=sc.getInterpolatedAttribute(s,o,l,c,d,new tt),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new tt,materialIndex:0};sc.getNormal(JS,e2,t2,f.normal),u.face=f,u.barycoord=d}return u}class My extends Ul{constructor(e=1,t=1,r=1,i=1,a=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:s};const o=this;i=Math.floor(i),a=Math.floor(a),s=Math.floor(s);const l=[],c=[],u=[],d=[];let f=0,h=0;p("z","y","x",-1,-1,r,t,e,s,a,0),p("z","y","x",1,-1,r,t,-e,s,a,1),p("x","z","y",1,1,e,r,t,i,s,2),p("x","z","y",1,-1,e,r,-t,i,s,3),p("x","y","z",1,-1,e,t,r,i,a,4),p("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new Wo(c,3)),this.setAttribute("normal",new Wo(u,3)),this.setAttribute("uv",new Wo(d,2));function p(m,v,g,y,b,_,x,S,T,C,M){const A=_/T,I=x/C,D=_/2,L=x/2,F=S/2,B=T+1,k=C+1;let H=0,z=0;const O=new tt;for(let W=0;W<k;W++){const j=W*I-L;for(let ee=0;ee<B;ee++){const te=ee*A-D;O[m]=te*y,O[v]=j*b,O[g]=F,c.push(O.x,O.y,O.z),O[m]=0,O[v]=0,O[g]=S>0?1:-1,u.push(O.x,O.y,O.z),d.push(ee/T),d.push(1-W/C),H+=1}}for(let W=0;W<C;W++)for(let j=0;j<T;j++){const ee=f+j+B*W,te=f+j+B*(W+1),J=f+(j+1)+B*(W+1),Q=f+(j+1)+B*W;l.push(ee,te,Q),l.push(te,J,Q),z+=6}o.addGroup(h,z,M),h+=z,f+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new My(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ug(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Bs(n){const e={};for(let t=0;t<n.length;t++){const r=Ug(n[t]);for(const i in r)e[i]=r[i]}return e}function Cat(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function gae(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ti.workingColorSpace}const Mat={clone:Ug,merge:Bs};var Tat=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Aat=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qo extends OA{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Tat,this.fragmentShader=Aat,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ug(e.uniforms),this.uniformsGroups=Cat(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?t.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?t.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?t.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?t.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?t.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?t.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?t.uniforms[i]={type:"m4",value:s.toArray()}:t.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class yae extends Aa{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new ur,this.projectionMatrix=new ur,this.projectionMatrixInverse=new ur,this.coordinateSystem=cd}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const hf=new tt,yW=new Vn,bW=new Vn;class ml extends yae{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=H_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(wb*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return H_*2*Math.atan(Math.tan(wb*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){hf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(hf.x,hf.y).multiplyScalar(-e/hf.z),hf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(hf.x,hf.y).multiplyScalar(-e/hf.z)}getViewSize(e,t){return this.getViewBounds(e,yW,bW),t.subVectors(bW,yW)}setViewOffset(e,t,r,i,a,s){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(wb*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,c=s.fullHeight;a+=s.offsetX*i/l,t-=s.offsetY*r/c,i*=s.width/l,r*=s.height/c}const o=this.filmOffset;o!==0&&(a+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const X0=-90,j0=1;class Eat extends Aa{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new ml(X0,j0,e,t);i.layers=this.layers,this.add(i);const a=new ml(X0,j0,e,t);a.layers=this.layers,this.add(a);const s=new ml(X0,j0,e,t);s.layers=this.layers,this.add(s);const o=new ml(X0,j0,e,t);o.layers=this.layers,this.add(o);const l=new ml(X0,j0,e,t);l.layers=this.layers,this.add(l);const c=new ml(X0,j0,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,s,o,l]=t;for(const c of t)this.remove(c);if(e===cd)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===ZM)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,s,o,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const m=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,s),e.setRenderTarget(r,2,i),e.render(t,o),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=m,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(d,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class bae extends Ys{constructor(e,t,r,i,a,s,o,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Ng,super(e,t,r,i,a,s,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Iat extends vh{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new bae(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:eu}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new My(5,5,5),a=new qo({name:"CubemapFromEquirect",uniforms:Ug(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:go,blending:Gf});a.uniforms.tEquirect.value=t;const s=new oa(i,a),o=t.minFilter;return t.minFilter===$p&&(t.minFilter=eu),new Eat(1,10,this).update(e,s),t.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,r,i){const a=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(t,r,i);e.setRenderTarget(a)}}class Rat extends Aa{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Td,this.environmentIntensity=1,this.environmentRotation=new Td,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class pf extends Ys{constructor(e=null,t=1,r=1,i,a,s,o,l,c=Go,u=Go,d,f){super(null,s,o,l,c,u,i,a,d,f),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Pat extends Il{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qI=new tt,Dat=new tt,kat=new cr;class Sf{constructor(e=new tt(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=qI.subVectors(r,t).cross(Dat.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(qI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||kat.getNormalMatrix(e),i=this.coplanarPoint(qI).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const lp=new EN,a2=new tt;class _ae{constructor(e=new Sf,t=new Sf,r=new Sf,i=new Sf,a=new Sf,s=new Sf){this.planes=[e,t,r,i,a,s]}set(e,t,r,i,a,s){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(a),o[5].copy(s),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=cd){const r=this.planes,i=e.elements,a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],f=i[7],h=i[8],p=i[9],m=i[10],v=i[11],g=i[12],y=i[13],b=i[14],_=i[15];if(r[0].setComponents(l-a,f-c,v-h,_-g).normalize(),r[1].setComponents(l+a,f+c,v+h,_+g).normalize(),r[2].setComponents(l+s,f+u,v+p,_+y).normalize(),r[3].setComponents(l-s,f-u,v-p,_-y).normalize(),r[4].setComponents(l-o,f-d,v-m,_-b).normalize(),t===cd)r[5].setComponents(l+o,f+d,v+m,_+b).normalize();else if(t===ZM)r[5].setComponents(o,d,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),lp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),lp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(lp)}intersectsSprite(e){return lp.center.set(0,0,0),lp.radius=.7071067811865476,lp.applyMatrix4(e.matrixWorld),this.intersectsSphere(lp)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(a2.x=i.normal.x>0?e.max.x:e.min.x,a2.y=i.normal.y>0?e.max.y:e.min.y,a2.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(a2)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class s2 extends Aa{constructor(){super(),this.isGroup=!0,this.type="Group"}}class IN extends Ys{constructor(e,t,r,i,a,s,o,l,c,u=im){if(u!==im&&u!==Fg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===im&&(r=xl),r===void 0&&u===Fg&&(r=Bg),super(null,i,a,s,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=o!==void 0?o:Go,this.minFilter=l!==void 0?l:Go,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class $_ extends Ul{constructor(e=1,t=1,r=1,i=32,a=1,s=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:s,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const u=[],d=[],f=[],h=[];let p=0;const m=[],v=r/2;let g=0;y(),s===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new Wo(d,3)),this.setAttribute("normal",new Wo(f,3)),this.setAttribute("uv",new Wo(h,2));function y(){const _=new tt,x=new tt;let S=0;const T=(t-e)/r;for(let C=0;C<=a;C++){const M=[],A=C/a,I=A*(t-e)+e;for(let D=0;D<=i;D++){const L=D/i,F=L*l+o,B=Math.sin(F),k=Math.cos(F);x.x=I*B,x.y=-A*r+v,x.z=I*k,d.push(x.x,x.y,x.z),_.set(B,T,k).normalize(),f.push(_.x,_.y,_.z),h.push(L,1-A),M.push(p++)}m.push(M)}for(let C=0;C<i;C++)for(let M=0;M<a;M++){const A=m[M][C],I=m[M+1][C],D=m[M+1][C+1],L=m[M][C+1];(e>0||M!==0)&&(u.push(A,I,L),S+=3),(t>0||M!==a-1)&&(u.push(I,D,L),S+=3)}c.addGroup(g,S,0),g+=S}function b(_){const x=p,S=new Vn,T=new tt;let C=0;const M=_===!0?e:t,A=_===!0?1:-1;for(let D=1;D<=i;D++)d.push(0,v*A,0),f.push(0,A,0),h.push(.5,.5),p++;const I=p;for(let D=0;D<=i;D++){const F=D/i*l+o,B=Math.cos(F),k=Math.sin(F);T.x=M*k,T.y=v*A,T.z=M*B,d.push(T.x,T.y,T.z),f.push(0,A,0),S.x=B*.5+.5,S.y=k*.5*A+.5,h.push(S.x,S.y),p++}for(let D=0;D<i;D++){const L=x+D,F=I+D;_===!0?u.push(F,F+1,L):u.push(F+1,F,L),C+=3}c.addGroup(g,C,_===!0?1:2),g+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class RN extends $_{constructor(e=1,t=1,r=32,i=1,a=!1,s=0,o=Math.PI*2){super(0,e,t,r,i,a,s,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:s,thetaLength:o}}static fromJSON(e){return new RN(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hg extends Ul{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,s=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=t/l,h=[],p=[],m=[],v=[];for(let g=0;g<u;g++){const y=g*f-s;for(let b=0;b<c;b++){const _=b*d-a;p.push(_,-y,0),m.push(0,0,1),v.push(b/o),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let y=0;y<o;y++){const b=y+c*g,_=y+c*(g+1),x=y+1+c*(g+1),S=y+1+c*g;h.push(b,_,S),h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new Wo(p,3)),this.setAttribute("normal",new Wo(m,3)),this.setAttribute("uv",new Wo(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hg(e.width,e.height,e.widthSegments,e.heightSegments)}}class JM extends Ul{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,s=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:s,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(s+o,Math.PI);let c=0;const u=[],d=new tt,f=new tt,h=[],p=[],m=[],v=[];for(let g=0;g<=r;g++){const y=[],b=g/r;let _=0;g===0&&s===0?_=.5/t:g===r&&l===Math.PI&&(_=-.5/t);for(let x=0;x<=t;x++){const S=x/t;d.x=-e*Math.cos(i+S*a)*Math.sin(s+b*o),d.y=e*Math.cos(s+b*o),d.z=e*Math.sin(i+S*a)*Math.sin(s+b*o),p.push(d.x,d.y,d.z),f.copy(d).normalize(),m.push(f.x,f.y,f.z),v.push(S+_,1-b),y.push(c++)}u.push(y)}for(let g=0;g<r;g++)for(let y=0;y<t;y++){const b=u[g][y+1],_=u[g][y],x=u[g+1][y],S=u[g+1][y+1];(g!==0||s>0)&&h.push(b,_,S),(g!==r-1||l<Math.PI)&&h.push(_,x,S)}this.setIndex(h),this.setAttribute("position",new Wo(p,3)),this.setAttribute("normal",new Wo(m,3)),this.setAttribute("uv",new Wo(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JM(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Lat extends OA{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Ait,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Nat extends OA{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class PN extends yae{constructor(e=-1,t=1,r=1,i=-1,a=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,s=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,s=a+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(a,s,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Oat extends Ul{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Bat extends ml{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class _W{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Mr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Mr(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}function wW(n,e,t,r){const i=Fat(r);switch(t){case tae:return n*e;case rae:return n*e;case iae:return n*e*2;case aae:return n*e/i.components*i.byteLength;case NA:return n*e/i.components*i.byteLength;case MN:return n*e*2/i.components*i.byteLength;case TN:return n*e*2/i.components*i.byteLength;case nae:return n*e*3/i.components*i.byteLength;case $s:return n*e*4/i.components*i.byteLength;case Xv:return n*e*4/i.components*i.byteLength;case uC:case dC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case fC:case hC:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case PD:case kD:return Math.max(n,16)*Math.max(e,8)/4;case RD:case DD:return Math.max(n,8)*Math.max(e,8)/2;case LD:case ND:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case OD:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case BD:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case FD:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case zD:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case UD:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case HD:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case VD:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case $D:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case GD:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case WD:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case qD:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case KD:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case YD:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case XD:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case jD:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case pC:case ZD:case QD:return Math.ceil(n/4)*Math.ceil(e/4)*16;case sae:case JD:return Math.ceil(n/4)*Math.ceil(e/4)*8;case ek:case tk:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function Fat(n){switch(n){case yu:case Qie:return{byteLength:1,components:1};case U_:case Jie:case Sy:return{byteLength:2,components:1};case SN:case CN:return{byteLength:2,components:4};case xl:case xN:case pc:return{byteLength:4,components:1};case eae:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:wN}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=wN);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function wae(){let n=null,e=!1,t=null,r=null;function i(a,s){t(a,s),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function zat(n){const e=new WeakMap;function t(o,l){const c=o.array,u=o.usage,d=c.byteLength,f=n.createBuffer();n.bindBuffer(l,f),n.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=n.FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=n.HALF_FLOAT:h=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=n.SHORT;else if(c instanceof Uint32Array)h=n.UNSIGNED_INT;else if(c instanceof Int32Array)h=n.INT;else if(c instanceof Int8Array)h=n.BYTE;else if(c instanceof Uint8Array)h=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,c){const u=l.array,d=l.updateRanges;if(n.bindBuffer(c,o),d.length===0)n.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],m=d[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const m=d[h];n.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function a(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function s(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:a,update:s}}var Uat=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Hat=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Vat=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,$at=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Gat=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Wat=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,qat=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Kat=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Yat=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Xat=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,jat=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Zat=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Qat=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Jat=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,est=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,tst=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,nst=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,rst=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ist=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,ast=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sst=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,ost=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,lst=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,cst=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,ust=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,dst=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,fst=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,hst=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,pst=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,mst=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,vst="gl_FragColor = linearToOutputTexel( gl_FragColor );",gst=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,yst=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,bst=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,_st=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,wst=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,xst=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Sst=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Cst=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Mst=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Tst=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Ast=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Est=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ist=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Rst=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Pst=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Dst=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,kst=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Lst=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Nst=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Ost=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Bst=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Fst=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zst=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Ust=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Hst=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Vst=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,$st=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Gst=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Wst=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,qst=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Kst=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Yst=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Xst=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,jst=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Zst=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Qst=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Jst=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,eot=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,tot=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,not=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,rot=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,iot=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,aot=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sot=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oot=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,lot=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,cot=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,uot=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,dot=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,fot=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,hot=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,pot=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,mot=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,vot=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,got=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,yot=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,bot=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,_ot=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,wot=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,xot=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Sot=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Cot=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Mot=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Tot=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Aot=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Eot=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Iot=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Rot=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Pot=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Dot=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,kot=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lot=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Not=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Oot=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Bot=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Fot=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const zot=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Uot=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vot=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$ot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Got=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wot=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,qot=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Kot=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Yot=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Xot=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,jot=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Zot=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qot=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jot=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,elt=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tlt=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,nlt=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rlt=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,ilt=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,alt=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,slt=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,olt=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,llt=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,clt=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ult=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dlt=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,flt=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hlt=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,plt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mlt=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vlt=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,glt=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ylt=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Sr={alphahash_fragment:Uat,alphahash_pars_fragment:Hat,alphamap_fragment:Vat,alphamap_pars_fragment:$at,alphatest_fragment:Gat,alphatest_pars_fragment:Wat,aomap_fragment:qat,aomap_pars_fragment:Kat,batching_pars_vertex:Yat,batching_vertex:Xat,begin_vertex:jat,beginnormal_vertex:Zat,bsdfs:Qat,iridescence_fragment:Jat,bumpmap_pars_fragment:est,clipping_planes_fragment:tst,clipping_planes_pars_fragment:nst,clipping_planes_pars_vertex:rst,clipping_planes_vertex:ist,color_fragment:ast,color_pars_fragment:sst,color_pars_vertex:ost,color_vertex:lst,common:cst,cube_uv_reflection_fragment:ust,defaultnormal_vertex:dst,displacementmap_pars_vertex:fst,displacementmap_vertex:hst,emissivemap_fragment:pst,emissivemap_pars_fragment:mst,colorspace_fragment:vst,colorspace_pars_fragment:gst,envmap_fragment:yst,envmap_common_pars_fragment:bst,envmap_pars_fragment:_st,envmap_pars_vertex:wst,envmap_physical_pars_fragment:Dst,envmap_vertex:xst,fog_vertex:Sst,fog_pars_vertex:Cst,fog_fragment:Mst,fog_pars_fragment:Tst,gradientmap_pars_fragment:Ast,lightmap_pars_fragment:Est,lights_lambert_fragment:Ist,lights_lambert_pars_fragment:Rst,lights_pars_begin:Pst,lights_toon_fragment:kst,lights_toon_pars_fragment:Lst,lights_phong_fragment:Nst,lights_phong_pars_fragment:Ost,lights_physical_fragment:Bst,lights_physical_pars_fragment:Fst,lights_fragment_begin:zst,lights_fragment_maps:Ust,lights_fragment_end:Hst,logdepthbuf_fragment:Vst,logdepthbuf_pars_fragment:$st,logdepthbuf_pars_vertex:Gst,logdepthbuf_vertex:Wst,map_fragment:qst,map_pars_fragment:Kst,map_particle_fragment:Yst,map_particle_pars_fragment:Xst,metalnessmap_fragment:jst,metalnessmap_pars_fragment:Zst,morphinstance_vertex:Qst,morphcolor_vertex:Jst,morphnormal_vertex:eot,morphtarget_pars_vertex:tot,morphtarget_vertex:not,normal_fragment_begin:rot,normal_fragment_maps:iot,normal_pars_fragment:aot,normal_pars_vertex:sot,normal_vertex:oot,normalmap_pars_fragment:lot,clearcoat_normal_fragment_begin:cot,clearcoat_normal_fragment_maps:uot,clearcoat_pars_fragment:dot,iridescence_pars_fragment:fot,opaque_fragment:hot,packing:pot,premultiplied_alpha_fragment:mot,project_vertex:vot,dithering_fragment:got,dithering_pars_fragment:yot,roughnessmap_fragment:bot,roughnessmap_pars_fragment:_ot,shadowmap_pars_fragment:wot,shadowmap_pars_vertex:xot,shadowmap_vertex:Sot,shadowmask_pars_fragment:Cot,skinbase_vertex:Mot,skinning_pars_vertex:Tot,skinning_vertex:Aot,skinnormal_vertex:Eot,specularmap_fragment:Iot,specularmap_pars_fragment:Rot,tonemapping_fragment:Pot,tonemapping_pars_fragment:Dot,transmission_fragment:kot,transmission_pars_fragment:Lot,uv_pars_fragment:Not,uv_pars_vertex:Oot,uv_vertex:Bot,worldpos_vertex:Fot,background_vert:zot,background_frag:Uot,backgroundCube_vert:Hot,backgroundCube_frag:Vot,cube_vert:$ot,cube_frag:Got,depth_vert:Wot,depth_frag:qot,distanceRGBA_vert:Kot,distanceRGBA_frag:Yot,equirect_vert:Xot,equirect_frag:jot,linedashed_vert:Zot,linedashed_frag:Qot,meshbasic_vert:Jot,meshbasic_frag:elt,meshlambert_vert:tlt,meshlambert_frag:nlt,meshmatcap_vert:rlt,meshmatcap_frag:ilt,meshnormal_vert:alt,meshnormal_frag:slt,meshphong_vert:olt,meshphong_frag:llt,meshphysical_vert:clt,meshphysical_frag:ult,meshtoon_vert:dlt,meshtoon_frag:flt,points_vert:hlt,points_frag:plt,shadow_vert:mlt,shadow_frag:vlt,sprite_vert:glt,sprite_frag:ylt},xn={common:{diffuse:{value:new ni(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new cr},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new cr}},envmap:{envMap:{value:null},envMapRotation:{value:new cr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new cr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new cr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new cr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new cr},normalScale:{value:new Vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new cr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new cr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new cr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new cr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ni(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ni(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0},uvTransform:{value:new cr}},sprite:{diffuse:{value:new ni(16777215)},opacity:{value:1},center:{value:new Vn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new cr},alphaMap:{value:null},alphaMapTransform:{value:new cr},alphaTest:{value:0}}},Gc={basic:{uniforms:Bs([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.fog]),vertexShader:Sr.meshbasic_vert,fragmentShader:Sr.meshbasic_frag},lambert:{uniforms:Bs([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,xn.lights,{emissive:{value:new ni(0)}}]),vertexShader:Sr.meshlambert_vert,fragmentShader:Sr.meshlambert_frag},phong:{uniforms:Bs([xn.common,xn.specularmap,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,xn.lights,{emissive:{value:new ni(0)},specular:{value:new ni(1118481)},shininess:{value:30}}]),vertexShader:Sr.meshphong_vert,fragmentShader:Sr.meshphong_frag},standard:{uniforms:Bs([xn.common,xn.envmap,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.roughnessmap,xn.metalnessmap,xn.fog,xn.lights,{emissive:{value:new ni(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Sr.meshphysical_vert,fragmentShader:Sr.meshphysical_frag},toon:{uniforms:Bs([xn.common,xn.aomap,xn.lightmap,xn.emissivemap,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.gradientmap,xn.fog,xn.lights,{emissive:{value:new ni(0)}}]),vertexShader:Sr.meshtoon_vert,fragmentShader:Sr.meshtoon_frag},matcap:{uniforms:Bs([xn.common,xn.bumpmap,xn.normalmap,xn.displacementmap,xn.fog,{matcap:{value:null}}]),vertexShader:Sr.meshmatcap_vert,fragmentShader:Sr.meshmatcap_frag},points:{uniforms:Bs([xn.points,xn.fog]),vertexShader:Sr.points_vert,fragmentShader:Sr.points_frag},dashed:{uniforms:Bs([xn.common,xn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Sr.linedashed_vert,fragmentShader:Sr.linedashed_frag},depth:{uniforms:Bs([xn.common,xn.displacementmap]),vertexShader:Sr.depth_vert,fragmentShader:Sr.depth_frag},normal:{uniforms:Bs([xn.common,xn.bumpmap,xn.normalmap,xn.displacementmap,{opacity:{value:1}}]),vertexShader:Sr.meshnormal_vert,fragmentShader:Sr.meshnormal_frag},sprite:{uniforms:Bs([xn.sprite,xn.fog]),vertexShader:Sr.sprite_vert,fragmentShader:Sr.sprite_frag},background:{uniforms:{uvTransform:{value:new cr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Sr.background_vert,fragmentShader:Sr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new cr}},vertexShader:Sr.backgroundCube_vert,fragmentShader:Sr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Sr.cube_vert,fragmentShader:Sr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Sr.equirect_vert,fragmentShader:Sr.equirect_frag},distanceRGBA:{uniforms:Bs([xn.common,xn.displacementmap,{referencePosition:{value:new tt},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Sr.distanceRGBA_vert,fragmentShader:Sr.distanceRGBA_frag},shadow:{uniforms:Bs([xn.lights,xn.fog,{color:{value:new ni(0)},opacity:{value:1}}]),vertexShader:Sr.shadow_vert,fragmentShader:Sr.shadow_frag}};Gc.physical={uniforms:Bs([Gc.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new cr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new cr},clearcoatNormalScale:{value:new Vn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new cr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new cr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new cr},sheen:{value:0},sheenColor:{value:new ni(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new cr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new cr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new cr},transmissionSamplerSize:{value:new Vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new cr},attenuationDistance:{value:0},attenuationColor:{value:new ni(0)},specularColor:{value:new ni(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new cr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new cr},anisotropyVector:{value:new Vn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new cr}}]),vertexShader:Sr.meshphysical_vert,fragmentShader:Sr.meshphysical_frag};const o2={r:0,b:0,g:0},cp=new Td,blt=new ur;function _lt(n,e,t,r,i,a,s){const o=new ni(0);let l=a===!0?0:1,c,u,d=null,f=0,h=null;function p(b){let _=b.isScene===!0?b.background:null;return _&&_.isTexture&&(_=(b.backgroundBlurriness>0?t:e).get(_)),_}function m(b){let _=!1;const x=p(b);x===null?g(o,l):x&&x.isColor&&(g(x,1),_=!0);const S=n.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,s):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(n.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function v(b,_){const x=p(_);x&&(x.isCubeTexture||x.mapping===LA)?(u===void 0&&(u=new oa(new My(1,1,1),new qo({name:"BackgroundCubeMaterial",uniforms:Ug(Gc.backgroundCube.uniforms),vertexShader:Gc.backgroundCube.vertexShader,fragmentShader:Gc.backgroundCube.fragmentShader,side:go,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(S,T,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),cp.copy(_.backgroundRotation),cp.x*=-1,cp.y*=-1,cp.z*=-1,x.isCubeTexture&&x.isRenderTargetTexture===!1&&(cp.y*=-1,cp.z*=-1),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(blt.makeRotationFromEuler(cp)),u.material.toneMapped=ti.getTransfer(x.colorSpace)!==Ci,(d!==x||f!==x.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,d=x,f=x.version,h=n.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new oa(new Hg(2,2),new qo({name:"BackgroundMaterial",uniforms:Ug(Gc.background.uniforms),vertexShader:Gc.background.vertexShader,fragmentShader:Gc.background.fragmentShader,side:gu,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=ti.getTransfer(x.colorSpace)!==Ci,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(d!==x||f!==x.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,d=x,f=x.version,h=n.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function g(b,_){b.getRGB(o2,gae(n)),r.buffers.color.setClear(o2.r,o2.g,o2.b,_,s)}function y(){u!==void 0&&(u.geometry.dispose(),u.material.dispose()),c!==void 0&&(c.geometry.dispose(),c.material.dispose())}return{getClearColor:function(){return o},setClearColor:function(b,_=1){o.set(b),l=_,g(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,g(o,l)},render:m,addToRenderList:v,dispose:y}}function wlt(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=f(null);let a=i,s=!1;function o(A,I,D,L,F){let B=!1;const k=d(L,D,I);a!==k&&(a=k,c(a.object)),B=h(A,L,D,F),B&&p(A,L,D,F),F!==null&&e.update(F,n.ELEMENT_ARRAY_BUFFER),(B||s)&&(s=!1,_(A,I,D,L),F!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return n.createVertexArray()}function c(A){return n.bindVertexArray(A)}function u(A){return n.deleteVertexArray(A)}function d(A,I,D){const L=D.wireframe===!0;let F=r[A.id];F===void 0&&(F={},r[A.id]=F);let B=F[I.id];B===void 0&&(B={},F[I.id]=B);let k=B[L];return k===void 0&&(k=f(l()),B[L]=k),k}function f(A){const I=[],D=[],L=[];for(let F=0;F<t;F++)I[F]=0,D[F]=0,L[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:D,attributeDivisors:L,object:A,attributes:{},index:null}}function h(A,I,D,L){const F=a.attributes,B=I.attributes;let k=0;const H=D.getAttributes();for(const z in H)if(H[z].location>=0){const W=F[z];let j=B[z];if(j===void 0&&(z==="instanceMatrix"&&A.instanceMatrix&&(j=A.instanceMatrix),z==="instanceColor"&&A.instanceColor&&(j=A.instanceColor)),W===void 0||W.attribute!==j||j&&W.data!==j.data)return!0;k++}return a.attributesNum!==k||a.index!==L}function p(A,I,D,L){const F={},B=I.attributes;let k=0;const H=D.getAttributes();for(const z in H)if(H[z].location>=0){let W=B[z];W===void 0&&(z==="instanceMatrix"&&A.instanceMatrix&&(W=A.instanceMatrix),z==="instanceColor"&&A.instanceColor&&(W=A.instanceColor));const j={};j.attribute=W,W&&W.data&&(j.data=W.data),F[z]=j,k++}a.attributes=F,a.attributesNum=k,a.index=L}function m(){const A=a.newAttributes;for(let I=0,D=A.length;I<D;I++)A[I]=0}function v(A){g(A,0)}function g(A,I){const D=a.newAttributes,L=a.enabledAttributes,F=a.attributeDivisors;D[A]=1,L[A]===0&&(n.enableVertexAttribArray(A),L[A]=1),F[A]!==I&&(n.vertexAttribDivisor(A,I),F[A]=I)}function y(){const A=a.newAttributes,I=a.enabledAttributes;for(let D=0,L=I.length;D<L;D++)I[D]!==A[D]&&(n.disableVertexAttribArray(D),I[D]=0)}function b(A,I,D,L,F,B,k){k===!0?n.vertexAttribIPointer(A,I,D,F,B):n.vertexAttribPointer(A,I,D,L,F,B)}function _(A,I,D,L){m();const F=L.attributes,B=D.getAttributes(),k=I.defaultAttributeValues;for(const H in B){const z=B[H];if(z.location>=0){let O=F[H];if(O===void 0&&(H==="instanceMatrix"&&A.instanceMatrix&&(O=A.instanceMatrix),H==="instanceColor"&&A.instanceColor&&(O=A.instanceColor)),O!==void 0){const W=O.normalized,j=O.itemSize,ee=e.get(O);if(ee===void 0)continue;const te=ee.buffer,J=ee.type,Q=ee.bytesPerElement,ie=J===n.INT||J===n.UNSIGNED_INT||O.gpuType===xN;if(O.isInterleavedBufferAttribute){const le=O.data,we=le.stride,Ae=O.offset;if(le.isInstancedInterleavedBuffer){for(let ke=0;ke<z.locationSize;ke++)g(z.location+ke,le.meshPerAttribute);A.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let ke=0;ke<z.locationSize;ke++)v(z.location+ke);n.bindBuffer(n.ARRAY_BUFFER,te);for(let ke=0;ke<z.locationSize;ke++)b(z.location+ke,j/z.locationSize,J,W,we*Q,(Ae+j/z.locationSize*ke)*Q,ie)}else{if(O.isInstancedBufferAttribute){for(let le=0;le<z.locationSize;le++)g(z.location+le,O.meshPerAttribute);A.isInstancedMesh!==!0&&L._maxInstanceCount===void 0&&(L._maxInstanceCount=O.meshPerAttribute*O.count)}else for(let le=0;le<z.locationSize;le++)v(z.location+le);n.bindBuffer(n.ARRAY_BUFFER,te);for(let le=0;le<z.locationSize;le++)b(z.location+le,j/z.locationSize,J,W,j*Q,j/z.locationSize*le*Q,ie)}}else if(k!==void 0){const W=k[H];if(W!==void 0)switch(W.length){case 2:n.vertexAttrib2fv(z.location,W);break;case 3:n.vertexAttrib3fv(z.location,W);break;case 4:n.vertexAttrib4fv(z.location,W);break;default:n.vertexAttrib1fv(z.location,W)}}}}y()}function x(){C();for(const A in r){const I=r[A];for(const D in I){const L=I[D];for(const F in L)u(L[F].object),delete L[F];delete I[D]}delete r[A]}}function S(A){if(r[A.id]===void 0)return;const I=r[A.id];for(const D in I){const L=I[D];for(const F in L)u(L[F].object),delete L[F];delete I[D]}delete r[A.id]}function T(A){for(const I in r){const D=r[I];if(D[A.id]===void 0)continue;const L=D[A.id];for(const F in L)u(L[F].object),delete L[F];delete D[A.id]}}function C(){M(),s=!0,a!==i&&(a=i,c(a.object))}function M(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:C,resetDefaultState:M,dispose:x,releaseStatesOfGeometry:S,releaseStatesOfProgram:T,initAttributes:m,enableAttribute:v,disableUnusedAttributes:y}}function xlt(n,e,t){let r;function i(c){r=c}function a(c,u){n.drawArrays(r,c,u),t.update(u,r,1)}function s(c,u,d){d!==0&&(n.drawArraysInstanced(r,c,u,d),t.update(u,r,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];t.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<c.length;p++)s(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let p=0;for(let m=0;m<d;m++)p+=u[m]*f[m];t.update(p,r,1)}}this.setMode=i,this.render=a,this.renderInstances=s,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function Slt(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(T){return!(T!==$s&&r.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(T){const C=T===Sy&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(T!==yu&&r.convert(T)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&T!==pc&&!C)}function l(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=t.logarithmicDepthBuffer===!0,f=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),v=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),g=n.getParameter(n.MAX_VERTEX_ATTRIBS),y=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),b=n.getParameter(n.MAX_VARYING_VECTORS),_=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),x=p>0,S=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:s,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:v,maxAttributes:g,maxVertexUniforms:y,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:x,maxSamples:S}}function Clt(n){const e=this;let t=null,r=0,i=!1,a=!1;const s=new Sf,o=new cr,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(d,f){t=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,v=d.clipShadows,g=n.get(d);if(!i||p===null||p.length===0||a&&!v)a?u(null):c();else{const y=a?0:r,b=y*4;let _=g.clippingState||null;l.value=_,_=u(p,f,b,h);for(let x=0;x!==b;++x)_[x]=t[x];g.clippingState=_,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,p){const m=d!==null?d.length:0;let v=null;if(m!==0){if(v=l.value,p!==!0||v===null){const g=h+m*4,y=f.matrixWorldInverse;o.getNormalMatrix(y),(v===null||v.length<g)&&(v=new Float32Array(g));for(let b=0,_=h;b!==m;++b,_+=4)s.copy(d[b]).applyMatrix4(y,o),s.normal.toArray(v,_),v[_+3]=s.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function Mlt(n){let e=new WeakMap;function t(s,o){return o===TD?s.mapping=Ng:o===AD&&(s.mapping=Og),s}function r(s){if(s&&s.isTexture){const o=s.mapping;if(o===TD||o===AD)if(e.has(s)){const l=e.get(s).texture;return t(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const c=new Iat(l.height);return c.fromEquirectangularTexture(n,s),e.set(s,c),s.addEventListener("dispose",i),t(c.texture,s.mapping)}else return null}}return s}function i(s){const o=s.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const Ev=4,xW=[.125,.215,.35,.446,.526,.582],Mp=20,KI=new PN,SW=new ni;let YI=null,XI=0,jI=0,ZI=!1;const vp=(1+Math.sqrt(5))/2,Z0=1/vp,CW=[new tt(-vp,Z0,0),new tt(vp,Z0,0),new tt(-Z0,0,vp),new tt(Z0,0,vp),new tt(0,vp,-Z0),new tt(0,vp,Z0),new tt(-1,1,-1),new tt(1,1,-1),new tt(-1,1,1),new tt(1,1,1)];class MW{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){YI=this._renderer.getRenderTarget(),XI=this._renderer.getActiveCubeFace(),jI=this._renderer.getActiveMipmapLevel(),ZI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),t>0&&this._blur(a,0,0,t),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=EW(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=AW(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(YI,XI,jI),this._renderer.xr.enabled=ZI,e.scissorTest=!1,l2(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ng||e.mapping===Og?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),YI=this._renderer.getRenderTarget(),XI=this._renderer.getActiveCubeFace(),jI=this._renderer.getActiveMipmapLevel(),ZI=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:eu,minFilter:eu,generateMipmaps:!1,type:Sy,format:$s,colorSpace:zg,depthBuffer:!1},i=TW(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=TW(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Tlt(a)),this._blurMaterial=Alt(a,e,t)}return i}_compileMaterial(e){const t=new oa(this._lodPlanes[0],e);this._renderer.compile(t,KI)}_sceneToCubeUV(e,t,r,i){const o=new ml(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor(SW),u.toneMapping=qf,u.autoClear=!1;const h=new Tm({name:"PMREM.Background",side:go,depthWrite:!1,depthTest:!1}),p=new oa(new My,h);let m=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,m=!0):(h.color.copy(SW),m=!0);for(let g=0;g<6;g++){const y=g%3;y===0?(o.up.set(0,l[g],0),o.lookAt(c[g],0,0)):y===1?(o.up.set(0,0,l[g]),o.lookAt(0,c[g],0)):(o.up.set(0,l[g],0),o.lookAt(0,0,c[g]));const b=this._cubeSize;l2(i,y*b,g>2?b:0,b,b),u.setRenderTarget(i),m&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Ng||e.mapping===Og;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=EW()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=AW());const a=i?this._cubemapMaterial:this._equirectMaterial,s=new oa(this._lodPlanes[0],a),o=a.uniforms;o.envMap.value=e;const l=this._cubeSize;l2(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(s,KI)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const s=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),o=CW[(i-a-1)%CW.length];this._blur(e,a-1,a,s,o)}t.autoClear=r}_blur(e,t,r,i,a){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,r,i,"latitudinal",a),this._halfBlur(s,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,s,o){const l=this._renderer,c=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new oa(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*Mp-1),m=a/p,v=isFinite(a)?1+Math.floor(u*m):Mp;v>Mp&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Mp}`);const g=[];let y=0;for(let T=0;T<Mp;++T){const C=T/m,M=Math.exp(-C*C/2);g.push(M),T===0?y+=M:T<v&&(y+=2*M)}for(let T=0;T<g.length;T++)g[T]=g[T]/y;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=g,f.latitudinal.value=s==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:b}=this;f.dTheta.value=p,f.mipInt.value=b-r;const _=this._sizeLods[i],x=3*_*(i>b-Ev?i-b+Ev:0),S=4*(this._cubeSize-_);l2(t,x,S,3*_,2*_),l.setRenderTarget(t),l.render(d,KI)}}function Tlt(n){const e=[],t=[],r=[];let i=n;const a=n-Ev+1+xW.length;for(let s=0;s<a;s++){const o=Math.pow(2,i);t.push(o);let l=1/o;s>n-Ev?l=xW[s-n+Ev-1]:s===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,v=2,g=1,y=new Float32Array(m*p*h),b=new Float32Array(v*p*h),_=new Float32Array(g*p*h);for(let S=0;S<h;S++){const T=S%3*2/3-1,C=S>2?0:-1,M=[T,C,0,T+2/3,C,0,T+2/3,C+1,0,T,C,0,T+2/3,C+1,0,T,C+1,0];y.set(M,m*p*S),b.set(f,v*p*S);const A=[S,S,S,S,S,S];_.set(A,g*p*S)}const x=new Ul;x.setAttribute("position",new Il(y,m)),x.setAttribute("uv",new Il(b,v)),x.setAttribute("faceIndex",new Il(_,g)),e.push(x),i>Ev&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function TW(n,e,t){const r=new vh(n,e,t);return r.texture.mapping=LA,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function l2(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function Alt(n,e,t){const r=new Float32Array(Mp),i=new tt(0,1,0);return new qo({name:"SphericalGaussianBlur",defines:{n:Mp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:DN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gf,depthTest:!1,depthWrite:!1})}function AW(){return new qo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:DN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gf,depthTest:!1,depthWrite:!1})}function EW(){return new qo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:DN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gf,depthTest:!1,depthWrite:!1})}function DN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Elt(n){let e=new WeakMap,t=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===TD||l===AD,u=l===Ng||l===Og;if(c||u){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return t===null&&(t=new MW(n)),d=c?t.fromEquirectangular(o,d):t.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&i(h)?(t===null&&(t=new MW(n)),d=c?t.fromEquirectangular(o):t.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",a),d.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function a(o){const l=o.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:s}}function Ilt(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&hv("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Rlt(n,e,t,r){const i={},a=new WeakMap;function s(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);f.removeEventListener("dispose",s),delete i[f.id];const h=a.get(f);h&&(e.remove(h),a.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,t.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",s),i[f.id]=!0,t.memory.geometries++),f}function l(d){const f=d.attributes;for(const h in f)e.update(f[h],n.ARRAY_BUFFER)}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(h!==null){const y=h.array;m=h.version;for(let b=0,_=y.length;b<_;b+=3){const x=y[b+0],S=y[b+1],T=y[b+2];f.push(x,S,S,T,T,x)}}else if(p!==void 0){const y=p.array;m=p.version;for(let b=0,_=y.length/3-1;b<_;b+=3){const x=b+0,S=b+1,T=b+2;f.push(x,S,S,T,T,x)}}else return;const v=new(cae(f)?vae:mae)(f,1);v.version=m;const g=a.get(d);g&&e.remove(g),a.set(d,v)}function u(d){const f=a.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return a.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function Plt(n,e,t){let r;function i(f){r=f}let a,s;function o(f){a=f.type,s=f.bytesPerElement}function l(f,h){n.drawElements(r,h,a,f*s),t.update(h,r,1)}function c(f,h,p){p!==0&&(n.drawElementsInstanced(r,h,a,f*s,p),t.update(h,r,p))}function u(f,h,p){if(p===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,a,f,0,p);let v=0;for(let g=0;g<p;g++)v+=h[g];t.update(v,r,1)}function d(f,h,p,m){if(p===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<f.length;g++)c(f[g]/s,h[g],m[g]);else{v.multiDrawElementsInstancedWEBGL(r,h,0,a,f,0,m,0,p);let g=0;for(let y=0;y<p;y++)g+=h[y]*m[y];t.update(g,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function Dlt(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,s,o){switch(t.calls++,s){case n.TRIANGLES:t.triangles+=o*(a/3);break;case n.LINES:t.lines+=o*(a/2);break;case n.LINE_STRIP:t.lines+=o*(a-1);break;case n.LINE_LOOP:t.lines+=o*a;break;case n.POINTS:t.points+=o*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function klt(n,e,t){const r=new WeakMap,i=new $i;function a(s,o,l){const c=s.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(o);if(f===void 0||f.count!==d){let A=function(){C.dispose(),r.delete(o),o.removeEventListener("dispose",A)};var h=A;f!==void 0&&f.texture.dispose();const p=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,v=o.morphAttributes.color!==void 0,g=o.morphAttributes.position||[],y=o.morphAttributes.normal||[],b=o.morphAttributes.color||[];let _=0;p===!0&&(_=1),m===!0&&(_=2),v===!0&&(_=3);let x=o.attributes.position.count*_,S=1;x>e.maxTextureSize&&(S=Math.ceil(x/e.maxTextureSize),x=e.maxTextureSize);const T=new Float32Array(x*S*4*d),C=new dae(T,x,S,d);C.type=pc,C.needsUpdate=!0;const M=_*4;for(let I=0;I<d;I++){const D=g[I],L=y[I],F=b[I],B=x*S*4*I;for(let k=0;k<D.count;k++){const H=k*M;p===!0&&(i.fromBufferAttribute(D,k),T[B+H+0]=i.x,T[B+H+1]=i.y,T[B+H+2]=i.z,T[B+H+3]=0),m===!0&&(i.fromBufferAttribute(L,k),T[B+H+4]=i.x,T[B+H+5]=i.y,T[B+H+6]=i.z,T[B+H+7]=0),v===!0&&(i.fromBufferAttribute(F,k),T[B+H+8]=i.x,T[B+H+9]=i.y,T[B+H+10]=i.z,T[B+H+11]=F.itemSize===4?i.w:1)}}f={count:d,texture:C,size:new Vn(x,S)},r.set(o,f),o.addEventListener("dispose",A)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",s.morphTexture,t);else{let p=0;for(let v=0;v<c.length;v++)p+=c[v];const m=o.morphTargetsRelative?1:1-p;l.getUniforms().setValue(n,"morphTargetBaseInfluence",m),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}return{update:a}}function Llt(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function s(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:s}}const xae=new Ys,IW=new IN(1,1),Sae=new dae,Cae=new uat,Mae=new bae,RW=[],PW=[],DW=new Float32Array(16),kW=new Float32Array(9),LW=new Float32Array(4);function Ty(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=RW[i];if(a===void 0&&(a=new Float32Array(i),RW[i]=a),e!==0){r.toArray(a,0);for(let s=1,o=0;s!==e;++s)o+=t,n[s].toArray(a,o)}return a}function Da(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function ka(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function BA(n,e){let t=PW[e];t===void 0&&(t=new Int32Array(e),PW[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function Nlt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Olt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2fv(this.addr,e),ka(t,e)}}function Blt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Da(t,e))return;n.uniform3fv(this.addr,e),ka(t,e)}}function Flt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4fv(this.addr,e),ka(t,e)}}function zlt(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ka(t,e)}else{if(Da(t,r))return;LW.set(r),n.uniformMatrix2fv(this.addr,!1,LW),ka(t,r)}}function Ult(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ka(t,e)}else{if(Da(t,r))return;kW.set(r),n.uniformMatrix3fv(this.addr,!1,kW),ka(t,r)}}function Hlt(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Da(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ka(t,e)}else{if(Da(t,r))return;DW.set(r),n.uniformMatrix4fv(this.addr,!1,DW),ka(t,r)}}function Vlt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function $lt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2iv(this.addr,e),ka(t,e)}}function Glt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Da(t,e))return;n.uniform3iv(this.addr,e),ka(t,e)}}function Wlt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4iv(this.addr,e),ka(t,e)}}function qlt(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Klt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Da(t,e))return;n.uniform2uiv(this.addr,e),ka(t,e)}}function Ylt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Da(t,e))return;n.uniform3uiv(this.addr,e),ka(t,e)}}function Xlt(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Da(t,e))return;n.uniform4uiv(this.addr,e),ka(t,e)}}function jlt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(IW.compareFunction=oae,a=IW):a=xae,t.setTexture2D(e||a,i)}function Zlt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||Cae,i)}function Qlt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Mae,i)}function Jlt(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||Sae,i)}function ect(n){switch(n){case 5126:return Nlt;case 35664:return Olt;case 35665:return Blt;case 35666:return Flt;case 35674:return zlt;case 35675:return Ult;case 35676:return Hlt;case 5124:case 35670:return Vlt;case 35667:case 35671:return $lt;case 35668:case 35672:return Glt;case 35669:case 35673:return Wlt;case 5125:return qlt;case 36294:return Klt;case 36295:return Ylt;case 36296:return Xlt;case 35678:case 36198:case 36298:case 36306:case 35682:return jlt;case 35679:case 36299:case 36307:return Zlt;case 35680:case 36300:case 36308:case 36293:return Qlt;case 36289:case 36303:case 36311:case 36292:return Jlt}}function tct(n,e){n.uniform1fv(this.addr,e)}function nct(n,e){const t=Ty(e,this.size,2);n.uniform2fv(this.addr,t)}function rct(n,e){const t=Ty(e,this.size,3);n.uniform3fv(this.addr,t)}function ict(n,e){const t=Ty(e,this.size,4);n.uniform4fv(this.addr,t)}function act(n,e){const t=Ty(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function sct(n,e){const t=Ty(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function oct(n,e){const t=Ty(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function lct(n,e){n.uniform1iv(this.addr,e)}function cct(n,e){n.uniform2iv(this.addr,e)}function uct(n,e){n.uniform3iv(this.addr,e)}function dct(n,e){n.uniform4iv(this.addr,e)}function fct(n,e){n.uniform1uiv(this.addr,e)}function hct(n,e){n.uniform2uiv(this.addr,e)}function pct(n,e){n.uniform3uiv(this.addr,e)}function mct(n,e){n.uniform4uiv(this.addr,e)}function vct(n,e,t){const r=this.cache,i=e.length,a=BA(t,i);Da(r,a)||(n.uniform1iv(this.addr,a),ka(r,a));for(let s=0;s!==i;++s)t.setTexture2D(e[s]||xae,a[s])}function gct(n,e,t){const r=this.cache,i=e.length,a=BA(t,i);Da(r,a)||(n.uniform1iv(this.addr,a),ka(r,a));for(let s=0;s!==i;++s)t.setTexture3D(e[s]||Cae,a[s])}function yct(n,e,t){const r=this.cache,i=e.length,a=BA(t,i);Da(r,a)||(n.uniform1iv(this.addr,a),ka(r,a));for(let s=0;s!==i;++s)t.setTextureCube(e[s]||Mae,a[s])}function bct(n,e,t){const r=this.cache,i=e.length,a=BA(t,i);Da(r,a)||(n.uniform1iv(this.addr,a),ka(r,a));for(let s=0;s!==i;++s)t.setTexture2DArray(e[s]||Sae,a[s])}function _ct(n){switch(n){case 5126:return tct;case 35664:return nct;case 35665:return rct;case 35666:return ict;case 35674:return act;case 35675:return sct;case 35676:return oct;case 5124:case 35670:return lct;case 35667:case 35671:return cct;case 35668:case 35672:return uct;case 35669:case 35673:return dct;case 5125:return fct;case 36294:return hct;case 36295:return pct;case 36296:return mct;case 35678:case 36198:case 36298:case 36306:case 35682:return vct;case 35679:case 36299:case 36307:return gct;case 35680:case 36300:case 36308:case 36293:return yct;case 36289:case 36303:case 36311:case 36292:return bct}}class wct{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=ect(t.type)}}class xct{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=_ct(t.type)}}class Sct{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,s=i.length;a!==s;++a){const o=i[a];o.setValue(e,t[o.id],r)}}}const QI=/(\w+)(\])?(\[|\.)?/g;function NW(n,e){n.seq.push(e),n.map[e.id]=e}function Cct(n,e,t){const r=n.name,i=r.length;for(QI.lastIndex=0;;){const a=QI.exec(r),s=QI.lastIndex;let o=a[1];const l=a[2]==="]",c=a[3];if(l&&(o=o|0),c===void 0||c==="["&&s+2===i){NW(t,c===void 0?new wct(o,n,e):new xct(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new Sct(o),NW(t,d)),t=d}}}class mC{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),s=e.getUniformLocation(t,a.name);Cct(a,s,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,s=t.length;a!==s;++a){const o=t[a],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const s=e[i];s.id in t&&r.push(s)}return r}}function OW(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const Mct=37297;let Tct=0;function Act(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let s=i;s<a;s++){const o=s+1;r.push(`${o===e?">":" "} ${o}: ${t[s]}`)}return r.join(`
`)}const BW=new cr;function Ect(n){ti._getMatrix(BW,ti.workingColorSpace,n);const e=`mat3( ${BW.elements.map(t=>t.toFixed(4))} )`;switch(ti.getTransfer(n)){case jM:return[e,"LinearTransferOETF"];case Ci:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function FW(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const s=parseInt(a[1]);return t.toUpperCase()+`

`+i+`

`+Act(n.getShaderSource(e),s)}else return i}function Ict(n,e){const t=Ect(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Rct(n,e){let t;switch(e){case bit:t="Linear";break;case _it:t="Reinhard";break;case wit:t="Cineon";break;case xit:t="ACESFilmic";break;case Cit:t="AgX";break;case Mit:t="Neutral";break;case Sit:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const c2=new tt;function Pct(){ti.getLuminanceCoefficients(c2);const n=c2.x.toFixed(4),e=c2.y.toFixed(4),t=c2.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Dct(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(U1).join(`
`)}function kct(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function Lct(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),s=a.name;let o=1;a.type===n.FLOAT_MAT2&&(o=2),a.type===n.FLOAT_MAT3&&(o=3),a.type===n.FLOAT_MAT4&&(o=4),t[s]={type:a.type,location:n.getAttribLocation(e,s),locationSize:o}}return t}function U1(n){return n!==""}function zW(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function UW(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Nct=/^[ \t]*#include +<([\w\d./]+)>/gm;function nk(n){return n.replace(Nct,Bct)}const Oct=new Map;function Bct(n,e){let t=Sr[e];if(t===void 0){const r=Oct.get(e);if(r!==void 0)t=Sr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return nk(t)}const Fct=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function HW(n){return n.replace(Fct,zct)}function zct(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function VW(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Uct(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Yie?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===Jrt?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ku&&(e="SHADOWMAP_TYPE_VSM"),e}function Hct(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ng:case Og:e="ENVMAP_TYPE_CUBE";break;case LA:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Vct(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Og:e="ENVMAP_MODE_REFRACTION";break}return e}function $ct(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case jie:e="ENVMAP_BLENDING_MULTIPLY";break;case git:e="ENVMAP_BLENDING_MIX";break;case yit:e="ENVMAP_BLENDING_ADD";break}return e}function Gct(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function Wct(n,e,t,r){const i=n.getContext(),a=t.defines;let s=t.vertexShader,o=t.fragmentShader;const l=Uct(t),c=Hct(t),u=Vct(t),d=$ct(t),f=Gct(t),h=Dct(t),p=kct(a),m=i.createProgram();let v,g,y=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(U1).join(`
`),v.length>0&&(v+=`
`),g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter(U1).join(`
`),g.length>0&&(g+=`
`)):(v=[VW(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(U1).join(`
`),g=[VW(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==qf?"#define TONE_MAPPING":"",t.toneMapping!==qf?Sr.tonemapping_pars_fragment:"",t.toneMapping!==qf?Rct("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Sr.colorspace_pars_fragment,Ict("linearToOutputTexel",t.outputColorSpace),Pct(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(U1).join(`
`)),s=nk(s),s=zW(s,t),s=UW(s,t),o=nk(o),o=zW(o,t),o=UW(o,t),s=HW(s),o=HW(o),t.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,v=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,g=["#define varying in",t.glslVersion===tW?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===tW?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const b=y+v+s,_=y+g+o,x=OW(i,i.VERTEX_SHADER,b),S=OW(i,i.FRAGMENT_SHADER,_);i.attachShader(m,x),i.attachShader(m,S),t.index0AttributeName!==void 0?i.bindAttribLocation(m,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m);function T(I){if(n.debug.checkShaderErrors){const D=i.getProgramInfoLog(m).trim(),L=i.getShaderInfoLog(x).trim(),F=i.getShaderInfoLog(S).trim();let B=!0,k=!0;if(i.getProgramParameter(m,i.LINK_STATUS)===!1)if(B=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,m,x,S);else{const H=FW(i,x,"vertex"),z=FW(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(m,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+D+`
`+H+`
`+z)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(L===""||F==="")&&(k=!1);k&&(I.diagnostics={runnable:B,programLog:D,vertexShader:{log:L,prefix:v},fragmentShader:{log:F,prefix:g}})}i.deleteShader(x),i.deleteShader(S),C=new mC(i,m),M=Lct(i,m)}let C;this.getUniforms=function(){return C===void 0&&T(this),C};let M;this.getAttributes=function(){return M===void 0&&T(this),M};let A=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return A===!1&&(A=i.getProgramParameter(m,Mct)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Tct++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=S,this}let qct=0;class Kct{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(a)===!1&&(s.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new Yct(e),t.set(e,r)),r}}class Yct{constructor(e){this.id=qct++,this.code=e,this.usedTimes=0}}function Xct(n,e,t,r,i,a,s){const o=new hae,l=new Kct,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(M){return c.add(M),M===0?"uv":`uv${M}`}function v(M,A,I,D,L){const F=D.fog,B=L.geometry,k=M.isMeshStandardMaterial?D.environment:null,H=(M.isMeshStandardMaterial?t:e).get(M.envMap||k),z=H&&H.mapping===LA?H.image.height:null,O=p[M.type];M.precision!==null&&(h=i.getMaxPrecision(M.precision),h!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",h,"instead."));const W=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,j=W!==void 0?W.length:0;let ee=0;B.morphAttributes.position!==void 0&&(ee=1),B.morphAttributes.normal!==void 0&&(ee=2),B.morphAttributes.color!==void 0&&(ee=3);let te,J,Q,ie;if(O){const Ln=Gc[O];te=Ln.vertexShader,J=Ln.fragmentShader}else te=M.vertexShader,J=M.fragmentShader,l.update(M),Q=l.getVertexShaderID(M),ie=l.getFragmentShaderID(M);const le=n.getRenderTarget(),we=n.state.buffers.depth.getReversed(),Ae=L.isInstancedMesh===!0,ke=L.isBatchedMesh===!0,Fe=!!M.map,q=!!M.matcap,ce=!!H,re=!!M.aoMap,Ne=!!M.lightMap,Pe=!!M.bumpMap,$e=!!M.normalMap,Ue=!!M.displacementMap,Ve=!!M.emissiveMap,je=!!M.metalnessMap,fe=!!M.roughnessMap,$=M.anisotropy>0,X=M.clearcoat>0,me=M.dispersion>0,Oe=M.iridescence>0,qe=M.sheen>0,mt=M.transmission>0,pt=$&&!!M.anisotropyMap,Ce=X&&!!M.clearcoatMap,ft=X&&!!M.clearcoatNormalMap,at=X&&!!M.clearcoatRoughnessMap,G=Oe&&!!M.iridescenceMap,ge=Oe&&!!M.iridescenceThicknessMap,pe=qe&&!!M.sheenColorMap,Ie=qe&&!!M.sheenRoughnessMap,ye=!!M.specularMap,Me=!!M.specularColorMap,ht=!!M.specularIntensityMap,Ee=mt&&!!M.transmissionMap,_t=mt&&!!M.thicknessMap,nt=!!M.gradientMap,gt=!!M.alphaMap,Lt=M.alphaTest>0,At=!!M.alphaHash,an=!!M.extensions;let _n=qf;M.toneMapped&&(le===null||le.isXRRenderTarget===!0)&&(_n=n.toneMapping);const lr={shaderID:O,shaderType:M.type,shaderName:M.name,vertexShader:te,fragmentShader:J,defines:M.defines,customVertexShaderID:Q,customFragmentShaderID:ie,isRawShaderMaterial:M.isRawShaderMaterial===!0,glslVersion:M.glslVersion,precision:h,batching:ke,batchingColor:ke&&L._colorsTexture!==null,instancing:Ae,instancingColor:Ae&&L.instanceColor!==null,instancingMorph:Ae&&L.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:le===null?n.outputColorSpace:le.isXRRenderTarget===!0?le.texture.colorSpace:zg,alphaToCoverage:!!M.alphaToCoverage,map:Fe,matcap:q,envMap:ce,envMapMode:ce&&H.mapping,envMapCubeUVHeight:z,aoMap:re,lightMap:Ne,bumpMap:Pe,normalMap:$e,displacementMap:f&&Ue,emissiveMap:Ve,normalMapObjectSpace:$e&&M.normalMapType===Rit,normalMapTangentSpace:$e&&M.normalMapType===Iit,metalnessMap:je,roughnessMap:fe,anisotropy:$,anisotropyMap:pt,clearcoat:X,clearcoatMap:Ce,clearcoatNormalMap:ft,clearcoatRoughnessMap:at,dispersion:me,iridescence:Oe,iridescenceMap:G,iridescenceThicknessMap:ge,sheen:qe,sheenColorMap:pe,sheenRoughnessMap:Ie,specularMap:ye,specularColorMap:Me,specularIntensityMap:ht,transmission:mt,transmissionMap:Ee,thicknessMap:_t,gradientMap:nt,opaque:M.transparent===!1&&M.blending===Wf&&M.alphaToCoverage===!1,alphaMap:gt,alphaTest:Lt,alphaHash:At,combine:M.combine,mapUv:Fe&&m(M.map.channel),aoMapUv:re&&m(M.aoMap.channel),lightMapUv:Ne&&m(M.lightMap.channel),bumpMapUv:Pe&&m(M.bumpMap.channel),normalMapUv:$e&&m(M.normalMap.channel),displacementMapUv:Ue&&m(M.displacementMap.channel),emissiveMapUv:Ve&&m(M.emissiveMap.channel),metalnessMapUv:je&&m(M.metalnessMap.channel),roughnessMapUv:fe&&m(M.roughnessMap.channel),anisotropyMapUv:pt&&m(M.anisotropyMap.channel),clearcoatMapUv:Ce&&m(M.clearcoatMap.channel),clearcoatNormalMapUv:ft&&m(M.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:at&&m(M.clearcoatRoughnessMap.channel),iridescenceMapUv:G&&m(M.iridescenceMap.channel),iridescenceThicknessMapUv:ge&&m(M.iridescenceThicknessMap.channel),sheenColorMapUv:pe&&m(M.sheenColorMap.channel),sheenRoughnessMapUv:Ie&&m(M.sheenRoughnessMap.channel),specularMapUv:ye&&m(M.specularMap.channel),specularColorMapUv:Me&&m(M.specularColorMap.channel),specularIntensityMapUv:ht&&m(M.specularIntensityMap.channel),transmissionMapUv:Ee&&m(M.transmissionMap.channel),thicknessMapUv:_t&&m(M.thicknessMap.channel),alphaMapUv:gt&&m(M.alphaMap.channel),vertexTangents:!!B.attributes.tangent&&($e||$),vertexColors:M.vertexColors,vertexAlphas:M.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,pointsUvs:L.isPoints===!0&&!!B.attributes.uv&&(Fe||gt),fog:!!F,useFog:M.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:M.flatShading===!0,sizeAttenuation:M.sizeAttenuation===!0,logarithmicDepthBuffer:d,reverseDepthBuffer:we,skinning:L.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:ee,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numLightProbes:A.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&I.length>0,shadowMapType:n.shadowMap.type,toneMapping:_n,decodeVideoTexture:Fe&&M.map.isVideoTexture===!0&&ti.getTransfer(M.map.colorSpace)===Ci,decodeVideoTextureEmissive:Ve&&M.emissiveMap.isVideoTexture===!0&&ti.getTransfer(M.emissiveMap.colorSpace)===Ci,premultipliedAlpha:M.premultipliedAlpha,doubleSided:M.side===gl,flipSided:M.side===go,useDepthPacking:M.depthPacking>=0,depthPacking:M.depthPacking||0,index0AttributeName:M.index0AttributeName,extensionClipCullDistance:an&&M.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(an&&M.extensions.multiDraw===!0||ke)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:M.customProgramCacheKey()};return lr.vertexUv1s=c.has(1),lr.vertexUv2s=c.has(2),lr.vertexUv3s=c.has(3),c.clear(),lr}function g(M){const A=[];if(M.shaderID?A.push(M.shaderID):(A.push(M.customVertexShaderID),A.push(M.customFragmentShaderID)),M.defines!==void 0)for(const I in M.defines)A.push(I),A.push(M.defines[I]);return M.isRawShaderMaterial===!1&&(y(A,M),b(A,M),A.push(n.outputColorSpace)),A.push(M.customProgramCacheKey),A.join()}function y(M,A){M.push(A.precision),M.push(A.outputColorSpace),M.push(A.envMapMode),M.push(A.envMapCubeUVHeight),M.push(A.mapUv),M.push(A.alphaMapUv),M.push(A.lightMapUv),M.push(A.aoMapUv),M.push(A.bumpMapUv),M.push(A.normalMapUv),M.push(A.displacementMapUv),M.push(A.emissiveMapUv),M.push(A.metalnessMapUv),M.push(A.roughnessMapUv),M.push(A.anisotropyMapUv),M.push(A.clearcoatMapUv),M.push(A.clearcoatNormalMapUv),M.push(A.clearcoatRoughnessMapUv),M.push(A.iridescenceMapUv),M.push(A.iridescenceThicknessMapUv),M.push(A.sheenColorMapUv),M.push(A.sheenRoughnessMapUv),M.push(A.specularMapUv),M.push(A.specularColorMapUv),M.push(A.specularIntensityMapUv),M.push(A.transmissionMapUv),M.push(A.thicknessMapUv),M.push(A.combine),M.push(A.fogExp2),M.push(A.sizeAttenuation),M.push(A.morphTargetsCount),M.push(A.morphAttributeCount),M.push(A.numDirLights),M.push(A.numPointLights),M.push(A.numSpotLights),M.push(A.numSpotLightMaps),M.push(A.numHemiLights),M.push(A.numRectAreaLights),M.push(A.numDirLightShadows),M.push(A.numPointLightShadows),M.push(A.numSpotLightShadows),M.push(A.numSpotLightShadowsWithMaps),M.push(A.numLightProbes),M.push(A.shadowMapType),M.push(A.toneMapping),M.push(A.numClippingPlanes),M.push(A.numClipIntersection),M.push(A.depthPacking)}function b(M,A){o.disableAll(),A.supportsVertexTextures&&o.enable(0),A.instancing&&o.enable(1),A.instancingColor&&o.enable(2),A.instancingMorph&&o.enable(3),A.matcap&&o.enable(4),A.envMap&&o.enable(5),A.normalMapObjectSpace&&o.enable(6),A.normalMapTangentSpace&&o.enable(7),A.clearcoat&&o.enable(8),A.iridescence&&o.enable(9),A.alphaTest&&o.enable(10),A.vertexColors&&o.enable(11),A.vertexAlphas&&o.enable(12),A.vertexUv1s&&o.enable(13),A.vertexUv2s&&o.enable(14),A.vertexUv3s&&o.enable(15),A.vertexTangents&&o.enable(16),A.anisotropy&&o.enable(17),A.alphaHash&&o.enable(18),A.batching&&o.enable(19),A.dispersion&&o.enable(20),A.batchingColor&&o.enable(21),M.push(o.mask),o.disableAll(),A.fog&&o.enable(0),A.useFog&&o.enable(1),A.flatShading&&o.enable(2),A.logarithmicDepthBuffer&&o.enable(3),A.reverseDepthBuffer&&o.enable(4),A.skinning&&o.enable(5),A.morphTargets&&o.enable(6),A.morphNormals&&o.enable(7),A.morphColors&&o.enable(8),A.premultipliedAlpha&&o.enable(9),A.shadowMapEnabled&&o.enable(10),A.doubleSided&&o.enable(11),A.flipSided&&o.enable(12),A.useDepthPacking&&o.enable(13),A.dithering&&o.enable(14),A.transmission&&o.enable(15),A.sheen&&o.enable(16),A.opaque&&o.enable(17),A.pointsUvs&&o.enable(18),A.decodeVideoTexture&&o.enable(19),A.decodeVideoTextureEmissive&&o.enable(20),A.alphaToCoverage&&o.enable(21),M.push(o.mask)}function _(M){const A=p[M.type];let I;if(A){const D=Gc[A];I=Mat.clone(D.uniforms)}else I=M.uniforms;return I}function x(M,A){let I;for(let D=0,L=u.length;D<L;D++){const F=u[D];if(F.cacheKey===A){I=F,++I.usedTimes;break}}return I===void 0&&(I=new Wct(n,A,M,a),u.push(I)),I}function S(M){if(--M.usedTimes===0){const A=u.indexOf(M);u[A]=u[u.length-1],u.pop(),M.destroy()}}function T(M){l.remove(M)}function C(){l.dispose()}return{getParameters:v,getProgramCacheKey:g,getUniforms:_,acquireProgram:x,releaseProgram:S,releaseShaderCache:T,programs:u,dispose:C}}function jct(){let n=new WeakMap;function e(s){return n.has(s)}function t(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function r(s){n.delete(s)}function i(s,o,l){n.get(s)[o]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function Zct(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function $W(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function GW(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function s(d,f,h,p,m,v){let g=n[e];return g===void 0?(g={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:v},n[e]=g):(g.id=d.id,g.object=d,g.geometry=f,g.material=h,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=m,g.group=v),e++,g}function o(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.push(g):h.transparent===!0?i.push(g):t.push(g)}function l(d,f,h,p,m,v){const g=s(d,f,h,p,m,v);h.transmission>0?r.unshift(g):h.transparent===!0?i.unshift(g):t.unshift(g)}function c(d,f){t.length>1&&t.sort(d||Zct),r.length>1&&r.sort(f||$W),i.length>1&&i.sort(f||$W)}function u(){for(let d=e,f=n.length;d<f;d++){const h=n[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:o,unshift:l,finish:u,sort:c}}function Qct(){let n=new WeakMap;function e(r,i){const a=n.get(r);let s;return a===void 0?(s=new GW,n.set(r,[s])):i>=a.length?(s=new GW,a.push(s)):s=a[i],s}function t(){n=new WeakMap}return{get:e,dispose:t}}function Jct(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new tt,color:new ni};break;case"SpotLight":t={position:new tt,direction:new tt,color:new ni,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new tt,color:new ni,distance:0,decay:0};break;case"HemisphereLight":t={direction:new tt,skyColor:new ni,groundColor:new ni};break;case"RectAreaLight":t={color:new ni,position:new tt,halfWidth:new tt,halfHeight:new tt};break}return n[e.id]=t,t}}}function eut(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vn,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let tut=0;function nut(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function rut(n){const e=new Jct,t=eut(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new tt);const i=new tt,a=new ur,s=new ur;function o(c){let u=0,d=0,f=0;for(let M=0;M<9;M++)r.probe[M].set(0,0,0);let h=0,p=0,m=0,v=0,g=0,y=0,b=0,_=0,x=0,S=0,T=0;c.sort(nut);for(let M=0,A=c.length;M<A;M++){const I=c[M],D=I.color,L=I.intensity,F=I.distance,B=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)u+=D.r*L,d+=D.g*L,f+=D.b*L;else if(I.isLightProbe){for(let k=0;k<9;k++)r.probe[k].addScaledVector(I.sh.coefficients[k],L);T++}else if(I.isDirectionalLight){const k=e.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const H=I.shadow,z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.directionalShadow[h]=z,r.directionalShadowMap[h]=B,r.directionalShadowMatrix[h]=I.shadow.matrix,y++}r.directional[h]=k,h++}else if(I.isSpotLight){const k=e.get(I);k.position.setFromMatrixPosition(I.matrixWorld),k.color.copy(D).multiplyScalar(L),k.distance=F,k.coneCos=Math.cos(I.angle),k.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),k.decay=I.decay,r.spot[m]=k;const H=I.shadow;if(I.map&&(r.spotLightMap[x]=I.map,x++,H.updateMatrices(I),I.castShadow&&S++),r.spotLightMatrix[m]=H.matrix,I.castShadow){const z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,r.spotShadow[m]=z,r.spotShadowMap[m]=B,_++}m++}else if(I.isRectAreaLight){const k=e.get(I);k.color.copy(D).multiplyScalar(L),k.halfWidth.set(I.width*.5,0,0),k.halfHeight.set(0,I.height*.5,0),r.rectArea[v]=k,v++}else if(I.isPointLight){const k=e.get(I);if(k.color.copy(I.color).multiplyScalar(I.intensity),k.distance=I.distance,k.decay=I.decay,I.castShadow){const H=I.shadow,z=t.get(I);z.shadowIntensity=H.intensity,z.shadowBias=H.bias,z.shadowNormalBias=H.normalBias,z.shadowRadius=H.radius,z.shadowMapSize=H.mapSize,z.shadowCameraNear=H.camera.near,z.shadowCameraFar=H.camera.far,r.pointShadow[p]=z,r.pointShadowMap[p]=B,r.pointShadowMatrix[p]=I.shadow.matrix,b++}r.point[p]=k,p++}else if(I.isHemisphereLight){const k=e.get(I);k.skyColor.copy(I.color).multiplyScalar(L),k.groundColor.copy(I.groundColor).multiplyScalar(L),r.hemi[g]=k,g++}}v>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=xn.LTC_FLOAT_1,r.rectAreaLTC2=xn.LTC_FLOAT_2):(r.rectAreaLTC1=xn.LTC_HALF_1,r.rectAreaLTC2=xn.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const C=r.hash;(C.directionalLength!==h||C.pointLength!==p||C.spotLength!==m||C.rectAreaLength!==v||C.hemiLength!==g||C.numDirectionalShadows!==y||C.numPointShadows!==b||C.numSpotShadows!==_||C.numSpotMaps!==x||C.numLightProbes!==T)&&(r.directional.length=h,r.spot.length=m,r.rectArea.length=v,r.point.length=p,r.hemi.length=g,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=_,r.spotShadowMap.length=_,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=_+x-S,r.spotLightMap.length=x,r.numSpotLightShadowsWithMaps=S,r.numLightProbes=T,C.directionalLength=h,C.pointLength=p,C.spotLength=m,C.rectAreaLength=v,C.hemiLength=g,C.numDirectionalShadows=y,C.numPointShadows=b,C.numSpotShadows=_,C.numSpotMaps=x,C.numLightProbes=T,r.version=tut++)}function l(c,u){let d=0,f=0,h=0,p=0,m=0;const v=u.matrixWorldInverse;for(let g=0,y=c.length;g<y;g++){const b=c[g];if(b.isDirectionalLight){const _=r.directional[d];_.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(v),d++}else if(b.isSpotLight){const _=r.spot[h];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),_.direction.setFromMatrixPosition(b.matrixWorld),i.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(i),_.direction.transformDirection(v),h++}else if(b.isRectAreaLight){const _=r.rectArea[p];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),s.identity(),a.copy(b.matrixWorld),a.premultiply(v),s.extractRotation(a),_.halfWidth.set(b.width*.5,0,0),_.halfHeight.set(0,b.height*.5,0),_.halfWidth.applyMatrix4(s),_.halfHeight.applyMatrix4(s),p++}else if(b.isPointLight){const _=r.point[f];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(v),f++}else if(b.isHemisphereLight){const _=r.hemi[m];_.direction.setFromMatrixPosition(b.matrixWorld),_.direction.transformDirection(v),m++}}}return{setup:o,setupView:l,state:r}}function WW(n){const e=new rut(n),t=[],r=[];function i(u){c.camera=u,t.length=0,r.length=0}function a(u){t.push(u)}function s(u){r.push(u)}function o(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:a,pushShadow:s}}function iut(n){let e=new WeakMap;function t(i,a=0){const s=e.get(i);let o;return s===void 0?(o=new WW(n),e.set(i,[o])):a>=s.length?(o=new WW(n),s.push(o)):o=s[a],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const aut=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,sut=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function out(n,e,t){let r=new _ae;const i=new Vn,a=new Vn,s=new $i,o=new Lat({depthPacking:Eit}),l=new Nat,c={},u=t.maxTextureSize,d={[gu]:go,[go]:gu,[gl]:gl},f=new qo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vn},radius:{value:4}},vertexShader:aut,fragmentShader:sut}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Ul;p.setAttribute("position",new Il(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new oa(p,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Yie;let g=this.type;this.render=function(S,T,C){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||S.length===0)return;const M=n.getRenderTarget(),A=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),D=n.state;D.setBlending(Gf),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const L=g!==Ku&&this.type===Ku,F=g===Ku&&this.type!==Ku;for(let B=0,k=S.length;B<k;B++){const H=S[B],z=H.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const O=z.getFrameExtents();if(i.multiply(O),a.copy(z.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(a.x=Math.floor(u/O.x),i.x=a.x*O.x,z.mapSize.x=a.x),i.y>u&&(a.y=Math.floor(u/O.y),i.y=a.y*O.y,z.mapSize.y=a.y)),z.map===null||L===!0||F===!0){const j=this.type!==Ku?{minFilter:Go,magFilter:Go}:{};z.map!==null&&z.map.dispose(),z.map=new vh(i.x,i.y,j),z.map.texture.name=H.name+".shadowMap",z.camera.updateProjectionMatrix()}n.setRenderTarget(z.map),n.clear();const W=z.getViewportCount();for(let j=0;j<W;j++){const ee=z.getViewport(j);s.set(a.x*ee.x,a.y*ee.y,a.x*ee.z,a.y*ee.w),D.viewport(s),z.updateMatrices(H,j),r=z.getFrustum(),_(T,C,z.camera,H,this.type)}z.isPointLightShadow!==!0&&this.type===Ku&&y(z,C),z.needsUpdate=!1}g=this.type,v.needsUpdate=!1,n.setRenderTarget(M,A,I)};function y(S,T){const C=e.update(m);f.defines.VSM_SAMPLES!==S.blurSamples&&(f.defines.VSM_SAMPLES=S.blurSamples,h.defines.VSM_SAMPLES=S.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new vh(i.x,i.y)),f.uniforms.shadow_pass.value=S.map.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,n.setRenderTarget(S.mapPass),n.clear(),n.renderBufferDirect(T,null,C,f,m,null),h.uniforms.shadow_pass.value=S.mapPass.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,n.setRenderTarget(S.map),n.clear(),n.renderBufferDirect(T,null,C,h,m,null)}function b(S,T,C,M){let A=null;const I=C.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(I!==void 0)A=I;else if(A=C.isPointLight===!0?l:o,n.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const D=A.uuid,L=T.uuid;let F=c[D];F===void 0&&(F={},c[D]=F);let B=F[L];B===void 0&&(B=A.clone(),F[L]=B,T.addEventListener("dispose",x)),A=B}if(A.visible=T.visible,A.wireframe=T.wireframe,M===Ku?A.side=T.shadowSide!==null?T.shadowSide:T.side:A.side=T.shadowSide!==null?T.shadowSide:d[T.side],A.alphaMap=T.alphaMap,A.alphaTest=T.alphaTest,A.map=T.map,A.clipShadows=T.clipShadows,A.clippingPlanes=T.clippingPlanes,A.clipIntersection=T.clipIntersection,A.displacementMap=T.displacementMap,A.displacementScale=T.displacementScale,A.displacementBias=T.displacementBias,A.wireframeLinewidth=T.wireframeLinewidth,A.linewidth=T.linewidth,C.isPointLight===!0&&A.isMeshDistanceMaterial===!0){const D=n.properties.get(A);D.light=C}return A}function _(S,T,C,M,A){if(S.visible===!1)return;if(S.layers.test(T.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&A===Ku)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,S.matrixWorld);const L=e.update(S),F=S.material;if(Array.isArray(F)){const B=L.groups;for(let k=0,H=B.length;k<H;k++){const z=B[k],O=F[z.materialIndex];if(O&&O.visible){const W=b(S,O,M,A);S.onBeforeShadow(n,S,T,C,L,W,z),n.renderBufferDirect(C,null,L,W,S,z),S.onAfterShadow(n,S,T,C,L,W,z)}}}else if(F.visible){const B=b(S,F,M,A);S.onBeforeShadow(n,S,T,C,L,B,null),n.renderBufferDirect(C,null,L,B,S,null),S.onAfterShadow(n,S,T,C,L,B,null)}}const D=S.children;for(let L=0,F=D.length;L<F;L++)_(D[L],T,C,M,A)}function x(S){S.target.removeEventListener("dispose",x);for(const C in c){const M=c[C],A=S.target.uuid;A in M&&(M[A].dispose(),delete M[A])}}}const lut={[bD]:_D,[wD]:CD,[xD]:MD,[Lg]:SD,[_D]:bD,[CD]:wD,[MD]:xD,[SD]:Lg};function cut(n,e){function t(){let Ee=!1;const _t=new $i;let nt=null;const gt=new $i(0,0,0,0);return{setMask:function(Lt){nt!==Lt&&!Ee&&(n.colorMask(Lt,Lt,Lt,Lt),nt=Lt)},setLocked:function(Lt){Ee=Lt},setClear:function(Lt,At,an,_n,lr){lr===!0&&(Lt*=_n,At*=_n,an*=_n),_t.set(Lt,At,an,_n),gt.equals(_t)===!1&&(n.clearColor(Lt,At,an,_n),gt.copy(_t))},reset:function(){Ee=!1,nt=null,gt.set(-1,0,0,0)}}}function r(){let Ee=!1,_t=!1,nt=null,gt=null,Lt=null;return{setReversed:function(At){if(_t!==At){const an=e.get("EXT_clip_control");_t?an.clipControlEXT(an.LOWER_LEFT_EXT,an.ZERO_TO_ONE_EXT):an.clipControlEXT(an.LOWER_LEFT_EXT,an.NEGATIVE_ONE_TO_ONE_EXT);const _n=Lt;Lt=null,this.setClear(_n)}_t=At},getReversed:function(){return _t},setTest:function(At){At?le(n.DEPTH_TEST):we(n.DEPTH_TEST)},setMask:function(At){nt!==At&&!Ee&&(n.depthMask(At),nt=At)},setFunc:function(At){if(_t&&(At=lut[At]),gt!==At){switch(At){case bD:n.depthFunc(n.NEVER);break;case _D:n.depthFunc(n.ALWAYS);break;case wD:n.depthFunc(n.LESS);break;case Lg:n.depthFunc(n.LEQUAL);break;case xD:n.depthFunc(n.EQUAL);break;case SD:n.depthFunc(n.GEQUAL);break;case CD:n.depthFunc(n.GREATER);break;case MD:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}gt=At}},setLocked:function(At){Ee=At},setClear:function(At){Lt!==At&&(_t&&(At=1-At),n.clearDepth(At),Lt=At)},reset:function(){Ee=!1,nt=null,gt=null,Lt=null,_t=!1}}}function i(){let Ee=!1,_t=null,nt=null,gt=null,Lt=null,At=null,an=null,_n=null,lr=null;return{setTest:function(Ln){Ee||(Ln?le(n.STENCIL_TEST):we(n.STENCIL_TEST))},setMask:function(Ln){_t!==Ln&&!Ee&&(n.stencilMask(Ln),_t=Ln)},setFunc:function(Ln,jr,Zn){(nt!==Ln||gt!==jr||Lt!==Zn)&&(n.stencilFunc(Ln,jr,Zn),nt=Ln,gt=jr,Lt=Zn)},setOp:function(Ln,jr,Zn){(At!==Ln||an!==jr||_n!==Zn)&&(n.stencilOp(Ln,jr,Zn),At=Ln,an=jr,_n=Zn)},setLocked:function(Ln){Ee=Ln},setClear:function(Ln){lr!==Ln&&(n.clearStencil(Ln),lr=Ln)},reset:function(){Ee=!1,_t=null,nt=null,gt=null,Lt=null,At=null,an=null,_n=null,lr=null}}}const a=new t,s=new r,o=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,m=!1,v=null,g=null,y=null,b=null,_=null,x=null,S=null,T=new ni(0,0,0),C=0,M=!1,A=null,I=null,D=null,L=null,F=null;const B=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,H=0;const z=n.getParameter(n.VERSION);z.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(z)[1]),k=H>=1):z.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(z)[1]),k=H>=2);let O=null,W={};const j=n.getParameter(n.SCISSOR_BOX),ee=n.getParameter(n.VIEWPORT),te=new $i().fromArray(j),J=new $i().fromArray(ee);function Q(Ee,_t,nt,gt){const Lt=new Uint8Array(4),At=n.createTexture();n.bindTexture(Ee,At),n.texParameteri(Ee,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ee,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let an=0;an<nt;an++)Ee===n.TEXTURE_3D||Ee===n.TEXTURE_2D_ARRAY?n.texImage3D(_t,0,n.RGBA,1,1,gt,0,n.RGBA,n.UNSIGNED_BYTE,Lt):n.texImage2D(_t+an,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Lt);return At}const ie={};ie[n.TEXTURE_2D]=Q(n.TEXTURE_2D,n.TEXTURE_2D,1),ie[n.TEXTURE_CUBE_MAP]=Q(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ie[n.TEXTURE_2D_ARRAY]=Q(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ie[n.TEXTURE_3D]=Q(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),s.setClear(1),o.setClear(0),le(n.DEPTH_TEST),s.setFunc(Lg),Pe(!1),$e(XG),le(n.CULL_FACE),re(Gf);function le(Ee){u[Ee]!==!0&&(n.enable(Ee),u[Ee]=!0)}function we(Ee){u[Ee]!==!1&&(n.disable(Ee),u[Ee]=!1)}function Ae(Ee,_t){return d[Ee]!==_t?(n.bindFramebuffer(Ee,_t),d[Ee]=_t,Ee===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=_t),Ee===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=_t),!0):!1}function ke(Ee,_t){let nt=h,gt=!1;if(Ee){nt=f.get(_t),nt===void 0&&(nt=[],f.set(_t,nt));const Lt=Ee.textures;if(nt.length!==Lt.length||nt[0]!==n.COLOR_ATTACHMENT0){for(let At=0,an=Lt.length;At<an;At++)nt[At]=n.COLOR_ATTACHMENT0+At;nt.length=Lt.length,gt=!0}}else nt[0]!==n.BACK&&(nt[0]=n.BACK,gt=!0);gt&&n.drawBuffers(nt)}function Fe(Ee){return p!==Ee?(n.useProgram(Ee),p=Ee,!0):!1}const q={[Cp]:n.FUNC_ADD,[eit]:n.FUNC_SUBTRACT,[tit]:n.FUNC_REVERSE_SUBTRACT};q[nit]=n.MIN,q[rit]=n.MAX;const ce={[iit]:n.ZERO,[ait]:n.ONE,[sit]:n.SRC_COLOR,[F_]:n.SRC_ALPHA,[fit]:n.SRC_ALPHA_SATURATE,[uit]:n.DST_COLOR,[lit]:n.DST_ALPHA,[oit]:n.ONE_MINUS_SRC_COLOR,[z_]:n.ONE_MINUS_SRC_ALPHA,[dit]:n.ONE_MINUS_DST_COLOR,[cit]:n.ONE_MINUS_DST_ALPHA,[hit]:n.CONSTANT_COLOR,[pit]:n.ONE_MINUS_CONSTANT_COLOR,[mit]:n.CONSTANT_ALPHA,[vit]:n.ONE_MINUS_CONSTANT_ALPHA};function re(Ee,_t,nt,gt,Lt,At,an,_n,lr,Ln){if(Ee===Gf){m===!0&&(we(n.BLEND),m=!1);return}if(m===!1&&(le(n.BLEND),m=!0),Ee!==Xie){if(Ee!==v||Ln!==M){if((g!==Cp||_!==Cp)&&(n.blendEquation(n.FUNC_ADD),g=Cp,_=Cp),Ln)switch(Ee){case Wf:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jG:n.blendFunc(n.ONE,n.ONE);break;case ZG:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case QG:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}else switch(Ee){case Wf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jG:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case ZG:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case QG:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee);break}y=null,b=null,x=null,S=null,T.set(0,0,0),C=0,v=Ee,M=Ln}return}Lt=Lt||_t,At=At||nt,an=an||gt,(_t!==g||Lt!==_)&&(n.blendEquationSeparate(q[_t],q[Lt]),g=_t,_=Lt),(nt!==y||gt!==b||At!==x||an!==S)&&(n.blendFuncSeparate(ce[nt],ce[gt],ce[At],ce[an]),y=nt,b=gt,x=At,S=an),(_n.equals(T)===!1||lr!==C)&&(n.blendColor(_n.r,_n.g,_n.b,lr),T.copy(_n),C=lr),v=Ee,M=!1}function Ne(Ee,_t){Ee.side===gl?we(n.CULL_FACE):le(n.CULL_FACE);let nt=Ee.side===go;_t&&(nt=!nt),Pe(nt),Ee.blending===Wf&&Ee.transparent===!1?re(Gf):re(Ee.blending,Ee.blendEquation,Ee.blendSrc,Ee.blendDst,Ee.blendEquationAlpha,Ee.blendSrcAlpha,Ee.blendDstAlpha,Ee.blendColor,Ee.blendAlpha,Ee.premultipliedAlpha),s.setFunc(Ee.depthFunc),s.setTest(Ee.depthTest),s.setMask(Ee.depthWrite),a.setMask(Ee.colorWrite);const gt=Ee.stencilWrite;o.setTest(gt),gt&&(o.setMask(Ee.stencilWriteMask),o.setFunc(Ee.stencilFunc,Ee.stencilRef,Ee.stencilFuncMask),o.setOp(Ee.stencilFail,Ee.stencilZFail,Ee.stencilZPass)),Ve(Ee.polygonOffset,Ee.polygonOffsetFactor,Ee.polygonOffsetUnits),Ee.alphaToCoverage===!0?le(n.SAMPLE_ALPHA_TO_COVERAGE):we(n.SAMPLE_ALPHA_TO_COVERAGE)}function Pe(Ee){A!==Ee&&(Ee?n.frontFace(n.CW):n.frontFace(n.CCW),A=Ee)}function $e(Ee){Ee!==Zrt?(le(n.CULL_FACE),Ee!==I&&(Ee===XG?n.cullFace(n.BACK):Ee===Qrt?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):we(n.CULL_FACE),I=Ee}function Ue(Ee){Ee!==D&&(k&&n.lineWidth(Ee),D=Ee)}function Ve(Ee,_t,nt){Ee?(le(n.POLYGON_OFFSET_FILL),(L!==_t||F!==nt)&&(n.polygonOffset(_t,nt),L=_t,F=nt)):we(n.POLYGON_OFFSET_FILL)}function je(Ee){Ee?le(n.SCISSOR_TEST):we(n.SCISSOR_TEST)}function fe(Ee){Ee===void 0&&(Ee=n.TEXTURE0+B-1),O!==Ee&&(n.activeTexture(Ee),O=Ee)}function $(Ee,_t,nt){nt===void 0&&(O===null?nt=n.TEXTURE0+B-1:nt=O);let gt=W[nt];gt===void 0&&(gt={type:void 0,texture:void 0},W[nt]=gt),(gt.type!==Ee||gt.texture!==_t)&&(O!==nt&&(n.activeTexture(nt),O=nt),n.bindTexture(Ee,_t||ie[Ee]),gt.type=Ee,gt.texture=_t)}function X(){const Ee=W[O];Ee!==void 0&&Ee.type!==void 0&&(n.bindTexture(Ee.type,null),Ee.type=void 0,Ee.texture=void 0)}function me(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function qe(){try{n.texSubImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function mt(){try{n.texSubImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function pt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function Ce(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function ft(){try{n.texStorage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function at(){try{n.texStorage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function G(){try{n.texImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function ge(){try{n.texImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}}function pe(Ee){te.equals(Ee)===!1&&(n.scissor(Ee.x,Ee.y,Ee.z,Ee.w),te.copy(Ee))}function Ie(Ee){J.equals(Ee)===!1&&(n.viewport(Ee.x,Ee.y,Ee.z,Ee.w),J.copy(Ee))}function ye(Ee,_t){let nt=c.get(_t);nt===void 0&&(nt=new WeakMap,c.set(_t,nt));let gt=nt.get(Ee);gt===void 0&&(gt=n.getUniformBlockIndex(_t,Ee.name),nt.set(Ee,gt))}function Me(Ee,_t){const gt=c.get(_t).get(Ee);l.get(_t)!==gt&&(n.uniformBlockBinding(_t,gt,Ee.__bindingPointIndex),l.set(_t,gt))}function ht(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),s.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},O=null,W={},d={},f=new WeakMap,h=[],p=null,m=!1,v=null,g=null,y=null,b=null,_=null,x=null,S=null,T=new ni(0,0,0),C=0,M=!1,A=null,I=null,D=null,L=null,F=null,te.set(0,0,n.canvas.width,n.canvas.height),J.set(0,0,n.canvas.width,n.canvas.height),a.reset(),s.reset(),o.reset()}return{buffers:{color:a,depth:s,stencil:o},enable:le,disable:we,bindFramebuffer:Ae,drawBuffers:ke,useProgram:Fe,setBlending:re,setMaterial:Ne,setFlipSided:Pe,setCullFace:$e,setLineWidth:Ue,setPolygonOffset:Ve,setScissorTest:je,activeTexture:fe,bindTexture:$,unbindTexture:X,compressedTexImage2D:me,compressedTexImage3D:Oe,texImage2D:G,texImage3D:ge,updateUBOMapping:ye,uniformBlockBinding:Me,texStorage2D:ft,texStorage3D:at,texSubImage2D:qe,texSubImage3D:mt,compressedTexSubImage2D:pt,compressedTexSubImage3D:Ce,scissor:pe,viewport:Ie,reset:ht}}function uut(n,e,t,r,i,a,s){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Vn,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(fe,$){return h?new OffscreenCanvas(fe,$):QM("canvas")}function m(fe,$,X){let me=1;const Oe=je(fe);if((Oe.width>X||Oe.height>X)&&(me=X/Math.max(Oe.width,Oe.height)),me<1)if(typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&fe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&fe instanceof ImageBitmap||typeof VideoFrame<"u"&&fe instanceof VideoFrame){const qe=Math.floor(me*Oe.width),mt=Math.floor(me*Oe.height);d===void 0&&(d=p(qe,mt));const pt=$?p(qe,mt):d;return pt.width=qe,pt.height=mt,pt.getContext("2d").drawImage(fe,0,0,qe,mt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Oe.width+"x"+Oe.height+") to ("+qe+"x"+mt+")."),pt}else return"data"in fe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Oe.width+"x"+Oe.height+")."),fe;return fe}function v(fe){return fe.generateMipmaps}function g(fe){n.generateMipmap(fe)}function y(fe){return fe.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:fe.isWebGL3DRenderTarget?n.TEXTURE_3D:fe.isWebGLArrayRenderTarget||fe.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function b(fe,$,X,me,Oe=!1){if(fe!==null){if(n[fe]!==void 0)return n[fe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+fe+"'")}let qe=$;if($===n.RED&&(X===n.FLOAT&&(qe=n.R32F),X===n.HALF_FLOAT&&(qe=n.R16F),X===n.UNSIGNED_BYTE&&(qe=n.R8)),$===n.RED_INTEGER&&(X===n.UNSIGNED_BYTE&&(qe=n.R8UI),X===n.UNSIGNED_SHORT&&(qe=n.R16UI),X===n.UNSIGNED_INT&&(qe=n.R32UI),X===n.BYTE&&(qe=n.R8I),X===n.SHORT&&(qe=n.R16I),X===n.INT&&(qe=n.R32I)),$===n.RG&&(X===n.FLOAT&&(qe=n.RG32F),X===n.HALF_FLOAT&&(qe=n.RG16F),X===n.UNSIGNED_BYTE&&(qe=n.RG8)),$===n.RG_INTEGER&&(X===n.UNSIGNED_BYTE&&(qe=n.RG8UI),X===n.UNSIGNED_SHORT&&(qe=n.RG16UI),X===n.UNSIGNED_INT&&(qe=n.RG32UI),X===n.BYTE&&(qe=n.RG8I),X===n.SHORT&&(qe=n.RG16I),X===n.INT&&(qe=n.RG32I)),$===n.RGB_INTEGER&&(X===n.UNSIGNED_BYTE&&(qe=n.RGB8UI),X===n.UNSIGNED_SHORT&&(qe=n.RGB16UI),X===n.UNSIGNED_INT&&(qe=n.RGB32UI),X===n.BYTE&&(qe=n.RGB8I),X===n.SHORT&&(qe=n.RGB16I),X===n.INT&&(qe=n.RGB32I)),$===n.RGBA_INTEGER&&(X===n.UNSIGNED_BYTE&&(qe=n.RGBA8UI),X===n.UNSIGNED_SHORT&&(qe=n.RGBA16UI),X===n.UNSIGNED_INT&&(qe=n.RGBA32UI),X===n.BYTE&&(qe=n.RGBA8I),X===n.SHORT&&(qe=n.RGBA16I),X===n.INT&&(qe=n.RGBA32I)),$===n.RGB&&X===n.UNSIGNED_INT_5_9_9_9_REV&&(qe=n.RGB9_E5),$===n.RGBA){const mt=Oe?jM:ti.getTransfer(me);X===n.FLOAT&&(qe=n.RGBA32F),X===n.HALF_FLOAT&&(qe=n.RGBA16F),X===n.UNSIGNED_BYTE&&(qe=mt===Ci?n.SRGB8_ALPHA8:n.RGBA8),X===n.UNSIGNED_SHORT_4_4_4_4&&(qe=n.RGBA4),X===n.UNSIGNED_SHORT_5_5_5_1&&(qe=n.RGB5_A1)}return(qe===n.R16F||qe===n.R32F||qe===n.RG16F||qe===n.RG32F||qe===n.RGBA16F||qe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),qe}function _(fe,$){let X;return fe?$===null||$===xl||$===Bg?X=n.DEPTH24_STENCIL8:$===pc?X=n.DEPTH32F_STENCIL8:$===U_&&(X=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===xl||$===Bg?X=n.DEPTH_COMPONENT24:$===pc?X=n.DEPTH_COMPONENT32F:$===U_&&(X=n.DEPTH_COMPONENT16),X}function x(fe,$){return v(fe)===!0||fe.isFramebufferTexture&&fe.minFilter!==Go&&fe.minFilter!==eu?Math.log2(Math.max($.width,$.height))+1:fe.mipmaps!==void 0&&fe.mipmaps.length>0?fe.mipmaps.length:fe.isCompressedTexture&&Array.isArray(fe.image)?$.mipmaps.length:1}function S(fe){const $=fe.target;$.removeEventListener("dispose",S),C($),$.isVideoTexture&&u.delete($)}function T(fe){const $=fe.target;$.removeEventListener("dispose",T),A($)}function C(fe){const $=r.get(fe);if($.__webglInit===void 0)return;const X=fe.source,me=f.get(X);if(me){const Oe=me[$.__cacheKey];Oe.usedTimes--,Oe.usedTimes===0&&M(fe),Object.keys(me).length===0&&f.delete(X)}r.remove(fe)}function M(fe){const $=r.get(fe);n.deleteTexture($.__webglTexture);const X=fe.source,me=f.get(X);delete me[$.__cacheKey],s.memory.textures--}function A(fe){const $=r.get(fe);if(fe.depthTexture&&(fe.depthTexture.dispose(),r.remove(fe.depthTexture)),fe.isWebGLCubeRenderTarget)for(let me=0;me<6;me++){if(Array.isArray($.__webglFramebuffer[me]))for(let Oe=0;Oe<$.__webglFramebuffer[me].length;Oe++)n.deleteFramebuffer($.__webglFramebuffer[me][Oe]);else n.deleteFramebuffer($.__webglFramebuffer[me]);$.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer[me])}else{if(Array.isArray($.__webglFramebuffer))for(let me=0;me<$.__webglFramebuffer.length;me++)n.deleteFramebuffer($.__webglFramebuffer[me]);else n.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&n.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&n.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let me=0;me<$.__webglColorRenderbuffer.length;me++)$.__webglColorRenderbuffer[me]&&n.deleteRenderbuffer($.__webglColorRenderbuffer[me]);$.__webglDepthRenderbuffer&&n.deleteRenderbuffer($.__webglDepthRenderbuffer)}const X=fe.textures;for(let me=0,Oe=X.length;me<Oe;me++){const qe=r.get(X[me]);qe.__webglTexture&&(n.deleteTexture(qe.__webglTexture),s.memory.textures--),r.remove(X[me])}r.remove(fe)}let I=0;function D(){I=0}function L(){const fe=I;return fe>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+fe+" texture units while this GPU supports only "+i.maxTextures),I+=1,fe}function F(fe){const $=[];return $.push(fe.wrapS),$.push(fe.wrapT),$.push(fe.wrapR||0),$.push(fe.magFilter),$.push(fe.minFilter),$.push(fe.anisotropy),$.push(fe.internalFormat),$.push(fe.format),$.push(fe.type),$.push(fe.generateMipmaps),$.push(fe.premultiplyAlpha),$.push(fe.flipY),$.push(fe.unpackAlignment),$.push(fe.colorSpace),$.join()}function B(fe,$){const X=r.get(fe);if(fe.isVideoTexture&&Ue(fe),fe.isRenderTargetTexture===!1&&fe.version>0&&X.__version!==fe.version){const me=fe.image;if(me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(X,fe,$);return}}t.bindTexture(n.TEXTURE_2D,X.__webglTexture,n.TEXTURE0+$)}function k(fe,$){const X=r.get(fe);if(fe.version>0&&X.__version!==fe.version){J(X,fe,$);return}t.bindTexture(n.TEXTURE_2D_ARRAY,X.__webglTexture,n.TEXTURE0+$)}function H(fe,$){const X=r.get(fe);if(fe.version>0&&X.__version!==fe.version){J(X,fe,$);return}t.bindTexture(n.TEXTURE_3D,X.__webglTexture,n.TEXTURE0+$)}function z(fe,$){const X=r.get(fe);if(fe.version>0&&X.__version!==fe.version){Q(X,fe,$);return}t.bindTexture(n.TEXTURE_CUBE_MAP,X.__webglTexture,n.TEXTURE0+$)}const O={[ED]:n.REPEAT,[Vp]:n.CLAMP_TO_EDGE,[ID]:n.MIRRORED_REPEAT},W={[Go]:n.NEAREST,[Tit]:n.NEAREST_MIPMAP_NEAREST,[VS]:n.NEAREST_MIPMAP_LINEAR,[eu]:n.LINEAR,[TI]:n.LINEAR_MIPMAP_NEAREST,[$p]:n.LINEAR_MIPMAP_LINEAR},j={[Pit]:n.NEVER,[Bit]:n.ALWAYS,[Dit]:n.LESS,[oae]:n.LEQUAL,[kit]:n.EQUAL,[Oit]:n.GEQUAL,[Lit]:n.GREATER,[Nit]:n.NOTEQUAL};function ee(fe,$){if($.type===pc&&e.has("OES_texture_float_linear")===!1&&($.magFilter===eu||$.magFilter===TI||$.magFilter===VS||$.magFilter===$p||$.minFilter===eu||$.minFilter===TI||$.minFilter===VS||$.minFilter===$p)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(fe,n.TEXTURE_WRAP_S,O[$.wrapS]),n.texParameteri(fe,n.TEXTURE_WRAP_T,O[$.wrapT]),(fe===n.TEXTURE_3D||fe===n.TEXTURE_2D_ARRAY)&&n.texParameteri(fe,n.TEXTURE_WRAP_R,O[$.wrapR]),n.texParameteri(fe,n.TEXTURE_MAG_FILTER,W[$.magFilter]),n.texParameteri(fe,n.TEXTURE_MIN_FILTER,W[$.minFilter]),$.compareFunction&&(n.texParameteri(fe,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(fe,n.TEXTURE_COMPARE_FUNC,j[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===Go||$.minFilter!==VS&&$.minFilter!==$p||$.type===pc&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||r.get($).__currentAnisotropy){const X=e.get("EXT_texture_filter_anisotropic");n.texParameterf(fe,X.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy}}}function te(fe,$){let X=!1;fe.__webglInit===void 0&&(fe.__webglInit=!0,$.addEventListener("dispose",S));const me=$.source;let Oe=f.get(me);Oe===void 0&&(Oe={},f.set(me,Oe));const qe=F($);if(qe!==fe.__cacheKey){Oe[qe]===void 0&&(Oe[qe]={texture:n.createTexture(),usedTimes:0},s.memory.textures++,X=!0),Oe[qe].usedTimes++;const mt=Oe[fe.__cacheKey];mt!==void 0&&(Oe[fe.__cacheKey].usedTimes--,mt.usedTimes===0&&M($)),fe.__cacheKey=qe,fe.__webglTexture=Oe[qe].texture}return X}function J(fe,$,X){let me=n.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(me=n.TEXTURE_2D_ARRAY),$.isData3DTexture&&(me=n.TEXTURE_3D);const Oe=te(fe,$),qe=$.source;t.bindTexture(me,fe.__webglTexture,n.TEXTURE0+X);const mt=r.get(qe);if(qe.version!==mt.__version||Oe===!0){t.activeTexture(n.TEXTURE0+X);const pt=ti.getPrimaries(ti.workingColorSpace),Ce=$.colorSpace===Tf?null:ti.getPrimaries($.colorSpace),ft=$.colorSpace===Tf||pt===Ce?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ft);let at=m($.image,!1,i.maxTextureSize);at=Ve($,at);const G=a.convert($.format,$.colorSpace),ge=a.convert($.type);let pe=b($.internalFormat,G,ge,$.colorSpace,$.isVideoTexture);ee(me,$);let Ie;const ye=$.mipmaps,Me=$.isVideoTexture!==!0,ht=mt.__version===void 0||Oe===!0,Ee=qe.dataReady,_t=x($,at);if($.isDepthTexture)pe=_($.format===Fg,$.type),ht&&(Me?t.texStorage2D(n.TEXTURE_2D,1,pe,at.width,at.height):t.texImage2D(n.TEXTURE_2D,0,pe,at.width,at.height,0,G,ge,null));else if($.isDataTexture)if(ye.length>0){Me&&ht&&t.texStorage2D(n.TEXTURE_2D,_t,pe,ye[0].width,ye[0].height);for(let nt=0,gt=ye.length;nt<gt;nt++)Ie=ye[nt],Me?Ee&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Ie.width,Ie.height,G,ge,Ie.data):t.texImage2D(n.TEXTURE_2D,nt,pe,Ie.width,Ie.height,0,G,ge,Ie.data);$.generateMipmaps=!1}else Me?(ht&&t.texStorage2D(n.TEXTURE_2D,_t,pe,at.width,at.height),Ee&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,at.width,at.height,G,ge,at.data)):t.texImage2D(n.TEXTURE_2D,0,pe,at.width,at.height,0,G,ge,at.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Me&&ht&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,pe,ye[0].width,ye[0].height,at.depth);for(let nt=0,gt=ye.length;nt<gt;nt++)if(Ie=ye[nt],$.format!==$s)if(G!==null)if(Me){if(Ee)if($.layerUpdates.size>0){const Lt=wW(Ie.width,Ie.height,$.format,$.type);for(const At of $.layerUpdates){const an=Ie.data.subarray(At*Lt/Ie.data.BYTES_PER_ELEMENT,(At+1)*Lt/Ie.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,At,Ie.width,Ie.height,1,G,an)}$.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Ie.width,Ie.height,at.depth,G,Ie.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,nt,pe,Ie.width,Ie.height,at.depth,0,Ie.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Me?Ee&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Ie.width,Ie.height,at.depth,G,ge,Ie.data):t.texImage3D(n.TEXTURE_2D_ARRAY,nt,pe,Ie.width,Ie.height,at.depth,0,G,ge,Ie.data)}else{Me&&ht&&t.texStorage2D(n.TEXTURE_2D,_t,pe,ye[0].width,ye[0].height);for(let nt=0,gt=ye.length;nt<gt;nt++)Ie=ye[nt],$.format!==$s?G!==null?Me?Ee&&t.compressedTexSubImage2D(n.TEXTURE_2D,nt,0,0,Ie.width,Ie.height,G,Ie.data):t.compressedTexImage2D(n.TEXTURE_2D,nt,pe,Ie.width,Ie.height,0,Ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Me?Ee&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Ie.width,Ie.height,G,ge,Ie.data):t.texImage2D(n.TEXTURE_2D,nt,pe,Ie.width,Ie.height,0,G,ge,Ie.data)}else if($.isDataArrayTexture)if(Me){if(ht&&t.texStorage3D(n.TEXTURE_2D_ARRAY,_t,pe,at.width,at.height,at.depth),Ee)if($.layerUpdates.size>0){const nt=wW(at.width,at.height,$.format,$.type);for(const gt of $.layerUpdates){const Lt=at.data.subarray(gt*nt/at.data.BYTES_PER_ELEMENT,(gt+1)*nt/at.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,gt,at.width,at.height,1,G,ge,Lt)}$.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,at.width,at.height,at.depth,G,ge,at.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,pe,at.width,at.height,at.depth,0,G,ge,at.data);else if($.isData3DTexture)Me?(ht&&t.texStorage3D(n.TEXTURE_3D,_t,pe,at.width,at.height,at.depth),Ee&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,at.width,at.height,at.depth,G,ge,at.data)):t.texImage3D(n.TEXTURE_3D,0,pe,at.width,at.height,at.depth,0,G,ge,at.data);else if($.isFramebufferTexture){if(ht)if(Me)t.texStorage2D(n.TEXTURE_2D,_t,pe,at.width,at.height);else{let nt=at.width,gt=at.height;for(let Lt=0;Lt<_t;Lt++)t.texImage2D(n.TEXTURE_2D,Lt,pe,nt,gt,0,G,ge,null),nt>>=1,gt>>=1}}else if(ye.length>0){if(Me&&ht){const nt=je(ye[0]);t.texStorage2D(n.TEXTURE_2D,_t,pe,nt.width,nt.height)}for(let nt=0,gt=ye.length;nt<gt;nt++)Ie=ye[nt],Me?Ee&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,G,ge,Ie):t.texImage2D(n.TEXTURE_2D,nt,pe,G,ge,Ie);$.generateMipmaps=!1}else if(Me){if(ht){const nt=je(at);t.texStorage2D(n.TEXTURE_2D,_t,pe,nt.width,nt.height)}Ee&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,G,ge,at)}else t.texImage2D(n.TEXTURE_2D,0,pe,G,ge,at);v($)&&g(me),mt.__version=qe.version,$.onUpdate&&$.onUpdate($)}fe.__version=$.version}function Q(fe,$,X){if($.image.length!==6)return;const me=te(fe,$),Oe=$.source;t.bindTexture(n.TEXTURE_CUBE_MAP,fe.__webglTexture,n.TEXTURE0+X);const qe=r.get(Oe);if(Oe.version!==qe.__version||me===!0){t.activeTexture(n.TEXTURE0+X);const mt=ti.getPrimaries(ti.workingColorSpace),pt=$.colorSpace===Tf?null:ti.getPrimaries($.colorSpace),Ce=$.colorSpace===Tf||mt===pt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,$.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,$.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ce);const ft=$.isCompressedTexture||$.image[0].isCompressedTexture,at=$.image[0]&&$.image[0].isDataTexture,G=[];for(let gt=0;gt<6;gt++)!ft&&!at?G[gt]=m($.image[gt],!0,i.maxCubemapSize):G[gt]=at?$.image[gt].image:$.image[gt],G[gt]=Ve($,G[gt]);const ge=G[0],pe=a.convert($.format,$.colorSpace),Ie=a.convert($.type),ye=b($.internalFormat,pe,Ie,$.colorSpace),Me=$.isVideoTexture!==!0,ht=qe.__version===void 0||me===!0,Ee=Oe.dataReady;let _t=x($,ge);ee(n.TEXTURE_CUBE_MAP,$);let nt;if(ft){Me&&ht&&t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,ye,ge.width,ge.height);for(let gt=0;gt<6;gt++){nt=G[gt].mipmaps;for(let Lt=0;Lt<nt.length;Lt++){const At=nt[Lt];$.format!==$s?pe!==null?Me?Ee&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,0,0,At.width,At.height,pe,At.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,ye,At.width,At.height,0,At.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,0,0,At.width,At.height,pe,Ie,At.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt,ye,At.width,At.height,0,pe,Ie,At.data)}}}else{if(nt=$.mipmaps,Me&&ht){nt.length>0&&_t++;const gt=je(G[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,_t,ye,gt.width,gt.height)}for(let gt=0;gt<6;gt++)if(at){Me?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,0,0,G[gt].width,G[gt].height,pe,Ie,G[gt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,ye,G[gt].width,G[gt].height,0,pe,Ie,G[gt].data);for(let Lt=0;Lt<nt.length;Lt++){const an=nt[Lt].image[gt].image;Me?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,0,0,an.width,an.height,pe,Ie,an.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,ye,an.width,an.height,0,pe,Ie,an.data)}}else{Me?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,0,0,pe,Ie,G[gt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0,ye,pe,Ie,G[gt]);for(let Lt=0;Lt<nt.length;Lt++){const At=nt[Lt];Me?Ee&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,0,0,pe,Ie,At.image[gt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Lt+1,ye,pe,Ie,At.image[gt])}}}v($)&&g(n.TEXTURE_CUBE_MAP),qe.__version=Oe.version,$.onUpdate&&$.onUpdate($)}fe.__version=$.version}function ie(fe,$,X,me,Oe,qe){const mt=a.convert(X.format,X.colorSpace),pt=a.convert(X.type),Ce=b(X.internalFormat,mt,pt,X.colorSpace),ft=r.get($),at=r.get(X);if(at.__renderTarget=$,!ft.__hasExternalTextures){const G=Math.max(1,$.width>>qe),ge=Math.max(1,$.height>>qe);Oe===n.TEXTURE_3D||Oe===n.TEXTURE_2D_ARRAY?t.texImage3D(Oe,qe,Ce,G,ge,$.depth,0,mt,pt,null):t.texImage2D(Oe,qe,Ce,G,ge,0,mt,pt,null)}t.bindFramebuffer(n.FRAMEBUFFER,fe),$e($)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,me,Oe,at.__webglTexture,0,Pe($)):(Oe===n.TEXTURE_2D||Oe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Oe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,me,Oe,at.__webglTexture,qe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function le(fe,$,X){if(n.bindRenderbuffer(n.RENDERBUFFER,fe),$.depthBuffer){const me=$.depthTexture,Oe=me&&me.isDepthTexture?me.type:null,qe=_($.stencilBuffer,Oe),mt=$.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,pt=Pe($);$e($)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,pt,qe,$.width,$.height):X?n.renderbufferStorageMultisample(n.RENDERBUFFER,pt,qe,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,qe,$.width,$.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,mt,n.RENDERBUFFER,fe)}else{const me=$.textures;for(let Oe=0;Oe<me.length;Oe++){const qe=me[Oe],mt=a.convert(qe.format,qe.colorSpace),pt=a.convert(qe.type),Ce=b(qe.internalFormat,mt,pt,qe.colorSpace),ft=Pe($);X&&$e($)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,ft,Ce,$.width,$.height):$e($)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ft,Ce,$.width,$.height):n.renderbufferStorage(n.RENDERBUFFER,Ce,$.width,$.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function we(fe,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,fe),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const me=r.get($.depthTexture);me.__renderTarget=$,(!me.__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),B($.depthTexture,0);const Oe=me.__webglTexture,qe=Pe($);if($.depthTexture.format===im)$e($)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Oe,0,qe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Oe,0);else if($.depthTexture.format===Fg)$e($)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Oe,0,qe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Oe,0);else throw new Error("Unknown depthTexture format")}function Ae(fe){const $=r.get(fe),X=fe.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==fe.depthTexture){const me=fe.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),me){const Oe=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,me.removeEventListener("dispose",Oe)};me.addEventListener("dispose",Oe),$.__depthDisposeCallback=Oe}$.__boundDepthTexture=me}if(fe.depthTexture&&!$.__autoAllocateDepthBuffer){if(X)throw new Error("target.depthTexture not supported in Cube render targets");we($.__webglFramebuffer,fe)}else if(X){$.__webglDepthbuffer=[];for(let me=0;me<6;me++)if(t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer[me]),$.__webglDepthbuffer[me]===void 0)$.__webglDepthbuffer[me]=n.createRenderbuffer(),le($.__webglDepthbuffer[me],fe,!1);else{const Oe=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,qe=$.__webglDepthbuffer[me];n.bindRenderbuffer(n.RENDERBUFFER,qe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Oe,n.RENDERBUFFER,qe)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=n.createRenderbuffer(),le($.__webglDepthbuffer,fe,!1);else{const me=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=$.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Oe),n.framebufferRenderbuffer(n.FRAMEBUFFER,me,n.RENDERBUFFER,Oe)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function ke(fe,$,X){const me=r.get(fe);$!==void 0&&ie(me.__webglFramebuffer,fe,fe.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),X!==void 0&&Ae(fe)}function Fe(fe){const $=fe.texture,X=r.get(fe),me=r.get($);fe.addEventListener("dispose",T);const Oe=fe.textures,qe=fe.isWebGLCubeRenderTarget===!0,mt=Oe.length>1;if(mt||(me.__webglTexture===void 0&&(me.__webglTexture=n.createTexture()),me.__version=$.version,s.memory.textures++),qe){X.__webglFramebuffer=[];for(let pt=0;pt<6;pt++)if($.mipmaps&&$.mipmaps.length>0){X.__webglFramebuffer[pt]=[];for(let Ce=0;Ce<$.mipmaps.length;Ce++)X.__webglFramebuffer[pt][Ce]=n.createFramebuffer()}else X.__webglFramebuffer[pt]=n.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){X.__webglFramebuffer=[];for(let pt=0;pt<$.mipmaps.length;pt++)X.__webglFramebuffer[pt]=n.createFramebuffer()}else X.__webglFramebuffer=n.createFramebuffer();if(mt)for(let pt=0,Ce=Oe.length;pt<Ce;pt++){const ft=r.get(Oe[pt]);ft.__webglTexture===void 0&&(ft.__webglTexture=n.createTexture(),s.memory.textures++)}if(fe.samples>0&&$e(fe)===!1){X.__webglMultisampledFramebuffer=n.createFramebuffer(),X.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,X.__webglMultisampledFramebuffer);for(let pt=0;pt<Oe.length;pt++){const Ce=Oe[pt];X.__webglColorRenderbuffer[pt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,X.__webglColorRenderbuffer[pt]);const ft=a.convert(Ce.format,Ce.colorSpace),at=a.convert(Ce.type),G=b(Ce.internalFormat,ft,at,Ce.colorSpace,fe.isXRRenderTarget===!0),ge=Pe(fe);n.renderbufferStorageMultisample(n.RENDERBUFFER,ge,G,fe.width,fe.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+pt,n.RENDERBUFFER,X.__webglColorRenderbuffer[pt])}n.bindRenderbuffer(n.RENDERBUFFER,null),fe.depthBuffer&&(X.__webglDepthRenderbuffer=n.createRenderbuffer(),le(X.__webglDepthRenderbuffer,fe,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(qe){t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture),ee(n.TEXTURE_CUBE_MAP,$);for(let pt=0;pt<6;pt++)if($.mipmaps&&$.mipmaps.length>0)for(let Ce=0;Ce<$.mipmaps.length;Ce++)ie(X.__webglFramebuffer[pt][Ce],fe,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,Ce);else ie(X.__webglFramebuffer[pt],fe,$,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0);v($)&&g(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(mt){for(let pt=0,Ce=Oe.length;pt<Ce;pt++){const ft=Oe[pt],at=r.get(ft);t.bindTexture(n.TEXTURE_2D,at.__webglTexture),ee(n.TEXTURE_2D,ft),ie(X.__webglFramebuffer,fe,ft,n.COLOR_ATTACHMENT0+pt,n.TEXTURE_2D,0),v(ft)&&g(n.TEXTURE_2D)}t.unbindTexture()}else{let pt=n.TEXTURE_2D;if((fe.isWebGL3DRenderTarget||fe.isWebGLArrayRenderTarget)&&(pt=fe.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(pt,me.__webglTexture),ee(pt,$),$.mipmaps&&$.mipmaps.length>0)for(let Ce=0;Ce<$.mipmaps.length;Ce++)ie(X.__webglFramebuffer[Ce],fe,$,n.COLOR_ATTACHMENT0,pt,Ce);else ie(X.__webglFramebuffer,fe,$,n.COLOR_ATTACHMENT0,pt,0);v($)&&g(pt),t.unbindTexture()}fe.depthBuffer&&Ae(fe)}function q(fe){const $=fe.textures;for(let X=0,me=$.length;X<me;X++){const Oe=$[X];if(v(Oe)){const qe=y(fe),mt=r.get(Oe).__webglTexture;t.bindTexture(qe,mt),g(qe),t.unbindTexture()}}}const ce=[],re=[];function Ne(fe){if(fe.samples>0){if($e(fe)===!1){const $=fe.textures,X=fe.width,me=fe.height;let Oe=n.COLOR_BUFFER_BIT;const qe=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,mt=r.get(fe),pt=$.length>1;if(pt)for(let Ce=0;Ce<$.length;Ce++)t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ce,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ce,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,mt.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglFramebuffer);for(let Ce=0;Ce<$.length;Ce++){if(fe.resolveDepthBuffer&&(fe.depthBuffer&&(Oe|=n.DEPTH_BUFFER_BIT),fe.stencilBuffer&&fe.resolveStencilBuffer&&(Oe|=n.STENCIL_BUFFER_BIT)),pt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,mt.__webglColorRenderbuffer[Ce]);const ft=r.get($[Ce]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ft,0)}n.blitFramebuffer(0,0,X,me,0,0,X,me,Oe,n.NEAREST),l===!0&&(ce.length=0,re.length=0,ce.push(n.COLOR_ATTACHMENT0+Ce),fe.depthBuffer&&fe.resolveDepthBuffer===!1&&(ce.push(qe),re.push(qe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,re)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ce))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),pt)for(let Ce=0;Ce<$.length;Ce++){t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ce,n.RENDERBUFFER,mt.__webglColorRenderbuffer[Ce]);const ft=r.get($[Ce]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,mt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ce,n.TEXTURE_2D,ft,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,mt.__webglMultisampledFramebuffer)}else if(fe.depthBuffer&&fe.resolveDepthBuffer===!1&&l){const $=fe.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[$])}}}function Pe(fe){return Math.min(i.maxSamples,fe.samples)}function $e(fe){const $=r.get(fe);return fe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function Ue(fe){const $=s.render.frame;u.get(fe)!==$&&(u.set(fe,$),fe.update())}function Ve(fe,$){const X=fe.colorSpace,me=fe.format,Oe=fe.type;return fe.isCompressedTexture===!0||fe.isVideoTexture===!0||X!==zg&&X!==Tf&&(ti.getTransfer(X)===Ci?(me!==$s||Oe!==yu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",X)),$}function je(fe){return typeof HTMLImageElement<"u"&&fe instanceof HTMLImageElement?(c.width=fe.naturalWidth||fe.width,c.height=fe.naturalHeight||fe.height):typeof VideoFrame<"u"&&fe instanceof VideoFrame?(c.width=fe.displayWidth,c.height=fe.displayHeight):(c.width=fe.width,c.height=fe.height),c}this.allocateTextureUnit=L,this.resetTextureUnits=D,this.setTexture2D=B,this.setTexture2DArray=k,this.setTexture3D=H,this.setTextureCube=z,this.rebindTextures=ke,this.setupRenderTarget=Fe,this.updateRenderTargetMipmap=q,this.updateMultisampleRenderTarget=Ne,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=ie,this.useMultisampledRTT=$e}function Tae(n,e){function t(r,i=Tf){let a;const s=ti.getTransfer(i);if(r===yu)return n.UNSIGNED_BYTE;if(r===SN)return n.UNSIGNED_SHORT_4_4_4_4;if(r===CN)return n.UNSIGNED_SHORT_5_5_5_1;if(r===eae)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===Qie)return n.BYTE;if(r===Jie)return n.SHORT;if(r===U_)return n.UNSIGNED_SHORT;if(r===xN)return n.INT;if(r===xl)return n.UNSIGNED_INT;if(r===pc)return n.FLOAT;if(r===Sy)return n.HALF_FLOAT;if(r===tae)return n.ALPHA;if(r===nae)return n.RGB;if(r===$s)return n.RGBA;if(r===rae)return n.LUMINANCE;if(r===iae)return n.LUMINANCE_ALPHA;if(r===im)return n.DEPTH_COMPONENT;if(r===Fg)return n.DEPTH_STENCIL;if(r===aae)return n.RED;if(r===NA)return n.RED_INTEGER;if(r===MN)return n.RG;if(r===TN)return n.RG_INTEGER;if(r===Xv)return n.RGBA_INTEGER;if(r===uC||r===dC||r===fC||r===hC)if(s===Ci)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===uC)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===dC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===fC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===hC)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===uC)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===dC)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===fC)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===hC)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===RD||r===PD||r===DD||r===kD)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===RD)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===PD)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===DD)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===kD)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===LD||r===ND||r===OD)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===LD||r===ND)return s===Ci?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===OD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===BD||r===FD||r===zD||r===UD||r===HD||r===VD||r===$D||r===GD||r===WD||r===qD||r===KD||r===YD||r===XD||r===jD)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===BD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===FD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===zD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===UD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===HD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===VD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===$D)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===GD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===WD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===qD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===KD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===YD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===XD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===jD)return s===Ci?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===pC||r===ZD||r===QD)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===pC)return s===Ci?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===ZD)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===QD)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===sae||r===JD||r===ek||r===tk)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===pC)return a.COMPRESSED_RED_RGTC1_EXT;if(r===JD)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===ek)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===tk)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Bg?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const dut={type:"move"};class JI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new s2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new s2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new tt,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new tt),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new s2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new tt,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new tt),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,s=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){s=!0;for(const m of e.hand.values()){const v=t.getJointPose(m,r),g=this._getHandJoint(c,m);v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(dut)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=s!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new s2;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const fut=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,hut=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class put{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,r){if(this.texture===null){const i=new Ys,a=e.properties.get(i);a.__webglTexture=t.texture,(t.depthNear!=r.depthNear||t.depthFar!=r.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new qo({vertexShader:fut,fragmentShader:hut,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new oa(new Hg(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class mut extends Hm{constructor(e,t){super();const r=this;let i=null,a=1,s=null,o="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=new put,v=t.getContextAttributes();let g=null,y=null;const b=[],_=[],x=new Vn;let S=null;const T=new ml;T.viewport=new $i;const C=new ml;C.viewport=new $i;const M=[T,C],A=new Bat;let I=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let Q=b[J];return Q===void 0&&(Q=new JI,b[J]=Q),Q.getTargetRaySpace()},this.getControllerGrip=function(J){let Q=b[J];return Q===void 0&&(Q=new JI,b[J]=Q),Q.getGripSpace()},this.getHand=function(J){let Q=b[J];return Q===void 0&&(Q=new JI,b[J]=Q),Q.getHandSpace()};function L(J){const Q=_.indexOf(J.inputSource);if(Q===-1)return;const ie=b[Q];ie!==void 0&&(ie.update(J.inputSource,J.frame,c||s),ie.dispatchEvent({type:J.type,data:J.inputSource}))}function F(){i.removeEventListener("select",L),i.removeEventListener("selectstart",L),i.removeEventListener("selectend",L),i.removeEventListener("squeeze",L),i.removeEventListener("squeezestart",L),i.removeEventListener("squeezeend",L),i.removeEventListener("end",F),i.removeEventListener("inputsourceschange",B);for(let J=0;J<b.length;J++){const Q=_[J];Q!==null&&(_[J]=null,b[J].disconnect(Q))}I=null,D=null,m.reset(),e.setRenderTarget(g),h=null,f=null,d=null,i=null,y=null,te.stop(),r.isPresenting=!1,e.setPixelRatio(S),e.setSize(x.width,x.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){o=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||s},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(g=e.getRenderTarget(),i.addEventListener("select",L),i.addEventListener("selectstart",L),i.addEventListener("selectend",L),i.addEventListener("squeeze",L),i.addEventListener("squeezestart",L),i.addEventListener("squeezeend",L),i.addEventListener("end",F),i.addEventListener("inputsourceschange",B),v.xrCompatible!==!0&&await t.makeXRCompatible(),S=e.getPixelRatio(),e.getSize(x),i.renderState.layers===void 0){const Q={antialias:v.antialias,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(i,t,Q),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),y=new vh(h.framebufferWidth,h.framebufferHeight,{format:$s,type:yu,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let Q=null,ie=null,le=null;v.depth&&(le=v.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Q=v.stencil?Fg:im,ie=v.stencil?Bg:xl);const we={colorFormat:t.RGBA8,depthFormat:le,scaleFactor:a};d=new XRWebGLBinding(i,t),f=d.createProjectionLayer(we),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),y=new vh(f.textureWidth,f.textureHeight,{format:$s,type:yu,depthTexture:new IN(f.textureWidth,f.textureHeight,ie,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,s=await i.requestReferenceSpace(o),te.setContext(i),te.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function B(J){for(let Q=0;Q<J.removed.length;Q++){const ie=J.removed[Q],le=_.indexOf(ie);le>=0&&(_[le]=null,b[le].disconnect(ie))}for(let Q=0;Q<J.added.length;Q++){const ie=J.added[Q];let le=_.indexOf(ie);if(le===-1){for(let Ae=0;Ae<b.length;Ae++)if(Ae>=_.length){_.push(ie),le=Ae;break}else if(_[Ae]===null){_[Ae]=ie,le=Ae;break}if(le===-1)break}const we=b[le];we&&we.connect(ie)}}const k=new tt,H=new tt;function z(J,Q,ie){k.setFromMatrixPosition(Q.matrixWorld),H.setFromMatrixPosition(ie.matrixWorld);const le=k.distanceTo(H),we=Q.projectionMatrix.elements,Ae=ie.projectionMatrix.elements,ke=we[14]/(we[10]-1),Fe=we[14]/(we[10]+1),q=(we[9]+1)/we[5],ce=(we[9]-1)/we[5],re=(we[8]-1)/we[0],Ne=(Ae[8]+1)/Ae[0],Pe=ke*re,$e=ke*Ne,Ue=le/(-re+Ne),Ve=Ue*-re;if(Q.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Ve),J.translateZ(Ue),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),we[10]===-1)J.projectionMatrix.copy(Q.projectionMatrix),J.projectionMatrixInverse.copy(Q.projectionMatrixInverse);else{const je=ke+Ue,fe=Fe+Ue,$=Pe-Ve,X=$e+(le-Ve),me=q*Fe/fe*je,Oe=ce*Fe/fe*je;J.projectionMatrix.makePerspective($,X,me,Oe,je,fe),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function O(J,Q){Q===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(Q.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let Q=J.near,ie=J.far;m.texture!==null&&(m.depthNear>0&&(Q=m.depthNear),m.depthFar>0&&(ie=m.depthFar)),A.near=C.near=T.near=Q,A.far=C.far=T.far=ie,(I!==A.near||D!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),I=A.near,D=A.far),T.layers.mask=J.layers.mask|2,C.layers.mask=J.layers.mask|4,A.layers.mask=T.layers.mask|C.layers.mask;const le=J.parent,we=A.cameras;O(A,le);for(let Ae=0;Ae<we.length;Ae++)O(we[Ae],le);we.length===2?z(A,T,C):A.projectionMatrix.copy(T.projectionMatrix),W(J,A,le)};function W(J,Q,ie){ie===null?J.matrix.copy(Q.matrixWorld):(J.matrix.copy(ie.matrixWorld),J.matrix.invert(),J.matrix.multiply(Q.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(Q.projectionMatrix),J.projectionMatrixInverse.copy(Q.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=H_*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(J){l=J,f!==null&&(f.fixedFoveation=J),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=J)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(A)};let j=null;function ee(J,Q){if(u=Q.getViewerPose(c||s),p=Q,u!==null){const ie=u.views;h!==null&&(e.setRenderTargetFramebuffer(y,h.framebuffer),e.setRenderTarget(y));let le=!1;ie.length!==A.cameras.length&&(A.cameras.length=0,le=!0);for(let Ae=0;Ae<ie.length;Ae++){const ke=ie[Ae];let Fe=null;if(h!==null)Fe=h.getViewport(ke);else{const ce=d.getViewSubImage(f,ke);Fe=ce.viewport,Ae===0&&(e.setRenderTargetTextures(y,ce.colorTexture,f.ignoreDepthValues?void 0:ce.depthStencilTexture),e.setRenderTarget(y))}let q=M[Ae];q===void 0&&(q=new ml,q.layers.enable(Ae),q.viewport=new $i,M[Ae]=q),q.matrix.fromArray(ke.transform.matrix),q.matrix.decompose(q.position,q.quaternion,q.scale),q.projectionMatrix.fromArray(ke.projectionMatrix),q.projectionMatrixInverse.copy(q.projectionMatrix).invert(),q.viewport.set(Fe.x,Fe.y,Fe.width,Fe.height),Ae===0&&(A.matrix.copy(q.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),le===!0&&A.cameras.push(q)}const we=i.enabledFeatures;if(we&&we.includes("depth-sensing")){const Ae=d.getDepthInformation(ie[0]);Ae&&Ae.isValid&&Ae.texture&&m.init(e,Ae,i.renderState)}}for(let ie=0;ie<b.length;ie++){const le=_[ie],we=b[ie];le!==null&&we!==void 0&&we.update(le,Q,c||s)}j&&j(J,Q),Q.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Q}),p=null}const te=new wae;te.setAnimationLoop(ee),this.setAnimationLoop=function(J){j=J},this.dispose=function(){}}}const up=new Td,vut=new ur;function gut(n,e){function t(v,g){v.matrixAutoUpdate===!0&&v.updateMatrix(),g.value.copy(v.matrix)}function r(v,g){g.color.getRGB(v.fogColor.value,gae(n)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)}function i(v,g,y,b,_){g.isMeshBasicMaterial||g.isMeshLambertMaterial?a(v,g):g.isMeshToonMaterial?(a(v,g),d(v,g)):g.isMeshPhongMaterial?(a(v,g),u(v,g)):g.isMeshStandardMaterial?(a(v,g),f(v,g),g.isMeshPhysicalMaterial&&h(v,g,_)):g.isMeshMatcapMaterial?(a(v,g),p(v,g)):g.isMeshDepthMaterial?a(v,g):g.isMeshDistanceMaterial?(a(v,g),m(v,g)):g.isMeshNormalMaterial?a(v,g):g.isLineBasicMaterial?(s(v,g),g.isLineDashedMaterial&&o(v,g)):g.isPointsMaterial?l(v,g,y,b):g.isSpriteMaterial?c(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function a(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,t(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,g.side===go&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,t(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),g.side===go&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,t(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,t(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const y=e.get(g),b=y.envMap,_=y.envMapRotation;b&&(v.envMap.value=b,up.copy(_),up.x*=-1,up.y*=-1,up.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(up.y*=-1,up.z*=-1),v.envMapRotation.value.setFromMatrix4(vut.makeRotationFromEuler(up)),v.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap&&(v.lightMap.value=g.lightMap,v.lightMapIntensity.value=g.lightMapIntensity,t(g.lightMap,v.lightMapTransform)),g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,v.aoMapTransform))}function s(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform))}function o(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}function l(v,g,y,b){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*y,v.scale.value=b*.5,g.map&&(v.map.value=g.map,t(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function c(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function u(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}function d(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}function f(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,v.roughnessMapTransform)),g.envMap&&(v.envMapIntensity.value=g.envMapIntensity)}function h(v,g,y){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===go&&v.clearcoatNormalScale.value.negate())),g.dispersion>0&&(v.dispersion.value=g.dispersion),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=y.texture,v.transmissionSamplerSize.value.set(y.width,y.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,v.specularIntensityMapTransform))}function p(v,g){g.matcap&&(v.matcap.value=g.matcap)}function m(v,g){const y=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(y.matrixWorld),v.nearDistance.value=y.shadow.camera.near,v.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function yut(n,e,t,r){let i={},a={},s=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,b){const _=b.program;r.uniformBlockBinding(y,_)}function c(y,b){let _=i[y.id];_===void 0&&(p(y),_=u(y),i[y.id]=_,y.addEventListener("dispose",v));const x=b.program;r.updateUBOMapping(y,x);const S=e.render.frame;a[y.id]!==S&&(f(y),a[y.id]=S)}function u(y){const b=d();y.__bindingPointIndex=b;const _=n.createBuffer(),x=y.__size,S=y.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,x,S),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,b,_),_}function d(){for(let y=0;y<o;y++)if(s.indexOf(y)===-1)return s.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(y){const b=i[y.id],_=y.uniforms,x=y.__cache;n.bindBuffer(n.UNIFORM_BUFFER,b);for(let S=0,T=_.length;S<T;S++){const C=Array.isArray(_[S])?_[S]:[_[S]];for(let M=0,A=C.length;M<A;M++){const I=C[M];if(h(I,S,M,x)===!0){const D=I.__offset,L=Array.isArray(I.value)?I.value:[I.value];let F=0;for(let B=0;B<L.length;B++){const k=L[B],H=m(k);typeof k=="number"||typeof k=="boolean"?(I.__data[0]=k,n.bufferSubData(n.UNIFORM_BUFFER,D+F,I.__data)):k.isMatrix3?(I.__data[0]=k.elements[0],I.__data[1]=k.elements[1],I.__data[2]=k.elements[2],I.__data[3]=0,I.__data[4]=k.elements[3],I.__data[5]=k.elements[4],I.__data[6]=k.elements[5],I.__data[7]=0,I.__data[8]=k.elements[6],I.__data[9]=k.elements[7],I.__data[10]=k.elements[8],I.__data[11]=0):(k.toArray(I.__data,F),F+=H.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,D,I.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function h(y,b,_,x){const S=y.value,T=b+"_"+_;if(x[T]===void 0)return typeof S=="number"||typeof S=="boolean"?x[T]=S:x[T]=S.clone(),!0;{const C=x[T];if(typeof S=="number"||typeof S=="boolean"){if(C!==S)return x[T]=S,!0}else if(C.equals(S)===!1)return C.copy(S),!0}return!1}function p(y){const b=y.uniforms;let _=0;const x=16;for(let T=0,C=b.length;T<C;T++){const M=Array.isArray(b[T])?b[T]:[b[T]];for(let A=0,I=M.length;A<I;A++){const D=M[A],L=Array.isArray(D.value)?D.value:[D.value];for(let F=0,B=L.length;F<B;F++){const k=L[F],H=m(k),z=_%x,O=z%H.boundary,W=z+O;_+=O,W!==0&&x-W<H.storage&&(_+=x-W),D.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=_,_+=H.storage}}}const S=_%x;return S>0&&(_+=x-S),y.__size=_,y.__cache={},this}function m(y){const b={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(b.boundary=4,b.storage=4):y.isVector2?(b.boundary=8,b.storage=8):y.isVector3||y.isColor?(b.boundary=16,b.storage=12):y.isVector4?(b.boundary=16,b.storage=16):y.isMatrix3?(b.boundary=48,b.storage=48):y.isMatrix4?(b.boundary=64,b.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),b}function v(y){const b=y.target;b.removeEventListener("dispose",v);const _=s.indexOf(b.__bindingPointIndex);s.splice(_,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete a[b.id]}function g(){for(const y in i)n.deleteBuffer(i[y]);s=[],i={},a={}}return{bind:l,update:c,dispose:g}}class but{constructor(e={}){const{canvas:t=tat(),context:r=null,depth:i=!0,stencil:a=!1,alpha:s=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=s;const p=new Uint32Array(4),m=new Int32Array(4);let v=null,g=null;const y=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fl,this.toneMapping=qf,this.toneMappingExposure=1;const _=this;let x=!1,S=0,T=0,C=null,M=-1,A=null;const I=new $i,D=new $i;let L=null;const F=new ni(0);let B=0,k=t.width,H=t.height,z=1,O=null,W=null;const j=new $i(0,0,k,H),ee=new $i(0,0,k,H);let te=!1;const J=new _ae;let Q=!1,ie=!1;const le=new ur,we=new ur,Ae=new tt,ke=new $i,Fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let q=!1;function ce(){return C===null?z:1}let re=r;function Ne(De,yt){return t.getContext(De,yt)}try{const De={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${wN}`),t.addEventListener("webglcontextlost",gt,!1),t.addEventListener("webglcontextrestored",Lt,!1),t.addEventListener("webglcontextcreationerror",At,!1),re===null){const yt="webgl2";if(re=Ne(yt,De),re===null)throw Ne(yt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(De){throw console.error("THREE.WebGLRenderer: "+De.message),De}let Pe,$e,Ue,Ve,je,fe,$,X,me,Oe,qe,mt,pt,Ce,ft,at,G,ge,pe,Ie,ye,Me,ht,Ee;function _t(){Pe=new Ilt(re),Pe.init(),Me=new Tae(re,Pe),$e=new Slt(re,Pe,e,Me),Ue=new cut(re,Pe),$e.reverseDepthBuffer&&f&&Ue.buffers.depth.setReversed(!0),Ve=new Dlt(re),je=new jct,fe=new uut(re,Pe,Ue,je,$e,Me,Ve),$=new Mlt(_),X=new Elt(_),me=new zat(re),ht=new wlt(re,me),Oe=new Rlt(re,me,Ve,ht),qe=new Llt(re,Oe,me,Ve),pe=new klt(re,$e,fe),at=new Clt(je),mt=new Xct(_,$,X,Pe,$e,ht,at),pt=new gut(_,je),Ce=new Qct,ft=new iut(Pe),ge=new _lt(_,$,X,Ue,qe,h,l),G=new out(_,qe,$e),Ee=new yut(re,Ve,$e,Ue),Ie=new xlt(re,Pe,Ve),ye=new Plt(re,Pe,Ve),Ve.programs=mt.programs,_.capabilities=$e,_.extensions=Pe,_.properties=je,_.renderLists=Ce,_.shadowMap=G,_.state=Ue,_.info=Ve}_t();const nt=new mut(_,re);this.xr=nt,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const De=Pe.get("WEBGL_lose_context");De&&De.loseContext()},this.forceContextRestore=function(){const De=Pe.get("WEBGL_lose_context");De&&De.restoreContext()},this.getPixelRatio=function(){return z},this.setPixelRatio=function(De){De!==void 0&&(z=De,this.setSize(k,H,!1))},this.getSize=function(De){return De.set(k,H)},this.setSize=function(De,yt,We=!0){if(nt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}k=De,H=yt,t.width=Math.floor(De*z),t.height=Math.floor(yt*z),We===!0&&(t.style.width=De+"px",t.style.height=yt+"px"),this.setViewport(0,0,De,yt)},this.getDrawingBufferSize=function(De){return De.set(k*z,H*z).floor()},this.setDrawingBufferSize=function(De,yt,We){k=De,H=yt,z=We,t.width=Math.floor(De*We),t.height=Math.floor(yt*We),this.setViewport(0,0,De,yt)},this.getCurrentViewport=function(De){return De.copy(I)},this.getViewport=function(De){return De.copy(j)},this.setViewport=function(De,yt,We,lt){De.isVector4?j.set(De.x,De.y,De.z,De.w):j.set(De,yt,We,lt),Ue.viewport(I.copy(j).multiplyScalar(z).round())},this.getScissor=function(De){return De.copy(ee)},this.setScissor=function(De,yt,We,lt){De.isVector4?ee.set(De.x,De.y,De.z,De.w):ee.set(De,yt,We,lt),Ue.scissor(D.copy(ee).multiplyScalar(z).round())},this.getScissorTest=function(){return te},this.setScissorTest=function(De){Ue.setScissorTest(te=De)},this.setOpaqueSort=function(De){O=De},this.setTransparentSort=function(De){W=De},this.getClearColor=function(De){return De.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor.apply(ge,arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha.apply(ge,arguments)},this.clear=function(De=!0,yt=!0,We=!0){let lt=0;if(De){let it=!1;if(C!==null){const Mt=C.texture.format;it=Mt===Xv||Mt===TN||Mt===NA}if(it){const Mt=C.texture.type,tn=Mt===yu||Mt===xl||Mt===U_||Mt===Bg||Mt===SN||Mt===CN,Qt=ge.getClearColor(),mn=ge.getClearAlpha(),Gn=Qt.r,rn=Qt.g,Mn=Qt.b;tn?(p[0]=Gn,p[1]=rn,p[2]=Mn,p[3]=mn,re.clearBufferuiv(re.COLOR,0,p)):(m[0]=Gn,m[1]=rn,m[2]=Mn,m[3]=mn,re.clearBufferiv(re.COLOR,0,m))}else lt|=re.COLOR_BUFFER_BIT}yt&&(lt|=re.DEPTH_BUFFER_BIT),We&&(lt|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(lt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",gt,!1),t.removeEventListener("webglcontextrestored",Lt,!1),t.removeEventListener("webglcontextcreationerror",At,!1),ge.dispose(),Ce.dispose(),ft.dispose(),je.dispose(),$.dispose(),X.dispose(),qe.dispose(),ht.dispose(),Ee.dispose(),mt.dispose(),nt.dispose(),nt.removeEventListener("sessionstart",Y),nt.removeEventListener("sessionend",oe),Ut.stop()};function gt(De){De.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),x=!0}function Lt(){console.log("THREE.WebGLRenderer: Context Restored."),x=!1;const De=Ve.autoReset,yt=G.enabled,We=G.autoUpdate,lt=G.needsUpdate,it=G.type;_t(),Ve.autoReset=De,G.enabled=yt,G.autoUpdate=We,G.needsUpdate=lt,G.type=it}function At(De){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",De.statusMessage)}function an(De){const yt=De.target;yt.removeEventListener("dispose",an),_n(yt)}function _n(De){lr(De),je.remove(De)}function lr(De){const yt=je.get(De).programs;yt!==void 0&&(yt.forEach(function(We){mt.releaseProgram(We)}),De.isShaderMaterial&&mt.releaseShaderCache(De))}this.renderBufferDirect=function(De,yt,We,lt,it,Mt){yt===null&&(yt=Fe);const tn=it.isMesh&&it.matrixWorld.determinant()<0,Qt=yn(De,yt,We,lt,it);Ue.setMaterial(lt,tn);let mn=We.index,Gn=1;if(lt.wireframe===!0){if(mn=Oe.getWireframeAttribute(We),mn===void 0)return;Gn=2}const rn=We.drawRange,Mn=We.attributes.position;let An=rn.start*Gn,ir=(rn.start+rn.count)*Gn;Mt!==null&&(An=Math.max(An,Mt.start*Gn),ir=Math.min(ir,(Mt.start+Mt.count)*Gn)),mn!==null?(An=Math.max(An,0),ir=Math.min(ir,mn.count)):Mn!=null&&(An=Math.max(An,0),ir=Math.min(ir,Mn.count));const qr=ir-An;if(qr<0||qr===1/0)return;ht.setup(it,lt,Qt,We,mn);let vr,gr=Ie;if(mn!==null&&(vr=me.get(mn),gr=ye,gr.setIndex(vr)),it.isMesh)lt.wireframe===!0?(Ue.setLineWidth(lt.wireframeLinewidth*ce()),gr.setMode(re.LINES)):gr.setMode(re.TRIANGLES);else if(it.isLine){let Wn=lt.linewidth;Wn===void 0&&(Wn=1),Ue.setLineWidth(Wn*ce()),it.isLineSegments?gr.setMode(re.LINES):it.isLineLoop?gr.setMode(re.LINE_LOOP):gr.setMode(re.LINE_STRIP)}else it.isPoints?gr.setMode(re.POINTS):it.isSprite&&gr.setMode(re.TRIANGLES);if(it.isBatchedMesh)if(it._multiDrawInstances!==null)gr.renderMultiDrawInstances(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount,it._multiDrawInstances);else if(Pe.get("WEBGL_multi_draw"))gr.renderMultiDraw(it._multiDrawStarts,it._multiDrawCounts,it._multiDrawCount);else{const Wn=it._multiDrawStarts,Ai=it._multiDrawCounts,Kr=it._multiDrawCount,Rs=mn?me.get(mn).bytesPerElement:1,Js=je.get(lt).currentProgram.getUniforms();for(let hr=0;hr<Kr;hr++)Js.setValue(re,"_gl_DrawID",hr),gr.render(Wn[hr]/Rs,Ai[hr])}else if(it.isInstancedMesh)gr.renderInstances(An,qr,it.count);else if(We.isInstancedBufferGeometry){const Wn=We._maxInstanceCount!==void 0?We._maxInstanceCount:1/0,Ai=Math.min(We.instanceCount,Wn);gr.renderInstances(An,qr,Ai)}else gr.render(An,qr)};function Ln(De,yt,We){De.transparent===!0&&De.side===gl&&De.forceSinglePass===!1?(De.side=go,De.needsUpdate=!0,et(De,yt,We),De.side=gu,De.needsUpdate=!0,et(De,yt,We),De.side=gl):et(De,yt,We)}this.compile=function(De,yt,We=null){We===null&&(We=De),g=ft.get(We),g.init(yt),b.push(g),We.traverseVisible(function(it){it.isLight&&it.layers.test(yt.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),De!==We&&De.traverseVisible(function(it){it.isLight&&it.layers.test(yt.layers)&&(g.pushLight(it),it.castShadow&&g.pushShadow(it))}),g.setupLights();const lt=new Set;return De.traverse(function(it){if(!(it.isMesh||it.isPoints||it.isLine||it.isSprite))return;const Mt=it.material;if(Mt)if(Array.isArray(Mt))for(let tn=0;tn<Mt.length;tn++){const Qt=Mt[tn];Ln(Qt,We,it),lt.add(Qt)}else Ln(Mt,We,it),lt.add(Mt)}),b.pop(),g=null,lt},this.compileAsync=function(De,yt,We=null){const lt=this.compile(De,yt,We);return new Promise(it=>{function Mt(){if(lt.forEach(function(tn){je.get(tn).currentProgram.isReady()&&lt.delete(tn)}),lt.size===0){it(De);return}setTimeout(Mt,10)}Pe.get("KHR_parallel_shader_compile")!==null?Mt():setTimeout(Mt,10)})};let jr=null;function Zn(De){jr&&jr(De)}function Y(){Ut.stop()}function oe(){Ut.start()}const Ut=new wae;Ut.setAnimationLoop(Zn),typeof self<"u"&&Ut.setContext(self),this.setAnimationLoop=function(De){jr=De,nt.setAnimationLoop(De),De===null?Ut.stop():Ut.start()},nt.addEventListener("sessionstart",Y),nt.addEventListener("sessionend",oe),this.render=function(De,yt){if(yt!==void 0&&yt.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(x===!0)return;if(De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),yt.parent===null&&yt.matrixWorldAutoUpdate===!0&&yt.updateMatrixWorld(),nt.enabled===!0&&nt.isPresenting===!0&&(nt.cameraAutoUpdate===!0&&nt.updateCamera(yt),yt=nt.getCamera()),De.isScene===!0&&De.onBeforeRender(_,De,yt,C),g=ft.get(De,b.length),g.init(yt),b.push(g),we.multiplyMatrices(yt.projectionMatrix,yt.matrixWorldInverse),J.setFromProjectionMatrix(we),ie=this.localClippingEnabled,Q=at.init(this.clippingPlanes,ie),v=Ce.get(De,y.length),v.init(),y.push(v),nt.enabled===!0&&nt.isPresenting===!0){const Mt=_.xr.getDepthSensingMesh();Mt!==null&&Te(Mt,yt,-1/0,_.sortObjects)}Te(De,yt,0,_.sortObjects),v.finish(),_.sortObjects===!0&&v.sort(O,W),q=nt.enabled===!1||nt.isPresenting===!1||nt.hasDepthSensing()===!1,q&&ge.addToRenderList(v,De),this.info.render.frame++,Q===!0&&at.beginShadows();const We=g.state.shadowsArray;G.render(We,De,yt),Q===!0&&at.endShadows(),this.info.autoReset===!0&&this.info.reset();const lt=v.opaque,it=v.transmissive;if(g.setupLights(),yt.isArrayCamera){const Mt=yt.cameras;if(it.length>0)for(let tn=0,Qt=Mt.length;tn<Qt;tn++){const mn=Mt[tn];St(lt,it,De,mn)}q&&ge.render(De);for(let tn=0,Qt=Mt.length;tn<Qt;tn++){const mn=Mt[tn];de(v,De,mn,mn.viewport)}}else it.length>0&&St(lt,it,De,yt),q&&ge.render(De),de(v,De,yt);C!==null&&(fe.updateMultisampleRenderTarget(C),fe.updateRenderTargetMipmap(C)),De.isScene===!0&&De.onAfterRender(_,De,yt),ht.resetDefaultState(),M=-1,A=null,b.pop(),b.length>0?(g=b[b.length-1],Q===!0&&at.setGlobalState(_.clippingPlanes,g.state.camera)):g=null,y.pop(),y.length>0?v=y[y.length-1]:v=null};function Te(De,yt,We,lt){if(De.visible===!1)return;if(De.layers.test(yt.layers)){if(De.isGroup)We=De.renderOrder;else if(De.isLOD)De.autoUpdate===!0&&De.update(yt);else if(De.isLight)g.pushLight(De),De.castShadow&&g.pushShadow(De);else if(De.isSprite){if(!De.frustumCulled||J.intersectsSprite(De)){lt&&ke.setFromMatrixPosition(De.matrixWorld).applyMatrix4(we);const tn=qe.update(De),Qt=De.material;Qt.visible&&v.push(De,tn,Qt,We,ke.z,null)}}else if((De.isMesh||De.isLine||De.isPoints)&&(!De.frustumCulled||J.intersectsObject(De))){const tn=qe.update(De),Qt=De.material;if(lt&&(De.boundingSphere!==void 0?(De.boundingSphere===null&&De.computeBoundingSphere(),ke.copy(De.boundingSphere.center)):(tn.boundingSphere===null&&tn.computeBoundingSphere(),ke.copy(tn.boundingSphere.center)),ke.applyMatrix4(De.matrixWorld).applyMatrix4(we)),Array.isArray(Qt)){const mn=tn.groups;for(let Gn=0,rn=mn.length;Gn<rn;Gn++){const Mn=mn[Gn],An=Qt[Mn.materialIndex];An&&An.visible&&v.push(De,tn,An,We,ke.z,Mn)}}else Qt.visible&&v.push(De,tn,Qt,We,ke.z,null)}}const Mt=De.children;for(let tn=0,Qt=Mt.length;tn<Qt;tn++)Te(Mt[tn],yt,We,lt)}function de(De,yt,We,lt){const it=De.opaque,Mt=De.transmissive,tn=De.transparent;g.setupLightsView(We),Q===!0&&at.setGlobalState(_.clippingPlanes,We),lt&&Ue.viewport(I.copy(lt)),it.length>0&&vt(it,yt,We),Mt.length>0&&vt(Mt,yt,We),tn.length>0&&vt(tn,yt,We),Ue.buffers.depth.setTest(!0),Ue.buffers.depth.setMask(!0),Ue.buffers.color.setMask(!0),Ue.setPolygonOffset(!1)}function St(De,yt,We,lt){if((We.isScene===!0?We.overrideMaterial:null)!==null)return;g.state.transmissionRenderTarget[lt.id]===void 0&&(g.state.transmissionRenderTarget[lt.id]=new vh(1,1,{generateMipmaps:!0,type:Pe.has("EXT_color_buffer_half_float")||Pe.has("EXT_color_buffer_float")?Sy:yu,minFilter:$p,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ti.workingColorSpace}));const Mt=g.state.transmissionRenderTarget[lt.id],tn=lt.viewport||I;Mt.setSize(tn.z,tn.w);const Qt=_.getRenderTarget();_.setRenderTarget(Mt),_.getClearColor(F),B=_.getClearAlpha(),B<1&&_.setClearColor(16777215,.5),_.clear(),q&&ge.render(We);const mn=_.toneMapping;_.toneMapping=qf;const Gn=lt.viewport;if(lt.viewport!==void 0&&(lt.viewport=void 0),g.setupLightsView(lt),Q===!0&&at.setGlobalState(_.clippingPlanes,lt),vt(De,We,lt),fe.updateMultisampleRenderTarget(Mt),fe.updateRenderTargetMipmap(Mt),Pe.has("WEBGL_multisampled_render_to_texture")===!1){let rn=!1;for(let Mn=0,An=yt.length;Mn<An;Mn++){const ir=yt[Mn],qr=ir.object,vr=ir.geometry,gr=ir.material,Wn=ir.group;if(gr.side===gl&&qr.layers.test(lt.layers)){const Ai=gr.side;gr.side=go,gr.needsUpdate=!0,It(qr,We,lt,vr,gr,Wn),gr.side=Ai,gr.needsUpdate=!0,rn=!0}}rn===!0&&(fe.updateMultisampleRenderTarget(Mt),fe.updateRenderTargetMipmap(Mt))}_.setRenderTarget(Qt),_.setClearColor(F,B),Gn!==void 0&&(lt.viewport=Gn),_.toneMapping=mn}function vt(De,yt,We){const lt=yt.isScene===!0?yt.overrideMaterial:null;for(let it=0,Mt=De.length;it<Mt;it++){const tn=De[it],Qt=tn.object,mn=tn.geometry,Gn=lt===null?tn.material:lt,rn=tn.group;Qt.layers.test(We.layers)&&It(Qt,yt,We,mn,Gn,rn)}}function It(De,yt,We,lt,it,Mt){De.onBeforeRender(_,yt,We,lt,it,Mt),De.modelViewMatrix.multiplyMatrices(We.matrixWorldInverse,De.matrixWorld),De.normalMatrix.getNormalMatrix(De.modelViewMatrix),it.onBeforeRender(_,yt,We,lt,De,Mt),it.transparent===!0&&it.side===gl&&it.forceSinglePass===!1?(it.side=go,it.needsUpdate=!0,_.renderBufferDirect(We,yt,lt,it,De,Mt),it.side=gu,it.needsUpdate=!0,_.renderBufferDirect(We,yt,lt,it,De,Mt),it.side=gl):_.renderBufferDirect(We,yt,lt,it,De,Mt),De.onAfterRender(_,yt,We,lt,it,Mt)}function et(De,yt,We){yt.isScene!==!0&&(yt=Fe);const lt=je.get(De),it=g.state.lights,Mt=g.state.shadowsArray,tn=it.state.version,Qt=mt.getParameters(De,it.state,Mt,yt,We),mn=mt.getProgramCacheKey(Qt);let Gn=lt.programs;lt.environment=De.isMeshStandardMaterial?yt.environment:null,lt.fog=yt.fog,lt.envMap=(De.isMeshStandardMaterial?X:$).get(De.envMap||lt.environment),lt.envMapRotation=lt.environment!==null&&De.envMap===null?yt.environmentRotation:De.envMapRotation,Gn===void 0&&(De.addEventListener("dispose",an),Gn=new Map,lt.programs=Gn);let rn=Gn.get(mn);if(rn!==void 0){if(lt.currentProgram===rn&&lt.lightsStateVersion===tn)return Kt(De,Qt),rn}else Qt.uniforms=mt.getUniforms(De),De.onBeforeCompile(Qt,_),rn=mt.acquireProgram(Qt,mn),Gn.set(mn,rn),lt.uniforms=Qt.uniforms;const Mn=lt.uniforms;return(!De.isShaderMaterial&&!De.isRawShaderMaterial||De.clipping===!0)&&(Mn.clippingPlanes=at.uniform),Kt(De,Qt),lt.needsLights=Ze(De),lt.lightsStateVersion=tn,lt.needsLights&&(Mn.ambientLightColor.value=it.state.ambient,Mn.lightProbe.value=it.state.probe,Mn.directionalLights.value=it.state.directional,Mn.directionalLightShadows.value=it.state.directionalShadow,Mn.spotLights.value=it.state.spot,Mn.spotLightShadows.value=it.state.spotShadow,Mn.rectAreaLights.value=it.state.rectArea,Mn.ltc_1.value=it.state.rectAreaLTC1,Mn.ltc_2.value=it.state.rectAreaLTC2,Mn.pointLights.value=it.state.point,Mn.pointLightShadows.value=it.state.pointShadow,Mn.hemisphereLights.value=it.state.hemi,Mn.directionalShadowMap.value=it.state.directionalShadowMap,Mn.directionalShadowMatrix.value=it.state.directionalShadowMatrix,Mn.spotShadowMap.value=it.state.spotShadowMap,Mn.spotLightMatrix.value=it.state.spotLightMatrix,Mn.spotLightMap.value=it.state.spotLightMap,Mn.pointShadowMap.value=it.state.pointShadowMap,Mn.pointShadowMatrix.value=it.state.pointShadowMatrix),lt.currentProgram=rn,lt.uniformsList=null,rn}function xt(De){if(De.uniformsList===null){const yt=De.currentProgram.getUniforms();De.uniformsList=mC.seqWithValue(yt.seq,De.uniforms)}return De.uniformsList}function Kt(De,yt){const We=je.get(De);We.outputColorSpace=yt.outputColorSpace,We.batching=yt.batching,We.batchingColor=yt.batchingColor,We.instancing=yt.instancing,We.instancingColor=yt.instancingColor,We.instancingMorph=yt.instancingMorph,We.skinning=yt.skinning,We.morphTargets=yt.morphTargets,We.morphNormals=yt.morphNormals,We.morphColors=yt.morphColors,We.morphTargetsCount=yt.morphTargetsCount,We.numClippingPlanes=yt.numClippingPlanes,We.numIntersection=yt.numClipIntersection,We.vertexAlphas=yt.vertexAlphas,We.vertexTangents=yt.vertexTangents,We.toneMapping=yt.toneMapping}function yn(De,yt,We,lt,it){yt.isScene!==!0&&(yt=Fe),fe.resetTextureUnits();const Mt=yt.fog,tn=lt.isMeshStandardMaterial?yt.environment:null,Qt=C===null?_.outputColorSpace:C.isXRRenderTarget===!0?C.texture.colorSpace:zg,mn=(lt.isMeshStandardMaterial?X:$).get(lt.envMap||tn),Gn=lt.vertexColors===!0&&!!We.attributes.color&&We.attributes.color.itemSize===4,rn=!!We.attributes.tangent&&(!!lt.normalMap||lt.anisotropy>0),Mn=!!We.morphAttributes.position,An=!!We.morphAttributes.normal,ir=!!We.morphAttributes.color;let qr=qf;lt.toneMapped&&(C===null||C.isXRRenderTarget===!0)&&(qr=_.toneMapping);const vr=We.morphAttributes.position||We.morphAttributes.normal||We.morphAttributes.color,gr=vr!==void 0?vr.length:0,Wn=je.get(lt),Ai=g.state.lights;if(Q===!0&&(ie===!0||De!==A)){const ra=De===A&&lt.id===M;at.setState(lt,De,ra)}let Kr=!1;lt.version===Wn.__version?(Wn.needsLights&&Wn.lightsStateVersion!==Ai.state.version||Wn.outputColorSpace!==Qt||it.isBatchedMesh&&Wn.batching===!1||!it.isBatchedMesh&&Wn.batching===!0||it.isBatchedMesh&&Wn.batchingColor===!0&&it.colorTexture===null||it.isBatchedMesh&&Wn.batchingColor===!1&&it.colorTexture!==null||it.isInstancedMesh&&Wn.instancing===!1||!it.isInstancedMesh&&Wn.instancing===!0||it.isSkinnedMesh&&Wn.skinning===!1||!it.isSkinnedMesh&&Wn.skinning===!0||it.isInstancedMesh&&Wn.instancingColor===!0&&it.instanceColor===null||it.isInstancedMesh&&Wn.instancingColor===!1&&it.instanceColor!==null||it.isInstancedMesh&&Wn.instancingMorph===!0&&it.morphTexture===null||it.isInstancedMesh&&Wn.instancingMorph===!1&&it.morphTexture!==null||Wn.envMap!==mn||lt.fog===!0&&Wn.fog!==Mt||Wn.numClippingPlanes!==void 0&&(Wn.numClippingPlanes!==at.numPlanes||Wn.numIntersection!==at.numIntersection)||Wn.vertexAlphas!==Gn||Wn.vertexTangents!==rn||Wn.morphTargets!==Mn||Wn.morphNormals!==An||Wn.morphColors!==ir||Wn.toneMapping!==qr||Wn.morphTargetsCount!==gr)&&(Kr=!0):(Kr=!0,Wn.__version=lt.version);let Rs=Wn.currentProgram;Kr===!0&&(Rs=et(lt,yt,it));let Js=!1,hr=!1,Hl=!1;const xi=Rs.getUniforms(),Wa=Wn.uniforms;if(Ue.useProgram(Rs.program)&&(Js=!0,hr=!0,Hl=!0),lt.id!==M&&(M=lt.id,hr=!0),Js||A!==De){Ue.buffers.depth.getReversed()?(le.copy(De.projectionMatrix),rat(le),iat(le),xi.setValue(re,"projectionMatrix",le)):xi.setValue(re,"projectionMatrix",De.projectionMatrix),xi.setValue(re,"viewMatrix",De.matrixWorldInverse);const Ki=xi.map.cameraPosition;Ki!==void 0&&Ki.setValue(re,Ae.setFromMatrixPosition(De.matrixWorld)),$e.logarithmicDepthBuffer&&xi.setValue(re,"logDepthBufFC",2/(Math.log(De.far+1)/Math.LN2)),(lt.isMeshPhongMaterial||lt.isMeshToonMaterial||lt.isMeshLambertMaterial||lt.isMeshBasicMaterial||lt.isMeshStandardMaterial||lt.isShaderMaterial)&&xi.setValue(re,"isOrthographic",De.isOrthographicCamera===!0),A!==De&&(A=De,hr=!0,Hl=!0)}if(it.isSkinnedMesh){xi.setOptional(re,it,"bindMatrix"),xi.setOptional(re,it,"bindMatrixInverse");const ra=it.skeleton;ra&&(ra.boneTexture===null&&ra.computeBoneTexture(),xi.setValue(re,"boneTexture",ra.boneTexture,fe))}it.isBatchedMesh&&(xi.setOptional(re,it,"batchingTexture"),xi.setValue(re,"batchingTexture",it._matricesTexture,fe),xi.setOptional(re,it,"batchingIdTexture"),xi.setValue(re,"batchingIdTexture",it._indirectTexture,fe),xi.setOptional(re,it,"batchingColorTexture"),it._colorsTexture!==null&&xi.setValue(re,"batchingColorTexture",it._colorsTexture,fe));const qa=We.morphAttributes;if((qa.position!==void 0||qa.normal!==void 0||qa.color!==void 0)&&pe.update(it,We,Rs),(hr||Wn.receiveShadow!==it.receiveShadow)&&(Wn.receiveShadow=it.receiveShadow,xi.setValue(re,"receiveShadow",it.receiveShadow)),lt.isMeshGouraudMaterial&&lt.envMap!==null&&(Wa.envMap.value=mn,Wa.flipEnvMap.value=mn.isCubeTexture&&mn.isRenderTargetTexture===!1?-1:1),lt.isMeshStandardMaterial&&lt.envMap===null&&yt.environment!==null&&(Wa.envMapIntensity.value=yt.environmentIntensity),hr&&(xi.setValue(re,"toneMappingExposure",_.toneMappingExposure),Wn.needsLights&&On(Wa,Hl),Mt&&lt.fog===!0&&pt.refreshFogUniforms(Wa,Mt),pt.refreshMaterialUniforms(Wa,lt,z,H,g.state.transmissionRenderTarget[De.id]),mC.upload(re,xt(Wn),Wa,fe)),lt.isShaderMaterial&&lt.uniformsNeedUpdate===!0&&(mC.upload(re,xt(Wn),Wa,fe),lt.uniformsNeedUpdate=!1),lt.isSpriteMaterial&&xi.setValue(re,"center",it.center),xi.setValue(re,"modelViewMatrix",it.modelViewMatrix),xi.setValue(re,"normalMatrix",it.normalMatrix),xi.setValue(re,"modelMatrix",it.matrixWorld),lt.isShaderMaterial||lt.isRawShaderMaterial){const ra=lt.uniformsGroups;for(let Ki=0,Yi=ra.length;Ki<Yi;Ki++){const So=ra[Ki];Ee.update(So,Rs),Ee.bind(So,Rs)}}return Rs}function On(De,yt){De.ambientLightColor.needsUpdate=yt,De.lightProbe.needsUpdate=yt,De.directionalLights.needsUpdate=yt,De.directionalLightShadows.needsUpdate=yt,De.pointLights.needsUpdate=yt,De.pointLightShadows.needsUpdate=yt,De.spotLights.needsUpdate=yt,De.spotLightShadows.needsUpdate=yt,De.rectAreaLights.needsUpdate=yt,De.hemisphereLights.needsUpdate=yt}function Ze(De){return De.isMeshLambertMaterial||De.isMeshToonMaterial||De.isMeshPhongMaterial||De.isMeshStandardMaterial||De.isShadowMaterial||De.isShaderMaterial&&De.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return C},this.setRenderTargetTextures=function(De,yt,We){je.get(De.texture).__webglTexture=yt,je.get(De.depthTexture).__webglTexture=We;const lt=je.get(De);lt.__hasExternalTextures=!0,lt.__autoAllocateDepthBuffer=We===void 0,lt.__autoAllocateDepthBuffer||Pe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),lt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(De,yt){const We=je.get(De);We.__webglFramebuffer=yt,We.__useDefaultFramebuffer=yt===void 0},this.setRenderTarget=function(De,yt=0,We=0){C=De,S=yt,T=We;let lt=!0,it=null,Mt=!1,tn=!1;if(De){const mn=je.get(De);if(mn.__useDefaultFramebuffer!==void 0)Ue.bindFramebuffer(re.FRAMEBUFFER,null),lt=!1;else if(mn.__webglFramebuffer===void 0)fe.setupRenderTarget(De);else if(mn.__hasExternalTextures)fe.rebindTextures(De,je.get(De.texture).__webglTexture,je.get(De.depthTexture).__webglTexture);else if(De.depthBuffer){const Mn=De.depthTexture;if(mn.__boundDepthTexture!==Mn){if(Mn!==null&&je.has(Mn)&&(De.width!==Mn.image.width||De.height!==Mn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");fe.setupDepthRenderbuffer(De)}}const Gn=De.texture;(Gn.isData3DTexture||Gn.isDataArrayTexture||Gn.isCompressedArrayTexture)&&(tn=!0);const rn=je.get(De).__webglFramebuffer;De.isWebGLCubeRenderTarget?(Array.isArray(rn[yt])?it=rn[yt][We]:it=rn[yt],Mt=!0):De.samples>0&&fe.useMultisampledRTT(De)===!1?it=je.get(De).__webglMultisampledFramebuffer:Array.isArray(rn)?it=rn[We]:it=rn,I.copy(De.viewport),D.copy(De.scissor),L=De.scissorTest}else I.copy(j).multiplyScalar(z).floor(),D.copy(ee).multiplyScalar(z).floor(),L=te;if(Ue.bindFramebuffer(re.FRAMEBUFFER,it)&&lt&&Ue.drawBuffers(De,it),Ue.viewport(I),Ue.scissor(D),Ue.setScissorTest(L),Mt){const mn=je.get(De.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+yt,mn.__webglTexture,We)}else if(tn){const mn=je.get(De.texture),Gn=yt||0;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,mn.__webglTexture,We||0,Gn)}M=-1},this.readRenderTargetPixels=function(De,yt,We,lt,it,Mt,tn){if(!(De&&De.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Qt=je.get(De).__webglFramebuffer;if(De.isWebGLCubeRenderTarget&&tn!==void 0&&(Qt=Qt[tn]),Qt){Ue.bindFramebuffer(re.FRAMEBUFFER,Qt);try{const mn=De.texture,Gn=mn.format,rn=mn.type;if(!$e.textureFormatReadable(Gn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!$e.textureTypeReadable(rn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}yt>=0&&yt<=De.width-lt&&We>=0&&We<=De.height-it&&re.readPixels(yt,We,lt,it,Me.convert(Gn),Me.convert(rn),Mt)}finally{const mn=C!==null?je.get(C).__webglFramebuffer:null;Ue.bindFramebuffer(re.FRAMEBUFFER,mn)}}},this.readRenderTargetPixelsAsync=async function(De,yt,We,lt,it,Mt,tn){if(!(De&&De.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qt=je.get(De).__webglFramebuffer;if(De.isWebGLCubeRenderTarget&&tn!==void 0&&(Qt=Qt[tn]),Qt){const mn=De.texture,Gn=mn.format,rn=mn.type;if(!$e.textureFormatReadable(Gn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!$e.textureTypeReadable(rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(yt>=0&&yt<=De.width-lt&&We>=0&&We<=De.height-it){Ue.bindFramebuffer(re.FRAMEBUFFER,Qt);const Mn=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,Mn),re.bufferData(re.PIXEL_PACK_BUFFER,Mt.byteLength,re.STREAM_READ),re.readPixels(yt,We,lt,it,Me.convert(Gn),Me.convert(rn),0);const An=C!==null?je.get(C).__webglFramebuffer:null;Ue.bindFramebuffer(re.FRAMEBUFFER,An);const ir=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await nat(re,ir,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,Mn),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,Mt),re.deleteBuffer(Mn),re.deleteSync(ir),Mt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(De,yt=null,We=0){De.isTexture!==!0&&(hv("WebGLRenderer: copyFramebufferToTexture function signature has changed."),yt=arguments[0]||null,De=arguments[1]);const lt=Math.pow(2,-We),it=Math.floor(De.image.width*lt),Mt=Math.floor(De.image.height*lt),tn=yt!==null?yt.x:0,Qt=yt!==null?yt.y:0;fe.setTexture2D(De,0),re.copyTexSubImage2D(re.TEXTURE_2D,We,0,0,tn,Qt,it,Mt),Ue.unbindTexture()};const Xn=re.createFramebuffer(),st=re.createFramebuffer();this.copyTextureToTexture=function(De,yt,We=null,lt=null,it=0,Mt=null){De.isTexture!==!0&&(hv("WebGLRenderer: copyTextureToTexture function signature has changed."),lt=arguments[0]||null,De=arguments[1],yt=arguments[2],Mt=arguments[3]||0,We=null),Mt===null&&(it!==0?(hv("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Mt=it,it=0):Mt=0);let tn,Qt,mn,Gn,rn,Mn,An,ir,qr;const vr=De.isCompressedTexture?De.mipmaps[Mt]:De.image;if(We!==null)tn=We.max.x-We.min.x,Qt=We.max.y-We.min.y,mn=We.isBox3?We.max.z-We.min.z:1,Gn=We.min.x,rn=We.min.y,Mn=We.isBox3?We.min.z:0;else{const qa=Math.pow(2,-it);tn=Math.floor(vr.width*qa),Qt=Math.floor(vr.height*qa),De.isDataArrayTexture?mn=vr.depth:De.isData3DTexture?mn=Math.floor(vr.depth*qa):mn=1,Gn=0,rn=0,Mn=0}lt!==null?(An=lt.x,ir=lt.y,qr=lt.z):(An=0,ir=0,qr=0);const gr=Me.convert(yt.format),Wn=Me.convert(yt.type);let Ai;yt.isData3DTexture?(fe.setTexture3D(yt,0),Ai=re.TEXTURE_3D):yt.isDataArrayTexture||yt.isCompressedArrayTexture?(fe.setTexture2DArray(yt,0),Ai=re.TEXTURE_2D_ARRAY):(fe.setTexture2D(yt,0),Ai=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,yt.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,yt.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,yt.unpackAlignment);const Kr=re.getParameter(re.UNPACK_ROW_LENGTH),Rs=re.getParameter(re.UNPACK_IMAGE_HEIGHT),Js=re.getParameter(re.UNPACK_SKIP_PIXELS),hr=re.getParameter(re.UNPACK_SKIP_ROWS),Hl=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,vr.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,vr.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Gn),re.pixelStorei(re.UNPACK_SKIP_ROWS,rn),re.pixelStorei(re.UNPACK_SKIP_IMAGES,Mn);const xi=De.isDataArrayTexture||De.isData3DTexture,Wa=yt.isDataArrayTexture||yt.isData3DTexture;if(De.isDepthTexture){const qa=je.get(De),ra=je.get(yt),Ki=je.get(qa.__renderTarget),Yi=je.get(ra.__renderTarget);Ue.bindFramebuffer(re.READ_FRAMEBUFFER,Ki.__webglFramebuffer),Ue.bindFramebuffer(re.DRAW_FRAMEBUFFER,Yi.__webglFramebuffer);for(let So=0;So<mn;So++)xi&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,je.get(De).__webglTexture,it,Mn+So),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,je.get(yt).__webglTexture,Mt,qr+So)),re.blitFramebuffer(Gn,rn,tn,Qt,An,ir,tn,Qt,re.DEPTH_BUFFER_BIT,re.NEAREST);Ue.bindFramebuffer(re.READ_FRAMEBUFFER,null),Ue.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(it!==0||De.isRenderTargetTexture||je.has(De)){const qa=je.get(De),ra=je.get(yt);Ue.bindFramebuffer(re.READ_FRAMEBUFFER,Xn),Ue.bindFramebuffer(re.DRAW_FRAMEBUFFER,st);for(let Ki=0;Ki<mn;Ki++)xi?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,qa.__webglTexture,it,Mn+Ki):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,qa.__webglTexture,it),Wa?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,ra.__webglTexture,Mt,qr+Ki):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,ra.__webglTexture,Mt),it!==0?re.blitFramebuffer(Gn,rn,tn,Qt,An,ir,tn,Qt,re.COLOR_BUFFER_BIT,re.NEAREST):Wa?re.copyTexSubImage3D(Ai,Mt,An,ir,qr+Ki,Gn,rn,tn,Qt):re.copyTexSubImage2D(Ai,Mt,An,ir,Gn,rn,tn,Qt);Ue.bindFramebuffer(re.READ_FRAMEBUFFER,null),Ue.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else Wa?De.isDataTexture||De.isData3DTexture?re.texSubImage3D(Ai,Mt,An,ir,qr,tn,Qt,mn,gr,Wn,vr.data):yt.isCompressedArrayTexture?re.compressedTexSubImage3D(Ai,Mt,An,ir,qr,tn,Qt,mn,gr,vr.data):re.texSubImage3D(Ai,Mt,An,ir,qr,tn,Qt,mn,gr,Wn,vr):De.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,Mt,An,ir,tn,Qt,gr,Wn,vr.data):De.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,Mt,An,ir,vr.width,vr.height,gr,vr.data):re.texSubImage2D(re.TEXTURE_2D,Mt,An,ir,tn,Qt,gr,Wn,vr);re.pixelStorei(re.UNPACK_ROW_LENGTH,Kr),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Rs),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Js),re.pixelStorei(re.UNPACK_SKIP_ROWS,hr),re.pixelStorei(re.UNPACK_SKIP_IMAGES,Hl),Mt===0&&yt.generateMipmaps&&re.generateMipmap(Ai),Ue.unbindTexture()},this.copyTextureToTexture3D=function(De,yt,We=null,lt=null,it=0){return De.isTexture!==!0&&(hv("WebGLRenderer: copyTextureToTexture3D function signature has changed."),We=arguments[0]||null,lt=arguments[1]||null,De=arguments[2],yt=arguments[3],it=arguments[4]||0),hv('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(De,yt,We,lt,it)},this.initRenderTarget=function(De){je.get(De).__webglFramebuffer===void 0&&fe.setupRenderTarget(De)},this.initTexture=function(De){De.isCubeTexture?fe.setTextureCube(De,0):De.isData3DTexture?fe.setTexture3D(De,0):De.isDataArrayTexture||De.isCompressedArrayTexture?fe.setTexture2DArray(De,0):fe.setTexture2D(De,0),Ue.unbindTexture()},this.resetState=function(){S=0,T=0,C=null,Ue.reset(),ht.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return cd}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=ti._getDrawingBufferColorSpace(e),t.unpackColorSpace=ti._getUnpackColorSpace()}}const Ap=class Ap{constructor(e,t){let r,i;this.promise=new Promise((c,u)=>{r=c,i=u});const a=r.bind(this),s=i.bind(this),o=(...c)=>{a(...c)},l=c=>{s(c)};e(o.bind(this),l.bind(this)),this.abortHandler=t,this.id=Ap.idGen++}then(e){return new Ap((t,r)=>{this.promise=this.promise.then((...i)=>{const a=e(...i);a instanceof Promise||a instanceof Ap?a.then((...s)=>{t(...s)}):t(a)}).catch(i=>{r(i)})},this.abortHandler)}catch(e){return new Ap(t=>{this.promise=this.promise.then((...r)=>{t(...r)}).catch(e)},this.abortHandler)}abort(e){this.abortHandler&&this.abortHandler(e)}};un(Ap,"idGen",0);let G_=Ap;class vC extends Error{constructor(e){super(e)}}(function(){const n=new Float32Array(1),e=new Int32Array(n.buffer);return function(t){n[0]=t;const r=e[0];let i=r>>16&32768,a=r>>12&2047;const s=r>>23&255;return s<103?i:s>142?(i|=31744,i|=(s==255?0:1)&&r&8388607,i):s<113?(a|=2048,i|=(a>>114-s)+(a>>113-s&1),i):(i|=s-112<<10|a>>1,i+=a&1,i)}})();const e5=function(){const n=new Float32Array(1),e=new Int32Array(n.buffer);return function(t){return n[0]=t,e[0]}}(),_ut=function(n,e){return n[e]+(n[e+1]<<8)+(n[e+2]<<16)+(n[e+3]<<24)},kN=function(n,e,t=!0,r){const i=new AbortController,a=i.signal;let s=!1;const o=l=>{i.abort(l),s=!0};return new G_((l,c)=>{const u={signal:a};r&&(u.headers=r),fetch(n,u).then(async d=>{if(!d.ok){const g=await d.text();c(new Error(`Fetch failed: ${d.status} ${d.statusText} ${g}`));return}const f=d.body.getReader();let h=0,p=d.headers.get("Content-Length"),m=p?parseInt(p):void 0;const v=[];for(;!s;)try{const{value:g,done:y}=await f.read();if(y){if(e&&e(100,"100%",g,m),t){const x=new Blob(v).arrayBuffer();l(x)}else l();break}h+=g.length;let b,_;m!==void 0&&(b=h/m*100,_=`${b.toFixed(2)}%`),t&&v.push(g),e&&e(b,_,g,m)}catch(g){c(g);return}}).catch(d=>{c(new vC(d))})},o)},ts=function(n,e,t){return Math.max(Math.min(n,t),e)},Q0=function(){return performance.now()/1e3},pv=n=>{if(n.geometry&&(n.geometry.dispose(),n.geometry=null),n.material&&(n.material.dispose(),n.material=null),n.children)for(let e of n.children)pv(e)},mc=(n,e)=>new Promise(t=>{window.setTimeout(()=>{t(n())},e?1:50)}),Zv=(n=0)=>{switch(n){case 1:return 9;case 2:return 24}return 0},LN=()=>{let n,e;return{promise:new Promise((r,i)=>{n=r,e=i}),resolve:n,reject:e}},t5=n=>{let e,t;return n||(n=()=>{}),{promise:new G_((i,a)=>{e=i,t=a},n),resolve:e,reject:t}};class wut{constructor(e,t,r){this.major=e,this.minor=t,this.patch=r}toString(){return`${this.major}_${this.minor}_${this.patch}`}}function NN(){const n=navigator.userAgent;return n.indexOf("iPhone")>0||n.indexOf("iPad")>0}function Aae(){if(NN()){const n=navigator.userAgent.match(/OS (\d+)_(\d+)_?(\d+)?/);return new wut(parseInt(n[1]||0,10),parseInt(n[2]||0,10),parseInt(n[3]||0,10))}else return null}const xut=14,Ab=class Ab{constructor(e=0){this.sphericalHarmonicsDegree=e,this.sphericalHarmonicsCount=Zv(this.sphericalHarmonicsDegree),this.componentCount=this.sphericalHarmonicsCount+xut,this.defaultSphericalHarmonics=new Array(this.sphericalHarmonicsCount).fill(0),this.splats=[],this.splatCount=0}static createSplat(e=0){const t=[0,0,0,1,1,1,1,0,0,0,0,0,0,0];let r=Zv(e);for(let i=0;i<r;i++)t.push(0);return t}addSplat(e){this.splats.push(e),this.splatCount++}getSplat(e){return this.splats[e]}addDefaultSplat(){const e=Ab.createSplat(this.sphericalHarmonicsDegree);return this.addSplat(e),e}addSplatFromComonents(e,t,r,i,a,s,o,l,c,u,d,f,h,p,...m){const v=[e,t,r,i,a,s,o,l,c,u,d,f,h,p,...this.defaultSphericalHarmonics];for(let g=0;g<m.length&&g<this.sphericalHarmonicsCount;g++)v[g]=m[g];return this.addSplat(v),v}addSplatFromArray(e,t){const r=e.splats[t],i=Ab.createSplat(this.sphericalHarmonicsDegree);for(let a=0;a<this.componentCount&&a<r.length;a++)i[a]=r[a];this.addSplat(i)}};un(Ab,"OFFSET",{X:0,Y:1,Z:2,SCALE0:3,SCALE1:4,SCALE2:5,ROTATION0:6,ROTATION1:7,ROTATION2:8,ROTATION3:9,FDC0:10,FDC1:11,FDC2:12,OPACITY:13,FRC0:14,FRC1:15,FRC2:16,FRC3:17,FRC4:18,FRC5:19,FRC6:20,FRC7:21,FRC8:22,FRC9:23,FRC10:24,FRC11:25,FRC12:26,FRC13:27,FRC14:28,FRC15:29,FRC16:30,FRC17:31,FRC18:32,FRC19:33,FRC20:34,FRC21:35,FRC22:36,FRC23:37});let Kn=Ab;class zr{}un(zr,"DefaultSplatSortDistanceMapPrecision",16),un(zr,"MemoryPageSize",65536),un(zr,"BytesPerFloat",4),un(zr,"BytesPerInt",4),un(zr,"MaxScenes",32),un(zr,"ProgressiveLoadSectionSize",262144),un(zr,"ProgressiveLoadSectionDelayDuration",15),un(zr,"SphericalHarmonics8BitCompressionRange",3);const Sut=zr.SphericalHarmonics8BitCompressionRange,mf=Sut/2,_a=V_.toHalfFloat.bind(V_),ON=V_.fromHalfFloat.bind(V_),Hi=(n,e,t=!1,r,i)=>{if(e===0)return n;if(e===1||e===2&&!t)return V_.fromHalfFloat(n);if(e===2)return BN(n,r,i)},Sb=(n,e,t)=>{n=ts(n,e,t);const r=t-e;return ts(Math.floor((n-e)/r*255),0,255)},BN=(n,e,t)=>{const r=t-e;return n/255*r+e},Eae=(n,e,t)=>Sb(ON(n,e,t)),Cut=(n,e,t)=>_a(BN(n,e,t)),li=(n,e,t,r=!1)=>t===0?n.getFloat32(e*4,!0):t===1||t===2&&!r?n.getUint16(e*2,!0):n.getUint8(e,!0),Mut=function(){const n=e=>e;return function(e,t,r,i=!1){if(t===r)return e;let a=n;return t===2&&i?r===1?a=Cut:r==0&&(a=BN):t===2||t===1?r===0?a=ON:r==2&&(i?a=Eae:a=n):t===0&&(r===1?a=_a:r==2&&(i?a=Sb:a=_a)),a(e)}}(),J0=(n,e,t,r,i=0)=>{const a=new Uint8Array(n,e),s=new Uint8Array(t,r);for(let o=0;o<i;o++)s[o]=a[o]},Ht=class Ht{constructor(e,t=!0){un(this,"getSplatScaleAndRotation",function(){const e=new ur,t=new ur,r=new ur,i=new tt,a=new tt,s=new ji;return function(o,l,c,u,d){const f=this.globalSplatIndexToSectionMap[o],h=this.sections[f],p=o-h.splatCountOffset,m=h.bytesPerSplat*p+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,v=new DataView(this.bufferData,h.dataBase+m);a.set(Hi(li(v,0,this.compressionLevel),this.compressionLevel),Hi(li(v,1,this.compressionLevel),this.compressionLevel),Hi(li(v,2,this.compressionLevel),this.compressionLevel)),d&&(d.x!==void 0&&(a.x=d.x),d.y!==void 0&&(a.y=d.y),d.z!==void 0&&(a.z=d.z)),s.set(Hi(li(v,4,this.compressionLevel),this.compressionLevel),Hi(li(v,5,this.compressionLevel),this.compressionLevel),Hi(li(v,6,this.compressionLevel),this.compressionLevel),Hi(li(v,3,this.compressionLevel),this.compressionLevel)),u?(e.makeScale(a.x,a.y,a.z),t.makeRotationFromQuaternion(s),r.copy(e).multiply(t).multiply(u),r.decompose(i,c,l)):(l.copy(a),c.copy(s))}}());un(this,"fillSplatScaleRotationArray",function(){const e=new ur,t=new ur,r=new ur,i=new tt,a=new ji,s=new tt,o=l=>{const c=l.w<0?-1:1;l.x*=c,l.y*=c,l.z*=c,l.w*=c};return function(l,c,u,d,f,h,p,m){const v=this.splatCount;d=d||0,f=f||v-1,h===void 0&&(h=d);const g=(y,b)=>(b===void 0&&(b=this.compressionLevel),Mut(y,b,p));for(let y=d;y<=f;y++){const b=this.globalSplatIndexToSectionMap[y],_=this.sections[b],x=y-_.splatCountOffset,S=_.bytesPerSplat*x+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,T=(y-d+h)*Ht.ScaleComponentCount,C=(y-d+h)*Ht.RotationComponentCount,M=new DataView(this.bufferData,_.dataBase+S),A=m&&m.x!==void 0?m.x:li(M,0,this.compressionLevel),I=m&&m.y!==void 0?m.y:li(M,1,this.compressionLevel),D=m&&m.z!==void 0?m.z:li(M,2,this.compressionLevel),L=li(M,3,this.compressionLevel),F=li(M,4,this.compressionLevel),B=li(M,5,this.compressionLevel),k=li(M,6,this.compressionLevel);i.set(Hi(A,this.compressionLevel),Hi(I,this.compressionLevel),Hi(D,this.compressionLevel)),a.set(Hi(F,this.compressionLevel),Hi(B,this.compressionLevel),Hi(k,this.compressionLevel),Hi(L,this.compressionLevel)).normalize(),u&&(s.set(0,0,0),e.makeScale(i.x,i.y,i.z),t.makeRotationFromQuaternion(a),r.identity().premultiply(e).premultiply(t),r.premultiply(u),r.decompose(s,a,i),a.normalize()),o(a),l&&(l[T]=g(i.x,0),l[T+1]=g(i.y,0),l[T+2]=g(i.z,0)),c&&(c[C]=g(a.x,0),c[C+1]=g(a.y,0),c[C+2]=g(a.z,0),c[C+3]=g(a.w,0))}}}());un(this,"fillSphericalHarmonicsArray",function(){for(let F=0;F<15;F++)new tt;const e=new cr,t=new ur,r=new tt,i=new tt,a=new ji,s=[],o=[],l=[],c=[],u=[],d=[],f=[],h=[],p=[],m=[],v=[],g=[],y=[],b=[],_=[],x=[],S=[],T=[],C=F=>F,M=(F,B,k,H)=>{F[0]=B,F[1]=k,F[2]=H},A=(F,B,k,H,z)=>{F[0]=li(B,H,z,!0),F[1]=li(B,H+k,z,!0),F[2]=li(B,H+k+k,z,!0)},I=(F,B)=>{B[0]=F[0],B[1]=F[1],B[2]=F[2]},D=(F,B,k,H)=>{B[k]=H(F[0]),B[k+1]=H(F[1]),B[k+2]=H(F[2])},L=(F,B,k,H,z)=>(B[0]=Hi(F[0],k,!0,H,z),B[1]=Hi(F[1],k,!0,H,z),B[2]=Hi(F[2],k,!0,H,z),B);return function(F,B,k,H,z,O,W){const j=this.splatCount;H=H||0,z=z||j-1,O===void 0&&(O=H),k&&B>=1&&(t.copy(k),t.decompose(r,a,i),a.normalize(),t.makeRotationFromQuaternion(a),e.setFromMatrix4(t),M(s,e.elements[4],-e.elements[7],e.elements[1]),M(o,-e.elements[5],e.elements[8],-e.elements[2]),M(l,e.elements[3],-e.elements[6],e.elements[0]));const ee=J=>Eae(J,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff),te=J=>Sb(J,this.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff);for(let J=H;J<=z;J++){const Q=this.globalSplatIndexToSectionMap[J],ie=this.sections[Q];B=Math.min(B,ie.sphericalHarmonicsDegree);const le=Zv(B),we=J-ie.splatCountOffset,Ae=ie.bytesPerSplat*we+Ht.CompressionLevels[this.compressionLevel].SphericalHarmonicsOffsetBytes,ke=new DataView(this.bufferData,ie.dataBase+Ae),Fe=(J-H+O)*le;let q=k?0:this.compressionLevel,ce=C;q!==W&&(q===1?W===0?ce=ON:W==2&&(ce=ee):q===0&&(W===1?ce=_a:W==2&&(ce=te)));const re=this.minSphericalHarmonicsCoeff,Ne=this.maxSphericalHarmonicsCoeff;B>=1&&(A(p,ke,3,0,this.compressionLevel),A(m,ke,3,1,this.compressionLevel),A(v,ke,3,2,this.compressionLevel),k?(L(p,p,this.compressionLevel,re,Ne),L(m,m,this.compressionLevel,re,Ne),L(v,v,this.compressionLevel,re,Ne),Ht.rotateSphericalHarmonics3(p,m,v,s,o,l,b,_,x)):(I(p,b),I(m,_),I(v,x)),D(b,F,Fe,ce),D(_,F,Fe+3,ce),D(x,F,Fe+6,ce),B>=2&&(A(p,ke,5,9,this.compressionLevel),A(m,ke,5,10,this.compressionLevel),A(v,ke,5,11,this.compressionLevel),A(g,ke,5,12,this.compressionLevel),A(y,ke,5,13,this.compressionLevel),k?(L(p,p,this.compressionLevel,re,Ne),L(m,m,this.compressionLevel,re,Ne),L(v,v,this.compressionLevel,re,Ne),L(g,g,this.compressionLevel,re,Ne),L(y,y,this.compressionLevel,re,Ne),Ht.rotateSphericalHarmonics5(p,m,v,g,y,s,o,l,c,u,d,f,h,b,_,x,S,T)):(I(p,b),I(m,_),I(v,x),I(g,S),I(y,T)),D(b,F,Fe+9,ce),D(_,F,Fe+12,ce),D(x,F,Fe+15,ce),D(S,F,Fe+18,ce),D(T,F,Fe+21,ce)))}}}());this.constructFromBuffer(e,t)}getSplatCount(){return this.splatCount}getMaxSplatCount(){return this.maxSplatCount}getMinSphericalHarmonicsDegree(){let e=0;for(let t=0;t<this.sections.length;t++){const r=this.sections[t];(t===0||r.sphericalHarmonicsDegree<e)&&(e=r.sphericalHarmonicsDegree)}return e}getBucketIndex(e,t){let r;const i=e.fullBucketCount*e.bucketSize;if(t<i)r=Math.floor(t/e.bucketSize);else{let a=i;r=e.fullBucketCount;let s=0;for(;a<e.splatCount;){let o=e.partiallyFilledBucketLengths[s];if(t>=a&&t<a+o)break;a+=o,r++,s++}}return r}getSplatCenter(e,t,r){const i=this.globalSplatIndexToSectionMap[e],a=this.sections[i],s=e-a.splatCountOffset,o=a.bytesPerSplat*s,l=new DataView(this.bufferData,a.dataBase+o),c=li(l,0,this.compressionLevel),u=li(l,1,this.compressionLevel),d=li(l,2,this.compressionLevel);if(this.compressionLevel>=1){const h=this.getBucketIndex(a,s)*Ht.BucketStorageSizeFloats,p=a.compressionScaleFactor,m=a.compressionScaleRange;t.x=(c-m)*p+a.bucketArray[h],t.y=(u-m)*p+a.bucketArray[h+1],t.z=(d-m)*p+a.bucketArray[h+2]}else t.x=c,t.y=u,t.z=d;r&&t.applyMatrix4(r)}getSplatColor(e,t){const r=this.globalSplatIndexToSectionMap[e],i=this.sections[r],a=e-i.splatCountOffset,s=i.bytesPerSplat*a+Ht.CompressionLevels[this.compressionLevel].ColorOffsetBytes,o=new Uint8Array(this.bufferData,i.dataBase+s,4);t.set(o[0],o[1],o[2],o[3])}fillSplatCenterArray(e,t,r,i,a){const s=this.splatCount;r=r||0,i=i||s-1,a===void 0&&(a=r);const o=new tt;for(let l=r;l<=i;l++){const c=this.globalSplatIndexToSectionMap[l],u=this.sections[c],d=l-u.splatCountOffset,f=(l-r+a)*Ht.CenterComponentCount,h=u.bytesPerSplat*d,p=new DataView(this.bufferData,u.dataBase+h),m=li(p,0,this.compressionLevel),v=li(p,1,this.compressionLevel),g=li(p,2,this.compressionLevel);if(this.compressionLevel>=1){const b=this.getBucketIndex(u,d)*Ht.BucketStorageSizeFloats,_=u.compressionScaleFactor,x=u.compressionScaleRange;o.x=(m-x)*_+u.bucketArray[b],o.y=(v-x)*_+u.bucketArray[b+1],o.z=(g-x)*_+u.bucketArray[b+2]}else o.x=m,o.y=v,o.z=g;t&&o.applyMatrix4(t),e[f]=o.x,e[f+1]=o.y,e[f+2]=o.z}}fillSplatCovarianceArray(e,t,r,i,a,s){const o=this.splatCount,l=new tt,c=new ji;r=r||0,i=i||o-1,a===void 0&&(a=r);for(let u=r;u<=i;u++){const d=this.globalSplatIndexToSectionMap[u],f=this.sections[d],h=u-f.splatCountOffset,p=(u-r+a)*Ht.CovarianceComponentCount,m=f.bytesPerSplat*h+Ht.CompressionLevels[this.compressionLevel].ScaleOffsetBytes,v=new DataView(this.bufferData,f.dataBase+m);l.set(Hi(li(v,0,this.compressionLevel),this.compressionLevel),Hi(li(v,1,this.compressionLevel),this.compressionLevel),Hi(li(v,2,this.compressionLevel),this.compressionLevel)),c.set(Hi(li(v,4,this.compressionLevel),this.compressionLevel),Hi(li(v,5,this.compressionLevel),this.compressionLevel),Hi(li(v,6,this.compressionLevel),this.compressionLevel),Hi(li(v,3,this.compressionLevel),this.compressionLevel)),Ht.computeCovariance(l,c,t,e,p,s)}}fillSplatColorArray(e,t,r,i,a){const s=this.splatCount;r=r||0,i=i||s-1,a===void 0&&(a=r);for(let o=r;o<=i;o++){const l=this.globalSplatIndexToSectionMap[o],c=this.sections[l],u=o-c.splatCountOffset,d=(o-r+a)*Ht.ColorComponentCount,f=c.bytesPerSplat*u+Ht.CompressionLevels[this.compressionLevel].ColorOffsetBytes,h=new Uint8Array(this.bufferData,c.dataBase+f);let p=h[3];p=p>=t?p:0,e[d]=h[0],e[d+1]=h[1],e[d+2]=h[2],e[d+3]=p}}static parseHeader(e){const t=new Uint8Array(e,0,Ht.HeaderSizeBytes),r=new Uint16Array(e,0,Ht.HeaderSizeBytes/2),i=new Uint32Array(e,0,Ht.HeaderSizeBytes/4),a=new Float32Array(e,0,Ht.HeaderSizeBytes/4),s=t[0],o=t[1],l=i[1],c=i[2],u=i[3],d=i[4],f=r[10],h=new tt(a[6],a[7],a[8]),p=a[9]||-mf,m=a[10]||mf;return{versionMajor:s,versionMinor:o,maxSectionCount:l,sectionCount:c,maxSplatCount:u,splatCount:d,compressionLevel:f,sceneCenter:h,minSphericalHarmonicsCoeff:p,maxSphericalHarmonicsCoeff:m}}static writeHeaderCountsToBuffer(e,t,r){const i=new Uint32Array(r,0,Ht.HeaderSizeBytes/4);i[2]=e,i[4]=t}static writeHeaderToBuffer(e,t){const r=new Uint8Array(t,0,Ht.HeaderSizeBytes),i=new Uint16Array(t,0,Ht.HeaderSizeBytes/2),a=new Uint32Array(t,0,Ht.HeaderSizeBytes/4),s=new Float32Array(t,0,Ht.HeaderSizeBytes/4);r[0]=e.versionMajor,r[1]=e.versionMinor,r[2]=0,r[3]=0,a[1]=e.maxSectionCount,a[2]=e.sectionCount,a[3]=e.maxSplatCount,a[4]=e.splatCount,i[10]=e.compressionLevel,s[6]=e.sceneCenter.x,s[7]=e.sceneCenter.y,s[8]=e.sceneCenter.z,s[9]=e.minSphericalHarmonicsCoeff||-mf,s[10]=e.maxSphericalHarmonicsCoeff||mf}static parseSectionHeaders(e,t,r=0,i){const a=e.compressionLevel,s=e.maxSectionCount,o=new Uint16Array(t,r,s*Ht.SectionHeaderSizeBytes/2),l=new Uint32Array(t,r,s*Ht.SectionHeaderSizeBytes/4),c=new Float32Array(t,r,s*Ht.SectionHeaderSizeBytes/4),u=[];let d=0,f=d/2,h=d/4,p=Ht.HeaderSizeBytes+e.maxSectionCount*Ht.SectionHeaderSizeBytes,m=0;for(let v=0;v<s;v++){const g=l[h+1],y=l[h+2],b=l[h+3],_=c[h+4],x=_/2,S=o[f+10],T=l[h+6]||Ht.CompressionLevels[a].ScaleRange,C=l[h+8],M=l[h+9],A=M*4,I=S*b+A,D=o[f+20],{bytesPerSplat:L}=Ht.calculateComponentStorage(a,D),F=L*g,B=F+I,k={bytesPerSplat:L,splatCountOffset:m,splatCount:i?g:0,maxSplatCount:g,bucketSize:y,bucketCount:b,bucketBlockSize:_,halfBucketBlockSize:x,bucketStorageSizeBytes:S,bucketsStorageSizeBytes:I,splatDataStorageSizeBytes:F,storageSizeBytes:B,compressionScaleRange:T,compressionScaleFactor:x/T,base:p,bucketsBase:p+A,dataBase:p+I,fullBucketCount:C,partiallyFilledBucketCount:M,sphericalHarmonicsDegree:D};u[v]=k,p+=B,d+=Ht.SectionHeaderSizeBytes,f=d/2,h=d/4,m+=g}return u}static writeSectionHeaderToBuffer(e,t,r,i=0){const a=new Uint16Array(r,i,Ht.SectionHeaderSizeBytes/2),s=new Uint32Array(r,i,Ht.SectionHeaderSizeBytes/4),o=new Float32Array(r,i,Ht.SectionHeaderSizeBytes/4);s[0]=e.splatCount,s[1]=e.maxSplatCount,s[2]=t>=1?e.bucketSize:0,s[3]=t>=1?e.bucketCount:0,o[4]=t>=1?e.bucketBlockSize:0,a[10]=t>=1?Ht.BucketStorageSizeBytes:0,s[6]=t>=1?e.compressionScaleRange:0,s[7]=e.storageSizeBytes,s[8]=t>=1?e.fullBucketCount:0,s[9]=t>=1?e.partiallyFilledBucketCount:0,a[20]=e.sphericalHarmonicsDegree}static writeSectionHeaderSplatCountToBuffer(e,t,r=0){const i=new Uint32Array(t,r,Ht.SectionHeaderSizeBytes/4);i[0]=e}constructFromBuffer(e,t){this.bufferData=e,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSectionMap=[];const r=Ht.parseHeader(this.bufferData);this.versionMajor=r.versionMajor,this.versionMinor=r.versionMinor,this.maxSectionCount=r.maxSectionCount,this.sectionCount=t?r.maxSectionCount:0,this.maxSplatCount=r.maxSplatCount,this.splatCount=t?r.maxSplatCount:0,this.compressionLevel=r.compressionLevel,this.sceneCenter=new tt().copy(r.sceneCenter),this.minSphericalHarmonicsCoeff=r.minSphericalHarmonicsCoeff,this.maxSphericalHarmonicsCoeff=r.maxSphericalHarmonicsCoeff,this.sections=Ht.parseSectionHeaders(r,this.bufferData,Ht.HeaderSizeBytes,t),this.linkBufferArrays(),this.buildMaps()}static calculateComponentStorage(e,t){const r=Ht.CompressionLevels[e].BytesPerCenter,i=Ht.CompressionLevels[e].BytesPerScale,a=Ht.CompressionLevels[e].BytesPerRotation,s=Ht.CompressionLevels[e].BytesPerColor,o=Zv(t),l=Ht.CompressionLevels[e].BytesPerSphericalHarmonicsComponent*o,c=r+i+a+s+l;return{bytesPerCenter:r,bytesPerScale:i,bytesPerRotation:a,bytesPerColor:s,sphericalHarmonicsComponentsPerSplat:o,sphericalHarmonicsBytesPerSplat:l,bytesPerSplat:c}}linkBufferArrays(){for(let e=0;e<this.maxSectionCount;e++){const t=this.sections[e];t.bucketArray=new Float32Array(this.bufferData,t.bucketsBase,t.bucketCount*Ht.BucketStorageSizeFloats),t.partiallyFilledBucketCount>0&&(t.partiallyFilledBucketLengths=new Uint32Array(this.bufferData,t.base,t.partiallyFilledBucketCount))}}buildMaps(){let e=0;for(let t=0;t<this.maxSectionCount;t++){const r=this.sections[t];for(let i=0;i<r.maxSplatCount;i++){const a=e+i;this.globalSplatIndexToLocalSplatIndexMap[a]=i,this.globalSplatIndexToSectionMap[a]=t}e+=r.maxSplatCount}}updateLoadedCounts(e,t){Ht.writeHeaderCountsToBuffer(e,t,this.bufferData),this.sectionCount=e,this.splatCount=t}updateSectionLoadedCounts(e,t){const r=Ht.HeaderSizeBytes+Ht.SectionHeaderSizeBytes*e;Ht.writeSectionHeaderSplatCountToBuffer(t,this.bufferData,r),this.sections[e].splatCount=t}static generateFromUncompressedSplatArrays(e,t,r,i,a,s,o=[]){let l=0;for(let x=0;x<e.length;x++){const S=e[x];l=Math.max(S.sphericalHarmonicsDegree,l)}let c,u;for(let x=0;x<e.length;x++){const S=e[x];for(let T=0;T<S.splats.length;T++){const C=S.splats[T];for(let M=Kn.OFFSET.FRC0;M<Kn.OFFSET.FRC23&&M<C.length;M++)(!c||C[M]<c)&&(c=C[M]),(!u||C[M]>u)&&(u=C[M])}}c=c||-mf,u=u||mf;const{bytesPerSplat:d}=Ht.calculateComponentStorage(r,l),f=Ht.CompressionLevels[r].ScaleRange,h=[],p=[];let m=0;for(let x=0;x<e.length;x++){const S=e[x],T=new Kn(l);for(let Q=0;Q<S.splatCount;Q++){const ie=S.splats[Q];(ie[Kn.OFFSET.OPACITY]||0)>=t&&T.addSplat(ie)}const C=o[x]||{},M=(C.blockSizeFactor||1)*(a||Ht.BucketBlockSize),A=Math.ceil((C.bucketSizeFactor||1)*(s||Ht.BucketSize)),I=Ht.computeBucketsForUncompressedSplatArray(T,M,A),D=I.fullBuckets.length,L=I.partiallyFullBuckets.map(Q=>Q.splats.length),F=L.length,B=[...I.fullBuckets,...I.partiallyFullBuckets],k=T.splats.length*d,H=F*4,z=r>=1?B.length*Ht.BucketStorageSizeBytes+H:0,O=k+z,W=new ArrayBuffer(O),j=f/(M*.5),ee=new tt;let te=0;for(let Q=0;Q<B.length;Q++){const ie=B[Q];ee.fromArray(ie.center);for(let le=0;le<ie.splats.length;le++){let we=ie.splats[le];const Ae=T.splats[we],ke=z+te*d;Ht.writeSplatDataToSectionBuffer(Ae,W,ke,r,l,ee,j,f,c,u),te++}}if(m+=te,r>=1){const Q=new Uint32Array(W,0,L.length*4);for(let le=0;le<L.length;le++)Q[le]=L[le];const ie=new Float32Array(W,H,B.length*Ht.BucketStorageSizeFloats);for(let le=0;le<B.length;le++){const we=B[le],Ae=le*3;ie[Ae]=we.center[0],ie[Ae+1]=we.center[1],ie[Ae+2]=we.center[2]}}h.push(W);const J=new ArrayBuffer(Ht.SectionHeaderSizeBytes);Ht.writeSectionHeaderToBuffer({maxSplatCount:te,splatCount:te,bucketSize:A,bucketCount:B.length,bucketBlockSize:M,compressionScaleRange:f,storageSizeBytes:O,fullBucketCount:D,partiallyFilledBucketCount:F,sphericalHarmonicsDegree:l},r,J,0),p.push(J)}let v=0;for(let x of h)v+=x.byteLength;const g=Ht.HeaderSizeBytes+Ht.SectionHeaderSizeBytes*h.length+v,y=new ArrayBuffer(g);Ht.writeHeaderToBuffer({versionMajor:0,versionMinor:1,maxSectionCount:h.length,sectionCount:h.length,maxSplatCount:m,splatCount:m,compressionLevel:r,sceneCenter:i,minSphericalHarmonicsCoeff:c,maxSphericalHarmonicsCoeff:u},y);let b=Ht.HeaderSizeBytes;for(let x of p)new Uint8Array(y,b,Ht.SectionHeaderSizeBytes).set(new Uint8Array(x)),b+=Ht.SectionHeaderSizeBytes;for(let x of h)new Uint8Array(y,b,x.byteLength).set(new Uint8Array(x)),b+=x.byteLength;return new Ht(y)}static computeBucketsForUncompressedSplatArray(e,t,r){let i=e.splatCount;const a=t/2,s=new tt,o=new tt;for(let m=0;m<i;m++){const v=e.splats[m],g=[v[Kn.OFFSET.X],v[Kn.OFFSET.Y],v[Kn.OFFSET.Z]];(m===0||g[0]<s.x)&&(s.x=g[0]),(m===0||g[0]>o.x)&&(o.x=g[0]),(m===0||g[1]<s.y)&&(s.y=g[1]),(m===0||g[1]>o.y)&&(o.y=g[1]),(m===0||g[2]<s.z)&&(s.z=g[2]),(m===0||g[2]>o.z)&&(o.z=g[2])}const l=new tt().copy(o).sub(s),c=Math.ceil(l.y/t),u=Math.ceil(l.z/t),d=new tt,f=[],h={};for(let m=0;m<i;m++){const v=e.splats[m],g=[v[Kn.OFFSET.X],v[Kn.OFFSET.Y],v[Kn.OFFSET.Z]],y=Math.floor((g[0]-s.x)/t),b=Math.floor((g[1]-s.y)/t),_=Math.floor((g[2]-s.z)/t);d.x=y*t+s.x+a,d.y=b*t+s.y+a,d.z=_*t+s.z+a;const x=y*(c*u)+b*u+_;let S=h[x];S||(h[x]=S={splats:[],center:d.toArray()}),S.splats.push(m),S.splats.length>=r&&(f.push(S),h[x]=null)}const p=[];for(let m in h)if(h.hasOwnProperty(m)){const v=h[m];v&&p.push(v)}return{fullBuckets:f,partiallyFullBuckets:p}}};un(Ht,"CurrentMajorVersion",0),un(Ht,"CurrentMinorVersion",1),un(Ht,"CenterComponentCount",3),un(Ht,"ScaleComponentCount",3),un(Ht,"RotationComponentCount",4),un(Ht,"ColorComponentCount",4),un(Ht,"CovarianceComponentCount",6),un(Ht,"SplatScaleOffsetFloat",3),un(Ht,"SplatRotationOffsetFloat",6),un(Ht,"CompressionLevels",{0:{BytesPerCenter:12,BytesPerScale:12,BytesPerRotation:16,BytesPerColor:4,ScaleOffsetBytes:12,RotationffsetBytes:24,ColorOffsetBytes:40,SphericalHarmonicsOffsetBytes:44,ScaleRange:1,BytesPerSphericalHarmonicsComponent:4,SphericalHarmonicsOffsetFloat:11,SphericalHarmonicsDegrees:{0:{BytesPerSplat:44},1:{BytesPerSplat:80},2:{BytesPerSplat:140}}},1:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:2,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:42},2:{BytesPerSplat:72}}},2:{BytesPerCenter:6,BytesPerScale:6,BytesPerRotation:8,BytesPerColor:4,ScaleOffsetBytes:6,RotationffsetBytes:12,ColorOffsetBytes:20,SphericalHarmonicsOffsetBytes:24,ScaleRange:32767,BytesPerSphericalHarmonicsComponent:1,SphericalHarmonicsOffsetFloat:12,SphericalHarmonicsDegrees:{0:{BytesPerSplat:24},1:{BytesPerSplat:33},2:{BytesPerSplat:48}}}}),un(Ht,"CovarianceSizeFloats",6),un(Ht,"HeaderSizeBytes",4096),un(Ht,"SectionHeaderSizeBytes",1024),un(Ht,"BucketStorageSizeBytes",12),un(Ht,"BucketStorageSizeFloats",3),un(Ht,"BucketBlockSize",5),un(Ht,"BucketSize",256),un(Ht,"computeCovariance",function(){const e=new ur,t=new cr,r=new cr,i=new cr,a=new cr,s=new cr,o=new cr;return function(l,c,u,d,f=0,h){e.makeScale(l.x,l.y,l.z),t.setFromMatrix4(e),e.makeRotationFromQuaternion(c),r.setFromMatrix4(e),i.copy(r).multiply(t),a.copy(i).transpose().premultiply(i),u&&(s.setFromMatrix4(u),o.copy(s).transpose(),a.multiply(o),a.premultiply(s)),h>=1?(d[f]=_a(a.elements[0]),d[f+1]=_a(a.elements[3]),d[f+2]=_a(a.elements[6]),d[f+3]=_a(a.elements[4]),d[f+4]=_a(a.elements[7]),d[f+5]=_a(a.elements[8])):(d[f]=a.elements[0],d[f+1]=a.elements[3],d[f+2]=a.elements[6],d[f+3]=a.elements[4],d[f+4]=a.elements[7],d[f+5]=a.elements[8])}}()),un(Ht,"dot3",(e,t,r,i,a)=>{a[0]=a[1]=a[2]=0;const s=i[0],o=i[1],l=i[2];Ht.addInto3(e[0]*s,e[1]*s,e[2]*s,a),Ht.addInto3(t[0]*o,t[1]*o,t[2]*o,a),Ht.addInto3(r[0]*l,r[1]*l,r[2]*l,a)}),un(Ht,"addInto3",(e,t,r,i)=>{i[0]=i[0]+e,i[1]=i[1]+t,i[2]=i[2]+r}),un(Ht,"dot5",(e,t,r,i,a,s,o)=>{o[0]=o[1]=o[2]=0;const l=s[0],c=s[1],u=s[2],d=s[3],f=s[4];Ht.addInto3(e[0]*l,e[1]*l,e[2]*l,o),Ht.addInto3(t[0]*c,t[1]*c,t[2]*c,o),Ht.addInto3(r[0]*u,r[1]*u,r[2]*u,o),Ht.addInto3(i[0]*d,i[1]*d,i[2]*d,o),Ht.addInto3(a[0]*f,a[1]*f,a[2]*f,o)}),un(Ht,"rotateSphericalHarmonics3",(e,t,r,i,a,s,o,l,c)=>{Ht.dot3(e,t,r,i,o),Ht.dot3(e,t,r,a,l),Ht.dot3(e,t,r,s,c)}),un(Ht,"rotateSphericalHarmonics5",(e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v,g,y)=>{const b=Math.sqrt(.25),_=Math.sqrt(3/4),x=Math.sqrt(1/3),S=Math.sqrt(4/3),T=Math.sqrt(1/12);c[0]=b*(l[2]*s[0]+l[0]*s[2]+(s[2]*l[0]+s[0]*l[2])),c[1]=l[1]*s[0]+s[1]*l[0],c[2]=_*(l[1]*s[1]+s[1]*l[1]),c[3]=l[1]*s[2]+s[1]*l[2],c[4]=b*(l[2]*s[2]-l[0]*s[0]+(s[2]*l[2]-s[0]*l[0])),Ht.dot5(e,t,r,i,a,c,p),u[0]=b*(o[2]*s[0]+o[0]*s[2]+(s[2]*o[0]+s[0]*o[2])),u[1]=o[1]*s[0]+s[1]*o[0],u[2]=_*(o[1]*s[1]+s[1]*o[1]),u[3]=o[1]*s[2]+s[1]*o[2],u[4]=b*(o[2]*s[2]-o[0]*s[0]+(s[2]*o[2]-s[0]*o[0])),Ht.dot5(e,t,r,i,a,u,m),d[0]=x*(o[2]*o[0]+o[0]*o[2])+-T*(l[2]*l[0]+l[0]*l[2]+(s[2]*s[0]+s[0]*s[2])),d[1]=S*o[1]*o[0]+-x*(l[1]*l[0]+s[1]*s[0]),d[2]=o[1]*o[1]+-b*(l[1]*l[1]+s[1]*s[1]),d[3]=S*o[1]*o[2]+-x*(l[1]*l[2]+s[1]*s[2]),d[4]=x*(o[2]*o[2]-o[0]*o[0])+-T*(l[2]*l[2]-l[0]*l[0]+(s[2]*s[2]-s[0]*s[0])),Ht.dot5(e,t,r,i,a,d,v),f[0]=b*(o[2]*l[0]+o[0]*l[2]+(l[2]*o[0]+l[0]*o[2])),f[1]=o[1]*l[0]+l[1]*o[0],f[2]=_*(o[1]*l[1]+l[1]*o[1]),f[3]=o[1]*l[2]+l[1]*o[2],f[4]=b*(o[2]*l[2]-o[0]*l[0]+(l[2]*o[2]-l[0]*o[0])),Ht.dot5(e,t,r,i,a,f,g),h[0]=b*(l[2]*l[0]+l[0]*l[2]-(s[2]*s[0]+s[0]*s[2])),h[1]=l[1]*l[0]-s[1]*s[0],h[2]=_*(l[1]*l[1]-s[1]*s[1]),h[3]=l[1]*l[2]-s[1]*s[2],h[4]=b*(l[2]*l[2]-l[0]*l[0]-(s[2]*s[2]-s[0]*s[0])),Ht.dot5(e,t,r,i,a,h,y)}),un(Ht,"writeSplatDataToSectionBuffer",function(){const e=new ArrayBuffer(12),t=new ArrayBuffer(12),r=new ArrayBuffer(16),i=new ArrayBuffer(4),a=new ArrayBuffer(256),s=new ji,o=new tt,l=new tt,{X:c,Y:u,Z:d,SCALE0:f,SCALE1:h,SCALE2:p,ROTATION0:m,ROTATION1:v,ROTATION2:g,ROTATION3:y,FDC0:b,FDC1:_,FDC2:x,OPACITY:S,FRC0:T,FRC9:C}=Kn.OFFSET,M=(A,I,D)=>{const L=D*2+1;return A=Math.round(A*I)+D,ts(A,0,L)};return function(A,I,D,L,F,B,k,H,z=-mf,O=mf){const W=Zv(F),j=Ht.CompressionLevels[L].BytesPerCenter,ee=Ht.CompressionLevels[L].BytesPerScale,te=Ht.CompressionLevels[L].BytesPerRotation,J=Ht.CompressionLevels[L].BytesPerColor,Q=D,ie=Q+j,le=ie+ee,we=le+te,Ae=we+J;if(A[m]!==void 0?(s.set(A[m],A[v],A[g],A[y]),s.normalize()):s.set(1,0,0,0),A[f]!==void 0?o.set(A[f]||0,A[h]||0,A[p]||0):o.set(0,0,0),L===0){const Fe=new Float32Array(I,Q,Ht.CenterComponentCount),q=new Float32Array(I,le,Ht.RotationComponentCount),ce=new Float32Array(I,ie,Ht.ScaleComponentCount);if(q.set([s.x,s.y,s.z,s.w]),ce.set([o.x,o.y,o.z]),Fe.set([A[c],A[u],A[d]]),F>0){const re=new Float32Array(I,Ae,W);if(F>=1){for(let Ne=0;Ne<9;Ne++)re[Ne]=A[T+Ne]||0;if(F>=2)for(let Ne=0;Ne<15;Ne++)re[Ne+9]=A[C+Ne]||0}}}else{const Fe=new Uint16Array(e,0,Ht.CenterComponentCount),q=new Uint16Array(r,0,Ht.RotationComponentCount),ce=new Uint16Array(t,0,Ht.ScaleComponentCount);if(q.set([_a(s.x),_a(s.y),_a(s.z),_a(s.w)]),ce.set([_a(o.x),_a(o.y),_a(o.z)]),l.set(A[c],A[u],A[d]).sub(B),l.x=M(l.x,k,H),l.y=M(l.y,k,H),l.z=M(l.z,k,H),Fe.set([l.x,l.y,l.z]),F>0){const re=L===1?Uint16Array:Uint8Array,Ne=L===1?2:1,Pe=new re(a,0,W);if(F>=1){for(let Ue=0;Ue<9;Ue++){const Ve=A[T+Ue]||0;Pe[Ue]=L===1?_a(Ve):Sb(Ve,z,O)}const $e=9*Ne;if(J0(Pe.buffer,0,I,Ae,$e),F>=2){for(let Ue=0;Ue<15;Ue++){const Ve=A[C+Ue]||0;Pe[Ue+9]=L===1?_a(Ve):Sb(Ve,z,O)}J0(Pe.buffer,$e,I,Ae+$e,15*Ne)}}}J0(Fe.buffer,0,I,Q,6),J0(ce.buffer,0,I,ie,6),J0(q.buffer,0,I,le,8)}const ke=new Uint8ClampedArray(i,0,4);ke.set([A[b]||0,A[_]||0,A[x]||0]),ke[3]=A[S]||0,J0(ke.buffer,0,I,we,4)}}());let jn=Ht;const qW=new Uint8Array([112,108,121,10]),KW=new Uint8Array([10,101,110,100,95,104,101,97,100,101,114,10]),n5="end_header",r5=new Map([["char",Int8Array],["uchar",Uint8Array],["short",Int16Array],["ushort",Uint16Array],["int",Int32Array],["uint",Uint32Array],["float",Float32Array],["double",Float64Array]]),nu=(n,e)=>{const t=(1<<e)-1;return(n&t)/t},YW=(n,e)=>{n.x=nu(e>>>21,11),n.y=nu(e>>>11,10),n.z=nu(e,11)},Tut=(n,e)=>{n.x=nu(e>>>24,8),n.y=nu(e>>>16,8),n.z=nu(e>>>8,8),n.w=nu(e,8)},Aut=(n,e)=>{const t=1/(Math.sqrt(2)*.5),r=(nu(e>>>20,10)-.5)*t,i=(nu(e>>>10,10)-.5)*t,a=(nu(e,10)-.5)*t,s=Math.sqrt(1-(r*r+i*i+a*a));switch(e>>>30){case 0:n.set(s,r,i,a);break;case 1:n.set(r,s,i,a);break;case 2:n.set(r,i,s,a);break;case 3:n.set(r,i,a,s);break}},ev=(n,e,t)=>n*(1-t)+e*t,ps=(n,e)=>{var t;return(t=n.properties.find(r=>r.name===e&&r.storage))==null?void 0:t.storage},gs=class gs{static decodeHeaderText(e){let t,r,i;const a=e.split(`
`).filter(l=>!l.startsWith("comment "));let s=0,o=!1;for(let l=1;l<a.length;++l){const c=a[l].split(" ");switch(c[0]){case"format":if(c[1]!=="binary_little_endian")throw new Error("Unsupported ply format");break;case"element":t={name:c[1],count:parseInt(c[2],10),properties:[],storageSizeBytes:0},t.name==="chunk"?r=t:t.name==="vertex"&&(i=t);break;case"property":{if(!r5.has(c[1]))throw new Error(`Unrecognized property data type '${c[1]}' in ply header`);const u=r5.get(c[1]),d=u.BYTES_PER_ELEMENT*t.count;t.name==="vertex"&&(s+=u.BYTES_PER_ELEMENT),t.properties.push({type:c[1],name:c[2],storage:null,byteSize:u.BYTES_PER_ELEMENT,storageSizeByes:d}),t.storageSizeBytes+=d;break}case n5:o=!0;break;default:throw new Error(`Unrecognized header value '${c[0]}' in ply header`)}if(o)break}return{chunkElement:r,vertexElement:i,bytesPerSplat:s,headerSizeBytes:e.indexOf(n5)+n5.length+1,sphericalHarmonicsDegree:0}}static decodeHeader(e){const t=(u,d)=>{const f=u.length-d.length;let h,p;for(h=0;h<=f;++h){for(p=0;p<d.length&&u[h+p]===d[p];++p);if(p===d.length)return h}return-1},r=(u,d)=>{if(u.length<d.length)return!1;for(let f=0;f<d.length;++f)if(u[f]!==d[f])return!1;return!0};let i=new Uint8Array(e),a;if(i.length>=qW.length&&!r(i,qW))throw new Error("Invalid PLY header");if(a=t(i,KW),a===-1)throw new Error("End of PLY header not found");const s=new TextDecoder("ascii").decode(i.slice(0,a)),{chunkElement:o,vertexElement:l,bytesPerSplat:c}=gs.decodeHeaderText(s);return{headerSizeBytes:a+KW.length,bytesPerSplat:c,chunkElement:o,vertexElement:l}}static readElementData(e,t,r,i,a,s=null){let o=t instanceof DataView?t:new DataView(t);i=i||0,a=a||e.count-1;for(let l=i;l<=a;++l)for(let c=0;c<e.properties.length;++c){const u=e.properties[c],d=r5.get(u.type),f=d.BYTES_PER_ELEMENT*e.count;if((!u.storage||u.storage.byteLength<f)&&(!s||s(u.name))&&(u.storage=new d(e.count)),u.storage)switch(u.type){case"char":u.storage[l]=o.getInt8(r);break;case"uchar":u.storage[l]=o.getUint8(r);break;case"short":u.storage[l]=o.getInt16(r,!0);break;case"ushort":u.storage[l]=o.getUint16(r,!0);break;case"int":u.storage[l]=o.getInt32(r,!0);break;case"uint":u.storage[l]=o.getUint32(r,!0);break;case"float":u.storage[l]=o.getFloat32(r,!0);break;case"double":u.storage[l]=o.getFloat64(r,!0);break}r+=u.byteSize}return r}static readPly(e,t=null){const r=gs.decodeHeader(e);let i=gs.readElementData(r.chunkElement,e,r.headerSizeBytes,null,null,t);return gs.readElementData(r.vertexElement,e,i,null,null,t),{chunkElement:r.chunkElement,vertexElement:r.vertexElement}}static getElementStorageArrays(e,t){const r=ps(e,"min_x"),i=ps(e,"min_y"),a=ps(e,"min_z"),s=ps(e,"max_x"),o=ps(e,"max_y"),l=ps(e,"max_z"),c=ps(e,"min_scale_x"),u=ps(e,"min_scale_y"),d=ps(e,"min_scale_z"),f=ps(e,"max_scale_x"),h=ps(e,"max_scale_y"),p=ps(e,"max_scale_z"),m=ps(t,"packed_position"),v=ps(t,"packed_rotation"),g=ps(t,"packed_scale"),y=ps(t,"packed_color");return{positionExtremes:{minX:r,maxX:s,minY:i,maxY:o,minZ:a,maxZ:l},scaleExtremes:{minScaleX:c,maxScaleX:f,minScaleY:u,maxScaleY:h,minScaleZ:d,maxScaleZ:p},position:m,rotation:v,scale:g,color:y}}static parseToUncompressedSplatBufferSection(e,t,r,i,a,s,o,l,c,u=null){gs.readElementData(t,s,o,r,i,u);const d=jn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,{positionExtremes:f,scaleExtremes:h,position:p,rotation:m,scale:v,color:g}=gs.getElementStorageArrays(e,t),y=Kn.createSplat();for(let b=r;b<=i;++b){gs.decompressSplat(b,a,p,f,v,h,m,g,y);const _=b*d+c;jn.writeSplatDataToSectionBuffer(y,l,_,0,0)}}static parseToUncompressedSplatArraySection(e,t,r,i,a,s,o,l,c=null){gs.readElementData(t,s,o,r,i,c);const{positionExtremes:u,scaleExtremes:d,position:f,rotation:h,scale:p,color:m}=gs.getElementStorageArrays(e,t);for(let v=r;v<=i;++v){const g=Kn.createSplat();gs.decompressSplat(v,a,f,u,p,d,h,m,g),l.addSplat(g)}}static parseToUncompressedSplatArray(e){const{chunkElement:t,vertexElement:r}=gs.readPly(e),i=new Kn,{positionExtremes:a,scaleExtremes:s,position:o,rotation:l,scale:c,color:u}=gs.getElementStorageArrays(t,r);for(let f=0;f<r.count;++f){i.addDefaultSplat();const h=i.getSplat(i.splatCount-1);gs.decompressSplat(f,0,o,a,c,s,l,u,h)}return new ur().identity(),i}};un(gs,"decompressSplat",function(){const e=new tt,t=new ji,r=new tt,i=new $i,a=Kn.OFFSET;return function(s,o,l,c,u,d,f,h,p){p=p||Kn.createSplat();const m=Math.floor((o+s)/256);return YW(e,l[s]),Aut(t,f[s]),YW(r,u[s]),Tut(i,h[s]),p[a.X]=ev(c.minX[m],c.maxX[m],e.x),p[a.Y]=ev(c.minY[m],c.maxY[m],e.y),p[a.Z]=ev(c.minZ[m],c.maxZ[m],e.z),p[a.ROTATION0]=t.x,p[a.ROTATION1]=t.y,p[a.ROTATION2]=t.z,p[a.ROTATION3]=t.w,p[a.SCALE0]=Math.exp(ev(d.minScaleX[m],d.maxScaleX[m],r.x)),p[a.SCALE1]=Math.exp(ev(d.minScaleY[m],d.maxScaleY[m],r.y)),p[a.SCALE2]=Math.exp(ev(d.minScaleZ[m],d.maxScaleZ[m],r.z)),p[a.FDC0]=ts(Math.floor(i.x*255),0,255),p[a.FDC1]=ts(Math.floor(i.y*255),0,255),p[a.FDC2]=ts(Math.floor(i.z*255),0,255),p[a.OPACITY]=ts(Math.floor(i.w*255),0,255),p}}());let Gp=gs;const Kf={INRIAV1:0,INRIAV2:1,PlayCanvasCompressed:2},[Iae,FN,zN,UN,HN,VN,$N]=[0,1,2,3,4,5,6],XW={double:Iae,int:FN,uint:zN,float:UN,short:HN,ushort:VN,uchar:$N},Eut={[Iae]:8,[FN]:4,[zN]:4,[UN]:4,[HN]:2,[VN]:2,[$N]:1},ko=class ko{constructor(){}decodeSectionHeader(e,t,r=0){const i=[];let a=!1,s=-1,o=0,l=!1,c=null;const u=[],d=[],f=[],h={};for(let g=r;g<e.length;g++){const y=e[g].trim();if(y.startsWith("element"))if(a){s--;break}else{a=!0,r=g,s=g;const b=y.split(" ");let _=0;for(let x of b){const S=x.trim();S.length>0&&(_++,_===2?c=S:_===3&&(o=parseInt(S)))}}else if(y.startsWith("property")){const b=y.match(/(\w+)\s+(\w+)\s+(\w+)/);if(b){const _=b[2],x=b[3];f.push(x);const S=t[x];h[x]=_;const T=XW[_];S!==void 0&&(u.push(S),d[S]=T)}}if(y===ko.HeaderEndToken){l=!0;break}a&&(i.push(y),s++)}const p=[];let m=0;for(let g of f){const y=h[g];if(h.hasOwnProperty(g)){const b=t[g];b!==void 0&&(p[b]=m)}m+=Eut[XW[y]]}const v=this.decodeSphericalHarmonicsFromSectionHeader(f,t);return{headerLines:i,headerStartLine:r,headerEndLine:s,fieldTypes:d,fieldIds:u,fieldOffsets:p,bytesPerVertex:m,vertexCount:o,dataSizeBytes:m*o,endOfHeader:l,sectionName:c,sphericalHarmonicsDegree:v.degree,sphericalHarmonicsCoefficientsPerChannel:v.coefficientsPerChannel,sphericalHarmonicsDegree1Fields:v.degree1Fields,sphericalHarmonicsDegree2Fields:v.degree2Fields}}decodeSphericalHarmonicsFromSectionHeader(e,t){let r=0,i=0;for(let l of e)l.startsWith("f_rest")&&r++;i=r/3;let a=0;i>=3&&(a=1),i>=8&&(a=2);let s=[],o=[];for(let l=0;l<3;l++){if(a>=1)for(let c=0;c<3;c++)s.push(t["f_rest_"+(c+i*l)]);if(a>=2)for(let c=0;c<5;c++)o.push(t["f_rest_"+(c+i*l+3)])}return{degree:a,coefficientsPerChannel:i,degree1Fields:s,degree2Fields:o}}static getHeaderSectionNames(e){const t=[];for(let r of e)if(r.startsWith("element")){const i=r.split(" ");let a=0;for(let s of i){const o=s.trim();o.length>0&&(a++,a===2&&t.push(o))}}return t}static checkTextForEndHeader(e){return!!e.includes(ko.HeaderEndToken)}static checkBufferForEndHeader(e,t,r,i){const a=new Uint8Array(e,Math.max(0,t-r),r),s=i.decode(a);return ko.checkTextForEndHeader(s)}static extractHeaderFromBufferToText(e){const t=new TextDecoder;let r=0,i="";const a=100;for(;;){if(r+a>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,a);if(i+=t.decode(s),r+=a,ko.checkBufferForEndHeader(e,r,a*2,t))break}return i}readHeaderFromBuffer(e){const t=new TextDecoder;let r=0,i="";const a=100;for(;;){if(r+a>=e.byteLength)throw new Error("End of file reached while searching for end of header");const s=new Uint8Array(e,r,a);if(i+=t.decode(s),r+=a,ko.checkBufferForEndHeader(e,r,a*2,t))break}return i}static convertHeaderTextToLines(e){const t=e.split(`
`),r=[];for(let i=0;i<t.length;i++){const a=t[i].trim();if(r.push(a),a===ko.HeaderEndToken)break}return r}static determineHeaderFormatFromHeaderText(e){const t=ko.convertHeaderTextToLines(e);let r=Kf.INRIAV1;for(let i=0;i<t.length;i++){const a=t[i].trim();if(a.startsWith("element chunk")||a.match(/[A-Za-z]*packed_[A-Za-z]*/))r=Kf.PlayCanvasCompressed;else if(a.startsWith("element codebook_centers"))r=Kf.INRIAV2;else if(a===ko.HeaderEndToken)break}return r}static determineHeaderFormatFromPlyBuffer(e){const t=ko.extractHeaderFromBufferToText(e);return ko.determineHeaderFormatFromHeaderText(t)}static readVertex(e,t,r,i,a,s,o=!0){const l=r*t.bytesPerVertex+i,c=t.fieldOffsets,u=t.fieldTypes;for(let d of a){const f=u[d];f===UN?s[d]=e.getFloat32(l+c[d],!0):f===HN?s[d]=e.getInt16(l+c[d],!0):f===VN?s[d]=e.getUint16(l+c[d],!0):f===FN?s[d]=e.getInt32(l+c[d],!0):f===zN?s[d]=e.getUint32(l+c[d],!0):f===$N&&(o?s[d]=e.getUint8(l+c[d])/255:s[d]=e.getUint8(l+c[d]))}}};un(ko,"HeaderEndToken","end_header");let Za=ko;const Rae=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0"],Iut=Rae.map((n,e)=>e),[jW,Rut,Put,Dut,kut,Lut,Nut,Out,But,Fut,ZW,zut,Uut,QW,JW,Hut,Vut,$ut]=Iut,Ep=class Ep{constructor(){this.plyParserutils=new Za}decodeHeaderLines(e){let t=0;e.forEach(u=>{u.includes("f_rest_")&&t++});let r=0;t>=45?r=45:t>=24?r=24:t>=9&&(r=9);let a=Array.from(Array(Math.max(r-1,0))).map((u,d)=>`f_rest_${d+1}`);const s=[...Rae,...a],o=s.map((u,d)=>d),l=o.reduce((u,d)=>(u[s[d]]=d,u),{}),c=this.plyParserutils.decodeSectionHeader(e,l,0);return c.splatCount=c.vertexCount,c.bytesPerSplat=c.bytesPerVertex,c.fieldsToReadIndexes=o,c}decodeHeaderText(e){const t=Za.convertHeaderTextToLines(e),r=this.decodeHeaderLines(t);return r.headerText=e,r.headerSizeBytes=e.indexOf(Za.HeaderEndToken)+Za.HeaderEndToken.length+1,r}decodeHeaderFromBuffer(e){const t=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderText(t)}findSplatData(e,t){return new DataView(e,t.headerSizeBytes)}parseToUncompressedSplatBufferSection(e,t,r,i,a,s,o,l=0){l=Math.min(l,e.sphericalHarmonicsDegree);const c=jn.CompressionLevels[0].SphericalHarmonicsDegrees[l].BytesPerSplat;for(let u=t;u<=r;u++){const d=Ep.parseToUncompressedSplat(i,u,e,a,l),f=u*c+o;jn.writeSplatDataToSectionBuffer(d,s,f,0,l)}}parseToUncompressedSplatArraySection(e,t,r,i,a,s,o=0){o=Math.min(o,e.sphericalHarmonicsDegree);for(let l=t;l<=r;l++){const c=Ep.parseToUncompressedSplat(i,l,e,a,o);s.addSplat(c)}}decodeSectionSplatData(e,t,r,i){i=Math.min(i,r.sphericalHarmonicsDegree);const a=new Kn(i);for(let s=0;s<t;s++){const o=Ep.parseToUncompressedSplat(e,s,r,0,i);a.addSplat(o)}return a}static readSplat(e,t,r,i,a){return Za.readVertex(e,t,r,i,t.fieldsToReadIndexes,a,!0)}parseToUncompressedSplatArray(e,t=0){const r=this.decodeHeaderFromBuffer(e),i=r.splatCount,a=this.findSplatData(e,r);return this.decodeSectionSplatData(a,i,r,t)}};un(Ep,"parseToUncompressedSplat",function(){let e=[];const t=new ji,r=Kn.OFFSET.X,i=Kn.OFFSET.Y,a=Kn.OFFSET.Z,s=Kn.OFFSET.SCALE0,o=Kn.OFFSET.SCALE1,l=Kn.OFFSET.SCALE2,c=Kn.OFFSET.ROTATION0,u=Kn.OFFSET.ROTATION1,d=Kn.OFFSET.ROTATION2,f=Kn.OFFSET.ROTATION3,h=Kn.OFFSET.FDC0,p=Kn.OFFSET.FDC1,m=Kn.OFFSET.FDC2,v=Kn.OFFSET.OPACITY,g=[];for(let y=0;y<45;y++)g[y]=Kn.OFFSET.FRC0+y;return function(y,b,_,x=0,S=0){S=Math.min(S,_.sphericalHarmonicsDegree),Ep.readSplat(y,_,b,x,e);const T=Kn.createSplat(S);if(e[jW]!==void 0?(T[s]=Math.exp(e[jW]),T[o]=Math.exp(e[Rut]),T[l]=Math.exp(e[Put])):(T[s]=.01,T[o]=.01,T[l]=.01),e[ZW]!==void 0){const C=.28209479177387814;T[h]=(.5+C*e[ZW])*255,T[p]=(.5+C*e[zut])*255,T[m]=(.5+C*e[Uut])*255}else e[JW]!==void 0?(T[h]=e[JW]*255,T[p]=e[Hut]*255,T[m]=e[Vut]*255):(T[h]=0,T[p]=0,T[m]=0);if(e[QW]!==void 0&&(T[v]=1/(1+Math.exp(-e[QW]))*255),T[h]=ts(Math.floor(T[h]),0,255),T[p]=ts(Math.floor(T[p]),0,255),T[m]=ts(Math.floor(T[m]),0,255),T[v]=ts(Math.floor(T[v]),0,255),S>=1&&e[$ut]!==void 0){for(let C=0;C<9;C++)T[g[C]]=e[_.sphericalHarmonicsDegree1Fields[C]];if(S>=2)for(let C=0;C<15;C++)T[g[9+C]]=e[_.sphericalHarmonicsDegree2Fields[C]]}return t.set(e[Dut],e[kut],e[Lut],e[Nut]),t.normalize(),T[c]=t.x,T[u]=t.y,T[d]=t.z,T[f]=t.w,T[r]=e[Out],T[i]=e[But],T[a]=e[Fut],T}}());let eT=Ep;const Pae=["features_dc","features_rest_0","features_rest_1","features_rest_2","features_rest_3","features_rest_4","features_rest_5","features_rest_6","features_rest_7","features_rest_8","features_rest_9","features_rest_10","features_rest_11","features_rest_12","features_rest_13","features_rest_14","opacity","scaling","rotation_re","rotation_im"],u2=Pae.map((n,e)=>e),[d2,Gut,Wut,eq,f2,qut,i5]=[0,1,4,16,17,18,19],Dae=["scale_0","scale_1","scale_2","rot_0","rot_1","rot_2","rot_3","x","y","z","f_dc_0","f_dc_1","f_dc_2","opacity","red","green","blue","f_rest_0","f_rest_1","f_rest_2","f_rest_3","f_rest_4","f_rest_5","f_rest_6","f_rest_7","f_rest_8","f_rest_9","f_rest_10","f_rest_11","f_rest_12","f_rest_13","f_rest_14","f_rest_15","f_rest_16","f_rest_17","f_rest_18","f_rest_19","f_rest_20","f_rest_21","f_rest_22","f_rest_23","f_rest_24","f_rest_25","f_rest_26","f_rest_27","f_rest_28","f_rest_29","f_rest_30","f_rest_31","f_rest_32","f_rest_33","f_rest_34","f_rest_35","f_rest_36","f_rest_37","f_rest_38","f_rest_39","f_rest_40","f_rest_41","f_rest_42","f_rest_43","f_rest_44","f_rest_45"],rk=Dae.map((n,e)=>e),[tq,Kut,Yut,Xut,jut,Zut,Qut,Jut,edt,tdt,ik,kae,Lae,nq]=rk,rq=ik,ndt=kae,rdt=Lae,h2=n=>{const e=(31744&n)>>10,t=1023&n;return(n>>15?-1:1)*(e?e===31?t?NaN:1/0:Math.pow(2,e-15)*(1+t/1024):t/1024*6103515625e-14)},Eb=class Eb{constructor(){this.plyParserutils=new Za}decodeSectionHeadersFromHeaderLines(e){const t=rk.reduce((u,d)=>(u[Dae[d]]=d,u),{}),r=u2.reduce((u,d)=>(u[Pae[d]]=d,u),{}),i=Za.getHeaderSectionNames(e);let a;for(let u=0;u<i.length;u++)i[u]==="codebook_centers"&&(a=u);let s=0,o=!1;const l=[];let c=0;for(;!o;){let u;c===a?u=this.plyParserutils.decodeSectionHeader(e,r,s):u=this.plyParserutils.decodeSectionHeader(e,t,s),o=u.endOfHeader,s=u.headerEndLine+1,o||(u.splatCount=u.vertexCount,u.bytesPerSplat=u.bytesPerVertex),l.push(u),c++}return l}decodeSectionHeadersFromHeaderText(e){const t=Za.convertHeaderTextToLines(e);return this.decodeSectionHeadersFromHeaderLines(t)}getSplatCountFromSectionHeaders(e){let t=0;for(let r of e)r.sectionName!=="codebook_centers"&&(t+=r.vertexCount);return t}decodeHeaderFromHeaderText(e){const t=e.indexOf(Za.HeaderEndToken)+Za.HeaderEndToken.length+1,r=this.decodeSectionHeadersFromHeaderText(e),i=this.getSplatCountFromSectionHeaders(r);return{headerSizeBytes:t,sectionHeaders:r,splatCount:i}}decodeHeaderFromBuffer(e){const t=this.plyParserutils.readHeaderFromBuffer(e);return this.decodeHeaderFromHeaderText(t)}findVertexData(e,t,r){let i=t.headerSizeBytes;for(let a=0;a<r&&a<t.sectionHeaders.length;a++){const s=t.sectionHeaders[a];i+=s.dataSizeBytes}return new DataView(e,i,t.sectionHeaders[r].dataSizeBytes)}decodeCodeBook(e,t){const r=[],i=[];for(let a=0;a<t.vertexCount;a++){Za.readVertex(e,t,a,0,u2,r);for(let s of u2){const o=u2[s];let l=i[o];l||(i[o]=l=[]),l.push(r[s])}}for(let a=0;a<i.length;a++){const s=i[a],o=.28209479177387814;for(let l=0;l<s.length;l++){const c=h2(s[l]);a===eq?s[l]=Math.round(1/(1+Math.exp(-c))*255):a===d2?s[l]=Math.round((.5+o*c)*255):a===f2?s[l]=Math.exp(c):s[l]=c}}return i}decodeSectionSplatData(e,t,r,i,a){a=Math.min(a,r.sphericalHarmonicsDegree);const s=new Kn(a);for(let o=0;o<t;o++){const l=Eb.parseToUncompressedSplat(e,o,r,i,0,a);s.addSplat(l)}return s}static readSplat(e,t,r,i,a){return Za.readVertex(e,t,r,i,rk,a,!1)}parseToUncompressedSplatArray(e,t=0){const r=[],i=this.decodeHeaderFromBuffer(e,t);let a;for(let o=0;o<i.sectionHeaders.length;o++){const l=i.sectionHeaders[o];if(l.sectionName==="codebook_centers"){const c=this.findVertexData(e,i,o);a=this.decodeCodeBook(c,l)}}for(let o=0;o<i.sectionHeaders.length;o++){const l=i.sectionHeaders[o];if(l.sectionName!=="codebook_centers"){const c=l.vertexCount,u=this.findVertexData(e,i,o),d=this.decodeSectionSplatData(u,c,l,a,t);r.push(d)}}const s=new Kn(t);for(let o of r)for(let l of o.splats)s.addSplat(l);return s}};un(Eb,"parseToUncompressedSplat",function(){let e=[];const t=new ji,r=Kn.OFFSET.X,i=Kn.OFFSET.Y,a=Kn.OFFSET.Z,s=Kn.OFFSET.SCALE0,o=Kn.OFFSET.SCALE1,l=Kn.OFFSET.SCALE2,c=Kn.OFFSET.ROTATION0,u=Kn.OFFSET.ROTATION1,d=Kn.OFFSET.ROTATION2,f=Kn.OFFSET.ROTATION3,h=Kn.OFFSET.FDC0,p=Kn.OFFSET.FDC1,m=Kn.OFFSET.FDC2,v=Kn.OFFSET.OPACITY,g=[];for(let y=0;y<45;y++)g[y]=Kn.OFFSET.FRC0+y;return function(y,b,_,x,S=0,T=0){T=Math.min(T,_.sphericalHarmonicsDegree),Eb.readSplat(y,_,b,S,e);const C=Kn.createSplat(T);if(e[tq]!==void 0?(C[s]=x[f2][e[tq]],C[o]=x[f2][e[Kut]],C[l]=x[f2][e[Yut]]):(C[s]=.01,C[o]=.01,C[l]=.01),e[ik]!==void 0?(C[h]=x[d2][e[ik]],C[p]=x[d2][e[kae]],C[m]=x[d2][e[Lae]]):e[rq]!==void 0?(C[h]=e[rq]*255,C[p]=e[ndt]*255,C[m]=e[rdt]*255):(C[h]=0,C[p]=0,C[m]=0),e[nq]!==void 0&&(C[v]=x[eq][e[nq]]),C[h]=ts(Math.floor(C[h]),0,255),C[p]=ts(Math.floor(C[p]),0,255),C[m]=ts(Math.floor(C[m]),0,255),C[v]=ts(Math.floor(C[v]),0,255),T>=1&&_.sphericalHarmonicsDegree>=1){for(let L=0;L<9;L++){const F=x[Gut+L%3];C[g[L]]=F[e[_.sphericalHarmonicsDegree1Fields[L]]]}if(T>=2&&_.sphericalHarmonicsDegree>=2)for(let L=0;L<15;L++){const F=x[Wut+L%5];C[g[9+L]]=F[e[_.sphericalHarmonicsDegree2Fields[L]]]}}const M=x[qut][e[Xut]],A=x[i5][e[jut]],I=x[i5][e[Zut]],D=x[i5][e[Qut]];return t.set(M,A,I,D),t.normalize(),C[c]=t.x,C[u]=t.y,C[d]=t.z,C[f]=t.w,C[r]=h2(e[Jut]),C[i]=h2(e[edt]),C[a]=h2(e[tdt]),C}}());let ak=Eb;class idt{static parseToUncompressedSplatArray(e,t=0){const r=Za.determineHeaderFormatFromPlyBuffer(e);if(r===Kf.PlayCanvasCompressed)return Gp.parseToUncompressedSplatArray(e);if(r===Kf.INRIAV1)return new eT().parseToUncompressedSplatArray(e,t);if(r===Kf.INRIAV2)return new ak().parseToUncompressedSplatArray(e,t)}}class GN{constructor(e,t,r,i){this.sectionCount=e,this.sectionFilters=t,this.groupingParameters=r,this.partitionGenerator=i}partitionUncompressedSplatArray(e){let t,r,i;if(this.partitionGenerator){const s=this.partitionGenerator(e);t=s.groupingParameters,r=s.sectionCount,i=s.sectionFilters}else t=this.groupingParameters,r=this.sectionCount,i=this.sectionFilters;const a=[];for(let s=0;s<r;s++){const o=new Kn(e.sphericalHarmonicsDegree),l=i[s];for(let c=0;c<e.splatCount;c++)l(c)&&o.addSplat(e.splats[c]);a.push(o)}return{splatArrays:a,parameters:t}}static getStandardPartitioner(e=0,t=new tt,r=jn.BucketBlockSize,i=jn.BucketSize){const a=s=>{const o=Kn.OFFSET.X,l=Kn.OFFSET.Y,c=Kn.OFFSET.Z;e<=0&&(e=s.splatCount);const u=new tt,d=.5,f=g=>{g.x=Math.floor(g.x/d)*d,g.y=Math.floor(g.y/d)*d,g.z=Math.floor(g.z/d)*d};s.splats.forEach(g=>{u.set(g[o],g[l],g[c]).sub(t),f(u),g.centerDist=u.lengthSq()}),s.splats.sort((g,y)=>{let b=g.centerDist,_=y.centerDist;return b>_?1:-1});const h=[],p=[];e=Math.min(s.splatCount,e);const m=Math.ceil(s.splatCount/e);let v=0;for(let g=0;g<m;g++){let y=v;h.push(b=>b>=y&&b<y+e),p.push({blocksSize:r,bucketSize:i}),v+=e}return{sectionCount:h.length,sectionFilters:h,groupingParameters:p}};return new GN(void 0,void 0,void 0,a)}}class FA{constructor(e,t,r,i,a,s,o){this.splatPartitioner=e,this.alphaRemovalThreshold=t,this.compressionLevel=r,this.sectionSize=i,this.sceneCenter=a?new tt().copy(a):void 0,this.blockSize=s,this.bucketSize=o}generateFromUncompressedSplatArray(e){const t=this.splatPartitioner.partitionUncompressedSplatArray(e);return jn.generateFromUncompressedSplatArrays(t.splatArrays,this.alphaRemovalThreshold,this.compressionLevel,this.sceneCenter,this.blockSize,this.bucketSize,t.parameters)}static getStandardGenerator(e=1,t=1,r=0,i=new tt,a=jn.BucketBlockSize,s=jn.BucketSize){const o=GN.getStandardPartitioner(r,i,a,s);return new FA(o,e,t,r,i,a,s)}}const xa={Downloading:0,Processing:1,Done:2};class WN extends Error{constructor(e){super(e)}}const Qi={DirectToSplatBuffer:0,DirectToSplatArray:1,DownloadBeforeProcessing:2};function iq(n,e){let t=0;for(let i of n)t+=i.sizeBytes;(!e||e.byteLength<t)&&(e=new ArrayBuffer(t));let r=0;for(let i of n)new Uint8Array(e,r,i.sizeBytes).set(i.data),r+=i.sizeBytes;return e}function aq(n,e,t,r,i,a,s,o){return e?FA.getStandardGenerator(t,r,i,a,s,o).generateFromUncompressedSplatArray(n):jn.generateFromUncompressedSplatArrays([n],t,0,new tt)}class qN{static loadFromURL(e,t,r,i,a,s,o=!0,l=0,c,u,d,f,h){let p=r?Qi.DirectToSplatBuffer:Qi.DirectToSplatArray;o&&(p=Qi.DirectToSplatArray);const m=zr.ProgressiveLoadSectionSize,v=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes,g=1;let y,b,_,x,S=0,T=0,C=!1,M=!1,A=!1;const I=LN();let D=0,L=0,F=0,B="",k=null,H=[],z;const O=new TextDecoder,W=new eT,j=(ee,te,J)=>{const Q=ee>=100;if(J&&(H.push({data:J,sizeBytes:J.byteLength,startBytes:F,endBytes:F+J.byteLength}),F+=J.byteLength),p===Qi.DownloadBeforeProcessing)Q&&I.resolve(H);else{if(C){if(A&&!M){const ie=k.headerSizeBytes+k.chunkElement.storageSizeBytes;x=iq(H,x),x.byteLength>=ie&&(Gp.readElementData(k.chunkElement,x,k.headerSizeBytes),D=ie,L=ie,M=!0)}}else if(B+=O.decode(J),Za.checkTextForEndHeader(B)){const ie=Za.determineHeaderFormatFromHeaderText(B);if(ie===Kf.INRIAV1)k=W.decodeHeaderText(B),S=k.splatCount,M=!0,A=!1;else if(ie===Kf.PlayCanvasCompressed)k=Gp.decodeHeaderText(B),S=k.vertexElement.count,A=!0;else{if(r)throw new WN("PlyLoader.loadFromURL() -> Selected Ply format cannot be directly loaded.");p=Qi.DownloadBeforeProcessing;return}l=Math.min(l,k.sphericalHarmonicsDegree);const le=jn.CompressionLevels[0].SphericalHarmonicsDegrees[l],we=v+le.BytesPerSplat*S;p===Qi.DirectToSplatBuffer?(b=new ArrayBuffer(we),jn.writeHeaderToBuffer({versionMajor:jn.CurrentMajorVersion,versionMinor:jn.CurrentMinorVersion,maxSectionCount:g,sectionCount:g,maxSplatCount:S,splatCount:T,compressionLevel:0,sceneCenter:new tt},b)):z=new Kn(l),D=k.headerSizeBytes,L=k.headerSizeBytes,C=!0}if(C&&M){if(H.length>0&&(y=iq(H,y),F-D>m||Q)){const le=F-L,we=Math.floor(le/k.bytesPerSplat),Ae=we*k.bytesPerSplat,ke=le-Ae,Fe=T+we,q=L-H[0].startBytes,ce=new DataView(y,q,Ae),re=jn.CompressionLevels[0].SphericalHarmonicsDegrees[l],Ne=T*re.BytesPerSplat+v;if(p===Qi.DirectToSplatBuffer?A?Gp.parseToUncompressedSplatBufferSection(k.chunkElement,k.vertexElement,0,we-1,T,ce,0,b,Ne):W.parseToUncompressedSplatBufferSection(k,0,we-1,ce,0,b,Ne,l):A?Gp.parseToUncompressedSplatArraySection(k.chunkElement,k.vertexElement,0,we-1,T,ce,0,z):W.parseToUncompressedSplatArraySection(k,0,we-1,ce,0,z,l),T=Fe,p===Qi.DirectToSplatBuffer&&(_||(jn.writeSectionHeaderToBuffer({maxSplatCount:S,splatCount:T,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0,sphericalHarmonicsDegree:l},0,b,jn.HeaderSizeBytes),_=new jn(b,!1)),_.updateLoadedCounts(1,T),i&&i(_,Q)),D+=m,L+=Ae,ke===0)H=[];else{let Pe=[],$e=0;for(let Ue=H.length-1;Ue>=0;Ue--){const Ve=H[Ue];if($e+=Ve.sizeBytes,Pe.unshift(Ve),$e>=ke)break}H=Pe}}Q&&(p===Qi.DirectToSplatBuffer?I.resolve(_):I.resolve(z))}}t&&t(ee,te,xa.Downloading)};return t&&t(0,"0%",xa.Downloading),kN(e,j,!1,c).then(()=>(t&&t(0,"0%",xa.Processing),I.promise.then(ee=>{if(t&&t(100,"100%",xa.Done),p===Qi.DownloadBeforeProcessing){const te=H.map(J=>J.data);return new Blob(te).arrayBuffer().then(J=>qN.loadFromFileData(J,a,s,o,l,u,d,f,h))}else return p===Qi.DirectToSplatBuffer?ee:mc(()=>aq(ee,o,a,s,u,d,f,h))})))}static loadFromFileData(e,t,r,i,a=0,s,o,l,c){return mc(()=>idt.parseToUncompressedSplatArray(e,a)).then(u=>aq(u,i,t,r,s,o,l,c))}}const gi=class gi{static parseToUncompressedSplatBufferSection(e,t,r,i,a,s){const o=jn.CompressionLevels[0].BytesPerCenter,l=jn.CompressionLevels[0].BytesPerScale,c=jn.CompressionLevels[0].BytesPerRotation,u=jn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat;for(let d=e;d<=t;d++){const f=d*gi.RowSizeBytes+i,h=new Float32Array(r,f,3),p=new Float32Array(r,f+gi.CenterSizeBytes,3),m=new Uint8Array(r,f+gi.CenterSizeBytes+gi.ScaleSizeBytes,4),v=new Uint8Array(r,f+gi.CenterSizeBytes+gi.ScaleSizeBytes+gi.RotationSizeBytes,4),g=new ji((v[1]-128)/128,(v[2]-128)/128,(v[3]-128)/128,(v[0]-128)/128);g.normalize();const y=d*u+s,b=new Float32Array(a,y,3),_=new Float32Array(a,y+o,3),x=new Float32Array(a,y+o+l,4),S=new Uint8Array(a,y+o+l+c,4);b[0]=h[0],b[1]=h[1],b[2]=h[2],_[0]=p[0],_[1]=p[1],_[2]=p[2],x[0]=g.w,x[1]=g.x,x[2]=g.y,x[3]=g.z,S[0]=m[0],S[1]=m[1],S[2]=m[2],S[3]=m[3]}}static parseToUncompressedSplatArraySection(e,t,r,i,a){for(let s=e;s<=t;s++){const o=s*gi.RowSizeBytes+i,l=new Float32Array(r,o,3),c=new Float32Array(r,o+gi.CenterSizeBytes,3),u=new Uint8Array(r,o+gi.CenterSizeBytes+gi.ScaleSizeBytes,4),d=new Uint8Array(r,o+gi.CenterSizeBytes+gi.ScaleSizeBytes+gi.RotationSizeBytes,4),f=new ji((d[1]-128)/128,(d[2]-128)/128,(d[3]-128)/128,(d[0]-128)/128);f.normalize(),a.addSplatFromComonents(l[0],l[1],l[2],c[0],c[1],c[2],f.w,f.x,f.y,f.z,u[0],u[1],u[2],u[3])}}static parseStandardSplatToUncompressedSplatArray(e){const t=e.byteLength/gi.RowSizeBytes,r=new Kn;for(let i=0;i<t;i++){const a=i*gi.RowSizeBytes,s=new Float32Array(e,a,3),o=new Float32Array(e,a+gi.CenterSizeBytes,3),l=new Uint8Array(e,a+gi.CenterSizeBytes+gi.ScaleSizeBytes,4),c=new Uint8Array(e,a+gi.CenterSizeBytes+gi.ScaleSizeBytes+gi.ColorSizeBytes,4),u=new ji((c[1]-128)/128,(c[2]-128)/128,(c[3]-128)/128,(c[0]-128)/128);u.normalize(),r.addSplatFromComonents(s[0],s[1],s[2],o[0],o[1],o[2],u.w,u.x,u.y,u.z,l[0],l[1],l[2],l[3])}return r}};un(gi,"RowSizeBytes",32),un(gi,"CenterSizeBytes",12),un(gi,"ScaleSizeBytes",12),un(gi,"RotationSizeBytes",4),un(gi,"ColorSizeBytes",4);let Tp=gi;function sq(n,e,t,r,i,a,s,o){return e?FA.getStandardGenerator(t,r,i,a,s,o).generateFromUncompressedSplatArray(n):jn.generateFromUncompressedSplatArrays([n],t,0,new tt)}class KN{static loadFromURL(e,t,r,i,a,s,o=!0,l,c,u,d,f){let h=r?Qi.DirectToSplatBuffer:Qi.DirectToSplatArray;o&&(h=Qi.DirectToSplatArray);const p=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes,m=zr.ProgressiveLoadSectionSize,v=1;let g,y,b,_=0,x=0,S;const T=LN();let C=0,M=0,A=[];const I=(D,L,F,B)=>{const k=D>=100;if(F&&A.push(F),h===Qi.DownloadBeforeProcessing){k&&T.resolve(A);return}if(!B){if(r)throw new WN("Cannon directly load .splat because no file size info is available.");h=Qi.DownloadBeforeProcessing;return}if(!g){_=B/Tp.RowSizeBytes,g=new ArrayBuffer(B);const H=jn.CompressionLevels[0].SphericalHarmonicsDegrees[0].BytesPerSplat,z=p+H*_;h===Qi.DirectToSplatBuffer?(y=new ArrayBuffer(z),jn.writeHeaderToBuffer({versionMajor:jn.CurrentMajorVersion,versionMinor:jn.CurrentMinorVersion,maxSectionCount:v,sectionCount:v,maxSplatCount:_,splatCount:x,compressionLevel:0,sceneCenter:new tt},y)):S=new Kn(0)}if(F){new Uint8Array(g,M,F.byteLength).set(new Uint8Array(F)),M+=F.byteLength;const H=M-C;if(H>m||k){const O=(k?H:m)/Tp.RowSizeBytes,W=x+O;h===Qi.DirectToSplatBuffer?Tp.parseToUncompressedSplatBufferSection(x,W-1,g,0,y,p):Tp.parseToUncompressedSplatArraySection(x,W-1,g,0,S),x=W,h===Qi.DirectToSplatBuffer&&(b||(jn.writeSectionHeaderToBuffer({maxSplatCount:_,splatCount:x,bucketSize:0,bucketCount:0,bucketBlockSize:0,compressionScaleRange:0,storageSizeBytes:0,fullBucketCount:0,partiallyFilledBucketCount:0},0,y,jn.HeaderSizeBytes),b=new jn(y,!1)),b.updateLoadedCounts(1,x),i&&i(b,k)),C+=m}}k&&(h===Qi.DirectToSplatBuffer?T.resolve(b):T.resolve(S)),t&&t(D,L,xa.Downloading)};return t&&t(0,"0%",xa.Downloading),kN(e,I,!1,l).then(()=>(t&&t(0,"0%",xa.Processing),T.promise.then(D=>(t&&t(100,"100%",xa.Done),h===Qi.DownloadBeforeProcessing?new Blob(A).arrayBuffer().then(L=>KN.loadFromFileData(L,a,s,o,c,u,d,f)):h===Qi.DirectToSplatBuffer?D:mc(()=>sq(D,o,a,s,c,u,d,f))))))}static loadFromFileData(e,t,r,i,a,s,o,l){return mc(()=>{const c=Tp.parseStandardSplatToUncompressedSplatArray(e);return sq(c,i,t,r,a,s,o,l)})}}const Iv=class Iv{static checkVersion(e){const t=jn.CurrentMajorVersion,r=jn.CurrentMinorVersion,i=jn.parseHeader(e);if(i.versionMajor===t&&i.versionMinor>=r||i.versionMajor>t)return!0;throw new Error(`KSplat version not supported: v${i.versionMajor}.${i.versionMinor}. Minimum required: v${t}.${r}`)}static loadFromURL(e,t,r,i,a){let s,o,l,c,u=!1,d=!1,f,h=[],p=!1,m=!1,v=0,g=0,y=0,b=!1,_=!1,x=!1,S=[];const T=LN(),C=()=>{!u&&!d&&v>=jn.HeaderSizeBytes&&(d=!0,new Blob(S).arrayBuffer().then(B=>{l=new ArrayBuffer(jn.HeaderSizeBytes),new Uint8Array(l).set(new Uint8Array(B,0,jn.HeaderSizeBytes)),Iv.checkVersion(l),d=!1,u=!0,c=jn.parseHeader(l),window.setTimeout(()=>{I()},1)}))};let M=0;const A=()=>{M===0&&(M++,window.setTimeout(()=>{M--,D()},1))},I=()=>{const F=()=>{m=!0,new Blob(S).arrayBuffer().then(k=>{m=!1,p=!0,f=new ArrayBuffer(c.maxSectionCount*jn.SectionHeaderSizeBytes),new Uint8Array(f).set(new Uint8Array(k,jn.HeaderSizeBytes,c.maxSectionCount*jn.SectionHeaderSizeBytes)),h=jn.parseSectionHeaders(c,f,0,!1);let H=0;for(let O=0;O<c.maxSectionCount;O++)H+=h[O].storageSizeBytes;const z=jn.HeaderSizeBytes+c.maxSectionCount*jn.SectionHeaderSizeBytes+H;if(!s){s=new ArrayBuffer(z);let O=0;for(let W=0;W<S.length;W++){const j=S[W];new Uint8Array(s,O,j.byteLength).set(new Uint8Array(j)),O+=j.byteLength}}y=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes*c.maxSectionCount;for(let O=0;O<=h.length&&O<c.maxSectionCount;O++)y+=h[O].storageSizeBytes;A()})};!m&&!p&&u&&v>=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes*c.maxSectionCount&&F()},D=()=>{if(x)return;x=!0;const F=()=>{if(x=!1,p){if(_)return;if(b=v>=y,v-g>zr.ProgressiveLoadSectionSize||b){g+=zr.ProgressiveLoadSectionSize,_=g>=y,o||(o=new jn(s,!1));const k=jn.HeaderSizeBytes+jn.SectionHeaderSizeBytes*c.maxSectionCount;let H=0,z=0,O=0;for(let ee=0;ee<c.maxSectionCount;ee++){const te=h[ee],J=H+te.partiallyFilledBucketCount*4+te.bucketStorageSizeBytes*te.bucketCount,Q=k+J;if(g>=Q){z++;const ie=g-Q,Ae=jn.CompressionLevels[c.compressionLevel].SphericalHarmonicsDegrees[te.sphericalHarmonicsDegree].BytesPerSplat;let ke=Math.floor(ie/Ae);ke=Math.min(ke,te.maxSplatCount),O+=ke,o.updateLoadedCounts(z,O),o.updateSectionLoadedCounts(ee,ke)}else break;H+=te.storageSizeBytes}i(o,_);const W=g/y*100,j=W.toFixed(2)+"%";t&&t(W,j,xa.Downloading),_?T.resolve(o):D()}}};window.setTimeout(F,zr.ProgressiveLoadSectionDelayDuration)};return kN(e,(F,B,k)=>{k&&(S.push(k),s&&new Uint8Array(s,v,k.byteLength).set(new Uint8Array(k)),v+=k.byteLength),r?(C(),I(),D()):t&&t(F,B,xa.Downloading)},!r,a).then(F=>(t&&t(0,"0%",xa.Processing),(r?T.promise:Iv.loadFromFileData(F)).then(k=>(t&&t(100,"100%",xa.Done),k))))}static loadFromFileData(e){return mc(()=>(Iv.checkVersion(e),new jn(e)))}};un(Iv,"downloadFile",function(){let e;return function(t,r){const i=new Blob([t.bufferData],{type:"application/octet-stream"});e||(e=document.createElement("a"),document.body.appendChild(e)),e.download=r,e.href=URL.createObjectURL(i),e.click()}}());let sk=Iv;const Ju={Splat:0,KSplat:1,Ply:2},oq=n=>n.endsWith(".ply")?Ju.Ply:n.endsWith(".splat")?Ju.Splat:n.endsWith(".ksplat")?Ju.KSplat:null,lq={type:"change"},a5={type:"start"},cq={type:"end"},p2=new fae,uq=new Sf,adt=Math.cos(70*lae.DEG2RAD);class m2 extends Hm{constructor(e,t){super(),this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new tt,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"KeyA",UP:"KeyW",RIGHT:"KeyD",BOTTOM:"KeyS"},this.mouseButtons={LEFT:O0.ROTATE,MIDDLE:O0.DOLLY,RIGHT:O0.PAN},this.touches={ONE:B0.ROTATE,TWO:B0.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(G){G.addEventListener("keydown",me),this._domElementKeyEvents=G},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",me),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,this.clearDampedRotation(),this.clearDampedPan(),r.object.updateProjectionMatrix(),r.dispatchEvent(lq),r.update(),a=i.NONE},this.clearDampedRotation=function(){l.theta=0,l.phi=0},this.clearDampedPan=function(){u.set(0,0,0)},this.update=function(){const G=new tt,ge=new ji().setFromUnitVectors(e.up,new tt(0,1,0)),pe=ge.clone().invert(),Ie=new tt,ye=new ji,Me=new tt,ht=2*Math.PI;return function(){ge.setFromUnitVectors(e.up,new tt(0,1,0)),pe.copy(ge).invert();const _t=r.object.position;G.copy(_t).sub(r.target),G.applyQuaternion(ge),o.setFromVector3(G),r.autoRotate&&a===i.NONE&&I(M()),r.enableDamping?(o.theta+=l.theta*r.dampingFactor,o.phi+=l.phi*r.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let nt=r.minAzimuthAngle,gt=r.maxAzimuthAngle;isFinite(nt)&&isFinite(gt)&&(nt<-Math.PI?nt+=ht:nt>Math.PI&&(nt-=ht),gt<-Math.PI?gt+=ht:gt>Math.PI&&(gt-=ht),nt<=gt?o.theta=Math.max(nt,Math.min(gt,o.theta)):o.theta=o.theta>(nt+gt)/2?Math.max(nt,o.theta):Math.min(gt,o.theta)),o.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,o.phi)),o.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(u,r.dampingFactor):r.target.add(u),r.zoomToCursor&&S||r.object.isOrthographicCamera?o.radius=O(o.radius):o.radius=O(o.radius*c),G.setFromSpherical(o),G.applyQuaternion(pe),_t.copy(r.target).add(G),r.object.lookAt(r.target),r.enableDamping===!0?(l.theta*=1-r.dampingFactor,l.phi*=1-r.dampingFactor,u.multiplyScalar(1-r.dampingFactor)):(l.set(0,0,0),u.set(0,0,0));let Lt=!1;if(r.zoomToCursor&&S){let At=null;if(r.object.isPerspectiveCamera){const an=G.length();At=O(an*c);const _n=an-At;r.object.position.addScaledVector(_,_n),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const an=new tt(x.x,x.y,0);an.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),Lt=!0;const _n=new tt(x.x,x.y,0);_n.unproject(r.object),r.object.position.sub(_n).add(an),r.object.updateMatrixWorld(),At=G.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;At!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(At).add(r.object.position):(p2.origin.copy(r.object.position),p2.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(p2.direction))<adt?e.lookAt(r.target):(uq.setFromNormalAndCoplanarPoint(r.object.up,r.target),p2.intersectPlane(uq,r.target))))}else r.object.isOrthographicCamera&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/c)),r.object.updateProjectionMatrix(),Lt=!0);return c=1,S=!1,Lt||Ie.distanceToSquared(r.object.position)>s||8*(1-ye.dot(r.object.quaternion))>s||Me.distanceToSquared(r.target)>0?(r.dispatchEvent(lq),Ie.copy(r.object.position),ye.copy(r.object.quaternion),Me.copy(r.target),Lt=!1,!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",mt),r.domElement.removeEventListener("pointerdown",Ue),r.domElement.removeEventListener("pointercancel",je),r.domElement.removeEventListener("wheel",X),r.domElement.removeEventListener("pointermove",Ve),r.domElement.removeEventListener("pointerup",je),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",me),r._domElementKeyEvents=null)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=i.NONE;const s=1e-6,o=new _W,l=new _W;let c=1;const u=new tt,d=new Vn,f=new Vn,h=new Vn,p=new Vn,m=new Vn,v=new Vn,g=new Vn,y=new Vn,b=new Vn,_=new tt,x=new Vn;let S=!1;const T=[],C={};function M(){return 2*Math.PI/60/60*r.autoRotateSpeed}function A(){return Math.pow(.95,r.zoomSpeed)}function I(G){l.theta-=G}function D(G){l.phi-=G}const L=function(){const G=new tt;return function(pe,Ie){G.setFromMatrixColumn(Ie,0),G.multiplyScalar(-pe),u.add(G)}}(),F=function(){const G=new tt;return function(pe,Ie){r.screenSpacePanning===!0?G.setFromMatrixColumn(Ie,1):(G.setFromMatrixColumn(Ie,0),G.crossVectors(r.object.up,G)),G.multiplyScalar(pe),u.add(G)}}(),B=function(){const G=new tt;return function(pe,Ie){const ye=r.domElement;if(r.object.isPerspectiveCamera){const Me=r.object.position;G.copy(Me).sub(r.target);let ht=G.length();ht*=Math.tan(r.object.fov/2*Math.PI/180),L(2*pe*ht/ye.clientHeight,r.object.matrix),F(2*Ie*ht/ye.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(L(pe*(r.object.right-r.object.left)/r.object.zoom/ye.clientWidth,r.object.matrix),F(Ie*(r.object.top-r.object.bottom)/r.object.zoom/ye.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function k(G){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c/=G:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function H(G){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?c*=G:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function z(G){if(!r.zoomToCursor)return;S=!0;const ge=r.domElement.getBoundingClientRect(),pe=G.clientX-ge.left,Ie=G.clientY-ge.top,ye=ge.width,Me=ge.height;x.x=pe/ye*2-1,x.y=-(Ie/Me)*2+1,_.set(x.x,x.y,1).unproject(e).sub(e.position).normalize()}function O(G){return Math.max(r.minDistance,Math.min(r.maxDistance,G))}function W(G){d.set(G.clientX,G.clientY)}function j(G){z(G),g.set(G.clientX,G.clientY)}function ee(G){p.set(G.clientX,G.clientY)}function te(G){f.set(G.clientX,G.clientY),h.subVectors(f,d).multiplyScalar(r.rotateSpeed);const ge=r.domElement;I(2*Math.PI*h.x/ge.clientHeight),D(2*Math.PI*h.y/ge.clientHeight),d.copy(f),r.update()}function J(G){y.set(G.clientX,G.clientY),b.subVectors(y,g),b.y>0?k(A()):b.y<0&&H(A()),g.copy(y),r.update()}function Q(G){m.set(G.clientX,G.clientY),v.subVectors(m,p).multiplyScalar(r.panSpeed),B(v.x,v.y),p.copy(m),r.update()}function ie(G){z(G),G.deltaY<0?H(A()):G.deltaY>0&&k(A()),r.update()}function le(G){let ge=!1;switch(G.code){case r.keys.UP:G.ctrlKey||G.metaKey||G.shiftKey?D(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(0,r.keyPanSpeed),ge=!0;break;case r.keys.BOTTOM:G.ctrlKey||G.metaKey||G.shiftKey?D(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(0,-r.keyPanSpeed),ge=!0;break;case r.keys.LEFT:G.ctrlKey||G.metaKey||G.shiftKey?I(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(r.keyPanSpeed,0),ge=!0;break;case r.keys.RIGHT:G.ctrlKey||G.metaKey||G.shiftKey?I(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):B(-r.keyPanSpeed,0),ge=!0;break}ge&&(G.preventDefault(),r.update())}function we(){if(T.length===1)d.set(T[0].pageX,T[0].pageY);else{const G=.5*(T[0].pageX+T[1].pageX),ge=.5*(T[0].pageY+T[1].pageY);d.set(G,ge)}}function Ae(){if(T.length===1)p.set(T[0].pageX,T[0].pageY);else{const G=.5*(T[0].pageX+T[1].pageX),ge=.5*(T[0].pageY+T[1].pageY);p.set(G,ge)}}function ke(){const G=T[0].pageX-T[1].pageX,ge=T[0].pageY-T[1].pageY,pe=Math.sqrt(G*G+ge*ge);g.set(0,pe)}function Fe(){r.enableZoom&&ke(),r.enablePan&&Ae()}function q(){r.enableZoom&&ke(),r.enableRotate&&we()}function ce(G){if(T.length==1)f.set(G.pageX,G.pageY);else{const pe=at(G),Ie=.5*(G.pageX+pe.x),ye=.5*(G.pageY+pe.y);f.set(Ie,ye)}h.subVectors(f,d).multiplyScalar(r.rotateSpeed);const ge=r.domElement;I(2*Math.PI*h.x/ge.clientHeight),D(2*Math.PI*h.y/ge.clientHeight),d.copy(f)}function re(G){if(T.length===1)m.set(G.pageX,G.pageY);else{const ge=at(G),pe=.5*(G.pageX+ge.x),Ie=.5*(G.pageY+ge.y);m.set(pe,Ie)}v.subVectors(m,p).multiplyScalar(r.panSpeed),B(v.x,v.y),p.copy(m)}function Ne(G){const ge=at(G),pe=G.pageX-ge.x,Ie=G.pageY-ge.y,ye=Math.sqrt(pe*pe+Ie*Ie);y.set(0,ye),b.set(0,Math.pow(y.y/g.y,r.zoomSpeed)),k(b.y),g.copy(y)}function Pe(G){r.enableZoom&&Ne(G),r.enablePan&&re(G)}function $e(G){r.enableZoom&&Ne(G),r.enableRotate&&ce(G)}function Ue(G){r.enabled!==!1&&(T.length===0&&(r.domElement.setPointerCapture(G.pointerId),r.domElement.addEventListener("pointermove",Ve),r.domElement.addEventListener("pointerup",je)),pt(G),G.pointerType==="touch"?Oe(G):fe(G))}function Ve(G){r.enabled!==!1&&(G.pointerType==="touch"?qe(G):$(G))}function je(G){Ce(G),T.length===0&&(r.domElement.releasePointerCapture(G.pointerId),r.domElement.removeEventListener("pointermove",Ve),r.domElement.removeEventListener("pointerup",je)),r.dispatchEvent(cq),a=i.NONE}function fe(G){let ge;switch(G.button){case 0:ge=r.mouseButtons.LEFT;break;case 1:ge=r.mouseButtons.MIDDLE;break;case 2:ge=r.mouseButtons.RIGHT;break;default:ge=-1}switch(ge){case O0.DOLLY:if(r.enableZoom===!1)return;j(G),a=i.DOLLY;break;case O0.ROTATE:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enablePan===!1)return;ee(G),a=i.PAN}else{if(r.enableRotate===!1)return;W(G),a=i.ROTATE}break;case O0.PAN:if(G.ctrlKey||G.metaKey||G.shiftKey){if(r.enableRotate===!1)return;W(G),a=i.ROTATE}else{if(r.enablePan===!1)return;ee(G),a=i.PAN}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(a5)}function $(G){switch(a){case i.ROTATE:if(r.enableRotate===!1)return;te(G);break;case i.DOLLY:if(r.enableZoom===!1)return;J(G);break;case i.PAN:if(r.enablePan===!1)return;Q(G);break}}function X(G){r.enabled===!1||r.enableZoom===!1||a!==i.NONE||(G.preventDefault(),r.dispatchEvent(a5),ie(G),r.dispatchEvent(cq))}function me(G){r.enabled===!1||r.enablePan===!1||le(G)}function Oe(G){switch(ft(G),T.length){case 1:switch(r.touches.ONE){case B0.ROTATE:if(r.enableRotate===!1)return;we(),a=i.TOUCH_ROTATE;break;case B0.PAN:if(r.enablePan===!1)return;Ae(),a=i.TOUCH_PAN;break;default:a=i.NONE}break;case 2:switch(r.touches.TWO){case B0.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),a=i.TOUCH_DOLLY_PAN;break;case B0.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;q(),a=i.TOUCH_DOLLY_ROTATE;break;default:a=i.NONE}break;default:a=i.NONE}a!==i.NONE&&r.dispatchEvent(a5)}function qe(G){switch(ft(G),a){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;ce(G),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;re(G),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Pe(G),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;$e(G),r.update();break;default:a=i.NONE}}function mt(G){r.enabled!==!1&&G.preventDefault()}function pt(G){T.push(G)}function Ce(G){delete C[G.pointerId];for(let ge=0;ge<T.length;ge++)if(T[ge].pointerId==G.pointerId){T.splice(ge,1);return}}function ft(G){let ge=C[G.pointerId];ge===void 0&&(ge=new Vn,C[G.pointerId]=ge),ge.set(G.pageX,G.pageY)}function at(G){const ge=G.pointerId===T[0].pointerId?T[1]:T[0];return C[ge.pointerId]}r.domElement.addEventListener("contextmenu",mt),r.domElement.addEventListener("pointerdown",Ue),r.domElement.addEventListener("pointercancel",je),r.domElement.addEventListener("wheel",X,{passive:!1}),this.update()}}const sdt=(n,e,t,r,i)=>{const a=performance.now();let s=n.style.display==="none"?0:parseFloat(n.style.opacity);isNaN(s)&&(s=1);const o=window.setInterval(()=>{const c=performance.now()-a;let u=Math.min(c/r,1);u>.999&&(u=1);let d;e?(d=(1-u)*s,d<1e-4&&(d=0)):d=(1-s)*u+s,d>0?(n.style.display=t,n.style.opacity=d):n.style.display="none",u>=1&&(i&&i(),window.clearInterval(o))},16);return o},odt=500,rT=class rT{constructor(e,t){this.taskIDGen=0,this.elementID=rT.elementIDGen++,this.tasks=[],this.message=e||"Loading...",this.container=t||document.body,this.spinnerContainerOuter=document.createElement("div"),this.spinnerContainerOuter.className=`spinnerOuterContainer${this.elementID}`,this.spinnerContainerOuter.style.display="none",this.spinnerContainerPrimary=document.createElement("div"),this.spinnerContainerPrimary.className=`spinnerContainerPrimary${this.elementID}`,this.spinnerPrimary=document.createElement("div"),this.spinnerPrimary.classList.add(`spinner${this.elementID}`,`spinnerPrimary${this.elementID}`),this.messageContainerPrimary=document.createElement("div"),this.messageContainerPrimary.classList.add(`messageContainer${this.elementID}`,`messageContainerPrimary${this.elementID}`),this.messageContainerPrimary.innerHTML=this.message,this.spinnerContainerMin=document.createElement("div"),this.spinnerContainerMin.className=`spinnerContainerMin${this.elementID}`,this.spinnerMin=document.createElement("div"),this.spinnerMin.classList.add(`spinner${this.elementID}`,`spinnerMin${this.elementID}`),this.messageContainerMin=document.createElement("div"),this.messageContainerMin.classList.add(`messageContainer${this.elementID}`,`messageContainerMin${this.elementID}`),this.messageContainerMin.innerHTML=this.message,this.spinnerContainerPrimary.appendChild(this.spinnerPrimary),this.spinnerContainerPrimary.appendChild(this.messageContainerPrimary),this.spinnerContainerOuter.appendChild(this.spinnerContainerPrimary),this.spinnerContainerMin.appendChild(this.spinnerMin),this.spinnerContainerMin.appendChild(this.messageContainerMin),this.spinnerContainerOuter.appendChild(this.spinnerContainerMin);const r=document.createElement("style");r.innerHTML=`

            .spinnerOuterContainer${this.elementID} {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .messageContainer${this.elementID} {
                height: 20px;
                font-family: arial;
                font-size: 12pt;
                color: #ffffff;
                text-align: center;
                vertical-align: middle;
            }

            .spinner${this.elementID} {
                padding: 15px;
                background: #07e8d6;
                z-index:99999;
            
                aspect-ratio: 1;
                border-radius: 50%;
                --_m: 
                    conic-gradient(#0000,#000),
                    linear-gradient(#000 0 0) content-box;
                -webkit-mask: var(--_m);
                    mask: var(--_m);
                -webkit-mask-composite: source-out;
                    mask-composite: subtract;
                box-sizing: border-box;
                animation: load 1s linear infinite;
            }

            .spinnerContainerPrimary${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 10px;
                margin: 0;
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-80px, -80px);
                width: 180px;
                pointer-events: auto;
            }

            .spinnerPrimary${this.elementID} {
                width: 120px;
                margin-left: 30px;
            }

            .messageContainerPrimary${this.elementID} {
                padding-top: 15px;
            }

            .spinnerContainerMin${this.elementID} {
                z-index:99999;
                background-color: rgba(128, 128, 128, 0.75);
                border: #666666 1px solid;
                border-radius: 5px;
                padding-top: 20px;
                padding-bottom: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                display: flex;
                flex-direction: left;
                pointer-events: auto;
                min-width: 250px;
            }

            .messageContainerMin${this.elementID} {
                margin-right: 15px;
            }

            .spinnerMin${this.elementID} {
                width: 50px;
                height: 50px;
                margin-left: 15px;
                margin-right: 25px;
            }

            .messageContainerMin${this.elementID} {
                padding-top: 15px;
            }
            
            @keyframes load {
                to{transform: rotate(1turn)}
            }

        `,this.spinnerContainerOuter.appendChild(r),this.container.appendChild(this.spinnerContainerOuter),this.setMinimized(!1,!0),this.fadeTransitions=[]}addTask(e){const t={message:e,id:this.taskIDGen++};return this.tasks.push(t),this.update(),t.id}removeTask(e){let t=0;for(let r of this.tasks){if(r.id===e){this.tasks.splice(t,1);break}t++}this.update()}removeAllTasks(){this.tasks=[],this.update()}setMessageForTask(e,t){for(let r of this.tasks)if(r.id===e){r.message=t;break}this.update()}update(){this.tasks.length>0?(this.show(),this.setMessage(this.tasks[this.tasks.length-1].message)):this.hide()}show(){this.spinnerContainerOuter.style.display="block",this.visible=!0}hide(){this.spinnerContainerOuter.style.display="none",this.visible=!1}setContainer(e){this.container&&this.spinnerContainerOuter.parentElement===this.container&&this.container.removeChild(this.spinnerContainerOuter),e&&(this.container=e,this.container.appendChild(this.spinnerContainerOuter),this.spinnerContainerOuter.style.zIndex=this.container.style.zIndex+1)}setMinimized(e,t){const r=(i,a,s,o,l)=>{s?i.style.display=a?o:"none":this.fadeTransitions[l]=sdt(i,!a,o,odt,()=>{this.fadeTransitions[l]=null})};r(this.spinnerContainerPrimary,!e,t,"block",0),r(this.spinnerContainerMin,e,t,"flex",1),this.minimized=e}setMessage(e){this.messageContainerPrimary.innerHTML=e,this.messageContainerMin.innerHTML=e}};un(rT,"elementIDGen",0);let ok=rT;class ldt{constructor(e){this.idGen=0,this.tasks=[],this.container=e||document.body,this.progressBarContainerOuter=document.createElement("div"),this.progressBarContainerOuter.className="progressBarOuterContainer",this.progressBarContainerOuter.style.display="none",this.progressBarBox=document.createElement("div"),this.progressBarBox.className="progressBarBox",this.progressBarBackground=document.createElement("div"),this.progressBarBackground.className="progressBarBackground",this.progressBar=document.createElement("div"),this.progressBar.className="progressBar",this.progressBarBackground.appendChild(this.progressBar),this.progressBarBox.appendChild(this.progressBarBackground),this.progressBarContainerOuter.appendChild(this.progressBarBox);const t=document.createElement("style");t.innerHTML=`

            .progressBarOuterContainer {
                width: 100%;
                height: 100%;
                margin: 0;
                top: 0;
                left: 0;
                position: absolute;
                pointer-events: none;
            }

            .progressBarBox {
                z-index:99999;
                padding: 7px 9px 5px 7px;
                background-color: rgba(190, 190, 190, 0.75);
                border: #555555 1px solid;
                border-radius: 15px;
                margin: 0;
                position: absolute;
                bottom: 50px;
                left: 50%;
                transform: translate(-50%, 0);
                width: 180px;
                height: 30px;
                pointer-events: auto;
            }

            .progressBarBackground {
                width: 100%;
                height: 25px;
                border-radius:10px;
                background-color: rgba(128, 128, 128, 0.75);
                border: #444444 1px solid;
                box-shadow: inset 0 0 10px #333333;
            }

            .progressBar {
                height: 25px;
                width: 0px;
                border-radius:10px;
                background-color: rgba(0, 200, 0, 0.75);
                box-shadow: inset 0 0 10px #003300;
            }

        `,this.progressBarContainerOuter.appendChild(t),this.container.appendChild(this.progressBarContainerOuter)}show(){this.progressBarContainerOuter.style.display="block"}hide(){this.progressBarContainerOuter.style.display="none"}setProgress(e){this.progressBar.style.width=e+"%"}setContainer(e){this.container&&this.progressBarContainerOuter.parentElement===this.container&&this.container.removeChild(this.progressBarContainerOuter),e&&(this.container=e,this.container.appendChild(this.progressBarContainerOuter),this.progressBarContainerOuter.style.zIndex=this.container.style.zIndex+1)}}class cdt{constructor(e){un(this,"update",function(e,t,r,i,a,s,o,l,c,u,d,f,h,p){const m=`${t.x.toFixed(5)}, ${t.y.toFixed(5)}, ${t.z.toFixed(5)}`;if(this.infoCells.cameraPosition.innerHTML!==m&&(this.infoCells.cameraPosition.innerHTML=m),r){const g=r,y=`${g.x.toFixed(5)}, ${g.y.toFixed(5)}, ${g.z.toFixed(5)}`;this.infoCells.cameraLookAt.innerHTML!==y&&(this.infoCells.cameraLookAt.innerHTML=y)}const v=`${i.x.toFixed(5)}, ${i.y.toFixed(5)}, ${i.z.toFixed(5)}`;if(this.infoCells.cameraUp.innerHTML!==v&&(this.infoCells.cameraUp.innerHTML=v),this.infoCells.orthographicCamera.innerHTML=a?"Orthographic":"Perspective",s){const g=s,y=`${g.x.toFixed(5)}, ${g.y.toFixed(5)}, ${g.z.toFixed(5)}`;this.infoCells.cursorPosition.innerHTML=y}else this.infoCells.cursorPosition.innerHTML="N/A";this.infoCells.fps.innerHTML=o,this.infoCells.renderWindow.innerHTML=`${e.x} x ${e.y}`,this.infoCells.renderSplatCount.innerHTML=`${c} splats out of ${l} (${u.toFixed(2)}%)`,this.infoCells.sortTime.innerHTML=`${d.toFixed(3)} ms`,this.infoCells.focalAdjustment.innerHTML=`${f.toFixed(3)}`,this.infoCells.splatScale.innerHTML=`${h.toFixed(3)}`,this.infoCells.pointCloudMode.innerHTML=`${p}`});this.container=e||document.body,this.infoCells={};const t=[["Camera position","cameraPosition"],["Camera look-at","cameraLookAt"],["Camera up","cameraUp"],["Camera mode","orthographicCamera"],["Cursor position","cursorPosition"],["FPS","fps"],["Rendering:","renderSplatCount"],["Sort time","sortTime"],["Render window","renderWindow"],["Focal adjustment","focalAdjustment"],["Splat scale","splatScale"],["Point cloud mode","pointCloudMode"]];this.infoPanelContainer=document.createElement("div");const r=document.createElement("style");r.innerHTML=`

            .infoPanel {
                width: 430px;
                padding: 10px;
                background-color: rgba(50, 50, 50, 0.85);
                border: #555555 2px solid;
                color: #dddddd;
                border-radius: 10px;
                z-index: 9999;
                font-family: arial;
                font-size: 11pt;
                text-align: left;
                margin: 0;
                top: 10px;
                left:10px;
                position: absolute;
                pointer-events: auto;
            }

            .info-panel-cell {
                margin-bottom: 5px;
                padding-bottom: 2px;
            }

            .label-cell {
                font-weight: bold;
                font-size: 12pt;
                width: 140px;
            }

        `,this.infoPanelContainer.append(r),this.infoPanel=document.createElement("div"),this.infoPanel.className="infoPanel";const i=document.createElement("div");i.style.display="table";for(let a of t){const s=document.createElement("div");s.style.display="table-row",s.className="info-panel-row";const o=document.createElement("div");o.style.display="table-cell",o.innerHTML=`${a[0]}: `,o.classList.add("info-panel-cell","label-cell");const l=document.createElement("div");l.style.display="table-cell",l.style.width="10px",l.innerHTML=" ",l.className="info-panel-cell";const c=document.createElement("div");c.style.display="table-cell",c.innerHTML="",c.className="info-panel-cell",this.infoCells[a[1]]=c,s.appendChild(o),s.appendChild(l),s.appendChild(c),i.appendChild(s)}this.infoPanel.appendChild(i),this.infoPanelContainer.append(this.infoPanel),this.infoPanelContainer.style.display="none",this.container.appendChild(this.infoPanelContainer),this.visible=!1}setContainer(e){this.container&&this.infoPanelContainer.parentElement===this.container&&this.container.removeChild(this.infoPanelContainer),e&&(this.container=e,this.container.appendChild(this.infoPanelContainer),this.infoPanelContainer.style.zIndex=this.container.style.zIndex+1)}show(){this.infoPanelContainer.style.display="block",this.visible=!0}hide(){this.infoPanelContainer.style.display="none",this.visible=!1}}const dq=new tt;class udt extends Aa{constructor(e=new tt(0,0,1),t=new tt(0,0,0),r=1,i=.1,a=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper";const l=new $_(i,i,r,32);l.translate(0,r/2,0);const c=new $_(0,o,s,32);c.translate(0,r,0),this.position.copy(t),this.line=new oa(l,new Tm({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new oa(c,new Tm({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{dq.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(dq,t)}}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Cb{constructor(e){un(this,"updateFocusMarker",function(){const e=new tt,t=new ur,r=new tt;return function(i,a,s){t.copy(a.matrixWorld).invert(),e.copy(i).applyMatrix4(t),e.normalize().multiplyScalar(10),e.applyMatrix4(a.matrixWorld),r.copy(a.position).sub(i);const o=r.length();this.focusMarker.position.copy(i),this.focusMarker.scale.set(o,o,o),this.focusMarker.material.uniforms.realFocusPosition.value.copy(i),this.focusMarker.material.uniforms.viewport.value.copy(s),this.focusMarker.material.uniformsNeedUpdate=!0}}());un(this,"positionAndOrientControlPlane",function(){const e=new ji,t=new tt(0,1,0);return function(r,i){e.setFromUnitVectors(t,i),this.controlPlane.position.copy(r),this.controlPlane.quaternion.copy(e)}}());this.threeScene=e,this.splatRenderTarget=null,this.renderTargetCopyQuad=null,this.renderTargetCopyCamera=null,this.meshCursor=null,this.focusMarker=null,this.controlPlane=null,this.debugRoot=null,this.secondaryDebugRoot=null}updateSplatRenderTargetForRenderDimensions(e,t){this.destroySplatRendertarget(),this.splatRenderTarget=new vh(e,t,{format:$s,stencilBuffer:!1,depthBuffer:!0}),this.splatRenderTarget.depthTexture=new IN(e,t),this.splatRenderTarget.depthTexture.format=im,this.splatRenderTarget.depthTexture.type=xl}destroySplatRendertarget(){this.splatRenderTarget&&(this.splatRenderTarget=null)}setupRenderTargetCopyObjects(){const e={sourceColorTexture:{type:"t",value:null},sourceDepthTexture:{type:"t",value:null}},t=new qo({vertexShader:`
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = vec4( position.xy, 0.0, 1.0 );    
                }
            `,fragmentShader:`
                #include <common>
                #include <packing>
                varying vec2 vUv;
                uniform sampler2D sourceColorTexture;
                uniform sampler2D sourceDepthTexture;
                void main() {
                    vec4 color = texture2D(sourceColorTexture, vUv);
                    float fragDepth = texture2D(sourceDepthTexture, vUv).x;
                    gl_FragDepth = fragDepth;
                    gl_FragColor = vec4(color.rgb, color.a * 2.0);
              }
            `,uniforms:e,depthWrite:!1,depthTest:!1,transparent:!0,blending:Xie,blendSrc:F_,blendSrcAlpha:F_,blendDst:z_,blendDstAlpha:z_});t.extensions.fragDepth=!0,this.renderTargetCopyQuad=new oa(new Hg(2,2),t),this.renderTargetCopyCamera=new PN(-1,1,1,-1,0,1)}destroyRenderTargetCopyObjects(){this.renderTargetCopyQuad&&(pv(this.renderTargetCopyQuad),this.renderTargetCopyQuad=null)}setupMeshCursor(){if(!this.meshCursor){const e=new RN(.5,1.5,32),t=new Tm({color:16777215}),r=new oa(e,t);r.rotation.set(0,0,Math.PI),r.position.set(0,1,0);const i=new oa(e,t);i.position.set(0,-1,0);const a=new oa(e,t);a.rotation.set(0,0,Math.PI/2),a.position.set(1,0,0);const s=new oa(e,t);s.rotation.set(0,0,-Math.PI/2),s.position.set(-1,0,0),this.meshCursor=new Aa,this.meshCursor.add(r),this.meshCursor.add(i),this.meshCursor.add(a),this.meshCursor.add(s),this.meshCursor.scale.set(.1,.1,.1),this.threeScene.add(this.meshCursor),this.meshCursor.visible=!1}}destroyMeshCursor(){this.meshCursor&&(pv(this.meshCursor),this.threeScene.remove(this.meshCursor),this.meshCursor=null)}setMeshCursorVisibility(e){this.meshCursor.visible=e}getMeschCursorVisibility(){return this.meshCursor.visible}setMeshCursorPosition(e){this.meshCursor.position.copy(e)}positionAndOrientMeshCursor(e,t){this.meshCursor.position.copy(e),this.meshCursor.up.copy(t.up),this.meshCursor.lookAt(t.position)}setupFocusMarker(){if(!this.focusMarker){const e=new JM(.5,32,32),t=Cb.buildFocusMarkerMaterial();t.depthTest=!1,t.depthWrite=!1,t.transparent=!0,this.focusMarker=new oa(e,t)}}destroyFocusMarker(){this.focusMarker&&(pv(this.focusMarker),this.focusMarker=null)}setFocusMarkerVisibility(e){this.focusMarker.visible=e}setFocusMarkerOpacity(e){this.focusMarker.material.uniforms.opacity.value=e,this.focusMarker.material.uniformsNeedUpdate=!0}getFocusMarkerOpacity(){return this.focusMarker.material.uniforms.opacity.value}setupControlPlane(){if(!this.controlPlane){const e=new Hg(1,1);e.rotateX(-Math.PI/2);const t=new Tm({color:16777215});t.transparent=!0,t.opacity=.6,t.depthTest=!1,t.depthWrite=!1,t.side=gl;const r=new oa(e,t),i=new tt(0,1,0);i.normalize();const a=new tt(0,0,0),s=.5,o=.01,l=56576,c=new udt(i,a,s,o,l,.1,.03);this.controlPlane=new Aa,this.controlPlane.add(r),this.controlPlane.add(c)}}destroyControlPlane(){this.controlPlane&&(pv(this.controlPlane),this.controlPlane=null)}setControlPlaneVisibility(e){this.controlPlane.visible=e}addDebugMeshes(){this.debugRoot=this.createDebugMeshes(),this.secondaryDebugRoot=this.createSecondaryDebugMeshes(),this.threeScene.add(this.debugRoot),this.threeScene.add(this.secondaryDebugRoot)}destroyDebugMeshes(){for(let e of[this.debugRoot,this.secondaryDebugRoot])e&&(pv(e),this.threeScene.remove(e));this.debugRoot=null,this.secondaryDebugRoot=null}createDebugMeshes(e){const t=new JM(1,32,32),r=new Aa,i=(a,s)=>{let o=new oa(t,Cb.buildDebugMaterial(a));o.renderOrder=e,r.add(o),o.position.fromArray(s)};return i(16711680,[-50,0,0]),i(16711680,[50,0,0]),i(65280,[0,0,-50]),i(65280,[0,0,50]),i(16755200,[5,0,5]),r}createSecondaryDebugMeshes(e){const t=new My(3,3,3),r=new Aa;let i=12303291;const a=o=>{let l=new oa(t,Cb.buildDebugMaterial(i));l.renderOrder=e,r.add(l),l.position.fromArray(o)};let s=10;return a([-s,0,-s]),a([-s,0,s]),a([s,0,-s]),a([s,0,s]),r}static buildDebugMaterial(e){const t=`
            #include <common>
            varying float ndcDepth;

            void main() {
                gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position.xyz, 1.0);
                ndcDepth = gl_Position.z / gl_Position.w;
                gl_Position.x = gl_Position.x / gl_Position.w;
                gl_Position.y = gl_Position.y / gl_Position.w;
                gl_Position.z = 0.0;
                gl_Position.w = 1.0;
    
            }
        `,r=`
            #include <common>
            uniform vec3 color;
            varying float ndcDepth;
            void main() {
                gl_FragDepth = (ndcDepth + 1.0) / 2.0;
                gl_FragColor = vec4(color.rgb, 0.0);
            }
        `,i={color:{type:"v3",value:new ni(e)}},a=new qo({uniforms:i,vertexShader:t,fragmentShader:r,transparent:!1,depthTest:!0,depthWrite:!0,side:gu});return a.extensions.fragDepth=!0,a}static buildFocusMarkerMaterial(e){const t=`
            #include <common>

            uniform vec2 viewport;
            uniform vec3 realFocusPosition;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                float radius = 0.01;

                vec4 viewPosition = modelViewMatrix * vec4(position.xyz, 1.0);
                vec4 viewCenter = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);

                vec4 viewFocusPosition = modelViewMatrix * vec4(realFocusPosition, 1.0);

                ndcPosition = projectionMatrix * viewPosition;
                ndcPosition = ndcPosition * vec4(1.0 / ndcPosition.w);
                ndcCenter = projectionMatrix * viewCenter;
                ndcCenter = ndcCenter * vec4(1.0 / ndcCenter.w);

                ndcFocusPosition = projectionMatrix * viewFocusPosition;
                ndcFocusPosition = ndcFocusPosition * vec4(1.0 / ndcFocusPosition.w);

                gl_Position = projectionMatrix * viewPosition;

            }
        `,r=`
            #include <common>
            uniform vec3 color;
            uniform vec2 viewport;
            uniform float opacity;

            varying vec4 ndcPosition;
            varying vec4 ndcCenter;
            varying vec4 ndcFocusPosition;

            void main() {
                vec2 screenPosition = vec2(ndcPosition) * viewport;
                vec2 screenCenter = vec2(ndcCenter) * viewport;

                vec2 screenVec = screenPosition - screenCenter;

                float projectedRadius = length(screenVec);

                float lineWidth = 0.0005 * viewport.y;
                float aaRange = 0.0025 * viewport.y;
                float radius = 0.06 * viewport.y;
                float radDiff = abs(projectedRadius - radius) - lineWidth;
                float alpha = 1.0 - clamp(radDiff / 5.0, 0.0, 1.0); 

                gl_FragColor = vec4(color.rgb, alpha * opacity);
            }
        `,i={color:{type:"v3",value:new ni(e)},realFocusPosition:{type:"v3",value:new tt},viewport:{type:"v2",value:new Vn},opacity:{value:0}};return new qo({uniforms:i,vertexShader:t,fragmentShader:r,transparent:!0,depthTest:!1,depthWrite:!1,side:gu})}dispose(){this.destroyMeshCursor(),this.destroyFocusMarker(),this.destroyDebugMeshes(),this.destroyControlPlane(),this.destroyRenderTargetCopyObjects(),this.destroySplatRendertarget()}}const ddt=new tt(1,0,0),fdt=new tt(0,1,0),hdt=new tt(0,0,1);class s5{constructor(e=new tt,t=new tt){un(this,"intersectBox",function(){const e=new tt,t=[],r=[],i=[];return function(a,s){if(r[0]=this.origin.x,r[1]=this.origin.y,r[2]=this.origin.z,i[0]=this.direction.x,i[1]=this.direction.y,i[2]=this.direction.z,this.boxContainsPoint(a,this.origin,1e-4))return s&&(s.origin.copy(this.origin),s.normal.set(0,0,0),s.distance=-1),!0;for(let o=0;o<3;o++){if(i[o]==0)continue;const l=o==0?ddt:o==1?fdt:hdt,c=i[o]<0?a.max:a.min;let u=-Math.sign(i[o]);t[0]=o==0?c.x:o==1?c.y:c.z;let d=t[0]-r[o];if(d*u<0){const f=(o+1)%3,h=(o+2)%3;if(t[2]=i[f]/i[o]*d+r[f],t[1]=i[h]/i[o]*d+r[h],e.set(t[o],t[h],t[f]),this.boxContainsPoint(a,e,1e-4))return s&&(s.origin.copy(e),s.normal.copy(l).multiplyScalar(u),s.distance=e.sub(this.origin).length()),!0}}return!1}}());un(this,"intersectSphere",function(){const e=new tt;return function(t,r,i){e.copy(t).sub(this.origin);const a=e.dot(this.direction),s=a*a,l=e.dot(e)-s,c=r*r;if(l>c)return!1;const u=Math.sqrt(c-l),d=a-u,f=a+u;if(f<0)return!1;let h=d<0?f:d;return i&&(i.origin.copy(this.origin).addScaledVector(this.direction,h),i.normal.copy(i.origin).sub(t).normalize(),i.distance=h),!0}}());this.origin=new tt,this.direction=new tt,this.setParameters(e,t)}setParameters(e,t){this.origin.copy(e),this.direction.copy(t).normalize()}boxContainsPoint(e,t,r){return!(t.x<e.min.x-r||t.x>e.max.x+r||t.y<e.min.y-r||t.y>e.max.y+r||t.z<e.min.z-r||t.z>e.max.z+r)}}class YN{constructor(){this.origin=new tt,this.normal=new tt,this.distance=0,this.splatIndex=0}set(e,t,r,i){this.origin.copy(e),this.normal.copy(t),this.distance=r,this.splatIndex=i}clone(){const e=new YN;return e.origin.copy(this.origin),e.normal.copy(this.normal),e.distance=this.distance,e.splatIndex=this.splatIndex,e}}const ed={ThreeD:0,TwoD:1};class pdt{constructor(e,t,r=!1){un(this,"setFromCameraAndScreenPosition",function(){const e=new Vn;return function(t,r,i){if(e.x=r.x/i.x*2-1,e.y=(i.y-r.y)/i.y*2-1,t.isPerspectiveCamera)this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t;else if(t.isOrthographicCamera)this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t;else throw new Error("Raycaster::setFromCameraAndScreenPosition() -> Unsupported camera type")}}());un(this,"intersectSplatMesh",function(){const e=new ur,t=new ur,r=new ur,i=new s5,a=new tt;return function(s,o=[]){const l=s.getSplatTree();if(l){for(let c=0;c<l.subTrees.length;c++){const u=l.subTrees[c];t.copy(s.matrixWorld),s.dynamicMode&&(s.getSceneTransform(c,r),t.multiply(r)),e.copy(t).invert(),i.origin.copy(this.ray.origin).applyMatrix4(e),i.direction.copy(this.ray.origin).add(this.ray.direction),i.direction.applyMatrix4(e).sub(i.origin).normalize();const d=[];u.rootNode&&this.castRayAtSplatTreeNode(i,l,u.rootNode,d),d.forEach(f=>{f.origin.applyMatrix4(t),f.normal.applyMatrix4(t).normalize(),f.distance=a.copy(f.origin).sub(this.ray.origin).length()}),o.push(...d)}return o.sort((c,u)=>c.distance>u.distance?1:-1),o}}}());un(this,"castRayAtSplatTreeNode",function(){const e=new $i,t=new tt,r=new tt,i=new ji,a=new YN,s=1e-7,o=new tt(0,0,0),l=new ur,c=new ur,u=new ur,d=new ur,f=new ur,h=new s5;return function(p,m,v,g=[]){if(p.intersectBox(v.boundingBox)){if(v.data&&v.data.indexes&&v.data.indexes.length>0)for(let y=0;y<v.data.indexes.length;y++){const b=v.data.indexes[y],_=m.splatMesh.getSceneIndexForSplat(b);if(m.splatMesh.getScene(_).visible&&(m.splatMesh.getSplatColor(b,e),m.splatMesh.getSplatCenter(b,t),m.splatMesh.getSplatScaleAndRotation(b,r,i),!(r.x<=s||r.y<=s||m.splatMesh.splatRenderMode===ed.ThreeD&&r.z<=s)))if(this.raycastAgainstTrueSplatEllipsoid){c.makeScale(r.x,r.y,r.z),u.makeRotationFromQuaternion(i);const S=Math.log10(e.w)*2;if(l.makeScale(S,S,S),f.copy(l).multiply(u).multiply(c),d.copy(f).invert(),h.origin.copy(p.origin).sub(t).applyMatrix4(d),h.direction.copy(p.origin).add(p.direction).sub(t),h.direction.applyMatrix4(d).sub(h.origin).normalize(),h.intersectSphere(o,1,a)){const T=a.clone();T.splatIndex=b,T.origin.applyMatrix4(f).add(t),g.push(T)}}else{let S=r.x+r.y,T=2;if(m.splatMesh.splatRenderMode===ed.ThreeD&&(S+=r.z,T=3),S=S/T,p.intersectSphere(t,S,a)){const C=a.clone();C.splatIndex=b,g.push(C)}}}if(v.children&&v.children.length>0)for(let y of v.children)this.castRayAtSplatTreeNode(p,m,y,g);return g}}}());this.ray=new s5(e,t),this.raycastAgainstTrueSplatEllipsoid=r}}class Qv{static buildVertexShaderBase(e=!1,t=!1,r=0,i=""){let a=`
        precision highp float;
        #include <common>

        attribute uint splatIndex;
        uniform highp usampler2D centersColorsTexture;
        uniform highp sampler2D sphericalHarmonicsTexture;
        uniform highp sampler2D sphericalHarmonicsTextureR;
        uniform highp sampler2D sphericalHarmonicsTextureG;
        uniform highp sampler2D sphericalHarmonicsTextureB;

        uniform highp usampler2D sceneIndexesTexture;
        uniform vec2 sceneIndexesTextureSize;
        uniform int sceneCount;
    `;return t&&(a+=`
            uniform float sceneOpacity[${zr.MaxScenes}];
            uniform int sceneVisibility[${zr.MaxScenes}];
        `),e&&(a+=`
            uniform highp mat4 transforms[${zr.MaxScenes}];
        `),a+=`
        ${i}
        uniform vec2 focal;
        uniform float orthoZoom;
        uniform int orthographicMode;
        uniform int pointCloudModeEnabled;
        uniform float inverseFocalAdjustment;
        uniform vec2 viewport;
        uniform vec2 basisViewport;
        uniform vec2 centersColorsTextureSize;
        uniform int sphericalHarmonicsDegree;
        uniform vec2 sphericalHarmonicsTextureSize;
        uniform int sphericalHarmonics8BitMode;
        uniform int sphericalHarmonicsMultiTextureMode;
        uniform float visibleRegionRadius;
        uniform float visibleRegionFadeStartRadius;
        uniform float firstRenderTime;
        uniform float currentTime;
        uniform int fadeInComplete;
        uniform vec3 sceneCenter;
        uniform float splatScale;
        uniform float sphericalHarmonics8BitCompressionRangeMin[${zr.MaxScenes}];
        uniform float sphericalHarmonics8BitCompressionRangeMax[${zr.MaxScenes}];

        varying vec4 vColor;
        varying vec2 vUv;
        varying vec2 vPosition;

        mat3 quaternionToRotationMatrix(float x, float y, float z, float w) {
            float s = 1.0 / sqrt(w * w + x * x + y * y + z * z);
        
            return mat3(
                1. - 2. * (y * y + z * z),
                2. * (x * y + w * z),
                2. * (x * z - w * y),
                2. * (x * y - w * z),
                1. - 2. * (x * x + z * z),
                2. * (y * z + w * x),
                2. * (x * z + w * y),
                2. * (y * z - w * x),
                1. - 2. * (x * x + y * y)
            );
        }

        const float sqrt8 = sqrt(8.0);
        const float minAlpha = 1.0 / 255.0;

        const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
        const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
        const uvec4 shift4 = uvec4(0, 8, 16, 24);
        vec4 uintToRGBAVec (uint u) {
           uvec4 urgba = mask4 & u;
           urgba = urgba >> shift4;
           vec4 rgba = vec4(urgba) * encodeNorm4;
           return rgba;
        }

        vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        vec2 getDataUVF(in uint sIndex, in float stride, in uint offset, in vec2 dimensions) {
            vec2 samplerUV = vec2(0.0, 0.0);
            float d = float(uint(float(sIndex) * stride) + offset) / dimensions.x;
            samplerUV.y = float(floor(d)) / dimensions.y;
            samplerUV.x = fract(d);
            return samplerUV;
        }

        const float SH_C1 = 0.4886025119029199f;
        const float[5] SH_C2 = float[](1.0925484, -1.0925484, 0.3153916, -1.0925484, 0.5462742);

        void main () {

            uint oddOffset = splatIndex & uint(0x00000001);
            uint doubleOddOffset = oddOffset * uint(2);
            bool isEven = oddOffset == uint(0);
            uint nearestEvenIndex = splatIndex - oddOffset;
            float fOddOffset = float(oddOffset);

            uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
            vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));

            uint sceneIndex = uint(0);
            if (sceneCount > 1) {
                sceneIndex = texture(sceneIndexesTexture, getDataUV(1, 0, sceneIndexesTextureSize)).r;
            }
            `,t&&(a+=`
                float splatOpacityFromScene = sceneOpacity[sceneIndex];
                int sceneVisible = sceneVisibility[sceneIndex];
                if (splatOpacityFromScene <= 0.01 || sceneVisible == 0) {
                    gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                    return;
                }
            `),e?a+=`
                mat4 transform = transforms[sceneIndex];
                mat4 transformModelViewMatrix = viewMatrix * transform;
            `:a+="mat4 transformModelViewMatrix = modelViewMatrix;",a+=`
            float sh8BitCompressionRangeMinForScene = sphericalHarmonics8BitCompressionRangeMin[sceneIndex];
            float sh8BitCompressionRangeMaxForScene = sphericalHarmonics8BitCompressionRangeMax[sceneIndex];
            float sh8BitCompressionRangeForScene = sh8BitCompressionRangeMaxForScene - sh8BitCompressionRangeMinForScene;
            float sh8BitCompressionHalfRangeForScene = sh8BitCompressionRangeForScene / 2.0;
            vec3 vec8BitSHShift = vec3(sh8BitCompressionRangeMinForScene);

            vec4 viewCenter = transformModelViewMatrix * vec4(splatCenter, 1.0);

            vec4 clipCenter = projectionMatrix * viewCenter;

            float clip = 1.2 * clipCenter.w;
            if (clipCenter.z < -clip || clipCenter.x < -clip || clipCenter.x > clip || clipCenter.y < -clip || clipCenter.y > clip) {
                gl_Position = vec4(0.0, 0.0, 2.0, 1.0);
                return;
            }

            vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

            vPosition = position.xy;
            vColor = uintToRGBAVec(sampledCenterColor.r);
        `,r>=1&&(a+=`   
            if (sphericalHarmonicsDegree >= 1) {
            `,e?a+=`
                    vec3 worldViewDir = normalize(splatCenter - vec3(inverse(transform) * vec4(cameraPosition, 1.0)));
                `:a+=`
                    vec3 worldViewDir = normalize(splatCenter - cameraPosition);
                `,a+=`
                vec3 sh1;
                vec3 sh2;
                vec3 sh3;
            `,r>=2&&(a+=`
                    vec3 sh4;
                    vec3 sh5;
                    vec3 sh6;
                    vec3 sh7;
                    vec3 sh8;
                `),r===1?a+=`
                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        vec2 shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset, sphericalHarmonicsTextureSize);
                        vec4 sampledSH0123 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(1), sphericalHarmonicsTextureSize);
                        vec4 sampledSH4567 = texture(sphericalHarmonicsTexture, shUV);
                        shUV = getDataUVF(nearestEvenIndex, 2.5, doubleOddOffset + uint(2), sphericalHarmonicsTextureSize);
                        vec4 sampledSH891011 = texture(sphericalHarmonicsTexture, shUV);
                        sh1 = vec3(sampledSH0123.rgb) * (1.0 - fOddOffset) + vec3(sampledSH0123.ba, sampledSH4567.r) * fOddOffset;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg) * (1.0 - fOddOffset) + vec3(sampledSH4567.gba) * fOddOffset;
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r) * (1.0 - fOddOffset) + vec3(sampledSH891011.rgb) * fOddOffset;
                    } else {
                        vec2 sampledSH01R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH01B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize)).rg;
                        vec2 sampledSH23B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize)).rg;
                        sh1 = vec3(sampledSH01R.rg, sampledSH23R.r);
                        sh2 = vec3(sampledSH01G.rg, sampledSH23G.r);
                        sh3 = vec3(sampledSH01B.rg, sampledSH23B.r);
                    }
                `:r===2&&(a+=`
                    vec4 sampledSH0123;
                    vec4 sampledSH4567;
                    vec4 sampledSH891011;

                    vec4 sampledSH0123R;
                    vec4 sampledSH0123G;
                    vec4 sampledSH0123B;

                    if (sphericalHarmonicsMultiTextureMode == 0) {
                        sampledSH0123 = texture(sphericalHarmonicsTexture, getDataUV(6, 0, sphericalHarmonicsTextureSize));
                        sampledSH4567 = texture(sphericalHarmonicsTexture, getDataUV(6, 1, sphericalHarmonicsTextureSize));
                        sampledSH891011 = texture(sphericalHarmonicsTexture, getDataUV(6, 2, sphericalHarmonicsTextureSize));
                        sh1 = sampledSH0123.rgb;
                        sh2 = vec3(sampledSH0123.a, sampledSH4567.rg);
                        sh3 = vec3(sampledSH4567.ba, sampledSH891011.r);
                    } else {
                        sampledSH0123R = texture(sphericalHarmonicsTextureR, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123G = texture(sphericalHarmonicsTextureG, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sampledSH0123B = texture(sphericalHarmonicsTextureB, getDataUV(2, 0, sphericalHarmonicsTextureSize));
                        sh1 = vec3(sampledSH0123R.rgb);
                        sh2 = vec3(sampledSH0123G.rgb);
                        sh3 = vec3(sampledSH0123B.rgb);
                    }
                `),a+=`
                    if (sphericalHarmonics8BitMode == 1) {
                        sh1 = sh1 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh2 = sh2 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        sh3 = sh3 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                    }
                    float x = worldViewDir.x;
                    float y = worldViewDir.y;
                    float z = worldViewDir.z;
                    vColor.rgb += SH_C1 * (-sh1 * y + sh2 * z - sh3 * x);
            `,r>=2&&(a+=`
                    if (sphericalHarmonicsDegree >= 2) {
                        float xx = x * x;
                        float yy = y * y;
                        float zz = z * z;
                        float xy = x * y;
                        float yz = y * z;
                        float xz = x * z;
                `,r===2&&(a+=`
                        if (sphericalHarmonicsMultiTextureMode == 0) {
                            vec4 sampledSH12131415 = texture(sphericalHarmonicsTexture, getDataUV(6, 3, sphericalHarmonicsTextureSize));
                            vec4 sampledSH16171819 = texture(sphericalHarmonicsTexture, getDataUV(6, 4, sphericalHarmonicsTextureSize));
                            vec4 sampledSH20212223 = texture(sphericalHarmonicsTexture, getDataUV(6, 5, sphericalHarmonicsTextureSize));
                            sh4 = sampledSH891011.gba;
                            sh5 = sampledSH12131415.rgb;
                            sh6 = vec3(sampledSH12131415.a, sampledSH16171819.rg);
                            sh7 = vec3(sampledSH16171819.ba, sampledSH20212223.r);
                            sh8 = sampledSH20212223.gba;
                        } else {
                            vec4 sampledSH4567R = texture(sphericalHarmonicsTextureR, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567G = texture(sphericalHarmonicsTextureG, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            vec4 sampledSH4567B = texture(sphericalHarmonicsTextureB, getDataUV(2, 1, sphericalHarmonicsTextureSize));
                            sh4 = vec3(sampledSH0123R.a, sampledSH4567R.rg);
                            sh5 = vec3(sampledSH4567R.ba, sampledSH0123G.a);
                            sh6 = vec3(sampledSH4567G.rgb);
                            sh7 = vec3(sampledSH4567G.a, sampledSH0123B.a, sampledSH4567B.r);
                            sh8 = vec3(sampledSH4567B.gba);
                        }
                    `),a+=`
                        if (sphericalHarmonics8BitMode == 1) {
                            sh4 = sh4 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh5 = sh5 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh6 = sh6 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh7 = sh7 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                            sh8 = sh8 * sh8BitCompressionRangeForScene + vec8BitSHShift;
                        }

                        vColor.rgb +=
                            (SH_C2[0] * xy) * sh4 +
                            (SH_C2[1] * yz) * sh5 +
                            (SH_C2[2] * (2.0 * zz - xx - yy)) * sh6 +
                            (SH_C2[3] * xz) * sh7 +
                            (SH_C2[4] * (xx - yy)) * sh8;
                    }
                `),a+=`

                vColor.rgb = clamp(vColor.rgb, vec3(0.), vec3(1.));

            }

            `),a}static getVertexShaderFadeIn(){return`
            if (fadeInComplete == 0) {
                float opacityAdjust = 1.0;
                float centerDist = length(splatCenter - sceneCenter);
                float renderTime = max(currentTime - firstRenderTime, 0.0);

                float fadeDistance = 0.75;
                float distanceLoadFadeInFactor = step(visibleRegionFadeStartRadius, centerDist);
                distanceLoadFadeInFactor = (1.0 - distanceLoadFadeInFactor) +
                                        (1.0 - clamp((centerDist - visibleRegionFadeStartRadius) / fadeDistance, 0.0, 1.0)) *
                                        distanceLoadFadeInFactor;
                opacityAdjust *= distanceLoadFadeInFactor;
                vColor.a *= opacityAdjust;
            }
        `}static getUniforms(e=!1,t=!1,r=0,i=1,a=!1){const s={sceneCenter:{type:"v3",value:new tt},fadeInComplete:{type:"i",value:0},orthographicMode:{type:"i",value:0},visibleRegionFadeStartRadius:{type:"f",value:0},visibleRegionRadius:{type:"f",value:0},currentTime:{type:"f",value:0},firstRenderTime:{type:"f",value:0},centersColorsTexture:{type:"t",value:null},sphericalHarmonicsTexture:{type:"t",value:null},sphericalHarmonicsTextureR:{type:"t",value:null},sphericalHarmonicsTextureG:{type:"t",value:null},sphericalHarmonicsTextureB:{type:"t",value:null},sphericalHarmonics8BitCompressionRangeMin:{type:"f",value:[]},sphericalHarmonics8BitCompressionRangeMax:{type:"f",value:[]},focal:{type:"v2",value:new Vn},orthoZoom:{type:"f",value:1},inverseFocalAdjustment:{type:"f",value:1},viewport:{type:"v2",value:new Vn},basisViewport:{type:"v2",value:new Vn},debugColor:{type:"v3",value:new ni},centersColorsTextureSize:{type:"v2",value:new Vn(1024,1024)},sphericalHarmonicsDegree:{type:"i",value:r},sphericalHarmonicsTextureSize:{type:"v2",value:new Vn(1024,1024)},sphericalHarmonics8BitMode:{type:"i",value:0},sphericalHarmonicsMultiTextureMode:{type:"i",value:0},splatScale:{type:"f",value:i},pointCloudModeEnabled:{type:"i",value:a?1:0},sceneIndexesTexture:{type:"t",value:null},sceneIndexesTextureSize:{type:"v2",value:new Vn(1024,1024)},sceneCount:{type:"i",value:1}};for(let o=0;o<zr.MaxScenes;o++)s.sphericalHarmonics8BitCompressionRangeMin.value.push(-zr.SphericalHarmonics8BitCompressionRange/2),s.sphericalHarmonics8BitCompressionRangeMax.value.push(zr.SphericalHarmonics8BitCompressionRange/2);if(t){const o=[];for(let c=0;c<zr.MaxScenes;c++)o.push(1);s.sceneOpacity={type:"f",value:o};const l=[];for(let c=0;c<zr.MaxScenes;c++)l.push(1);s.sceneVisibility={type:"i",value:l}}if(e){const o=[];for(let l=0;l<zr.MaxScenes;l++)o.push(new ur);s.transforms={type:"mat4",value:o}}return s}}class tT{static build(e=!1,t=!1,r=!1,i=2048,a=1,s=!1,o=0,l=.3){const c=`
            uniform vec2 covariancesTextureSize;
            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D covariancesTextureHalfFloat;
            uniform int covariancesAreHalfFloat;

            void fromCovarianceHalfFloatV4(uvec4 val, out vec4 first, out vec4 second) {
                vec2 r = unpackHalf2x16(val.r);
                vec2 g = unpackHalf2x16(val.g);
                vec2 b = unpackHalf2x16(val.b);

                first = vec4(r.x, r.y, g.x, g.y);
                second = vec4(b.x, b.y, 0.0, 0.0);
            }
        `;let u=Qv.buildVertexShaderBase(e,t,o,c);u+=tT.buildVertexShaderProjection(r,t,i,l);const d=tT.buildFragmentShader(),f=Qv.getUniforms(e,t,o,a,s);return f.covariancesTextureSize={type:"v2",value:new Vn(1024,1024)},f.covariancesTexture={type:"t",value:null},f.covariancesTextureHalfFloat={type:"t",value:null},f.covariancesAreHalfFloat={type:"i",value:0},new qo({uniforms:f,vertexShader:u,fragmentShader:d,transparent:!0,alphaTest:1,blending:Wf,depthTest:!0,depthWrite:!1,side:gl})}static buildVertexShaderProjection(e,t,r,i){let a=`

            vec4 sampledCovarianceA;
            vec4 sampledCovarianceB;
            vec3 cov3D_M11_M12_M13;
            vec3 cov3D_M22_M23_M33;
            if (covariancesAreHalfFloat == 0) {
                sampledCovarianceA = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset,
                                                                            covariancesTextureSize));
                sampledCovarianceB = texture(covariancesTexture, getDataUVF(nearestEvenIndex, 1.5, oddOffset + uint(1),
                                                                            covariancesTextureSize));

                cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rgb) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceA.ba, sampledCovarianceB.r) * fOddOffset;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg) * (1.0 - fOddOffset) +
                                    vec3(sampledCovarianceB.gba) * fOddOffset;
            } else {
                uvec4 sampledCovarianceU = texture(covariancesTextureHalfFloat, getDataUV(1, 0, covariancesTextureSize));
                fromCovarianceHalfFloatV4(sampledCovarianceU, sampledCovarianceA, sampledCovarianceB);
                cov3D_M11_M12_M13 = sampledCovarianceA.rgb;
                cov3D_M22_M23_M33 = vec3(sampledCovarianceA.a, sampledCovarianceB.rg);
            }
        
            // Construct the 3D covariance matrix
            mat3 Vrk = mat3(
                cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
            );

            mat3 J;
            if (orthographicMode == 1) {
                // Since the projection is linear, we don't need an approximation
                J = transpose(mat3(orthoZoom, 0.0, 0.0,
                                0.0, orthoZoom, 0.0,
                                0.0, 0.0, 0.0));
            } else {
                // Construct the Jacobian of the affine approximation of the projection matrix. It will be used to transform the
                // 3D covariance matrix instead of using the actual projection matrix because that transformation would
                // require a non-linear component (perspective division) which would yield a non-gaussian result.
                float s = 1.0 / (viewCenter.z * viewCenter.z);
                J = mat3(
                    focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
                    0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
                    0., 0., 0.
                );
            }

            // Concatenate the projection approximation with the model-view transformation
            mat3 W = transpose(mat3(transformModelViewMatrix));
            mat3 T = W * J;

            // Transform the 3D covariance matrix (Vrk) to compute the 2D covariance matrix
            mat3 cov2Dm = transpose(T) * Vrk * T;
            `;return e?a+=`
                float detOrig = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                cov2Dm[0][0] += ${i};
                cov2Dm[1][1] += ${i};
                float detBlur = cov2Dm[0][0] * cov2Dm[1][1] - cov2Dm[0][1] * cov2Dm[0][1];
                vColor.a *= sqrt(max(detOrig / detBlur, 0.0));
                if (vColor.a < minAlpha) return;
            `:a+=`
                cov2Dm[0][0] += ${i};
                cov2Dm[1][1] += ${i};
            `,a+=`

            // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
            // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
            // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
            // need cov2Dm[1][0] because it is a symetric matrix.
            vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

            // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
            // so that we can determine the 2D basis for the splat. This is done using the method described
            // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
            // After calculating the eigen-values and eigen-vectors, we calculate the basis for rendering the splat
            // by normalizing the eigen-vectors and then multiplying them by (sqrt(8) * sqrt(eigen-value)), which is
            // equal to scaling them by sqrt(8) standard deviations.
            //
            // This is a different approach than in the original work at INRIA. In that work they compute the
            // max extents of the projected splat in screen space to form a screen-space aligned bounding rectangle
            // which forms the geometry that is actually rasterized. The dimensions of that bounding box are 3.0
            // times the square root of the maximum eigen-value, or 3 standard deviations. They then use the inverse
            // 2D covariance matrix (called 'conic') in the CUDA rendering thread to determine fragment opacity by
            // calculating the full gaussian: exp(-0.5 * (X - mean) * conic * (X - mean)) * splat opacity
            float a = cov2Dv.x;
            float d = cov2Dv.z;
            float b = cov2Dv.y;
            float D = a * d - b * b;
            float trace = a + d;
            float traceOver2 = 0.5 * trace;
            float term2 = sqrt(max(0.1f, traceOver2 * traceOver2 - D));
            float eigenValue1 = traceOver2 + term2;
            float eigenValue2 = traceOver2 - term2;

            if (pointCloudModeEnabled == 1) {
                eigenValue1 = eigenValue2 = 0.2;
            }

            if (eigenValue2 <= 0.0) return;

            vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
            // since the eigen vectors are orthogonal, we derive the second one from the first
            vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);

            // We use sqrt(8) standard deviations instead of 3 to eliminate more of the splat with a very low opacity.
            vec2 basisVector1 = eigenVector1 * splatScale * min(sqrt8 * sqrt(eigenValue1), ${parseInt(r)}.0);
            vec2 basisVector2 = eigenVector2 * splatScale * min(sqrt8 * sqrt(eigenValue2), ${parseInt(r)}.0);
            `,t&&(a+=`
                vColor.a *= splatOpacityFromScene;
            `),a+=`
            vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) *
                             basisViewport * 2.0 * inverseFocalAdjustment;

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            // Scale the position data we send to the fragment shader
            vPosition *= sqrt8;
        `,a+=Qv.getVertexShaderFadeIn(),a+="}",a}static buildFragmentShader(){let e=`
            precision highp float;
            #include <common>
 
            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
        `;return e+=`
            void main () {
                // Compute the positional squared distance from the center of the splat to the current fragment.
                float A = dot(vPosition, vPosition);
                // Since the positional data in vPosition has been scaled by sqrt(8), the squared result will be
                // scaled by a factor of 8. If the squared result is larger than 8, it means it is outside the ellipse
                // defined by the rectangle formed by vPosition. It also means it's farther
                // away than sqrt(8) standard deviations from the mean.
                if (A > 8.0) discard;
                vec3 color = vColor.rgb;

                // Since the rendered splat is scaled by sqrt(8), the inverse covariance matrix that is part of
                // the gaussian formula becomes the identity matrix. We're then left with (X - mean) * (X - mean),
                // and since 'mean' is zero, we have X * X, which is the same as A:
                float opacity = exp(-0.5 * A) * vColor.a;

                gl_FragColor = vec4(color.rgb, opacity);
            }
        `,e}}class nT{static build(e=!1,t=!1,r=1,i=!1,a=0){const s=`
            uniform vec2 scaleRotationsTextureSize;
            uniform highp sampler2D scaleRotationsTexture;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;
        `;let o=Qv.buildVertexShaderBase(e,t,a,s);o+=nT.buildVertexShaderProjection();const l=nT.buildFragmentShader(),c=Qv.getUniforms(e,t,a,r,i);return c.scaleRotationsTexture={type:"t",value:null},c.scaleRotationsTextureSize={type:"v2",value:new Vn(1024,1024)},new qo({uniforms:c,vertexShader:o,fragmentShader:l,transparent:!0,alphaTest:1,blending:Wf,depthTest:!0,depthWrite:!1,side:gl})}static buildVertexShaderProjection(){let e=`

            vec4 scaleRotationA = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset, scaleRotationsTextureSize));
            vec4 scaleRotationB = texture(scaleRotationsTexture, getDataUVF(nearestEvenIndex, 1.5,
                                                                            oddOffset + uint(1), scaleRotationsTextureSize));

            vec3 scaleRotation123 = vec3(scaleRotationA.rgb) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationA.ba, scaleRotationB.r) * fOddOffset;
            vec3 scaleRotation456 = vec3(scaleRotationA.a, scaleRotationB.rg) * (1.0 - fOddOffset) +
                                    vec3(scaleRotationB.gba) * fOddOffset;

            float missingW = sqrt(1.0 - scaleRotation456.x * scaleRotation456.x - scaleRotation456.y *
                                    scaleRotation456.y - scaleRotation456.z * scaleRotation456.z);
            mat3 R = quaternionToRotationMatrix(scaleRotation456.r, scaleRotation456.g, scaleRotation456.b, missingW);
            mat3 S = mat3(scaleRotation123.r, 0.0, 0.0,
                            0.0, scaleRotation123.g, 0.0,
                            0.0, 0.0, scaleRotation123.b);
            
            mat3 L = R * S;

            mat3x4 splat2World = mat3x4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

            mat4 world2ndc = transpose(projectionMatrix * transformModelViewMatrix);

            mat3x4 ndc2pix = mat3x4(vec4(viewport.x / 2.0, 0.0, 0.0, (viewport.x - 1.0) / 2.0),
                                    vec4(0.0, viewport.y / 2.0, 0.0, (viewport.y - 1.0) / 2.0),
                                    vec4(0.0, 0.0, 0.0, 1.0));

            mat3 T = transpose(splat2World) * world2ndc * ndc2pix;
            vec3 normal = vec3(viewMatrix * vec4(L[0][2], L[1][2], L[2][2], 0.0));
        `;return e+=`

                mat4 splat2World4 = mat4(vec4(L[0], 0.0),
                                        vec4(L[1], 0.0),
                                        vec4(L[2], 0.0),
                                        vec4(splatCenter.x, splatCenter.y, splatCenter.z, 1.0));

                mat4 Tt = transpose(transpose(splat2World4) * world2ndc);

                vec4 tempPoint1 = Tt * vec4(1.0, 0.0, 0.0, 1.0);
                tempPoint1 /= tempPoint1.w;

                vec4 tempPoint2 = Tt * vec4(0.0, 1.0, 0.0, 1.0);
                tempPoint2 /= tempPoint2.w;

                vec4 center = Tt * vec4(0.0, 0.0, 0.0, 1.0);
                center /= center.w;

                vec2 basisVector1 = tempPoint1.xy - center.xy;
                vec2 basisVector2 = tempPoint2.xy - center.xy;

                vec2 basisVector1Screen = basisVector1 * 0.5 * viewport;
                vec2 basisVector2Screen = basisVector2 * 0.5 * viewport;

                const float minPix = 1.;
                if (length(basisVector1Screen) < minPix || length(basisVector2Screen) < minPix) {
                    
            vec3 T0 = vec3(T[0][0], T[0][1], T[0][2]);
            vec3 T1 = vec3(T[1][0], T[1][1], T[1][2]);
            vec3 T3 = vec3(T[2][0], T[2][1], T[2][2]);

            vec3 tempPoint = vec3(1.0, 1.0, -1.0);
            float distance = (T3.x * T3.x * tempPoint.x) + (T3.y * T3.y * tempPoint.y) + (T3.z * T3.z * tempPoint.z);
            vec3 f = (1.0 / distance) * tempPoint;
            if (abs(distance) < 0.00001) return;

            float pointImageX = (T0.x * T3.x * f.x) + (T0.y * T3.y * f.y) + (T0.z * T3.z * f.z);
            float pointImageY = (T1.x * T3.x * f.x) + (T1.y * T3.y * f.y) + (T1.z * T3.z * f.z);
            vec2 pointImage = vec2(pointImageX, pointImageY);

            float tempX = (T0.x * T0.x * f.x) + (T0.y * T0.y * f.y) + (T0.z * T0.z * f.z);
            float tempY = (T1.x * T1.x * f.x) + (T1.y * T1.y * f.y) + (T1.z * T1.z * f.z);
            vec2 temp = vec2(tempX, tempY);

            vec2 halfExtend = pointImage * pointImage - temp;
            vec2 extent = sqrt(max(vec2(0.0001), halfExtend));
            float radius = max(extent.x, extent.y);

            vec2 ndcOffset = ((position.xy * radius * 3.0) * basisViewport * 2.0);

            vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            gl_Position = quadPos;

            vT = T;
            vQuadCenter = pointImage;
            vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
        
                } else {
                    vec2 ndcOffset = vec2(position.x * basisVector1 + position.y * basisVector2) * 3.0 * inverseFocalAdjustment;
                    vec4 quadPos = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
                    gl_Position = quadPos;

                    vT = T;
                    vQuadCenter = center.xy;
                    vFragCoord = (quadPos.xy * 0.5 + 0.5) * viewport;
                }
            `,e+=Qv.getVertexShaderFadeIn(),e+="}",e}static buildFragmentShader(){return`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;
            varying vec2 vPosition;
            varying mat3 vT;
            varying vec2 vQuadCenter;
            varying vec2 vFragCoord;

            void main () {

                const float FilterInvSquare = 2.0;
                const float near_n = 0.2;
                const float T = 1.0;

                vec2 xy = vQuadCenter;
                vec3 Tu = vT[0];
                vec3 Tv = vT[1];
                vec3 Tw = vT[2];
                vec3 k = vFragCoord.x * Tw - Tu;
                vec3 l = vFragCoord.y * Tw - Tv;
                vec3 p = cross(k, l);
                if (p.z == 0.0) discard;
                vec2 s = vec2(p.x / p.z, p.y / p.z);
                float rho3d = (s.x * s.x + s.y * s.y); 
                vec2 d = vec2(xy.x - vFragCoord.x, xy.y - vFragCoord.y);
                float rho2d = FilterInvSquare * (d.x * d.x + d.y * d.y); 

                // compute intersection and depth
                float rho = min(rho3d, rho2d);
                float depth = (rho3d <= rho2d) ? (s.x * Tw.x + s.y * Tw.y) + Tw.z : Tw.z; 
                if (depth < near_n) discard;
                //  vec4 nor_o = collected_normal_opacity[j];
                //  float normal[3] = {nor_o.x, nor_o.y, nor_o.z};
                float opa = vColor.a;

                float power = -0.5f * rho;
                if (power > 0.0f) discard;

                // Eq. (2) from 3D Gaussian splatting paper.
                // Obtain alpha by multiplying with Gaussian opacity
                // and its exponential falloff from mean.
                // Avoid numerical instabilities (see paper appendix). 
                float alpha = min(0.99f, opa * exp(power));
                if (alpha < 1.0f / 255.0f) discard;
                float test_T = T * (1.0 - alpha);
                if (test_T < 0.0001)discard;

                float w = alpha * T;
                gl_FragColor = vec4(vColor.rgb, w);
            }
        `}}class mdt{static build(e){const t=new Ul;t.setIndex([0,1,2,0,2,3]);const r=new Float32Array(4*3),i=new Il(r,3);t.setAttribute("position",i),i.setXYZ(0,-1,-1,0),i.setXYZ(1,-1,1,0),i.setXYZ(2,1,1,0),i.setXYZ(3,1,-1,0),i.needsUpdate=!0;const a=new Oat().copy(t),s=new Uint32Array(e),o=new Pat(s,1,!1);return o.setUsage(Fit),a.setAttribute("splatIndex",o),a.instanceCount=0,a}}class vdt extends Aa{constructor(e,t=new tt,r=new ji,i=new tt(1,1,1),a=1,s=1,o=!0){super(),this.splatBuffer=e,this.position.copy(t),this.quaternion.copy(r),this.scale.copy(i),this.transform=new ur,this.minimumAlpha=a,this.opacity=s,this.visible=o}copyTransformData(e){this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.transform.copy(e.transform)}updateTransform(e){e?(this.matrixWorldAutoUpdate&&this.updateWorldMatrix(!0,!1),this.transform.copy(this.matrixWorld)):(this.matrixAutoUpdate&&this.updateMatrix(),this.transform.copy(this.matrix))}}const iT=class iT{constructor(e,t,r,i){this.min=new tt().copy(e),this.max=new tt().copy(t),this.boundingBox=new tu(this.min,this.max),this.center=new tt().copy(this.max).sub(this.min).multiplyScalar(.5).add(this.min),this.depth=r,this.children=[],this.data=null,this.id=i||iT.idGen++}};un(iT,"idGen",0);let lk=iT;class Mb{constructor(e,t){this.maxDepth=e,this.maxCentersPerNode=t,this.sceneDimensions=new tt,this.sceneMin=new tt,this.sceneMax=new tt,this.rootNode=null,this.nodesWithIndexes=[],this.splatMesh=null}static convertWorkerSubTreeNode(e){const t=new tt().fromArray(e.min),r=new tt().fromArray(e.max),i=new lk(t,r,e.depth,e.id);if(e.data.indexes){i.data={indexes:[]};for(let a of e.data.indexes)i.data.indexes.push(a)}if(e.children)for(let a of e.children)i.children.push(Mb.convertWorkerSubTreeNode(a));return i}static convertWorkerSubTree(e,t){const r=new Mb(e.maxDepth,e.maxCentersPerNode);r.sceneMin=new tt().fromArray(e.sceneMin),r.sceneMax=new tt().fromArray(e.sceneMax),r.splatMesh=t,r.rootNode=Mb.convertWorkerSubTreeNode(e.rootNode);const i=(a,s)=>{a.children.length===0&&s(a);for(let o of a.children)i(o,s)};return r.nodesWithIndexes=[],i(r.rootNode,a=>{a.data&&a.data.indexes&&a.data.indexes.length>0&&r.nodesWithIndexes.push(a)}),r}}function gdt(n){let e=0;class t{constructor(l,c){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]]}containsPoint(l){return l[0]>=this.min[0]&&l[0]<=this.max[0]&&l[1]>=this.min[1]&&l[1]<=this.max[1]&&l[2]>=this.min[2]&&l[2]<=this.max[2]}}class r{constructor(l,c){this.maxDepth=l,this.maxCentersPerNode=c,this.sceneDimensions=[],this.sceneMin=[],this.sceneMax=[],this.rootNode=null,this.addedIndexes={},this.nodesWithIndexes=[],this.splatMesh=null,this.disposed=!1}}class i{constructor(l,c,u,d){this.min=[l[0],l[1],l[2]],this.max=[c[0],c[1],c[2]],this.center=[(c[0]-l[0])*.5+l[0],(c[1]-l[1])*.5+l[1],(c[2]-l[2])*.5+l[2]],this.depth=u,this.children=[],this.data=null,this.id=d||e++}}processSplatTreeNode=function(o,l,c,u){const d=l.data.indexes.length;if(d<o.maxCentersPerNode||l.depth>o.maxDepth){const y=[];for(let b=0;b<l.data.indexes.length;b++)o.addedIndexes[l.data.indexes[b]]||(y.push(l.data.indexes[b]),o.addedIndexes[l.data.indexes[b]]=!0);l.data.indexes=y,l.data.indexes.sort((b,_)=>b>_?1:-1),o.nodesWithIndexes.push(l);return}const f=[l.max[0]-l.min[0],l.max[1]-l.min[1],l.max[2]-l.min[2]],h=[f[0]*.5,f[1]*.5,f[2]*.5],p=[l.min[0]+h[0],l.min[1]+h[1],l.min[2]+h[2]],m=[new t([p[0]-h[0],p[1],p[2]-h[2]],[p[0],p[1]+h[1],p[2]]),new t([p[0],p[1],p[2]-h[2]],[p[0]+h[0],p[1]+h[1],p[2]]),new t([p[0],p[1],p[2]],[p[0]+h[0],p[1]+h[1],p[2]+h[2]]),new t([p[0]-h[0],p[1],p[2]],[p[0],p[1]+h[1],p[2]+h[2]]),new t([p[0]-h[0],p[1]-h[1],p[2]-h[2]],[p[0],p[1],p[2]]),new t([p[0],p[1]-h[1],p[2]-h[2]],[p[0]+h[0],p[1],p[2]]),new t([p[0],p[1]-h[1],p[2]],[p[0]+h[0],p[1],p[2]+h[2]]),new t([p[0]-h[0],p[1]-h[1],p[2]],[p[0],p[1],p[2]+h[2]])],v=[];for(let y=0;y<m.length;y++)v[y]=[];const g=[0,0,0];for(let y=0;y<d;y++){const b=l.data.indexes[y],_=c[b];g[0]=u[_],g[1]=u[_+1],g[2]=u[_+2];for(let x=0;x<m.length;x++)m[x].containsPoint(g)&&v[x].push(b)}for(let y=0;y<m.length;y++){const b=new i(m[y].min,m[y].max,l.depth+1);b.data={indexes:v[y]},l.children.push(b)}l.data={};for(let y of l.children)processSplatTreeNode(o,y,c,u)};const a=(o,l,c)=>{const u=[0,0,0],d=[0,0,0],f=[],h=Math.floor(o.length/4);for(let m=0;m<h;m++){const v=m*4,g=o[v],y=o[v+1],b=o[v+2],_=Math.round(o[v+3]);(m===0||g<u[0])&&(u[0]=g),(m===0||g>d[0])&&(d[0]=g),(m===0||y<u[1])&&(u[1]=y),(m===0||y>d[1])&&(d[1]=y),(m===0||b<u[2])&&(u[2]=b),(m===0||b>d[2])&&(d[2]=b),f.push(_)}const p=new r(l,c);return p.sceneMin=u,p.sceneMax=d,p.rootNode=new i(p.sceneMin,p.sceneMax,0),p.rootNode.data={indexes:f},p};function s(o,l,c){const u=[];for(let f of o){const h=Math.floor(f.length/4);for(let p=0;p<h;p++){const m=p*4,v=Math.round(f[m+3]);u[v]=m}}const d=[];for(let f of o){const h=a(f,l,c);d.push(h),processSplatTreeNode(h,h.rootNode,u,f)}n.postMessage({subTrees:d})}n.onmessage=o=>{o.data.process&&s(o.data.process.centers,o.data.process.maxDepth,o.data.process.maxCentersPerNode)}}function ydt(n,e,t,r,i){n.postMessage({process:{centers:e,maxDepth:r,maxCentersPerNode:i}},t)}function bdt(){return new Worker(URL.createObjectURL(new Blob(["(",gdt.toString(),")(self)"],{type:"application/javascript"})))}class _dt{constructor(e,t){un(this,"processSplatMesh",function(e,t=()=>!0,r,i){this.splatTreeWorker||(this.splatTreeWorker=bdt()),this.splatMesh=e,this.subTrees=[];const a=new tt,s=(o,l)=>{const c=new Float32Array(l*4);let u=0;for(let d=0;d<l;d++){const f=d+o;if(t(f)){e.getSplatCenter(f,a);const h=u*4;c[h]=a.x,c[h+1]=a.y,c[h+2]=a.z,c[h+3]=f,u++}}return c};return new Promise(o=>{const l=()=>this.disposed?(this.diposeSplatTreeWorker(),o(),!0):!1;r&&r(!1),mc(()=>{if(l())return;const c=[];if(e.dynamicMode){let u=0;for(let d=0;d<e.scenes.length;d++){const h=e.getScene(d).splatBuffer.getSplatCount(),p=s(u,h);c.push(p),u+=h}}else{const u=s(0,e.getSplatCount());c.push(u)}this.splatTreeWorker.onmessage=u=>{l()||u.data.subTrees&&(i&&i(!1),mc(()=>{if(!l()){for(let d of u.data.subTrees){const f=Mb.convertWorkerSubTree(d,e);this.subTrees.push(f)}this.diposeSplatTreeWorker(),i&&i(!0),mc(()=>{o()})}}))},mc(()=>{if(l())return;r&&r(!0);const u=c.map(d=>d.buffer);ydt(this.splatTreeWorker,c,u,this.maxDepth,this.maxCentersPerNode)})})})});this.maxDepth=e,this.maxCentersPerNode=t,this.subTrees=[],this.splatMesh=null}dispose(){this.diposeSplatTreeWorker(),this.disposed=!0}diposeSplatTreeWorker(){this.splatTreeWorker&&this.splatTreeWorker.terminate(),this.splatTreeWorker=null}countLeaves(){let e=0;return this.visitLeaves(()=>{e++}),e}visitLeaves(e){const t=(r,i)=>{r.children.length===0&&i(r);for(let a of r.children)t(a,i)};for(let r of this.subTrees)t(r.rootNode,e)}}function wdt(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function xdt(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(T){if(T==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let o=t.precision!==void 0?t.precision:"highp";const l=a(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=s||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),m=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),y=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=f>0,_=s||e.has("OES_texture_float"),x=b&&_,S=s?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:s,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:b,floatFragmentTextures:_,floatVertexTextures:x,maxSamples:S}}const Tb={Default:0,Gradual:1,Instant:2},Jv={None:0,Error:1,Warning:2,Info:3,Debug:4},fq=new Ul,Sdt=new Tm,v2=6,Cdt=4,Mdt=4,Tdt=4,Adt=6,Edt=8,o5=4,l5=4,hq=1,Idt=.012,Rdt=.003,pq=1,mq=16777216;class Ya extends oa{constructor(t=ed.ThreeD,r=!1,i=!1,a=!1,s=1,o=!0,l=!1,c=!1,u=1024,d=Jv.None,f=0,h=1,p=.3){super(fq,Sdt);un(this,"buildSplatTree",function(t=[],r,i){return new Promise(a=>{this.disposeSplatTree(),this.baseSplatTree=new _dt(8,1e3);const s=performance.now(),o=new $i;this.baseSplatTree.processSplatMesh(this,l=>{this.getSplatColor(l,o);const c=this.getSceneIndexForSplat(l),u=t[c]||1;return o.w>=u},r,i).then(()=>{const l=performance.now()-s;if(this.logLevel>=Jv.Info&&console.log("SplatTree build: "+l+" ms"),this.disposed)a();else{this.splatTree=this.baseSplatTree,this.baseSplatTree=null;let c=0,u=0,d=0;this.splatTree.visitLeaves(f=>{const h=f.data.indexes.length;h>0&&(u+=h,d++,c++)}),this.logLevel>=Jv.Info&&(console.log(`SplatTree leaves: ${this.splatTree.countLeaves()}`),console.log(`SplatTree leaves with splats:${c}`),u=u/d,console.log(`Avg splat count per node: ${u}`),console.log(`Total splat count: ${this.getSplatCount()}`)),a()}})})});un(this,"updateUniforms",function(){const t=new Vn;return function(r,i,a,s,o,l){if(this.getSplatCount()>0){if(t.set(r.x*this.devicePixelRatio,r.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(t),this.material.uniforms.basisViewport.value.set(1/t.x,1/t.y),this.material.uniforms.focal.value.set(i,a),this.material.uniforms.orthographicMode.value=s?1:0,this.material.uniforms.orthoZoom.value=o,this.material.uniforms.inverseFocalAdjustment.value=l,this.dynamicMode)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.transforms.value[u].copy(this.getScene(u).transform);if(this.enableOptionalEffects)for(let u=0;u<this.scenes.length;u++)this.material.uniforms.sceneOpacity.value[u]=ts(this.getScene(u).opacity,0,1),this.material.uniforms.sceneVisibility.value[u]=this.getScene(u).visible?1:0,this.material.uniformsNeedUpdate=!0;this.material.uniformsNeedUpdate=!0}}}());un(this,"setupDistancesComputationTransformFeedback",function(){let t;return function(){const r=this.getMaxSplatCount();if(!this.renderer)return;const i=this.lastRenderer!==this.renderer,a=t!==r;if(!i&&!a)return;i?this.disposeDistancesComputationGPUResources():a&&this.disposeDistancesComputationGPUBufferResources();const s=this.renderer.getContext(),o=(h,p,m)=>{const v=h.createShader(p);if(!v)return console.error("Fatal error: gl could not create a shader object."),null;if(h.shaderSource(v,m),h.compileShader(v),!h.getShaderParameter(v,h.COMPILE_STATUS)){let y="unknown";p===h.VERTEX_SHADER?y="vertex shader":p===h.FRAGMENT_SHADER&&(y="fragement shader");const b=h.getShaderInfoLog(v);return console.error("Failed to compile "+y+" with these errors:"+b),h.deleteShader(v),null}return v};let l;this.integerBasedDistancesComputation?(l=`#version 300 es
                in ivec4 center;
                flat out int distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform ivec4 transforms[${zr.MaxScenes}];
                        void main(void) {
                            ivec4 transform = transforms[sceneIndex];
                            distance = center.x * transform.x + center.y * transform.y + center.z * transform.z + transform.w * center.w;
                        }
                    `:l+=`
                        uniform ivec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `):(l=`#version 300 es
                in vec4 center;
                flat out float distance;`,this.dynamicMode?l+=`
                        in uint sceneIndex;
                        uniform mat4 transforms[${zr.MaxScenes}];
                        void main(void) {
                            vec4 transformedCenter = transforms[sceneIndex] * vec4(center.xyz, 1.0);
                            distance = transformedCenter.z;
                        }
                    `:l+=`
                        uniform vec3 modelViewProj;
                        void main(void) {
                            distance = center.x * modelViewProj.x + center.y * modelViewProj.y + center.z * modelViewProj.z;
                        }
                    `);const c=`#version 300 es
                precision lowp float;
                out vec4 fragColor;
                void main(){}
            `,u=s.getParameter(s.VERTEX_ARRAY_BINDING),d=s.getParameter(s.CURRENT_PROGRAM),f=d?s.getProgramParameter(d,s.DELETE_STATUS):!1;if(i&&(this.distancesTransformFeedback.vao=s.createVertexArray()),s.bindVertexArray(this.distancesTransformFeedback.vao),i){const h=s.createProgram(),p=o(s,s.VERTEX_SHADER,l),m=o(s,s.FRAGMENT_SHADER,c);if(!p||!m)throw new Error("Could not compile shaders for distances computation on GPU.");if(s.attachShader(h,p),s.attachShader(h,m),s.transformFeedbackVaryings(h,["distance"],s.SEPARATE_ATTRIBS),s.linkProgram(h),!s.getProgramParameter(h,s.LINK_STATUS)){const g=s.getProgramInfoLog(h);throw console.error("Fatal error: Failed to link program: "+g),s.deleteProgram(h),s.deleteShader(m),s.deleteShader(p),new Error("Could not link shaders for distances computation on GPU.")}this.distancesTransformFeedback.program=h,this.distancesTransformFeedback.vertexShader=p,this.distancesTransformFeedback.vertexShader=m}if(s.useProgram(this.distancesTransformFeedback.program),this.distancesTransformFeedback.centersLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"center"),this.dynamicMode){this.distancesTransformFeedback.sceneIndexesLoc=s.getAttribLocation(this.distancesTransformFeedback.program,"sceneIndex");for(let h=0;h<this.scenes.length;h++)this.distancesTransformFeedback.transformsLocs[h]=s.getUniformLocation(this.distancesTransformFeedback.program,`transforms[${h}]`)}else this.distancesTransformFeedback.modelViewProjLoc=s.getUniformLocation(this.distancesTransformFeedback.program,"modelViewProj");(i||a)&&(this.distancesTransformFeedback.centersBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?s.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,s.INT,0,0):s.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,s.FLOAT,!1,0,0),this.dynamicMode&&(this.distancesTransformFeedback.sceneIndexesBuffer=s.createBuffer(),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),s.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),s.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,s.UNSIGNED_INT,0,0))),(i||a)&&(this.distancesTransformFeedback.outDistancesBuffer=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),s.bufferData(s.ARRAY_BUFFER,r*4,s.STATIC_READ),i&&(this.distancesTransformFeedback.id=s.createTransformFeedback()),s.bindTransformFeedback(s.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),s.bindBufferBase(s.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),d&&f!==!0&&s.useProgram(d),u&&s.bindVertexArray(u),this.lastRenderer=this.renderer,t=r}}());un(this,"fillTransformsArray",function(){const t=[];return function(r){t.length!==r.length&&(t.length=r.length);for(let i=0;i<this.scenes.length;i++){const s=this.getScene(i).transform.elements;for(let o=0;o<16;o++)t[i*16+o]=s[o]}r.set(t)}}());un(this,"computeDistancesOnGPU",function(){const t=new ur;return function(r,i){if(!this.renderer)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING),o=a.getParameter(a.CURRENT_PROGRAM),l=o?a.getProgramParameter(o,a.DELETE_STATUS):!1;if(a.bindVertexArray(this.distancesTransformFeedback.vao),a.useProgram(this.distancesTransformFeedback.program),a.enable(a.RASTERIZER_DISCARD),this.dynamicMode)for(let d=0;d<this.scenes.length;d++)if(t.copy(this.getScene(d).transform),t.premultiply(r),this.integerBasedDistancesComputation){const f=Ya.getIntegerMatrixArray(t),h=[f[2],f[6],f[10],f[14]];a.uniform4i(this.distancesTransformFeedback.transformsLocs[d],h[0],h[1],h[2],h[3])}else a.uniformMatrix4fv(this.distancesTransformFeedback.transformsLocs[d],!1,t.elements);else if(this.integerBasedDistancesComputation){const d=Ya.getIntegerMatrixArray(r),f=[d[2],d[6],d[10]];a.uniform3i(this.distancesTransformFeedback.modelViewProjLoc,f[0],f[1],f[2])}else{const d=[r.elements[2],r.elements[6],r.elements[10]];a.uniform3f(this.distancesTransformFeedback.modelViewProjLoc,d[0],d[1],d[2])}a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.centersLoc),this.integerBasedDistancesComputation?a.vertexAttribIPointer(this.distancesTransformFeedback.centersLoc,4,a.INT,0,0):a.vertexAttribPointer(this.distancesTransformFeedback.centersLoc,4,a.FLOAT,!1,0,0),this.dynamicMode&&(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),a.enableVertexAttribArray(this.distancesTransformFeedback.sceneIndexesLoc),a.vertexAttribIPointer(this.distancesTransformFeedback.sceneIndexesLoc,1,a.UNSIGNED_INT,0,0)),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,this.distancesTransformFeedback.id),a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER,0,this.distancesTransformFeedback.outDistancesBuffer),a.beginTransformFeedback(a.POINTS),a.drawArrays(a.POINTS,0,this.getSplatCount()),a.endTransformFeedback(),a.bindBufferBase(a.TRANSFORM_FEEDBACK_BUFFER,0,null),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,null),a.disable(a.RASTERIZER_DISCARD);const c=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);a.flush();const u=new Promise(d=>{const f=()=>{if(this.disposed)d();else switch(a.clientWaitSync(c,0,0)){case a.TIMEOUT_EXPIRED:return this.computeDistancesOnGPUSyncTimeout=setTimeout(f),this.computeDistancesOnGPUSyncTimeout;case a.WAIT_FAILED:throw new Error("should never get here");default:this.computeDistancesOnGPUSyncTimeout=null,a.deleteSync(c);const v=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao),a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.outDistancesBuffer),a.getBufferSubData(a.ARRAY_BUFFER,0,i),a.bindBuffer(a.ARRAY_BUFFER,null),v&&a.bindVertexArray(v),d()}};this.computeDistancesOnGPUSyncTimeout=setTimeout(f)});return o&&l!==!0&&a.useProgram(o),s&&a.bindVertexArray(s),u}}());un(this,"getSplatCenter",function(){const t={};return function(r,i,a){this.getLocalSplatParameters(r,t,a),t.splatBuffer.getSplatCenter(t.localIndex,i,t.sceneTransform)}}());un(this,"getSplatScaleAndRotation",function(){const t={},r=new tt;return function(i,a,s,o){this.getLocalSplatParameters(i,t,o),r.x=void 0,r.y=void 0,r.z=void 0,this.splatRenderMode===ed.TwoD&&(r.z=0),t.splatBuffer.getSplatScaleAndRotation(t.localIndex,a,s,t.sceneTransform,r)}}());un(this,"getSplatColor",function(){const t={};return function(r,i){this.getLocalSplatParameters(r,t),t.splatBuffer.getSplatColor(t.localIndex,i)}}());this.renderer=void 0,this.splatRenderMode=t,this.dynamicMode=r,this.enableOptionalEffects=i,this.halfPrecisionCovariancesOnGPU=a,this.devicePixelRatio=s,this.enableDistancesComputationOnGPU=o,this.integerBasedDistancesComputation=l,this.antialiased=c,this.kernel2DSize=p,this.maxScreenSpaceSplatSize=u,this.logLevel=d,this.sphericalHarmonicsDegree=f,this.minSphericalHarmonicsDegree=0,this.sceneFadeInRateMultiplier=h,this.scenes=[],this.splatTree=null,this.baseSplatTree=null,this.splatDataTextures={},this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new tu,this.calculatedSceneCenter=new tt,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!1,this.lastRenderer=null,this.visible=!1}static buildScenes(t,r,i){const a=[];a.length=r.length;for(let s=0;s<r.length;s++){const o=r[s],l=i[s]||{};let c=l.position||[0,0,0],u=l.rotation||[0,0,0,1],d=l.scale||[1,1,1];const f=new tt().fromArray(c),h=new ji().fromArray(u),p=new tt().fromArray(d),m=Ya.createScene(o,f,h,p,l.splatAlphaRemovalThreshold||1,l.opacity,l.visible);t.add(m),a[s]=m}return a}static createScene(t,r,i,a,s,o=1,l=!0){return new vdt(t,r,i,a,s,o,l)}static buildSplatIndexMaps(t){const r=[],i=[];let a=0;for(let s=0;s<t.length;s++){const l=t[s].getMaxSplatCount();for(let c=0;c<l;c++)r[a]=c,i[a]=s,a++}return{localSplatIndexMap:r,sceneIndexMap:i}}build(t,r,i=!0,a=!1,s,o,l=!0){this.sceneOptions=r,this.finalBuild=a;const c=Ya.getTotalMaxSplatCountForSplatBuffers(t),u=Ya.buildScenes(this,t,r);if(i)for(let v=0;v<this.scenes.length&&v<u.length;v++){const g=u[v],y=this.getScene(v);g.copyTransformData(y)}this.scenes=u;let d=3;for(let v of t){const g=v.getMinSphericalHarmonicsDegree();g<d&&(d=g)}this.minSphericalHarmonicsDegree=Math.min(d,this.sphericalHarmonicsDegree);let f=!1;if(t.length!==this.lastBuildScenes.length)f=!0;else for(let v=0;v<t.length;v++)if(t[v]!==this.lastBuildScenes[v].splatBuffer){f=!0;break}let h=!0;if((this.scenes.length!==1||this.lastBuildSceneCount!==this.scenes.length||this.lastBuildMaxSplatCount!==c||f)&&(h=!1),!h){this.boundingBox=new tu,l||(this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.firstRenderTime=-1),this.lastBuildScenes=[],this.lastBuildSplatCount=0,this.lastBuildMaxSplatCount=0,this.disposeMeshData(),this.geometry=mdt.build(c),this.splatRenderMode===ed.ThreeD?this.material=tT.build(this.dynamicMode,this.enableOptionalEffects,this.antialiased,this.maxScreenSpaceSplatSize,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree,this.kernel2DSize):this.material=nT.build(this.dynamicMode,this.enableOptionalEffects,this.splatScale,this.pointCloudModeEnabled,this.minSphericalHarmonicsDegree);const v=Ya.buildSplatIndexMaps(t);this.globalSplatIndexToLocalSplatIndexMap=v.localSplatIndexMap,this.globalSplatIndexToSceneIndexMap=v.sceneIndexMap}const p=this.getSplatCount(!0);this.enableDistancesComputationOnGPU&&this.setupDistancesComputationTransformFeedback();const m=this.refreshGPUDataFromSplatBuffers(h);for(let v=0;v<this.scenes.length;v++)this.lastBuildScenes[v]=this.scenes[v];return this.lastBuildSplatCount=p,this.lastBuildMaxSplatCount=this.getMaxSplatCount(),this.lastBuildSceneCount=this.scenes.length,a&&this.scenes.length>0&&this.buildSplatTree(r.map(v=>v.splatAlphaRemovalThreshold||1),s,o).then(()=>{this.onSplatTreeReadyCallback&&this.onSplatTreeReadyCallback(this.splatTree),this.onSplatTreeReadyCallback=null}),this.visible=this.scenes.length>0,m}freeIntermediateSplatData(){const t=r=>{delete r.source.data,delete r.image,r.onUpdate=null};delete this.splatDataTextures.baseData.covariances,delete this.splatDataTextures.baseData.centers,delete this.splatDataTextures.baseData.colors,delete this.splatDataTextures.baseData.sphericalHarmonics,delete this.splatDataTextures.centerColors.data,delete this.splatDataTextures.covariances.data,this.splatDataTextures.sphericalHarmonics&&delete this.splatDataTextures.sphericalHarmonics.data,this.splatDataTextures.sceneIndexes&&delete this.splatDataTextures.sceneIndexes.data,this.splatDataTextures.centerColors.texture.needsUpdate=!0,this.splatDataTextures.centerColors.texture.onUpdate=()=>{t(this.splatDataTextures.centerColors.texture)},this.splatDataTextures.covariances.texture.needsUpdate=!0,this.splatDataTextures.covariances.texture.onUpdate=()=>{t(this.splatDataTextures.covariances.texture)},this.splatDataTextures.sphericalHarmonics&&(this.splatDataTextures.sphericalHarmonics.texture?(this.splatDataTextures.sphericalHarmonics.texture.needsUpdate=!0,this.splatDataTextures.sphericalHarmonics.texture.onUpdate=()=>{t(this.splatDataTextures.sphericalHarmonics.texture)}):this.splatDataTextures.sphericalHarmonics.textures.forEach(r=>{r.needsUpdate=!0,r.onUpdate=()=>{t(r)}})),this.splatDataTextures.sceneIndexes&&(this.splatDataTextures.sceneIndexes.texture.needsUpdate=!0,this.splatDataTextures.sceneIndexes.texture.onUpdate=()=>{t(this.splatDataTextures.sceneIndexes.texture)})}dispose(){this.disposeMeshData(),this.disposeTextures(),this.disposeSplatTree(),this.enableDistancesComputationOnGPU&&(this.computeDistancesOnGPUSyncTimeout&&(clearTimeout(this.computeDistancesOnGPUSyncTimeout),this.computeDistancesOnGPUSyncTimeout=null),this.disposeDistancesComputationGPUResources()),this.scenes=[],this.distancesTransformFeedback={id:null,vertexShader:null,fragmentShader:null,program:null,centersBuffer:null,sceneIndexesBuffer:null,outDistancesBuffer:null,centersLoc:-1,modelViewProjLoc:-1,sceneIndexesLoc:-1,transformsLocs:[]},this.renderer=null,this.globalSplatIndexToLocalSplatIndexMap=[],this.globalSplatIndexToSceneIndexMap=[],this.lastBuildSplatCount=0,this.lastBuildScenes=[],this.lastBuildMaxSplatCount=0,this.lastBuildSceneCount=0,this.firstRenderTime=-1,this.finalBuild=!1,this.webGLUtils=null,this.boundingBox=new tu,this.calculatedSceneCenter=new tt,this.maxSplatDistanceFromSceneCenter=0,this.visibleRegionBufferRadius=0,this.visibleRegionRadius=0,this.visibleRegionFadeStartRadius=0,this.visibleRegionChanging=!1,this.splatScale=1,this.pointCloudModeEnabled=!1,this.disposed=!0,this.lastRenderer=null,this.visible=!1}disposeMeshData(){this.geometry&&this.geometry!==fq&&(this.geometry.dispose(),this.geometry=null),this.material&&(this.material.dispose(),this.material=null)}disposeTextures(){for(let t in this.splatDataTextures)if(this.splatDataTextures.hasOwnProperty(t)){const r=this.splatDataTextures[t];r.texture&&(r.texture.dispose(),r.texture=null)}this.splatDataTextures=null}disposeSplatTree(){this.splatTree&&(this.splatTree.dispose(),this.splatTree=null),this.baseSplatTree&&(this.baseSplatTree.dispose(),this.baseSplatTree=null)}getSplatTree(){return this.splatTree}onSplatTreeReady(t){this.onSplatTreeReadyCallback=t}getDataForDistancesComputation(t,r){const i=this.integerBasedDistancesComputation?this.getIntegerCenters(t,r,!0):this.getFloatCenters(t,r,!0),a=this.getSceneIndexes(t,r);return{centers:i,sceneIndexes:a}}refreshGPUDataFromSplatBuffers(t){const r=this.getSplatCount(!0);this.refreshDataTexturesFromSplatBuffers(t);const i=t?this.lastBuildSplatCount:0,{centers:a,sceneIndexes:s}=this.getDataForDistancesComputation(i,r-1);return this.enableDistancesComputationOnGPU&&this.refreshGPUBuffersForDistancesComputation(a,s,t),{from:i,to:r-1,count:r-i,centers:a,sceneIndexes:s}}refreshGPUBuffersForDistancesComputation(t,r,i=!1){const a=i?this.lastBuildSplatCount:0;this.updateGPUCentersBufferForDistancesComputation(i,t,a),this.updateGPUTransformIndexesBufferForDistancesComputation(i,r,a)}refreshDataTexturesFromSplatBuffers(t){const r=this.getSplatCount(!0),i=this.lastBuildSplatCount,a=r-1;t?this.updateBaseDataFromSplatBuffers(i,a):(this.setupDataTextures(),this.updateBaseDataFromSplatBuffers()),this.updateDataTexturesFromBaseData(i,a),this.updateVisibleRegion(t)}setupDataTextures(){const t=this.getMaxSplatCount(),r=this.getSplatCount(!0);this.disposeTextures();const i=(C,M)=>{const A=new Vn(4096,1024);for(;A.x*A.y*C<t*M;)A.y*=2;return A},a=C=>C>=1?Adt:Mdt,s=C=>{const M=a(C),A=i(M,6);return{elementsPerTexelStored:M,texSize:A}};let o=this.getTargetCovarianceCompressionLevel();const l=0,c=this.getTargetSphericalHarmonicsCompressionLevel();let u,d,f;if(this.splatRenderMode===ed.ThreeD){const C=s(o);C.texSize.x*C.texSize.y>mq&&o===0&&(o=1),u=new Float32Array(t*v2)}else d=new Float32Array(t*3),f=new Float32Array(t*4);const h=new Float32Array(t*3),p=new Uint8Array(t*4);let m=Float32Array;c===1?m=Uint16Array:c===2&&(m=Uint8Array);const v=Zv(this.minSphericalHarmonicsDegree),g=this.minSphericalHarmonicsDegree?new m(t*v):void 0,y=i(l5,4),b=new Uint32Array(y.x*y.y*l5);Ya.updateCenterColorsPaddedData(0,r-1,h,p,b);const _=new pf(b,y.x,y.y,Xv,xl);if(_.internalFormat="RGBA32UI",_.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=_,this.material.uniforms.centersColorsTextureSize.value.copy(y),this.material.uniformsNeedUpdate=!0,this.splatDataTextures={baseData:{covariances:u,scales:d,rotations:f,centers:h,colors:p,sphericalHarmonics:g},centerColors:{data:b,texture:_,size:y}},this.splatRenderMode===ed.ThreeD){const C=s(o),M=C.elementsPerTexelStored,A=C.texSize;let I=o>=1?Uint32Array:Float32Array;const D=o>=1?Edt:Tdt,L=new I(A.x*A.y*D);o===0?L.set(u):Ya.updatePaddedCompressedCovariancesTextureData(u,L,0,0,u.length);let F;if(o>=1)F=new pf(L,A.x,A.y,Xv,xl),F.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=F;else{F=new pf(L,A.x,A.y,$s,pc),this.material.uniforms.covariancesTexture.value=F;const B=new pf(new Uint32Array(32),2,2,Xv,xl);B.internalFormat="RGBA32UI",this.material.uniforms.covariancesTextureHalfFloat.value=B,B.needsUpdate=!0}F.needsUpdate=!0,this.material.uniforms.covariancesAreHalfFloat.value=o>=1?1:0,this.material.uniforms.covariancesTextureSize.value.copy(A),this.splatDataTextures.covariances={data:L,texture:F,size:A,compressionLevel:o,elementsPerTexelStored:M,elementsPerTexelAllocated:D}}else{const M=i(o5,6);let A=Float32Array,I=pc;const D=new A(M.x*M.y*o5);Ya.updateScaleRotationsPaddedData(0,r-1,d,f,D);const L=new pf(D,M.x,M.y,$s,I);L.needsUpdate=!0,this.material.uniforms.scaleRotationsTexture.value=L,this.material.uniforms.scaleRotationsTextureSize.value.copy(M),this.splatDataTextures.scaleRotations={data:D,texture:L,size:M,compressionLevel:l}}if(g){const C=c===2?yu:Sy;let M=v;M%2!==0&&M++;const A=this.minSphericalHarmonicsDegree===2?4:2,I=A===4?$s:MN;let D=i(A,M);if(D.x*D.y<=mq){const L=D.x*D.y*A,F=new m(L);for(let k=0;k<r;k++){const H=v*k,z=M*k;for(let O=0;O<v;O++)F[z+O]=g[H+O]}const B=new pf(F,D.x,D.y,I,C);B.needsUpdate=!0,this.material.uniforms.sphericalHarmonicsTexture.value=B,this.splatDataTextures.sphericalHarmonics={componentCount:v,paddedComponentCount:M,data:F,textureCount:1,texture:B,size:D,compressionLevel:c,elementsPerTexel:A}}else{const L=v/3;M=L,M%2!==0&&M++,D=i(A,M);const F=D.x*D.y*A,B=[this.material.uniforms.sphericalHarmonicsTextureR,this.material.uniforms.sphericalHarmonicsTextureG,this.material.uniforms.sphericalHarmonicsTextureB],k=[],H=[];for(let z=0;z<3;z++){const O=new m(F);k.push(O);for(let j=0;j<r;j++){const ee=v*j,te=M*j;if(L>=3){for(let J=0;J<3;J++)O[te+J]=g[ee+z*3+J];if(L>=8)for(let J=0;J<5;J++)O[te+3+J]=g[ee+9+z*5+J]}}const W=new pf(O,D.x,D.y,I,C);H.push(W),W.needsUpdate=!0,B[z].value=W}this.material.uniforms.sphericalHarmonicsMultiTextureMode.value=1,this.splatDataTextures.sphericalHarmonics={componentCount:v,componentCountPerChannel:L,paddedComponentCount:M,data:k,textureCount:3,textures:H,size:D,compressionLevel:c,elementsPerTexel:A}}this.material.uniforms.sphericalHarmonicsTextureSize.value.copy(D),this.material.uniforms.sphericalHarmonics8BitMode.value=c===2?1:0;for(let L=0;L<this.scenes.length;L++){const F=this.scenes[L].splatBuffer;this.material.uniforms.sphericalHarmonics8BitCompressionRangeMin.value[L]=F.minSphericalHarmonicsCoeff,this.material.uniforms.sphericalHarmonics8BitCompressionRangeMax.value[L]=F.maxSphericalHarmonicsCoeff}this.material.uniformsNeedUpdate=!0}const x=i(hq,4),S=new Uint32Array(x.x*x.y*hq);for(let C=0;C<r;C++)S[C]=this.globalSplatIndexToSceneIndexMap[C];const T=new pf(S,x.x,x.y,NA,xl);T.internalFormat="R32UI",T.needsUpdate=!0,this.material.uniforms.sceneIndexesTexture.value=T,this.material.uniforms.sceneIndexesTextureSize.value.copy(x),this.material.uniformsNeedUpdate=!0,this.splatDataTextures.sceneIndexes={data:S,texture:T,size:x},this.material.uniforms.sceneCount.value=this.scenes.length}updateBaseDataFromSplatBuffers(t,r){const i=this.splatDataTextures.covariances,a=i?i.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,o=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0;this.fillSplatDataArrays(this.splatDataTextures.baseData.covariances,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,this.splatDataTextures.baseData.sphericalHarmonics,void 0,a,o,c,t,r,t)}updateDataTexturesFromBaseData(t,r){const i=this.splatDataTextures.covariances,a=i?i.compressionLevel:void 0,s=this.splatDataTextures.scaleRotations,o=s?s.compressionLevel:void 0,l=this.splatDataTextures.sphericalHarmonics,c=l?l.compressionLevel:0,u=this.splatDataTextures.centerColors,d=u.data,f=u.texture;Ya.updateCenterColorsPaddedData(t,r,this.splatDataTextures.baseData.centers,this.splatDataTextures.baseData.colors,d);const h=this.renderer?this.renderer.properties.get(f):null;if(!h||!h.__webglTexture?f.needsUpdate=!0:this.updateDataTexture(d,u.texture,u.size,h,l5,Cdt,4,t,r),i){const b=i.texture,_=t*v2,x=r*v2;if(a===0)for(let T=_;T<=x;T++){const C=this.splatDataTextures.baseData.covariances[T];i.data[T]=C}else Ya.updatePaddedCompressedCovariancesTextureData(this.splatDataTextures.baseData.covariances,i.data,t*i.elementsPerTexelAllocated,_,x);const S=this.renderer?this.renderer.properties.get(b):null;!S||!S.__webglTexture?b.needsUpdate=!0:a===0?this.updateDataTexture(i.data,i.texture,i.size,S,i.elementsPerTexelStored,v2,4,t,r):this.updateDataTexture(i.data,i.texture,i.size,S,i.elementsPerTexelAllocated,i.elementsPerTexelAllocated,2,t,r)}if(s){const b=s.data,_=s.texture,x=6,S=o===0?4:2;Ya.updateScaleRotationsPaddedData(t,r,this.splatDataTextures.baseData.scales,this.splatDataTextures.baseData.rotations,b);const T=this.renderer?this.renderer.properties.get(_):null;!T||!T.__webglTexture?_.needsUpdate=!0:this.updateDataTexture(b,s.texture,s.size,T,o5,x,S,t,r)}const p=this.splatDataTextures.baseData.sphericalHarmonics;if(p){let b=4;c===1?b=2:c===2&&(b=1);const _=(T,C,M,A,I)=>{const D=this.renderer?this.renderer.properties.get(T):null;!D||!D.__webglTexture?T.needsUpdate=!0:this.updateDataTexture(A,T,C,D,M,I,b,t,r)},x=l.componentCount,S=l.paddedComponentCount;if(l.textureCount===1){const T=l.data;for(let C=t;C<=r;C++){const M=x*C,A=S*C;for(let I=0;I<x;I++)T[A+I]=p[M+I]}_(l.texture,l.size,l.elementsPerTexel,T,S)}else{const T=l.componentCountPerChannel;for(let C=0;C<3;C++){const M=l.data[C];for(let A=t;A<=r;A++){const I=x*A,D=S*A;if(T>=3){for(let L=0;L<3;L++)M[D+L]=p[I+C*3+L];if(T>=8)for(let L=0;L<5;L++)M[D+3+L]=p[I+9+C*5+L]}}_(l.textures[C],l.size,l.elementsPerTexel,M,S)}}}const m=this.splatDataTextures.sceneIndexes,v=m.data;for(let b=this.lastBuildSplatCount;b<=r;b++)v[b]=this.globalSplatIndexToSceneIndexMap[b];const g=m.texture,y=this.renderer?this.renderer.properties.get(g):null;!y||!y.__webglTexture?g.needsUpdate=!0:this.updateDataTexture(v,m.texture,m.size,y,1,1,1,this.lastBuildSplatCount,r)}getTargetCovarianceCompressionLevel(){return this.halfPrecisionCovariancesOnGPU?1:0}getTargetSphericalHarmonicsCompressionLevel(){return Math.max(1,this.getMaximumSplatBufferCompressionLevel())}getMaximumSplatBufferCompressionLevel(){let t;for(let r=0;r<this.scenes.length;r++){const a=this.getScene(r).splatBuffer;(r===0||a.compressionLevel>t)&&(t=a.compressionLevel)}return t}getMinimumSplatBufferCompressionLevel(){let t;for(let r=0;r<this.scenes.length;r++){const a=this.getScene(r).splatBuffer;(r===0||a.compressionLevel<t)&&(t=a.compressionLevel)}return t}static computeTextureUpdateRegion(t,r,i,a,s){const o=s/a,l=t*o,c=Math.floor(l/i),u=c*i*a,d=r*o,f=Math.floor(d/i),h=f*i*a+i*a;return{dataStart:u,dataEnd:h,startRow:c,endRow:f}}updateDataTexture(t,r,i,a,s,o,l,c,u){const d=this.renderer.getContext(),f=Ya.computeTextureUpdateRegion(c,u,i.x,s,o),h=f.dataEnd-f.dataStart,p=new t.constructor(t.buffer,f.dataStart*l,h),m=f.endRow-f.startRow+1,v=this.webGLUtils.convert(r.type),g=this.webGLUtils.convert(r.format,r.colorSpace),y=d.getParameter(d.TEXTURE_BINDING_2D);d.bindTexture(d.TEXTURE_2D,a.__webglTexture),d.texSubImage2D(d.TEXTURE_2D,0,0,f.startRow,i.x,m,g,v,p),d.bindTexture(d.TEXTURE_2D,y)}static updatePaddedCompressedCovariancesTextureData(t,r,i,a,s){let o=new DataView(r.buffer),l=i,c=0;for(let u=a;u<=s;u+=2)o.setUint16(l*2,t[u],!0),o.setUint16(l*2+2,t[u+1],!0),l+=2,c++,c>=3&&(l+=2,c=0)}static updateCenterColorsPaddedData(t,r,i,a,s){for(let o=t;o<=r;o++){const l=o*4,c=o*3,u=o*4;s[u]=_ut(a,l),s[u+1]=e5(i[c]),s[u+2]=e5(i[c+1]),s[u+3]=e5(i[c+2])}}static updateScaleRotationsPaddedData(t,r,i,a,s){for(let l=t;l<=r;l++){const c=l*3,u=l*4,d=l*6;s[d]=i[c],s[d+1]=i[c+1],s[d+2]=i[c+2],s[d+3]=a[u],s[d+4]=a[u+1],s[d+5]=a[u+2]}}updateVisibleRegion(t){const r=this.getSplatCount(!0),i=new tt;if(!t){const s=new tt;this.scenes.forEach(o=>{s.add(o.splatBuffer.sceneCenter)}),s.multiplyScalar(1/this.scenes.length),this.calculatedSceneCenter.copy(s),this.material.uniforms.sceneCenter.value.copy(this.calculatedSceneCenter),this.material.uniformsNeedUpdate=!0}const a=t?this.lastBuildSplatCount:0;for(let s=a;s<r;s++){this.getSplatCenter(s,i,!0);const o=i.sub(this.calculatedSceneCenter).length();o>this.maxSplatDistanceFromSceneCenter&&(this.maxSplatDistanceFromSceneCenter=o)}this.maxSplatDistanceFromSceneCenter-this.visibleRegionBufferRadius>pq&&(this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter,this.visibleRegionRadius=Math.max(this.visibleRegionBufferRadius-pq,0)),this.finalBuild&&(this.visibleRegionRadius=this.visibleRegionBufferRadius=this.maxSplatDistanceFromSceneCenter),this.updateVisibleRegionFadeDistance()}updateVisibleRegionFadeDistance(t=Tb.Default){const r=Idt*this.sceneFadeInRateMultiplier,i=Rdt*this.sceneFadeInRateMultiplier,a=this.finalBuild?r:i,s=t===Tb.Default?a:i;this.visibleRegionFadeStartRadius=(this.visibleRegionRadius-this.visibleRegionFadeStartRadius)*s+this.visibleRegionFadeStartRadius;const l=(this.visibleRegionBufferRadius>0?this.visibleRegionFadeStartRadius/this.visibleRegionBufferRadius:0)>.99,c=l||t===Tb.Instant?1:0;this.material.uniforms.visibleRegionFadeStartRadius.value=this.visibleRegionFadeStartRadius,this.material.uniforms.visibleRegionRadius.value=this.visibleRegionRadius,this.material.uniforms.firstRenderTime.value=this.firstRenderTime,this.material.uniforms.currentTime.value=performance.now(),this.material.uniforms.fadeInComplete.value=c,this.material.uniformsNeedUpdate=!0,this.visibleRegionChanging=!l}updateRenderIndexes(t,r){const i=this.geometry;i.attributes.splatIndex.set(t),i.attributes.splatIndex.needsUpdate=!0,r>0&&this.firstRenderTime===-1&&(this.firstRenderTime=performance.now()),i.instanceCount=r,i.setDrawRange(0,r)}updateTransforms(){for(let t=0;t<this.scenes.length;t++)this.getScene(t).updateTransform(this.dynamicMode)}setSplatScale(t=1){this.splatScale=t,this.material.uniforms.splatScale.value=t,this.material.uniformsNeedUpdate=!0}getSplatScale(){return this.splatScale}setPointCloudModeEnabled(t){this.pointCloudModeEnabled=t,this.material.uniforms.pointCloudModeEnabled.value=t?1:0,this.material.uniformsNeedUpdate=!0}getPointCloudModeEnabled(){return this.pointCloudModeEnabled}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(t=!1){return t?Ya.getTotalSplatCountForScenes(this.scenes):this.lastBuildSplatCount}static getTotalSplatCountForScenes(t){let r=0;for(let i of t)i&&i.splatBuffer&&(r+=i.splatBuffer.getSplatCount());return r}static getTotalSplatCountForSplatBuffers(t){let r=0;for(let i of t)r+=i.getSplatCount();return r}getMaxSplatCount(){return Ya.getTotalMaxSplatCountForScenes(this.scenes)}static getTotalMaxSplatCountForScenes(t){let r=0;for(let i of t)i&&i.splatBuffer&&(r+=i.splatBuffer.getMaxSplatCount());return r}static getTotalMaxSplatCountForSplatBuffers(t){let r=0;for(let i of t)r+=i.getMaxSplatCount();return r}disposeDistancesComputationGPUResources(){if(!this.renderer)return;const t=this.renderer.getContext();this.distancesTransformFeedback.vao&&(t.deleteVertexArray(this.distancesTransformFeedback.vao),this.distancesTransformFeedback.vao=null),this.distancesTransformFeedback.program&&(t.deleteProgram(this.distancesTransformFeedback.program),t.deleteShader(this.distancesTransformFeedback.vertexShader),t.deleteShader(this.distancesTransformFeedback.fragmentShader),this.distancesTransformFeedback.program=null,this.distancesTransformFeedback.vertexShader=null,this.distancesTransformFeedback.fragmentShader=null),this.disposeDistancesComputationGPUBufferResources(),this.distancesTransformFeedback.id&&(t.deleteTransformFeedback(this.distancesTransformFeedback.id),this.distancesTransformFeedback.id=null)}disposeDistancesComputationGPUBufferResources(){if(!this.renderer)return;const t=this.renderer.getContext();this.distancesTransformFeedback.centersBuffer&&(this.distancesTransformFeedback.centersBuffer=null,t.deleteBuffer(this.distancesTransformFeedback.centersBuffer)),this.distancesTransformFeedback.outDistancesBuffer&&(t.deleteBuffer(this.distancesTransformFeedback.outDistancesBuffer),this.distancesTransformFeedback.outDistancesBuffer=null)}setRenderer(t){if(t!==this.renderer){this.renderer=t;const r=this.renderer.getContext(),i=new wdt(r),a=new xdt(r,i,{});if(i.init(a),this.webGLUtils=new Tae(r,i),this.enableDistancesComputationOnGPU&&this.getSplatCount()>0){this.setupDistancesComputationTransformFeedback();const{centers:s,sceneIndexes:o}=this.getDataForDistancesComputation(0,this.getSplatCount()-1);this.refreshGPUBuffersForDistancesComputation(s,o)}}}updateGPUCentersBufferForDistancesComputation(t,r,i){if(!this.renderer)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao);const o=this.integerBasedDistancesComputation?Uint32Array:Float32Array,l=16,c=i*l;if(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.centersBuffer),t)a.bufferSubData(a.ARRAY_BUFFER,c,r);else{const u=new o(this.getMaxSplatCount()*l);u.set(r),a.bufferData(a.ARRAY_BUFFER,u,a.STATIC_DRAW)}a.bindBuffer(a.ARRAY_BUFFER,null),s&&a.bindVertexArray(s)}updateGPUTransformIndexesBufferForDistancesComputation(t,r,i){if(!this.renderer||!this.dynamicMode)return;const a=this.renderer.getContext(),s=a.getParameter(a.VERTEX_ARRAY_BINDING);a.bindVertexArray(this.distancesTransformFeedback.vao);const o=i*4;if(a.bindBuffer(a.ARRAY_BUFFER,this.distancesTransformFeedback.sceneIndexesBuffer),t)a.bufferSubData(a.ARRAY_BUFFER,o,r);else{const l=new Uint32Array(this.getMaxSplatCount()*4);l.set(r),a.bufferData(a.ARRAY_BUFFER,l,a.STATIC_DRAW)}a.bindBuffer(a.ARRAY_BUFFER,null),s&&a.bindVertexArray(s)}getSceneIndexes(t,r){let i;const a=r-t+1;i=new Uint32Array(a);for(let s=t;s<=r;s++)i[s]=this.globalSplatIndexToSceneIndexMap[s];return i}getLocalSplatParameters(t,r,i){i==null&&(i=!this.dynamicMode),r.splatBuffer=this.getSplatBufferForSplat(t),r.localIndex=this.getSplatLocalIndex(t),r.sceneTransform=i?this.getSceneTransformForSplat(t):null}fillSplatDataArrays(t,r,i,a,s,o,l,c=0,u=0,d=1,f,h,p=0,m){const v=new tt;v.x=void 0,v.y=void 0,this.splatRenderMode===ed.ThreeD?v.z=void 0:v.z=1;const g=new ur;let y=0,b=this.scenes.length-1;m!=null&&m>=0&&m<=this.scenes.length&&(y=m,b=m);for(let _=y;_<=b;_++){l==null&&(l=!this.dynamicMode);const x=this.getScene(_),S=x.splatBuffer;let T;if(l&&(this.getSceneTransform(_,g),T=g),t&&S.fillSplatCovarianceArray(t,T,f,h,p,c),r||i){if(!r||!i)throw new Error('SplatMesh::fillSplatDataArrays() -> "scales" and "rotations" must both be valid.');S.fillSplatScaleRotationArray(r,i,T,f,h,p,u,v)}a&&S.fillSplatCenterArray(a,T,f,h,p),s&&S.fillSplatColorArray(s,x.minimumAlpha,f,h,p),o&&S.fillSphericalHarmonicsArray(o,this.minSphericalHarmonicsDegree,T,f,h,p,d),p+=S.getSplatCount()}}getIntegerCenters(t,r,i=!1){const a=r-t+1,s=new Float32Array(a*3);this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,t);let o,l=i?4:3;o=new Int32Array(a*l);for(let c=0;c<a;c++){for(let u=0;u<3;u++)o[c*l+u]=Math.round(s[c*3+u]*1e3);i&&(o[c*l+3]=1e3)}return o}getFloatCenters(t,r,i=!1){const a=r-t+1,s=new Float32Array(a*3);if(this.fillSplatDataArrays(null,null,null,s,null,null,void 0,void 0,void 0,void 0,t),!i)return s;let o=new Float32Array(a*4);for(let l=0;l<a;l++){for(let c=0;c<3;c++)o[l*4+c]=s[l*3+c];o[l*4+3]=1}return o}getSceneTransform(t,r){const i=this.getScene(t);i.updateTransform(this.dynamicMode),r.copy(i.transform)}getScene(t){if(t<0||t>=this.scenes.length)throw new Error("SplatMesh::getScene() -> Invalid scene index.");return this.scenes[t]}getSceneCount(){return this.scenes.length}getSplatBufferForSplat(t){return this.getScene(this.globalSplatIndexToSceneIndexMap[t]).splatBuffer}getSceneIndexForSplat(t){return this.globalSplatIndexToSceneIndexMap[t]}getSceneTransformForSplat(t){return this.getScene(this.globalSplatIndexToSceneIndexMap[t]).transform}getSplatLocalIndex(t){return this.globalSplatIndexToLocalSplatIndexMap[t]}static getIntegerMatrixArray(t){const r=t.elements,i=[];for(let a=0;a<16;a++)i[a]=Math.round(r[a]*1e3);return i}computeBoundingBox(t=!1,r){let i=this.getSplatCount();if(r!=null){if(r<0||r>=this.scenes.length)throw new Error("SplatMesh::computeBoundingBox() -> Invalid scene index.");i=this.scenes[r].splatBuffer.getSplatCount()}const a=new Float32Array(i*3);this.fillSplatDataArrays(null,null,null,a,null,null,t,void 0,void 0,void 0,void 0,r);const s=new tt,o=new tt;for(let l=0;l<i;l++){const c=l*3,u=a[c],d=a[c+1],f=a[c+2];(l===0||u<s.x)&&(s.x=u),(l===0||d<s.y)&&(s.y=d),(l===0||f<s.z)&&(s.z=f),(l===0||u>o.x)&&(o.x=u),(l===0||d>o.y)&&(o.y=d),(l===0||f>o.z)&&(o.z=f)}return new tu(s,o)}}var Pdt="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEbA2AAAGAQf39/f39/f39/f39/f39/fwBgAAF/AhIBA2VudgZtZW1vcnkCAwCAgAQDBAMAAQIHVAQRX193YXNtX2NhbGxfY3RvcnMAABhfX3dhc21fYXBwbHlfZGF0YV9yZWxvY3MAAAtzb3J0SW5kZXhlcwABE2Vtc2NyaXB0ZW5fdGxzX2luaXQAAgqWEAMDAAELihAEAXwDewN/A30gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEBA0AgAyABQQJ0IgVqIAIgACAFaigCAEECdGooAgAiBTYCACAFIAogBSAKSBshCiAFIA0gBSANShshDSABQQFqIgEgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiFWooAgAiFkECdGooAgAiFEcEQAJ/IAX9CQI4IAggFEEGdGoiDv0JAgwgDioCHP0gASAOKgIs/SACIA4qAjz9IAP95gEgBf0JAiggDv0JAgggDioCGP0gASAOKgIo/SACIA4qAjj9IAP95gEgBf0JAgggDv0JAgAgDioCEP0gASAOKgIg/SACIA4qAjD9IAP95gEgBf0JAhggDv0JAgQgDioCFP0gASAOKgIk/SACIA4qAjT9IAP95gH95AH95AH95AEiEf1f/QwAAAAAAECPQAAAAAAAQI9AIhL98gEiE/0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBP9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/REgDv0cAQJ/IBEgEf0NCAkKCwwNDg8AAAAAAAAAAP1fIBL98gEiEf0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9HAICfyAR/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAyESIBQhDwsgAyAVaiABIBZBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmogEf0bA2oiDjYCACAOIAogCiAOShshCiAOIA0gDSAOSBshDSACQQFqIgIgC0cNAAsMAwsCfyAFKgIIu/0UIAUqAhi7/SIB/QwAAAAAAECPQAAAAAAAQI9A/fIBIhH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIQ4CfyAR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyECAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQIgAv0RIA79HAEgBf0cAiESIAwhBQNAIAMgBUECdCICaiABIAAgAmooAgBBBHRq/QAAACAS/bUBIhH9GwAgEf0bAWogEf0bAmoiAjYCACACIAogAiAKSBshCiACIA0gAiANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEBA0AgAyABQQJ0IgVqAn8gAiAAIAVqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAFBAWoiASALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIRcgBSoCGCEYIAUqAgghGUH4////ByEKQYiAgIB4IQ0gDCEFA0ACfyAXIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCAZIAIqAgCUIBggAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIUaigCAEECdCIVaigCACIORwRAIAX9CQI4IAggDkEGdGoiD/0JAgwgDyoCHP0gASAPKgIs/SACIA8qAjz9IAP95gEgBf0JAiggD/0JAgggDyoCGP0gASAPKgIo/SACIA8qAjj9IAP95gEgBf0JAgggD/0JAgAgDyoCEP0gASAPKgIg/SACIA8qAjD9IAP95gEgBf0JAhggD/0JAgQgDyoCFP0gASAPKgIk/SACIA8qAjT9IAP95gH95AH95AH95AEhESAOIQ8LIAMgFGoCfyAR/R8DIAEgFUECdCIOQQxyaioCAJQgEf0fAiABIA5BCHJqKgIAlCAR/R8AIAEgDmoqAgCUIBH9HwEgASAOQQRyaioCAJSSkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSACQQFqIgIgC0cNAAsMAQtBiICAgHghDUH4////ByEKCyALIAxLBEAgCUEBa7MgDbIgCrKTlSEXIAwhDQNAAn8gFyADIA1BAnRqIgEoAgAgCmuylCIYi0MAAABPXQRAIBioDAELQYCAgIB4CyEOIAEgDjYCACAEIA5BAnRqIgEgASgCAEEBajYCACANQQFqIg0gC0cNAAsLIAlBAk8EQCAEKAIAIQ1BASEKA0AgBCAKQQJ0aiIBIAEoAgAgDWoiDTYCACAKQQFqIgogCUcNAAsLIAxBAEoEQCAMIQoDQCAGIApBAWsiAUECdCICaiAAIAJqKAIANgIAIApBAUshAiABIQogAg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCwsEAEEACw==",vq="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACEgEDZW52Bm1lbW9yeQIDAICABAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=",Ddt="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQrrDwICAAvlDwQBfAN7B30DfyALIAprIQwCQAJAIA4EQCANBEBB+P///wchCkGIgICAeCENIAsgDE0NAyAMIQUDQCADIAVBAnQiAWogAiAAIAFqKAIAQQJ0aigCACIBNgIAIAEgCiABIApIGyEKIAEgDSABIA1KGyENIAVBAWoiBSALRw0ACwwDCyAPBEAgCyAMTQ0CQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIcaigCACIdQQJ0aigCACIbRwRAAn8gBf0JAjggCCAbQQZ0aiIO/QkCDCAOKgIc/SABIA4qAiz9IAIgDioCPP0gA/3mASAF/QkCKCAO/QkCCCAOKgIY/SABIA4qAij9IAIgDioCOP0gA/3mASAF/QkCCCAO/QkCACAOKgIQ/SABIA4qAiD9IAIgDioCMP0gA/3mASAF/QkCGCAO/QkCBCAOKgIU/SABIA4qAiT9IAIgDioCNP0gA/3mAf3kAf3kAf3kASIR/V/9DAAAAAAAQI9AAAAAAABAj0AiEv3yASIT/SEBIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOAn8gE/0hACIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAv9ESAO/RwBAn8gESAR/Q0ICQoLDA0ODwABAgMAAQID/V8gEv3yASIR/SEAIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4C/0cAgJ/IBH9IQEiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgL/RwDIRIgGyEPCyADIBxqIAEgHUEEdGr9AAAAIBL9tQEiEf0bACAR/RsBaiAR/RsCaiAR/RsDaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAgi7/RQgBSoCGLv9IgH9DAAAAAAAQI9AAAAAAABAj0D98gEiEf0hASIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDgJ/IBH9IQAiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLAn8gBSoCKLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEFQfj///8HIQpBiICAgHghDSALIAxNDQL9ESAO/RwBIAX9HAIhEiAMIQUDQCADIAVBAnQiAmogASAAIAJqKAIAQQR0av0AAAAgEv21ASIR/RsAIBH9GwFqIBH9GwJqIgI2AgAgAiAKIAIgCkgbIQogAiANIAIgDUobIQ0gBUEBaiIFIAtHDQALDAILIA0EQEH4////ByEKQYiAgIB4IQ0gCyAMTQ0CIAwhBQNAIAMgBUECdCIBagJ/IAIgACABaigCAEECdGoqAgC7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAsiDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgD0UEQCALIAxNDQEgBSoCKCEUIAUqAhghFSAFKgIIIRZB+P///wchCkGIgICAeCENIAwhBQNAAn8gFCABIAAgBUECdCIHaigCAEEEdGoiAioCCJQgFiACKgIAlCAVIAIqAgSUkpK7RAAAAAAAALBAoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshDiADIAdqIA42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gBUEBaiIFIAtHDQALDAILIAsgDE0NAEF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiG2ooAgBBAnQiHGooAgAiDkcEQCAFKgI4IhQgCCAOQQZ0aiIPKgI8lCAFKgIoIhUgDyoCOJQgBSoCCCIWIA8qAjCUIAUqAhgiFyAPKgI0lJKSkiEYIBQgDyoCLJQgFSAPKgIolCAWIA8qAiCUIBcgDyoCJJSSkpIhGSAUIA8qAhyUIBUgDyoCGJQgFiAPKgIQlCAXIA8qAhSUkpKSIRogFCAPKgIMlCAVIA8qAgiUIBYgDyoCAJQgFyAPKgIElJKSkiEUIA4hDwsgAyAbagJ/IBggASAcQQJ0aiIOKgIMlCAZIA4qAgiUIBQgDioCAJQgGiAOKgIElJKSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAJBAWoiAiALRw0ACwwBC0GIgICAeCENQfj///8HIQoLIAsgDEsEQCAJQQFrsyANsiAKspOVIRQgDCENA0ACfyAUIAMgDUECdGoiASgCACAKa7KUIhWLQwAAAE9dBEAgFagMAQtBgICAgHgLIQ4gASAONgIAIAQgDkECdGoiASABKAIAQQFqNgIAIA1BAWoiDSALRw0ACwsgCUECTwRAIAQoAgAhDUEBIQoDQCAEIApBAnRqIgEgASgCACANaiINNgIAIApBAWoiCiAJRw0ACwsgDEEASgRAIAwhCgNAIAYgCkEBayIBQQJ0IgJqIAAgAmooAgA2AgAgCkEBSyABIQoNAAsLIAsgDEoEQCALIQoDQCAGIAsgBCADIApBAWsiCkECdCIBaigCAEECdGoiAigCACIFa0ECdGogACABaigCADYCACACIAVBAWs2AgAgCiAMSg0ACwsL",kdt="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAEXAmAAAGAQf39/f39/f39/f39/f39/fwACDwEDZW52Bm1lbW9yeQIAAAMDAgABBz4DEV9fd2FzbV9jYWxsX2N0b3JzAAAYX193YXNtX2FwcGx5X2RhdGFfcmVsb2NzAAALc29ydEluZGV4ZXMAAQqiDwICAAucDwMBfAd9Bn8gCyAKayEMAkACQCAOBEAgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQMgDCEFA0AgAyAFQQJ0IgFqIAIgACABaigCAEECdGooAgAiATYCACABIAogASAKSBshCiABIA0gASANShshDSAFQQFqIgUgC0cNAAsMAwsgDwRAIAsgDE0NAkF/IQ9B+P///wchCkGIgICAeCENIAwhAgNAIA8gByAAIAJBAnQiGmooAgBBAnQiG2ooAgAiDkcEQAJ/IAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRgCfyARIA8qAiyUIBIgDyoCKJQgEyAPKgIglCAUIA8qAiSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRkCfyARIA8qAhyUIBIgDyoCGJQgEyAPKgIQlCAUIA8qAhSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIRwCfyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSu0QAAAAAAECPQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIR0gDiEPCyADIBpqIAEgG0ECdGoiDigCBCAcbCAOKAIAIB1saiAOKAIIIBlsaiAOKAIMIBhsaiIONgIAIA4gCiAKIA5KGyEKIA4gDSANIA5IGyENIAJBAWoiAiALRw0ACwwDCwJ/IAUqAii7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshAgJ/IAUqAhi7RAAAAAAAQI9AoiIQmUQAAAAAAADgQWMEQCAQqgwBC0GAgICAeAshByALIAxNAn8gBSoCCLtEAAAAAABAj0CiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEPQfj///8HIQpBiICAgHghDQ0CIAwhBQNAIAMgBUECdCIIaiABIAAgCGooAgBBBHRqIggoAgQgB2wgCCgCACAPbGogCCgCCCACbGoiCDYCACAIIAogCCAKSBshCiAIIA0gCCANShshDSAFQQFqIgUgC0cNAAsMAgsgDQRAQfj///8HIQpBiICAgHghDSALIAxNDQIgDCEFA0AgAyAFQQJ0IgFqAn8gAiAAIAFqKAIAQQJ0aioCALtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyIONgIAIAogDiAKIA5IGyEKIA0gDiANIA5KGyENIAVBAWoiBSALRw0ACwwCCyAPRQRAIAsgDE0NASAFKgIoIREgBSoCGCESIAUqAgghE0H4////ByEKQYiAgIB4IQ0gDCEFA0ACfyARIAEgACAFQQJ0IgdqKAIAQQR0aiICKgIIlCATIAIqAgCUIBIgAioCBJSSkrtEAAAAAAAAsECiIhCZRAAAAAAAAOBBYwRAIBCqDAELQYCAgIB4CyEOIAMgB2ogDjYCACAKIA4gCiAOSBshCiANIA4gDSAOShshDSAFQQFqIgUgC0cNAAsMAgsgCyAMTQ0AQX8hD0H4////ByEKQYiAgIB4IQ0gDCECA0AgDyAHIAAgAkECdCIYaigCAEECdCIZaigCACIORwRAIAUqAjgiESAIIA5BBnRqIg8qAjyUIAUqAigiEiAPKgI4lCAFKgIIIhMgDyoCMJQgBSoCGCIUIA8qAjSUkpKSIRUgESAPKgIslCASIA8qAiiUIBMgDyoCIJQgFCAPKgIklJKSkiEWIBEgDyoCHJQgEiAPKgIYlCATIA8qAhCUIBQgDyoCFJSSkpIhFyARIA8qAgyUIBIgDyoCCJQgEyAPKgIAlCAUIA8qAgSUkpKSIREgDiEPCyADIBhqAn8gFSABIBlBAnRqIg4qAgyUIBYgDioCCJQgESAOKgIAlCAXIA4qAgSUkpKSu0QAAAAAAACwQKIiEJlEAAAAAAAA4EFjBEAgEKoMAQtBgICAgHgLIg42AgAgCiAOIAogDkgbIQogDSAOIA0gDkobIQ0gAkEBaiICIAtHDQALDAELQYiAgIB4IQ1B+P///wchCgsgCyAMSwRAIAlBAWuzIA2yIAqyk5UhESAMIQ0DQAJ/IBEgAyANQQJ0aiIBKAIAIAprspQiEotDAAAAT10EQCASqAwBC0GAgICAeAshDiABIA42AgAgBCAOQQJ0aiIBIAEoAgBBAWo2AgAgDUEBaiINIAtHDQALCyAJQQJPBEAgBCgCACENQQEhCgNAIAQgCkECdGoiASABKAIAIA1qIg02AgAgCkEBaiIKIAlHDQALCyAMQQBKBEAgDCEKA0AgBiAKQQFrIgFBAnQiAmogACACaigCADYCACAKQQFLIAEhCg0ACwsgCyAMSgRAIAshCgNAIAYgCyAEIAMgCkEBayIKQQJ0IgFqKAIAQQJ0aiICKAIAIgVrQQJ0aiAAIAFqKAIANgIAIAIgBUEBazYCACAKIAxKDQALCws=";function Ldt(n){let e,t,r,i,a,s,o,l,c,u,d,f,h,p,m,v,g,y,b,_;function x(S,T,C,M,A,I,D){const L=performance.now();if(!r&&(new Uint32Array(t,o,A.byteLength/_.BytesPerInt).set(A),new Float32Array(t,u,D.byteLength/_.BytesPerFloat).set(D),M)){let z;i?z=new Int32Array(t,d,I.byteLength/_.BytesPerInt):z=new Float32Array(t,d,I.byteLength/_.BytesPerFloat),z.set(I)}v||(v=new Uint32Array(y)),new Float32Array(t,m,16).set(C),new Uint32Array(t,h,y).set(v),e.exports.sortIndexes(o,p,d,f,h,m,l,c,u,y,S,T,s,M,i,a);const F={sortDone:!0,splatSortCount:S,splatRenderCount:T,sortTime:0};if(!r){const k=new Uint32Array(t,l,T);(!g||g.length<T)&&(g=new Uint32Array(T)),g.set(k),F.sortedIndexes=g}const B=performance.now();F.sortTime=B-L,n.postMessage(F)}n.onmessage=S=>{if(S.data.centers)centers=S.data.centers,sceneIndexes=S.data.sceneIndexes,i?new Int32Array(t,p+S.data.range.from*_.BytesPerInt*4,S.data.range.count*4).set(new Int32Array(centers)):new Float32Array(t,p+S.data.range.from*_.BytesPerFloat*4,S.data.range.count*4).set(new Float32Array(centers)),a&&new Uint32Array(t,c+S.data.range.from*4,S.data.range.count).set(new Uint32Array(sceneIndexes)),b=S.data.range.from+S.data.range.count;else if(S.data.sort){const T=Math.min(S.data.sort.splatRenderCount||0,b),C=Math.min(S.data.sort.splatSortCount||0,b),M=S.data.sort.usePrecomputedDistances;let A,I,D;r||(A=S.data.sort.indexesToSort,D=S.data.sort.transforms,M&&(I=S.data.sort.precomputedDistances)),x(C,T,S.data.sort.modelViewProj,M,A,I,D)}else if(S.data.init){_=S.data.init.Constants,s=S.data.init.splatCount,r=S.data.init.useSharedMemory,i=S.data.init.integerBasedSort,a=S.data.init.dynamicMode,y=S.data.init.distanceMapRange,b=0;const T=i?_.BytesPerInt*4:_.BytesPerFloat*4,C=new Uint8Array(S.data.init.sorterWasmBytes),M=16*_.BytesPerFloat,A=s*_.BytesPerInt,I=s*T,D=M,L=i?s*_.BytesPerInt:s*_.BytesPerFloat,F=s*_.BytesPerInt,B=s*_.BytesPerInt,k=i?y*_.BytesPerInt*2:y*_.BytesPerFloat*2,H=a?s*_.BytesPerInt:0,z=a?_.MaxScenes*M:0,O=_.MemoryPageSize*32,W=A+I+D+L+F+k+B+H+z+O,j=Math.floor(W/_.MemoryPageSize)+1,ee={module:{},env:{memory:new WebAssembly.Memory({initial:j,maximum:j,shared:!0})}};WebAssembly.compile(C).then(te=>WebAssembly.instantiate(te,ee)).then(te=>{e=te,o=0,p=o+A,m=p+I,d=m+D,f=d+L,h=f+F,l=h+k,c=l+B,u=c+H,t=ee.env.memory.buffer,r?n.postMessage({sortSetupPhase1Complete:!0,indexesToSortBuffer:t,indexesToSortOffset:o,sortedIndexesBuffer:t,sortedIndexesOffset:l,precomputedDistancesBuffer:t,precomputedDistancesOffset:d,transformsBuffer:t,transformsOffset:u}):n.postMessage({sortSetupPhase1Complete:!0})})}}}function Ndt(n,e,t,r,i,a=zr.DefaultSplatSortDistanceMapPrecision){const s=new Worker(URL.createObjectURL(new Blob(["(",Ldt.toString(),")(self)"],{type:"application/javascript"})));let o=Pdt;const l=NN()?Aae():null;!t&&!e?(o=vq,l&&l.major<=16&&l.minor<4&&(o=kdt)):t?e||l&&l.major<=16&&l.minor<4&&(o=Ddt):o=vq;const c=atob(o),u=new Uint8Array(c.length);for(let d=0;d<c.length;d++)u[d]=c.charCodeAt(d);return s.postMessage({init:{sorterWasmBytes:u.buffer,splatCount:n,useSharedMemory:e,integerBasedSort:r,dynamicMode:i,distanceMapRange:1<<a,Constants:{BytesPerFloat:zr.BytesPerFloat,BytesPerInt:zr.BytesPerInt,MemoryPageSize:zr.MemoryPageSize,MaxScenes:zr.MaxScenes}}}),s}const tv={None:0,VR:1,AR:2};class Vg{static createButton(e,t={}){const r=document.createElement("button");function i(){let c=null;async function u(h){h.addEventListener("end",d),await e.xr.setSession(h),r.textContent="EXIT VR",c=h}function d(){c.removeEventListener("end",d),r.textContent="ENTER VR",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="ENTER VR";const f={...t,optionalFeatures:["local-floor","bounded-floor","layers",...t.optionalFeatures||[]]};r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-vr",f).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",f).then(u).catch(h=>{console.warn(h)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-vr",f).then(u).catch(h=>{console.warn(h)})}function a(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){a(),r.textContent="VR NOT SUPPORTED"}function o(c){a(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="VR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="VRButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-vr").then(function(c){c?i():s(),c&&Vg.xrSessionIsGranted&&r.click()}).catch(o),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}static registerSessionGrantedListener(){if(typeof navigator<"u"&&"xr"in navigator){if(/WebXRViewer\//i.test(navigator.userAgent))return;navigator.xr.addEventListener("sessiongranted",()=>{Vg.xrSessionIsGranted=!0})}}}Vg.xrSessionIsGranted=!1;Vg.registerSessionGrantedListener();class Odt{static createButton(e,t={}){const r=document.createElement("button");function i(){if(t.domOverlay===void 0){const f=document.createElement("div");f.style.display="none",document.body.appendChild(f);const h=document.createElementNS("http://www.w3.org/2000/svg","svg");h.setAttribute("width",38),h.setAttribute("height",38),h.style.position="absolute",h.style.right="20px",h.style.top="20px",h.addEventListener("click",function(){c.end()}),f.appendChild(h);const p=document.createElementNS("http://www.w3.org/2000/svg","path");p.setAttribute("d","M 12,12 L 28,28 M 28,12 12,28"),p.setAttribute("stroke","#fff"),p.setAttribute("stroke-width",2),h.appendChild(p),t.optionalFeatures===void 0&&(t.optionalFeatures=[]),t.optionalFeatures.push("dom-overlay"),t.domOverlay={root:f}}let c=null;async function u(f){f.addEventListener("end",d),e.xr.setReferenceSpaceType("local"),await e.xr.setSession(f),r.textContent="STOP AR",t.domOverlay.root.style.display="",c=f}function d(){c.removeEventListener("end",d),r.textContent="START AR",t.domOverlay.root.style.display="none",c=null}r.style.display="",r.style.cursor="pointer",r.style.left="calc(50% - 50px)",r.style.width="100px",r.textContent="START AR",r.onmouseenter=function(){r.style.opacity="1.0"},r.onmouseleave=function(){r.style.opacity="0.5"},r.onclick=function(){c===null?navigator.xr.requestSession("immersive-ar",t).then(u):(c.end(),navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",t).then(u).catch(f=>{console.warn(f)}))},navigator.xr.offerSession!==void 0&&navigator.xr.offerSession("immersive-ar",t).then(u).catch(f=>{console.warn(f)})}function a(){r.style.display="",r.style.cursor="auto",r.style.left="calc(50% - 75px)",r.style.width="150px",r.onmouseenter=null,r.onmouseleave=null,r.onclick=null}function s(){a(),r.textContent="AR NOT SUPPORTED"}function o(c){a(),console.warn("Exception when trying to call xr.isSessionSupported",c),r.textContent="AR NOT ALLOWED"}function l(c){c.style.position="absolute",c.style.bottom="20px",c.style.padding="12px 6px",c.style.border="1px solid #fff",c.style.borderRadius="4px",c.style.background="rgba(0,0,0,0.1)",c.style.color="#fff",c.style.font="normal 13px sans-serif",c.style.textAlign="center",c.style.opacity="0.5",c.style.outline="none",c.style.zIndex="999"}if("xr"in navigator)return r.id="ARButton",r.style.display="none",l(r),navigator.xr.isSessionSupported("immersive-ar").then(function(c){c?i():s()}).catch(o),r;{const c=document.createElement("a");return window.isSecureContext===!1?(c.href=document.location.href.replace(/^http:/,"https:"),c.innerHTML="WEBXR NEEDS HTTPS"):(c.href="https://immersiveweb.dev/",c.innerHTML="WEBXR NOT AVAILABLE"),c.style.left="calc(50% - 90px)",c.style.width="180px",c.style.textDecoration="none",l(c),c}}}const c5={Always:0,OnChange:1,Never:2},Bdt=50,Fdt=.75,zdt=15e5,Udt=10,Hdt=2.5,Vdt=60,Cf=class Cf{constructor(e={}){un(this,"onKeyDown",function(){const e=new tt,t=new ur,r=new ur;return function(i){switch(e.set(0,0,-1),e.transformDirection(this.camera.matrixWorld),t.makeRotationAxis(e,Math.PI/128),r.makeRotationAxis(e,-Math.PI/128),i.code){case"KeyG":this.focalAdjustment+=.02,this.forceRenderNextFrame();break;case"KeyF":this.focalAdjustment-=.02,this.forceRenderNextFrame();break;case"ArrowLeft":this.camera.up.transformDirection(t);break;case"ArrowRight":this.camera.up.transformDirection(r);break;case"KeyC":this.showMeshCursor=!this.showMeshCursor;break;case"KeyU":this.showControlPlane=!this.showControlPlane;break;case"KeyI":this.showInfo=!this.showInfo,this.showInfo?this.infoPanel.show():this.infoPanel.hide();break;case"KeyO":this.usingExternalCamera||this.setOrthographicMode(!this.camera.isOrthographicCamera);break;case"KeyP":this.usingExternalCamera||this.splatMesh.setPointCloudModeEnabled(!this.splatMesh.getPointCloudModeEnabled());break;case"Equal":this.usingExternalCamera||this.splatMesh.setSplatScale(this.splatMesh.getSplatScale()+.05);break;case"Minus":this.usingExternalCamera||this.splatMesh.setSplatScale(Math.max(this.splatMesh.getSplatScale()-.05,0));break}}}());un(this,"onMouseUp",function(){const e=new Vn;return function(t){e.copy(this.mousePosition).sub(this.mouseDownPosition),Q0()-this.mouseDownTime<.5&&e.length()<2&&this.onMouseClick(t)}}());un(this,"checkForFocalPointChange",function(){const e=new Vn,t=new tt,r=[];return function(){if(!this.transitioningCameraTarget&&(this.getRenderDimensions(e),r.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,e),this.raycaster.intersectSplatMesh(this.splatMesh,r),r.length>0)){const a=r[0].origin;t.copy(a).sub(this.camera.position),t.length()>Fdt&&(this.previousCameraTarget.copy(this.controls.target),this.nextCameraTarget.copy(a),this.transitioningCameraTarget=!0,this.transitioningCameraTargetStartTime=Q0())}}}());un(this,"updateSplatMesh",function(){const e=new Vn;return function(){if(!this.splatMesh)return;if(this.splatMesh.getSplatCount()>0){this.splatMesh.updateVisibleRegionFadeDistance(this.sceneRevealMode),this.splatMesh.updateTransforms(),this.getRenderDimensions(e);const r=this.camera.projectionMatrix.elements[0]*.5*this.devicePixelRatio*e.x,i=this.camera.projectionMatrix.elements[5]*.5*this.devicePixelRatio*e.y,a=this.camera.isOrthographicCamera?1/this.devicePixelRatio:1,s=this.focalAdjustment*a,o=1/s;this.adjustForWebXRStereo(e),this.splatMesh.updateUniforms(e,r*s,i*s,this.camera.isOrthographicCamera,this.camera.zoom||1,o)}}}());un(this,"addSplatBuffers",function(){return function(e,t=[],r=!0,i=!0,a=!0,s=!1,o=!1,l=!0){if(this.isDisposingOrDisposed())return Promise.resolve();let c=null;const u=()=>{c!==null&&(this.loadingSpinner.removeTask(c),c=null)};return this.splatRenderReady=!1,new Promise(d=>{i&&(c=this.loadingSpinner.addTask("Processing splats...")),mc(()=>{if(this.isDisposingOrDisposed())d();else{const f=this.addSplatBuffersToMesh(e,t,r,a,s,l),h=this.splatMesh.getMaxSplatCount();this.sortWorker&&this.sortWorker.maxSplatCount!==h&&this.disposeSortWorker(),this.gpuAcceleratedSort||this.preSortMessages.push({centers:f.centers.buffer,sceneIndexes:f.sceneIndexes.buffer,range:{from:f.from,to:f.to,count:f.count}}),(!this.sortWorker&&h>0?this.setupSortWorker(this.splatMesh):Promise.resolve()).then(()=>{this.isDisposingOrDisposed()||this.runSplatSort(!0,!0).then(m=>{!this.sortWorker||!m?(this.splatRenderReady=!0,u(),d()):(o?this.splatRenderReady=!0:this.runAfterNextSort.push(()=>{this.splatRenderReady=!0}),this.runAfterNextSort.push(()=>{u(),d()}))})})}},!0)})}}());un(this,"addSplatBuffersToMesh",function(){let e;return function(t,r,i=!0,a=!1,s=!1,o=!0){if(this.isDisposingOrDisposed())return;let l=[],c=[];s||(l=this.splatMesh.scenes.map(h=>h.splatBuffer)||[],c=this.splatMesh.sceneOptions?this.splatMesh.sceneOptions.map(h=>h):[]),l.push(...t),c.push(...r),this.renderer&&this.splatMesh.setRenderer(this.renderer);const u=h=>{if(this.isDisposingOrDisposed())return;const p=this.splatMesh.getSplatCount();a&&p>=zdt&&!h&&!e&&(this.loadingSpinner.setMinimized(!0,!0),e=this.loadingSpinner.addTask("Optimizing data structures..."))},d=h=>{this.isDisposingOrDisposed()||h&&e&&(this.loadingSpinner.removeTask(e),e=null)},f=this.splatMesh.build(l,c,!0,i,u,d,o);return i&&this.freeIntermediateSplatData&&this.splatMesh.freeIntermediateSplatData(),f}}());un(this,"shouldRender",function(){let e=0;const t=new tt,r=new ji,i=1e-4;return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return!1;let a=!1,s=!1;if(this.camera){const o=this.camera.position,l=this.camera.quaternion;s=Math.abs(o.x-t.x)>i||Math.abs(o.y-t.y)>i||Math.abs(o.z-t.z)>i||Math.abs(l.x-r.x)>i||Math.abs(l.y-r.y)>i||Math.abs(l.z-r.z)>i||Math.abs(l.w-r.w)>i}return a=this.renderMode!==c5.Never&&(e===0||this.splatMesh.visibleRegionChanging||s||this.renderMode===c5.Always||this.dynamicMode===!0||this.renderNextFrame),this.camera&&(t.copy(this.camera.position),r.copy(this.camera.quaternion)),e++,a}}());un(this,"render",function(){return function(){if(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())return;const e=r=>{for(let i of r.children)if(i.visible)return!0;return!1},t=this.renderer.autoClear;e(this.threeScene)&&(this.renderer.render(this.threeScene,this.camera),this.renderer.autoClear=!1),this.renderer.render(this.splatMesh,this.camera),this.renderer.autoClear=!1,this.sceneHelper.getFocusMarkerOpacity()>0&&this.renderer.render(this.sceneHelper.focusMarker,this.camera),this.showControlPlane&&this.renderer.render(this.sceneHelper.controlPlane,this.camera),this.renderer.autoClear=t}}());un(this,"updateFPS",function(){let e=Q0(),t=0;return function(){if(this.consecutiveRenderFrames>Vdt){const r=Q0();r-e>=1?(this.currentFPS=t,t=0,e=r):t++}else this.currentFPS=null}}());un(this,"updateForRendererSizeChanges",function(){const e=new Vn,t=new Vn;let r;return function(){this.usingExternalCamera||(this.renderer.getSize(t),(r===void 0||r!==this.camera.isOrthographicCamera||t.x!==e.x||t.y!==e.y)&&(this.camera.isOrthographicCamera?(this.camera.left=-t.x/2,this.camera.right=t.x/2,this.camera.top=t.y/2,this.camera.bottom=-t.y/2):this.camera.aspect=t.x/t.y,this.camera.updateProjectionMatrix(),e.copy(t),r=this.camera.isOrthographicCamera))}}());un(this,"timingSensitiveUpdates",function(){let e;return function(){const t=Q0();e||(e=t);const r=t-e;this.updateCameraTransition(t),this.updateFocusMarker(r),e=t}}());un(this,"updateCameraTransition",function(){let e=new tt,t=new tt,r=new tt;return function(i){if(this.transitioningCameraTarget){t.copy(this.previousCameraTarget).sub(this.camera.position).normalize(),r.copy(this.nextCameraTarget).sub(this.camera.position).normalize();const a=Math.acos(t.dot(r)),o=(a/(Math.PI/3)*.65+.3)/a*(i-this.transitioningCameraTargetStartTime);e.copy(this.previousCameraTarget).lerp(this.nextCameraTarget,o),this.camera.lookAt(e),this.controls.target.copy(e),o>=1&&(this.transitioningCameraTarget=!1)}}}());un(this,"updateFocusMarker",function(){const e=new Vn;let t=!1;return function(r){if(this.getRenderDimensions(e),this.transitioningCameraTarget){this.sceneHelper.setFocusMarkerVisibility(!0);const i=Math.max(this.sceneHelper.getFocusMarkerOpacity(),0);let a=Math.min(i+Udt*r,1);this.sceneHelper.setFocusMarkerOpacity(a),this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e),t=!0,this.forceRenderNextFrame()}else{let i;if(t?i=1:i=Math.min(this.sceneHelper.getFocusMarkerOpacity(),1),i>0){this.sceneHelper.updateFocusMarker(this.nextCameraTarget,this.camera,e);let a=Math.max(i-Hdt*r,0);this.sceneHelper.setFocusMarkerOpacity(a),a===0&&this.sceneHelper.setFocusMarkerVisibility(!1)}i>0&&this.forceRenderNextFrame(),t=!1}}}());un(this,"updateMeshCursor",function(){const e=[],t=new Vn;return function(){this.showMeshCursor?(this.forceRenderNextFrame(),this.getRenderDimensions(t),e.length=0,this.raycaster.setFromCameraAndScreenPosition(this.camera,this.mousePosition,t),this.raycaster.intersectSplatMesh(this.splatMesh,e),e.length>0?(this.sceneHelper.setMeshCursorVisibility(!0),this.sceneHelper.positionAndOrientMeshCursor(e[0].origin,this.camera)):this.sceneHelper.setMeshCursorVisibility(!1)):(this.sceneHelper.getMeschCursorVisibility()&&this.forceRenderNextFrame(),this.sceneHelper.setMeshCursorVisibility(!1))}}());un(this,"updateInfoPanel",function(){const e=new Vn;return function(){if(!this.showInfo)return;const t=this.splatMesh.getSplatCount();this.getRenderDimensions(e);const r=this.controls?this.controls.target:null,i=this.showMeshCursor?this.sceneHelper.meshCursor.position:null,a=t>0?this.splatRenderCount/t*100:0;this.infoPanel.update(e,this.camera.position,r,this.camera.up,this.camera.isOrthographicCamera,i,this.currentFPS||"N/A",t,this.splatRenderCount,a,this.lastSortTime,this.focalAdjustment,this.splatMesh.getSplatScale(),this.splatMesh.getPointCloudModeEnabled())}}());un(this,"runSplatSort",function(){const e=new ur,t=[],r=new tt(0,0,-1),i=new tt(0,0,-1),a=new tt,s=new tt,o=[],l=[{angleThreshold:.55,sortFractions:[.125,.33333,.75]},{angleThreshold:.65,sortFractions:[.33333,.66667]},{angleThreshold:.8,sortFractions:[.5]}];return function(c=!1,u=!1){if(!this.initialized)return Promise.resolve(!1);if(this.sortRunning)return Promise.resolve(!0);if(this.splatMesh.getSplatCount()<=0)return this.splatRenderCount=0,Promise.resolve(!1);let d=0,f=0,h=!1,p=!1;if(i.set(0,0,-1).applyQuaternion(this.camera.quaternion),d=i.dot(r),f=s.copy(this.camera.position).sub(a).length(),!c&&!this.splatMesh.dynamicMode&&o.length===0&&(d<=.99&&(h=!0),f>=1&&(p=!0),!h&&!p))return Promise.resolve(!1);this.sortRunning=!0;let{splatRenderCount:m,shouldSortAll:v}=this.gatherSceneNodesForSort();v=v||u,this.splatRenderCount=m,e.copy(this.camera.matrixWorld).invert();const g=this.perspectiveCamera||this.camera;e.premultiply(g.projectionMatrix),this.splatMesh.dynamicMode||e.multiply(this.splatMesh.matrixWorld);let y=Promise.resolve(!0);return this.gpuAcceleratedSort&&(o.length<=1||o.length%2===0)&&(y=this.splatMesh.computeDistancesOnGPU(e,this.sortWorkerPrecomputedDistances)),y.then(()=>{if(o.length===0)if(this.splatMesh.dynamicMode||v)o.push(this.splatRenderCount);else{for(let x of l)if(d<x.angleThreshold){for(let S of x.sortFractions)o.push(Math.floor(this.splatRenderCount*S));break}o.push(this.splatRenderCount)}let b=Math.min(o.shift(),this.splatRenderCount);this.splatSortCount=b,t[0]=this.camera.position.x,t[1]=this.camera.position.y,t[2]=this.camera.position.z;const _={modelViewProj:e.elements,cameraPosition:t,splatRenderCount:this.splatRenderCount,splatSortCount:b,usePrecomputedDistances:this.gpuAcceleratedSort};return this.splatMesh.dynamicMode&&this.splatMesh.fillTransformsArray(this.sortWorkerTransforms),this.sharedMemoryForWorkers||(_.indexesToSort=this.sortWorkerIndexesToSort,_.transforms=this.sortWorkerTransforms,this.gpuAcceleratedSort&&(_.precomputedDistances=this.sortWorkerPrecomputedDistances)),this.sortPromise=new Promise(x=>{this.sortPromiseResolver=x}),this.preSortMessages.length>0&&(this.preSortMessages.forEach(x=>{this.sortWorker.postMessage(x)}),this.preSortMessages=[]),this.sortWorker.postMessage({sort:_}),o.length===0&&(a.copy(this.camera.position),r.copy(i)),!0}),y}}());un(this,"gatherSceneNodesForSort",function(){const e=[];let t=null;const r=new tt,i=new tt,a=new tt,s=new ur,o=new ur,l=new ur,c=new tt,u=new tt(0,0,-1),d=new tt,f=h=>d.copy(h.max).sub(h.min).length();return function(h=!1){this.getRenderDimensions(c);const p=c.y/2/Math.tan(this.camera.fov/2*lae.DEG2RAD),m=Math.atan(c.x/2/p),v=Math.atan(c.y/2/p),g=Math.cos(m),y=Math.cos(v),b=this.splatMesh.getSplatTree();if(b){o.copy(this.camera.matrixWorld).invert(),this.splatMesh.dynamicMode||o.multiply(this.splatMesh.matrixWorld);let _=0,x=0;for(let T=0;T<b.subTrees.length;T++){const C=b.subTrees[T];s.copy(o),this.splatMesh.dynamicMode&&(this.splatMesh.getSceneTransform(T,l),s.multiply(l));const M=C.nodesWithIndexes.length;for(let A=0;A<M;A++){const I=C.nodesWithIndexes[A];if(!I.data||!I.data.indexes||I.data.indexes.length===0)continue;a.copy(I.center).applyMatrix4(s);const D=a.length();a.normalize(),r.copy(a).setX(0).normalize(),i.copy(a).setY(0).normalize();const L=u.dot(i),F=u.dot(r),B=f(I),k=F<y-.6,H=L<g-.6;!h&&(H||k)&&D>B||(x+=I.data.indexes.length,e[_]=I,I.data.distanceToNode=D,_++)}}e.length=_,e.sort((T,C)=>T.data.distanceToNode<C.data.distanceToNode?-1:1);let S=x*zr.BytesPerInt;for(let T=0;T<_;T++){const C=e[T],M=C.data.indexes.length,A=M*zr.BytesPerInt;new Uint32Array(this.sortWorkerIndexesToSort.buffer,S-A,M).set(C.data.indexes),S-=A}return{splatRenderCount:x,shouldSortAll:!1}}else{const _=this.splatMesh.getSplatCount();if(!t||t.length!==_){t=new Uint32Array(_);for(let x=0;x<_;x++)t[x]=x}return this.sortWorkerIndexesToSort.set(t),{splatRenderCount:_,shouldSortAll:!0}}}}());if(e.cameraUp||(e.cameraUp=[0,1,0]),this.cameraUp=new tt().fromArray(e.cameraUp),e.initialCameraPosition||(e.initialCameraPosition=[0,10,15]),this.initialCameraPosition=new tt().fromArray(e.initialCameraPosition),e.initialCameraLookAt||(e.initialCameraLookAt=[0,0,0]),this.initialCameraLookAt=new tt().fromArray(e.initialCameraLookAt),this.dropInMode=e.dropInMode||!1,(e.selfDrivenMode===void 0||e.selfDrivenMode===null)&&(e.selfDrivenMode=!0),this.selfDrivenMode=e.selfDrivenMode&&!this.dropInMode,this.selfDrivenUpdateFunc=this.selfDrivenUpdate.bind(this),e.useBuiltInControls===void 0&&(e.useBuiltInControls=!0),this.useBuiltInControls=e.useBuiltInControls,this.rootElement=e.rootElement,this.ignoreDevicePixelRatio=e.ignoreDevicePixelRatio||!1,this.devicePixelRatio=this.ignoreDevicePixelRatio?1:window.devicePixelRatio||1,this.halfPrecisionCovariancesOnGPU=e.halfPrecisionCovariancesOnGPU||!1,this.threeScene=e.threeScene,this.renderer=e.renderer,this.camera=e.camera,this.gpuAcceleratedSort=e.gpuAcceleratedSort||!1,(e.integerBasedSort===void 0||e.integerBasedSort===null)&&(e.integerBasedSort=!0),this.integerBasedSort=e.integerBasedSort,(e.sharedMemoryForWorkers===void 0||e.sharedMemoryForWorkers===null)&&(e.sharedMemoryForWorkers=!0),this.sharedMemoryForWorkers=e.sharedMemoryForWorkers,this.dynamicScene=!!e.dynamicScene,this.antialiased=e.antialiased||!1,this.kernel2DSize=e.kernel2DSize===void 0?.3:e.kernel2DSize,this.webXRMode=e.webXRMode||tv.None,this.webXRMode!==tv.None&&(this.gpuAcceleratedSort=!1),this.webXRActive=!1,this.webXRSessionInit=e.webXRSessionInit||{},this.renderMode=e.renderMode||c5.Always,this.sceneRevealMode=e.sceneRevealMode||Tb.Default,this.focalAdjustment=e.focalAdjustment||1,this.maxScreenSpaceSplatSize=e.maxScreenSpaceSplatSize||1024,this.logLevel=e.logLevel||Jv.None,this.sphericalHarmonicsDegree=e.sphericalHarmonicsDegree||0,this.enableOptionalEffects=e.enableOptionalEffects||!1,(e.enableSIMDInSort===void 0||e.enableSIMDInSort===null)&&(e.enableSIMDInSort=!0),this.enableSIMDInSort=e.enableSIMDInSort,(e.inMemoryCompressionLevel===void 0||e.inMemoryCompressionLevel===null)&&(e.inMemoryCompressionLevel=0),this.inMemoryCompressionLevel=e.inMemoryCompressionLevel,(e.optimizeSplatData===void 0||e.optimizeSplatData===null)&&(e.optimizeSplatData=!0),this.optimizeSplatData=e.optimizeSplatData,(e.freeIntermediateSplatData===void 0||e.freeIntermediateSplatData===null)&&(e.freeIntermediateSplatData=!1),this.freeIntermediateSplatData=e.freeIntermediateSplatData,NN()){const r=Aae();r.major<17&&(this.enableSIMDInSort=!1),r.major<16&&(this.sharedMemoryForWorkers=!1)}(e.splatRenderMode===void 0||e.splatRenderMode===null)&&(e.splatRenderMode=ed.ThreeD),this.splatRenderMode=e.splatRenderMode,this.sceneFadeInRateMultiplier=e.sceneFadeInRateMultiplier||1,this.splatSortDistanceMapPrecision=e.splatSortDistanceMapPrecision||zr.DefaultSplatSortDistanceMapPrecision;const t=this.integerBasedSort?20:24;this.splatSortDistanceMapPrecision=ts(this.splatSortDistanceMapPrecision,10,t),this.onSplatMeshChangedCallback=null,this.createSplatMesh(),this.controls=null,this.perspectiveControls=null,this.orthographicControls=null,this.orthographicCamera=null,this.perspectiveCamera=null,this.showMeshCursor=!1,this.showControlPlane=!1,this.showInfo=!1,this.sceneHelper=null,this.sortWorker=null,this.sortRunning=!1,this.splatRenderCount=0,this.splatSortCount=0,this.lastSplatSortCount=0,this.sortWorkerIndexesToSort=null,this.sortWorkerSortedIndexes=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.preSortMessages=[],this.runAfterNextSort=[],this.selfDrivenModeRunning=!1,this.splatRenderReady=!1,this.raycaster=new pdt,this.infoPanel=null,this.startInOrthographicMode=!1,this.currentFPS=0,this.lastSortTime=0,this.consecutiveRenderFrames=0,this.previousCameraTarget=new tt,this.nextCameraTarget=new tt,this.mousePosition=new Vn,this.mouseDownPosition=new Vn,this.mouseDownTime=null,this.resizeObserver=null,this.mouseMoveListener=null,this.mouseDownListener=null,this.mouseUpListener=null,this.keyDownListener=null,this.sortPromise=null,this.sortPromiseResolver=null,this.splatSceneDownloadPromises={},this.splatSceneDownloadAndBuildPromise=null,this.splatSceneRemovalPromise=null,this.loadingSpinner=new ok(null,this.rootElement||document.body),this.loadingSpinner.hide(),this.loadingProgressBar=new ldt(this.rootElement||document.body),this.loadingProgressBar.hide(),this.infoPanel=new cdt(this.rootElement||document.body),this.infoPanel.hide(),this.usingExternalCamera=!!(this.dropInMode||this.camera),this.usingExternalRenderer=!!(this.dropInMode||this.renderer),this.initialized=!1,this.disposing=!1,this.disposed=!1,this.disposePromise=null,this.dropInMode||this.init()}createSplatMesh(){this.splatMesh=new Ya(this.splatRenderMode,this.dynamicScene,this.enableOptionalEffects,this.halfPrecisionCovariancesOnGPU,this.devicePixelRatio,this.gpuAcceleratedSort,this.integerBasedSort,this.antialiased,this.maxScreenSpaceSplatSize,this.logLevel,this.sphericalHarmonicsDegree,this.sceneFadeInRateMultiplier,this.kernel2DSize),this.splatMesh.frustumCulled=!1,this.onSplatMeshChangedCallback&&this.onSplatMeshChangedCallback()}init(){this.initialized||(this.rootElement||(this.usingExternalRenderer?this.rootElement=this.renderer.domElement||document.body:(this.rootElement=document.createElement("div"),this.rootElement.style.width="100%",this.rootElement.style.height="100%",this.rootElement.style.position="absolute",document.body.appendChild(this.rootElement))),this.setupCamera(),this.setupRenderer(),this.setupWebXR(this.webXRSessionInit),this.setupControls(),this.setupEventHandlers(),this.threeScene=this.threeScene||new Rat,this.sceneHelper=new Cb(this.threeScene),this.sceneHelper.setupMeshCursor(),this.sceneHelper.setupFocusMarker(),this.sceneHelper.setupControlPlane(),this.loadingProgressBar.setContainer(this.rootElement),this.loadingSpinner.setContainer(this.rootElement),this.infoPanel.setContainer(this.rootElement),this.initialized=!0)}setupCamera(){if(!this.usingExternalCamera){const e=new Vn;this.getRenderDimensions(e),this.perspectiveCamera=new ml(Bdt,e.x/e.y,.1,1e3),this.orthographicCamera=new PN(e.x/-2,e.x/2,e.y/2,e.y/-2,.1,1e3),this.camera=this.startInOrthographicMode?this.orthographicCamera:this.perspectiveCamera,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt)}}setupRenderer(){if(!this.usingExternalRenderer){const e=new Vn;this.getRenderDimensions(e),this.renderer=new but({antialias:!1,precision:"highp"}),this.renderer.setPixelRatio(this.devicePixelRatio),this.renderer.autoClear=!0,this.renderer.setClearColor(new ni(0),0),this.renderer.setSize(e.x,e.y),this.resizeObserver=new ResizeObserver(()=>{this.getRenderDimensions(e),this.renderer.setSize(e.x,e.y),this.forceRenderNextFrame()}),this.resizeObserver.observe(this.rootElement),this.rootElement.appendChild(this.renderer.domElement)}}setupWebXR(e){this.webXRMode&&(this.webXRMode===tv.VR?this.rootElement.appendChild(Vg.createButton(this.renderer,e)):this.webXRMode===tv.AR&&this.rootElement.appendChild(Odt.createButton(this.renderer,e)),this.renderer.xr.addEventListener("sessionstart",t=>{this.webXRActive=!0}),this.renderer.xr.addEventListener("sessionend",t=>{this.webXRActive=!1}),this.renderer.xr.enabled=!0,this.camera.position.copy(this.initialCameraPosition),this.camera.up.copy(this.cameraUp).normalize(),this.camera.lookAt(this.initialCameraLookAt))}setupControls(){if(this.useBuiltInControls&&this.webXRMode===tv.None){this.usingExternalCamera?this.camera.isOrthographicCamera?this.orthographicControls=new m2(this.camera,this.renderer.domElement):this.perspectiveControls=new m2(this.camera,this.renderer.domElement):(this.perspectiveControls=new m2(this.perspectiveCamera,this.renderer.domElement),this.orthographicControls=new m2(this.orthographicCamera,this.renderer.domElement));for(let e of[this.orthographicControls,this.perspectiveControls])e&&(e.listenToKeyEvents(window),e.rotateSpeed=.5,e.maxPolarAngle=Math.PI*.75,e.minPolarAngle=.1,e.enableDamping=!0,e.dampingFactor=.05,e.target.copy(this.initialCameraLookAt),e.update());this.controls=this.camera.isOrthographicCamera?this.orthographicControls:this.perspectiveControls,this.controls.update()}}setupEventHandlers(){this.useBuiltInControls&&this.webXRMode===tv.None&&(this.mouseMoveListener=this.onMouseMove.bind(this),this.renderer.domElement.addEventListener("pointermove",this.mouseMoveListener,!1),this.mouseDownListener=this.onMouseDown.bind(this),this.renderer.domElement.addEventListener("pointerdown",this.mouseDownListener,!1),this.mouseUpListener=this.onMouseUp.bind(this),this.renderer.domElement.addEventListener("pointerup",this.mouseUpListener,!1),this.keyDownListener=this.onKeyDown.bind(this),window.addEventListener("keydown",this.keyDownListener,!1))}removeEventHandlers(){this.useBuiltInControls&&(this.renderer.domElement.removeEventListener("pointermove",this.mouseMoveListener),this.mouseMoveListener=null,this.renderer.domElement.removeEventListener("pointerdown",this.mouseDownListener),this.mouseDownListener=null,this.renderer.domElement.removeEventListener("pointerup",this.mouseUpListener),this.mouseUpListener=null,window.removeEventListener("keydown",this.keyDownListener),this.keyDownListener=null)}setRenderMode(e){this.renderMode=e}setActiveSphericalHarmonicsDegrees(e){this.splatMesh.material.uniforms.sphericalHarmonicsDegree.value=e,this.splatMesh.material.uniformsNeedUpdate=!0}onSplatMeshChanged(e){this.onSplatMeshChangedCallback=e}onMouseMove(e){this.mousePosition.set(e.offsetX,e.offsetY)}onMouseDown(){this.mouseDownPosition.copy(this.mousePosition),this.mouseDownTime=Q0()}onMouseClick(e){this.mousePosition.set(e.offsetX,e.offsetY),this.checkForFocalPointChange()}getRenderDimensions(e){this.rootElement?(e.x=this.rootElement.offsetWidth,e.y=this.rootElement.offsetHeight):this.renderer.getSize(e)}setOrthographicMode(e){if(e===this.camera.isOrthographicCamera)return;const t=this.camera,r=e?this.orthographicCamera:this.perspectiveCamera;if(r.position.copy(t.position),r.up.copy(t.up),r.rotation.copy(t.rotation),r.quaternion.copy(t.quaternion),r.matrix.copy(t.matrix),this.camera=r,this.controls){const i=o=>{o.saveState(),o.reset()},a=this.controls,s=e?this.orthographicControls:this.perspectiveControls;i(s),i(a),s.target.copy(a.target),e?Cf.setCameraZoomFromPosition(r,t,a):Cf.setCameraPositionFromZoom(r,t,s),this.controls=s,this.camera.lookAt(this.controls.target)}}adjustForWebXRStereo(e){if(this.camera&&this.webXRActive){const r=this.renderer.xr.getCamera().projectionMatrix.elements[0],i=this.camera.projectionMatrix.elements[0];e.x*=i/r}}isLoadingOrUnloading(){return Object.keys(this.splatSceneDownloadPromises).length>0||this.splatSceneDownloadAndBuildPromise!==null||this.splatSceneRemovalPromise!==null}isDisposingOrDisposed(){return this.disposing||this.disposed}addSplatSceneDownloadPromise(e){this.splatSceneDownloadPromises[e.id]=e}removeSplatSceneDownloadPromise(e){delete this.splatSceneDownloadPromises[e.id]}setSplatSceneDownloadAndBuildPromise(e){this.splatSceneDownloadAndBuildPromise=e}clearSplatSceneDownloadAndBuildPromise(){this.splatSceneDownloadAndBuildPromise=null}addSplatScene(e,t={}){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");t.progressiveLoad&&this.splatMesh.scenes&&this.splatMesh.scenes.length>0&&(console.log('addSplatScene(): "progressiveLoad" option ignore because there are multiple splat scenes'),t.progressiveLoad=!1);const r=t.format!==void 0&&t.format!==null?t.format:oq(e),i=Cf.isProgressivelyLoadable(r)&&t.progressiveLoad,a=t.showLoadingUI!==void 0&&t.showLoadingUI!==null?t.showLoadingUI:!0;let s=null;a&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const o=()=>{this.loadingProgressBar.hide(),this.loadingSpinner.removeAllTasks()},l=(m,v,g)=>{if(a)if(g===xa.Downloading)if(m==100)this.loadingSpinner.setMessageForTask(s,"Download complete!");else if(i)this.loadingSpinner.setMessageForTask(s,"Downloading splats...");else{const y=v?`: ${v}`:"...";this.loadingSpinner.setMessageForTask(s,`Downloading${y}`)}else g===xa.Processing&&this.loadingSpinner.setMessageForTask(s,"Processing splats...")};let c=!1,u=0;const d=(m,v)=>{a&&((m&&i||v&&!i)&&(this.loadingSpinner.removeTask(s),!v&&!c&&this.loadingProgressBar.show()),i&&(v?(c=!0,this.loadingProgressBar.hide()):this.loadingProgressBar.setProgress(u)))},f=(m,v,g)=>{u=m,l(m,v,g),t.onProgress&&t.onProgress(m,v,g)},h=(m,v,g)=>{!i&&t.onProgress&&t.onProgress(0,"0%",xa.Processing);const y={rotation:t.rotation||t.orientation,position:t.position,scale:t.scale,splatAlphaRemovalThreshold:t.splatAlphaRemovalThreshold};return this.addSplatBuffers([m],[y],g,v&&a,a,i,i).then(()=>{!i&&t.onProgress&&t.onProgress(100,"100%",xa.Processing),d(v,g)})};return(i?this.downloadAndBuildSingleSplatSceneProgressiveLoad.bind(this):this.downloadAndBuildSingleSplatSceneStandardLoad.bind(this))(e,r,t.splatAlphaRemovalThreshold,h.bind(this),f,o.bind(this),t.headers)}downloadAndBuildSingleSplatSceneStandardLoad(e,t,r,i,a,s,o){const l=this.downloadSplatSceneToSplatBuffer(e,r,a,!1,void 0,t,o),c=t5(l.abortHandler);return l.then(u=>(this.removeSplatSceneDownloadPromise(l),i(u,!0,!0).then(()=>{c.resolve(),this.clearSplatSceneDownloadAndBuildPromise()}))).catch(u=>{s&&s(),this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(l);const d=u instanceof vC?u:new Error(`Viewer::addSplatScene -> Could not load file ${e}`);c.reject(d)}),this.addSplatSceneDownloadPromise(l),this.setSplatSceneDownloadAndBuildPromise(c.promise),c.promise}downloadAndBuildSingleSplatSceneProgressiveLoad(e,t,r,i,a,s,o){let l=0,c=!1;const u=[],d=()=>{if(u.length>0&&!c&&!this.isDisposingOrDisposed()){c=!0;const v=u.shift();i(v.splatBuffer,v.firstBuild,v.finalBuild).then(()=>{c=!1,v.firstBuild?p.resolve():v.finalBuild&&(m.resolve(),this.clearSplatSceneDownloadAndBuildPromise()),u.length>0&&mc(()=>d())})}},f=(v,g)=>{this.isDisposingOrDisposed()||(g||u.length===0||v.getSplatCount()>u[0].splatBuffer.getSplatCount())&&(u.push({splatBuffer:v,firstBuild:l===0,finalBuild:g}),l++,d())},h=this.downloadSplatSceneToSplatBuffer(e,r,a,!0,f,t,o),p=t5(h.abortHandler),m=t5();return this.addSplatSceneDownloadPromise(h),this.setSplatSceneDownloadAndBuildPromise(m.promise),h.then(()=>{this.removeSplatSceneDownloadPromise(h)}).catch(v=>{this.clearSplatSceneDownloadAndBuildPromise(),this.removeSplatSceneDownloadPromise(h);const g=v instanceof vC?v:new Error("Viewer::addSplatScene -> Could not load one or more scenes");p.reject(g),s&&s(g)}),p.promise}addSplatScenes(e,t=!0,r=void 0){if(this.isLoadingOrUnloading())throw new Error("Cannot add splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot add splat scene after dispose() is called.");const i=e.length,a=[];let s;t&&(this.loadingSpinner.removeAllTasks(),s=this.loadingSpinner.addTask("Downloading..."));const o=(d,f,h,p)=>{a[d]=f;let m=0;for(let v=0;v<i;v++)m+=a[v]||0;m=m/i,h=`${m.toFixed(2)}%`,t&&p===xa.Downloading&&this.loadingSpinner.setMessageForTask(s,m==100?"Download complete!":`Downloading: ${h}`),r&&r(m,h,p)},l=[],c=[];for(let d=0;d<e.length;d++){const f=e[d],h=f.format!==void 0&&f.format!==null?f.format:oq(f.path),p=this.downloadSplatSceneToSplatBuffer(f.path,f.splatAlphaRemovalThreshold,o.bind(this,d),!1,void 0,h,f.headers);l.push(p),c.push(p.promise)}const u=new G_((d,f)=>{Promise.all(c).then(h=>{t&&this.loadingSpinner.removeTask(s),r&&r(0,"0%",xa.Processing),this.addSplatBuffers(h,e,!0,t,t,!1,!1).then(()=>{r&&r(100,"100%",xa.Processing),this.clearSplatSceneDownloadAndBuildPromise(),d()})}).catch(h=>{t&&this.loadingSpinner.removeTask(s),this.clearSplatSceneDownloadAndBuildPromise();const p=h instanceof vC?h:new Error("Viewer::addSplatScenes -> Could not load one or more splat scenes.");f(p)}).finally(()=>{this.removeSplatSceneDownloadPromise(u)})},d=>{for(let f of l)f.abort(d)});return this.addSplatSceneDownloadPromise(u),this.setSplatSceneDownloadAndBuildPromise(u),u}downloadSplatSceneToSplatBuffer(e,t=1,r=void 0,i=!1,a=void 0,s,o){const l=i?!1:this.optimizeSplatData;try{if(s===Ju.Splat)return KN.loadFromURL(e,r,i,a,t,this.inMemoryCompressionLevel,l,o);if(s===Ju.KSplat)return sk.loadFromURL(e,r,i,a,o);if(s===Ju.Ply)return qN.loadFromURL(e,r,i,a,t,this.inMemoryCompressionLevel,l,this.sphericalHarmonicsDegree,o)}catch(c){throw c instanceof WN?new Error("File type or server does not support progressive loading."):c}throw new Error(`Viewer::downloadSplatSceneToSplatBuffer -> File format not supported: ${e}`)}static isProgressivelyLoadable(e){return e===Ju.Splat||e===Ju.KSplat||e===Ju.Ply}setupSortWorker(e){if(!this.isDisposingOrDisposed())return new Promise(t=>{const r=this.integerBasedSort?Int32Array:Float32Array,i=e.getSplatCount(),a=e.getMaxSplatCount();this.sortWorker=Ndt(a,this.sharedMemoryForWorkers,this.enableSIMDInSort,this.integerBasedSort,this.splatMesh.dynamicMode,this.splatSortDistanceMapPrecision),this.sortWorker.onmessage=s=>{if(s.data.sortDone){if(this.sortRunning=!1,this.sharedMemoryForWorkers)this.splatMesh.updateRenderIndexes(this.sortWorkerSortedIndexes,s.data.splatRenderCount);else{const o=new Uint32Array(s.data.sortedIndexes.buffer,0,s.data.splatRenderCount);this.splatMesh.updateRenderIndexes(o,s.data.splatRenderCount)}this.lastSplatSortCount=this.splatSortCount,this.lastSortTime=s.data.sortTime,this.sortPromiseResolver(),this.sortPromiseResolver=null,this.forceRenderNextFrame(),this.runAfterNextSort.length>0&&(this.runAfterNextSort.forEach(o=>{o()}),this.runAfterNextSort.length=0)}else if(s.data.sortCanceled)this.sortRunning=!1;else if(s.data.sortSetupPhase1Complete){this.logLevel>=Jv.Info&&console.log("Sorting web worker WASM setup complete."),this.sharedMemoryForWorkers?(this.sortWorkerSortedIndexes=new Uint32Array(s.data.sortedIndexesBuffer,s.data.sortedIndexesOffset,a),this.sortWorkerIndexesToSort=new Uint32Array(s.data.indexesToSortBuffer,s.data.indexesToSortOffset,a),this.sortWorkerPrecomputedDistances=new r(s.data.precomputedDistancesBuffer,s.data.precomputedDistancesOffset,a),this.sortWorkerTransforms=new Float32Array(s.data.transformsBuffer,s.data.transformsOffset,zr.MaxScenes*16)):(this.sortWorkerIndexesToSort=new Uint32Array(a),this.sortWorkerPrecomputedDistances=new r(a),this.sortWorkerTransforms=new Float32Array(zr.MaxScenes*16));for(let o=0;o<i;o++)this.sortWorkerIndexesToSort[o]=o;if(this.sortWorker.maxSplatCount=a,this.logLevel>=Jv.Info){console.log("Sorting web worker ready.");const o=this.splatMesh.getSplatDataTextures(),l=o.covariances.size,c=o.centerColors.size;console.log("Covariances texture size: "+l.x+" x "+l.y),console.log("Centers/colors texture size: "+c.x+" x "+c.y)}t()}}})}disposeSortWorker(){this.sortWorker&&this.sortWorker.terminate(),this.sortWorker=null,this.sortPromise=null,this.sortPromiseResolver&&(this.sortPromiseResolver(),this.sortPromiseResolver=null),this.preSortMessages=[],this.sortRunning=!1}removeSplatScene(e,t=!0){return this.removeSplatScenes([e],t)}removeSplatScenes(e,t=!0){if(this.isLoadingOrUnloading())throw new Error("Cannot remove splat scene while another load or unload is already in progress.");if(this.isDisposingOrDisposed())throw new Error("Cannot remove splat scene after dispose() is called.");let r;return this.splatSceneRemovalPromise=new Promise((i,a)=>{let s;t&&(this.loadingSpinner.removeAllTasks(),this.loadingSpinner.show(),s=this.loadingSpinner.addTask("Removing splat scene..."));const o=()=>{t&&(this.loadingSpinner.hide(),this.loadingSpinner.removeTask(s))},l=u=>{o(),this.splatSceneRemovalPromise=null,u?a(u):i()},c=()=>this.isDisposingOrDisposed()?(l(),!0):!1;r=this.sortPromise||Promise.resolve(),r.then(()=>{if(c())return;const u=[],d=[],f=[];for(let h=0;h<this.splatMesh.scenes.length;h++){let p=!1;for(let m of e)if(m===h){p=!0;break}if(!p){const m=this.splatMesh.scenes[h];u.push(m.splatBuffer),d.push(this.splatMesh.sceneOptions[h]),f.push({position:m.position.clone(),quaternion:m.quaternion.clone(),scale:m.scale.clone()})}}this.disposeSortWorker(),this.splatMesh.dispose(),this.sceneRevealMode=Tb.Instant,this.createSplatMesh(),this.addSplatBuffers(u,d,!0,!1,!0).then(()=>{c()||(o(),this.splatMesh.scenes.forEach((h,p)=>{h.position.copy(f[p].position),h.quaternion.copy(f[p].quaternion),h.scale.copy(f[p].scale)}),this.splatMesh.updateTransforms(),this.splatRenderReady=!1,this.runSplatSort(!0).then(()=>{if(c()){this.splatRenderReady=!0;return}r=this.sortPromise||Promise.resolve(),r.then(()=>{this.splatRenderReady=!0,l()})}))}).catch(h=>{l(h)})})}),this.splatSceneRemovalPromise}start(){if(this.selfDrivenMode)this.webXRMode?this.renderer.setAnimationLoop(this.selfDrivenUpdateFunc):this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc),this.selfDrivenModeRunning=!0;else throw new Error("Cannot start viewer unless it is in self driven mode.")}stop(){this.selfDrivenMode&&this.selfDrivenModeRunning&&(this.webXRMode?this.renderer.setAnimationLoop(null):cancelAnimationFrame(this.requestFrameId),this.selfDrivenModeRunning=!1)}async dispose(){if(this.isDisposingOrDisposed())return this.disposePromise;let e=[],t=[];for(let r in this.splatSceneDownloadPromises)if(this.splatSceneDownloadPromises.hasOwnProperty(r)){const i=this.splatSceneDownloadPromises[r];t.push(i),e.push(i.promise)}return this.sortPromise&&e.push(this.sortPromise),this.disposing=!0,this.disposePromise=Promise.all(e).finally(()=>{this.stop(),this.orthographicControls&&(this.orthographicControls.dispose(),this.orthographicControls=null),this.perspectiveControls&&(this.perspectiveControls.dispose(),this.perspectiveControls=null),this.controls=null,this.splatMesh&&(this.splatMesh.dispose(),this.splatMesh=null),this.sceneHelper&&(this.sceneHelper.dispose(),this.sceneHelper=null),this.resizeObserver&&(this.resizeObserver.unobserve(this.rootElement),this.resizeObserver=null),this.disposeSortWorker(),this.removeEventHandlers(),this.loadingSpinner.removeAllTasks(),this.loadingSpinner.setContainer(null),this.loadingProgressBar.hide(),this.loadingProgressBar.setContainer(null),this.infoPanel.setContainer(null),this.camera=null,this.threeScene=null,this.splatRenderReady=!1,this.initialized=!1,this.renderer&&(this.usingExternalRenderer||(this.rootElement.removeChild(this.renderer.domElement),this.renderer.dispose()),this.renderer=null),this.usingExternalRenderer||document.body.removeChild(this.rootElement),this.sortWorkerSortedIndexes=null,this.sortWorkerIndexesToSort=null,this.sortWorkerPrecomputedDistances=null,this.sortWorkerTransforms=null,this.disposed=!0,this.disposing=!1,this.disposePromise=null}),t.forEach(r=>{r.abort("Scene disposed")}),this.disposePromise}selfDrivenUpdate(){this.selfDrivenMode&&!this.webXRMode&&(this.requestFrameId=requestAnimationFrame(this.selfDrivenUpdateFunc)),this.update(),this.shouldRender()?(this.render(),this.consecutiveRenderFrames++):this.consecutiveRenderFrames=0,this.renderNextFrame=!1}forceRenderNextFrame(){this.renderNextFrame=!0}update(e,t){this.dropInMode&&this.updateForDropInMode(e,t),!(!this.initialized||!this.splatRenderReady||this.isDisposingOrDisposed())&&(this.controls&&(this.controls.update(),this.camera.isOrthographicCamera&&!this.usingExternalCamera&&Cf.setCameraPositionFromZoom(this.camera,this.camera,this.controls)),this.runSplatSort(),this.updateForRendererSizeChanges(),this.updateSplatMesh(),this.updateMeshCursor(),this.updateFPS(),this.timingSensitiveUpdates(),this.updateInfoPanel(),this.updateControlPlane())}updateForDropInMode(e,t){this.renderer=e,this.splatMesh&&this.splatMesh.setRenderer(this.renderer),this.camera=t,this.controls&&(this.controls.object=t),this.init()}updateControlPlane(){this.showControlPlane?(this.sceneHelper.setControlPlaneVisibility(!0),this.sceneHelper.positionAndOrientControlPlane(this.controls.target,this.camera.up)):this.sceneHelper.setControlPlaneVisibility(!1)}getSplatMesh(){return this.splatMesh}getSplatScene(e){return this.splatMesh.getScene(e)}getSceneCount(){return this.splatMesh.getSceneCount()}isMobile(){return navigator.userAgent.includes("Mobi")}};un(Cf,"setCameraPositionFromZoom",function(){const e=new tt;return function(t,r,i){const a=1/(r.zoom*.001);e.copy(i.target).sub(t.position).normalize().multiplyScalar(a).negate(),t.position.copy(i.target).add(e)}}()),un(Cf,"setCameraZoomFromPosition",function(){const e=new tt;return function(t,r,i){const a=e.copy(i.target).sub(r.position).length();t.zoom=1/(a*.001)}}());let ck=Cf;const $dt=ve("h1",{class:"section-title"},"3DGS Model",-1),Gdt=ve("p",null,[dn(" Thanks to "),ve("a",{href:"https://github.com/mkkellogg/GaussianSplats3D",target:"_blank"},"GaussianSplats3D"),dn(", we can visualize 3DGS models here. ")],-1),Wdt=ve("div",{id:"gs",class:"gs-container"},null,-1),qdt=Re({__name:"GaussianSplats3D",setup(n){return pn(()=>{const e=document.getElementById("gs");if(e){const t=new ck({rootElement:e,cameraUp:[0,-1,0],initialCameraPosition:[-2.13,-.5,-4.63],initialCameraLookAt:[-.08,.89,-1.36],sharedMemoryForWorkers:!1});t.addSplatScene("./3dgs/cotton-mirror.splat",{splatAlphaRemovalThreshold:5,showLoadingUI:!0,position:[0,1,-1],rotation:[0,0,0,1],scale:[.18,.18,.18]}).then(()=>{t.start(),t.perspectiveControls.stopListenToKeyEvents(),t.orthographicControls.stopListenToKeyEvents()})}}),(e,t)=>{const r=Et("el-divider"),i=Et("el-row"),a=Et("el-col");return V(),he("div",null,[ue(r),ue(i,{justify:"center"},{default:be(()=>[$dt]),_:1}),ue(i,{justify:"center"},{default:be(()=>[ue(a,{xs:24,sm:20,md:16,lg:12,xl:12},{default:be(()=>[Gdt,ue(a,{xs:16,sm:21,style:{margin:"0px auto"}},{default:be(()=>[Wdt]),_:1})]),_:1})]),_:1})])}}}),Kdt={components:{Title:YLe,Introduction:jLe,Statistic:YGe,Examples:lWe,Markdown:uWe,BibTeX:gWe,Carousel:Kqe,Video:tKe,ImageSlider:yKe,ImageSliderInner:EKe,ImageSelector:kKe,Echart:FKe,Collapse:jKe,Table:VKe,SeletionForComparison:oYe,Comment:fYe,Latex:wYe,Model3D:jrt,GaussianSplats3D:qdt}};function Ydt(n,e,t,r,i,a){const s=Et("Title"),o=Et("Carousel"),l=Et("Introduction"),c=Et("Statistic"),u=Et("Examples"),d=Et("BibTeX");return V(),he(zt,null,[ue(s),ue(o),ue(l),ue(c),ue(u),ue(d)],64)}const Xdt=Ga(Kdt,[["render",Ydt]]),jdt=n=>(xc("data-v-4685e5f7"),n=n(),Sc(),n),Zdt={class:"bg"},Qdt={class:"footer"},Jdt=["href"],eft=["href"],tft=["href"],nft=jdt(()=>ve("br",null,null,-1)),rft=["href"],ift=Re({__name:"Footer",setup(n){const e={Nerfies:"https://github.com/nerfies/nerfies.github.io",Vue:"https://cn.vuejs.org/",Vite:"https://cn.vitejs.dev/",ElementPlus:"https://element-plus.org/zh-CN/",template:"https://github.com/JunyaoHu/academic-project-page-template-vue"};return(t,r)=>{const i=Et("el-row"),a=Et("el-watermark");return V(),he("div",Zdt,[ue(a,{content:["News-M3C"],gap:["60","0"],"z-index":0},{default:be(()=>[ue(i,{justify:"center"},{default:be(()=>[ve("p",Qdt,[dn(" powered by "),ve("a",{href:e.Vue},"Vue",8,Jdt),dn(", "),ve("a",{href:e.Vite},"Vite",8,eft),dn(", and "),ve("a",{href:e.ElementPlus},"Element Plus",8,tft),dn("."),nft,dn(" inspired by "),ve("a",{href:e.template}," template ",8,rft),dn(" . ")])]),_:1})]),_:1})])}}}),aft=Ga(ift,[["__scopeId","data-v-4685e5f7"]]),sft={components:{Header:DLe,Main:Xdt,Footer:aft}};function oft(n,e,t,r,i,a){const s=Et("Header"),o=Et("el-header"),l=Et("Main"),c=Et("el-main"),u=Et("Footer"),d=Et("el-footer"),f=Et("el-container"),h=Et("el-backtop");return V(),he("div",null,[ue(f,null,{default:be(()=>[ue(o,null,{default:be(()=>[ue(s)]),_:1}),ue(c,null,{default:be(()=>[ue(l)]),_:1}),ue(d,null,{default:be(()=>[ue(u)]),_:1})]),_:1}),ue(h,{right:40,bottom:80})])}const lft=Ga(sft,[["render",oft]]),Nae=CK(lft);Nae.use(ILe);Nae.mount("#app")});export default cft();
